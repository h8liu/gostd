<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strconv</h2>
<ul>
<li><a href="/gostd/strconv/atob.go.html">atob.go</a></li>
<li><a href="/gostd/strconv/atob_test.go.html">atob_test.go</a></li>
<li><a href="/gostd/strconv/atof.go.html">atof.go</a></li>
<li><a href="/gostd/strconv/atof_test.go.html">atof_test.go</a></li>
<li><a href="/gostd/strconv/atoi.go.html" class="current">atoi.go</a></li>
<li><a href="/gostd/strconv/atoi_test.go.html">atoi_test.go</a></li>
<li><a href="/gostd/strconv/decimal.go.html">decimal.go</a></li>
<li><a href="/gostd/strconv/decimal_test.go.html">decimal_test.go</a></li>
<li><a href="/gostd/strconv/extfloat.go.html">extfloat.go</a></li>
<li><a href="/gostd/strconv/fp_test.go.html">fp_test.go</a></li>
<li><a href="/gostd/strconv/ftoa.go.html">ftoa.go</a></li>
<li><a href="/gostd/strconv/ftoa_test.go.html">ftoa_test.go</a></li>
<li><a href="/gostd/strconv/internal_test.go.html">internal_test.go</a></li>
<li><a href="/gostd/strconv/isprint.go.html">isprint.go</a></li>
<li><a href="/gostd/strconv/itoa.go.html">itoa.go</a></li>
<li><a href="/gostd/strconv/itoa_test.go.html">itoa_test.go</a></li>
<li><a href="/gostd/strconv/quote.go.html">quote.go</a></li>
<li><a href="/gostd/strconv/quote_example_test.go.html">quote_example_test.go</a></li>
<li><a href="/gostd/strconv/quote_test.go.html">quote_test.go</a></li>
<li><a href="/gostd/strconv/strconv_test.go.html">strconv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2097930">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2097985">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2098039">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2098090">package</span>&nbsp;<span class="ident" id="2098098">strconv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2098107">import</span>&nbsp;<span class="string" id="2098114">&#34;errors&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2098124">//&nbsp;ErrRange&nbsp;indicates&nbsp;that&nbsp;a&nbsp;value&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;for&nbsp;the&nbsp;target&nbsp;type.</span><br>
<span class="lineno">10</span><span class="keyword" id="2098196">var</span>&nbsp;<span class="ident" id="2098200">ErrRange</span>&nbsp;<span class="op" id="2098209">=</span>&nbsp;<span class="ident" id="2098211">errors</span><span class="op" id="2098217">.</span><span class="ident" id="2098218">New</span><span class="op" id="2098221">(</span><span class="string" id="2098222">&#34;value&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2098242">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2098245">//&nbsp;ErrSyntax&nbsp;indicates&nbsp;that&nbsp;a&nbsp;value&nbsp;does&nbsp;not&nbsp;have&nbsp;the&nbsp;right&nbsp;syntax&nbsp;for&nbsp;the&nbsp;target&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2098333">var</span>&nbsp;<span class="ident" id="2098337">ErrSyntax</span>&nbsp;<span class="op" id="2098347">=</span>&nbsp;<span class="ident" id="2098349">errors</span><span class="op" id="2098355">.</span><span class="ident" id="2098356">New</span><span class="op" id="2098359">(</span><span class="string" id="2098360">&#34;invalid&nbsp;syntax&#34;</span><span class="op" id="2098376">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2098379">//&nbsp;A&nbsp;NumError&nbsp;records&nbsp;a&nbsp;failed&nbsp;conversion.</span><br>
<span class="lineno"></span><span class="keyword" id="2098422">type</span>&nbsp;<span class="ident" id="2098427">NumError</span>&nbsp;<span class="keyword" id="2098436">struct</span>&nbsp;<span class="op" id="2098443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2098446">Func</span>&nbsp;<span class="builtintype" id="2098451">string</span>&nbsp;<span class="comment" id="2098458">//&nbsp;the&nbsp;failing&nbsp;function&nbsp;(ParseBool,&nbsp;ParseInt,&nbsp;ParseUint,&nbsp;ParseFloat)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2098528">Num</span>&nbsp;&nbsp;<span class="builtintype" id="2098533">string</span>&nbsp;<span class="comment" id="2098540">//&nbsp;the&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2098554">Err</span>&nbsp;&nbsp;<span class="builtintype" id="2098559">error</span>&nbsp;&nbsp;<span class="comment" id="2098566">//&nbsp;the&nbsp;reason&nbsp;the&nbsp;conversion&nbsp;failed&nbsp;(ErrRange,&nbsp;ErrSyntax)</span><br>
<span class="lineno">20</span><span class="op" id="2098624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2098627">func</span>&nbsp;<span class="op" id="2098632">(</span><span class="ident" id="2098633">e</span>&nbsp;<span class="op" id="2098635">*</span><span class="ident" id="2098636">NumError</span><span class="op" id="2098644">)</span>&nbsp;<span class="ident" id="2098646">Error</span><span class="op" id="2098651">(</span><span class="op" id="2098652">)</span>&nbsp;<span class="builtintype" id="2098654">string</span>&nbsp;<span class="op" id="2098661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2098664">return</span>&nbsp;<span class="string" id="2098671">&#34;strconv.&#34;</span>&nbsp;<span class="op" id="2098682">+</span>&nbsp;<span class="ident" id="2098684">e</span><span class="op" id="2098685">.</span><span class="ident" id="2098686">Func</span>&nbsp;<span class="op" id="2098691">+</span>&nbsp;<span class="string" id="2098693">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2098698">+</span>&nbsp;<span class="string" id="2098700">&#34;parsing&nbsp;&#34;</span>&nbsp;<span class="op" id="2098711">+</span>&nbsp;<span class="ident" id="2098713">Quote</span><span class="op" id="2098718">(</span><span class="ident" id="2098719">e</span><span class="op" id="2098720">.</span><span class="ident" id="2098721">Num</span><span class="op" id="2098724">)</span>&nbsp;<span class="op" id="2098726">+</span>&nbsp;<span class="string" id="2098728">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2098733">+</span>&nbsp;<span class="ident" id="2098735">e</span><span class="op" id="2098736">.</span><span class="ident" id="2098737">Err</span><span class="op" id="2098740">.</span><span class="ident" id="2098741">Error</span><span class="op" id="2098746">(</span><span class="op" id="2098747">)</span><br>
<span class="lineno"></span><span class="op" id="2098749">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="2098752">func</span>&nbsp;<span class="ident" id="2098757">syntaxError</span><span class="op" id="2098768">(</span><span class="ident" id="2098769">fn</span><span class="op" id="2098771">,</span>&nbsp;<span class="ident" id="2098773">str</span>&nbsp;<span class="builtintype" id="2098777">string</span><span class="op" id="2098783">)</span>&nbsp;<span class="op" id="2098785">*</span><span class="ident" id="2098786">NumError</span>&nbsp;<span class="op" id="2098795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2098798">return</span>&nbsp;<span class="op" id="2098805">&amp;</span><span class="ident" id="2098806">NumError</span><span class="op" id="2098814">{</span><span class="ident" id="2098815">fn</span><span class="op" id="2098817">,</span>&nbsp;<span class="ident" id="2098819">str</span><span class="op" id="2098822">,</span>&nbsp;<span class="ident" id="2098824">ErrSyntax</span><span class="op" id="2098833">}</span><br>
<span class="lineno"></span><span class="op" id="2098835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="2098838">func</span>&nbsp;<span class="ident" id="2098843">rangeError</span><span class="op" id="2098853">(</span><span class="ident" id="2098854">fn</span><span class="op" id="2098856">,</span>&nbsp;<span class="ident" id="2098858">str</span>&nbsp;<span class="builtintype" id="2098862">string</span><span class="op" id="2098868">)</span>&nbsp;<span class="op" id="2098870">*</span><span class="ident" id="2098871">NumError</span>&nbsp;<span class="op" id="2098880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2098883">return</span>&nbsp;<span class="op" id="2098890">&amp;</span><span class="ident" id="2098891">NumError</span><span class="op" id="2098899">{</span><span class="ident" id="2098900">fn</span><span class="op" id="2098902">,</span>&nbsp;<span class="ident" id="2098904">str</span><span class="op" id="2098907">,</span>&nbsp;<span class="ident" id="2098909">ErrRange</span><span class="op" id="2098917">}</span><br>
<span class="lineno"></span><span class="op" id="2098919">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2098922">const</span>&nbsp;<span class="ident" id="2098928">intSize</span>&nbsp;<span class="op" id="2098936">=</span>&nbsp;<span class="num" id="2098938">32</span>&nbsp;<span class="op" id="2098941">&lt;&lt;</span>&nbsp;<span class="op" id="2098944">(</span><span class="op" id="2098945">^</span><span class="builtintype" id="2098946">uint</span><span class="op" id="2098950">(</span><span class="num" id="2098951">0</span><span class="op" id="2098952">)</span>&nbsp;<span class="op" id="2098954">&gt;&gt;</span>&nbsp;<span class="num" id="2098957">63</span><span class="op" id="2098959">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2098962">//&nbsp;IntSize&nbsp;is&nbsp;the&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;an&nbsp;int&nbsp;or&nbsp;uint&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2099018">const</span>&nbsp;<span class="ident" id="2099024">IntSize</span>&nbsp;<span class="op" id="2099032">=</span>&nbsp;<span class="ident" id="2099034">intSize</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2099043">//&nbsp;Return&nbsp;the&nbsp;first&nbsp;number&nbsp;n&nbsp;such&nbsp;that&nbsp;n*base&nbsp;&gt;=&nbsp;1&lt;&lt;64.</span><br>
<span class="lineno">40</span><span class="keyword" id="2099099">func</span>&nbsp;<span class="ident" id="2099104">cutoff64</span><span class="op" id="2099112">(</span><span class="ident" id="2099113">base</span>&nbsp;<span class="builtintype" id="2099118">int</span><span class="op" id="2099121">)</span>&nbsp;<span class="builtintype" id="2099123">uint64</span>&nbsp;<span class="op" id="2099130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099133">if</span>&nbsp;<span class="ident" id="2099136">base</span>&nbsp;<span class="op" id="2099141">&lt;</span>&nbsp;<span class="num" id="2099143">2</span>&nbsp;<span class="op" id="2099145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099149">return</span>&nbsp;<span class="num" id="2099156">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2099159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099162">return</span>&nbsp;<span class="op" id="2099169">(</span><span class="num" id="2099170">1</span><span class="op" id="2099171">&lt;&lt;</span><span class="num" id="2099173">64</span><span class="op" id="2099175">-</span><span class="num" id="2099176">1</span><span class="op" id="2099177">)</span><span class="op" id="2099178">/</span><span class="builtintype" id="2099179">uint64</span><span class="op" id="2099185">(</span><span class="ident" id="2099186">base</span><span class="op" id="2099190">)</span>&nbsp;<span class="op" id="2099192">+</span>&nbsp;<span class="num" id="2099194">1</span><br>
<span class="lineno">45</span><span class="op" id="2099196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2099199">//&nbsp;ParseUint&nbsp;is&nbsp;like&nbsp;ParseInt&nbsp;but&nbsp;for&nbsp;unsigned&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="keyword" id="2099255">func</span>&nbsp;<span class="ident" id="2099260">ParseUint</span><span class="op" id="2099269">(</span><span class="ident" id="2099270">s</span>&nbsp;<span class="builtintype" id="2099272">string</span><span class="op" id="2099278">,</span>&nbsp;<span class="ident" id="2099280">base</span>&nbsp;<span class="builtintype" id="2099285">int</span><span class="op" id="2099288">,</span>&nbsp;<span class="ident" id="2099290">bitSize</span>&nbsp;<span class="builtintype" id="2099298">int</span><span class="op" id="2099301">)</span>&nbsp;<span class="op" id="2099303">(</span><span class="ident" id="2099304">n</span>&nbsp;<span class="builtintype" id="2099306">uint64</span><span class="op" id="2099312">,</span>&nbsp;<span class="ident" id="2099314">err</span>&nbsp;<span class="builtintype" id="2099318">error</span><span class="op" id="2099323">)</span>&nbsp;<span class="op" id="2099325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099328">var</span>&nbsp;<span class="ident" id="2099332">cutoff</span><span class="op" id="2099338">,</span>&nbsp;<span class="ident" id="2099340">maxVal</span>&nbsp;<span class="builtintype" id="2099347">uint64</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099356">if</span>&nbsp;<span class="ident" id="2099359">bitSize</span>&nbsp;<span class="op" id="2099367">==</span>&nbsp;<span class="num" id="2099370">0</span>&nbsp;<span class="op" id="2099372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099376">bitSize</span>&nbsp;<span class="op" id="2099384">=</span>&nbsp;<span class="builtintype" id="2099386">int</span><span class="op" id="2099389">(</span><span class="ident" id="2099390">IntSize</span><span class="op" id="2099397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2099400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099404">s0</span>&nbsp;<span class="op" id="2099407">:=</span>&nbsp;<span class="ident" id="2099410">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099413">switch</span>&nbsp;<span class="op" id="2099420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099423">case</span>&nbsp;<span class="builtinfunc" id="2099428">len</span><span class="op" id="2099431">(</span><span class="ident" id="2099432">s</span><span class="op" id="2099433">)</span>&nbsp;<span class="op" id="2099435">&lt;</span>&nbsp;<span class="num" id="2099437">1</span><span class="op" id="2099438">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099442">err</span>&nbsp;<span class="op" id="2099446">=</span>&nbsp;<span class="ident" id="2099448">ErrSyntax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099460">goto</span>&nbsp;<span class="ident" id="2099465">Error</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099473">case</span>&nbsp;<span class="num" id="2099478">2</span>&nbsp;<span class="op" id="2099480">&lt;=</span>&nbsp;<span class="ident" id="2099483">base</span>&nbsp;<span class="op" id="2099488">&amp;&amp;</span>&nbsp;<span class="ident" id="2099491">base</span>&nbsp;<span class="op" id="2099496">&lt;=</span>&nbsp;<span class="num" id="2099499">36</span><span class="op" id="2099501">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2099505">//&nbsp;valid&nbsp;base;&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099536">case</span>&nbsp;<span class="ident" id="2099541">base</span>&nbsp;<span class="op" id="2099546">==</span>&nbsp;<span class="num" id="2099549">0</span><span class="op" id="2099550">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2099554">//&nbsp;Look&nbsp;for&nbsp;octal,&nbsp;hex&nbsp;prefix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099587">switch</span>&nbsp;<span class="op" id="2099594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099598">case</span>&nbsp;<span class="ident" id="2099603">s</span><span class="op" id="2099604">[</span><span class="num" id="2099605">0</span><span class="op" id="2099606">]</span>&nbsp;<span class="op" id="2099608">==</span>&nbsp;<span class="string" id="2099611">&#39;0&#39;</span>&nbsp;<span class="op" id="2099615">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2099618">len</span><span class="op" id="2099621">(</span><span class="ident" id="2099622">s</span><span class="op" id="2099623">)</span>&nbsp;<span class="op" id="2099625">&gt;</span>&nbsp;<span class="num" id="2099627">1</span>&nbsp;<span class="op" id="2099629">&amp;&amp;</span>&nbsp;<span class="op" id="2099632">(</span><span class="ident" id="2099633">s</span><span class="op" id="2099634">[</span><span class="num" id="2099635">1</span><span class="op" id="2099636">]</span>&nbsp;<span class="op" id="2099638">==</span>&nbsp;<span class="string" id="2099641">&#39;x&#39;</span>&nbsp;<span class="op" id="2099645">||</span>&nbsp;<span class="ident" id="2099648">s</span><span class="op" id="2099649">[</span><span class="num" id="2099650">1</span><span class="op" id="2099651">]</span>&nbsp;<span class="op" id="2099653">==</span>&nbsp;<span class="string" id="2099656">&#39;X&#39;</span><span class="op" id="2099659">)</span><span class="op" id="2099660">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099665">base</span>&nbsp;<span class="op" id="2099670">=</span>&nbsp;<span class="num" id="2099672">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099678">s</span>&nbsp;<span class="op" id="2099680">=</span>&nbsp;<span class="ident" id="2099682">s</span><span class="op" id="2099683">[</span><span class="num" id="2099684">2</span><span class="op" id="2099685">:</span><span class="op" id="2099686">]</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099691">if</span>&nbsp;<span class="builtinfunc" id="2099694">len</span><span class="op" id="2099697">(</span><span class="ident" id="2099698">s</span><span class="op" id="2099699">)</span>&nbsp;<span class="op" id="2099701">&lt;</span>&nbsp;<span class="num" id="2099703">1</span>&nbsp;<span class="op" id="2099705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099711">err</span>&nbsp;<span class="op" id="2099715">=</span>&nbsp;<span class="ident" id="2099717">ErrSyntax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099731">goto</span>&nbsp;<span class="ident" id="2099736">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2099745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099749">case</span>&nbsp;<span class="ident" id="2099754">s</span><span class="op" id="2099755">[</span><span class="num" id="2099756">0</span><span class="op" id="2099757">]</span>&nbsp;<span class="op" id="2099759">==</span>&nbsp;<span class="string" id="2099762">&#39;0&#39;</span><span class="op" id="2099765">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099770">base</span>&nbsp;<span class="op" id="2099775">=</span>&nbsp;<span class="num" id="2099777">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099781">default</span><span class="op" id="2099788">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099793">base</span>&nbsp;<span class="op" id="2099798">=</span>&nbsp;<span class="num" id="2099800">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2099805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099809">default</span><span class="op" id="2099816">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099820">err</span>&nbsp;<span class="op" id="2099824">=</span>&nbsp;<span class="ident" id="2099826">errors</span><span class="op" id="2099832">.</span><span class="ident" id="2099833">New</span><span class="op" id="2099836">(</span><span class="string" id="2099837">&#34;invalid&nbsp;base&nbsp;&#34;</span>&nbsp;<span class="op" id="2099853">+</span>&nbsp;<span class="ident" id="2099855">Itoa</span><span class="op" id="2099859">(</span><span class="ident" id="2099860">base</span><span class="op" id="2099864">)</span><span class="op" id="2099865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099869">goto</span>&nbsp;<span class="ident" id="2099874">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2099881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099885">n</span>&nbsp;<span class="op" id="2099887">=</span>&nbsp;<span class="num" id="2099889">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099892">cutoff</span>&nbsp;<span class="op" id="2099899">=</span>&nbsp;<span class="ident" id="2099901">cutoff64</span><span class="op" id="2099909">(</span><span class="ident" id="2099910">base</span><span class="op" id="2099914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099917">maxVal</span>&nbsp;<span class="op" id="2099924">=</span>&nbsp;<span class="num" id="2099926">1</span><span class="op" id="2099927">&lt;&lt;</span><span class="builtintype" id="2099929">uint</span><span class="op" id="2099933">(</span><span class="ident" id="2099934">bitSize</span><span class="op" id="2099941">)</span>&nbsp;<span class="op" id="2099943">-</span>&nbsp;<span class="num" id="2099945">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099949">for</span>&nbsp;<span class="ident" id="2099953">i</span>&nbsp;<span class="op" id="2099955">:=</span>&nbsp;<span class="num" id="2099958">0</span><span class="op" id="2099959">;</span>&nbsp;<span class="ident" id="2099961">i</span>&nbsp;<span class="op" id="2099963">&lt;</span>&nbsp;<span class="builtinfunc" id="2099965">len</span><span class="op" id="2099968">(</span><span class="ident" id="2099969">s</span><span class="op" id="2099970">)</span><span class="op" id="2099971">;</span>&nbsp;<span class="ident" id="2099973">i</span><span class="op" id="2099974">++</span>&nbsp;<span class="op" id="2099977">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2099981">var</span>&nbsp;<span class="ident" id="2099985">v</span>&nbsp;<span class="builtintype" id="2099987">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2099994">d</span>&nbsp;<span class="op" id="2099996">:=</span>&nbsp;<span class="ident" id="2099999">s</span><span class="op" id="2100000">[</span><span class="ident" id="2100001">i</span><span class="op" id="2100002">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100006">switch</span>&nbsp;<span class="op" id="2100013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100017">case</span>&nbsp;<span class="string" id="2100022">&#39;0&#39;</span>&nbsp;<span class="op" id="2100026">&lt;=</span>&nbsp;<span class="ident" id="2100029">d</span>&nbsp;<span class="op" id="2100031">&amp;&amp;</span>&nbsp;<span class="ident" id="2100034">d</span>&nbsp;<span class="op" id="2100036">&lt;=</span>&nbsp;<span class="string" id="2100039">&#39;9&#39;</span><span class="op" id="2100042">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100047">v</span>&nbsp;<span class="op" id="2100049">=</span>&nbsp;<span class="ident" id="2100051">d</span>&nbsp;<span class="op" id="2100053">-</span>&nbsp;<span class="string" id="2100055">&#39;0&#39;</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100061">case</span>&nbsp;<span class="string" id="2100066">&#39;a&#39;</span>&nbsp;<span class="op" id="2100070">&lt;=</span>&nbsp;<span class="ident" id="2100073">d</span>&nbsp;<span class="op" id="2100075">&amp;&amp;</span>&nbsp;<span class="ident" id="2100078">d</span>&nbsp;<span class="op" id="2100080">&lt;=</span>&nbsp;<span class="string" id="2100083">&#39;z&#39;</span><span class="op" id="2100086">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100091">v</span>&nbsp;<span class="op" id="2100093">=</span>&nbsp;<span class="ident" id="2100095">d</span>&nbsp;<span class="op" id="2100097">-</span>&nbsp;<span class="string" id="2100099">&#39;a&#39;</span>&nbsp;<span class="op" id="2100103">+</span>&nbsp;<span class="num" id="2100105">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100110">case</span>&nbsp;<span class="string" id="2100115">&#39;A&#39;</span>&nbsp;<span class="op" id="2100119">&lt;=</span>&nbsp;<span class="ident" id="2100122">d</span>&nbsp;<span class="op" id="2100124">&amp;&amp;</span>&nbsp;<span class="ident" id="2100127">d</span>&nbsp;<span class="op" id="2100129">&lt;=</span>&nbsp;<span class="string" id="2100132">&#39;Z&#39;</span><span class="op" id="2100135">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100140">v</span>&nbsp;<span class="op" id="2100142">=</span>&nbsp;<span class="ident" id="2100144">d</span>&nbsp;<span class="op" id="2100146">-</span>&nbsp;<span class="string" id="2100148">&#39;A&#39;</span>&nbsp;<span class="op" id="2100152">+</span>&nbsp;<span class="num" id="2100154">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100159">default</span><span class="op" id="2100166">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100171">n</span>&nbsp;<span class="op" id="2100173">=</span>&nbsp;<span class="num" id="2100175">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100180">err</span>&nbsp;<span class="op" id="2100184">=</span>&nbsp;<span class="ident" id="2100186">ErrSyntax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100199">goto</span>&nbsp;<span class="ident" id="2100204">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2100212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100216">if</span>&nbsp;<span class="builtintype" id="2100219">int</span><span class="op" id="2100222">(</span><span class="ident" id="2100223">v</span><span class="op" id="2100224">)</span>&nbsp;<span class="op" id="2100226">&gt;=</span>&nbsp;<span class="ident" id="2100229">base</span>&nbsp;<span class="op" id="2100234">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100239">n</span>&nbsp;<span class="op" id="2100241">=</span>&nbsp;<span class="num" id="2100243">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100248">err</span>&nbsp;<span class="op" id="2100252">=</span>&nbsp;<span class="ident" id="2100254">ErrSyntax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100267">goto</span>&nbsp;<span class="ident" id="2100272">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2100280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100285">if</span>&nbsp;<span class="ident" id="2100288">n</span>&nbsp;<span class="op" id="2100290">&gt;=</span>&nbsp;<span class="ident" id="2100293">cutoff</span>&nbsp;<span class="op" id="2100300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2100305">//&nbsp;n*base&nbsp;overflows</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100328">n</span>&nbsp;<span class="op" id="2100330">=</span>&nbsp;<span class="num" id="2100332">1</span><span class="op" id="2100333">&lt;&lt;</span><span class="num" id="2100335">64</span>&nbsp;<span class="op" id="2100338">-</span>&nbsp;<span class="num" id="2100340">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100345">err</span>&nbsp;<span class="op" id="2100349">=</span>&nbsp;<span class="ident" id="2100351">ErrRange</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100363">goto</span>&nbsp;<span class="ident" id="2100368">Error</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2100376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100380">n</span>&nbsp;<span class="op" id="2100382">*=</span>&nbsp;<span class="builtintype" id="2100385">uint64</span><span class="op" id="2100391">(</span><span class="ident" id="2100392">base</span><span class="op" id="2100396">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100401">n1</span>&nbsp;<span class="op" id="2100404">:=</span>&nbsp;<span class="ident" id="2100407">n</span>&nbsp;<span class="op" id="2100409">+</span>&nbsp;<span class="builtintype" id="2100411">uint64</span><span class="op" id="2100417">(</span><span class="ident" id="2100418">v</span><span class="op" id="2100419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100423">if</span>&nbsp;<span class="ident" id="2100426">n1</span>&nbsp;<span class="op" id="2100429">&lt;</span>&nbsp;<span class="ident" id="2100431">n</span>&nbsp;<span class="op" id="2100433">||</span>&nbsp;<span class="ident" id="2100436">n1</span>&nbsp;<span class="op" id="2100439">&gt;</span>&nbsp;<span class="ident" id="2100441">maxVal</span>&nbsp;<span class="op" id="2100448">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2100453">//&nbsp;n+v&nbsp;overflows</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100473">n</span>&nbsp;<span class="op" id="2100475">=</span>&nbsp;<span class="num" id="2100477">1</span><span class="op" id="2100478">&lt;&lt;</span><span class="num" id="2100480">64</span>&nbsp;<span class="op" id="2100483">-</span>&nbsp;<span class="num" id="2100485">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100490">err</span>&nbsp;<span class="op" id="2100494">=</span>&nbsp;<span class="ident" id="2100496">ErrRange</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100508">goto</span>&nbsp;<span class="ident" id="2100513">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2100521">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2100525">n</span>&nbsp;<span class="op" id="2100527">=</span>&nbsp;<span class="ident" id="2100529">n1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2100533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100537">return</span>&nbsp;<span class="ident" id="2100544">n</span><span class="op" id="2100545">,</span>&nbsp;<span class="builtintype" id="2100547">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="ident" id="2100552">Error</span><span class="op" id="2100557">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2100560">return</span>&nbsp;<span class="ident" id="2100567">n</span><span class="op" id="2100568">,</span>&nbsp;<span class="op" id="2100570">&amp;</span><span class="ident" id="2100571">NumError</span><span class="op" id="2100579">{</span><span class="string" id="2100580">&#34;ParseUint&#34;</span><span class="op" id="2100591">,</span>&nbsp;<span class="ident" id="2100593">s0</span><span class="op" id="2100595">,</span>&nbsp;<span class="ident" id="2100597">err</span><span class="op" id="2100600">}</span><br>
<span class="lineno"></span><span class="op" id="2100602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2100605">//&nbsp;ParseInt&nbsp;interprets&nbsp;a&nbsp;string&nbsp;s&nbsp;in&nbsp;the&nbsp;given&nbsp;base&nbsp;(2&nbsp;to&nbsp;36)&nbsp;and</span><br>
<span class="lineno">135</span><span class="comment" id="2100671">//&nbsp;returns&nbsp;the&nbsp;corresponding&nbsp;value&nbsp;i.&nbsp;&nbsp;If&nbsp;base&nbsp;==&nbsp;0,&nbsp;the&nbsp;base&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2100736">//&nbsp;implied&nbsp;by&nbsp;the&nbsp;string&#39;s&nbsp;prefix:&nbsp;base&nbsp;16&nbsp;for&nbsp;&#34;0x&#34;,&nbsp;base&nbsp;8&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2100800">//&nbsp;&#34;0&#34;,&nbsp;and&nbsp;base&nbsp;10&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="2100831">//</span><br>
<span class="lineno"></span><span class="comment" id="2100834">//&nbsp;The&nbsp;bitSize&nbsp;argument&nbsp;specifies&nbsp;the&nbsp;integer&nbsp;type</span><br>
<span class="lineno">140</span><span class="comment" id="2100885">//&nbsp;that&nbsp;the&nbsp;result&nbsp;must&nbsp;fit&nbsp;into.&nbsp;&nbsp;Bit&nbsp;sizes&nbsp;0,&nbsp;8,&nbsp;16,&nbsp;32,&nbsp;and&nbsp;64</span><br>
<span class="lineno"></span><span class="comment" id="2100951">//&nbsp;correspond&nbsp;to&nbsp;int,&nbsp;int8,&nbsp;int16,&nbsp;int32,&nbsp;and&nbsp;int64.</span><br>
<span class="lineno"></span><span class="comment" id="2101004">//</span><br>
<span class="lineno"></span><span class="comment" id="2101007">//&nbsp;The&nbsp;errors&nbsp;that&nbsp;ParseInt&nbsp;returns&nbsp;have&nbsp;concrete&nbsp;type&nbsp;*NumError</span><br>
<span class="lineno"></span><span class="comment" id="2101072">//&nbsp;and&nbsp;include&nbsp;err.Num&nbsp;=&nbsp;s.&nbsp;&nbsp;If&nbsp;s&nbsp;is&nbsp;empty&nbsp;or&nbsp;contains&nbsp;invalid</span><br>
<span class="lineno">145</span><span class="comment" id="2101135">//&nbsp;digits,&nbsp;err.Err&nbsp;=&nbsp;ErrSyntax&nbsp;and&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;0;</span><br>
<span class="lineno"></span><span class="comment" id="2101195">//&nbsp;if&nbsp;the&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;s&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;by&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2101257">//&nbsp;signed&nbsp;integer&nbsp;of&nbsp;the&nbsp;given&nbsp;size,&nbsp;err.Err&nbsp;=&nbsp;ErrRange&nbsp;and&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2101321">//&nbsp;returned&nbsp;value&nbsp;is&nbsp;the&nbsp;maximum&nbsp;magnitude&nbsp;integer&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2101379">//&nbsp;appropriate&nbsp;bitSize&nbsp;and&nbsp;sign.</span><br>
<span class="lineno">150</span><span class="keyword" id="2101412">func</span>&nbsp;<span class="ident" id="2101417">ParseInt</span><span class="op" id="2101425">(</span><span class="ident" id="2101426">s</span>&nbsp;<span class="builtintype" id="2101428">string</span><span class="op" id="2101434">,</span>&nbsp;<span class="ident" id="2101436">base</span>&nbsp;<span class="builtintype" id="2101441">int</span><span class="op" id="2101444">,</span>&nbsp;<span class="ident" id="2101446">bitSize</span>&nbsp;<span class="builtintype" id="2101454">int</span><span class="op" id="2101457">)</span>&nbsp;<span class="op" id="2101459">(</span><span class="ident" id="2101460">i</span>&nbsp;<span class="builtintype" id="2101462">int64</span><span class="op" id="2101467">,</span>&nbsp;<span class="ident" id="2101469">err</span>&nbsp;<span class="builtintype" id="2101473">error</span><span class="op" id="2101478">)</span>&nbsp;<span class="op" id="2101480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2101483">const</span>&nbsp;<span class="ident" id="2101489">fnParseInt</span>&nbsp;<span class="op" id="2101500">=</span>&nbsp;<span class="string" id="2101502">&#34;ParseInt&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2101515">if</span>&nbsp;<span class="ident" id="2101518">bitSize</span>&nbsp;<span class="op" id="2101526">==</span>&nbsp;<span class="num" id="2101529">0</span>&nbsp;<span class="op" id="2101531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2101535">bitSize</span>&nbsp;<span class="op" id="2101543">=</span>&nbsp;<span class="builtintype" id="2101545">int</span><span class="op" id="2101548">(</span><span class="ident" id="2101549">IntSize</span><span class="op" id="2101556">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2101559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2101563">//&nbsp;Empty&nbsp;string&nbsp;bad.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2101585">if</span>&nbsp;<span class="builtinfunc" id="2101588">len</span><span class="op" id="2101591">(</span><span class="ident" id="2101592">s</span><span class="op" id="2101593">)</span>&nbsp;<span class="op" id="2101595">==</span>&nbsp;<span class="num" id="2101598">0</span>&nbsp;<span class="op" id="2101600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2101604">return</span>&nbsp;<span class="num" id="2101611">0</span><span class="op" id="2101612">,</span>&nbsp;<span class="ident" id="2101614">syntaxError</span><span class="op" id="2101625">(</span><span class="ident" id="2101626">fnParseInt</span><span class="op" id="2101636">,</span>&nbsp;<span class="ident" id="2101638">s</span><span class="op" id="2101639">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2101642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2101646">//&nbsp;Pick&nbsp;off&nbsp;leading&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2101673">s0</span>&nbsp;<span class="op" id="2101676">:=</span>&nbsp;<span class="ident" id="2101679">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2101682">neg</span>&nbsp;<span class="op" id="2101686">:=</span>&nbsp;<span class="builtintype" id="2101689">false</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2101696">if</span>&nbsp;<span class="ident" id="2101699">s</span><span class="op" id="2101700">[</span><span class="num" id="2101701">0</span><span class="op" id="2101702">]</span>&nbsp;<span class="op" id="2101704">==</span>&nbsp;<span class="string" id="2101707">&#39;+&#39;</span>&nbsp;<span class="op" id="2101711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2101715">s</span>&nbsp;<span class="op" id="2101717">=</span>&nbsp;<span class="ident" id="2101719">s</span><span class="op" id="2101720">[</span><span class="num" id="2101721">1</span><span class="op" id="2101722">:</span><span class="op" id="2101723">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2101726">}</span>&nbsp;<span class="keyword" id="2101728">else</span>&nbsp;<span class="keyword" id="2101733">if</span>&nbsp;<span class="ident" id="2101736">s</span><span class="op" id="2101737">[</span><span class="num" id="2101738">0</span><span class="op" id="2101739">]</span>&nbsp;<span class="op" id="2101741">==</span>&nbsp;<span class="string" id="2101744">&#39;-&#39;</span>&nbsp;<span class="op" id="2101748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2101752">neg</span>&nbsp;<span class="op" id="2101756">=</span>&nbsp;<span class="builtintype" id="2101758">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2101765">s</span>&nbsp;<span class="op" id="2101767">=</span>&nbsp;<span class="ident" id="2101769">s</span><span class="op" id="2101770">[</span><span class="num" id="2101771">1</span><span class="op" id="2101772">:</span><span class="op" id="2101773">]</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2101776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2101780">//&nbsp;Convert&nbsp;unsigned&nbsp;and&nbsp;check&nbsp;range.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2101818">var</span>&nbsp;<span class="ident" id="2101822">un</span>&nbsp;<span class="builtintype" id="2101825">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2101833">un</span><span class="op" id="2101835">,</span>&nbsp;<span class="ident" id="2101837">err</span>&nbsp;<span class="op" id="2101841">=</span>&nbsp;<span class="ident" id="2101843">ParseUint</span><span class="op" id="2101852">(</span><span class="ident" id="2101853">s</span><span class="op" id="2101854">,</span>&nbsp;<span class="ident" id="2101856">base</span><span class="op" id="2101860">,</span>&nbsp;<span class="ident" id="2101862">bitSize</span><span class="op" id="2101869">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2101872">if</span>&nbsp;<span class="ident" id="2101875">err</span>&nbsp;<span class="op" id="2101879">!=</span>&nbsp;<span class="builtintype" id="2101882">nil</span>&nbsp;<span class="op" id="2101886">&amp;&amp;</span>&nbsp;<span class="ident" id="2101889">err</span><span class="op" id="2101892">.</span><span class="op" id="2101893">(</span><span class="op" id="2101894">*</span><span class="ident" id="2101895">NumError</span><span class="op" id="2101903">)</span><span class="op" id="2101904">.</span><span class="ident" id="2101905">Err</span>&nbsp;<span class="op" id="2101909">!=</span>&nbsp;<span class="ident" id="2101912">ErrRange</span>&nbsp;<span class="op" id="2101921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2101925">err</span><span class="op" id="2101928">.</span><span class="op" id="2101929">(</span><span class="op" id="2101930">*</span><span class="ident" id="2101931">NumError</span><span class="op" id="2101939">)</span><span class="op" id="2101940">.</span><span class="ident" id="2101941">Func</span>&nbsp;<span class="op" id="2101946">=</span>&nbsp;<span class="ident" id="2101948">fnParseInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2101961">err</span><span class="op" id="2101964">.</span><span class="op" id="2101965">(</span><span class="op" id="2101966">*</span><span class="ident" id="2101967">NumError</span><span class="op" id="2101975">)</span><span class="op" id="2101976">.</span><span class="ident" id="2101977">Num</span>&nbsp;<span class="op" id="2101981">=</span>&nbsp;<span class="ident" id="2101983">s0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2101988">return</span>&nbsp;<span class="num" id="2101995">0</span><span class="op" id="2101996">,</span>&nbsp;<span class="ident" id="2101998">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2102003">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2102006">cutoff</span>&nbsp;<span class="op" id="2102013">:=</span>&nbsp;<span class="builtintype" id="2102016">uint64</span><span class="op" id="2102022">(</span><span class="num" id="2102023">1</span>&nbsp;<span class="op" id="2102025">&lt;&lt;</span>&nbsp;<span class="builtintype" id="2102028">uint</span><span class="op" id="2102032">(</span><span class="ident" id="2102033">bitSize</span><span class="op" id="2102040">-</span><span class="num" id="2102041">1</span><span class="op" id="2102042">)</span><span class="op" id="2102043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2102046">if</span>&nbsp;<span class="op" id="2102049">!</span><span class="ident" id="2102050">neg</span>&nbsp;<span class="op" id="2102054">&amp;&amp;</span>&nbsp;<span class="ident" id="2102057">un</span>&nbsp;<span class="op" id="2102060">&gt;=</span>&nbsp;<span class="ident" id="2102063">cutoff</span>&nbsp;<span class="op" id="2102070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2102074">return</span>&nbsp;<span class="builtintype" id="2102081">int64</span><span class="op" id="2102086">(</span><span class="ident" id="2102087">cutoff</span>&nbsp;<span class="op" id="2102094">-</span>&nbsp;<span class="num" id="2102096">1</span><span class="op" id="2102097">)</span><span class="op" id="2102098">,</span>&nbsp;<span class="ident" id="2102100">rangeError</span><span class="op" id="2102110">(</span><span class="ident" id="2102111">fnParseInt</span><span class="op" id="2102121">,</span>&nbsp;<span class="ident" id="2102123">s0</span><span class="op" id="2102125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2102128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2102131">if</span>&nbsp;<span class="ident" id="2102134">neg</span>&nbsp;<span class="op" id="2102138">&amp;&amp;</span>&nbsp;<span class="ident" id="2102141">un</span>&nbsp;<span class="op" id="2102144">&gt;</span>&nbsp;<span class="ident" id="2102146">cutoff</span>&nbsp;<span class="op" id="2102153">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2102157">return</span>&nbsp;<span class="op" id="2102164">-</span><span class="builtintype" id="2102165">int64</span><span class="op" id="2102170">(</span><span class="ident" id="2102171">cutoff</span><span class="op" id="2102177">)</span><span class="op" id="2102178">,</span>&nbsp;<span class="ident" id="2102180">rangeError</span><span class="op" id="2102190">(</span><span class="ident" id="2102191">fnParseInt</span><span class="op" id="2102201">,</span>&nbsp;<span class="ident" id="2102203">s0</span><span class="op" id="2102205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2102208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2102211">n</span>&nbsp;<span class="op" id="2102213">:=</span>&nbsp;<span class="builtintype" id="2102216">int64</span><span class="op" id="2102221">(</span><span class="ident" id="2102222">un</span><span class="op" id="2102224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2102227">if</span>&nbsp;<span class="ident" id="2102230">neg</span>&nbsp;<span class="op" id="2102234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2102238">n</span>&nbsp;<span class="op" id="2102240">=</span>&nbsp;<span class="op" id="2102242">-</span><span class="ident" id="2102243">n</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2102246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2102249">return</span>&nbsp;<span class="ident" id="2102256">n</span><span class="op" id="2102257">,</span>&nbsp;<span class="builtintype" id="2102259">nil</span><br>
<span class="lineno"></span><span class="op" id="2102263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2102266">//&nbsp;Atoi&nbsp;is&nbsp;shorthand&nbsp;for&nbsp;ParseInt(s,&nbsp;10,&nbsp;0).</span><br>
<span class="lineno">195</span><span class="keyword" id="2102311">func</span>&nbsp;<span class="ident" id="2102316">Atoi</span><span class="op" id="2102320">(</span><span class="ident" id="2102321">s</span>&nbsp;<span class="builtintype" id="2102323">string</span><span class="op" id="2102329">)</span>&nbsp;<span class="op" id="2102331">(</span><span class="ident" id="2102332">i</span>&nbsp;<span class="builtintype" id="2102334">int</span><span class="op" id="2102337">,</span>&nbsp;<span class="ident" id="2102339">err</span>&nbsp;<span class="builtintype" id="2102343">error</span><span class="op" id="2102348">)</span>&nbsp;<span class="op" id="2102350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2102353">i64</span><span class="op" id="2102356">,</span>&nbsp;<span class="ident" id="2102358">err</span>&nbsp;<span class="op" id="2102362">:=</span>&nbsp;<span class="ident" id="2102365">ParseInt</span><span class="op" id="2102373">(</span><span class="ident" id="2102374">s</span><span class="op" id="2102375">,</span>&nbsp;<span class="num" id="2102377">10</span><span class="op" id="2102379">,</span>&nbsp;<span class="num" id="2102381">0</span><span class="op" id="2102382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2102385">return</span>&nbsp;<span class="builtintype" id="2102392">int</span><span class="op" id="2102395">(</span><span class="ident" id="2102396">i64</span><span class="op" id="2102399">)</span><span class="op" id="2102400">,</span>&nbsp;<span class="ident" id="2102402">err</span><br>
<span class="lineno"></span><span class="op" id="2102406">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
