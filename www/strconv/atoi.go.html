<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2957806">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2957861">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2957915">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2957966">package</span>&nbsp;<span class="ident" id="2957974">strconv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2957983">import</span>&nbsp;<span class="string" id="2957990">&#34;errors&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2958000">//&nbsp;ErrRange&nbsp;indicates&nbsp;that&nbsp;a&nbsp;value&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;for&nbsp;the&nbsp;target&nbsp;type.</span><br>
<span class="lineno">10</span><span class="keyword" id="2958072">var</span>&nbsp;<span class="ident" id="2958076">ErrRange</span>&nbsp;<span class="op" id="2958085">=</span>&nbsp;<span class="ident" id="2958087"><a href="/strconv/atoi.go.html#2957990">errors</a></span><span class="op" id="2958093">.</span><span class="ident" id="2958094">New</span><span class="op" id="2958097">(</span><span class="string" id="2958098">&#34;value&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2958118">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2958121">//&nbsp;ErrSyntax&nbsp;indicates&nbsp;that&nbsp;a&nbsp;value&nbsp;does&nbsp;not&nbsp;have&nbsp;the&nbsp;right&nbsp;syntax&nbsp;for&nbsp;the&nbsp;target&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2958209">var</span>&nbsp;<span class="ident" id="2958213">ErrSyntax</span>&nbsp;<span class="op" id="2958223">=</span>&nbsp;<span class="ident" id="2958225"><a href="/strconv/atoi.go.html#2957990">errors</a></span><span class="op" id="2958231">.</span><span class="ident" id="2958232">New</span><span class="op" id="2958235">(</span><span class="string" id="2958236">&#34;invalid&nbsp;syntax&#34;</span><span class="op" id="2958252">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2958255">//&nbsp;A&nbsp;NumError&nbsp;records&nbsp;a&nbsp;failed&nbsp;conversion.</span><br>
<span class="lineno"></span><span class="keyword" id="2958298">type</span>&nbsp;<span class="ident" id="2958303">NumError</span>&nbsp;<span class="keyword" id="2958312">struct</span>&nbsp;<span class="op" id="2958319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2958322">Func</span>&nbsp;<span class="builtintype" id="2958327">string</span>&nbsp;<span class="comment" id="2958334">//&nbsp;the&nbsp;failing&nbsp;function&nbsp;(ParseBool,&nbsp;ParseInt,&nbsp;ParseUint,&nbsp;ParseFloat)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2958404">Num</span>&nbsp;&nbsp;<span class="builtintype" id="2958409">string</span>&nbsp;<span class="comment" id="2958416">//&nbsp;the&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2958430">Err</span>&nbsp;&nbsp;<span class="builtintype" id="2958435">error</span>&nbsp;&nbsp;<span class="comment" id="2958442">//&nbsp;the&nbsp;reason&nbsp;the&nbsp;conversion&nbsp;failed&nbsp;(ErrRange,&nbsp;ErrSyntax)</span><br>
<span class="lineno">20</span><span class="op" id="2958500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2958503">func</span>&nbsp;<span class="op" id="2958508">(</span><span class="ident" id="2958509">e</span>&nbsp;<span class="op" id="2958511">*</span><span class="ident" id="2958512"><a href="/strconv/atoi.go.html#2958303">NumError</a></span><span class="op" id="2958520">)</span>&nbsp;<span class="ident" id="2958522">Error</span><span class="op" id="2958527">(</span><span class="op" id="2958528">)</span>&nbsp;<span class="builtintype" id="2958530">string</span>&nbsp;<span class="op" id="2958537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958540">return</span>&nbsp;<span class="string" id="2958547">&#34;strconv.&#34;</span>&nbsp;<span class="op" id="2958558">+</span>&nbsp;<span class="ident" id="2958560"><a href="/strconv/atoi.go.html#2958509">e</a></span><span class="op" id="2958561">.</span><span class="ident" id="2958562">Func</span>&nbsp;<span class="op" id="2958567">+</span>&nbsp;<span class="string" id="2958569">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2958574">+</span>&nbsp;<span class="string" id="2958576">&#34;parsing&nbsp;&#34;</span>&nbsp;<span class="op" id="2958587">+</span>&nbsp;<span class="ident" id="2958589"><a href="/strconv/quote.go.html#3017192">Quote</a></span><span class="op" id="2958594">(</span><span class="ident" id="2958595"><a href="/strconv/atoi.go.html#2958509">e</a></span><span class="op" id="2958596">.</span><span class="ident" id="2958597">Num</span><span class="op" id="2958600">)</span>&nbsp;<span class="op" id="2958602">+</span>&nbsp;<span class="string" id="2958604">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2958609">+</span>&nbsp;<span class="ident" id="2958611"><a href="/strconv/atoi.go.html#2958509">e</a></span><span class="op" id="2958612">.</span><span class="ident" id="2958613">Err</span><span class="op" id="2958616">.</span><span class="ident" id="2958617">Error</span><span class="op" id="2958622">(</span><span class="op" id="2958623">)</span><br>
<span class="lineno"></span><span class="op" id="2958625">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="2958628">func</span>&nbsp;<span class="ident" id="2958633">syntaxError</span><span class="op" id="2958644">(</span><span class="ident" id="2958645">fn</span><span class="op" id="2958647">,</span>&nbsp;<span class="ident" id="2958649">str</span>&nbsp;<span class="builtintype" id="2958653">string</span><span class="op" id="2958659">)</span>&nbsp;<span class="op" id="2958661">*</span><span class="ident" id="2958662"><a href="/strconv/atoi.go.html#2958303">NumError</a></span>&nbsp;<span class="op" id="2958671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958674">return</span>&nbsp;<span class="op" id="2958681">&amp;</span><span class="ident" id="2958682"><a href="/strconv/atoi.go.html#2958303">NumError</a></span><span class="op" id="2958690">{</span><span class="ident" id="2958691"><a href="/strconv/atoi.go.html#2958645">fn</a></span><span class="op" id="2958693">,</span>&nbsp;<span class="ident" id="2958695"><a href="/strconv/atoi.go.html#2958649">str</a></span><span class="op" id="2958698">,</span>&nbsp;<span class="ident" id="2958700"><a href="/strconv/atoi.go.html#2958213">ErrSyntax</a></span><span class="op" id="2958709">}</span><br>
<span class="lineno"></span><span class="op" id="2958711">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="2958714">func</span>&nbsp;<span class="ident" id="2958719">rangeError</span><span class="op" id="2958729">(</span><span class="ident" id="2958730">fn</span><span class="op" id="2958732">,</span>&nbsp;<span class="ident" id="2958734">str</span>&nbsp;<span class="builtintype" id="2958738">string</span><span class="op" id="2958744">)</span>&nbsp;<span class="op" id="2958746">*</span><span class="ident" id="2958747"><a href="/strconv/atoi.go.html#2958303">NumError</a></span>&nbsp;<span class="op" id="2958756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958759">return</span>&nbsp;<span class="op" id="2958766">&amp;</span><span class="ident" id="2958767"><a href="/strconv/atoi.go.html#2958303">NumError</a></span><span class="op" id="2958775">{</span><span class="ident" id="2958776"><a href="/strconv/atoi.go.html#2958730">fn</a></span><span class="op" id="2958778">,</span>&nbsp;<span class="ident" id="2958780"><a href="/strconv/atoi.go.html#2958734">str</a></span><span class="op" id="2958783">,</span>&nbsp;<span class="ident" id="2958785"><a href="/strconv/atoi.go.html#2958076">ErrRange</a></span><span class="op" id="2958793">}</span><br>
<span class="lineno"></span><span class="op" id="2958795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2958798">const</span>&nbsp;<span class="ident" id="2958804">intSize</span>&nbsp;<span class="op" id="2958812">=</span>&nbsp;<span class="num" id="2958814">32</span>&nbsp;<span class="op" id="2958817">&lt;&lt;</span>&nbsp;<span class="op" id="2958820">(</span><span class="op" id="2958821">^</span><span class="builtintype" id="2958822">uint</span><span class="op" id="2958826">(</span><span class="num" id="2958827">0</span><span class="op" id="2958828">)</span>&nbsp;<span class="op" id="2958830">&gt;&gt;</span>&nbsp;<span class="num" id="2958833">63</span><span class="op" id="2958835">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2958838">//&nbsp;IntSize&nbsp;is&nbsp;the&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;an&nbsp;int&nbsp;or&nbsp;uint&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2958894">const</span>&nbsp;<span class="ident" id="2958900">IntSize</span>&nbsp;<span class="op" id="2958908">=</span>&nbsp;<span class="ident" id="2958910"><a href="/strconv/atoi.go.html#2958804">intSize</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2958919">//&nbsp;Return&nbsp;the&nbsp;first&nbsp;number&nbsp;n&nbsp;such&nbsp;that&nbsp;n*base&nbsp;&gt;=&nbsp;1&lt;&lt;64.</span><br>
<span class="lineno">40</span><span class="keyword" id="2958975">func</span>&nbsp;<span class="ident" id="2958980">cutoff64</span><span class="op" id="2958988">(</span><span class="ident" id="2958989">base</span>&nbsp;<span class="builtintype" id="2958994">int</span><span class="op" id="2958997">)</span>&nbsp;<span class="ident" id="2958999">uint64</span>&nbsp;<span class="op" id="2959006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959009">if</span>&nbsp;<span class="ident" id="2959012"><a href="/strconv/atoi.go.html#2958989">base</a></span>&nbsp;<span class="op" id="2959017">&lt;</span>&nbsp;<span class="num" id="2959019">2</span>&nbsp;<span class="op" id="2959021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959025">return</span>&nbsp;<span class="num" id="2959032">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2959035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959038">return</span>&nbsp;<span class="op" id="2959045">(</span><span class="num" id="2959046">1</span><span class="op" id="2959047">&lt;&lt;</span><span class="num" id="2959049">64</span><span class="op" id="2959051">-</span><span class="num" id="2959052">1</span><span class="op" id="2959053">)</span><span class="op" id="2959054">/</span><span class="ident" id="2959055">uint64</span><span class="op" id="2959061">(</span><span class="ident" id="2959062"><a href="/strconv/atoi.go.html#2958989">base</a></span><span class="op" id="2959066">)</span>&nbsp;<span class="op" id="2959068">+</span>&nbsp;<span class="num" id="2959070">1</span><br>
<span class="lineno">45</span><span class="op" id="2959072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2959075">//&nbsp;ParseUint&nbsp;is&nbsp;like&nbsp;ParseInt&nbsp;but&nbsp;for&nbsp;unsigned&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="keyword" id="2959131">func</span>&nbsp;<span class="ident" id="2959136">ParseUint</span><span class="op" id="2959145">(</span><span class="ident" id="2959146">s</span>&nbsp;<span class="builtintype" id="2959148">string</span><span class="op" id="2959154">,</span>&nbsp;<span class="ident" id="2959156">base</span>&nbsp;<span class="builtintype" id="2959161">int</span><span class="op" id="2959164">,</span>&nbsp;<span class="ident" id="2959166">bitSize</span>&nbsp;<span class="builtintype" id="2959174">int</span><span class="op" id="2959177">)</span>&nbsp;<span class="op" id="2959179">(</span><span class="ident" id="2959180">n</span>&nbsp;<span class="ident" id="2959182">uint64</span><span class="op" id="2959188">,</span>&nbsp;<span class="ident" id="2959190">err</span>&nbsp;<span class="builtintype" id="2959194">error</span><span class="op" id="2959199">)</span>&nbsp;<span class="op" id="2959201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959204">var</span>&nbsp;<span class="ident" id="2959208">cutoff</span><span class="op" id="2959214">,</span>&nbsp;<span class="ident" id="2959216">maxVal</span>&nbsp;<span class="ident" id="2959223">uint64</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959232">if</span>&nbsp;<span class="ident" id="2959235"><a href="/strconv/atoi.go.html#2959166">bitSize</a></span>&nbsp;<span class="op" id="2959243">==</span>&nbsp;<span class="num" id="2959246">0</span>&nbsp;<span class="op" id="2959248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959252"><a href="/strconv/atoi.go.html#2959166">bitSize</a></span>&nbsp;<span class="op" id="2959260">=</span>&nbsp;<span class="builtintype" id="2959262">int</span><span class="op" id="2959265">(</span><span class="ident" id="2959266"><a href="/strconv/atoi.go.html#2958900">IntSize</a></span><span class="op" id="2959273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2959276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959280">s0</span>&nbsp;<span class="op" id="2959283">:=</span>&nbsp;<span class="ident" id="2959286"><a href="/strconv/atoi.go.html#2959146">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959289">switch</span>&nbsp;<span class="op" id="2959296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959299">case</span>&nbsp;<span class="builtinfunc" id="2959304">len</span><span class="op" id="2959307">(</span><span class="ident" id="2959308"><a href="/strconv/atoi.go.html#2959146">s</a></span><span class="op" id="2959309">)</span>&nbsp;<span class="op" id="2959311">&lt;</span>&nbsp;<span class="num" id="2959313">1</span><span class="op" id="2959314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959318"><a href="/strconv/atoi.go.html#2959190">err</a></span>&nbsp;<span class="op" id="2959322">=</span>&nbsp;<span class="ident" id="2959324"><a href="/strconv/atoi.go.html#2958213">ErrSyntax</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959336">goto</span>&nbsp;<span class="ident" id="2959341">Error</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959349">case</span>&nbsp;<span class="num" id="2959354">2</span>&nbsp;<span class="op" id="2959356">&lt;=</span>&nbsp;<span class="ident" id="2959359"><a href="/strconv/atoi.go.html#2959156">base</a></span>&nbsp;<span class="op" id="2959364">&amp;&amp;</span>&nbsp;<span class="ident" id="2959367"><a href="/strconv/atoi.go.html#2959156">base</a></span>&nbsp;<span class="op" id="2959372">&lt;=</span>&nbsp;<span class="num" id="2959375">36</span><span class="op" id="2959377">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2959381">//&nbsp;valid&nbsp;base;&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959412">case</span>&nbsp;<span class="ident" id="2959417"><a href="/strconv/atoi.go.html#2959156">base</a></span>&nbsp;<span class="op" id="2959422">==</span>&nbsp;<span class="num" id="2959425">0</span><span class="op" id="2959426">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2959430">//&nbsp;Look&nbsp;for&nbsp;octal,&nbsp;hex&nbsp;prefix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959463">switch</span>&nbsp;<span class="op" id="2959470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959474">case</span>&nbsp;<span class="ident" id="2959479"><a href="/strconv/atoi.go.html#2959146">s</a></span><span class="op" id="2959480">[</span><span class="num" id="2959481">0</span><span class="op" id="2959482">]</span>&nbsp;<span class="op" id="2959484">==</span>&nbsp;<span class="string" id="2959487">&#39;0&#39;</span>&nbsp;<span class="op" id="2959491">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2959494">len</span><span class="op" id="2959497">(</span><span class="ident" id="2959498"><a href="/strconv/atoi.go.html#2959146">s</a></span><span class="op" id="2959499">)</span>&nbsp;<span class="op" id="2959501">&gt;</span>&nbsp;<span class="num" id="2959503">1</span>&nbsp;<span class="op" id="2959505">&amp;&amp;</span>&nbsp;<span class="op" id="2959508">(</span><span class="ident" id="2959509"><a href="/strconv/atoi.go.html#2959146">s</a></span><span class="op" id="2959510">[</span><span class="num" id="2959511">1</span><span class="op" id="2959512">]</span>&nbsp;<span class="op" id="2959514">==</span>&nbsp;<span class="string" id="2959517">&#39;x&#39;</span>&nbsp;<span class="op" id="2959521">||</span>&nbsp;<span class="ident" id="2959524"><a href="/strconv/atoi.go.html#2959146">s</a></span><span class="op" id="2959525">[</span><span class="num" id="2959526">1</span><span class="op" id="2959527">]</span>&nbsp;<span class="op" id="2959529">==</span>&nbsp;<span class="string" id="2959532">&#39;X&#39;</span><span class="op" id="2959535">)</span><span class="op" id="2959536">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959541"><a href="/strconv/atoi.go.html#2959156">base</a></span>&nbsp;<span class="op" id="2959546">=</span>&nbsp;<span class="num" id="2959548">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959554"><a href="/strconv/atoi.go.html#2959146">s</a></span>&nbsp;<span class="op" id="2959556">=</span>&nbsp;<span class="ident" id="2959558"><a href="/strconv/atoi.go.html#2959146">s</a></span><span class="op" id="2959559">[</span><span class="num" id="2959560">2</span><span class="op" id="2959561">:</span><span class="op" id="2959562">]</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959567">if</span>&nbsp;<span class="builtinfunc" id="2959570">len</span><span class="op" id="2959573">(</span><span class="ident" id="2959574"><a href="/strconv/atoi.go.html#2959146">s</a></span><span class="op" id="2959575">)</span>&nbsp;<span class="op" id="2959577">&lt;</span>&nbsp;<span class="num" id="2959579">1</span>&nbsp;<span class="op" id="2959581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959587"><a href="/strconv/atoi.go.html#2959190">err</a></span>&nbsp;<span class="op" id="2959591">=</span>&nbsp;<span class="ident" id="2959593"><a href="/strconv/atoi.go.html#2958213">ErrSyntax</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959607">goto</span>&nbsp;<span class="ident" id="2959612">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2959621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959625">case</span>&nbsp;<span class="ident" id="2959630"><a href="/strconv/atoi.go.html#2959146">s</a></span><span class="op" id="2959631">[</span><span class="num" id="2959632">0</span><span class="op" id="2959633">]</span>&nbsp;<span class="op" id="2959635">==</span>&nbsp;<span class="string" id="2959638">&#39;0&#39;</span><span class="op" id="2959641">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959646"><a href="/strconv/atoi.go.html#2959156">base</a></span>&nbsp;<span class="op" id="2959651">=</span>&nbsp;<span class="num" id="2959653">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959657">default</span><span class="op" id="2959664">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959669"><a href="/strconv/atoi.go.html#2959156">base</a></span>&nbsp;<span class="op" id="2959674">=</span>&nbsp;<span class="num" id="2959676">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2959681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959685">default</span><span class="op" id="2959692">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959696"><a href="/strconv/atoi.go.html#2959190">err</a></span>&nbsp;<span class="op" id="2959700">=</span>&nbsp;<span class="ident" id="2959702"><a href="/strconv/atoi.go.html#2957990">errors</a></span><span class="op" id="2959708">.</span><span class="ident" id="2959709">New</span><span class="op" id="2959712">(</span><span class="string" id="2959713">&#34;invalid&nbsp;base&nbsp;&#34;</span>&nbsp;<span class="op" id="2959729">+</span>&nbsp;<span class="ident" id="2959731"><a href="/strconv/itoa.go.html#3012448">Itoa</a></span><span class="op" id="2959735">(</span><span class="ident" id="2959736"><a href="/strconv/atoi.go.html#2959156">base</a></span><span class="op" id="2959740">)</span><span class="op" id="2959741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959745">goto</span>&nbsp;<span class="ident" id="2959750">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2959757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959761"><a href="/strconv/atoi.go.html#2959180">n</a></span>&nbsp;<span class="op" id="2959763">=</span>&nbsp;<span class="num" id="2959765">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959768"><a href="/strconv/atoi.go.html#2959208">cutoff</a></span>&nbsp;<span class="op" id="2959775">=</span>&nbsp;<span class="ident" id="2959777"><a href="/strconv/atoi.go.html#2958980">cutoff64</a></span><span class="op" id="2959785">(</span><span class="ident" id="2959786"><a href="/strconv/atoi.go.html#2959156">base</a></span><span class="op" id="2959790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959793"><a href="/strconv/atoi.go.html#2959216">maxVal</a></span>&nbsp;<span class="op" id="2959800">=</span>&nbsp;<span class="num" id="2959802">1</span><span class="op" id="2959803">&lt;&lt;</span><span class="builtintype" id="2959805">uint</span><span class="op" id="2959809">(</span><span class="ident" id="2959810"><a href="/strconv/atoi.go.html#2959166">bitSize</a></span><span class="op" id="2959817">)</span>&nbsp;<span class="op" id="2959819">-</span>&nbsp;<span class="num" id="2959821">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959825">for</span>&nbsp;<span class="ident" id="2959829">i</span>&nbsp;<span class="op" id="2959831">:=</span>&nbsp;<span class="num" id="2959834">0</span><span class="op" id="2959835">;</span>&nbsp;<span class="ident" id="2959837"><a href="/strconv/atoi.go.html#2959829">i</a></span>&nbsp;<span class="op" id="2959839">&lt;</span>&nbsp;<span class="builtinfunc" id="2959841">len</span><span class="op" id="2959844">(</span><span class="ident" id="2959845"><a href="/strconv/atoi.go.html#2959146">s</a></span><span class="op" id="2959846">)</span><span class="op" id="2959847">;</span>&nbsp;<span class="ident" id="2959849"><a href="/strconv/atoi.go.html#2959829">i</a></span><span class="op" id="2959850">++</span>&nbsp;<span class="op" id="2959853">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959857">var</span>&nbsp;<span class="ident" id="2959861">v</span>&nbsp;<span class="builtintype" id="2959863">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959870">d</span>&nbsp;<span class="op" id="2959872">:=</span>&nbsp;<span class="ident" id="2959875"><a href="/strconv/atoi.go.html#2959146">s</a></span><span class="op" id="2959876">[</span><span class="ident" id="2959877"><a href="/strconv/atoi.go.html#2959829">i</a></span><span class="op" id="2959878">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959882">switch</span>&nbsp;<span class="op" id="2959889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959893">case</span>&nbsp;<span class="string" id="2959898">&#39;0&#39;</span>&nbsp;<span class="op" id="2959902">&lt;=</span>&nbsp;<span class="ident" id="2959905"><a href="/strconv/atoi.go.html#2959870">d</a></span>&nbsp;<span class="op" id="2959907">&amp;&amp;</span>&nbsp;<span class="ident" id="2959910"><a href="/strconv/atoi.go.html#2959870">d</a></span>&nbsp;<span class="op" id="2959912">&lt;=</span>&nbsp;<span class="string" id="2959915">&#39;9&#39;</span><span class="op" id="2959918">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959923"><a href="/strconv/atoi.go.html#2959861">v</a></span>&nbsp;<span class="op" id="2959925">=</span>&nbsp;<span class="ident" id="2959927"><a href="/strconv/atoi.go.html#2959870">d</a></span>&nbsp;<span class="op" id="2959929">-</span>&nbsp;<span class="string" id="2959931">&#39;0&#39;</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959937">case</span>&nbsp;<span class="string" id="2959942">&#39;a&#39;</span>&nbsp;<span class="op" id="2959946">&lt;=</span>&nbsp;<span class="ident" id="2959949"><a href="/strconv/atoi.go.html#2959870">d</a></span>&nbsp;<span class="op" id="2959951">&amp;&amp;</span>&nbsp;<span class="ident" id="2959954"><a href="/strconv/atoi.go.html#2959870">d</a></span>&nbsp;<span class="op" id="2959956">&lt;=</span>&nbsp;<span class="string" id="2959959">&#39;z&#39;</span><span class="op" id="2959962">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959967"><a href="/strconv/atoi.go.html#2959861">v</a></span>&nbsp;<span class="op" id="2959969">=</span>&nbsp;<span class="ident" id="2959971"><a href="/strconv/atoi.go.html#2959870">d</a></span>&nbsp;<span class="op" id="2959973">-</span>&nbsp;<span class="string" id="2959975">&#39;a&#39;</span>&nbsp;<span class="op" id="2959979">+</span>&nbsp;<span class="num" id="2959981">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959986">case</span>&nbsp;<span class="string" id="2959991">&#39;A&#39;</span>&nbsp;<span class="op" id="2959995">&lt;=</span>&nbsp;<span class="ident" id="2959998"><a href="/strconv/atoi.go.html#2959870">d</a></span>&nbsp;<span class="op" id="2960000">&amp;&amp;</span>&nbsp;<span class="ident" id="2960003"><a href="/strconv/atoi.go.html#2959870">d</a></span>&nbsp;<span class="op" id="2960005">&lt;=</span>&nbsp;<span class="string" id="2960008">&#39;Z&#39;</span><span class="op" id="2960011">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960016"><a href="/strconv/atoi.go.html#2959861">v</a></span>&nbsp;<span class="op" id="2960018">=</span>&nbsp;<span class="ident" id="2960020"><a href="/strconv/atoi.go.html#2959870">d</a></span>&nbsp;<span class="op" id="2960022">-</span>&nbsp;<span class="string" id="2960024">&#39;A&#39;</span>&nbsp;<span class="op" id="2960028">+</span>&nbsp;<span class="num" id="2960030">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960035">default</span><span class="op" id="2960042">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960047"><a href="/strconv/atoi.go.html#2959180">n</a></span>&nbsp;<span class="op" id="2960049">=</span>&nbsp;<span class="num" id="2960051">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960056"><a href="/strconv/atoi.go.html#2959190">err</a></span>&nbsp;<span class="op" id="2960060">=</span>&nbsp;<span class="ident" id="2960062"><a href="/strconv/atoi.go.html#2958213">ErrSyntax</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960075">goto</span>&nbsp;<span class="ident" id="2960080">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2960088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960092">if</span>&nbsp;<span class="builtintype" id="2960095">int</span><span class="op" id="2960098">(</span><span class="ident" id="2960099"><a href="/strconv/atoi.go.html#2959861">v</a></span><span class="op" id="2960100">)</span>&nbsp;<span class="op" id="2960102">&gt;=</span>&nbsp;<span class="ident" id="2960105"><a href="/strconv/atoi.go.html#2959156">base</a></span>&nbsp;<span class="op" id="2960110">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960115"><a href="/strconv/atoi.go.html#2959180">n</a></span>&nbsp;<span class="op" id="2960117">=</span>&nbsp;<span class="num" id="2960119">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960124"><a href="/strconv/atoi.go.html#2959190">err</a></span>&nbsp;<span class="op" id="2960128">=</span>&nbsp;<span class="ident" id="2960130"><a href="/strconv/atoi.go.html#2958213">ErrSyntax</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960143">goto</span>&nbsp;<span class="ident" id="2960148">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2960156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960161">if</span>&nbsp;<span class="ident" id="2960164"><a href="/strconv/atoi.go.html#2959180">n</a></span>&nbsp;<span class="op" id="2960166">&gt;=</span>&nbsp;<span class="ident" id="2960169"><a href="/strconv/atoi.go.html#2959208">cutoff</a></span>&nbsp;<span class="op" id="2960176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2960181">//&nbsp;n*base&nbsp;overflows</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960204"><a href="/strconv/atoi.go.html#2959180">n</a></span>&nbsp;<span class="op" id="2960206">=</span>&nbsp;<span class="num" id="2960208">1</span><span class="op" id="2960209">&lt;&lt;</span><span class="num" id="2960211">64</span>&nbsp;<span class="op" id="2960214">-</span>&nbsp;<span class="num" id="2960216">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960221"><a href="/strconv/atoi.go.html#2959190">err</a></span>&nbsp;<span class="op" id="2960225">=</span>&nbsp;<span class="ident" id="2960227"><a href="/strconv/atoi.go.html#2958076">ErrRange</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960239">goto</span>&nbsp;<span class="ident" id="2960244">Error</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2960252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960256"><a href="/strconv/atoi.go.html#2959180">n</a></span>&nbsp;<span class="op" id="2960258">*=</span>&nbsp;<span class="ident" id="2960261">uint64</span><span class="op" id="2960267">(</span><span class="ident" id="2960268"><a href="/strconv/atoi.go.html#2959156">base</a></span><span class="op" id="2960272">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960277">n1</span>&nbsp;<span class="op" id="2960280">:=</span>&nbsp;<span class="ident" id="2960283"><a href="/strconv/atoi.go.html#2959180">n</a></span>&nbsp;<span class="op" id="2960285">+</span>&nbsp;<span class="ident" id="2960287">uint64</span><span class="op" id="2960293">(</span><span class="ident" id="2960294"><a href="/strconv/atoi.go.html#2959861">v</a></span><span class="op" id="2960295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960299">if</span>&nbsp;<span class="ident" id="2960302"><a href="/strconv/atoi.go.html#2960277">n1</a></span>&nbsp;<span class="op" id="2960305">&lt;</span>&nbsp;<span class="ident" id="2960307"><a href="/strconv/atoi.go.html#2959180">n</a></span>&nbsp;<span class="op" id="2960309">||</span>&nbsp;<span class="ident" id="2960312"><a href="/strconv/atoi.go.html#2960277">n1</a></span>&nbsp;<span class="op" id="2960315">&gt;</span>&nbsp;<span class="ident" id="2960317"><a href="/strconv/atoi.go.html#2959216">maxVal</a></span>&nbsp;<span class="op" id="2960324">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2960329">//&nbsp;n+v&nbsp;overflows</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960349"><a href="/strconv/atoi.go.html#2959180">n</a></span>&nbsp;<span class="op" id="2960351">=</span>&nbsp;<span class="num" id="2960353">1</span><span class="op" id="2960354">&lt;&lt;</span><span class="num" id="2960356">64</span>&nbsp;<span class="op" id="2960359">-</span>&nbsp;<span class="num" id="2960361">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960366"><a href="/strconv/atoi.go.html#2959190">err</a></span>&nbsp;<span class="op" id="2960370">=</span>&nbsp;<span class="ident" id="2960372"><a href="/strconv/atoi.go.html#2958076">ErrRange</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960384">goto</span>&nbsp;<span class="ident" id="2960389">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2960397">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960401"><a href="/strconv/atoi.go.html#2959180">n</a></span>&nbsp;<span class="op" id="2960403">=</span>&nbsp;<span class="ident" id="2960405"><a href="/strconv/atoi.go.html#2960277">n1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2960409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960413">return</span>&nbsp;<span class="ident" id="2960420"><a href="/strconv/atoi.go.html#2959180">n</a></span><span class="op" id="2960421">,</span>&nbsp;<span class="ident" id="2960423">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="ident" id="2960428">Error</span><span class="op" id="2960433">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960436">return</span>&nbsp;<span class="ident" id="2960443"><a href="/strconv/atoi.go.html#2959180">n</a></span><span class="op" id="2960444">,</span>&nbsp;<span class="op" id="2960446">&amp;</span><span class="ident" id="2960447"><a href="/strconv/atoi.go.html#2958303">NumError</a></span><span class="op" id="2960455">{</span><span class="string" id="2960456">&#34;ParseUint&#34;</span><span class="op" id="2960467">,</span>&nbsp;<span class="ident" id="2960469"><a href="/strconv/atoi.go.html#2959280">s0</a></span><span class="op" id="2960471">,</span>&nbsp;<span class="ident" id="2960473"><a href="/strconv/atoi.go.html#2959190">err</a></span><span class="op" id="2960476">}</span><br>
<span class="lineno"></span><span class="op" id="2960478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2960481">//&nbsp;ParseInt&nbsp;interprets&nbsp;a&nbsp;string&nbsp;s&nbsp;in&nbsp;the&nbsp;given&nbsp;base&nbsp;(2&nbsp;to&nbsp;36)&nbsp;and</span><br>
<span class="lineno">135</span><span class="comment" id="2960547">//&nbsp;returns&nbsp;the&nbsp;corresponding&nbsp;value&nbsp;i.&nbsp;&nbsp;If&nbsp;base&nbsp;==&nbsp;0,&nbsp;the&nbsp;base&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2960612">//&nbsp;implied&nbsp;by&nbsp;the&nbsp;string&#39;s&nbsp;prefix:&nbsp;base&nbsp;16&nbsp;for&nbsp;&#34;0x&#34;,&nbsp;base&nbsp;8&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2960676">//&nbsp;&#34;0&#34;,&nbsp;and&nbsp;base&nbsp;10&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="2960707">//</span><br>
<span class="lineno"></span><span class="comment" id="2960710">//&nbsp;The&nbsp;bitSize&nbsp;argument&nbsp;specifies&nbsp;the&nbsp;integer&nbsp;type</span><br>
<span class="lineno">140</span><span class="comment" id="2960761">//&nbsp;that&nbsp;the&nbsp;result&nbsp;must&nbsp;fit&nbsp;into.&nbsp;&nbsp;Bit&nbsp;sizes&nbsp;0,&nbsp;8,&nbsp;16,&nbsp;32,&nbsp;and&nbsp;64</span><br>
<span class="lineno"></span><span class="comment" id="2960827">//&nbsp;correspond&nbsp;to&nbsp;int,&nbsp;int8,&nbsp;int16,&nbsp;int32,&nbsp;and&nbsp;int64.</span><br>
<span class="lineno"></span><span class="comment" id="2960880">//</span><br>
<span class="lineno"></span><span class="comment" id="2960883">//&nbsp;The&nbsp;errors&nbsp;that&nbsp;ParseInt&nbsp;returns&nbsp;have&nbsp;concrete&nbsp;type&nbsp;*NumError</span><br>
<span class="lineno"></span><span class="comment" id="2960948">//&nbsp;and&nbsp;include&nbsp;err.Num&nbsp;=&nbsp;s.&nbsp;&nbsp;If&nbsp;s&nbsp;is&nbsp;empty&nbsp;or&nbsp;contains&nbsp;invalid</span><br>
<span class="lineno">145</span><span class="comment" id="2961011">//&nbsp;digits,&nbsp;err.Err&nbsp;=&nbsp;ErrSyntax&nbsp;and&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;0;</span><br>
<span class="lineno"></span><span class="comment" id="2961071">//&nbsp;if&nbsp;the&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;s&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;by&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2961133">//&nbsp;signed&nbsp;integer&nbsp;of&nbsp;the&nbsp;given&nbsp;size,&nbsp;err.Err&nbsp;=&nbsp;ErrRange&nbsp;and&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2961197">//&nbsp;returned&nbsp;value&nbsp;is&nbsp;the&nbsp;maximum&nbsp;magnitude&nbsp;integer&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2961255">//&nbsp;appropriate&nbsp;bitSize&nbsp;and&nbsp;sign.</span><br>
<span class="lineno">150</span><span class="keyword" id="2961288">func</span>&nbsp;<span class="ident" id="2961293">ParseInt</span><span class="op" id="2961301">(</span><span class="ident" id="2961302">s</span>&nbsp;<span class="builtintype" id="2961304">string</span><span class="op" id="2961310">,</span>&nbsp;<span class="ident" id="2961312">base</span>&nbsp;<span class="builtintype" id="2961317">int</span><span class="op" id="2961320">,</span>&nbsp;<span class="ident" id="2961322">bitSize</span>&nbsp;<span class="builtintype" id="2961330">int</span><span class="op" id="2961333">)</span>&nbsp;<span class="op" id="2961335">(</span><span class="ident" id="2961336">i</span>&nbsp;<span class="ident" id="2961338">int64</span><span class="op" id="2961343">,</span>&nbsp;<span class="ident" id="2961345">err</span>&nbsp;<span class="builtintype" id="2961349">error</span><span class="op" id="2961354">)</span>&nbsp;<span class="op" id="2961356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961359">const</span>&nbsp;<span class="ident" id="2961365">fnParseInt</span>&nbsp;<span class="op" id="2961376">=</span>&nbsp;<span class="string" id="2961378">&#34;ParseInt&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961391">if</span>&nbsp;<span class="ident" id="2961394"><a href="/strconv/atoi.go.html#2961322">bitSize</a></span>&nbsp;<span class="op" id="2961402">==</span>&nbsp;<span class="num" id="2961405">0</span>&nbsp;<span class="op" id="2961407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961411"><a href="/strconv/atoi.go.html#2961322">bitSize</a></span>&nbsp;<span class="op" id="2961419">=</span>&nbsp;<span class="builtintype" id="2961421">int</span><span class="op" id="2961424">(</span><span class="ident" id="2961425"><a href="/strconv/atoi.go.html#2958900">IntSize</a></span><span class="op" id="2961432">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2961439">//&nbsp;Empty&nbsp;string&nbsp;bad.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961461">if</span>&nbsp;<span class="builtinfunc" id="2961464">len</span><span class="op" id="2961467">(</span><span class="ident" id="2961468"><a href="/strconv/atoi.go.html#2961302">s</a></span><span class="op" id="2961469">)</span>&nbsp;<span class="op" id="2961471">==</span>&nbsp;<span class="num" id="2961474">0</span>&nbsp;<span class="op" id="2961476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961480">return</span>&nbsp;<span class="num" id="2961487">0</span><span class="op" id="2961488">,</span>&nbsp;<span class="ident" id="2961490"><a href="/strconv/atoi.go.html#2958633">syntaxError</a></span><span class="op" id="2961501">(</span><span class="ident" id="2961502"><a href="/strconv/atoi.go.html#2961365">fnParseInt</a></span><span class="op" id="2961512">,</span>&nbsp;<span class="ident" id="2961514"><a href="/strconv/atoi.go.html#2961302">s</a></span><span class="op" id="2961515">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2961522">//&nbsp;Pick&nbsp;off&nbsp;leading&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961549">s0</span>&nbsp;<span class="op" id="2961552">:=</span>&nbsp;<span class="ident" id="2961555"><a href="/strconv/atoi.go.html#2961302">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961558">neg</span>&nbsp;<span class="op" id="2961562">:=</span>&nbsp;<span class="builtintype" id="2961565">false</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961572">if</span>&nbsp;<span class="ident" id="2961575"><a href="/strconv/atoi.go.html#2961302">s</a></span><span class="op" id="2961576">[</span><span class="num" id="2961577">0</span><span class="op" id="2961578">]</span>&nbsp;<span class="op" id="2961580">==</span>&nbsp;<span class="string" id="2961583">&#39;+&#39;</span>&nbsp;<span class="op" id="2961587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961591"><a href="/strconv/atoi.go.html#2961302">s</a></span>&nbsp;<span class="op" id="2961593">=</span>&nbsp;<span class="ident" id="2961595"><a href="/strconv/atoi.go.html#2961302">s</a></span><span class="op" id="2961596">[</span><span class="num" id="2961597">1</span><span class="op" id="2961598">:</span><span class="op" id="2961599">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961602">}</span>&nbsp;<span class="keyword" id="2961604">else</span>&nbsp;<span class="keyword" id="2961609">if</span>&nbsp;<span class="ident" id="2961612"><a href="/strconv/atoi.go.html#2961302">s</a></span><span class="op" id="2961613">[</span><span class="num" id="2961614">0</span><span class="op" id="2961615">]</span>&nbsp;<span class="op" id="2961617">==</span>&nbsp;<span class="string" id="2961620">&#39;-&#39;</span>&nbsp;<span class="op" id="2961624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961628"><a href="/strconv/atoi.go.html#2961558">neg</a></span>&nbsp;<span class="op" id="2961632">=</span>&nbsp;<span class="builtintype" id="2961634">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961641"><a href="/strconv/atoi.go.html#2961302">s</a></span>&nbsp;<span class="op" id="2961643">=</span>&nbsp;<span class="ident" id="2961645"><a href="/strconv/atoi.go.html#2961302">s</a></span><span class="op" id="2961646">[</span><span class="num" id="2961647">1</span><span class="op" id="2961648">:</span><span class="op" id="2961649">]</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2961656">//&nbsp;Convert&nbsp;unsigned&nbsp;and&nbsp;check&nbsp;range.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961694">var</span>&nbsp;<span class="ident" id="2961698">un</span>&nbsp;<span class="ident" id="2961701">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961709"><a href="/strconv/atoi.go.html#2961698">un</a></span><span class="op" id="2961711">,</span>&nbsp;<span class="ident" id="2961713"><a href="/strconv/atoi.go.html#2961345">err</a></span>&nbsp;<span class="op" id="2961717">=</span>&nbsp;<span class="ident" id="2961719"><a href="/strconv/atoi.go.html#2959136">ParseUint</a></span><span class="op" id="2961728">(</span><span class="ident" id="2961729"><a href="/strconv/atoi.go.html#2961302">s</a></span><span class="op" id="2961730">,</span>&nbsp;<span class="ident" id="2961732"><a href="/strconv/atoi.go.html#2961312">base</a></span><span class="op" id="2961736">,</span>&nbsp;<span class="ident" id="2961738"><a href="/strconv/atoi.go.html#2961322">bitSize</a></span><span class="op" id="2961745">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961748">if</span>&nbsp;<span class="ident" id="2961751"><a href="/strconv/atoi.go.html#2961345">err</a></span>&nbsp;<span class="op" id="2961755">!=</span>&nbsp;<span class="ident" id="2961758">nil</span>&nbsp;<span class="op" id="2961762">&amp;&amp;</span>&nbsp;<span class="ident" id="2961765"><a href="/strconv/atoi.go.html#2961345">err</a></span><span class="op" id="2961768">.</span><span class="op" id="2961769">(</span><span class="op" id="2961770">*</span><span class="ident" id="2961771"><a href="/strconv/atoi.go.html#2958303">NumError</a></span><span class="op" id="2961779">)</span><span class="op" id="2961780">.</span><span class="ident" id="2961781">Err</span>&nbsp;<span class="op" id="2961785">!=</span>&nbsp;<span class="ident" id="2961788"><a href="/strconv/atoi.go.html#2958076">ErrRange</a></span>&nbsp;<span class="op" id="2961797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961801"><a href="/strconv/atoi.go.html#2961345">err</a></span><span class="op" id="2961804">.</span><span class="op" id="2961805">(</span><span class="op" id="2961806">*</span><span class="ident" id="2961807"><a href="/strconv/atoi.go.html#2958303">NumError</a></span><span class="op" id="2961815">)</span><span class="op" id="2961816">.</span><span class="ident" id="2961817">Func</span>&nbsp;<span class="op" id="2961822">=</span>&nbsp;<span class="ident" id="2961824"><a href="/strconv/atoi.go.html#2961365">fnParseInt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961837"><a href="/strconv/atoi.go.html#2961345">err</a></span><span class="op" id="2961840">.</span><span class="op" id="2961841">(</span><span class="op" id="2961842">*</span><span class="ident" id="2961843"><a href="/strconv/atoi.go.html#2958303">NumError</a></span><span class="op" id="2961851">)</span><span class="op" id="2961852">.</span><span class="ident" id="2961853">Num</span>&nbsp;<span class="op" id="2961857">=</span>&nbsp;<span class="ident" id="2961859"><a href="/strconv/atoi.go.html#2961549">s0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961864">return</span>&nbsp;<span class="num" id="2961871">0</span><span class="op" id="2961872">,</span>&nbsp;<span class="ident" id="2961874"><a href="/strconv/atoi.go.html#2961345">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961879">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961882">cutoff</span>&nbsp;<span class="op" id="2961889">:=</span>&nbsp;<span class="ident" id="2961892">uint64</span><span class="op" id="2961898">(</span><span class="num" id="2961899">1</span>&nbsp;<span class="op" id="2961901">&lt;&lt;</span>&nbsp;<span class="builtintype" id="2961904">uint</span><span class="op" id="2961908">(</span><span class="ident" id="2961909"><a href="/strconv/atoi.go.html#2961322">bitSize</a></span><span class="op" id="2961916">-</span><span class="num" id="2961917">1</span><span class="op" id="2961918">)</span><span class="op" id="2961919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961922">if</span>&nbsp;<span class="op" id="2961925">!</span><span class="ident" id="2961926"><a href="/strconv/atoi.go.html#2961558">neg</a></span>&nbsp;<span class="op" id="2961930">&amp;&amp;</span>&nbsp;<span class="ident" id="2961933"><a href="/strconv/atoi.go.html#2961698">un</a></span>&nbsp;<span class="op" id="2961936">&gt;=</span>&nbsp;<span class="ident" id="2961939"><a href="/strconv/atoi.go.html#2961882">cutoff</a></span>&nbsp;<span class="op" id="2961946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961950">return</span>&nbsp;<span class="ident" id="2961957">int64</span><span class="op" id="2961962">(</span><span class="ident" id="2961963"><a href="/strconv/atoi.go.html#2961882">cutoff</a></span>&nbsp;<span class="op" id="2961970">-</span>&nbsp;<span class="num" id="2961972">1</span><span class="op" id="2961973">)</span><span class="op" id="2961974">,</span>&nbsp;<span class="ident" id="2961976"><a href="/strconv/atoi.go.html#2958719">rangeError</a></span><span class="op" id="2961986">(</span><span class="ident" id="2961987"><a href="/strconv/atoi.go.html#2961365">fnParseInt</a></span><span class="op" id="2961997">,</span>&nbsp;<span class="ident" id="2961999"><a href="/strconv/atoi.go.html#2961549">s0</a></span><span class="op" id="2962001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2962004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962007">if</span>&nbsp;<span class="ident" id="2962010"><a href="/strconv/atoi.go.html#2961558">neg</a></span>&nbsp;<span class="op" id="2962014">&amp;&amp;</span>&nbsp;<span class="ident" id="2962017"><a href="/strconv/atoi.go.html#2961698">un</a></span>&nbsp;<span class="op" id="2962020">&gt;</span>&nbsp;<span class="ident" id="2962022"><a href="/strconv/atoi.go.html#2961882">cutoff</a></span>&nbsp;<span class="op" id="2962029">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962033">return</span>&nbsp;<span class="op" id="2962040">-</span><span class="ident" id="2962041">int64</span><span class="op" id="2962046">(</span><span class="ident" id="2962047"><a href="/strconv/atoi.go.html#2961882">cutoff</a></span><span class="op" id="2962053">)</span><span class="op" id="2962054">,</span>&nbsp;<span class="ident" id="2962056"><a href="/strconv/atoi.go.html#2958719">rangeError</a></span><span class="op" id="2962066">(</span><span class="ident" id="2962067"><a href="/strconv/atoi.go.html#2961365">fnParseInt</a></span><span class="op" id="2962077">,</span>&nbsp;<span class="ident" id="2962079"><a href="/strconv/atoi.go.html#2961549">s0</a></span><span class="op" id="2962081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2962084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2962087">n</span>&nbsp;<span class="op" id="2962089">:=</span>&nbsp;<span class="ident" id="2962092">int64</span><span class="op" id="2962097">(</span><span class="ident" id="2962098"><a href="/strconv/atoi.go.html#2961698">un</a></span><span class="op" id="2962100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962103">if</span>&nbsp;<span class="ident" id="2962106"><a href="/strconv/atoi.go.html#2961558">neg</a></span>&nbsp;<span class="op" id="2962110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2962114"><a href="/strconv/atoi.go.html#2962087">n</a></span>&nbsp;<span class="op" id="2962116">=</span>&nbsp;<span class="op" id="2962118">-</span><span class="ident" id="2962119"><a href="/strconv/atoi.go.html#2962087">n</a></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2962122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962125">return</span>&nbsp;<span class="ident" id="2962132"><a href="/strconv/atoi.go.html#2962087">n</a></span><span class="op" id="2962133">,</span>&nbsp;<span class="ident" id="2962135">nil</span><br>
<span class="lineno"></span><span class="op" id="2962139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2962142">//&nbsp;Atoi&nbsp;is&nbsp;shorthand&nbsp;for&nbsp;ParseInt(s,&nbsp;10,&nbsp;0).</span><br>
<span class="lineno">195</span><span class="keyword" id="2962187">func</span>&nbsp;<span class="ident" id="2962192">Atoi</span><span class="op" id="2962196">(</span><span class="ident" id="2962197">s</span>&nbsp;<span class="builtintype" id="2962199">string</span><span class="op" id="2962205">)</span>&nbsp;<span class="op" id="2962207">(</span><span class="ident" id="2962208">i</span>&nbsp;<span class="builtintype" id="2962210">int</span><span class="op" id="2962213">,</span>&nbsp;<span class="ident" id="2962215">err</span>&nbsp;<span class="builtintype" id="2962219">error</span><span class="op" id="2962224">)</span>&nbsp;<span class="op" id="2962226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2962229">i64</span><span class="op" id="2962232">,</span>&nbsp;<span class="ident" id="2962234"><a href="/strconv/atoi.go.html#2962215">err</a></span>&nbsp;<span class="op" id="2962238">:=</span>&nbsp;<span class="ident" id="2962241"><a href="/strconv/atoi.go.html#2961293">ParseInt</a></span><span class="op" id="2962249">(</span><span class="ident" id="2962250"><a href="/strconv/atoi.go.html#2962197">s</a></span><span class="op" id="2962251">,</span>&nbsp;<span class="num" id="2962253">10</span><span class="op" id="2962255">,</span>&nbsp;<span class="num" id="2962257">0</span><span class="op" id="2962258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962261">return</span>&nbsp;<span class="builtintype" id="2962268">int</span><span class="op" id="2962271">(</span><span class="ident" id="2962272"><a href="/strconv/atoi.go.html#2962229">i64</a></span><span class="op" id="2962275">)</span><span class="op" id="2962276">,</span>&nbsp;<span class="ident" id="2962278"><a href="/strconv/atoi.go.html#2962215">err</a></span><br>
<span class="lineno"></span><span class="op" id="2962282">}</span>
</div>
</body>
</html>
