<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html" class="current">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6707120">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6707175">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6707229">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6707280">//&nbsp;TODO&nbsp;It&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;use&nbsp;a&nbsp;mock&nbsp;DNS&nbsp;server,&nbsp;to&nbsp;eliminate</span><br>
<span class="lineno"></span><span class="comment" id="6707344">//&nbsp;external&nbsp;dependencies.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6707371">package</span>&nbsp;<span class="ident" id="6707379">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="6707384">import</span>&nbsp;<span class="op" id="6707391">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707394">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707402">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707413">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6707423">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6707426">var</span>&nbsp;<span class="ident" id="6707430">testExternal</span>&nbsp;<span class="op" id="6707443">=</span>&nbsp;<span class="ident" id="6707445"><a href="/gostd/net/lookup_test.go.html#6707394">flag</a></span><span class="op" id="6707449">.</span><span class="ident" id="6707450"><a href="/gostd/flag/flag.go.html#3948389">Bool</a></span><span class="op" id="6707454">(</span><span class="string" id="6707455">&#34;external&#34;</span><span class="op" id="6707465">,</span>&nbsp;<span class="builtintype" id="6707467">true</span><span class="op" id="6707471">,</span>&nbsp;<span class="string" id="6707473">&#34;allow&nbsp;use&nbsp;of&nbsp;external&nbsp;networks&nbsp;during&nbsp;long&nbsp;test&#34;</span><span class="op" id="6707522">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6707525">var</span>&nbsp;<span class="ident" id="6707529">lookupGoogleSRVTests</span>&nbsp;<span class="op" id="6707550">=</span>&nbsp;<span class="op" id="6707552">[</span><span class="op" id="6707553">]</span><span class="keyword" id="6707554">struct</span>&nbsp;<span class="op" id="6707561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6707564">service</span><span class="op" id="6707571">,</span>&nbsp;<span class="ident" id="6707573">proto</span><span class="op" id="6707578">,</span>&nbsp;<span class="ident" id="6707580">name</span>&nbsp;<span class="builtintype" id="6707585">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6707593">cname</span><span class="op" id="6707598">,</span>&nbsp;<span class="ident" id="6707600">target</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6707614">string</span><br>
<span class="lineno"></span><span class="op" id="6707621">}</span><span class="op" id="6707622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707629">&#34;xmpp-server&#34;</span><span class="op" id="6707642">,</span>&nbsp;<span class="string" id="6707644">&#34;tcp&#34;</span><span class="op" id="6707649">,</span>&nbsp;<span class="string" id="6707651">&#34;google.com&#34;</span><span class="op" id="6707663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707667">&#34;.google.com&#34;</span><span class="op" id="6707680">,</span>&nbsp;<span class="string" id="6707682">&#34;.google.com&#34;</span><span class="op" id="6707695">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707698">}</span><span class="op" id="6707699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707706">&#34;&#34;</span><span class="op" id="6707708">,</span>&nbsp;<span class="string" id="6707710">&#34;&#34;</span><span class="op" id="6707712">,</span>&nbsp;<span class="string" id="6707714">&#34;_xmpp-server._tcp.google.com&#34;</span><span class="op" id="6707744">,</span>&nbsp;<span class="comment" id="6707746">//&nbsp;non-standard&nbsp;back&nbsp;door</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707774">&#34;.google.com&#34;</span><span class="op" id="6707787">,</span>&nbsp;<span class="string" id="6707789">&#34;.google.com&#34;</span><span class="op" id="6707802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707805">}</span><span class="op" id="6707806">,</span><br>
<span class="lineno">30</span><span class="op" id="6707808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6707811">func</span>&nbsp;<span class="ident" id="6707816">TestLookupGoogleSRV</span><span class="op" id="6707835">(</span><span class="ident" id="6707836">t</span>&nbsp;<span class="op" id="6707838">*</span><span class="ident" id="6707839"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6707846">.</span><span class="ident" id="6707847"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6707848">)</span>&nbsp;<span class="op" id="6707850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6707853">if</span>&nbsp;<span class="ident" id="6707856"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6707863">.</span><span class="ident" id="6707864"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6707869">(</span><span class="op" id="6707870">)</span>&nbsp;<span class="op" id="6707872">||</span>&nbsp;<span class="op" id="6707875">!</span><span class="op" id="6707876">*</span><span class="ident" id="6707877"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6707890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6707894"><a href="/gostd/net/lookup_test.go.html#6707836">t</a></span><span class="op" id="6707895">.</span><span class="ident" id="6707896"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6707900">(</span><span class="string" id="6707901">&#34;skipping&nbsp;test&nbsp;to&nbsp;avoid&nbsp;external&nbsp;network&#34;</span><span class="op" id="6707942">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6707949">for</span>&nbsp;<span class="ident" id="6707953">_</span><span class="op" id="6707954">,</span>&nbsp;<span class="ident" id="6707956">tt</span>&nbsp;<span class="op" id="6707959">:=</span>&nbsp;<span class="keyword" id="6707962">range</span>&nbsp;<span class="ident" id="6707968"><a href="/gostd/net/lookup_test.go.html#6707529">lookupGoogleSRVTests</a></span>&nbsp;<span class="op" id="6707989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6707993">cname</span><span class="op" id="6707998">,</span>&nbsp;<span class="ident" id="6708000">srvs</span><span class="op" id="6708004">,</span>&nbsp;<span class="ident" id="6708006">err</span>&nbsp;<span class="op" id="6708010">:=</span>&nbsp;<span class="ident" id="6708013"><a href="/gostd/net/lookup.go.html#3326799">LookupSRV</a></span><span class="op" id="6708022">(</span><span class="ident" id="6708023"><a href="/gostd/net/lookup_test.go.html#6707956">tt</a></span><span class="op" id="6708025">.</span><span class="ident" id="6708026"><a href="/gostd/net/lookup_test.go.html#6707564">service</a></span><span class="op" id="6708033">,</span>&nbsp;<span class="ident" id="6708035"><a href="/gostd/net/lookup_test.go.html#6707956">tt</a></span><span class="op" id="6708037">.</span><span class="ident" id="6708038"><a href="/gostd/net/lookup_test.go.html#6707573">proto</a></span><span class="op" id="6708043">,</span>&nbsp;<span class="ident" id="6708045"><a href="/gostd/net/lookup_test.go.html#6707956">tt</a></span><span class="op" id="6708047">.</span><span class="ident" id="6708048"><a href="/gostd/net/lookup_test.go.html#6707580">name</a></span><span class="op" id="6708052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708056">if</span>&nbsp;<span class="ident" id="6708059"><a href="/gostd/net/lookup_test.go.html#6708006">err</a></span>&nbsp;<span class="op" id="6708063">!=</span>&nbsp;<span class="builtintype" id="6708066">nil</span>&nbsp;<span class="op" id="6708070">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708075"><a href="/gostd/net/lookup_test.go.html#6707836">t</a></span><span class="op" id="6708076">.</span><span class="ident" id="6708077"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6708082">(</span><span class="ident" id="6708083"><a href="/gostd/net/lookup_test.go.html#6708006">err</a></span><span class="op" id="6708086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708094">if</span>&nbsp;<span class="builtinfunc" id="6708097">len</span><span class="op" id="6708100">(</span><span class="ident" id="6708101"><a href="/gostd/net/lookup_test.go.html#6708000">srvs</a></span><span class="op" id="6708105">)</span>&nbsp;<span class="op" id="6708107">==</span>&nbsp;<span class="num" id="6708110">0</span>&nbsp;<span class="op" id="6708112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708117"><a href="/gostd/net/lookup_test.go.html#6707836">t</a></span><span class="op" id="6708118">.</span><span class="ident" id="6708119"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6708124">(</span><span class="string" id="6708125">&#34;got&nbsp;no&nbsp;record&#34;</span><span class="op" id="6708140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708144">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708148">if</span>&nbsp;<span class="op" id="6708151">!</span><span class="ident" id="6708152"><a href="/gostd/net/lookup_test.go.html#6707402">strings</a></span><span class="op" id="6708159">.</span><span class="ident" id="6708160"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="6708168">(</span><span class="ident" id="6708169"><a href="/gostd/net/lookup_test.go.html#6707993">cname</a></span><span class="op" id="6708174">,</span>&nbsp;<span class="ident" id="6708176"><a href="/gostd/net/lookup_test.go.html#6707956">tt</a></span><span class="op" id="6708178">.</span><span class="ident" id="6708179"><a href="/gostd/net/lookup_test.go.html#6707593">cname</a></span><span class="op" id="6708184">)</span>&nbsp;<span class="op" id="6708186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708191"><a href="/gostd/net/lookup_test.go.html#6707836">t</a></span><span class="op" id="6708192">.</span><span class="ident" id="6708193"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6708199">(</span><span class="string" id="6708200">&#34;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6708217">,</span>&nbsp;<span class="ident" id="6708219"><a href="/gostd/net/lookup_test.go.html#6707993">cname</a></span><span class="op" id="6708224">,</span>&nbsp;<span class="ident" id="6708226"><a href="/gostd/net/lookup_test.go.html#6707956">tt</a></span><span class="op" id="6708228">.</span><span class="ident" id="6708229"><a href="/gostd/net/lookup_test.go.html#6707593">cname</a></span><span class="op" id="6708234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708238">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708242">for</span>&nbsp;<span class="ident" id="6708246">_</span><span class="op" id="6708247">,</span>&nbsp;<span class="ident" id="6708249">srv</span>&nbsp;<span class="op" id="6708253">:=</span>&nbsp;<span class="keyword" id="6708256">range</span>&nbsp;<span class="ident" id="6708262"><a href="/gostd/net/lookup_test.go.html#6708000">srvs</a></span>&nbsp;<span class="op" id="6708267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708272">if</span>&nbsp;<span class="op" id="6708275">!</span><span class="ident" id="6708276"><a href="/gostd/net/lookup_test.go.html#6707402">strings</a></span><span class="op" id="6708283">.</span><span class="ident" id="6708284"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="6708292">(</span><span class="ident" id="6708293"><a href="/gostd/net/lookup_test.go.html#6708249">srv</a></span><span class="op" id="6708296">.</span><span class="ident" id="6708297"><a href="/gostd/net/dnsclient.go.html#3212766">Target</a></span><span class="op" id="6708303">,</span>&nbsp;<span class="ident" id="6708305"><a href="/gostd/net/lookup_test.go.html#6707956">tt</a></span><span class="op" id="6708307">.</span><span class="ident" id="6708308"><a href="/gostd/net/lookup_test.go.html#6707600">target</a></span><span class="op" id="6708314">)</span>&nbsp;<span class="op" id="6708316">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708322"><a href="/gostd/net/lookup_test.go.html#6707836">t</a></span><span class="op" id="6708323">.</span><span class="ident" id="6708324"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6708330">(</span><span class="string" id="6708331">&#34;got&nbsp;%v;&nbsp;want&nbsp;a&nbsp;record&nbsp;containing&nbsp;%q&#34;</span><span class="op" id="6708368">,</span>&nbsp;<span class="ident" id="6708370"><a href="/gostd/net/lookup_test.go.html#6708249">srv</a></span><span class="op" id="6708373">,</span>&nbsp;<span class="ident" id="6708375"><a href="/gostd/net/lookup_test.go.html#6707956">tt</a></span><span class="op" id="6708377">.</span><span class="ident" id="6708378"><a href="/gostd/net/lookup_test.go.html#6707600">target</a></span><span class="op" id="6708384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708396">}</span><br>
<span class="lineno"></span><span class="op" id="6708398">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="6708401">func</span>&nbsp;<span class="ident" id="6708406">TestLookupGmailMX</span><span class="op" id="6708423">(</span><span class="ident" id="6708424">t</span>&nbsp;<span class="op" id="6708426">*</span><span class="ident" id="6708427"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6708434">.</span><span class="ident" id="6708435"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6708436">)</span>&nbsp;<span class="op" id="6708438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708441">if</span>&nbsp;<span class="ident" id="6708444"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6708451">.</span><span class="ident" id="6708452"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6708457">(</span><span class="op" id="6708458">)</span>&nbsp;<span class="op" id="6708460">||</span>&nbsp;<span class="op" id="6708463">!</span><span class="op" id="6708464">*</span><span class="ident" id="6708465"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6708478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708482"><a href="/gostd/net/lookup_test.go.html#6708424">t</a></span><span class="op" id="6708483">.</span><span class="ident" id="6708484"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6708488">(</span><span class="string" id="6708489">&#34;skipping&nbsp;test&nbsp;to&nbsp;avoid&nbsp;external&nbsp;network&#34;</span><span class="op" id="6708530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708533">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708537">mxs</span><span class="op" id="6708540">,</span>&nbsp;<span class="ident" id="6708542">err</span>&nbsp;<span class="op" id="6708546">:=</span>&nbsp;<span class="ident" id="6708549"><a href="/gostd/net/lookup.go.html#3327015">LookupMX</a></span><span class="op" id="6708557">(</span><span class="string" id="6708558">&#34;gmail.com&#34;</span><span class="op" id="6708569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708572">if</span>&nbsp;<span class="ident" id="6708575"><a href="/gostd/net/lookup_test.go.html#6708542">err</a></span>&nbsp;<span class="op" id="6708579">!=</span>&nbsp;<span class="builtintype" id="6708582">nil</span>&nbsp;<span class="op" id="6708586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708590"><a href="/gostd/net/lookup_test.go.html#6708424">t</a></span><span class="op" id="6708591">.</span><span class="ident" id="6708592"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6708597">(</span><span class="ident" id="6708598"><a href="/gostd/net/lookup_test.go.html#6708542">err</a></span><span class="op" id="6708601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708604">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708607">if</span>&nbsp;<span class="builtinfunc" id="6708610">len</span><span class="op" id="6708613">(</span><span class="ident" id="6708614"><a href="/gostd/net/lookup_test.go.html#6708537">mxs</a></span><span class="op" id="6708617">)</span>&nbsp;<span class="op" id="6708619">==</span>&nbsp;<span class="num" id="6708622">0</span>&nbsp;<span class="op" id="6708624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708628"><a href="/gostd/net/lookup_test.go.html#6708424">t</a></span><span class="op" id="6708629">.</span><span class="ident" id="6708630"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6708635">(</span><span class="string" id="6708636">&#34;got&nbsp;no&nbsp;record&#34;</span><span class="op" id="6708651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708657">for</span>&nbsp;<span class="ident" id="6708661">_</span><span class="op" id="6708662">,</span>&nbsp;<span class="ident" id="6708664">mx</span>&nbsp;<span class="op" id="6708667">:=</span>&nbsp;<span class="keyword" id="6708670">range</span>&nbsp;<span class="ident" id="6708676"><a href="/gostd/net/lookup_test.go.html#6708537">mxs</a></span>&nbsp;<span class="op" id="6708680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708684">if</span>&nbsp;<span class="op" id="6708687">!</span><span class="ident" id="6708688"><a href="/gostd/net/lookup_test.go.html#6707402">strings</a></span><span class="op" id="6708695">.</span><span class="ident" id="6708696"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="6708704">(</span><span class="ident" id="6708705"><a href="/gostd/net/lookup_test.go.html#6708664">mx</a></span><span class="op" id="6708707">.</span><span class="ident" id="6708708"><a href="/gostd/net/dnsclient.go.html#3214050">Host</a></span><span class="op" id="6708712">,</span>&nbsp;<span class="string" id="6708714">&#34;.google.com&#34;</span><span class="op" id="6708727">)</span>&nbsp;<span class="op" id="6708729">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708734"><a href="/gostd/net/lookup_test.go.html#6708424">t</a></span><span class="op" id="6708735">.</span><span class="ident" id="6708736"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6708742">(</span><span class="string" id="6708743">&#34;got&nbsp;%v;&nbsp;want&nbsp;a&nbsp;record&nbsp;containing&nbsp;.google.com.&#34;</span><span class="op" id="6708790">,</span>&nbsp;<span class="ident" id="6708792"><a href="/gostd/net/lookup_test.go.html#6708664">mx</a></span><span class="op" id="6708794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708801">}</span><br>
<span class="lineno"></span><span class="op" id="6708803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="6708806">func</span>&nbsp;<span class="ident" id="6708811">TestLookupGmailNS</span><span class="op" id="6708828">(</span><span class="ident" id="6708829">t</span>&nbsp;<span class="op" id="6708831">*</span><span class="ident" id="6708832"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6708839">.</span><span class="ident" id="6708840"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6708841">)</span>&nbsp;<span class="op" id="6708843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708846">if</span>&nbsp;<span class="ident" id="6708849"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6708856">.</span><span class="ident" id="6708857"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6708862">(</span><span class="op" id="6708863">)</span>&nbsp;<span class="op" id="6708865">||</span>&nbsp;<span class="op" id="6708868">!</span><span class="op" id="6708869">*</span><span class="ident" id="6708870"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6708883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708887"><a href="/gostd/net/lookup_test.go.html#6708829">t</a></span><span class="op" id="6708888">.</span><span class="ident" id="6708889"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6708893">(</span><span class="string" id="6708894">&#34;skipping&nbsp;test&nbsp;to&nbsp;avoid&nbsp;external&nbsp;network&#34;</span><span class="op" id="6708935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708942">nss</span><span class="op" id="6708945">,</span>&nbsp;<span class="ident" id="6708947">err</span>&nbsp;<span class="op" id="6708951">:=</span>&nbsp;<span class="ident" id="6708954"><a href="/gostd/net/lookup.go.html#3327158">LookupNS</a></span><span class="op" id="6708962">(</span><span class="string" id="6708963">&#34;gmail.com&#34;</span><span class="op" id="6708974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708977">if</span>&nbsp;<span class="ident" id="6708980"><a href="/gostd/net/lookup_test.go.html#6708947">err</a></span>&nbsp;<span class="op" id="6708984">!=</span>&nbsp;<span class="builtintype" id="6708987">nil</span>&nbsp;<span class="op" id="6708991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708995"><a href="/gostd/net/lookup_test.go.html#6708829">t</a></span><span class="op" id="6708996">.</span><span class="ident" id="6708997"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6709002">(</span><span class="ident" id="6709003"><a href="/gostd/net/lookup_test.go.html#6708947">err</a></span><span class="op" id="6709006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6709012">if</span>&nbsp;<span class="builtinfunc" id="6709015">len</span><span class="op" id="6709018">(</span><span class="ident" id="6709019"><a href="/gostd/net/lookup_test.go.html#6708942">nss</a></span><span class="op" id="6709022">)</span>&nbsp;<span class="op" id="6709024">==</span>&nbsp;<span class="num" id="6709027">0</span>&nbsp;<span class="op" id="6709029">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709033"><a href="/gostd/net/lookup_test.go.html#6708829">t</a></span><span class="op" id="6709034">.</span><span class="ident" id="6709035"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6709040">(</span><span class="string" id="6709041">&#34;got&nbsp;no&nbsp;record&#34;</span><span class="op" id="6709056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6709062">for</span>&nbsp;<span class="ident" id="6709066">_</span><span class="op" id="6709067">,</span>&nbsp;<span class="ident" id="6709069">ns</span>&nbsp;<span class="op" id="6709072">:=</span>&nbsp;<span class="keyword" id="6709075">range</span>&nbsp;<span class="ident" id="6709081"><a href="/gostd/net/lookup_test.go.html#6708942">nss</a></span>&nbsp;<span class="op" id="6709085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6709089">if</span>&nbsp;<span class="op" id="6709092">!</span><span class="ident" id="6709093"><a href="/gostd/net/lookup_test.go.html#6707402">strings</a></span><span class="op" id="6709100">.</span><span class="ident" id="6709101"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="6709109">(</span><span class="ident" id="6709110"><a href="/gostd/net/lookup_test.go.html#6709069">ns</a></span><span class="op" id="6709112">.</span><span class="ident" id="6709113"><a href="/gostd/net/dnsclient.go.html#3214572">Host</a></span><span class="op" id="6709117">,</span>&nbsp;<span class="string" id="6709119">&#34;.google.com&#34;</span><span class="op" id="6709132">)</span>&nbsp;<span class="op" id="6709134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709139"><a href="/gostd/net/lookup_test.go.html#6708829">t</a></span><span class="op" id="6709140">.</span><span class="ident" id="6709141"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6709147">(</span><span class="string" id="6709148">&#34;got&nbsp;%v;&nbsp;want&nbsp;a&nbsp;record&nbsp;containing&nbsp;.google.com.&#34;</span><span class="op" id="6709195">,</span>&nbsp;<span class="ident" id="6709197"><a href="/gostd/net/lookup_test.go.html#6709069">ns</a></span><span class="op" id="6709199">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709206">}</span><br>
<span class="lineno"></span><span class="op" id="6709208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6709211">func</span>&nbsp;<span class="ident" id="6709216">TestLookupGmailTXT</span><span class="op" id="6709234">(</span><span class="ident" id="6709235">t</span>&nbsp;<span class="op" id="6709237">*</span><span class="ident" id="6709238"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6709245">.</span><span class="ident" id="6709246"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6709247">)</span>&nbsp;<span class="op" id="6709249">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6709252">if</span>&nbsp;<span class="ident" id="6709255"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6709262">.</span><span class="ident" id="6709263"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6709268">(</span><span class="op" id="6709269">)</span>&nbsp;<span class="op" id="6709271">||</span>&nbsp;<span class="op" id="6709274">!</span><span class="op" id="6709275">*</span><span class="ident" id="6709276"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6709289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709293"><a href="/gostd/net/lookup_test.go.html#6709235">t</a></span><span class="op" id="6709294">.</span><span class="ident" id="6709295"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6709299">(</span><span class="string" id="6709300">&#34;skipping&nbsp;test&nbsp;to&nbsp;avoid&nbsp;external&nbsp;network&#34;</span><span class="op" id="6709341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709348">txts</span><span class="op" id="6709352">,</span>&nbsp;<span class="ident" id="6709354">err</span>&nbsp;<span class="op" id="6709358">:=</span>&nbsp;<span class="ident" id="6709361"><a href="/gostd/net/lookup.go.html#3327303">LookupTXT</a></span><span class="op" id="6709370">(</span><span class="string" id="6709371">&#34;gmail.com&#34;</span><span class="op" id="6709382">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6709385">if</span>&nbsp;<span class="ident" id="6709388"><a href="/gostd/net/lookup_test.go.html#6709354">err</a></span>&nbsp;<span class="op" id="6709392">!=</span>&nbsp;<span class="builtintype" id="6709395">nil</span>&nbsp;<span class="op" id="6709399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709403"><a href="/gostd/net/lookup_test.go.html#6709235">t</a></span><span class="op" id="6709404">.</span><span class="ident" id="6709405"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6709410">(</span><span class="ident" id="6709411"><a href="/gostd/net/lookup_test.go.html#6709354">err</a></span><span class="op" id="6709414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6709420">if</span>&nbsp;<span class="builtinfunc" id="6709423">len</span><span class="op" id="6709426">(</span><span class="ident" id="6709427"><a href="/gostd/net/lookup_test.go.html#6709348">txts</a></span><span class="op" id="6709431">)</span>&nbsp;<span class="op" id="6709433">==</span>&nbsp;<span class="num" id="6709436">0</span>&nbsp;<span class="op" id="6709438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709442"><a href="/gostd/net/lookup_test.go.html#6709235">t</a></span><span class="op" id="6709443">.</span><span class="ident" id="6709444"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6709449">(</span><span class="string" id="6709450">&#34;got&nbsp;no&nbsp;record&#34;</span><span class="op" id="6709465">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6709471">for</span>&nbsp;<span class="ident" id="6709475">_</span><span class="op" id="6709476">,</span>&nbsp;<span class="ident" id="6709478">txt</span>&nbsp;<span class="op" id="6709482">:=</span>&nbsp;<span class="keyword" id="6709485">range</span>&nbsp;<span class="ident" id="6709491"><a href="/gostd/net/lookup_test.go.html#6709348">txts</a></span>&nbsp;<span class="op" id="6709496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6709500">if</span>&nbsp;<span class="op" id="6709503">!</span><span class="ident" id="6709504"><a href="/gostd/net/lookup_test.go.html#6707402">strings</a></span><span class="op" id="6709511">.</span><span class="ident" id="6709512"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="6709520">(</span><span class="ident" id="6709521"><a href="/gostd/net/lookup_test.go.html#6709478">txt</a></span><span class="op" id="6709524">,</span>&nbsp;<span class="string" id="6709526">&#34;spf&#34;</span><span class="op" id="6709531">)</span>&nbsp;<span class="op" id="6709533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709538"><a href="/gostd/net/lookup_test.go.html#6709235">t</a></span><span class="op" id="6709539">.</span><span class="ident" id="6709540"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6709546">(</span><span class="string" id="6709547">&#34;got&nbsp;%q;&nbsp;want&nbsp;a&nbsp;spf&nbsp;record&#34;</span><span class="op" id="6709574">,</span>&nbsp;<span class="ident" id="6709576"><a href="/gostd/net/lookup_test.go.html#6709478">txt</a></span><span class="op" id="6709579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709583">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709586">}</span><br>
<span class="lineno"></span><span class="op" id="6709588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6709591">var</span>&nbsp;<span class="ident" id="6709595">lookupGooglePublicDNSAddrs</span>&nbsp;<span class="op" id="6709622">=</span>&nbsp;<span class="op" id="6709624">[</span><span class="op" id="6709625">]</span><span class="keyword" id="6709626">struct</span>&nbsp;<span class="op" id="6709633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709636">addr</span>&nbsp;<span class="builtintype" id="6709641">string</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709649">name</span>&nbsp;<span class="builtintype" id="6709654">string</span><br>
<span class="lineno"></span><span class="op" id="6709661">}</span><span class="op" id="6709662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709665">{</span><span class="string" id="6709666">&#34;8.8.8.8&#34;</span><span class="op" id="6709675">,</span>&nbsp;<span class="string" id="6709677">&#34;.google.com.&#34;</span><span class="op" id="6709691">}</span><span class="op" id="6709692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709695">{</span><span class="string" id="6709696">&#34;8.8.4.4&#34;</span><span class="op" id="6709705">,</span>&nbsp;<span class="string" id="6709707">&#34;.google.com.&#34;</span><span class="op" id="6709721">}</span><span class="op" id="6709722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709725">{</span><span class="string" id="6709726">&#34;2001:4860:4860::8888&#34;</span><span class="op" id="6709748">,</span>&nbsp;<span class="string" id="6709750">&#34;.google.com.&#34;</span><span class="op" id="6709764">}</span><span class="op" id="6709765">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709768">{</span><span class="string" id="6709769">&#34;2001:4860:4860::8844&#34;</span><span class="op" id="6709791">,</span>&nbsp;<span class="string" id="6709793">&#34;.google.com.&#34;</span><span class="op" id="6709807">}</span><span class="op" id="6709808">,</span><br>
<span class="lineno"></span><span class="op" id="6709810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6709813">func</span>&nbsp;<span class="ident" id="6709818">TestLookupGooglePublicDNSAddr</span><span class="op" id="6709847">(</span><span class="ident" id="6709848">t</span>&nbsp;<span class="op" id="6709850">*</span><span class="ident" id="6709851"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6709858">.</span><span class="ident" id="6709859"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6709860">)</span>&nbsp;<span class="op" id="6709862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6709865">if</span>&nbsp;<span class="ident" id="6709868"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6709875">.</span><span class="ident" id="6709876"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6709881">(</span><span class="op" id="6709882">)</span>&nbsp;<span class="op" id="6709884">||</span>&nbsp;<span class="op" id="6709887">!</span><span class="op" id="6709888">*</span><span class="ident" id="6709889"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6709902">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709906"><a href="/gostd/net/lookup_test.go.html#6709848">t</a></span><span class="op" id="6709907">.</span><span class="ident" id="6709908"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6709912">(</span><span class="string" id="6709913">&#34;skipping&nbsp;test&nbsp;to&nbsp;avoid&nbsp;external&nbsp;network&#34;</span><span class="op" id="6709954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6709961">for</span>&nbsp;<span class="ident" id="6709965">_</span><span class="op" id="6709966">,</span>&nbsp;<span class="ident" id="6709968">tt</span>&nbsp;<span class="op" id="6709971">:=</span>&nbsp;<span class="keyword" id="6709974">range</span>&nbsp;<span class="ident" id="6709980"><a href="/gostd/net/lookup_test.go.html#6709595">lookupGooglePublicDNSAddrs</a></span>&nbsp;<span class="op" id="6710007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710011">names</span><span class="op" id="6710016">,</span>&nbsp;<span class="ident" id="6710018">err</span>&nbsp;<span class="op" id="6710022">:=</span>&nbsp;<span class="ident" id="6710025"><a href="/gostd/net/lookup.go.html#3327503">LookupAddr</a></span><span class="op" id="6710035">(</span><span class="ident" id="6710036"><a href="/gostd/net/lookup_test.go.html#6709968">tt</a></span><span class="op" id="6710038">.</span><span class="ident" id="6710039"><a href="/gostd/net/lookup_test.go.html#6709636">addr</a></span><span class="op" id="6710043">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710047">if</span>&nbsp;<span class="ident" id="6710050"><a href="/gostd/net/lookup_test.go.html#6710018">err</a></span>&nbsp;<span class="op" id="6710054">!=</span>&nbsp;<span class="builtintype" id="6710057">nil</span>&nbsp;<span class="op" id="6710061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710066"><a href="/gostd/net/lookup_test.go.html#6709848">t</a></span><span class="op" id="6710067">.</span><span class="ident" id="6710068"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6710073">(</span><span class="ident" id="6710074"><a href="/gostd/net/lookup_test.go.html#6710018">err</a></span><span class="op" id="6710077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710085">if</span>&nbsp;<span class="builtinfunc" id="6710088">len</span><span class="op" id="6710091">(</span><span class="ident" id="6710092"><a href="/gostd/net/lookup_test.go.html#6710011">names</a></span><span class="op" id="6710097">)</span>&nbsp;<span class="op" id="6710099">==</span>&nbsp;<span class="num" id="6710102">0</span>&nbsp;<span class="op" id="6710104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710109"><a href="/gostd/net/lookup_test.go.html#6709848">t</a></span><span class="op" id="6710110">.</span><span class="ident" id="6710111"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6710116">(</span><span class="string" id="6710117">&#34;got&nbsp;no&nbsp;record&#34;</span><span class="op" id="6710132">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710140">for</span>&nbsp;<span class="ident" id="6710144">_</span><span class="op" id="6710145">,</span>&nbsp;<span class="ident" id="6710147">name</span>&nbsp;<span class="op" id="6710152">:=</span>&nbsp;<span class="keyword" id="6710155">range</span>&nbsp;<span class="ident" id="6710161"><a href="/gostd/net/lookup_test.go.html#6710011">names</a></span>&nbsp;<span class="op" id="6710167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710172">if</span>&nbsp;<span class="op" id="6710175">!</span><span class="ident" id="6710176"><a href="/gostd/net/lookup_test.go.html#6707402">strings</a></span><span class="op" id="6710183">.</span><span class="ident" id="6710184"><a href="/gostd/strings/strings.go.html#2975527">HasSuffix</a></span><span class="op" id="6710193">(</span><span class="ident" id="6710194"><a href="/gostd/net/lookup_test.go.html#6710147">name</a></span><span class="op" id="6710198">,</span>&nbsp;<span class="ident" id="6710200"><a href="/gostd/net/lookup_test.go.html#6709968">tt</a></span><span class="op" id="6710202">.</span><span class="ident" id="6710203"><a href="/gostd/net/lookup_test.go.html#6709649">name</a></span><span class="op" id="6710207">)</span>&nbsp;<span class="op" id="6710209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710215"><a href="/gostd/net/lookup_test.go.html#6709848">t</a></span><span class="op" id="6710216">.</span><span class="ident" id="6710217"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6710223">(</span><span class="string" id="6710224">&#34;got&nbsp;%q;&nbsp;want&nbsp;a&nbsp;record&nbsp;containing&nbsp;%q&#34;</span><span class="op" id="6710261">,</span>&nbsp;<span class="ident" id="6710263"><a href="/gostd/net/lookup_test.go.html#6710147">name</a></span><span class="op" id="6710267">,</span>&nbsp;<span class="ident" id="6710269"><a href="/gostd/net/lookup_test.go.html#6709968">tt</a></span><span class="op" id="6710271">.</span><span class="ident" id="6710272"><a href="/gostd/net/lookup_test.go.html#6709649">name</a></span><span class="op" id="6710276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710281">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710288">}</span><br>
<span class="lineno"></span><span class="op" id="6710290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6710293">func</span>&nbsp;<span class="ident" id="6710298">TestLookupIANACNAME</span><span class="op" id="6710317">(</span><span class="ident" id="6710318">t</span>&nbsp;<span class="op" id="6710320">*</span><span class="ident" id="6710321"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6710328">.</span><span class="ident" id="6710329"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6710330">)</span>&nbsp;<span class="op" id="6710332">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710335">if</span>&nbsp;<span class="ident" id="6710338"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6710345">.</span><span class="ident" id="6710346"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6710351">(</span><span class="op" id="6710352">)</span>&nbsp;<span class="op" id="6710354">||</span>&nbsp;<span class="op" id="6710357">!</span><span class="op" id="6710358">*</span><span class="ident" id="6710359"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6710372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710376"><a href="/gostd/net/lookup_test.go.html#6710318">t</a></span><span class="op" id="6710377">.</span><span class="ident" id="6710378"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6710382">(</span><span class="string" id="6710383">&#34;skipping&nbsp;test&nbsp;to&nbsp;avoid&nbsp;external&nbsp;network&#34;</span><span class="op" id="6710424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710431">cname</span><span class="op" id="6710436">,</span>&nbsp;<span class="ident" id="6710438">err</span>&nbsp;<span class="op" id="6710442">:=</span>&nbsp;<span class="ident" id="6710445"><a href="/gostd/net/lookup.go.html#3326217">LookupCNAME</a></span><span class="op" id="6710456">(</span><span class="string" id="6710457">&#34;www.iana.org&#34;</span><span class="op" id="6710471">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710474">if</span>&nbsp;<span class="ident" id="6710477"><a href="/gostd/net/lookup_test.go.html#6710438">err</a></span>&nbsp;<span class="op" id="6710481">!=</span>&nbsp;<span class="builtintype" id="6710484">nil</span>&nbsp;<span class="op" id="6710488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710492"><a href="/gostd/net/lookup_test.go.html#6710318">t</a></span><span class="op" id="6710493">.</span><span class="ident" id="6710494"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6710499">(</span><span class="ident" id="6710500"><a href="/gostd/net/lookup_test.go.html#6710438">err</a></span><span class="op" id="6710503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710509">if</span>&nbsp;<span class="op" id="6710512">!</span><span class="ident" id="6710513"><a href="/gostd/net/lookup_test.go.html#6707402">strings</a></span><span class="op" id="6710520">.</span><span class="ident" id="6710521"><a href="/gostd/strings/strings.go.html#2975527">HasSuffix</a></span><span class="op" id="6710530">(</span><span class="ident" id="6710531"><a href="/gostd/net/lookup_test.go.html#6710431">cname</a></span><span class="op" id="6710536">,</span>&nbsp;<span class="string" id="6710538">&#34;.icann.org.&#34;</span><span class="op" id="6710551">)</span>&nbsp;<span class="op" id="6710553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710557"><a href="/gostd/net/lookup_test.go.html#6710318">t</a></span><span class="op" id="6710558">.</span><span class="ident" id="6710559"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6710565">(</span><span class="string" id="6710566">&#34;got&nbsp;%q;&nbsp;want&nbsp;a&nbsp;record&nbsp;containing&nbsp;.icann.org.&#34;</span><span class="op" id="6710612">,</span>&nbsp;<span class="ident" id="6710614"><a href="/gostd/net/lookup_test.go.html#6710431">cname</a></span><span class="op" id="6710619">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710622">}</span><br>
<span class="lineno"></span><span class="op" id="6710624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6710627">func</span>&nbsp;<span class="ident" id="6710632">TestLookupGoogleHost</span><span class="op" id="6710652">(</span><span class="ident" id="6710653">t</span>&nbsp;<span class="op" id="6710655">*</span><span class="ident" id="6710656"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6710663">.</span><span class="ident" id="6710664"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6710665">)</span>&nbsp;<span class="op" id="6710667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710670">if</span>&nbsp;<span class="ident" id="6710673"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6710680">.</span><span class="ident" id="6710681"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6710686">(</span><span class="op" id="6710687">)</span>&nbsp;<span class="op" id="6710689">||</span>&nbsp;<span class="op" id="6710692">!</span><span class="op" id="6710693">*</span><span class="ident" id="6710694"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6710707">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710711"><a href="/gostd/net/lookup_test.go.html#6710653">t</a></span><span class="op" id="6710712">.</span><span class="ident" id="6710713"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6710717">(</span><span class="string" id="6710718">&#34;skipping&nbsp;test&nbsp;to&nbsp;avoid&nbsp;external&nbsp;network&#34;</span><span class="op" id="6710759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710766">addrs</span><span class="op" id="6710771">,</span>&nbsp;<span class="ident" id="6710773">err</span>&nbsp;<span class="op" id="6710777">:=</span>&nbsp;<span class="ident" id="6710780"><a href="/gostd/net/lookup.go.html#3323839">LookupHost</a></span><span class="op" id="6710790">(</span><span class="string" id="6710791">&#34;google.com&#34;</span><span class="op" id="6710803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710806">if</span>&nbsp;<span class="ident" id="6710809"><a href="/gostd/net/lookup_test.go.html#6710773">err</a></span>&nbsp;<span class="op" id="6710813">!=</span>&nbsp;<span class="builtintype" id="6710816">nil</span>&nbsp;<span class="op" id="6710820">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710824"><a href="/gostd/net/lookup_test.go.html#6710653">t</a></span><span class="op" id="6710825">.</span><span class="ident" id="6710826"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6710831">(</span><span class="ident" id="6710832"><a href="/gostd/net/lookup_test.go.html#6710773">err</a></span><span class="op" id="6710835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710841">if</span>&nbsp;<span class="builtinfunc" id="6710844">len</span><span class="op" id="6710847">(</span><span class="ident" id="6710848"><a href="/gostd/net/lookup_test.go.html#6710766">addrs</a></span><span class="op" id="6710853">)</span>&nbsp;<span class="op" id="6710855">==</span>&nbsp;<span class="num" id="6710858">0</span>&nbsp;<span class="op" id="6710860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710864"><a href="/gostd/net/lookup_test.go.html#6710653">t</a></span><span class="op" id="6710865">.</span><span class="ident" id="6710866"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6710871">(</span><span class="string" id="6710872">&#34;got&nbsp;no&nbsp;record&#34;</span><span class="op" id="6710887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710890">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710893">for</span>&nbsp;<span class="ident" id="6710897">_</span><span class="op" id="6710898">,</span>&nbsp;<span class="ident" id="6710900">addr</span>&nbsp;<span class="op" id="6710905">:=</span>&nbsp;<span class="keyword" id="6710908">range</span>&nbsp;<span class="ident" id="6710914"><a href="/gostd/net/lookup_test.go.html#6710766">addrs</a></span>&nbsp;<span class="op" id="6710920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710924">if</span>&nbsp;<span class="ident" id="6710927"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6710934">(</span><span class="ident" id="6710935"><a href="/gostd/net/lookup_test.go.html#6710900">addr</a></span><span class="op" id="6710939">)</span>&nbsp;<span class="op" id="6710941">==</span>&nbsp;<span class="builtintype" id="6710944">nil</span>&nbsp;<span class="op" id="6710948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710953"><a href="/gostd/net/lookup_test.go.html#6710653">t</a></span><span class="op" id="6710954">.</span><span class="ident" id="6710955"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6710961">(</span><span class="string" id="6710962">&#34;got&nbsp;%q;&nbsp;want&nbsp;a&nbsp;literal&nbsp;ip&nbsp;address&#34;</span><span class="op" id="6710997">,</span>&nbsp;<span class="ident" id="6710999"><a href="/gostd/net/lookup_test.go.html#6710900">addr</a></span><span class="op" id="6711003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711010">}</span><br>
<span class="lineno">175</span><span class="op" id="6711012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6711015">func</span>&nbsp;<span class="ident" id="6711020">TestLookupGoogleIP</span><span class="op" id="6711038">(</span><span class="ident" id="6711039">t</span>&nbsp;<span class="op" id="6711041">*</span><span class="ident" id="6711042"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6711049">.</span><span class="ident" id="6711050"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6711051">)</span>&nbsp;<span class="op" id="6711053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711056">if</span>&nbsp;<span class="ident" id="6711059"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6711066">.</span><span class="ident" id="6711067"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6711072">(</span><span class="op" id="6711073">)</span>&nbsp;<span class="op" id="6711075">||</span>&nbsp;<span class="op" id="6711078">!</span><span class="op" id="6711079">*</span><span class="ident" id="6711080"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6711093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711097"><a href="/gostd/net/lookup_test.go.html#6711039">t</a></span><span class="op" id="6711098">.</span><span class="ident" id="6711099"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6711103">(</span><span class="string" id="6711104">&#34;skipping&nbsp;test&nbsp;to&nbsp;avoid&nbsp;external&nbsp;network&#34;</span><span class="op" id="6711145">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711152">ips</span><span class="op" id="6711155">,</span>&nbsp;<span class="ident" id="6711157">err</span>&nbsp;<span class="op" id="6711161">:=</span>&nbsp;<span class="ident" id="6711164"><a href="/gostd/net/lookup.go.html#3324041">LookupIP</a></span><span class="op" id="6711172">(</span><span class="string" id="6711173">&#34;google.com&#34;</span><span class="op" id="6711185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711188">if</span>&nbsp;<span class="ident" id="6711191"><a href="/gostd/net/lookup_test.go.html#6711157">err</a></span>&nbsp;<span class="op" id="6711195">!=</span>&nbsp;<span class="builtintype" id="6711198">nil</span>&nbsp;<span class="op" id="6711202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711206"><a href="/gostd/net/lookup_test.go.html#6711039">t</a></span><span class="op" id="6711207">.</span><span class="ident" id="6711208"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6711213">(</span><span class="ident" id="6711214"><a href="/gostd/net/lookup_test.go.html#6711157">err</a></span><span class="op" id="6711217">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711223">if</span>&nbsp;<span class="builtinfunc" id="6711226">len</span><span class="op" id="6711229">(</span><span class="ident" id="6711230"><a href="/gostd/net/lookup_test.go.html#6711152">ips</a></span><span class="op" id="6711233">)</span>&nbsp;<span class="op" id="6711235">==</span>&nbsp;<span class="num" id="6711238">0</span>&nbsp;<span class="op" id="6711240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711244"><a href="/gostd/net/lookup_test.go.html#6711039">t</a></span><span class="op" id="6711245">.</span><span class="ident" id="6711246"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6711251">(</span><span class="string" id="6711252">&#34;got&nbsp;no&nbsp;record&#34;</span><span class="op" id="6711267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711273">for</span>&nbsp;<span class="ident" id="6711277">_</span><span class="op" id="6711278">,</span>&nbsp;<span class="ident" id="6711280">ip</span>&nbsp;<span class="op" id="6711283">:=</span>&nbsp;<span class="keyword" id="6711286">range</span>&nbsp;<span class="ident" id="6711292"><a href="/gostd/net/lookup_test.go.html#6711152">ips</a></span>&nbsp;<span class="op" id="6711296">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711300">if</span>&nbsp;<span class="ident" id="6711303"><a href="/gostd/net/lookup_test.go.html#6711280">ip</a></span><span class="op" id="6711305">.</span><span class="ident" id="6711306"><a href="/gostd/net/ip.go.html#3290039">To4</a></span><span class="op" id="6711309">(</span><span class="op" id="6711310">)</span>&nbsp;<span class="op" id="6711312">==</span>&nbsp;<span class="builtintype" id="6711315">nil</span>&nbsp;<span class="op" id="6711319">&amp;&amp;</span>&nbsp;<span class="ident" id="6711322"><a href="/gostd/net/lookup_test.go.html#6711280">ip</a></span><span class="op" id="6711324">.</span><span class="ident" id="6711325"><a href="/gostd/net/ip.go.html#3290366">To16</a></span><span class="op" id="6711329">(</span><span class="op" id="6711330">)</span>&nbsp;<span class="op" id="6711332">==</span>&nbsp;<span class="builtintype" id="6711335">nil</span>&nbsp;<span class="op" id="6711339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711344"><a href="/gostd/net/lookup_test.go.html#6711039">t</a></span><span class="op" id="6711345">.</span><span class="ident" id="6711346"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6711352">(</span><span class="string" id="6711353">&#34;got&nbsp;%v;&nbsp;want&nbsp;an&nbsp;ip&nbsp;address&#34;</span><span class="op" id="6711381">,</span>&nbsp;<span class="ident" id="6711383"><a href="/gostd/net/lookup_test.go.html#6711280">ip</a></span><span class="op" id="6711385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711392">}</span><br>
<span class="lineno"></span><span class="op" id="6711394">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="6711397">var</span>&nbsp;<span class="ident" id="6711401">revAddrTests</span>&nbsp;<span class="op" id="6711414">=</span>&nbsp;<span class="op" id="6711416">[</span><span class="op" id="6711417">]</span><span class="keyword" id="6711418">struct</span>&nbsp;<span class="op" id="6711425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711428">Addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6711438">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711446">Reverse</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6711456">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711464">ErrPrefix</span>&nbsp;<span class="builtintype" id="6711474">string</span><br>
<span class="lineno">200</span><span class="op" id="6711481">}</span><span class="op" id="6711482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711485">{</span><span class="string" id="6711486">&#34;1.2.3.4&#34;</span><span class="op" id="6711495">,</span>&nbsp;<span class="string" id="6711497">&#34;4.3.2.1.in-addr.arpa.&#34;</span><span class="op" id="6711520">,</span>&nbsp;<span class="string" id="6711522">&#34;&#34;</span><span class="op" id="6711524">}</span><span class="op" id="6711525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711528">{</span><span class="string" id="6711529">&#34;245.110.36.114&#34;</span><span class="op" id="6711545">,</span>&nbsp;<span class="string" id="6711547">&#34;114.36.110.245.in-addr.arpa.&#34;</span><span class="op" id="6711577">,</span>&nbsp;<span class="string" id="6711579">&#34;&#34;</span><span class="op" id="6711581">}</span><span class="op" id="6711582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711585">{</span><span class="string" id="6711586">&#34;::ffff:12.34.56.78&#34;</span><span class="op" id="6711606">,</span>&nbsp;<span class="string" id="6711608">&#34;78.56.34.12.in-addr.arpa.&#34;</span><span class="op" id="6711635">,</span>&nbsp;<span class="string" id="6711637">&#34;&#34;</span><span class="op" id="6711639">}</span><span class="op" id="6711640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711643">{</span><span class="string" id="6711644">&#34;::1&#34;</span><span class="op" id="6711649">,</span>&nbsp;<span class="string" id="6711651">&#34;1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa.&#34;</span><span class="op" id="6711726">,</span>&nbsp;<span class="string" id="6711728">&#34;&#34;</span><span class="op" id="6711730">}</span><span class="op" id="6711731">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711734">{</span><span class="string" id="6711735">&#34;1::&#34;</span><span class="op" id="6711740">,</span>&nbsp;<span class="string" id="6711742">&#34;0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.1.0.0.0.ip6.arpa.&#34;</span><span class="op" id="6711817">,</span>&nbsp;<span class="string" id="6711819">&#34;&#34;</span><span class="op" id="6711821">}</span><span class="op" id="6711822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711825">{</span><span class="string" id="6711826">&#34;1234:567::89a:bcde&#34;</span><span class="op" id="6711846">,</span>&nbsp;<span class="string" id="6711848">&#34;e.d.c.b.a.9.8.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.7.6.5.0.4.3.2.1.ip6.arpa.&#34;</span><span class="op" id="6711923">,</span>&nbsp;<span class="string" id="6711925">&#34;&#34;</span><span class="op" id="6711927">}</span><span class="op" id="6711928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711931">{</span><span class="string" id="6711932">&#34;1234:567:fefe:bcbc:adad:9e4a:89a:bcde&#34;</span><span class="op" id="6711971">,</span>&nbsp;<span class="string" id="6711973">&#34;e.d.c.b.a.9.8.0.a.4.e.9.d.a.d.a.c.b.c.b.e.f.e.f.7.6.5.0.4.3.2.1.ip6.arpa.&#34;</span><span class="op" id="6712048">,</span>&nbsp;<span class="string" id="6712050">&#34;&#34;</span><span class="op" id="6712052">}</span><span class="op" id="6712053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712056">{</span><span class="string" id="6712057">&#34;1.2.3&#34;</span><span class="op" id="6712064">,</span>&nbsp;<span class="string" id="6712066">&#34;&#34;</span><span class="op" id="6712068">,</span>&nbsp;<span class="string" id="6712070">&#34;unrecognized&nbsp;address&#34;</span><span class="op" id="6712092">}</span><span class="op" id="6712093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712096">{</span><span class="string" id="6712097">&#34;1.2.3.4.5&#34;</span><span class="op" id="6712108">,</span>&nbsp;<span class="string" id="6712110">&#34;&#34;</span><span class="op" id="6712112">,</span>&nbsp;<span class="string" id="6712114">&#34;unrecognized&nbsp;address&#34;</span><span class="op" id="6712136">}</span><span class="op" id="6712137">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712140">{</span><span class="string" id="6712141">&#34;1234:567:bcbca::89a:bcde&#34;</span><span class="op" id="6712167">,</span>&nbsp;<span class="string" id="6712169">&#34;&#34;</span><span class="op" id="6712171">,</span>&nbsp;<span class="string" id="6712173">&#34;unrecognized&nbsp;address&#34;</span><span class="op" id="6712195">}</span><span class="op" id="6712196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712199">{</span><span class="string" id="6712200">&#34;1234:567::bcbc:adad::89a:bcde&#34;</span><span class="op" id="6712231">,</span>&nbsp;<span class="string" id="6712233">&#34;&#34;</span><span class="op" id="6712235">,</span>&nbsp;<span class="string" id="6712237">&#34;unrecognized&nbsp;address&#34;</span><span class="op" id="6712259">}</span><span class="op" id="6712260">,</span><br>
<span class="lineno"></span><span class="op" id="6712262">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6712265">func</span>&nbsp;<span class="ident" id="6712270">TestReverseAddress</span><span class="op" id="6712288">(</span><span class="ident" id="6712289">t</span>&nbsp;<span class="op" id="6712291">*</span><span class="ident" id="6712292"><a href="/gostd/net/lookup_test.go.html#6707413">testing</a></span><span class="op" id="6712299">.</span><span class="ident" id="6712300"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6712301">)</span>&nbsp;<span class="op" id="6712303">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712306">for</span>&nbsp;<span class="ident" id="6712310">i</span><span class="op" id="6712311">,</span>&nbsp;<span class="ident" id="6712313">tt</span>&nbsp;<span class="op" id="6712316">:=</span>&nbsp;<span class="keyword" id="6712319">range</span>&nbsp;<span class="ident" id="6712325"><a href="/gostd/net/lookup_test.go.html#6711401">revAddrTests</a></span>&nbsp;<span class="op" id="6712338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712342">a</span><span class="op" id="6712343">,</span>&nbsp;<span class="ident" id="6712345">err</span>&nbsp;<span class="op" id="6712349">:=</span>&nbsp;<span class="ident" id="6712352"><a href="/gostd/net/dnsclient.go.html#3209463">reverseaddr</a></span><span class="op" id="6712363">(</span><span class="ident" id="6712364"><a href="/gostd/net/lookup_test.go.html#6712313">tt</a></span><span class="op" id="6712366">.</span><span class="ident" id="6712367"><a href="/gostd/net/lookup_test.go.html#6711428">Addr</a></span><span class="op" id="6712371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712375">if</span>&nbsp;<span class="builtinfunc" id="6712378">len</span><span class="op" id="6712381">(</span><span class="ident" id="6712382"><a href="/gostd/net/lookup_test.go.html#6712313">tt</a></span><span class="op" id="6712384">.</span><span class="ident" id="6712385"><a href="/gostd/net/lookup_test.go.html#6711464">ErrPrefix</a></span><span class="op" id="6712394">)</span>&nbsp;<span class="op" id="6712396">&gt;</span>&nbsp;<span class="num" id="6712398">0</span>&nbsp;<span class="op" id="6712400">&amp;&amp;</span>&nbsp;<span class="ident" id="6712403"><a href="/gostd/net/lookup_test.go.html#6712345">err</a></span>&nbsp;<span class="op" id="6712407">==</span>&nbsp;<span class="builtintype" id="6712410">nil</span>&nbsp;<span class="op" id="6712414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712419"><a href="/gostd/net/lookup_test.go.html#6712289">t</a></span><span class="op" id="6712420">.</span><span class="ident" id="6712421"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6712427">(</span><span class="string" id="6712428">&#34;#%d:&nbsp;expected&nbsp;%q,&nbsp;got&nbsp;&lt;nil&gt;&nbsp;(error)&#34;</span><span class="op" id="6712465">,</span>&nbsp;<span class="ident" id="6712467"><a href="/gostd/net/lookup_test.go.html#6712310">i</a></span><span class="op" id="6712468">,</span>&nbsp;<span class="ident" id="6712470"><a href="/gostd/net/lookup_test.go.html#6712313">tt</a></span><span class="op" id="6712472">.</span><span class="ident" id="6712473"><a href="/gostd/net/lookup_test.go.html#6711464">ErrPrefix</a></span><span class="op" id="6712482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712487">continue</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712502">if</span>&nbsp;<span class="builtinfunc" id="6712505">len</span><span class="op" id="6712508">(</span><span class="ident" id="6712509"><a href="/gostd/net/lookup_test.go.html#6712313">tt</a></span><span class="op" id="6712511">.</span><span class="ident" id="6712512"><a href="/gostd/net/lookup_test.go.html#6711464">ErrPrefix</a></span><span class="op" id="6712521">)</span>&nbsp;<span class="op" id="6712523">==</span>&nbsp;<span class="num" id="6712526">0</span>&nbsp;<span class="op" id="6712528">&amp;&amp;</span>&nbsp;<span class="ident" id="6712531"><a href="/gostd/net/lookup_test.go.html#6712345">err</a></span>&nbsp;<span class="op" id="6712535">!=</span>&nbsp;<span class="builtintype" id="6712538">nil</span>&nbsp;<span class="op" id="6712542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712547"><a href="/gostd/net/lookup_test.go.html#6712289">t</a></span><span class="op" id="6712548">.</span><span class="ident" id="6712549"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6712555">(</span><span class="string" id="6712556">&#34;#%d:&nbsp;expected&nbsp;&lt;nil&gt;,&nbsp;got&nbsp;%q&nbsp;(error)&#34;</span><span class="op" id="6712593">,</span>&nbsp;<span class="ident" id="6712595"><a href="/gostd/net/lookup_test.go.html#6712310">i</a></span><span class="op" id="6712596">,</span>&nbsp;<span class="ident" id="6712598"><a href="/gostd/net/lookup_test.go.html#6712345">err</a></span><span class="op" id="6712601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712609">if</span>&nbsp;<span class="ident" id="6712612"><a href="/gostd/net/lookup_test.go.html#6712345">err</a></span>&nbsp;<span class="op" id="6712616">!=</span>&nbsp;<span class="builtintype" id="6712619">nil</span>&nbsp;<span class="op" id="6712623">&amp;&amp;</span>&nbsp;<span class="ident" id="6712626"><a href="/gostd/net/lookup_test.go.html#6712345">err</a></span><span class="op" id="6712629">.</span><span class="op" id="6712630">(</span><span class="op" id="6712631">*</span><span class="ident" id="6712632"><a href="/gostd/net/dnsclient.go.html#3208795">DNSError</a></span><span class="op" id="6712640">)</span><span class="op" id="6712641">.</span><span class="ident" id="6712642"><a href="/gostd/net/dnsclient.go.html#3208814">Err</a></span>&nbsp;<span class="op" id="6712646">!=</span>&nbsp;<span class="ident" id="6712649"><a href="/gostd/net/lookup_test.go.html#6712313">tt</a></span><span class="op" id="6712651">.</span><span class="ident" id="6712652"><a href="/gostd/net/lookup_test.go.html#6711464">ErrPrefix</a></span>&nbsp;<span class="op" id="6712662">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712667"><a href="/gostd/net/lookup_test.go.html#6712289">t</a></span><span class="op" id="6712668">.</span><span class="ident" id="6712669"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6712675">(</span><span class="string" id="6712676">&#34;#%d:&nbsp;expected&nbsp;%q,&nbsp;got&nbsp;%q&nbsp;(mismatched&nbsp;error)&#34;</span><span class="op" id="6712721">,</span>&nbsp;<span class="ident" id="6712723"><a href="/gostd/net/lookup_test.go.html#6712310">i</a></span><span class="op" id="6712724">,</span>&nbsp;<span class="ident" id="6712726"><a href="/gostd/net/lookup_test.go.html#6712313">tt</a></span><span class="op" id="6712728">.</span><span class="ident" id="6712729"><a href="/gostd/net/lookup_test.go.html#6711464">ErrPrefix</a></span><span class="op" id="6712738">,</span>&nbsp;<span class="ident" id="6712740"><a href="/gostd/net/lookup_test.go.html#6712345">err</a></span><span class="op" id="6712743">.</span><span class="op" id="6712744">(</span><span class="op" id="6712745">*</span><span class="ident" id="6712746"><a href="/gostd/net/dnsclient.go.html#3208795">DNSError</a></span><span class="op" id="6712754">)</span><span class="op" id="6712755">.</span><span class="ident" id="6712756"><a href="/gostd/net/dnsclient.go.html#3208814">Err</a></span><span class="op" id="6712759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712767">if</span>&nbsp;<span class="ident" id="6712770"><a href="/gostd/net/lookup_test.go.html#6712342">a</a></span>&nbsp;<span class="op" id="6712772">!=</span>&nbsp;<span class="ident" id="6712775"><a href="/gostd/net/lookup_test.go.html#6712313">tt</a></span><span class="op" id="6712777">.</span><span class="ident" id="6712778"><a href="/gostd/net/lookup_test.go.html#6711446">Reverse</a></span>&nbsp;<span class="op" id="6712786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712791"><a href="/gostd/net/lookup_test.go.html#6712289">t</a></span><span class="op" id="6712792">.</span><span class="ident" id="6712793"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6712799">(</span><span class="string" id="6712800">&#34;#%d:&nbsp;expected&nbsp;%q,&nbsp;got&nbsp;%q&nbsp;(reverse&nbsp;address)&#34;</span><span class="op" id="6712844">,</span>&nbsp;<span class="ident" id="6712846"><a href="/gostd/net/lookup_test.go.html#6712310">i</a></span><span class="op" id="6712847">,</span>&nbsp;<span class="ident" id="6712849"><a href="/gostd/net/lookup_test.go.html#6712313">tt</a></span><span class="op" id="6712851">.</span><span class="ident" id="6712852"><a href="/gostd/net/lookup_test.go.html#6711446">Reverse</a></span><span class="op" id="6712859">,</span>&nbsp;<span class="ident" id="6712861"><a href="/gostd/net/lookup_test.go.html#6712342">a</a></span><span class="op" id="6712862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712866">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712869">}</span><br>
<span class="lineno"></span><span class="op" id="6712871">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
