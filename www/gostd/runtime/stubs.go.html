<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html" class="current">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1734902">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1734957">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1735011">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1735062">package</span>&nbsp;<span class="ident" id="1735070">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1735079">import</span>&nbsp;<span class="string" id="1735086">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1735096">//&nbsp;Declarations&nbsp;for&nbsp;runtime&nbsp;services&nbsp;implemented&nbsp;in&nbsp;C&nbsp;or&nbsp;assembly.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1735164">const</span>&nbsp;<span class="ident" id="1735170">ptrSize</span>&nbsp;<span class="op" id="1735178">=</span>&nbsp;<span class="num" id="1735180">4</span>&nbsp;<span class="op" id="1735182">&lt;&lt;</span>&nbsp;<span class="op" id="1735185">(</span><span class="op" id="1735186">^</span><span class="builtintype" id="1735187">uintptr</span><span class="op" id="1735194">(</span><span class="num" id="1735195">0</span><span class="op" id="1735196">)</span>&nbsp;<span class="op" id="1735198">&gt;&gt;</span>&nbsp;<span class="num" id="1735201">63</span><span class="op" id="1735203">)</span>&nbsp;<span class="comment" id="1735205">//&nbsp;unsafe.Sizeof(uintptr(0))&nbsp;but&nbsp;an&nbsp;ideal&nbsp;const</span><br>
<span class="lineno"></span><span class="keyword" id="1735253">const</span>&nbsp;<span class="ident" id="1735259">regSize</span>&nbsp;<span class="op" id="1735267">=</span>&nbsp;<span class="num" id="1735269">4</span>&nbsp;<span class="op" id="1735271">&lt;&lt;</span>&nbsp;<span class="op" id="1735274">(</span><span class="op" id="1735275">^</span><span class="ident" id="1735276">uintreg</span><span class="op" id="1735283">(</span><span class="num" id="1735284">0</span><span class="op" id="1735285">)</span>&nbsp;<span class="op" id="1735287">&gt;&gt;</span>&nbsp;<span class="num" id="1735290">63</span><span class="op" id="1735292">)</span>&nbsp;<span class="comment" id="1735294">//&nbsp;unsafe.Sizeof(uintreg(0))&nbsp;but&nbsp;an&nbsp;ideal&nbsp;const</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1735343">//&nbsp;Should&nbsp;be&nbsp;a&nbsp;built-in&nbsp;for&nbsp;unsafe.Pointer?</span><br>
<span class="lineno">15</span><span class="comment" id="1735387">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1735400">func</span>&nbsp;<span class="ident" id="1735405">add</span><span class="op" id="1735408">(</span><span class="ident" id="1735409">p</span>&nbsp;<span class="ident" id="1735411">unsafe</span><span class="op" id="1735417">.</span><span class="ident" id="1735418">Pointer</span><span class="op" id="1735425">,</span>&nbsp;<span class="ident" id="1735427">x</span>&nbsp;<span class="builtintype" id="1735429">uintptr</span><span class="op" id="1735436">)</span>&nbsp;<span class="ident" id="1735438">unsafe</span><span class="op" id="1735444">.</span><span class="ident" id="1735445">Pointer</span>&nbsp;<span class="op" id="1735453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1735456">return</span>&nbsp;<span class="ident" id="1735463">unsafe</span><span class="op" id="1735469">.</span><span class="ident" id="1735470">Pointer</span><span class="op" id="1735477">(</span><span class="builtintype" id="1735478">uintptr</span><span class="op" id="1735485">(</span><span class="ident" id="1735486">p</span><span class="op" id="1735487">)</span>&nbsp;<span class="op" id="1735489">+</span>&nbsp;<span class="ident" id="1735491">x</span><span class="op" id="1735492">)</span><br>
<span class="lineno"></span><span class="op" id="1735494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1735497">//&nbsp;n&nbsp;must&nbsp;be&nbsp;a&nbsp;power&nbsp;of&nbsp;2</span><br>
<span class="lineno"></span><span class="keyword" id="1735523">func</span>&nbsp;<span class="ident" id="1735528">roundup</span><span class="op" id="1735535">(</span><span class="ident" id="1735536">p</span>&nbsp;<span class="ident" id="1735538">unsafe</span><span class="op" id="1735544">.</span><span class="ident" id="1735545">Pointer</span><span class="op" id="1735552">,</span>&nbsp;<span class="ident" id="1735554">n</span>&nbsp;<span class="builtintype" id="1735556">uintptr</span><span class="op" id="1735563">)</span>&nbsp;<span class="ident" id="1735565">unsafe</span><span class="op" id="1735571">.</span><span class="ident" id="1735572">Pointer</span>&nbsp;<span class="op" id="1735580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1735583">delta</span>&nbsp;<span class="op" id="1735589">:=</span>&nbsp;<span class="op" id="1735592">-</span><span class="builtintype" id="1735593">uintptr</span><span class="op" id="1735600">(</span><span class="ident" id="1735601">p</span><span class="op" id="1735602">)</span>&nbsp;<span class="op" id="1735604">&amp;</span>&nbsp;<span class="op" id="1735606">(</span><span class="ident" id="1735607">n</span>&nbsp;<span class="op" id="1735609">-</span>&nbsp;<span class="num" id="1735611">1</span><span class="op" id="1735612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1735615">return</span>&nbsp;<span class="ident" id="1735622">unsafe</span><span class="op" id="1735628">.</span><span class="ident" id="1735629">Pointer</span><span class="op" id="1735636">(</span><span class="builtintype" id="1735637">uintptr</span><span class="op" id="1735644">(</span><span class="ident" id="1735645">p</span><span class="op" id="1735646">)</span>&nbsp;<span class="op" id="1735648">+</span>&nbsp;<span class="ident" id="1735650">delta</span><span class="op" id="1735655">)</span><br>
<span class="lineno"></span><span class="op" id="1735657">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="1735660">//&nbsp;in&nbsp;runtime.c</span><br>
<span class="lineno"></span><span class="keyword" id="1735676">func</span>&nbsp;<span class="ident" id="1735681">getg</span><span class="op" id="1735685">(</span><span class="op" id="1735686">)</span>&nbsp;<span class="op" id="1735688">*</span><span class="ident" id="1735689">g</span><br>
<span class="lineno"></span><span class="keyword" id="1735691">func</span>&nbsp;<span class="ident" id="1735696">acquirem</span><span class="op" id="1735704">(</span><span class="op" id="1735705">)</span>&nbsp;<span class="op" id="1735707">*</span><span class="ident" id="1735708">m</span><br>
<span class="lineno"></span><span class="keyword" id="1735710">func</span>&nbsp;<span class="ident" id="1735715">releasem</span><span class="op" id="1735723">(</span><span class="ident" id="1735724">mp</span>&nbsp;<span class="op" id="1735727">*</span><span class="ident" id="1735728">m</span><span class="op" id="1735729">)</span><br>
<span class="lineno">30</span><span class="keyword" id="1735731">func</span>&nbsp;<span class="ident" id="1735736">gomcache</span><span class="op" id="1735744">(</span><span class="op" id="1735745">)</span>&nbsp;<span class="op" id="1735747">*</span><span class="ident" id="1735748">mcache</span><br>
<span class="lineno"></span><span class="keyword" id="1735755">func</span>&nbsp;<span class="ident" id="1735760">readgstatus</span><span class="op" id="1735771">(</span><span class="op" id="1735772">*</span><span class="ident" id="1735773">g</span><span class="op" id="1735774">)</span>&nbsp;<span class="builtintype" id="1735776">uint32</span>&nbsp;<span class="comment" id="1735783">//&nbsp;proc.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1735794">//&nbsp;mcall&nbsp;switches&nbsp;from&nbsp;the&nbsp;g&nbsp;to&nbsp;the&nbsp;g0&nbsp;stack&nbsp;and&nbsp;invokes&nbsp;fn(g),</span><br>
<span class="lineno"></span><span class="comment" id="1735858">//&nbsp;where&nbsp;g&nbsp;is&nbsp;the&nbsp;goroutine&nbsp;that&nbsp;made&nbsp;the&nbsp;call.</span><br>
<span class="lineno">35</span><span class="comment" id="1735906">//&nbsp;mcall&nbsp;saves&nbsp;g&#39;s&nbsp;current&nbsp;PC/SP&nbsp;in&nbsp;g-&gt;sched&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;restored&nbsp;later.</span><br>
<span class="lineno"></span><span class="comment" id="1735985">//&nbsp;It&nbsp;is&nbsp;up&nbsp;to&nbsp;fn&nbsp;to&nbsp;arrange&nbsp;for&nbsp;that&nbsp;later&nbsp;execution,&nbsp;typically&nbsp;by&nbsp;recording</span><br>
<span class="lineno"></span><span class="comment" id="1736063">//&nbsp;g&nbsp;in&nbsp;a&nbsp;data&nbsp;structure,&nbsp;causing&nbsp;something&nbsp;to&nbsp;call&nbsp;ready(g)&nbsp;later.</span><br>
<span class="lineno"></span><span class="comment" id="1736131">//&nbsp;mcall&nbsp;returns&nbsp;to&nbsp;the&nbsp;original&nbsp;goroutine&nbsp;g&nbsp;later,&nbsp;when&nbsp;g&nbsp;has&nbsp;been&nbsp;rescheduled.</span><br>
<span class="lineno"></span><span class="comment" id="1736212">//&nbsp;fn&nbsp;must&nbsp;not&nbsp;return&nbsp;at&nbsp;all;&nbsp;typically&nbsp;it&nbsp;ends&nbsp;by&nbsp;calling&nbsp;schedule,&nbsp;to&nbsp;let&nbsp;the&nbsp;m</span><br>
<span class="lineno">40</span><span class="comment" id="1736294">//&nbsp;run&nbsp;other&nbsp;goroutines.</span><br>
<span class="lineno"></span><span class="comment" id="1736319">//</span><br>
<span class="lineno"></span><span class="comment" id="1736322">//&nbsp;mcall&nbsp;can&nbsp;only&nbsp;be&nbsp;called&nbsp;from&nbsp;g&nbsp;stacks&nbsp;(not&nbsp;g0,&nbsp;not&nbsp;gsignal).</span><br>
<span class="lineno"></span><span class="comment" id="1736387">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1736401">func</span>&nbsp;<span class="ident" id="1736406">mcall</span><span class="op" id="1736411">(</span><span class="ident" id="1736412">fn</span>&nbsp;<span class="keyword" id="1736415">func</span><span class="op" id="1736419">(</span><span class="op" id="1736420">*</span><span class="ident" id="1736421">g</span><span class="op" id="1736422">)</span><span class="op" id="1736423">)</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1736426">//&nbsp;onM&nbsp;switches&nbsp;from&nbsp;the&nbsp;g&nbsp;to&nbsp;the&nbsp;g0&nbsp;stack&nbsp;and&nbsp;invokes&nbsp;fn().</span><br>
<span class="lineno"></span><span class="comment" id="1736487">//&nbsp;When&nbsp;fn&nbsp;returns,&nbsp;onM&nbsp;switches&nbsp;back&nbsp;to&nbsp;the&nbsp;g&nbsp;and&nbsp;returns,</span><br>
<span class="lineno"></span><span class="comment" id="1736547">//&nbsp;continuing&nbsp;execution&nbsp;on&nbsp;the&nbsp;g&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="1736587">//&nbsp;If&nbsp;arguments&nbsp;must&nbsp;be&nbsp;passed&nbsp;to&nbsp;fn,&nbsp;they&nbsp;can&nbsp;be&nbsp;written&nbsp;to</span><br>
<span class="lineno">50</span><span class="comment" id="1736648">//&nbsp;g-&gt;m-&gt;ptrarg&nbsp;(pointers)&nbsp;and&nbsp;g-&gt;m-&gt;scalararg&nbsp;(non-pointers)</span><br>
<span class="lineno"></span><span class="comment" id="1736710">//&nbsp;before&nbsp;the&nbsp;call&nbsp;and&nbsp;then&nbsp;consulted&nbsp;during&nbsp;fn.</span><br>
<span class="lineno"></span><span class="comment" id="1736759">//&nbsp;Similarly,&nbsp;fn&nbsp;can&nbsp;pass&nbsp;return&nbsp;values&nbsp;back&nbsp;in&nbsp;those&nbsp;locations.</span><br>
<span class="lineno"></span><span class="comment" id="1736824">//&nbsp;If&nbsp;fn&nbsp;is&nbsp;written&nbsp;in&nbsp;Go,&nbsp;it&nbsp;can&nbsp;be&nbsp;a&nbsp;closure,&nbsp;which&nbsp;avoids&nbsp;the&nbsp;need&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1736898">//&nbsp;ptrarg&nbsp;and&nbsp;scalararg&nbsp;entirely.</span><br>
<span class="lineno">55</span><span class="comment" id="1736932">//&nbsp;After&nbsp;reading&nbsp;values&nbsp;out&nbsp;of&nbsp;ptrarg&nbsp;and&nbsp;scalararg&nbsp;it&nbsp;is&nbsp;conventional</span><br>
<span class="lineno"></span><span class="comment" id="1737003">//&nbsp;to&nbsp;zero&nbsp;them&nbsp;to&nbsp;avoid&nbsp;(memory&nbsp;or&nbsp;information)&nbsp;leaks.</span><br>
<span class="lineno"></span><span class="comment" id="1737059">//</span><br>
<span class="lineno"></span><span class="comment" id="1737062">//&nbsp;If&nbsp;onM&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;g0&nbsp;stack,&nbsp;it&nbsp;invokes&nbsp;fn&nbsp;and&nbsp;returns,</span><br>
<span class="lineno"></span><span class="comment" id="1737126">//&nbsp;without&nbsp;any&nbsp;stack&nbsp;switches.</span><br>
<span class="lineno">60</span><span class="comment" id="1737157">//</span><br>
<span class="lineno"></span><span class="comment" id="1737160">//&nbsp;If&nbsp;onM&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack,&nbsp;it&nbsp;crashes&nbsp;the&nbsp;program.</span><br>
<span class="lineno"></span><span class="comment" id="1737226">//&nbsp;The&nbsp;implication&nbsp;is&nbsp;that&nbsp;functions&nbsp;used&nbsp;in&nbsp;signal&nbsp;handlers&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="1737292">//&nbsp;not&nbsp;use&nbsp;onM.</span><br>
<span class="lineno"></span><span class="comment" id="1737308">//</span><br>
<span class="lineno">65</span><span class="comment" id="1737311">//&nbsp;NOTE(rsc):&nbsp;We&nbsp;could&nbsp;introduce&nbsp;a&nbsp;separate&nbsp;onMsignal&nbsp;that&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1737373">//&nbsp;like&nbsp;onM&nbsp;but&nbsp;if&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack&nbsp;would&nbsp;just&nbsp;run&nbsp;fn&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1737441">//&nbsp;that&nbsp;stack.&nbsp;The&nbsp;caller&nbsp;of&nbsp;onMsignal&nbsp;would&nbsp;be&nbsp;required&nbsp;to&nbsp;save&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1737510">//&nbsp;old&nbsp;values&nbsp;of&nbsp;ptrarg/scalararg&nbsp;and&nbsp;restore&nbsp;them&nbsp;when&nbsp;the&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="1737575">//&nbsp;was&nbsp;finished,&nbsp;in&nbsp;case&nbsp;the&nbsp;signal&nbsp;interrupted&nbsp;an&nbsp;onM&nbsp;sequence</span><br>
<span class="lineno">70</span><span class="comment" id="1737639">//&nbsp;in&nbsp;progress&nbsp;on&nbsp;the&nbsp;g&nbsp;or&nbsp;g0&nbsp;stacks.&nbsp;Until&nbsp;there&nbsp;is&nbsp;a&nbsp;clear&nbsp;need&nbsp;for&nbsp;this,</span><br>
<span class="lineno"></span><span class="comment" id="1737715">//&nbsp;we&nbsp;just&nbsp;reject&nbsp;onM&nbsp;in&nbsp;signal&nbsp;handling&nbsp;contexts&nbsp;entirely.</span><br>
<span class="lineno"></span><span class="comment" id="1737775">//</span><br>
<span class="lineno"></span><span class="comment" id="1737778">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1737792">func</span>&nbsp;<span class="ident" id="1737797">onM</span><span class="op" id="1737800">(</span><span class="ident" id="1737801">fn</span>&nbsp;<span class="keyword" id="1737804">func</span><span class="op" id="1737808">(</span><span class="op" id="1737809">)</span><span class="op" id="1737810">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="1737813">//&nbsp;onMsignal&nbsp;is&nbsp;like&nbsp;onM&nbsp;but&nbsp;is&nbsp;allowed&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;code&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1737877">//&nbsp;might&nbsp;run&nbsp;on&nbsp;the&nbsp;gsignal&nbsp;stack.&nbsp;Code&nbsp;running&nbsp;on&nbsp;a&nbsp;signal&nbsp;stack</span><br>
<span class="lineno"></span><span class="comment" id="1737943">//&nbsp;may&nbsp;be&nbsp;interrupting&nbsp;an&nbsp;onM&nbsp;sequence&nbsp;on&nbsp;the&nbsp;main&nbsp;stack,&nbsp;so</span><br>
<span class="lineno"></span><span class="comment" id="1738004">//&nbsp;if&nbsp;the&nbsp;onMsignal&nbsp;calling&nbsp;sequence&nbsp;writes&nbsp;to&nbsp;ptrarg/scalararg,</span><br>
<span class="lineno">80</span><span class="comment" id="1738069">//&nbsp;it&nbsp;must&nbsp;first&nbsp;save&nbsp;the&nbsp;old&nbsp;values&nbsp;and&nbsp;then&nbsp;restore&nbsp;them&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="1738133">//&nbsp;finished.&nbsp;As&nbsp;an&nbsp;exception&nbsp;to&nbsp;the&nbsp;rule,&nbsp;it&nbsp;is&nbsp;fine&nbsp;not&nbsp;to&nbsp;save&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="1738202">//&nbsp;restore&nbsp;the&nbsp;values&nbsp;if&nbsp;the&nbsp;program&nbsp;is&nbsp;trying&nbsp;to&nbsp;crash&nbsp;rather&nbsp;than</span><br>
<span class="lineno"></span><span class="comment" id="1738270">//&nbsp;return&nbsp;from&nbsp;the&nbsp;signal&nbsp;handler.</span><br>
<span class="lineno"></span><span class="comment" id="1738305">//&nbsp;Once&nbsp;all&nbsp;the&nbsp;runtime&nbsp;is&nbsp;written&nbsp;in&nbsp;Go,&nbsp;there&nbsp;will&nbsp;be&nbsp;no&nbsp;ptrarg/scalararg</span><br>
<span class="lineno">85</span><span class="comment" id="1738381">//&nbsp;and&nbsp;the&nbsp;distinction&nbsp;between&nbsp;onM&nbsp;and&nbsp;onMsignal&nbsp;(and&nbsp;perhaps&nbsp;mcall)</span><br>
<span class="lineno"></span><span class="comment" id="1738450">//&nbsp;can&nbsp;go&nbsp;away.</span><br>
<span class="lineno"></span><span class="comment" id="1738466">//</span><br>
<span class="lineno"></span><span class="comment" id="1738469">//&nbsp;If&nbsp;onMsignal&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack,&nbsp;it&nbsp;invokes&nbsp;fn&nbsp;directly,</span><br>
<span class="lineno"></span><span class="comment" id="1738541">//&nbsp;without&nbsp;a&nbsp;stack&nbsp;switch.&nbsp;Otherwise&nbsp;onMsignal&nbsp;behaves&nbsp;like&nbsp;onM.</span><br>
<span class="lineno">90</span><span class="comment" id="1738606">//</span><br>
<span class="lineno"></span><span class="comment" id="1738609">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1738623">func</span>&nbsp;<span class="ident" id="1738628">onM_signalok</span><span class="op" id="1738640">(</span><span class="ident" id="1738641">fn</span>&nbsp;<span class="keyword" id="1738644">func</span><span class="op" id="1738648">(</span><span class="op" id="1738649">)</span><span class="op" id="1738650">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1738653">func</span>&nbsp;<span class="ident" id="1738658">badonm</span><span class="op" id="1738664">(</span><span class="op" id="1738665">)</span>&nbsp;<span class="op" id="1738667">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738670">gothrow</span><span class="op" id="1738677">(</span><span class="string" id="1738678">&#34;onM&nbsp;called&nbsp;from&nbsp;signal&nbsp;goroutine&#34;</span><span class="op" id="1738712">)</span><br>
<span class="lineno"></span><span class="op" id="1738714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1738717">//&nbsp;C&nbsp;functions&nbsp;that&nbsp;run&nbsp;on&nbsp;the&nbsp;M&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="1738757">//&nbsp;Call&nbsp;using&nbsp;mcall.</span><br>
<span class="lineno">100</span><span class="keyword" id="1738778">func</span>&nbsp;<span class="ident" id="1738783">gosched_m</span><span class="op" id="1738792">(</span><span class="op" id="1738793">*</span><span class="ident" id="1738794">g</span><span class="op" id="1738795">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738797">func</span>&nbsp;<span class="ident" id="1738802">park_m</span><span class="op" id="1738808">(</span><span class="op" id="1738809">*</span><span class="ident" id="1738810">g</span><span class="op" id="1738811">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738813">func</span>&nbsp;<span class="ident" id="1738818">recovery_m</span><span class="op" id="1738828">(</span><span class="op" id="1738829">*</span><span class="ident" id="1738830">g</span><span class="op" id="1738831">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1738834">//&nbsp;More&nbsp;C&nbsp;functions&nbsp;that&nbsp;run&nbsp;on&nbsp;the&nbsp;M&nbsp;stack.</span><br>
<span class="lineno">105</span><span class="comment" id="1738879">//&nbsp;Call&nbsp;using&nbsp;onM.</span><br>
<span class="lineno"></span><span class="keyword" id="1738898">func</span>&nbsp;<span class="ident" id="1738903">mcacheRefill_m</span><span class="op" id="1738917">(</span><span class="op" id="1738918">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738920">func</span>&nbsp;<span class="ident" id="1738925">largeAlloc_m</span><span class="op" id="1738937">(</span><span class="op" id="1738938">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738940">func</span>&nbsp;<span class="ident" id="1738945">gc_m</span><span class="op" id="1738949">(</span><span class="op" id="1738950">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738952">func</span>&nbsp;<span class="ident" id="1738957">scavenge_m</span><span class="op" id="1738967">(</span><span class="op" id="1738968">)</span><br>
<span class="lineno">110</span><span class="keyword" id="1738970">func</span>&nbsp;<span class="ident" id="1738975">setFinalizer_m</span><span class="op" id="1738989">(</span><span class="op" id="1738990">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738992">func</span>&nbsp;<span class="ident" id="1738997">removeFinalizer_m</span><span class="op" id="1739014">(</span><span class="op" id="1739015">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739017">func</span>&nbsp;<span class="ident" id="1739022">markallocated_m</span><span class="op" id="1739037">(</span><span class="op" id="1739038">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739040">func</span>&nbsp;<span class="ident" id="1739045">unrollgcprog_m</span><span class="op" id="1739059">(</span><span class="op" id="1739060">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739062">func</span>&nbsp;<span class="ident" id="1739067">unrollgcproginplace_m</span><span class="op" id="1739088">(</span><span class="op" id="1739089">)</span><br>
<span class="lineno">115</span><span class="keyword" id="1739091">func</span>&nbsp;<span class="ident" id="1739096">setgcpercent_m</span><span class="op" id="1739110">(</span><span class="op" id="1739111">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739113">func</span>&nbsp;<span class="ident" id="1739118">setmaxthreads_m</span><span class="op" id="1739133">(</span><span class="op" id="1739134">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739136">func</span>&nbsp;<span class="ident" id="1739141">ready_m</span><span class="op" id="1739148">(</span><span class="op" id="1739149">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739151">func</span>&nbsp;<span class="ident" id="1739156">deferproc_m</span><span class="op" id="1739167">(</span><span class="op" id="1739168">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739170">func</span>&nbsp;<span class="ident" id="1739175">goexit_m</span><span class="op" id="1739183">(</span><span class="op" id="1739184">)</span><br>
<span class="lineno">120</span><span class="keyword" id="1739186">func</span>&nbsp;<span class="ident" id="1739191">startpanic_m</span><span class="op" id="1739203">(</span><span class="op" id="1739204">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739206">func</span>&nbsp;<span class="ident" id="1739211">dopanic_m</span><span class="op" id="1739220">(</span><span class="op" id="1739221">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739223">func</span>&nbsp;<span class="ident" id="1739228">readmemstats_m</span><span class="op" id="1739242">(</span><span class="op" id="1739243">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739245">func</span>&nbsp;<span class="ident" id="1739250">writeheapdump_m</span><span class="op" id="1739265">(</span><span class="op" id="1739266">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="comment" id="1739269">//&nbsp;memclr&nbsp;clears&nbsp;n&nbsp;bytes&nbsp;starting&nbsp;at&nbsp;ptr.</span><br>
<span class="lineno"></span><span class="comment" id="1739311">//&nbsp;in&nbsp;memclr_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1739328">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1739342">func</span>&nbsp;<span class="ident" id="1739347">memclr</span><span class="op" id="1739353">(</span><span class="ident" id="1739354">ptr</span>&nbsp;<span class="ident" id="1739358">unsafe</span><span class="op" id="1739364">.</span><span class="ident" id="1739365">Pointer</span><span class="op" id="1739372">,</span>&nbsp;<span class="ident" id="1739374">n</span>&nbsp;<span class="builtintype" id="1739376">uintptr</span><span class="op" id="1739383">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="1739386">//&nbsp;memmove&nbsp;copies&nbsp;n&nbsp;bytes&nbsp;from&nbsp;&#34;from&#34;&nbsp;to&nbsp;&#34;to&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="1739433">//&nbsp;in&nbsp;memmove_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1739451">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1739465">func</span>&nbsp;<span class="ident" id="1739470">memmove</span><span class="op" id="1739477">(</span><span class="ident" id="1739478">to</span>&nbsp;<span class="ident" id="1739481">unsafe</span><span class="op" id="1739487">.</span><span class="ident" id="1739488">Pointer</span><span class="op" id="1739495">,</span>&nbsp;<span class="ident" id="1739497">from</span>&nbsp;<span class="ident" id="1739502">unsafe</span><span class="op" id="1739508">.</span><span class="ident" id="1739509">Pointer</span><span class="op" id="1739516">,</span>&nbsp;<span class="ident" id="1739518">n</span>&nbsp;<span class="builtintype" id="1739520">uintptr</span><span class="op" id="1739527">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="1739530">func</span>&nbsp;<span class="ident" id="1739535">starttheworld</span><span class="op" id="1739548">(</span><span class="op" id="1739549">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739551">func</span>&nbsp;<span class="ident" id="1739556">stoptheworld</span><span class="op" id="1739568">(</span><span class="op" id="1739569">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739571">func</span>&nbsp;<span class="ident" id="1739576">newextram</span><span class="op" id="1739585">(</span><span class="op" id="1739586">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739588">func</span>&nbsp;<span class="ident" id="1739593">lockOSThread</span><span class="op" id="1739605">(</span><span class="op" id="1739606">)</span><br>
<span class="lineno"></span><span class="keyword" id="1739608">func</span>&nbsp;<span class="ident" id="1739613">unlockOSThread</span><span class="op" id="1739627">(</span><span class="op" id="1739628">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="1739631">//&nbsp;exported&nbsp;value&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="1739661">var</span>&nbsp;<span class="ident" id="1739665">hashLoad</span>&nbsp;<span class="op" id="1739674">=</span>&nbsp;<span class="ident" id="1739676">loadFactor</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1739688">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">145</span><span class="keyword" id="1739702">func</span>&nbsp;<span class="ident" id="1739707">fastrand1</span><span class="op" id="1739716">(</span><span class="op" id="1739717">)</span>&nbsp;<span class="builtintype" id="1739719">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1739727">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1739741">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1739755">func</span>&nbsp;<span class="ident" id="1739760">memeq</span><span class="op" id="1739765">(</span><span class="ident" id="1739766">a</span><span class="op" id="1739767">,</span>&nbsp;<span class="ident" id="1739769">b</span>&nbsp;<span class="ident" id="1739771">unsafe</span><span class="op" id="1739777">.</span><span class="ident" id="1739778">Pointer</span><span class="op" id="1739785">,</span>&nbsp;<span class="ident" id="1739787">size</span>&nbsp;<span class="builtintype" id="1739792">uintptr</span><span class="op" id="1739799">)</span>&nbsp;<span class="builtintype" id="1739801">bool</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="1739807">//&nbsp;noescape&nbsp;hides&nbsp;a&nbsp;pointer&nbsp;from&nbsp;escape&nbsp;analysis.&nbsp;&nbsp;noescape&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1739870">//&nbsp;the&nbsp;identity&nbsp;function&nbsp;but&nbsp;escape&nbsp;analysis&nbsp;doesn&#39;t&nbsp;think&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1739933">//&nbsp;output&nbsp;depends&nbsp;on&nbsp;the&nbsp;input.&nbsp;&nbsp;noescape&nbsp;is&nbsp;inlined&nbsp;and&nbsp;currently</span><br>
<span class="lineno"></span><span class="comment" id="1740000">//&nbsp;compiles&nbsp;down&nbsp;to&nbsp;a&nbsp;single&nbsp;xor&nbsp;instruction.</span><br>
<span class="lineno">155</span><span class="comment" id="1740046">//&nbsp;USE&nbsp;CAREFULLY!</span><br>
<span class="lineno"></span><span class="comment" id="1740064">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1740077">func</span>&nbsp;<span class="ident" id="1740082">noescape</span><span class="op" id="1740090">(</span><span class="ident" id="1740091">p</span>&nbsp;<span class="ident" id="1740093">unsafe</span><span class="op" id="1740099">.</span><span class="ident" id="1740100">Pointer</span><span class="op" id="1740107">)</span>&nbsp;<span class="ident" id="1740109">unsafe</span><span class="op" id="1740115">.</span><span class="ident" id="1740116">Pointer</span>&nbsp;<span class="op" id="1740124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740127">x</span>&nbsp;<span class="op" id="1740129">:=</span>&nbsp;<span class="builtintype" id="1740132">uintptr</span><span class="op" id="1740139">(</span><span class="ident" id="1740140">p</span><span class="op" id="1740141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740144">return</span>&nbsp;<span class="ident" id="1740151">unsafe</span><span class="op" id="1740157">.</span><span class="ident" id="1740158">Pointer</span><span class="op" id="1740165">(</span><span class="ident" id="1740166">x</span>&nbsp;<span class="op" id="1740168">^</span>&nbsp;<span class="num" id="1740170">0</span><span class="op" id="1740171">)</span><br>
<span class="lineno">160</span><span class="op" id="1740173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1740176">func</span>&nbsp;<span class="ident" id="1740181">entersyscall</span><span class="op" id="1740193">(</span><span class="op" id="1740194">)</span><br>
<span class="lineno"></span><span class="keyword" id="1740196">func</span>&nbsp;<span class="ident" id="1740201">reentersyscall</span><span class="op" id="1740215">(</span><span class="ident" id="1740216">pc</span>&nbsp;<span class="builtintype" id="1740219">uintptr</span><span class="op" id="1740226">,</span>&nbsp;<span class="ident" id="1740228">sp</span>&nbsp;<span class="ident" id="1740231">unsafe</span><span class="op" id="1740237">.</span><span class="ident" id="1740238">Pointer</span><span class="op" id="1740245">)</span><br>
<span class="lineno"></span><span class="keyword" id="1740247">func</span>&nbsp;<span class="ident" id="1740252">entersyscallblock</span><span class="op" id="1740269">(</span><span class="op" id="1740270">)</span><br>
<span class="lineno">165</span><span class="keyword" id="1740272">func</span>&nbsp;<span class="ident" id="1740277">exitsyscall</span><span class="op" id="1740288">(</span><span class="op" id="1740289">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1740292">func</span>&nbsp;<span class="ident" id="1740297">cgocallback</span><span class="op" id="1740308">(</span><span class="ident" id="1740309">fn</span><span class="op" id="1740311">,</span>&nbsp;<span class="ident" id="1740313">frame</span>&nbsp;<span class="ident" id="1740319">unsafe</span><span class="op" id="1740325">.</span><span class="ident" id="1740326">Pointer</span><span class="op" id="1740333">,</span>&nbsp;<span class="ident" id="1740335">framesize</span>&nbsp;<span class="builtintype" id="1740345">uintptr</span><span class="op" id="1740352">)</span><br>
<span class="lineno"></span><span class="keyword" id="1740354">func</span>&nbsp;<span class="ident" id="1740359">gogo</span><span class="op" id="1740363">(</span><span class="ident" id="1740364">buf</span>&nbsp;<span class="op" id="1740368">*</span><span class="ident" id="1740369">gobuf</span><span class="op" id="1740374">)</span><br>
<span class="lineno"></span><span class="keyword" id="1740376">func</span>&nbsp;<span class="ident" id="1740381">gosave</span><span class="op" id="1740387">(</span><span class="ident" id="1740388">buf</span>&nbsp;<span class="op" id="1740392">*</span><span class="ident" id="1740393">gobuf</span><span class="op" id="1740398">)</span><br>
<span class="lineno">170</span><span class="keyword" id="1740400">func</span>&nbsp;<span class="ident" id="1740405">read</span><span class="op" id="1740409">(</span><span class="ident" id="1740410">fd</span>&nbsp;<span class="builtintype" id="1740413">int32</span><span class="op" id="1740418">,</span>&nbsp;<span class="ident" id="1740420">p</span>&nbsp;<span class="ident" id="1740422">unsafe</span><span class="op" id="1740428">.</span><span class="ident" id="1740429">Pointer</span><span class="op" id="1740436">,</span>&nbsp;<span class="ident" id="1740438">n</span>&nbsp;<span class="builtintype" id="1740440">int32</span><span class="op" id="1740445">)</span>&nbsp;<span class="builtintype" id="1740447">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1740453">func</span>&nbsp;<span class="builtinfunc" id="1740458">close</span><span class="op" id="1740463">(</span><span class="ident" id="1740464">fd</span>&nbsp;<span class="builtintype" id="1740467">int32</span><span class="op" id="1740472">)</span>&nbsp;<span class="builtintype" id="1740474">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1740480">func</span>&nbsp;<span class="ident" id="1740485">mincore</span><span class="op" id="1740492">(</span><span class="ident" id="1740493">addr</span>&nbsp;<span class="ident" id="1740498">unsafe</span><span class="op" id="1740504">.</span><span class="ident" id="1740505">Pointer</span><span class="op" id="1740512">,</span>&nbsp;<span class="ident" id="1740514">n</span>&nbsp;<span class="builtintype" id="1740516">uintptr</span><span class="op" id="1740523">,</span>&nbsp;<span class="ident" id="1740525">dst</span>&nbsp;<span class="op" id="1740529">*</span><span class="builtintype" id="1740530">byte</span><span class="op" id="1740534">)</span>&nbsp;<span class="builtintype" id="1740536">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1740543">//go:noescape</span><br>
<span class="lineno">175</span><span class="keyword" id="1740557">func</span>&nbsp;<span class="ident" id="1740562">jmpdefer</span><span class="op" id="1740570">(</span><span class="ident" id="1740571">fv</span>&nbsp;<span class="op" id="1740574">*</span><span class="ident" id="1740575">funcval</span><span class="op" id="1740582">,</span>&nbsp;<span class="ident" id="1740584">argp</span>&nbsp;<span class="builtintype" id="1740589">uintptr</span><span class="op" id="1740596">)</span><br>
<span class="lineno"></span><span class="keyword" id="1740598">func</span>&nbsp;<span class="ident" id="1740603">exit1</span><span class="op" id="1740608">(</span><span class="ident" id="1740609">code</span>&nbsp;<span class="builtintype" id="1740614">int32</span><span class="op" id="1740619">)</span><br>
<span class="lineno"></span><span class="keyword" id="1740621">func</span>&nbsp;<span class="ident" id="1740626">asminit</span><span class="op" id="1740633">(</span><span class="op" id="1740634">)</span><br>
<span class="lineno"></span><span class="keyword" id="1740636">func</span>&nbsp;<span class="ident" id="1740641">setg</span><span class="op" id="1740645">(</span><span class="ident" id="1740646">gg</span>&nbsp;<span class="op" id="1740649">*</span><span class="ident" id="1740650">g</span><span class="op" id="1740651">)</span><br>
<span class="lineno"></span><span class="keyword" id="1740653">func</span>&nbsp;<span class="ident" id="1740658">exit</span><span class="op" id="1740662">(</span><span class="ident" id="1740663">code</span>&nbsp;<span class="builtintype" id="1740668">int32</span><span class="op" id="1740673">)</span><br>
<span class="lineno">180</span><span class="keyword" id="1740675">func</span>&nbsp;<span class="ident" id="1740680">breakpoint</span><span class="op" id="1740690">(</span><span class="op" id="1740691">)</span><br>
<span class="lineno"></span><span class="keyword" id="1740693">func</span>&nbsp;<span class="ident" id="1740698">nanotime</span><span class="op" id="1740706">(</span><span class="op" id="1740707">)</span>&nbsp;<span class="ident" id="1740709">int64</span><br>
<span class="lineno"></span><span class="keyword" id="1740715">func</span>&nbsp;<span class="ident" id="1740720">usleep</span><span class="op" id="1740726">(</span><span class="ident" id="1740727">usec</span>&nbsp;<span class="builtintype" id="1740732">uint32</span><span class="op" id="1740738">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1740741">//&nbsp;careful:&nbsp;cputicks&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;monotonic!&nbsp;&nbsp;In&nbsp;particular,&nbsp;we&nbsp;have</span><br>
<span class="lineno">185</span><span class="comment" id="1740821">//&nbsp;noticed&nbsp;drift&nbsp;between&nbsp;cpus&nbsp;on&nbsp;certain&nbsp;os/arch&nbsp;combinations.&nbsp;&nbsp;See&nbsp;issue&nbsp;8976.</span><br>
<span class="lineno"></span><span class="keyword" id="1740901">func</span>&nbsp;<span class="ident" id="1740906">cputicks</span><span class="op" id="1740914">(</span><span class="op" id="1740915">)</span>&nbsp;<span class="ident" id="1740917">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1740924">func</span>&nbsp;<span class="ident" id="1740929">mmap</span><span class="op" id="1740933">(</span><span class="ident" id="1740934">addr</span>&nbsp;<span class="ident" id="1740939">unsafe</span><span class="op" id="1740945">.</span><span class="ident" id="1740946">Pointer</span><span class="op" id="1740953">,</span>&nbsp;<span class="ident" id="1740955">n</span>&nbsp;<span class="builtintype" id="1740957">uintptr</span><span class="op" id="1740964">,</span>&nbsp;<span class="ident" id="1740966">prot</span><span class="op" id="1740970">,</span>&nbsp;<span class="ident" id="1740972">flags</span><span class="op" id="1740977">,</span>&nbsp;<span class="ident" id="1740979">fd</span>&nbsp;<span class="builtintype" id="1740982">int32</span><span class="op" id="1740987">,</span>&nbsp;<span class="ident" id="1740989">off</span>&nbsp;<span class="builtintype" id="1740993">uint32</span><span class="op" id="1740999">)</span>&nbsp;<span class="ident" id="1741001">unsafe</span><span class="op" id="1741007">.</span><span class="ident" id="1741008">Pointer</span><br>
<span class="lineno"></span><span class="keyword" id="1741016">func</span>&nbsp;<span class="ident" id="1741021">munmap</span><span class="op" id="1741027">(</span><span class="ident" id="1741028">addr</span>&nbsp;<span class="ident" id="1741033">unsafe</span><span class="op" id="1741039">.</span><span class="ident" id="1741040">Pointer</span><span class="op" id="1741047">,</span>&nbsp;<span class="ident" id="1741049">n</span>&nbsp;<span class="builtintype" id="1741051">uintptr</span><span class="op" id="1741058">)</span><br>
<span class="lineno">190</span><span class="keyword" id="1741060">func</span>&nbsp;<span class="ident" id="1741065">madvise</span><span class="op" id="1741072">(</span><span class="ident" id="1741073">addr</span>&nbsp;<span class="ident" id="1741078">unsafe</span><span class="op" id="1741084">.</span><span class="ident" id="1741085">Pointer</span><span class="op" id="1741092">,</span>&nbsp;<span class="ident" id="1741094">n</span>&nbsp;<span class="builtintype" id="1741096">uintptr</span><span class="op" id="1741103">,</span>&nbsp;<span class="ident" id="1741105">flags</span>&nbsp;<span class="builtintype" id="1741111">int32</span><span class="op" id="1741116">)</span><br>
<span class="lineno"></span><span class="keyword" id="1741118">func</span>&nbsp;<span class="ident" id="1741123">reflectcall</span><span class="op" id="1741134">(</span><span class="ident" id="1741135">fn</span><span class="op" id="1741137">,</span>&nbsp;<span class="ident" id="1741139">arg</span>&nbsp;<span class="ident" id="1741143">unsafe</span><span class="op" id="1741149">.</span><span class="ident" id="1741150">Pointer</span><span class="op" id="1741157">,</span>&nbsp;<span class="ident" id="1741159">n</span>&nbsp;<span class="builtintype" id="1741161">uint32</span><span class="op" id="1741167">,</span>&nbsp;<span class="ident" id="1741169">retoffset</span>&nbsp;<span class="builtintype" id="1741179">uint32</span><span class="op" id="1741185">)</span><br>
<span class="lineno"></span><span class="keyword" id="1741187">func</span>&nbsp;<span class="ident" id="1741192">osyield</span><span class="op" id="1741199">(</span><span class="op" id="1741200">)</span><br>
<span class="lineno"></span><span class="keyword" id="1741202">func</span>&nbsp;<span class="ident" id="1741207">procyield</span><span class="op" id="1741216">(</span><span class="ident" id="1741217">cycles</span>&nbsp;<span class="builtintype" id="1741224">uint32</span><span class="op" id="1741230">)</span><br>
<span class="lineno"></span><span class="keyword" id="1741232">func</span>&nbsp;<span class="ident" id="1741237">cgocallback_gofunc</span><span class="op" id="1741255">(</span><span class="ident" id="1741256">fv</span>&nbsp;<span class="op" id="1741259">*</span><span class="ident" id="1741260">funcval</span><span class="op" id="1741267">,</span>&nbsp;<span class="ident" id="1741269">frame</span>&nbsp;<span class="ident" id="1741275">unsafe</span><span class="op" id="1741281">.</span><span class="ident" id="1741282">Pointer</span><span class="op" id="1741289">,</span>&nbsp;<span class="ident" id="1741291">framesize</span>&nbsp;<span class="builtintype" id="1741301">uintptr</span><span class="op" id="1741308">)</span><br>
<span class="lineno">195</span><span class="keyword" id="1741310">func</span>&nbsp;<span class="ident" id="1741315">readgogc</span><span class="op" id="1741323">(</span><span class="op" id="1741324">)</span>&nbsp;<span class="builtintype" id="1741326">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1741332">func</span>&nbsp;<span class="ident" id="1741337">purgecachedstats</span><span class="op" id="1741353">(</span><span class="ident" id="1741354">c</span>&nbsp;<span class="op" id="1741356">*</span><span class="ident" id="1741357">mcache</span><span class="op" id="1741363">)</span><br>
<span class="lineno"></span><span class="keyword" id="1741365">func</span>&nbsp;<span class="ident" id="1741370">gostringnocopy</span><span class="op" id="1741384">(</span><span class="ident" id="1741385">b</span>&nbsp;<span class="op" id="1741387">*</span><span class="builtintype" id="1741388">byte</span><span class="op" id="1741392">)</span>&nbsp;<span class="builtintype" id="1741394">string</span><br>
<span class="lineno"></span><span class="keyword" id="1741401">func</span>&nbsp;<span class="ident" id="1741406">goexit</span><span class="op" id="1741412">(</span><span class="op" id="1741413">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="1741416">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1741430">func</span>&nbsp;<span class="ident" id="1741435">write</span><span class="op" id="1741440">(</span><span class="ident" id="1741441">fd</span>&nbsp;<span class="builtintype" id="1741444">uintptr</span><span class="op" id="1741451">,</span>&nbsp;<span class="ident" id="1741453">p</span>&nbsp;<span class="ident" id="1741455">unsafe</span><span class="op" id="1741461">.</span><span class="ident" id="1741462">Pointer</span><span class="op" id="1741469">,</span>&nbsp;<span class="ident" id="1741471">n</span>&nbsp;<span class="builtintype" id="1741473">int32</span><span class="op" id="1741478">)</span>&nbsp;<span class="builtintype" id="1741480">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1741487">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1741501">func</span>&nbsp;<span class="ident" id="1741506">cas</span><span class="op" id="1741509">(</span><span class="ident" id="1741510">ptr</span>&nbsp;<span class="op" id="1741514">*</span><span class="builtintype" id="1741515">uint32</span><span class="op" id="1741521">,</span>&nbsp;<span class="ident" id="1741523">old</span><span class="op" id="1741526">,</span>&nbsp;<span class="builtinfunc" id="1741528">new</span>&nbsp;<span class="builtintype" id="1741532">uint32</span><span class="op" id="1741538">)</span>&nbsp;<span class="builtintype" id="1741540">bool</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="comment" id="1741546">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1741560">func</span>&nbsp;<span class="ident" id="1741565">casp</span><span class="op" id="1741569">(</span><span class="ident" id="1741570">ptr</span>&nbsp;<span class="op" id="1741574">*</span><span class="ident" id="1741575">unsafe</span><span class="op" id="1741581">.</span><span class="ident" id="1741582">Pointer</span><span class="op" id="1741589">,</span>&nbsp;<span class="ident" id="1741591">old</span><span class="op" id="1741594">,</span>&nbsp;<span class="builtinfunc" id="1741596">new</span>&nbsp;<span class="ident" id="1741600">unsafe</span><span class="op" id="1741606">.</span><span class="ident" id="1741607">Pointer</span><span class="op" id="1741614">)</span>&nbsp;<span class="builtintype" id="1741616">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1741622">//go:noescape</span><br>
<span class="lineno">210</span><span class="keyword" id="1741636">func</span>&nbsp;<span class="ident" id="1741641">casuintptr</span><span class="op" id="1741651">(</span><span class="ident" id="1741652">ptr</span>&nbsp;<span class="op" id="1741656">*</span><span class="builtintype" id="1741657">uintptr</span><span class="op" id="1741664">,</span>&nbsp;<span class="ident" id="1741666">old</span><span class="op" id="1741669">,</span>&nbsp;<span class="builtinfunc" id="1741671">new</span>&nbsp;<span class="builtintype" id="1741675">uintptr</span><span class="op" id="1741682">)</span>&nbsp;<span class="builtintype" id="1741684">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1741690">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1741704">func</span>&nbsp;<span class="ident" id="1741709">atomicstoreuintptr</span><span class="op" id="1741727">(</span><span class="ident" id="1741728">ptr</span>&nbsp;<span class="op" id="1741732">*</span><span class="builtintype" id="1741733">uintptr</span><span class="op" id="1741740">,</span>&nbsp;<span class="builtinfunc" id="1741742">new</span>&nbsp;<span class="builtintype" id="1741746">uintptr</span><span class="op" id="1741753">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="1741756">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1741770">func</span>&nbsp;<span class="ident" id="1741775">atomicloaduintptr</span><span class="op" id="1741792">(</span><span class="ident" id="1741793">ptr</span>&nbsp;<span class="op" id="1741797">*</span><span class="builtintype" id="1741798">uintptr</span><span class="op" id="1741805">)</span>&nbsp;<span class="builtintype" id="1741807">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1741816">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1741830">func</span>&nbsp;<span class="ident" id="1741835">atomicloaduint</span><span class="op" id="1741849">(</span><span class="ident" id="1741850">ptr</span>&nbsp;<span class="op" id="1741854">*</span><span class="builtintype" id="1741855">uint</span><span class="op" id="1741859">)</span>&nbsp;<span class="builtintype" id="1741861">uint</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="comment" id="1741867">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1741881">func</span>&nbsp;<span class="ident" id="1741886">setcallerpc</span><span class="op" id="1741897">(</span><span class="ident" id="1741898">argp</span>&nbsp;<span class="ident" id="1741903">unsafe</span><span class="op" id="1741909">.</span><span class="ident" id="1741910">Pointer</span><span class="op" id="1741917">,</span>&nbsp;<span class="ident" id="1741919">pc</span>&nbsp;<span class="builtintype" id="1741922">uintptr</span><span class="op" id="1741929">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1741932">//&nbsp;getcallerpc&nbsp;returns&nbsp;the&nbsp;program&nbsp;counter&nbsp;(PC)&nbsp;of&nbsp;its&nbsp;caller&#39;s&nbsp;caller.</span><br>
<span class="lineno">225</span><span class="comment" id="1742004">//&nbsp;getcallersp&nbsp;returns&nbsp;the&nbsp;stack&nbsp;pointer&nbsp;(SP)&nbsp;of&nbsp;its&nbsp;caller&#39;s&nbsp;caller.</span><br>
<span class="lineno"></span><span class="comment" id="1742074">//&nbsp;For&nbsp;both,&nbsp;the&nbsp;argp&nbsp;must&nbsp;be&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;caller&#39;s&nbsp;first&nbsp;function&nbsp;argument.</span><br>
<span class="lineno"></span><span class="comment" id="1742155">//&nbsp;The&nbsp;implementation&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;use&nbsp;argp,&nbsp;depending&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1742215">//&nbsp;the&nbsp;architecture.</span><br>
<span class="lineno"></span><span class="comment" id="1742236">//</span><br>
<span class="lineno">230</span><span class="comment" id="1742239">//&nbsp;For&nbsp;example:</span><br>
<span class="lineno"></span><span class="comment" id="1742255">//</span><br>
<span class="lineno"></span><span class="comment" id="1742258">//&nbsp;&nbsp;&nbsp;&nbspfunc&nbsp;f(arg1,&nbsp;arg2,&nbsp;arg3&nbsp;int)&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="1742292">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsppc&nbsp;:=&nbsp;getcallerpc(unsafe.Pointer(&amp;arg1))</span><br>
<span class="lineno"></span><span class="comment" id="1742337">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspsp&nbsp;:=&nbsp;getcallerpc(unsafe.Pointer(&amp;arg2))</span><br>
<span class="lineno">235</span><span class="comment" id="1742382">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno"></span><span class="comment" id="1742387">//</span><br>
<span class="lineno"></span><span class="comment" id="1742390">//&nbsp;These&nbsp;two&nbsp;lines&nbsp;find&nbsp;the&nbsp;PC&nbsp;and&nbsp;SP&nbsp;immediately&nbsp;following</span><br>
<span class="lineno"></span><span class="comment" id="1742450">//&nbsp;the&nbsp;call&nbsp;to&nbsp;f&nbsp;(where&nbsp;f&nbsp;will&nbsp;return).</span><br>
<span class="lineno"></span><span class="comment" id="1742490">//</span><br>
<span class="lineno">240</span><span class="comment" id="1742493">//&nbsp;The&nbsp;call&nbsp;to&nbsp;getcallerpc&nbsp;and&nbsp;getcallersp&nbsp;must&nbsp;be&nbsp;done&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1742556">//&nbsp;frame&nbsp;being&nbsp;asked&nbsp;about.&nbsp;It&nbsp;would&nbsp;not&nbsp;be&nbsp;correct&nbsp;for&nbsp;f&nbsp;to&nbsp;pass&nbsp;&amp;arg1</span><br>
<span class="lineno"></span><span class="comment" id="1742628">//&nbsp;to&nbsp;another&nbsp;function&nbsp;g&nbsp;and&nbsp;let&nbsp;g&nbsp;call&nbsp;getcallerpc/getcallersp.</span><br>
<span class="lineno"></span><span class="comment" id="1742693">//&nbsp;The&nbsp;call&nbsp;inside&nbsp;g&nbsp;might&nbsp;return&nbsp;information&nbsp;about&nbsp;g&#39;s&nbsp;caller&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="1742759">//&nbsp;information&nbsp;about&nbsp;f&#39;s&nbsp;caller&nbsp;or&nbsp;complete&nbsp;garbage.</span><br>
<span class="lineno">245</span><span class="comment" id="1742812">//</span><br>
<span class="lineno"></span><span class="comment" id="1742815">//&nbsp;The&nbsp;result&nbsp;of&nbsp;getcallersp&nbsp;is&nbsp;correct&nbsp;at&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;return,</span><br>
<span class="lineno"></span><span class="comment" id="1742882">//&nbsp;but&nbsp;it&nbsp;may&nbsp;be&nbsp;invalidated&nbsp;by&nbsp;any&nbsp;subsequent&nbsp;call&nbsp;to&nbsp;a&nbsp;function</span><br>
<span class="lineno"></span><span class="comment" id="1742948">//&nbsp;that&nbsp;might&nbsp;relocate&nbsp;the&nbsp;stack&nbsp;in&nbsp;order&nbsp;to&nbsp;grow&nbsp;or&nbsp;shrink&nbsp;it.</span><br>
<span class="lineno"></span><span class="comment" id="1743012">//&nbsp;A&nbsp;general&nbsp;rule&nbsp;is&nbsp;that&nbsp;the&nbsp;result&nbsp;of&nbsp;getcallersp&nbsp;should&nbsp;be&nbsp;used</span><br>
<span class="lineno">250</span><span class="comment" id="1743079">//&nbsp;immediately&nbsp;and&nbsp;can&nbsp;only&nbsp;be&nbsp;passed&nbsp;to&nbsp;nosplit&nbsp;functions.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1743140">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1743154">func</span>&nbsp;<span class="ident" id="1743159">getcallerpc</span><span class="op" id="1743170">(</span><span class="ident" id="1743171">argp</span>&nbsp;<span class="ident" id="1743176">unsafe</span><span class="op" id="1743182">.</span><span class="ident" id="1743183">Pointer</span><span class="op" id="1743190">)</span>&nbsp;<span class="builtintype" id="1743192">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="comment" id="1743201">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1743215">func</span>&nbsp;<span class="ident" id="1743220">getcallersp</span><span class="op" id="1743231">(</span><span class="ident" id="1743232">argp</span>&nbsp;<span class="ident" id="1743237">unsafe</span><span class="op" id="1743243">.</span><span class="ident" id="1743244">Pointer</span><span class="op" id="1743251">)</span>&nbsp;<span class="builtintype" id="1743253">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1743262">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1743276">func</span>&nbsp;<span class="ident" id="1743281">asmcgocall</span><span class="op" id="1743291">(</span><span class="ident" id="1743292">fn</span><span class="op" id="1743294">,</span>&nbsp;<span class="ident" id="1743296">arg</span>&nbsp;<span class="ident" id="1743300">unsafe</span><span class="op" id="1743306">.</span><span class="ident" id="1743307">Pointer</span><span class="op" id="1743314">)</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="1743317">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1743331">func</span>&nbsp;<span class="ident" id="1743336">asmcgocall_errno</span><span class="op" id="1743352">(</span><span class="ident" id="1743353">fn</span><span class="op" id="1743355">,</span>&nbsp;<span class="ident" id="1743357">arg</span>&nbsp;<span class="ident" id="1743361">unsafe</span><span class="op" id="1743367">.</span><span class="ident" id="1743368">Pointer</span><span class="op" id="1743375">)</span>&nbsp;<span class="builtintype" id="1743377">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1743384">//go:noescape</span><br>
<span class="lineno">265</span><span class="keyword" id="1743398">func</span>&nbsp;<span class="ident" id="1743403">open</span><span class="op" id="1743407">(</span><span class="ident" id="1743408">name</span>&nbsp;<span class="op" id="1743413">*</span><span class="builtintype" id="1743414">byte</span><span class="op" id="1743418">,</span>&nbsp;<span class="ident" id="1743420">mode</span><span class="op" id="1743424">,</span>&nbsp;<span class="ident" id="1743426">perm</span>&nbsp;<span class="builtintype" id="1743431">int32</span><span class="op" id="1743436">)</span>&nbsp;<span class="builtintype" id="1743438">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1743445">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1743459">func</span>&nbsp;<span class="ident" id="1743464">gotraceback</span><span class="op" id="1743475">(</span><span class="op" id="1743476">*</span><span class="builtintype" id="1743477">bool</span><span class="op" id="1743481">)</span>&nbsp;<span class="builtintype" id="1743483">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="1743490">const</span>&nbsp;<span class="ident" id="1743496">_NoArgs</span>&nbsp;<span class="op" id="1743504">=</span>&nbsp;<span class="op" id="1743506">^</span><span class="builtintype" id="1743507">uintptr</span><span class="op" id="1743514">(</span><span class="num" id="1743515">0</span><span class="op" id="1743516">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1743519">func</span>&nbsp;<span class="ident" id="1743524">newstack</span><span class="op" id="1743532">(</span><span class="op" id="1743533">)</span><br>
<span class="lineno"></span><span class="keyword" id="1743535">func</span>&nbsp;<span class="ident" id="1743540">newproc</span><span class="op" id="1743547">(</span><span class="op" id="1743548">)</span><br>
<span class="lineno"></span><span class="keyword" id="1743550">func</span>&nbsp;<span class="ident" id="1743555">morestack</span><span class="op" id="1743564">(</span><span class="op" id="1743565">)</span><br>
<span class="lineno">275</span><span class="keyword" id="1743567">func</span>&nbsp;<span class="ident" id="1743572">mstart</span><span class="op" id="1743578">(</span><span class="op" id="1743579">)</span><br>
<span class="lineno"></span><span class="keyword" id="1743581">func</span>&nbsp;<span class="ident" id="1743586">rt0_go</span><span class="op" id="1743592">(</span><span class="op" id="1743593">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1743596">//&nbsp;return0&nbsp;is&nbsp;a&nbsp;stub&nbsp;used&nbsp;to&nbsp;return&nbsp;0&nbsp;from&nbsp;deferproc.</span><br>
<span class="lineno"></span><span class="comment" id="1743650">//&nbsp;It&nbsp;is&nbsp;called&nbsp;at&nbsp;the&nbsp;very&nbsp;end&nbsp;of&nbsp;deferproc&nbsp;to&nbsp;signal</span><br>
<span class="lineno">280</span><span class="comment" id="1743705">//&nbsp;the&nbsp;calling&nbsp;Go&nbsp;function&nbsp;that&nbsp;it&nbsp;should&nbsp;not&nbsp;jump</span><br>
<span class="lineno"></span><span class="comment" id="1743756">//&nbsp;to&nbsp;deferreturn.</span><br>
<span class="lineno"></span><span class="comment" id="1743775">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="1743789">func</span>&nbsp;<span class="ident" id="1743794">return0</span><span class="op" id="1743801">(</span><span class="op" id="1743802">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="comment" id="1743805">//&nbsp;thunk&nbsp;to&nbsp;call&nbsp;time.now.</span><br>
<span class="lineno"></span><span class="keyword" id="1743832">func</span>&nbsp;<span class="ident" id="1743837">timenow</span><span class="op" id="1743844">(</span><span class="op" id="1743845">)</span>&nbsp;<span class="op" id="1743847">(</span><span class="ident" id="1743848">sec</span>&nbsp;<span class="ident" id="1743852">int64</span><span class="op" id="1743857">,</span>&nbsp;<span class="ident" id="1743859">nsec</span>&nbsp;<span class="builtintype" id="1743864">int32</span><span class="op" id="1743869">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1743872">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1743886">//&nbsp;not&nbsp;called&nbsp;directly;&nbsp;definitions&nbsp;here&nbsp;supply&nbsp;type&nbsp;information&nbsp;for&nbsp;traceback.</span><br>
<span class="lineno">290</span><span class="keyword" id="1743966">func</span>&nbsp;<span class="ident" id="1743971">call16</span><span class="op" id="1743977">(</span><span class="ident" id="1743978">fn</span><span class="op" id="1743980">,</span>&nbsp;<span class="ident" id="1743982">arg</span>&nbsp;<span class="ident" id="1743986">unsafe</span><span class="op" id="1743992">.</span><span class="ident" id="1743993">Pointer</span><span class="op" id="1744000">,</span>&nbsp;<span class="ident" id="1744002">n</span><span class="op" id="1744003">,</span>&nbsp;<span class="ident" id="1744005">retoffset</span>&nbsp;<span class="builtintype" id="1744015">uint32</span><span class="op" id="1744021">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744023">func</span>&nbsp;<span class="ident" id="1744028">call32</span><span class="op" id="1744034">(</span><span class="ident" id="1744035">fn</span><span class="op" id="1744037">,</span>&nbsp;<span class="ident" id="1744039">arg</span>&nbsp;<span class="ident" id="1744043">unsafe</span><span class="op" id="1744049">.</span><span class="ident" id="1744050">Pointer</span><span class="op" id="1744057">,</span>&nbsp;<span class="ident" id="1744059">n</span><span class="op" id="1744060">,</span>&nbsp;<span class="ident" id="1744062">retoffset</span>&nbsp;<span class="builtintype" id="1744072">uint32</span><span class="op" id="1744078">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744080">func</span>&nbsp;<span class="ident" id="1744085">call64</span><span class="op" id="1744091">(</span><span class="ident" id="1744092">fn</span><span class="op" id="1744094">,</span>&nbsp;<span class="ident" id="1744096">arg</span>&nbsp;<span class="ident" id="1744100">unsafe</span><span class="op" id="1744106">.</span><span class="ident" id="1744107">Pointer</span><span class="op" id="1744114">,</span>&nbsp;<span class="ident" id="1744116">n</span><span class="op" id="1744117">,</span>&nbsp;<span class="ident" id="1744119">retoffset</span>&nbsp;<span class="builtintype" id="1744129">uint32</span><span class="op" id="1744135">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744137">func</span>&nbsp;<span class="ident" id="1744142">call128</span><span class="op" id="1744149">(</span><span class="ident" id="1744150">fn</span><span class="op" id="1744152">,</span>&nbsp;<span class="ident" id="1744154">arg</span>&nbsp;<span class="ident" id="1744158">unsafe</span><span class="op" id="1744164">.</span><span class="ident" id="1744165">Pointer</span><span class="op" id="1744172">,</span>&nbsp;<span class="ident" id="1744174">n</span><span class="op" id="1744175">,</span>&nbsp;<span class="ident" id="1744177">retoffset</span>&nbsp;<span class="builtintype" id="1744187">uint32</span><span class="op" id="1744193">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744195">func</span>&nbsp;<span class="ident" id="1744200">call256</span><span class="op" id="1744207">(</span><span class="ident" id="1744208">fn</span><span class="op" id="1744210">,</span>&nbsp;<span class="ident" id="1744212">arg</span>&nbsp;<span class="ident" id="1744216">unsafe</span><span class="op" id="1744222">.</span><span class="ident" id="1744223">Pointer</span><span class="op" id="1744230">,</span>&nbsp;<span class="ident" id="1744232">n</span><span class="op" id="1744233">,</span>&nbsp;<span class="ident" id="1744235">retoffset</span>&nbsp;<span class="builtintype" id="1744245">uint32</span><span class="op" id="1744251">)</span><br>
<span class="lineno">295</span><span class="keyword" id="1744253">func</span>&nbsp;<span class="ident" id="1744258">call512</span><span class="op" id="1744265">(</span><span class="ident" id="1744266">fn</span><span class="op" id="1744268">,</span>&nbsp;<span class="ident" id="1744270">arg</span>&nbsp;<span class="ident" id="1744274">unsafe</span><span class="op" id="1744280">.</span><span class="ident" id="1744281">Pointer</span><span class="op" id="1744288">,</span>&nbsp;<span class="ident" id="1744290">n</span><span class="op" id="1744291">,</span>&nbsp;<span class="ident" id="1744293">retoffset</span>&nbsp;<span class="builtintype" id="1744303">uint32</span><span class="op" id="1744309">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744311">func</span>&nbsp;<span class="ident" id="1744316">call1024</span><span class="op" id="1744324">(</span><span class="ident" id="1744325">fn</span><span class="op" id="1744327">,</span>&nbsp;<span class="ident" id="1744329">arg</span>&nbsp;<span class="ident" id="1744333">unsafe</span><span class="op" id="1744339">.</span><span class="ident" id="1744340">Pointer</span><span class="op" id="1744347">,</span>&nbsp;<span class="ident" id="1744349">n</span><span class="op" id="1744350">,</span>&nbsp;<span class="ident" id="1744352">retoffset</span>&nbsp;<span class="builtintype" id="1744362">uint32</span><span class="op" id="1744368">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744370">func</span>&nbsp;<span class="ident" id="1744375">call2048</span><span class="op" id="1744383">(</span><span class="ident" id="1744384">fn</span><span class="op" id="1744386">,</span>&nbsp;<span class="ident" id="1744388">arg</span>&nbsp;<span class="ident" id="1744392">unsafe</span><span class="op" id="1744398">.</span><span class="ident" id="1744399">Pointer</span><span class="op" id="1744406">,</span>&nbsp;<span class="ident" id="1744408">n</span><span class="op" id="1744409">,</span>&nbsp;<span class="ident" id="1744411">retoffset</span>&nbsp;<span class="builtintype" id="1744421">uint32</span><span class="op" id="1744427">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744429">func</span>&nbsp;<span class="ident" id="1744434">call4096</span><span class="op" id="1744442">(</span><span class="ident" id="1744443">fn</span><span class="op" id="1744445">,</span>&nbsp;<span class="ident" id="1744447">arg</span>&nbsp;<span class="ident" id="1744451">unsafe</span><span class="op" id="1744457">.</span><span class="ident" id="1744458">Pointer</span><span class="op" id="1744465">,</span>&nbsp;<span class="ident" id="1744467">n</span><span class="op" id="1744468">,</span>&nbsp;<span class="ident" id="1744470">retoffset</span>&nbsp;<span class="builtintype" id="1744480">uint32</span><span class="op" id="1744486">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744488">func</span>&nbsp;<span class="ident" id="1744493">call8192</span><span class="op" id="1744501">(</span><span class="ident" id="1744502">fn</span><span class="op" id="1744504">,</span>&nbsp;<span class="ident" id="1744506">arg</span>&nbsp;<span class="ident" id="1744510">unsafe</span><span class="op" id="1744516">.</span><span class="ident" id="1744517">Pointer</span><span class="op" id="1744524">,</span>&nbsp;<span class="ident" id="1744526">n</span><span class="op" id="1744527">,</span>&nbsp;<span class="ident" id="1744529">retoffset</span>&nbsp;<span class="builtintype" id="1744539">uint32</span><span class="op" id="1744545">)</span><br>
<span class="lineno">300</span><span class="keyword" id="1744547">func</span>&nbsp;<span class="ident" id="1744552">call16384</span><span class="op" id="1744561">(</span><span class="ident" id="1744562">fn</span><span class="op" id="1744564">,</span>&nbsp;<span class="ident" id="1744566">arg</span>&nbsp;<span class="ident" id="1744570">unsafe</span><span class="op" id="1744576">.</span><span class="ident" id="1744577">Pointer</span><span class="op" id="1744584">,</span>&nbsp;<span class="ident" id="1744586">n</span><span class="op" id="1744587">,</span>&nbsp;<span class="ident" id="1744589">retoffset</span>&nbsp;<span class="builtintype" id="1744599">uint32</span><span class="op" id="1744605">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744607">func</span>&nbsp;<span class="ident" id="1744612">call32768</span><span class="op" id="1744621">(</span><span class="ident" id="1744622">fn</span><span class="op" id="1744624">,</span>&nbsp;<span class="ident" id="1744626">arg</span>&nbsp;<span class="ident" id="1744630">unsafe</span><span class="op" id="1744636">.</span><span class="ident" id="1744637">Pointer</span><span class="op" id="1744644">,</span>&nbsp;<span class="ident" id="1744646">n</span><span class="op" id="1744647">,</span>&nbsp;<span class="ident" id="1744649">retoffset</span>&nbsp;<span class="builtintype" id="1744659">uint32</span><span class="op" id="1744665">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744667">func</span>&nbsp;<span class="ident" id="1744672">call65536</span><span class="op" id="1744681">(</span><span class="ident" id="1744682">fn</span><span class="op" id="1744684">,</span>&nbsp;<span class="ident" id="1744686">arg</span>&nbsp;<span class="ident" id="1744690">unsafe</span><span class="op" id="1744696">.</span><span class="ident" id="1744697">Pointer</span><span class="op" id="1744704">,</span>&nbsp;<span class="ident" id="1744706">n</span><span class="op" id="1744707">,</span>&nbsp;<span class="ident" id="1744709">retoffset</span>&nbsp;<span class="builtintype" id="1744719">uint32</span><span class="op" id="1744725">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744727">func</span>&nbsp;<span class="ident" id="1744732">call131072</span><span class="op" id="1744742">(</span><span class="ident" id="1744743">fn</span><span class="op" id="1744745">,</span>&nbsp;<span class="ident" id="1744747">arg</span>&nbsp;<span class="ident" id="1744751">unsafe</span><span class="op" id="1744757">.</span><span class="ident" id="1744758">Pointer</span><span class="op" id="1744765">,</span>&nbsp;<span class="ident" id="1744767">n</span><span class="op" id="1744768">,</span>&nbsp;<span class="ident" id="1744770">retoffset</span>&nbsp;<span class="builtintype" id="1744780">uint32</span><span class="op" id="1744786">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744788">func</span>&nbsp;<span class="ident" id="1744793">call262144</span><span class="op" id="1744803">(</span><span class="ident" id="1744804">fn</span><span class="op" id="1744806">,</span>&nbsp;<span class="ident" id="1744808">arg</span>&nbsp;<span class="ident" id="1744812">unsafe</span><span class="op" id="1744818">.</span><span class="ident" id="1744819">Pointer</span><span class="op" id="1744826">,</span>&nbsp;<span class="ident" id="1744828">n</span><span class="op" id="1744829">,</span>&nbsp;<span class="ident" id="1744831">retoffset</span>&nbsp;<span class="builtintype" id="1744841">uint32</span><span class="op" id="1744847">)</span><br>
<span class="lineno">305</span><span class="keyword" id="1744849">func</span>&nbsp;<span class="ident" id="1744854">call524288</span><span class="op" id="1744864">(</span><span class="ident" id="1744865">fn</span><span class="op" id="1744867">,</span>&nbsp;<span class="ident" id="1744869">arg</span>&nbsp;<span class="ident" id="1744873">unsafe</span><span class="op" id="1744879">.</span><span class="ident" id="1744880">Pointer</span><span class="op" id="1744887">,</span>&nbsp;<span class="ident" id="1744889">n</span><span class="op" id="1744890">,</span>&nbsp;<span class="ident" id="1744892">retoffset</span>&nbsp;<span class="builtintype" id="1744902">uint32</span><span class="op" id="1744908">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744910">func</span>&nbsp;<span class="ident" id="1744915">call1048576</span><span class="op" id="1744926">(</span><span class="ident" id="1744927">fn</span><span class="op" id="1744929">,</span>&nbsp;<span class="ident" id="1744931">arg</span>&nbsp;<span class="ident" id="1744935">unsafe</span><span class="op" id="1744941">.</span><span class="ident" id="1744942">Pointer</span><span class="op" id="1744949">,</span>&nbsp;<span class="ident" id="1744951">n</span><span class="op" id="1744952">,</span>&nbsp;<span class="ident" id="1744954">retoffset</span>&nbsp;<span class="builtintype" id="1744964">uint32</span><span class="op" id="1744970">)</span><br>
<span class="lineno"></span><span class="keyword" id="1744972">func</span>&nbsp;<span class="ident" id="1744977">call2097152</span><span class="op" id="1744988">(</span><span class="ident" id="1744989">fn</span><span class="op" id="1744991">,</span>&nbsp;<span class="ident" id="1744993">arg</span>&nbsp;<span class="ident" id="1744997">unsafe</span><span class="op" id="1745003">.</span><span class="ident" id="1745004">Pointer</span><span class="op" id="1745011">,</span>&nbsp;<span class="ident" id="1745013">n</span><span class="op" id="1745014">,</span>&nbsp;<span class="ident" id="1745016">retoffset</span>&nbsp;<span class="builtintype" id="1745026">uint32</span><span class="op" id="1745032">)</span><br>
<span class="lineno"></span><span class="keyword" id="1745034">func</span>&nbsp;<span class="ident" id="1745039">call4194304</span><span class="op" id="1745050">(</span><span class="ident" id="1745051">fn</span><span class="op" id="1745053">,</span>&nbsp;<span class="ident" id="1745055">arg</span>&nbsp;<span class="ident" id="1745059">unsafe</span><span class="op" id="1745065">.</span><span class="ident" id="1745066">Pointer</span><span class="op" id="1745073">,</span>&nbsp;<span class="ident" id="1745075">n</span><span class="op" id="1745076">,</span>&nbsp;<span class="ident" id="1745078">retoffset</span>&nbsp;<span class="builtintype" id="1745088">uint32</span><span class="op" id="1745094">)</span><br>
<span class="lineno"></span><span class="keyword" id="1745096">func</span>&nbsp;<span class="ident" id="1745101">call8388608</span><span class="op" id="1745112">(</span><span class="ident" id="1745113">fn</span><span class="op" id="1745115">,</span>&nbsp;<span class="ident" id="1745117">arg</span>&nbsp;<span class="ident" id="1745121">unsafe</span><span class="op" id="1745127">.</span><span class="ident" id="1745128">Pointer</span><span class="op" id="1745135">,</span>&nbsp;<span class="ident" id="1745137">n</span><span class="op" id="1745138">,</span>&nbsp;<span class="ident" id="1745140">retoffset</span>&nbsp;<span class="builtintype" id="1745150">uint32</span><span class="op" id="1745156">)</span><br>
<span class="lineno">310</span><span class="keyword" id="1745158">func</span>&nbsp;<span class="ident" id="1745163">call16777216</span><span class="op" id="1745175">(</span><span class="ident" id="1745176">fn</span><span class="op" id="1745178">,</span>&nbsp;<span class="ident" id="1745180">arg</span>&nbsp;<span class="ident" id="1745184">unsafe</span><span class="op" id="1745190">.</span><span class="ident" id="1745191">Pointer</span><span class="op" id="1745198">,</span>&nbsp;<span class="ident" id="1745200">n</span><span class="op" id="1745201">,</span>&nbsp;<span class="ident" id="1745203">retoffset</span>&nbsp;<span class="builtintype" id="1745213">uint32</span><span class="op" id="1745219">)</span><br>
<span class="lineno"></span><span class="keyword" id="1745221">func</span>&nbsp;<span class="ident" id="1745226">call33554432</span><span class="op" id="1745238">(</span><span class="ident" id="1745239">fn</span><span class="op" id="1745241">,</span>&nbsp;<span class="ident" id="1745243">arg</span>&nbsp;<span class="ident" id="1745247">unsafe</span><span class="op" id="1745253">.</span><span class="ident" id="1745254">Pointer</span><span class="op" id="1745261">,</span>&nbsp;<span class="ident" id="1745263">n</span><span class="op" id="1745264">,</span>&nbsp;<span class="ident" id="1745266">retoffset</span>&nbsp;<span class="builtintype" id="1745276">uint32</span><span class="op" id="1745282">)</span><br>
<span class="lineno"></span><span class="keyword" id="1745284">func</span>&nbsp;<span class="ident" id="1745289">call67108864</span><span class="op" id="1745301">(</span><span class="ident" id="1745302">fn</span><span class="op" id="1745304">,</span>&nbsp;<span class="ident" id="1745306">arg</span>&nbsp;<span class="ident" id="1745310">unsafe</span><span class="op" id="1745316">.</span><span class="ident" id="1745317">Pointer</span><span class="op" id="1745324">,</span>&nbsp;<span class="ident" id="1745326">n</span><span class="op" id="1745327">,</span>&nbsp;<span class="ident" id="1745329">retoffset</span>&nbsp;<span class="builtintype" id="1745339">uint32</span><span class="op" id="1745345">)</span><br>
<span class="lineno"></span><span class="keyword" id="1745347">func</span>&nbsp;<span class="ident" id="1745352">call134217728</span><span class="op" id="1745365">(</span><span class="ident" id="1745366">fn</span><span class="op" id="1745368">,</span>&nbsp;<span class="ident" id="1745370">arg</span>&nbsp;<span class="ident" id="1745374">unsafe</span><span class="op" id="1745380">.</span><span class="ident" id="1745381">Pointer</span><span class="op" id="1745388">,</span>&nbsp;<span class="ident" id="1745390">n</span><span class="op" id="1745391">,</span>&nbsp;<span class="ident" id="1745393">retoffset</span>&nbsp;<span class="builtintype" id="1745403">uint32</span><span class="op" id="1745409">)</span><br>
<span class="lineno"></span><span class="keyword" id="1745411">func</span>&nbsp;<span class="ident" id="1745416">call268435456</span><span class="op" id="1745429">(</span><span class="ident" id="1745430">fn</span><span class="op" id="1745432">,</span>&nbsp;<span class="ident" id="1745434">arg</span>&nbsp;<span class="ident" id="1745438">unsafe</span><span class="op" id="1745444">.</span><span class="ident" id="1745445">Pointer</span><span class="op" id="1745452">,</span>&nbsp;<span class="ident" id="1745454">n</span><span class="op" id="1745455">,</span>&nbsp;<span class="ident" id="1745457">retoffset</span>&nbsp;<span class="builtintype" id="1745467">uint32</span><span class="op" id="1745473">)</span><br>
<span class="lineno">315</span><span class="keyword" id="1745475">func</span>&nbsp;<span class="ident" id="1745480">call536870912</span><span class="op" id="1745493">(</span><span class="ident" id="1745494">fn</span><span class="op" id="1745496">,</span>&nbsp;<span class="ident" id="1745498">arg</span>&nbsp;<span class="ident" id="1745502">unsafe</span><span class="op" id="1745508">.</span><span class="ident" id="1745509">Pointer</span><span class="op" id="1745516">,</span>&nbsp;<span class="ident" id="1745518">n</span><span class="op" id="1745519">,</span>&nbsp;<span class="ident" id="1745521">retoffset</span>&nbsp;<span class="builtintype" id="1745531">uint32</span><span class="op" id="1745537">)</span><br>
<span class="lineno"></span><span class="keyword" id="1745539">func</span>&nbsp;<span class="ident" id="1745544">call1073741824</span><span class="op" id="1745558">(</span><span class="ident" id="1745559">fn</span><span class="op" id="1745561">,</span>&nbsp;<span class="ident" id="1745563">arg</span>&nbsp;<span class="ident" id="1745567">unsafe</span><span class="op" id="1745573">.</span><span class="ident" id="1745574">Pointer</span><span class="op" id="1745581">,</span>&nbsp;<span class="ident" id="1745583">n</span><span class="op" id="1745584">,</span>&nbsp;<span class="ident" id="1745586">retoffset</span>&nbsp;<span class="builtintype" id="1745596">uint32</span><span class="op" id="1745602">)</span>
</div>
</body>
</html>
