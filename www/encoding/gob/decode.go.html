<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5037886">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5037941">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5037995">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5038046">//go:generate&nbsp;go&nbsp;run&nbsp;decgen.go&nbsp;-output&nbsp;dec_helpers.go</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5038101">package</span>&nbsp;<span class="ident" id="5038109">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5038114">import</span>&nbsp;<span class="op" id="5038121">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5038124">&#34;encoding&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5038136">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5038146">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5038152">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5038160">&#34;reflect&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5038170">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5038173">var</span>&nbsp;<span class="op" id="5038177">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5038180">errBadUint</span>&nbsp;<span class="op" id="5038191">=</span>&nbsp;<span class="ident" id="5038193"><a href="/encoding/gob/decode.go.html#5038136">errors</a></span><span class="op" id="5038199">.</span><span class="ident" id="5038200">New</span><span class="op" id="5038203">(</span><span class="string" id="5038204">&#34;gob:&nbsp;encoded&nbsp;unsigned&nbsp;integer&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="5038248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5038251">errBadType</span>&nbsp;<span class="op" id="5038262">=</span>&nbsp;<span class="ident" id="5038264"><a href="/encoding/gob/decode.go.html#5038136">errors</a></span><span class="op" id="5038270">.</span><span class="ident" id="5038271">New</span><span class="op" id="5038274">(</span><span class="string" id="5038275">&#34;gob:&nbsp;unknown&nbsp;type&nbsp;id&nbsp;or&nbsp;corrupted&nbsp;data&#34;</span><span class="op" id="5038315">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5038318">errRange</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5038329">=</span>&nbsp;<span class="ident" id="5038331"><a href="/encoding/gob/decode.go.html#5038136">errors</a></span><span class="op" id="5038337">.</span><span class="ident" id="5038338">New</span><span class="op" id="5038341">(</span><span class="string" id="5038342">&#34;gob:&nbsp;bad&nbsp;data:&nbsp;field&nbsp;numbers&nbsp;out&nbsp;of&nbsp;bounds&#34;</span><span class="op" id="5038386">)</span><br>
<span class="lineno"></span><span class="op" id="5038388">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5038391">type</span>&nbsp;<span class="ident" id="5038396">decHelper</span>&nbsp;<span class="keyword" id="5038406">func</span><span class="op" id="5038410">(</span><span class="ident" id="5038411">state</span>&nbsp;<span class="op" id="5038417">*</span><span class="ident" id="5038418"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5038430">,</span>&nbsp;<span class="ident" id="5038432">v</span>&nbsp;<span class="ident" id="5038434"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5038441">.</span><span class="ident" id="5038442">Value</span><span class="op" id="5038447">,</span>&nbsp;<span class="ident" id="5038449">length</span>&nbsp;<span class="builtintype" id="5038456">int</span><span class="op" id="5038459">,</span>&nbsp;<span class="ident" id="5038461">ovfl</span>&nbsp;<span class="builtintype" id="5038466">error</span><span class="op" id="5038471">)</span>&nbsp;<span class="builtintype" id="5038473">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="5038479">//&nbsp;decoderState&nbsp;is&nbsp;the&nbsp;execution&nbsp;state&nbsp;of&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;decoder.&nbsp;A&nbsp;new&nbsp;state</span><br>
<span class="lineno"></span><span class="comment" id="5038561">//&nbsp;is&nbsp;created&nbsp;for&nbsp;nested&nbsp;objects.</span><br>
<span class="lineno"></span><span class="keyword" id="5038595">type</span>&nbsp;<span class="ident" id="5038600">decoderState</span>&nbsp;<span class="keyword" id="5038613">struct</span>&nbsp;<span class="op" id="5038620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5038623">dec</span>&nbsp;<span class="op" id="5038627">*</span><span class="ident" id="5038628"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5038637">//&nbsp;The&nbsp;buffer&nbsp;is&nbsp;stored&nbsp;with&nbsp;an&nbsp;extra&nbsp;indirection&nbsp;because&nbsp;it&nbsp;may&nbsp;be&nbsp;replaced</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5038715">//&nbsp;if&nbsp;we&nbsp;load&nbsp;a&nbsp;type&nbsp;during&nbsp;decode&nbsp;(when&nbsp;reading&nbsp;an&nbsp;interface&nbsp;value).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5038786">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5038795">*</span><span class="ident" id="5038796"><a href="/encoding/gob/decode.go.html#5039101">decBuffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5038807">fieldnum</span>&nbsp;<span class="builtintype" id="5038816">int</span>&nbsp;<span class="comment" id="5038820">//&nbsp;the&nbsp;last&nbsp;field&nbsp;number&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5038852">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5038861">[</span><span class="op" id="5038862">]</span><span class="builtintype" id="5038863">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5038869">next</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5038878">*</span><span class="ident" id="5038879"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span>&nbsp;<span class="comment" id="5038892">//&nbsp;for&nbsp;free&nbsp;list</span><br>
<span class="lineno">35</span><span class="op" id="5038909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5038912">//&nbsp;decBuffer&nbsp;is&nbsp;an&nbsp;extremely&nbsp;simple,&nbsp;fast&nbsp;implementation&nbsp;of&nbsp;a&nbsp;read-only&nbsp;byte&nbsp;buffer.</span><br>
<span class="lineno"></span><span class="comment" id="5038997">//&nbsp;It&nbsp;is&nbsp;initialized&nbsp;by&nbsp;calling&nbsp;Size&nbsp;and&nbsp;then&nbsp;copying&nbsp;the&nbsp;data&nbsp;into&nbsp;the&nbsp;slice&nbsp;returned&nbsp;by&nbsp;Bytes().</span><br>
<span class="lineno"></span><span class="keyword" id="5039096">type</span>&nbsp;<span class="ident" id="5039101">decBuffer</span>&nbsp;<span class="keyword" id="5039111">struct</span>&nbsp;<span class="op" id="5039118">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039121">data</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5039128">[</span><span class="op" id="5039129">]</span><span class="builtintype" id="5039130">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039136">offset</span>&nbsp;<span class="builtintype" id="5039143">int</span>&nbsp;<span class="comment" id="5039147">//&nbsp;Read&nbsp;offset.</span><br>
<span class="lineno"></span><span class="op" id="5039163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5039166">func</span>&nbsp;<span class="op" id="5039171">(</span><span class="ident" id="5039172">d</span>&nbsp;<span class="op" id="5039174">*</span><span class="ident" id="5039175"><a href="/encoding/gob/decode.go.html#5039101">decBuffer</a></span><span class="op" id="5039184">)</span>&nbsp;<span class="ident" id="5039186">Read</span><span class="op" id="5039190">(</span><span class="ident" id="5039191">p</span>&nbsp;<span class="op" id="5039193">[</span><span class="op" id="5039194">]</span><span class="builtintype" id="5039195">byte</span><span class="op" id="5039199">)</span>&nbsp;<span class="op" id="5039201">(</span><span class="builtintype" id="5039202">int</span><span class="op" id="5039205">,</span>&nbsp;<span class="builtintype" id="5039207">error</span><span class="op" id="5039212">)</span>&nbsp;<span class="op" id="5039214">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039217">n</span>&nbsp;<span class="op" id="5039219">:=</span>&nbsp;<span class="builtinfunc" id="5039222">copy</span><span class="op" id="5039226">(</span><span class="ident" id="5039227"><a href="/encoding/gob/decode.go.html#5039191">p</a></span><span class="op" id="5039228">,</span>&nbsp;<span class="ident" id="5039230"><a href="/encoding/gob/decode.go.html#5039172">d</a></span><span class="op" id="5039231">.</span><span class="ident" id="5039232">data</span><span class="op" id="5039236">[</span><span class="ident" id="5039237"><a href="/encoding/gob/decode.go.html#5039172">d</a></span><span class="op" id="5039238">.</span><span class="ident" id="5039239">offset</span><span class="op" id="5039245">:</span><span class="op" id="5039246">]</span><span class="op" id="5039247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5039250">if</span>&nbsp;<span class="ident" id="5039253"><a href="/encoding/gob/decode.go.html#5039217">n</a></span>&nbsp;<span class="op" id="5039255">==</span>&nbsp;<span class="num" id="5039258">0</span>&nbsp;<span class="op" id="5039260">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5039263">len</span><span class="op" id="5039266">(</span><span class="ident" id="5039267"><a href="/encoding/gob/decode.go.html#5039191">p</a></span><span class="op" id="5039268">)</span>&nbsp;<span class="op" id="5039270">!=</span>&nbsp;<span class="num" id="5039273">0</span>&nbsp;<span class="op" id="5039275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5039279">return</span>&nbsp;<span class="num" id="5039286">0</span><span class="op" id="5039287">,</span>&nbsp;<span class="ident" id="5039289"><a href="/encoding/gob/decode.go.html#5038146">io</a></span><span class="op" id="5039291">.</span><span class="ident" id="5039292">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5039297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039300"><a href="/encoding/gob/decode.go.html#5039172">d</a></span><span class="op" id="5039301">.</span><span class="ident" id="5039302">offset</span>&nbsp;<span class="op" id="5039309">+=</span>&nbsp;<span class="ident" id="5039312"><a href="/encoding/gob/decode.go.html#5039217">n</a></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5039315">return</span>&nbsp;<span class="ident" id="5039322"><a href="/encoding/gob/decode.go.html#5039217">n</a></span><span class="op" id="5039323">,</span>&nbsp;<span class="ident" id="5039325">nil</span><br>
<span class="lineno"></span><span class="op" id="5039329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5039332">func</span>&nbsp;<span class="op" id="5039337">(</span><span class="ident" id="5039338">d</span>&nbsp;<span class="op" id="5039340">*</span><span class="ident" id="5039341"><a href="/encoding/gob/decode.go.html#5039101">decBuffer</a></span><span class="op" id="5039350">)</span>&nbsp;<span class="ident" id="5039352">Drop</span><span class="op" id="5039356">(</span><span class="ident" id="5039357">n</span>&nbsp;<span class="builtintype" id="5039359">int</span><span class="op" id="5039362">)</span>&nbsp;<span class="op" id="5039364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5039367">if</span>&nbsp;<span class="ident" id="5039370"><a href="/encoding/gob/decode.go.html#5039357">n</a></span>&nbsp;<span class="op" id="5039372">&gt;</span>&nbsp;<span class="ident" id="5039374"><a href="/encoding/gob/decode.go.html#5039338">d</a></span><span class="op" id="5039375">.</span><span class="ident" id="5039376">Len</span><span class="op" id="5039379">(</span><span class="op" id="5039380">)</span>&nbsp;<span class="op" id="5039382">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5039386">panic</span><span class="op" id="5039391">(</span><span class="string" id="5039392">&#34;drop&#34;</span><span class="op" id="5039398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5039401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039404"><a href="/encoding/gob/decode.go.html#5039338">d</a></span><span class="op" id="5039405">.</span><span class="ident" id="5039406">offset</span>&nbsp;<span class="op" id="5039413">+=</span>&nbsp;<span class="ident" id="5039416"><a href="/encoding/gob/decode.go.html#5039357">n</a></span><br>
<span class="lineno"></span><span class="op" id="5039418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="5039421">//&nbsp;Size&nbsp;grows&nbsp;the&nbsp;buffer&nbsp;to&nbsp;exactly&nbsp;n&nbsp;bytes,&nbsp;so&nbsp;d.Bytes()&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="5039484">//&nbsp;return&nbsp;a&nbsp;slice&nbsp;of&nbsp;length&nbsp;n.&nbsp;Existing&nbsp;data&nbsp;is&nbsp;first&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="keyword" id="5039549">func</span>&nbsp;<span class="op" id="5039554">(</span><span class="ident" id="5039555">d</span>&nbsp;<span class="op" id="5039557">*</span><span class="ident" id="5039558"><a href="/encoding/gob/decode.go.html#5039101">decBuffer</a></span><span class="op" id="5039567">)</span>&nbsp;<span class="ident" id="5039569">Size</span><span class="op" id="5039573">(</span><span class="ident" id="5039574">n</span>&nbsp;<span class="builtintype" id="5039576">int</span><span class="op" id="5039579">)</span>&nbsp;<span class="op" id="5039581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039584"><a href="/encoding/gob/decode.go.html#5039555">d</a></span><span class="op" id="5039585">.</span><span class="ident" id="5039586">Reset</span><span class="op" id="5039591">(</span><span class="op" id="5039592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5039595">if</span>&nbsp;<span class="builtinfunc" id="5039598">cap</span><span class="op" id="5039601">(</span><span class="ident" id="5039602"><a href="/encoding/gob/decode.go.html#5039555">d</a></span><span class="op" id="5039603">.</span><span class="ident" id="5039604">data</span><span class="op" id="5039608">)</span>&nbsp;<span class="op" id="5039610">&lt;</span>&nbsp;<span class="ident" id="5039612"><a href="/encoding/gob/decode.go.html#5039574">n</a></span>&nbsp;<span class="op" id="5039614">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039618"><a href="/encoding/gob/decode.go.html#5039555">d</a></span><span class="op" id="5039619">.</span><span class="ident" id="5039620">data</span>&nbsp;<span class="op" id="5039625">=</span>&nbsp;<span class="builtinfunc" id="5039627">make</span><span class="op" id="5039631">(</span><span class="op" id="5039632">[</span><span class="op" id="5039633">]</span><span class="builtintype" id="5039634">byte</span><span class="op" id="5039638">,</span>&nbsp;<span class="ident" id="5039640"><a href="/encoding/gob/decode.go.html#5039574">n</a></span><span class="op" id="5039641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5039644">}</span>&nbsp;<span class="keyword" id="5039646">else</span>&nbsp;<span class="op" id="5039651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039655"><a href="/encoding/gob/decode.go.html#5039555">d</a></span><span class="op" id="5039656">.</span><span class="ident" id="5039657">data</span>&nbsp;<span class="op" id="5039662">=</span>&nbsp;<span class="ident" id="5039664"><a href="/encoding/gob/decode.go.html#5039555">d</a></span><span class="op" id="5039665">.</span><span class="ident" id="5039666">data</span><span class="op" id="5039670">[</span><span class="num" id="5039671">0</span><span class="op" id="5039672">:</span><span class="ident" id="5039673"><a href="/encoding/gob/decode.go.html#5039574">n</a></span><span class="op" id="5039674">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5039677">}</span><br>
<span class="lineno"></span><span class="op" id="5039679">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="5039682">func</span>&nbsp;<span class="op" id="5039687">(</span><span class="ident" id="5039688">d</span>&nbsp;<span class="op" id="5039690">*</span><span class="ident" id="5039691"><a href="/encoding/gob/decode.go.html#5039101">decBuffer</a></span><span class="op" id="5039700">)</span>&nbsp;<span class="ident" id="5039702">ReadByte</span><span class="op" id="5039710">(</span><span class="op" id="5039711">)</span>&nbsp;<span class="op" id="5039713">(</span><span class="builtintype" id="5039714">byte</span><span class="op" id="5039718">,</span>&nbsp;<span class="builtintype" id="5039720">error</span><span class="op" id="5039725">)</span>&nbsp;<span class="op" id="5039727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5039730">if</span>&nbsp;<span class="ident" id="5039733"><a href="/encoding/gob/decode.go.html#5039688">d</a></span><span class="op" id="5039734">.</span><span class="ident" id="5039735">offset</span>&nbsp;<span class="op" id="5039742">&gt;=</span>&nbsp;<span class="builtinfunc" id="5039745">len</span><span class="op" id="5039748">(</span><span class="ident" id="5039749"><a href="/encoding/gob/decode.go.html#5039688">d</a></span><span class="op" id="5039750">.</span><span class="ident" id="5039751">data</span><span class="op" id="5039755">)</span>&nbsp;<span class="op" id="5039757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5039761">return</span>&nbsp;<span class="num" id="5039768">0</span><span class="op" id="5039769">,</span>&nbsp;<span class="ident" id="5039771"><a href="/encoding/gob/decode.go.html#5038146">io</a></span><span class="op" id="5039773">.</span><span class="ident" id="5039774">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5039779">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039782">c</span>&nbsp;<span class="op" id="5039784">:=</span>&nbsp;<span class="ident" id="5039787"><a href="/encoding/gob/decode.go.html#5039688">d</a></span><span class="op" id="5039788">.</span><span class="ident" id="5039789">data</span><span class="op" id="5039793">[</span><span class="ident" id="5039794"><a href="/encoding/gob/decode.go.html#5039688">d</a></span><span class="op" id="5039795">.</span><span class="ident" id="5039796">offset</span><span class="op" id="5039802">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039805"><a href="/encoding/gob/decode.go.html#5039688">d</a></span><span class="op" id="5039806">.</span><span class="ident" id="5039807">offset</span><span class="op" id="5039813">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5039817">return</span>&nbsp;<span class="ident" id="5039824"><a href="/encoding/gob/decode.go.html#5039782">c</a></span><span class="op" id="5039825">,</span>&nbsp;<span class="ident" id="5039827">nil</span><br>
<span class="lineno"></span><span class="op" id="5039831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5039834">func</span>&nbsp;<span class="op" id="5039839">(</span><span class="ident" id="5039840">d</span>&nbsp;<span class="op" id="5039842">*</span><span class="ident" id="5039843"><a href="/encoding/gob/decode.go.html#5039101">decBuffer</a></span><span class="op" id="5039852">)</span>&nbsp;<span class="ident" id="5039854">Len</span><span class="op" id="5039857">(</span><span class="op" id="5039858">)</span>&nbsp;<span class="builtintype" id="5039860">int</span>&nbsp;<span class="op" id="5039864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5039867">return</span>&nbsp;<span class="builtinfunc" id="5039874">len</span><span class="op" id="5039877">(</span><span class="ident" id="5039878"><a href="/encoding/gob/decode.go.html#5039840">d</a></span><span class="op" id="5039879">.</span><span class="ident" id="5039880">data</span><span class="op" id="5039884">)</span>&nbsp;<span class="op" id="5039886">-</span>&nbsp;<span class="ident" id="5039888"><a href="/encoding/gob/decode.go.html#5039840">d</a></span><span class="op" id="5039889">.</span><span class="ident" id="5039890">offset</span><br>
<span class="lineno"></span><span class="op" id="5039897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5039900">func</span>&nbsp;<span class="op" id="5039905">(</span><span class="ident" id="5039906">d</span>&nbsp;<span class="op" id="5039908">*</span><span class="ident" id="5039909"><a href="/encoding/gob/decode.go.html#5039101">decBuffer</a></span><span class="op" id="5039918">)</span>&nbsp;<span class="ident" id="5039920">Bytes</span><span class="op" id="5039925">(</span><span class="op" id="5039926">)</span>&nbsp;<span class="op" id="5039928">[</span><span class="op" id="5039929">]</span><span class="builtintype" id="5039930">byte</span>&nbsp;<span class="op" id="5039935">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5039938">return</span>&nbsp;<span class="ident" id="5039945"><a href="/encoding/gob/decode.go.html#5039906">d</a></span><span class="op" id="5039946">.</span><span class="ident" id="5039947">data</span><span class="op" id="5039951">[</span><span class="ident" id="5039952"><a href="/encoding/gob/decode.go.html#5039906">d</a></span><span class="op" id="5039953">.</span><span class="ident" id="5039954">offset</span><span class="op" id="5039960">:</span><span class="op" id="5039961">]</span><br>
<span class="lineno"></span><span class="op" id="5039963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5039966">func</span>&nbsp;<span class="op" id="5039971">(</span><span class="ident" id="5039972">d</span>&nbsp;<span class="op" id="5039974">*</span><span class="ident" id="5039975"><a href="/encoding/gob/decode.go.html#5039101">decBuffer</a></span><span class="op" id="5039984">)</span>&nbsp;<span class="ident" id="5039986">Reset</span><span class="op" id="5039991">(</span><span class="op" id="5039992">)</span>&nbsp;<span class="op" id="5039994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5039997"><a href="/encoding/gob/decode.go.html#5039972">d</a></span><span class="op" id="5039998">.</span><span class="ident" id="5039999">data</span>&nbsp;<span class="op" id="5040004">=</span>&nbsp;<span class="ident" id="5040006"><a href="/encoding/gob/decode.go.html#5039972">d</a></span><span class="op" id="5040007">.</span><span class="ident" id="5040008">data</span><span class="op" id="5040012">[</span><span class="num" id="5040013">0</span><span class="op" id="5040014">:</span><span class="num" id="5040015">0</span><span class="op" id="5040016">]</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040019"><a href="/encoding/gob/decode.go.html#5039972">d</a></span><span class="op" id="5040020">.</span><span class="ident" id="5040021">offset</span>&nbsp;<span class="op" id="5040028">=</span>&nbsp;<span class="num" id="5040030">0</span><br>
<span class="lineno"></span><span class="op" id="5040032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5040035">//&nbsp;We&nbsp;pass&nbsp;the&nbsp;bytes.Buffer&nbsp;separately&nbsp;for&nbsp;easier&nbsp;testing&nbsp;of&nbsp;the&nbsp;infrastructure</span><br>
<span class="lineno"></span><span class="comment" id="5040115">//&nbsp;without&nbsp;requiring&nbsp;a&nbsp;full&nbsp;Decoder.</span><br>
<span class="lineno">95</span><span class="keyword" id="5040152">func</span>&nbsp;<span class="op" id="5040157">(</span><span class="ident" id="5040158">dec</span>&nbsp;<span class="op" id="5040162">*</span><span class="ident" id="5040163"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5040170">)</span>&nbsp;<span class="ident" id="5040172">newDecoderState</span><span class="op" id="5040187">(</span><span class="ident" id="5040188">buf</span>&nbsp;<span class="op" id="5040192">*</span><span class="ident" id="5040193"><a href="/encoding/gob/decode.go.html#5039101">decBuffer</a></span><span class="op" id="5040202">)</span>&nbsp;<span class="op" id="5040204">*</span><span class="ident" id="5040205"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span>&nbsp;<span class="op" id="5040218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040221">d</span>&nbsp;<span class="op" id="5040223">:=</span>&nbsp;<span class="ident" id="5040226"><a href="/encoding/gob/decode.go.html#5040158">dec</a></span><span class="op" id="5040229">.</span><span class="ident" id="5040230">freeList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5040240">if</span>&nbsp;<span class="ident" id="5040243"><a href="/encoding/gob/decode.go.html#5040221">d</a></span>&nbsp;<span class="op" id="5040245">==</span>&nbsp;<span class="ident" id="5040248">nil</span>&nbsp;<span class="op" id="5040252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040256"><a href="/encoding/gob/decode.go.html#5040221">d</a></span>&nbsp;<span class="op" id="5040258">=</span>&nbsp;<span class="builtinfunc" id="5040260">new</span><span class="op" id="5040263">(</span><span class="ident" id="5040264"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5040276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040280"><a href="/encoding/gob/decode.go.html#5040221">d</a></span><span class="op" id="5040281">.</span><span class="ident" id="5040282">dec</span>&nbsp;<span class="op" id="5040286">=</span>&nbsp;<span class="ident" id="5040288"><a href="/encoding/gob/decode.go.html#5040158">dec</a></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040294"><a href="/encoding/gob/decode.go.html#5040221">d</a></span><span class="op" id="5040295">.</span><span class="ident" id="5040296">buf</span>&nbsp;<span class="op" id="5040300">=</span>&nbsp;<span class="builtinfunc" id="5040302">make</span><span class="op" id="5040306">(</span><span class="op" id="5040307">[</span><span class="op" id="5040308">]</span><span class="builtintype" id="5040309">byte</span><span class="op" id="5040313">,</span>&nbsp;<span class="ident" id="5040315"><a href="/encoding/gob/encode.go.html#5109257">uint64Size</a></span><span class="op" id="5040325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5040328">}</span>&nbsp;<span class="keyword" id="5040330">else</span>&nbsp;<span class="op" id="5040335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040339"><a href="/encoding/gob/decode.go.html#5040158">dec</a></span><span class="op" id="5040342">.</span><span class="ident" id="5040343">freeList</span>&nbsp;<span class="op" id="5040352">=</span>&nbsp;<span class="ident" id="5040354"><a href="/encoding/gob/decode.go.html#5040221">d</a></span><span class="op" id="5040355">.</span><span class="ident" id="5040356">next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5040362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040365"><a href="/encoding/gob/decode.go.html#5040221">d</a></span><span class="op" id="5040366">.</span><span class="ident" id="5040367">b</span>&nbsp;<span class="op" id="5040369">=</span>&nbsp;<span class="ident" id="5040371"><a href="/encoding/gob/decode.go.html#5040188">buf</a></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5040376">return</span>&nbsp;<span class="ident" id="5040383"><a href="/encoding/gob/decode.go.html#5040221">d</a></span><br>
<span class="lineno"></span><span class="op" id="5040385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5040388">func</span>&nbsp;<span class="op" id="5040393">(</span><span class="ident" id="5040394">dec</span>&nbsp;<span class="op" id="5040398">*</span><span class="ident" id="5040399"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5040406">)</span>&nbsp;<span class="ident" id="5040408">freeDecoderState</span><span class="op" id="5040424">(</span><span class="ident" id="5040425">d</span>&nbsp;<span class="op" id="5040427">*</span><span class="ident" id="5040428"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5040440">)</span>&nbsp;<span class="op" id="5040442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040445"><a href="/encoding/gob/decode.go.html#5040425">d</a></span><span class="op" id="5040446">.</span><span class="ident" id="5040447">next</span>&nbsp;<span class="op" id="5040452">=</span>&nbsp;<span class="ident" id="5040454"><a href="/encoding/gob/decode.go.html#5040394">dec</a></span><span class="op" id="5040457">.</span><span class="ident" id="5040458">freeList</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040468"><a href="/encoding/gob/decode.go.html#5040394">dec</a></span><span class="op" id="5040471">.</span><span class="ident" id="5040472">freeList</span>&nbsp;<span class="op" id="5040481">=</span>&nbsp;<span class="ident" id="5040483"><a href="/encoding/gob/decode.go.html#5040425">d</a></span><br>
<span class="lineno"></span><span class="op" id="5040485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5040488">func</span>&nbsp;<span class="ident" id="5040493">overflow</span><span class="op" id="5040501">(</span><span class="ident" id="5040502">name</span>&nbsp;<span class="builtintype" id="5040507">string</span><span class="op" id="5040513">)</span>&nbsp;<span class="builtintype" id="5040515">error</span>&nbsp;<span class="op" id="5040521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5040524">return</span>&nbsp;<span class="ident" id="5040531"><a href="/encoding/gob/decode.go.html#5038136">errors</a></span><span class="op" id="5040537">.</span><span class="ident" id="5040538">New</span><span class="op" id="5040541">(</span><span class="string" id="5040542">`value&nbsp;for&nbsp;&#34;`</span>&nbsp;<span class="op" id="5040556">+</span>&nbsp;<span class="ident" id="5040558"><a href="/encoding/gob/decode.go.html#5040502">name</a></span>&nbsp;<span class="op" id="5040563">+</span>&nbsp;<span class="string" id="5040565">`&#34;&nbsp;out&nbsp;of&nbsp;range`</span><span class="op" id="5040581">)</span><br>
<span class="lineno">115</span><span class="op" id="5040583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5040586">//&nbsp;decodeUintReader&nbsp;reads&nbsp;an&nbsp;encoded&nbsp;unsigned&nbsp;integer&nbsp;from&nbsp;an&nbsp;io.Reader.</span><br>
<span class="lineno"></span><span class="comment" id="5040659">//&nbsp;Used&nbsp;only&nbsp;by&nbsp;the&nbsp;Decoder&nbsp;to&nbsp;read&nbsp;the&nbsp;message&nbsp;length.</span><br>
<span class="lineno"></span><span class="keyword" id="5040715">func</span>&nbsp;<span class="ident" id="5040720">decodeUintReader</span><span class="op" id="5040736">(</span><span class="ident" id="5040737">r</span>&nbsp;<span class="ident" id="5040739"><a href="/encoding/gob/decode.go.html#5038146">io</a></span><span class="op" id="5040741">.</span><span class="ident" id="5040742">Reader</span><span class="op" id="5040748">,</span>&nbsp;<span class="ident" id="5040750">buf</span>&nbsp;<span class="op" id="5040754">[</span><span class="op" id="5040755">]</span><span class="builtintype" id="5040756">byte</span><span class="op" id="5040760">)</span>&nbsp;<span class="op" id="5040762">(</span><span class="ident" id="5040763">x</span>&nbsp;<span class="ident" id="5040765">uint64</span><span class="op" id="5040771">,</span>&nbsp;<span class="ident" id="5040773">width</span>&nbsp;<span class="builtintype" id="5040779">int</span><span class="op" id="5040782">,</span>&nbsp;<span class="ident" id="5040784">err</span>&nbsp;<span class="builtintype" id="5040788">error</span><span class="op" id="5040793">)</span>&nbsp;<span class="op" id="5040795">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040798"><a href="/encoding/gob/decode.go.html#5040773">width</a></span>&nbsp;<span class="op" id="5040804">=</span>&nbsp;<span class="num" id="5040806">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040809">n</span><span class="op" id="5040810">,</span>&nbsp;<span class="ident" id="5040812"><a href="/encoding/gob/decode.go.html#5040784">err</a></span>&nbsp;<span class="op" id="5040816">:=</span>&nbsp;<span class="ident" id="5040819"><a href="/encoding/gob/decode.go.html#5038146">io</a></span><span class="op" id="5040821">.</span><span class="ident" id="5040822">ReadFull</span><span class="op" id="5040830">(</span><span class="ident" id="5040831"><a href="/encoding/gob/decode.go.html#5040737">r</a></span><span class="op" id="5040832">,</span>&nbsp;<span class="ident" id="5040834"><a href="/encoding/gob/decode.go.html#5040750">buf</a></span><span class="op" id="5040837">[</span><span class="num" id="5040838">0</span><span class="op" id="5040839">:</span><span class="ident" id="5040840"><a href="/encoding/gob/decode.go.html#5040773">width</a></span><span class="op" id="5040845">]</span><span class="op" id="5040846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5040849">if</span>&nbsp;<span class="ident" id="5040852"><a href="/encoding/gob/decode.go.html#5040809">n</a></span>&nbsp;<span class="op" id="5040854">==</span>&nbsp;<span class="num" id="5040857">0</span>&nbsp;<span class="op" id="5040859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5040863">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5040871">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040874">b</span>&nbsp;<span class="op" id="5040876">:=</span>&nbsp;<span class="ident" id="5040879"><a href="/encoding/gob/decode.go.html#5040750">buf</a></span><span class="op" id="5040882">[</span><span class="num" id="5040883">0</span><span class="op" id="5040884">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5040887">if</span>&nbsp;<span class="ident" id="5040890"><a href="/encoding/gob/decode.go.html#5040874">b</a></span>&nbsp;<span class="op" id="5040892">&lt;=</span>&nbsp;<span class="num" id="5040895">0x7f</span>&nbsp;<span class="op" id="5040900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5040904">return</span>&nbsp;<span class="ident" id="5040911">uint64</span><span class="op" id="5040917">(</span><span class="ident" id="5040918"><a href="/encoding/gob/decode.go.html#5040874">b</a></span><span class="op" id="5040919">)</span><span class="op" id="5040920">,</span>&nbsp;<span class="ident" id="5040922"><a href="/encoding/gob/decode.go.html#5040773">width</a></span><span class="op" id="5040927">,</span>&nbsp;<span class="ident" id="5040929">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5040934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040937"><a href="/encoding/gob/decode.go.html#5040809">n</a></span>&nbsp;<span class="op" id="5040939">=</span>&nbsp;<span class="op" id="5040941">-</span><span class="builtintype" id="5040942">int</span><span class="op" id="5040945">(</span><span class="builtintype" id="5040946">int8</span><span class="op" id="5040950">(</span><span class="ident" id="5040951"><a href="/encoding/gob/decode.go.html#5040874">b</a></span><span class="op" id="5040952">)</span><span class="op" id="5040953">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5040956">if</span>&nbsp;<span class="ident" id="5040959"><a href="/encoding/gob/decode.go.html#5040809">n</a></span>&nbsp;<span class="op" id="5040961">&gt;</span>&nbsp;<span class="ident" id="5040963"><a href="/encoding/gob/encode.go.html#5109257">uint64Size</a></span>&nbsp;<span class="op" id="5040974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5040978"><a href="/encoding/gob/decode.go.html#5040784">err</a></span>&nbsp;<span class="op" id="5040982">=</span>&nbsp;<span class="ident" id="5040984"><a href="/encoding/gob/decode.go.html#5038180">errBadUint</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5040997">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5041005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041008"><a href="/encoding/gob/decode.go.html#5040773">width</a></span><span class="op" id="5041013">,</span>&nbsp;<span class="ident" id="5041015"><a href="/encoding/gob/decode.go.html#5040784">err</a></span>&nbsp;<span class="op" id="5041019">=</span>&nbsp;<span class="ident" id="5041021"><a href="/encoding/gob/decode.go.html#5038146">io</a></span><span class="op" id="5041023">.</span><span class="ident" id="5041024">ReadFull</span><span class="op" id="5041032">(</span><span class="ident" id="5041033"><a href="/encoding/gob/decode.go.html#5040737">r</a></span><span class="op" id="5041034">,</span>&nbsp;<span class="ident" id="5041036"><a href="/encoding/gob/decode.go.html#5040750">buf</a></span><span class="op" id="5041039">[</span><span class="num" id="5041040">0</span><span class="op" id="5041041">:</span><span class="ident" id="5041042"><a href="/encoding/gob/decode.go.html#5040809">n</a></span><span class="op" id="5041043">]</span><span class="op" id="5041044">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041047">if</span>&nbsp;<span class="ident" id="5041050"><a href="/encoding/gob/decode.go.html#5040784">err</a></span>&nbsp;<span class="op" id="5041054">!=</span>&nbsp;<span class="ident" id="5041057">nil</span>&nbsp;<span class="op" id="5041061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041065">if</span>&nbsp;<span class="ident" id="5041068"><a href="/encoding/gob/decode.go.html#5040784">err</a></span>&nbsp;<span class="op" id="5041072">==</span>&nbsp;<span class="ident" id="5041075"><a href="/encoding/gob/decode.go.html#5038146">io</a></span><span class="op" id="5041077">.</span><span class="ident" id="5041078">EOF</span>&nbsp;<span class="op" id="5041082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041087"><a href="/encoding/gob/decode.go.html#5040784">err</a></span>&nbsp;<span class="op" id="5041091">=</span>&nbsp;<span class="ident" id="5041093"><a href="/encoding/gob/decode.go.html#5038146">io</a></span><span class="op" id="5041095">.</span><span class="ident" id="5041096">ErrUnexpectedEOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5041115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041119">return</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5041127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5041130">//&nbsp;Could&nbsp;check&nbsp;that&nbsp;the&nbsp;high&nbsp;byte&nbsp;is&nbsp;zero&nbsp;but&nbsp;it&#39;s&nbsp;not&nbsp;worth&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041196">for</span>&nbsp;<span class="ident" id="5041200">_</span><span class="op" id="5041201">,</span>&nbsp;<span class="ident" id="5041203">b</span>&nbsp;<span class="op" id="5041205">:=</span>&nbsp;<span class="keyword" id="5041208">range</span>&nbsp;<span class="ident" id="5041214"><a href="/encoding/gob/decode.go.html#5040750">buf</a></span><span class="op" id="5041217">[</span><span class="num" id="5041218">0</span><span class="op" id="5041219">:</span><span class="ident" id="5041220"><a href="/encoding/gob/decode.go.html#5040773">width</a></span><span class="op" id="5041225">]</span>&nbsp;<span class="op" id="5041227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041231"><a href="/encoding/gob/decode.go.html#5040763">x</a></span>&nbsp;<span class="op" id="5041233">=</span>&nbsp;<span class="ident" id="5041235"><a href="/encoding/gob/decode.go.html#5040763">x</a></span><span class="op" id="5041236">&lt;&lt;</span><span class="num" id="5041238">8</span>&nbsp;<span class="op" id="5041240">|</span>&nbsp;<span class="ident" id="5041242">uint64</span><span class="op" id="5041248">(</span><span class="ident" id="5041249"><a href="/encoding/gob/decode.go.html#5041203">b</a></span><span class="op" id="5041250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5041253">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041256"><a href="/encoding/gob/decode.go.html#5040773">width</a></span><span class="op" id="5041261">++</span>&nbsp;<span class="comment" id="5041264">//&nbsp;+1&nbsp;for&nbsp;length&nbsp;byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041287">return</span><br>
<span class="lineno"></span><span class="op" id="5041294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5041297">//&nbsp;decodeUint&nbsp;reads&nbsp;an&nbsp;encoded&nbsp;unsigned&nbsp;integer&nbsp;from&nbsp;state.r.</span><br>
<span class="lineno">150</span><span class="comment" id="5041359">//&nbsp;Does&nbsp;not&nbsp;check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="keyword" id="5041391">func</span>&nbsp;<span class="op" id="5041396">(</span><span class="ident" id="5041397">state</span>&nbsp;<span class="op" id="5041403">*</span><span class="ident" id="5041404"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5041416">)</span>&nbsp;<span class="ident" id="5041418">decodeUint</span><span class="op" id="5041428">(</span><span class="op" id="5041429">)</span>&nbsp;<span class="op" id="5041431">(</span><span class="ident" id="5041432">x</span>&nbsp;<span class="ident" id="5041434">uint64</span><span class="op" id="5041440">)</span>&nbsp;<span class="op" id="5041442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041445">b</span><span class="op" id="5041446">,</span>&nbsp;<span class="ident" id="5041448">err</span>&nbsp;<span class="op" id="5041452">:=</span>&nbsp;<span class="ident" id="5041455"><a href="/encoding/gob/decode.go.html#5041397">state</a></span><span class="op" id="5041460">.</span><span class="ident" id="5041461">b</span><span class="op" id="5041462">.</span><span class="ident" id="5041463">ReadByte</span><span class="op" id="5041471">(</span><span class="op" id="5041472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041475">if</span>&nbsp;<span class="ident" id="5041478"><a href="/encoding/gob/decode.go.html#5041448">err</a></span>&nbsp;<span class="op" id="5041482">!=</span>&nbsp;<span class="ident" id="5041485">nil</span>&nbsp;<span class="op" id="5041489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041493"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5041499">(</span><span class="ident" id="5041500"><a href="/encoding/gob/decode.go.html#5041448">err</a></span><span class="op" id="5041503">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5041506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041509">if</span>&nbsp;<span class="ident" id="5041512"><a href="/encoding/gob/decode.go.html#5041445">b</a></span>&nbsp;<span class="op" id="5041514">&lt;=</span>&nbsp;<span class="num" id="5041517">0x7f</span>&nbsp;<span class="op" id="5041522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041526">return</span>&nbsp;<span class="ident" id="5041533">uint64</span><span class="op" id="5041539">(</span><span class="ident" id="5041540"><a href="/encoding/gob/decode.go.html#5041445">b</a></span><span class="op" id="5041541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5041544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041547">n</span>&nbsp;<span class="op" id="5041549">:=</span>&nbsp;<span class="op" id="5041552">-</span><span class="builtintype" id="5041553">int</span><span class="op" id="5041556">(</span><span class="builtintype" id="5041557">int8</span><span class="op" id="5041561">(</span><span class="ident" id="5041562"><a href="/encoding/gob/decode.go.html#5041445">b</a></span><span class="op" id="5041563">)</span><span class="op" id="5041564">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041567">if</span>&nbsp;<span class="ident" id="5041570"><a href="/encoding/gob/decode.go.html#5041547">n</a></span>&nbsp;<span class="op" id="5041572">&gt;</span>&nbsp;<span class="ident" id="5041574"><a href="/encoding/gob/encode.go.html#5109257">uint64Size</a></span>&nbsp;<span class="op" id="5041585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041589"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5041595">(</span><span class="ident" id="5041596"><a href="/encoding/gob/decode.go.html#5038180">errBadUint</a></span><span class="op" id="5041606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5041609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041612">width</span><span class="op" id="5041617">,</span>&nbsp;<span class="ident" id="5041619"><a href="/encoding/gob/decode.go.html#5041448">err</a></span>&nbsp;<span class="op" id="5041623">:=</span>&nbsp;<span class="ident" id="5041626"><a href="/encoding/gob/decode.go.html#5041397">state</a></span><span class="op" id="5041631">.</span><span class="ident" id="5041632">b</span><span class="op" id="5041633">.</span><span class="ident" id="5041634">Read</span><span class="op" id="5041638">(</span><span class="ident" id="5041639"><a href="/encoding/gob/decode.go.html#5041397">state</a></span><span class="op" id="5041644">.</span><span class="ident" id="5041645">buf</span><span class="op" id="5041648">[</span><span class="num" id="5041649">0</span><span class="op" id="5041650">:</span><span class="ident" id="5041651"><a href="/encoding/gob/decode.go.html#5041547">n</a></span><span class="op" id="5041652">]</span><span class="op" id="5041653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041656">if</span>&nbsp;<span class="ident" id="5041659"><a href="/encoding/gob/decode.go.html#5041448">err</a></span>&nbsp;<span class="op" id="5041663">!=</span>&nbsp;<span class="ident" id="5041666">nil</span>&nbsp;<span class="op" id="5041670">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041674"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5041680">(</span><span class="ident" id="5041681"><a href="/encoding/gob/decode.go.html#5041448">err</a></span><span class="op" id="5041684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5041687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5041690">//&nbsp;Don&#39;t&nbsp;need&nbsp;to&nbsp;check&nbsp;error;&nbsp;it&#39;s&nbsp;safe&nbsp;to&nbsp;loop&nbsp;regardless.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5041751">//&nbsp;Could&nbsp;check&nbsp;that&nbsp;the&nbsp;high&nbsp;byte&nbsp;is&nbsp;zero&nbsp;but&nbsp;it&#39;s&nbsp;not&nbsp;worth&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041817">for</span>&nbsp;<span class="ident" id="5041821">_</span><span class="op" id="5041822">,</span>&nbsp;<span class="ident" id="5041824">b</span>&nbsp;<span class="op" id="5041826">:=</span>&nbsp;<span class="keyword" id="5041829">range</span>&nbsp;<span class="ident" id="5041835"><a href="/encoding/gob/decode.go.html#5041397">state</a></span><span class="op" id="5041840">.</span><span class="ident" id="5041841">buf</span><span class="op" id="5041844">[</span><span class="num" id="5041845">0</span><span class="op" id="5041846">:</span><span class="ident" id="5041847"><a href="/encoding/gob/decode.go.html#5041612">width</a></span><span class="op" id="5041852">]</span>&nbsp;<span class="op" id="5041854">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5041858"><a href="/encoding/gob/decode.go.html#5041432">x</a></span>&nbsp;<span class="op" id="5041860">=</span>&nbsp;<span class="ident" id="5041862"><a href="/encoding/gob/decode.go.html#5041432">x</a></span><span class="op" id="5041863">&lt;&lt;</span><span class="num" id="5041865">8</span>&nbsp;<span class="op" id="5041867">|</span>&nbsp;<span class="ident" id="5041869">uint64</span><span class="op" id="5041875">(</span><span class="ident" id="5041876"><a href="/encoding/gob/decode.go.html#5041824">b</a></span><span class="op" id="5041877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5041880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5041883">return</span>&nbsp;<span class="ident" id="5041890"><a href="/encoding/gob/decode.go.html#5041432">x</a></span><br>
<span class="lineno"></span><span class="op" id="5041892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="5041895">//&nbsp;decodeInt&nbsp;reads&nbsp;an&nbsp;encoded&nbsp;signed&nbsp;integer&nbsp;from&nbsp;state.r.</span><br>
<span class="lineno"></span><span class="comment" id="5041954">//&nbsp;Does&nbsp;not&nbsp;check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="keyword" id="5041986">func</span>&nbsp;<span class="op" id="5041991">(</span><span class="ident" id="5041992">state</span>&nbsp;<span class="op" id="5041998">*</span><span class="ident" id="5041999"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5042011">)</span>&nbsp;<span class="ident" id="5042013">decodeInt</span><span class="op" id="5042022">(</span><span class="op" id="5042023">)</span>&nbsp;<span class="ident" id="5042025">int64</span>&nbsp;<span class="op" id="5042031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5042034">x</span>&nbsp;<span class="op" id="5042036">:=</span>&nbsp;<span class="ident" id="5042039"><a href="/encoding/gob/decode.go.html#5041992">state</a></span><span class="op" id="5042044">.</span><span class="ident" id="5042045">decodeUint</span><span class="op" id="5042055">(</span><span class="op" id="5042056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5042059">if</span>&nbsp;<span class="ident" id="5042062"><a href="/encoding/gob/decode.go.html#5042034">x</a></span><span class="op" id="5042063">&amp;</span><span class="num" id="5042064">1</span>&nbsp;<span class="op" id="5042066">!=</span>&nbsp;<span class="num" id="5042069">0</span>&nbsp;<span class="op" id="5042071">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5042075">return</span>&nbsp;<span class="op" id="5042082">^</span><span class="ident" id="5042083">int64</span><span class="op" id="5042088">(</span><span class="ident" id="5042089"><a href="/encoding/gob/decode.go.html#5042034">x</a></span>&nbsp;<span class="op" id="5042091">&gt;&gt;</span>&nbsp;<span class="num" id="5042094">1</span><span class="op" id="5042095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5042098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5042101">return</span>&nbsp;<span class="ident" id="5042108">int64</span><span class="op" id="5042113">(</span><span class="ident" id="5042114"><a href="/encoding/gob/decode.go.html#5042034">x</a></span>&nbsp;<span class="op" id="5042116">&gt;&gt;</span>&nbsp;<span class="num" id="5042119">1</span><span class="op" id="5042120">)</span><br>
<span class="lineno"></span><span class="op" id="5042122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="5042125">//&nbsp;decOp&nbsp;is&nbsp;the&nbsp;signature&nbsp;of&nbsp;a&nbsp;decoding&nbsp;operator&nbsp;for&nbsp;a&nbsp;given&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5042192">type</span>&nbsp;<span class="ident" id="5042197">decOp</span>&nbsp;<span class="keyword" id="5042203">func</span><span class="op" id="5042207">(</span><span class="ident" id="5042208">i</span>&nbsp;<span class="op" id="5042210">*</span><span class="ident" id="5042211"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5042219">,</span>&nbsp;<span class="ident" id="5042221">state</span>&nbsp;<span class="op" id="5042227">*</span><span class="ident" id="5042228"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5042240">,</span>&nbsp;<span class="ident" id="5042242">v</span>&nbsp;<span class="ident" id="5042244"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5042251">.</span><span class="ident" id="5042252">Value</span><span class="op" id="5042257">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5042260">//&nbsp;The&nbsp;&#39;instructions&#39;&nbsp;of&nbsp;the&nbsp;decoding&nbsp;machine</span><br>
<span class="lineno"></span><span class="keyword" id="5042306">type</span>&nbsp;<span class="ident" id="5042311">decInstr</span>&nbsp;<span class="keyword" id="5042320">struct</span>&nbsp;<span class="op" id="5042327">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5042330">op</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5042336"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5042343">field</span>&nbsp;<span class="builtintype" id="5042349">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5042355">//&nbsp;field&nbsp;number&nbsp;of&nbsp;the&nbsp;wire&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5042389">index</span>&nbsp;<span class="op" id="5042395">[</span><span class="op" id="5042396">]</span><span class="builtintype" id="5042397">int</span>&nbsp;<span class="comment" id="5042401">//&nbsp;field&nbsp;access&nbsp;indices&nbsp;for&nbsp;destination&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5042447">ovfl</span>&nbsp;&nbsp;<span class="builtintype" id="5042453">error</span>&nbsp;<span class="comment" id="5042459">//&nbsp;error&nbsp;message&nbsp;for&nbsp;overflow/underflow&nbsp;(for&nbsp;arrays,&nbsp;of&nbsp;the&nbsp;elements)</span><br>
<span class="lineno"></span><span class="op" id="5042529">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="5042532">//&nbsp;ignoreUint&nbsp;discards&nbsp;a&nbsp;uint&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5042589">func</span>&nbsp;<span class="ident" id="5042594">ignoreUint</span><span class="op" id="5042604">(</span><span class="ident" id="5042605">i</span>&nbsp;<span class="op" id="5042607">*</span><span class="ident" id="5042608"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5042616">,</span>&nbsp;<span class="ident" id="5042618">state</span>&nbsp;<span class="op" id="5042624">*</span><span class="ident" id="5042625"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5042637">,</span>&nbsp;<span class="ident" id="5042639">v</span>&nbsp;<span class="ident" id="5042641"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5042648">.</span><span class="ident" id="5042649">Value</span><span class="op" id="5042654">)</span>&nbsp;<span class="op" id="5042656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5042659"><a href="/encoding/gob/decode.go.html#5042618">state</a></span><span class="op" id="5042664">.</span><span class="ident" id="5042665">decodeUint</span><span class="op" id="5042675">(</span><span class="op" id="5042676">)</span><br>
<span class="lineno"></span><span class="op" id="5042678">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="comment" id="5042681">//&nbsp;ignoreTwoUints&nbsp;discards&nbsp;a&nbsp;uint&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.&nbsp;It&#39;s&nbsp;used&nbsp;to&nbsp;skip</span><br>
<span class="lineno"></span><span class="comment" id="5042760">//&nbsp;complex&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="5042779">func</span>&nbsp;<span class="ident" id="5042784">ignoreTwoUints</span><span class="op" id="5042798">(</span><span class="ident" id="5042799">i</span>&nbsp;<span class="op" id="5042801">*</span><span class="ident" id="5042802"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5042810">,</span>&nbsp;<span class="ident" id="5042812">state</span>&nbsp;<span class="op" id="5042818">*</span><span class="ident" id="5042819"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5042831">,</span>&nbsp;<span class="ident" id="5042833">v</span>&nbsp;<span class="ident" id="5042835"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5042842">.</span><span class="ident" id="5042843">Value</span><span class="op" id="5042848">)</span>&nbsp;<span class="op" id="5042850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5042853"><a href="/encoding/gob/decode.go.html#5042812">state</a></span><span class="op" id="5042858">.</span><span class="ident" id="5042859">decodeUint</span><span class="op" id="5042869">(</span><span class="op" id="5042870">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5042873"><a href="/encoding/gob/decode.go.html#5042812">state</a></span><span class="op" id="5042878">.</span><span class="ident" id="5042879">decodeUint</span><span class="op" id="5042889">(</span><span class="op" id="5042890">)</span><br>
<span class="lineno"></span><span class="op" id="5042892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5042895">//&nbsp;Since&nbsp;the&nbsp;encoder&nbsp;writes&nbsp;no&nbsp;zeros,&nbsp;if&nbsp;we&nbsp;arrive&nbsp;at&nbsp;a&nbsp;decoder&nbsp;we&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="5042967">//&nbsp;a&nbsp;value&nbsp;to&nbsp;extract&nbsp;and&nbsp;store.&nbsp;&nbsp;The&nbsp;field&nbsp;number&nbsp;has&nbsp;already&nbsp;been&nbsp;read</span><br>
<span class="lineno">210</span><span class="comment" id="5043040">//&nbsp;(it&#39;s&nbsp;how&nbsp;we&nbsp;knew&nbsp;to&nbsp;call&nbsp;this&nbsp;decoder).</span><br>
<span class="lineno"></span><span class="comment" id="5043084">//&nbsp;Each&nbsp;decoder&nbsp;is&nbsp;responsible&nbsp;for&nbsp;handling&nbsp;any&nbsp;indirections&nbsp;associated</span><br>
<span class="lineno"></span><span class="comment" id="5043156">//&nbsp;with&nbsp;the&nbsp;data&nbsp;structure.&nbsp;&nbsp;If&nbsp;any&nbsp;pointer&nbsp;so&nbsp;reached&nbsp;is&nbsp;nil,&nbsp;allocation&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="5043235">//&nbsp;be&nbsp;done.</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="5043248">//&nbsp;decAlloc&nbsp;takes&nbsp;a&nbsp;value&nbsp;and&nbsp;returns&nbsp;a&nbsp;settable&nbsp;value&nbsp;that&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="5043312">//&nbsp;be&nbsp;assigned&nbsp;to.&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;a&nbsp;pointer,&nbsp;decAlloc&nbsp;guarantees&nbsp;it&nbsp;points&nbsp;to&nbsp;storage.</span><br>
<span class="lineno"></span><span class="comment" id="5043400">//&nbsp;The&nbsp;callers&nbsp;to&nbsp;the&nbsp;individual&nbsp;decoders&nbsp;are&nbsp;expected&nbsp;to&nbsp;have&nbsp;used&nbsp;decAlloc.</span><br>
<span class="lineno"></span><span class="comment" id="5043478">//&nbsp;The&nbsp;individual&nbsp;decoders&nbsp;don&#39;t&nbsp;need&nbsp;to&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="5043523">func</span>&nbsp;<span class="ident" id="5043528">decAlloc</span><span class="op" id="5043536">(</span><span class="ident" id="5043537">v</span>&nbsp;<span class="ident" id="5043539"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5043546">.</span><span class="ident" id="5043547">Value</span><span class="op" id="5043552">)</span>&nbsp;<span class="ident" id="5043554"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5043561">.</span><span class="ident" id="5043562">Value</span>&nbsp;<span class="op" id="5043568">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5043571">for</span>&nbsp;<span class="ident" id="5043575"><a href="/encoding/gob/decode.go.html#5043537">v</a></span><span class="op" id="5043576">.</span><span class="ident" id="5043577">Kind</span><span class="op" id="5043581">(</span><span class="op" id="5043582">)</span>&nbsp;<span class="op" id="5043584">==</span>&nbsp;<span class="ident" id="5043587"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5043594">.</span><span class="ident" id="5043595">Ptr</span>&nbsp;<span class="op" id="5043599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5043603">if</span>&nbsp;<span class="ident" id="5043606"><a href="/encoding/gob/decode.go.html#5043537">v</a></span><span class="op" id="5043607">.</span><span class="ident" id="5043608">IsNil</span><span class="op" id="5043613">(</span><span class="op" id="5043614">)</span>&nbsp;<span class="op" id="5043616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5043621"><a href="/encoding/gob/decode.go.html#5043537">v</a></span><span class="op" id="5043622">.</span><span class="ident" id="5043623">Set</span><span class="op" id="5043626">(</span><span class="ident" id="5043627"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5043634">.</span><span class="ident" id="5043635">New</span><span class="op" id="5043638">(</span><span class="ident" id="5043639"><a href="/encoding/gob/decode.go.html#5043537">v</a></span><span class="op" id="5043640">.</span><span class="ident" id="5043641">Type</span><span class="op" id="5043645">(</span><span class="op" id="5043646">)</span><span class="op" id="5043647">.</span><span class="ident" id="5043648">Elem</span><span class="op" id="5043652">(</span><span class="op" id="5043653">)</span><span class="op" id="5043654">)</span><span class="op" id="5043655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5043659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5043663"><a href="/encoding/gob/decode.go.html#5043537">v</a></span>&nbsp;<span class="op" id="5043665">=</span>&nbsp;<span class="ident" id="5043667"><a href="/encoding/gob/decode.go.html#5043537">v</a></span><span class="op" id="5043668">.</span><span class="ident" id="5043669">Elem</span><span class="op" id="5043673">(</span><span class="op" id="5043674">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5043677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5043680">return</span>&nbsp;<span class="ident" id="5043687"><a href="/encoding/gob/decode.go.html#5043537">v</a></span><br>
<span class="lineno"></span><span class="op" id="5043689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5043692">//&nbsp;decBool&nbsp;decodes&nbsp;a&nbsp;uint&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;a&nbsp;boolean&nbsp;in&nbsp;value.</span><br>
<span class="lineno">230</span><span class="keyword" id="5043755">func</span>&nbsp;<span class="ident" id="5043760">decBool</span><span class="op" id="5043767">(</span><span class="ident" id="5043768">i</span>&nbsp;<span class="op" id="5043770">*</span><span class="ident" id="5043771"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5043779">,</span>&nbsp;<span class="ident" id="5043781">state</span>&nbsp;<span class="op" id="5043787">*</span><span class="ident" id="5043788"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5043800">,</span>&nbsp;<span class="ident" id="5043802">value</span>&nbsp;<span class="ident" id="5043808"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5043815">.</span><span class="ident" id="5043816">Value</span><span class="op" id="5043821">)</span>&nbsp;<span class="op" id="5043823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5043826"><a href="/encoding/gob/decode.go.html#5043802">value</a></span><span class="op" id="5043831">.</span><span class="ident" id="5043832">SetBool</span><span class="op" id="5043839">(</span><span class="ident" id="5043840"><a href="/encoding/gob/decode.go.html#5043781">state</a></span><span class="op" id="5043845">.</span><span class="ident" id="5043846">decodeUint</span><span class="op" id="5043856">(</span><span class="op" id="5043857">)</span>&nbsp;<span class="op" id="5043859">!=</span>&nbsp;<span class="num" id="5043862">0</span><span class="op" id="5043863">)</span><br>
<span class="lineno"></span><span class="op" id="5043865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5043868">//&nbsp;decInt8&nbsp;decodes&nbsp;an&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;an&nbsp;int8&nbsp;in&nbsp;value.</span><br>
<span class="lineno">235</span><span class="keyword" id="5043933">func</span>&nbsp;<span class="ident" id="5043938">decInt8</span><span class="op" id="5043945">(</span><span class="ident" id="5043946">i</span>&nbsp;<span class="op" id="5043948">*</span><span class="ident" id="5043949"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5043957">,</span>&nbsp;<span class="ident" id="5043959">state</span>&nbsp;<span class="op" id="5043965">*</span><span class="ident" id="5043966"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5043978">,</span>&nbsp;<span class="ident" id="5043980">value</span>&nbsp;<span class="ident" id="5043986"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5043993">.</span><span class="ident" id="5043994">Value</span><span class="op" id="5043999">)</span>&nbsp;<span class="op" id="5044001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044004">v</span>&nbsp;<span class="op" id="5044006">:=</span>&nbsp;<span class="ident" id="5044009"><a href="/encoding/gob/decode.go.html#5043959">state</a></span><span class="op" id="5044014">.</span><span class="ident" id="5044015">decodeInt</span><span class="op" id="5044024">(</span><span class="op" id="5044025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5044028">if</span>&nbsp;<span class="ident" id="5044031"><a href="/encoding/gob/decode.go.html#5044004">v</a></span>&nbsp;<span class="op" id="5044033">&lt;</span>&nbsp;<span class="ident" id="5044035"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5044039">.</span><span class="ident" id="5044040">MinInt8</span>&nbsp;<span class="op" id="5044048">||</span>&nbsp;<span class="ident" id="5044051"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5044055">.</span><span class="ident" id="5044056">MaxInt8</span>&nbsp;<span class="op" id="5044064">&lt;</span>&nbsp;<span class="ident" id="5044066"><a href="/encoding/gob/decode.go.html#5044004">v</a></span>&nbsp;<span class="op" id="5044068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044072"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5044078">(</span><span class="ident" id="5044079"><a href="/encoding/gob/decode.go.html#5043946">i</a></span><span class="op" id="5044080">.</span><span class="ident" id="5044081">ovfl</span><span class="op" id="5044085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5044088">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044091"><a href="/encoding/gob/decode.go.html#5043980">value</a></span><span class="op" id="5044096">.</span><span class="ident" id="5044097">SetInt</span><span class="op" id="5044103">(</span><span class="ident" id="5044104"><a href="/encoding/gob/decode.go.html#5044004">v</a></span><span class="op" id="5044105">)</span><br>
<span class="lineno"></span><span class="op" id="5044107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5044110">//&nbsp;decUint8&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;a&nbsp;uint8&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5044185">func</span>&nbsp;<span class="ident" id="5044190">decUint8</span><span class="op" id="5044198">(</span><span class="ident" id="5044199">i</span>&nbsp;<span class="op" id="5044201">*</span><span class="ident" id="5044202"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5044210">,</span>&nbsp;<span class="ident" id="5044212">state</span>&nbsp;<span class="op" id="5044218">*</span><span class="ident" id="5044219"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5044231">,</span>&nbsp;<span class="ident" id="5044233">value</span>&nbsp;<span class="ident" id="5044239"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5044246">.</span><span class="ident" id="5044247">Value</span><span class="op" id="5044252">)</span>&nbsp;<span class="op" id="5044254">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044257">v</span>&nbsp;<span class="op" id="5044259">:=</span>&nbsp;<span class="ident" id="5044262"><a href="/encoding/gob/decode.go.html#5044212">state</a></span><span class="op" id="5044267">.</span><span class="ident" id="5044268">decodeUint</span><span class="op" id="5044278">(</span><span class="op" id="5044279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5044282">if</span>&nbsp;<span class="ident" id="5044285"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5044289">.</span><span class="ident" id="5044290">MaxUint8</span>&nbsp;<span class="op" id="5044299">&lt;</span>&nbsp;<span class="ident" id="5044301"><a href="/encoding/gob/decode.go.html#5044257">v</a></span>&nbsp;<span class="op" id="5044303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044307"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5044313">(</span><span class="ident" id="5044314"><a href="/encoding/gob/decode.go.html#5044199">i</a></span><span class="op" id="5044315">.</span><span class="ident" id="5044316">ovfl</span><span class="op" id="5044320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5044323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044326"><a href="/encoding/gob/decode.go.html#5044233">value</a></span><span class="op" id="5044331">.</span><span class="ident" id="5044332">SetUint</span><span class="op" id="5044339">(</span><span class="ident" id="5044340"><a href="/encoding/gob/decode.go.html#5044257">v</a></span><span class="op" id="5044341">)</span><br>
<span class="lineno">250</span><span class="op" id="5044343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5044346">//&nbsp;decInt16&nbsp;decodes&nbsp;an&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;an&nbsp;int16&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5044413">func</span>&nbsp;<span class="ident" id="5044418">decInt16</span><span class="op" id="5044426">(</span><span class="ident" id="5044427">i</span>&nbsp;<span class="op" id="5044429">*</span><span class="ident" id="5044430"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5044438">,</span>&nbsp;<span class="ident" id="5044440">state</span>&nbsp;<span class="op" id="5044446">*</span><span class="ident" id="5044447"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5044459">,</span>&nbsp;<span class="ident" id="5044461">value</span>&nbsp;<span class="ident" id="5044467"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5044474">.</span><span class="ident" id="5044475">Value</span><span class="op" id="5044480">)</span>&nbsp;<span class="op" id="5044482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044485">v</span>&nbsp;<span class="op" id="5044487">:=</span>&nbsp;<span class="ident" id="5044490"><a href="/encoding/gob/decode.go.html#5044440">state</a></span><span class="op" id="5044495">.</span><span class="ident" id="5044496">decodeInt</span><span class="op" id="5044505">(</span><span class="op" id="5044506">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5044509">if</span>&nbsp;<span class="ident" id="5044512"><a href="/encoding/gob/decode.go.html#5044485">v</a></span>&nbsp;<span class="op" id="5044514">&lt;</span>&nbsp;<span class="ident" id="5044516"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5044520">.</span><span class="ident" id="5044521">MinInt16</span>&nbsp;<span class="op" id="5044530">||</span>&nbsp;<span class="ident" id="5044533"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5044537">.</span><span class="ident" id="5044538">MaxInt16</span>&nbsp;<span class="op" id="5044547">&lt;</span>&nbsp;<span class="ident" id="5044549"><a href="/encoding/gob/decode.go.html#5044485">v</a></span>&nbsp;<span class="op" id="5044551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044555"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5044561">(</span><span class="ident" id="5044562"><a href="/encoding/gob/decode.go.html#5044427">i</a></span><span class="op" id="5044563">.</span><span class="ident" id="5044564">ovfl</span><span class="op" id="5044568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5044571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044574"><a href="/encoding/gob/decode.go.html#5044461">value</a></span><span class="op" id="5044579">.</span><span class="ident" id="5044580">SetInt</span><span class="op" id="5044586">(</span><span class="ident" id="5044587"><a href="/encoding/gob/decode.go.html#5044485">v</a></span><span class="op" id="5044588">)</span><br>
<span class="lineno"></span><span class="op" id="5044590">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="5044593">//&nbsp;decUint16&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;a&nbsp;uint16&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5044670">func</span>&nbsp;<span class="ident" id="5044675">decUint16</span><span class="op" id="5044684">(</span><span class="ident" id="5044685">i</span>&nbsp;<span class="op" id="5044687">*</span><span class="ident" id="5044688"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5044696">,</span>&nbsp;<span class="ident" id="5044698">state</span>&nbsp;<span class="op" id="5044704">*</span><span class="ident" id="5044705"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5044717">,</span>&nbsp;<span class="ident" id="5044719">value</span>&nbsp;<span class="ident" id="5044725"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5044732">.</span><span class="ident" id="5044733">Value</span><span class="op" id="5044738">)</span>&nbsp;<span class="op" id="5044740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044743">v</span>&nbsp;<span class="op" id="5044745">:=</span>&nbsp;<span class="ident" id="5044748"><a href="/encoding/gob/decode.go.html#5044698">state</a></span><span class="op" id="5044753">.</span><span class="ident" id="5044754">decodeUint</span><span class="op" id="5044764">(</span><span class="op" id="5044765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5044768">if</span>&nbsp;<span class="ident" id="5044771"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5044775">.</span><span class="ident" id="5044776">MaxUint16</span>&nbsp;<span class="op" id="5044786">&lt;</span>&nbsp;<span class="ident" id="5044788"><a href="/encoding/gob/decode.go.html#5044743">v</a></span>&nbsp;<span class="op" id="5044790">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044794"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5044800">(</span><span class="ident" id="5044801"><a href="/encoding/gob/decode.go.html#5044685">i</a></span><span class="op" id="5044802">.</span><span class="ident" id="5044803">ovfl</span><span class="op" id="5044807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5044810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044813"><a href="/encoding/gob/decode.go.html#5044719">value</a></span><span class="op" id="5044818">.</span><span class="ident" id="5044819">SetUint</span><span class="op" id="5044826">(</span><span class="ident" id="5044827"><a href="/encoding/gob/decode.go.html#5044743">v</a></span><span class="op" id="5044828">)</span><br>
<span class="lineno"></span><span class="op" id="5044830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="comment" id="5044833">//&nbsp;decInt32&nbsp;decodes&nbsp;an&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;an&nbsp;int32&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5044900">func</span>&nbsp;<span class="ident" id="5044905">decInt32</span><span class="op" id="5044913">(</span><span class="ident" id="5044914">i</span>&nbsp;<span class="op" id="5044916">*</span><span class="ident" id="5044917"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5044925">,</span>&nbsp;<span class="ident" id="5044927">state</span>&nbsp;<span class="op" id="5044933">*</span><span class="ident" id="5044934"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5044946">,</span>&nbsp;<span class="ident" id="5044948">value</span>&nbsp;<span class="ident" id="5044954"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5044961">.</span><span class="ident" id="5044962">Value</span><span class="op" id="5044967">)</span>&nbsp;<span class="op" id="5044969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5044972">v</span>&nbsp;<span class="op" id="5044974">:=</span>&nbsp;<span class="ident" id="5044977"><a href="/encoding/gob/decode.go.html#5044927">state</a></span><span class="op" id="5044982">.</span><span class="ident" id="5044983">decodeInt</span><span class="op" id="5044992">(</span><span class="op" id="5044993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5044996">if</span>&nbsp;<span class="ident" id="5044999"><a href="/encoding/gob/decode.go.html#5044972">v</a></span>&nbsp;<span class="op" id="5045001">&lt;</span>&nbsp;<span class="ident" id="5045003"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5045007">.</span><span class="ident" id="5045008">MinInt32</span>&nbsp;<span class="op" id="5045017">||</span>&nbsp;<span class="ident" id="5045020"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5045024">.</span><span class="ident" id="5045025">MaxInt32</span>&nbsp;<span class="op" id="5045034">&lt;</span>&nbsp;<span class="ident" id="5045036"><a href="/encoding/gob/decode.go.html#5044972">v</a></span>&nbsp;<span class="op" id="5045038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5045042"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5045048">(</span><span class="ident" id="5045049"><a href="/encoding/gob/decode.go.html#5044914">i</a></span><span class="op" id="5045050">.</span><span class="ident" id="5045051">ovfl</span><span class="op" id="5045055">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5045058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5045061"><a href="/encoding/gob/decode.go.html#5044948">value</a></span><span class="op" id="5045066">.</span><span class="ident" id="5045067">SetInt</span><span class="op" id="5045073">(</span><span class="ident" id="5045074"><a href="/encoding/gob/decode.go.html#5044972">v</a></span><span class="op" id="5045075">)</span><br>
<span class="lineno"></span><span class="op" id="5045077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5045080">//&nbsp;decUint32&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;a&nbsp;uint32&nbsp;in&nbsp;value.</span><br>
<span class="lineno">280</span><span class="keyword" id="5045157">func</span>&nbsp;<span class="ident" id="5045162">decUint32</span><span class="op" id="5045171">(</span><span class="ident" id="5045172">i</span>&nbsp;<span class="op" id="5045174">*</span><span class="ident" id="5045175"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5045183">,</span>&nbsp;<span class="ident" id="5045185">state</span>&nbsp;<span class="op" id="5045191">*</span><span class="ident" id="5045192"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5045204">,</span>&nbsp;<span class="ident" id="5045206">value</span>&nbsp;<span class="ident" id="5045212"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5045219">.</span><span class="ident" id="5045220">Value</span><span class="op" id="5045225">)</span>&nbsp;<span class="op" id="5045227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5045230">v</span>&nbsp;<span class="op" id="5045232">:=</span>&nbsp;<span class="ident" id="5045235"><a href="/encoding/gob/decode.go.html#5045185">state</a></span><span class="op" id="5045240">.</span><span class="ident" id="5045241">decodeUint</span><span class="op" id="5045251">(</span><span class="op" id="5045252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5045255">if</span>&nbsp;<span class="ident" id="5045258"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5045262">.</span><span class="ident" id="5045263">MaxUint32</span>&nbsp;<span class="op" id="5045273">&lt;</span>&nbsp;<span class="ident" id="5045275"><a href="/encoding/gob/decode.go.html#5045230">v</a></span>&nbsp;<span class="op" id="5045277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5045281"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5045287">(</span><span class="ident" id="5045288"><a href="/encoding/gob/decode.go.html#5045172">i</a></span><span class="op" id="5045289">.</span><span class="ident" id="5045290">ovfl</span><span class="op" id="5045294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5045297">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5045300"><a href="/encoding/gob/decode.go.html#5045206">value</a></span><span class="op" id="5045305">.</span><span class="ident" id="5045306">SetUint</span><span class="op" id="5045313">(</span><span class="ident" id="5045314"><a href="/encoding/gob/decode.go.html#5045230">v</a></span><span class="op" id="5045315">)</span><br>
<span class="lineno"></span><span class="op" id="5045317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5045320">//&nbsp;decInt64&nbsp;decodes&nbsp;an&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;an&nbsp;int64&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5045387">func</span>&nbsp;<span class="ident" id="5045392">decInt64</span><span class="op" id="5045400">(</span><span class="ident" id="5045401">i</span>&nbsp;<span class="op" id="5045403">*</span><span class="ident" id="5045404"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5045412">,</span>&nbsp;<span class="ident" id="5045414">state</span>&nbsp;<span class="op" id="5045420">*</span><span class="ident" id="5045421"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5045433">,</span>&nbsp;<span class="ident" id="5045435">value</span>&nbsp;<span class="ident" id="5045441"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5045448">.</span><span class="ident" id="5045449">Value</span><span class="op" id="5045454">)</span>&nbsp;<span class="op" id="5045456">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5045459">v</span>&nbsp;<span class="op" id="5045461">:=</span>&nbsp;<span class="ident" id="5045464"><a href="/encoding/gob/decode.go.html#5045414">state</a></span><span class="op" id="5045469">.</span><span class="ident" id="5045470">decodeInt</span><span class="op" id="5045479">(</span><span class="op" id="5045480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5045483"><a href="/encoding/gob/decode.go.html#5045435">value</a></span><span class="op" id="5045488">.</span><span class="ident" id="5045489">SetInt</span><span class="op" id="5045495">(</span><span class="ident" id="5045496"><a href="/encoding/gob/decode.go.html#5045459">v</a></span><span class="op" id="5045497">)</span><br>
<span class="lineno"></span><span class="op" id="5045499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5045502">//&nbsp;decUint64&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;a&nbsp;uint64&nbsp;in&nbsp;value.</span><br>
<span class="lineno">295</span><span class="keyword" id="5045579">func</span>&nbsp;<span class="ident" id="5045584">decUint64</span><span class="op" id="5045593">(</span><span class="ident" id="5045594">i</span>&nbsp;<span class="op" id="5045596">*</span><span class="ident" id="5045597"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5045605">,</span>&nbsp;<span class="ident" id="5045607">state</span>&nbsp;<span class="op" id="5045613">*</span><span class="ident" id="5045614"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5045626">,</span>&nbsp;<span class="ident" id="5045628">value</span>&nbsp;<span class="ident" id="5045634"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5045641">.</span><span class="ident" id="5045642">Value</span><span class="op" id="5045647">)</span>&nbsp;<span class="op" id="5045649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5045652">v</span>&nbsp;<span class="op" id="5045654">:=</span>&nbsp;<span class="ident" id="5045657"><a href="/encoding/gob/decode.go.html#5045607">state</a></span><span class="op" id="5045662">.</span><span class="ident" id="5045663">decodeUint</span><span class="op" id="5045673">(</span><span class="op" id="5045674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5045677"><a href="/encoding/gob/decode.go.html#5045628">value</a></span><span class="op" id="5045682">.</span><span class="ident" id="5045683">SetUint</span><span class="op" id="5045690">(</span><span class="ident" id="5045691"><a href="/encoding/gob/decode.go.html#5045652">v</a></span><span class="op" id="5045692">)</span><br>
<span class="lineno"></span><span class="op" id="5045694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="comment" id="5045697">//&nbsp;Floating-point&nbsp;numbers&nbsp;are&nbsp;transmitted&nbsp;as&nbsp;uint64s&nbsp;holding&nbsp;the&nbsp;bits</span><br>
<span class="lineno"></span><span class="comment" id="5045767">//&nbsp;of&nbsp;the&nbsp;underlying&nbsp;representation.&nbsp;&nbsp;They&nbsp;are&nbsp;sent&nbsp;byte-reversed,&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5045839">//&nbsp;the&nbsp;exponent&nbsp;end&nbsp;coming&nbsp;out&nbsp;first,&nbsp;so&nbsp;integer&nbsp;floating&nbsp;point&nbsp;numbers</span><br>
<span class="lineno"></span><span class="comment" id="5045911">//&nbsp;(for&nbsp;example)&nbsp;transmit&nbsp;more&nbsp;compactly.&nbsp;&nbsp;This&nbsp;routine&nbsp;does&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5045976">//&nbsp;unswizzling.</span><br>
<span class="lineno">305</span><span class="keyword" id="5045992">func</span>&nbsp;<span class="ident" id="5045997">float64FromBits</span><span class="op" id="5046012">(</span><span class="ident" id="5046013">u</span>&nbsp;<span class="ident" id="5046015">uint64</span><span class="op" id="5046021">)</span>&nbsp;<span class="builtintype" id="5046023">float64</span>&nbsp;<span class="op" id="5046031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5046034">var</span>&nbsp;<span class="ident" id="5046038">v</span>&nbsp;<span class="ident" id="5046040">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5046048">for</span>&nbsp;<span class="ident" id="5046052">i</span>&nbsp;<span class="op" id="5046054">:=</span>&nbsp;<span class="num" id="5046057">0</span><span class="op" id="5046058">;</span>&nbsp;<span class="ident" id="5046060"><a href="/encoding/gob/decode.go.html#5046052">i</a></span>&nbsp;<span class="op" id="5046062">&lt;</span>&nbsp;<span class="num" id="5046064">8</span><span class="op" id="5046065">;</span>&nbsp;<span class="ident" id="5046067"><a href="/encoding/gob/decode.go.html#5046052">i</a></span><span class="op" id="5046068">++</span>&nbsp;<span class="op" id="5046071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5046075"><a href="/encoding/gob/decode.go.html#5046038">v</a></span>&nbsp;<span class="op" id="5046077">&lt;&lt;=</span>&nbsp;<span class="num" id="5046081">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5046085"><a href="/encoding/gob/decode.go.html#5046038">v</a></span>&nbsp;<span class="op" id="5046087">|=</span>&nbsp;<span class="ident" id="5046090"><a href="/encoding/gob/decode.go.html#5046013">u</a></span>&nbsp;<span class="op" id="5046092">&amp;</span>&nbsp;<span class="num" id="5046094">0xFF</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5046101"><a href="/encoding/gob/decode.go.html#5046013">u</a></span>&nbsp;<span class="op" id="5046103">&gt;&gt;=</span>&nbsp;<span class="num" id="5046107">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5046110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5046113">return</span>&nbsp;<span class="ident" id="5046120"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5046124">.</span><span class="ident" id="5046125">Float64frombits</span><span class="op" id="5046140">(</span><span class="ident" id="5046141"><a href="/encoding/gob/decode.go.html#5046038">v</a></span><span class="op" id="5046142">)</span><br>
<span class="lineno"></span><span class="op" id="5046144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="comment" id="5046147">//&nbsp;float32FromBits&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer,&nbsp;treats&nbsp;it&nbsp;as&nbsp;a&nbsp;32-bit&nbsp;floating-point</span><br>
<span class="lineno"></span><span class="comment" id="5046232">//&nbsp;number,&nbsp;and&nbsp;returns&nbsp;it.&nbsp;It&#39;s&nbsp;a&nbsp;helper&nbsp;function&nbsp;for&nbsp;float32&nbsp;and&nbsp;complex64.</span><br>
<span class="lineno"></span><span class="comment" id="5046309">//&nbsp;It&nbsp;returns&nbsp;a&nbsp;float64&nbsp;because&nbsp;that&#39;s&nbsp;what&nbsp;reflection&nbsp;needs,&nbsp;but&nbsp;its&nbsp;return</span><br>
<span class="lineno"></span><span class="comment" id="5046386">//&nbsp;value&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;accurately&nbsp;representable&nbsp;in&nbsp;a&nbsp;float32.</span><br>
<span class="lineno"></span><span class="keyword" id="5046449">func</span>&nbsp;<span class="ident" id="5046454">float32FromBits</span><span class="op" id="5046469">(</span><span class="ident" id="5046470">u</span>&nbsp;<span class="ident" id="5046472">uint64</span><span class="op" id="5046478">,</span>&nbsp;<span class="ident" id="5046480">ovfl</span>&nbsp;<span class="builtintype" id="5046485">error</span><span class="op" id="5046490">)</span>&nbsp;<span class="builtintype" id="5046492">float64</span>&nbsp;<span class="op" id="5046500">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5046503">v</span>&nbsp;<span class="op" id="5046505">:=</span>&nbsp;<span class="ident" id="5046508"><a href="/encoding/gob/decode.go.html#5045997">float64FromBits</a></span><span class="op" id="5046523">(</span><span class="ident" id="5046524"><a href="/encoding/gob/decode.go.html#5046470">u</a></span><span class="op" id="5046525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5046528">av</span>&nbsp;<span class="op" id="5046531">:=</span>&nbsp;<span class="ident" id="5046534"><a href="/encoding/gob/decode.go.html#5046503">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5046537">if</span>&nbsp;<span class="ident" id="5046540"><a href="/encoding/gob/decode.go.html#5046528">av</a></span>&nbsp;<span class="op" id="5046543">&lt;</span>&nbsp;<span class="num" id="5046545">0</span>&nbsp;<span class="op" id="5046547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5046551"><a href="/encoding/gob/decode.go.html#5046528">av</a></span>&nbsp;<span class="op" id="5046554">=</span>&nbsp;<span class="op" id="5046556">-</span><span class="ident" id="5046557"><a href="/encoding/gob/decode.go.html#5046528">av</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5046561">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5046564">//&nbsp;+Inf&nbsp;is&nbsp;OK&nbsp;in&nbsp;both&nbsp;32-&nbsp;and&nbsp;64-bit&nbsp;floats.&nbsp;&nbsp;Underflow&nbsp;is&nbsp;always&nbsp;OK.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5046635">if</span>&nbsp;<span class="ident" id="5046638"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5046642">.</span><span class="ident" id="5046643">MaxFloat32</span>&nbsp;<span class="op" id="5046654">&lt;</span>&nbsp;<span class="ident" id="5046656"><a href="/encoding/gob/decode.go.html#5046528">av</a></span>&nbsp;<span class="op" id="5046659">&amp;&amp;</span>&nbsp;<span class="ident" id="5046662"><a href="/encoding/gob/decode.go.html#5046528">av</a></span>&nbsp;<span class="op" id="5046665">&lt;=</span>&nbsp;<span class="ident" id="5046668"><a href="/encoding/gob/decode.go.html#5038152">math</a></span><span class="op" id="5046672">.</span><span class="ident" id="5046673">MaxFloat64</span>&nbsp;<span class="op" id="5046684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5046688"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5046694">(</span><span class="ident" id="5046695"><a href="/encoding/gob/decode.go.html#5046480">ovfl</a></span><span class="op" id="5046699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5046702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5046705">return</span>&nbsp;<span class="ident" id="5046712"><a href="/encoding/gob/decode.go.html#5046503">v</a></span><br>
<span class="lineno">330</span><span class="op" id="5046714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5046717">//&nbsp;decFloat32&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer,&nbsp;treats&nbsp;it&nbsp;as&nbsp;a&nbsp;32-bit&nbsp;floating-point</span><br>
<span class="lineno"></span><span class="comment" id="5046797">//&nbsp;number,&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5046832">func</span>&nbsp;<span class="ident" id="5046837">decFloat32</span><span class="op" id="5046847">(</span><span class="ident" id="5046848">i</span>&nbsp;<span class="op" id="5046850">*</span><span class="ident" id="5046851"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5046859">,</span>&nbsp;<span class="ident" id="5046861">state</span>&nbsp;<span class="op" id="5046867">*</span><span class="ident" id="5046868"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5046880">,</span>&nbsp;<span class="ident" id="5046882">value</span>&nbsp;<span class="ident" id="5046888"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5046895">.</span><span class="ident" id="5046896">Value</span><span class="op" id="5046901">)</span>&nbsp;<span class="op" id="5046903">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5046906"><a href="/encoding/gob/decode.go.html#5046882">value</a></span><span class="op" id="5046911">.</span><span class="ident" id="5046912">SetFloat</span><span class="op" id="5046920">(</span><span class="ident" id="5046921"><a href="/encoding/gob/decode.go.html#5046454">float32FromBits</a></span><span class="op" id="5046936">(</span><span class="ident" id="5046937"><a href="/encoding/gob/decode.go.html#5046861">state</a></span><span class="op" id="5046942">.</span><span class="ident" id="5046943">decodeUint</span><span class="op" id="5046953">(</span><span class="op" id="5046954">)</span><span class="op" id="5046955">,</span>&nbsp;<span class="ident" id="5046957"><a href="/encoding/gob/decode.go.html#5046848">i</a></span><span class="op" id="5046958">.</span><span class="ident" id="5046959">ovfl</span><span class="op" id="5046963">)</span><span class="op" id="5046964">)</span><br>
<span class="lineno"></span><span class="op" id="5046966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5046969">//&nbsp;decFloat64&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer,&nbsp;treats&nbsp;it&nbsp;as&nbsp;a&nbsp;64-bit&nbsp;floating-point</span><br>
<span class="lineno"></span><span class="comment" id="5047049">//&nbsp;number,&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno">340</span><span class="keyword" id="5047084">func</span>&nbsp;<span class="ident" id="5047089">decFloat64</span><span class="op" id="5047099">(</span><span class="ident" id="5047100">i</span>&nbsp;<span class="op" id="5047102">*</span><span class="ident" id="5047103"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5047111">,</span>&nbsp;<span class="ident" id="5047113">state</span>&nbsp;<span class="op" id="5047119">*</span><span class="ident" id="5047120"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5047132">,</span>&nbsp;<span class="ident" id="5047134">value</span>&nbsp;<span class="ident" id="5047140"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5047147">.</span><span class="ident" id="5047148">Value</span><span class="op" id="5047153">)</span>&nbsp;<span class="op" id="5047155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5047158"><a href="/encoding/gob/decode.go.html#5047134">value</a></span><span class="op" id="5047163">.</span><span class="ident" id="5047164">SetFloat</span><span class="op" id="5047172">(</span><span class="ident" id="5047173"><a href="/encoding/gob/decode.go.html#5045997">float64FromBits</a></span><span class="op" id="5047188">(</span><span class="ident" id="5047189"><a href="/encoding/gob/decode.go.html#5047113">state</a></span><span class="op" id="5047194">.</span><span class="ident" id="5047195">decodeUint</span><span class="op" id="5047205">(</span><span class="op" id="5047206">)</span><span class="op" id="5047207">)</span><span class="op" id="5047208">)</span><br>
<span class="lineno"></span><span class="op" id="5047210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5047213">//&nbsp;decComplex64&nbsp;decodes&nbsp;a&nbsp;pair&nbsp;of&nbsp;unsigned&nbsp;integers,&nbsp;treats&nbsp;them&nbsp;as&nbsp;a</span><br>
<span class="lineno">345</span><span class="comment" id="5047283">//&nbsp;pair&nbsp;of&nbsp;floating&nbsp;point&nbsp;numbers,&nbsp;and&nbsp;stores&nbsp;them&nbsp;as&nbsp;a&nbsp;complex64&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5047359">//&nbsp;The&nbsp;real&nbsp;part&nbsp;comes&nbsp;first.</span><br>
<span class="lineno"></span><span class="keyword" id="5047389">func</span>&nbsp;<span class="ident" id="5047394">decComplex64</span><span class="op" id="5047406">(</span><span class="ident" id="5047407">i</span>&nbsp;<span class="op" id="5047409">*</span><span class="ident" id="5047410"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5047418">,</span>&nbsp;<span class="ident" id="5047420">state</span>&nbsp;<span class="op" id="5047426">*</span><span class="ident" id="5047427"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5047439">,</span>&nbsp;<span class="ident" id="5047441">value</span>&nbsp;<span class="ident" id="5047447"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5047454">.</span><span class="ident" id="5047455">Value</span><span class="op" id="5047460">)</span>&nbsp;<span class="op" id="5047462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5047465">real</span>&nbsp;<span class="op" id="5047470">:=</span>&nbsp;<span class="ident" id="5047473"><a href="/encoding/gob/decode.go.html#5046454">float32FromBits</a></span><span class="op" id="5047488">(</span><span class="ident" id="5047489"><a href="/encoding/gob/decode.go.html#5047420">state</a></span><span class="op" id="5047494">.</span><span class="ident" id="5047495">decodeUint</span><span class="op" id="5047505">(</span><span class="op" id="5047506">)</span><span class="op" id="5047507">,</span>&nbsp;<span class="ident" id="5047509"><a href="/encoding/gob/decode.go.html#5047407">i</a></span><span class="op" id="5047510">.</span><span class="ident" id="5047511">ovfl</span><span class="op" id="5047515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5047518">imag</span>&nbsp;<span class="op" id="5047523">:=</span>&nbsp;<span class="ident" id="5047526"><a href="/encoding/gob/decode.go.html#5046454">float32FromBits</a></span><span class="op" id="5047541">(</span><span class="ident" id="5047542"><a href="/encoding/gob/decode.go.html#5047420">state</a></span><span class="op" id="5047547">.</span><span class="ident" id="5047548">decodeUint</span><span class="op" id="5047558">(</span><span class="op" id="5047559">)</span><span class="op" id="5047560">,</span>&nbsp;<span class="ident" id="5047562"><a href="/encoding/gob/decode.go.html#5047407">i</a></span><span class="op" id="5047563">.</span><span class="ident" id="5047564">ovfl</span><span class="op" id="5047568">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5047571"><a href="/encoding/gob/decode.go.html#5047441">value</a></span><span class="op" id="5047576">.</span><span class="ident" id="5047577">SetComplex</span><span class="op" id="5047587">(</span><span class="builtinfunc" id="5047588">complex</span><span class="op" id="5047595">(</span><span class="builtinfunc" id="5047596"><a href="/encoding/gob/decode.go.html#5047465">real</a></span><span class="op" id="5047600">,</span>&nbsp;<span class="builtinfunc" id="5047602"><a href="/encoding/gob/decode.go.html#5047518">imag</a></span><span class="op" id="5047606">)</span><span class="op" id="5047607">)</span><br>
<span class="lineno"></span><span class="op" id="5047609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5047612">//&nbsp;decComplex128&nbsp;decodes&nbsp;a&nbsp;pair&nbsp;of&nbsp;unsigned&nbsp;integers,&nbsp;treats&nbsp;them&nbsp;as&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5047683">//&nbsp;pair&nbsp;of&nbsp;floating&nbsp;point&nbsp;numbers,&nbsp;and&nbsp;stores&nbsp;them&nbsp;as&nbsp;a&nbsp;complex128&nbsp;in&nbsp;value.</span><br>
<span class="lineno">355</span><span class="comment" id="5047760">//&nbsp;The&nbsp;real&nbsp;part&nbsp;comes&nbsp;first.</span><br>
<span class="lineno"></span><span class="keyword" id="5047790">func</span>&nbsp;<span class="ident" id="5047795">decComplex128</span><span class="op" id="5047808">(</span><span class="ident" id="5047809">i</span>&nbsp;<span class="op" id="5047811">*</span><span class="ident" id="5047812"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5047820">,</span>&nbsp;<span class="ident" id="5047822">state</span>&nbsp;<span class="op" id="5047828">*</span><span class="ident" id="5047829"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5047841">,</span>&nbsp;<span class="ident" id="5047843">value</span>&nbsp;<span class="ident" id="5047849"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5047856">.</span><span class="ident" id="5047857">Value</span><span class="op" id="5047862">)</span>&nbsp;<span class="op" id="5047864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5047867">real</span>&nbsp;<span class="op" id="5047872">:=</span>&nbsp;<span class="ident" id="5047875"><a href="/encoding/gob/decode.go.html#5045997">float64FromBits</a></span><span class="op" id="5047890">(</span><span class="ident" id="5047891"><a href="/encoding/gob/decode.go.html#5047822">state</a></span><span class="op" id="5047896">.</span><span class="ident" id="5047897">decodeUint</span><span class="op" id="5047907">(</span><span class="op" id="5047908">)</span><span class="op" id="5047909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5047912">imag</span>&nbsp;<span class="op" id="5047917">:=</span>&nbsp;<span class="ident" id="5047920"><a href="/encoding/gob/decode.go.html#5045997">float64FromBits</a></span><span class="op" id="5047935">(</span><span class="ident" id="5047936"><a href="/encoding/gob/decode.go.html#5047822">state</a></span><span class="op" id="5047941">.</span><span class="ident" id="5047942">decodeUint</span><span class="op" id="5047952">(</span><span class="op" id="5047953">)</span><span class="op" id="5047954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5047957"><a href="/encoding/gob/decode.go.html#5047843">value</a></span><span class="op" id="5047962">.</span><span class="ident" id="5047963">SetComplex</span><span class="op" id="5047973">(</span><span class="builtinfunc" id="5047974">complex</span><span class="op" id="5047981">(</span><span class="builtinfunc" id="5047982"><a href="/encoding/gob/decode.go.html#5047867">real</a></span><span class="op" id="5047986">,</span>&nbsp;<span class="builtinfunc" id="5047988"><a href="/encoding/gob/decode.go.html#5047912">imag</a></span><span class="op" id="5047992">)</span><span class="op" id="5047993">)</span><br>
<span class="lineno">360</span><span class="op" id="5047995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5047998">//&nbsp;decUint8Slice&nbsp;decodes&nbsp;a&nbsp;byte&nbsp;slice&nbsp;and&nbsp;stores&nbsp;in&nbsp;value&nbsp;a&nbsp;slice&nbsp;header</span><br>
<span class="lineno"></span><span class="comment" id="5048071">//&nbsp;describing&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="5048095">//&nbsp;uint8&nbsp;slices&nbsp;are&nbsp;encoded&nbsp;as&nbsp;an&nbsp;unsigned&nbsp;count&nbsp;followed&nbsp;by&nbsp;the&nbsp;raw&nbsp;bytes.</span><br>
<span class="lineno">365</span><span class="keyword" id="5048171">func</span>&nbsp;<span class="ident" id="5048176">decUint8Slice</span><span class="op" id="5048189">(</span><span class="ident" id="5048190">i</span>&nbsp;<span class="op" id="5048192">*</span><span class="ident" id="5048193"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5048201">,</span>&nbsp;<span class="ident" id="5048203">state</span>&nbsp;<span class="op" id="5048209">*</span><span class="ident" id="5048210"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5048222">,</span>&nbsp;<span class="ident" id="5048224">value</span>&nbsp;<span class="ident" id="5048230"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5048237">.</span><span class="ident" id="5048238">Value</span><span class="op" id="5048243">)</span>&nbsp;<span class="op" id="5048245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5048248">u</span>&nbsp;<span class="op" id="5048250">:=</span>&nbsp;<span class="ident" id="5048253"><a href="/encoding/gob/decode.go.html#5048203">state</a></span><span class="op" id="5048258">.</span><span class="ident" id="5048259">decodeUint</span><span class="op" id="5048269">(</span><span class="op" id="5048270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5048273">n</span>&nbsp;<span class="op" id="5048275">:=</span>&nbsp;<span class="builtintype" id="5048278">int</span><span class="op" id="5048281">(</span><span class="ident" id="5048282"><a href="/encoding/gob/decode.go.html#5048248">u</a></span><span class="op" id="5048283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5048286">if</span>&nbsp;<span class="ident" id="5048289"><a href="/encoding/gob/decode.go.html#5048273">n</a></span>&nbsp;<span class="op" id="5048291">&lt;</span>&nbsp;<span class="num" id="5048293">0</span>&nbsp;<span class="op" id="5048295">||</span>&nbsp;<span class="ident" id="5048298">uint64</span><span class="op" id="5048304">(</span><span class="ident" id="5048305"><a href="/encoding/gob/decode.go.html#5048273">n</a></span><span class="op" id="5048306">)</span>&nbsp;<span class="op" id="5048308">!=</span>&nbsp;<span class="ident" id="5048311"><a href="/encoding/gob/decode.go.html#5048248">u</a></span>&nbsp;<span class="op" id="5048313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5048317"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5048323">(</span><span class="string" id="5048324">&#34;length&nbsp;of&nbsp;%s&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="5048368">,</span>&nbsp;<span class="ident" id="5048370"><a href="/encoding/gob/decode.go.html#5048224">value</a></span><span class="op" id="5048375">.</span><span class="ident" id="5048376">Type</span><span class="op" id="5048380">(</span><span class="op" id="5048381">)</span><span class="op" id="5048382">,</span>&nbsp;<span class="ident" id="5048384"><a href="/encoding/gob/decode.go.html#5048248">u</a></span><span class="op" id="5048385">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5048388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5048391">if</span>&nbsp;<span class="ident" id="5048394"><a href="/encoding/gob/decode.go.html#5048273">n</a></span>&nbsp;<span class="op" id="5048396">&gt;</span>&nbsp;<span class="ident" id="5048398"><a href="/encoding/gob/decode.go.html#5048203">state</a></span><span class="op" id="5048403">.</span><span class="ident" id="5048404">b</span><span class="op" id="5048405">.</span><span class="ident" id="5048406">Len</span><span class="op" id="5048409">(</span><span class="op" id="5048410">)</span>&nbsp;<span class="op" id="5048412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5048416"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5048422">(</span><span class="string" id="5048423">&#34;%s&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="5048456">,</span>&nbsp;<span class="ident" id="5048458"><a href="/encoding/gob/decode.go.html#5048224">value</a></span><span class="op" id="5048463">.</span><span class="ident" id="5048464">Type</span><span class="op" id="5048468">(</span><span class="op" id="5048469">)</span><span class="op" id="5048470">,</span>&nbsp;<span class="ident" id="5048472"><a href="/encoding/gob/decode.go.html#5048273">n</a></span><span class="op" id="5048473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5048476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5048479">if</span>&nbsp;<span class="ident" id="5048482"><a href="/encoding/gob/decode.go.html#5048273">n</a></span>&nbsp;<span class="op" id="5048484">&gt;</span>&nbsp;<span class="ident" id="5048486"><a href="/encoding/gob/decoder.go.html#5076910">tooBig</a></span>&nbsp;<span class="op" id="5048493">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5048497"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5048503">(</span><span class="string" id="5048504">&#34;byte&nbsp;slice&nbsp;too&nbsp;big:&nbsp;%d&#34;</span><span class="op" id="5048528">,</span>&nbsp;<span class="ident" id="5048530"><a href="/encoding/gob/decode.go.html#5048273">n</a></span><span class="op" id="5048531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5048534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5048537">if</span>&nbsp;<span class="ident" id="5048540"><a href="/encoding/gob/decode.go.html#5048224">value</a></span><span class="op" id="5048545">.</span><span class="ident" id="5048546">Cap</span><span class="op" id="5048549">(</span><span class="op" id="5048550">)</span>&nbsp;<span class="op" id="5048552">&lt;</span>&nbsp;<span class="ident" id="5048554"><a href="/encoding/gob/decode.go.html#5048273">n</a></span>&nbsp;<span class="op" id="5048556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5048560"><a href="/encoding/gob/decode.go.html#5048224">value</a></span><span class="op" id="5048565">.</span><span class="ident" id="5048566">Set</span><span class="op" id="5048569">(</span><span class="ident" id="5048570"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5048577">.</span><span class="ident" id="5048578">MakeSlice</span><span class="op" id="5048587">(</span><span class="ident" id="5048588"><a href="/encoding/gob/decode.go.html#5048224">value</a></span><span class="op" id="5048593">.</span><span class="ident" id="5048594">Type</span><span class="op" id="5048598">(</span><span class="op" id="5048599">)</span><span class="op" id="5048600">,</span>&nbsp;<span class="ident" id="5048602"><a href="/encoding/gob/decode.go.html#5048273">n</a></span><span class="op" id="5048603">,</span>&nbsp;<span class="ident" id="5048605"><a href="/encoding/gob/decode.go.html#5048273">n</a></span><span class="op" id="5048606">)</span><span class="op" id="5048607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5048610">}</span>&nbsp;<span class="keyword" id="5048612">else</span>&nbsp;<span class="op" id="5048617">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5048621"><a href="/encoding/gob/decode.go.html#5048224">value</a></span><span class="op" id="5048626">.</span><span class="ident" id="5048627">Set</span><span class="op" id="5048630">(</span><span class="ident" id="5048631"><a href="/encoding/gob/decode.go.html#5048224">value</a></span><span class="op" id="5048636">.</span><span class="ident" id="5048637">Slice</span><span class="op" id="5048642">(</span><span class="num" id="5048643">0</span><span class="op" id="5048644">,</span>&nbsp;<span class="ident" id="5048646"><a href="/encoding/gob/decode.go.html#5048273">n</a></span><span class="op" id="5048647">)</span><span class="op" id="5048648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5048651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5048654">if</span>&nbsp;<span class="ident" id="5048657">_</span><span class="op" id="5048658">,</span>&nbsp;<span class="ident" id="5048660">err</span>&nbsp;<span class="op" id="5048664">:=</span>&nbsp;<span class="ident" id="5048667"><a href="/encoding/gob/decode.go.html#5048203">state</a></span><span class="op" id="5048672">.</span><span class="ident" id="5048673">b</span><span class="op" id="5048674">.</span><span class="ident" id="5048675">Read</span><span class="op" id="5048679">(</span><span class="ident" id="5048680"><a href="/encoding/gob/decode.go.html#5048224">value</a></span><span class="op" id="5048685">.</span><span class="ident" id="5048686">Bytes</span><span class="op" id="5048691">(</span><span class="op" id="5048692">)</span><span class="op" id="5048693">)</span><span class="op" id="5048694">;</span>&nbsp;<span class="ident" id="5048696"><a href="/encoding/gob/decode.go.html#5048660">err</a></span>&nbsp;<span class="op" id="5048700">!=</span>&nbsp;<span class="ident" id="5048703">nil</span>&nbsp;<span class="op" id="5048707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5048711"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5048717">(</span><span class="string" id="5048718">&#34;error&nbsp;decoding&nbsp;[]byte:&nbsp;%s&#34;</span><span class="op" id="5048745">,</span>&nbsp;<span class="ident" id="5048747"><a href="/encoding/gob/decode.go.html#5048660">err</a></span><span class="op" id="5048750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5048753">}</span><br>
<span class="lineno">385</span><span class="op" id="5048755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5048758">//&nbsp;decString&nbsp;decodes&nbsp;byte&nbsp;array&nbsp;and&nbsp;stores&nbsp;in&nbsp;value&nbsp;a&nbsp;string&nbsp;header</span><br>
<span class="lineno"></span><span class="comment" id="5048826">//&nbsp;describing&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="5048850">//&nbsp;Strings&nbsp;are&nbsp;encoded&nbsp;as&nbsp;an&nbsp;unsigned&nbsp;count&nbsp;followed&nbsp;by&nbsp;the&nbsp;raw&nbsp;bytes.</span><br>
<span class="lineno">390</span><span class="keyword" id="5048921">func</span>&nbsp;<span class="ident" id="5048926">decString</span><span class="op" id="5048935">(</span><span class="ident" id="5048936">i</span>&nbsp;<span class="op" id="5048938">*</span><span class="ident" id="5048939"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5048947">,</span>&nbsp;<span class="ident" id="5048949">state</span>&nbsp;<span class="op" id="5048955">*</span><span class="ident" id="5048956"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5048968">,</span>&nbsp;<span class="ident" id="5048970">value</span>&nbsp;<span class="ident" id="5048976"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5048983">.</span><span class="ident" id="5048984">Value</span><span class="op" id="5048989">)</span>&nbsp;<span class="op" id="5048991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5048994">u</span>&nbsp;<span class="op" id="5048996">:=</span>&nbsp;<span class="ident" id="5048999"><a href="/encoding/gob/decode.go.html#5048949">state</a></span><span class="op" id="5049004">.</span><span class="ident" id="5049005">decodeUint</span><span class="op" id="5049015">(</span><span class="op" id="5049016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5049019">n</span>&nbsp;<span class="op" id="5049021">:=</span>&nbsp;<span class="builtintype" id="5049024">int</span><span class="op" id="5049027">(</span><span class="ident" id="5049028"><a href="/encoding/gob/decode.go.html#5048994">u</a></span><span class="op" id="5049029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5049032">if</span>&nbsp;<span class="ident" id="5049035"><a href="/encoding/gob/decode.go.html#5049019">n</a></span>&nbsp;<span class="op" id="5049037">&lt;</span>&nbsp;<span class="num" id="5049039">0</span>&nbsp;<span class="op" id="5049041">||</span>&nbsp;<span class="ident" id="5049044">uint64</span><span class="op" id="5049050">(</span><span class="ident" id="5049051"><a href="/encoding/gob/decode.go.html#5049019">n</a></span><span class="op" id="5049052">)</span>&nbsp;<span class="op" id="5049054">!=</span>&nbsp;<span class="ident" id="5049057"><a href="/encoding/gob/decode.go.html#5048994">u</a></span>&nbsp;<span class="op" id="5049059">||</span>&nbsp;<span class="ident" id="5049062"><a href="/encoding/gob/decode.go.html#5049019">n</a></span>&nbsp;<span class="op" id="5049064">&gt;</span>&nbsp;<span class="ident" id="5049066"><a href="/encoding/gob/decode.go.html#5048949">state</a></span><span class="op" id="5049071">.</span><span class="ident" id="5049072">b</span><span class="op" id="5049073">.</span><span class="ident" id="5049074">Len</span><span class="op" id="5049077">(</span><span class="op" id="5049078">)</span>&nbsp;<span class="op" id="5049080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5049084"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5049090">(</span><span class="string" id="5049091">&#34;length&nbsp;of&nbsp;%s&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="5049135">,</span>&nbsp;<span class="ident" id="5049137"><a href="/encoding/gob/decode.go.html#5048970">value</a></span><span class="op" id="5049142">.</span><span class="ident" id="5049143">Type</span><span class="op" id="5049147">(</span><span class="op" id="5049148">)</span><span class="op" id="5049149">,</span>&nbsp;<span class="ident" id="5049151"><a href="/encoding/gob/decode.go.html#5048994">u</a></span><span class="op" id="5049152">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5049155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5049158">if</span>&nbsp;<span class="ident" id="5049161"><a href="/encoding/gob/decode.go.html#5049019">n</a></span>&nbsp;<span class="op" id="5049163">&gt;</span>&nbsp;<span class="ident" id="5049165"><a href="/encoding/gob/decode.go.html#5048949">state</a></span><span class="op" id="5049170">.</span><span class="ident" id="5049171">b</span><span class="op" id="5049172">.</span><span class="ident" id="5049173">Len</span><span class="op" id="5049176">(</span><span class="op" id="5049177">)</span>&nbsp;<span class="op" id="5049179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5049183"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5049189">(</span><span class="string" id="5049190">&#34;%s&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="5049223">,</span>&nbsp;<span class="ident" id="5049225"><a href="/encoding/gob/decode.go.html#5048970">value</a></span><span class="op" id="5049230">.</span><span class="ident" id="5049231">Type</span><span class="op" id="5049235">(</span><span class="op" id="5049236">)</span><span class="op" id="5049237">,</span>&nbsp;<span class="ident" id="5049239"><a href="/encoding/gob/decode.go.html#5049019">n</a></span><span class="op" id="5049240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5049243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5049246">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5049265">data</span>&nbsp;<span class="op" id="5049270">:=</span>&nbsp;<span class="builtinfunc" id="5049273">make</span><span class="op" id="5049277">(</span><span class="op" id="5049278">[</span><span class="op" id="5049279">]</span><span class="builtintype" id="5049280">byte</span><span class="op" id="5049284">,</span>&nbsp;<span class="ident" id="5049286"><a href="/encoding/gob/decode.go.html#5049019">n</a></span><span class="op" id="5049287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5049290">if</span>&nbsp;<span class="ident" id="5049293">_</span><span class="op" id="5049294">,</span>&nbsp;<span class="ident" id="5049296">err</span>&nbsp;<span class="op" id="5049300">:=</span>&nbsp;<span class="ident" id="5049303"><a href="/encoding/gob/decode.go.html#5048949">state</a></span><span class="op" id="5049308">.</span><span class="ident" id="5049309">b</span><span class="op" id="5049310">.</span><span class="ident" id="5049311">Read</span><span class="op" id="5049315">(</span><span class="ident" id="5049316"><a href="/encoding/gob/decode.go.html#5049265">data</a></span><span class="op" id="5049320">)</span><span class="op" id="5049321">;</span>&nbsp;<span class="ident" id="5049323"><a href="/encoding/gob/decode.go.html#5049296">err</a></span>&nbsp;<span class="op" id="5049327">!=</span>&nbsp;<span class="ident" id="5049330">nil</span>&nbsp;<span class="op" id="5049334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5049338"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5049344">(</span><span class="string" id="5049345">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="5049372">,</span>&nbsp;<span class="ident" id="5049374"><a href="/encoding/gob/decode.go.html#5049296">err</a></span><span class="op" id="5049377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5049380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5049383"><a href="/encoding/gob/decode.go.html#5048970">value</a></span><span class="op" id="5049388">.</span><span class="ident" id="5049389">SetString</span><span class="op" id="5049398">(</span><span class="builtintype" id="5049399">string</span><span class="op" id="5049405">(</span><span class="ident" id="5049406"><a href="/encoding/gob/decode.go.html#5049265">data</a></span><span class="op" id="5049410">)</span><span class="op" id="5049411">)</span><br>
<span class="lineno">405</span><span class="op" id="5049413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5049416">//&nbsp;ignoreUint8Array&nbsp;skips&nbsp;over&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;byte&nbsp;slice&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5049500">func</span>&nbsp;<span class="ident" id="5049505">ignoreUint8Array</span><span class="op" id="5049521">(</span><span class="ident" id="5049522">i</span>&nbsp;<span class="op" id="5049524">*</span><span class="ident" id="5049525"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5049533">,</span>&nbsp;<span class="ident" id="5049535">state</span>&nbsp;<span class="op" id="5049541">*</span><span class="ident" id="5049542"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5049554">,</span>&nbsp;<span class="ident" id="5049556">value</span>&nbsp;<span class="ident" id="5049562"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5049569">.</span><span class="ident" id="5049570">Value</span><span class="op" id="5049575">)</span>&nbsp;<span class="op" id="5049577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5049580">b</span>&nbsp;<span class="op" id="5049582">:=</span>&nbsp;<span class="builtinfunc" id="5049585">make</span><span class="op" id="5049589">(</span><span class="op" id="5049590">[</span><span class="op" id="5049591">]</span><span class="builtintype" id="5049592">byte</span><span class="op" id="5049596">,</span>&nbsp;<span class="ident" id="5049598"><a href="/encoding/gob/decode.go.html#5049535">state</a></span><span class="op" id="5049603">.</span><span class="ident" id="5049604">decodeUint</span><span class="op" id="5049614">(</span><span class="op" id="5049615">)</span><span class="op" id="5049616">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5049619"><a href="/encoding/gob/decode.go.html#5049535">state</a></span><span class="op" id="5049624">.</span><span class="ident" id="5049625">b</span><span class="op" id="5049626">.</span><span class="ident" id="5049627">Read</span><span class="op" id="5049631">(</span><span class="ident" id="5049632"><a href="/encoding/gob/decode.go.html#5049580">b</a></span><span class="op" id="5049633">)</span><br>
<span class="lineno"></span><span class="op" id="5049635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5049638">//&nbsp;Execution&nbsp;engine</span><br>
<span class="lineno"></span><br>
<span class="lineno">415</span><span class="comment" id="5049659">//&nbsp;The&nbsp;encoder&nbsp;engine&nbsp;is&nbsp;an&nbsp;array&nbsp;of&nbsp;instructions&nbsp;indexed&nbsp;by&nbsp;field&nbsp;number&nbsp;of&nbsp;the&nbsp;incoming</span><br>
<span class="lineno"></span><span class="comment" id="5049749">//&nbsp;decoder.&nbsp;&nbsp;It&nbsp;is&nbsp;executed&nbsp;with&nbsp;random&nbsp;access&nbsp;according&nbsp;to&nbsp;field&nbsp;number.</span><br>
<span class="lineno"></span><span class="keyword" id="5049823">type</span>&nbsp;<span class="ident" id="5049828">decEngine</span>&nbsp;<span class="keyword" id="5049838">struct</span>&nbsp;<span class="op" id="5049845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5049848">instr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5049857">[</span><span class="op" id="5049858">]</span><span class="ident" id="5049859"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5049869">numInstr</span>&nbsp;<span class="builtintype" id="5049878">int</span>&nbsp;<span class="comment" id="5049882">//&nbsp;the&nbsp;number&nbsp;of&nbsp;active&nbsp;instructions</span><br>
<span class="lineno">420</span><span class="op" id="5049919">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5049922">//&nbsp;decodeSingle&nbsp;decodes&nbsp;a&nbsp;top-level&nbsp;value&nbsp;that&nbsp;is&nbsp;not&nbsp;a&nbsp;struct&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5050009">//&nbsp;Such&nbsp;values&nbsp;are&nbsp;preceded&nbsp;by&nbsp;a&nbsp;zero,&nbsp;making&nbsp;them&nbsp;have&nbsp;the&nbsp;memory&nbsp;layout&nbsp;of&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5050088">//&nbsp;struct&nbsp;field&nbsp;(although&nbsp;with&nbsp;an&nbsp;illegal&nbsp;field&nbsp;number).</span><br>
<span class="lineno">425</span><span class="keyword" id="5050145">func</span>&nbsp;<span class="op" id="5050150">(</span><span class="ident" id="5050151">dec</span>&nbsp;<span class="op" id="5050155">*</span><span class="ident" id="5050156"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5050163">)</span>&nbsp;<span class="ident" id="5050165">decodeSingle</span><span class="op" id="5050177">(</span><span class="ident" id="5050178">engine</span>&nbsp;<span class="op" id="5050185">*</span><span class="ident" id="5050186"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5050195">,</span>&nbsp;<span class="ident" id="5050197">ut</span>&nbsp;<span class="op" id="5050200">*</span><span class="ident" id="5050201"><a href="/encoding/gob/type.go.html#5138634">userTypeInfo</a></span><span class="op" id="5050213">,</span>&nbsp;<span class="ident" id="5050215">value</span>&nbsp;<span class="ident" id="5050221"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5050228">.</span><span class="ident" id="5050229">Value</span><span class="op" id="5050234">)</span>&nbsp;<span class="op" id="5050236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5050239">state</span>&nbsp;<span class="op" id="5050245">:=</span>&nbsp;<span class="ident" id="5050248"><a href="/encoding/gob/decode.go.html#5050151">dec</a></span><span class="op" id="5050251">.</span><span class="ident" id="5050252">newDecoderState</span><span class="op" id="5050267">(</span><span class="op" id="5050268">&amp;</span><span class="ident" id="5050269"><a href="/encoding/gob/decode.go.html#5050151">dec</a></span><span class="op" id="5050272">.</span><span class="ident" id="5050273">buf</span><span class="op" id="5050276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5050279">defer</span>&nbsp;<span class="ident" id="5050285"><a href="/encoding/gob/decode.go.html#5050151">dec</a></span><span class="op" id="5050288">.</span><span class="ident" id="5050289">freeDecoderState</span><span class="op" id="5050305">(</span><span class="ident" id="5050306"><a href="/encoding/gob/decode.go.html#5050239">state</a></span><span class="op" id="5050311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5050314"><a href="/encoding/gob/decode.go.html#5050239">state</a></span><span class="op" id="5050319">.</span><span class="ident" id="5050320">fieldnum</span>&nbsp;<span class="op" id="5050329">=</span>&nbsp;<span class="ident" id="5050331"><a href="/encoding/gob/encode.go.html#5116368">singletonField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5050347">if</span>&nbsp;<span class="ident" id="5050350"><a href="/encoding/gob/decode.go.html#5050239">state</a></span><span class="op" id="5050355">.</span><span class="ident" id="5050356">decodeUint</span><span class="op" id="5050366">(</span><span class="op" id="5050367">)</span>&nbsp;<span class="op" id="5050369">!=</span>&nbsp;<span class="num" id="5050372">0</span>&nbsp;<span class="op" id="5050374">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5050378"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5050384">(</span><span class="string" id="5050385">&#34;decode:&nbsp;corrupted&nbsp;data:&nbsp;non-zero&nbsp;delta&nbsp;for&nbsp;singleton&#34;</span><span class="op" id="5050439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5050442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5050445">instr</span>&nbsp;<span class="op" id="5050451">:=</span>&nbsp;<span class="op" id="5050454">&amp;</span><span class="ident" id="5050455"><a href="/encoding/gob/decode.go.html#5050178">engine</a></span><span class="op" id="5050461">.</span><span class="ident" id="5050462">instr</span><span class="op" id="5050467">[</span><span class="ident" id="5050468"><a href="/encoding/gob/encode.go.html#5116368">singletonField</a></span><span class="op" id="5050482">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5050485"><a href="/encoding/gob/decode.go.html#5050445">instr</a></span><span class="op" id="5050490">.</span><span class="ident" id="5050491">op</span><span class="op" id="5050493">(</span><span class="ident" id="5050494"><a href="/encoding/gob/decode.go.html#5050445">instr</a></span><span class="op" id="5050499">,</span>&nbsp;<span class="ident" id="5050501"><a href="/encoding/gob/decode.go.html#5050239">state</a></span><span class="op" id="5050506">,</span>&nbsp;<span class="ident" id="5050508"><a href="/encoding/gob/decode.go.html#5050215">value</a></span><span class="op" id="5050513">)</span><br>
<span class="lineno"></span><span class="op" id="5050515">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="comment" id="5050518">//&nbsp;decodeStruct&nbsp;decodes&nbsp;a&nbsp;top-level&nbsp;struct&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5050585">//&nbsp;Indir&nbsp;is&nbsp;for&nbsp;the&nbsp;value,&nbsp;not&nbsp;the&nbsp;type.&nbsp;&nbsp;At&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;call&nbsp;it&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="5050658">//&nbsp;differ&nbsp;from&nbsp;ut.indir,&nbsp;which&nbsp;was&nbsp;computed&nbsp;when&nbsp;the&nbsp;engine&nbsp;was&nbsp;built.</span><br>
<span class="lineno"></span><span class="comment" id="5050729">//&nbsp;This&nbsp;state&nbsp;cannot&nbsp;arise&nbsp;for&nbsp;decodeSingle,&nbsp;which&nbsp;is&nbsp;called&nbsp;directly</span><br>
<span class="lineno">440</span><span class="comment" id="5050799">//&nbsp;from&nbsp;the&nbsp;user&#39;s&nbsp;value,&nbsp;not&nbsp;from&nbsp;the&nbsp;innards&nbsp;of&nbsp;an&nbsp;engine.</span><br>
<span class="lineno"></span><span class="keyword" id="5050860">func</span>&nbsp;<span class="op" id="5050865">(</span><span class="ident" id="5050866">dec</span>&nbsp;<span class="op" id="5050870">*</span><span class="ident" id="5050871"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5050878">)</span>&nbsp;<span class="ident" id="5050880">decodeStruct</span><span class="op" id="5050892">(</span><span class="ident" id="5050893">engine</span>&nbsp;<span class="op" id="5050900">*</span><span class="ident" id="5050901"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5050910">,</span>&nbsp;<span class="ident" id="5050912">ut</span>&nbsp;<span class="op" id="5050915">*</span><span class="ident" id="5050916"><a href="/encoding/gob/type.go.html#5138634">userTypeInfo</a></span><span class="op" id="5050928">,</span>&nbsp;<span class="ident" id="5050930">value</span>&nbsp;<span class="ident" id="5050936"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5050943">.</span><span class="ident" id="5050944">Value</span><span class="op" id="5050949">)</span>&nbsp;<span class="op" id="5050951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5050954">state</span>&nbsp;<span class="op" id="5050960">:=</span>&nbsp;<span class="ident" id="5050963"><a href="/encoding/gob/decode.go.html#5050866">dec</a></span><span class="op" id="5050966">.</span><span class="ident" id="5050967">newDecoderState</span><span class="op" id="5050982">(</span><span class="op" id="5050983">&amp;</span><span class="ident" id="5050984"><a href="/encoding/gob/decode.go.html#5050866">dec</a></span><span class="op" id="5050987">.</span><span class="ident" id="5050988">buf</span><span class="op" id="5050991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5050994">defer</span>&nbsp;<span class="ident" id="5051000"><a href="/encoding/gob/decode.go.html#5050866">dec</a></span><span class="op" id="5051003">.</span><span class="ident" id="5051004">freeDecoderState</span><span class="op" id="5051020">(</span><span class="ident" id="5051021"><a href="/encoding/gob/decode.go.html#5050954">state</a></span><span class="op" id="5051026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051029"><a href="/encoding/gob/decode.go.html#5050954">state</a></span><span class="op" id="5051034">.</span><span class="ident" id="5051035">fieldnum</span>&nbsp;<span class="op" id="5051044">=</span>&nbsp;<span class="op" id="5051046">-</span><span class="num" id="5051047">1</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051050">for</span>&nbsp;<span class="ident" id="5051054"><a href="/encoding/gob/decode.go.html#5050954">state</a></span><span class="op" id="5051059">.</span><span class="ident" id="5051060">b</span><span class="op" id="5051061">.</span><span class="ident" id="5051062">Len</span><span class="op" id="5051065">(</span><span class="op" id="5051066">)</span>&nbsp;<span class="op" id="5051068">&gt;</span>&nbsp;<span class="num" id="5051070">0</span>&nbsp;<span class="op" id="5051072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051076">delta</span>&nbsp;<span class="op" id="5051082">:=</span>&nbsp;<span class="builtintype" id="5051085">int</span><span class="op" id="5051088">(</span><span class="ident" id="5051089"><a href="/encoding/gob/decode.go.html#5050954">state</a></span><span class="op" id="5051094">.</span><span class="ident" id="5051095">decodeUint</span><span class="op" id="5051105">(</span><span class="op" id="5051106">)</span><span class="op" id="5051107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051111">if</span>&nbsp;<span class="ident" id="5051114"><a href="/encoding/gob/decode.go.html#5051076">delta</a></span>&nbsp;<span class="op" id="5051120">&lt;</span>&nbsp;<span class="num" id="5051122">0</span>&nbsp;<span class="op" id="5051124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051129"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5051135">(</span><span class="string" id="5051136">&#34;decode:&nbsp;corrupted&nbsp;data:&nbsp;negative&nbsp;delta&#34;</span><span class="op" id="5051176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5051180">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051184">if</span>&nbsp;<span class="ident" id="5051187"><a href="/encoding/gob/decode.go.html#5051076">delta</a></span>&nbsp;<span class="op" id="5051193">==</span>&nbsp;<span class="num" id="5051196">0</span>&nbsp;<span class="op" id="5051198">{</span>&nbsp;<span class="comment" id="5051200">//&nbsp;struct&nbsp;terminator&nbsp;is&nbsp;zero&nbsp;delta&nbsp;fieldnum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051247">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5051255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051259">fieldnum</span>&nbsp;<span class="op" id="5051268">:=</span>&nbsp;<span class="ident" id="5051271"><a href="/encoding/gob/decode.go.html#5050954">state</a></span><span class="op" id="5051276">.</span><span class="ident" id="5051277">fieldnum</span>&nbsp;<span class="op" id="5051286">+</span>&nbsp;<span class="ident" id="5051288"><a href="/encoding/gob/decode.go.html#5051076">delta</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051296">if</span>&nbsp;<span class="ident" id="5051299"><a href="/encoding/gob/decode.go.html#5051259">fieldnum</a></span>&nbsp;<span class="op" id="5051308">&gt;=</span>&nbsp;<span class="builtinfunc" id="5051311">len</span><span class="op" id="5051314">(</span><span class="ident" id="5051315"><a href="/encoding/gob/decode.go.html#5050893">engine</a></span><span class="op" id="5051321">.</span><span class="ident" id="5051322">instr</span><span class="op" id="5051327">)</span>&nbsp;<span class="op" id="5051329">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051334"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5051340">(</span><span class="ident" id="5051341"><a href="/encoding/gob/decode.go.html#5038318">errRange</a></span><span class="op" id="5051349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051354">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5051362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051366">instr</span>&nbsp;<span class="op" id="5051372">:=</span>&nbsp;<span class="op" id="5051375">&amp;</span><span class="ident" id="5051376"><a href="/encoding/gob/decode.go.html#5050893">engine</a></span><span class="op" id="5051382">.</span><span class="ident" id="5051383">instr</span><span class="op" id="5051388">[</span><span class="ident" id="5051389"><a href="/encoding/gob/decode.go.html#5051259">fieldnum</a></span><span class="op" id="5051397">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051401">var</span>&nbsp;<span class="ident" id="5051405">field</span>&nbsp;<span class="ident" id="5051411"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5051418">.</span><span class="ident" id="5051419">Value</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051427">if</span>&nbsp;<span class="ident" id="5051430"><a href="/encoding/gob/decode.go.html#5051366">instr</a></span><span class="op" id="5051435">.</span><span class="ident" id="5051436">index</span>&nbsp;<span class="op" id="5051442">!=</span>&nbsp;<span class="ident" id="5051445">nil</span>&nbsp;<span class="op" id="5051449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5051454">//&nbsp;Otherwise&nbsp;the&nbsp;field&nbsp;is&nbsp;unknown&nbsp;to&nbsp;us&nbsp;and&nbsp;instr.op&nbsp;is&nbsp;an&nbsp;ignore&nbsp;op.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051527"><a href="/encoding/gob/decode.go.html#5051405">field</a></span>&nbsp;<span class="op" id="5051533">=</span>&nbsp;<span class="ident" id="5051535"><a href="/encoding/gob/decode.go.html#5050930">value</a></span><span class="op" id="5051540">.</span><span class="ident" id="5051541">FieldByIndex</span><span class="op" id="5051553">(</span><span class="ident" id="5051554"><a href="/encoding/gob/decode.go.html#5051366">instr</a></span><span class="op" id="5051559">.</span><span class="ident" id="5051560">index</span><span class="op" id="5051565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051570">if</span>&nbsp;<span class="ident" id="5051573"><a href="/encoding/gob/decode.go.html#5051405">field</a></span><span class="op" id="5051578">.</span><span class="ident" id="5051579">Kind</span><span class="op" id="5051583">(</span><span class="op" id="5051584">)</span>&nbsp;<span class="op" id="5051586">==</span>&nbsp;<span class="ident" id="5051589"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5051596">.</span><span class="ident" id="5051597">Ptr</span>&nbsp;<span class="op" id="5051601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051607"><a href="/encoding/gob/decode.go.html#5051405">field</a></span>&nbsp;<span class="op" id="5051613">=</span>&nbsp;<span class="ident" id="5051615"><a href="/encoding/gob/decode.go.html#5043528">decAlloc</a></span><span class="op" id="5051623">(</span><span class="ident" id="5051624"><a href="/encoding/gob/decode.go.html#5051405">field</a></span><span class="op" id="5051629">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5051634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5051638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051642"><a href="/encoding/gob/decode.go.html#5051366">instr</a></span><span class="op" id="5051647">.</span><span class="ident" id="5051648">op</span><span class="op" id="5051650">(</span><span class="ident" id="5051651"><a href="/encoding/gob/decode.go.html#5051366">instr</a></span><span class="op" id="5051656">,</span>&nbsp;<span class="ident" id="5051658"><a href="/encoding/gob/decode.go.html#5050954">state</a></span><span class="op" id="5051663">,</span>&nbsp;<span class="ident" id="5051665"><a href="/encoding/gob/decode.go.html#5051405">field</a></span><span class="op" id="5051670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051674"><a href="/encoding/gob/decode.go.html#5050954">state</a></span><span class="op" id="5051679">.</span><span class="ident" id="5051680">fieldnum</span>&nbsp;<span class="op" id="5051689">=</span>&nbsp;<span class="ident" id="5051691"><a href="/encoding/gob/decode.go.html#5051259">fieldnum</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5051701">}</span><br>
<span class="lineno">470</span><span class="op" id="5051703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5051706">var</span>&nbsp;<span class="ident" id="5051710">noValue</span>&nbsp;<span class="ident" id="5051718"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5051725">.</span><span class="ident" id="5051726">Value</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5051733">//&nbsp;ignoreStruct&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;struct&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno">475</span><span class="keyword" id="5051801">func</span>&nbsp;<span class="op" id="5051806">(</span><span class="ident" id="5051807">dec</span>&nbsp;<span class="op" id="5051811">*</span><span class="ident" id="5051812"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5051819">)</span>&nbsp;<span class="ident" id="5051821">ignoreStruct</span><span class="op" id="5051833">(</span><span class="ident" id="5051834">engine</span>&nbsp;<span class="op" id="5051841">*</span><span class="ident" id="5051842"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5051851">)</span>&nbsp;<span class="op" id="5051853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051856">state</span>&nbsp;<span class="op" id="5051862">:=</span>&nbsp;<span class="ident" id="5051865"><a href="/encoding/gob/decode.go.html#5051807">dec</a></span><span class="op" id="5051868">.</span><span class="ident" id="5051869">newDecoderState</span><span class="op" id="5051884">(</span><span class="op" id="5051885">&amp;</span><span class="ident" id="5051886"><a href="/encoding/gob/decode.go.html#5051807">dec</a></span><span class="op" id="5051889">.</span><span class="ident" id="5051890">buf</span><span class="op" id="5051893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051896">defer</span>&nbsp;<span class="ident" id="5051902"><a href="/encoding/gob/decode.go.html#5051807">dec</a></span><span class="op" id="5051905">.</span><span class="ident" id="5051906">freeDecoderState</span><span class="op" id="5051922">(</span><span class="ident" id="5051923"><a href="/encoding/gob/decode.go.html#5051856">state</a></span><span class="op" id="5051928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051931"><a href="/encoding/gob/decode.go.html#5051856">state</a></span><span class="op" id="5051936">.</span><span class="ident" id="5051937">fieldnum</span>&nbsp;<span class="op" id="5051946">=</span>&nbsp;<span class="op" id="5051948">-</span><span class="num" id="5051949">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5051952">for</span>&nbsp;<span class="ident" id="5051956"><a href="/encoding/gob/decode.go.html#5051856">state</a></span><span class="op" id="5051961">.</span><span class="ident" id="5051962">b</span><span class="op" id="5051963">.</span><span class="ident" id="5051964">Len</span><span class="op" id="5051967">(</span><span class="op" id="5051968">)</span>&nbsp;<span class="op" id="5051970">&gt;</span>&nbsp;<span class="num" id="5051972">0</span>&nbsp;<span class="op" id="5051974">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5051978">delta</span>&nbsp;<span class="op" id="5051984">:=</span>&nbsp;<span class="builtintype" id="5051987">int</span><span class="op" id="5051990">(</span><span class="ident" id="5051991"><a href="/encoding/gob/decode.go.html#5051856">state</a></span><span class="op" id="5051996">.</span><span class="ident" id="5051997">decodeUint</span><span class="op" id="5052007">(</span><span class="op" id="5052008">)</span><span class="op" id="5052009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5052013">if</span>&nbsp;<span class="ident" id="5052016"><a href="/encoding/gob/decode.go.html#5051978">delta</a></span>&nbsp;<span class="op" id="5052022">&lt;</span>&nbsp;<span class="num" id="5052024">0</span>&nbsp;<span class="op" id="5052026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052031"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5052037">(</span><span class="string" id="5052038">&#34;ignore&nbsp;decode:&nbsp;corrupted&nbsp;data:&nbsp;negative&nbsp;delta&#34;</span><span class="op" id="5052085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5052089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5052093">if</span>&nbsp;<span class="ident" id="5052096"><a href="/encoding/gob/decode.go.html#5051978">delta</a></span>&nbsp;<span class="op" id="5052102">==</span>&nbsp;<span class="num" id="5052105">0</span>&nbsp;<span class="op" id="5052107">{</span>&nbsp;<span class="comment" id="5052109">//&nbsp;struct&nbsp;terminator&nbsp;is&nbsp;zero&nbsp;delta&nbsp;fieldnum</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5052156">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5052164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052168">fieldnum</span>&nbsp;<span class="op" id="5052177">:=</span>&nbsp;<span class="ident" id="5052180"><a href="/encoding/gob/decode.go.html#5051856">state</a></span><span class="op" id="5052185">.</span><span class="ident" id="5052186">fieldnum</span>&nbsp;<span class="op" id="5052195">+</span>&nbsp;<span class="ident" id="5052197"><a href="/encoding/gob/decode.go.html#5051978">delta</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5052205">if</span>&nbsp;<span class="ident" id="5052208"><a href="/encoding/gob/decode.go.html#5052168">fieldnum</a></span>&nbsp;<span class="op" id="5052217">&gt;=</span>&nbsp;<span class="builtinfunc" id="5052220">len</span><span class="op" id="5052223">(</span><span class="ident" id="5052224"><a href="/encoding/gob/decode.go.html#5051834">engine</a></span><span class="op" id="5052230">.</span><span class="ident" id="5052231">instr</span><span class="op" id="5052236">)</span>&nbsp;<span class="op" id="5052238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052243"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5052249">(</span><span class="ident" id="5052250"><a href="/encoding/gob/decode.go.html#5038318">errRange</a></span><span class="op" id="5052258">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5052262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052266">instr</span>&nbsp;<span class="op" id="5052272">:=</span>&nbsp;<span class="op" id="5052275">&amp;</span><span class="ident" id="5052276"><a href="/encoding/gob/decode.go.html#5051834">engine</a></span><span class="op" id="5052282">.</span><span class="ident" id="5052283">instr</span><span class="op" id="5052288">[</span><span class="ident" id="5052289"><a href="/encoding/gob/decode.go.html#5052168">fieldnum</a></span><span class="op" id="5052297">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052301"><a href="/encoding/gob/decode.go.html#5052266">instr</a></span><span class="op" id="5052306">.</span><span class="ident" id="5052307">op</span><span class="op" id="5052309">(</span><span class="ident" id="5052310"><a href="/encoding/gob/decode.go.html#5052266">instr</a></span><span class="op" id="5052315">,</span>&nbsp;<span class="ident" id="5052317"><a href="/encoding/gob/decode.go.html#5051856">state</a></span><span class="op" id="5052322">,</span>&nbsp;<span class="ident" id="5052324"><a href="/encoding/gob/decode.go.html#5051710">noValue</a></span><span class="op" id="5052331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052335"><a href="/encoding/gob/decode.go.html#5051856">state</a></span><span class="op" id="5052340">.</span><span class="ident" id="5052341">fieldnum</span>&nbsp;<span class="op" id="5052350">=</span>&nbsp;<span class="ident" id="5052352"><a href="/encoding/gob/decode.go.html#5052168">fieldnum</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5052362">}</span><br>
<span class="lineno">495</span><span class="op" id="5052364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5052367">//&nbsp;ignoreSingle&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;top-level&nbsp;non-struct&nbsp;value&nbsp;with&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="5052442">//&nbsp;destination.&nbsp;It&#39;s&nbsp;used&nbsp;when&nbsp;calling&nbsp;Decode&nbsp;with&nbsp;a&nbsp;nil&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5052506">func</span>&nbsp;<span class="op" id="5052511">(</span><span class="ident" id="5052512">dec</span>&nbsp;<span class="op" id="5052516">*</span><span class="ident" id="5052517"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5052524">)</span>&nbsp;<span class="ident" id="5052526">ignoreSingle</span><span class="op" id="5052538">(</span><span class="ident" id="5052539">engine</span>&nbsp;<span class="op" id="5052546">*</span><span class="ident" id="5052547"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5052556">)</span>&nbsp;<span class="op" id="5052558">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052561">state</span>&nbsp;<span class="op" id="5052567">:=</span>&nbsp;<span class="ident" id="5052570"><a href="/encoding/gob/decode.go.html#5052512">dec</a></span><span class="op" id="5052573">.</span><span class="ident" id="5052574">newDecoderState</span><span class="op" id="5052589">(</span><span class="op" id="5052590">&amp;</span><span class="ident" id="5052591"><a href="/encoding/gob/decode.go.html#5052512">dec</a></span><span class="op" id="5052594">.</span><span class="ident" id="5052595">buf</span><span class="op" id="5052598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5052601">defer</span>&nbsp;<span class="ident" id="5052607"><a href="/encoding/gob/decode.go.html#5052512">dec</a></span><span class="op" id="5052610">.</span><span class="ident" id="5052611">freeDecoderState</span><span class="op" id="5052627">(</span><span class="ident" id="5052628"><a href="/encoding/gob/decode.go.html#5052561">state</a></span><span class="op" id="5052633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052636"><a href="/encoding/gob/decode.go.html#5052561">state</a></span><span class="op" id="5052641">.</span><span class="ident" id="5052642">fieldnum</span>&nbsp;<span class="op" id="5052651">=</span>&nbsp;<span class="ident" id="5052653"><a href="/encoding/gob/encode.go.html#5116368">singletonField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052669">delta</span>&nbsp;<span class="op" id="5052675">:=</span>&nbsp;<span class="builtintype" id="5052678">int</span><span class="op" id="5052681">(</span><span class="ident" id="5052682"><a href="/encoding/gob/decode.go.html#5052561">state</a></span><span class="op" id="5052687">.</span><span class="ident" id="5052688">decodeUint</span><span class="op" id="5052698">(</span><span class="op" id="5052699">)</span><span class="op" id="5052700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5052703">if</span>&nbsp;<span class="ident" id="5052706"><a href="/encoding/gob/decode.go.html#5052669">delta</a></span>&nbsp;<span class="op" id="5052712">!=</span>&nbsp;<span class="num" id="5052715">0</span>&nbsp;<span class="op" id="5052717">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052721"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5052727">(</span><span class="string" id="5052728">&#34;decode:&nbsp;corrupted&nbsp;data:&nbsp;non-zero&nbsp;delta&nbsp;for&nbsp;singleton&#34;</span><span class="op" id="5052782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5052785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052788">instr</span>&nbsp;<span class="op" id="5052794">:=</span>&nbsp;<span class="op" id="5052797">&amp;</span><span class="ident" id="5052798"><a href="/encoding/gob/decode.go.html#5052539">engine</a></span><span class="op" id="5052804">.</span><span class="ident" id="5052805">instr</span><span class="op" id="5052810">[</span><span class="ident" id="5052811"><a href="/encoding/gob/encode.go.html#5116368">singletonField</a></span><span class="op" id="5052825">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5052828"><a href="/encoding/gob/decode.go.html#5052788">instr</a></span><span class="op" id="5052833">.</span><span class="ident" id="5052834">op</span><span class="op" id="5052836">(</span><span class="ident" id="5052837"><a href="/encoding/gob/decode.go.html#5052788">instr</a></span><span class="op" id="5052842">,</span>&nbsp;<span class="ident" id="5052844"><a href="/encoding/gob/decode.go.html#5052561">state</a></span><span class="op" id="5052849">,</span>&nbsp;<span class="ident" id="5052851"><a href="/encoding/gob/decode.go.html#5051710">noValue</a></span><span class="op" id="5052858">)</span><br>
<span class="lineno"></span><span class="op" id="5052860">}</span><br>
<span class="lineno">510</span><br>
<span class="lineno"></span><span class="comment" id="5052863">//&nbsp;decodeArrayHelper&nbsp;does&nbsp;the&nbsp;work&nbsp;for&nbsp;decoding&nbsp;arrays&nbsp;and&nbsp;slices.</span><br>
<span class="lineno"></span><span class="keyword" id="5052930">func</span>&nbsp;<span class="op" id="5052935">(</span><span class="ident" id="5052936">dec</span>&nbsp;<span class="op" id="5052940">*</span><span class="ident" id="5052941"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5052948">)</span>&nbsp;<span class="ident" id="5052950">decodeArrayHelper</span><span class="op" id="5052967">(</span><span class="ident" id="5052968">state</span>&nbsp;<span class="op" id="5052974">*</span><span class="ident" id="5052975"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5052987">,</span>&nbsp;<span class="ident" id="5052989">value</span>&nbsp;<span class="ident" id="5052995"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5053002">.</span><span class="ident" id="5053003">Value</span><span class="op" id="5053008">,</span>&nbsp;<span class="ident" id="5053010">elemOp</span>&nbsp;<span class="ident" id="5053017"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5053022">,</span>&nbsp;<span class="ident" id="5053024">length</span>&nbsp;<span class="builtintype" id="5053031">int</span><span class="op" id="5053034">,</span>&nbsp;<span class="ident" id="5053036">ovfl</span>&nbsp;<span class="builtintype" id="5053041">error</span><span class="op" id="5053046">,</span>&nbsp;<span class="ident" id="5053048">helper</span>&nbsp;<span class="ident" id="5053055"><a href="/encoding/gob/decode.go.html#5038396">decHelper</a></span><span class="op" id="5053064">)</span>&nbsp;<span class="op" id="5053066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5053069">if</span>&nbsp;<span class="ident" id="5053072"><a href="/encoding/gob/decode.go.html#5053048">helper</a></span>&nbsp;<span class="op" id="5053079">!=</span>&nbsp;<span class="ident" id="5053082">nil</span>&nbsp;<span class="op" id="5053086">&amp;&amp;</span>&nbsp;<span class="ident" id="5053089"><a href="/encoding/gob/decode.go.html#5053048">helper</a></span><span class="op" id="5053095">(</span><span class="ident" id="5053096"><a href="/encoding/gob/decode.go.html#5052968">state</a></span><span class="op" id="5053101">,</span>&nbsp;<span class="ident" id="5053103"><a href="/encoding/gob/decode.go.html#5052989">value</a></span><span class="op" id="5053108">,</span>&nbsp;<span class="ident" id="5053110"><a href="/encoding/gob/decode.go.html#5053024">length</a></span><span class="op" id="5053116">,</span>&nbsp;<span class="ident" id="5053118"><a href="/encoding/gob/decode.go.html#5053036">ovfl</a></span><span class="op" id="5053122">)</span>&nbsp;<span class="op" id="5053124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5053128">return</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5053136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5053139">instr</span>&nbsp;<span class="op" id="5053145">:=</span>&nbsp;<span class="op" id="5053148">&amp;</span><span class="ident" id="5053149"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5053157">{</span><span class="ident" id="5053158"><a href="/encoding/gob/decode.go.html#5053010">elemOp</a></span><span class="op" id="5053164">,</span>&nbsp;<span class="num" id="5053166">0</span><span class="op" id="5053167">,</span>&nbsp;<span class="ident" id="5053169">nil</span><span class="op" id="5053172">,</span>&nbsp;<span class="ident" id="5053174"><a href="/encoding/gob/decode.go.html#5053036">ovfl</a></span><span class="op" id="5053178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5053181">isPtr</span>&nbsp;<span class="op" id="5053187">:=</span>&nbsp;<span class="ident" id="5053190"><a href="/encoding/gob/decode.go.html#5052989">value</a></span><span class="op" id="5053195">.</span><span class="ident" id="5053196">Type</span><span class="op" id="5053200">(</span><span class="op" id="5053201">)</span><span class="op" id="5053202">.</span><span class="ident" id="5053203">Elem</span><span class="op" id="5053207">(</span><span class="op" id="5053208">)</span><span class="op" id="5053209">.</span><span class="ident" id="5053210">Kind</span><span class="op" id="5053214">(</span><span class="op" id="5053215">)</span>&nbsp;<span class="op" id="5053217">==</span>&nbsp;<span class="ident" id="5053220"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5053227">.</span><span class="ident" id="5053228">Ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5053233">for</span>&nbsp;<span class="ident" id="5053237">i</span>&nbsp;<span class="op" id="5053239">:=</span>&nbsp;<span class="num" id="5053242">0</span><span class="op" id="5053243">;</span>&nbsp;<span class="ident" id="5053245"><a href="/encoding/gob/decode.go.html#5053237">i</a></span>&nbsp;<span class="op" id="5053247">&lt;</span>&nbsp;<span class="ident" id="5053249"><a href="/encoding/gob/decode.go.html#5053024">length</a></span><span class="op" id="5053255">;</span>&nbsp;<span class="ident" id="5053257"><a href="/encoding/gob/decode.go.html#5053237">i</a></span><span class="op" id="5053258">++</span>&nbsp;<span class="op" id="5053261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5053265">if</span>&nbsp;<span class="ident" id="5053268"><a href="/encoding/gob/decode.go.html#5052968">state</a></span><span class="op" id="5053273">.</span><span class="ident" id="5053274">b</span><span class="op" id="5053275">.</span><span class="ident" id="5053276">Len</span><span class="op" id="5053279">(</span><span class="op" id="5053280">)</span>&nbsp;<span class="op" id="5053282">==</span>&nbsp;<span class="num" id="5053285">0</span>&nbsp;<span class="op" id="5053287">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5053292"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5053298">(</span><span class="string" id="5053299">&#34;decoding&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5053365">,</span>&nbsp;<span class="ident" id="5053367"><a href="/encoding/gob/decode.go.html#5053024">length</a></span><span class="op" id="5053373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5053377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5053381">v</span>&nbsp;<span class="op" id="5053383">:=</span>&nbsp;<span class="ident" id="5053386"><a href="/encoding/gob/decode.go.html#5052989">value</a></span><span class="op" id="5053391">.</span><span class="ident" id="5053392">Index</span><span class="op" id="5053397">(</span><span class="ident" id="5053398"><a href="/encoding/gob/decode.go.html#5053237">i</a></span><span class="op" id="5053399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5053403">if</span>&nbsp;<span class="ident" id="5053406"><a href="/encoding/gob/decode.go.html#5053181">isPtr</a></span>&nbsp;<span class="op" id="5053412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5053417"><a href="/encoding/gob/decode.go.html#5053381">v</a></span>&nbsp;<span class="op" id="5053419">=</span>&nbsp;<span class="ident" id="5053421"><a href="/encoding/gob/decode.go.html#5043528">decAlloc</a></span><span class="op" id="5053429">(</span><span class="ident" id="5053430"><a href="/encoding/gob/decode.go.html#5053381">v</a></span><span class="op" id="5053431">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5053435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5053439"><a href="/encoding/gob/decode.go.html#5053010">elemOp</a></span><span class="op" id="5053445">(</span><span class="ident" id="5053446"><a href="/encoding/gob/decode.go.html#5053139">instr</a></span><span class="op" id="5053451">,</span>&nbsp;<span class="ident" id="5053453"><a href="/encoding/gob/decode.go.html#5052968">state</a></span><span class="op" id="5053458">,</span>&nbsp;<span class="ident" id="5053460"><a href="/encoding/gob/decode.go.html#5053381">v</a></span><span class="op" id="5053461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5053464">}</span><br>
<span class="lineno"></span><span class="op" id="5053466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span><span class="comment" id="5053469">//&nbsp;decodeArray&nbsp;decodes&nbsp;an&nbsp;array&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5053525">//&nbsp;The&nbsp;length&nbsp;is&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;preceding&nbsp;the&nbsp;elements.&nbsp;&nbsp;Even&nbsp;though&nbsp;the&nbsp;length&nbsp;is&nbsp;redundant</span><br>
<span class="lineno"></span><span class="comment" id="5053623">//&nbsp;(it&#39;s&nbsp;part&nbsp;of&nbsp;the&nbsp;type),&nbsp;it&#39;s&nbsp;a&nbsp;useful&nbsp;check&nbsp;and&nbsp;is&nbsp;included&nbsp;in&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="5053704">func</span>&nbsp;<span class="op" id="5053709">(</span><span class="ident" id="5053710">dec</span>&nbsp;<span class="op" id="5053714">*</span><span class="ident" id="5053715"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5053722">)</span>&nbsp;<span class="ident" id="5053724">decodeArray</span><span class="op" id="5053735">(</span><span class="ident" id="5053736">atyp</span>&nbsp;<span class="ident" id="5053741"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5053748">.</span><span class="ident" id="5053749">Type</span><span class="op" id="5053753">,</span>&nbsp;<span class="ident" id="5053755">state</span>&nbsp;<span class="op" id="5053761">*</span><span class="ident" id="5053762"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5053774">,</span>&nbsp;<span class="ident" id="5053776">value</span>&nbsp;<span class="ident" id="5053782"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5053789">.</span><span class="ident" id="5053790">Value</span><span class="op" id="5053795">,</span>&nbsp;<span class="ident" id="5053797">elemOp</span>&nbsp;<span class="ident" id="5053804"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5053809">,</span>&nbsp;<span class="ident" id="5053811">length</span>&nbsp;<span class="builtintype" id="5053818">int</span><span class="op" id="5053821">,</span>&nbsp;<span class="ident" id="5053823">ovfl</span>&nbsp;<span class="builtintype" id="5053828">error</span><span class="op" id="5053833">,</span>&nbsp;<span class="ident" id="5053835">helper</span>&nbsp;<span class="ident" id="5053842"><a href="/encoding/gob/decode.go.html#5038396">decHelper</a></span><span class="op" id="5053851">)</span>&nbsp;<span class="op" id="5053853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5053856">if</span>&nbsp;<span class="ident" id="5053859">n</span>&nbsp;<span class="op" id="5053861">:=</span>&nbsp;<span class="ident" id="5053864"><a href="/encoding/gob/decode.go.html#5053755">state</a></span><span class="op" id="5053869">.</span><span class="ident" id="5053870">decodeUint</span><span class="op" id="5053880">(</span><span class="op" id="5053881">)</span><span class="op" id="5053882">;</span>&nbsp;<span class="ident" id="5053884"><a href="/encoding/gob/decode.go.html#5053859">n</a></span>&nbsp;<span class="op" id="5053886">!=</span>&nbsp;<span class="ident" id="5053889">uint64</span><span class="op" id="5053895">(</span><span class="ident" id="5053896"><a href="/encoding/gob/decode.go.html#5053811">length</a></span><span class="op" id="5053902">)</span>&nbsp;<span class="op" id="5053904">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5053908"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5053914">(</span><span class="string" id="5053915">&#34;length&nbsp;mismatch&nbsp;in&nbsp;decodeArray&#34;</span><span class="op" id="5053947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5053950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5053953"><a href="/encoding/gob/decode.go.html#5053710">dec</a></span><span class="op" id="5053956">.</span><span class="ident" id="5053957">decodeArrayHelper</span><span class="op" id="5053974">(</span><span class="ident" id="5053975"><a href="/encoding/gob/decode.go.html#5053755">state</a></span><span class="op" id="5053980">,</span>&nbsp;<span class="ident" id="5053982"><a href="/encoding/gob/decode.go.html#5053776">value</a></span><span class="op" id="5053987">,</span>&nbsp;<span class="ident" id="5053989"><a href="/encoding/gob/decode.go.html#5053797">elemOp</a></span><span class="op" id="5053995">,</span>&nbsp;<span class="ident" id="5053997"><a href="/encoding/gob/decode.go.html#5053811">length</a></span><span class="op" id="5054003">,</span>&nbsp;<span class="ident" id="5054005"><a href="/encoding/gob/decode.go.html#5053823">ovfl</a></span><span class="op" id="5054009">,</span>&nbsp;<span class="ident" id="5054011"><a href="/encoding/gob/decode.go.html#5053835">helper</a></span><span class="op" id="5054017">)</span><br>
<span class="lineno"></span><span class="op" id="5054019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">540</span><span class="comment" id="5054022">//&nbsp;decodeIntoValue&nbsp;is&nbsp;a&nbsp;helper&nbsp;for&nbsp;map&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="5054071">func</span>&nbsp;<span class="ident" id="5054076">decodeIntoValue</span><span class="op" id="5054091">(</span><span class="ident" id="5054092">state</span>&nbsp;<span class="op" id="5054098">*</span><span class="ident" id="5054099"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5054111">,</span>&nbsp;<span class="ident" id="5054113">op</span>&nbsp;<span class="ident" id="5054116"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5054121">,</span>&nbsp;<span class="ident" id="5054123">isPtr</span>&nbsp;<span class="builtintype" id="5054129">bool</span><span class="op" id="5054133">,</span>&nbsp;<span class="ident" id="5054135">value</span>&nbsp;<span class="ident" id="5054141"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5054148">.</span><span class="ident" id="5054149">Value</span><span class="op" id="5054154">,</span>&nbsp;<span class="ident" id="5054156">ovfl</span>&nbsp;<span class="builtintype" id="5054161">error</span><span class="op" id="5054166">)</span>&nbsp;<span class="ident" id="5054168"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5054175">.</span><span class="ident" id="5054176">Value</span>&nbsp;<span class="op" id="5054182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5054185">instr</span>&nbsp;<span class="op" id="5054191">:=</span>&nbsp;<span class="op" id="5054194">&amp;</span><span class="ident" id="5054195"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5054203">{</span><span class="ident" id="5054204"><a href="/encoding/gob/decode.go.html#5054113">op</a></span><span class="op" id="5054206">,</span>&nbsp;<span class="num" id="5054208">0</span><span class="op" id="5054209">,</span>&nbsp;<span class="ident" id="5054211">nil</span><span class="op" id="5054214">,</span>&nbsp;<span class="ident" id="5054216"><a href="/encoding/gob/decode.go.html#5054156">ovfl</a></span><span class="op" id="5054220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5054223">v</span>&nbsp;<span class="op" id="5054225">:=</span>&nbsp;<span class="ident" id="5054228"><a href="/encoding/gob/decode.go.html#5054135">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5054235">if</span>&nbsp;<span class="ident" id="5054238"><a href="/encoding/gob/decode.go.html#5054123">isPtr</a></span>&nbsp;<span class="op" id="5054244">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5054248"><a href="/encoding/gob/decode.go.html#5054223">v</a></span>&nbsp;<span class="op" id="5054250">=</span>&nbsp;<span class="ident" id="5054252"><a href="/encoding/gob/decode.go.html#5043528">decAlloc</a></span><span class="op" id="5054260">(</span><span class="ident" id="5054261"><a href="/encoding/gob/decode.go.html#5054135">value</a></span><span class="op" id="5054266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5054269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5054272"><a href="/encoding/gob/decode.go.html#5054113">op</a></span><span class="op" id="5054274">(</span><span class="ident" id="5054275"><a href="/encoding/gob/decode.go.html#5054185">instr</a></span><span class="op" id="5054280">,</span>&nbsp;<span class="ident" id="5054282"><a href="/encoding/gob/decode.go.html#5054092">state</a></span><span class="op" id="5054287">,</span>&nbsp;<span class="ident" id="5054289"><a href="/encoding/gob/decode.go.html#5054223">v</a></span><span class="op" id="5054290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5054293">return</span>&nbsp;<span class="ident" id="5054300"><a href="/encoding/gob/decode.go.html#5054135">value</a></span><br>
<span class="lineno"></span><span class="op" id="5054306">}</span><br>
<span class="lineno">550</span><br>
<span class="lineno"></span><span class="comment" id="5054309">//&nbsp;decodeMap&nbsp;decodes&nbsp;a&nbsp;map&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5054360">//&nbsp;Maps&nbsp;are&nbsp;encoded&nbsp;as&nbsp;a&nbsp;length&nbsp;followed&nbsp;by&nbsp;key:value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="comment" id="5054421">//&nbsp;Because&nbsp;the&nbsp;internals&nbsp;of&nbsp;maps&nbsp;are&nbsp;not&nbsp;visible&nbsp;to&nbsp;us,&nbsp;we&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="5054485">//&nbsp;use&nbsp;reflection&nbsp;rather&nbsp;than&nbsp;pointer&nbsp;magic.</span><br>
<span class="lineno">555</span><span class="keyword" id="5054530">func</span>&nbsp;<span class="op" id="5054535">(</span><span class="ident" id="5054536">dec</span>&nbsp;<span class="op" id="5054540">*</span><span class="ident" id="5054541"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5054548">)</span>&nbsp;<span class="ident" id="5054550">decodeMap</span><span class="op" id="5054559">(</span><span class="ident" id="5054560">mtyp</span>&nbsp;<span class="ident" id="5054565"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5054572">.</span><span class="ident" id="5054573">Type</span><span class="op" id="5054577">,</span>&nbsp;<span class="ident" id="5054579">state</span>&nbsp;<span class="op" id="5054585">*</span><span class="ident" id="5054586"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5054598">,</span>&nbsp;<span class="ident" id="5054600">value</span>&nbsp;<span class="ident" id="5054606"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5054613">.</span><span class="ident" id="5054614">Value</span><span class="op" id="5054619">,</span>&nbsp;<span class="ident" id="5054621">keyOp</span><span class="op" id="5054626">,</span>&nbsp;<span class="ident" id="5054628">elemOp</span>&nbsp;<span class="ident" id="5054635"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5054640">,</span>&nbsp;<span class="ident" id="5054642">ovfl</span>&nbsp;<span class="builtintype" id="5054647">error</span><span class="op" id="5054652">)</span>&nbsp;<span class="op" id="5054654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5054657">if</span>&nbsp;<span class="ident" id="5054660"><a href="/encoding/gob/decode.go.html#5054600">value</a></span><span class="op" id="5054665">.</span><span class="ident" id="5054666">IsNil</span><span class="op" id="5054671">(</span><span class="op" id="5054672">)</span>&nbsp;<span class="op" id="5054674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5054678">//&nbsp;Allocate&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5054697"><a href="/encoding/gob/decode.go.html#5054600">value</a></span><span class="op" id="5054702">.</span><span class="ident" id="5054703">Set</span><span class="op" id="5054706">(</span><span class="ident" id="5054707"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5054714">.</span><span class="ident" id="5054715">MakeMap</span><span class="op" id="5054722">(</span><span class="ident" id="5054723"><a href="/encoding/gob/decode.go.html#5054560">mtyp</a></span><span class="op" id="5054727">)</span><span class="op" id="5054728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5054731">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5054734">n</span>&nbsp;<span class="op" id="5054736">:=</span>&nbsp;<span class="builtintype" id="5054739">int</span><span class="op" id="5054742">(</span><span class="ident" id="5054743"><a href="/encoding/gob/decode.go.html#5054579">state</a></span><span class="op" id="5054748">.</span><span class="ident" id="5054749">decodeUint</span><span class="op" id="5054759">(</span><span class="op" id="5054760">)</span><span class="op" id="5054761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5054764">keyIsPtr</span>&nbsp;<span class="op" id="5054773">:=</span>&nbsp;<span class="ident" id="5054776"><a href="/encoding/gob/decode.go.html#5054560">mtyp</a></span><span class="op" id="5054780">.</span><span class="ident" id="5054781">Key</span><span class="op" id="5054784">(</span><span class="op" id="5054785">)</span><span class="op" id="5054786">.</span><span class="ident" id="5054787">Kind</span><span class="op" id="5054791">(</span><span class="op" id="5054792">)</span>&nbsp;<span class="op" id="5054794">==</span>&nbsp;<span class="ident" id="5054797"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5054804">.</span><span class="ident" id="5054805">Ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5054810">elemIsPtr</span>&nbsp;<span class="op" id="5054820">:=</span>&nbsp;<span class="ident" id="5054823"><a href="/encoding/gob/decode.go.html#5054560">mtyp</a></span><span class="op" id="5054827">.</span><span class="ident" id="5054828">Elem</span><span class="op" id="5054832">(</span><span class="op" id="5054833">)</span><span class="op" id="5054834">.</span><span class="ident" id="5054835">Kind</span><span class="op" id="5054839">(</span><span class="op" id="5054840">)</span>&nbsp;<span class="op" id="5054842">==</span>&nbsp;<span class="ident" id="5054845"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5054852">.</span><span class="ident" id="5054853">Ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5054858">for</span>&nbsp;<span class="ident" id="5054862">i</span>&nbsp;<span class="op" id="5054864">:=</span>&nbsp;<span class="num" id="5054867">0</span><span class="op" id="5054868">;</span>&nbsp;<span class="ident" id="5054870"><a href="/encoding/gob/decode.go.html#5054862">i</a></span>&nbsp;<span class="op" id="5054872">&lt;</span>&nbsp;<span class="ident" id="5054874"><a href="/encoding/gob/decode.go.html#5054734">n</a></span><span class="op" id="5054875">;</span>&nbsp;<span class="ident" id="5054877"><a href="/encoding/gob/decode.go.html#5054862">i</a></span><span class="op" id="5054878">++</span>&nbsp;<span class="op" id="5054881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5054885">key</span>&nbsp;<span class="op" id="5054889">:=</span>&nbsp;<span class="ident" id="5054892"><a href="/encoding/gob/decode.go.html#5054076">decodeIntoValue</a></span><span class="op" id="5054907">(</span><span class="ident" id="5054908"><a href="/encoding/gob/decode.go.html#5054579">state</a></span><span class="op" id="5054913">,</span>&nbsp;<span class="ident" id="5054915"><a href="/encoding/gob/decode.go.html#5054621">keyOp</a></span><span class="op" id="5054920">,</span>&nbsp;<span class="ident" id="5054922"><a href="/encoding/gob/decode.go.html#5054764">keyIsPtr</a></span><span class="op" id="5054930">,</span>&nbsp;<span class="ident" id="5054932"><a href="/encoding/gob/decode.go.html#5076427">allocValue</a></span><span class="op" id="5054942">(</span><span class="ident" id="5054943"><a href="/encoding/gob/decode.go.html#5054560">mtyp</a></span><span class="op" id="5054947">.</span><span class="ident" id="5054948">Key</span><span class="op" id="5054951">(</span><span class="op" id="5054952">)</span><span class="op" id="5054953">)</span><span class="op" id="5054954">,</span>&nbsp;<span class="ident" id="5054956"><a href="/encoding/gob/decode.go.html#5054642">ovfl</a></span><span class="op" id="5054960">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5054964">elem</span>&nbsp;<span class="op" id="5054969">:=</span>&nbsp;<span class="ident" id="5054972"><a href="/encoding/gob/decode.go.html#5054076">decodeIntoValue</a></span><span class="op" id="5054987">(</span><span class="ident" id="5054988"><a href="/encoding/gob/decode.go.html#5054579">state</a></span><span class="op" id="5054993">,</span>&nbsp;<span class="ident" id="5054995"><a href="/encoding/gob/decode.go.html#5054628">elemOp</a></span><span class="op" id="5055001">,</span>&nbsp;<span class="ident" id="5055003"><a href="/encoding/gob/decode.go.html#5054810">elemIsPtr</a></span><span class="op" id="5055012">,</span>&nbsp;<span class="ident" id="5055014"><a href="/encoding/gob/decode.go.html#5076427">allocValue</a></span><span class="op" id="5055024">(</span><span class="ident" id="5055025"><a href="/encoding/gob/decode.go.html#5054560">mtyp</a></span><span class="op" id="5055029">.</span><span class="ident" id="5055030">Elem</span><span class="op" id="5055034">(</span><span class="op" id="5055035">)</span><span class="op" id="5055036">)</span><span class="op" id="5055037">,</span>&nbsp;<span class="ident" id="5055039"><a href="/encoding/gob/decode.go.html#5054642">ovfl</a></span><span class="op" id="5055043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5055047"><a href="/encoding/gob/decode.go.html#5054600">value</a></span><span class="op" id="5055052">.</span><span class="ident" id="5055053">SetMapIndex</span><span class="op" id="5055064">(</span><span class="ident" id="5055065"><a href="/encoding/gob/decode.go.html#5054885">key</a></span><span class="op" id="5055068">,</span>&nbsp;<span class="ident" id="5055070"><a href="/encoding/gob/decode.go.html#5054964">elem</a></span><span class="op" id="5055074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5055077">}</span><br>
<span class="lineno"></span><span class="op" id="5055079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">570</span><span class="comment" id="5055082">//&nbsp;ignoreArrayHelper&nbsp;does&nbsp;the&nbsp;work&nbsp;for&nbsp;discarding&nbsp;arrays&nbsp;and&nbsp;slices.</span><br>
<span class="lineno"></span><span class="keyword" id="5055151">func</span>&nbsp;<span class="op" id="5055156">(</span><span class="ident" id="5055157">dec</span>&nbsp;<span class="op" id="5055161">*</span><span class="ident" id="5055162"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5055169">)</span>&nbsp;<span class="ident" id="5055171">ignoreArrayHelper</span><span class="op" id="5055188">(</span><span class="ident" id="5055189">state</span>&nbsp;<span class="op" id="5055195">*</span><span class="ident" id="5055196"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5055208">,</span>&nbsp;<span class="ident" id="5055210">elemOp</span>&nbsp;<span class="ident" id="5055217"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5055222">,</span>&nbsp;<span class="ident" id="5055224">length</span>&nbsp;<span class="builtintype" id="5055231">int</span><span class="op" id="5055234">)</span>&nbsp;<span class="op" id="5055236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5055239">instr</span>&nbsp;<span class="op" id="5055245">:=</span>&nbsp;<span class="op" id="5055248">&amp;</span><span class="ident" id="5055249"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5055257">{</span><span class="ident" id="5055258"><a href="/encoding/gob/decode.go.html#5055210">elemOp</a></span><span class="op" id="5055264">,</span>&nbsp;<span class="num" id="5055266">0</span><span class="op" id="5055267">,</span>&nbsp;<span class="ident" id="5055269">nil</span><span class="op" id="5055272">,</span>&nbsp;<span class="ident" id="5055274"><a href="/encoding/gob/decode.go.html#5038136">errors</a></span><span class="op" id="5055280">.</span><span class="ident" id="5055281">New</span><span class="op" id="5055284">(</span><span class="string" id="5055285">&#34;no&nbsp;error&#34;</span><span class="op" id="5055295">)</span><span class="op" id="5055296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5055299">for</span>&nbsp;<span class="ident" id="5055303">i</span>&nbsp;<span class="op" id="5055305">:=</span>&nbsp;<span class="num" id="5055308">0</span><span class="op" id="5055309">;</span>&nbsp;<span class="ident" id="5055311"><a href="/encoding/gob/decode.go.html#5055303">i</a></span>&nbsp;<span class="op" id="5055313">&lt;</span>&nbsp;<span class="ident" id="5055315"><a href="/encoding/gob/decode.go.html#5055224">length</a></span><span class="op" id="5055321">;</span>&nbsp;<span class="ident" id="5055323"><a href="/encoding/gob/decode.go.html#5055303">i</a></span><span class="op" id="5055324">++</span>&nbsp;<span class="op" id="5055327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5055331"><a href="/encoding/gob/decode.go.html#5055210">elemOp</a></span><span class="op" id="5055337">(</span><span class="ident" id="5055338"><a href="/encoding/gob/decode.go.html#5055239">instr</a></span><span class="op" id="5055343">,</span>&nbsp;<span class="ident" id="5055345"><a href="/encoding/gob/decode.go.html#5055189">state</a></span><span class="op" id="5055350">,</span>&nbsp;<span class="ident" id="5055352"><a href="/encoding/gob/decode.go.html#5051710">noValue</a></span><span class="op" id="5055359">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5055362">}</span><br>
<span class="lineno"></span><span class="op" id="5055364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5055367">//&nbsp;ignoreArray&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;an&nbsp;array&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5055440">func</span>&nbsp;<span class="op" id="5055445">(</span><span class="ident" id="5055446">dec</span>&nbsp;<span class="op" id="5055450">*</span><span class="ident" id="5055451"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5055458">)</span>&nbsp;<span class="ident" id="5055460">ignoreArray</span><span class="op" id="5055471">(</span><span class="ident" id="5055472">state</span>&nbsp;<span class="op" id="5055478">*</span><span class="ident" id="5055479"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5055491">,</span>&nbsp;<span class="ident" id="5055493">elemOp</span>&nbsp;<span class="ident" id="5055500"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5055505">,</span>&nbsp;<span class="ident" id="5055507">length</span>&nbsp;<span class="builtintype" id="5055514">int</span><span class="op" id="5055517">)</span>&nbsp;<span class="op" id="5055519">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5055522">if</span>&nbsp;<span class="ident" id="5055525">n</span>&nbsp;<span class="op" id="5055527">:=</span>&nbsp;<span class="ident" id="5055530"><a href="/encoding/gob/decode.go.html#5055472">state</a></span><span class="op" id="5055535">.</span><span class="ident" id="5055536">decodeUint</span><span class="op" id="5055546">(</span><span class="op" id="5055547">)</span><span class="op" id="5055548">;</span>&nbsp;<span class="ident" id="5055550"><a href="/encoding/gob/decode.go.html#5055525">n</a></span>&nbsp;<span class="op" id="5055552">!=</span>&nbsp;<span class="ident" id="5055555">uint64</span><span class="op" id="5055561">(</span><span class="ident" id="5055562"><a href="/encoding/gob/decode.go.html#5055507">length</a></span><span class="op" id="5055568">)</span>&nbsp;<span class="op" id="5055570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5055574"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5055580">(</span><span class="string" id="5055581">&#34;length&nbsp;mismatch&nbsp;in&nbsp;ignoreArray&#34;</span><span class="op" id="5055613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5055616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5055619"><a href="/encoding/gob/decode.go.html#5055446">dec</a></span><span class="op" id="5055622">.</span><span class="ident" id="5055623">ignoreArrayHelper</span><span class="op" id="5055640">(</span><span class="ident" id="5055641"><a href="/encoding/gob/decode.go.html#5055472">state</a></span><span class="op" id="5055646">,</span>&nbsp;<span class="ident" id="5055648"><a href="/encoding/gob/decode.go.html#5055493">elemOp</a></span><span class="op" id="5055654">,</span>&nbsp;<span class="ident" id="5055656"><a href="/encoding/gob/decode.go.html#5055507">length</a></span><span class="op" id="5055662">)</span><br>
<span class="lineno"></span><span class="op" id="5055664">}</span><br>
<span class="lineno">585</span><br>
<span class="lineno"></span><span class="comment" id="5055667">//&nbsp;ignoreMap&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;map&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5055735">func</span>&nbsp;<span class="op" id="5055740">(</span><span class="ident" id="5055741">dec</span>&nbsp;<span class="op" id="5055745">*</span><span class="ident" id="5055746"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5055753">)</span>&nbsp;<span class="ident" id="5055755">ignoreMap</span><span class="op" id="5055764">(</span><span class="ident" id="5055765">state</span>&nbsp;<span class="op" id="5055771">*</span><span class="ident" id="5055772"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5055784">,</span>&nbsp;<span class="ident" id="5055786">keyOp</span><span class="op" id="5055791">,</span>&nbsp;<span class="ident" id="5055793">elemOp</span>&nbsp;<span class="ident" id="5055800"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5055805">)</span>&nbsp;<span class="op" id="5055807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5055810">n</span>&nbsp;<span class="op" id="5055812">:=</span>&nbsp;<span class="builtintype" id="5055815">int</span><span class="op" id="5055818">(</span><span class="ident" id="5055819"><a href="/encoding/gob/decode.go.html#5055765">state</a></span><span class="op" id="5055824">.</span><span class="ident" id="5055825">decodeUint</span><span class="op" id="5055835">(</span><span class="op" id="5055836">)</span><span class="op" id="5055837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5055840">keyInstr</span>&nbsp;<span class="op" id="5055849">:=</span>&nbsp;<span class="op" id="5055852">&amp;</span><span class="ident" id="5055853"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5055861">{</span><span class="ident" id="5055862"><a href="/encoding/gob/decode.go.html#5055786">keyOp</a></span><span class="op" id="5055867">,</span>&nbsp;<span class="num" id="5055869">0</span><span class="op" id="5055870">,</span>&nbsp;<span class="ident" id="5055872">nil</span><span class="op" id="5055875">,</span>&nbsp;<span class="ident" id="5055877"><a href="/encoding/gob/decode.go.html#5038136">errors</a></span><span class="op" id="5055883">.</span><span class="ident" id="5055884">New</span><span class="op" id="5055887">(</span><span class="string" id="5055888">&#34;no&nbsp;error&#34;</span><span class="op" id="5055898">)</span><span class="op" id="5055899">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5055902">elemInstr</span>&nbsp;<span class="op" id="5055912">:=</span>&nbsp;<span class="op" id="5055915">&amp;</span><span class="ident" id="5055916"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5055924">{</span><span class="ident" id="5055925"><a href="/encoding/gob/decode.go.html#5055793">elemOp</a></span><span class="op" id="5055931">,</span>&nbsp;<span class="num" id="5055933">0</span><span class="op" id="5055934">,</span>&nbsp;<span class="ident" id="5055936">nil</span><span class="op" id="5055939">,</span>&nbsp;<span class="ident" id="5055941"><a href="/encoding/gob/decode.go.html#5038136">errors</a></span><span class="op" id="5055947">.</span><span class="ident" id="5055948">New</span><span class="op" id="5055951">(</span><span class="string" id="5055952">&#34;no&nbsp;error&#34;</span><span class="op" id="5055962">)</span><span class="op" id="5055963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5055966">for</span>&nbsp;<span class="ident" id="5055970">i</span>&nbsp;<span class="op" id="5055972">:=</span>&nbsp;<span class="num" id="5055975">0</span><span class="op" id="5055976">;</span>&nbsp;<span class="ident" id="5055978"><a href="/encoding/gob/decode.go.html#5055970">i</a></span>&nbsp;<span class="op" id="5055980">&lt;</span>&nbsp;<span class="ident" id="5055982"><a href="/encoding/gob/decode.go.html#5055810">n</a></span><span class="op" id="5055983">;</span>&nbsp;<span class="ident" id="5055985"><a href="/encoding/gob/decode.go.html#5055970">i</a></span><span class="op" id="5055986">++</span>&nbsp;<span class="op" id="5055989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5055993"><a href="/encoding/gob/decode.go.html#5055786">keyOp</a></span><span class="op" id="5055998">(</span><span class="ident" id="5055999"><a href="/encoding/gob/decode.go.html#5055840">keyInstr</a></span><span class="op" id="5056007">,</span>&nbsp;<span class="ident" id="5056009"><a href="/encoding/gob/decode.go.html#5055765">state</a></span><span class="op" id="5056014">,</span>&nbsp;<span class="ident" id="5056016"><a href="/encoding/gob/decode.go.html#5051710">noValue</a></span><span class="op" id="5056023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5056027"><a href="/encoding/gob/decode.go.html#5055793">elemOp</a></span><span class="op" id="5056033">(</span><span class="ident" id="5056034"><a href="/encoding/gob/decode.go.html#5055902">elemInstr</a></span><span class="op" id="5056043">,</span>&nbsp;<span class="ident" id="5056045"><a href="/encoding/gob/decode.go.html#5055765">state</a></span><span class="op" id="5056050">,</span>&nbsp;<span class="ident" id="5056052"><a href="/encoding/gob/decode.go.html#5051710">noValue</a></span><span class="op" id="5056059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5056062">}</span><br>
<span class="lineno">595</span><span class="op" id="5056064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5056067">//&nbsp;decodeSlice&nbsp;decodes&nbsp;a&nbsp;slice&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5056122">//&nbsp;Slices&nbsp;are&nbsp;encoded&nbsp;as&nbsp;an&nbsp;unsigned&nbsp;length&nbsp;followed&nbsp;by&nbsp;the&nbsp;elements.</span><br>
<span class="lineno"></span><span class="keyword" id="5056192">func</span>&nbsp;<span class="op" id="5056197">(</span><span class="ident" id="5056198">dec</span>&nbsp;<span class="op" id="5056202">*</span><span class="ident" id="5056203"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5056210">)</span>&nbsp;<span class="ident" id="5056212">decodeSlice</span><span class="op" id="5056223">(</span><span class="ident" id="5056224">state</span>&nbsp;<span class="op" id="5056230">*</span><span class="ident" id="5056231"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5056243">,</span>&nbsp;<span class="ident" id="5056245">value</span>&nbsp;<span class="ident" id="5056251"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5056258">.</span><span class="ident" id="5056259">Value</span><span class="op" id="5056264">,</span>&nbsp;<span class="ident" id="5056266">elemOp</span>&nbsp;<span class="ident" id="5056273"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5056278">,</span>&nbsp;<span class="ident" id="5056280">ovfl</span>&nbsp;<span class="builtintype" id="5056285">error</span><span class="op" id="5056290">,</span>&nbsp;<span class="ident" id="5056292">helper</span>&nbsp;<span class="ident" id="5056299"><a href="/encoding/gob/decode.go.html#5038396">decHelper</a></span><span class="op" id="5056308">)</span>&nbsp;<span class="op" id="5056310">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5056313">u</span>&nbsp;<span class="op" id="5056315">:=</span>&nbsp;<span class="ident" id="5056318"><a href="/encoding/gob/decode.go.html#5056224">state</a></span><span class="op" id="5056323">.</span><span class="ident" id="5056324">decodeUint</span><span class="op" id="5056334">(</span><span class="op" id="5056335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5056338">typ</span>&nbsp;<span class="op" id="5056342">:=</span>&nbsp;<span class="ident" id="5056345"><a href="/encoding/gob/decode.go.html#5056245">value</a></span><span class="op" id="5056350">.</span><span class="ident" id="5056351">Type</span><span class="op" id="5056355">(</span><span class="op" id="5056356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5056359">size</span>&nbsp;<span class="op" id="5056364">:=</span>&nbsp;<span class="ident" id="5056367">uint64</span><span class="op" id="5056373">(</span><span class="ident" id="5056374"><a href="/encoding/gob/decode.go.html#5056338">typ</a></span><span class="op" id="5056377">.</span><span class="ident" id="5056378">Elem</span><span class="op" id="5056382">(</span><span class="op" id="5056383">)</span><span class="op" id="5056384">.</span><span class="ident" id="5056385">Size</span><span class="op" id="5056389">(</span><span class="op" id="5056390">)</span><span class="op" id="5056391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5056394">nBytes</span>&nbsp;<span class="op" id="5056401">:=</span>&nbsp;<span class="ident" id="5056404"><a href="/encoding/gob/decode.go.html#5056313">u</a></span>&nbsp;<span class="op" id="5056406">*</span>&nbsp;<span class="ident" id="5056408"><a href="/encoding/gob/decode.go.html#5056359">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5056414">n</span>&nbsp;<span class="op" id="5056416">:=</span>&nbsp;<span class="builtintype" id="5056419">int</span><span class="op" id="5056422">(</span><span class="ident" id="5056423"><a href="/encoding/gob/decode.go.html#5056313">u</a></span><span class="op" id="5056424">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5056427">//&nbsp;Take&nbsp;care&nbsp;with&nbsp;overflow&nbsp;in&nbsp;this&nbsp;calculation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5056476">if</span>&nbsp;<span class="ident" id="5056479"><a href="/encoding/gob/decode.go.html#5056414">n</a></span>&nbsp;<span class="op" id="5056481">&lt;</span>&nbsp;<span class="num" id="5056483">0</span>&nbsp;<span class="op" id="5056485">||</span>&nbsp;<span class="ident" id="5056488">uint64</span><span class="op" id="5056494">(</span><span class="ident" id="5056495"><a href="/encoding/gob/decode.go.html#5056414">n</a></span><span class="op" id="5056496">)</span>&nbsp;<span class="op" id="5056498">!=</span>&nbsp;<span class="ident" id="5056501"><a href="/encoding/gob/decode.go.html#5056313">u</a></span>&nbsp;<span class="op" id="5056503">||</span>&nbsp;<span class="ident" id="5056506"><a href="/encoding/gob/decode.go.html#5056394">nBytes</a></span>&nbsp;<span class="op" id="5056513">&gt;</span>&nbsp;<span class="ident" id="5056515"><a href="/encoding/gob/decoder.go.html#5076910">tooBig</a></span>&nbsp;<span class="op" id="5056522">||</span>&nbsp;<span class="op" id="5056525">(</span><span class="ident" id="5056526"><a href="/encoding/gob/decode.go.html#5056359">size</a></span>&nbsp;<span class="op" id="5056531">&gt;</span>&nbsp;<span class="num" id="5056533">0</span>&nbsp;<span class="op" id="5056535">&amp;&amp;</span>&nbsp;<span class="ident" id="5056538"><a href="/encoding/gob/decode.go.html#5056394">nBytes</a></span><span class="op" id="5056544">/</span><span class="ident" id="5056545"><a href="/encoding/gob/decode.go.html#5056359">size</a></span>&nbsp;<span class="op" id="5056550">!=</span>&nbsp;<span class="ident" id="5056553"><a href="/encoding/gob/decode.go.html#5056313">u</a></span><span class="op" id="5056554">)</span>&nbsp;<span class="op" id="5056556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5056560">//&nbsp;We&nbsp;don&#39;t&nbsp;check&nbsp;n&nbsp;against&nbsp;buffer&nbsp;length&nbsp;here&nbsp;because&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;slice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5056633">//&nbsp;of&nbsp;interfaces,&nbsp;there&nbsp;will&nbsp;be&nbsp;buffer&nbsp;reloads.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5056683"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5056689">(</span><span class="string" id="5056690">&#34;%s&nbsp;slice&nbsp;too&nbsp;big:&nbsp;%d&nbsp;elements&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="5056733">,</span>&nbsp;<span class="ident" id="5056735"><a href="/encoding/gob/decode.go.html#5056338">typ</a></span><span class="op" id="5056738">.</span><span class="ident" id="5056739">Elem</span><span class="op" id="5056743">(</span><span class="op" id="5056744">)</span><span class="op" id="5056745">,</span>&nbsp;<span class="ident" id="5056747"><a href="/encoding/gob/decode.go.html#5056313">u</a></span><span class="op" id="5056748">,</span>&nbsp;<span class="ident" id="5056750"><a href="/encoding/gob/decode.go.html#5056359">size</a></span><span class="op" id="5056754">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5056757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5056760">if</span>&nbsp;<span class="ident" id="5056763"><a href="/encoding/gob/decode.go.html#5056245">value</a></span><span class="op" id="5056768">.</span><span class="ident" id="5056769">Cap</span><span class="op" id="5056772">(</span><span class="op" id="5056773">)</span>&nbsp;<span class="op" id="5056775">&lt;</span>&nbsp;<span class="ident" id="5056777"><a href="/encoding/gob/decode.go.html#5056414">n</a></span>&nbsp;<span class="op" id="5056779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5056783"><a href="/encoding/gob/decode.go.html#5056245">value</a></span><span class="op" id="5056788">.</span><span class="ident" id="5056789">Set</span><span class="op" id="5056792">(</span><span class="ident" id="5056793"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5056800">.</span><span class="ident" id="5056801">MakeSlice</span><span class="op" id="5056810">(</span><span class="ident" id="5056811"><a href="/encoding/gob/decode.go.html#5056338">typ</a></span><span class="op" id="5056814">,</span>&nbsp;<span class="ident" id="5056816"><a href="/encoding/gob/decode.go.html#5056414">n</a></span><span class="op" id="5056817">,</span>&nbsp;<span class="ident" id="5056819"><a href="/encoding/gob/decode.go.html#5056414">n</a></span><span class="op" id="5056820">)</span><span class="op" id="5056821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5056824">}</span>&nbsp;<span class="keyword" id="5056826">else</span>&nbsp;<span class="op" id="5056831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5056835"><a href="/encoding/gob/decode.go.html#5056245">value</a></span><span class="op" id="5056840">.</span><span class="ident" id="5056841">Set</span><span class="op" id="5056844">(</span><span class="ident" id="5056845"><a href="/encoding/gob/decode.go.html#5056245">value</a></span><span class="op" id="5056850">.</span><span class="ident" id="5056851">Slice</span><span class="op" id="5056856">(</span><span class="num" id="5056857">0</span><span class="op" id="5056858">,</span>&nbsp;<span class="ident" id="5056860"><a href="/encoding/gob/decode.go.html#5056414">n</a></span><span class="op" id="5056861">)</span><span class="op" id="5056862">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5056865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5056868"><a href="/encoding/gob/decode.go.html#5056198">dec</a></span><span class="op" id="5056871">.</span><span class="ident" id="5056872">decodeArrayHelper</span><span class="op" id="5056889">(</span><span class="ident" id="5056890"><a href="/encoding/gob/decode.go.html#5056224">state</a></span><span class="op" id="5056895">,</span>&nbsp;<span class="ident" id="5056897"><a href="/encoding/gob/decode.go.html#5056245">value</a></span><span class="op" id="5056902">,</span>&nbsp;<span class="ident" id="5056904"><a href="/encoding/gob/decode.go.html#5056266">elemOp</a></span><span class="op" id="5056910">,</span>&nbsp;<span class="ident" id="5056912"><a href="/encoding/gob/decode.go.html#5056414">n</a></span><span class="op" id="5056913">,</span>&nbsp;<span class="ident" id="5056915"><a href="/encoding/gob/decode.go.html#5056280">ovfl</a></span><span class="op" id="5056919">,</span>&nbsp;<span class="ident" id="5056921"><a href="/encoding/gob/decode.go.html#5056292">helper</a></span><span class="op" id="5056927">)</span><br>
<span class="lineno"></span><span class="op" id="5056929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5056932">//&nbsp;ignoreSlice&nbsp;skips&nbsp;over&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;slice&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno">620</span><span class="keyword" id="5057006">func</span>&nbsp;<span class="op" id="5057011">(</span><span class="ident" id="5057012">dec</span>&nbsp;<span class="op" id="5057016">*</span><span class="ident" id="5057017"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5057024">)</span>&nbsp;<span class="ident" id="5057026">ignoreSlice</span><span class="op" id="5057037">(</span><span class="ident" id="5057038">state</span>&nbsp;<span class="op" id="5057044">*</span><span class="ident" id="5057045"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5057057">,</span>&nbsp;<span class="ident" id="5057059">elemOp</span>&nbsp;<span class="ident" id="5057066"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5057071">)</span>&nbsp;<span class="op" id="5057073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5057076"><a href="/encoding/gob/decode.go.html#5057012">dec</a></span><span class="op" id="5057079">.</span><span class="ident" id="5057080">ignoreArrayHelper</span><span class="op" id="5057097">(</span><span class="ident" id="5057098"><a href="/encoding/gob/decode.go.html#5057038">state</a></span><span class="op" id="5057103">,</span>&nbsp;<span class="ident" id="5057105"><a href="/encoding/gob/decode.go.html#5057059">elemOp</a></span><span class="op" id="5057111">,</span>&nbsp;<span class="builtintype" id="5057113">int</span><span class="op" id="5057116">(</span><span class="ident" id="5057117"><a href="/encoding/gob/decode.go.html#5057038">state</a></span><span class="op" id="5057122">.</span><span class="ident" id="5057123">decodeUint</span><span class="op" id="5057133">(</span><span class="op" id="5057134">)</span><span class="op" id="5057135">)</span><span class="op" id="5057136">)</span><br>
<span class="lineno"></span><span class="op" id="5057138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5057141">//&nbsp;decodeInterface&nbsp;decodes&nbsp;an&nbsp;interface&nbsp;value&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno">625</span><span class="comment" id="5057211">//&nbsp;Interfaces&nbsp;are&nbsp;encoded&nbsp;as&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;concrete&nbsp;type&nbsp;followed&nbsp;by&nbsp;a&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5057289">//&nbsp;If&nbsp;the&nbsp;name&nbsp;is&nbsp;empty,&nbsp;the&nbsp;value&nbsp;is&nbsp;nil&nbsp;and&nbsp;no&nbsp;value&nbsp;is&nbsp;sent.</span><br>
<span class="lineno"></span><span class="keyword" id="5057353">func</span>&nbsp;<span class="op" id="5057358">(</span><span class="ident" id="5057359">dec</span>&nbsp;<span class="op" id="5057363">*</span><span class="ident" id="5057364"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5057371">)</span>&nbsp;<span class="ident" id="5057373">decodeInterface</span><span class="op" id="5057388">(</span><span class="ident" id="5057389">ityp</span>&nbsp;<span class="ident" id="5057394"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5057401">.</span><span class="ident" id="5057402">Type</span><span class="op" id="5057406">,</span>&nbsp;<span class="ident" id="5057408">state</span>&nbsp;<span class="op" id="5057414">*</span><span class="ident" id="5057415"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5057427">,</span>&nbsp;<span class="ident" id="5057429">value</span>&nbsp;<span class="ident" id="5057435"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5057442">.</span><span class="ident" id="5057443">Value</span><span class="op" id="5057448">)</span>&nbsp;<span class="op" id="5057450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5057453">//&nbsp;Read&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;concrete&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5057493">nr</span>&nbsp;<span class="op" id="5057496">:=</span>&nbsp;<span class="ident" id="5057499"><a href="/encoding/gob/decode.go.html#5057408">state</a></span><span class="op" id="5057504">.</span><span class="ident" id="5057505">decodeUint</span><span class="op" id="5057515">(</span><span class="op" id="5057516">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5057519">if</span>&nbsp;<span class="ident" id="5057522"><a href="/encoding/gob/decode.go.html#5057493">nr</a></span>&nbsp;<span class="op" id="5057525">&lt;</span>&nbsp;<span class="num" id="5057527">0</span>&nbsp;<span class="op" id="5057529">||</span>&nbsp;<span class="ident" id="5057532"><a href="/encoding/gob/decode.go.html#5057493">nr</a></span>&nbsp;<span class="op" id="5057535">&gt;</span>&nbsp;<span class="num" id="5057537">1</span><span class="op" id="5057538">&lt;&lt;</span><span class="num" id="5057540">31</span>&nbsp;<span class="op" id="5057543">{</span>&nbsp;<span class="comment" id="5057545">//&nbsp;zero&nbsp;is&nbsp;permissible&nbsp;for&nbsp;anonymous&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5057590"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5057596">(</span><span class="string" id="5057597">&#34;invalid&nbsp;type&nbsp;name&nbsp;length&nbsp;%d&#34;</span><span class="op" id="5057626">,</span>&nbsp;<span class="ident" id="5057628"><a href="/encoding/gob/decode.go.html#5057493">nr</a></span><span class="op" id="5057630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5057633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5057636">if</span>&nbsp;<span class="ident" id="5057639"><a href="/encoding/gob/decode.go.html#5057493">nr</a></span>&nbsp;<span class="op" id="5057642">&gt;</span>&nbsp;<span class="ident" id="5057644">uint64</span><span class="op" id="5057650">(</span><span class="ident" id="5057651"><a href="/encoding/gob/decode.go.html#5057408">state</a></span><span class="op" id="5057656">.</span><span class="ident" id="5057657">b</span><span class="op" id="5057658">.</span><span class="ident" id="5057659">Len</span><span class="op" id="5057662">(</span><span class="op" id="5057663">)</span><span class="op" id="5057664">)</span>&nbsp;<span class="op" id="5057666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5057670"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5057676">(</span><span class="string" id="5057677">&#34;invalid&nbsp;type&nbsp;name&nbsp;length&nbsp;%d:&nbsp;exceeds&nbsp;input&nbsp;size&#34;</span><span class="op" id="5057726">,</span>&nbsp;<span class="ident" id="5057728"><a href="/encoding/gob/decode.go.html#5057493">nr</a></span><span class="op" id="5057730">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5057733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5057736">b</span>&nbsp;<span class="op" id="5057738">:=</span>&nbsp;<span class="builtinfunc" id="5057741">make</span><span class="op" id="5057745">(</span><span class="op" id="5057746">[</span><span class="op" id="5057747">]</span><span class="builtintype" id="5057748">byte</span><span class="op" id="5057752">,</span>&nbsp;<span class="ident" id="5057754"><a href="/encoding/gob/decode.go.html#5057493">nr</a></span><span class="op" id="5057756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5057759"><a href="/encoding/gob/decode.go.html#5057408">state</a></span><span class="op" id="5057764">.</span><span class="ident" id="5057765">b</span><span class="op" id="5057766">.</span><span class="ident" id="5057767">Read</span><span class="op" id="5057771">(</span><span class="ident" id="5057772"><a href="/encoding/gob/decode.go.html#5057736">b</a></span><span class="op" id="5057773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5057776">name</span>&nbsp;<span class="op" id="5057781">:=</span>&nbsp;<span class="builtintype" id="5057784">string</span><span class="op" id="5057790">(</span><span class="ident" id="5057791"><a href="/encoding/gob/decode.go.html#5057736">b</a></span><span class="op" id="5057792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5057795">//&nbsp;Allocate&nbsp;the&nbsp;destination&nbsp;interface&nbsp;value.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5057841">if</span>&nbsp;<span class="ident" id="5057844"><a href="/encoding/gob/decode.go.html#5057776">name</a></span>&nbsp;<span class="op" id="5057849">==</span>&nbsp;<span class="string" id="5057852">&#34;&#34;</span>&nbsp;<span class="op" id="5057855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5057859">//&nbsp;Copy&nbsp;the&nbsp;nil&nbsp;interface&nbsp;value&nbsp;to&nbsp;the&nbsp;target.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5057908"><a href="/encoding/gob/decode.go.html#5057429">value</a></span><span class="op" id="5057913">.</span><span class="ident" id="5057914">Set</span><span class="op" id="5057917">(</span><span class="ident" id="5057918"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5057925">.</span><span class="ident" id="5057926">Zero</span><span class="op" id="5057930">(</span><span class="ident" id="5057931"><a href="/encoding/gob/decode.go.html#5057429">value</a></span><span class="op" id="5057936">.</span><span class="ident" id="5057937">Type</span><span class="op" id="5057941">(</span><span class="op" id="5057942">)</span><span class="op" id="5057943">)</span><span class="op" id="5057944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5057948">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5057956">}</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5057959">if</span>&nbsp;<span class="builtinfunc" id="5057962">len</span><span class="op" id="5057965">(</span><span class="ident" id="5057966"><a href="/encoding/gob/decode.go.html#5057776">name</a></span><span class="op" id="5057970">)</span>&nbsp;<span class="op" id="5057972">&gt;</span>&nbsp;<span class="num" id="5057974">1024</span>&nbsp;<span class="op" id="5057979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5057983"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5057989">(</span><span class="string" id="5057990">&#34;name&nbsp;too&nbsp;long&nbsp;(%d&nbsp;bytes):&nbsp;%.20q...&#34;</span><span class="op" id="5058026">,</span>&nbsp;<span class="builtinfunc" id="5058028">len</span><span class="op" id="5058031">(</span><span class="ident" id="5058032"><a href="/encoding/gob/decode.go.html#5057776">name</a></span><span class="op" id="5058036">)</span><span class="op" id="5058037">,</span>&nbsp;<span class="ident" id="5058039"><a href="/encoding/gob/decode.go.html#5057776">name</a></span><span class="op" id="5058043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5058046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5058049">//&nbsp;The&nbsp;concrete&nbsp;type&nbsp;must&nbsp;be&nbsp;registered.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058091"><a href="/encoding/gob/type.go.html#5162127">registerLock</a></span><span class="op" id="5058103">.</span><span class="ident" id="5058104">RLock</span><span class="op" id="5058109">(</span><span class="op" id="5058110">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058113">typ</span><span class="op" id="5058116">,</span>&nbsp;<span class="ident" id="5058118">ok</span>&nbsp;<span class="op" id="5058121">:=</span>&nbsp;<span class="ident" id="5058124"><a href="/encoding/gob/type.go.html#5162160">nameToConcreteType</a></span><span class="op" id="5058142">[</span><span class="ident" id="5058143"><a href="/encoding/gob/decode.go.html#5057776">name</a></span><span class="op" id="5058147">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058150"><a href="/encoding/gob/type.go.html#5162127">registerLock</a></span><span class="op" id="5058162">.</span><span class="ident" id="5058163">RUnlock</span><span class="op" id="5058170">(</span><span class="op" id="5058171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5058174">if</span>&nbsp;<span class="op" id="5058177">!</span><span class="ident" id="5058178"><a href="/encoding/gob/decode.go.html#5058118">ok</a></span>&nbsp;<span class="op" id="5058181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058185"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5058191">(</span><span class="string" id="5058192">&#34;name&nbsp;not&nbsp;registered&nbsp;for&nbsp;interface:&nbsp;%q&#34;</span><span class="op" id="5058231">,</span>&nbsp;<span class="ident" id="5058233"><a href="/encoding/gob/decode.go.html#5057776">name</a></span><span class="op" id="5058237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5058240">}</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5058243">//&nbsp;Read&nbsp;the&nbsp;type&nbsp;id&nbsp;of&nbsp;the&nbsp;concrete&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058287">concreteId</span>&nbsp;<span class="op" id="5058298">:=</span>&nbsp;<span class="ident" id="5058301"><a href="/encoding/gob/decode.go.html#5057359">dec</a></span><span class="op" id="5058304">.</span><span class="ident" id="5058305">decodeTypeSequence</span><span class="op" id="5058323">(</span><span class="ident" id="5058324">true</span><span class="op" id="5058328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5058331">if</span>&nbsp;<span class="ident" id="5058334"><a href="/encoding/gob/decode.go.html#5058287">concreteId</a></span>&nbsp;<span class="op" id="5058345">&lt;</span>&nbsp;<span class="num" id="5058347">0</span>&nbsp;<span class="op" id="5058349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058353"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5058359">(</span><span class="ident" id="5058360"><a href="/encoding/gob/decode.go.html#5057359">dec</a></span><span class="op" id="5058363">.</span><span class="ident" id="5058364">err</span><span class="op" id="5058367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5058370">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5058373">//&nbsp;Byte&nbsp;count&nbsp;of&nbsp;value&nbsp;is&nbsp;next;&nbsp;we&nbsp;don&#39;t&nbsp;care&nbsp;what&nbsp;it&nbsp;is&nbsp;(it&#39;s&nbsp;there</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5058443">//&nbsp;in&nbsp;case&nbsp;we&nbsp;want&nbsp;to&nbsp;ignore&nbsp;the&nbsp;value&nbsp;by&nbsp;skipping&nbsp;it&nbsp;completely).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058511"><a href="/encoding/gob/decode.go.html#5057408">state</a></span><span class="op" id="5058516">.</span><span class="ident" id="5058517">decodeUint</span><span class="op" id="5058527">(</span><span class="op" id="5058528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5058531">//&nbsp;Read&nbsp;the&nbsp;concrete&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058560">v</span>&nbsp;<span class="op" id="5058562">:=</span>&nbsp;<span class="ident" id="5058565"><a href="/encoding/gob/decode.go.html#5076427">allocValue</a></span><span class="op" id="5058575">(</span><span class="ident" id="5058576"><a href="/encoding/gob/decode.go.html#5058113">typ</a></span><span class="op" id="5058579">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058582"><a href="/encoding/gob/decode.go.html#5057359">dec</a></span><span class="op" id="5058585">.</span><span class="ident" id="5058586">decodeValue</span><span class="op" id="5058597">(</span><span class="ident" id="5058598"><a href="/encoding/gob/decode.go.html#5058287">concreteId</a></span><span class="op" id="5058608">,</span>&nbsp;<span class="ident" id="5058610"><a href="/encoding/gob/decode.go.html#5058560">v</a></span><span class="op" id="5058611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5058614">if</span>&nbsp;<span class="ident" id="5058617"><a href="/encoding/gob/decode.go.html#5057359">dec</a></span><span class="op" id="5058620">.</span><span class="ident" id="5058621">err</span>&nbsp;<span class="op" id="5058625">!=</span>&nbsp;<span class="ident" id="5058628">nil</span>&nbsp;<span class="op" id="5058632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058636"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5058642">(</span><span class="ident" id="5058643"><a href="/encoding/gob/decode.go.html#5057359">dec</a></span><span class="op" id="5058646">.</span><span class="ident" id="5058647">err</span><span class="op" id="5058650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5058653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5058656">//&nbsp;Assign&nbsp;the&nbsp;concrete&nbsp;value&nbsp;to&nbsp;the&nbsp;interface.</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5058704">//&nbsp;Tread&nbsp;carefully;&nbsp;it&nbsp;might&nbsp;not&nbsp;satisfy&nbsp;the&nbsp;interface.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5058761">if</span>&nbsp;<span class="op" id="5058764">!</span><span class="ident" id="5058765"><a href="/encoding/gob/decode.go.html#5058113">typ</a></span><span class="op" id="5058768">.</span><span class="ident" id="5058769">AssignableTo</span><span class="op" id="5058781">(</span><span class="ident" id="5058782"><a href="/encoding/gob/decode.go.html#5057389">ityp</a></span><span class="op" id="5058786">)</span>&nbsp;<span class="op" id="5058788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058792"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5058798">(</span><span class="string" id="5058799">&#34;%s&nbsp;is&nbsp;not&nbsp;assignable&nbsp;to&nbsp;type&nbsp;%s&#34;</span><span class="op" id="5058832">,</span>&nbsp;<span class="ident" id="5058834"><a href="/encoding/gob/decode.go.html#5058113">typ</a></span><span class="op" id="5058837">,</span>&nbsp;<span class="ident" id="5058839"><a href="/encoding/gob/decode.go.html#5057389">ityp</a></span><span class="op" id="5058843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5058846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5058849">//&nbsp;Copy&nbsp;the&nbsp;interface&nbsp;value&nbsp;to&nbsp;the&nbsp;target.</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058893"><a href="/encoding/gob/decode.go.html#5057429">value</a></span><span class="op" id="5058898">.</span><span class="ident" id="5058899">Set</span><span class="op" id="5058902">(</span><span class="ident" id="5058903"><a href="/encoding/gob/decode.go.html#5058560">v</a></span><span class="op" id="5058904">)</span><br>
<span class="lineno"></span><span class="op" id="5058906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5058909">//&nbsp;ignoreInterface&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;an&nbsp;interface&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5058990">func</span>&nbsp;<span class="op" id="5058995">(</span><span class="ident" id="5058996">dec</span>&nbsp;<span class="op" id="5059000">*</span><span class="ident" id="5059001"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5059008">)</span>&nbsp;<span class="ident" id="5059010">ignoreInterface</span><span class="op" id="5059025">(</span><span class="ident" id="5059026">state</span>&nbsp;<span class="op" id="5059032">*</span><span class="ident" id="5059033"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5059045">)</span>&nbsp;<span class="op" id="5059047">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5059050">//&nbsp;Read&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;concrete&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059090">b</span>&nbsp;<span class="op" id="5059092">:=</span>&nbsp;<span class="builtinfunc" id="5059095">make</span><span class="op" id="5059099">(</span><span class="op" id="5059100">[</span><span class="op" id="5059101">]</span><span class="builtintype" id="5059102">byte</span><span class="op" id="5059106">,</span>&nbsp;<span class="ident" id="5059108"><a href="/encoding/gob/decode.go.html#5059026">state</a></span><span class="op" id="5059113">.</span><span class="ident" id="5059114">decodeUint</span><span class="op" id="5059124">(</span><span class="op" id="5059125">)</span><span class="op" id="5059126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059129">_</span><span class="op" id="5059130">,</span>&nbsp;<span class="ident" id="5059132">err</span>&nbsp;<span class="op" id="5059136">:=</span>&nbsp;<span class="ident" id="5059139"><a href="/encoding/gob/decode.go.html#5059026">state</a></span><span class="op" id="5059144">.</span><span class="ident" id="5059145">b</span><span class="op" id="5059146">.</span><span class="ident" id="5059147">Read</span><span class="op" id="5059151">(</span><span class="ident" id="5059152"><a href="/encoding/gob/decode.go.html#5059090">b</a></span><span class="op" id="5059153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5059156">if</span>&nbsp;<span class="ident" id="5059159"><a href="/encoding/gob/decode.go.html#5059132">err</a></span>&nbsp;<span class="op" id="5059163">!=</span>&nbsp;<span class="ident" id="5059166">nil</span>&nbsp;<span class="op" id="5059170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059174"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5059180">(</span><span class="ident" id="5059181"><a href="/encoding/gob/decode.go.html#5059132">err</a></span><span class="op" id="5059184">)</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5059187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059190">id</span>&nbsp;<span class="op" id="5059193">:=</span>&nbsp;<span class="ident" id="5059196"><a href="/encoding/gob/decode.go.html#5058996">dec</a></span><span class="op" id="5059199">.</span><span class="ident" id="5059200">decodeTypeSequence</span><span class="op" id="5059218">(</span><span class="ident" id="5059219">true</span><span class="op" id="5059223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5059226">if</span>&nbsp;<span class="ident" id="5059229"><a href="/encoding/gob/decode.go.html#5059190">id</a></span>&nbsp;<span class="op" id="5059232">&lt;</span>&nbsp;<span class="num" id="5059234">0</span>&nbsp;<span class="op" id="5059236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059240"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5059246">(</span><span class="ident" id="5059247"><a href="/encoding/gob/decode.go.html#5058996">dec</a></span><span class="op" id="5059250">.</span><span class="ident" id="5059251">err</span><span class="op" id="5059254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5059257">}</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5059260">//&nbsp;At&nbsp;this&nbsp;point,&nbsp;the&nbsp;decoder&nbsp;buffer&nbsp;contains&nbsp;a&nbsp;delimited&nbsp;value.&nbsp;Just&nbsp;toss&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059340"><a href="/encoding/gob/decode.go.html#5059026">state</a></span><span class="op" id="5059345">.</span><span class="ident" id="5059346">b</span><span class="op" id="5059347">.</span><span class="ident" id="5059348">Drop</span><span class="op" id="5059352">(</span><span class="builtintype" id="5059353">int</span><span class="op" id="5059356">(</span><span class="ident" id="5059357"><a href="/encoding/gob/decode.go.html#5059026">state</a></span><span class="op" id="5059362">.</span><span class="ident" id="5059363">decodeUint</span><span class="op" id="5059373">(</span><span class="op" id="5059374">)</span><span class="op" id="5059375">)</span><span class="op" id="5059376">)</span><br>
<span class="lineno"></span><span class="op" id="5059378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5059381">//&nbsp;decodeGobDecoder&nbsp;decodes&nbsp;something&nbsp;implementing&nbsp;the&nbsp;GobDecoder&nbsp;interface.</span><br>
<span class="lineno">695</span><span class="comment" id="5059458">//&nbsp;The&nbsp;data&nbsp;is&nbsp;encoded&nbsp;as&nbsp;a&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="5059498">func</span>&nbsp;<span class="op" id="5059503">(</span><span class="ident" id="5059504">dec</span>&nbsp;<span class="op" id="5059508">*</span><span class="ident" id="5059509"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5059516">)</span>&nbsp;<span class="ident" id="5059518">decodeGobDecoder</span><span class="op" id="5059534">(</span><span class="ident" id="5059535">ut</span>&nbsp;<span class="op" id="5059538">*</span><span class="ident" id="5059539"><a href="/encoding/gob/type.go.html#5138634">userTypeInfo</a></span><span class="op" id="5059551">,</span>&nbsp;<span class="ident" id="5059553">state</span>&nbsp;<span class="op" id="5059559">*</span><span class="ident" id="5059560"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5059572">,</span>&nbsp;<span class="ident" id="5059574">value</span>&nbsp;<span class="ident" id="5059580"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5059587">.</span><span class="ident" id="5059588">Value</span><span class="op" id="5059593">)</span>&nbsp;<span class="op" id="5059595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5059598">//&nbsp;Read&nbsp;the&nbsp;bytes&nbsp;for&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059632">b</span>&nbsp;<span class="op" id="5059634">:=</span>&nbsp;<span class="builtinfunc" id="5059637">make</span><span class="op" id="5059641">(</span><span class="op" id="5059642">[</span><span class="op" id="5059643">]</span><span class="builtintype" id="5059644">byte</span><span class="op" id="5059648">,</span>&nbsp;<span class="ident" id="5059650"><a href="/encoding/gob/decode.go.html#5059553">state</a></span><span class="op" id="5059655">.</span><span class="ident" id="5059656">decodeUint</span><span class="op" id="5059666">(</span><span class="op" id="5059667">)</span><span class="op" id="5059668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059671">_</span><span class="op" id="5059672">,</span>&nbsp;<span class="ident" id="5059674">err</span>&nbsp;<span class="op" id="5059678">:=</span>&nbsp;<span class="ident" id="5059681"><a href="/encoding/gob/decode.go.html#5059553">state</a></span><span class="op" id="5059686">.</span><span class="ident" id="5059687">b</span><span class="op" id="5059688">.</span><span class="ident" id="5059689">Read</span><span class="op" id="5059693">(</span><span class="ident" id="5059694"><a href="/encoding/gob/decode.go.html#5059632">b</a></span><span class="op" id="5059695">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5059698">if</span>&nbsp;<span class="ident" id="5059701"><a href="/encoding/gob/decode.go.html#5059674">err</a></span>&nbsp;<span class="op" id="5059705">!=</span>&nbsp;<span class="ident" id="5059708">nil</span>&nbsp;<span class="op" id="5059712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059716"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5059722">(</span><span class="ident" id="5059723"><a href="/encoding/gob/decode.go.html#5059674">err</a></span><span class="op" id="5059726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5059729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5059732">//&nbsp;We&nbsp;know&nbsp;it&#39;s&nbsp;one&nbsp;of&nbsp;these.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5059763">switch</span>&nbsp;<span class="ident" id="5059770"><a href="/encoding/gob/decode.go.html#5059535">ut</a></span><span class="op" id="5059772">.</span><span class="ident" id="5059773">externalDec</span>&nbsp;<span class="op" id="5059785">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5059788">case</span>&nbsp;<span class="ident" id="5059793"><a href="/encoding/gob/type.go.html#5139188">xGob</a></span><span class="op" id="5059797">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059801"><a href="/encoding/gob/decode.go.html#5059674">err</a></span>&nbsp;<span class="op" id="5059805">=</span>&nbsp;<span class="ident" id="5059807"><a href="/encoding/gob/decode.go.html#5059574">value</a></span><span class="op" id="5059812">.</span><span class="ident" id="5059813">Interface</span><span class="op" id="5059822">(</span><span class="op" id="5059823">)</span><span class="op" id="5059824">.</span><span class="op" id="5059825">(</span><span class="ident" id="5059826"><a href="/encoding/gob/type.go.html#5161883">GobDecoder</a></span><span class="op" id="5059836">)</span><span class="op" id="5059837">.</span><span class="ident" id="5059838">GobDecode</span><span class="op" id="5059847">(</span><span class="ident" id="5059848"><a href="/encoding/gob/decode.go.html#5059632">b</a></span><span class="op" id="5059849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5059852">case</span>&nbsp;<span class="ident" id="5059857"><a href="/encoding/gob/type.go.html#5139236">xBinary</a></span><span class="op" id="5059864">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059868"><a href="/encoding/gob/decode.go.html#5059674">err</a></span>&nbsp;<span class="op" id="5059872">=</span>&nbsp;<span class="ident" id="5059874"><a href="/encoding/gob/decode.go.html#5059574">value</a></span><span class="op" id="5059879">.</span><span class="ident" id="5059880">Interface</span><span class="op" id="5059889">(</span><span class="op" id="5059890">)</span><span class="op" id="5059891">.</span><span class="op" id="5059892">(</span><span class="ident" id="5059893"><a href="/encoding/gob/decode.go.html#5038124">encoding</a></span><span class="op" id="5059901">.</span><span class="ident" id="5059902">BinaryUnmarshaler</span><span class="op" id="5059919">)</span><span class="op" id="5059920">.</span><span class="ident" id="5059921">UnmarshalBinary</span><span class="op" id="5059936">(</span><span class="ident" id="5059937"><a href="/encoding/gob/decode.go.html#5059632">b</a></span><span class="op" id="5059938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5059941">case</span>&nbsp;<span class="ident" id="5059946"><a href="/encoding/gob/type.go.html#5139314">xText</a></span><span class="op" id="5059951">:</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5059955"><a href="/encoding/gob/decode.go.html#5059674">err</a></span>&nbsp;<span class="op" id="5059959">=</span>&nbsp;<span class="ident" id="5059961"><a href="/encoding/gob/decode.go.html#5059574">value</a></span><span class="op" id="5059966">.</span><span class="ident" id="5059967">Interface</span><span class="op" id="5059976">(</span><span class="op" id="5059977">)</span><span class="op" id="5059978">.</span><span class="op" id="5059979">(</span><span class="ident" id="5059980"><a href="/encoding/gob/decode.go.html#5038124">encoding</a></span><span class="op" id="5059988">.</span><span class="ident" id="5059989">TextUnmarshaler</span><span class="op" id="5060004">)</span><span class="op" id="5060005">.</span><span class="ident" id="5060006">UnmarshalText</span><span class="op" id="5060019">(</span><span class="ident" id="5060020"><a href="/encoding/gob/decode.go.html#5059632">b</a></span><span class="op" id="5060021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5060024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5060027">if</span>&nbsp;<span class="ident" id="5060030"><a href="/encoding/gob/decode.go.html#5059674">err</a></span>&nbsp;<span class="op" id="5060034">!=</span>&nbsp;<span class="ident" id="5060037">nil</span>&nbsp;<span class="op" id="5060041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060045"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5060051">(</span><span class="ident" id="5060052"><a href="/encoding/gob/decode.go.html#5059674">err</a></span><span class="op" id="5060055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5060058">}</span><br>
<span class="lineno">715</span><span class="op" id="5060060">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5060063">//&nbsp;ignoreGobDecoder&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;GobDecoder&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5060145">func</span>&nbsp;<span class="op" id="5060150">(</span><span class="ident" id="5060151">dec</span>&nbsp;<span class="op" id="5060155">*</span><span class="ident" id="5060156"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5060163">)</span>&nbsp;<span class="ident" id="5060165">ignoreGobDecoder</span><span class="op" id="5060181">(</span><span class="ident" id="5060182">state</span>&nbsp;<span class="op" id="5060188">*</span><span class="ident" id="5060189"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5060201">)</span>&nbsp;<span class="op" id="5060203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5060206">//&nbsp;Read&nbsp;the&nbsp;bytes&nbsp;for&nbsp;the&nbsp;value.</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060240">b</span>&nbsp;<span class="op" id="5060242">:=</span>&nbsp;<span class="builtinfunc" id="5060245">make</span><span class="op" id="5060249">(</span><span class="op" id="5060250">[</span><span class="op" id="5060251">]</span><span class="builtintype" id="5060252">byte</span><span class="op" id="5060256">,</span>&nbsp;<span class="ident" id="5060258"><a href="/encoding/gob/decode.go.html#5060182">state</a></span><span class="op" id="5060263">.</span><span class="ident" id="5060264">decodeUint</span><span class="op" id="5060274">(</span><span class="op" id="5060275">)</span><span class="op" id="5060276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060279">_</span><span class="op" id="5060280">,</span>&nbsp;<span class="ident" id="5060282">err</span>&nbsp;<span class="op" id="5060286">:=</span>&nbsp;<span class="ident" id="5060289"><a href="/encoding/gob/decode.go.html#5060182">state</a></span><span class="op" id="5060294">.</span><span class="ident" id="5060295">b</span><span class="op" id="5060296">.</span><span class="ident" id="5060297">Read</span><span class="op" id="5060301">(</span><span class="ident" id="5060302"><a href="/encoding/gob/decode.go.html#5060240">b</a></span><span class="op" id="5060303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5060306">if</span>&nbsp;<span class="ident" id="5060309"><a href="/encoding/gob/decode.go.html#5060282">err</a></span>&nbsp;<span class="op" id="5060313">!=</span>&nbsp;<span class="ident" id="5060316">nil</span>&nbsp;<span class="op" id="5060320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060324"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5060330">(</span><span class="ident" id="5060331"><a href="/encoding/gob/decode.go.html#5060282">err</a></span><span class="op" id="5060334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5060337">}</span><br>
<span class="lineno">725</span><span class="op" id="5060339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5060342">//&nbsp;Index&nbsp;by&nbsp;Go&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5060364">var</span>&nbsp;<span class="ident" id="5060368">decOpTable</span>&nbsp;<span class="op" id="5060379">=</span>&nbsp;<span class="op" id="5060381">[</span><span class="op" id="5060382">...</span><span class="op" id="5060385">]</span><span class="ident" id="5060386"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5060391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060394"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060401">.</span><span class="ident" id="5060402">Bool</span><span class="op" id="5060406">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060414"><a href="/encoding/gob/decode.go.html#5043760">decBool</a></span><span class="op" id="5060421">,</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060424"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060431">.</span><span class="ident" id="5060432">Int8</span><span class="op" id="5060436">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060444"><a href="/encoding/gob/decode.go.html#5043938">decInt8</a></span><span class="op" id="5060451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060454"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060461">.</span><span class="ident" id="5060462">Int16</span><span class="op" id="5060467">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060474"><a href="/encoding/gob/decode.go.html#5044418">decInt16</a></span><span class="op" id="5060482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060485"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060492">.</span><span class="ident" id="5060493">Int32</span><span class="op" id="5060498">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060505"><a href="/encoding/gob/decode.go.html#5044905">decInt32</a></span><span class="op" id="5060513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060516"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060523">.</span><span class="ident" id="5060524">Int64</span><span class="op" id="5060529">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060536"><a href="/encoding/gob/decode.go.html#5045392">decInt64</a></span><span class="op" id="5060544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060547"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060554">.</span><span class="ident" id="5060555">Uint8</span><span class="op" id="5060560">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060567"><a href="/encoding/gob/decode.go.html#5044190">decUint8</a></span><span class="op" id="5060575">,</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060578"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060585">.</span><span class="ident" id="5060586">Uint16</span><span class="op" id="5060592">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060598"><a href="/encoding/gob/decode.go.html#5044675">decUint16</a></span><span class="op" id="5060607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060610"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060617">.</span><span class="ident" id="5060618">Uint32</span><span class="op" id="5060624">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060630"><a href="/encoding/gob/decode.go.html#5045162">decUint32</a></span><span class="op" id="5060639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060642"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060649">.</span><span class="ident" id="5060650">Uint64</span><span class="op" id="5060656">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060662"><a href="/encoding/gob/decode.go.html#5045584">decUint64</a></span><span class="op" id="5060671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060674"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060681">.</span><span class="ident" id="5060682">Float32</span><span class="op" id="5060689">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060694"><a href="/encoding/gob/decode.go.html#5046837">decFloat32</a></span><span class="op" id="5060704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060707"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060714">.</span><span class="ident" id="5060715">Float64</span><span class="op" id="5060722">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060727"><a href="/encoding/gob/decode.go.html#5047089">decFloat64</a></span><span class="op" id="5060737">,</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060740"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060747">.</span><span class="ident" id="5060748">Complex64</span><span class="op" id="5060757">:</span>&nbsp;&nbsp;<span class="ident" id="5060760"><a href="/encoding/gob/decode.go.html#5047394">decComplex64</a></span><span class="op" id="5060772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060775"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060782">.</span><span class="ident" id="5060783">Complex128</span><span class="op" id="5060793">:</span>&nbsp;<span class="ident" id="5060795"><a href="/encoding/gob/decode.go.html#5047795">decComplex128</a></span><span class="op" id="5060808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060811"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5060818">.</span><span class="ident" id="5060819">String</span><span class="op" id="5060825">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060831"><a href="/encoding/gob/decode.go.html#5048926">decString</a></span><span class="op" id="5060840">,</span><br>
<span class="lineno"></span><span class="op" id="5060842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">745</span><span class="comment" id="5060845">//&nbsp;Indexed&nbsp;by&nbsp;gob&nbsp;types.&nbsp;&nbsp;tComplex&nbsp;will&nbsp;be&nbsp;added&nbsp;during&nbsp;type.init().</span><br>
<span class="lineno"></span><span class="keyword" id="5060914">var</span>&nbsp;<span class="ident" id="5060918">decIgnoreOpMap</span>&nbsp;<span class="op" id="5060933">=</span>&nbsp;<span class="keyword" id="5060935">map</span><span class="op" id="5060938">[</span><span class="ident" id="5060939"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5060945">]</span><span class="ident" id="5060946"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5060951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060954"><a href="/encoding/gob/type.go.html#5145872">tBool</a></span><span class="op" id="5060959">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060964"><a href="/encoding/gob/decode.go.html#5042594">ignoreUint</a></span><span class="op" id="5060974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5060977"><a href="/encoding/gob/type.go.html#5145925">tInt</a></span><span class="op" id="5060981">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5060987"><a href="/encoding/gob/decode.go.html#5042594">ignoreUint</a></span><span class="op" id="5060997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061000"><a href="/encoding/gob/type.go.html#5145976">tUint</a></span><span class="op" id="5061005">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5061010"><a href="/encoding/gob/decode.go.html#5042594">ignoreUint</a></span><span class="op" id="5061020">,</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061023"><a href="/encoding/gob/type.go.html#5146029">tFloat</a></span><span class="op" id="5061029">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5061033"><a href="/encoding/gob/decode.go.html#5042594">ignoreUint</a></span><span class="op" id="5061043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061046"><a href="/encoding/gob/type.go.html#5146086">tBytes</a></span><span class="op" id="5061052">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5061056"><a href="/encoding/gob/decode.go.html#5049505">ignoreUint8Array</a></span><span class="op" id="5061072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061075"><a href="/encoding/gob/type.go.html#5146142">tString</a></span><span class="op" id="5061082">:</span>&nbsp;&nbsp;<span class="ident" id="5061085"><a href="/encoding/gob/decode.go.html#5049505">ignoreUint8Array</a></span><span class="op" id="5061101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061104"><a href="/encoding/gob/type.go.html#5146199">tComplex</a></span><span class="op" id="5061112">:</span>&nbsp;<span class="ident" id="5061114"><a href="/encoding/gob/decode.go.html#5042784">ignoreTwoUints</a></span><span class="op" id="5061128">,</span><br>
<span class="lineno"></span><span class="op" id="5061130">}</span><br>
<span class="lineno">755</span><br>
<span class="lineno"></span><span class="comment" id="5061133">//&nbsp;decOpFor&nbsp;returns&nbsp;the&nbsp;decoding&nbsp;op&nbsp;for&nbsp;the&nbsp;base&nbsp;type&nbsp;under&nbsp;rt&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="5061200">//&nbsp;the&nbsp;indirection&nbsp;count&nbsp;to&nbsp;reach&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="5061238">func</span>&nbsp;<span class="op" id="5061243">(</span><span class="ident" id="5061244">dec</span>&nbsp;<span class="op" id="5061248">*</span><span class="ident" id="5061249"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5061256">)</span>&nbsp;<span class="ident" id="5061258">decOpFor</span><span class="op" id="5061266">(</span><span class="ident" id="5061267">wireId</span>&nbsp;<span class="ident" id="5061274"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5061280">,</span>&nbsp;<span class="ident" id="5061282">rt</span>&nbsp;<span class="ident" id="5061285"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5061292">.</span><span class="ident" id="5061293">Type</span><span class="op" id="5061297">,</span>&nbsp;<span class="ident" id="5061299">name</span>&nbsp;<span class="builtintype" id="5061304">string</span><span class="op" id="5061310">,</span>&nbsp;<span class="ident" id="5061312">inProgress</span>&nbsp;<span class="keyword" id="5061323">map</span><span class="op" id="5061326">[</span><span class="ident" id="5061327"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5061334">.</span><span class="ident" id="5061335">Type</span><span class="op" id="5061339">]</span><span class="op" id="5061340">*</span><span class="ident" id="5061341"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5061346">)</span>&nbsp;<span class="op" id="5061348">*</span><span class="ident" id="5061349"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span>&nbsp;<span class="op" id="5061355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061358">ut</span>&nbsp;<span class="op" id="5061361">:=</span>&nbsp;<span class="ident" id="5061364"><a href="/encoding/gob/type.go.html#5143544">userType</a></span><span class="op" id="5061372">(</span><span class="ident" id="5061373"><a href="/encoding/gob/decode.go.html#5061282">rt</a></span><span class="op" id="5061375">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5061378">//&nbsp;If&nbsp;the&nbsp;type&nbsp;implements&nbsp;GobEncoder,&nbsp;we&nbsp;handle&nbsp;it&nbsp;without&nbsp;further&nbsp;processing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5061458">if</span>&nbsp;<span class="ident" id="5061461"><a href="/encoding/gob/decode.go.html#5061358">ut</a></span><span class="op" id="5061463">.</span><span class="ident" id="5061464">externalDec</span>&nbsp;<span class="op" id="5061476">!=</span>&nbsp;<span class="num" id="5061479">0</span>&nbsp;<span class="op" id="5061481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5061485">return</span>&nbsp;<span class="ident" id="5061492"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5061495">.</span><span class="ident" id="5061496">gobDecodeOpFor</span><span class="op" id="5061510">(</span><span class="ident" id="5061511"><a href="/encoding/gob/decode.go.html#5061358">ut</a></span><span class="op" id="5061513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5061516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5061520">//&nbsp;If&nbsp;this&nbsp;type&nbsp;is&nbsp;already&nbsp;in&nbsp;progress,&nbsp;it&#39;s&nbsp;a&nbsp;recursive&nbsp;type&nbsp;(e.g.&nbsp;map[string]*T).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5061605">//&nbsp;Return&nbsp;the&nbsp;pointer&nbsp;to&nbsp;the&nbsp;op&nbsp;we&#39;re&nbsp;already&nbsp;building.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5061662">if</span>&nbsp;<span class="ident" id="5061665">opPtr</span>&nbsp;<span class="op" id="5061671">:=</span>&nbsp;<span class="ident" id="5061674"><a href="/encoding/gob/decode.go.html#5061312">inProgress</a></span><span class="op" id="5061684">[</span><span class="ident" id="5061685"><a href="/encoding/gob/decode.go.html#5061282">rt</a></span><span class="op" id="5061687">]</span><span class="op" id="5061688">;</span>&nbsp;<span class="ident" id="5061690"><a href="/encoding/gob/decode.go.html#5061665">opPtr</a></span>&nbsp;<span class="op" id="5061696">!=</span>&nbsp;<span class="ident" id="5061699">nil</span>&nbsp;<span class="op" id="5061703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5061707">return</span>&nbsp;<span class="ident" id="5061714"><a href="/encoding/gob/decode.go.html#5061665">opPtr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5061721">}</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061724">typ</span>&nbsp;<span class="op" id="5061728">:=</span>&nbsp;<span class="ident" id="5061731"><a href="/encoding/gob/decode.go.html#5061358">ut</a></span><span class="op" id="5061733">.</span><span class="ident" id="5061734">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5061740">var</span>&nbsp;<span class="ident" id="5061744">op</span>&nbsp;<span class="ident" id="5061747"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061754">k</span>&nbsp;<span class="op" id="5061756">:=</span>&nbsp;<span class="ident" id="5061759"><a href="/encoding/gob/decode.go.html#5061724">typ</a></span><span class="op" id="5061762">.</span><span class="ident" id="5061763">Kind</span><span class="op" id="5061767">(</span><span class="op" id="5061768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5061771">if</span>&nbsp;<span class="builtintype" id="5061774">int</span><span class="op" id="5061777">(</span><span class="ident" id="5061778"><a href="/encoding/gob/decode.go.html#5061754">k</a></span><span class="op" id="5061779">)</span>&nbsp;<span class="op" id="5061781">&lt;</span>&nbsp;<span class="builtinfunc" id="5061783">len</span><span class="op" id="5061786">(</span><span class="ident" id="5061787"><a href="/encoding/gob/decode.go.html#5060368">decOpTable</a></span><span class="op" id="5061797">)</span>&nbsp;<span class="op" id="5061799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061803"><a href="/encoding/gob/decode.go.html#5061744">op</a></span>&nbsp;<span class="op" id="5061806">=</span>&nbsp;<span class="ident" id="5061808"><a href="/encoding/gob/decode.go.html#5060368">decOpTable</a></span><span class="op" id="5061818">[</span><span class="ident" id="5061819"><a href="/encoding/gob/decode.go.html#5061754">k</a></span><span class="op" id="5061820">]</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5061823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5061826">if</span>&nbsp;<span class="ident" id="5061829"><a href="/encoding/gob/decode.go.html#5061744">op</a></span>&nbsp;<span class="op" id="5061832">==</span>&nbsp;<span class="ident" id="5061835">nil</span>&nbsp;<span class="op" id="5061839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061843"><a href="/encoding/gob/decode.go.html#5061312">inProgress</a></span><span class="op" id="5061853">[</span><span class="ident" id="5061854"><a href="/encoding/gob/decode.go.html#5061282">rt</a></span><span class="op" id="5061856">]</span>&nbsp;<span class="op" id="5061858">=</span>&nbsp;<span class="op" id="5061860">&amp;</span><span class="ident" id="5061861"><a href="/encoding/gob/decode.go.html#5061744">op</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5061866">//&nbsp;Special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5061885">switch</span>&nbsp;<span class="ident" id="5061892">t</span>&nbsp;<span class="op" id="5061894">:=</span>&nbsp;<span class="ident" id="5061897"><a href="/encoding/gob/decode.go.html#5061724">typ</a></span><span class="op" id="5061900">;</span>&nbsp;<span class="ident" id="5061902"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5061903">.</span><span class="ident" id="5061904">Kind</span><span class="op" id="5061908">(</span><span class="op" id="5061909">)</span>&nbsp;<span class="op" id="5061911">{</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5061915">case</span>&nbsp;<span class="ident" id="5061920"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5061927">.</span><span class="ident" id="5061928">Array</span><span class="op" id="5061933">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061938"><a href="/encoding/gob/decode.go.html#5061299">name</a></span>&nbsp;<span class="op" id="5061943">=</span>&nbsp;<span class="string" id="5061945">&#34;element&nbsp;of&nbsp;&#34;</span>&nbsp;<span class="op" id="5061959">+</span>&nbsp;<span class="ident" id="5061961"><a href="/encoding/gob/decode.go.html#5061299">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061969">elemId</span>&nbsp;<span class="op" id="5061976">:=</span>&nbsp;<span class="ident" id="5061979"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5061982">.</span><span class="ident" id="5061983">wireType</span><span class="op" id="5061991">[</span><span class="ident" id="5061992"><a href="/encoding/gob/decode.go.html#5061267">wireId</a></span><span class="op" id="5061998">]</span><span class="op" id="5061999">.</span><span class="ident" id="5062000">ArrayT</span><span class="op" id="5062006">.</span><span class="ident" id="5062007">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062015">elemOp</span>&nbsp;<span class="op" id="5062022">:=</span>&nbsp;<span class="ident" id="5062025"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5062028">.</span><span class="ident" id="5062029">decOpFor</span><span class="op" id="5062037">(</span><span class="ident" id="5062038"><a href="/encoding/gob/decode.go.html#5061969">elemId</a></span><span class="op" id="5062044">,</span>&nbsp;<span class="ident" id="5062046"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5062047">.</span><span class="ident" id="5062048">Elem</span><span class="op" id="5062052">(</span><span class="op" id="5062053">)</span><span class="op" id="5062054">,</span>&nbsp;<span class="ident" id="5062056"><a href="/encoding/gob/decode.go.html#5061299">name</a></span><span class="op" id="5062060">,</span>&nbsp;<span class="ident" id="5062062"><a href="/encoding/gob/decode.go.html#5061312">inProgress</a></span><span class="op" id="5062072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062077">ovfl</span>&nbsp;<span class="op" id="5062082">:=</span>&nbsp;<span class="ident" id="5062085"><a href="/encoding/gob/decode.go.html#5040493">overflow</a></span><span class="op" id="5062093">(</span><span class="ident" id="5062094"><a href="/encoding/gob/decode.go.html#5061299">name</a></span><span class="op" id="5062098">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062103">helper</span>&nbsp;<span class="op" id="5062110">:=</span>&nbsp;<span class="ident" id="5062113"><a href="/encoding/gob/dec_helpers.go.html#5024557">decArrayHelper</a></span><span class="op" id="5062127">[</span><span class="ident" id="5062128"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5062129">.</span><span class="ident" id="5062130">Elem</span><span class="op" id="5062134">(</span><span class="op" id="5062135">)</span><span class="op" id="5062136">.</span><span class="ident" id="5062137">Kind</span><span class="op" id="5062141">(</span><span class="op" id="5062142">)</span><span class="op" id="5062143">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062148"><a href="/encoding/gob/decode.go.html#5061744">op</a></span>&nbsp;<span class="op" id="5062151">=</span>&nbsp;<span class="keyword" id="5062153">func</span><span class="op" id="5062157">(</span><span class="ident" id="5062158">i</span>&nbsp;<span class="op" id="5062160">*</span><span class="ident" id="5062161"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5062169">,</span>&nbsp;<span class="ident" id="5062171">state</span>&nbsp;<span class="op" id="5062177">*</span><span class="ident" id="5062178"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5062190">,</span>&nbsp;<span class="ident" id="5062192">value</span>&nbsp;<span class="ident" id="5062198"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5062205">.</span><span class="ident" id="5062206">Value</span><span class="op" id="5062211">)</span>&nbsp;<span class="op" id="5062213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062219"><a href="/encoding/gob/decode.go.html#5062171">state</a></span><span class="op" id="5062224">.</span><span class="ident" id="5062225">dec</span><span class="op" id="5062228">.</span><span class="ident" id="5062229">decodeArray</span><span class="op" id="5062240">(</span><span class="ident" id="5062241"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5062242">,</span>&nbsp;<span class="ident" id="5062244"><a href="/encoding/gob/decode.go.html#5062171">state</a></span><span class="op" id="5062249">,</span>&nbsp;<span class="ident" id="5062251"><a href="/encoding/gob/decode.go.html#5062192">value</a></span><span class="op" id="5062256">,</span>&nbsp;<span class="op" id="5062258">*</span><span class="ident" id="5062259"><a href="/encoding/gob/decode.go.html#5062015">elemOp</a></span><span class="op" id="5062265">,</span>&nbsp;<span class="ident" id="5062267"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5062268">.</span><span class="ident" id="5062269">Len</span><span class="op" id="5062272">(</span><span class="op" id="5062273">)</span><span class="op" id="5062274">,</span>&nbsp;<span class="ident" id="5062276"><a href="/encoding/gob/decode.go.html#5062077">ovfl</a></span><span class="op" id="5062280">,</span>&nbsp;<span class="ident" id="5062282"><a href="/encoding/gob/decode.go.html#5062103">helper</a></span><span class="op" id="5062288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5062293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5062298">case</span>&nbsp;<span class="ident" id="5062303"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5062310">.</span><span class="ident" id="5062311">Map</span><span class="op" id="5062314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062319">keyId</span>&nbsp;<span class="op" id="5062325">:=</span>&nbsp;<span class="ident" id="5062328"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5062331">.</span><span class="ident" id="5062332">wireType</span><span class="op" id="5062340">[</span><span class="ident" id="5062341"><a href="/encoding/gob/decode.go.html#5061267">wireId</a></span><span class="op" id="5062347">]</span><span class="op" id="5062348">.</span><span class="ident" id="5062349">MapT</span><span class="op" id="5062353">.</span><span class="ident" id="5062354">Key</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062361">elemId</span>&nbsp;<span class="op" id="5062368">:=</span>&nbsp;<span class="ident" id="5062371"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5062374">.</span><span class="ident" id="5062375">wireType</span><span class="op" id="5062383">[</span><span class="ident" id="5062384"><a href="/encoding/gob/decode.go.html#5061267">wireId</a></span><span class="op" id="5062390">]</span><span class="op" id="5062391">.</span><span class="ident" id="5062392">MapT</span><span class="op" id="5062396">.</span><span class="ident" id="5062397">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062405">keyOp</span>&nbsp;<span class="op" id="5062411">:=</span>&nbsp;<span class="ident" id="5062414"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5062417">.</span><span class="ident" id="5062418">decOpFor</span><span class="op" id="5062426">(</span><span class="ident" id="5062427"><a href="/encoding/gob/decode.go.html#5062319">keyId</a></span><span class="op" id="5062432">,</span>&nbsp;<span class="ident" id="5062434"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5062435">.</span><span class="ident" id="5062436">Key</span><span class="op" id="5062439">(</span><span class="op" id="5062440">)</span><span class="op" id="5062441">,</span>&nbsp;<span class="string" id="5062443">&#34;key&nbsp;of&nbsp;&#34;</span><span class="op" id="5062452">+</span><span class="ident" id="5062453"><a href="/encoding/gob/decode.go.html#5061299">name</a></span><span class="op" id="5062457">,</span>&nbsp;<span class="ident" id="5062459"><a href="/encoding/gob/decode.go.html#5061312">inProgress</a></span><span class="op" id="5062469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062474">elemOp</span>&nbsp;<span class="op" id="5062481">:=</span>&nbsp;<span class="ident" id="5062484"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5062487">.</span><span class="ident" id="5062488">decOpFor</span><span class="op" id="5062496">(</span><span class="ident" id="5062497"><a href="/encoding/gob/decode.go.html#5062361">elemId</a></span><span class="op" id="5062503">,</span>&nbsp;<span class="ident" id="5062505"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5062506">.</span><span class="ident" id="5062507">Elem</span><span class="op" id="5062511">(</span><span class="op" id="5062512">)</span><span class="op" id="5062513">,</span>&nbsp;<span class="string" id="5062515">&#34;element&nbsp;of&nbsp;&#34;</span><span class="op" id="5062528">+</span><span class="ident" id="5062529"><a href="/encoding/gob/decode.go.html#5061299">name</a></span><span class="op" id="5062533">,</span>&nbsp;<span class="ident" id="5062535"><a href="/encoding/gob/decode.go.html#5061312">inProgress</a></span><span class="op" id="5062545">)</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062550">ovfl</span>&nbsp;<span class="op" id="5062555">:=</span>&nbsp;<span class="ident" id="5062558"><a href="/encoding/gob/decode.go.html#5040493">overflow</a></span><span class="op" id="5062566">(</span><span class="ident" id="5062567"><a href="/encoding/gob/decode.go.html#5061299">name</a></span><span class="op" id="5062571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062576"><a href="/encoding/gob/decode.go.html#5061744">op</a></span>&nbsp;<span class="op" id="5062579">=</span>&nbsp;<span class="keyword" id="5062581">func</span><span class="op" id="5062585">(</span><span class="ident" id="5062586">i</span>&nbsp;<span class="op" id="5062588">*</span><span class="ident" id="5062589"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5062597">,</span>&nbsp;<span class="ident" id="5062599">state</span>&nbsp;<span class="op" id="5062605">*</span><span class="ident" id="5062606"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5062618">,</span>&nbsp;<span class="ident" id="5062620">value</span>&nbsp;<span class="ident" id="5062626"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5062633">.</span><span class="ident" id="5062634">Value</span><span class="op" id="5062639">)</span>&nbsp;<span class="op" id="5062641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062647"><a href="/encoding/gob/decode.go.html#5062599">state</a></span><span class="op" id="5062652">.</span><span class="ident" id="5062653">dec</span><span class="op" id="5062656">.</span><span class="ident" id="5062657">decodeMap</span><span class="op" id="5062666">(</span><span class="ident" id="5062667"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5062668">,</span>&nbsp;<span class="ident" id="5062670"><a href="/encoding/gob/decode.go.html#5062599">state</a></span><span class="op" id="5062675">,</span>&nbsp;<span class="ident" id="5062677"><a href="/encoding/gob/decode.go.html#5062620">value</a></span><span class="op" id="5062682">,</span>&nbsp;<span class="op" id="5062684">*</span><span class="ident" id="5062685"><a href="/encoding/gob/decode.go.html#5062405">keyOp</a></span><span class="op" id="5062690">,</span>&nbsp;<span class="op" id="5062692">*</span><span class="ident" id="5062693"><a href="/encoding/gob/decode.go.html#5062474">elemOp</a></span><span class="op" id="5062699">,</span>&nbsp;<span class="ident" id="5062701"><a href="/encoding/gob/decode.go.html#5062550">ovfl</a></span><span class="op" id="5062705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5062710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5062715">case</span>&nbsp;<span class="ident" id="5062720"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5062727">.</span><span class="ident" id="5062728">Slice</span><span class="op" id="5062733">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062738"><a href="/encoding/gob/decode.go.html#5061299">name</a></span>&nbsp;<span class="op" id="5062743">=</span>&nbsp;<span class="string" id="5062745">&#34;element&nbsp;of&nbsp;&#34;</span>&nbsp;<span class="op" id="5062759">+</span>&nbsp;<span class="ident" id="5062761"><a href="/encoding/gob/decode.go.html#5061299">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5062769">if</span>&nbsp;<span class="ident" id="5062772"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5062773">.</span><span class="ident" id="5062774">Elem</span><span class="op" id="5062778">(</span><span class="op" id="5062779">)</span><span class="op" id="5062780">.</span><span class="ident" id="5062781">Kind</span><span class="op" id="5062785">(</span><span class="op" id="5062786">)</span>&nbsp;<span class="op" id="5062788">==</span>&nbsp;<span class="ident" id="5062791"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5062798">.</span><span class="ident" id="5062799">Uint8</span>&nbsp;<span class="op" id="5062805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062811"><a href="/encoding/gob/decode.go.html#5061744">op</a></span>&nbsp;<span class="op" id="5062814">=</span>&nbsp;<span class="ident" id="5062816"><a href="/encoding/gob/decode.go.html#5048176">decUint8Slice</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5062834">break</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5062843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5062848">var</span>&nbsp;<span class="ident" id="5062852">elemId</span>&nbsp;<span class="ident" id="5062859"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5062869">if</span>&nbsp;<span class="ident" id="5062872">tt</span><span class="op" id="5062874">,</span>&nbsp;<span class="ident" id="5062876">ok</span>&nbsp;<span class="op" id="5062879">:=</span>&nbsp;<span class="ident" id="5062882"><a href="/encoding/gob/type.go.html#5144282">builtinIdToType</a></span><span class="op" id="5062897">[</span><span class="ident" id="5062898"><a href="/encoding/gob/decode.go.html#5061267">wireId</a></span><span class="op" id="5062904">]</span><span class="op" id="5062905">;</span>&nbsp;<span class="ident" id="5062907"><a href="/encoding/gob/decode.go.html#5062876">ok</a></span>&nbsp;<span class="op" id="5062910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062916"><a href="/encoding/gob/decode.go.html#5062852">elemId</a></span>&nbsp;<span class="op" id="5062923">=</span>&nbsp;<span class="ident" id="5062925"><a href="/encoding/gob/decode.go.html#5062872">tt</a></span><span class="op" id="5062927">.</span><span class="op" id="5062928">(</span><span class="op" id="5062929">*</span><span class="ident" id="5062930"><a href="/encoding/gob/type.go.html#5149641">sliceType</a></span><span class="op" id="5062939">)</span><span class="op" id="5062940">.</span><span class="ident" id="5062941">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5062949">}</span>&nbsp;<span class="keyword" id="5062951">else</span>&nbsp;<span class="op" id="5062956">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062962"><a href="/encoding/gob/decode.go.html#5062852">elemId</a></span>&nbsp;<span class="op" id="5062969">=</span>&nbsp;<span class="ident" id="5062971"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5062974">.</span><span class="ident" id="5062975">wireType</span><span class="op" id="5062983">[</span><span class="ident" id="5062984"><a href="/encoding/gob/decode.go.html#5061267">wireId</a></span><span class="op" id="5062990">]</span><span class="op" id="5062991">.</span><span class="ident" id="5062992">SliceT</span><span class="op" id="5062998">.</span><span class="ident" id="5062999">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063012">elemOp</span>&nbsp;<span class="op" id="5063019">:=</span>&nbsp;<span class="ident" id="5063022"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5063025">.</span><span class="ident" id="5063026">decOpFor</span><span class="op" id="5063034">(</span><span class="ident" id="5063035"><a href="/encoding/gob/decode.go.html#5062852">elemId</a></span><span class="op" id="5063041">,</span>&nbsp;<span class="ident" id="5063043"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5063044">.</span><span class="ident" id="5063045">Elem</span><span class="op" id="5063049">(</span><span class="op" id="5063050">)</span><span class="op" id="5063051">,</span>&nbsp;<span class="ident" id="5063053"><a href="/encoding/gob/decode.go.html#5061299">name</a></span><span class="op" id="5063057">,</span>&nbsp;<span class="ident" id="5063059"><a href="/encoding/gob/decode.go.html#5061312">inProgress</a></span><span class="op" id="5063069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063074">ovfl</span>&nbsp;<span class="op" id="5063079">:=</span>&nbsp;<span class="ident" id="5063082"><a href="/encoding/gob/decode.go.html#5040493">overflow</a></span><span class="op" id="5063090">(</span><span class="ident" id="5063091"><a href="/encoding/gob/decode.go.html#5061299">name</a></span><span class="op" id="5063095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063100">helper</span>&nbsp;<span class="op" id="5063107">:=</span>&nbsp;<span class="ident" id="5063110"><a href="/encoding/gob/dec_helpers.go.html#5025199">decSliceHelper</a></span><span class="op" id="5063124">[</span><span class="ident" id="5063125"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5063126">.</span><span class="ident" id="5063127">Elem</span><span class="op" id="5063131">(</span><span class="op" id="5063132">)</span><span class="op" id="5063133">.</span><span class="ident" id="5063134">Kind</span><span class="op" id="5063138">(</span><span class="op" id="5063139">)</span><span class="op" id="5063140">]</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063145"><a href="/encoding/gob/decode.go.html#5061744">op</a></span>&nbsp;<span class="op" id="5063148">=</span>&nbsp;<span class="keyword" id="5063150">func</span><span class="op" id="5063154">(</span><span class="ident" id="5063155">i</span>&nbsp;<span class="op" id="5063157">*</span><span class="ident" id="5063158"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5063166">,</span>&nbsp;<span class="ident" id="5063168">state</span>&nbsp;<span class="op" id="5063174">*</span><span class="ident" id="5063175"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5063187">,</span>&nbsp;<span class="ident" id="5063189">value</span>&nbsp;<span class="ident" id="5063195"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5063202">.</span><span class="ident" id="5063203">Value</span><span class="op" id="5063208">)</span>&nbsp;<span class="op" id="5063210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063216"><a href="/encoding/gob/decode.go.html#5063168">state</a></span><span class="op" id="5063221">.</span><span class="ident" id="5063222">dec</span><span class="op" id="5063225">.</span><span class="ident" id="5063226">decodeSlice</span><span class="op" id="5063237">(</span><span class="ident" id="5063238"><a href="/encoding/gob/decode.go.html#5063168">state</a></span><span class="op" id="5063243">,</span>&nbsp;<span class="ident" id="5063245"><a href="/encoding/gob/decode.go.html#5063189">value</a></span><span class="op" id="5063250">,</span>&nbsp;<span class="op" id="5063252">*</span><span class="ident" id="5063253"><a href="/encoding/gob/decode.go.html#5063012">elemOp</a></span><span class="op" id="5063259">,</span>&nbsp;<span class="ident" id="5063261"><a href="/encoding/gob/decode.go.html#5063074">ovfl</a></span><span class="op" id="5063265">,</span>&nbsp;<span class="ident" id="5063267"><a href="/encoding/gob/decode.go.html#5063100">helper</a></span><span class="op" id="5063273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063283">case</span>&nbsp;<span class="ident" id="5063288"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5063295">.</span><span class="ident" id="5063296">Struct</span><span class="op" id="5063302">:</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5063307">//&nbsp;Generate&nbsp;a&nbsp;closure&nbsp;that&nbsp;calls&nbsp;out&nbsp;to&nbsp;the&nbsp;engine&nbsp;for&nbsp;the&nbsp;nested&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063382">ut</span>&nbsp;<span class="op" id="5063385">:=</span>&nbsp;<span class="ident" id="5063388"><a href="/encoding/gob/type.go.html#5143544">userType</a></span><span class="op" id="5063396">(</span><span class="ident" id="5063397"><a href="/encoding/gob/decode.go.html#5061724">typ</a></span><span class="op" id="5063400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063405">enginePtr</span><span class="op" id="5063414">,</span>&nbsp;<span class="ident" id="5063416">err</span>&nbsp;<span class="op" id="5063420">:=</span>&nbsp;<span class="ident" id="5063423"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5063426">.</span><span class="ident" id="5063427">getDecEnginePtr</span><span class="op" id="5063442">(</span><span class="ident" id="5063443"><a href="/encoding/gob/decode.go.html#5061267">wireId</a></span><span class="op" id="5063449">,</span>&nbsp;<span class="ident" id="5063451"><a href="/encoding/gob/decode.go.html#5063382">ut</a></span><span class="op" id="5063453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063458">if</span>&nbsp;<span class="ident" id="5063461"><a href="/encoding/gob/decode.go.html#5063416">err</a></span>&nbsp;<span class="op" id="5063465">!=</span>&nbsp;<span class="ident" id="5063468">nil</span>&nbsp;<span class="op" id="5063472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063478"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5063484">(</span><span class="ident" id="5063485"><a href="/encoding/gob/decode.go.html#5063416">err</a></span><span class="op" id="5063488">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063498"><a href="/encoding/gob/decode.go.html#5061744">op</a></span>&nbsp;<span class="op" id="5063501">=</span>&nbsp;<span class="keyword" id="5063503">func</span><span class="op" id="5063507">(</span><span class="ident" id="5063508">i</span>&nbsp;<span class="op" id="5063510">*</span><span class="ident" id="5063511"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5063519">,</span>&nbsp;<span class="ident" id="5063521">state</span>&nbsp;<span class="op" id="5063527">*</span><span class="ident" id="5063528"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5063540">,</span>&nbsp;<span class="ident" id="5063542">value</span>&nbsp;<span class="ident" id="5063548"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5063555">.</span><span class="ident" id="5063556">Value</span><span class="op" id="5063561">)</span>&nbsp;<span class="op" id="5063563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5063569">//&nbsp;indirect&nbsp;through&nbsp;enginePtr&nbsp;to&nbsp;delay&nbsp;evaluation&nbsp;for&nbsp;recursive&nbsp;structs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063646"><a href="/encoding/gob/decode.go.html#5061244">dec</a></span><span class="op" id="5063649">.</span><span class="ident" id="5063650">decodeStruct</span><span class="op" id="5063662">(</span><span class="op" id="5063663">*</span><span class="ident" id="5063664"><a href="/encoding/gob/decode.go.html#5063405">enginePtr</a></span><span class="op" id="5063673">,</span>&nbsp;<span class="ident" id="5063675"><a href="/encoding/gob/decode.go.html#5063382">ut</a></span><span class="op" id="5063677">,</span>&nbsp;<span class="ident" id="5063679"><a href="/encoding/gob/decode.go.html#5063542">value</a></span><span class="op" id="5063684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063689">}</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063693">case</span>&nbsp;<span class="ident" id="5063698"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5063705">.</span><span class="ident" id="5063706">Interface</span><span class="op" id="5063715">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063720"><a href="/encoding/gob/decode.go.html#5061744">op</a></span>&nbsp;<span class="op" id="5063723">=</span>&nbsp;<span class="keyword" id="5063725">func</span><span class="op" id="5063729">(</span><span class="ident" id="5063730">i</span>&nbsp;<span class="op" id="5063732">*</span><span class="ident" id="5063733"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5063741">,</span>&nbsp;<span class="ident" id="5063743">state</span>&nbsp;<span class="op" id="5063749">*</span><span class="ident" id="5063750"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5063762">,</span>&nbsp;<span class="ident" id="5063764">value</span>&nbsp;<span class="ident" id="5063770"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5063777">.</span><span class="ident" id="5063778">Value</span><span class="op" id="5063783">)</span>&nbsp;<span class="op" id="5063785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063791"><a href="/encoding/gob/decode.go.html#5063743">state</a></span><span class="op" id="5063796">.</span><span class="ident" id="5063797">dec</span><span class="op" id="5063800">.</span><span class="ident" id="5063801">decodeInterface</span><span class="op" id="5063816">(</span><span class="ident" id="5063817"><a href="/encoding/gob/decode.go.html#5061892">t</a></span><span class="op" id="5063818">,</span>&nbsp;<span class="ident" id="5063820"><a href="/encoding/gob/decode.go.html#5063743">state</a></span><span class="op" id="5063825">,</span>&nbsp;<span class="ident" id="5063827"><a href="/encoding/gob/decode.go.html#5063764">value</a></span><span class="op" id="5063832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063841">}</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063847">if</span>&nbsp;<span class="ident" id="5063850"><a href="/encoding/gob/decode.go.html#5061744">op</a></span>&nbsp;<span class="op" id="5063853">==</span>&nbsp;<span class="ident" id="5063856">nil</span>&nbsp;<span class="op" id="5063860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063864"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5063870">(</span><span class="string" id="5063871">&#34;decode&nbsp;can&#39;t&nbsp;handle&nbsp;type&nbsp;%s&#34;</span><span class="op" id="5063900">,</span>&nbsp;<span class="ident" id="5063902"><a href="/encoding/gob/decode.go.html#5061282">rt</a></span><span class="op" id="5063904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063910">return</span>&nbsp;<span class="op" id="5063917">&amp;</span><span class="ident" id="5063918"><a href="/encoding/gob/decode.go.html#5061744">op</a></span><br>
<span class="lineno">840</span><span class="op" id="5063921">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5063924">//&nbsp;decIgnoreOpFor&nbsp;returns&nbsp;the&nbsp;decoding&nbsp;op&nbsp;for&nbsp;a&nbsp;field&nbsp;that&nbsp;has&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5064003">func</span>&nbsp;<span class="op" id="5064008">(</span><span class="ident" id="5064009">dec</span>&nbsp;<span class="op" id="5064013">*</span><span class="ident" id="5064014"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5064021">)</span>&nbsp;<span class="ident" id="5064023">decIgnoreOpFor</span><span class="op" id="5064037">(</span><span class="ident" id="5064038">wireId</span>&nbsp;<span class="ident" id="5064045"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5064051">)</span>&nbsp;<span class="ident" id="5064053"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span>&nbsp;<span class="op" id="5064059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064062">op</span><span class="op" id="5064064">,</span>&nbsp;<span class="ident" id="5064066">ok</span>&nbsp;<span class="op" id="5064069">:=</span>&nbsp;<span class="ident" id="5064072"><a href="/encoding/gob/decode.go.html#5060918">decIgnoreOpMap</a></span><span class="op" id="5064086">[</span><span class="ident" id="5064087"><a href="/encoding/gob/decode.go.html#5064038">wireId</a></span><span class="op" id="5064093">]</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5064096">if</span>&nbsp;<span class="op" id="5064099">!</span><span class="ident" id="5064100"><a href="/encoding/gob/decode.go.html#5064066">ok</a></span>&nbsp;<span class="op" id="5064103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5064107">if</span>&nbsp;<span class="ident" id="5064110"><a href="/encoding/gob/decode.go.html#5064038">wireId</a></span>&nbsp;<span class="op" id="5064117">==</span>&nbsp;<span class="ident" id="5064120"><a href="/encoding/gob/type.go.html#5146261">tInterface</a></span>&nbsp;<span class="op" id="5064131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5064136">//&nbsp;Special&nbsp;case&nbsp;because&nbsp;it&#39;s&nbsp;a&nbsp;method:&nbsp;the&nbsp;ignored&nbsp;item&nbsp;might</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5064201">//&nbsp;define&nbsp;types&nbsp;and&nbsp;we&nbsp;need&nbsp;to&nbsp;record&nbsp;their&nbsp;state&nbsp;in&nbsp;the&nbsp;decoder.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064270"><a href="/encoding/gob/decode.go.html#5064062">op</a></span>&nbsp;<span class="op" id="5064273">=</span>&nbsp;<span class="keyword" id="5064275">func</span><span class="op" id="5064279">(</span><span class="ident" id="5064280">i</span>&nbsp;<span class="op" id="5064282">*</span><span class="ident" id="5064283"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5064291">,</span>&nbsp;<span class="ident" id="5064293">state</span>&nbsp;<span class="op" id="5064299">*</span><span class="ident" id="5064300"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5064312">,</span>&nbsp;<span class="ident" id="5064314">value</span>&nbsp;<span class="ident" id="5064320"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5064327">.</span><span class="ident" id="5064328">Value</span><span class="op" id="5064333">)</span>&nbsp;<span class="op" id="5064335">{</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064341"><a href="/encoding/gob/decode.go.html#5064293">state</a></span><span class="op" id="5064346">.</span><span class="ident" id="5064347">dec</span><span class="op" id="5064350">.</span><span class="ident" id="5064351">ignoreInterface</span><span class="op" id="5064366">(</span><span class="ident" id="5064367"><a href="/encoding/gob/decode.go.html#5064293">state</a></span><span class="op" id="5064372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5064377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5064382">return</span>&nbsp;<span class="ident" id="5064389"><a href="/encoding/gob/decode.go.html#5064062">op</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5064394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5064398">//&nbsp;Special&nbsp;cases</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064417">wire</span>&nbsp;<span class="op" id="5064422">:=</span>&nbsp;<span class="ident" id="5064425"><a href="/encoding/gob/decode.go.html#5064009">dec</a></span><span class="op" id="5064428">.</span><span class="ident" id="5064429">wireType</span><span class="op" id="5064437">[</span><span class="ident" id="5064438"><a href="/encoding/gob/decode.go.html#5064038">wireId</a></span><span class="op" id="5064444">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5064448">switch</span>&nbsp;<span class="op" id="5064455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5064459">case</span>&nbsp;<span class="ident" id="5064464"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span>&nbsp;<span class="op" id="5064469">==</span>&nbsp;<span class="ident" id="5064472">nil</span><span class="op" id="5064475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064480"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5064486">(</span><span class="string" id="5064487">&#34;bad&nbsp;data:&nbsp;undefined&nbsp;type&nbsp;%s&#34;</span><span class="op" id="5064516">,</span>&nbsp;<span class="ident" id="5064518"><a href="/encoding/gob/decode.go.html#5064038">wireId</a></span><span class="op" id="5064524">.</span><span class="builtintype" id="5064525">string</span><span class="op" id="5064531">(</span><span class="op" id="5064532">)</span><span class="op" id="5064533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5064537">case</span>&nbsp;<span class="ident" id="5064542"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span><span class="op" id="5064546">.</span><span class="ident" id="5064547">ArrayT</span>&nbsp;<span class="op" id="5064554">!=</span>&nbsp;<span class="ident" id="5064557">nil</span><span class="op" id="5064560">:</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064565">elemId</span>&nbsp;<span class="op" id="5064572">:=</span>&nbsp;<span class="ident" id="5064575"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span><span class="op" id="5064579">.</span><span class="ident" id="5064580">ArrayT</span><span class="op" id="5064586">.</span><span class="ident" id="5064587">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064595">elemOp</span>&nbsp;<span class="op" id="5064602">:=</span>&nbsp;<span class="ident" id="5064605"><a href="/encoding/gob/decode.go.html#5064009">dec</a></span><span class="op" id="5064608">.</span><span class="ident" id="5064609">decIgnoreOpFor</span><span class="op" id="5064623">(</span><span class="ident" id="5064624"><a href="/encoding/gob/decode.go.html#5064565">elemId</a></span><span class="op" id="5064630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064635"><a href="/encoding/gob/decode.go.html#5064062">op</a></span>&nbsp;<span class="op" id="5064638">=</span>&nbsp;<span class="keyword" id="5064640">func</span><span class="op" id="5064644">(</span><span class="ident" id="5064645">i</span>&nbsp;<span class="op" id="5064647">*</span><span class="ident" id="5064648"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5064656">,</span>&nbsp;<span class="ident" id="5064658">state</span>&nbsp;<span class="op" id="5064664">*</span><span class="ident" id="5064665"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5064677">,</span>&nbsp;<span class="ident" id="5064679">value</span>&nbsp;<span class="ident" id="5064685"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5064692">.</span><span class="ident" id="5064693">Value</span><span class="op" id="5064698">)</span>&nbsp;<span class="op" id="5064700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064706"><a href="/encoding/gob/decode.go.html#5064658">state</a></span><span class="op" id="5064711">.</span><span class="ident" id="5064712">dec</span><span class="op" id="5064715">.</span><span class="ident" id="5064716">ignoreArray</span><span class="op" id="5064727">(</span><span class="ident" id="5064728"><a href="/encoding/gob/decode.go.html#5064658">state</a></span><span class="op" id="5064733">,</span>&nbsp;<span class="ident" id="5064735"><a href="/encoding/gob/decode.go.html#5064595">elemOp</a></span><span class="op" id="5064741">,</span>&nbsp;<span class="ident" id="5064743"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span><span class="op" id="5064747">.</span><span class="ident" id="5064748">ArrayT</span><span class="op" id="5064754">.</span><span class="ident" id="5064755">Len</span><span class="op" id="5064758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5064763">}</span><br>
<span class="lineno">865</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5064768">case</span>&nbsp;<span class="ident" id="5064773"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span><span class="op" id="5064777">.</span><span class="ident" id="5064778">MapT</span>&nbsp;<span class="op" id="5064783">!=</span>&nbsp;<span class="ident" id="5064786">nil</span><span class="op" id="5064789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064794">keyId</span>&nbsp;<span class="op" id="5064800">:=</span>&nbsp;<span class="ident" id="5064803"><a href="/encoding/gob/decode.go.html#5064009">dec</a></span><span class="op" id="5064806">.</span><span class="ident" id="5064807">wireType</span><span class="op" id="5064815">[</span><span class="ident" id="5064816"><a href="/encoding/gob/decode.go.html#5064038">wireId</a></span><span class="op" id="5064822">]</span><span class="op" id="5064823">.</span><span class="ident" id="5064824">MapT</span><span class="op" id="5064828">.</span><span class="ident" id="5064829">Key</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064836">elemId</span>&nbsp;<span class="op" id="5064843">:=</span>&nbsp;<span class="ident" id="5064846"><a href="/encoding/gob/decode.go.html#5064009">dec</a></span><span class="op" id="5064849">.</span><span class="ident" id="5064850">wireType</span><span class="op" id="5064858">[</span><span class="ident" id="5064859"><a href="/encoding/gob/decode.go.html#5064038">wireId</a></span><span class="op" id="5064865">]</span><span class="op" id="5064866">.</span><span class="ident" id="5064867">MapT</span><span class="op" id="5064871">.</span><span class="ident" id="5064872">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064880">keyOp</span>&nbsp;<span class="op" id="5064886">:=</span>&nbsp;<span class="ident" id="5064889"><a href="/encoding/gob/decode.go.html#5064009">dec</a></span><span class="op" id="5064892">.</span><span class="ident" id="5064893">decIgnoreOpFor</span><span class="op" id="5064907">(</span><span class="ident" id="5064908"><a href="/encoding/gob/decode.go.html#5064794">keyId</a></span><span class="op" id="5064913">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064918">elemOp</span>&nbsp;<span class="op" id="5064925">:=</span>&nbsp;<span class="ident" id="5064928"><a href="/encoding/gob/decode.go.html#5064009">dec</a></span><span class="op" id="5064931">.</span><span class="ident" id="5064932">decIgnoreOpFor</span><span class="op" id="5064946">(</span><span class="ident" id="5064947"><a href="/encoding/gob/decode.go.html#5064836">elemId</a></span><span class="op" id="5064953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5064958"><a href="/encoding/gob/decode.go.html#5064062">op</a></span>&nbsp;<span class="op" id="5064961">=</span>&nbsp;<span class="keyword" id="5064963">func</span><span class="op" id="5064967">(</span><span class="ident" id="5064968">i</span>&nbsp;<span class="op" id="5064970">*</span><span class="ident" id="5064971"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5064979">,</span>&nbsp;<span class="ident" id="5064981">state</span>&nbsp;<span class="op" id="5064987">*</span><span class="ident" id="5064988"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5065000">,</span>&nbsp;<span class="ident" id="5065002">value</span>&nbsp;<span class="ident" id="5065008"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5065015">.</span><span class="ident" id="5065016">Value</span><span class="op" id="5065021">)</span>&nbsp;<span class="op" id="5065023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065029"><a href="/encoding/gob/decode.go.html#5064981">state</a></span><span class="op" id="5065034">.</span><span class="ident" id="5065035">dec</span><span class="op" id="5065038">.</span><span class="ident" id="5065039">ignoreMap</span><span class="op" id="5065048">(</span><span class="ident" id="5065049"><a href="/encoding/gob/decode.go.html#5064981">state</a></span><span class="op" id="5065054">,</span>&nbsp;<span class="ident" id="5065056"><a href="/encoding/gob/decode.go.html#5064880">keyOp</a></span><span class="op" id="5065061">,</span>&nbsp;<span class="ident" id="5065063"><a href="/encoding/gob/decode.go.html#5064918">elemOp</a></span><span class="op" id="5065069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5065074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5065079">case</span>&nbsp;<span class="ident" id="5065084"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span><span class="op" id="5065088">.</span><span class="ident" id="5065089">SliceT</span>&nbsp;<span class="op" id="5065096">!=</span>&nbsp;<span class="ident" id="5065099">nil</span><span class="op" id="5065102">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065107">elemId</span>&nbsp;<span class="op" id="5065114">:=</span>&nbsp;<span class="ident" id="5065117"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span><span class="op" id="5065121">.</span><span class="ident" id="5065122">SliceT</span><span class="op" id="5065128">.</span><span class="ident" id="5065129">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065137">elemOp</span>&nbsp;<span class="op" id="5065144">:=</span>&nbsp;<span class="ident" id="5065147"><a href="/encoding/gob/decode.go.html#5064009">dec</a></span><span class="op" id="5065150">.</span><span class="ident" id="5065151">decIgnoreOpFor</span><span class="op" id="5065165">(</span><span class="ident" id="5065166"><a href="/encoding/gob/decode.go.html#5065107">elemId</a></span><span class="op" id="5065172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065177"><a href="/encoding/gob/decode.go.html#5064062">op</a></span>&nbsp;<span class="op" id="5065180">=</span>&nbsp;<span class="keyword" id="5065182">func</span><span class="op" id="5065186">(</span><span class="ident" id="5065187">i</span>&nbsp;<span class="op" id="5065189">*</span><span class="ident" id="5065190"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5065198">,</span>&nbsp;<span class="ident" id="5065200">state</span>&nbsp;<span class="op" id="5065206">*</span><span class="ident" id="5065207"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5065219">,</span>&nbsp;<span class="ident" id="5065221">value</span>&nbsp;<span class="ident" id="5065227"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5065234">.</span><span class="ident" id="5065235">Value</span><span class="op" id="5065240">)</span>&nbsp;<span class="op" id="5065242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065248"><a href="/encoding/gob/decode.go.html#5065200">state</a></span><span class="op" id="5065253">.</span><span class="ident" id="5065254">dec</span><span class="op" id="5065257">.</span><span class="ident" id="5065258">ignoreSlice</span><span class="op" id="5065269">(</span><span class="ident" id="5065270"><a href="/encoding/gob/decode.go.html#5065200">state</a></span><span class="op" id="5065275">,</span>&nbsp;<span class="ident" id="5065277"><a href="/encoding/gob/decode.go.html#5065137">elemOp</a></span><span class="op" id="5065283">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5065288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5065293">case</span>&nbsp;<span class="ident" id="5065298"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span><span class="op" id="5065302">.</span><span class="ident" id="5065303">StructT</span>&nbsp;<span class="op" id="5065311">!=</span>&nbsp;<span class="ident" id="5065314">nil</span><span class="op" id="5065317">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5065322">//&nbsp;Generate&nbsp;a&nbsp;closure&nbsp;that&nbsp;calls&nbsp;out&nbsp;to&nbsp;the&nbsp;engine&nbsp;for&nbsp;the&nbsp;nested&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065397">enginePtr</span><span class="op" id="5065406">,</span>&nbsp;<span class="ident" id="5065408">err</span>&nbsp;<span class="op" id="5065412">:=</span>&nbsp;<span class="ident" id="5065415"><a href="/encoding/gob/decode.go.html#5064009">dec</a></span><span class="op" id="5065418">.</span><span class="ident" id="5065419">getIgnoreEnginePtr</span><span class="op" id="5065437">(</span><span class="ident" id="5065438"><a href="/encoding/gob/decode.go.html#5064038">wireId</a></span><span class="op" id="5065444">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5065449">if</span>&nbsp;<span class="ident" id="5065452"><a href="/encoding/gob/decode.go.html#5065408">err</a></span>&nbsp;<span class="op" id="5065456">!=</span>&nbsp;<span class="ident" id="5065459">nil</span>&nbsp;<span class="op" id="5065463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065469"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5065475">(</span><span class="ident" id="5065476"><a href="/encoding/gob/decode.go.html#5065408">err</a></span><span class="op" id="5065479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5065484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065489"><a href="/encoding/gob/decode.go.html#5064062">op</a></span>&nbsp;<span class="op" id="5065492">=</span>&nbsp;<span class="keyword" id="5065494">func</span><span class="op" id="5065498">(</span><span class="ident" id="5065499">i</span>&nbsp;<span class="op" id="5065501">*</span><span class="ident" id="5065502"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5065510">,</span>&nbsp;<span class="ident" id="5065512">state</span>&nbsp;<span class="op" id="5065518">*</span><span class="ident" id="5065519"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5065531">,</span>&nbsp;<span class="ident" id="5065533">value</span>&nbsp;<span class="ident" id="5065539"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5065546">.</span><span class="ident" id="5065547">Value</span><span class="op" id="5065552">)</span>&nbsp;<span class="op" id="5065554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5065560">//&nbsp;indirect&nbsp;through&nbsp;enginePtr&nbsp;to&nbsp;delay&nbsp;evaluation&nbsp;for&nbsp;recursive&nbsp;structs</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065636"><a href="/encoding/gob/decode.go.html#5065512">state</a></span><span class="op" id="5065641">.</span><span class="ident" id="5065642">dec</span><span class="op" id="5065645">.</span><span class="ident" id="5065646">ignoreStruct</span><span class="op" id="5065658">(</span><span class="op" id="5065659">*</span><span class="ident" id="5065660"><a href="/encoding/gob/decode.go.html#5065397">enginePtr</a></span><span class="op" id="5065669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5065674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5065679">case</span>&nbsp;<span class="ident" id="5065684"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span><span class="op" id="5065688">.</span><span class="ident" id="5065689">GobEncoderT</span>&nbsp;<span class="op" id="5065701">!=</span>&nbsp;<span class="ident" id="5065704">nil</span><span class="op" id="5065707">,</span>&nbsp;<span class="ident" id="5065709"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span><span class="op" id="5065713">.</span><span class="ident" id="5065714">BinaryMarshalerT</span>&nbsp;<span class="op" id="5065731">!=</span>&nbsp;<span class="ident" id="5065734">nil</span><span class="op" id="5065737">,</span>&nbsp;<span class="ident" id="5065739"><a href="/encoding/gob/decode.go.html#5064417">wire</a></span><span class="op" id="5065743">.</span><span class="ident" id="5065744">TextMarshalerT</span>&nbsp;<span class="op" id="5065759">!=</span>&nbsp;<span class="ident" id="5065762">nil</span><span class="op" id="5065765">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065770"><a href="/encoding/gob/decode.go.html#5064062">op</a></span>&nbsp;<span class="op" id="5065773">=</span>&nbsp;<span class="keyword" id="5065775">func</span><span class="op" id="5065779">(</span><span class="ident" id="5065780">i</span>&nbsp;<span class="op" id="5065782">*</span><span class="ident" id="5065783"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5065791">,</span>&nbsp;<span class="ident" id="5065793">state</span>&nbsp;<span class="op" id="5065799">*</span><span class="ident" id="5065800"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5065812">,</span>&nbsp;<span class="ident" id="5065814">value</span>&nbsp;<span class="ident" id="5065820"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5065827">.</span><span class="ident" id="5065828">Value</span><span class="op" id="5065833">)</span>&nbsp;<span class="op" id="5065835">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065841"><a href="/encoding/gob/decode.go.html#5065793">state</a></span><span class="op" id="5065846">.</span><span class="ident" id="5065847">dec</span><span class="op" id="5065850">.</span><span class="ident" id="5065851">ignoreGobDecoder</span><span class="op" id="5065867">(</span><span class="ident" id="5065868"><a href="/encoding/gob/decode.go.html#5065793">state</a></span><span class="op" id="5065873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5065878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5065882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5065885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5065888">if</span>&nbsp;<span class="ident" id="5065891"><a href="/encoding/gob/decode.go.html#5064062">op</a></span>&nbsp;<span class="op" id="5065894">==</span>&nbsp;<span class="ident" id="5065897">nil</span>&nbsp;<span class="op" id="5065901">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5065905"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5065911">(</span><span class="string" id="5065912">&#34;bad&nbsp;data:&nbsp;ignore&nbsp;can&#39;t&nbsp;handle&nbsp;type&nbsp;%s&#34;</span><span class="op" id="5065951">,</span>&nbsp;<span class="ident" id="5065953"><a href="/encoding/gob/decode.go.html#5064038">wireId</a></span><span class="op" id="5065959">.</span><span class="builtintype" id="5065960">string</span><span class="op" id="5065966">(</span><span class="op" id="5065967">)</span><span class="op" id="5065968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5065971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5065974">return</span>&nbsp;<span class="ident" id="5065981"><a href="/encoding/gob/decode.go.html#5064062">op</a></span><br>
<span class="lineno"></span><span class="op" id="5065984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">905</span><span class="comment" id="5065987">//&nbsp;gobDecodeOpFor&nbsp;returns&nbsp;the&nbsp;op&nbsp;for&nbsp;a&nbsp;type&nbsp;that&nbsp;is&nbsp;known&nbsp;to&nbsp;implement</span><br>
<span class="lineno"></span><span class="comment" id="5066058">//&nbsp;GobDecoder.</span><br>
<span class="lineno"></span><span class="keyword" id="5066073">func</span>&nbsp;<span class="op" id="5066078">(</span><span class="ident" id="5066079">dec</span>&nbsp;<span class="op" id="5066083">*</span><span class="ident" id="5066084"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5066091">)</span>&nbsp;<span class="ident" id="5066093">gobDecodeOpFor</span><span class="op" id="5066107">(</span><span class="ident" id="5066108">ut</span>&nbsp;<span class="op" id="5066111">*</span><span class="ident" id="5066112"><a href="/encoding/gob/type.go.html#5138634">userTypeInfo</a></span><span class="op" id="5066124">)</span>&nbsp;<span class="op" id="5066126">*</span><span class="ident" id="5066127"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span>&nbsp;<span class="op" id="5066133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5066136">rcvrType</span>&nbsp;<span class="op" id="5066145">:=</span>&nbsp;<span class="ident" id="5066148"><a href="/encoding/gob/decode.go.html#5066108">ut</a></span><span class="op" id="5066150">.</span><span class="ident" id="5066151">user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5066157">if</span>&nbsp;<span class="ident" id="5066160"><a href="/encoding/gob/decode.go.html#5066108">ut</a></span><span class="op" id="5066162">.</span><span class="ident" id="5066163">decIndir</span>&nbsp;<span class="op" id="5066172">==</span>&nbsp;<span class="op" id="5066175">-</span><span class="num" id="5066176">1</span>&nbsp;<span class="op" id="5066178">{</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5066182"><a href="/encoding/gob/decode.go.html#5066136">rcvrType</a></span>&nbsp;<span class="op" id="5066191">=</span>&nbsp;<span class="ident" id="5066193"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5066200">.</span><span class="ident" id="5066201">PtrTo</span><span class="op" id="5066206">(</span><span class="ident" id="5066207"><a href="/encoding/gob/decode.go.html#5066136">rcvrType</a></span><span class="op" id="5066215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5066218">}</span>&nbsp;<span class="keyword" id="5066220">else</span>&nbsp;<span class="keyword" id="5066225">if</span>&nbsp;<span class="ident" id="5066228"><a href="/encoding/gob/decode.go.html#5066108">ut</a></span><span class="op" id="5066230">.</span><span class="ident" id="5066231">decIndir</span>&nbsp;<span class="op" id="5066240">&gt;</span>&nbsp;<span class="num" id="5066242">0</span>&nbsp;<span class="op" id="5066244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5066248">for</span>&nbsp;<span class="ident" id="5066252">i</span>&nbsp;<span class="op" id="5066254">:=</span>&nbsp;<span class="builtintype" id="5066257">int8</span><span class="op" id="5066261">(</span><span class="num" id="5066262">0</span><span class="op" id="5066263">)</span><span class="op" id="5066264">;</span>&nbsp;<span class="ident" id="5066266"><a href="/encoding/gob/decode.go.html#5066252">i</a></span>&nbsp;<span class="op" id="5066268">&lt;</span>&nbsp;<span class="ident" id="5066270"><a href="/encoding/gob/decode.go.html#5066108">ut</a></span><span class="op" id="5066272">.</span><span class="ident" id="5066273">decIndir</span><span class="op" id="5066281">;</span>&nbsp;<span class="ident" id="5066283"><a href="/encoding/gob/decode.go.html#5066252">i</a></span><span class="op" id="5066284">++</span>&nbsp;<span class="op" id="5066287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5066292"><a href="/encoding/gob/decode.go.html#5066136">rcvrType</a></span>&nbsp;<span class="op" id="5066301">=</span>&nbsp;<span class="ident" id="5066303"><a href="/encoding/gob/decode.go.html#5066136">rcvrType</a></span><span class="op" id="5066311">.</span><span class="ident" id="5066312">Elem</span><span class="op" id="5066316">(</span><span class="op" id="5066317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5066321">}</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5066324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5066327">var</span>&nbsp;<span class="ident" id="5066331">op</span>&nbsp;<span class="ident" id="5066334"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5066341"><a href="/encoding/gob/decode.go.html#5066331">op</a></span>&nbsp;<span class="op" id="5066344">=</span>&nbsp;<span class="keyword" id="5066346">func</span><span class="op" id="5066350">(</span><span class="ident" id="5066351">i</span>&nbsp;<span class="op" id="5066353">*</span><span class="ident" id="5066354"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5066362">,</span>&nbsp;<span class="ident" id="5066364">state</span>&nbsp;<span class="op" id="5066370">*</span><span class="ident" id="5066371"><a href="/encoding/gob/decode.go.html#5038600">decoderState</a></span><span class="op" id="5066383">,</span>&nbsp;<span class="ident" id="5066385">value</span>&nbsp;<span class="ident" id="5066391"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5066398">.</span><span class="ident" id="5066399">Value</span><span class="op" id="5066404">)</span>&nbsp;<span class="op" id="5066406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5066410">//&nbsp;We&nbsp;now&nbsp;have&nbsp;the&nbsp;base&nbsp;type.&nbsp;We&nbsp;need&nbsp;its&nbsp;address&nbsp;if&nbsp;the&nbsp;receiver&nbsp;is&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5066492">if</span>&nbsp;<span class="ident" id="5066495"><a href="/encoding/gob/decode.go.html#5066385">value</a></span><span class="op" id="5066500">.</span><span class="ident" id="5066501">Kind</span><span class="op" id="5066505">(</span><span class="op" id="5066506">)</span>&nbsp;<span class="op" id="5066508">!=</span>&nbsp;<span class="ident" id="5066511"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5066518">.</span><span class="ident" id="5066519">Ptr</span>&nbsp;<span class="op" id="5066523">&amp;&amp;</span>&nbsp;<span class="ident" id="5066526"><a href="/encoding/gob/decode.go.html#5066136">rcvrType</a></span><span class="op" id="5066534">.</span><span class="ident" id="5066535">Kind</span><span class="op" id="5066539">(</span><span class="op" id="5066540">)</span>&nbsp;<span class="op" id="5066542">==</span>&nbsp;<span class="ident" id="5066545"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5066552">.</span><span class="ident" id="5066553">Ptr</span>&nbsp;<span class="op" id="5066557">{</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5066562"><a href="/encoding/gob/decode.go.html#5066385">value</a></span>&nbsp;<span class="op" id="5066568">=</span>&nbsp;<span class="ident" id="5066570"><a href="/encoding/gob/decode.go.html#5066385">value</a></span><span class="op" id="5066575">.</span><span class="ident" id="5066576">Addr</span><span class="op" id="5066580">(</span><span class="op" id="5066581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5066585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5066589"><a href="/encoding/gob/decode.go.html#5066364">state</a></span><span class="op" id="5066594">.</span><span class="ident" id="5066595">dec</span><span class="op" id="5066598">.</span><span class="ident" id="5066599">decodeGobDecoder</span><span class="op" id="5066615">(</span><span class="ident" id="5066616"><a href="/encoding/gob/decode.go.html#5066108">ut</a></span><span class="op" id="5066618">,</span>&nbsp;<span class="ident" id="5066620"><a href="/encoding/gob/decode.go.html#5066364">state</a></span><span class="op" id="5066625">,</span>&nbsp;<span class="ident" id="5066627"><a href="/encoding/gob/decode.go.html#5066385">value</a></span><span class="op" id="5066632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5066635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5066638">return</span>&nbsp;<span class="op" id="5066645">&amp;</span><span class="ident" id="5066646"><a href="/encoding/gob/decode.go.html#5066331">op</a></span><br>
<span class="lineno">925</span><span class="op" id="5066649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5066652">//&nbsp;compatibleType&nbsp;asks:&nbsp;Are&nbsp;these&nbsp;two&nbsp;gob&nbsp;Types&nbsp;compatible?</span><br>
<span class="lineno"></span><span class="comment" id="5066712">//&nbsp;Answers&nbsp;the&nbsp;question&nbsp;for&nbsp;basic&nbsp;types,&nbsp;arrays,&nbsp;maps&nbsp;and&nbsp;slices,&nbsp;plus</span><br>
<span class="lineno"></span><span class="comment" id="5066783">//&nbsp;GobEncoder/Decoder&nbsp;pairs.</span><br>
<span class="lineno">930</span><span class="comment" id="5066812">//&nbsp;Structs&nbsp;are&nbsp;considered&nbsp;ok;&nbsp;fields&nbsp;will&nbsp;be&nbsp;checked&nbsp;later.</span><br>
<span class="lineno"></span><span class="keyword" id="5066872">func</span>&nbsp;<span class="op" id="5066877">(</span><span class="ident" id="5066878">dec</span>&nbsp;<span class="op" id="5066882">*</span><span class="ident" id="5066883"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5066890">)</span>&nbsp;<span class="ident" id="5066892">compatibleType</span><span class="op" id="5066906">(</span><span class="ident" id="5066907">fr</span>&nbsp;<span class="ident" id="5066910"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5066917">.</span><span class="ident" id="5066918">Type</span><span class="op" id="5066922">,</span>&nbsp;<span class="ident" id="5066924">fw</span>&nbsp;<span class="ident" id="5066927"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5066933">,</span>&nbsp;<span class="ident" id="5066935">inProgress</span>&nbsp;<span class="keyword" id="5066946">map</span><span class="op" id="5066949">[</span><span class="ident" id="5066950"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5066957">.</span><span class="ident" id="5066958">Type</span><span class="op" id="5066962">]</span><span class="ident" id="5066963"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5066969">)</span>&nbsp;<span class="builtintype" id="5066971">bool</span>&nbsp;<span class="op" id="5066976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5066979">if</span>&nbsp;<span class="ident" id="5066982">rhs</span><span class="op" id="5066985">,</span>&nbsp;<span class="ident" id="5066987">ok</span>&nbsp;<span class="op" id="5066990">:=</span>&nbsp;<span class="ident" id="5066993"><a href="/encoding/gob/decode.go.html#5066935">inProgress</a></span><span class="op" id="5067003">[</span><span class="ident" id="5067004"><a href="/encoding/gob/decode.go.html#5066907">fr</a></span><span class="op" id="5067006">]</span><span class="op" id="5067007">;</span>&nbsp;<span class="ident" id="5067009"><a href="/encoding/gob/decode.go.html#5066987">ok</a></span>&nbsp;<span class="op" id="5067012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067016">return</span>&nbsp;<span class="ident" id="5067023"><a href="/encoding/gob/decode.go.html#5066982">rhs</a></span>&nbsp;<span class="op" id="5067027">==</span>&nbsp;<span class="ident" id="5067030"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5067034">}</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5067037"><a href="/encoding/gob/decode.go.html#5066935">inProgress</a></span><span class="op" id="5067047">[</span><span class="ident" id="5067048"><a href="/encoding/gob/decode.go.html#5066907">fr</a></span><span class="op" id="5067050">]</span>&nbsp;<span class="op" id="5067052">=</span>&nbsp;<span class="ident" id="5067054"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5067058">ut</span>&nbsp;<span class="op" id="5067061">:=</span>&nbsp;<span class="ident" id="5067064"><a href="/encoding/gob/type.go.html#5143544">userType</a></span><span class="op" id="5067072">(</span><span class="ident" id="5067073"><a href="/encoding/gob/decode.go.html#5066907">fr</a></span><span class="op" id="5067075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5067078">wire</span><span class="op" id="5067082">,</span>&nbsp;<span class="ident" id="5067084">ok</span>&nbsp;<span class="op" id="5067087">:=</span>&nbsp;<span class="ident" id="5067090"><a href="/encoding/gob/decode.go.html#5066878">dec</a></span><span class="op" id="5067093">.</span><span class="ident" id="5067094">wireType</span><span class="op" id="5067102">[</span><span class="ident" id="5067103"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span><span class="op" id="5067105">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5067108">//&nbsp;If&nbsp;wire&nbsp;was&nbsp;encoded&nbsp;with&nbsp;an&nbsp;encoding&nbsp;method,&nbsp;fr&nbsp;must&nbsp;have&nbsp;that&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5067183">//&nbsp;And&nbsp;if&nbsp;not,&nbsp;it&nbsp;must&nbsp;not.</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5067212">//&nbsp;At&nbsp;most&nbsp;one&nbsp;of&nbsp;the&nbsp;booleans&nbsp;in&nbsp;ut&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5067258">//&nbsp;We&nbsp;could&nbsp;possibly&nbsp;relax&nbsp;this&nbsp;constraint&nbsp;in&nbsp;the&nbsp;future&nbsp;in&nbsp;order&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5067328">//&nbsp;choose&nbsp;the&nbsp;decoding&nbsp;method&nbsp;using&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;wireType.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5067391">//&nbsp;The&nbsp;parentheses&nbsp;look&nbsp;odd&nbsp;but&nbsp;are&nbsp;correct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067437">if</span>&nbsp;<span class="op" id="5067440">(</span><span class="ident" id="5067441"><a href="/encoding/gob/decode.go.html#5067058">ut</a></span><span class="op" id="5067443">.</span><span class="ident" id="5067444">externalDec</span>&nbsp;<span class="op" id="5067456">==</span>&nbsp;<span class="ident" id="5067459"><a href="/encoding/gob/type.go.html#5139188">xGob</a></span><span class="op" id="5067463">)</span>&nbsp;<span class="op" id="5067465">!=</span>&nbsp;<span class="op" id="5067468">(</span><span class="ident" id="5067469"><a href="/encoding/gob/decode.go.html#5067084">ok</a></span>&nbsp;<span class="op" id="5067472">&amp;&amp;</span>&nbsp;<span class="ident" id="5067475"><a href="/encoding/gob/decode.go.html#5067078">wire</a></span><span class="op" id="5067479">.</span><span class="ident" id="5067480">GobEncoderT</span>&nbsp;<span class="op" id="5067492">!=</span>&nbsp;<span class="ident" id="5067495">nil</span><span class="op" id="5067498">)</span>&nbsp;<span class="op" id="5067500">||</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5067505">(</span><span class="ident" id="5067506"><a href="/encoding/gob/decode.go.html#5067058">ut</a></span><span class="op" id="5067508">.</span><span class="ident" id="5067509">externalDec</span>&nbsp;<span class="op" id="5067521">==</span>&nbsp;<span class="ident" id="5067524"><a href="/encoding/gob/type.go.html#5139236">xBinary</a></span><span class="op" id="5067531">)</span>&nbsp;<span class="op" id="5067533">!=</span>&nbsp;<span class="op" id="5067536">(</span><span class="ident" id="5067537"><a href="/encoding/gob/decode.go.html#5067084">ok</a></span>&nbsp;<span class="op" id="5067540">&amp;&amp;</span>&nbsp;<span class="ident" id="5067543"><a href="/encoding/gob/decode.go.html#5067078">wire</a></span><span class="op" id="5067547">.</span><span class="ident" id="5067548">BinaryMarshalerT</span>&nbsp;<span class="op" id="5067565">!=</span>&nbsp;<span class="ident" id="5067568">nil</span><span class="op" id="5067571">)</span>&nbsp;<span class="op" id="5067573">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5067578">(</span><span class="ident" id="5067579"><a href="/encoding/gob/decode.go.html#5067058">ut</a></span><span class="op" id="5067581">.</span><span class="ident" id="5067582">externalDec</span>&nbsp;<span class="op" id="5067594">==</span>&nbsp;<span class="ident" id="5067597"><a href="/encoding/gob/type.go.html#5139314">xText</a></span><span class="op" id="5067602">)</span>&nbsp;<span class="op" id="5067604">!=</span>&nbsp;<span class="op" id="5067607">(</span><span class="ident" id="5067608"><a href="/encoding/gob/decode.go.html#5067084">ok</a></span>&nbsp;<span class="op" id="5067611">&amp;&amp;</span>&nbsp;<span class="ident" id="5067614"><a href="/encoding/gob/decode.go.html#5067078">wire</a></span><span class="op" id="5067618">.</span><span class="ident" id="5067619">TextMarshalerT</span>&nbsp;<span class="op" id="5067634">!=</span>&nbsp;<span class="ident" id="5067637">nil</span><span class="op" id="5067640">)</span>&nbsp;<span class="op" id="5067642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067646">return</span>&nbsp;<span class="ident" id="5067653">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5067660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067663">if</span>&nbsp;<span class="ident" id="5067666"><a href="/encoding/gob/decode.go.html#5067058">ut</a></span><span class="op" id="5067668">.</span><span class="ident" id="5067669">externalDec</span>&nbsp;<span class="op" id="5067681">!=</span>&nbsp;<span class="num" id="5067684">0</span>&nbsp;<span class="op" id="5067686">{</span>&nbsp;<span class="comment" id="5067688">//&nbsp;This&nbsp;test&nbsp;trumps&nbsp;all&nbsp;others.</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067722">return</span>&nbsp;<span class="ident" id="5067729">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5067735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067738">switch</span>&nbsp;<span class="ident" id="5067745">t</span>&nbsp;<span class="op" id="5067747">:=</span>&nbsp;<span class="ident" id="5067750"><a href="/encoding/gob/decode.go.html#5067058">ut</a></span><span class="op" id="5067752">.</span><span class="ident" id="5067753">base</span><span class="op" id="5067757">;</span>&nbsp;<span class="ident" id="5067759"><a href="/encoding/gob/decode.go.html#5067745">t</a></span><span class="op" id="5067760">.</span><span class="ident" id="5067761">Kind</span><span class="op" id="5067765">(</span><span class="op" id="5067766">)</span>&nbsp;<span class="op" id="5067768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067771">default</span><span class="op" id="5067778">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5067782">//&nbsp;chan,&nbsp;etc:&nbsp;cannot&nbsp;handle.</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067813">return</span>&nbsp;<span class="ident" id="5067820">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067827">case</span>&nbsp;<span class="ident" id="5067832"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5067839">.</span><span class="ident" id="5067840">Bool</span><span class="op" id="5067844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067848">return</span>&nbsp;<span class="ident" id="5067855"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span>&nbsp;<span class="op" id="5067858">==</span>&nbsp;<span class="ident" id="5067861"><a href="/encoding/gob/type.go.html#5145872">tBool</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067868">case</span>&nbsp;<span class="ident" id="5067873"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5067880">.</span><span class="ident" id="5067881">Int</span><span class="op" id="5067884">,</span>&nbsp;<span class="ident" id="5067886"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5067893">.</span><span class="ident" id="5067894">Int8</span><span class="op" id="5067898">,</span>&nbsp;<span class="ident" id="5067900"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5067907">.</span><span class="ident" id="5067908">Int16</span><span class="op" id="5067913">,</span>&nbsp;<span class="ident" id="5067915"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5067922">.</span><span class="ident" id="5067923">Int32</span><span class="op" id="5067928">,</span>&nbsp;<span class="ident" id="5067930"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5067937">.</span><span class="ident" id="5067938">Int64</span><span class="op" id="5067943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067947">return</span>&nbsp;<span class="ident" id="5067954"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span>&nbsp;<span class="op" id="5067957">==</span>&nbsp;<span class="ident" id="5067960"><a href="/encoding/gob/type.go.html#5145925">tInt</a></span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5067966">case</span>&nbsp;<span class="ident" id="5067971"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5067978">.</span><span class="ident" id="5067979">Uint</span><span class="op" id="5067983">,</span>&nbsp;<span class="ident" id="5067985"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5067992">.</span><span class="ident" id="5067993">Uint8</span><span class="op" id="5067998">,</span>&nbsp;<span class="ident" id="5068000"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068007">.</span><span class="ident" id="5068008">Uint16</span><span class="op" id="5068014">,</span>&nbsp;<span class="ident" id="5068016"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068023">.</span><span class="ident" id="5068024">Uint32</span><span class="op" id="5068030">,</span>&nbsp;<span class="ident" id="5068032"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068039">.</span><span class="ident" id="5068040">Uint64</span><span class="op" id="5068046">,</span>&nbsp;<span class="ident" id="5068048"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068055">.</span><span class="ident" id="5068056">Uintptr</span><span class="op" id="5068063">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068067">return</span>&nbsp;<span class="ident" id="5068074"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span>&nbsp;<span class="op" id="5068077">==</span>&nbsp;<span class="ident" id="5068080"><a href="/encoding/gob/type.go.html#5145976">tUint</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068087">case</span>&nbsp;<span class="ident" id="5068092"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068099">.</span><span class="ident" id="5068100">Float32</span><span class="op" id="5068107">,</span>&nbsp;<span class="ident" id="5068109"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068116">.</span><span class="ident" id="5068117">Float64</span><span class="op" id="5068124">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068128">return</span>&nbsp;<span class="ident" id="5068135"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span>&nbsp;<span class="op" id="5068138">==</span>&nbsp;<span class="ident" id="5068141"><a href="/encoding/gob/type.go.html#5146029">tFloat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068149">case</span>&nbsp;<span class="ident" id="5068154"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068161">.</span><span class="ident" id="5068162">Complex64</span><span class="op" id="5068171">,</span>&nbsp;<span class="ident" id="5068173"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068180">.</span><span class="ident" id="5068181">Complex128</span><span class="op" id="5068191">:</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068195">return</span>&nbsp;<span class="ident" id="5068202"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span>&nbsp;<span class="op" id="5068205">==</span>&nbsp;<span class="ident" id="5068208"><a href="/encoding/gob/type.go.html#5146199">tComplex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068218">case</span>&nbsp;<span class="ident" id="5068223"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068230">.</span><span class="ident" id="5068231">String</span><span class="op" id="5068237">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068241">return</span>&nbsp;<span class="ident" id="5068248"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span>&nbsp;<span class="op" id="5068251">==</span>&nbsp;<span class="ident" id="5068254"><a href="/encoding/gob/type.go.html#5146142">tString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068263">case</span>&nbsp;<span class="ident" id="5068268"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068275">.</span><span class="ident" id="5068276">Interface</span><span class="op" id="5068285">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068289">return</span>&nbsp;<span class="ident" id="5068296"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span>&nbsp;<span class="op" id="5068299">==</span>&nbsp;<span class="ident" id="5068302"><a href="/encoding/gob/type.go.html#5146261">tInterface</a></span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068314">case</span>&nbsp;<span class="ident" id="5068319"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068326">.</span><span class="ident" id="5068327">Array</span><span class="op" id="5068332">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068336">if</span>&nbsp;<span class="op" id="5068339">!</span><span class="ident" id="5068340"><a href="/encoding/gob/decode.go.html#5067084">ok</a></span>&nbsp;<span class="op" id="5068343">||</span>&nbsp;<span class="ident" id="5068346"><a href="/encoding/gob/decode.go.html#5067078">wire</a></span><span class="op" id="5068350">.</span><span class="ident" id="5068351">ArrayT</span>&nbsp;<span class="op" id="5068358">==</span>&nbsp;<span class="ident" id="5068361">nil</span>&nbsp;<span class="op" id="5068365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068370">return</span>&nbsp;<span class="ident" id="5068377">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5068385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5068389">array</span>&nbsp;<span class="op" id="5068395">:=</span>&nbsp;<span class="ident" id="5068398"><a href="/encoding/gob/decode.go.html#5067078">wire</a></span><span class="op" id="5068402">.</span><span class="ident" id="5068403">ArrayT</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068412">return</span>&nbsp;<span class="ident" id="5068419"><a href="/encoding/gob/decode.go.html#5067745">t</a></span><span class="op" id="5068420">.</span><span class="ident" id="5068421">Len</span><span class="op" id="5068424">(</span><span class="op" id="5068425">)</span>&nbsp;<span class="op" id="5068427">==</span>&nbsp;<span class="ident" id="5068430"><a href="/encoding/gob/decode.go.html#5068389">array</a></span><span class="op" id="5068435">.</span><span class="ident" id="5068436">Len</span>&nbsp;<span class="op" id="5068440">&amp;&amp;</span>&nbsp;<span class="ident" id="5068443"><a href="/encoding/gob/decode.go.html#5066878">dec</a></span><span class="op" id="5068446">.</span><span class="ident" id="5068447">compatibleType</span><span class="op" id="5068461">(</span><span class="ident" id="5068462"><a href="/encoding/gob/decode.go.html#5067745">t</a></span><span class="op" id="5068463">.</span><span class="ident" id="5068464">Elem</span><span class="op" id="5068468">(</span><span class="op" id="5068469">)</span><span class="op" id="5068470">,</span>&nbsp;<span class="ident" id="5068472"><a href="/encoding/gob/decode.go.html#5068389">array</a></span><span class="op" id="5068477">.</span><span class="ident" id="5068478">Elem</span><span class="op" id="5068482">,</span>&nbsp;<span class="ident" id="5068484"><a href="/encoding/gob/decode.go.html#5066935">inProgress</a></span><span class="op" id="5068494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068497">case</span>&nbsp;<span class="ident" id="5068502"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068509">.</span><span class="ident" id="5068510">Map</span><span class="op" id="5068513">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068517">if</span>&nbsp;<span class="op" id="5068520">!</span><span class="ident" id="5068521"><a href="/encoding/gob/decode.go.html#5067084">ok</a></span>&nbsp;<span class="op" id="5068524">||</span>&nbsp;<span class="ident" id="5068527"><a href="/encoding/gob/decode.go.html#5067078">wire</a></span><span class="op" id="5068531">.</span><span class="ident" id="5068532">MapT</span>&nbsp;<span class="op" id="5068537">==</span>&nbsp;<span class="ident" id="5068540">nil</span>&nbsp;<span class="op" id="5068544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068549">return</span>&nbsp;<span class="ident" id="5068556">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5068564">}</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5068568">MapType</span>&nbsp;<span class="op" id="5068576">:=</span>&nbsp;<span class="ident" id="5068579"><a href="/encoding/gob/decode.go.html#5067078">wire</a></span><span class="op" id="5068583">.</span><span class="ident" id="5068584">MapT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068591">return</span>&nbsp;<span class="ident" id="5068598"><a href="/encoding/gob/decode.go.html#5066878">dec</a></span><span class="op" id="5068601">.</span><span class="ident" id="5068602">compatibleType</span><span class="op" id="5068616">(</span><span class="ident" id="5068617"><a href="/encoding/gob/decode.go.html#5067745">t</a></span><span class="op" id="5068618">.</span><span class="ident" id="5068619">Key</span><span class="op" id="5068622">(</span><span class="op" id="5068623">)</span><span class="op" id="5068624">,</span>&nbsp;<span class="ident" id="5068626"><a href="/encoding/gob/decode.go.html#5068568">MapType</a></span><span class="op" id="5068633">.</span><span class="ident" id="5068634">Key</span><span class="op" id="5068637">,</span>&nbsp;<span class="ident" id="5068639"><a href="/encoding/gob/decode.go.html#5066935">inProgress</a></span><span class="op" id="5068649">)</span>&nbsp;<span class="op" id="5068651">&amp;&amp;</span>&nbsp;<span class="ident" id="5068654"><a href="/encoding/gob/decode.go.html#5066878">dec</a></span><span class="op" id="5068657">.</span><span class="ident" id="5068658">compatibleType</span><span class="op" id="5068672">(</span><span class="ident" id="5068673"><a href="/encoding/gob/decode.go.html#5067745">t</a></span><span class="op" id="5068674">.</span><span class="ident" id="5068675">Elem</span><span class="op" id="5068679">(</span><span class="op" id="5068680">)</span><span class="op" id="5068681">,</span>&nbsp;<span class="ident" id="5068683"><a href="/encoding/gob/decode.go.html#5068568">MapType</a></span><span class="op" id="5068690">.</span><span class="ident" id="5068691">Elem</span><span class="op" id="5068695">,</span>&nbsp;<span class="ident" id="5068697"><a href="/encoding/gob/decode.go.html#5066935">inProgress</a></span><span class="op" id="5068707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068710">case</span>&nbsp;<span class="ident" id="5068715"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068722">.</span><span class="ident" id="5068723">Slice</span><span class="op" id="5068728">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5068732">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;array&nbsp;of&nbsp;bytes?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068762">if</span>&nbsp;<span class="ident" id="5068765"><a href="/encoding/gob/decode.go.html#5067745">t</a></span><span class="op" id="5068766">.</span><span class="ident" id="5068767">Elem</span><span class="op" id="5068771">(</span><span class="op" id="5068772">)</span><span class="op" id="5068773">.</span><span class="ident" id="5068774">Kind</span><span class="op" id="5068778">(</span><span class="op" id="5068779">)</span>&nbsp;<span class="op" id="5068781">==</span>&nbsp;<span class="ident" id="5068784"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5068791">.</span><span class="ident" id="5068792">Uint8</span>&nbsp;<span class="op" id="5068798">{</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068803">return</span>&nbsp;<span class="ident" id="5068810"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span>&nbsp;<span class="op" id="5068813">==</span>&nbsp;<span class="ident" id="5068816"><a href="/encoding/gob/type.go.html#5146086">tBytes</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5068825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5068829">//&nbsp;Extract&nbsp;and&nbsp;compare&nbsp;element&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068869">var</span>&nbsp;<span class="ident" id="5068873">sw</span>&nbsp;<span class="op" id="5068876">*</span><span class="ident" id="5068877"><a href="/encoding/gob/type.go.html#5149641">sliceType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5068889">if</span>&nbsp;<span class="ident" id="5068892">tt</span><span class="op" id="5068894">,</span>&nbsp;<span class="ident" id="5068896">ok</span>&nbsp;<span class="op" id="5068899">:=</span>&nbsp;<span class="ident" id="5068902"><a href="/encoding/gob/type.go.html#5144282">builtinIdToType</a></span><span class="op" id="5068917">[</span><span class="ident" id="5068918"><a href="/encoding/gob/decode.go.html#5066924">fw</a></span><span class="op" id="5068920">]</span><span class="op" id="5068921">;</span>&nbsp;<span class="ident" id="5068923"><a href="/encoding/gob/decode.go.html#5068896">ok</a></span>&nbsp;<span class="op" id="5068926">{</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5068931"><a href="/encoding/gob/decode.go.html#5068873">sw</a></span><span class="op" id="5068933">,</span>&nbsp;<span class="ident" id="5068935">_</span>&nbsp;<span class="op" id="5068937">=</span>&nbsp;<span class="ident" id="5068939"><a href="/encoding/gob/decode.go.html#5068892">tt</a></span><span class="op" id="5068941">.</span><span class="op" id="5068942">(</span><span class="op" id="5068943">*</span><span class="ident" id="5068944"><a href="/encoding/gob/type.go.html#5149641">sliceType</a></span><span class="op" id="5068953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5068957">}</span>&nbsp;<span class="keyword" id="5068959">else</span>&nbsp;<span class="keyword" id="5068964">if</span>&nbsp;<span class="ident" id="5068967"><a href="/encoding/gob/decode.go.html#5067078">wire</a></span>&nbsp;<span class="op" id="5068972">!=</span>&nbsp;<span class="ident" id="5068975">nil</span>&nbsp;<span class="op" id="5068979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5068984"><a href="/encoding/gob/decode.go.html#5068873">sw</a></span>&nbsp;<span class="op" id="5068987">=</span>&nbsp;<span class="ident" id="5068989"><a href="/encoding/gob/decode.go.html#5067078">wire</a></span><span class="op" id="5068993">.</span><span class="ident" id="5068994">SliceT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5069003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5069007">elem</span>&nbsp;<span class="op" id="5069012">:=</span>&nbsp;<span class="ident" id="5069015"><a href="/encoding/gob/type.go.html#5143544">userType</a></span><span class="op" id="5069023">(</span><span class="ident" id="5069024"><a href="/encoding/gob/decode.go.html#5067745">t</a></span><span class="op" id="5069025">.</span><span class="ident" id="5069026">Elem</span><span class="op" id="5069030">(</span><span class="op" id="5069031">)</span><span class="op" id="5069032">)</span><span class="op" id="5069033">.</span><span class="ident" id="5069034">base</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5069041">return</span>&nbsp;<span class="ident" id="5069048"><a href="/encoding/gob/decode.go.html#5068873">sw</a></span>&nbsp;<span class="op" id="5069051">!=</span>&nbsp;<span class="ident" id="5069054">nil</span>&nbsp;<span class="op" id="5069058">&amp;&amp;</span>&nbsp;<span class="ident" id="5069061"><a href="/encoding/gob/decode.go.html#5066878">dec</a></span><span class="op" id="5069064">.</span><span class="ident" id="5069065">compatibleType</span><span class="op" id="5069079">(</span><span class="ident" id="5069080"><a href="/encoding/gob/decode.go.html#5069007">elem</a></span><span class="op" id="5069084">,</span>&nbsp;<span class="ident" id="5069086"><a href="/encoding/gob/decode.go.html#5068873">sw</a></span><span class="op" id="5069088">.</span><span class="ident" id="5069089">Elem</span><span class="op" id="5069093">,</span>&nbsp;<span class="ident" id="5069095"><a href="/encoding/gob/decode.go.html#5066935">inProgress</a></span><span class="op" id="5069105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5069108">case</span>&nbsp;<span class="ident" id="5069113"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5069120">.</span><span class="ident" id="5069121">Struct</span><span class="op" id="5069127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5069131">return</span>&nbsp;<span class="ident" id="5069138">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5069144">}</span><br>
<span class="lineno"></span><span class="op" id="5069146">}</span><br>
<span class="lineno">1000</span><br>
<span class="lineno"></span><span class="comment" id="5069149">//&nbsp;typeString&nbsp;returns&nbsp;a&nbsp;human-readable&nbsp;description&nbsp;of&nbsp;the&nbsp;type&nbsp;identified&nbsp;by&nbsp;remoteId.</span><br>
<span class="lineno"></span><span class="keyword" id="5069236">func</span>&nbsp;<span class="op" id="5069241">(</span><span class="ident" id="5069242">dec</span>&nbsp;<span class="op" id="5069246">*</span><span class="ident" id="5069247"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5069254">)</span>&nbsp;<span class="ident" id="5069256">typeString</span><span class="op" id="5069266">(</span><span class="ident" id="5069267">remoteId</span>&nbsp;<span class="ident" id="5069276"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5069282">)</span>&nbsp;<span class="builtintype" id="5069284">string</span>&nbsp;<span class="op" id="5069291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5069294">if</span>&nbsp;<span class="ident" id="5069297">t</span>&nbsp;<span class="op" id="5069299">:=</span>&nbsp;<span class="ident" id="5069302"><a href="/encoding/gob/type.go.html#5144242">idToType</a></span><span class="op" id="5069310">[</span><span class="ident" id="5069311"><a href="/encoding/gob/decode.go.html#5069267">remoteId</a></span><span class="op" id="5069319">]</span><span class="op" id="5069320">;</span>&nbsp;<span class="ident" id="5069322"><a href="/encoding/gob/decode.go.html#5069297">t</a></span>&nbsp;<span class="op" id="5069324">!=</span>&nbsp;<span class="ident" id="5069327">nil</span>&nbsp;<span class="op" id="5069331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5069335">//&nbsp;globally&nbsp;known&nbsp;type.</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5069361">return</span>&nbsp;<span class="ident" id="5069368"><a href="/encoding/gob/decode.go.html#5069297">t</a></span><span class="op" id="5069369">.</span><span class="builtintype" id="5069370">string</span><span class="op" id="5069376">(</span><span class="op" id="5069377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5069380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5069383">return</span>&nbsp;<span class="ident" id="5069390"><a href="/encoding/gob/decode.go.html#5069242">dec</a></span><span class="op" id="5069393">.</span><span class="ident" id="5069394">wireType</span><span class="op" id="5069402">[</span><span class="ident" id="5069403"><a href="/encoding/gob/decode.go.html#5069267">remoteId</a></span><span class="op" id="5069411">]</span><span class="op" id="5069412">.</span><span class="builtintype" id="5069413">string</span><span class="op" id="5069419">(</span><span class="op" id="5069420">)</span><br>
<span class="lineno"></span><span class="op" id="5069422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1010</span><span class="comment" id="5069425">//&nbsp;compileSingle&nbsp;compiles&nbsp;the&nbsp;decoder&nbsp;engine&nbsp;for&nbsp;a&nbsp;non-struct&nbsp;top-level&nbsp;value,&nbsp;including</span><br>
<span class="lineno"></span><span class="comment" id="5069514">//&nbsp;GobDecoders.</span><br>
<span class="lineno"></span><span class="keyword" id="5069530">func</span>&nbsp;<span class="op" id="5069535">(</span><span class="ident" id="5069536">dec</span>&nbsp;<span class="op" id="5069540">*</span><span class="ident" id="5069541"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5069548">)</span>&nbsp;<span class="ident" id="5069550">compileSingle</span><span class="op" id="5069563">(</span><span class="ident" id="5069564">remoteId</span>&nbsp;<span class="ident" id="5069573"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5069579">,</span>&nbsp;<span class="ident" id="5069581">ut</span>&nbsp;<span class="op" id="5069584">*</span><span class="ident" id="5069585"><a href="/encoding/gob/type.go.html#5138634">userTypeInfo</a></span><span class="op" id="5069597">)</span>&nbsp;<span class="op" id="5069599">(</span><span class="ident" id="5069600">engine</span>&nbsp;<span class="op" id="5069607">*</span><span class="ident" id="5069608"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5069617">,</span>&nbsp;<span class="ident" id="5069619">err</span>&nbsp;<span class="builtintype" id="5069623">error</span><span class="op" id="5069628">)</span>&nbsp;<span class="op" id="5069630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5069633">rt</span>&nbsp;<span class="op" id="5069636">:=</span>&nbsp;<span class="ident" id="5069639"><a href="/encoding/gob/decode.go.html#5069581">ut</a></span><span class="op" id="5069641">.</span><span class="ident" id="5069642">user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5069648"><a href="/encoding/gob/decode.go.html#5069600">engine</a></span>&nbsp;<span class="op" id="5069655">=</span>&nbsp;<span class="builtinfunc" id="5069657">new</span><span class="op" id="5069660">(</span><span class="ident" id="5069661"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5069670">)</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5069673"><a href="/encoding/gob/decode.go.html#5069600">engine</a></span><span class="op" id="5069679">.</span><span class="ident" id="5069680">instr</span>&nbsp;<span class="op" id="5069686">=</span>&nbsp;<span class="builtinfunc" id="5069688">make</span><span class="op" id="5069692">(</span><span class="op" id="5069693">[</span><span class="op" id="5069694">]</span><span class="ident" id="5069695"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5069703">,</span>&nbsp;<span class="num" id="5069705">1</span><span class="op" id="5069706">)</span>&nbsp;<span class="comment" id="5069708">//&nbsp;one&nbsp;item</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5069721">name</span>&nbsp;<span class="op" id="5069726">:=</span>&nbsp;<span class="ident" id="5069729"><a href="/encoding/gob/decode.go.html#5069633">rt</a></span><span class="op" id="5069731">.</span><span class="ident" id="5069732">String</span><span class="op" id="5069738">(</span><span class="op" id="5069739">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5069756">//&nbsp;best&nbsp;we&nbsp;can&nbsp;do</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5069775">if</span>&nbsp;<span class="op" id="5069778">!</span><span class="ident" id="5069779"><a href="/encoding/gob/decode.go.html#5069536">dec</a></span><span class="op" id="5069782">.</span><span class="ident" id="5069783">compatibleType</span><span class="op" id="5069797">(</span><span class="ident" id="5069798"><a href="/encoding/gob/decode.go.html#5069633">rt</a></span><span class="op" id="5069800">,</span>&nbsp;<span class="ident" id="5069802"><a href="/encoding/gob/decode.go.html#5069564">remoteId</a></span><span class="op" id="5069810">,</span>&nbsp;<span class="builtinfunc" id="5069812">make</span><span class="op" id="5069816">(</span><span class="keyword" id="5069817">map</span><span class="op" id="5069820">[</span><span class="ident" id="5069821"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5069828">.</span><span class="ident" id="5069829">Type</span><span class="op" id="5069833">]</span><span class="ident" id="5069834"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5069840">)</span><span class="op" id="5069841">)</span>&nbsp;<span class="op" id="5069843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5069847">remoteType</span>&nbsp;<span class="op" id="5069858">:=</span>&nbsp;<span class="ident" id="5069861"><a href="/encoding/gob/decode.go.html#5069536">dec</a></span><span class="op" id="5069864">.</span><span class="ident" id="5069865">typeString</span><span class="op" id="5069875">(</span><span class="ident" id="5069876"><a href="/encoding/gob/decode.go.html#5069564">remoteId</a></span><span class="op" id="5069884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5069888">//&nbsp;Common&nbsp;confusing&nbsp;case:&nbsp;local&nbsp;interface&nbsp;type,&nbsp;remote&nbsp;concrete&nbsp;type.</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5069960">if</span>&nbsp;<span class="ident" id="5069963"><a href="/encoding/gob/decode.go.html#5069581">ut</a></span><span class="op" id="5069965">.</span><span class="ident" id="5069966">base</span><span class="op" id="5069970">.</span><span class="ident" id="5069971">Kind</span><span class="op" id="5069975">(</span><span class="op" id="5069976">)</span>&nbsp;<span class="op" id="5069978">==</span>&nbsp;<span class="ident" id="5069981"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5069988">.</span><span class="ident" id="5069989">Interface</span>&nbsp;<span class="op" id="5069999">&amp;&amp;</span>&nbsp;<span class="ident" id="5070002"><a href="/encoding/gob/decode.go.html#5069564">remoteId</a></span>&nbsp;<span class="op" id="5070011">!=</span>&nbsp;<span class="ident" id="5070014"><a href="/encoding/gob/type.go.html#5146261">tInterface</a></span>&nbsp;<span class="op" id="5070025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5070030">return</span>&nbsp;<span class="ident" id="5070037">nil</span><span class="op" id="5070040">,</span>&nbsp;<span class="ident" id="5070042"><a href="/encoding/gob/decode.go.html#5038136">errors</a></span><span class="op" id="5070048">.</span><span class="ident" id="5070049">New</span><span class="op" id="5070052">(</span><span class="string" id="5070053">&#34;gob:&nbsp;local&nbsp;interface&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="5070082">+</span>&nbsp;<span class="ident" id="5070084"><a href="/encoding/gob/decode.go.html#5069721">name</a></span>&nbsp;<span class="op" id="5070089">+</span>&nbsp;<span class="string" id="5070091">&#34;&nbsp;can&nbsp;only&nbsp;be&nbsp;decoded&nbsp;from&nbsp;remote&nbsp;interface&nbsp;type;&nbsp;received&nbsp;concrete&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="5070166">+</span>&nbsp;<span class="ident" id="5070168"><a href="/encoding/gob/decode.go.html#5069847">remoteType</a></span><span class="op" id="5070178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5070182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5070186">return</span>&nbsp;<span class="ident" id="5070193">nil</span><span class="op" id="5070196">,</span>&nbsp;<span class="ident" id="5070198"><a href="/encoding/gob/decode.go.html#5038136">errors</a></span><span class="op" id="5070204">.</span><span class="ident" id="5070205">New</span><span class="op" id="5070208">(</span><span class="string" id="5070209">&#34;gob:&nbsp;decoding&nbsp;into&nbsp;local&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="5070242">+</span>&nbsp;<span class="ident" id="5070244"><a href="/encoding/gob/decode.go.html#5069721">name</a></span>&nbsp;<span class="op" id="5070249">+</span>&nbsp;<span class="string" id="5070251">&#34;,&nbsp;received&nbsp;remote&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="5070277">+</span>&nbsp;<span class="ident" id="5070279"><a href="/encoding/gob/decode.go.html#5069847">remoteType</a></span><span class="op" id="5070289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5070292">}</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5070295">op</span>&nbsp;<span class="op" id="5070298">:=</span>&nbsp;<span class="ident" id="5070301"><a href="/encoding/gob/decode.go.html#5069536">dec</a></span><span class="op" id="5070304">.</span><span class="ident" id="5070305">decOpFor</span><span class="op" id="5070313">(</span><span class="ident" id="5070314"><a href="/encoding/gob/decode.go.html#5069564">remoteId</a></span><span class="op" id="5070322">,</span>&nbsp;<span class="ident" id="5070324"><a href="/encoding/gob/decode.go.html#5069633">rt</a></span><span class="op" id="5070326">,</span>&nbsp;<span class="ident" id="5070328"><a href="/encoding/gob/decode.go.html#5069721">name</a></span><span class="op" id="5070332">,</span>&nbsp;<span class="builtinfunc" id="5070334">make</span><span class="op" id="5070338">(</span><span class="keyword" id="5070339">map</span><span class="op" id="5070342">[</span><span class="ident" id="5070343"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5070350">.</span><span class="ident" id="5070351">Type</span><span class="op" id="5070355">]</span><span class="op" id="5070356">*</span><span class="ident" id="5070357"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5070362">)</span><span class="op" id="5070363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5070366">ovfl</span>&nbsp;<span class="op" id="5070371">:=</span>&nbsp;<span class="ident" id="5070374"><a href="/encoding/gob/decode.go.html#5038136">errors</a></span><span class="op" id="5070380">.</span><span class="ident" id="5070381">New</span><span class="op" id="5070384">(</span><span class="string" id="5070385">`value&nbsp;for&nbsp;&#34;`</span>&nbsp;<span class="op" id="5070399">+</span>&nbsp;<span class="ident" id="5070401"><a href="/encoding/gob/decode.go.html#5069721">name</a></span>&nbsp;<span class="op" id="5070406">+</span>&nbsp;<span class="string" id="5070408">`&#34;&nbsp;out&nbsp;of&nbsp;range`</span><span class="op" id="5070424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5070427"><a href="/encoding/gob/decode.go.html#5069600">engine</a></span><span class="op" id="5070433">.</span><span class="ident" id="5070434">instr</span><span class="op" id="5070439">[</span><span class="ident" id="5070440"><a href="/encoding/gob/encode.go.html#5116368">singletonField</a></span><span class="op" id="5070454">]</span>&nbsp;<span class="op" id="5070456">=</span>&nbsp;<span class="ident" id="5070458"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5070466">{</span><span class="op" id="5070467">*</span><span class="ident" id="5070468"><a href="/encoding/gob/decode.go.html#5070295">op</a></span><span class="op" id="5070470">,</span>&nbsp;<span class="ident" id="5070472"><a href="/encoding/gob/encode.go.html#5116368">singletonField</a></span><span class="op" id="5070486">,</span>&nbsp;<span class="ident" id="5070488">nil</span><span class="op" id="5070491">,</span>&nbsp;<span class="ident" id="5070493"><a href="/encoding/gob/decode.go.html#5070366">ovfl</a></span><span class="op" id="5070497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5070500"><a href="/encoding/gob/decode.go.html#5069600">engine</a></span><span class="op" id="5070506">.</span><span class="ident" id="5070507">numInstr</span>&nbsp;<span class="op" id="5070516">=</span>&nbsp;<span class="num" id="5070518">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5070521">return</span><br>
<span class="lineno">1030</span><span class="op" id="5070528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5070531">//&nbsp;compileIgnoreSingle&nbsp;compiles&nbsp;the&nbsp;decoder&nbsp;engine&nbsp;for&nbsp;a&nbsp;non-struct&nbsp;top-level&nbsp;value&nbsp;that&nbsp;will&nbsp;be&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="keyword" id="5070639">func</span>&nbsp;<span class="op" id="5070644">(</span><span class="ident" id="5070645">dec</span>&nbsp;<span class="op" id="5070649">*</span><span class="ident" id="5070650"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5070657">)</span>&nbsp;<span class="ident" id="5070659">compileIgnoreSingle</span><span class="op" id="5070678">(</span><span class="ident" id="5070679">remoteId</span>&nbsp;<span class="ident" id="5070688"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5070694">)</span>&nbsp;<span class="op" id="5070696">(</span><span class="ident" id="5070697">engine</span>&nbsp;<span class="op" id="5070704">*</span><span class="ident" id="5070705"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5070714">,</span>&nbsp;<span class="ident" id="5070716">err</span>&nbsp;<span class="builtintype" id="5070720">error</span><span class="op" id="5070725">)</span>&nbsp;<span class="op" id="5070727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5070730"><a href="/encoding/gob/decode.go.html#5070697">engine</a></span>&nbsp;<span class="op" id="5070737">=</span>&nbsp;<span class="builtinfunc" id="5070739">new</span><span class="op" id="5070742">(</span><span class="ident" id="5070743"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5070752">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5070755"><a href="/encoding/gob/decode.go.html#5070697">engine</a></span><span class="op" id="5070761">.</span><span class="ident" id="5070762">instr</span>&nbsp;<span class="op" id="5070768">=</span>&nbsp;<span class="builtinfunc" id="5070770">make</span><span class="op" id="5070774">(</span><span class="op" id="5070775">[</span><span class="op" id="5070776">]</span><span class="ident" id="5070777"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5070785">,</span>&nbsp;<span class="num" id="5070787">1</span><span class="op" id="5070788">)</span>&nbsp;<span class="comment" id="5070790">//&nbsp;one&nbsp;item</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5070803">op</span>&nbsp;<span class="op" id="5070806">:=</span>&nbsp;<span class="ident" id="5070809"><a href="/encoding/gob/decode.go.html#5070645">dec</a></span><span class="op" id="5070812">.</span><span class="ident" id="5070813">decIgnoreOpFor</span><span class="op" id="5070827">(</span><span class="ident" id="5070828"><a href="/encoding/gob/decode.go.html#5070679">remoteId</a></span><span class="op" id="5070836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5070839">ovfl</span>&nbsp;<span class="op" id="5070844">:=</span>&nbsp;<span class="ident" id="5070847"><a href="/encoding/gob/decode.go.html#5040493">overflow</a></span><span class="op" id="5070855">(</span><span class="ident" id="5070856"><a href="/encoding/gob/decode.go.html#5070645">dec</a></span><span class="op" id="5070859">.</span><span class="ident" id="5070860">typeString</span><span class="op" id="5070870">(</span><span class="ident" id="5070871"><a href="/encoding/gob/decode.go.html#5070679">remoteId</a></span><span class="op" id="5070879">)</span><span class="op" id="5070880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5070883"><a href="/encoding/gob/decode.go.html#5070697">engine</a></span><span class="op" id="5070889">.</span><span class="ident" id="5070890">instr</span><span class="op" id="5070895">[</span><span class="num" id="5070896">0</span><span class="op" id="5070897">]</span>&nbsp;<span class="op" id="5070899">=</span>&nbsp;<span class="ident" id="5070901"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5070909">{</span><span class="ident" id="5070910"><a href="/encoding/gob/decode.go.html#5070803">op</a></span><span class="op" id="5070912">,</span>&nbsp;<span class="num" id="5070914">0</span><span class="op" id="5070915">,</span>&nbsp;<span class="ident" id="5070917">nil</span><span class="op" id="5070920">,</span>&nbsp;<span class="ident" id="5070922"><a href="/encoding/gob/decode.go.html#5070839">ovfl</a></span><span class="op" id="5070926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5070929"><a href="/encoding/gob/decode.go.html#5070697">engine</a></span><span class="op" id="5070935">.</span><span class="ident" id="5070936">numInstr</span>&nbsp;<span class="op" id="5070945">=</span>&nbsp;<span class="num" id="5070947">1</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5070950">return</span><br>
<span class="lineno"></span><span class="op" id="5070957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5070960">//&nbsp;compileDec&nbsp;compiles&nbsp;the&nbsp;decoder&nbsp;engine&nbsp;for&nbsp;a&nbsp;value.&nbsp;&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;not&nbsp;a&nbsp;struct,</span><br>
<span class="lineno"></span><span class="comment" id="5071046">//&nbsp;it&nbsp;calls&nbsp;out&nbsp;to&nbsp;compileSingle.</span><br>
<span class="lineno">1045</span><span class="keyword" id="5071080">func</span>&nbsp;<span class="op" id="5071085">(</span><span class="ident" id="5071086">dec</span>&nbsp;<span class="op" id="5071090">*</span><span class="ident" id="5071091"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5071098">)</span>&nbsp;<span class="ident" id="5071100">compileDec</span><span class="op" id="5071110">(</span><span class="ident" id="5071111">remoteId</span>&nbsp;<span class="ident" id="5071120"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5071126">,</span>&nbsp;<span class="ident" id="5071128">ut</span>&nbsp;<span class="op" id="5071131">*</span><span class="ident" id="5071132"><a href="/encoding/gob/type.go.html#5138634">userTypeInfo</a></span><span class="op" id="5071144">)</span>&nbsp;<span class="op" id="5071146">(</span><span class="ident" id="5071147">engine</span>&nbsp;<span class="op" id="5071154">*</span><span class="ident" id="5071155"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5071164">,</span>&nbsp;<span class="ident" id="5071166">err</span>&nbsp;<span class="builtintype" id="5071170">error</span><span class="op" id="5071175">)</span>&nbsp;<span class="op" id="5071177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5071180">rt</span>&nbsp;<span class="op" id="5071183">:=</span>&nbsp;<span class="ident" id="5071186"><a href="/encoding/gob/decode.go.html#5071128">ut</a></span><span class="op" id="5071188">.</span><span class="ident" id="5071189">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5071195">srt</span>&nbsp;<span class="op" id="5071199">:=</span>&nbsp;<span class="ident" id="5071202"><a href="/encoding/gob/decode.go.html#5071180">rt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5071206">if</span>&nbsp;<span class="ident" id="5071209"><a href="/encoding/gob/decode.go.html#5071195">srt</a></span><span class="op" id="5071212">.</span><span class="ident" id="5071213">Kind</span><span class="op" id="5071217">(</span><span class="op" id="5071218">)</span>&nbsp;<span class="op" id="5071220">!=</span>&nbsp;<span class="ident" id="5071223"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5071230">.</span><span class="ident" id="5071231">Struct</span>&nbsp;<span class="op" id="5071238">||</span>&nbsp;<span class="ident" id="5071241"><a href="/encoding/gob/decode.go.html#5071128">ut</a></span><span class="op" id="5071243">.</span><span class="ident" id="5071244">externalDec</span>&nbsp;<span class="op" id="5071256">!=</span>&nbsp;<span class="num" id="5071259">0</span>&nbsp;<span class="op" id="5071261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5071265">return</span>&nbsp;<span class="ident" id="5071272"><a href="/encoding/gob/decode.go.html#5071086">dec</a></span><span class="op" id="5071275">.</span><span class="ident" id="5071276">compileSingle</span><span class="op" id="5071289">(</span><span class="ident" id="5071290"><a href="/encoding/gob/decode.go.html#5071111">remoteId</a></span><span class="op" id="5071298">,</span>&nbsp;<span class="ident" id="5071300"><a href="/encoding/gob/decode.go.html#5071128">ut</a></span><span class="op" id="5071302">)</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5071305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5071308">var</span>&nbsp;<span class="ident" id="5071312">wireStruct</span>&nbsp;<span class="op" id="5071323">*</span><span class="ident" id="5071324"><a href="/encoding/gob/type.go.html#5150424">structType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5071336">//&nbsp;Builtin&nbsp;types&nbsp;can&nbsp;come&nbsp;from&nbsp;global&nbsp;pool;&nbsp;the&nbsp;rest&nbsp;must&nbsp;be&nbsp;defined&nbsp;by&nbsp;the&nbsp;decoder.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5071422">//&nbsp;Also&nbsp;we&nbsp;know&nbsp;we&#39;re&nbsp;decoding&nbsp;a&nbsp;struct&nbsp;now,&nbsp;so&nbsp;the&nbsp;client&nbsp;must&nbsp;have&nbsp;sent&nbsp;one.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5071502">if</span>&nbsp;<span class="ident" id="5071505">t</span><span class="op" id="5071506">,</span>&nbsp;<span class="ident" id="5071508">ok</span>&nbsp;<span class="op" id="5071511">:=</span>&nbsp;<span class="ident" id="5071514"><a href="/encoding/gob/type.go.html#5144282">builtinIdToType</a></span><span class="op" id="5071529">[</span><span class="ident" id="5071530"><a href="/encoding/gob/decode.go.html#5071111">remoteId</a></span><span class="op" id="5071538">]</span><span class="op" id="5071539">;</span>&nbsp;<span class="ident" id="5071541"><a href="/encoding/gob/decode.go.html#5071508">ok</a></span>&nbsp;<span class="op" id="5071544">{</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5071548"><a href="/encoding/gob/decode.go.html#5071312">wireStruct</a></span><span class="op" id="5071558">,</span>&nbsp;<span class="ident" id="5071560">_</span>&nbsp;<span class="op" id="5071562">=</span>&nbsp;<span class="ident" id="5071564"><a href="/encoding/gob/decode.go.html#5071505">t</a></span><span class="op" id="5071565">.</span><span class="op" id="5071566">(</span><span class="op" id="5071567">*</span><span class="ident" id="5071568"><a href="/encoding/gob/type.go.html#5150424">structType</a></span><span class="op" id="5071578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5071581">}</span>&nbsp;<span class="keyword" id="5071583">else</span>&nbsp;<span class="op" id="5071588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5071592">wire</span>&nbsp;<span class="op" id="5071597">:=</span>&nbsp;<span class="ident" id="5071600"><a href="/encoding/gob/decode.go.html#5071086">dec</a></span><span class="op" id="5071603">.</span><span class="ident" id="5071604">wireType</span><span class="op" id="5071612">[</span><span class="ident" id="5071613"><a href="/encoding/gob/decode.go.html#5071111">remoteId</a></span><span class="op" id="5071621">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5071625">if</span>&nbsp;<span class="ident" id="5071628"><a href="/encoding/gob/decode.go.html#5071592">wire</a></span>&nbsp;<span class="op" id="5071633">==</span>&nbsp;<span class="ident" id="5071636">nil</span>&nbsp;<span class="op" id="5071640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5071645"><a href="/encoding/gob/error.go.html#5137812">error_</a></span><span class="op" id="5071651">(</span><span class="ident" id="5071652"><a href="/encoding/gob/decode.go.html#5038251">errBadType</a></span><span class="op" id="5071662">)</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5071666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5071670"><a href="/encoding/gob/decode.go.html#5071312">wireStruct</a></span>&nbsp;<span class="op" id="5071681">=</span>&nbsp;<span class="ident" id="5071683"><a href="/encoding/gob/decode.go.html#5071592">wire</a></span><span class="op" id="5071687">.</span><span class="ident" id="5071688">StructT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5071697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5071700">if</span>&nbsp;<span class="ident" id="5071703"><a href="/encoding/gob/decode.go.html#5071312">wireStruct</a></span>&nbsp;<span class="op" id="5071714">==</span>&nbsp;<span class="ident" id="5071717">nil</span>&nbsp;<span class="op" id="5071721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5071725"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5071731">(</span><span class="string" id="5071732">&#34;type&nbsp;mismatch&nbsp;in&nbsp;decoder:&nbsp;want&nbsp;struct&nbsp;type&nbsp;%s;&nbsp;got&nbsp;non-struct&#34;</span><span class="op" id="5071795">,</span>&nbsp;<span class="ident" id="5071797"><a href="/encoding/gob/decode.go.html#5071180">rt</a></span><span class="op" id="5071799">)</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5071802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5071805"><a href="/encoding/gob/decode.go.html#5071147">engine</a></span>&nbsp;<span class="op" id="5071812">=</span>&nbsp;<span class="builtinfunc" id="5071814">new</span><span class="op" id="5071817">(</span><span class="ident" id="5071818"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5071827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5071830"><a href="/encoding/gob/decode.go.html#5071147">engine</a></span><span class="op" id="5071836">.</span><span class="ident" id="5071837">instr</span>&nbsp;<span class="op" id="5071843">=</span>&nbsp;<span class="builtinfunc" id="5071845">make</span><span class="op" id="5071849">(</span><span class="op" id="5071850">[</span><span class="op" id="5071851">]</span><span class="ident" id="5071852"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5071860">,</span>&nbsp;<span class="builtinfunc" id="5071862">len</span><span class="op" id="5071865">(</span><span class="ident" id="5071866"><a href="/encoding/gob/decode.go.html#5071312">wireStruct</a></span><span class="op" id="5071876">.</span><span class="ident" id="5071877">Field</span><span class="op" id="5071882">)</span><span class="op" id="5071883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5071886">seen</span>&nbsp;<span class="op" id="5071891">:=</span>&nbsp;<span class="builtinfunc" id="5071894">make</span><span class="op" id="5071898">(</span><span class="keyword" id="5071899">map</span><span class="op" id="5071902">[</span><span class="ident" id="5071903"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5071910">.</span><span class="ident" id="5071911">Type</span><span class="op" id="5071915">]</span><span class="op" id="5071916">*</span><span class="ident" id="5071917"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><span class="op" id="5071922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5071925">//&nbsp;Loop&nbsp;over&nbsp;the&nbsp;fields&nbsp;of&nbsp;the&nbsp;wire&nbsp;type.</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5071968">for</span>&nbsp;<span class="ident" id="5071972">fieldnum</span>&nbsp;<span class="op" id="5071981">:=</span>&nbsp;<span class="num" id="5071984">0</span><span class="op" id="5071985">;</span>&nbsp;<span class="ident" id="5071987"><a href="/encoding/gob/decode.go.html#5071972">fieldnum</a></span>&nbsp;<span class="op" id="5071996">&lt;</span>&nbsp;<span class="builtinfunc" id="5071998">len</span><span class="op" id="5072001">(</span><span class="ident" id="5072002"><a href="/encoding/gob/decode.go.html#5071312">wireStruct</a></span><span class="op" id="5072012">.</span><span class="ident" id="5072013">Field</span><span class="op" id="5072018">)</span><span class="op" id="5072019">;</span>&nbsp;<span class="ident" id="5072021"><a href="/encoding/gob/decode.go.html#5071972">fieldnum</a></span><span class="op" id="5072029">++</span>&nbsp;<span class="op" id="5072032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5072036">wireField</span>&nbsp;<span class="op" id="5072046">:=</span>&nbsp;<span class="ident" id="5072049"><a href="/encoding/gob/decode.go.html#5071312">wireStruct</a></span><span class="op" id="5072059">.</span><span class="ident" id="5072060">Field</span><span class="op" id="5072065">[</span><span class="ident" id="5072066"><a href="/encoding/gob/decode.go.html#5071972">fieldnum</a></span><span class="op" id="5072074">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5072078">if</span>&nbsp;<span class="ident" id="5072081"><a href="/encoding/gob/decode.go.html#5072036">wireField</a></span><span class="op" id="5072090">.</span><span class="ident" id="5072091">Name</span>&nbsp;<span class="op" id="5072096">==</span>&nbsp;<span class="string" id="5072099">&#34;&#34;</span>&nbsp;<span class="op" id="5072102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5072107"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5072113">(</span><span class="string" id="5072114">&#34;empty&nbsp;name&nbsp;for&nbsp;remote&nbsp;field&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="5072154">,</span>&nbsp;<span class="ident" id="5072156"><a href="/encoding/gob/decode.go.html#5071312">wireStruct</a></span><span class="op" id="5072166">.</span><span class="ident" id="5072167">Name</span><span class="op" id="5072171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5072175">}</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5072179">ovfl</span>&nbsp;<span class="op" id="5072184">:=</span>&nbsp;<span class="ident" id="5072187"><a href="/encoding/gob/decode.go.html#5040493">overflow</a></span><span class="op" id="5072195">(</span><span class="ident" id="5072196"><a href="/encoding/gob/decode.go.html#5072036">wireField</a></span><span class="op" id="5072205">.</span><span class="ident" id="5072206">Name</span><span class="op" id="5072210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5072214">//&nbsp;Find&nbsp;the&nbsp;field&nbsp;of&nbsp;the&nbsp;local&nbsp;type&nbsp;with&nbsp;the&nbsp;same&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5072272">localField</span><span class="op" id="5072282">,</span>&nbsp;<span class="ident" id="5072284">present</span>&nbsp;<span class="op" id="5072292">:=</span>&nbsp;<span class="ident" id="5072295"><a href="/encoding/gob/decode.go.html#5071195">srt</a></span><span class="op" id="5072298">.</span><span class="ident" id="5072299">FieldByName</span><span class="op" id="5072310">(</span><span class="ident" id="5072311"><a href="/encoding/gob/decode.go.html#5072036">wireField</a></span><span class="op" id="5072320">.</span><span class="ident" id="5072321">Name</span><span class="op" id="5072325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5072329">//&nbsp;TODO(r):&nbsp;anonymous&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5072359">if</span>&nbsp;<span class="op" id="5072362">!</span><span class="ident" id="5072363"><a href="/encoding/gob/decode.go.html#5072284">present</a></span>&nbsp;<span class="op" id="5072371">||</span>&nbsp;<span class="op" id="5072374">!</span><span class="ident" id="5072375"><a href="/encoding/gob/type.go.html#5154699">isExported</a></span><span class="op" id="5072385">(</span><span class="ident" id="5072386"><a href="/encoding/gob/decode.go.html#5072036">wireField</a></span><span class="op" id="5072395">.</span><span class="ident" id="5072396">Name</span><span class="op" id="5072400">)</span>&nbsp;<span class="op" id="5072402">{</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5072407">op</span>&nbsp;<span class="op" id="5072410">:=</span>&nbsp;<span class="ident" id="5072413"><a href="/encoding/gob/decode.go.html#5071086">dec</a></span><span class="op" id="5072416">.</span><span class="ident" id="5072417">decIgnoreOpFor</span><span class="op" id="5072431">(</span><span class="ident" id="5072432"><a href="/encoding/gob/decode.go.html#5072036">wireField</a></span><span class="op" id="5072441">.</span><span class="ident" id="5072442">Id</span><span class="op" id="5072444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5072449"><a href="/encoding/gob/decode.go.html#5071147">engine</a></span><span class="op" id="5072455">.</span><span class="ident" id="5072456">instr</span><span class="op" id="5072461">[</span><span class="ident" id="5072462"><a href="/encoding/gob/decode.go.html#5071972">fieldnum</a></span><span class="op" id="5072470">]</span>&nbsp;<span class="op" id="5072472">=</span>&nbsp;<span class="ident" id="5072474"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5072482">{</span><span class="ident" id="5072483"><a href="/encoding/gob/decode.go.html#5072407">op</a></span><span class="op" id="5072485">,</span>&nbsp;<span class="ident" id="5072487"><a href="/encoding/gob/decode.go.html#5071972">fieldnum</a></span><span class="op" id="5072495">,</span>&nbsp;<span class="ident" id="5072497">nil</span><span class="op" id="5072500">,</span>&nbsp;<span class="ident" id="5072502"><a href="/encoding/gob/decode.go.html#5072179">ovfl</a></span><span class="op" id="5072506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5072511">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5072522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5072526">if</span>&nbsp;<span class="op" id="5072529">!</span><span class="ident" id="5072530"><a href="/encoding/gob/decode.go.html#5071086">dec</a></span><span class="op" id="5072533">.</span><span class="ident" id="5072534">compatibleType</span><span class="op" id="5072548">(</span><span class="ident" id="5072549"><a href="/encoding/gob/decode.go.html#5072272">localField</a></span><span class="op" id="5072559">.</span><span class="ident" id="5072560">Type</span><span class="op" id="5072564">,</span>&nbsp;<span class="ident" id="5072566"><a href="/encoding/gob/decode.go.html#5072036">wireField</a></span><span class="op" id="5072575">.</span><span class="ident" id="5072576">Id</span><span class="op" id="5072578">,</span>&nbsp;<span class="builtinfunc" id="5072580">make</span><span class="op" id="5072584">(</span><span class="keyword" id="5072585">map</span><span class="op" id="5072588">[</span><span class="ident" id="5072589"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5072596">.</span><span class="ident" id="5072597">Type</span><span class="op" id="5072601">]</span><span class="ident" id="5072602"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5072608">)</span><span class="op" id="5072609">)</span>&nbsp;<span class="op" id="5072611">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5072616"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5072622">(</span><span class="string" id="5072623">&#34;wrong&nbsp;type&nbsp;(%s)&nbsp;for&nbsp;received&nbsp;field&nbsp;%s.%s&#34;</span><span class="op" id="5072665">,</span>&nbsp;<span class="ident" id="5072667"><a href="/encoding/gob/decode.go.html#5072272">localField</a></span><span class="op" id="5072677">.</span><span class="ident" id="5072678">Type</span><span class="op" id="5072682">,</span>&nbsp;<span class="ident" id="5072684"><a href="/encoding/gob/decode.go.html#5071312">wireStruct</a></span><span class="op" id="5072694">.</span><span class="ident" id="5072695">Name</span><span class="op" id="5072699">,</span>&nbsp;<span class="ident" id="5072701"><a href="/encoding/gob/decode.go.html#5072036">wireField</a></span><span class="op" id="5072710">.</span><span class="ident" id="5072711">Name</span><span class="op" id="5072715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5072719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5072723">op</span>&nbsp;<span class="op" id="5072726">:=</span>&nbsp;<span class="ident" id="5072729"><a href="/encoding/gob/decode.go.html#5071086">dec</a></span><span class="op" id="5072732">.</span><span class="ident" id="5072733">decOpFor</span><span class="op" id="5072741">(</span><span class="ident" id="5072742"><a href="/encoding/gob/decode.go.html#5072036">wireField</a></span><span class="op" id="5072751">.</span><span class="ident" id="5072752">Id</span><span class="op" id="5072754">,</span>&nbsp;<span class="ident" id="5072756"><a href="/encoding/gob/decode.go.html#5072272">localField</a></span><span class="op" id="5072766">.</span><span class="ident" id="5072767">Type</span><span class="op" id="5072771">,</span>&nbsp;<span class="ident" id="5072773"><a href="/encoding/gob/decode.go.html#5072272">localField</a></span><span class="op" id="5072783">.</span><span class="ident" id="5072784">Name</span><span class="op" id="5072788">,</span>&nbsp;<span class="ident" id="5072790"><a href="/encoding/gob/decode.go.html#5071886">seen</a></span><span class="op" id="5072794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5072798"><a href="/encoding/gob/decode.go.html#5071147">engine</a></span><span class="op" id="5072804">.</span><span class="ident" id="5072805">instr</span><span class="op" id="5072810">[</span><span class="ident" id="5072811"><a href="/encoding/gob/decode.go.html#5071972">fieldnum</a></span><span class="op" id="5072819">]</span>&nbsp;<span class="op" id="5072821">=</span>&nbsp;<span class="ident" id="5072823"><a href="/encoding/gob/decode.go.html#5042311">decInstr</a></span><span class="op" id="5072831">{</span><span class="op" id="5072832">*</span><span class="ident" id="5072833"><a href="/encoding/gob/decode.go.html#5072723">op</a></span><span class="op" id="5072835">,</span>&nbsp;<span class="ident" id="5072837"><a href="/encoding/gob/decode.go.html#5071972">fieldnum</a></span><span class="op" id="5072845">,</span>&nbsp;<span class="ident" id="5072847"><a href="/encoding/gob/decode.go.html#5072272">localField</a></span><span class="op" id="5072857">.</span><span class="ident" id="5072858">Index</span><span class="op" id="5072863">,</span>&nbsp;<span class="ident" id="5072865"><a href="/encoding/gob/decode.go.html#5072179">ovfl</a></span><span class="op" id="5072869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5072873"><a href="/encoding/gob/decode.go.html#5071147">engine</a></span><span class="op" id="5072879">.</span><span class="ident" id="5072880">numInstr</span><span class="op" id="5072888">++</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5072892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5072895">return</span><br>
<span class="lineno"></span><span class="op" id="5072902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5072905">//&nbsp;getDecEnginePtr&nbsp;returns&nbsp;the&nbsp;engine&nbsp;for&nbsp;the&nbsp;specified&nbsp;type.</span><br>
<span class="lineno">1095</span><span class="keyword" id="5072967">func</span>&nbsp;<span class="op" id="5072972">(</span><span class="ident" id="5072973">dec</span>&nbsp;<span class="op" id="5072977">*</span><span class="ident" id="5072978"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5072985">)</span>&nbsp;<span class="ident" id="5072987">getDecEnginePtr</span><span class="op" id="5073002">(</span><span class="ident" id="5073003">remoteId</span>&nbsp;<span class="ident" id="5073012"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5073018">,</span>&nbsp;<span class="ident" id="5073020">ut</span>&nbsp;<span class="op" id="5073023">*</span><span class="ident" id="5073024"><a href="/encoding/gob/type.go.html#5138634">userTypeInfo</a></span><span class="op" id="5073036">)</span>&nbsp;<span class="op" id="5073038">(</span><span class="ident" id="5073039">enginePtr</span>&nbsp;<span class="op" id="5073049">*</span><span class="op" id="5073050">*</span><span class="ident" id="5073051"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5073060">,</span>&nbsp;<span class="ident" id="5073062">err</span>&nbsp;<span class="builtintype" id="5073066">error</span><span class="op" id="5073071">)</span>&nbsp;<span class="op" id="5073073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5073076">rt</span>&nbsp;<span class="op" id="5073079">:=</span>&nbsp;<span class="ident" id="5073082"><a href="/encoding/gob/decode.go.html#5073020">ut</a></span><span class="op" id="5073084">.</span><span class="ident" id="5073085">user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5073091">decoderMap</span><span class="op" id="5073101">,</span>&nbsp;<span class="ident" id="5073103">ok</span>&nbsp;<span class="op" id="5073106">:=</span>&nbsp;<span class="ident" id="5073109"><a href="/encoding/gob/decode.go.html#5072973">dec</a></span><span class="op" id="5073112">.</span><span class="ident" id="5073113">decoderCache</span><span class="op" id="5073125">[</span><span class="ident" id="5073126"><a href="/encoding/gob/decode.go.html#5073076">rt</a></span><span class="op" id="5073128">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5073131">if</span>&nbsp;<span class="op" id="5073134">!</span><span class="ident" id="5073135"><a href="/encoding/gob/decode.go.html#5073103">ok</a></span>&nbsp;<span class="op" id="5073138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5073142"><a href="/encoding/gob/decode.go.html#5073091">decoderMap</a></span>&nbsp;<span class="op" id="5073153">=</span>&nbsp;<span class="builtinfunc" id="5073155">make</span><span class="op" id="5073159">(</span><span class="keyword" id="5073160">map</span><span class="op" id="5073163">[</span><span class="ident" id="5073164"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5073170">]</span><span class="op" id="5073171">*</span><span class="op" id="5073172">*</span><span class="ident" id="5073173"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5073182">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5073186"><a href="/encoding/gob/decode.go.html#5072973">dec</a></span><span class="op" id="5073189">.</span><span class="ident" id="5073190">decoderCache</span><span class="op" id="5073202">[</span><span class="ident" id="5073203"><a href="/encoding/gob/decode.go.html#5073076">rt</a></span><span class="op" id="5073205">]</span>&nbsp;<span class="op" id="5073207">=</span>&nbsp;<span class="ident" id="5073209"><a href="/encoding/gob/decode.go.html#5073091">decoderMap</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5073221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5073224">if</span>&nbsp;<span class="ident" id="5073227"><a href="/encoding/gob/decode.go.html#5073039">enginePtr</a></span><span class="op" id="5073236">,</span>&nbsp;<span class="ident" id="5073238"><a href="/encoding/gob/decode.go.html#5073103">ok</a></span>&nbsp;<span class="op" id="5073241">=</span>&nbsp;<span class="ident" id="5073243"><a href="/encoding/gob/decode.go.html#5073091">decoderMap</a></span><span class="op" id="5073253">[</span><span class="ident" id="5073254"><a href="/encoding/gob/decode.go.html#5073003">remoteId</a></span><span class="op" id="5073262">]</span><span class="op" id="5073263">;</span>&nbsp;<span class="op" id="5073265">!</span><span class="ident" id="5073266"><a href="/encoding/gob/decode.go.html#5073103">ok</a></span>&nbsp;<span class="op" id="5073269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5073273">//&nbsp;To&nbsp;handle&nbsp;recursive&nbsp;types,&nbsp;mark&nbsp;this&nbsp;engine&nbsp;as&nbsp;underway&nbsp;before&nbsp;compiling.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5073352"><a href="/encoding/gob/decode.go.html#5073039">enginePtr</a></span>&nbsp;<span class="op" id="5073362">=</span>&nbsp;<span class="builtinfunc" id="5073364">new</span><span class="op" id="5073367">(</span><span class="op" id="5073368">*</span><span class="ident" id="5073369"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5073378">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5073382"><a href="/encoding/gob/decode.go.html#5073091">decoderMap</a></span><span class="op" id="5073392">[</span><span class="ident" id="5073393"><a href="/encoding/gob/decode.go.html#5073003">remoteId</a></span><span class="op" id="5073401">]</span>&nbsp;<span class="op" id="5073403">=</span>&nbsp;<span class="ident" id="5073405"><a href="/encoding/gob/decode.go.html#5073039">enginePtr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5073417">*</span><span class="ident" id="5073418"><a href="/encoding/gob/decode.go.html#5073039">enginePtr</a></span><span class="op" id="5073427">,</span>&nbsp;<span class="ident" id="5073429"><a href="/encoding/gob/decode.go.html#5073062">err</a></span>&nbsp;<span class="op" id="5073433">=</span>&nbsp;<span class="ident" id="5073435"><a href="/encoding/gob/decode.go.html#5072973">dec</a></span><span class="op" id="5073438">.</span><span class="ident" id="5073439">compileDec</span><span class="op" id="5073449">(</span><span class="ident" id="5073450"><a href="/encoding/gob/decode.go.html#5073003">remoteId</a></span><span class="op" id="5073458">,</span>&nbsp;<span class="ident" id="5073460"><a href="/encoding/gob/decode.go.html#5073020">ut</a></span><span class="op" id="5073462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5073466">if</span>&nbsp;<span class="ident" id="5073469"><a href="/encoding/gob/decode.go.html#5073062">err</a></span>&nbsp;<span class="op" id="5073473">!=</span>&nbsp;<span class="ident" id="5073476">nil</span>&nbsp;<span class="op" id="5073480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5073485">delete</span><span class="op" id="5073491">(</span><span class="ident" id="5073492"><a href="/encoding/gob/decode.go.html#5073091">decoderMap</a></span><span class="op" id="5073502">,</span>&nbsp;<span class="ident" id="5073504"><a href="/encoding/gob/decode.go.html#5073003">remoteId</a></span><span class="op" id="5073512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5073516">}</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5073519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5073522">return</span><br>
<span class="lineno"></span><span class="op" id="5073529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5073532">//&nbsp;emptyStruct&nbsp;is&nbsp;the&nbsp;type&nbsp;we&nbsp;compile&nbsp;into&nbsp;when&nbsp;ignoring&nbsp;a&nbsp;struct&nbsp;value.</span><br>
<span class="lineno">1115</span><span class="keyword" id="5073605">type</span>&nbsp;<span class="ident" id="5073610">emptyStruct</span>&nbsp;<span class="keyword" id="5073622">struct</span><span class="op" id="5073628">{</span><span class="op" id="5073629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5073632">var</span>&nbsp;<span class="ident" id="5073636">emptyStructType</span>&nbsp;<span class="op" id="5073652">=</span>&nbsp;<span class="ident" id="5073654"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5073661">.</span><span class="ident" id="5073662">TypeOf</span><span class="op" id="5073668">(</span><span class="ident" id="5073669"><a href="/encoding/gob/decode.go.html#5073610">emptyStruct</a></span><span class="op" id="5073680">{</span><span class="op" id="5073681">}</span><span class="op" id="5073682">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5073685">//&nbsp;getDecEnginePtr&nbsp;returns&nbsp;the&nbsp;engine&nbsp;for&nbsp;the&nbsp;specified&nbsp;type&nbsp;when&nbsp;the&nbsp;value&nbsp;is&nbsp;to&nbsp;be&nbsp;discarded.</span><br>
<span class="lineno">1120</span><span class="keyword" id="5073781">func</span>&nbsp;<span class="op" id="5073786">(</span><span class="ident" id="5073787">dec</span>&nbsp;<span class="op" id="5073791">*</span><span class="ident" id="5073792"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5073799">)</span>&nbsp;<span class="ident" id="5073801">getIgnoreEnginePtr</span><span class="op" id="5073819">(</span><span class="ident" id="5073820">wireId</span>&nbsp;<span class="ident" id="5073827"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5073833">)</span>&nbsp;<span class="op" id="5073835">(</span><span class="ident" id="5073836">enginePtr</span>&nbsp;<span class="op" id="5073846">*</span><span class="op" id="5073847">*</span><span class="ident" id="5073848"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5073857">,</span>&nbsp;<span class="ident" id="5073859">err</span>&nbsp;<span class="builtintype" id="5073863">error</span><span class="op" id="5073868">)</span>&nbsp;<span class="op" id="5073870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5073873">var</span>&nbsp;<span class="ident" id="5073877">ok</span>&nbsp;<span class="builtintype" id="5073880">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5073886">if</span>&nbsp;<span class="ident" id="5073889"><a href="/encoding/gob/decode.go.html#5073836">enginePtr</a></span><span class="op" id="5073898">,</span>&nbsp;<span class="ident" id="5073900"><a href="/encoding/gob/decode.go.html#5073877">ok</a></span>&nbsp;<span class="op" id="5073903">=</span>&nbsp;<span class="ident" id="5073905"><a href="/encoding/gob/decode.go.html#5073787">dec</a></span><span class="op" id="5073908">.</span><span class="ident" id="5073909">ignorerCache</span><span class="op" id="5073921">[</span><span class="ident" id="5073922"><a href="/encoding/gob/decode.go.html#5073820">wireId</a></span><span class="op" id="5073928">]</span><span class="op" id="5073929">;</span>&nbsp;<span class="op" id="5073931">!</span><span class="ident" id="5073932"><a href="/encoding/gob/decode.go.html#5073877">ok</a></span>&nbsp;<span class="op" id="5073935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5073939">//&nbsp;To&nbsp;handle&nbsp;recursive&nbsp;types,&nbsp;mark&nbsp;this&nbsp;engine&nbsp;as&nbsp;underway&nbsp;before&nbsp;compiling.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5074018"><a href="/encoding/gob/decode.go.html#5073836">enginePtr</a></span>&nbsp;<span class="op" id="5074028">=</span>&nbsp;<span class="builtinfunc" id="5074030">new</span><span class="op" id="5074033">(</span><span class="op" id="5074034">*</span><span class="ident" id="5074035"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><span class="op" id="5074044">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5074048"><a href="/encoding/gob/decode.go.html#5073787">dec</a></span><span class="op" id="5074051">.</span><span class="ident" id="5074052">ignorerCache</span><span class="op" id="5074064">[</span><span class="ident" id="5074065"><a href="/encoding/gob/decode.go.html#5073820">wireId</a></span><span class="op" id="5074071">]</span>&nbsp;<span class="op" id="5074073">=</span>&nbsp;<span class="ident" id="5074075"><a href="/encoding/gob/decode.go.html#5073836">enginePtr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5074087">wire</span>&nbsp;<span class="op" id="5074092">:=</span>&nbsp;<span class="ident" id="5074095"><a href="/encoding/gob/decode.go.html#5073787">dec</a></span><span class="op" id="5074098">.</span><span class="ident" id="5074099">wireType</span><span class="op" id="5074107">[</span><span class="ident" id="5074108"><a href="/encoding/gob/decode.go.html#5073820">wireId</a></span><span class="op" id="5074114">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5074118">if</span>&nbsp;<span class="ident" id="5074121"><a href="/encoding/gob/decode.go.html#5074087">wire</a></span>&nbsp;<span class="op" id="5074126">!=</span>&nbsp;<span class="ident" id="5074129">nil</span>&nbsp;<span class="op" id="5074133">&amp;&amp;</span>&nbsp;<span class="ident" id="5074136"><a href="/encoding/gob/decode.go.html#5074087">wire</a></span><span class="op" id="5074140">.</span><span class="ident" id="5074141">StructT</span>&nbsp;<span class="op" id="5074149">!=</span>&nbsp;<span class="ident" id="5074152">nil</span>&nbsp;<span class="op" id="5074156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5074161">*</span><span class="ident" id="5074162"><a href="/encoding/gob/decode.go.html#5073836">enginePtr</a></span><span class="op" id="5074171">,</span>&nbsp;<span class="ident" id="5074173"><a href="/encoding/gob/decode.go.html#5073859">err</a></span>&nbsp;<span class="op" id="5074177">=</span>&nbsp;<span class="ident" id="5074179"><a href="/encoding/gob/decode.go.html#5073787">dec</a></span><span class="op" id="5074182">.</span><span class="ident" id="5074183">compileDec</span><span class="op" id="5074193">(</span><span class="ident" id="5074194"><a href="/encoding/gob/decode.go.html#5073820">wireId</a></span><span class="op" id="5074200">,</span>&nbsp;<span class="ident" id="5074202"><a href="/encoding/gob/type.go.html#5143544">userType</a></span><span class="op" id="5074210">(</span><span class="ident" id="5074211"><a href="/encoding/gob/decode.go.html#5073636">emptyStructType</a></span><span class="op" id="5074226">)</span><span class="op" id="5074227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5074231">}</span>&nbsp;<span class="keyword" id="5074233">else</span>&nbsp;<span class="op" id="5074238">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5074243">*</span><span class="ident" id="5074244"><a href="/encoding/gob/decode.go.html#5073836">enginePtr</a></span><span class="op" id="5074253">,</span>&nbsp;<span class="ident" id="5074255"><a href="/encoding/gob/decode.go.html#5073859">err</a></span>&nbsp;<span class="op" id="5074259">=</span>&nbsp;<span class="ident" id="5074261"><a href="/encoding/gob/decode.go.html#5073787">dec</a></span><span class="op" id="5074264">.</span><span class="ident" id="5074265">compileIgnoreSingle</span><span class="op" id="5074284">(</span><span class="ident" id="5074285"><a href="/encoding/gob/decode.go.html#5073820">wireId</a></span><span class="op" id="5074291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5074295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5074299">if</span>&nbsp;<span class="ident" id="5074302"><a href="/encoding/gob/decode.go.html#5073859">err</a></span>&nbsp;<span class="op" id="5074306">!=</span>&nbsp;<span class="ident" id="5074309">nil</span>&nbsp;<span class="op" id="5074313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5074318">delete</span><span class="op" id="5074324">(</span><span class="ident" id="5074325"><a href="/encoding/gob/decode.go.html#5073787">dec</a></span><span class="op" id="5074328">.</span><span class="ident" id="5074329">ignorerCache</span><span class="op" id="5074341">,</span>&nbsp;<span class="ident" id="5074343"><a href="/encoding/gob/decode.go.html#5073820">wireId</a></span><span class="op" id="5074349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5074353">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5074356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5074359">return</span><br>
<span class="lineno"></span><span class="op" id="5074366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5074369">//&nbsp;decodeValue&nbsp;decodes&nbsp;the&nbsp;data&nbsp;stream&nbsp;representing&nbsp;a&nbsp;value&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno">1140</span><span class="keyword" id="5074453">func</span>&nbsp;<span class="op" id="5074458">(</span><span class="ident" id="5074459">dec</span>&nbsp;<span class="op" id="5074463">*</span><span class="ident" id="5074464"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5074471">)</span>&nbsp;<span class="ident" id="5074473">decodeValue</span><span class="op" id="5074484">(</span><span class="ident" id="5074485">wireId</span>&nbsp;<span class="ident" id="5074492"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5074498">,</span>&nbsp;<span class="ident" id="5074500">value</span>&nbsp;<span class="ident" id="5074506"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5074513">.</span><span class="ident" id="5074514">Value</span><span class="op" id="5074519">)</span>&nbsp;<span class="op" id="5074521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5074524">defer</span>&nbsp;<span class="ident" id="5074530"><a href="/encoding/gob/error.go.html#5138040">catchError</a></span><span class="op" id="5074540">(</span><span class="op" id="5074541">&amp;</span><span class="ident" id="5074542"><a href="/encoding/gob/decode.go.html#5074459">dec</a></span><span class="op" id="5074545">.</span><span class="ident" id="5074546">err</span><span class="op" id="5074549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5074552">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;nil,&nbsp;it&nbsp;means&nbsp;we&nbsp;should&nbsp;just&nbsp;ignore&nbsp;this&nbsp;item.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5074619">if</span>&nbsp;<span class="op" id="5074622">!</span><span class="ident" id="5074623"><a href="/encoding/gob/decode.go.html#5074500">value</a></span><span class="op" id="5074628">.</span><span class="ident" id="5074629">IsValid</span><span class="op" id="5074636">(</span><span class="op" id="5074637">)</span>&nbsp;<span class="op" id="5074639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5074643"><a href="/encoding/gob/decode.go.html#5074459">dec</a></span><span class="op" id="5074646">.</span><span class="ident" id="5074647">decodeIgnoredValue</span><span class="op" id="5074665">(</span><span class="ident" id="5074666"><a href="/encoding/gob/decode.go.html#5074485">wireId</a></span><span class="op" id="5074672">)</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5074676">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5074684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5074687">//&nbsp;Dereference&nbsp;down&nbsp;to&nbsp;the&nbsp;underlying&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5074732">ut</span>&nbsp;<span class="op" id="5074735">:=</span>&nbsp;<span class="ident" id="5074738"><a href="/encoding/gob/type.go.html#5143544">userType</a></span><span class="op" id="5074746">(</span><span class="ident" id="5074747"><a href="/encoding/gob/decode.go.html#5074500">value</a></span><span class="op" id="5074752">.</span><span class="ident" id="5074753">Type</span><span class="op" id="5074757">(</span><span class="op" id="5074758">)</span><span class="op" id="5074759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5074762">base</span>&nbsp;<span class="op" id="5074767">:=</span>&nbsp;<span class="ident" id="5074770"><a href="/encoding/gob/decode.go.html#5074732">ut</a></span><span class="op" id="5074772">.</span><span class="ident" id="5074773">base</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5074779">var</span>&nbsp;<span class="ident" id="5074783">enginePtr</span>&nbsp;<span class="op" id="5074793">*</span><span class="op" id="5074794">*</span><span class="ident" id="5074795"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5074806"><a href="/encoding/gob/decode.go.html#5074783">enginePtr</a></span><span class="op" id="5074815">,</span>&nbsp;<span class="ident" id="5074817"><a href="/encoding/gob/decode.go.html#5074459">dec</a></span><span class="op" id="5074820">.</span><span class="ident" id="5074821">err</span>&nbsp;<span class="op" id="5074825">=</span>&nbsp;<span class="ident" id="5074827"><a href="/encoding/gob/decode.go.html#5074459">dec</a></span><span class="op" id="5074830">.</span><span class="ident" id="5074831">getDecEnginePtr</span><span class="op" id="5074846">(</span><span class="ident" id="5074847"><a href="/encoding/gob/decode.go.html#5074485">wireId</a></span><span class="op" id="5074853">,</span>&nbsp;<span class="ident" id="5074855"><a href="/encoding/gob/decode.go.html#5074732">ut</a></span><span class="op" id="5074857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5074860">if</span>&nbsp;<span class="ident" id="5074863"><a href="/encoding/gob/decode.go.html#5074459">dec</a></span><span class="op" id="5074866">.</span><span class="ident" id="5074867">err</span>&nbsp;<span class="op" id="5074871">!=</span>&nbsp;<span class="ident" id="5074874">nil</span>&nbsp;<span class="op" id="5074878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5074882">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5074890">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5074893"><a href="/encoding/gob/decode.go.html#5074500">value</a></span>&nbsp;<span class="op" id="5074899">=</span>&nbsp;<span class="ident" id="5074901"><a href="/encoding/gob/decode.go.html#5043528">decAlloc</a></span><span class="op" id="5074909">(</span><span class="ident" id="5074910"><a href="/encoding/gob/decode.go.html#5074500">value</a></span><span class="op" id="5074915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5074918">engine</span>&nbsp;<span class="op" id="5074925">:=</span>&nbsp;<span class="op" id="5074928">*</span><span class="ident" id="5074929"><a href="/encoding/gob/decode.go.html#5074783">enginePtr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5074940">if</span>&nbsp;<span class="ident" id="5074943">st</span>&nbsp;<span class="op" id="5074946">:=</span>&nbsp;<span class="ident" id="5074949"><a href="/encoding/gob/decode.go.html#5074762">base</a></span><span class="op" id="5074953">;</span>&nbsp;<span class="ident" id="5074955"><a href="/encoding/gob/decode.go.html#5074943">st</a></span><span class="op" id="5074957">.</span><span class="ident" id="5074958">Kind</span><span class="op" id="5074962">(</span><span class="op" id="5074963">)</span>&nbsp;<span class="op" id="5074965">==</span>&nbsp;<span class="ident" id="5074968"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5074975">.</span><span class="ident" id="5074976">Struct</span>&nbsp;<span class="op" id="5074983">&amp;&amp;</span>&nbsp;<span class="ident" id="5074986"><a href="/encoding/gob/decode.go.html#5074732">ut</a></span><span class="op" id="5074988">.</span><span class="ident" id="5074989">externalDec</span>&nbsp;<span class="op" id="5075001">==</span>&nbsp;<span class="num" id="5075004">0</span>&nbsp;<span class="op" id="5075006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5075010">if</span>&nbsp;<span class="ident" id="5075013"><a href="/encoding/gob/decode.go.html#5074918">engine</a></span><span class="op" id="5075019">.</span><span class="ident" id="5075020">numInstr</span>&nbsp;<span class="op" id="5075029">==</span>&nbsp;<span class="num" id="5075032">0</span>&nbsp;<span class="op" id="5075034">&amp;&amp;</span>&nbsp;<span class="ident" id="5075037"><a href="/encoding/gob/decode.go.html#5074943">st</a></span><span class="op" id="5075039">.</span><span class="ident" id="5075040">NumField</span><span class="op" id="5075048">(</span><span class="op" id="5075049">)</span>&nbsp;<span class="op" id="5075051">&gt;</span>&nbsp;<span class="num" id="5075053">0</span>&nbsp;<span class="op" id="5075055">&amp;&amp;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075061"><a href="/encoding/gob/decode.go.html#5074459">dec</a></span><span class="op" id="5075064">.</span><span class="ident" id="5075065">wireType</span><span class="op" id="5075073">[</span><span class="ident" id="5075074"><a href="/encoding/gob/decode.go.html#5074485">wireId</a></span><span class="op" id="5075080">]</span>&nbsp;<span class="op" id="5075082">!=</span>&nbsp;<span class="ident" id="5075085">nil</span>&nbsp;<span class="op" id="5075089">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5075092">len</span><span class="op" id="5075095">(</span><span class="ident" id="5075096"><a href="/encoding/gob/decode.go.html#5074459">dec</a></span><span class="op" id="5075099">.</span><span class="ident" id="5075100">wireType</span><span class="op" id="5075108">[</span><span class="ident" id="5075109"><a href="/encoding/gob/decode.go.html#5074485">wireId</a></span><span class="op" id="5075115">]</span><span class="op" id="5075116">.</span><span class="ident" id="5075117">StructT</span><span class="op" id="5075124">.</span><span class="ident" id="5075125">Field</span><span class="op" id="5075130">)</span>&nbsp;<span class="op" id="5075132">&gt;</span>&nbsp;<span class="num" id="5075134">0</span>&nbsp;<span class="op" id="5075136">{</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075141">name</span>&nbsp;<span class="op" id="5075146">:=</span>&nbsp;<span class="ident" id="5075149"><a href="/encoding/gob/decode.go.html#5074762">base</a></span><span class="op" id="5075153">.</span><span class="ident" id="5075154">Name</span><span class="op" id="5075158">(</span><span class="op" id="5075159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075164"><a href="/encoding/gob/error.go.html#5137642">errorf</a></span><span class="op" id="5075170">(</span><span class="string" id="5075171">&#34;type&nbsp;mismatch:&nbsp;no&nbsp;fields&nbsp;matched&nbsp;compiling&nbsp;decoder&nbsp;for&nbsp;%s&#34;</span><span class="op" id="5075230">,</span>&nbsp;<span class="ident" id="5075232"><a href="/encoding/gob/decode.go.html#5075141">name</a></span><span class="op" id="5075236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5075240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075244"><a href="/encoding/gob/decode.go.html#5074459">dec</a></span><span class="op" id="5075247">.</span><span class="ident" id="5075248">decodeStruct</span><span class="op" id="5075260">(</span><span class="ident" id="5075261"><a href="/encoding/gob/decode.go.html#5074918">engine</a></span><span class="op" id="5075267">,</span>&nbsp;<span class="ident" id="5075269"><a href="/encoding/gob/decode.go.html#5074732">ut</a></span><span class="op" id="5075271">,</span>&nbsp;<span class="ident" id="5075273"><a href="/encoding/gob/decode.go.html#5074500">value</a></span><span class="op" id="5075278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5075281">}</span>&nbsp;<span class="keyword" id="5075283">else</span>&nbsp;<span class="op" id="5075288">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075292"><a href="/encoding/gob/decode.go.html#5074459">dec</a></span><span class="op" id="5075295">.</span><span class="ident" id="5075296">decodeSingle</span><span class="op" id="5075308">(</span><span class="ident" id="5075309"><a href="/encoding/gob/decode.go.html#5074918">engine</a></span><span class="op" id="5075315">,</span>&nbsp;<span class="ident" id="5075317"><a href="/encoding/gob/decode.go.html#5074732">ut</a></span><span class="op" id="5075319">,</span>&nbsp;<span class="ident" id="5075321"><a href="/encoding/gob/decode.go.html#5074500">value</a></span><span class="op" id="5075326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5075329">}</span><br>
<span class="lineno"></span><span class="op" id="5075331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5075334">//&nbsp;decodeIgnoredValue&nbsp;decodes&nbsp;the&nbsp;data&nbsp;stream&nbsp;representing&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;specified&nbsp;type&nbsp;and&nbsp;discards&nbsp;it.</span><br>
<span class="lineno">1170</span><span class="keyword" id="5075440">func</span>&nbsp;<span class="op" id="5075445">(</span><span class="ident" id="5075446">dec</span>&nbsp;<span class="op" id="5075450">*</span><span class="ident" id="5075451"><a href="/encoding/gob/decoder.go.html#5077041">Decoder</a></span><span class="op" id="5075458">)</span>&nbsp;<span class="ident" id="5075460">decodeIgnoredValue</span><span class="op" id="5075478">(</span><span class="ident" id="5075479">wireId</span>&nbsp;<span class="ident" id="5075486"><a href="/encoding/gob/type.go.html#5143835">typeId</a></span><span class="op" id="5075492">)</span>&nbsp;<span class="op" id="5075494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5075497">var</span>&nbsp;<span class="ident" id="5075501">enginePtr</span>&nbsp;<span class="op" id="5075511">*</span><span class="op" id="5075512">*</span><span class="ident" id="5075513"><a href="/encoding/gob/decode.go.html#5049828">decEngine</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075524"><a href="/encoding/gob/decode.go.html#5075501">enginePtr</a></span><span class="op" id="5075533">,</span>&nbsp;<span class="ident" id="5075535"><a href="/encoding/gob/decode.go.html#5075446">dec</a></span><span class="op" id="5075538">.</span><span class="ident" id="5075539">err</span>&nbsp;<span class="op" id="5075543">=</span>&nbsp;<span class="ident" id="5075545"><a href="/encoding/gob/decode.go.html#5075446">dec</a></span><span class="op" id="5075548">.</span><span class="ident" id="5075549">getIgnoreEnginePtr</span><span class="op" id="5075567">(</span><span class="ident" id="5075568"><a href="/encoding/gob/decode.go.html#5075479">wireId</a></span><span class="op" id="5075574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5075577">if</span>&nbsp;<span class="ident" id="5075580"><a href="/encoding/gob/decode.go.html#5075446">dec</a></span><span class="op" id="5075583">.</span><span class="ident" id="5075584">err</span>&nbsp;<span class="op" id="5075588">!=</span>&nbsp;<span class="ident" id="5075591">nil</span>&nbsp;<span class="op" id="5075595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5075599">return</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5075607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075610">wire</span>&nbsp;<span class="op" id="5075615">:=</span>&nbsp;<span class="ident" id="5075618"><a href="/encoding/gob/decode.go.html#5075446">dec</a></span><span class="op" id="5075621">.</span><span class="ident" id="5075622">wireType</span><span class="op" id="5075630">[</span><span class="ident" id="5075631"><a href="/encoding/gob/decode.go.html#5075479">wireId</a></span><span class="op" id="5075637">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5075640">if</span>&nbsp;<span class="ident" id="5075643"><a href="/encoding/gob/decode.go.html#5075610">wire</a></span>&nbsp;<span class="op" id="5075648">!=</span>&nbsp;<span class="ident" id="5075651">nil</span>&nbsp;<span class="op" id="5075655">&amp;&amp;</span>&nbsp;<span class="ident" id="5075658"><a href="/encoding/gob/decode.go.html#5075610">wire</a></span><span class="op" id="5075662">.</span><span class="ident" id="5075663">StructT</span>&nbsp;<span class="op" id="5075671">!=</span>&nbsp;<span class="ident" id="5075674">nil</span>&nbsp;<span class="op" id="5075678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075682"><a href="/encoding/gob/decode.go.html#5075446">dec</a></span><span class="op" id="5075685">.</span><span class="ident" id="5075686">ignoreStruct</span><span class="op" id="5075698">(</span><span class="op" id="5075699">*</span><span class="ident" id="5075700"><a href="/encoding/gob/decode.go.html#5075501">enginePtr</a></span><span class="op" id="5075709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5075712">}</span>&nbsp;<span class="keyword" id="5075714">else</span>&nbsp;<span class="op" id="5075719">{</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075723"><a href="/encoding/gob/decode.go.html#5075446">dec</a></span><span class="op" id="5075726">.</span><span class="ident" id="5075727">ignoreSingle</span><span class="op" id="5075739">(</span><span class="op" id="5075740">*</span><span class="ident" id="5075741"><a href="/encoding/gob/decode.go.html#5075501">enginePtr</a></span><span class="op" id="5075750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5075753">}</span><br>
<span class="lineno"></span><span class="op" id="5075755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5075758">func</span>&nbsp;<span class="ident" id="5075763">init</span><span class="op" id="5075767">(</span><span class="op" id="5075768">)</span>&nbsp;<span class="op" id="5075770">{</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5075773">var</span>&nbsp;<span class="ident" id="5075777">iop</span><span class="op" id="5075780">,</span>&nbsp;<span class="ident" id="5075782">uop</span>&nbsp;<span class="ident" id="5075786"><a href="/encoding/gob/decode.go.html#5042197">decOp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5075793">switch</span>&nbsp;<span class="ident" id="5075800"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5075807">.</span><span class="ident" id="5075808">TypeOf</span><span class="op" id="5075814">(</span><span class="builtintype" id="5075815">int</span><span class="op" id="5075818">(</span><span class="num" id="5075819">0</span><span class="op" id="5075820">)</span><span class="op" id="5075821">)</span><span class="op" id="5075822">.</span><span class="ident" id="5075823">Bits</span><span class="op" id="5075827">(</span><span class="op" id="5075828">)</span>&nbsp;<span class="op" id="5075830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5075833">case</span>&nbsp;<span class="num" id="5075838">32</span><span class="op" id="5075840">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075844"><a href="/encoding/gob/decode.go.html#5075777">iop</a></span>&nbsp;<span class="op" id="5075848">=</span>&nbsp;<span class="ident" id="5075850"><a href="/encoding/gob/decode.go.html#5044905">decInt32</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075861"><a href="/encoding/gob/decode.go.html#5075782">uop</a></span>&nbsp;<span class="op" id="5075865">=</span>&nbsp;<span class="ident" id="5075867"><a href="/encoding/gob/decode.go.html#5045162">decUint32</a></span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5075878">case</span>&nbsp;<span class="num" id="5075883">64</span><span class="op" id="5075885">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075889"><a href="/encoding/gob/decode.go.html#5075777">iop</a></span>&nbsp;<span class="op" id="5075893">=</span>&nbsp;<span class="ident" id="5075895"><a href="/encoding/gob/decode.go.html#5045392">decInt64</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075906"><a href="/encoding/gob/decode.go.html#5075782">uop</a></span>&nbsp;<span class="op" id="5075910">=</span>&nbsp;<span class="ident" id="5075912"><a href="/encoding/gob/decode.go.html#5045584">decUint64</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5075923">default</span><span class="op" id="5075930">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5075934">panic</span><span class="op" id="5075939">(</span><span class="string" id="5075940">&#34;gob:&nbsp;unknown&nbsp;size&nbsp;of&nbsp;int/uint&#34;</span><span class="op" id="5075971">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5075974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5075977"><a href="/encoding/gob/decode.go.html#5060368">decOpTable</a></span><span class="op" id="5075987">[</span><span class="ident" id="5075988"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5075995">.</span><span class="ident" id="5075996">Int</span><span class="op" id="5075999">]</span>&nbsp;<span class="op" id="5076001">=</span>&nbsp;<span class="ident" id="5076003"><a href="/encoding/gob/decode.go.html#5075777">iop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5076008"><a href="/encoding/gob/decode.go.html#5060368">decOpTable</a></span><span class="op" id="5076018">[</span><span class="ident" id="5076019"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5076026">.</span><span class="ident" id="5076027">Uint</span><span class="op" id="5076031">]</span>&nbsp;<span class="op" id="5076033">=</span>&nbsp;<span class="ident" id="5076035"><a href="/encoding/gob/decode.go.html#5075782">uop</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5076041">//&nbsp;Finally&nbsp;uintptr</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5076061">switch</span>&nbsp;<span class="ident" id="5076068"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5076075">.</span><span class="ident" id="5076076">TypeOf</span><span class="op" id="5076082">(</span><span class="builtintype" id="5076083">uintptr</span><span class="op" id="5076090">(</span><span class="num" id="5076091">0</span><span class="op" id="5076092">)</span><span class="op" id="5076093">)</span><span class="op" id="5076094">.</span><span class="ident" id="5076095">Bits</span><span class="op" id="5076099">(</span><span class="op" id="5076100">)</span>&nbsp;<span class="op" id="5076102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5076105">case</span>&nbsp;<span class="num" id="5076110">32</span><span class="op" id="5076112">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5076116"><a href="/encoding/gob/decode.go.html#5075782">uop</a></span>&nbsp;<span class="op" id="5076120">=</span>&nbsp;<span class="ident" id="5076122"><a href="/encoding/gob/decode.go.html#5045162">decUint32</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5076133">case</span>&nbsp;<span class="num" id="5076138">64</span><span class="op" id="5076140">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5076144"><a href="/encoding/gob/decode.go.html#5075782">uop</a></span>&nbsp;<span class="op" id="5076148">=</span>&nbsp;<span class="ident" id="5076150"><a href="/encoding/gob/decode.go.html#5045584">decUint64</a></span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5076161">default</span><span class="op" id="5076168">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5076172">panic</span><span class="op" id="5076177">(</span><span class="string" id="5076178">&#34;gob:&nbsp;unknown&nbsp;size&nbsp;of&nbsp;uintptr&#34;</span><span class="op" id="5076208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5076211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5076214"><a href="/encoding/gob/decode.go.html#5060368">decOpTable</a></span><span class="op" id="5076224">[</span><span class="ident" id="5076225"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5076232">.</span><span class="ident" id="5076233">Uintptr</span><span class="op" id="5076240">]</span>&nbsp;<span class="op" id="5076242">=</span>&nbsp;<span class="ident" id="5076244"><a href="/encoding/gob/decode.go.html#5075782">uop</a></span><br>
<span class="lineno"></span><span class="op" id="5076248">}</span><br>
<span class="lineno">1210</span><br>
<span class="lineno"></span><span class="comment" id="5076251">//&nbsp;Gob&nbsp;depends&nbsp;on&nbsp;being&nbsp;able&nbsp;to&nbsp;take&nbsp;the&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="5076300">//&nbsp;of&nbsp;zeroed&nbsp;Values&nbsp;it&nbsp;creates,&nbsp;so&nbsp;use&nbsp;this&nbsp;wrapper&nbsp;instead</span><br>
<span class="lineno"></span><span class="comment" id="5076360">//&nbsp;of&nbsp;the&nbsp;standard&nbsp;reflect.Zero.</span><br>
<span class="lineno"></span><span class="comment" id="5076393">//&nbsp;Each&nbsp;call&nbsp;allocates&nbsp;once.</span><br>
<span class="lineno">1215</span><span class="keyword" id="5076422">func</span>&nbsp;<span class="ident" id="5076427">allocValue</span><span class="op" id="5076437">(</span><span class="ident" id="5076438">t</span>&nbsp;<span class="ident" id="5076440"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5076447">.</span><span class="ident" id="5076448">Type</span><span class="op" id="5076452">)</span>&nbsp;<span class="ident" id="5076454"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5076461">.</span><span class="ident" id="5076462">Value</span>&nbsp;<span class="op" id="5076468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5076471">return</span>&nbsp;<span class="ident" id="5076478"><a href="/encoding/gob/decode.go.html#5038160">reflect</a></span><span class="op" id="5076485">.</span><span class="ident" id="5076486">New</span><span class="op" id="5076489">(</span><span class="ident" id="5076490"><a href="/encoding/gob/decode.go.html#5076438">t</a></span><span class="op" id="5076491">)</span><span class="op" id="5076492">.</span><span class="ident" id="5076493">Elem</span><span class="op" id="5076497">(</span><span class="op" id="5076498">)</span><br>
<span class="lineno"></span><span class="op" id="5076500">}</span>
</div>
</body>
</html>
