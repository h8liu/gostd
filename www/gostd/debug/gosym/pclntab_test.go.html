<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html" class="current">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7109417">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7109473">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7109527">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7109578">package</span>&nbsp;<span class="ident" id="7109586">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7109593">import</span>&nbsp;<span class="op" id="7109600">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7109603">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7109616">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7109623">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7109636">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7109642">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7109653">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7109670">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7109681">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7109692">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7109702">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7109705">var</span>&nbsp;<span class="op" id="7109709">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7109712">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7109729">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7109737">pclinetestBinary</span>&nbsp;<span class="builtintype" id="7109754">string</span><br>
<span class="lineno"></span><span class="op" id="7109761">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7109764">func</span>&nbsp;<span class="ident" id="7109769">dotest</span><span class="op" id="7109775">(</span><span class="ident" id="7109776">self</span>&nbsp;<span class="builtintype" id="7109781">bool</span><span class="op" id="7109785">)</span>&nbsp;<span class="builtintype" id="7109787">bool</span>&nbsp;<span class="op" id="7109792">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7109795">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7109839">if</span>&nbsp;<span class="ident" id="7109842">runtime</span><span class="op" id="7109849">.</span><span class="ident" id="7109850">GOARCH</span>&nbsp;<span class="op" id="7109857">!=</span>&nbsp;<span class="string" id="7109860">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7109868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7109872">return</span>&nbsp;<span class="builtintype" id="7109879">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7109886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7109889">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7109943">if</span>&nbsp;<span class="ident" id="7109946">self</span>&nbsp;<span class="op" id="7109951">&amp;&amp;</span>&nbsp;<span class="ident" id="7109954">runtime</span><span class="op" id="7109961">.</span><span class="ident" id="7109962">GOOS</span>&nbsp;<span class="op" id="7109967">!=</span>&nbsp;<span class="string" id="7109970">&#34;linux&#34;</span>&nbsp;<span class="op" id="7109978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7109982">return</span>&nbsp;<span class="builtintype" id="7109989">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7109996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7109999">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7110040">if</span>&nbsp;<span class="ident" id="7110043">runtime</span><span class="op" id="7110050">.</span><span class="ident" id="7110051">GOOS</span>&nbsp;<span class="op" id="7110056">==</span>&nbsp;<span class="string" id="7110059">&#34;windows&#34;</span>&nbsp;<span class="op" id="7110069">||</span>&nbsp;<span class="ident" id="7110072">runtime</span><span class="op" id="7110079">.</span><span class="ident" id="7110080">GOOS</span>&nbsp;<span class="op" id="7110085">==</span>&nbsp;<span class="string" id="7110088">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7110096">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7110100">return</span>&nbsp;<span class="builtintype" id="7110107">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7110114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7110117">if</span>&nbsp;<span class="ident" id="7110120">pclinetestBinary</span>&nbsp;<span class="op" id="7110137">!=</span>&nbsp;<span class="string" id="7110140">&#34;&#34;</span>&nbsp;<span class="op" id="7110143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7110147">return</span>&nbsp;<span class="builtintype" id="7110154">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7110160">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7110163">var</span>&nbsp;<span class="ident" id="7110167">err</span>&nbsp;<span class="builtintype" id="7110171">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7110178">pclineTempDir</span><span class="op" id="7110191">,</span>&nbsp;<span class="ident" id="7110193">err</span>&nbsp;<span class="op" id="7110197">=</span>&nbsp;<span class="ident" id="7110199">ioutil</span><span class="op" id="7110205">.</span><span class="ident" id="7110206">TempDir</span><span class="op" id="7110213">(</span><span class="string" id="7110214">&#34;&#34;</span><span class="op" id="7110216">,</span>&nbsp;<span class="string" id="7110218">&#34;pclinetest&#34;</span><span class="op" id="7110230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7110233">if</span>&nbsp;<span class="ident" id="7110236">err</span>&nbsp;<span class="op" id="7110240">!=</span>&nbsp;<span class="builtintype" id="7110243">nil</span>&nbsp;<span class="op" id="7110247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7110251">panic</span><span class="op" id="7110256">(</span><span class="ident" id="7110257">err</span><span class="op" id="7110260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7110263">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7110266">if</span>&nbsp;<span class="ident" id="7110269">strings</span><span class="op" id="7110276">.</span><span class="ident" id="7110277">Contains</span><span class="op" id="7110285">(</span><span class="ident" id="7110286">pclineTempDir</span><span class="op" id="7110299">,</span>&nbsp;<span class="string" id="7110301">&#34;&nbsp;&#34;</span><span class="op" id="7110304">)</span>&nbsp;<span class="op" id="7110306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7110310">panic</span><span class="op" id="7110315">(</span><span class="string" id="7110316">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="7110345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7110348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7110351">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7110407">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7110475">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7110536">pclinetestBinary</span>&nbsp;<span class="op" id="7110553">=</span>&nbsp;<span class="ident" id="7110555">filepath</span><span class="op" id="7110563">.</span><span class="ident" id="7110564">Join</span><span class="op" id="7110568">(</span><span class="ident" id="7110569">pclineTempDir</span><span class="op" id="7110582">,</span>&nbsp;<span class="string" id="7110584">&#34;pclinetest&#34;</span><span class="op" id="7110596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7110599">command</span>&nbsp;<span class="op" id="7110607">:=</span>&nbsp;<span class="ident" id="7110610">fmt</span><span class="op" id="7110613">.</span><span class="ident" id="7110614">Sprintf</span><span class="op" id="7110621">(</span><span class="string" id="7110622">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="7110699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7110703">pclinetestBinary</span><span class="op" id="7110719">,</span>&nbsp;<span class="ident" id="7110721">pclinetestBinary</span><span class="op" id="7110737">,</span>&nbsp;<span class="ident" id="7110739">pclinetestBinary</span><span class="op" id="7110755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7110758">cmd</span>&nbsp;<span class="op" id="7110762">:=</span>&nbsp;<span class="ident" id="7110765">exec</span><span class="op" id="7110769">.</span><span class="ident" id="7110770">Command</span><span class="op" id="7110777">(</span><span class="string" id="7110778">&#34;sh&#34;</span><span class="op" id="7110782">,</span>&nbsp;<span class="string" id="7110784">&#34;-c&#34;</span><span class="op" id="7110788">,</span>&nbsp;<span class="ident" id="7110790">command</span><span class="op" id="7110797">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7110800">cmd</span><span class="op" id="7110803">.</span><span class="ident" id="7110804">Stdout</span>&nbsp;<span class="op" id="7110811">=</span>&nbsp;<span class="ident" id="7110813">os</span><span class="op" id="7110815">.</span><span class="ident" id="7110816">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7110824">cmd</span><span class="op" id="7110827">.</span><span class="ident" id="7110828">Stderr</span>&nbsp;<span class="op" id="7110835">=</span>&nbsp;<span class="ident" id="7110837">os</span><span class="op" id="7110839">.</span><span class="ident" id="7110840">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7110848">if</span>&nbsp;<span class="ident" id="7110851">err</span>&nbsp;<span class="op" id="7110855">:=</span>&nbsp;<span class="ident" id="7110858">cmd</span><span class="op" id="7110861">.</span><span class="ident" id="7110862">Run</span><span class="op" id="7110865">(</span><span class="op" id="7110866">)</span><span class="op" id="7110867">;</span>&nbsp;<span class="ident" id="7110869">err</span>&nbsp;<span class="op" id="7110873">!=</span>&nbsp;<span class="builtintype" id="7110876">nil</span>&nbsp;<span class="op" id="7110880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7110884">panic</span><span class="op" id="7110889">(</span><span class="ident" id="7110890">err</span><span class="op" id="7110893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7110896">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7110899">return</span>&nbsp;<span class="builtintype" id="7110906">true</span><br>
<span class="lineno"></span><span class="op" id="7110911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7110914">func</span>&nbsp;<span class="ident" id="7110919">endtest</span><span class="op" id="7110926">(</span><span class="op" id="7110927">)</span>&nbsp;<span class="op" id="7110929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7110932">if</span>&nbsp;<span class="ident" id="7110935">pclineTempDir</span>&nbsp;<span class="op" id="7110949">!=</span>&nbsp;<span class="string" id="7110952">&#34;&#34;</span>&nbsp;<span class="op" id="7110955">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7110959">os</span><span class="op" id="7110961">.</span><span class="ident" id="7110962">RemoveAll</span><span class="op" id="7110971">(</span><span class="ident" id="7110972">pclineTempDir</span><span class="op" id="7110985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7110989">pclineTempDir</span>&nbsp;<span class="op" id="7111003">=</span>&nbsp;<span class="string" id="7111005">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111010">pclinetestBinary</span>&nbsp;<span class="op" id="7111027">=</span>&nbsp;<span class="string" id="7111029">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7111033">}</span><br>
<span class="lineno"></span><span class="op" id="7111035">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7111038">func</span>&nbsp;<span class="ident" id="7111043">getTable</span><span class="op" id="7111051">(</span><span class="ident" id="7111052">t</span>&nbsp;<span class="op" id="7111054">*</span><span class="ident" id="7111055">testing</span><span class="op" id="7111062">.</span><span class="ident" id="7111063">T</span><span class="op" id="7111064">)</span>&nbsp;<span class="op" id="7111066">*</span><span class="ident" id="7111067">Table</span>&nbsp;<span class="op" id="7111073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111076">f</span><span class="op" id="7111077">,</span>&nbsp;<span class="ident" id="7111079">tab</span>&nbsp;<span class="op" id="7111083">:=</span>&nbsp;<span class="ident" id="7111086">crack</span><span class="op" id="7111091">(</span><span class="ident" id="7111092">os</span><span class="op" id="7111094">.</span><span class="ident" id="7111095">Args</span><span class="op" id="7111099">[</span><span class="num" id="7111100">0</span><span class="op" id="7111101">]</span><span class="op" id="7111102">,</span>&nbsp;<span class="ident" id="7111104">t</span><span class="op" id="7111105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111108">f</span><span class="op" id="7111109">.</span><span class="ident" id="7111110">Close</span><span class="op" id="7111115">(</span><span class="op" id="7111116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111119">return</span>&nbsp;<span class="ident" id="7111126">tab</span><br>
<span class="lineno">75</span><span class="op" id="7111130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7111133">func</span>&nbsp;<span class="ident" id="7111138">crack</span><span class="op" id="7111143">(</span><span class="ident" id="7111144">file</span>&nbsp;<span class="builtintype" id="7111149">string</span><span class="op" id="7111155">,</span>&nbsp;<span class="ident" id="7111157">t</span>&nbsp;<span class="op" id="7111159">*</span><span class="ident" id="7111160">testing</span><span class="op" id="7111167">.</span><span class="ident" id="7111168">T</span><span class="op" id="7111169">)</span>&nbsp;<span class="op" id="7111171">(</span><span class="op" id="7111172">*</span><span class="ident" id="7111173">elf</span><span class="op" id="7111176">.</span><span class="ident" id="7111177">File</span><span class="op" id="7111181">,</span>&nbsp;<span class="op" id="7111183">*</span><span class="ident" id="7111184">Table</span><span class="op" id="7111189">)</span>&nbsp;<span class="op" id="7111191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7111194">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111208">f</span><span class="op" id="7111209">,</span>&nbsp;<span class="ident" id="7111211">err</span>&nbsp;<span class="op" id="7111215">:=</span>&nbsp;<span class="ident" id="7111218">elf</span><span class="op" id="7111221">.</span><span class="ident" id="7111222">Open</span><span class="op" id="7111226">(</span><span class="ident" id="7111227">file</span><span class="op" id="7111231">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111234">if</span>&nbsp;<span class="ident" id="7111237">err</span>&nbsp;<span class="op" id="7111241">!=</span>&nbsp;<span class="builtintype" id="7111244">nil</span>&nbsp;<span class="op" id="7111248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111252">t</span><span class="op" id="7111253">.</span><span class="ident" id="7111254">Fatal</span><span class="op" id="7111259">(</span><span class="ident" id="7111260">err</span><span class="op" id="7111263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7111266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111269">return</span>&nbsp;<span class="ident" id="7111276">parse</span><span class="op" id="7111281">(</span><span class="ident" id="7111282">file</span><span class="op" id="7111286">,</span>&nbsp;<span class="ident" id="7111288">f</span><span class="op" id="7111289">,</span>&nbsp;<span class="ident" id="7111291">t</span><span class="op" id="7111292">)</span><br>
<span class="lineno"></span><span class="op" id="7111294">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="7111297">func</span>&nbsp;<span class="ident" id="7111302">parse</span><span class="op" id="7111307">(</span><span class="ident" id="7111308">file</span>&nbsp;<span class="builtintype" id="7111313">string</span><span class="op" id="7111319">,</span>&nbsp;<span class="ident" id="7111321">f</span>&nbsp;<span class="op" id="7111323">*</span><span class="ident" id="7111324">elf</span><span class="op" id="7111327">.</span><span class="ident" id="7111328">File</span><span class="op" id="7111332">,</span>&nbsp;<span class="ident" id="7111334">t</span>&nbsp;<span class="op" id="7111336">*</span><span class="ident" id="7111337">testing</span><span class="op" id="7111344">.</span><span class="ident" id="7111345">T</span><span class="op" id="7111346">)</span>&nbsp;<span class="op" id="7111348">(</span><span class="op" id="7111349">*</span><span class="ident" id="7111350">elf</span><span class="op" id="7111353">.</span><span class="ident" id="7111354">File</span><span class="op" id="7111358">,</span>&nbsp;<span class="op" id="7111360">*</span><span class="ident" id="7111361">Table</span><span class="op" id="7111366">)</span>&nbsp;<span class="op" id="7111368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111371">symdat</span><span class="op" id="7111377">,</span>&nbsp;<span class="ident" id="7111379">err</span>&nbsp;<span class="op" id="7111383">:=</span>&nbsp;<span class="ident" id="7111386">f</span><span class="op" id="7111387">.</span><span class="ident" id="7111388">Section</span><span class="op" id="7111395">(</span><span class="string" id="7111396">&#34;.gosymtab&#34;</span><span class="op" id="7111407">)</span><span class="op" id="7111408">.</span><span class="ident" id="7111409">Data</span><span class="op" id="7111413">(</span><span class="op" id="7111414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111417">if</span>&nbsp;<span class="ident" id="7111420">err</span>&nbsp;<span class="op" id="7111424">!=</span>&nbsp;<span class="builtintype" id="7111427">nil</span>&nbsp;<span class="op" id="7111431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111435">f</span><span class="op" id="7111436">.</span><span class="ident" id="7111437">Close</span><span class="op" id="7111442">(</span><span class="op" id="7111443">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111447">t</span><span class="op" id="7111448">.</span><span class="ident" id="7111449">Fatalf</span><span class="op" id="7111455">(</span><span class="string" id="7111456">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7111481">,</span>&nbsp;<span class="ident" id="7111483">file</span><span class="op" id="7111487">,</span>&nbsp;<span class="ident" id="7111489">err</span><span class="op" id="7111492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7111495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111498">pclndat</span><span class="op" id="7111505">,</span>&nbsp;<span class="ident" id="7111507">err</span>&nbsp;<span class="op" id="7111511">:=</span>&nbsp;<span class="ident" id="7111514">f</span><span class="op" id="7111515">.</span><span class="ident" id="7111516">Section</span><span class="op" id="7111523">(</span><span class="string" id="7111524">&#34;.gopclntab&#34;</span><span class="op" id="7111536">)</span><span class="op" id="7111537">.</span><span class="ident" id="7111538">Data</span><span class="op" id="7111542">(</span><span class="op" id="7111543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111546">if</span>&nbsp;<span class="ident" id="7111549">err</span>&nbsp;<span class="op" id="7111553">!=</span>&nbsp;<span class="builtintype" id="7111556">nil</span>&nbsp;<span class="op" id="7111560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111564">f</span><span class="op" id="7111565">.</span><span class="ident" id="7111566">Close</span><span class="op" id="7111571">(</span><span class="op" id="7111572">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111576">t</span><span class="op" id="7111577">.</span><span class="ident" id="7111578">Fatalf</span><span class="op" id="7111584">(</span><span class="string" id="7111585">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="7111611">,</span>&nbsp;<span class="ident" id="7111613">file</span><span class="op" id="7111617">,</span>&nbsp;<span class="ident" id="7111619">err</span><span class="op" id="7111622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7111625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111629">pcln</span>&nbsp;<span class="op" id="7111634">:=</span>&nbsp;<span class="ident" id="7111637">NewLineTable</span><span class="op" id="7111649">(</span><span class="ident" id="7111650">pclndat</span><span class="op" id="7111657">,</span>&nbsp;<span class="ident" id="7111659">f</span><span class="op" id="7111660">.</span><span class="ident" id="7111661">Section</span><span class="op" id="7111668">(</span><span class="string" id="7111669">&#34;.text&#34;</span><span class="op" id="7111676">)</span><span class="op" id="7111677">.</span><span class="ident" id="7111678">Addr</span><span class="op" id="7111682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111685">tab</span><span class="op" id="7111688">,</span>&nbsp;<span class="ident" id="7111690">err</span>&nbsp;<span class="op" id="7111694">:=</span>&nbsp;<span class="ident" id="7111697">NewTable</span><span class="op" id="7111705">(</span><span class="ident" id="7111706">symdat</span><span class="op" id="7111712">,</span>&nbsp;<span class="ident" id="7111714">pcln</span><span class="op" id="7111718">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111721">if</span>&nbsp;<span class="ident" id="7111724">err</span>&nbsp;<span class="op" id="7111728">!=</span>&nbsp;<span class="builtintype" id="7111731">nil</span>&nbsp;<span class="op" id="7111735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111739">f</span><span class="op" id="7111740">.</span><span class="ident" id="7111741">Close</span><span class="op" id="7111746">(</span><span class="op" id="7111747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111751">t</span><span class="op" id="7111752">.</span><span class="ident" id="7111753">Fatalf</span><span class="op" id="7111759">(</span><span class="string" id="7111760">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7111785">,</span>&nbsp;<span class="ident" id="7111787">file</span><span class="op" id="7111791">,</span>&nbsp;<span class="ident" id="7111793">err</span><span class="op" id="7111796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7111799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111803">return</span>&nbsp;<span class="ident" id="7111810">f</span><span class="op" id="7111811">,</span>&nbsp;<span class="ident" id="7111813">tab</span><br>
<span class="lineno"></span><span class="op" id="7111817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7111820">var</span>&nbsp;<span class="ident" id="7111824">goarch</span>&nbsp;<span class="op" id="7111831">=</span>&nbsp;<span class="ident" id="7111833">os</span><span class="op" id="7111835">.</span><span class="ident" id="7111836">Getenv</span><span class="op" id="7111842">(</span><span class="string" id="7111843">&#34;O&#34;</span><span class="op" id="7111846">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7111849">func</span>&nbsp;<span class="ident" id="7111854">TestLineFromAline</span><span class="op" id="7111871">(</span><span class="ident" id="7111872">t</span>&nbsp;<span class="op" id="7111874">*</span><span class="ident" id="7111875">testing</span><span class="op" id="7111882">.</span><span class="ident" id="7111883">T</span><span class="op" id="7111884">)</span>&nbsp;<span class="op" id="7111886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111889">if</span>&nbsp;<span class="op" id="7111892">!</span><span class="ident" id="7111893">dotest</span><span class="op" id="7111899">(</span><span class="builtintype" id="7111900">true</span><span class="op" id="7111904">)</span>&nbsp;<span class="op" id="7111906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111910">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7111918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111921">defer</span>&nbsp;<span class="ident" id="7111927">endtest</span><span class="op" id="7111934">(</span><span class="op" id="7111935">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7111939">tab</span>&nbsp;<span class="op" id="7111943">:=</span>&nbsp;<span class="ident" id="7111946">getTable</span><span class="op" id="7111954">(</span><span class="ident" id="7111955">t</span><span class="op" id="7111956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7111959">if</span>&nbsp;<span class="ident" id="7111962">tab</span><span class="op" id="7111965">.</span><span class="ident" id="7111966">go12line</span>&nbsp;<span class="op" id="7111975">!=</span>&nbsp;<span class="builtintype" id="7111978">nil</span>&nbsp;<span class="op" id="7111982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7111986">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112032">t</span><span class="op" id="7112033">.</span><span class="ident" id="7112034">Skip</span><span class="op" id="7112038">(</span><span class="string" id="7112039">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7112076">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7112079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7112083">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112108">pkg</span>&nbsp;<span class="op" id="7112112">:=</span>&nbsp;<span class="ident" id="7112115">tab</span><span class="op" id="7112118">.</span><span class="ident" id="7112119">LookupFunc</span><span class="op" id="7112129">(</span><span class="string" id="7112130">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="7112161">)</span><span class="op" id="7112162">.</span><span class="ident" id="7112163">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7112168">if</span>&nbsp;<span class="ident" id="7112171">pkg</span>&nbsp;<span class="op" id="7112175">==</span>&nbsp;<span class="builtintype" id="7112178">nil</span>&nbsp;<span class="op" id="7112182">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112186">t</span><span class="op" id="7112187">.</span><span class="ident" id="7112188">Fatalf</span><span class="op" id="7112194">(</span><span class="string" id="7112195">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="7112204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7112207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7112211">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7112269">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112299">lastline</span>&nbsp;<span class="op" id="7112308">:=</span>&nbsp;<span class="builtinfunc" id="7112311">make</span><span class="op" id="7112315">(</span><span class="keyword" id="7112316">map</span><span class="op" id="7112319">[</span><span class="builtintype" id="7112320">string</span><span class="op" id="7112326">]</span><span class="builtintype" id="7112327">int</span><span class="op" id="7112330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112333">final</span>&nbsp;<span class="op" id="7112339">:=</span>&nbsp;<span class="op" id="7112342">-</span><span class="num" id="7112343">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7112346">for</span>&nbsp;<span class="ident" id="7112350">i</span>&nbsp;<span class="op" id="7112352">:=</span>&nbsp;<span class="num" id="7112355">0</span><span class="op" id="7112356">;</span>&nbsp;<span class="ident" id="7112358">i</span>&nbsp;<span class="op" id="7112360">&lt;</span>&nbsp;<span class="num" id="7112362">10000</span><span class="op" id="7112367">;</span>&nbsp;<span class="ident" id="7112369">i</span><span class="op" id="7112370">++</span>&nbsp;<span class="op" id="7112373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112377">path</span><span class="op" id="7112381">,</span>&nbsp;<span class="ident" id="7112383">line</span>&nbsp;<span class="op" id="7112388">:=</span>&nbsp;<span class="ident" id="7112391">pkg</span><span class="op" id="7112394">.</span><span class="ident" id="7112395">lineFromAline</span><span class="op" id="7112408">(</span><span class="ident" id="7112409">i</span><span class="op" id="7112410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7112414">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7112443">if</span>&nbsp;<span class="ident" id="7112446">path</span>&nbsp;<span class="op" id="7112451">==</span>&nbsp;<span class="string" id="7112454">&#34;&#34;</span>&nbsp;<span class="op" id="7112457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7112462">if</span>&nbsp;<span class="ident" id="7112465">final</span>&nbsp;<span class="op" id="7112471">==</span>&nbsp;<span class="op" id="7112474">-</span><span class="num" id="7112475">1</span>&nbsp;<span class="op" id="7112477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112483">final</span>&nbsp;<span class="op" id="7112489">=</span>&nbsp;<span class="ident" id="7112491">i</span>&nbsp;<span class="op" id="7112493">-</span>&nbsp;<span class="num" id="7112495">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7112500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7112505">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7112516">}</span>&nbsp;<span class="keyword" id="7112518">else</span>&nbsp;<span class="keyword" id="7112523">if</span>&nbsp;<span class="ident" id="7112526">final</span>&nbsp;<span class="op" id="7112532">!=</span>&nbsp;<span class="op" id="7112535">-</span><span class="num" id="7112536">1</span>&nbsp;<span class="op" id="7112538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112543">t</span><span class="op" id="7112544">.</span><span class="ident" id="7112545">Fatalf</span><span class="op" id="7112551">(</span><span class="string" id="7112552">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="7112634">,</span>&nbsp;<span class="ident" id="7112636">final</span><span class="op" id="7112641">,</span>&nbsp;<span class="ident" id="7112643">i</span><span class="op" id="7112644">,</span>&nbsp;<span class="ident" id="7112646">path</span><span class="op" id="7112650">,</span>&nbsp;<span class="ident" id="7112652">line</span><span class="op" id="7112656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7112660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7112664">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7112721">if</span>&nbsp;<span class="ident" id="7112724">line</span>&nbsp;<span class="op" id="7112729">==</span>&nbsp;<span class="num" id="7112732">1</span>&nbsp;<span class="op" id="7112734">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112739">lastline</span><span class="op" id="7112747">[</span><span class="ident" id="7112748">path</span><span class="op" id="7112752">]</span>&nbsp;<span class="op" id="7112754">=</span>&nbsp;<span class="num" id="7112756">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7112761">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7112772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7112776">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112821">ll</span><span class="op" id="7112823">,</span>&nbsp;<span class="ident" id="7112825">ok</span>&nbsp;<span class="op" id="7112828">:=</span>&nbsp;<span class="ident" id="7112831">lastline</span><span class="op" id="7112839">[</span><span class="ident" id="7112840">path</span><span class="op" id="7112844">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7112848">if</span>&nbsp;<span class="op" id="7112851">!</span><span class="ident" id="7112852">ok</span>&nbsp;<span class="op" id="7112855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112860">t</span><span class="op" id="7112861">.</span><span class="ident" id="7112862">Errorf</span><span class="op" id="7112868">(</span><span class="string" id="7112869">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="7112896">,</span>&nbsp;<span class="ident" id="7112898">path</span><span class="op" id="7112902">,</span>&nbsp;<span class="ident" id="7112904">line</span><span class="op" id="7112908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7112912">}</span>&nbsp;<span class="keyword" id="7112914">else</span>&nbsp;<span class="keyword" id="7112919">if</span>&nbsp;<span class="ident" id="7112922">line</span>&nbsp;<span class="op" id="7112927">!=</span>&nbsp;<span class="ident" id="7112930">ll</span><span class="op" id="7112932">+</span><span class="num" id="7112933">1</span>&nbsp;<span class="op" id="7112935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7112940">t</span><span class="op" id="7112941">.</span><span class="ident" id="7112942">Fatalf</span><span class="op" id="7112948">(</span><span class="string" id="7112949">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7112997">,</span>&nbsp;<span class="ident" id="7112999">path</span><span class="op" id="7113003">,</span>&nbsp;<span class="ident" id="7113005">ll</span><span class="op" id="7113007">+</span><span class="num" id="7113008">1</span><span class="op" id="7113009">,</span>&nbsp;<span class="ident" id="7113011">line</span><span class="op" id="7113015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7113019">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7113023">lastline</span><span class="op" id="7113031">[</span><span class="ident" id="7113032">path</span><span class="op" id="7113036">]</span>&nbsp;<span class="op" id="7113038">=</span>&nbsp;<span class="ident" id="7113040">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7113046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113049">if</span>&nbsp;<span class="ident" id="7113052">final</span>&nbsp;<span class="op" id="7113058">==</span>&nbsp;<span class="op" id="7113061">-</span><span class="num" id="7113062">1</span>&nbsp;<span class="op" id="7113064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7113068">t</span><span class="op" id="7113069">.</span><span class="ident" id="7113070">Errorf</span><span class="op" id="7113076">(</span><span class="string" id="7113077">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="7113106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7113109">}</span><br>
<span class="lineno">160</span><span class="op" id="7113111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7113114">func</span>&nbsp;<span class="ident" id="7113119">TestLineAline</span><span class="op" id="7113132">(</span><span class="ident" id="7113133">t</span>&nbsp;<span class="op" id="7113135">*</span><span class="ident" id="7113136">testing</span><span class="op" id="7113143">.</span><span class="ident" id="7113144">T</span><span class="op" id="7113145">)</span>&nbsp;<span class="op" id="7113147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113150">if</span>&nbsp;<span class="op" id="7113153">!</span><span class="ident" id="7113154">dotest</span><span class="op" id="7113160">(</span><span class="builtintype" id="7113161">true</span><span class="op" id="7113165">)</span>&nbsp;<span class="op" id="7113167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113171">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7113179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113182">defer</span>&nbsp;<span class="ident" id="7113188">endtest</span><span class="op" id="7113195">(</span><span class="op" id="7113196">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7113200">tab</span>&nbsp;<span class="op" id="7113204">:=</span>&nbsp;<span class="ident" id="7113207">getTable</span><span class="op" id="7113215">(</span><span class="ident" id="7113216">t</span><span class="op" id="7113217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113220">if</span>&nbsp;<span class="ident" id="7113223">tab</span><span class="op" id="7113226">.</span><span class="ident" id="7113227">go12line</span>&nbsp;<span class="op" id="7113236">!=</span>&nbsp;<span class="builtintype" id="7113239">nil</span>&nbsp;<span class="op" id="7113243">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7113247">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7113293">t</span><span class="op" id="7113294">.</span><span class="ident" id="7113295">Skip</span><span class="op" id="7113299">(</span><span class="string" id="7113300">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7113337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7113340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113344">for</span>&nbsp;<span class="ident" id="7113348">_</span><span class="op" id="7113349">,</span>&nbsp;<span class="ident" id="7113351">o</span>&nbsp;<span class="op" id="7113353">:=</span>&nbsp;<span class="keyword" id="7113356">range</span>&nbsp;<span class="ident" id="7113362">tab</span><span class="op" id="7113365">.</span><span class="ident" id="7113366">Files</span>&nbsp;<span class="op" id="7113372">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7113376">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7113426">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7113483">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7113537">found</span>&nbsp;<span class="op" id="7113543">:=</span>&nbsp;<span class="builtinfunc" id="7113546">make</span><span class="op" id="7113550">(</span><span class="keyword" id="7113551">map</span><span class="op" id="7113554">[</span><span class="builtintype" id="7113555">string</span><span class="op" id="7113561">]</span><span class="builtintype" id="7113562">int</span><span class="op" id="7113565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113569">for</span>&nbsp;<span class="ident" id="7113573">i</span>&nbsp;<span class="op" id="7113575">:=</span>&nbsp;<span class="num" id="7113578">0</span><span class="op" id="7113579">;</span>&nbsp;<span class="ident" id="7113581">i</span>&nbsp;<span class="op" id="7113583">&lt;</span>&nbsp;<span class="num" id="7113585">1000</span><span class="op" id="7113589">;</span>&nbsp;<span class="ident" id="7113591">i</span><span class="op" id="7113592">++</span>&nbsp;<span class="op" id="7113595">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7113600">path</span><span class="op" id="7113604">,</span>&nbsp;<span class="ident" id="7113606">line</span>&nbsp;<span class="op" id="7113611">:=</span>&nbsp;<span class="ident" id="7113614">o</span><span class="op" id="7113615">.</span><span class="ident" id="7113616">lineFromAline</span><span class="op" id="7113629">(</span><span class="ident" id="7113630">i</span><span class="op" id="7113631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113636">if</span>&nbsp;<span class="ident" id="7113639">path</span>&nbsp;<span class="op" id="7113644">==</span>&nbsp;<span class="string" id="7113647">&#34;&#34;</span>&nbsp;<span class="op" id="7113650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113656">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7113665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7113671">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113734">if</span>&nbsp;<span class="builtinfunc" id="7113737">len</span><span class="op" id="7113740">(</span><span class="ident" id="7113741">path</span><span class="op" id="7113745">)</span>&nbsp;<span class="op" id="7113747">&gt;</span>&nbsp;<span class="num" id="7113749">4</span>&nbsp;<span class="op" id="7113751">&amp;&amp;</span>&nbsp;<span class="ident" id="7113754">path</span><span class="op" id="7113758">[</span><span class="builtinfunc" id="7113759">len</span><span class="op" id="7113762">(</span><span class="ident" id="7113763">path</span><span class="op" id="7113767">)</span><span class="op" id="7113768">-</span><span class="num" id="7113769">4</span><span class="op" id="7113770">:</span><span class="op" id="7113771">]</span>&nbsp;<span class="op" id="7113773">==</span>&nbsp;<span class="string" id="7113776">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="7113783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113789">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7113801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113807">if</span>&nbsp;<span class="ident" id="7113810">minline</span><span class="op" id="7113817">,</span>&nbsp;<span class="ident" id="7113819">ok</span>&nbsp;<span class="op" id="7113822">:=</span>&nbsp;<span class="ident" id="7113825">found</span><span class="op" id="7113830">[</span><span class="ident" id="7113831">path</span><span class="op" id="7113835">]</span><span class="op" id="7113836">;</span>&nbsp;<span class="ident" id="7113838">path</span>&nbsp;<span class="op" id="7113843">!=</span>&nbsp;<span class="string" id="7113846">&#34;&#34;</span>&nbsp;<span class="op" id="7113849">&amp;&amp;</span>&nbsp;<span class="ident" id="7113852">ok</span>&nbsp;<span class="op" id="7113855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113861">if</span>&nbsp;<span class="ident" id="7113864">minline</span>&nbsp;<span class="op" id="7113872">&gt;=</span>&nbsp;<span class="ident" id="7113875">line</span>&nbsp;<span class="op" id="7113880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7113887">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7113927">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7113940">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7113945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7113950">found</span><span class="op" id="7113955">[</span><span class="ident" id="7113956">path</span><span class="op" id="7113960">]</span>&nbsp;<span class="op" id="7113962">=</span>&nbsp;<span class="ident" id="7113964">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7113973">a</span><span class="op" id="7113974">,</span>&nbsp;<span class="ident" id="7113976">err</span>&nbsp;<span class="op" id="7113980">:=</span>&nbsp;<span class="ident" id="7113983">o</span><span class="op" id="7113984">.</span><span class="ident" id="7113985">alineFromLine</span><span class="op" id="7113998">(</span><span class="ident" id="7113999">path</span><span class="op" id="7114003">,</span>&nbsp;<span class="ident" id="7114005">line</span><span class="op" id="7114009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7114014">if</span>&nbsp;<span class="ident" id="7114017">err</span>&nbsp;<span class="op" id="7114021">!=</span>&nbsp;<span class="builtintype" id="7114024">nil</span>&nbsp;<span class="op" id="7114028">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114034">t</span><span class="op" id="7114035">.</span><span class="ident" id="7114036">Errorf</span><span class="op" id="7114042">(</span><span class="string" id="7114043">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="7114126">,</span>&nbsp;<span class="ident" id="7114128">i</span><span class="op" id="7114129">,</span>&nbsp;<span class="ident" id="7114131">o</span><span class="op" id="7114132">.</span><span class="ident" id="7114133">Paths</span><span class="op" id="7114138">[</span><span class="num" id="7114139">0</span><span class="op" id="7114140">]</span><span class="op" id="7114141">.</span><span class="ident" id="7114142">Name</span><span class="op" id="7114146">,</span>&nbsp;<span class="ident" id="7114148">path</span><span class="op" id="7114152">,</span>&nbsp;<span class="ident" id="7114154">line</span><span class="op" id="7114158">,</span>&nbsp;<span class="ident" id="7114160">err</span><span class="op" id="7114163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7114168">}</span>&nbsp;<span class="keyword" id="7114170">else</span>&nbsp;<span class="keyword" id="7114175">if</span>&nbsp;<span class="ident" id="7114178">a</span>&nbsp;<span class="op" id="7114180">!=</span>&nbsp;<span class="ident" id="7114183">i</span>&nbsp;<span class="op" id="7114185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114191">t</span><span class="op" id="7114192">.</span><span class="ident" id="7114193">Errorf</span><span class="op" id="7114199">(</span><span class="string" id="7114200">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="7114284">,</span>&nbsp;<span class="ident" id="7114286">i</span><span class="op" id="7114287">,</span>&nbsp;<span class="ident" id="7114289">o</span><span class="op" id="7114290">.</span><span class="ident" id="7114291">Paths</span><span class="op" id="7114296">[</span><span class="num" id="7114297">0</span><span class="op" id="7114298">]</span><span class="op" id="7114299">.</span><span class="ident" id="7114300">Name</span><span class="op" id="7114304">,</span>&nbsp;<span class="ident" id="7114306">path</span><span class="op" id="7114310">,</span>&nbsp;<span class="ident" id="7114312">line</span><span class="op" id="7114316">,</span>&nbsp;<span class="ident" id="7114318">a</span><span class="op" id="7114319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7114324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7114328">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7114331">}</span><br>
<span class="lineno"></span><span class="op" id="7114333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7114336">func</span>&nbsp;<span class="ident" id="7114341">TestPCLine</span><span class="op" id="7114351">(</span><span class="ident" id="7114352">t</span>&nbsp;<span class="op" id="7114354">*</span><span class="ident" id="7114355">testing</span><span class="op" id="7114362">.</span><span class="ident" id="7114363">T</span><span class="op" id="7114364">)</span>&nbsp;<span class="op" id="7114366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7114369">if</span>&nbsp;<span class="op" id="7114372">!</span><span class="ident" id="7114373">dotest</span><span class="op" id="7114379">(</span><span class="builtintype" id="7114380">false</span><span class="op" id="7114385">)</span>&nbsp;<span class="op" id="7114387">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7114391">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7114399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7114402">defer</span>&nbsp;<span class="ident" id="7114408">endtest</span><span class="op" id="7114415">(</span><span class="op" id="7114416">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114420">f</span><span class="op" id="7114421">,</span>&nbsp;<span class="ident" id="7114423">tab</span>&nbsp;<span class="op" id="7114427">:=</span>&nbsp;<span class="ident" id="7114430">crack</span><span class="op" id="7114435">(</span><span class="ident" id="7114436">pclinetestBinary</span><span class="op" id="7114452">,</span>&nbsp;<span class="ident" id="7114454">t</span><span class="op" id="7114455">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114458">text</span>&nbsp;<span class="op" id="7114463">:=</span>&nbsp;<span class="ident" id="7114466">f</span><span class="op" id="7114467">.</span><span class="ident" id="7114468">Section</span><span class="op" id="7114475">(</span><span class="string" id="7114476">&#34;.text&#34;</span><span class="op" id="7114483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114486">textdat</span><span class="op" id="7114493">,</span>&nbsp;<span class="ident" id="7114495">err</span>&nbsp;<span class="op" id="7114499">:=</span>&nbsp;<span class="ident" id="7114502">text</span><span class="op" id="7114506">.</span><span class="ident" id="7114507">Data</span><span class="op" id="7114511">(</span><span class="op" id="7114512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7114515">if</span>&nbsp;<span class="ident" id="7114518">err</span>&nbsp;<span class="op" id="7114522">!=</span>&nbsp;<span class="builtintype" id="7114525">nil</span>&nbsp;<span class="op" id="7114529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114533">t</span><span class="op" id="7114534">.</span><span class="ident" id="7114535">Fatalf</span><span class="op" id="7114541">(</span><span class="string" id="7114542">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="7114561">,</span>&nbsp;<span class="ident" id="7114563">err</span><span class="op" id="7114566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7114569">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7114573">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114591">sym</span>&nbsp;<span class="op" id="7114595">:=</span>&nbsp;<span class="ident" id="7114598">tab</span><span class="op" id="7114601">.</span><span class="ident" id="7114602">LookupFunc</span><span class="op" id="7114612">(</span><span class="string" id="7114613">&#34;linefrompc&#34;</span><span class="op" id="7114625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114628">wantLine</span>&nbsp;<span class="op" id="7114637">:=</span>&nbsp;<span class="num" id="7114640">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7114643">for</span>&nbsp;<span class="ident" id="7114647">pc</span>&nbsp;<span class="op" id="7114650">:=</span>&nbsp;<span class="ident" id="7114653">sym</span><span class="op" id="7114656">.</span><span class="ident" id="7114657">Entry</span><span class="op" id="7114662">;</span>&nbsp;<span class="ident" id="7114664">pc</span>&nbsp;<span class="op" id="7114667">&lt;</span>&nbsp;<span class="ident" id="7114669">sym</span><span class="op" id="7114672">.</span><span class="ident" id="7114673">End</span><span class="op" id="7114676">;</span>&nbsp;<span class="ident" id="7114678">pc</span><span class="op" id="7114680">++</span>&nbsp;<span class="op" id="7114683">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114687">off</span>&nbsp;<span class="op" id="7114691">:=</span>&nbsp;<span class="ident" id="7114694">pc</span>&nbsp;<span class="op" id="7114697">-</span>&nbsp;<span class="ident" id="7114699">text</span><span class="op" id="7114703">.</span><span class="ident" id="7114704">Addr</span>&nbsp;<span class="comment" id="7114709">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7114756">if</span>&nbsp;<span class="ident" id="7114759">textdat</span><span class="op" id="7114766">[</span><span class="ident" id="7114767">off</span><span class="op" id="7114770">]</span>&nbsp;<span class="op" id="7114772">==</span>&nbsp;<span class="num" id="7114775">255</span>&nbsp;<span class="op" id="7114779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7114784">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7114792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114796">wantLine</span>&nbsp;<span class="op" id="7114805">+=</span>&nbsp;<span class="builtintype" id="7114808">int</span><span class="op" id="7114811">(</span><span class="ident" id="7114812">textdat</span><span class="op" id="7114819">[</span><span class="ident" id="7114820">off</span><span class="op" id="7114823">]</span><span class="op" id="7114824">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114828">t</span><span class="op" id="7114829">.</span><span class="ident" id="7114830">Logf</span><span class="op" id="7114834">(</span><span class="string" id="7114835">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="7114859">,</span>&nbsp;<span class="ident" id="7114861">off</span><span class="op" id="7114864">,</span>&nbsp;<span class="ident" id="7114866">textdat</span><span class="op" id="7114873">[</span><span class="ident" id="7114874">off</span><span class="op" id="7114877">]</span><span class="op" id="7114878">,</span>&nbsp;<span class="ident" id="7114880">sym</span><span class="op" id="7114883">.</span><span class="ident" id="7114884">End</span><span class="op" id="7114887">-</span><span class="ident" id="7114888">pc</span><span class="op" id="7114890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114894">file</span><span class="op" id="7114898">,</span>&nbsp;<span class="ident" id="7114900">line</span><span class="op" id="7114904">,</span>&nbsp;<span class="ident" id="7114906">fn</span>&nbsp;<span class="op" id="7114909">:=</span>&nbsp;<span class="ident" id="7114912">tab</span><span class="op" id="7114915">.</span><span class="ident" id="7114916">PCToLine</span><span class="op" id="7114924">(</span><span class="ident" id="7114925">pc</span><span class="op" id="7114927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7114931">if</span>&nbsp;<span class="ident" id="7114934">fn</span>&nbsp;<span class="op" id="7114937">==</span>&nbsp;<span class="builtintype" id="7114940">nil</span>&nbsp;<span class="op" id="7114944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7114949">t</span><span class="op" id="7114950">.</span><span class="ident" id="7114951">Errorf</span><span class="op" id="7114957">(</span><span class="string" id="7114958">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="7114988">,</span>&nbsp;<span class="ident" id="7114990">pc</span><span class="op" id="7114992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7114996">}</span>&nbsp;<span class="keyword" id="7114998">else</span>&nbsp;<span class="keyword" id="7115003">if</span>&nbsp;<span class="op" id="7115006">!</span><span class="ident" id="7115007">strings</span><span class="op" id="7115014">.</span><span class="ident" id="7115015">HasSuffix</span><span class="op" id="7115024">(</span><span class="ident" id="7115025">file</span><span class="op" id="7115029">,</span>&nbsp;<span class="string" id="7115031">&#34;pclinetest.asm&#34;</span><span class="op" id="7115047">)</span>&nbsp;<span class="op" id="7115049">||</span>&nbsp;<span class="ident" id="7115052">line</span>&nbsp;<span class="op" id="7115057">!=</span>&nbsp;<span class="ident" id="7115060">wantLine</span>&nbsp;<span class="op" id="7115069">||</span>&nbsp;<span class="ident" id="7115072">fn</span>&nbsp;<span class="op" id="7115075">!=</span>&nbsp;<span class="ident" id="7115078">sym</span>&nbsp;<span class="op" id="7115082">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115087">t</span><span class="op" id="7115088">.</span><span class="ident" id="7115089">Errorf</span><span class="op" id="7115095">(</span><span class="string" id="7115096">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="7115141">,</span>&nbsp;<span class="ident" id="7115143">pc</span><span class="op" id="7115145">,</span>&nbsp;<span class="ident" id="7115147">file</span><span class="op" id="7115151">,</span>&nbsp;<span class="ident" id="7115153">line</span><span class="op" id="7115157">,</span>&nbsp;<span class="ident" id="7115159">fn</span><span class="op" id="7115161">.</span><span class="ident" id="7115162">Name</span><span class="op" id="7115166">,</span>&nbsp;<span class="string" id="7115168">&#34;pclinetest.asm&#34;</span><span class="op" id="7115184">,</span>&nbsp;<span class="ident" id="7115186">wantLine</span><span class="op" id="7115194">,</span>&nbsp;<span class="ident" id="7115196">sym</span><span class="op" id="7115199">.</span><span class="ident" id="7115200">Name</span><span class="op" id="7115204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7115208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7115211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7115215">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115233">sym</span>&nbsp;<span class="op" id="7115237">=</span>&nbsp;<span class="ident" id="7115239">tab</span><span class="op" id="7115242">.</span><span class="ident" id="7115243">LookupFunc</span><span class="op" id="7115253">(</span><span class="string" id="7115254">&#34;pcfromline&#34;</span><span class="op" id="7115266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115269">lookupline</span>&nbsp;<span class="op" id="7115280">:=</span>&nbsp;<span class="op" id="7115283">-</span><span class="num" id="7115284">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115287">wantLine</span>&nbsp;<span class="op" id="7115296">=</span>&nbsp;<span class="num" id="7115298">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115301">off</span>&nbsp;<span class="op" id="7115305">:=</span>&nbsp;<span class="ident" id="7115308">uint64</span><span class="op" id="7115314">(</span><span class="num" id="7115315">0</span><span class="op" id="7115316">)</span>&nbsp;<span class="comment" id="7115318">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7115364">for</span>&nbsp;<span class="ident" id="7115368">pc</span>&nbsp;<span class="op" id="7115371">:=</span>&nbsp;<span class="ident" id="7115374">sym</span><span class="op" id="7115377">.</span><span class="ident" id="7115378">Value</span><span class="op" id="7115383">;</span>&nbsp;<span class="ident" id="7115385">pc</span>&nbsp;<span class="op" id="7115388">&lt;</span>&nbsp;<span class="ident" id="7115390">sym</span><span class="op" id="7115393">.</span><span class="ident" id="7115394">End</span><span class="op" id="7115397">;</span>&nbsp;<span class="ident" id="7115399">pc</span>&nbsp;<span class="op" id="7115402">+=</span>&nbsp;<span class="num" id="7115405">2</span>&nbsp;<span class="op" id="7115407">+</span>&nbsp;<span class="ident" id="7115409">uint64</span><span class="op" id="7115415">(</span><span class="ident" id="7115416">textdat</span><span class="op" id="7115423">[</span><span class="ident" id="7115424">off</span><span class="op" id="7115427">]</span><span class="op" id="7115428">)</span>&nbsp;<span class="op" id="7115430">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115434">file</span><span class="op" id="7115438">,</span>&nbsp;<span class="ident" id="7115440">line</span><span class="op" id="7115444">,</span>&nbsp;<span class="ident" id="7115446">fn</span>&nbsp;<span class="op" id="7115449">:=</span>&nbsp;<span class="ident" id="7115452">tab</span><span class="op" id="7115455">.</span><span class="ident" id="7115456">PCToLine</span><span class="op" id="7115464">(</span><span class="ident" id="7115465">pc</span><span class="op" id="7115467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115471">off</span>&nbsp;<span class="op" id="7115475">=</span>&nbsp;<span class="ident" id="7115477">pc</span>&nbsp;<span class="op" id="7115480">-</span>&nbsp;<span class="ident" id="7115482">text</span><span class="op" id="7115486">.</span><span class="ident" id="7115487">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7115494">if</span>&nbsp;<span class="ident" id="7115497">textdat</span><span class="op" id="7115504">[</span><span class="ident" id="7115505">off</span><span class="op" id="7115508">]</span>&nbsp;<span class="op" id="7115510">==</span>&nbsp;<span class="num" id="7115513">255</span>&nbsp;<span class="op" id="7115517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7115522">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7115530">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115534">wantLine</span>&nbsp;<span class="op" id="7115543">+=</span>&nbsp;<span class="builtintype" id="7115546">int</span><span class="op" id="7115549">(</span><span class="ident" id="7115550">textdat</span><span class="op" id="7115557">[</span><span class="ident" id="7115558">off</span><span class="op" id="7115561">]</span><span class="op" id="7115562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7115566">if</span>&nbsp;<span class="ident" id="7115569">line</span>&nbsp;<span class="op" id="7115574">!=</span>&nbsp;<span class="ident" id="7115577">wantLine</span>&nbsp;<span class="op" id="7115586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115591">t</span><span class="op" id="7115592">.</span><span class="ident" id="7115593">Errorf</span><span class="op" id="7115599">(</span><span class="string" id="7115600">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7115650">,</span>&nbsp;<span class="ident" id="7115652">wantLine</span><span class="op" id="7115660">,</span>&nbsp;<span class="ident" id="7115662">pc</span><span class="op" id="7115664">,</span>&nbsp;<span class="ident" id="7115666">line</span><span class="op" id="7115670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115675">off</span>&nbsp;<span class="op" id="7115679">=</span>&nbsp;<span class="ident" id="7115681">pc</span>&nbsp;<span class="op" id="7115684">+</span>&nbsp;<span class="num" id="7115686">1</span>&nbsp;<span class="op" id="7115688">-</span>&nbsp;<span class="ident" id="7115690">text</span><span class="op" id="7115694">.</span><span class="ident" id="7115695">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7115703">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7115714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7115718">if</span>&nbsp;<span class="ident" id="7115721">lookupline</span>&nbsp;<span class="op" id="7115732">==</span>&nbsp;<span class="op" id="7115735">-</span><span class="num" id="7115736">1</span>&nbsp;<span class="op" id="7115738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115743">lookupline</span>&nbsp;<span class="op" id="7115754">=</span>&nbsp;<span class="ident" id="7115756">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7115763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7115767">for</span>&nbsp;<span class="op" id="7115771">;</span>&nbsp;<span class="ident" id="7115773">lookupline</span>&nbsp;<span class="op" id="7115784">&lt;=</span>&nbsp;<span class="ident" id="7115787">line</span><span class="op" id="7115791">;</span>&nbsp;<span class="ident" id="7115793">lookupline</span><span class="op" id="7115803">++</span>&nbsp;<span class="op" id="7115806">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115811">pc2</span><span class="op" id="7115814">,</span>&nbsp;<span class="ident" id="7115816">fn2</span><span class="op" id="7115819">,</span>&nbsp;<span class="ident" id="7115821">err</span>&nbsp;<span class="op" id="7115825">:=</span>&nbsp;<span class="ident" id="7115828">tab</span><span class="op" id="7115831">.</span><span class="ident" id="7115832">LineToPC</span><span class="op" id="7115840">(</span><span class="ident" id="7115841">file</span><span class="op" id="7115845">,</span>&nbsp;<span class="ident" id="7115847">lookupline</span><span class="op" id="7115857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7115862">if</span>&nbsp;<span class="ident" id="7115865">lookupline</span>&nbsp;<span class="op" id="7115876">!=</span>&nbsp;<span class="ident" id="7115879">line</span>&nbsp;<span class="op" id="7115884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7115890">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7115928">if</span>&nbsp;<span class="ident" id="7115931">err</span>&nbsp;<span class="op" id="7115935">==</span>&nbsp;<span class="builtintype" id="7115938">nil</span>&nbsp;<span class="op" id="7115942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7115949">t</span><span class="op" id="7115950">.</span><span class="ident" id="7115951">Errorf</span><span class="op" id="7115957">(</span><span class="string" id="7115958">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7115999">,</span>&nbsp;<span class="ident" id="7116001">lookupline</span><span class="op" id="7116011">,</span>&nbsp;<span class="ident" id="7116013">pc2</span><span class="op" id="7116016">,</span>&nbsp;<span class="ident" id="7116018">fn2</span><span class="op" id="7116021">.</span><span class="ident" id="7116022">Name</span><span class="op" id="7116026">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116037">}</span>&nbsp;<span class="keyword" id="7116039">else</span>&nbsp;<span class="keyword" id="7116044">if</span>&nbsp;<span class="ident" id="7116047">err</span>&nbsp;<span class="op" id="7116051">!=</span>&nbsp;<span class="builtintype" id="7116054">nil</span>&nbsp;<span class="op" id="7116058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7116064">t</span><span class="op" id="7116065">.</span><span class="ident" id="7116066">Errorf</span><span class="op" id="7116072">(</span><span class="string" id="7116073">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7116106">,</span>&nbsp;<span class="ident" id="7116108">lookupline</span><span class="op" id="7116118">,</span>&nbsp;<span class="ident" id="7116120">err</span><span class="op" id="7116123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116128">}</span>&nbsp;<span class="keyword" id="7116130">else</span>&nbsp;<span class="keyword" id="7116135">if</span>&nbsp;<span class="ident" id="7116138">pc</span>&nbsp;<span class="op" id="7116141">!=</span>&nbsp;<span class="ident" id="7116144">pc2</span>&nbsp;<span class="op" id="7116148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7116154">t</span><span class="op" id="7116155">.</span><span class="ident" id="7116156">Errorf</span><span class="op" id="7116162">(</span><span class="string" id="7116163">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7116213">,</span>&nbsp;<span class="ident" id="7116215">pc</span><span class="op" id="7116217">,</span>&nbsp;<span class="ident" id="7116219">fn</span><span class="op" id="7116221">.</span><span class="ident" id="7116222">Name</span><span class="op" id="7116226">,</span>&nbsp;<span class="ident" id="7116228">line</span><span class="op" id="7116232">,</span>&nbsp;<span class="ident" id="7116234">pc2</span><span class="op" id="7116237">,</span>&nbsp;<span class="ident" id="7116239">fn2</span><span class="op" id="7116242">.</span><span class="ident" id="7116243">Name</span><span class="op" id="7116247">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7116260">off</span>&nbsp;<span class="op" id="7116264">=</span>&nbsp;<span class="ident" id="7116266">pc</span>&nbsp;<span class="op" id="7116269">+</span>&nbsp;<span class="num" id="7116271">1</span>&nbsp;<span class="op" id="7116273">-</span>&nbsp;<span class="ident" id="7116275">text</span><span class="op" id="7116279">.</span><span class="ident" id="7116280">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116286">}</span><br>
<span class="lineno"></span><span class="op" id="7116288">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
