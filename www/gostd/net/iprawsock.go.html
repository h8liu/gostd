<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3045168">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3045224">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3045278">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3045329">package</span>&nbsp;<span class="ident" id="3045337">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3045342">//&nbsp;IPAddr&nbsp;represents&nbsp;the&nbsp;address&nbsp;of&nbsp;an&nbsp;IP&nbsp;end&nbsp;point.</span><br>
<span class="lineno"></span><span class="keyword" id="3045395">type</span>&nbsp;<span class="ident" id="3045400">IPAddr</span>&nbsp;<span class="keyword" id="3045407">struct</span>&nbsp;<span class="op" id="3045414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045417">IP</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3045422">IP</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045426">Zone</span>&nbsp;<span class="builtintype" id="3045431">string</span>&nbsp;<span class="comment" id="3045438">//&nbsp;IPv6&nbsp;scoped&nbsp;addressing&nbsp;zone</span><br>
<span class="lineno"></span><span class="op" id="3045469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3045472">//&nbsp;Network&nbsp;returns&nbsp;the&nbsp;address&#39;s&nbsp;network&nbsp;name,&nbsp;&#34;ip&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3045525">func</span>&nbsp;<span class="op" id="3045530">(</span><span class="ident" id="3045531">a</span>&nbsp;<span class="op" id="3045533">*</span><span class="ident" id="3045534">IPAddr</span><span class="op" id="3045540">)</span>&nbsp;<span class="ident" id="3045542">Network</span><span class="op" id="3045549">(</span><span class="op" id="3045550">)</span>&nbsp;<span class="builtintype" id="3045552">string</span>&nbsp;<span class="op" id="3045559">{</span>&nbsp;<span class="keyword" id="3045561">return</span>&nbsp;<span class="string" id="3045568">&#34;ip&#34;</span>&nbsp;<span class="op" id="3045573">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="3045576">func</span>&nbsp;<span class="op" id="3045581">(</span><span class="ident" id="3045582">a</span>&nbsp;<span class="op" id="3045584">*</span><span class="ident" id="3045585">IPAddr</span><span class="op" id="3045591">)</span>&nbsp;<span class="ident" id="3045593">String</span><span class="op" id="3045599">(</span><span class="op" id="3045600">)</span>&nbsp;<span class="builtintype" id="3045602">string</span>&nbsp;<span class="op" id="3045609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045612">if</span>&nbsp;<span class="ident" id="3045615">a</span>&nbsp;<span class="op" id="3045617">==</span>&nbsp;<span class="ident" id="3045620">nil</span>&nbsp;<span class="op" id="3045624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045628">return</span>&nbsp;<span class="string" id="3045635">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045644">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045647">if</span>&nbsp;<span class="ident" id="3045650">a</span><span class="op" id="3045651">.</span><span class="ident" id="3045652">Zone</span>&nbsp;<span class="op" id="3045657">!=</span>&nbsp;<span class="string" id="3045660">&#34;&#34;</span>&nbsp;<span class="op" id="3045663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045667">return</span>&nbsp;<span class="ident" id="3045674">a</span><span class="op" id="3045675">.</span><span class="ident" id="3045676">IP</span><span class="op" id="3045678">.</span><span class="ident" id="3045679">String</span><span class="op" id="3045685">(</span><span class="op" id="3045686">)</span>&nbsp;<span class="op" id="3045688">+</span>&nbsp;<span class="string" id="3045690">&#34;%&#34;</span>&nbsp;<span class="op" id="3045694">+</span>&nbsp;<span class="ident" id="3045696">a</span><span class="op" id="3045697">.</span><span class="ident" id="3045698">Zone</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045707">return</span>&nbsp;<span class="ident" id="3045714">a</span><span class="op" id="3045715">.</span><span class="ident" id="3045716">IP</span><span class="op" id="3045718">.</span><span class="ident" id="3045719">String</span><span class="op" id="3045725">(</span><span class="op" id="3045726">)</span><br>
<span class="lineno"></span><span class="op" id="3045728">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3045731">func</span>&nbsp;<span class="op" id="3045736">(</span><span class="ident" id="3045737">a</span>&nbsp;<span class="op" id="3045739">*</span><span class="ident" id="3045740">IPAddr</span><span class="op" id="3045746">)</span>&nbsp;<span class="ident" id="3045748">toAddr</span><span class="op" id="3045754">(</span><span class="op" id="3045755">)</span>&nbsp;<span class="ident" id="3045757">Addr</span>&nbsp;<span class="op" id="3045762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045765">if</span>&nbsp;<span class="ident" id="3045768">a</span>&nbsp;<span class="op" id="3045770">==</span>&nbsp;<span class="ident" id="3045773">nil</span>&nbsp;<span class="op" id="3045777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045781">return</span>&nbsp;<span class="ident" id="3045788">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045793">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045796">return</span>&nbsp;<span class="ident" id="3045803">a</span><br>
<span class="lineno"></span><span class="op" id="3045805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3045808">//&nbsp;ResolveIPAddr&nbsp;parses&nbsp;addr&nbsp;as&nbsp;an&nbsp;IP&nbsp;address&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;host&#34;&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3045876">//&nbsp;&#34;ipv6-host%zone&#34;&nbsp;and&nbsp;resolves&nbsp;the&nbsp;domain&nbsp;name&nbsp;on&nbsp;the&nbsp;network&nbsp;net,</span><br>
<span class="lineno">35</span><span class="comment" id="3045945">//&nbsp;which&nbsp;must&nbsp;be&nbsp;&#34;ip&#34;,&nbsp;&#34;ip4&#34;&nbsp;or&nbsp;&#34;ip6&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3045984">func</span>&nbsp;<span class="ident" id="3045989">ResolveIPAddr</span><span class="op" id="3046002">(</span><span class="ident" id="3046003">net</span><span class="op" id="3046006">,</span>&nbsp;<span class="ident" id="3046008">addr</span>&nbsp;<span class="builtintype" id="3046013">string</span><span class="op" id="3046019">)</span>&nbsp;<span class="op" id="3046021">(</span><span class="op" id="3046022">*</span><span class="ident" id="3046023">IPAddr</span><span class="op" id="3046029">,</span>&nbsp;<span class="builtintype" id="3046031">error</span><span class="op" id="3046036">)</span>&nbsp;<span class="op" id="3046038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046041">if</span>&nbsp;<span class="ident" id="3046044">net</span>&nbsp;<span class="op" id="3046048">==</span>&nbsp;<span class="string" id="3046051">&#34;&#34;</span>&nbsp;<span class="op" id="3046054">{</span>&nbsp;<span class="comment" id="3046056">//&nbsp;a&nbsp;hint&nbsp;wildcard&nbsp;for&nbsp;Go&nbsp;1.0&nbsp;undocumented&nbsp;behavior</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046110">net</span>&nbsp;<span class="op" id="3046114">=</span>&nbsp;<span class="string" id="3046116">&#34;ip&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046122">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046125">afnet</span><span class="op" id="3046130">,</span>&nbsp;<span class="ident" id="3046132">_</span><span class="op" id="3046133">,</span>&nbsp;<span class="ident" id="3046135">err</span>&nbsp;<span class="op" id="3046139">:=</span>&nbsp;<span class="ident" id="3046142">parseNetwork</span><span class="op" id="3046154">(</span><span class="ident" id="3046155">net</span><span class="op" id="3046158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046161">if</span>&nbsp;<span class="ident" id="3046164">err</span>&nbsp;<span class="op" id="3046168">!=</span>&nbsp;<span class="ident" id="3046171">nil</span>&nbsp;<span class="op" id="3046175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046179">return</span>&nbsp;<span class="ident" id="3046186">nil</span><span class="op" id="3046189">,</span>&nbsp;<span class="ident" id="3046191">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046199">switch</span>&nbsp;<span class="ident" id="3046206">afnet</span>&nbsp;<span class="op" id="3046212">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046215">case</span>&nbsp;<span class="string" id="3046220">&#34;ip&#34;</span><span class="op" id="3046224">,</span>&nbsp;<span class="string" id="3046226">&#34;ip4&#34;</span><span class="op" id="3046231">,</span>&nbsp;<span class="string" id="3046233">&#34;ip6&#34;</span><span class="op" id="3046238">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046241">default</span><span class="op" id="3046248">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046252">return</span>&nbsp;<span class="ident" id="3046259">nil</span><span class="op" id="3046262">,</span>&nbsp;<span class="ident" id="3046264">UnknownNetworkError</span><span class="op" id="3046283">(</span><span class="ident" id="3046284">net</span><span class="op" id="3046287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046293">a</span><span class="op" id="3046294">,</span>&nbsp;<span class="ident" id="3046296">err</span>&nbsp;<span class="op" id="3046300">:=</span>&nbsp;<span class="ident" id="3046303">resolveInternetAddr</span><span class="op" id="3046322">(</span><span class="ident" id="3046323">afnet</span><span class="op" id="3046328">,</span>&nbsp;<span class="ident" id="3046330">addr</span><span class="op" id="3046334">,</span>&nbsp;<span class="ident" id="3046336">noDeadline</span><span class="op" id="3046346">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046349">if</span>&nbsp;<span class="ident" id="3046352">err</span>&nbsp;<span class="op" id="3046356">!=</span>&nbsp;<span class="ident" id="3046359">nil</span>&nbsp;<span class="op" id="3046363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046367">return</span>&nbsp;<span class="ident" id="3046374">nil</span><span class="op" id="3046377">,</span>&nbsp;<span class="ident" id="3046379">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046387">return</span>&nbsp;<span class="ident" id="3046394">a</span><span class="op" id="3046395">.</span><span class="ident" id="3046396">toAddr</span><span class="op" id="3046402">(</span><span class="op" id="3046403">)</span><span class="op" id="3046404">.</span><span class="op" id="3046405">(</span><span class="op" id="3046406">*</span><span class="ident" id="3046407">IPAddr</span><span class="op" id="3046413">)</span><span class="op" id="3046414">,</span>&nbsp;<span class="ident" id="3046416">nil</span><br>
<span class="lineno"></span><span class="op" id="3046420">}</span>
</div>
</body>
</html>
