<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html" class="current">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8198321">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8198376">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8198430">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8198481">package</span>&nbsp;<span class="ident" id="8198489">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8198495">import</span>&nbsp;<span class="op" id="8198502">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8198505">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8198515">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8198518">var</span>&nbsp;<span class="ident" id="8198522">ParseRangeTests</span>&nbsp;<span class="op" id="8198538">=</span>&nbsp;<span class="op" id="8198540">[</span><span class="op" id="8198541">]</span><span class="keyword" id="8198542">struct</span>&nbsp;<span class="op" id="8198549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198552">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8198559">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198567">length</span>&nbsp;<span class="ident" id="8198574">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198581">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8198588">[</span><span class="op" id="8198589">]</span><span class="ident" id="8198590">httpRange</span><br>
<span class="lineno">15</span><span class="op" id="8198600">}</span><span class="op" id="8198601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198604">{</span><span class="string" id="8198605">&#34;&#34;</span><span class="op" id="8198607">,</span>&nbsp;<span class="num" id="8198609">0</span><span class="op" id="8198610">,</span>&nbsp;<span class="ident" id="8198612">nil</span><span class="op" id="8198615">}</span><span class="op" id="8198616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198619">{</span><span class="string" id="8198620">&#34;&#34;</span><span class="op" id="8198622">,</span>&nbsp;<span class="num" id="8198624">1000</span><span class="op" id="8198628">,</span>&nbsp;<span class="ident" id="8198630">nil</span><span class="op" id="8198633">}</span><span class="op" id="8198634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198637">{</span><span class="string" id="8198638">&#34;foo&#34;</span><span class="op" id="8198643">,</span>&nbsp;<span class="num" id="8198645">0</span><span class="op" id="8198646">,</span>&nbsp;<span class="ident" id="8198648">nil</span><span class="op" id="8198651">}</span><span class="op" id="8198652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198655">{</span><span class="string" id="8198656">&#34;bytes=&#34;</span><span class="op" id="8198664">,</span>&nbsp;<span class="num" id="8198666">0</span><span class="op" id="8198667">,</span>&nbsp;<span class="ident" id="8198669">nil</span><span class="op" id="8198672">}</span><span class="op" id="8198673">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198676">{</span><span class="string" id="8198677">&#34;bytes=7&#34;</span><span class="op" id="8198686">,</span>&nbsp;<span class="num" id="8198688">10</span><span class="op" id="8198690">,</span>&nbsp;<span class="ident" id="8198692">nil</span><span class="op" id="8198695">}</span><span class="op" id="8198696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198699">{</span><span class="string" id="8198700">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="8198711">,</span>&nbsp;<span class="num" id="8198713">10</span><span class="op" id="8198715">,</span>&nbsp;<span class="ident" id="8198717">nil</span><span class="op" id="8198720">}</span><span class="op" id="8198721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198724">{</span><span class="string" id="8198725">&#34;bytes=1-&#34;</span><span class="op" id="8198735">,</span>&nbsp;<span class="num" id="8198737">0</span><span class="op" id="8198738">,</span>&nbsp;<span class="ident" id="8198740">nil</span><span class="op" id="8198743">}</span><span class="op" id="8198744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198747">{</span><span class="string" id="8198748">&#34;bytes=5-4&#34;</span><span class="op" id="8198759">,</span>&nbsp;<span class="num" id="8198761">10</span><span class="op" id="8198763">,</span>&nbsp;<span class="ident" id="8198765">nil</span><span class="op" id="8198768">}</span><span class="op" id="8198769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198772">{</span><span class="string" id="8198773">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="8198788">,</span>&nbsp;<span class="num" id="8198790">10</span><span class="op" id="8198792">,</span>&nbsp;<span class="ident" id="8198794">nil</span><span class="op" id="8198797">}</span><span class="op" id="8198798">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198801">{</span><span class="string" id="8198802">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="8198817">,</span>&nbsp;<span class="num" id="8198819">10</span><span class="op" id="8198821">,</span>&nbsp;<span class="ident" id="8198823">nil</span><span class="op" id="8198826">}</span><span class="op" id="8198827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198830">{</span><span class="string" id="8198831">&#34;bytes=--5,4--3&#34;</span><span class="op" id="8198847">,</span>&nbsp;<span class="num" id="8198849">10</span><span class="op" id="8198851">,</span>&nbsp;<span class="ident" id="8198853">nil</span><span class="op" id="8198856">}</span><span class="op" id="8198857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198860">{</span><span class="string" id="8198861">&#34;bytes=A-&#34;</span><span class="op" id="8198871">,</span>&nbsp;<span class="num" id="8198873">10</span><span class="op" id="8198875">,</span>&nbsp;<span class="ident" id="8198877">nil</span><span class="op" id="8198880">}</span><span class="op" id="8198881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198884">{</span><span class="string" id="8198885">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="8198896">,</span>&nbsp;<span class="num" id="8198898">10</span><span class="op" id="8198900">,</span>&nbsp;<span class="ident" id="8198902">nil</span><span class="op" id="8198905">}</span><span class="op" id="8198906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198909">{</span><span class="string" id="8198910">&#34;bytes=A-Z&#34;</span><span class="op" id="8198921">,</span>&nbsp;<span class="num" id="8198923">10</span><span class="op" id="8198925">,</span>&nbsp;<span class="ident" id="8198927">nil</span><span class="op" id="8198930">}</span><span class="op" id="8198931">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198934">{</span><span class="string" id="8198935">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="8198946">,</span>&nbsp;<span class="num" id="8198948">10</span><span class="op" id="8198950">,</span>&nbsp;<span class="ident" id="8198952">nil</span><span class="op" id="8198955">}</span><span class="op" id="8198956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198959">{</span><span class="string" id="8198960">&#34;bytes=5-Z&#34;</span><span class="op" id="8198971">,</span>&nbsp;<span class="num" id="8198973">10</span><span class="op" id="8198975">,</span>&nbsp;<span class="ident" id="8198977">nil</span><span class="op" id="8198980">}</span><span class="op" id="8198981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198984">{</span><span class="string" id="8198985">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="8199009">,</span>&nbsp;<span class="num" id="8199011">10</span><span class="op" id="8199013">,</span>&nbsp;<span class="ident" id="8199015">nil</span><span class="op" id="8199018">}</span><span class="op" id="8199019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199022">{</span><span class="string" id="8199023">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="8199040">,</span>&nbsp;<span class="num" id="8199042">10</span><span class="op" id="8199044">,</span>&nbsp;<span class="ident" id="8199046">nil</span><span class="op" id="8199049">}</span><span class="op" id="8199050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199053">{</span><span class="string" id="8199054">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8199071">,</span>&nbsp;<span class="num" id="8199073">10</span><span class="op" id="8199075">,</span>&nbsp;<span class="ident" id="8199077">nil</span><span class="op" id="8199080">}</span><span class="op" id="8199081">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199084">{</span><span class="string" id="8199085">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8199102">,</span>&nbsp;<span class="num" id="8199104">10</span><span class="op" id="8199106">,</span>&nbsp;<span class="ident" id="8199108">nil</span><span class="op" id="8199111">}</span><span class="op" id="8199112">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199116">{</span><span class="string" id="8199117">&#34;bytes=0-9&#34;</span><span class="op" id="8199128">,</span>&nbsp;<span class="num" id="8199130">10</span><span class="op" id="8199132">,</span>&nbsp;<span class="op" id="8199134">[</span><span class="op" id="8199135">]</span><span class="ident" id="8199136">httpRange</span><span class="op" id="8199145">{</span><span class="op" id="8199146">{</span><span class="num" id="8199147">0</span><span class="op" id="8199148">,</span>&nbsp;<span class="num" id="8199150">10</span><span class="op" id="8199152">}</span><span class="op" id="8199153">}</span><span class="op" id="8199154">}</span><span class="op" id="8199155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199158">{</span><span class="string" id="8199159">&#34;bytes=0-&#34;</span><span class="op" id="8199169">,</span>&nbsp;<span class="num" id="8199171">10</span><span class="op" id="8199173">,</span>&nbsp;<span class="op" id="8199175">[</span><span class="op" id="8199176">]</span><span class="ident" id="8199177">httpRange</span><span class="op" id="8199186">{</span><span class="op" id="8199187">{</span><span class="num" id="8199188">0</span><span class="op" id="8199189">,</span>&nbsp;<span class="num" id="8199191">10</span><span class="op" id="8199193">}</span><span class="op" id="8199194">}</span><span class="op" id="8199195">}</span><span class="op" id="8199196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199199">{</span><span class="string" id="8199200">&#34;bytes=5-&#34;</span><span class="op" id="8199210">,</span>&nbsp;<span class="num" id="8199212">10</span><span class="op" id="8199214">,</span>&nbsp;<span class="op" id="8199216">[</span><span class="op" id="8199217">]</span><span class="ident" id="8199218">httpRange</span><span class="op" id="8199227">{</span><span class="op" id="8199228">{</span><span class="num" id="8199229">5</span><span class="op" id="8199230">,</span>&nbsp;<span class="num" id="8199232">5</span><span class="op" id="8199233">}</span><span class="op" id="8199234">}</span><span class="op" id="8199235">}</span><span class="op" id="8199236">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199239">{</span><span class="string" id="8199240">&#34;bytes=0-20&#34;</span><span class="op" id="8199252">,</span>&nbsp;<span class="num" id="8199254">10</span><span class="op" id="8199256">,</span>&nbsp;<span class="op" id="8199258">[</span><span class="op" id="8199259">]</span><span class="ident" id="8199260">httpRange</span><span class="op" id="8199269">{</span><span class="op" id="8199270">{</span><span class="num" id="8199271">0</span><span class="op" id="8199272">,</span>&nbsp;<span class="num" id="8199274">10</span><span class="op" id="8199276">}</span><span class="op" id="8199277">}</span><span class="op" id="8199278">}</span><span class="op" id="8199279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199282">{</span><span class="string" id="8199283">&#34;bytes=15-,0-5&#34;</span><span class="op" id="8199298">,</span>&nbsp;<span class="num" id="8199300">10</span><span class="op" id="8199302">,</span>&nbsp;<span class="ident" id="8199304">nil</span><span class="op" id="8199307">}</span><span class="op" id="8199308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199311">{</span><span class="string" id="8199312">&#34;bytes=1-2,5-&#34;</span><span class="op" id="8199326">,</span>&nbsp;<span class="num" id="8199328">10</span><span class="op" id="8199330">,</span>&nbsp;<span class="op" id="8199332">[</span><span class="op" id="8199333">]</span><span class="ident" id="8199334">httpRange</span><span class="op" id="8199343">{</span><span class="op" id="8199344">{</span><span class="num" id="8199345">1</span><span class="op" id="8199346">,</span>&nbsp;<span class="num" id="8199348">2</span><span class="op" id="8199349">}</span><span class="op" id="8199350">,</span>&nbsp;<span class="op" id="8199352">{</span><span class="num" id="8199353">5</span><span class="op" id="8199354">,</span>&nbsp;<span class="num" id="8199356">5</span><span class="op" id="8199357">}</span><span class="op" id="8199358">}</span><span class="op" id="8199359">}</span><span class="op" id="8199360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199363">{</span><span class="string" id="8199364">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="8199379">,</span>&nbsp;<span class="num" id="8199381">11</span><span class="op" id="8199383">,</span>&nbsp;<span class="op" id="8199385">[</span><span class="op" id="8199386">]</span><span class="ident" id="8199387">httpRange</span><span class="op" id="8199396">{</span><span class="op" id="8199397">{</span><span class="num" id="8199398">9</span><span class="op" id="8199399">,</span>&nbsp;<span class="num" id="8199401">2</span><span class="op" id="8199402">}</span><span class="op" id="8199403">,</span>&nbsp;<span class="op" id="8199405">{</span><span class="num" id="8199406">7</span><span class="op" id="8199407">,</span>&nbsp;<span class="num" id="8199409">4</span><span class="op" id="8199410">}</span><span class="op" id="8199411">}</span><span class="op" id="8199412">}</span><span class="op" id="8199413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199416">{</span><span class="string" id="8199417">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="8199437">,</span>&nbsp;<span class="num" id="8199439">11</span><span class="op" id="8199441">,</span>&nbsp;<span class="op" id="8199443">[</span><span class="op" id="8199444">]</span><span class="ident" id="8199445">httpRange</span><span class="op" id="8199454">{</span><span class="op" id="8199455">{</span><span class="num" id="8199456">0</span><span class="op" id="8199457">,</span>&nbsp;<span class="num" id="8199459">1</span><span class="op" id="8199460">}</span><span class="op" id="8199461">,</span>&nbsp;<span class="op" id="8199463">{</span><span class="num" id="8199464">2</span><span class="op" id="8199465">,</span>&nbsp;<span class="num" id="8199467">1</span><span class="op" id="8199468">}</span><span class="op" id="8199469">,</span>&nbsp;<span class="op" id="8199471">{</span><span class="num" id="8199472">7</span><span class="op" id="8199473">,</span>&nbsp;<span class="num" id="8199475">4</span><span class="op" id="8199476">}</span><span class="op" id="8199477">}</span><span class="op" id="8199478">}</span><span class="op" id="8199479">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199482">{</span><span class="string" id="8199483">&#34;bytes=-5&#34;</span><span class="op" id="8199493">,</span>&nbsp;<span class="num" id="8199495">10</span><span class="op" id="8199497">,</span>&nbsp;<span class="op" id="8199499">[</span><span class="op" id="8199500">]</span><span class="ident" id="8199501">httpRange</span><span class="op" id="8199510">{</span><span class="op" id="8199511">{</span><span class="num" id="8199512">5</span><span class="op" id="8199513">,</span>&nbsp;<span class="num" id="8199515">5</span><span class="op" id="8199516">}</span><span class="op" id="8199517">}</span><span class="op" id="8199518">}</span><span class="op" id="8199519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199522">{</span><span class="string" id="8199523">&#34;bytes=-15&#34;</span><span class="op" id="8199534">,</span>&nbsp;<span class="num" id="8199536">10</span><span class="op" id="8199538">,</span>&nbsp;<span class="op" id="8199540">[</span><span class="op" id="8199541">]</span><span class="ident" id="8199542">httpRange</span><span class="op" id="8199551">{</span><span class="op" id="8199552">{</span><span class="num" id="8199553">0</span><span class="op" id="8199554">,</span>&nbsp;<span class="num" id="8199556">10</span><span class="op" id="8199558">}</span><span class="op" id="8199559">}</span><span class="op" id="8199560">}</span><span class="op" id="8199561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199564">{</span><span class="string" id="8199565">&#34;bytes=0-499&#34;</span><span class="op" id="8199578">,</span>&nbsp;<span class="num" id="8199580">10000</span><span class="op" id="8199585">,</span>&nbsp;<span class="op" id="8199587">[</span><span class="op" id="8199588">]</span><span class="ident" id="8199589">httpRange</span><span class="op" id="8199598">{</span><span class="op" id="8199599">{</span><span class="num" id="8199600">0</span><span class="op" id="8199601">,</span>&nbsp;<span class="num" id="8199603">500</span><span class="op" id="8199606">}</span><span class="op" id="8199607">}</span><span class="op" id="8199608">}</span><span class="op" id="8199609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199612">{</span><span class="string" id="8199613">&#34;bytes=500-999&#34;</span><span class="op" id="8199628">,</span>&nbsp;<span class="num" id="8199630">10000</span><span class="op" id="8199635">,</span>&nbsp;<span class="op" id="8199637">[</span><span class="op" id="8199638">]</span><span class="ident" id="8199639">httpRange</span><span class="op" id="8199648">{</span><span class="op" id="8199649">{</span><span class="num" id="8199650">500</span><span class="op" id="8199653">,</span>&nbsp;<span class="num" id="8199655">500</span><span class="op" id="8199658">}</span><span class="op" id="8199659">}</span><span class="op" id="8199660">}</span><span class="op" id="8199661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199664">{</span><span class="string" id="8199665">&#34;bytes=-500&#34;</span><span class="op" id="8199677">,</span>&nbsp;<span class="num" id="8199679">10000</span><span class="op" id="8199684">,</span>&nbsp;<span class="op" id="8199686">[</span><span class="op" id="8199687">]</span><span class="ident" id="8199688">httpRange</span><span class="op" id="8199697">{</span><span class="op" id="8199698">{</span><span class="num" id="8199699">9500</span><span class="op" id="8199703">,</span>&nbsp;<span class="num" id="8199705">500</span><span class="op" id="8199708">}</span><span class="op" id="8199709">}</span><span class="op" id="8199710">}</span><span class="op" id="8199711">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199714">{</span><span class="string" id="8199715">&#34;bytes=9500-&#34;</span><span class="op" id="8199728">,</span>&nbsp;<span class="num" id="8199730">10000</span><span class="op" id="8199735">,</span>&nbsp;<span class="op" id="8199737">[</span><span class="op" id="8199738">]</span><span class="ident" id="8199739">httpRange</span><span class="op" id="8199748">{</span><span class="op" id="8199749">{</span><span class="num" id="8199750">9500</span><span class="op" id="8199754">,</span>&nbsp;<span class="num" id="8199756">500</span><span class="op" id="8199759">}</span><span class="op" id="8199760">}</span><span class="op" id="8199761">}</span><span class="op" id="8199762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199765">{</span><span class="string" id="8199766">&#34;bytes=0-0,-1&#34;</span><span class="op" id="8199780">,</span>&nbsp;<span class="num" id="8199782">10000</span><span class="op" id="8199787">,</span>&nbsp;<span class="op" id="8199789">[</span><span class="op" id="8199790">]</span><span class="ident" id="8199791">httpRange</span><span class="op" id="8199800">{</span><span class="op" id="8199801">{</span><span class="num" id="8199802">0</span><span class="op" id="8199803">,</span>&nbsp;<span class="num" id="8199805">1</span><span class="op" id="8199806">}</span><span class="op" id="8199807">,</span>&nbsp;<span class="op" id="8199809">{</span><span class="num" id="8199810">9999</span><span class="op" id="8199814">,</span>&nbsp;<span class="num" id="8199816">1</span><span class="op" id="8199817">}</span><span class="op" id="8199818">}</span><span class="op" id="8199819">}</span><span class="op" id="8199820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199823">{</span><span class="string" id="8199824">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="8199847">,</span>&nbsp;<span class="num" id="8199849">10000</span><span class="op" id="8199854">,</span>&nbsp;<span class="op" id="8199856">[</span><span class="op" id="8199857">]</span><span class="ident" id="8199858">httpRange</span><span class="op" id="8199867">{</span><span class="op" id="8199868">{</span><span class="num" id="8199869">500</span><span class="op" id="8199872">,</span>&nbsp;<span class="num" id="8199874">101</span><span class="op" id="8199877">}</span><span class="op" id="8199878">,</span>&nbsp;<span class="op" id="8199880">{</span><span class="num" id="8199881">601</span><span class="op" id="8199884">,</span>&nbsp;<span class="num" id="8199886">399</span><span class="op" id="8199889">}</span><span class="op" id="8199890">}</span><span class="op" id="8199891">}</span><span class="op" id="8199892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199895">{</span><span class="string" id="8199896">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="8199919">,</span>&nbsp;<span class="num" id="8199921">10000</span><span class="op" id="8199926">,</span>&nbsp;<span class="op" id="8199928">[</span><span class="op" id="8199929">]</span><span class="ident" id="8199930">httpRange</span><span class="op" id="8199939">{</span><span class="op" id="8199940">{</span><span class="num" id="8199941">500</span><span class="op" id="8199944">,</span>&nbsp;<span class="num" id="8199946">201</span><span class="op" id="8199949">}</span><span class="op" id="8199950">,</span>&nbsp;<span class="op" id="8199952">{</span><span class="num" id="8199953">601</span><span class="op" id="8199956">,</span>&nbsp;<span class="num" id="8199958">399</span><span class="op" id="8199961">}</span><span class="op" id="8199962">}</span><span class="op" id="8199963">}</span><span class="op" id="8199964">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8199968">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199993">{</span><span class="string" id="8199994">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="8200031">,</span>&nbsp;<span class="num" id="8200033">11</span><span class="op" id="8200035">,</span>&nbsp;<span class="op" id="8200037">[</span><span class="op" id="8200038">]</span><span class="ident" id="8200039">httpRange</span><span class="op" id="8200048">{</span><span class="op" id="8200049">{</span><span class="num" id="8200050">1</span><span class="op" id="8200051">,</span>&nbsp;<span class="num" id="8200053">2</span><span class="op" id="8200054">}</span><span class="op" id="8200055">,</span>&nbsp;<span class="op" id="8200057">{</span><span class="num" id="8200058">4</span><span class="op" id="8200059">,</span>&nbsp;<span class="num" id="8200061">2</span><span class="op" id="8200062">}</span><span class="op" id="8200063">,</span>&nbsp;<span class="op" id="8200065">{</span><span class="num" id="8200066">7</span><span class="op" id="8200067">,</span>&nbsp;<span class="num" id="8200069">2</span><span class="op" id="8200070">}</span><span class="op" id="8200071">}</span><span class="op" id="8200072">}</span><span class="op" id="8200073">,</span><br>
<span class="lineno"></span><span class="op" id="8200075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8200078">func</span>&nbsp;<span class="ident" id="8200083">TestParseRange</span><span class="op" id="8200097">(</span><span class="ident" id="8200098">t</span>&nbsp;<span class="op" id="8200100">*</span><span class="ident" id="8200101">testing</span><span class="op" id="8200108">.</span><span class="ident" id="8200109">T</span><span class="op" id="8200110">)</span>&nbsp;<span class="op" id="8200112">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8200115">for</span>&nbsp;<span class="ident" id="8200119">_</span><span class="op" id="8200120">,</span>&nbsp;<span class="ident" id="8200122">test</span>&nbsp;<span class="op" id="8200127">:=</span>&nbsp;<span class="keyword" id="8200130">range</span>&nbsp;<span class="ident" id="8200136">ParseRangeTests</span>&nbsp;<span class="op" id="8200152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200156">r</span>&nbsp;<span class="op" id="8200158">:=</span>&nbsp;<span class="ident" id="8200161">test</span><span class="op" id="8200165">.</span><span class="ident" id="8200166">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200170">ranges</span><span class="op" id="8200176">,</span>&nbsp;<span class="ident" id="8200178">err</span>&nbsp;<span class="op" id="8200182">:=</span>&nbsp;<span class="ident" id="8200185">parseRange</span><span class="op" id="8200195">(</span><span class="ident" id="8200196">test</span><span class="op" id="8200200">.</span><span class="ident" id="8200201">s</span><span class="op" id="8200202">,</span>&nbsp;<span class="ident" id="8200204">test</span><span class="op" id="8200208">.</span><span class="ident" id="8200209">length</span><span class="op" id="8200215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8200219">if</span>&nbsp;<span class="ident" id="8200222">err</span>&nbsp;<span class="op" id="8200226">!=</span>&nbsp;<span class="ident" id="8200229">nil</span>&nbsp;<span class="op" id="8200233">&amp;&amp;</span>&nbsp;<span class="ident" id="8200236">r</span>&nbsp;<span class="op" id="8200238">!=</span>&nbsp;<span class="ident" id="8200241">nil</span>&nbsp;<span class="op" id="8200245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200250">t</span><span class="op" id="8200251">.</span><span class="ident" id="8200252">Errorf</span><span class="op" id="8200258">(</span><span class="string" id="8200259">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="8200293">,</span>&nbsp;<span class="ident" id="8200295">test</span><span class="op" id="8200299">.</span><span class="ident" id="8200300">s</span><span class="op" id="8200301">,</span>&nbsp;<span class="ident" id="8200303">err</span><span class="op" id="8200306">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8200314">if</span>&nbsp;<span class="builtinfunc" id="8200317">len</span><span class="op" id="8200320">(</span><span class="ident" id="8200321">ranges</span><span class="op" id="8200327">)</span>&nbsp;<span class="op" id="8200329">!=</span>&nbsp;<span class="builtinfunc" id="8200332">len</span><span class="op" id="8200335">(</span><span class="ident" id="8200336">r</span><span class="op" id="8200337">)</span>&nbsp;<span class="op" id="8200339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200344">t</span><span class="op" id="8200345">.</span><span class="ident" id="8200346">Errorf</span><span class="op" id="8200352">(</span><span class="string" id="8200353">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8200388">,</span>&nbsp;<span class="ident" id="8200390">test</span><span class="op" id="8200394">.</span><span class="ident" id="8200395">s</span><span class="op" id="8200396">,</span>&nbsp;<span class="builtinfunc" id="8200398">len</span><span class="op" id="8200401">(</span><span class="ident" id="8200402">ranges</span><span class="op" id="8200408">)</span><span class="op" id="8200409">,</span>&nbsp;<span class="builtinfunc" id="8200411">len</span><span class="op" id="8200414">(</span><span class="ident" id="8200415">r</span><span class="op" id="8200416">)</span><span class="op" id="8200417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8200422">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200433">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8200437">for</span>&nbsp;<span class="ident" id="8200441">i</span>&nbsp;<span class="op" id="8200443">:=</span>&nbsp;<span class="keyword" id="8200446">range</span>&nbsp;<span class="ident" id="8200452">r</span>&nbsp;<span class="op" id="8200454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8200459">if</span>&nbsp;<span class="ident" id="8200462">ranges</span><span class="op" id="8200468">[</span><span class="ident" id="8200469">i</span><span class="op" id="8200470">]</span><span class="op" id="8200471">.</span><span class="ident" id="8200472">start</span>&nbsp;<span class="op" id="8200478">!=</span>&nbsp;<span class="ident" id="8200481">r</span><span class="op" id="8200482">[</span><span class="ident" id="8200483">i</span><span class="op" id="8200484">]</span><span class="op" id="8200485">.</span><span class="ident" id="8200486">start</span>&nbsp;<span class="op" id="8200492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200498">t</span><span class="op" id="8200499">.</span><span class="ident" id="8200500">Errorf</span><span class="op" id="8200506">(</span><span class="string" id="8200507">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8200547">,</span>&nbsp;<span class="ident" id="8200549">test</span><span class="op" id="8200553">.</span><span class="ident" id="8200554">s</span><span class="op" id="8200555">,</span>&nbsp;<span class="ident" id="8200557">i</span><span class="op" id="8200558">,</span>&nbsp;<span class="ident" id="8200560">ranges</span><span class="op" id="8200566">[</span><span class="ident" id="8200567">i</span><span class="op" id="8200568">]</span><span class="op" id="8200569">.</span><span class="ident" id="8200570">start</span><span class="op" id="8200575">,</span>&nbsp;<span class="ident" id="8200577">r</span><span class="op" id="8200578">[</span><span class="ident" id="8200579">i</span><span class="op" id="8200580">]</span><span class="op" id="8200581">.</span><span class="ident" id="8200582">start</span><span class="op" id="8200587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8200597">if</span>&nbsp;<span class="ident" id="8200600">ranges</span><span class="op" id="8200606">[</span><span class="ident" id="8200607">i</span><span class="op" id="8200608">]</span><span class="op" id="8200609">.</span><span class="ident" id="8200610">length</span>&nbsp;<span class="op" id="8200617">!=</span>&nbsp;<span class="ident" id="8200620">r</span><span class="op" id="8200621">[</span><span class="ident" id="8200622">i</span><span class="op" id="8200623">]</span><span class="op" id="8200624">.</span><span class="ident" id="8200625">length</span>&nbsp;<span class="op" id="8200632">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200638">t</span><span class="op" id="8200639">.</span><span class="ident" id="8200640">Errorf</span><span class="op" id="8200646">(</span><span class="string" id="8200647">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8200688">,</span>&nbsp;<span class="ident" id="8200690">test</span><span class="op" id="8200694">.</span><span class="ident" id="8200695">s</span><span class="op" id="8200696">,</span>&nbsp;<span class="ident" id="8200698">i</span><span class="op" id="8200699">,</span>&nbsp;<span class="ident" id="8200701">ranges</span><span class="op" id="8200707">[</span><span class="ident" id="8200708">i</span><span class="op" id="8200709">]</span><span class="op" id="8200710">.</span><span class="ident" id="8200711">length</span><span class="op" id="8200717">,</span>&nbsp;<span class="ident" id="8200719">r</span><span class="op" id="8200720">[</span><span class="ident" id="8200721">i</span><span class="op" id="8200722">]</span><span class="op" id="8200723">.</span><span class="ident" id="8200724">length</span><span class="op" id="8200730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200742">}</span><br>
<span class="lineno"></span><span class="op" id="8200744">}</span>
</div>
</body>
</html>
