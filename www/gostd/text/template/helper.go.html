<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3158496">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3158551">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3158605">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3158656">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3158716">package</span>&nbsp;<span class="ident" id="3158724">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3158734">import</span>&nbsp;<span class="op" id="3158741">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3158744">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3158751">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3158764">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="3158780">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3158783">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3158829">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="3158910">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="3158984">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="3159011">//&nbsp;&nbsp;&nbsp;&nbspvar&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="3159072">func</span>&nbsp;<span class="ident" id="3159077">Must</span><span class="op" id="3159081">(</span><span class="ident" id="3159082">t</span>&nbsp;<span class="op" id="3159084">*</span><span class="ident" id="3159085">Template</span><span class="op" id="3159093">,</span>&nbsp;<span class="ident" id="3159095">err</span>&nbsp;<span class="builtintype" id="3159099">error</span><span class="op" id="3159104">)</span>&nbsp;<span class="op" id="3159106">*</span><span class="ident" id="3159107">Template</span>&nbsp;<span class="op" id="3159116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3159119">if</span>&nbsp;<span class="ident" id="3159122">err</span>&nbsp;<span class="op" id="3159126">!=</span>&nbsp;<span class="ident" id="3159129">nil</span>&nbsp;<span class="op" id="3159133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3159137">panic</span><span class="op" id="3159142">(</span><span class="ident" id="3159143">err</span><span class="op" id="3159146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3159149">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3159152">return</span>&nbsp;<span class="ident" id="3159159">t</span><br>
<span class="lineno"></span><span class="op" id="3159161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3159164">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="3159242">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="3159321">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="3159394">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="3159466">func</span>&nbsp;<span class="ident" id="3159471">ParseFiles</span><span class="op" id="3159481">(</span><span class="ident" id="3159482">filenames</span>&nbsp;<span class="op" id="3159492">...</span><span class="builtintype" id="3159495">string</span><span class="op" id="3159501">)</span>&nbsp;<span class="op" id="3159503">(</span><span class="op" id="3159504">*</span><span class="ident" id="3159505">Template</span><span class="op" id="3159513">,</span>&nbsp;<span class="builtintype" id="3159515">error</span><span class="op" id="3159520">)</span>&nbsp;<span class="op" id="3159522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3159525">return</span>&nbsp;<span class="ident" id="3159532">parseFiles</span><span class="op" id="3159542">(</span><span class="ident" id="3159543">nil</span><span class="op" id="3159546">,</span>&nbsp;<span class="ident" id="3159548">filenames</span><span class="op" id="3159557">...</span><span class="op" id="3159560">)</span><br>
<span class="lineno"></span><span class="op" id="3159562">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3159565">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3159646">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="3159720">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="3159775">func</span>&nbsp;<span class="op" id="3159780">(</span><span class="ident" id="3159781">t</span>&nbsp;<span class="op" id="3159783">*</span><span class="ident" id="3159784">Template</span><span class="op" id="3159792">)</span>&nbsp;<span class="ident" id="3159794">ParseFiles</span><span class="op" id="3159804">(</span><span class="ident" id="3159805">filenames</span>&nbsp;<span class="op" id="3159815">...</span><span class="builtintype" id="3159818">string</span><span class="op" id="3159824">)</span>&nbsp;<span class="op" id="3159826">(</span><span class="op" id="3159827">*</span><span class="ident" id="3159828">Template</span><span class="op" id="3159836">,</span>&nbsp;<span class="builtintype" id="3159838">error</span><span class="op" id="3159843">)</span>&nbsp;<span class="op" id="3159845">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3159848">return</span>&nbsp;<span class="ident" id="3159855">parseFiles</span><span class="op" id="3159865">(</span><span class="ident" id="3159866">t</span><span class="op" id="3159867">,</span>&nbsp;<span class="ident" id="3159869">filenames</span><span class="op" id="3159878">...</span><span class="op" id="3159881">)</span><br>
<span class="lineno"></span><span class="op" id="3159883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3159886">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="3159959">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="3160014">func</span>&nbsp;<span class="ident" id="3160019">parseFiles</span><span class="op" id="3160029">(</span><span class="ident" id="3160030">t</span>&nbsp;<span class="op" id="3160032">*</span><span class="ident" id="3160033">Template</span><span class="op" id="3160041">,</span>&nbsp;<span class="ident" id="3160043">filenames</span>&nbsp;<span class="op" id="3160053">...</span><span class="builtintype" id="3160056">string</span><span class="op" id="3160062">)</span>&nbsp;<span class="op" id="3160064">(</span><span class="op" id="3160065">*</span><span class="ident" id="3160066">Template</span><span class="op" id="3160074">,</span>&nbsp;<span class="builtintype" id="3160076">error</span><span class="op" id="3160081">)</span>&nbsp;<span class="op" id="3160083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160086">if</span>&nbsp;<span class="builtinfunc" id="3160089">len</span><span class="op" id="3160092">(</span><span class="ident" id="3160093">filenames</span><span class="op" id="3160102">)</span>&nbsp;<span class="op" id="3160104">==</span>&nbsp;<span class="num" id="3160107">0</span>&nbsp;<span class="op" id="3160109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3160113">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160159">return</span>&nbsp;<span class="ident" id="3160166">nil</span><span class="op" id="3160169">,</span>&nbsp;<span class="ident" id="3160171">fmt</span><span class="op" id="3160174">.</span><span class="ident" id="3160175">Errorf</span><span class="op" id="3160181">(</span><span class="string" id="3160182">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="3160230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3160233">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160236">for</span>&nbsp;<span class="ident" id="3160240">_</span><span class="op" id="3160241">,</span>&nbsp;<span class="ident" id="3160243">filename</span>&nbsp;<span class="op" id="3160252">:=</span>&nbsp;<span class="keyword" id="3160255">range</span>&nbsp;<span class="ident" id="3160261">filenames</span>&nbsp;<span class="op" id="3160271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3160275">b</span><span class="op" id="3160276">,</span>&nbsp;<span class="ident" id="3160278">err</span>&nbsp;<span class="op" id="3160282">:=</span>&nbsp;<span class="ident" id="3160285">ioutil</span><span class="op" id="3160291">.</span><span class="ident" id="3160292">ReadFile</span><span class="op" id="3160300">(</span><span class="ident" id="3160301">filename</span><span class="op" id="3160309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160313">if</span>&nbsp;<span class="ident" id="3160316">err</span>&nbsp;<span class="op" id="3160320">!=</span>&nbsp;<span class="ident" id="3160323">nil</span>&nbsp;<span class="op" id="3160327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160332">return</span>&nbsp;<span class="ident" id="3160339">nil</span><span class="op" id="3160342">,</span>&nbsp;<span class="ident" id="3160344">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3160350">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3160354">s</span>&nbsp;<span class="op" id="3160356">:=</span>&nbsp;<span class="builtintype" id="3160359">string</span><span class="op" id="3160365">(</span><span class="ident" id="3160366">b</span><span class="op" id="3160367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3160371">name</span>&nbsp;<span class="op" id="3160376">:=</span>&nbsp;<span class="ident" id="3160379">filepath</span><span class="op" id="3160387">.</span><span class="ident" id="3160388">Base</span><span class="op" id="3160392">(</span><span class="ident" id="3160393">filename</span><span class="op" id="3160401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3160405">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3160470">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3160533">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3160603">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3160654">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3160708">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160774">var</span>&nbsp;<span class="ident" id="3160778">tmpl</span>&nbsp;<span class="op" id="3160783">*</span><span class="ident" id="3160784">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160795">if</span>&nbsp;<span class="ident" id="3160798">t</span>&nbsp;<span class="op" id="3160800">==</span>&nbsp;<span class="ident" id="3160803">nil</span>&nbsp;<span class="op" id="3160807">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3160812">t</span>&nbsp;<span class="op" id="3160814">=</span>&nbsp;<span class="ident" id="3160816">New</span><span class="op" id="3160819">(</span><span class="ident" id="3160820">name</span><span class="op" id="3160824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3160828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160832">if</span>&nbsp;<span class="ident" id="3160835">name</span>&nbsp;<span class="op" id="3160840">==</span>&nbsp;<span class="ident" id="3160843">t</span><span class="op" id="3160844">.</span><span class="ident" id="3160845">Name</span><span class="op" id="3160849">(</span><span class="op" id="3160850">)</span>&nbsp;<span class="op" id="3160852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3160857">tmpl</span>&nbsp;<span class="op" id="3160862">=</span>&nbsp;<span class="ident" id="3160864">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3160868">}</span>&nbsp;<span class="keyword" id="3160870">else</span>&nbsp;<span class="op" id="3160875">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3160880">tmpl</span>&nbsp;<span class="op" id="3160885">=</span>&nbsp;<span class="ident" id="3160887">t</span><span class="op" id="3160888">.</span><span class="ident" id="3160889">New</span><span class="op" id="3160892">(</span><span class="ident" id="3160893">name</span><span class="op" id="3160897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3160901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3160905">_</span><span class="op" id="3160906">,</span>&nbsp;<span class="ident" id="3160908">err</span>&nbsp;<span class="op" id="3160912">=</span>&nbsp;<span class="ident" id="3160914">tmpl</span><span class="op" id="3160918">.</span><span class="ident" id="3160919">Parse</span><span class="op" id="3160924">(</span><span class="ident" id="3160925">s</span><span class="op" id="3160926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160930">if</span>&nbsp;<span class="ident" id="3160933">err</span>&nbsp;<span class="op" id="3160937">!=</span>&nbsp;<span class="ident" id="3160940">nil</span>&nbsp;<span class="op" id="3160944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160949">return</span>&nbsp;<span class="ident" id="3160956">nil</span><span class="op" id="3160959">,</span>&nbsp;<span class="ident" id="3160961">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3160967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3160970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3160973">return</span>&nbsp;<span class="ident" id="3160980">t</span><span class="op" id="3160981">,</span>&nbsp;<span class="ident" id="3160983">nil</span><br>
<span class="lineno"></span><span class="op" id="3160987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="3160990">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3161071">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3161147">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3161223">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="3161296">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="3161357">func</span>&nbsp;<span class="ident" id="3161362">ParseGlob</span><span class="op" id="3161371">(</span><span class="ident" id="3161372">pattern</span>&nbsp;<span class="builtintype" id="3161380">string</span><span class="op" id="3161386">)</span>&nbsp;<span class="op" id="3161388">(</span><span class="op" id="3161389">*</span><span class="ident" id="3161390">Template</span><span class="op" id="3161398">,</span>&nbsp;<span class="builtintype" id="3161400">error</span><span class="op" id="3161405">)</span>&nbsp;<span class="op" id="3161407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3161410">return</span>&nbsp;<span class="ident" id="3161417">parseGlob</span><span class="op" id="3161426">(</span><span class="ident" id="3161427">nil</span><span class="op" id="3161430">,</span>&nbsp;<span class="ident" id="3161432">pattern</span><span class="op" id="3161439">)</span><br>
<span class="lineno"></span><span class="op" id="3161441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3161444">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="3161520">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3161593">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3161670">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3161746">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="3161758">func</span>&nbsp;<span class="op" id="3161763">(</span><span class="ident" id="3161764">t</span>&nbsp;<span class="op" id="3161766">*</span><span class="ident" id="3161767">Template</span><span class="op" id="3161775">)</span>&nbsp;<span class="ident" id="3161777">ParseGlob</span><span class="op" id="3161786">(</span><span class="ident" id="3161787">pattern</span>&nbsp;<span class="builtintype" id="3161795">string</span><span class="op" id="3161801">)</span>&nbsp;<span class="op" id="3161803">(</span><span class="op" id="3161804">*</span><span class="ident" id="3161805">Template</span><span class="op" id="3161813">,</span>&nbsp;<span class="builtintype" id="3161815">error</span><span class="op" id="3161820">)</span>&nbsp;<span class="op" id="3161822">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3161825">return</span>&nbsp;<span class="ident" id="3161832">parseGlob</span><span class="op" id="3161841">(</span><span class="ident" id="3161842">t</span><span class="op" id="3161843">,</span>&nbsp;<span class="ident" id="3161845">pattern</span><span class="op" id="3161852">)</span><br>
<span class="lineno"></span><span class="op" id="3161854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3161857">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="3161930">func</span>&nbsp;<span class="ident" id="3161935">parseGlob</span><span class="op" id="3161944">(</span><span class="ident" id="3161945">t</span>&nbsp;<span class="op" id="3161947">*</span><span class="ident" id="3161948">Template</span><span class="op" id="3161956">,</span>&nbsp;<span class="ident" id="3161958">pattern</span>&nbsp;<span class="builtintype" id="3161966">string</span><span class="op" id="3161972">)</span>&nbsp;<span class="op" id="3161974">(</span><span class="op" id="3161975">*</span><span class="ident" id="3161976">Template</span><span class="op" id="3161984">,</span>&nbsp;<span class="builtintype" id="3161986">error</span><span class="op" id="3161991">)</span>&nbsp;<span class="op" id="3161993">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3161996">filenames</span><span class="op" id="3162005">,</span>&nbsp;<span class="ident" id="3162007">err</span>&nbsp;<span class="op" id="3162011">:=</span>&nbsp;<span class="ident" id="3162014">filepath</span><span class="op" id="3162022">.</span><span class="ident" id="3162023">Glob</span><span class="op" id="3162027">(</span><span class="ident" id="3162028">pattern</span><span class="op" id="3162035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3162038">if</span>&nbsp;<span class="ident" id="3162041">err</span>&nbsp;<span class="op" id="3162045">!=</span>&nbsp;<span class="ident" id="3162048">nil</span>&nbsp;<span class="op" id="3162052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3162056">return</span>&nbsp;<span class="ident" id="3162063">nil</span><span class="op" id="3162066">,</span>&nbsp;<span class="ident" id="3162068">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3162073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3162076">if</span>&nbsp;<span class="builtinfunc" id="3162079">len</span><span class="op" id="3162082">(</span><span class="ident" id="3162083">filenames</span><span class="op" id="3162092">)</span>&nbsp;<span class="op" id="3162094">==</span>&nbsp;<span class="num" id="3162097">0</span>&nbsp;<span class="op" id="3162099">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3162103">return</span>&nbsp;<span class="ident" id="3162110">nil</span><span class="op" id="3162113">,</span>&nbsp;<span class="ident" id="3162115">fmt</span><span class="op" id="3162118">.</span><span class="ident" id="3162119">Errorf</span><span class="op" id="3162125">(</span><span class="string" id="3162126">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="3162167">,</span>&nbsp;<span class="ident" id="3162169">pattern</span><span class="op" id="3162176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3162179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3162182">return</span>&nbsp;<span class="ident" id="3162189">parseFiles</span><span class="op" id="3162199">(</span><span class="ident" id="3162200">t</span><span class="op" id="3162201">,</span>&nbsp;<span class="ident" id="3162203">filenames</span><span class="op" id="3162212">...</span><span class="op" id="3162215">)</span><br>
<span class="lineno"></span><span class="op" id="3162217">}</span>
</div>
</body>
</html>
