<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7429541">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7429597">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7429651">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7429702">package</span>&nbsp;<span class="ident" id="7429710">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7429716">import</span>&nbsp;<span class="op" id="7429723">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7429726">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7429735">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7429744">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7429751">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7429757">&#34;net/url&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7429768">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7429779">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7429790">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7429800">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7429803">type</span>&nbsp;<span class="ident" id="7429808">reqTest</span>&nbsp;<span class="keyword" id="7429816">struct</span>&nbsp;<span class="op" id="7429823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429826">Raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7429834">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429842">Req</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7429850">*</span><span class="ident" id="7429851"><a href="/net/http/request.go.html#3791418">Request</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429860">Body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7429868">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429876">Trailer</span>&nbsp;<span class="ident" id="7429884"><a href="/net/http/header.go.html#3781581">Header</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429892">Error</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7429900">string</span><br>
<span class="lineno"></span><span class="op" id="7429907">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7429910">var</span>&nbsp;<span class="ident" id="7429914">noError</span>&nbsp;<span class="op" id="7429922">=</span>&nbsp;<span class="string" id="7429924">&#34;&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7429927">var</span>&nbsp;<span class="ident" id="7429931">noBody</span>&nbsp;<span class="op" id="7429938">=</span>&nbsp;<span class="string" id="7429940">&#34;&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7429943">var</span>&nbsp;<span class="ident" id="7429947">noTrailer</span>&nbsp;<span class="ident" id="7429957"><a href="/net/http/header.go.html#3781581">Header</a></span>&nbsp;<span class="op" id="7429964">=</span>&nbsp;<span class="ident" id="7429966">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="7429971">var</span>&nbsp;<span class="ident" id="7429975">reqTests</span>&nbsp;<span class="op" id="7429984">=</span>&nbsp;<span class="op" id="7429986">[</span><span class="op" id="7429987">]</span><span class="ident" id="7429988"><a href="/net/http/readrequest_test.go.html#7429808">reqTest</a></span><span class="op" id="7429995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7429998">//&nbsp;Baseline&nbsp;test;&nbsp;All&nbsp;Request&nbsp;fields&nbsp;included&nbsp;for&nbsp;template&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430066">&#34;GET&nbsp;http://www.techcrunch.com/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7430112">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430117">&#34;Host:&nbsp;www.techcrunch.com\r\n&#34;</span>&nbsp;<span class="op" id="7430148">+</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430153">&#34;User-Agent:&nbsp;Fake\r\n&#34;</span>&nbsp;<span class="op" id="7430176">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430181">&#34;Accept:&nbsp;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\r\n&#34;</span>&nbsp;<span class="op" id="7430259">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430264">&#34;Accept-Language:&nbsp;en-us,en;q=0.5\r\n&#34;</span>&nbsp;<span class="op" id="7430302">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430307">&#34;Accept-Encoding:&nbsp;gzip,deflate\r\n&#34;</span>&nbsp;<span class="op" id="7430343">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430348">&#34;Accept-Charset:&nbsp;ISO-8859-1,utf-8;q=0.7,*;q=0.7\r\n&#34;</span>&nbsp;<span class="op" id="7430401">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430406">&#34;Keep-Alive:&nbsp;300\r\n&#34;</span>&nbsp;<span class="op" id="7430428">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430433">&#34;Content-Length:&nbsp;7\r\n&#34;</span>&nbsp;<span class="op" id="7430457">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430462">&#34;Proxy-Connection:&nbsp;keep-alive\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7430501">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430506">&#34;abcdef\n???&#34;</span><span class="op" id="7430519">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430524">&amp;</span><span class="ident" id="7430525"><a href="/net/http/request.go.html#3791418">Request</a></span><span class="op" id="7430532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430537">Method</span><span class="op" id="7430543">:</span>&nbsp;<span class="string" id="7430545">&#34;GET&#34;</span><span class="op" id="7430550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430555">URL</span><span class="op" id="7430558">:</span>&nbsp;<span class="op" id="7430560">&amp;</span><span class="ident" id="7430561"><a href="/net/http/readrequest_test.go.html#7429757">url</a></span><span class="op" id="7430564">.</span><span class="ident" id="7430565">URL</span><span class="op" id="7430568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430574">Scheme</span><span class="op" id="7430580">:</span>&nbsp;<span class="string" id="7430582">&#34;http&#34;</span><span class="op" id="7430588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430594">Host</span><span class="op" id="7430598">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7430602">&#34;www.techcrunch.com&#34;</span><span class="op" id="7430622">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430628">Path</span><span class="op" id="7430632">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7430636">&#34;/&#34;</span><span class="op" id="7430639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430644">}</span><span class="op" id="7430645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430650">Proto</span><span class="op" id="7430655">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7430662">&#34;HTTP/1.1&#34;</span><span class="op" id="7430672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430677">ProtoMajor</span><span class="op" id="7430687">:</span>&nbsp;<span class="num" id="7430689">1</span><span class="op" id="7430690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430695">ProtoMinor</span><span class="op" id="7430705">:</span>&nbsp;<span class="num" id="7430707">1</span><span class="op" id="7430708">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430713">Header</span><span class="op" id="7430719">:</span>&nbsp;<span class="ident" id="7430721"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7430727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430733">&#34;Accept&#34;</span><span class="op" id="7430741">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7430753">{</span><span class="string" id="7430754">&#34;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&#34;</span><span class="op" id="7430819">}</span><span class="op" id="7430820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430826">&#34;Accept-Language&#34;</span><span class="op" id="7430843">:</span>&nbsp;&nbsp;<span class="op" id="7430846">{</span><span class="string" id="7430847">&#34;en-us,en;q=0.5&#34;</span><span class="op" id="7430863">}</span><span class="op" id="7430864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430870">&#34;Accept-Encoding&#34;</span><span class="op" id="7430887">:</span>&nbsp;&nbsp;<span class="op" id="7430890">{</span><span class="string" id="7430891">&#34;gzip,deflate&#34;</span><span class="op" id="7430905">}</span><span class="op" id="7430906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430912">&#34;Accept-Charset&#34;</span><span class="op" id="7430928">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7430932">{</span><span class="string" id="7430933">&#34;ISO-8859-1,utf-8;q=0.7,*;q=0.7&#34;</span><span class="op" id="7430965">}</span><span class="op" id="7430966">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430972">&#34;Keep-Alive&#34;</span><span class="op" id="7430984">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7430992">{</span><span class="string" id="7430993">&#34;300&#34;</span><span class="op" id="7430998">}</span><span class="op" id="7430999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7431005">&#34;Proxy-Connection&#34;</span><span class="op" id="7431023">:</span>&nbsp;<span class="op" id="7431025">{</span><span class="string" id="7431026">&#34;keep-alive&#34;</span><span class="op" id="7431038">}</span><span class="op" id="7431039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7431045">&#34;Content-Length&#34;</span><span class="op" id="7431061">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7431065">{</span><span class="string" id="7431066">&#34;7&#34;</span><span class="op" id="7431069">}</span><span class="op" id="7431070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7431076">&#34;User-Agent&#34;</span><span class="op" id="7431088">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431096">{</span><span class="string" id="7431097">&#34;Fake&#34;</span><span class="op" id="7431103">}</span><span class="op" id="7431104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431109">}</span><span class="op" id="7431110">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431115">Close</span><span class="op" id="7431120">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431130">false</span><span class="op" id="7431135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431140">ContentLength</span><span class="op" id="7431153">:</span>&nbsp;<span class="num" id="7431155">7</span><span class="op" id="7431156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431161">Host</span><span class="op" id="7431165">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7431176">&#34;www.techcrunch.com&#34;</span><span class="op" id="7431196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431201">RequestURI</span><span class="op" id="7431211">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7431216">&#34;http://www.techcrunch.com/&#34;</span><span class="op" id="7431244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431248">}</span><span class="op" id="7431249">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7431254">&#34;abcdef\n&#34;</span><span class="op" id="7431264">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431269"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7431278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431282"><a href="/net/http/readrequest_test.go.html#7429914">noError</a></span><span class="op" id="7431289">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431292">}</span><span class="op" id="7431293">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7431297">//&nbsp;GET&nbsp;request&nbsp;with&nbsp;no&nbsp;body&nbsp;(the&nbsp;normal&nbsp;case)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7431348">&#34;GET&nbsp;/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7431369">+</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7431374">&#34;Host:&nbsp;foo.com\r\n\r\n&#34;</span><span class="op" id="7431397">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431402">&amp;</span><span class="ident" id="7431403"><a href="/net/http/request.go.html#3791418">Request</a></span><span class="op" id="7431410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431415">Method</span><span class="op" id="7431421">:</span>&nbsp;<span class="string" id="7431423">&#34;GET&#34;</span><span class="op" id="7431428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431433">URL</span><span class="op" id="7431436">:</span>&nbsp;<span class="op" id="7431438">&amp;</span><span class="ident" id="7431439"><a href="/net/http/readrequest_test.go.html#7429757">url</a></span><span class="op" id="7431442">.</span><span class="ident" id="7431443">URL</span><span class="op" id="7431446">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431452">Path</span><span class="op" id="7431456">:</span>&nbsp;<span class="string" id="7431458">&#34;/&#34;</span><span class="op" id="7431461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431466">}</span><span class="op" id="7431467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431472">Proto</span><span class="op" id="7431477">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7431487">&#34;HTTP/1.1&#34;</span><span class="op" id="7431497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431502">ProtoMajor</span><span class="op" id="7431512">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7431517">1</span><span class="op" id="7431518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431523">ProtoMinor</span><span class="op" id="7431533">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7431538">1</span><span class="op" id="7431539">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431544">Header</span><span class="op" id="7431550">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431559"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7431565">{</span><span class="op" id="7431566">}</span><span class="op" id="7431567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431572">Close</span><span class="op" id="7431577">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431587">false</span><span class="op" id="7431592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431597">ContentLength</span><span class="op" id="7431610">:</span>&nbsp;<span class="num" id="7431612">0</span><span class="op" id="7431613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431618">Host</span><span class="op" id="7431622">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7431633">&#34;foo.com&#34;</span><span class="op" id="7431642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431647">RequestURI</span><span class="op" id="7431657">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7431662">&#34;/&#34;</span><span class="op" id="7431665">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431669">}</span><span class="op" id="7431670">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431675"><a href="/net/http/readrequest_test.go.html#7429931">noBody</a></span><span class="op" id="7431681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431685"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7431694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431698"><a href="/net/http/readrequest_test.go.html#7429914">noError</a></span><span class="op" id="7431705">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431708">}</span><span class="op" id="7431709">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7431713">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;path&nbsp;that&nbsp;looks&nbsp;like&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7431768">//&nbsp;scheme-relative&nbsp;URI&nbsp;as&nbsp;a&nbsp;scheme-relative&nbsp;URI.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431818">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7431822">&#34;GET&nbsp;//user@host/is/actually/a/path/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7431873">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7431878">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7431898">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431903">&amp;</span><span class="ident" id="7431904"><a href="/net/http/request.go.html#3791418">Request</a></span><span class="op" id="7431911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431916">Method</span><span class="op" id="7431922">:</span>&nbsp;<span class="string" id="7431924">&#34;GET&#34;</span><span class="op" id="7431929">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431934">URL</span><span class="op" id="7431937">:</span>&nbsp;<span class="op" id="7431939">&amp;</span><span class="ident" id="7431940"><a href="/net/http/readrequest_test.go.html#7429757">url</a></span><span class="op" id="7431943">.</span><span class="ident" id="7431944">URL</span><span class="op" id="7431947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431953">Path</span><span class="op" id="7431957">:</span>&nbsp;<span class="string" id="7431959">&#34;//user@host/is/actually/a/path/&#34;</span><span class="op" id="7431992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431997">}</span><span class="op" id="7431998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432003">Proto</span><span class="op" id="7432008">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7432018">&#34;HTTP/1.1&#34;</span><span class="op" id="7432028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432033">ProtoMajor</span><span class="op" id="7432043">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7432048">1</span><span class="op" id="7432049">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432054">ProtoMinor</span><span class="op" id="7432064">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7432069">1</span><span class="op" id="7432070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432075">Header</span><span class="op" id="7432081">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432090"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7432096">{</span><span class="op" id="7432097">}</span><span class="op" id="7432098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432103">Close</span><span class="op" id="7432108">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432118">false</span><span class="op" id="7432123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432128">ContentLength</span><span class="op" id="7432141">:</span>&nbsp;<span class="num" id="7432143">0</span><span class="op" id="7432144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432149">Host</span><span class="op" id="7432153">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7432164">&#34;test&#34;</span><span class="op" id="7432170">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432175">RequestURI</span><span class="op" id="7432185">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7432190">&#34;//user@host/is/actually/a/path/&#34;</span><span class="op" id="7432223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432227">}</span><span class="op" id="7432228">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432233"><a href="/net/http/readrequest_test.go.html#7429931">noBody</a></span><span class="op" id="7432239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432243"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7432252">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432256"><a href="/net/http/readrequest_test.go.html#7429914">noError</a></span><span class="op" id="7432263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432266">}</span><span class="op" id="7432267">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7432271">//&nbsp;Tests&nbsp;a&nbsp;bogus&nbsp;abs_path&nbsp;on&nbsp;the&nbsp;Request-Line&nbsp;(RFC&nbsp;2616&nbsp;section&nbsp;5.1.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432343">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432347">&#34;GET&nbsp;../../../../etc/passwd&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7432389">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432394">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7432414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432418">nil</span><span class="op" id="7432421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432425"><a href="/net/http/readrequest_test.go.html#7429931">noBody</a></span><span class="op" id="7432431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432435"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7432444">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432448">&#34;parse&nbsp;../../../../etc/passwd:&nbsp;invalid&nbsp;URI&nbsp;for&nbsp;request&#34;</span><span class="op" id="7432503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432506">}</span><span class="op" id="7432507">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7432511">//&nbsp;Tests&nbsp;missing&nbsp;URL:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432534">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432538">&#34;GET&nbsp;&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7432558">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432563">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7432583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432587">nil</span><span class="op" id="7432590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432594"><a href="/net/http/readrequest_test.go.html#7429931">noBody</a></span><span class="op" id="7432600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432604"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7432613">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432617">&#34;parse&nbsp;:&nbsp;empty&nbsp;url&#34;</span><span class="op" id="7432636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432639">}</span><span class="op" id="7432640">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7432644">//&nbsp;Tests&nbsp;chunked&nbsp;body&nbsp;with&nbsp;trailer:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432681">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432685">&#34;POST&nbsp;/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7432707">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432712">&#34;Host:&nbsp;foo.com\r\n&#34;</span>&nbsp;<span class="op" id="7432732">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432737">&#34;Transfer-Encoding:&nbsp;chunked\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7432774">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432779">&#34;3\r\nfoo\r\n&#34;</span>&nbsp;<span class="op" id="7432794">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432799">&#34;3\r\nbar\r\n&#34;</span>&nbsp;<span class="op" id="7432814">+</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432819">&#34;0\r\n&#34;</span>&nbsp;<span class="op" id="7432827">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432832">&#34;Trailer-Key:&nbsp;Trailer-Value\r\n&#34;</span>&nbsp;<span class="op" id="7432865">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7432870">&#34;\r\n&#34;</span><span class="op" id="7432876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432880">&amp;</span><span class="ident" id="7432881"><a href="/net/http/request.go.html#3791418">Request</a></span><span class="op" id="7432888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432893">Method</span><span class="op" id="7432899">:</span>&nbsp;<span class="string" id="7432901">&#34;POST&#34;</span><span class="op" id="7432907">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432912">URL</span><span class="op" id="7432915">:</span>&nbsp;<span class="op" id="7432917">&amp;</span><span class="ident" id="7432918"><a href="/net/http/readrequest_test.go.html#7429757">url</a></span><span class="op" id="7432921">.</span><span class="ident" id="7432922">URL</span><span class="op" id="7432925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432931">Path</span><span class="op" id="7432935">:</span>&nbsp;<span class="string" id="7432937">&#34;/&#34;</span><span class="op" id="7432940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432945">}</span><span class="op" id="7432946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432951">TransferEncoding</span><span class="op" id="7432967">:</span>&nbsp;<span class="op" id="7432969">[</span><span class="op" id="7432970">]</span><span class="builtintype" id="7432971">string</span><span class="op" id="7432977">{</span><span class="string" id="7432978">&#34;chunked&#34;</span><span class="op" id="7432987">}</span><span class="op" id="7432988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432993">Proto</span><span class="op" id="7432998">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7433011">&#34;HTTP/1.1&#34;</span><span class="op" id="7433021">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433026">ProtoMajor</span><span class="op" id="7433036">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7433044">1</span><span class="op" id="7433045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433050">ProtoMinor</span><span class="op" id="7433060">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7433068">1</span><span class="op" id="7433069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433074">Header</span><span class="op" id="7433080">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433092"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7433098">{</span><span class="op" id="7433099">}</span><span class="op" id="7433100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433105">ContentLength</span><span class="op" id="7433118">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7433123">-</span><span class="num" id="7433124">1</span><span class="op" id="7433125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433130">Host</span><span class="op" id="7433134">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7433148">&#34;foo.com&#34;</span><span class="op" id="7433157">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433162">RequestURI</span><span class="op" id="7433172">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7433180">&#34;/&#34;</span><span class="op" id="7433183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433187">}</span><span class="op" id="7433188">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7433193">&#34;foobar&#34;</span><span class="op" id="7433201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433205"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7433211">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7433216">&#34;Trailer-Key&#34;</span><span class="op" id="7433229">:</span>&nbsp;<span class="op" id="7433231">{</span><span class="string" id="7433232">&#34;Trailer-Value&#34;</span><span class="op" id="7433247">}</span><span class="op" id="7433248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433252">}</span><span class="op" id="7433253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433257"><a href="/net/http/readrequest_test.go.html#7429914">noError</a></span><span class="op" id="7433264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433267">}</span><span class="op" id="7433268">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7433272">//&nbsp;CONNECT&nbsp;request&nbsp;with&nbsp;domain&nbsp;name:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7433314">&#34;CONNECT&nbsp;www.google.com:443&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7433359">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433364">&amp;</span><span class="ident" id="7433365"><a href="/net/http/request.go.html#3791418">Request</a></span><span class="op" id="7433372">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433377">Method</span><span class="op" id="7433383">:</span>&nbsp;<span class="string" id="7433385">&#34;CONNECT&#34;</span><span class="op" id="7433394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433399">URL</span><span class="op" id="7433402">:</span>&nbsp;<span class="op" id="7433404">&amp;</span><span class="ident" id="7433405"><a href="/net/http/readrequest_test.go.html#7429757">url</a></span><span class="op" id="7433408">.</span><span class="ident" id="7433409">URL</span><span class="op" id="7433412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433418">Host</span><span class="op" id="7433422">:</span>&nbsp;<span class="string" id="7433424">&#34;www.google.com:443&#34;</span><span class="op" id="7433444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433449">}</span><span class="op" id="7433450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433455">Proto</span><span class="op" id="7433460">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7433470">&#34;HTTP/1.1&#34;</span><span class="op" id="7433480">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433485">ProtoMajor</span><span class="op" id="7433495">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7433500">1</span><span class="op" id="7433501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433506">ProtoMinor</span><span class="op" id="7433516">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7433521">1</span><span class="op" id="7433522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433527">Header</span><span class="op" id="7433533">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433542"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7433548">{</span><span class="op" id="7433549">}</span><span class="op" id="7433550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433555">Close</span><span class="op" id="7433560">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433570">false</span><span class="op" id="7433575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433580">ContentLength</span><span class="op" id="7433593">:</span>&nbsp;<span class="num" id="7433595">0</span><span class="op" id="7433596">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433601">Host</span><span class="op" id="7433605">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7433616">&#34;www.google.com:443&#34;</span><span class="op" id="7433636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433641">RequestURI</span><span class="op" id="7433651">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7433656">&#34;www.google.com:443&#34;</span><span class="op" id="7433676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433680">}</span><span class="op" id="7433681">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433686"><a href="/net/http/readrequest_test.go.html#7429931">noBody</a></span><span class="op" id="7433692">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433696"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7433705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433709"><a href="/net/http/readrequest_test.go.html#7429914">noError</a></span><span class="op" id="7433716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433719">}</span><span class="op" id="7433720">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7433724">//&nbsp;CONNECT&nbsp;request&nbsp;with&nbsp;IP&nbsp;address:</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7433765">&#34;CONNECT&nbsp;127.0.0.1:6060&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7433806">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433811">&amp;</span><span class="ident" id="7433812"><a href="/net/http/request.go.html#3791418">Request</a></span><span class="op" id="7433819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433824">Method</span><span class="op" id="7433830">:</span>&nbsp;<span class="string" id="7433832">&#34;CONNECT&#34;</span><span class="op" id="7433841">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433846">URL</span><span class="op" id="7433849">:</span>&nbsp;<span class="op" id="7433851">&amp;</span><span class="ident" id="7433852"><a href="/net/http/readrequest_test.go.html#7429757">url</a></span><span class="op" id="7433855">.</span><span class="ident" id="7433856">URL</span><span class="op" id="7433859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433865">Host</span><span class="op" id="7433869">:</span>&nbsp;<span class="string" id="7433871">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7433887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7433892">}</span><span class="op" id="7433893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433898">Proto</span><span class="op" id="7433903">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7433913">&#34;HTTP/1.1&#34;</span><span class="op" id="7433923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433928">ProtoMajor</span><span class="op" id="7433938">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7433943">1</span><span class="op" id="7433944">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433949">ProtoMinor</span><span class="op" id="7433959">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7433964">1</span><span class="op" id="7433965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433970">Header</span><span class="op" id="7433976">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433985"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7433991">{</span><span class="op" id="7433992">}</span><span class="op" id="7433993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7433998">Close</span><span class="op" id="7434003">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7434013">false</span><span class="op" id="7434018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434023">ContentLength</span><span class="op" id="7434036">:</span>&nbsp;<span class="num" id="7434038">0</span><span class="op" id="7434039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434044">Host</span><span class="op" id="7434048">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7434059">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7434075">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434080">RequestURI</span><span class="op" id="7434090">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7434095">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7434111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434115">}</span><span class="op" id="7434116">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434121"><a href="/net/http/readrequest_test.go.html#7429931">noBody</a></span><span class="op" id="7434127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434131"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7434140">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434144"><a href="/net/http/readrequest_test.go.html#7429914">noError</a></span><span class="op" id="7434151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434154">}</span><span class="op" id="7434155">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7434159">//&nbsp;CONNECT&nbsp;request&nbsp;for&nbsp;RPC:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434188">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434192">&#34;CONNECT&nbsp;/_goRPC_&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7434227">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434232">&amp;</span><span class="ident" id="7434233"><a href="/net/http/request.go.html#3791418">Request</a></span><span class="op" id="7434240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434245">Method</span><span class="op" id="7434251">:</span>&nbsp;<span class="string" id="7434253">&#34;CONNECT&#34;</span><span class="op" id="7434262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434267">URL</span><span class="op" id="7434270">:</span>&nbsp;<span class="op" id="7434272">&amp;</span><span class="ident" id="7434273"><a href="/net/http/readrequest_test.go.html#7429757">url</a></span><span class="op" id="7434276">.</span><span class="ident" id="7434277">URL</span><span class="op" id="7434280">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434286">Path</span><span class="op" id="7434290">:</span>&nbsp;<span class="string" id="7434292">&#34;/_goRPC_&#34;</span><span class="op" id="7434302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434307">}</span><span class="op" id="7434308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434313">Proto</span><span class="op" id="7434318">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7434328">&#34;HTTP/1.1&#34;</span><span class="op" id="7434338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434343">ProtoMajor</span><span class="op" id="7434353">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7434358">1</span><span class="op" id="7434359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434364">ProtoMinor</span><span class="op" id="7434374">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7434379">1</span><span class="op" id="7434380">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434385">Header</span><span class="op" id="7434391">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7434400"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7434406">{</span><span class="op" id="7434407">}</span><span class="op" id="7434408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434413">Close</span><span class="op" id="7434418">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7434428">false</span><span class="op" id="7434433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434438">ContentLength</span><span class="op" id="7434451">:</span>&nbsp;<span class="num" id="7434453">0</span><span class="op" id="7434454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434459">Host</span><span class="op" id="7434463">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7434474">&#34;&#34;</span><span class="op" id="7434476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434481">RequestURI</span><span class="op" id="7434491">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7434496">&#34;/_goRPC_&#34;</span><span class="op" id="7434506">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434510">}</span><span class="op" id="7434511">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434516"><a href="/net/http/readrequest_test.go.html#7429931">noBody</a></span><span class="op" id="7434522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434526"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7434535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434539"><a href="/net/http/readrequest_test.go.html#7429914">noError</a></span><span class="op" id="7434546">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434549">}</span><span class="op" id="7434550">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7434554">//&nbsp;SSDP&nbsp;Notify&nbsp;request.&nbsp;golang.org/issue/3692</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434605">&#34;NOTIFY&nbsp;*&nbsp;HTTP/1.1\r\nServer:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7434647">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434651">&amp;</span><span class="ident" id="7434652"><a href="/net/http/request.go.html#3791418">Request</a></span><span class="op" id="7434659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434664">Method</span><span class="op" id="7434670">:</span>&nbsp;<span class="string" id="7434672">&#34;NOTIFY&#34;</span><span class="op" id="7434680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434685">URL</span><span class="op" id="7434688">:</span>&nbsp;<span class="op" id="7434690">&amp;</span><span class="ident" id="7434691"><a href="/net/http/readrequest_test.go.html#7429757">url</a></span><span class="op" id="7434694">.</span><span class="ident" id="7434695">URL</span><span class="op" id="7434698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434704">Path</span><span class="op" id="7434708">:</span>&nbsp;<span class="string" id="7434710">&#34;*&#34;</span><span class="op" id="7434713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434718">}</span><span class="op" id="7434719">,</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434724">Proto</span><span class="op" id="7434729">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7434736">&#34;HTTP/1.1&#34;</span><span class="op" id="7434746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434751">ProtoMajor</span><span class="op" id="7434761">:</span>&nbsp;<span class="num" id="7434763">1</span><span class="op" id="7434764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434769">ProtoMinor</span><span class="op" id="7434779">:</span>&nbsp;<span class="num" id="7434781">1</span><span class="op" id="7434782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434787">Header</span><span class="op" id="7434793">:</span>&nbsp;<span class="ident" id="7434795"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7434801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434807">&#34;Server&#34;</span><span class="op" id="7434815">:</span>&nbsp;<span class="op" id="7434817">[</span><span class="op" id="7434818">]</span><span class="builtintype" id="7434819">string</span><span class="op" id="7434825">{</span><span class="string" id="7434826">&#34;foo&#34;</span><span class="op" id="7434831">}</span><span class="op" id="7434832">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434837">}</span><span class="op" id="7434838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434843">Close</span><span class="op" id="7434848">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7434858">false</span><span class="op" id="7434863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434868">ContentLength</span><span class="op" id="7434881">:</span>&nbsp;<span class="num" id="7434883">0</span><span class="op" id="7434884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434889">RequestURI</span><span class="op" id="7434899">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7434904">&#34;*&#34;</span><span class="op" id="7434907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434911">}</span><span class="op" id="7434912">,</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434917"><a href="/net/http/readrequest_test.go.html#7429931">noBody</a></span><span class="op" id="7434923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434927"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7434936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7434940"><a href="/net/http/readrequest_test.go.html#7429914">noError</a></span><span class="op" id="7434947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7434950">}</span><span class="op" id="7434951">,</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7434955">//&nbsp;OPTIONS&nbsp;request.&nbsp;Similar&nbsp;to&nbsp;golang.org/issue/3692</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7435013">&#34;OPTIONS&nbsp;*&nbsp;HTTP/1.1\r\nServer:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7435056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435060">&amp;</span><span class="ident" id="7435061"><a href="/net/http/request.go.html#3791418">Request</a></span><span class="op" id="7435068">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435073">Method</span><span class="op" id="7435079">:</span>&nbsp;<span class="string" id="7435081">&#34;OPTIONS&#34;</span><span class="op" id="7435090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435095">URL</span><span class="op" id="7435098">:</span>&nbsp;<span class="op" id="7435100">&amp;</span><span class="ident" id="7435101"><a href="/net/http/readrequest_test.go.html#7429757">url</a></span><span class="op" id="7435104">.</span><span class="ident" id="7435105">URL</span><span class="op" id="7435108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435114">Path</span><span class="op" id="7435118">:</span>&nbsp;<span class="string" id="7435120">&#34;*&#34;</span><span class="op" id="7435123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435128">}</span><span class="op" id="7435129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435134">Proto</span><span class="op" id="7435139">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7435146">&#34;HTTP/1.1&#34;</span><span class="op" id="7435156">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435161">ProtoMajor</span><span class="op" id="7435171">:</span>&nbsp;<span class="num" id="7435173">1</span><span class="op" id="7435174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435179">ProtoMinor</span><span class="op" id="7435189">:</span>&nbsp;<span class="num" id="7435191">1</span><span class="op" id="7435192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435197">Header</span><span class="op" id="7435203">:</span>&nbsp;<span class="ident" id="7435205"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7435211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7435217">&#34;Server&#34;</span><span class="op" id="7435225">:</span>&nbsp;<span class="op" id="7435227">[</span><span class="op" id="7435228">]</span><span class="builtintype" id="7435229">string</span><span class="op" id="7435235">{</span><span class="string" id="7435236">&#34;foo&#34;</span><span class="op" id="7435241">}</span><span class="op" id="7435242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435247">}</span><span class="op" id="7435248">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435253">Close</span><span class="op" id="7435258">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7435268">false</span><span class="op" id="7435273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435278">ContentLength</span><span class="op" id="7435291">:</span>&nbsp;<span class="num" id="7435293">0</span><span class="op" id="7435294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435299">RequestURI</span><span class="op" id="7435309">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7435314">&#34;*&#34;</span><span class="op" id="7435317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435321">}</span><span class="op" id="7435322">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435327"><a href="/net/http/readrequest_test.go.html#7429931">noBody</a></span><span class="op" id="7435333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435337"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7435346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435350"><a href="/net/http/readrequest_test.go.html#7429914">noError</a></span><span class="op" id="7435357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435360">}</span><span class="op" id="7435361">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7435365">//&nbsp;Connection:&nbsp;close.&nbsp;golang.org/issue/8261</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7435414">&#34;GET&nbsp;/&nbsp;HTTP/1.1\r\nHost:&nbsp;issue8261.com\r\nConnection:&nbsp;close\r\n\r\n&#34;</span><span class="op" id="7435482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435486">&amp;</span><span class="ident" id="7435487"><a href="/net/http/request.go.html#3791418">Request</a></span><span class="op" id="7435494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435499">Method</span><span class="op" id="7435505">:</span>&nbsp;<span class="string" id="7435507">&#34;GET&#34;</span><span class="op" id="7435512">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435517">URL</span><span class="op" id="7435520">:</span>&nbsp;<span class="op" id="7435522">&amp;</span><span class="ident" id="7435523"><a href="/net/http/readrequest_test.go.html#7429757">url</a></span><span class="op" id="7435526">.</span><span class="ident" id="7435527">URL</span><span class="op" id="7435530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435536">Path</span><span class="op" id="7435540">:</span>&nbsp;<span class="string" id="7435542">&#34;/&#34;</span><span class="op" id="7435545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435550">}</span><span class="op" id="7435551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435556">Header</span><span class="op" id="7435562">:</span>&nbsp;<span class="ident" id="7435564"><a href="/net/http/header.go.html#3781581">Header</a></span><span class="op" id="7435570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7435576">//&nbsp;This&nbsp;wasn&#39;t&nbsp;removed&nbsp;from&nbsp;Go&nbsp;1.0&nbsp;to</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7435618">//&nbsp;Go&nbsp;1.3,&nbsp;so&nbsp;locking&nbsp;it&nbsp;in&nbsp;that&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7435658">//&nbsp;keep&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7435676">&#34;Connection&#34;</span><span class="op" id="7435688">:</span>&nbsp;<span class="op" id="7435690">[</span><span class="op" id="7435691">]</span><span class="builtintype" id="7435692">string</span><span class="op" id="7435698">{</span><span class="string" id="7435699">&#34;close&#34;</span><span class="op" id="7435706">}</span><span class="op" id="7435707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435712">}</span><span class="op" id="7435713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435718">Host</span><span class="op" id="7435722">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7435730">&#34;issue8261.com&#34;</span><span class="op" id="7435745">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435750">Proto</span><span class="op" id="7435755">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7435762">&#34;HTTP/1.1&#34;</span><span class="op" id="7435772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435777">ProtoMajor</span><span class="op" id="7435787">:</span>&nbsp;<span class="num" id="7435789">1</span><span class="op" id="7435790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435795">ProtoMinor</span><span class="op" id="7435805">:</span>&nbsp;<span class="num" id="7435807">1</span><span class="op" id="7435808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435813">Close</span><span class="op" id="7435818">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7435825">true</span><span class="op" id="7435829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435834">RequestURI</span><span class="op" id="7435844">:</span>&nbsp;<span class="string" id="7435846">&#34;/&#34;</span><span class="op" id="7435849">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435853">}</span><span class="op" id="7435854">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435859"><a href="/net/http/readrequest_test.go.html#7429931">noBody</a></span><span class="op" id="7435865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435869"><a href="/net/http/readrequest_test.go.html#7429947">noTrailer</a></span><span class="op" id="7435878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435882"><a href="/net/http/readrequest_test.go.html#7429914">noError</a></span><span class="op" id="7435889">,</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435892">}</span><span class="op" id="7435893">,</span><br>
<span class="lineno"></span><span class="op" id="7435895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7435898">func</span>&nbsp;<span class="ident" id="7435903">TestReadRequest</span><span class="op" id="7435918">(</span><span class="ident" id="7435919">t</span>&nbsp;<span class="op" id="7435921">*</span><span class="ident" id="7435922"><a href="/net/http/readrequest_test.go.html#7429790">testing</a></span><span class="op" id="7435929">.</span><span class="ident" id="7435930">T</span><span class="op" id="7435931">)</span>&nbsp;<span class="op" id="7435933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435936">for</span>&nbsp;<span class="ident" id="7435940">i</span>&nbsp;<span class="op" id="7435942">:=</span>&nbsp;<span class="keyword" id="7435945">range</span>&nbsp;<span class="ident" id="7435951"><a href="/net/http/readrequest_test.go.html#7429975">reqTests</a></span>&nbsp;<span class="op" id="7435960">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435964">tt</span>&nbsp;<span class="op" id="7435967">:=</span>&nbsp;<span class="op" id="7435970">&amp;</span><span class="ident" id="7435971"><a href="/net/http/readrequest_test.go.html#7429975">reqTests</a></span><span class="op" id="7435979">[</span><span class="ident" id="7435980"><a href="/net/http/readrequest_test.go.html#7435940">i</a></span><span class="op" id="7435981">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435985">req</span><span class="op" id="7435988">,</span>&nbsp;<span class="ident" id="7435990">err</span>&nbsp;<span class="op" id="7435994">:=</span>&nbsp;<span class="ident" id="7435997"><a href="/net/http/request.go.html#3807559">ReadRequest</a></span><span class="op" id="7436008">(</span><span class="ident" id="7436009"><a href="/net/http/readrequest_test.go.html#7429726">bufio</a></span><span class="op" id="7436014">.</span><span class="ident" id="7436015">NewReader</span><span class="op" id="7436024">(</span><span class="ident" id="7436025"><a href="/net/http/readrequest_test.go.html#7429779">strings</a></span><span class="op" id="7436032">.</span><span class="ident" id="7436033">NewReader</span><span class="op" id="7436042">(</span><span class="ident" id="7436043"><a href="/net/http/readrequest_test.go.html#7435964">tt</a></span><span class="op" id="7436045">.</span><span class="ident" id="7436046">Raw</span><span class="op" id="7436049">)</span><span class="op" id="7436050">)</span><span class="op" id="7436051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436055">if</span>&nbsp;<span class="ident" id="7436058"><a href="/net/http/readrequest_test.go.html#7435990">err</a></span>&nbsp;<span class="op" id="7436062">!=</span>&nbsp;<span class="ident" id="7436065">nil</span>&nbsp;<span class="op" id="7436069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436074">if</span>&nbsp;<span class="ident" id="7436077"><a href="/net/http/readrequest_test.go.html#7435990">err</a></span><span class="op" id="7436080">.</span><span class="ident" id="7436081">Error</span><span class="op" id="7436086">(</span><span class="op" id="7436087">)</span>&nbsp;<span class="op" id="7436089">!=</span>&nbsp;<span class="ident" id="7436092"><a href="/net/http/readrequest_test.go.html#7435964">tt</a></span><span class="op" id="7436094">.</span><span class="ident" id="7436095">Error</span>&nbsp;<span class="op" id="7436101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436107"><a href="/net/http/readrequest_test.go.html#7435919">t</a></span><span class="op" id="7436108">.</span><span class="ident" id="7436109">Errorf</span><span class="op" id="7436115">(</span><span class="string" id="7436116">&#34;#%d:&nbsp;error&nbsp;%q,&nbsp;want&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7436146">,</span>&nbsp;<span class="ident" id="7436148"><a href="/net/http/readrequest_test.go.html#7435940">i</a></span><span class="op" id="7436149">,</span>&nbsp;<span class="ident" id="7436151"><a href="/net/http/readrequest_test.go.html#7435990">err</a></span><span class="op" id="7436154">.</span><span class="ident" id="7436155">Error</span><span class="op" id="7436160">(</span><span class="op" id="7436161">)</span><span class="op" id="7436162">,</span>&nbsp;<span class="ident" id="7436164"><a href="/net/http/readrequest_test.go.html#7435964">tt</a></span><span class="op" id="7436166">.</span><span class="ident" id="7436167">Error</span><span class="op" id="7436172">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436182">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436197">rbody</span>&nbsp;<span class="op" id="7436203">:=</span>&nbsp;<span class="ident" id="7436206"><a href="/net/http/readrequest_test.go.html#7435985">req</a></span><span class="op" id="7436209">.</span><span class="ident" id="7436210">Body</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436217"><a href="/net/http/readrequest_test.go.html#7435985">req</a></span><span class="op" id="7436220">.</span><span class="ident" id="7436221">Body</span>&nbsp;<span class="op" id="7436226">=</span>&nbsp;<span class="ident" id="7436228">nil</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436234">testName</span>&nbsp;<span class="op" id="7436243">:=</span>&nbsp;<span class="ident" id="7436246"><a href="/net/http/readrequest_test.go.html#7429744">fmt</a></span><span class="op" id="7436249">.</span><span class="ident" id="7436250">Sprintf</span><span class="op" id="7436257">(</span><span class="string" id="7436258">&#34;Test&nbsp;%d&nbsp;(%q)&#34;</span><span class="op" id="7436272">,</span>&nbsp;<span class="ident" id="7436274"><a href="/net/http/readrequest_test.go.html#7435940">i</a></span><span class="op" id="7436275">,</span>&nbsp;<span class="ident" id="7436277"><a href="/net/http/readrequest_test.go.html#7435964">tt</a></span><span class="op" id="7436279">.</span><span class="ident" id="7436280">Raw</span><span class="op" id="7436283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436287"><a href="/net/http/response_test.go.html#7464164">diff</a></span><span class="op" id="7436291">(</span><span class="ident" id="7436292"><a href="/net/http/readrequest_test.go.html#7435919">t</a></span><span class="op" id="7436293">,</span>&nbsp;<span class="ident" id="7436295"><a href="/net/http/readrequest_test.go.html#7436234">testName</a></span><span class="op" id="7436303">,</span>&nbsp;<span class="ident" id="7436305"><a href="/net/http/readrequest_test.go.html#7435985">req</a></span><span class="op" id="7436308">,</span>&nbsp;<span class="ident" id="7436310"><a href="/net/http/readrequest_test.go.html#7435964">tt</a></span><span class="op" id="7436312">.</span><span class="ident" id="7436313">Req</span><span class="op" id="7436316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436320">var</span>&nbsp;<span class="ident" id="7436324">bout</span>&nbsp;<span class="ident" id="7436329"><a href="/net/http/readrequest_test.go.html#7429735">bytes</a></span><span class="op" id="7436334">.</span><span class="ident" id="7436335">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436344">if</span>&nbsp;<span class="ident" id="7436347"><a href="/net/http/readrequest_test.go.html#7436197">rbody</a></span>&nbsp;<span class="op" id="7436353">!=</span>&nbsp;<span class="ident" id="7436356">nil</span>&nbsp;<span class="op" id="7436360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436365">_</span><span class="op" id="7436366">,</span>&nbsp;<span class="ident" id="7436368">err</span>&nbsp;<span class="op" id="7436372">:=</span>&nbsp;<span class="ident" id="7436375"><a href="/net/http/readrequest_test.go.html#7429751">io</a></span><span class="op" id="7436377">.</span><span class="ident" id="7436378">Copy</span><span class="op" id="7436382">(</span><span class="op" id="7436383">&amp;</span><span class="ident" id="7436384"><a href="/net/http/readrequest_test.go.html#7436324">bout</a></span><span class="op" id="7436388">,</span>&nbsp;<span class="ident" id="7436390"><a href="/net/http/readrequest_test.go.html#7436197">rbody</a></span><span class="op" id="7436395">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436400">if</span>&nbsp;<span class="ident" id="7436403"><a href="/net/http/readrequest_test.go.html#7436368">err</a></span>&nbsp;<span class="op" id="7436407">!=</span>&nbsp;<span class="ident" id="7436410">nil</span>&nbsp;<span class="op" id="7436414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436420"><a href="/net/http/readrequest_test.go.html#7435919">t</a></span><span class="op" id="7436421">.</span><span class="ident" id="7436422">Fatalf</span><span class="op" id="7436428">(</span><span class="string" id="7436429">&#34;%s:&nbsp;copying&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="7436451">,</span>&nbsp;<span class="ident" id="7436453"><a href="/net/http/readrequest_test.go.html#7436234">testName</a></span><span class="op" id="7436461">,</span>&nbsp;<span class="ident" id="7436463"><a href="/net/http/readrequest_test.go.html#7436368">err</a></span><span class="op" id="7436466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436476"><a href="/net/http/readrequest_test.go.html#7436197">rbody</a></span><span class="op" id="7436481">.</span><span class="ident" id="7436482">Close</span><span class="op" id="7436487">(</span><span class="op" id="7436488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436492">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436496">body</span>&nbsp;<span class="op" id="7436501">:=</span>&nbsp;<span class="ident" id="7436504"><a href="/net/http/readrequest_test.go.html#7436324">bout</a></span><span class="op" id="7436508">.</span><span class="ident" id="7436509">String</span><span class="op" id="7436515">(</span><span class="op" id="7436516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436520">if</span>&nbsp;<span class="ident" id="7436523"><a href="/net/http/readrequest_test.go.html#7436496">body</a></span>&nbsp;<span class="op" id="7436528">!=</span>&nbsp;<span class="ident" id="7436531"><a href="/net/http/readrequest_test.go.html#7435964">tt</a></span><span class="op" id="7436533">.</span><span class="ident" id="7436534">Body</span>&nbsp;<span class="op" id="7436539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436544"><a href="/net/http/readrequest_test.go.html#7435919">t</a></span><span class="op" id="7436545">.</span><span class="ident" id="7436546">Errorf</span><span class="op" id="7436552">(</span><span class="string" id="7436553">&#34;%s:&nbsp;Body&nbsp;=&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7436576">,</span>&nbsp;<span class="ident" id="7436578"><a href="/net/http/readrequest_test.go.html#7436234">testName</a></span><span class="op" id="7436586">,</span>&nbsp;<span class="ident" id="7436588"><a href="/net/http/readrequest_test.go.html#7436496">body</a></span><span class="op" id="7436592">,</span>&nbsp;<span class="ident" id="7436594"><a href="/net/http/readrequest_test.go.html#7435964">tt</a></span><span class="op" id="7436596">.</span><span class="ident" id="7436597">Body</span><span class="op" id="7436601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436609">if</span>&nbsp;<span class="op" id="7436612">!</span><span class="ident" id="7436613"><a href="/net/http/readrequest_test.go.html#7429768">reflect</a></span><span class="op" id="7436620">.</span><span class="ident" id="7436621">DeepEqual</span><span class="op" id="7436630">(</span><span class="ident" id="7436631"><a href="/net/http/readrequest_test.go.html#7435964">tt</a></span><span class="op" id="7436633">.</span><span class="ident" id="7436634">Trailer</span><span class="op" id="7436641">,</span>&nbsp;<span class="ident" id="7436643"><a href="/net/http/readrequest_test.go.html#7435985">req</a></span><span class="op" id="7436646">.</span><span class="ident" id="7436647">Trailer</span><span class="op" id="7436654">)</span>&nbsp;<span class="op" id="7436656">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436661"><a href="/net/http/readrequest_test.go.html#7435919">t</a></span><span class="op" id="7436662">.</span><span class="ident" id="7436663">Errorf</span><span class="op" id="7436669">(</span><span class="string" id="7436670">&#34;%s:&nbsp;Trailers&nbsp;differ.\n&nbsp;got:&nbsp;%v\nwant:&nbsp;%v&#34;</span><span class="op" id="7436712">,</span>&nbsp;<span class="ident" id="7436714"><a href="/net/http/readrequest_test.go.html#7436234">testName</a></span><span class="op" id="7436722">,</span>&nbsp;<span class="ident" id="7436724"><a href="/net/http/readrequest_test.go.html#7435985">req</a></span><span class="op" id="7436727">.</span><span class="ident" id="7436728">Trailer</span><span class="op" id="7436735">,</span>&nbsp;<span class="ident" id="7436737"><a href="/net/http/readrequest_test.go.html#7435964">tt</a></span><span class="op" id="7436739">.</span><span class="ident" id="7436740">Trailer</span><span class="op" id="7436747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436754">}</span><br>
<span class="lineno"></span><span class="op" id="7436756">}</span>
</div>
</body>
</html>
