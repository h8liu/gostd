<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html" class="current">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3521211">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3521267">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3521321">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3521372">package</span>&nbsp;<span class="ident" id="3521380">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3521388">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="3521413">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="3521481">import</span>&nbsp;<span class="op" id="3521488">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3521491">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3521500">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3521511">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3521522">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3521532">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3521535">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="3521594">type</span>&nbsp;<span class="ident" id="3521599">Regexp</span>&nbsp;<span class="keyword" id="3521606">struct</span>&nbsp;<span class="op" id="3521613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521616">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521625">Op</span>&nbsp;<span class="comment" id="3521628">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521641">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521650">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521657">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3521666">[</span><span class="op" id="3521667">]</span><span class="op" id="3521668">*</span><span class="ident" id="3521669">Regexp</span>&nbsp;&nbsp;<span class="comment" id="3521677">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521704">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3521713">[</span><span class="num" id="3521714">1</span><span class="op" id="3521715">]</span><span class="op" id="3521716">*</span><span class="ident" id="3521717">Regexp</span>&nbsp;<span class="comment" id="3521724">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521750">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3521759">[</span><span class="op" id="3521760">]</span><span class="builtintype" id="3521761">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521770">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521816">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3521825">[</span><span class="num" id="3521826">2</span><span class="op" id="3521827">]</span><span class="builtintype" id="3521828">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521836">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521863">Min</span><span class="op" id="3521866">,</span>&nbsp;<span class="ident" id="3521868">Max</span>&nbsp;<span class="builtintype" id="3521872">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521883">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521909">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3521918">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521929">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521964">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3521973">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521984">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="3522017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="3522020">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="3522070">type</span>&nbsp;<span class="ident" id="3522075">Op</span>&nbsp;<span class="builtintype" id="3522078">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3522085">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="3522159">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="3522224">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3522281">const</span>&nbsp;<span class="op" id="3522287">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522290">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522307">Op</span>&nbsp;<span class="op" id="3522310">=</span>&nbsp;<span class="num" id="3522312">1</span>&nbsp;<span class="op" id="3522314">+</span>&nbsp;<span class="ident" id="3522316">iota</span>&nbsp;<span class="comment" id="3522321">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522344">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522375">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522400">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522431">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522458">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522489">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522538">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522569">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522610">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522641">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522667">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522698">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522744">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522775">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522815">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522846">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522892">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522923">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522963">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522994">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523025">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3523056">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523091">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3523122">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523185">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3523216">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523254">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3523285">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523322">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3523353">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523390">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3523421">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523496">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3523527">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523561">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3523592">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="3523623">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3523626">const</span>&nbsp;<span class="ident" id="3523632">opPseudo</span>&nbsp;<span class="ident" id="3523641">Op</span>&nbsp;<span class="op" id="3523644">=</span>&nbsp;<span class="num" id="3523646">128</span>&nbsp;<span class="comment" id="3523650">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3523677">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="3523736">func</span>&nbsp;<span class="op" id="3523741">(</span><span class="ident" id="3523742">x</span>&nbsp;<span class="op" id="3523744">*</span><span class="ident" id="3523745">Regexp</span><span class="op" id="3523751">)</span>&nbsp;<span class="ident" id="3523753">Equal</span><span class="op" id="3523758">(</span><span class="ident" id="3523759">y</span>&nbsp;<span class="op" id="3523761">*</span><span class="ident" id="3523762">Regexp</span><span class="op" id="3523768">)</span>&nbsp;<span class="builtintype" id="3523770">bool</span>&nbsp;<span class="op" id="3523775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523778">if</span>&nbsp;<span class="ident" id="3523781">x</span>&nbsp;<span class="op" id="3523783">==</span>&nbsp;<span class="builtintype" id="3523786">nil</span>&nbsp;<span class="op" id="3523790">||</span>&nbsp;<span class="ident" id="3523793">y</span>&nbsp;<span class="op" id="3523795">==</span>&nbsp;<span class="builtintype" id="3523798">nil</span>&nbsp;<span class="op" id="3523802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523806">return</span>&nbsp;<span class="ident" id="3523813">x</span>&nbsp;<span class="op" id="3523815">==</span>&nbsp;<span class="ident" id="3523818">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3523821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523824">if</span>&nbsp;<span class="ident" id="3523827">x</span><span class="op" id="3523828">.</span><span class="ident" id="3523829">Op</span>&nbsp;<span class="op" id="3523832">!=</span>&nbsp;<span class="ident" id="3523835">y</span><span class="op" id="3523836">.</span><span class="ident" id="3523837">Op</span>&nbsp;<span class="op" id="3523840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523844">return</span>&nbsp;<span class="builtintype" id="3523851">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3523858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523861">switch</span>&nbsp;<span class="ident" id="3523868">x</span><span class="op" id="3523869">.</span><span class="ident" id="3523870">Op</span>&nbsp;<span class="op" id="3523873">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523876">case</span>&nbsp;<span class="ident" id="3523881">OpEndText</span><span class="op" id="3523890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3523894">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523950">if</span>&nbsp;<span class="ident" id="3523953">x</span><span class="op" id="3523954">.</span><span class="ident" id="3523955">Flags</span><span class="op" id="3523960">&amp;</span><span class="ident" id="3523961">WasDollar</span>&nbsp;<span class="op" id="3523971">!=</span>&nbsp;<span class="ident" id="3523974">y</span><span class="op" id="3523975">.</span><span class="ident" id="3523976">Flags</span><span class="op" id="3523981">&amp;</span><span class="ident" id="3523982">WasDollar</span>&nbsp;<span class="op" id="3523992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523997">return</span>&nbsp;<span class="builtintype" id="3524004">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524012">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524016">case</span>&nbsp;<span class="ident" id="3524021">OpLiteral</span><span class="op" id="3524030">,</span>&nbsp;<span class="ident" id="3524032">OpCharClass</span><span class="op" id="3524043">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524047">if</span>&nbsp;<span class="builtinfunc" id="3524050">len</span><span class="op" id="3524053">(</span><span class="ident" id="3524054">x</span><span class="op" id="3524055">.</span><span class="ident" id="3524056">Rune</span><span class="op" id="3524060">)</span>&nbsp;<span class="op" id="3524062">!=</span>&nbsp;<span class="builtinfunc" id="3524065">len</span><span class="op" id="3524068">(</span><span class="ident" id="3524069">y</span><span class="op" id="3524070">.</span><span class="ident" id="3524071">Rune</span><span class="op" id="3524075">)</span>&nbsp;<span class="op" id="3524077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524082">return</span>&nbsp;<span class="builtintype" id="3524089">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524097">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524101">for</span>&nbsp;<span class="ident" id="3524105">i</span><span class="op" id="3524106">,</span>&nbsp;<span class="ident" id="3524108">r</span>&nbsp;<span class="op" id="3524110">:=</span>&nbsp;<span class="keyword" id="3524113">range</span>&nbsp;<span class="ident" id="3524119">x</span><span class="op" id="3524120">.</span><span class="ident" id="3524121">Rune</span>&nbsp;<span class="op" id="3524126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524131">if</span>&nbsp;<span class="ident" id="3524134">r</span>&nbsp;<span class="op" id="3524136">!=</span>&nbsp;<span class="ident" id="3524139">y</span><span class="op" id="3524140">.</span><span class="ident" id="3524141">Rune</span><span class="op" id="3524145">[</span><span class="ident" id="3524146">i</span><span class="op" id="3524147">]</span>&nbsp;<span class="op" id="3524149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524155">return</span>&nbsp;<span class="builtintype" id="3524162">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524175">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524179">case</span>&nbsp;<span class="ident" id="3524184">OpAlternate</span><span class="op" id="3524195">,</span>&nbsp;<span class="ident" id="3524197">OpConcat</span><span class="op" id="3524205">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524209">if</span>&nbsp;<span class="builtinfunc" id="3524212">len</span><span class="op" id="3524215">(</span><span class="ident" id="3524216">x</span><span class="op" id="3524217">.</span><span class="ident" id="3524218">Sub</span><span class="op" id="3524221">)</span>&nbsp;<span class="op" id="3524223">!=</span>&nbsp;<span class="builtinfunc" id="3524226">len</span><span class="op" id="3524229">(</span><span class="ident" id="3524230">y</span><span class="op" id="3524231">.</span><span class="ident" id="3524232">Sub</span><span class="op" id="3524235">)</span>&nbsp;<span class="op" id="3524237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524242">return</span>&nbsp;<span class="builtintype" id="3524249">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524257">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524261">for</span>&nbsp;<span class="ident" id="3524265">i</span><span class="op" id="3524266">,</span>&nbsp;<span class="ident" id="3524268">sub</span>&nbsp;<span class="op" id="3524272">:=</span>&nbsp;<span class="keyword" id="3524275">range</span>&nbsp;<span class="ident" id="3524281">x</span><span class="op" id="3524282">.</span><span class="ident" id="3524283">Sub</span>&nbsp;<span class="op" id="3524287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524292">if</span>&nbsp;<span class="op" id="3524295">!</span><span class="ident" id="3524296">sub</span><span class="op" id="3524299">.</span><span class="ident" id="3524300">Equal</span><span class="op" id="3524305">(</span><span class="ident" id="3524306">y</span><span class="op" id="3524307">.</span><span class="ident" id="3524308">Sub</span><span class="op" id="3524311">[</span><span class="ident" id="3524312">i</span><span class="op" id="3524313">]</span><span class="op" id="3524314">)</span>&nbsp;<span class="op" id="3524316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524322">return</span>&nbsp;<span class="builtintype" id="3524329">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524342">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524346">case</span>&nbsp;<span class="ident" id="3524351">OpStar</span><span class="op" id="3524357">,</span>&nbsp;<span class="ident" id="3524359">OpPlus</span><span class="op" id="3524365">,</span>&nbsp;<span class="ident" id="3524367">OpQuest</span><span class="op" id="3524374">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524378">if</span>&nbsp;<span class="ident" id="3524381">x</span><span class="op" id="3524382">.</span><span class="ident" id="3524383">Flags</span><span class="op" id="3524388">&amp;</span><span class="ident" id="3524389">NonGreedy</span>&nbsp;<span class="op" id="3524399">!=</span>&nbsp;<span class="ident" id="3524402">y</span><span class="op" id="3524403">.</span><span class="ident" id="3524404">Flags</span><span class="op" id="3524409">&amp;</span><span class="ident" id="3524410">NonGreedy</span>&nbsp;<span class="op" id="3524420">||</span>&nbsp;<span class="op" id="3524423">!</span><span class="ident" id="3524424">x</span><span class="op" id="3524425">.</span><span class="ident" id="3524426">Sub</span><span class="op" id="3524429">[</span><span class="num" id="3524430">0</span><span class="op" id="3524431">]</span><span class="op" id="3524432">.</span><span class="ident" id="3524433">Equal</span><span class="op" id="3524438">(</span><span class="ident" id="3524439">y</span><span class="op" id="3524440">.</span><span class="ident" id="3524441">Sub</span><span class="op" id="3524444">[</span><span class="num" id="3524445">0</span><span class="op" id="3524446">]</span><span class="op" id="3524447">)</span>&nbsp;<span class="op" id="3524449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524454">return</span>&nbsp;<span class="builtintype" id="3524461">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524469">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524473">case</span>&nbsp;<span class="ident" id="3524478">OpRepeat</span><span class="op" id="3524486">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524490">if</span>&nbsp;<span class="ident" id="3524493">x</span><span class="op" id="3524494">.</span><span class="ident" id="3524495">Flags</span><span class="op" id="3524500">&amp;</span><span class="ident" id="3524501">NonGreedy</span>&nbsp;<span class="op" id="3524511">!=</span>&nbsp;<span class="ident" id="3524514">y</span><span class="op" id="3524515">.</span><span class="ident" id="3524516">Flags</span><span class="op" id="3524521">&amp;</span><span class="ident" id="3524522">NonGreedy</span>&nbsp;<span class="op" id="3524532">||</span>&nbsp;<span class="ident" id="3524535">x</span><span class="op" id="3524536">.</span><span class="ident" id="3524537">Min</span>&nbsp;<span class="op" id="3524541">!=</span>&nbsp;<span class="ident" id="3524544">y</span><span class="op" id="3524545">.</span><span class="ident" id="3524546">Min</span>&nbsp;<span class="op" id="3524550">||</span>&nbsp;<span class="ident" id="3524553">x</span><span class="op" id="3524554">.</span><span class="ident" id="3524555">Max</span>&nbsp;<span class="op" id="3524559">!=</span>&nbsp;<span class="ident" id="3524562">y</span><span class="op" id="3524563">.</span><span class="ident" id="3524564">Max</span>&nbsp;<span class="op" id="3524568">||</span>&nbsp;<span class="op" id="3524571">!</span><span class="ident" id="3524572">x</span><span class="op" id="3524573">.</span><span class="ident" id="3524574">Sub</span><span class="op" id="3524577">[</span><span class="num" id="3524578">0</span><span class="op" id="3524579">]</span><span class="op" id="3524580">.</span><span class="ident" id="3524581">Equal</span><span class="op" id="3524586">(</span><span class="ident" id="3524587">y</span><span class="op" id="3524588">.</span><span class="ident" id="3524589">Sub</span><span class="op" id="3524592">[</span><span class="num" id="3524593">0</span><span class="op" id="3524594">]</span><span class="op" id="3524595">)</span>&nbsp;<span class="op" id="3524597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524602">return</span>&nbsp;<span class="builtintype" id="3524609">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524617">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524621">case</span>&nbsp;<span class="ident" id="3524626">OpCapture</span><span class="op" id="3524635">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524639">if</span>&nbsp;<span class="ident" id="3524642">x</span><span class="op" id="3524643">.</span><span class="ident" id="3524644">Cap</span>&nbsp;<span class="op" id="3524648">!=</span>&nbsp;<span class="ident" id="3524651">y</span><span class="op" id="3524652">.</span><span class="ident" id="3524653">Cap</span>&nbsp;<span class="op" id="3524657">||</span>&nbsp;<span class="ident" id="3524660">x</span><span class="op" id="3524661">.</span><span class="ident" id="3524662">Name</span>&nbsp;<span class="op" id="3524667">!=</span>&nbsp;<span class="ident" id="3524670">y</span><span class="op" id="3524671">.</span><span class="ident" id="3524672">Name</span>&nbsp;<span class="op" id="3524677">||</span>&nbsp;<span class="op" id="3524680">!</span><span class="ident" id="3524681">x</span><span class="op" id="3524682">.</span><span class="ident" id="3524683">Sub</span><span class="op" id="3524686">[</span><span class="num" id="3524687">0</span><span class="op" id="3524688">]</span><span class="op" id="3524689">.</span><span class="ident" id="3524690">Equal</span><span class="op" id="3524695">(</span><span class="ident" id="3524696">y</span><span class="op" id="3524697">.</span><span class="ident" id="3524698">Sub</span><span class="op" id="3524701">[</span><span class="num" id="3524702">0</span><span class="op" id="3524703">]</span><span class="op" id="3524704">)</span>&nbsp;<span class="op" id="3524706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524711">return</span>&nbsp;<span class="builtintype" id="3524718">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524726">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524732">return</span>&nbsp;<span class="builtintype" id="3524739">true</span><br>
<span class="lineno"></span><span class="op" id="3524744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3524747">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="3524821">func</span>&nbsp;<span class="ident" id="3524826">writeRegexp</span><span class="op" id="3524837">(</span><span class="ident" id="3524838">b</span>&nbsp;<span class="op" id="3524840">*</span><span class="ident" id="3524841">bytes</span><span class="op" id="3524846">.</span><span class="ident" id="3524847">Buffer</span><span class="op" id="3524853">,</span>&nbsp;<span class="ident" id="3524855">re</span>&nbsp;<span class="op" id="3524858">*</span><span class="ident" id="3524859">Regexp</span><span class="op" id="3524865">)</span>&nbsp;<span class="op" id="3524867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524870">switch</span>&nbsp;<span class="ident" id="3524877">re</span><span class="op" id="3524879">.</span><span class="ident" id="3524880">Op</span>&nbsp;<span class="op" id="3524883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524886">default</span><span class="op" id="3524893">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3524897">b</span><span class="op" id="3524898">.</span><span class="ident" id="3524899">WriteString</span><span class="op" id="3524910">(</span><span class="string" id="3524911">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="3524925">+</span>&nbsp;<span class="ident" id="3524927">strconv</span><span class="op" id="3524934">.</span><span class="ident" id="3524935">Itoa</span><span class="op" id="3524939">(</span><span class="builtintype" id="3524940">int</span><span class="op" id="3524943">(</span><span class="ident" id="3524944">re</span><span class="op" id="3524946">.</span><span class="ident" id="3524947">Op</span><span class="op" id="3524949">)</span><span class="op" id="3524950">)</span>&nbsp;<span class="op" id="3524952">+</span>&nbsp;<span class="string" id="3524954">&#34;&gt;&#34;</span><span class="op" id="3524957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524960">case</span>&nbsp;<span class="ident" id="3524965">OpNoMatch</span><span class="op" id="3524974">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3524978">b</span><span class="op" id="3524979">.</span><span class="ident" id="3524980">WriteString</span><span class="op" id="3524991">(</span><span class="string" id="3524992">`[^\x00-\x{10FFFF}]`</span><span class="op" id="3525012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525015">case</span>&nbsp;<span class="ident" id="3525020">OpEmptyMatch</span><span class="op" id="3525032">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525036">b</span><span class="op" id="3525037">.</span><span class="ident" id="3525038">WriteString</span><span class="op" id="3525049">(</span><span class="string" id="3525050">`(?:)`</span><span class="op" id="3525056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525059">case</span>&nbsp;<span class="ident" id="3525064">OpLiteral</span><span class="op" id="3525073">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525077">if</span>&nbsp;<span class="ident" id="3525080">re</span><span class="op" id="3525082">.</span><span class="ident" id="3525083">Flags</span><span class="op" id="3525088">&amp;</span><span class="ident" id="3525089">FoldCase</span>&nbsp;<span class="op" id="3525098">!=</span>&nbsp;<span class="num" id="3525101">0</span>&nbsp;<span class="op" id="3525103">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525108">b</span><span class="op" id="3525109">.</span><span class="ident" id="3525110">WriteString</span><span class="op" id="3525121">(</span><span class="string" id="3525122">`(?i:`</span><span class="op" id="3525128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525136">for</span>&nbsp;<span class="ident" id="3525140">_</span><span class="op" id="3525141">,</span>&nbsp;<span class="ident" id="3525143">r</span>&nbsp;<span class="op" id="3525145">:=</span>&nbsp;<span class="keyword" id="3525148">range</span>&nbsp;<span class="ident" id="3525154">re</span><span class="op" id="3525156">.</span><span class="ident" id="3525157">Rune</span>&nbsp;<span class="op" id="3525162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525167">escape</span><span class="op" id="3525173">(</span><span class="ident" id="3525174">b</span><span class="op" id="3525175">,</span>&nbsp;<span class="ident" id="3525177">r</span><span class="op" id="3525178">,</span>&nbsp;<span class="builtintype" id="3525180">false</span><span class="op" id="3525185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525189">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525193">if</span>&nbsp;<span class="ident" id="3525196">re</span><span class="op" id="3525198">.</span><span class="ident" id="3525199">Flags</span><span class="op" id="3525204">&amp;</span><span class="ident" id="3525205">FoldCase</span>&nbsp;<span class="op" id="3525214">!=</span>&nbsp;<span class="num" id="3525217">0</span>&nbsp;<span class="op" id="3525219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525224">b</span><span class="op" id="3525225">.</span><span class="ident" id="3525226">WriteString</span><span class="op" id="3525237">(</span><span class="string" id="3525238">`)`</span><span class="op" id="3525241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525248">case</span>&nbsp;<span class="ident" id="3525253">OpCharClass</span><span class="op" id="3525264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525268">if</span>&nbsp;<span class="builtinfunc" id="3525271">len</span><span class="op" id="3525274">(</span><span class="ident" id="3525275">re</span><span class="op" id="3525277">.</span><span class="ident" id="3525278">Rune</span><span class="op" id="3525282">)</span><span class="op" id="3525283">%</span><span class="num" id="3525284">2</span>&nbsp;<span class="op" id="3525286">!=</span>&nbsp;<span class="num" id="3525289">0</span>&nbsp;<span class="op" id="3525291">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525296">b</span><span class="op" id="3525297">.</span><span class="ident" id="3525298">WriteString</span><span class="op" id="3525309">(</span><span class="string" id="3525310">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="3525332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525337">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525349">b</span><span class="op" id="3525350">.</span><span class="ident" id="3525351">WriteRune</span><span class="op" id="3525360">(</span><span class="string" id="3525361">&#39;[&#39;</span><span class="op" id="3525364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525368">if</span>&nbsp;<span class="builtinfunc" id="3525371">len</span><span class="op" id="3525374">(</span><span class="ident" id="3525375">re</span><span class="op" id="3525377">.</span><span class="ident" id="3525378">Rune</span><span class="op" id="3525382">)</span>&nbsp;<span class="op" id="3525384">==</span>&nbsp;<span class="num" id="3525387">0</span>&nbsp;<span class="op" id="3525389">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525394">b</span><span class="op" id="3525395">.</span><span class="ident" id="3525396">WriteString</span><span class="op" id="3525407">(</span><span class="string" id="3525408">`^\x00-\x{10FFFF}`</span><span class="op" id="3525426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525430">}</span>&nbsp;<span class="keyword" id="3525432">else</span>&nbsp;<span class="keyword" id="3525437">if</span>&nbsp;<span class="ident" id="3525440">re</span><span class="op" id="3525442">.</span><span class="ident" id="3525443">Rune</span><span class="op" id="3525447">[</span><span class="num" id="3525448">0</span><span class="op" id="3525449">]</span>&nbsp;<span class="op" id="3525451">==</span>&nbsp;<span class="num" id="3525454">0</span>&nbsp;<span class="op" id="3525456">&amp;&amp;</span>&nbsp;<span class="ident" id="3525459">re</span><span class="op" id="3525461">.</span><span class="ident" id="3525462">Rune</span><span class="op" id="3525466">[</span><span class="builtinfunc" id="3525467">len</span><span class="op" id="3525470">(</span><span class="ident" id="3525471">re</span><span class="op" id="3525473">.</span><span class="ident" id="3525474">Rune</span><span class="op" id="3525478">)</span><span class="op" id="3525479">-</span><span class="num" id="3525480">1</span><span class="op" id="3525481">]</span>&nbsp;<span class="op" id="3525483">==</span>&nbsp;<span class="ident" id="3525486">unicode</span><span class="op" id="3525493">.</span><span class="ident" id="3525494">MaxRune</span>&nbsp;<span class="op" id="3525502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525507">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525564">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525586">b</span><span class="op" id="3525587">.</span><span class="ident" id="3525588">WriteRune</span><span class="op" id="3525597">(</span><span class="string" id="3525598">&#39;^&#39;</span><span class="op" id="3525601">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525606">for</span>&nbsp;<span class="ident" id="3525610">i</span>&nbsp;<span class="op" id="3525612">:=</span>&nbsp;<span class="num" id="3525615">1</span><span class="op" id="3525616">;</span>&nbsp;<span class="ident" id="3525618">i</span>&nbsp;<span class="op" id="3525620">&lt;</span>&nbsp;<span class="builtinfunc" id="3525622">len</span><span class="op" id="3525625">(</span><span class="ident" id="3525626">re</span><span class="op" id="3525628">.</span><span class="ident" id="3525629">Rune</span><span class="op" id="3525633">)</span><span class="op" id="3525634">-</span><span class="num" id="3525635">1</span><span class="op" id="3525636">;</span>&nbsp;<span class="ident" id="3525638">i</span>&nbsp;<span class="op" id="3525640">+=</span>&nbsp;<span class="num" id="3525643">2</span>&nbsp;<span class="op" id="3525645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525651">lo</span><span class="op" id="3525653">,</span>&nbsp;<span class="ident" id="3525655">hi</span>&nbsp;<span class="op" id="3525658">:=</span>&nbsp;<span class="ident" id="3525661">re</span><span class="op" id="3525663">.</span><span class="ident" id="3525664">Rune</span><span class="op" id="3525668">[</span><span class="ident" id="3525669">i</span><span class="op" id="3525670">]</span><span class="op" id="3525671">+</span><span class="num" id="3525672">1</span><span class="op" id="3525673">,</span>&nbsp;<span class="ident" id="3525675">re</span><span class="op" id="3525677">.</span><span class="ident" id="3525678">Rune</span><span class="op" id="3525682">[</span><span class="ident" id="3525683">i</span><span class="op" id="3525684">+</span><span class="num" id="3525685">1</span><span class="op" id="3525686">]</span><span class="op" id="3525687">-</span><span class="num" id="3525688">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525694">escape</span><span class="op" id="3525700">(</span><span class="ident" id="3525701">b</span><span class="op" id="3525702">,</span>&nbsp;<span class="ident" id="3525704">lo</span><span class="op" id="3525706">,</span>&nbsp;<span class="ident" id="3525708">lo</span>&nbsp;<span class="op" id="3525711">==</span>&nbsp;<span class="string" id="3525714">&#39;-&#39;</span><span class="op" id="3525717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525723">if</span>&nbsp;<span class="ident" id="3525726">lo</span>&nbsp;<span class="op" id="3525729">!=</span>&nbsp;<span class="ident" id="3525732">hi</span>&nbsp;<span class="op" id="3525735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525742">b</span><span class="op" id="3525743">.</span><span class="ident" id="3525744">WriteRune</span><span class="op" id="3525753">(</span><span class="string" id="3525754">&#39;-&#39;</span><span class="op" id="3525757">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525764">escape</span><span class="op" id="3525770">(</span><span class="ident" id="3525771">b</span><span class="op" id="3525772">,</span>&nbsp;<span class="ident" id="3525774">hi</span><span class="op" id="3525776">,</span>&nbsp;<span class="ident" id="3525778">hi</span>&nbsp;<span class="op" id="3525781">==</span>&nbsp;<span class="string" id="3525784">&#39;-&#39;</span><span class="op" id="3525787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525802">}</span>&nbsp;<span class="keyword" id="3525804">else</span>&nbsp;<span class="op" id="3525809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525814">for</span>&nbsp;<span class="ident" id="3525818">i</span>&nbsp;<span class="op" id="3525820">:=</span>&nbsp;<span class="num" id="3525823">0</span><span class="op" id="3525824">;</span>&nbsp;<span class="ident" id="3525826">i</span>&nbsp;<span class="op" id="3525828">&lt;</span>&nbsp;<span class="builtinfunc" id="3525830">len</span><span class="op" id="3525833">(</span><span class="ident" id="3525834">re</span><span class="op" id="3525836">.</span><span class="ident" id="3525837">Rune</span><span class="op" id="3525841">)</span><span class="op" id="3525842">;</span>&nbsp;<span class="ident" id="3525844">i</span>&nbsp;<span class="op" id="3525846">+=</span>&nbsp;<span class="num" id="3525849">2</span>&nbsp;<span class="op" id="3525851">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525857">lo</span><span class="op" id="3525859">,</span>&nbsp;<span class="ident" id="3525861">hi</span>&nbsp;<span class="op" id="3525864">:=</span>&nbsp;<span class="ident" id="3525867">re</span><span class="op" id="3525869">.</span><span class="ident" id="3525870">Rune</span><span class="op" id="3525874">[</span><span class="ident" id="3525875">i</span><span class="op" id="3525876">]</span><span class="op" id="3525877">,</span>&nbsp;<span class="ident" id="3525879">re</span><span class="op" id="3525881">.</span><span class="ident" id="3525882">Rune</span><span class="op" id="3525886">[</span><span class="ident" id="3525887">i</span><span class="op" id="3525888">+</span><span class="num" id="3525889">1</span><span class="op" id="3525890">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525896">escape</span><span class="op" id="3525902">(</span><span class="ident" id="3525903">b</span><span class="op" id="3525904">,</span>&nbsp;<span class="ident" id="3525906">lo</span><span class="op" id="3525908">,</span>&nbsp;<span class="ident" id="3525910">lo</span>&nbsp;<span class="op" id="3525913">==</span>&nbsp;<span class="string" id="3525916">&#39;-&#39;</span><span class="op" id="3525919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525925">if</span>&nbsp;<span class="ident" id="3525928">lo</span>&nbsp;<span class="op" id="3525931">!=</span>&nbsp;<span class="ident" id="3525934">hi</span>&nbsp;<span class="op" id="3525937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525944">b</span><span class="op" id="3525945">.</span><span class="ident" id="3525946">WriteRune</span><span class="op" id="3525955">(</span><span class="string" id="3525956">&#39;-&#39;</span><span class="op" id="3525959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525966">escape</span><span class="op" id="3525972">(</span><span class="ident" id="3525973">b</span><span class="op" id="3525974">,</span>&nbsp;<span class="ident" id="3525976">hi</span><span class="op" id="3525978">,</span>&nbsp;<span class="ident" id="3525980">hi</span>&nbsp;<span class="op" id="3525983">==</span>&nbsp;<span class="string" id="3525986">&#39;-&#39;</span><span class="op" id="3525989">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526008">b</span><span class="op" id="3526009">.</span><span class="ident" id="3526010">WriteRune</span><span class="op" id="3526019">(</span><span class="string" id="3526020">&#39;]&#39;</span><span class="op" id="3526023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526026">case</span>&nbsp;<span class="ident" id="3526031">OpAnyCharNotNL</span><span class="op" id="3526045">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526049">b</span><span class="op" id="3526050">.</span><span class="ident" id="3526051">WriteString</span><span class="op" id="3526062">(</span><span class="string" id="3526063">`(?-s:.)`</span><span class="op" id="3526072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526075">case</span>&nbsp;<span class="ident" id="3526080">OpAnyChar</span><span class="op" id="3526089">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526093">b</span><span class="op" id="3526094">.</span><span class="ident" id="3526095">WriteString</span><span class="op" id="3526106">(</span><span class="string" id="3526107">`(?s:.)`</span><span class="op" id="3526115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526118">case</span>&nbsp;<span class="ident" id="3526123">OpBeginLine</span><span class="op" id="3526134">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526138">b</span><span class="op" id="3526139">.</span><span class="ident" id="3526140">WriteRune</span><span class="op" id="3526149">(</span><span class="string" id="3526150">&#39;^&#39;</span><span class="op" id="3526153">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526156">case</span>&nbsp;<span class="ident" id="3526161">OpEndLine</span><span class="op" id="3526170">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526174">b</span><span class="op" id="3526175">.</span><span class="ident" id="3526176">WriteRune</span><span class="op" id="3526185">(</span><span class="string" id="3526186">&#39;$&#39;</span><span class="op" id="3526189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526192">case</span>&nbsp;<span class="ident" id="3526197">OpBeginText</span><span class="op" id="3526208">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526212">b</span><span class="op" id="3526213">.</span><span class="ident" id="3526214">WriteString</span><span class="op" id="3526225">(</span><span class="string" id="3526226">`\A`</span><span class="op" id="3526230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526233">case</span>&nbsp;<span class="ident" id="3526238">OpEndText</span><span class="op" id="3526247">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526251">if</span>&nbsp;<span class="ident" id="3526254">re</span><span class="op" id="3526256">.</span><span class="ident" id="3526257">Flags</span><span class="op" id="3526262">&amp;</span><span class="ident" id="3526263">WasDollar</span>&nbsp;<span class="op" id="3526273">!=</span>&nbsp;<span class="num" id="3526276">0</span>&nbsp;<span class="op" id="3526278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526283">b</span><span class="op" id="3526284">.</span><span class="ident" id="3526285">WriteString</span><span class="op" id="3526296">(</span><span class="string" id="3526297">`(?-m:$)`</span><span class="op" id="3526306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526310">}</span>&nbsp;<span class="keyword" id="3526312">else</span>&nbsp;<span class="op" id="3526317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526322">b</span><span class="op" id="3526323">.</span><span class="ident" id="3526324">WriteString</span><span class="op" id="3526335">(</span><span class="string" id="3526336">`\z`</span><span class="op" id="3526340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526344">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526347">case</span>&nbsp;<span class="ident" id="3526352">OpWordBoundary</span><span class="op" id="3526366">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526370">b</span><span class="op" id="3526371">.</span><span class="ident" id="3526372">WriteString</span><span class="op" id="3526383">(</span><span class="string" id="3526384">`\b`</span><span class="op" id="3526388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526391">case</span>&nbsp;<span class="ident" id="3526396">OpNoWordBoundary</span><span class="op" id="3526412">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526416">b</span><span class="op" id="3526417">.</span><span class="ident" id="3526418">WriteString</span><span class="op" id="3526429">(</span><span class="string" id="3526430">`\B`</span><span class="op" id="3526434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526437">case</span>&nbsp;<span class="ident" id="3526442">OpCapture</span><span class="op" id="3526451">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526455">if</span>&nbsp;<span class="ident" id="3526458">re</span><span class="op" id="3526460">.</span><span class="ident" id="3526461">Name</span>&nbsp;<span class="op" id="3526466">!=</span>&nbsp;<span class="string" id="3526469">&#34;&#34;</span>&nbsp;<span class="op" id="3526472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526477">b</span><span class="op" id="3526478">.</span><span class="ident" id="3526479">WriteString</span><span class="op" id="3526490">(</span><span class="string" id="3526491">`(?P&lt;`</span><span class="op" id="3526497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526502">b</span><span class="op" id="3526503">.</span><span class="ident" id="3526504">WriteString</span><span class="op" id="3526515">(</span><span class="ident" id="3526516">re</span><span class="op" id="3526518">.</span><span class="ident" id="3526519">Name</span><span class="op" id="3526523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526528">b</span><span class="op" id="3526529">.</span><span class="ident" id="3526530">WriteRune</span><span class="op" id="3526539">(</span><span class="string" id="3526540">&#39;&gt;&#39;</span><span class="op" id="3526543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526547">}</span>&nbsp;<span class="keyword" id="3526549">else</span>&nbsp;<span class="op" id="3526554">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526559">b</span><span class="op" id="3526560">.</span><span class="ident" id="3526561">WriteRune</span><span class="op" id="3526570">(</span><span class="string" id="3526571">&#39;(&#39;</span><span class="op" id="3526574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526582">if</span>&nbsp;<span class="ident" id="3526585">re</span><span class="op" id="3526587">.</span><span class="ident" id="3526588">Sub</span><span class="op" id="3526591">[</span><span class="num" id="3526592">0</span><span class="op" id="3526593">]</span><span class="op" id="3526594">.</span><span class="ident" id="3526595">Op</span>&nbsp;<span class="op" id="3526598">!=</span>&nbsp;<span class="ident" id="3526601">OpEmptyMatch</span>&nbsp;<span class="op" id="3526614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526619">writeRegexp</span><span class="op" id="3526630">(</span><span class="ident" id="3526631">b</span><span class="op" id="3526632">,</span>&nbsp;<span class="ident" id="3526634">re</span><span class="op" id="3526636">.</span><span class="ident" id="3526637">Sub</span><span class="op" id="3526640">[</span><span class="num" id="3526641">0</span><span class="op" id="3526642">]</span><span class="op" id="3526643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526647">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526651">b</span><span class="op" id="3526652">.</span><span class="ident" id="3526653">WriteRune</span><span class="op" id="3526662">(</span><span class="string" id="3526663">&#39;)&#39;</span><span class="op" id="3526666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526669">case</span>&nbsp;<span class="ident" id="3526674">OpStar</span><span class="op" id="3526680">,</span>&nbsp;<span class="ident" id="3526682">OpPlus</span><span class="op" id="3526688">,</span>&nbsp;<span class="ident" id="3526690">OpQuest</span><span class="op" id="3526697">,</span>&nbsp;<span class="ident" id="3526699">OpRepeat</span><span class="op" id="3526707">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526711">if</span>&nbsp;<span class="ident" id="3526714">sub</span>&nbsp;<span class="op" id="3526718">:=</span>&nbsp;<span class="ident" id="3526721">re</span><span class="op" id="3526723">.</span><span class="ident" id="3526724">Sub</span><span class="op" id="3526727">[</span><span class="num" id="3526728">0</span><span class="op" id="3526729">]</span><span class="op" id="3526730">;</span>&nbsp;<span class="ident" id="3526732">sub</span><span class="op" id="3526735">.</span><span class="ident" id="3526736">Op</span>&nbsp;<span class="op" id="3526739">&gt;</span>&nbsp;<span class="ident" id="3526741">OpCapture</span>&nbsp;<span class="op" id="3526751">||</span>&nbsp;<span class="ident" id="3526754">sub</span><span class="op" id="3526757">.</span><span class="ident" id="3526758">Op</span>&nbsp;<span class="op" id="3526761">==</span>&nbsp;<span class="ident" id="3526764">OpLiteral</span>&nbsp;<span class="op" id="3526774">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3526777">len</span><span class="op" id="3526780">(</span><span class="ident" id="3526781">sub</span><span class="op" id="3526784">.</span><span class="ident" id="3526785">Rune</span><span class="op" id="3526789">)</span>&nbsp;<span class="op" id="3526791">&gt;</span>&nbsp;<span class="num" id="3526793">1</span>&nbsp;<span class="op" id="3526795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526800">b</span><span class="op" id="3526801">.</span><span class="ident" id="3526802">WriteString</span><span class="op" id="3526813">(</span><span class="string" id="3526814">`(?:`</span><span class="op" id="3526819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526824">writeRegexp</span><span class="op" id="3526835">(</span><span class="ident" id="3526836">b</span><span class="op" id="3526837">,</span>&nbsp;<span class="ident" id="3526839">sub</span><span class="op" id="3526842">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526847">b</span><span class="op" id="3526848">.</span><span class="ident" id="3526849">WriteString</span><span class="op" id="3526860">(</span><span class="string" id="3526861">`)`</span><span class="op" id="3526864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526868">}</span>&nbsp;<span class="keyword" id="3526870">else</span>&nbsp;<span class="op" id="3526875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526880">writeRegexp</span><span class="op" id="3526891">(</span><span class="ident" id="3526892">b</span><span class="op" id="3526893">,</span>&nbsp;<span class="ident" id="3526895">sub</span><span class="op" id="3526898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526906">switch</span>&nbsp;<span class="ident" id="3526913">re</span><span class="op" id="3526915">.</span><span class="ident" id="3526916">Op</span>&nbsp;<span class="op" id="3526919">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526923">case</span>&nbsp;<span class="ident" id="3526928">OpStar</span><span class="op" id="3526934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526939">b</span><span class="op" id="3526940">.</span><span class="ident" id="3526941">WriteRune</span><span class="op" id="3526950">(</span><span class="string" id="3526951">&#39;*&#39;</span><span class="op" id="3526954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526958">case</span>&nbsp;<span class="ident" id="3526963">OpPlus</span><span class="op" id="3526969">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526974">b</span><span class="op" id="3526975">.</span><span class="ident" id="3526976">WriteRune</span><span class="op" id="3526985">(</span><span class="string" id="3526986">&#39;+&#39;</span><span class="op" id="3526989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526993">case</span>&nbsp;<span class="ident" id="3526998">OpQuest</span><span class="op" id="3527005">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527010">b</span><span class="op" id="3527011">.</span><span class="ident" id="3527012">WriteRune</span><span class="op" id="3527021">(</span><span class="string" id="3527022">&#39;?&#39;</span><span class="op" id="3527025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527029">case</span>&nbsp;<span class="ident" id="3527034">OpRepeat</span><span class="op" id="3527042">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527047">b</span><span class="op" id="3527048">.</span><span class="ident" id="3527049">WriteRune</span><span class="op" id="3527058">(</span><span class="string" id="3527059">&#39;{&#39;</span><span class="op" id="3527062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527067">b</span><span class="op" id="3527068">.</span><span class="ident" id="3527069">WriteString</span><span class="op" id="3527080">(</span><span class="ident" id="3527081">strconv</span><span class="op" id="3527088">.</span><span class="ident" id="3527089">Itoa</span><span class="op" id="3527093">(</span><span class="ident" id="3527094">re</span><span class="op" id="3527096">.</span><span class="ident" id="3527097">Min</span><span class="op" id="3527100">)</span><span class="op" id="3527101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527106">if</span>&nbsp;<span class="ident" id="3527109">re</span><span class="op" id="3527111">.</span><span class="ident" id="3527112">Max</span>&nbsp;<span class="op" id="3527116">!=</span>&nbsp;<span class="ident" id="3527119">re</span><span class="op" id="3527121">.</span><span class="ident" id="3527122">Min</span>&nbsp;<span class="op" id="3527126">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527132">b</span><span class="op" id="3527133">.</span><span class="ident" id="3527134">WriteRune</span><span class="op" id="3527143">(</span><span class="string" id="3527144">&#39;,&#39;</span><span class="op" id="3527147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527153">if</span>&nbsp;<span class="ident" id="3527156">re</span><span class="op" id="3527158">.</span><span class="ident" id="3527159">Max</span>&nbsp;<span class="op" id="3527163">&gt;=</span>&nbsp;<span class="num" id="3527166">0</span>&nbsp;<span class="op" id="3527168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527175">b</span><span class="op" id="3527176">.</span><span class="ident" id="3527177">WriteString</span><span class="op" id="3527188">(</span><span class="ident" id="3527189">strconv</span><span class="op" id="3527196">.</span><span class="ident" id="3527197">Itoa</span><span class="op" id="3527201">(</span><span class="ident" id="3527202">re</span><span class="op" id="3527204">.</span><span class="ident" id="3527205">Max</span><span class="op" id="3527208">)</span><span class="op" id="3527209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527220">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527225">b</span><span class="op" id="3527226">.</span><span class="ident" id="3527227">WriteRune</span><span class="op" id="3527236">(</span><span class="string" id="3527237">&#39;}&#39;</span><span class="op" id="3527240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527248">if</span>&nbsp;<span class="ident" id="3527251">re</span><span class="op" id="3527253">.</span><span class="ident" id="3527254">Flags</span><span class="op" id="3527259">&amp;</span><span class="ident" id="3527260">NonGreedy</span>&nbsp;<span class="op" id="3527270">!=</span>&nbsp;<span class="num" id="3527273">0</span>&nbsp;<span class="op" id="3527275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527280">b</span><span class="op" id="3527281">.</span><span class="ident" id="3527282">WriteRune</span><span class="op" id="3527291">(</span><span class="string" id="3527292">&#39;?&#39;</span><span class="op" id="3527295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527299">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527302">case</span>&nbsp;<span class="ident" id="3527307">OpConcat</span><span class="op" id="3527315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527319">for</span>&nbsp;<span class="ident" id="3527323">_</span><span class="op" id="3527324">,</span>&nbsp;<span class="ident" id="3527326">sub</span>&nbsp;<span class="op" id="3527330">:=</span>&nbsp;<span class="keyword" id="3527333">range</span>&nbsp;<span class="ident" id="3527339">re</span><span class="op" id="3527341">.</span><span class="ident" id="3527342">Sub</span>&nbsp;<span class="op" id="3527346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527351">if</span>&nbsp;<span class="ident" id="3527354">sub</span><span class="op" id="3527357">.</span><span class="ident" id="3527358">Op</span>&nbsp;<span class="op" id="3527361">==</span>&nbsp;<span class="ident" id="3527364">OpAlternate</span>&nbsp;<span class="op" id="3527376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527382">b</span><span class="op" id="3527383">.</span><span class="ident" id="3527384">WriteString</span><span class="op" id="3527395">(</span><span class="string" id="3527396">`(?:`</span><span class="op" id="3527401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527407">writeRegexp</span><span class="op" id="3527418">(</span><span class="ident" id="3527419">b</span><span class="op" id="3527420">,</span>&nbsp;<span class="ident" id="3527422">sub</span><span class="op" id="3527425">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527431">b</span><span class="op" id="3527432">.</span><span class="ident" id="3527433">WriteString</span><span class="op" id="3527444">(</span><span class="string" id="3527445">`)`</span><span class="op" id="3527448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527453">}</span>&nbsp;<span class="keyword" id="3527455">else</span>&nbsp;<span class="op" id="3527460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527466">writeRegexp</span><span class="op" id="3527477">(</span><span class="ident" id="3527478">b</span><span class="op" id="3527479">,</span>&nbsp;<span class="ident" id="3527481">sub</span><span class="op" id="3527484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527493">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527496">case</span>&nbsp;<span class="ident" id="3527501">OpAlternate</span><span class="op" id="3527512">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527516">for</span>&nbsp;<span class="ident" id="3527520">i</span><span class="op" id="3527521">,</span>&nbsp;<span class="ident" id="3527523">sub</span>&nbsp;<span class="op" id="3527527">:=</span>&nbsp;<span class="keyword" id="3527530">range</span>&nbsp;<span class="ident" id="3527536">re</span><span class="op" id="3527538">.</span><span class="ident" id="3527539">Sub</span>&nbsp;<span class="op" id="3527543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527548">if</span>&nbsp;<span class="ident" id="3527551">i</span>&nbsp;<span class="op" id="3527553">&gt;</span>&nbsp;<span class="num" id="3527555">0</span>&nbsp;<span class="op" id="3527557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527563">b</span><span class="op" id="3527564">.</span><span class="ident" id="3527565">WriteRune</span><span class="op" id="3527574">(</span><span class="string" id="3527575">&#39;|&#39;</span><span class="op" id="3527578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527583">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527588">writeRegexp</span><span class="op" id="3527599">(</span><span class="ident" id="3527600">b</span><span class="op" id="3527601">,</span>&nbsp;<span class="ident" id="3527603">sub</span><span class="op" id="3527606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527613">}</span><br>
<span class="lineno"></span><span class="op" id="3527615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="3527618">func</span>&nbsp;<span class="op" id="3527623">(</span><span class="ident" id="3527624">re</span>&nbsp;<span class="op" id="3527627">*</span><span class="ident" id="3527628">Regexp</span><span class="op" id="3527634">)</span>&nbsp;<span class="ident" id="3527636">String</span><span class="op" id="3527642">(</span><span class="op" id="3527643">)</span>&nbsp;<span class="builtintype" id="3527645">string</span>&nbsp;<span class="op" id="3527652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527655">var</span>&nbsp;<span class="ident" id="3527659">b</span>&nbsp;<span class="ident" id="3527661">bytes</span><span class="op" id="3527666">.</span><span class="ident" id="3527667">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527675">writeRegexp</span><span class="op" id="3527686">(</span><span class="op" id="3527687">&amp;</span><span class="ident" id="3527688">b</span><span class="op" id="3527689">,</span>&nbsp;<span class="ident" id="3527691">re</span><span class="op" id="3527693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527696">return</span>&nbsp;<span class="ident" id="3527703">b</span><span class="op" id="3527704">.</span><span class="ident" id="3527705">String</span><span class="op" id="3527711">(</span><span class="op" id="3527712">)</span><br>
<span class="lineno"></span><span class="op" id="3527714">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="3527717">const</span>&nbsp;<span class="ident" id="3527723">meta</span>&nbsp;<span class="op" id="3527728">=</span>&nbsp;<span class="string" id="3527730">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3527748">func</span>&nbsp;<span class="ident" id="3527753">escape</span><span class="op" id="3527759">(</span><span class="ident" id="3527760">b</span>&nbsp;<span class="op" id="3527762">*</span><span class="ident" id="3527763">bytes</span><span class="op" id="3527768">.</span><span class="ident" id="3527769">Buffer</span><span class="op" id="3527775">,</span>&nbsp;<span class="ident" id="3527777">r</span>&nbsp;<span class="builtintype" id="3527779">rune</span><span class="op" id="3527783">,</span>&nbsp;<span class="ident" id="3527785">force</span>&nbsp;<span class="builtintype" id="3527791">bool</span><span class="op" id="3527795">)</span>&nbsp;<span class="op" id="3527797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527800">if</span>&nbsp;<span class="ident" id="3527803">unicode</span><span class="op" id="3527810">.</span><span class="ident" id="3527811">IsPrint</span><span class="op" id="3527818">(</span><span class="ident" id="3527819">r</span><span class="op" id="3527820">)</span>&nbsp;<span class="op" id="3527822">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527826">if</span>&nbsp;<span class="ident" id="3527829">strings</span><span class="op" id="3527836">.</span><span class="ident" id="3527837">IndexRune</span><span class="op" id="3527846">(</span><span class="ident" id="3527847">meta</span><span class="op" id="3527851">,</span>&nbsp;<span class="ident" id="3527853">r</span><span class="op" id="3527854">)</span>&nbsp;<span class="op" id="3527856">&gt;=</span>&nbsp;<span class="num" id="3527859">0</span>&nbsp;<span class="op" id="3527861">||</span>&nbsp;<span class="ident" id="3527864">force</span>&nbsp;<span class="op" id="3527870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527875">b</span><span class="op" id="3527876">.</span><span class="ident" id="3527877">WriteRune</span><span class="op" id="3527886">(</span><span class="string" id="3527887">&#39;\\&#39;</span><span class="op" id="3527891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527899">b</span><span class="op" id="3527900">.</span><span class="ident" id="3527901">WriteRune</span><span class="op" id="3527910">(</span><span class="ident" id="3527911">r</span><span class="op" id="3527912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527916">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527928">switch</span>&nbsp;<span class="ident" id="3527935">r</span>&nbsp;<span class="op" id="3527937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527940">case</span>&nbsp;<span class="string" id="3527945">&#39;\a&#39;</span><span class="op" id="3527949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527953">b</span><span class="op" id="3527954">.</span><span class="ident" id="3527955">WriteString</span><span class="op" id="3527966">(</span><span class="string" id="3527967">`\a`</span><span class="op" id="3527971">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527974">case</span>&nbsp;<span class="string" id="3527979">&#39;\f&#39;</span><span class="op" id="3527983">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527987">b</span><span class="op" id="3527988">.</span><span class="ident" id="3527989">WriteString</span><span class="op" id="3528000">(</span><span class="string" id="3528001">`\f`</span><span class="op" id="3528005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528008">case</span>&nbsp;<span class="string" id="3528013">&#39;\n&#39;</span><span class="op" id="3528017">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528021">b</span><span class="op" id="3528022">.</span><span class="ident" id="3528023">WriteString</span><span class="op" id="3528034">(</span><span class="string" id="3528035">`\n`</span><span class="op" id="3528039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528042">case</span>&nbsp;<span class="string" id="3528047">&#39;\r&#39;</span><span class="op" id="3528051">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528055">b</span><span class="op" id="3528056">.</span><span class="ident" id="3528057">WriteString</span><span class="op" id="3528068">(</span><span class="string" id="3528069">`\r`</span><span class="op" id="3528073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528076">case</span>&nbsp;<span class="string" id="3528081">&#39;\t&#39;</span><span class="op" id="3528085">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528089">b</span><span class="op" id="3528090">.</span><span class="ident" id="3528091">WriteString</span><span class="op" id="3528102">(</span><span class="string" id="3528103">`\t`</span><span class="op" id="3528107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528110">case</span>&nbsp;<span class="string" id="3528115">&#39;\v&#39;</span><span class="op" id="3528119">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528123">b</span><span class="op" id="3528124">.</span><span class="ident" id="3528125">WriteString</span><span class="op" id="3528136">(</span><span class="string" id="3528137">`\v`</span><span class="op" id="3528141">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528144">default</span><span class="op" id="3528151">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528155">if</span>&nbsp;<span class="ident" id="3528158">r</span>&nbsp;<span class="op" id="3528160">&lt;</span>&nbsp;<span class="num" id="3528162">0x100</span>&nbsp;<span class="op" id="3528168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528173">b</span><span class="op" id="3528174">.</span><span class="ident" id="3528175">WriteString</span><span class="op" id="3528186">(</span><span class="string" id="3528187">`\x`</span><span class="op" id="3528191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528196">s</span>&nbsp;<span class="op" id="3528198">:=</span>&nbsp;<span class="ident" id="3528201">strconv</span><span class="op" id="3528208">.</span><span class="ident" id="3528209">FormatInt</span><span class="op" id="3528218">(</span><span class="ident" id="3528219">int64</span><span class="op" id="3528224">(</span><span class="ident" id="3528225">r</span><span class="op" id="3528226">)</span><span class="op" id="3528227">,</span>&nbsp;<span class="num" id="3528229">16</span><span class="op" id="3528231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528236">if</span>&nbsp;<span class="builtinfunc" id="3528239">len</span><span class="op" id="3528242">(</span><span class="ident" id="3528243">s</span><span class="op" id="3528244">)</span>&nbsp;<span class="op" id="3528246">==</span>&nbsp;<span class="num" id="3528249">1</span>&nbsp;<span class="op" id="3528251">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528257">b</span><span class="op" id="3528258">.</span><span class="ident" id="3528259">WriteRune</span><span class="op" id="3528268">(</span><span class="string" id="3528269">&#39;0&#39;</span><span class="op" id="3528272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528282">b</span><span class="op" id="3528283">.</span><span class="ident" id="3528284">WriteString</span><span class="op" id="3528295">(</span><span class="ident" id="3528296">s</span><span class="op" id="3528297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528302">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528310">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528314">b</span><span class="op" id="3528315">.</span><span class="ident" id="3528316">WriteString</span><span class="op" id="3528327">(</span><span class="string" id="3528328">`\x{`</span><span class="op" id="3528333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528337">b</span><span class="op" id="3528338">.</span><span class="ident" id="3528339">WriteString</span><span class="op" id="3528350">(</span><span class="ident" id="3528351">strconv</span><span class="op" id="3528358">.</span><span class="ident" id="3528359">FormatInt</span><span class="op" id="3528368">(</span><span class="ident" id="3528369">int64</span><span class="op" id="3528374">(</span><span class="ident" id="3528375">r</span><span class="op" id="3528376">)</span><span class="op" id="3528377">,</span>&nbsp;<span class="num" id="3528379">16</span><span class="op" id="3528381">)</span><span class="op" id="3528382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528386">b</span><span class="op" id="3528387">.</span><span class="ident" id="3528388">WriteString</span><span class="op" id="3528399">(</span><span class="string" id="3528400">`}`</span><span class="op" id="3528403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528406">}</span><br>
<span class="lineno"></span><span class="op" id="3528408">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="3528411">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="3528473">func</span>&nbsp;<span class="op" id="3528478">(</span><span class="ident" id="3528479">re</span>&nbsp;<span class="op" id="3528482">*</span><span class="ident" id="3528483">Regexp</span><span class="op" id="3528489">)</span>&nbsp;<span class="ident" id="3528491">MaxCap</span><span class="op" id="3528497">(</span><span class="op" id="3528498">)</span>&nbsp;<span class="builtintype" id="3528500">int</span>&nbsp;<span class="op" id="3528504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528507">m</span>&nbsp;<span class="op" id="3528509">:=</span>&nbsp;<span class="num" id="3528512">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528515">if</span>&nbsp;<span class="ident" id="3528518">re</span><span class="op" id="3528520">.</span><span class="ident" id="3528521">Op</span>&nbsp;<span class="op" id="3528524">==</span>&nbsp;<span class="ident" id="3528527">OpCapture</span>&nbsp;<span class="op" id="3528537">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528541">m</span>&nbsp;<span class="op" id="3528543">=</span>&nbsp;<span class="ident" id="3528545">re</span><span class="op" id="3528547">.</span><span class="ident" id="3528548">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528556">for</span>&nbsp;<span class="ident" id="3528560">_</span><span class="op" id="3528561">,</span>&nbsp;<span class="ident" id="3528563">sub</span>&nbsp;<span class="op" id="3528567">:=</span>&nbsp;<span class="keyword" id="3528570">range</span>&nbsp;<span class="ident" id="3528576">re</span><span class="op" id="3528578">.</span><span class="ident" id="3528579">Sub</span>&nbsp;<span class="op" id="3528583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528587">if</span>&nbsp;<span class="ident" id="3528590">n</span>&nbsp;<span class="op" id="3528592">:=</span>&nbsp;<span class="ident" id="3528595">sub</span><span class="op" id="3528598">.</span><span class="ident" id="3528599">MaxCap</span><span class="op" id="3528605">(</span><span class="op" id="3528606">)</span><span class="op" id="3528607">;</span>&nbsp;<span class="ident" id="3528609">m</span>&nbsp;<span class="op" id="3528611">&lt;</span>&nbsp;<span class="ident" id="3528613">n</span>&nbsp;<span class="op" id="3528615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528620">m</span>&nbsp;<span class="op" id="3528622">=</span>&nbsp;<span class="ident" id="3528624">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528634">return</span>&nbsp;<span class="ident" id="3528641">m</span><br>
<span class="lineno"></span><span class="op" id="3528643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="3528646">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="3528714">func</span>&nbsp;<span class="op" id="3528719">(</span><span class="ident" id="3528720">re</span>&nbsp;<span class="op" id="3528723">*</span><span class="ident" id="3528724">Regexp</span><span class="op" id="3528730">)</span>&nbsp;<span class="ident" id="3528732">CapNames</span><span class="op" id="3528740">(</span><span class="op" id="3528741">)</span>&nbsp;<span class="op" id="3528743">[</span><span class="op" id="3528744">]</span><span class="builtintype" id="3528745">string</span>&nbsp;<span class="op" id="3528752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528755">names</span>&nbsp;<span class="op" id="3528761">:=</span>&nbsp;<span class="builtinfunc" id="3528764">make</span><span class="op" id="3528768">(</span><span class="op" id="3528769">[</span><span class="op" id="3528770">]</span><span class="builtintype" id="3528771">string</span><span class="op" id="3528777">,</span>&nbsp;<span class="ident" id="3528779">re</span><span class="op" id="3528781">.</span><span class="ident" id="3528782">MaxCap</span><span class="op" id="3528788">(</span><span class="op" id="3528789">)</span><span class="op" id="3528790">+</span><span class="num" id="3528791">1</span><span class="op" id="3528792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528795">re</span><span class="op" id="3528797">.</span><span class="ident" id="3528798">capNames</span><span class="op" id="3528806">(</span><span class="ident" id="3528807">names</span><span class="op" id="3528812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528815">return</span>&nbsp;<span class="ident" id="3528822">names</span><br>
<span class="lineno">310</span><span class="op" id="3528828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3528831">func</span>&nbsp;<span class="op" id="3528836">(</span><span class="ident" id="3528837">re</span>&nbsp;<span class="op" id="3528840">*</span><span class="ident" id="3528841">Regexp</span><span class="op" id="3528847">)</span>&nbsp;<span class="ident" id="3528849">capNames</span><span class="op" id="3528857">(</span><span class="ident" id="3528858">names</span>&nbsp;<span class="op" id="3528864">[</span><span class="op" id="3528865">]</span><span class="builtintype" id="3528866">string</span><span class="op" id="3528872">)</span>&nbsp;<span class="op" id="3528874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528877">if</span>&nbsp;<span class="ident" id="3528880">re</span><span class="op" id="3528882">.</span><span class="ident" id="3528883">Op</span>&nbsp;<span class="op" id="3528886">==</span>&nbsp;<span class="ident" id="3528889">OpCapture</span>&nbsp;<span class="op" id="3528899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528903">names</span><span class="op" id="3528908">[</span><span class="ident" id="3528909">re</span><span class="op" id="3528911">.</span><span class="ident" id="3528912">Cap</span><span class="op" id="3528915">]</span>&nbsp;<span class="op" id="3528917">=</span>&nbsp;<span class="ident" id="3528919">re</span><span class="op" id="3528921">.</span><span class="ident" id="3528922">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528931">for</span>&nbsp;<span class="ident" id="3528935">_</span><span class="op" id="3528936">,</span>&nbsp;<span class="ident" id="3528938">sub</span>&nbsp;<span class="op" id="3528942">:=</span>&nbsp;<span class="keyword" id="3528945">range</span>&nbsp;<span class="ident" id="3528951">re</span><span class="op" id="3528953">.</span><span class="ident" id="3528954">Sub</span>&nbsp;<span class="op" id="3528958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528962">sub</span><span class="op" id="3528965">.</span><span class="ident" id="3528966">capNames</span><span class="op" id="3528974">(</span><span class="ident" id="3528975">names</span><span class="op" id="3528980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528983">}</span><br>
<span class="lineno"></span><span class="op" id="3528985">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
