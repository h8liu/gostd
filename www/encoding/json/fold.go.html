<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3692038">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3692093">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3692147">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3692198">package</span>&nbsp;<span class="ident" id="3692206">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3692212">import</span>&nbsp;<span class="op" id="3692219">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3692222">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3692231">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="3692246">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3692249">const</span>&nbsp;<span class="op" id="3692255">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692258">caseMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3692271">=</span>&nbsp;<span class="op" id="3692273">^</span><span class="builtintype" id="3692274">byte</span><span class="op" id="3692278">(</span><span class="num" id="3692279">0x20</span><span class="op" id="3692283">)</span>&nbsp;<span class="comment" id="3692285">//&nbsp;Mask&nbsp;to&nbsp;ignore&nbsp;case&nbsp;in&nbsp;ASCII.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692319">kelvin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3692332">=</span>&nbsp;<span class="string" id="3692334">&#39;\u212a&#39;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3692344">smallLongEss</span>&nbsp;<span class="op" id="3692357">=</span>&nbsp;<span class="string" id="3692359">&#39;\u017f&#39;</span><br>
<span class="lineno"></span><span class="op" id="3692368">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3692371">//&nbsp;foldFunc&nbsp;returns&nbsp;one&nbsp;of&nbsp;four&nbsp;different&nbsp;case&nbsp;folding&nbsp;equivalence</span><br>
<span class="lineno"></span><span class="comment" id="3692438">//&nbsp;functions,&nbsp;from&nbsp;most&nbsp;general&nbsp;(and&nbsp;slow)&nbsp;to&nbsp;fastest:</span><br>
<span class="lineno">20</span><span class="comment" id="3692493">//</span><br>
<span class="lineno"></span><span class="comment" id="3692496">//&nbsp;1)&nbsp;bytes.EqualFold,&nbsp;if&nbsp;the&nbsp;key&nbsp;s&nbsp;contains&nbsp;any&nbsp;non-ASCII&nbsp;UTF-8</span><br>
<span class="lineno"></span><span class="comment" id="3692561">//&nbsp;2)&nbsp;equalFoldRight,&nbsp;if&nbsp;s&nbsp;contains&nbsp;special&nbsp;folding&nbsp;ASCII&nbsp;(&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;&#39;S&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="3692640">//&nbsp;3)&nbsp;asciiEqualFold,&nbsp;no&nbsp;special,&nbsp;but&nbsp;includes&nbsp;non-letters&nbsp;(including&nbsp;_)</span><br>
<span class="lineno"></span><span class="comment" id="3692713">//&nbsp;4)&nbsp;simpleLetterEqualFold,&nbsp;no&nbsp;specials,&nbsp;no&nbsp;non-letters.</span><br>
<span class="lineno">25</span><span class="comment" id="3692771">//</span><br>
<span class="lineno"></span><span class="comment" id="3692774">//&nbsp;The&nbsp;letters&nbsp;S&nbsp;and&nbsp;K&nbsp;are&nbsp;special&nbsp;because&nbsp;they&nbsp;map&nbsp;to&nbsp;3&nbsp;runes,&nbsp;not&nbsp;just&nbsp;2:</span><br>
<span class="lineno"></span><span class="comment" id="3692850">//&nbsp;&nbsp;*&nbsp;S&nbsp;maps&nbsp;to&nbsp;s&nbsp;and&nbsp;to&nbsp;U+017F&nbsp;&#39;ſ&#39;&nbsp;Latin&nbsp;small&nbsp;letter&nbsp;long&nbsp;s</span><br>
<span class="lineno"></span><span class="comment" id="3692913">//&nbsp;&nbsp;*&nbsp;k&nbsp;maps&nbsp;to&nbsp;K&nbsp;and&nbsp;to&nbsp;U+212A&nbsp;&#39;K&#39;&nbsp;Kelvin&nbsp;sign</span><br>
<span class="lineno"></span><span class="comment" id="3692963">//&nbsp;See&nbsp;http://play.golang.org/p/tTxjOc0OGo</span><br>
<span class="lineno">30</span><span class="comment" id="3693006">//</span><br>
<span class="lineno"></span><span class="comment" id="3693009">//&nbsp;The&nbsp;returned&nbsp;function&nbsp;is&nbsp;specialized&nbsp;for&nbsp;matching&nbsp;against&nbsp;s&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3693076">//&nbsp;should&nbsp;only&nbsp;be&nbsp;given&nbsp;s.&nbsp;It&#39;s&nbsp;not&nbsp;curried&nbsp;for&nbsp;performance&nbsp;reasons.</span><br>
<span class="lineno"></span><span class="keyword" id="3693145">func</span>&nbsp;<span class="ident" id="3693150">foldFunc</span><span class="op" id="3693158">(</span><span class="ident" id="3693159">s</span>&nbsp;<span class="op" id="3693161">[</span><span class="op" id="3693162">]</span><span class="builtintype" id="3693163">byte</span><span class="op" id="3693167">)</span>&nbsp;<span class="keyword" id="3693169">func</span><span class="op" id="3693173">(</span><span class="ident" id="3693174">s</span><span class="op" id="3693175">,</span>&nbsp;<span class="ident" id="3693177">t</span>&nbsp;<span class="op" id="3693179">[</span><span class="op" id="3693180">]</span><span class="builtintype" id="3693181">byte</span><span class="op" id="3693185">)</span>&nbsp;<span class="builtintype" id="3693187">bool</span>&nbsp;<span class="op" id="3693192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693195">nonLetter</span>&nbsp;<span class="op" id="3693205">:=</span>&nbsp;<span class="ident" id="3693208">false</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693215">special</span>&nbsp;<span class="op" id="3693223">:=</span>&nbsp;<span class="ident" id="3693226">false</span>&nbsp;<span class="comment" id="3693232">//&nbsp;special&nbsp;letter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693251">for</span>&nbsp;<span class="ident" id="3693255">_</span><span class="op" id="3693256">,</span>&nbsp;<span class="ident" id="3693258">b</span>&nbsp;<span class="op" id="3693260">:=</span>&nbsp;<span class="keyword" id="3693263">range</span>&nbsp;<span class="ident" id="3693269"><a href="/encoding/json/fold.go.html#3693159">s</a></span>&nbsp;<span class="op" id="3693271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693275">if</span>&nbsp;<span class="ident" id="3693278"><a href="/encoding/json/fold.go.html#3693258">b</a></span>&nbsp;<span class="op" id="3693280">&gt;=</span>&nbsp;<span class="ident" id="3693283"><a href="/encoding/json/fold.go.html#3692231">utf8</a></span><span class="op" id="3693287">.</span><span class="ident" id="3693288">RuneSelf</span>&nbsp;<span class="op" id="3693297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693302">return</span>&nbsp;<span class="ident" id="3693309"><a href="/encoding/json/fold.go.html#3692222">bytes</a></span><span class="op" id="3693314">.</span><span class="ident" id="3693315">EqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693327">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693331">upper</span>&nbsp;<span class="op" id="3693337">:=</span>&nbsp;<span class="ident" id="3693340"><a href="/encoding/json/fold.go.html#3693258">b</a></span>&nbsp;<span class="op" id="3693342">&amp;</span>&nbsp;<span class="ident" id="3693344"><a href="/encoding/json/fold.go.html#3692258">caseMask</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693355">if</span>&nbsp;<span class="ident" id="3693358"><a href="/encoding/json/fold.go.html#3693331">upper</a></span>&nbsp;<span class="op" id="3693364">&lt;</span>&nbsp;<span class="string" id="3693366">&#39;A&#39;</span>&nbsp;<span class="op" id="3693370">||</span>&nbsp;<span class="ident" id="3693373"><a href="/encoding/json/fold.go.html#3693331">upper</a></span>&nbsp;<span class="op" id="3693379">&gt;</span>&nbsp;<span class="string" id="3693381">&#39;Z&#39;</span>&nbsp;<span class="op" id="3693385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693390"><a href="/encoding/json/fold.go.html#3693195">nonLetter</a></span>&nbsp;<span class="op" id="3693400">=</span>&nbsp;<span class="ident" id="3693402">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693409">}</span>&nbsp;<span class="keyword" id="3693411">else</span>&nbsp;<span class="keyword" id="3693416">if</span>&nbsp;<span class="ident" id="3693419"><a href="/encoding/json/fold.go.html#3693331">upper</a></span>&nbsp;<span class="op" id="3693425">==</span>&nbsp;<span class="string" id="3693428">&#39;K&#39;</span>&nbsp;<span class="op" id="3693432">||</span>&nbsp;<span class="ident" id="3693435"><a href="/encoding/json/fold.go.html#3693331">upper</a></span>&nbsp;<span class="op" id="3693441">==</span>&nbsp;<span class="string" id="3693444">&#39;S&#39;</span>&nbsp;<span class="op" id="3693448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3693453">//&nbsp;See&nbsp;above&nbsp;for&nbsp;why&nbsp;these&nbsp;letters&nbsp;are&nbsp;special.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693504"><a href="/encoding/json/fold.go.html#3693215">special</a></span>&nbsp;<span class="op" id="3693512">=</span>&nbsp;<span class="ident" id="3693514">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693527">if</span>&nbsp;<span class="ident" id="3693530"><a href="/encoding/json/fold.go.html#3693215">special</a></span>&nbsp;<span class="op" id="3693538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693542">return</span>&nbsp;<span class="ident" id="3693549"><a href="/encoding/json/fold.go.html#3693880">equalFoldRight</a></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693568">if</span>&nbsp;<span class="ident" id="3693571"><a href="/encoding/json/fold.go.html#3693195">nonLetter</a></span>&nbsp;<span class="op" id="3693581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693585">return</span>&nbsp;<span class="ident" id="3693592"><a href="/encoding/json/fold.go.html#3694807">asciiEqualFold</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693611">return</span>&nbsp;<span class="ident" id="3693618"><a href="/encoding/json/fold.go.html#3695329">simpleLetterEqualFold</a></span><br>
<span class="lineno">55</span><span class="op" id="3693640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3693643">//&nbsp;equalFoldRight&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;when&nbsp;s&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3693710">//&nbsp;known&nbsp;to&nbsp;be&nbsp;all&nbsp;ASCII&nbsp;(including&nbsp;punctuation),&nbsp;but&nbsp;contains&nbsp;an&nbsp;&#39;s&#39;,</span><br>
<span class="lineno"></span><span class="comment" id="3693781">//&nbsp;&#39;S&#39;,&nbsp;&#39;k&#39;,&nbsp;or&nbsp;&#39;K&#39;,&nbsp;requiring&nbsp;a&nbsp;Unicode&nbsp;fold&nbsp;on&nbsp;the&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno">60</span><span class="comment" id="3693846">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="3693875">func</span>&nbsp;<span class="ident" id="3693880">equalFoldRight</span><span class="op" id="3693894">(</span><span class="ident" id="3693895">s</span><span class="op" id="3693896">,</span>&nbsp;<span class="ident" id="3693898">t</span>&nbsp;<span class="op" id="3693900">[</span><span class="op" id="3693901">]</span><span class="builtintype" id="3693902">byte</span><span class="op" id="3693906">)</span>&nbsp;<span class="builtintype" id="3693908">bool</span>&nbsp;<span class="op" id="3693913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693916">for</span>&nbsp;<span class="ident" id="3693920">_</span><span class="op" id="3693921">,</span>&nbsp;<span class="ident" id="3693923">sb</span>&nbsp;<span class="op" id="3693926">:=</span>&nbsp;<span class="keyword" id="3693929">range</span>&nbsp;<span class="ident" id="3693935"><a href="/encoding/json/fold.go.html#3693895">s</a></span>&nbsp;<span class="op" id="3693937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693941">if</span>&nbsp;<span class="builtinfunc" id="3693944">len</span><span class="op" id="3693947">(</span><span class="ident" id="3693948"><a href="/encoding/json/fold.go.html#3693898">t</a></span><span class="op" id="3693949">)</span>&nbsp;<span class="op" id="3693951">==</span>&nbsp;<span class="num" id="3693954">0</span>&nbsp;<span class="op" id="3693956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693961">return</span>&nbsp;<span class="ident" id="3693968">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3693976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3693980">tb</span>&nbsp;<span class="op" id="3693983">:=</span>&nbsp;<span class="ident" id="3693986"><a href="/encoding/json/fold.go.html#3693898">t</a></span><span class="op" id="3693987">[</span><span class="num" id="3693988">0</span><span class="op" id="3693989">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3693993">if</span>&nbsp;<span class="ident" id="3693996"><a href="/encoding/json/fold.go.html#3693980">tb</a></span>&nbsp;<span class="op" id="3693999">&lt;</span>&nbsp;<span class="ident" id="3694001"><a href="/encoding/json/fold.go.html#3692231">utf8</a></span><span class="op" id="3694005">.</span><span class="ident" id="3694006">RuneSelf</span>&nbsp;<span class="op" id="3694015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694020">if</span>&nbsp;<span class="ident" id="3694023"><a href="/encoding/json/fold.go.html#3693923">sb</a></span>&nbsp;<span class="op" id="3694026">!=</span>&nbsp;<span class="ident" id="3694029"><a href="/encoding/json/fold.go.html#3693980">tb</a></span>&nbsp;<span class="op" id="3694032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3694038">sbUpper</span>&nbsp;<span class="op" id="3694046">:=</span>&nbsp;<span class="ident" id="3694049"><a href="/encoding/json/fold.go.html#3693923">sb</a></span>&nbsp;<span class="op" id="3694052">&amp;</span>&nbsp;<span class="ident" id="3694054"><a href="/encoding/json/fold.go.html#3692258">caseMask</a></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694067">if</span>&nbsp;<span class="string" id="3694070">&#39;A&#39;</span>&nbsp;<span class="op" id="3694074">&lt;=</span>&nbsp;<span class="ident" id="3694077"><a href="/encoding/json/fold.go.html#3694038">sbUpper</a></span>&nbsp;<span class="op" id="3694085">&amp;&amp;</span>&nbsp;<span class="ident" id="3694088"><a href="/encoding/json/fold.go.html#3694038">sbUpper</a></span>&nbsp;<span class="op" id="3694096">&lt;=</span>&nbsp;<span class="string" id="3694099">&#39;Z&#39;</span>&nbsp;<span class="op" id="3694103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694110">if</span>&nbsp;<span class="ident" id="3694113"><a href="/encoding/json/fold.go.html#3694038">sbUpper</a></span>&nbsp;<span class="op" id="3694121">!=</span>&nbsp;<span class="ident" id="3694124"><a href="/encoding/json/fold.go.html#3693980">tb</a></span><span class="op" id="3694126">&amp;</span><span class="ident" id="3694127"><a href="/encoding/json/fold.go.html#3692258">caseMask</a></span>&nbsp;<span class="op" id="3694136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694144">return</span>&nbsp;<span class="ident" id="3694151">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694168">}</span>&nbsp;<span class="keyword" id="3694170">else</span>&nbsp;<span class="op" id="3694175">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694182">return</span>&nbsp;<span class="ident" id="3694189">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3694209"><a href="/encoding/json/fold.go.html#3693898">t</a></span>&nbsp;<span class="op" id="3694211">=</span>&nbsp;<span class="ident" id="3694213"><a href="/encoding/json/fold.go.html#3693898">t</a></span><span class="op" id="3694214">[</span><span class="num" id="3694215">1</span><span class="op" id="3694216">:</span><span class="op" id="3694217">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694222">continue</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3694237">//&nbsp;sb&nbsp;is&nbsp;ASCII&nbsp;and&nbsp;t&nbsp;is&nbsp;not.&nbsp;t&nbsp;must&nbsp;be&nbsp;either&nbsp;kelvin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3694292">//&nbsp;sign&nbsp;or&nbsp;long&nbsp;s;&nbsp;sb&nbsp;must&nbsp;be&nbsp;s,&nbsp;S,&nbsp;k,&nbsp;or&nbsp;K.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3694339">tr</span><span class="op" id="3694341">,</span>&nbsp;<span class="ident" id="3694343">size</span>&nbsp;<span class="op" id="3694348">:=</span>&nbsp;<span class="ident" id="3694351"><a href="/encoding/json/fold.go.html#3692231">utf8</a></span><span class="op" id="3694355">.</span><span class="ident" id="3694356">DecodeRune</span><span class="op" id="3694366">(</span><span class="ident" id="3694367"><a href="/encoding/json/fold.go.html#3693898">t</a></span><span class="op" id="3694368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694372">switch</span>&nbsp;<span class="ident" id="3694379"><a href="/encoding/json/fold.go.html#3693923">sb</a></span>&nbsp;<span class="op" id="3694382">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694386">case</span>&nbsp;<span class="string" id="3694391">&#39;s&#39;</span><span class="op" id="3694394">,</span>&nbsp;<span class="string" id="3694396">&#39;S&#39;</span><span class="op" id="3694399">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694404">if</span>&nbsp;<span class="ident" id="3694407"><a href="/encoding/json/fold.go.html#3694339">tr</a></span>&nbsp;<span class="op" id="3694410">!=</span>&nbsp;<span class="ident" id="3694413"><a href="/encoding/json/fold.go.html#3692344">smallLongEss</a></span>&nbsp;<span class="op" id="3694426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694432">return</span>&nbsp;<span class="ident" id="3694439">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694452">case</span>&nbsp;<span class="string" id="3694457">&#39;k&#39;</span><span class="op" id="3694460">,</span>&nbsp;<span class="string" id="3694462">&#39;K&#39;</span><span class="op" id="3694465">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694470">if</span>&nbsp;<span class="ident" id="3694473"><a href="/encoding/json/fold.go.html#3694339">tr</a></span>&nbsp;<span class="op" id="3694476">!=</span>&nbsp;<span class="ident" id="3694479"><a href="/encoding/json/fold.go.html#3692319">kelvin</a></span>&nbsp;<span class="op" id="3694486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694492">return</span>&nbsp;<span class="ident" id="3694499">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694512">default</span><span class="op" id="3694519">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694524">return</span>&nbsp;<span class="ident" id="3694531">false</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3694543"><a href="/encoding/json/fold.go.html#3693898">t</a></span>&nbsp;<span class="op" id="3694545">=</span>&nbsp;<span class="ident" id="3694547"><a href="/encoding/json/fold.go.html#3693898">t</a></span><span class="op" id="3694548">[</span><span class="ident" id="3694549"><a href="/encoding/json/fold.go.html#3694343">size</a></span><span class="op" id="3694553">:</span><span class="op" id="3694554">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694561">if</span>&nbsp;<span class="builtinfunc" id="3694564">len</span><span class="op" id="3694567">(</span><span class="ident" id="3694568"><a href="/encoding/json/fold.go.html#3693898">t</a></span><span class="op" id="3694569">)</span>&nbsp;<span class="op" id="3694571">&gt;</span>&nbsp;<span class="num" id="3694573">0</span>&nbsp;<span class="op" id="3694575">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694579">return</span>&nbsp;<span class="ident" id="3694586">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694596">return</span>&nbsp;<span class="ident" id="3694603">true</span><br>
<span class="lineno"></span><span class="op" id="3694608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3694611">//&nbsp;asciiEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for&nbsp;use&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="3694681">//&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;(but&nbsp;may&nbsp;contain&nbsp;non-letters)&nbsp;and&nbsp;contains&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="3694745">//&nbsp;special-folding&nbsp;letters.</span><br>
<span class="lineno"></span><span class="comment" id="3694773">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="3694802">func</span>&nbsp;<span class="ident" id="3694807">asciiEqualFold</span><span class="op" id="3694821">(</span><span class="ident" id="3694822">s</span><span class="op" id="3694823">,</span>&nbsp;<span class="ident" id="3694825">t</span>&nbsp;<span class="op" id="3694827">[</span><span class="op" id="3694828">]</span><span class="builtintype" id="3694829">byte</span><span class="op" id="3694833">)</span>&nbsp;<span class="builtintype" id="3694835">bool</span>&nbsp;<span class="op" id="3694840">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694843">if</span>&nbsp;<span class="builtinfunc" id="3694846">len</span><span class="op" id="3694849">(</span><span class="ident" id="3694850"><a href="/encoding/json/fold.go.html#3694822">s</a></span><span class="op" id="3694851">)</span>&nbsp;<span class="op" id="3694853">!=</span>&nbsp;<span class="builtinfunc" id="3694856">len</span><span class="op" id="3694859">(</span><span class="ident" id="3694860"><a href="/encoding/json/fold.go.html#3694825">t</a></span><span class="op" id="3694861">)</span>&nbsp;<span class="op" id="3694863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694867">return</span>&nbsp;<span class="ident" id="3694874">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694884">for</span>&nbsp;<span class="ident" id="3694888">i</span><span class="op" id="3694889">,</span>&nbsp;<span class="ident" id="3694891">sb</span>&nbsp;<span class="op" id="3694894">:=</span>&nbsp;<span class="keyword" id="3694897">range</span>&nbsp;<span class="ident" id="3694903"><a href="/encoding/json/fold.go.html#3694822">s</a></span>&nbsp;<span class="op" id="3694905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3694909">tb</span>&nbsp;<span class="op" id="3694912">:=</span>&nbsp;<span class="ident" id="3694915"><a href="/encoding/json/fold.go.html#3694825">t</a></span><span class="op" id="3694916">[</span><span class="ident" id="3694917"><a href="/encoding/json/fold.go.html#3694888">i</a></span><span class="op" id="3694918">]</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694922">if</span>&nbsp;<span class="ident" id="3694925"><a href="/encoding/json/fold.go.html#3694891">sb</a></span>&nbsp;<span class="op" id="3694928">==</span>&nbsp;<span class="ident" id="3694931"><a href="/encoding/json/fold.go.html#3694909">tb</a></span>&nbsp;<span class="op" id="3694934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694939">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3694950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3694954">if</span>&nbsp;<span class="op" id="3694957">(</span><span class="string" id="3694958">&#39;a&#39;</span>&nbsp;<span class="op" id="3694962">&lt;=</span>&nbsp;<span class="ident" id="3694965"><a href="/encoding/json/fold.go.html#3694891">sb</a></span>&nbsp;<span class="op" id="3694968">&amp;&amp;</span>&nbsp;<span class="ident" id="3694971"><a href="/encoding/json/fold.go.html#3694891">sb</a></span>&nbsp;<span class="op" id="3694974">&lt;=</span>&nbsp;<span class="string" id="3694977">&#39;z&#39;</span><span class="op" id="3694980">)</span>&nbsp;<span class="op" id="3694982">||</span>&nbsp;<span class="op" id="3694985">(</span><span class="string" id="3694986">&#39;A&#39;</span>&nbsp;<span class="op" id="3694990">&lt;=</span>&nbsp;<span class="ident" id="3694993"><a href="/encoding/json/fold.go.html#3694891">sb</a></span>&nbsp;<span class="op" id="3694996">&amp;&amp;</span>&nbsp;<span class="ident" id="3694999"><a href="/encoding/json/fold.go.html#3694891">sb</a></span>&nbsp;<span class="op" id="3695002">&lt;=</span>&nbsp;<span class="string" id="3695005">&#39;Z&#39;</span><span class="op" id="3695008">)</span>&nbsp;<span class="op" id="3695010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3695015">if</span>&nbsp;<span class="ident" id="3695018"><a href="/encoding/json/fold.go.html#3694891">sb</a></span><span class="op" id="3695020">&amp;</span><span class="ident" id="3695021"><a href="/encoding/json/fold.go.html#3692258">caseMask</a></span>&nbsp;<span class="op" id="3695030">!=</span>&nbsp;<span class="ident" id="3695033"><a href="/encoding/json/fold.go.html#3694909">tb</a></span><span class="op" id="3695035">&amp;</span><span class="ident" id="3695036"><a href="/encoding/json/fold.go.html#3692258">caseMask</a></span>&nbsp;<span class="op" id="3695045">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3695051">return</span>&nbsp;<span class="ident" id="3695058">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3695067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3695071">}</span>&nbsp;<span class="keyword" id="3695073">else</span>&nbsp;<span class="op" id="3695078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3695083">return</span>&nbsp;<span class="ident" id="3695090">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3695098">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3695101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3695104">return</span>&nbsp;<span class="ident" id="3695111">true</span><br>
<span class="lineno"></span><span class="op" id="3695116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3695119">//&nbsp;simpleLetterEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for</span><br>
<span class="lineno">130</span><span class="comment" id="3695187">//&nbsp;use&nbsp;when&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;letters&nbsp;(no&nbsp;underscores,&nbsp;etc)&nbsp;and&nbsp;also</span><br>
<span class="lineno"></span><span class="comment" id="3695253">//&nbsp;doesn&#39;t&nbsp;contain&nbsp;&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;or&nbsp;&#39;S&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="3695295">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="3695324">func</span>&nbsp;<span class="ident" id="3695329">simpleLetterEqualFold</span><span class="op" id="3695350">(</span><span class="ident" id="3695351">s</span><span class="op" id="3695352">,</span>&nbsp;<span class="ident" id="3695354">t</span>&nbsp;<span class="op" id="3695356">[</span><span class="op" id="3695357">]</span><span class="builtintype" id="3695358">byte</span><span class="op" id="3695362">)</span>&nbsp;<span class="builtintype" id="3695364">bool</span>&nbsp;<span class="op" id="3695369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3695372">if</span>&nbsp;<span class="builtinfunc" id="3695375">len</span><span class="op" id="3695378">(</span><span class="ident" id="3695379"><a href="/encoding/json/fold.go.html#3695351">s</a></span><span class="op" id="3695380">)</span>&nbsp;<span class="op" id="3695382">!=</span>&nbsp;<span class="builtinfunc" id="3695385">len</span><span class="op" id="3695388">(</span><span class="ident" id="3695389"><a href="/encoding/json/fold.go.html#3695354">t</a></span><span class="op" id="3695390">)</span>&nbsp;<span class="op" id="3695392">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3695396">return</span>&nbsp;<span class="ident" id="3695403">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3695410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3695413">for</span>&nbsp;<span class="ident" id="3695417">i</span><span class="op" id="3695418">,</span>&nbsp;<span class="ident" id="3695420">b</span>&nbsp;<span class="op" id="3695422">:=</span>&nbsp;<span class="keyword" id="3695425">range</span>&nbsp;<span class="ident" id="3695431"><a href="/encoding/json/fold.go.html#3695351">s</a></span>&nbsp;<span class="op" id="3695433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3695437">if</span>&nbsp;<span class="ident" id="3695440"><a href="/encoding/json/fold.go.html#3695420">b</a></span><span class="op" id="3695441">&amp;</span><span class="ident" id="3695442"><a href="/encoding/json/fold.go.html#3692258">caseMask</a></span>&nbsp;<span class="op" id="3695451">!=</span>&nbsp;<span class="ident" id="3695454"><a href="/encoding/json/fold.go.html#3695354">t</a></span><span class="op" id="3695455">[</span><span class="ident" id="3695456"><a href="/encoding/json/fold.go.html#3695417">i</a></span><span class="op" id="3695457">]</span><span class="op" id="3695458">&amp;</span><span class="ident" id="3695459"><a href="/encoding/json/fold.go.html#3692258">caseMask</a></span>&nbsp;<span class="op" id="3695468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3695473">return</span>&nbsp;<span class="ident" id="3695480">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3695488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3695491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3695494">return</span>&nbsp;<span class="ident" id="3695501">true</span><br>
<span class="lineno"></span><span class="op" id="3695506">}</span>
</div>
</body>
</html>
