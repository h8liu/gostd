<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8631165">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8631220">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8631274">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8631325">package</span>&nbsp;<span class="ident" id="8631333">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8631338">import</span>&nbsp;<span class="op" id="8631345">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8631348">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8631354">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8631365">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8631376">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8631387">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8631394">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="8631397">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8631442">func</span>&nbsp;<span class="ident" id="8631447">TestUnmarshalFeed</span><span class="op" id="8631464">(</span><span class="ident" id="8631465">t</span>&nbsp;<span class="op" id="8631467">*</span><span class="ident" id="8631468">testing</span><span class="op" id="8631475">.</span><span class="ident" id="8631476">T</span><span class="op" id="8631477">)</span>&nbsp;<span class="op" id="8631479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8631482">var</span>&nbsp;<span class="ident" id="8631486">f</span>&nbsp;<span class="ident" id="8631488">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8631494">if</span>&nbsp;<span class="ident" id="8631497">err</span>&nbsp;<span class="op" id="8631501">:=</span>&nbsp;<span class="ident" id="8631504">Unmarshal</span><span class="op" id="8631513">(</span><span class="op" id="8631514">[</span><span class="op" id="8631515">]</span><span class="builtintype" id="8631516">byte</span><span class="op" id="8631520">(</span><span class="ident" id="8631521">atomFeedString</span><span class="op" id="8631535">)</span><span class="op" id="8631536">,</span>&nbsp;<span class="op" id="8631538">&amp;</span><span class="ident" id="8631539">f</span><span class="op" id="8631540">)</span><span class="op" id="8631541">;</span>&nbsp;<span class="ident" id="8631543">err</span>&nbsp;<span class="op" id="8631547">!=</span>&nbsp;<span class="ident" id="8631550">nil</span>&nbsp;<span class="op" id="8631554">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8631558">t</span><span class="op" id="8631559">.</span><span class="ident" id="8631560">Fatalf</span><span class="op" id="8631566">(</span><span class="string" id="8631567">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8631582">,</span>&nbsp;<span class="ident" id="8631584">err</span><span class="op" id="8631587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8631590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8631593">if</span>&nbsp;<span class="op" id="8631596">!</span><span class="ident" id="8631597">reflect</span><span class="op" id="8631604">.</span><span class="ident" id="8631605">DeepEqual</span><span class="op" id="8631614">(</span><span class="ident" id="8631615">f</span><span class="op" id="8631616">,</span>&nbsp;<span class="ident" id="8631618">atomFeed</span><span class="op" id="8631626">)</span>&nbsp;<span class="op" id="8631628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8631632">t</span><span class="op" id="8631633">.</span><span class="ident" id="8631634">Fatalf</span><span class="op" id="8631640">(</span><span class="string" id="8631641">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="8631661">,</span>&nbsp;<span class="ident" id="8631663">f</span><span class="op" id="8631664">,</span>&nbsp;<span class="ident" id="8631666">atomFeed</span><span class="op" id="8631674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8631677">}</span><br>
<span class="lineno">25</span><span class="op" id="8631679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8631682">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="8631733">const</span>&nbsp;<span class="ident" id="8631739">atomFeedString</span>&nbsp;<span class="op" id="8631754">=</span>&nbsp;<span class="string" id="8631756">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8634745">type</span>&nbsp;<span class="ident" id="8634750">Feed</span>&nbsp;<span class="keyword" id="8634755">struct</span>&nbsp;<span class="op" id="8634762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634765">XMLName</span>&nbsp;<span class="ident" id="8634773">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8634783">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634825">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8634833">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8634843">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634858">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8634866">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8634876">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634888">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8634896">[</span><span class="op" id="8634897">]</span><span class="ident" id="8634898">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8634906">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634920">Updated</span>&nbsp;<span class="ident" id="8634928">time</span><span class="op" id="8634932">.</span><span class="ident" id="8634933">Time</span>&nbsp;<span class="string" id="8634938">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634960">Author</span>&nbsp;&nbsp;<span class="ident" id="8634968">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8634978">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634994">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8635002">[</span><span class="op" id="8635003">]</span><span class="ident" id="8635004">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8635012">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8635026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8635029">type</span>&nbsp;<span class="ident" id="8635034">Entry</span>&nbsp;<span class="keyword" id="8635040">struct</span>&nbsp;<span class="op" id="8635047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635050">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8635058">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8635068">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635083">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8635091">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8635101">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635113">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8635121">[</span><span class="op" id="8635122">]</span><span class="ident" id="8635123">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8635131">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635145">Updated</span>&nbsp;<span class="ident" id="8635153">time</span><span class="op" id="8635157">.</span><span class="ident" id="8635158">Time</span>&nbsp;<span class="string" id="8635163">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635180">Author</span>&nbsp;&nbsp;<span class="ident" id="8635188">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8635198">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635214">Summary</span>&nbsp;<span class="ident" id="8635222">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8635232">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="8635248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8635251">type</span>&nbsp;<span class="ident" id="8635256">Link</span>&nbsp;<span class="keyword" id="8635261">struct</span>&nbsp;<span class="op" id="8635268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635271">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="8635276">string</span>&nbsp;<span class="string" id="8635283">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635311">Href</span>&nbsp;<span class="builtintype" id="8635316">string</span>&nbsp;<span class="string" id="8635323">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="8635341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8635344">type</span>&nbsp;<span class="ident" id="8635349">Person</span>&nbsp;<span class="keyword" id="8635356">struct</span>&nbsp;<span class="op" id="8635363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635366">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8635375">string</span>&nbsp;<span class="string" id="8635382">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635396">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8635405">string</span>&nbsp;<span class="string" id="8635412">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635425">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8635434">string</span>&nbsp;<span class="string" id="8635441">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635456">InnerXML</span>&nbsp;<span class="builtintype" id="8635465">string</span>&nbsp;<span class="string" id="8635472">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8635490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8635493">type</span>&nbsp;<span class="ident" id="8635498">Text</span>&nbsp;<span class="keyword" id="8635503">struct</span>&nbsp;<span class="op" id="8635510">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635513">Type</span>&nbsp;<span class="builtintype" id="8635518">string</span>&nbsp;<span class="string" id="8635525">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635554">Body</span>&nbsp;<span class="builtintype" id="8635559">string</span>&nbsp;<span class="string" id="8635566">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8635584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8635587">var</span>&nbsp;<span class="ident" id="8635591">atomFeed</span>&nbsp;<span class="op" id="8635600">=</span>&nbsp;<span class="ident" id="8635602">Feed</span><span class="op" id="8635606">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635609">XMLName</span><span class="op" id="8635616">:</span>&nbsp;<span class="ident" id="8635618">Name</span><span class="op" id="8635622">{</span><span class="string" id="8635623">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="8635652">,</span>&nbsp;<span class="string" id="8635654">&#34;feed&#34;</span><span class="op" id="8635660">}</span><span class="op" id="8635661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635664">Title</span><span class="op" id="8635669">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8635673">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="8635698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635701">Link</span><span class="op" id="8635705">:</span>&nbsp;<span class="op" id="8635707">[</span><span class="op" id="8635708">]</span><span class="ident" id="8635709">Link</span><span class="op" id="8635713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635717">{</span><span class="ident" id="8635718">Rel</span><span class="op" id="8635721">:</span>&nbsp;<span class="string" id="8635723">&#34;alternate&#34;</span><span class="op" id="8635734">,</span>&nbsp;<span class="ident" id="8635736">Href</span><span class="op" id="8635740">:</span>&nbsp;<span class="string" id="8635742">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="8635774">}</span><span class="op" id="8635775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635779">{</span><span class="ident" id="8635780">Rel</span><span class="op" id="8635783">:</span>&nbsp;<span class="string" id="8635785">&#34;self&#34;</span><span class="op" id="8635791">,</span>&nbsp;<span class="ident" id="8635793">Href</span><span class="op" id="8635797">:</span>&nbsp;<span class="string" id="8635799">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="8635843">}</span><span class="op" id="8635844">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635847">}</span><span class="op" id="8635848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635851">Id</span><span class="op" id="8635853">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8635860">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="8635892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635895">Updated</span><span class="op" id="8635902">:</span>&nbsp;<span class="ident" id="8635904">ParseTime</span><span class="op" id="8635913">(</span><span class="string" id="8635914">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="8635941">)</span><span class="op" id="8635942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635945">Author</span><span class="op" id="8635951">:</span>&nbsp;<span class="ident" id="8635953">Person</span><span class="op" id="8635959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635963">Name</span><span class="op" id="8635967">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8635973">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="8635985">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635989">InnerXML</span><span class="op" id="8635997">:</span>&nbsp;<span class="string" id="8635999">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="8636030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8636033">}</span><span class="op" id="8636034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636037">Entry</span><span class="op" id="8636042">:</span>&nbsp;<span class="op" id="8636044">[</span><span class="op" id="8636045">]</span><span class="ident" id="8636046">Entry</span><span class="op" id="8636051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8636055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636060">Title</span><span class="op" id="8636065">:</span>&nbsp;<span class="string" id="8636067">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="8636107">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636112">Link</span><span class="op" id="8636116">:</span>&nbsp;<span class="op" id="8636118">[</span><span class="op" id="8636119">]</span><span class="ident" id="8636120">Link</span><span class="op" id="8636124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8636130">{</span><span class="ident" id="8636131">Rel</span><span class="op" id="8636134">:</span>&nbsp;<span class="string" id="8636136">&#34;alternate&#34;</span><span class="op" id="8636147">,</span>&nbsp;<span class="ident" id="8636149">Href</span><span class="op" id="8636153">:</span>&nbsp;<span class="string" id="8636155">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="8636193">}</span><span class="op" id="8636194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8636199">}</span><span class="op" id="8636200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636205">Updated</span><span class="op" id="8636212">:</span>&nbsp;<span class="ident" id="8636214">ParseTime</span><span class="op" id="8636223">(</span><span class="string" id="8636224">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="8636251">)</span><span class="op" id="8636252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636257">Author</span><span class="op" id="8636263">:</span>&nbsp;<span class="ident" id="8636265">Person</span><span class="op" id="8636271">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636277">Name</span><span class="op" id="8636281">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8636287">&#34;email-address-removed&#34;</span><span class="op" id="8636310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636316">InnerXML</span><span class="op" id="8636324">:</span>&nbsp;<span class="string" id="8636326">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="8636362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8636367">}</span><span class="op" id="8636368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636373">Id</span><span class="op" id="8636375">:</span>&nbsp;<span class="string" id="8636377">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="8636419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636424">Summary</span><span class="op" id="8636431">:</span>&nbsp;<span class="ident" id="8636433">Text</span><span class="op" id="8636437">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636443">Type</span><span class="op" id="8636447">:</span>&nbsp;<span class="string" id="8636449">&#34;html&#34;</span><span class="op" id="8636455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636461">Body</span><span class="op" id="8636465">:</span>&nbsp;<span class="string" id="8636467">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="8637699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8637704">}</span><span class="op" id="8637705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8637709">}</span><span class="op" id="8637710">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8637714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8637719">Title</span><span class="op" id="8637724">:</span>&nbsp;<span class="string" id="8637726">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="8637760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8637765">Link</span><span class="op" id="8637769">:</span>&nbsp;<span class="op" id="8637771">[</span><span class="op" id="8637772">]</span><span class="ident" id="8637773">Link</span><span class="op" id="8637777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8637783">{</span><span class="ident" id="8637784">Rel</span><span class="op" id="8637787">:</span>&nbsp;<span class="string" id="8637789">&#34;alternate&#34;</span><span class="op" id="8637800">,</span>&nbsp;<span class="ident" id="8637802">Href</span><span class="op" id="8637806">:</span>&nbsp;<span class="string" id="8637808">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="8637846">}</span><span class="op" id="8637847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8637852">}</span><span class="op" id="8637853">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8637858">Updated</span><span class="op" id="8637865">:</span>&nbsp;<span class="ident" id="8637867">ParseTime</span><span class="op" id="8637876">(</span><span class="string" id="8637877">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="8637904">)</span><span class="op" id="8637905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8637910">Author</span><span class="op" id="8637916">:</span>&nbsp;<span class="ident" id="8637918">Person</span><span class="op" id="8637924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8637930">Name</span><span class="op" id="8637934">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8637940">&#34;email-address-removed&#34;</span><span class="op" id="8637963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8637969">InnerXML</span><span class="op" id="8637977">:</span>&nbsp;<span class="string" id="8637979">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="8638015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8638020">}</span><span class="op" id="8638021">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8638026">Id</span><span class="op" id="8638028">:</span>&nbsp;<span class="string" id="8638030">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="8638072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8638077">Summary</span><span class="op" id="8638084">:</span>&nbsp;<span class="ident" id="8638086">Text</span><span class="op" id="8638090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8638096">Type</span><span class="op" id="8638100">:</span>&nbsp;<span class="string" id="8638102">&#34;html&#34;</span><span class="op" id="8638108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8638114">Body</span><span class="op" id="8638118">:</span>&nbsp;<span class="string" id="8638120">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="8638798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8638803">}</span><span class="op" id="8638804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8638808">}</span><span class="op" id="8638809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8638812">}</span><span class="op" id="8638813">,</span><br>
<span class="lineno">215</span><span class="op" id="8638815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8638818">const</span>&nbsp;<span class="ident" id="8638824">pathTestString</span>&nbsp;<span class="op" id="8638839">=</span>&nbsp;<span class="string" id="8638841">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8639203">type</span>&nbsp;<span class="ident" id="8639208">PathTestItem</span>&nbsp;<span class="keyword" id="8639221">struct</span>&nbsp;<span class="op" id="8639228">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639231">Value</span>&nbsp;<span class="builtintype" id="8639237">string</span><br>
<span class="lineno"></span><span class="op" id="8639244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8639247">type</span>&nbsp;<span class="ident" id="8639252">PathTestA</span>&nbsp;<span class="keyword" id="8639262">struct</span>&nbsp;<span class="op" id="8639269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639272">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8639286">[</span><span class="op" id="8639287">]</span><span class="ident" id="8639288">PathTestItem</span>&nbsp;<span class="string" id="8639301">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639317">Before</span><span class="op" id="8639323">,</span>&nbsp;<span class="ident" id="8639325">After</span>&nbsp;<span class="builtintype" id="8639331">string</span><br>
<span class="lineno"></span><span class="op" id="8639338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8639341">type</span>&nbsp;<span class="ident" id="8639346">PathTestB</span>&nbsp;<span class="keyword" id="8639356">struct</span>&nbsp;<span class="op" id="8639363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639366">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8639380">[</span><span class="op" id="8639381">]</span><span class="ident" id="8639382">PathTestItem</span>&nbsp;<span class="string" id="8639395">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639416">Before</span><span class="op" id="8639422">,</span>&nbsp;<span class="ident" id="8639424">After</span>&nbsp;<span class="builtintype" id="8639430">string</span><br>
<span class="lineno"></span><span class="op" id="8639437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8639440">type</span>&nbsp;<span class="ident" id="8639445">PathTestC</span>&nbsp;<span class="keyword" id="8639455">struct</span>&nbsp;<span class="op" id="8639462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639465">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8639479">[</span><span class="op" id="8639480">]</span><span class="builtintype" id="8639481">string</span>&nbsp;<span class="string" id="8639488">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639515">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8639529">[</span><span class="op" id="8639530">]</span><span class="builtintype" id="8639531">string</span>&nbsp;<span class="string" id="8639538">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639565">Before</span><span class="op" id="8639571">,</span>&nbsp;<span class="ident" id="8639573">After</span>&nbsp;<span class="builtintype" id="8639579">string</span><br>
<span class="lineno"></span><span class="op" id="8639586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8639589">type</span>&nbsp;<span class="ident" id="8639594">PathTestSet</span>&nbsp;<span class="keyword" id="8639606">struct</span>&nbsp;<span class="op" id="8639613">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639616">Item1</span>&nbsp;<span class="op" id="8639622">[</span><span class="op" id="8639623">]</span><span class="ident" id="8639624">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="8639637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8639640">type</span>&nbsp;<span class="ident" id="8639645">PathTestD</span>&nbsp;<span class="keyword" id="8639655">struct</span>&nbsp;<span class="op" id="8639662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639665">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8639679">PathTestSet</span>&nbsp;<span class="string" id="8639691">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639706">Before</span><span class="op" id="8639712">,</span>&nbsp;<span class="ident" id="8639714">After</span>&nbsp;<span class="builtintype" id="8639720">string</span><br>
<span class="lineno"></span><span class="op" id="8639727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8639730">type</span>&nbsp;<span class="ident" id="8639735">PathTestE</span>&nbsp;<span class="keyword" id="8639745">struct</span>&nbsp;<span class="op" id="8639752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639755">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8639769">string</span>&nbsp;<span class="string" id="8639776">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8639799">Before</span><span class="op" id="8639805">,</span>&nbsp;<span class="ident" id="8639807">After</span>&nbsp;<span class="builtintype" id="8639813">string</span><br>
<span class="lineno"></span><span class="op" id="8639820">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8639823">var</span>&nbsp;<span class="ident" id="8639827">pathTests</span>&nbsp;<span class="op" id="8639837">=</span>&nbsp;<span class="op" id="8639839">[</span><span class="op" id="8639840">]</span><span class="keyword" id="8639841">interface</span><span class="op" id="8639850">{</span><span class="op" id="8639851">}</span><span class="op" id="8639852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8639855">&amp;</span><span class="ident" id="8639856">PathTestA</span><span class="op" id="8639865">{</span><span class="ident" id="8639866">Items</span><span class="op" id="8639871">:</span>&nbsp;<span class="op" id="8639873">[</span><span class="op" id="8639874">]</span><span class="ident" id="8639875">PathTestItem</span><span class="op" id="8639887">{</span><span class="op" id="8639888">{</span><span class="string" id="8639889">&#34;A&#34;</span><span class="op" id="8639892">}</span><span class="op" id="8639893">,</span>&nbsp;<span class="op" id="8639895">{</span><span class="string" id="8639896">&#34;D&#34;</span><span class="op" id="8639899">}</span><span class="op" id="8639900">}</span><span class="op" id="8639901">,</span>&nbsp;<span class="ident" id="8639903">Before</span><span class="op" id="8639909">:</span>&nbsp;<span class="string" id="8639911">&#34;1&#34;</span><span class="op" id="8639914">,</span>&nbsp;<span class="ident" id="8639916">After</span><span class="op" id="8639921">:</span>&nbsp;<span class="string" id="8639923">&#34;2&#34;</span><span class="op" id="8639926">}</span><span class="op" id="8639927">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8639930">&amp;</span><span class="ident" id="8639931">PathTestB</span><span class="op" id="8639940">{</span><span class="ident" id="8639941">Other</span><span class="op" id="8639946">:</span>&nbsp;<span class="op" id="8639948">[</span><span class="op" id="8639949">]</span><span class="ident" id="8639950">PathTestItem</span><span class="op" id="8639962">{</span><span class="op" id="8639963">{</span><span class="string" id="8639964">&#34;A&#34;</span><span class="op" id="8639967">}</span><span class="op" id="8639968">,</span>&nbsp;<span class="op" id="8639970">{</span><span class="string" id="8639971">&#34;D&#34;</span><span class="op" id="8639974">}</span><span class="op" id="8639975">}</span><span class="op" id="8639976">,</span>&nbsp;<span class="ident" id="8639978">Before</span><span class="op" id="8639984">:</span>&nbsp;<span class="string" id="8639986">&#34;1&#34;</span><span class="op" id="8639989">,</span>&nbsp;<span class="ident" id="8639991">After</span><span class="op" id="8639996">:</span>&nbsp;<span class="string" id="8639998">&#34;2&#34;</span><span class="op" id="8640001">}</span><span class="op" id="8640002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8640005">&amp;</span><span class="ident" id="8640006">PathTestC</span><span class="op" id="8640015">{</span><span class="ident" id="8640016">Values1</span><span class="op" id="8640023">:</span>&nbsp;<span class="op" id="8640025">[</span><span class="op" id="8640026">]</span><span class="builtintype" id="8640027">string</span><span class="op" id="8640033">{</span><span class="string" id="8640034">&#34;A&#34;</span><span class="op" id="8640037">,</span>&nbsp;<span class="string" id="8640039">&#34;C&#34;</span><span class="op" id="8640042">,</span>&nbsp;<span class="string" id="8640044">&#34;D&#34;</span><span class="op" id="8640047">}</span><span class="op" id="8640048">,</span>&nbsp;<span class="ident" id="8640050">Values2</span><span class="op" id="8640057">:</span>&nbsp;<span class="op" id="8640059">[</span><span class="op" id="8640060">]</span><span class="builtintype" id="8640061">string</span><span class="op" id="8640067">{</span><span class="string" id="8640068">&#34;B&#34;</span><span class="op" id="8640071">}</span><span class="op" id="8640072">,</span>&nbsp;<span class="ident" id="8640074">Before</span><span class="op" id="8640080">:</span>&nbsp;<span class="string" id="8640082">&#34;1&#34;</span><span class="op" id="8640085">,</span>&nbsp;<span class="ident" id="8640087">After</span><span class="op" id="8640092">:</span>&nbsp;<span class="string" id="8640094">&#34;2&#34;</span><span class="op" id="8640097">}</span><span class="op" id="8640098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8640101">&amp;</span><span class="ident" id="8640102">PathTestD</span><span class="op" id="8640111">{</span><span class="ident" id="8640112">Other</span><span class="op" id="8640117">:</span>&nbsp;<span class="ident" id="8640119">PathTestSet</span><span class="op" id="8640130">{</span><span class="ident" id="8640131">Item1</span><span class="op" id="8640136">:</span>&nbsp;<span class="op" id="8640138">[</span><span class="op" id="8640139">]</span><span class="ident" id="8640140">PathTestItem</span><span class="op" id="8640152">{</span><span class="op" id="8640153">{</span><span class="string" id="8640154">&#34;A&#34;</span><span class="op" id="8640157">}</span><span class="op" id="8640158">,</span>&nbsp;<span class="op" id="8640160">{</span><span class="string" id="8640161">&#34;D&#34;</span><span class="op" id="8640164">}</span><span class="op" id="8640165">}</span><span class="op" id="8640166">}</span><span class="op" id="8640167">,</span>&nbsp;<span class="ident" id="8640169">Before</span><span class="op" id="8640175">:</span>&nbsp;<span class="string" id="8640177">&#34;1&#34;</span><span class="op" id="8640180">,</span>&nbsp;<span class="ident" id="8640182">After</span><span class="op" id="8640187">:</span>&nbsp;<span class="string" id="8640189">&#34;2&#34;</span><span class="op" id="8640192">}</span><span class="op" id="8640193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8640196">&amp;</span><span class="ident" id="8640197">PathTestE</span><span class="op" id="8640206">{</span><span class="ident" id="8640207">Underline</span><span class="op" id="8640216">:</span>&nbsp;<span class="string" id="8640218">&#34;E&#34;</span><span class="op" id="8640221">,</span>&nbsp;<span class="ident" id="8640223">Before</span><span class="op" id="8640229">:</span>&nbsp;<span class="string" id="8640231">&#34;1&#34;</span><span class="op" id="8640234">,</span>&nbsp;<span class="ident" id="8640236">After</span><span class="op" id="8640241">:</span>&nbsp;<span class="string" id="8640243">&#34;2&#34;</span><span class="op" id="8640246">}</span><span class="op" id="8640247">,</span><br>
<span class="lineno"></span><span class="op" id="8640249">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="8640252">func</span>&nbsp;<span class="ident" id="8640257">TestUnmarshalPaths</span><span class="op" id="8640275">(</span><span class="ident" id="8640276">t</span>&nbsp;<span class="op" id="8640278">*</span><span class="ident" id="8640279">testing</span><span class="op" id="8640286">.</span><span class="ident" id="8640287">T</span><span class="op" id="8640288">)</span>&nbsp;<span class="op" id="8640290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8640293">for</span>&nbsp;<span class="ident" id="8640297">_</span><span class="op" id="8640298">,</span>&nbsp;<span class="ident" id="8640300">pt</span>&nbsp;<span class="op" id="8640303">:=</span>&nbsp;<span class="keyword" id="8640306">range</span>&nbsp;<span class="ident" id="8640312">pathTests</span>&nbsp;<span class="op" id="8640322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640326">v</span>&nbsp;<span class="op" id="8640328">:=</span>&nbsp;<span class="ident" id="8640331">reflect</span><span class="op" id="8640338">.</span><span class="ident" id="8640339">New</span><span class="op" id="8640342">(</span><span class="ident" id="8640343">reflect</span><span class="op" id="8640350">.</span><span class="ident" id="8640351">TypeOf</span><span class="op" id="8640357">(</span><span class="ident" id="8640358">pt</span><span class="op" id="8640360">)</span><span class="op" id="8640361">.</span><span class="ident" id="8640362">Elem</span><span class="op" id="8640366">(</span><span class="op" id="8640367">)</span><span class="op" id="8640368">)</span><span class="op" id="8640369">.</span><span class="ident" id="8640370">Interface</span><span class="op" id="8640379">(</span><span class="op" id="8640380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8640384">if</span>&nbsp;<span class="ident" id="8640387">err</span>&nbsp;<span class="op" id="8640391">:=</span>&nbsp;<span class="ident" id="8640394">Unmarshal</span><span class="op" id="8640403">(</span><span class="op" id="8640404">[</span><span class="op" id="8640405">]</span><span class="builtintype" id="8640406">byte</span><span class="op" id="8640410">(</span><span class="ident" id="8640411">pathTestString</span><span class="op" id="8640425">)</span><span class="op" id="8640426">,</span>&nbsp;<span class="ident" id="8640428">v</span><span class="op" id="8640429">)</span><span class="op" id="8640430">;</span>&nbsp;<span class="ident" id="8640432">err</span>&nbsp;<span class="op" id="8640436">!=</span>&nbsp;<span class="ident" id="8640439">nil</span>&nbsp;<span class="op" id="8640443">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640448">t</span><span class="op" id="8640449">.</span><span class="ident" id="8640450">Fatalf</span><span class="op" id="8640456">(</span><span class="string" id="8640457">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8640472">,</span>&nbsp;<span class="ident" id="8640474">err</span><span class="op" id="8640477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8640481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8640485">if</span>&nbsp;<span class="op" id="8640488">!</span><span class="ident" id="8640489">reflect</span><span class="op" id="8640496">.</span><span class="ident" id="8640497">DeepEqual</span><span class="op" id="8640506">(</span><span class="ident" id="8640507">v</span><span class="op" id="8640508">,</span>&nbsp;<span class="ident" id="8640510">pt</span><span class="op" id="8640512">)</span>&nbsp;<span class="op" id="8640514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640519">t</span><span class="op" id="8640520">.</span><span class="ident" id="8640521">Fatalf</span><span class="op" id="8640527">(</span><span class="string" id="8640528">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="8640548">,</span>&nbsp;<span class="ident" id="8640550">v</span><span class="op" id="8640551">,</span>&nbsp;<span class="ident" id="8640553">pt</span><span class="op" id="8640555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8640559">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8640562">}</span><br>
<span class="lineno"></span><span class="op" id="8640564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8640567">type</span>&nbsp;<span class="ident" id="8640572">BadPathTestA</span>&nbsp;<span class="keyword" id="8640585">struct</span>&nbsp;<span class="op" id="8640592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640595">First</span>&nbsp;&nbsp;<span class="builtintype" id="8640602">string</span>&nbsp;<span class="string" id="8640609">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640630">Other</span>&nbsp;&nbsp;<span class="builtintype" id="8640637">string</span>&nbsp;<span class="string" id="8640644">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640665">Second</span>&nbsp;<span class="builtintype" id="8640672">string</span>&nbsp;<span class="string" id="8640679">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8640693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8640696">type</span>&nbsp;<span class="ident" id="8640701">BadPathTestB</span>&nbsp;<span class="keyword" id="8640714">struct</span>&nbsp;<span class="op" id="8640721">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640724">Other</span>&nbsp;&nbsp;<span class="builtintype" id="8640731">string</span>&nbsp;<span class="string" id="8640738">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640765">First</span>&nbsp;&nbsp;<span class="builtintype" id="8640772">string</span>&nbsp;<span class="string" id="8640779">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640800">Second</span>&nbsp;<span class="builtintype" id="8640807">string</span>&nbsp;<span class="string" id="8640814">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8640840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="8640843">type</span>&nbsp;<span class="ident" id="8640848">BadPathTestC</span>&nbsp;<span class="keyword" id="8640861">struct</span>&nbsp;<span class="op" id="8640868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640871">First</span>&nbsp;&nbsp;<span class="builtintype" id="8640878">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640886">Second</span>&nbsp;<span class="builtintype" id="8640893">string</span>&nbsp;<span class="string" id="8640900">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8640914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="8640917">type</span>&nbsp;<span class="ident" id="8640922">BadPathTestD</span>&nbsp;<span class="keyword" id="8640935">struct</span>&nbsp;<span class="op" id="8640942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640945">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8640963">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="8640980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="8640983">type</span>&nbsp;<span class="ident" id="8640988">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="8641005">struct</span>&nbsp;<span class="op" id="8641012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8641015">First</span>&nbsp;<span class="builtintype" id="8641021">string</span><br>
<span class="lineno"></span><span class="op" id="8641028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8641031">type</span>&nbsp;<span class="ident" id="8641036">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="8641053">struct</span>&nbsp;<span class="op" id="8641060">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8641063">Second</span>&nbsp;<span class="builtintype" id="8641070">string</span>&nbsp;<span class="string" id="8641077">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8641091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8641094">var</span>&nbsp;<span class="ident" id="8641098">badPathTests</span>&nbsp;<span class="op" id="8641111">=</span>&nbsp;<span class="op" id="8641113">[</span><span class="op" id="8641114">]</span><span class="keyword" id="8641115">struct</span>&nbsp;<span class="op" id="8641122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8641125">v</span><span class="op" id="8641126">,</span>&nbsp;<span class="ident" id="8641128">e</span>&nbsp;<span class="keyword" id="8641130">interface</span><span class="op" id="8641139">{</span><span class="op" id="8641140">}</span><br>
<span class="lineno">325</span><span class="op" id="8641142">}</span><span class="op" id="8641143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8641146">{</span><span class="op" id="8641147">&amp;</span><span class="ident" id="8641148">BadPathTestA</span><span class="op" id="8641160">{</span><span class="op" id="8641161">}</span><span class="op" id="8641162">,</span>&nbsp;<span class="op" id="8641164">&amp;</span><span class="ident" id="8641165">TagPathError</span><span class="op" id="8641177">{</span><span class="ident" id="8641178">reflect</span><span class="op" id="8641185">.</span><span class="ident" id="8641186">TypeOf</span><span class="op" id="8641192">(</span><span class="ident" id="8641193">BadPathTestA</span><span class="op" id="8641205">{</span><span class="op" id="8641206">}</span><span class="op" id="8641207">)</span><span class="op" id="8641208">,</span>&nbsp;<span class="string" id="8641210">&#34;First&#34;</span><span class="op" id="8641217">,</span>&nbsp;<span class="string" id="8641219">&#34;items&gt;item1&#34;</span><span class="op" id="8641232">,</span>&nbsp;<span class="string" id="8641234">&#34;Second&#34;</span><span class="op" id="8641242">,</span>&nbsp;<span class="string" id="8641244">&#34;items&#34;</span><span class="op" id="8641251">}</span><span class="op" id="8641252">}</span><span class="op" id="8641253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8641256">{</span><span class="op" id="8641257">&amp;</span><span class="ident" id="8641258">BadPathTestB</span><span class="op" id="8641270">{</span><span class="op" id="8641271">}</span><span class="op" id="8641272">,</span>&nbsp;<span class="op" id="8641274">&amp;</span><span class="ident" id="8641275">TagPathError</span><span class="op" id="8641287">{</span><span class="ident" id="8641288">reflect</span><span class="op" id="8641295">.</span><span class="ident" id="8641296">TypeOf</span><span class="op" id="8641302">(</span><span class="ident" id="8641303">BadPathTestB</span><span class="op" id="8641315">{</span><span class="op" id="8641316">}</span><span class="op" id="8641317">)</span><span class="op" id="8641318">,</span>&nbsp;<span class="string" id="8641320">&#34;First&#34;</span><span class="op" id="8641327">,</span>&nbsp;<span class="string" id="8641329">&#34;items&gt;item1&#34;</span><span class="op" id="8641342">,</span>&nbsp;<span class="string" id="8641344">&#34;Second&#34;</span><span class="op" id="8641352">,</span>&nbsp;<span class="string" id="8641354">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="8641373">}</span><span class="op" id="8641374">}</span><span class="op" id="8641375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8641378">{</span><span class="op" id="8641379">&amp;</span><span class="ident" id="8641380">BadPathTestC</span><span class="op" id="8641392">{</span><span class="op" id="8641393">}</span><span class="op" id="8641394">,</span>&nbsp;<span class="op" id="8641396">&amp;</span><span class="ident" id="8641397">TagPathError</span><span class="op" id="8641409">{</span><span class="ident" id="8641410">reflect</span><span class="op" id="8641417">.</span><span class="ident" id="8641418">TypeOf</span><span class="op" id="8641424">(</span><span class="ident" id="8641425">BadPathTestC</span><span class="op" id="8641437">{</span><span class="op" id="8641438">}</span><span class="op" id="8641439">)</span><span class="op" id="8641440">,</span>&nbsp;<span class="string" id="8641442">&#34;First&#34;</span><span class="op" id="8641449">,</span>&nbsp;<span class="string" id="8641451">&#34;&#34;</span><span class="op" id="8641453">,</span>&nbsp;<span class="string" id="8641455">&#34;Second&#34;</span><span class="op" id="8641463">,</span>&nbsp;<span class="string" id="8641465">&#34;First&#34;</span><span class="op" id="8641472">}</span><span class="op" id="8641473">}</span><span class="op" id="8641474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8641477">{</span><span class="op" id="8641478">&amp;</span><span class="ident" id="8641479">BadPathTestD</span><span class="op" id="8641491">{</span><span class="op" id="8641492">}</span><span class="op" id="8641493">,</span>&nbsp;<span class="op" id="8641495">&amp;</span><span class="ident" id="8641496">TagPathError</span><span class="op" id="8641508">{</span><span class="ident" id="8641509">reflect</span><span class="op" id="8641516">.</span><span class="ident" id="8641517">TypeOf</span><span class="op" id="8641523">(</span><span class="ident" id="8641524">BadPathTestD</span><span class="op" id="8641536">{</span><span class="op" id="8641537">}</span><span class="op" id="8641538">)</span><span class="op" id="8641539">,</span>&nbsp;<span class="string" id="8641541">&#34;First&#34;</span><span class="op" id="8641548">,</span>&nbsp;<span class="string" id="8641550">&#34;&#34;</span><span class="op" id="8641552">,</span>&nbsp;<span class="string" id="8641554">&#34;Second&#34;</span><span class="op" id="8641562">,</span>&nbsp;<span class="string" id="8641564">&#34;First&#34;</span><span class="op" id="8641571">}</span><span class="op" id="8641572">}</span><span class="op" id="8641573">,</span><br>
<span class="lineno">330</span><span class="op" id="8641575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8641578">func</span>&nbsp;<span class="ident" id="8641583">TestUnmarshalBadPaths</span><span class="op" id="8641604">(</span><span class="ident" id="8641605">t</span>&nbsp;<span class="op" id="8641607">*</span><span class="ident" id="8641608">testing</span><span class="op" id="8641615">.</span><span class="ident" id="8641616">T</span><span class="op" id="8641617">)</span>&nbsp;<span class="op" id="8641619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8641622">for</span>&nbsp;<span class="ident" id="8641626">_</span><span class="op" id="8641627">,</span>&nbsp;<span class="ident" id="8641629">tt</span>&nbsp;<span class="op" id="8641632">:=</span>&nbsp;<span class="keyword" id="8641635">range</span>&nbsp;<span class="ident" id="8641641">badPathTests</span>&nbsp;<span class="op" id="8641654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8641658">err</span>&nbsp;<span class="op" id="8641662">:=</span>&nbsp;<span class="ident" id="8641665">Unmarshal</span><span class="op" id="8641674">(</span><span class="op" id="8641675">[</span><span class="op" id="8641676">]</span><span class="builtintype" id="8641677">byte</span><span class="op" id="8641681">(</span><span class="ident" id="8641682">pathTestString</span><span class="op" id="8641696">)</span><span class="op" id="8641697">,</span>&nbsp;<span class="ident" id="8641699">tt</span><span class="op" id="8641701">.</span><span class="ident" id="8641702">v</span><span class="op" id="8641703">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8641707">if</span>&nbsp;<span class="op" id="8641710">!</span><span class="ident" id="8641711">reflect</span><span class="op" id="8641718">.</span><span class="ident" id="8641719">DeepEqual</span><span class="op" id="8641728">(</span><span class="ident" id="8641729">err</span><span class="op" id="8641732">,</span>&nbsp;<span class="ident" id="8641734">tt</span><span class="op" id="8641736">.</span><span class="ident" id="8641737">e</span><span class="op" id="8641738">)</span>&nbsp;<span class="op" id="8641740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8641745">t</span><span class="op" id="8641746">.</span><span class="ident" id="8641747">Fatalf</span><span class="op" id="8641753">(</span><span class="string" id="8641754">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="8641817">,</span>&nbsp;<span class="ident" id="8641819">tt</span><span class="op" id="8641821">.</span><span class="ident" id="8641822">v</span><span class="op" id="8641823">,</span>&nbsp;<span class="ident" id="8641825">err</span><span class="op" id="8641828">,</span>&nbsp;<span class="ident" id="8641830">tt</span><span class="op" id="8641832">.</span><span class="ident" id="8641833">e</span><span class="op" id="8641834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8641838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8641841">}</span><br>
<span class="lineno"></span><span class="op" id="8641843">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="8641846">const</span>&nbsp;<span class="ident" id="8641852">OK</span>&nbsp;<span class="op" id="8641855">=</span>&nbsp;<span class="string" id="8641857">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="8641862">const</span>&nbsp;<span class="ident" id="8641868">withoutNameTypeData</span>&nbsp;<span class="op" id="8641888">=</span>&nbsp;<span class="string" id="8641890">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="8641952">type</span>&nbsp;<span class="ident" id="8641957">TestThree</span>&nbsp;<span class="keyword" id="8641967">struct</span>&nbsp;<span class="op" id="8641974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8641977">XMLName</span>&nbsp;<span class="ident" id="8641985">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8641992">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642007">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8642015">string</span>&nbsp;<span class="string" id="8642022">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8642036">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="8642039">func</span>&nbsp;<span class="ident" id="8642044">TestUnmarshalWithoutNameType</span><span class="op" id="8642072">(</span><span class="ident" id="8642073">t</span>&nbsp;<span class="op" id="8642075">*</span><span class="ident" id="8642076">testing</span><span class="op" id="8642083">.</span><span class="ident" id="8642084">T</span><span class="op" id="8642085">)</span>&nbsp;<span class="op" id="8642087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8642090">var</span>&nbsp;<span class="ident" id="8642094">x</span>&nbsp;<span class="ident" id="8642096">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8642107">if</span>&nbsp;<span class="ident" id="8642110">err</span>&nbsp;<span class="op" id="8642114">:=</span>&nbsp;<span class="ident" id="8642117">Unmarshal</span><span class="op" id="8642126">(</span><span class="op" id="8642127">[</span><span class="op" id="8642128">]</span><span class="builtintype" id="8642129">byte</span><span class="op" id="8642133">(</span><span class="ident" id="8642134">withoutNameTypeData</span><span class="op" id="8642153">)</span><span class="op" id="8642154">,</span>&nbsp;<span class="op" id="8642156">&amp;</span><span class="ident" id="8642157">x</span><span class="op" id="8642158">)</span><span class="op" id="8642159">;</span>&nbsp;<span class="ident" id="8642161">err</span>&nbsp;<span class="op" id="8642165">!=</span>&nbsp;<span class="ident" id="8642168">nil</span>&nbsp;<span class="op" id="8642172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642176">t</span><span class="op" id="8642177">.</span><span class="ident" id="8642178">Fatalf</span><span class="op" id="8642184">(</span><span class="string" id="8642185">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8642200">,</span>&nbsp;<span class="ident" id="8642202">err</span><span class="op" id="8642205">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8642208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8642211">if</span>&nbsp;<span class="ident" id="8642214">x</span><span class="op" id="8642215">.</span><span class="ident" id="8642216">Attr</span>&nbsp;<span class="op" id="8642221">!=</span>&nbsp;<span class="ident" id="8642224">OK</span>&nbsp;<span class="op" id="8642227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642231">t</span><span class="op" id="8642232">.</span><span class="ident" id="8642233">Fatalf</span><span class="op" id="8642239">(</span><span class="string" id="8642240">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="8642258">,</span>&nbsp;<span class="ident" id="8642260">x</span><span class="op" id="8642261">.</span><span class="ident" id="8642262">Attr</span><span class="op" id="8642266">,</span>&nbsp;<span class="ident" id="8642268">OK</span><span class="op" id="8642270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8642273">}</span><br>
<span class="lineno"></span><span class="op" id="8642275">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="8642278">func</span>&nbsp;<span class="ident" id="8642283">TestUnmarshalAttr</span><span class="op" id="8642300">(</span><span class="ident" id="8642301">t</span>&nbsp;<span class="op" id="8642303">*</span><span class="ident" id="8642304">testing</span><span class="op" id="8642311">.</span><span class="ident" id="8642312">T</span><span class="op" id="8642313">)</span>&nbsp;<span class="op" id="8642315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8642318">type</span>&nbsp;<span class="ident" id="8642323">ParamVal</span>&nbsp;<span class="keyword" id="8642332">struct</span>&nbsp;<span class="op" id="8642339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642343">Int</span>&nbsp;<span class="builtintype" id="8642347">int</span>&nbsp;<span class="string" id="8642351">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8642369">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8642373">type</span>&nbsp;<span class="ident" id="8642378">ParamPtr</span>&nbsp;<span class="keyword" id="8642387">struct</span>&nbsp;<span class="op" id="8642394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642398">Int</span>&nbsp;<span class="op" id="8642402">*</span><span class="builtintype" id="8642403">int</span>&nbsp;<span class="string" id="8642407">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8642425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8642429">type</span>&nbsp;<span class="ident" id="8642434">ParamStringPtr</span>&nbsp;<span class="keyword" id="8642449">struct</span>&nbsp;<span class="op" id="8642456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642460">Int</span>&nbsp;<span class="op" id="8642464">*</span><span class="builtintype" id="8642465">string</span>&nbsp;<span class="string" id="8642472">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8642490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642494">x</span>&nbsp;<span class="op" id="8642496">:=</span>&nbsp;<span class="op" id="8642499">[</span><span class="op" id="8642500">]</span><span class="builtintype" id="8642501">byte</span><span class="op" id="8642505">(</span><span class="string" id="8642506">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="8642525">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642529">p1</span>&nbsp;<span class="op" id="8642532">:=</span>&nbsp;<span class="op" id="8642535">&amp;</span><span class="ident" id="8642536">ParamPtr</span><span class="op" id="8642544">{</span><span class="op" id="8642545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8642548">if</span>&nbsp;<span class="ident" id="8642551">err</span>&nbsp;<span class="op" id="8642555">:=</span>&nbsp;<span class="ident" id="8642558">Unmarshal</span><span class="op" id="8642567">(</span><span class="ident" id="8642568">x</span><span class="op" id="8642569">,</span>&nbsp;<span class="ident" id="8642571">p1</span><span class="op" id="8642573">)</span><span class="op" id="8642574">;</span>&nbsp;<span class="ident" id="8642576">err</span>&nbsp;<span class="op" id="8642580">!=</span>&nbsp;<span class="ident" id="8642583">nil</span>&nbsp;<span class="op" id="8642587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642591">t</span><span class="op" id="8642592">.</span><span class="ident" id="8642593">Fatalf</span><span class="op" id="8642599">(</span><span class="string" id="8642600">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8642615">,</span>&nbsp;<span class="ident" id="8642617">err</span><span class="op" id="8642620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8642623">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8642626">if</span>&nbsp;<span class="ident" id="8642629">p1</span><span class="op" id="8642631">.</span><span class="ident" id="8642632">Int</span>&nbsp;<span class="op" id="8642636">==</span>&nbsp;<span class="ident" id="8642639">nil</span>&nbsp;<span class="op" id="8642643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642647">t</span><span class="op" id="8642648">.</span><span class="ident" id="8642649">Fatalf</span><span class="op" id="8642655">(</span><span class="string" id="8642656">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="8642691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8642694">}</span>&nbsp;<span class="keyword" id="8642696">else</span>&nbsp;<span class="keyword" id="8642701">if</span>&nbsp;<span class="op" id="8642704">*</span><span class="ident" id="8642705">p1</span><span class="op" id="8642707">.</span><span class="ident" id="8642708">Int</span>&nbsp;<span class="op" id="8642712">!=</span>&nbsp;<span class="num" id="8642715">1</span>&nbsp;<span class="op" id="8642717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642721">t</span><span class="op" id="8642722">.</span><span class="ident" id="8642723">Fatalf</span><span class="op" id="8642729">(</span><span class="string" id="8642730">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8642779">,</span>&nbsp;<span class="ident" id="8642781">x</span><span class="op" id="8642782">,</span>&nbsp;<span class="ident" id="8642784">p1</span><span class="op" id="8642786">.</span><span class="ident" id="8642787">Int</span><span class="op" id="8642790">,</span>&nbsp;<span class="num" id="8642792">1</span><span class="op" id="8642793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8642796">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642800">p2</span>&nbsp;<span class="op" id="8642803">:=</span>&nbsp;<span class="op" id="8642806">&amp;</span><span class="ident" id="8642807">ParamVal</span><span class="op" id="8642815">{</span><span class="op" id="8642816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8642819">if</span>&nbsp;<span class="ident" id="8642822">err</span>&nbsp;<span class="op" id="8642826">:=</span>&nbsp;<span class="ident" id="8642829">Unmarshal</span><span class="op" id="8642838">(</span><span class="ident" id="8642839">x</span><span class="op" id="8642840">,</span>&nbsp;<span class="ident" id="8642842">p2</span><span class="op" id="8642844">)</span><span class="op" id="8642845">;</span>&nbsp;<span class="ident" id="8642847">err</span>&nbsp;<span class="op" id="8642851">!=</span>&nbsp;<span class="ident" id="8642854">nil</span>&nbsp;<span class="op" id="8642858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642862">t</span><span class="op" id="8642863">.</span><span class="ident" id="8642864">Fatalf</span><span class="op" id="8642870">(</span><span class="string" id="8642871">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8642886">,</span>&nbsp;<span class="ident" id="8642888">err</span><span class="op" id="8642891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8642894">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8642897">if</span>&nbsp;<span class="ident" id="8642900">p2</span><span class="op" id="8642902">.</span><span class="ident" id="8642903">Int</span>&nbsp;<span class="op" id="8642907">!=</span>&nbsp;<span class="num" id="8642910">1</span>&nbsp;<span class="op" id="8642912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642916">t</span><span class="op" id="8642917">.</span><span class="ident" id="8642918">Fatalf</span><span class="op" id="8642924">(</span><span class="string" id="8642925">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8642974">,</span>&nbsp;<span class="ident" id="8642976">x</span><span class="op" id="8642977">,</span>&nbsp;<span class="ident" id="8642979">p2</span><span class="op" id="8642981">.</span><span class="ident" id="8642982">Int</span><span class="op" id="8642985">,</span>&nbsp;<span class="num" id="8642987">1</span><span class="op" id="8642988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8642991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8642995">p3</span>&nbsp;<span class="op" id="8642998">:=</span>&nbsp;<span class="op" id="8643001">&amp;</span><span class="ident" id="8643002">ParamStringPtr</span><span class="op" id="8643016">{</span><span class="op" id="8643017">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8643020">if</span>&nbsp;<span class="ident" id="8643023">err</span>&nbsp;<span class="op" id="8643027">:=</span>&nbsp;<span class="ident" id="8643030">Unmarshal</span><span class="op" id="8643039">(</span><span class="ident" id="8643040">x</span><span class="op" id="8643041">,</span>&nbsp;<span class="ident" id="8643043">p3</span><span class="op" id="8643045">)</span><span class="op" id="8643046">;</span>&nbsp;<span class="ident" id="8643048">err</span>&nbsp;<span class="op" id="8643052">!=</span>&nbsp;<span class="ident" id="8643055">nil</span>&nbsp;<span class="op" id="8643059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643063">t</span><span class="op" id="8643064">.</span><span class="ident" id="8643065">Fatalf</span><span class="op" id="8643071">(</span><span class="string" id="8643072">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8643087">,</span>&nbsp;<span class="ident" id="8643089">err</span><span class="op" id="8643092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8643095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8643098">if</span>&nbsp;<span class="ident" id="8643101">p3</span><span class="op" id="8643103">.</span><span class="ident" id="8643104">Int</span>&nbsp;<span class="op" id="8643108">==</span>&nbsp;<span class="ident" id="8643111">nil</span>&nbsp;<span class="op" id="8643115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643119">t</span><span class="op" id="8643120">.</span><span class="ident" id="8643121">Fatalf</span><span class="op" id="8643127">(</span><span class="string" id="8643128">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="8643166">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8643169">}</span>&nbsp;<span class="keyword" id="8643171">else</span>&nbsp;<span class="keyword" id="8643176">if</span>&nbsp;<span class="op" id="8643179">*</span><span class="ident" id="8643180">p3</span><span class="op" id="8643182">.</span><span class="ident" id="8643183">Int</span>&nbsp;<span class="op" id="8643187">!=</span>&nbsp;<span class="string" id="8643190">&#34;1&#34;</span>&nbsp;<span class="op" id="8643194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643198">t</span><span class="op" id="8643199">.</span><span class="ident" id="8643200">Fatalf</span><span class="op" id="8643206">(</span><span class="string" id="8643207">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8643256">,</span>&nbsp;<span class="ident" id="8643258">x</span><span class="op" id="8643259">,</span>&nbsp;<span class="ident" id="8643261">p3</span><span class="op" id="8643263">.</span><span class="ident" id="8643264">Int</span><span class="op" id="8643267">,</span>&nbsp;<span class="num" id="8643269">1</span><span class="op" id="8643270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8643273">}</span><br>
<span class="lineno"></span><span class="op" id="8643275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="8643278">type</span>&nbsp;<span class="ident" id="8643283">Tables</span>&nbsp;<span class="keyword" id="8643290">struct</span>&nbsp;<span class="op" id="8643297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643300">HTable</span>&nbsp;<span class="builtintype" id="8643307">string</span>&nbsp;<span class="string" id="8643314">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643357">FTable</span>&nbsp;<span class="builtintype" id="8643364">string</span>&nbsp;<span class="string" id="8643371">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8643420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="8643423">var</span>&nbsp;<span class="ident" id="8643427">tables</span>&nbsp;<span class="op" id="8643434">=</span>&nbsp;<span class="op" id="8643436">[</span><span class="op" id="8643437">]</span><span class="keyword" id="8643438">struct</span>&nbsp;<span class="op" id="8643445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643448">xml</span>&nbsp;<span class="builtintype" id="8643452">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643460">tab</span>&nbsp;<span class="ident" id="8643464">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643472">ns</span>&nbsp;&nbsp;<span class="builtintype" id="8643476">string</span><br>
<span class="lineno"></span><span class="op" id="8643483">}</span><span class="op" id="8643484">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8643487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643491">xml</span><span class="op" id="8643494">:</span>&nbsp;<span class="string" id="8643496">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8643507">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8643512">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="8643571">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8643576">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="8643642">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8643647">`&lt;/Tables&gt;`</span><span class="op" id="8643658">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643662">tab</span><span class="op" id="8643665">:</span>&nbsp;<span class="ident" id="8643667">Tables</span><span class="op" id="8643673">{</span><span class="string" id="8643674">&#34;hello&#34;</span><span class="op" id="8643681">,</span>&nbsp;<span class="string" id="8643683">&#34;world&#34;</span><span class="op" id="8643690">}</span><span class="op" id="8643691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8643694">}</span><span class="op" id="8643695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8643698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643702">xml</span><span class="op" id="8643705">:</span>&nbsp;<span class="string" id="8643707">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8643718">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8643723">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="8643789">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8643794">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="8643853">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8643858">`&lt;/Tables&gt;`</span><span class="op" id="8643869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643873">tab</span><span class="op" id="8643876">:</span>&nbsp;<span class="ident" id="8643878">Tables</span><span class="op" id="8643884">{</span><span class="string" id="8643885">&#34;hello&#34;</span><span class="op" id="8643892">,</span>&nbsp;<span class="string" id="8643894">&#34;world&#34;</span><span class="op" id="8643901">}</span><span class="op" id="8643902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8643905">}</span><span class="op" id="8643906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8643909">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8643913">xml</span><span class="op" id="8643916">:</span>&nbsp;<span class="string" id="8643918">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="8644012">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644017">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="8644044">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644049">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="8644076">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644081">`&lt;/Tables&gt;`</span><span class="op" id="8644092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644096">tab</span><span class="op" id="8644099">:</span>&nbsp;<span class="ident" id="8644101">Tables</span><span class="op" id="8644107">{</span><span class="string" id="8644108">&#34;hello&#34;</span><span class="op" id="8644115">,</span>&nbsp;<span class="string" id="8644117">&#34;world&#34;</span><span class="op" id="8644124">}</span><span class="op" id="8644125">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644128">}</span><span class="op" id="8644129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644136">xml</span><span class="op" id="8644139">:</span>&nbsp;<span class="string" id="8644141">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8644152">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644157">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="8644180">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644185">`&lt;/Tables&gt;`</span><span class="op" id="8644196">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644200">tab</span><span class="op" id="8644203">:</span>&nbsp;<span class="ident" id="8644205">Tables</span><span class="op" id="8644211">{</span><span class="op" id="8644212">}</span><span class="op" id="8644213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644216">}</span><span class="op" id="8644217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644224">xml</span><span class="op" id="8644227">:</span>&nbsp;<span class="string" id="8644229">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8644240">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644245">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="8644267">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644272">`&lt;/Tables&gt;`</span><span class="op" id="8644283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644287">tab</span><span class="op" id="8644290">:</span>&nbsp;<span class="ident" id="8644292">Tables</span><span class="op" id="8644298">{</span><span class="ident" id="8644299">HTable</span><span class="op" id="8644305">:</span>&nbsp;<span class="string" id="8644307">&#34;only&#34;</span><span class="op" id="8644313">}</span><span class="op" id="8644314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644318">ns</span><span class="op" id="8644320">:</span>&nbsp;&nbsp;<span class="string" id="8644323">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="8644352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644355">}</span><span class="op" id="8644356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644359">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644363">xml</span><span class="op" id="8644366">:</span>&nbsp;<span class="string" id="8644368">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8644379">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644384">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="8644406">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644411">`&lt;/Tables&gt;`</span><span class="op" id="8644422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644426">tab</span><span class="op" id="8644429">:</span>&nbsp;<span class="ident" id="8644431">Tables</span><span class="op" id="8644437">{</span><span class="ident" id="8644438">FTable</span><span class="op" id="8644444">:</span>&nbsp;<span class="string" id="8644446">&#34;only&#34;</span><span class="op" id="8644452">}</span><span class="op" id="8644453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644457">ns</span><span class="op" id="8644459">:</span>&nbsp;&nbsp;<span class="string" id="8644462">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="8644498">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644501">}</span><span class="op" id="8644502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644509">xml</span><span class="op" id="8644512">:</span>&nbsp;<span class="string" id="8644514">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8644525">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644530">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="8644552">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8644557">`&lt;/Tables&gt;`</span><span class="op" id="8644568">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644572">tab</span><span class="op" id="8644575">:</span>&nbsp;<span class="ident" id="8644577">Tables</span><span class="op" id="8644583">{</span><span class="op" id="8644584">}</span><span class="op" id="8644585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644589">ns</span><span class="op" id="8644591">:</span>&nbsp;&nbsp;<span class="string" id="8644594">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="8644619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644622">}</span><span class="op" id="8644623">,</span><br>
<span class="lineno"></span><span class="op" id="8644625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="8644628">func</span>&nbsp;<span class="ident" id="8644633">TestUnmarshalNS</span><span class="op" id="8644648">(</span><span class="ident" id="8644649">t</span>&nbsp;<span class="op" id="8644651">*</span><span class="ident" id="8644652">testing</span><span class="op" id="8644659">.</span><span class="ident" id="8644660">T</span><span class="op" id="8644661">)</span>&nbsp;<span class="op" id="8644663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8644666">for</span>&nbsp;<span class="ident" id="8644670">i</span><span class="op" id="8644671">,</span>&nbsp;<span class="ident" id="8644673">tt</span>&nbsp;<span class="op" id="8644676">:=</span>&nbsp;<span class="keyword" id="8644679">range</span>&nbsp;<span class="ident" id="8644685">tables</span>&nbsp;<span class="op" id="8644692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8644696">var</span>&nbsp;<span class="ident" id="8644700">dst</span>&nbsp;<span class="ident" id="8644704">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8644713">var</span>&nbsp;<span class="ident" id="8644717">err</span>&nbsp;<span class="builtintype" id="8644721">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8644729">if</span>&nbsp;<span class="ident" id="8644732">tt</span><span class="op" id="8644734">.</span><span class="ident" id="8644735">ns</span>&nbsp;<span class="op" id="8644738">!=</span>&nbsp;<span class="string" id="8644741">&#34;&#34;</span>&nbsp;<span class="op" id="8644744">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644749">d</span>&nbsp;<span class="op" id="8644751">:=</span>&nbsp;<span class="ident" id="8644754">NewDecoder</span><span class="op" id="8644764">(</span><span class="ident" id="8644765">strings</span><span class="op" id="8644772">.</span><span class="ident" id="8644773">NewReader</span><span class="op" id="8644782">(</span><span class="ident" id="8644783">tt</span><span class="op" id="8644785">.</span><span class="ident" id="8644786">xml</span><span class="op" id="8644789">)</span><span class="op" id="8644790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644795">d</span><span class="op" id="8644796">.</span><span class="ident" id="8644797">DefaultSpace</span>&nbsp;<span class="op" id="8644810">=</span>&nbsp;<span class="ident" id="8644812">tt</span><span class="op" id="8644814">.</span><span class="ident" id="8644815">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644821">err</span>&nbsp;<span class="op" id="8644825">=</span>&nbsp;<span class="ident" id="8644827">d</span><span class="op" id="8644828">.</span><span class="ident" id="8644829">Decode</span><span class="op" id="8644835">(</span><span class="op" id="8644836">&amp;</span><span class="ident" id="8644837">dst</span><span class="op" id="8644840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644844">}</span>&nbsp;<span class="keyword" id="8644846">else</span>&nbsp;<span class="op" id="8644851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644856">err</span>&nbsp;<span class="op" id="8644860">=</span>&nbsp;<span class="ident" id="8644862">Unmarshal</span><span class="op" id="8644871">(</span><span class="op" id="8644872">[</span><span class="op" id="8644873">]</span><span class="builtintype" id="8644874">byte</span><span class="op" id="8644878">(</span><span class="ident" id="8644879">tt</span><span class="op" id="8644881">.</span><span class="ident" id="8644882">xml</span><span class="op" id="8644885">)</span><span class="op" id="8644886">,</span>&nbsp;<span class="op" id="8644888">&amp;</span><span class="ident" id="8644889">dst</span><span class="op" id="8644892">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8644900">if</span>&nbsp;<span class="ident" id="8644903">err</span>&nbsp;<span class="op" id="8644907">!=</span>&nbsp;<span class="ident" id="8644910">nil</span>&nbsp;<span class="op" id="8644914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644919">t</span><span class="op" id="8644920">.</span><span class="ident" id="8644921">Errorf</span><span class="op" id="8644927">(</span><span class="string" id="8644928">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8644948">,</span>&nbsp;<span class="ident" id="8644950">i</span><span class="op" id="8644951">,</span>&nbsp;<span class="ident" id="8644953">err</span><span class="op" id="8644956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8644961">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8644972">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8644976">want</span>&nbsp;<span class="op" id="8644981">:=</span>&nbsp;<span class="ident" id="8644984">tt</span><span class="op" id="8644986">.</span><span class="ident" id="8644987">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8644993">if</span>&nbsp;<span class="ident" id="8644996">dst</span>&nbsp;<span class="op" id="8645000">!=</span>&nbsp;<span class="ident" id="8645003">want</span>&nbsp;<span class="op" id="8645008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645013">t</span><span class="op" id="8645014">.</span><span class="ident" id="8645015">Errorf</span><span class="op" id="8645021">(</span><span class="string" id="8645022">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="8645046">,</span>&nbsp;<span class="ident" id="8645048">i</span><span class="op" id="8645049">,</span>&nbsp;<span class="ident" id="8645051">dst</span><span class="op" id="8645054">,</span>&nbsp;<span class="ident" id="8645056">want</span><span class="op" id="8645060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8645064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8645067">}</span><br>
<span class="lineno">485</span><span class="op" id="8645069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8645072">func</span>&nbsp;<span class="ident" id="8645077">TestMarshalNS</span><span class="op" id="8645090">(</span><span class="ident" id="8645091">t</span>&nbsp;<span class="op" id="8645093">*</span><span class="ident" id="8645094">testing</span><span class="op" id="8645101">.</span><span class="ident" id="8645102">T</span><span class="op" id="8645103">)</span>&nbsp;<span class="op" id="8645105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645108">dst</span>&nbsp;<span class="op" id="8645112">:=</span>&nbsp;<span class="ident" id="8645115">Tables</span><span class="op" id="8645121">{</span><span class="string" id="8645122">&#34;hello&#34;</span><span class="op" id="8645129">,</span>&nbsp;<span class="string" id="8645131">&#34;world&#34;</span><span class="op" id="8645138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645141">data</span><span class="op" id="8645145">,</span>&nbsp;<span class="ident" id="8645147">err</span>&nbsp;<span class="op" id="8645151">:=</span>&nbsp;<span class="ident" id="8645154">Marshal</span><span class="op" id="8645161">(</span><span class="op" id="8645162">&amp;</span><span class="ident" id="8645163">dst</span><span class="op" id="8645166">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8645169">if</span>&nbsp;<span class="ident" id="8645172">err</span>&nbsp;<span class="op" id="8645176">!=</span>&nbsp;<span class="ident" id="8645179">nil</span>&nbsp;<span class="op" id="8645183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645187">t</span><span class="op" id="8645188">.</span><span class="ident" id="8645189">Fatalf</span><span class="op" id="8645195">(</span><span class="string" id="8645196">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="8645209">,</span>&nbsp;<span class="ident" id="8645211">err</span><span class="op" id="8645214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8645217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645220">want</span>&nbsp;<span class="op" id="8645225">:=</span>&nbsp;<span class="string" id="8645228">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645368">str</span>&nbsp;<span class="op" id="8645372">:=</span>&nbsp;<span class="builtintype" id="8645375">string</span><span class="op" id="8645381">(</span><span class="ident" id="8645382">data</span><span class="op" id="8645386">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8645389">if</span>&nbsp;<span class="ident" id="8645392">str</span>&nbsp;<span class="op" id="8645396">!=</span>&nbsp;<span class="ident" id="8645399">want</span>&nbsp;<span class="op" id="8645404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645408">t</span><span class="op" id="8645409">.</span><span class="ident" id="8645410">Errorf</span><span class="op" id="8645416">(</span><span class="string" id="8645417">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="8645439">,</span>&nbsp;<span class="ident" id="8645441">str</span><span class="op" id="8645444">,</span>&nbsp;<span class="ident" id="8645446">want</span><span class="op" id="8645450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8645453">}</span><br>
<span class="lineno"></span><span class="op" id="8645455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="8645458">type</span>&nbsp;<span class="ident" id="8645463">TableAttrs</span>&nbsp;<span class="keyword" id="8645474">struct</span>&nbsp;<span class="op" id="8645481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645484">TAttr</span>&nbsp;<span class="ident" id="8645490">TAttr</span><br>
<span class="lineno"></span><span class="op" id="8645496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8645499">type</span>&nbsp;<span class="ident" id="8645504">TAttr</span>&nbsp;<span class="keyword" id="8645510">struct</span>&nbsp;<span class="op" id="8645517">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645520">HTable</span>&nbsp;<span class="builtintype" id="8645527">string</span>&nbsp;<span class="string" id="8645534">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645582">FTable</span>&nbsp;<span class="builtintype" id="8645589">string</span>&nbsp;<span class="string" id="8645596">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645651">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8645658">string</span>&nbsp;<span class="string" id="8645665">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645731">Other1</span>&nbsp;<span class="builtintype" id="8645738">string</span>&nbsp;<span class="string" id="8645745">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645798">Other2</span>&nbsp;<span class="builtintype" id="8645805">string</span>&nbsp;<span class="string" id="8645812">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645868">Other3</span>&nbsp;<span class="builtintype" id="8645875">string</span>&nbsp;<span class="string" id="8645882">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645936">Other4</span>&nbsp;<span class="builtintype" id="8645943">string</span>&nbsp;<span class="string" id="8645950">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8646005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8646008">var</span>&nbsp;<span class="ident" id="8646012">tableAttrs</span>&nbsp;<span class="op" id="8646023">=</span>&nbsp;<span class="op" id="8646025">[</span><span class="op" id="8646026">]</span><span class="keyword" id="8646027">struct</span>&nbsp;<span class="op" id="8646034">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646037">xml</span>&nbsp;<span class="builtintype" id="8646041">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646049">tab</span>&nbsp;<span class="ident" id="8646053">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646065">ns</span>&nbsp;&nbsp;<span class="builtintype" id="8646069">string</span><br>
<span class="lineno"></span><span class="op" id="8646076">}</span><span class="op" id="8646077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646080">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646084">xml</span><span class="op" id="8646087">:</span>&nbsp;<span class="string" id="8646089">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8646194">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8646199">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8646234">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8646239">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8646256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646260">tab</span><span class="op" id="8646263">:</span>&nbsp;<span class="ident" id="8646265">TableAttrs</span><span class="op" id="8646275">{</span><span class="ident" id="8646276">TAttr</span><span class="op" id="8646281">{</span><span class="ident" id="8646282">HTable</span><span class="op" id="8646288">:</span>&nbsp;<span class="string" id="8646290">&#34;hello&#34;</span><span class="op" id="8646297">,</span>&nbsp;<span class="ident" id="8646299">FTable</span><span class="op" id="8646305">:</span>&nbsp;<span class="string" id="8646307">&#34;world&#34;</span><span class="op" id="8646314">}</span><span class="op" id="8646315">}</span><span class="op" id="8646316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646319">}</span><span class="op" id="8646320">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646327">xml</span><span class="op" id="8646330">:</span>&nbsp;<span class="string" id="8646332">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="8646437">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8646442">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8646477">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8646482">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8646499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646503">tab</span><span class="op" id="8646506">:</span>&nbsp;<span class="ident" id="8646508">TableAttrs</span><span class="op" id="8646518">{</span><span class="ident" id="8646519">TAttr</span><span class="op" id="8646524">{</span><span class="ident" id="8646525">HTable</span><span class="op" id="8646531">:</span>&nbsp;<span class="string" id="8646533">&#34;hello&#34;</span><span class="op" id="8646540">,</span>&nbsp;<span class="ident" id="8646542">FTable</span><span class="op" id="8646548">:</span>&nbsp;<span class="string" id="8646550">&#34;world&#34;</span><span class="op" id="8646557">}</span><span class="op" id="8646558">}</span><span class="op" id="8646559">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646562">}</span><span class="op" id="8646563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646570">xml</span><span class="op" id="8646573">:</span>&nbsp;<span class="string" id="8646575">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8646597">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8646602">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="8646720">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8646725">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8646742">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646746">tab</span><span class="op" id="8646749">:</span>&nbsp;<span class="ident" id="8646751">TableAttrs</span><span class="op" id="8646761">{</span><span class="ident" id="8646762">TAttr</span><span class="op" id="8646767">{</span><span class="ident" id="8646768">HTable</span><span class="op" id="8646774">:</span>&nbsp;<span class="string" id="8646776">&#34;hello&#34;</span><span class="op" id="8646783">,</span>&nbsp;<span class="ident" id="8646785">FTable</span><span class="op" id="8646791">:</span>&nbsp;<span class="string" id="8646793">&#34;world&#34;</span><span class="op" id="8646800">}</span><span class="op" id="8646801">}</span><span class="op" id="8646802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646805">}</span><span class="op" id="8646806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8646813">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646867">xml</span><span class="op" id="8646870">:</span>&nbsp;<span class="string" id="8646872">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8646975">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8646980">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8647013">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8647018">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8647035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647039">tab</span><span class="op" id="8647042">:</span>&nbsp;<span class="ident" id="8647044">TableAttrs</span><span class="op" id="8647054">{</span><span class="ident" id="8647055">TAttr</span><span class="op" id="8647060">{</span><span class="ident" id="8647061">HTable</span><span class="op" id="8647067">:</span>&nbsp;<span class="string" id="8647069">&#34;hello&#34;</span><span class="op" id="8647076">,</span>&nbsp;<span class="ident" id="8647078">FTable</span><span class="op" id="8647084">:</span>&nbsp;<span class="string" id="8647086">&#34;&#34;</span><span class="op" id="8647088">}</span><span class="op" id="8647089">}</span><span class="op" id="8647090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647093">}</span><span class="op" id="8647094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647097">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8647101">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647155">xml</span><span class="op" id="8647158">:</span>&nbsp;<span class="string" id="8647160">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="8647263">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8647268">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8647301">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8647306">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8647323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647327">tab</span><span class="op" id="8647330">:</span>&nbsp;<span class="ident" id="8647332">TableAttrs</span><span class="op" id="8647342">{</span><span class="ident" id="8647343">TAttr</span><span class="op" id="8647348">{</span><span class="ident" id="8647349">HTable</span><span class="op" id="8647355">:</span>&nbsp;<span class="string" id="8647357">&#34;&#34;</span><span class="op" id="8647359">,</span>&nbsp;<span class="ident" id="8647361">FTable</span><span class="op" id="8647367">:</span>&nbsp;<span class="string" id="8647369">&#34;world&#34;</span><span class="op" id="8647376">}</span><span class="op" id="8647377">}</span><span class="op" id="8647378">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647381">}</span><span class="op" id="8647382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647389">xml</span><span class="op" id="8647392">:</span>&nbsp;<span class="string" id="8647394">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8647416">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8647421">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="8647438">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8647443">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8647460">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647464">tab</span><span class="op" id="8647467">:</span>&nbsp;<span class="ident" id="8647469">TableAttrs</span><span class="op" id="8647479">{</span><span class="op" id="8647480">}</span><span class="op" id="8647481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647484">}</span><span class="op" id="8647485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8647492">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647546">xml</span><span class="op" id="8647549">:</span>&nbsp;<span class="string" id="8647551">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8647611">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8647616">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8647649">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8647654">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8647671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647675">tab</span><span class="op" id="8647678">:</span>&nbsp;<span class="ident" id="8647680">TableAttrs</span><span class="op" id="8647690">{</span><span class="ident" id="8647691">TAttr</span><span class="op" id="8647696">{</span><span class="ident" id="8647697">HTable</span><span class="op" id="8647703">:</span>&nbsp;<span class="string" id="8647705">&#34;hello&#34;</span><span class="op" id="8647712">,</span>&nbsp;<span class="ident" id="8647714">FTable</span><span class="op" id="8647720">:</span>&nbsp;<span class="string" id="8647722">&#34;&#34;</span><span class="op" id="8647724">}</span><span class="op" id="8647725">}</span><span class="op" id="8647726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647730">ns</span><span class="op" id="8647732">:</span>&nbsp;&nbsp;<span class="string" id="8647735">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="8647771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647774">}</span><span class="op" id="8647775">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8647778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8647782">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647836">xml</span><span class="op" id="8647839">:</span>&nbsp;<span class="string" id="8647841">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8647908">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8647913">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8647946">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8647951">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8647968">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8647972">tab</span><span class="op" id="8647975">:</span>&nbsp;<span class="ident" id="8647977">TableAttrs</span><span class="op" id="8647987">{</span><span class="ident" id="8647988">TAttr</span><span class="op" id="8647993">{</span><span class="ident" id="8647994">HTable</span><span class="op" id="8648000">:</span>&nbsp;<span class="string" id="8648002">&#34;&#34;</span><span class="op" id="8648004">,</span>&nbsp;<span class="ident" id="8648006">FTable</span><span class="op" id="8648012">:</span>&nbsp;<span class="string" id="8648014">&#34;world&#34;</span><span class="op" id="8648021">}</span><span class="op" id="8648022">}</span><span class="op" id="8648023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648027">ns</span><span class="op" id="8648029">:</span>&nbsp;&nbsp;<span class="string" id="8648032">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="8648061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648064">}</span><span class="op" id="8648065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648072">xml</span><span class="op" id="8648075">:</span>&nbsp;<span class="string" id="8648077">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8648099">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8648104">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="8648121">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8648126">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8648143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648147">tab</span><span class="op" id="8648150">:</span>&nbsp;<span class="ident" id="8648152">TableAttrs</span><span class="op" id="8648162">{</span><span class="op" id="8648163">}</span><span class="op" id="8648164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648168">ns</span><span class="op" id="8648170">:</span>&nbsp;&nbsp;<span class="string" id="8648173">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="8648198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648201">}</span><span class="op" id="8648202">,</span><br>
<span class="lineno">580</span><span class="op" id="8648204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8648207">func</span>&nbsp;<span class="ident" id="8648212">TestUnmarshalNSAttr</span><span class="op" id="8648231">(</span><span class="ident" id="8648232">t</span>&nbsp;<span class="op" id="8648234">*</span><span class="ident" id="8648235">testing</span><span class="op" id="8648242">.</span><span class="ident" id="8648243">T</span><span class="op" id="8648244">)</span>&nbsp;<span class="op" id="8648246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648249">for</span>&nbsp;<span class="ident" id="8648253">i</span><span class="op" id="8648254">,</span>&nbsp;<span class="ident" id="8648256">tt</span>&nbsp;<span class="op" id="8648259">:=</span>&nbsp;<span class="keyword" id="8648262">range</span>&nbsp;<span class="ident" id="8648268">tableAttrs</span>&nbsp;<span class="op" id="8648279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648283">var</span>&nbsp;<span class="ident" id="8648287">dst</span>&nbsp;<span class="ident" id="8648291">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648304">var</span>&nbsp;<span class="ident" id="8648308">err</span>&nbsp;<span class="builtintype" id="8648312">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648320">if</span>&nbsp;<span class="ident" id="8648323">tt</span><span class="op" id="8648325">.</span><span class="ident" id="8648326">ns</span>&nbsp;<span class="op" id="8648329">!=</span>&nbsp;<span class="string" id="8648332">&#34;&#34;</span>&nbsp;<span class="op" id="8648335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648340">d</span>&nbsp;<span class="op" id="8648342">:=</span>&nbsp;<span class="ident" id="8648345">NewDecoder</span><span class="op" id="8648355">(</span><span class="ident" id="8648356">strings</span><span class="op" id="8648363">.</span><span class="ident" id="8648364">NewReader</span><span class="op" id="8648373">(</span><span class="ident" id="8648374">tt</span><span class="op" id="8648376">.</span><span class="ident" id="8648377">xml</span><span class="op" id="8648380">)</span><span class="op" id="8648381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648386">d</span><span class="op" id="8648387">.</span><span class="ident" id="8648388">DefaultSpace</span>&nbsp;<span class="op" id="8648401">=</span>&nbsp;<span class="ident" id="8648403">tt</span><span class="op" id="8648405">.</span><span class="ident" id="8648406">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648412">err</span>&nbsp;<span class="op" id="8648416">=</span>&nbsp;<span class="ident" id="8648418">d</span><span class="op" id="8648419">.</span><span class="ident" id="8648420">Decode</span><span class="op" id="8648426">(</span><span class="op" id="8648427">&amp;</span><span class="ident" id="8648428">dst</span><span class="op" id="8648431">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648435">}</span>&nbsp;<span class="keyword" id="8648437">else</span>&nbsp;<span class="op" id="8648442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648447">err</span>&nbsp;<span class="op" id="8648451">=</span>&nbsp;<span class="ident" id="8648453">Unmarshal</span><span class="op" id="8648462">(</span><span class="op" id="8648463">[</span><span class="op" id="8648464">]</span><span class="builtintype" id="8648465">byte</span><span class="op" id="8648469">(</span><span class="ident" id="8648470">tt</span><span class="op" id="8648472">.</span><span class="ident" id="8648473">xml</span><span class="op" id="8648476">)</span><span class="op" id="8648477">,</span>&nbsp;<span class="op" id="8648479">&amp;</span><span class="ident" id="8648480">dst</span><span class="op" id="8648483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648491">if</span>&nbsp;<span class="ident" id="8648494">err</span>&nbsp;<span class="op" id="8648498">!=</span>&nbsp;<span class="ident" id="8648501">nil</span>&nbsp;<span class="op" id="8648505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648510">t</span><span class="op" id="8648511">.</span><span class="ident" id="8648512">Errorf</span><span class="op" id="8648518">(</span><span class="string" id="8648519">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8648539">,</span>&nbsp;<span class="ident" id="8648541">i</span><span class="op" id="8648542">,</span>&nbsp;<span class="ident" id="8648544">err</span><span class="op" id="8648547">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648552">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648567">want</span>&nbsp;<span class="op" id="8648572">:=</span>&nbsp;<span class="ident" id="8648575">tt</span><span class="op" id="8648577">.</span><span class="ident" id="8648578">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648584">if</span>&nbsp;<span class="ident" id="8648587">dst</span>&nbsp;<span class="op" id="8648591">!=</span>&nbsp;<span class="ident" id="8648594">want</span>&nbsp;<span class="op" id="8648599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648604">t</span><span class="op" id="8648605">.</span><span class="ident" id="8648606">Errorf</span><span class="op" id="8648612">(</span><span class="string" id="8648613">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="8648637">,</span>&nbsp;<span class="ident" id="8648639">i</span><span class="op" id="8648640">,</span>&nbsp;<span class="ident" id="8648642">dst</span><span class="op" id="8648645">,</span>&nbsp;<span class="ident" id="8648647">want</span><span class="op" id="8648651">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648658">}</span><br>
<span class="lineno"></span><span class="op" id="8648660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8648663">func</span>&nbsp;<span class="ident" id="8648668">TestMarshalNSAttr</span><span class="op" id="8648685">(</span><span class="ident" id="8648686">t</span>&nbsp;<span class="op" id="8648688">*</span><span class="ident" id="8648689">testing</span><span class="op" id="8648696">.</span><span class="ident" id="8648697">T</span><span class="op" id="8648698">)</span>&nbsp;<span class="op" id="8648700">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648703">src</span>&nbsp;<span class="op" id="8648707">:=</span>&nbsp;<span class="ident" id="8648710">TableAttrs</span><span class="op" id="8648720">{</span><span class="ident" id="8648721">TAttr</span><span class="op" id="8648726">{</span><span class="string" id="8648727">&#34;hello&#34;</span><span class="op" id="8648734">,</span>&nbsp;<span class="string" id="8648736">&#34;world&#34;</span><span class="op" id="8648743">,</span>&nbsp;<span class="string" id="8648745">&#34;en_US&#34;</span><span class="op" id="8648752">,</span>&nbsp;<span class="string" id="8648754">&#34;other1&#34;</span><span class="op" id="8648762">,</span>&nbsp;<span class="string" id="8648764">&#34;other2&#34;</span><span class="op" id="8648772">,</span>&nbsp;<span class="string" id="8648774">&#34;other3&#34;</span><span class="op" id="8648782">,</span>&nbsp;<span class="string" id="8648784">&#34;other4&#34;</span><span class="op" id="8648792">}</span><span class="op" id="8648793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648796">data</span><span class="op" id="8648800">,</span>&nbsp;<span class="ident" id="8648802">err</span>&nbsp;<span class="op" id="8648806">:=</span>&nbsp;<span class="ident" id="8648809">Marshal</span><span class="op" id="8648816">(</span><span class="op" id="8648817">&amp;</span><span class="ident" id="8648818">src</span><span class="op" id="8648821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8648824">if</span>&nbsp;<span class="ident" id="8648827">err</span>&nbsp;<span class="op" id="8648831">!=</span>&nbsp;<span class="ident" id="8648834">nil</span>&nbsp;<span class="op" id="8648838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648842">t</span><span class="op" id="8648843">.</span><span class="ident" id="8648844">Fatalf</span><span class="op" id="8648850">(</span><span class="string" id="8648851">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="8648864">,</span>&nbsp;<span class="ident" id="8648866">err</span><span class="op" id="8648869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8648872">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8648875">want</span>&nbsp;<span class="op" id="8648880">:=</span>&nbsp;<span class="string" id="8648883">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649324">str</span>&nbsp;<span class="op" id="8649328">:=</span>&nbsp;<span class="builtintype" id="8649331">string</span><span class="op" id="8649337">(</span><span class="ident" id="8649338">data</span><span class="op" id="8649342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649345">if</span>&nbsp;<span class="ident" id="8649348">str</span>&nbsp;<span class="op" id="8649352">!=</span>&nbsp;<span class="ident" id="8649355">want</span>&nbsp;<span class="op" id="8649360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649364">t</span><span class="op" id="8649365">.</span><span class="ident" id="8649366">Errorf</span><span class="op" id="8649372">(</span><span class="string" id="8649373">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="8649407">,</span>&nbsp;<span class="ident" id="8649409">str</span><span class="op" id="8649412">,</span>&nbsp;<span class="ident" id="8649414">want</span><span class="op" id="8649418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649421">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649425">var</span>&nbsp;<span class="ident" id="8649429">dst</span>&nbsp;<span class="ident" id="8649433">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649445">if</span>&nbsp;<span class="ident" id="8649448">err</span>&nbsp;<span class="op" id="8649452">:=</span>&nbsp;<span class="ident" id="8649455">Unmarshal</span><span class="op" id="8649464">(</span><span class="ident" id="8649465">data</span><span class="op" id="8649469">,</span>&nbsp;<span class="op" id="8649471">&amp;</span><span class="ident" id="8649472">dst</span><span class="op" id="8649475">)</span><span class="op" id="8649476">;</span>&nbsp;<span class="ident" id="8649478">err</span>&nbsp;<span class="op" id="8649482">!=</span>&nbsp;<span class="ident" id="8649485">nil</span>&nbsp;<span class="op" id="8649489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649493">t</span><span class="op" id="8649494">.</span><span class="ident" id="8649495">Errorf</span><span class="op" id="8649501">(</span><span class="string" id="8649502">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8649517">,</span>&nbsp;<span class="ident" id="8649519">err</span><span class="op" id="8649522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649525">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649529">if</span>&nbsp;<span class="ident" id="8649532">dst</span>&nbsp;<span class="op" id="8649536">!=</span>&nbsp;<span class="ident" id="8649539">src</span>&nbsp;<span class="op" id="8649543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649547">t</span><span class="op" id="8649548">.</span><span class="ident" id="8649549">Errorf</span><span class="op" id="8649555">(</span><span class="string" id="8649556">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8649581">,</span>&nbsp;<span class="ident" id="8649583">dst</span><span class="op" id="8649586">,</span>&nbsp;<span class="ident" id="8649588">src</span><span class="op" id="8649591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649594">}</span><br>
<span class="lineno"></span><span class="op" id="8649596">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="8649599">type</span>&nbsp;<span class="ident" id="8649604">MyCharData</span>&nbsp;<span class="keyword" id="8649615">struct</span>&nbsp;<span class="op" id="8649622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649625">body</span>&nbsp;<span class="builtintype" id="8649630">string</span><br>
<span class="lineno"></span><span class="op" id="8649637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="8649640">func</span>&nbsp;<span class="op" id="8649645">(</span><span class="ident" id="8649646">m</span>&nbsp;<span class="op" id="8649648">*</span><span class="ident" id="8649649">MyCharData</span><span class="op" id="8649659">)</span>&nbsp;<span class="ident" id="8649661">UnmarshalXML</span><span class="op" id="8649673">(</span><span class="ident" id="8649674">d</span>&nbsp;<span class="op" id="8649676">*</span><span class="ident" id="8649677">Decoder</span><span class="op" id="8649684">,</span>&nbsp;<span class="ident" id="8649686">start</span>&nbsp;<span class="ident" id="8649692">StartElement</span><span class="op" id="8649704">)</span>&nbsp;<span class="builtintype" id="8649706">error</span>&nbsp;<span class="op" id="8649712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649715">for</span>&nbsp;<span class="op" id="8649719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649723">t</span><span class="op" id="8649724">,</span>&nbsp;<span class="ident" id="8649726">err</span>&nbsp;<span class="op" id="8649730">:=</span>&nbsp;<span class="ident" id="8649733">d</span><span class="op" id="8649734">.</span><span class="ident" id="8649735">Token</span><span class="op" id="8649740">(</span><span class="op" id="8649741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649745">if</span>&nbsp;<span class="ident" id="8649748">err</span>&nbsp;<span class="op" id="8649752">==</span>&nbsp;<span class="ident" id="8649755">io</span><span class="op" id="8649757">.</span><span class="ident" id="8649758">EOF</span>&nbsp;<span class="op" id="8649762">{</span>&nbsp;<span class="comment" id="8649764">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649791">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649803">if</span>&nbsp;<span class="ident" id="8649806">err</span>&nbsp;<span class="op" id="8649810">!=</span>&nbsp;<span class="ident" id="8649813">nil</span>&nbsp;<span class="op" id="8649817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649822">return</span>&nbsp;<span class="ident" id="8649829">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649839">if</span>&nbsp;<span class="ident" id="8649842">char</span><span class="op" id="8649846">,</span>&nbsp;<span class="ident" id="8649848">ok</span>&nbsp;<span class="op" id="8649851">:=</span>&nbsp;<span class="ident" id="8649854">t</span><span class="op" id="8649855">.</span><span class="op" id="8649856">(</span><span class="ident" id="8649857">CharData</span><span class="op" id="8649865">)</span><span class="op" id="8649866">;</span>&nbsp;<span class="ident" id="8649868">ok</span>&nbsp;<span class="op" id="8649871">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8649876">m</span><span class="op" id="8649877">.</span><span class="ident" id="8649878">body</span>&nbsp;<span class="op" id="8649883">+=</span>&nbsp;<span class="builtintype" id="8649886">string</span><span class="op" id="8649892">(</span><span class="ident" id="8649893">char</span><span class="op" id="8649897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8649904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8649907">return</span>&nbsp;<span class="ident" id="8649914">nil</span><br>
<span class="lineno"></span><span class="op" id="8649918">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="8649921">var</span>&nbsp;<span class="ident" id="8649925">_</span>&nbsp;<span class="ident" id="8649927">Unmarshaler</span>&nbsp;<span class="op" id="8649939">=</span>&nbsp;<span class="op" id="8649941">(</span><span class="op" id="8649942">*</span><span class="ident" id="8649943">MyCharData</span><span class="op" id="8649953">)</span><span class="op" id="8649954">(</span><span class="ident" id="8649955">nil</span><span class="op" id="8649958">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8649961">func</span>&nbsp;<span class="op" id="8649966">(</span><span class="ident" id="8649967">m</span>&nbsp;<span class="op" id="8649969">*</span><span class="ident" id="8649970">MyCharData</span><span class="op" id="8649980">)</span>&nbsp;<span class="ident" id="8649982">UnmarshalXMLAttr</span><span class="op" id="8649998">(</span><span class="ident" id="8649999">attr</span>&nbsp;<span class="ident" id="8650004">Attr</span><span class="op" id="8650008">)</span>&nbsp;<span class="builtintype" id="8650010">error</span>&nbsp;<span class="op" id="8650016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8650019">panic</span><span class="op" id="8650024">(</span><span class="string" id="8650025">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="8650040">)</span><br>
<span class="lineno">650</span><span class="op" id="8650042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8650045">type</span>&nbsp;<span class="ident" id="8650050">MyAttr</span>&nbsp;<span class="keyword" id="8650057">struct</span>&nbsp;<span class="op" id="8650064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650067">attr</span>&nbsp;<span class="builtintype" id="8650072">string</span><br>
<span class="lineno"></span><span class="op" id="8650079">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="8650082">func</span>&nbsp;<span class="op" id="8650087">(</span><span class="ident" id="8650088">m</span>&nbsp;<span class="op" id="8650090">*</span><span class="ident" id="8650091">MyAttr</span><span class="op" id="8650097">)</span>&nbsp;<span class="ident" id="8650099">UnmarshalXMLAttr</span><span class="op" id="8650115">(</span><span class="ident" id="8650116">attr</span>&nbsp;<span class="ident" id="8650121">Attr</span><span class="op" id="8650125">)</span>&nbsp;<span class="builtintype" id="8650127">error</span>&nbsp;<span class="op" id="8650133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650136">m</span><span class="op" id="8650137">.</span><span class="ident" id="8650138">attr</span>&nbsp;<span class="op" id="8650143">=</span>&nbsp;<span class="ident" id="8650145">attr</span><span class="op" id="8650149">.</span><span class="ident" id="8650150">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8650157">return</span>&nbsp;<span class="ident" id="8650164">nil</span><br>
<span class="lineno"></span><span class="op" id="8650168">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="8650171">var</span>&nbsp;<span class="ident" id="8650175">_</span>&nbsp;<span class="ident" id="8650177">UnmarshalerAttr</span>&nbsp;<span class="op" id="8650193">=</span>&nbsp;<span class="op" id="8650195">(</span><span class="op" id="8650196">*</span><span class="ident" id="8650197">MyAttr</span><span class="op" id="8650203">)</span><span class="op" id="8650204">(</span><span class="ident" id="8650205">nil</span><span class="op" id="8650208">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8650211">type</span>&nbsp;<span class="ident" id="8650216">MyStruct</span>&nbsp;<span class="keyword" id="8650225">struct</span>&nbsp;<span class="op" id="8650232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650235">Data</span>&nbsp;<span class="op" id="8650240">*</span><span class="ident" id="8650241">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650253">Attr</span>&nbsp;<span class="op" id="8650258">*</span><span class="ident" id="8650259">MyAttr</span>&nbsp;<span class="string" id="8650266">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650282">Data2</span>&nbsp;<span class="ident" id="8650288">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650300">Attr2</span>&nbsp;<span class="ident" id="8650306">MyAttr</span>&nbsp;<span class="string" id="8650313">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8650327">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="8650330">func</span>&nbsp;<span class="ident" id="8650335">TestUnmarshaler</span><span class="op" id="8650350">(</span><span class="ident" id="8650351">t</span>&nbsp;<span class="op" id="8650353">*</span><span class="ident" id="8650354">testing</span><span class="op" id="8650361">.</span><span class="ident" id="8650362">T</span><span class="op" id="8650363">)</span>&nbsp;<span class="op" id="8650365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650368">xml</span>&nbsp;<span class="op" id="8650372">:=</span>&nbsp;<span class="string" id="8650375">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8650562">var</span>&nbsp;<span class="ident" id="8650566">m</span>&nbsp;<span class="ident" id="8650568">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8650578">if</span>&nbsp;<span class="ident" id="8650581">err</span>&nbsp;<span class="op" id="8650585">:=</span>&nbsp;<span class="ident" id="8650588">Unmarshal</span><span class="op" id="8650597">(</span><span class="op" id="8650598">[</span><span class="op" id="8650599">]</span><span class="builtintype" id="8650600">byte</span><span class="op" id="8650604">(</span><span class="ident" id="8650605">xml</span><span class="op" id="8650608">)</span><span class="op" id="8650609">,</span>&nbsp;<span class="op" id="8650611">&amp;</span><span class="ident" id="8650612">m</span><span class="op" id="8650613">)</span><span class="op" id="8650614">;</span>&nbsp;<span class="ident" id="8650616">err</span>&nbsp;<span class="op" id="8650620">!=</span>&nbsp;<span class="ident" id="8650623">nil</span>&nbsp;<span class="op" id="8650627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650631">t</span><span class="op" id="8650632">.</span><span class="ident" id="8650633">Fatal</span><span class="op" id="8650638">(</span><span class="ident" id="8650639">err</span><span class="op" id="8650642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8650645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8650649">if</span>&nbsp;<span class="ident" id="8650652">m</span><span class="op" id="8650653">.</span><span class="ident" id="8650654">Data</span>&nbsp;<span class="op" id="8650659">==</span>&nbsp;<span class="ident" id="8650662">nil</span>&nbsp;<span class="op" id="8650666">||</span>&nbsp;<span class="ident" id="8650669">m</span><span class="op" id="8650670">.</span><span class="ident" id="8650671">Attr</span>&nbsp;<span class="op" id="8650676">==</span>&nbsp;<span class="ident" id="8650679">nil</span>&nbsp;<span class="op" id="8650683">||</span>&nbsp;<span class="ident" id="8650686">m</span><span class="op" id="8650687">.</span><span class="ident" id="8650688">Data</span><span class="op" id="8650692">.</span><span class="ident" id="8650693">body</span>&nbsp;<span class="op" id="8650698">!=</span>&nbsp;<span class="string" id="8650701">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="8650715">||</span>&nbsp;<span class="ident" id="8650718">m</span><span class="op" id="8650719">.</span><span class="ident" id="8650720">Attr</span><span class="op" id="8650724">.</span><span class="ident" id="8650725">attr</span>&nbsp;<span class="op" id="8650730">!=</span>&nbsp;<span class="string" id="8650733">&#34;attr1&#34;</span>&nbsp;<span class="op" id="8650741">||</span>&nbsp;<span class="ident" id="8650744">m</span><span class="op" id="8650745">.</span><span class="ident" id="8650746">Data2</span><span class="op" id="8650751">.</span><span class="ident" id="8650752">body</span>&nbsp;<span class="op" id="8650757">!=</span>&nbsp;<span class="string" id="8650760">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="8650774">||</span>&nbsp;<span class="ident" id="8650777">m</span><span class="op" id="8650778">.</span><span class="ident" id="8650779">Attr2</span><span class="op" id="8650784">.</span><span class="ident" id="8650785">attr</span>&nbsp;<span class="op" id="8650790">!=</span>&nbsp;<span class="string" id="8650793">&#34;attr2&#34;</span>&nbsp;<span class="op" id="8650801">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650805">t</span><span class="op" id="8650806">.</span><span class="ident" id="8650807">Errorf</span><span class="op" id="8650813">(</span><span class="string" id="8650814">&#34;m=%#+v\n&#34;</span><span class="op" id="8650824">,</span>&nbsp;<span class="ident" id="8650826">m</span><span class="op" id="8650827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8650830">}</span><br>
<span class="lineno"></span><span class="op" id="8650832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8650835">type</span>&nbsp;<span class="ident" id="8650840">Pea</span>&nbsp;<span class="keyword" id="8650844">struct</span>&nbsp;<span class="op" id="8650851">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650854">Cotelydon</span>&nbsp;<span class="builtintype" id="8650864">string</span><br>
<span class="lineno"></span><span class="op" id="8650871">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8650874">type</span>&nbsp;<span class="ident" id="8650879">Pod</span>&nbsp;<span class="keyword" id="8650883">struct</span>&nbsp;<span class="op" id="8650890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8650893">Pea</span>&nbsp;<span class="keyword" id="8650897">interface</span><span class="op" id="8650906">{</span><span class="op" id="8650907">}</span>&nbsp;<span class="string" id="8650909">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="8650921">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8650924">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="8650978">func</span>&nbsp;<span class="ident" id="8650983">TestUnmarshalIntoInterface</span><span class="op" id="8651009">(</span><span class="ident" id="8651010">t</span>&nbsp;<span class="op" id="8651012">*</span><span class="ident" id="8651013">testing</span><span class="op" id="8651020">.</span><span class="ident" id="8651021">T</span><span class="op" id="8651022">)</span>&nbsp;<span class="op" id="8651024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651027">pod</span>&nbsp;<span class="op" id="8651031">:=</span>&nbsp;<span class="builtinfunc" id="8651034">new</span><span class="op" id="8651037">(</span><span class="ident" id="8651038">Pod</span><span class="op" id="8651041">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651044">pod</span><span class="op" id="8651047">.</span><span class="ident" id="8651048">Pea</span>&nbsp;<span class="op" id="8651052">=</span>&nbsp;<span class="builtinfunc" id="8651054">new</span><span class="op" id="8651057">(</span><span class="ident" id="8651058">Pea</span><span class="op" id="8651061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651064">xml</span>&nbsp;<span class="op" id="8651068">:=</span>&nbsp;<span class="string" id="8651071">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651131">err</span>&nbsp;<span class="op" id="8651135">:=</span>&nbsp;<span class="ident" id="8651138">Unmarshal</span><span class="op" id="8651147">(</span><span class="op" id="8651148">[</span><span class="op" id="8651149">]</span><span class="builtintype" id="8651150">byte</span><span class="op" id="8651154">(</span><span class="ident" id="8651155">xml</span><span class="op" id="8651158">)</span><span class="op" id="8651159">,</span>&nbsp;<span class="ident" id="8651161">pod</span><span class="op" id="8651164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8651167">if</span>&nbsp;<span class="ident" id="8651170">err</span>&nbsp;<span class="op" id="8651174">!=</span>&nbsp;<span class="ident" id="8651177">nil</span>&nbsp;<span class="op" id="8651181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651185">t</span><span class="op" id="8651186">.</span><span class="ident" id="8651187">Fatalf</span><span class="op" id="8651193">(</span><span class="string" id="8651194">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8651222">,</span>&nbsp;<span class="ident" id="8651224">xml</span><span class="op" id="8651227">,</span>&nbsp;<span class="ident" id="8651229">err</span><span class="op" id="8651232">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8651235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651238">pea</span><span class="op" id="8651241">,</span>&nbsp;<span class="ident" id="8651243">ok</span>&nbsp;<span class="op" id="8651246">:=</span>&nbsp;<span class="ident" id="8651249">pod</span><span class="op" id="8651252">.</span><span class="ident" id="8651253">Pea</span><span class="op" id="8651256">.</span><span class="op" id="8651257">(</span><span class="op" id="8651258">*</span><span class="ident" id="8651259">Pea</span><span class="op" id="8651262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8651265">if</span>&nbsp;<span class="op" id="8651268">!</span><span class="ident" id="8651269">ok</span>&nbsp;<span class="op" id="8651272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651276">t</span><span class="op" id="8651277">.</span><span class="ident" id="8651278">Fatalf</span><span class="op" id="8651284">(</span><span class="string" id="8651285">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="8651334">,</span>&nbsp;<span class="ident" id="8651336">pod</span><span class="op" id="8651339">.</span><span class="ident" id="8651340">Pea</span><span class="op" id="8651343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8651346">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651349">have</span><span class="op" id="8651353">,</span>&nbsp;<span class="ident" id="8651355">want</span>&nbsp;<span class="op" id="8651360">:=</span>&nbsp;<span class="ident" id="8651363">pea</span><span class="op" id="8651366">.</span><span class="ident" id="8651367">Cotelydon</span><span class="op" id="8651376">,</span>&nbsp;<span class="string" id="8651378">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8651393">if</span>&nbsp;<span class="ident" id="8651396">have</span>&nbsp;<span class="op" id="8651401">!=</span>&nbsp;<span class="ident" id="8651404">want</span>&nbsp;<span class="op" id="8651409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651413">t</span><span class="op" id="8651414">.</span><span class="ident" id="8651415">Errorf</span><span class="op" id="8651421">(</span><span class="string" id="8651422">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8651475">,</span>&nbsp;<span class="ident" id="8651477">have</span><span class="op" id="8651481">,</span>&nbsp;<span class="ident" id="8651483">want</span><span class="op" id="8651487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8651490">}</span><br>
<span class="lineno"></span><span class="op" id="8651492">}</span>
</div>
</body>
</html>
