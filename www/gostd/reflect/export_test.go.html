<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7752128">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7752184">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7752238">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7752289">package</span>&nbsp;<span class="ident" id="7752297">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7752306">//&nbsp;MakeRO&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;v&nbsp;with&nbsp;the&nbsp;read-only&nbsp;flag&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="7752365">func</span>&nbsp;<span class="ident" id="7752370">MakeRO</span><span class="op" id="7752376">(</span><span class="ident" id="7752377">v</span>&nbsp;<span class="ident" id="7752379">Value</span><span class="op" id="7752384">)</span>&nbsp;<span class="ident" id="7752386">Value</span>&nbsp;<span class="op" id="7752392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752395">v</span><span class="op" id="7752396">.</span><span class="ident" id="7752397">flag</span>&nbsp;<span class="op" id="7752402">|=</span>&nbsp;<span class="ident" id="7752405">flagRO</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752413">return</span>&nbsp;<span class="ident" id="7752420">v</span><br>
<span class="lineno"></span><span class="op" id="7752422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7752425">//&nbsp;IsRO&nbsp;reports&nbsp;whether&nbsp;v&#39;s&nbsp;read-only&nbsp;flag&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="7752476">func</span>&nbsp;<span class="ident" id="7752481">IsRO</span><span class="op" id="7752485">(</span><span class="ident" id="7752486">v</span>&nbsp;<span class="ident" id="7752488">Value</span><span class="op" id="7752493">)</span>&nbsp;<span class="builtintype" id="7752495">bool</span>&nbsp;<span class="op" id="7752500">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752503">return</span>&nbsp;<span class="ident" id="7752510">v</span><span class="op" id="7752511">.</span><span class="ident" id="7752512">flag</span><span class="op" id="7752516">&amp;</span><span class="ident" id="7752517">flagRO</span>&nbsp;<span class="op" id="7752524">!=</span>&nbsp;<span class="num" id="7752527">0</span><br>
<span class="lineno"></span><span class="op" id="7752529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7752532">var</span>&nbsp;<span class="ident" id="7752536">ArrayOf</span>&nbsp;<span class="op" id="7752544">=</span>&nbsp;<span class="ident" id="7752546">arrayOf</span><br>
<span class="lineno"></span><span class="keyword" id="7752554">var</span>&nbsp;<span class="ident" id="7752558">CallGC</span>&nbsp;<span class="op" id="7752565">=</span>&nbsp;<span class="op" id="7752567">&amp;</span><span class="ident" id="7752568">callGC</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7752576">const</span>&nbsp;<span class="ident" id="7752582">PtrSize</span>&nbsp;<span class="op" id="7752590">=</span>&nbsp;<span class="ident" id="7752592">ptrSize</span><br>
<span class="lineno"></span><span class="keyword" id="7752600">const</span>&nbsp;<span class="ident" id="7752606">BitsPointer</span>&nbsp;<span class="op" id="7752618">=</span>&nbsp;<span class="ident" id="7752620">bitsPointer</span><br>
<span class="lineno"></span><span class="keyword" id="7752632">const</span>&nbsp;<span class="ident" id="7752638">BitsScalar</span>&nbsp;<span class="op" id="7752649">=</span>&nbsp;<span class="ident" id="7752651">bitsScalar</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7752663">func</span>&nbsp;<span class="ident" id="7752668">FuncLayout</span><span class="op" id="7752678">(</span><span class="ident" id="7752679">t</span>&nbsp;<span class="ident" id="7752681">Type</span><span class="op" id="7752685">,</span>&nbsp;<span class="ident" id="7752687">rcvr</span>&nbsp;<span class="ident" id="7752692">Type</span><span class="op" id="7752696">)</span>&nbsp;<span class="op" id="7752698">(</span><span class="ident" id="7752699">frametype</span>&nbsp;<span class="ident" id="7752709">Type</span><span class="op" id="7752713">,</span>&nbsp;<span class="ident" id="7752715">argSize</span><span class="op" id="7752722">,</span>&nbsp;<span class="ident" id="7752724">retOffset</span>&nbsp;<span class="builtintype" id="7752734">uintptr</span><span class="op" id="7752741">,</span>&nbsp;<span class="ident" id="7752743">stack</span>&nbsp;<span class="op" id="7752749">[</span><span class="op" id="7752750">]</span><span class="builtintype" id="7752751">byte</span><span class="op" id="7752755">)</span>&nbsp;<span class="op" id="7752757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752760">var</span>&nbsp;<span class="ident" id="7752764">ft</span>&nbsp;<span class="op" id="7752767">*</span><span class="ident" id="7752768">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752775">var</span>&nbsp;<span class="ident" id="7752779">s</span>&nbsp;<span class="op" id="7752781">*</span><span class="ident" id="7752782">bitVector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752793">if</span>&nbsp;<span class="ident" id="7752796">rcvr</span>&nbsp;<span class="op" id="7752801">!=</span>&nbsp;<span class="ident" id="7752804">nil</span>&nbsp;<span class="op" id="7752808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752812">ft</span><span class="op" id="7752814">,</span>&nbsp;<span class="ident" id="7752816">argSize</span><span class="op" id="7752823">,</span>&nbsp;<span class="ident" id="7752825">retOffset</span><span class="op" id="7752834">,</span>&nbsp;<span class="ident" id="7752836">s</span>&nbsp;<span class="op" id="7752838">=</span>&nbsp;<span class="ident" id="7752840">funcLayout</span><span class="op" id="7752850">(</span><span class="ident" id="7752851">t</span><span class="op" id="7752852">.</span><span class="op" id="7752853">(</span><span class="op" id="7752854">*</span><span class="ident" id="7752855">rtype</span><span class="op" id="7752860">)</span><span class="op" id="7752861">,</span>&nbsp;<span class="ident" id="7752863">rcvr</span><span class="op" id="7752867">.</span><span class="op" id="7752868">(</span><span class="op" id="7752869">*</span><span class="ident" id="7752870">rtype</span><span class="op" id="7752875">)</span><span class="op" id="7752876">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7752879">}</span>&nbsp;<span class="keyword" id="7752881">else</span>&nbsp;<span class="op" id="7752886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752890">ft</span><span class="op" id="7752892">,</span>&nbsp;<span class="ident" id="7752894">argSize</span><span class="op" id="7752901">,</span>&nbsp;<span class="ident" id="7752903">retOffset</span><span class="op" id="7752912">,</span>&nbsp;<span class="ident" id="7752914">s</span>&nbsp;<span class="op" id="7752916">=</span>&nbsp;<span class="ident" id="7752918">funcLayout</span><span class="op" id="7752928">(</span><span class="ident" id="7752929">t</span><span class="op" id="7752930">.</span><span class="op" id="7752931">(</span><span class="op" id="7752932">*</span><span class="ident" id="7752933">rtype</span><span class="op" id="7752938">)</span><span class="op" id="7752939">,</span>&nbsp;<span class="ident" id="7752941">nil</span><span class="op" id="7752944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7752947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752950">frametype</span>&nbsp;<span class="op" id="7752960">=</span>&nbsp;<span class="ident" id="7752962">ft</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752966">for</span>&nbsp;<span class="ident" id="7752970">i</span>&nbsp;<span class="op" id="7752972">:=</span>&nbsp;<span class="builtintype" id="7752975">uint32</span><span class="op" id="7752981">(</span><span class="num" id="7752982">0</span><span class="op" id="7752983">)</span><span class="op" id="7752984">;</span>&nbsp;<span class="ident" id="7752986">i</span>&nbsp;<span class="op" id="7752988">&lt;</span>&nbsp;<span class="ident" id="7752990">s</span><span class="op" id="7752991">.</span><span class="ident" id="7752992">n</span><span class="op" id="7752993">;</span>&nbsp;<span class="ident" id="7752995">i</span>&nbsp;<span class="op" id="7752997">+=</span>&nbsp;<span class="num" id="7753000">2</span>&nbsp;<span class="op" id="7753002">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753006">stack</span>&nbsp;<span class="op" id="7753012">=</span>&nbsp;<span class="builtinfunc" id="7753014">append</span><span class="op" id="7753020">(</span><span class="ident" id="7753021">stack</span><span class="op" id="7753026">,</span>&nbsp;<span class="ident" id="7753028">s</span><span class="op" id="7753029">.</span><span class="ident" id="7753030">data</span><span class="op" id="7753034">[</span><span class="ident" id="7753035">i</span><span class="op" id="7753036">/</span><span class="num" id="7753037">8</span><span class="op" id="7753038">]</span><span class="op" id="7753039">&gt;&gt;</span><span class="op" id="7753041">(</span><span class="ident" id="7753042">i</span><span class="op" id="7753043">%</span><span class="num" id="7753044">8</span><span class="op" id="7753045">)</span><span class="op" id="7753046">&amp;</span><span class="num" id="7753047">3</span><span class="op" id="7753048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7753051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7753054">return</span><br>
<span class="lineno"></span><span class="op" id="7753061">}</span>
</div>
</body>
</html>
