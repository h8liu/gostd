<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4999852">//&nbsp;Created&nbsp;by&nbsp;encgen&nbsp;--output&nbsp;enc_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4999911">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4999966">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="5000020">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5000071">package</span>&nbsp;<span class="ident" id="5000079">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5000084">import</span>&nbsp;<span class="op" id="5000091">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5000094">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="5000104">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5000107">var</span>&nbsp;<span class="ident" id="5000111">encArrayHelper</span>&nbsp;<span class="op" id="5000126">=</span>&nbsp;<span class="keyword" id="5000128">map</span><span class="op" id="5000131">[</span><span class="ident" id="5000132">reflect</span><span class="op" id="5000139">.</span><span class="ident" id="5000140">Kind</span><span class="op" id="5000144">]</span><span class="ident" id="5000145">encHelper</span><span class="op" id="5000154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000157">reflect</span><span class="op" id="5000164">.</span><span class="ident" id="5000165">Bool</span><span class="op" id="5000169">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000177">encBoolArray</span><span class="op" id="5000189">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000192">reflect</span><span class="op" id="5000199">.</span><span class="ident" id="5000200">Complex64</span><span class="op" id="5000209">:</span>&nbsp;&nbsp;<span class="ident" id="5000212">encComplex64Array</span><span class="op" id="5000229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000232">reflect</span><span class="op" id="5000239">.</span><span class="ident" id="5000240">Complex128</span><span class="op" id="5000250">:</span>&nbsp;<span class="ident" id="5000252">encComplex128Array</span><span class="op" id="5000270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000273">reflect</span><span class="op" id="5000280">.</span><span class="ident" id="5000281">Float32</span><span class="op" id="5000288">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000293">encFloat32Array</span><span class="op" id="5000308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000311">reflect</span><span class="op" id="5000318">.</span><span class="ident" id="5000319">Float64</span><span class="op" id="5000326">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000331">encFloat64Array</span><span class="op" id="5000346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000349">reflect</span><span class="op" id="5000356">.</span><span class="ident" id="5000357">Int</span><span class="op" id="5000360">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000369">encIntArray</span><span class="op" id="5000380">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000383">reflect</span><span class="op" id="5000390">.</span><span class="ident" id="5000391">Int16</span><span class="op" id="5000396">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000403">encInt16Array</span><span class="op" id="5000416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000419">reflect</span><span class="op" id="5000426">.</span><span class="ident" id="5000427">Int32</span><span class="op" id="5000432">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000439">encInt32Array</span><span class="op" id="5000452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000455">reflect</span><span class="op" id="5000462">.</span><span class="ident" id="5000463">Int64</span><span class="op" id="5000468">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000475">encInt64Array</span><span class="op" id="5000488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000491">reflect</span><span class="op" id="5000498">.</span><span class="ident" id="5000499">Int8</span><span class="op" id="5000503">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000511">encInt8Array</span><span class="op" id="5000523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000526">reflect</span><span class="op" id="5000533">.</span><span class="ident" id="5000534">String</span><span class="op" id="5000540">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000546">encStringArray</span><span class="op" id="5000560">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000563">reflect</span><span class="op" id="5000570">.</span><span class="ident" id="5000571">Uint</span><span class="op" id="5000575">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000583">encUintArray</span><span class="op" id="5000595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000598">reflect</span><span class="op" id="5000605">.</span><span class="ident" id="5000606">Uint16</span><span class="op" id="5000612">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000618">encUint16Array</span><span class="op" id="5000632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000635">reflect</span><span class="op" id="5000642">.</span><span class="ident" id="5000643">Uint32</span><span class="op" id="5000649">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000655">encUint32Array</span><span class="op" id="5000669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000672">reflect</span><span class="op" id="5000679">.</span><span class="ident" id="5000680">Uint64</span><span class="op" id="5000686">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000692">encUint64Array</span><span class="op" id="5000706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000709">reflect</span><span class="op" id="5000716">.</span><span class="ident" id="5000717">Uintptr</span><span class="op" id="5000724">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000729">encUintptrArray</span><span class="op" id="5000744">,</span><br>
<span class="lineno">30</span><span class="op" id="5000746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5000749">var</span>&nbsp;<span class="ident" id="5000753">encSliceHelper</span>&nbsp;<span class="op" id="5000768">=</span>&nbsp;<span class="keyword" id="5000770">map</span><span class="op" id="5000773">[</span><span class="ident" id="5000774">reflect</span><span class="op" id="5000781">.</span><span class="ident" id="5000782">Kind</span><span class="op" id="5000786">]</span><span class="ident" id="5000787">encHelper</span><span class="op" id="5000796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000799">reflect</span><span class="op" id="5000806">.</span><span class="ident" id="5000807">Bool</span><span class="op" id="5000811">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000819">encBoolSlice</span><span class="op" id="5000831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000834">reflect</span><span class="op" id="5000841">.</span><span class="ident" id="5000842">Complex64</span><span class="op" id="5000851">:</span>&nbsp;&nbsp;<span class="ident" id="5000854">encComplex64Slice</span><span class="op" id="5000871">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000874">reflect</span><span class="op" id="5000881">.</span><span class="ident" id="5000882">Complex128</span><span class="op" id="5000892">:</span>&nbsp;<span class="ident" id="5000894">encComplex128Slice</span><span class="op" id="5000912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000915">reflect</span><span class="op" id="5000922">.</span><span class="ident" id="5000923">Float32</span><span class="op" id="5000930">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000935">encFloat32Slice</span><span class="op" id="5000950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000953">reflect</span><span class="op" id="5000960">.</span><span class="ident" id="5000961">Float64</span><span class="op" id="5000968">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5000973">encFloat64Slice</span><span class="op" id="5000988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5000991">reflect</span><span class="op" id="5000998">.</span><span class="ident" id="5000999">Int</span><span class="op" id="5001002">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001011">encIntSlice</span><span class="op" id="5001022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001025">reflect</span><span class="op" id="5001032">.</span><span class="ident" id="5001033">Int16</span><span class="op" id="5001038">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001045">encInt16Slice</span><span class="op" id="5001058">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001061">reflect</span><span class="op" id="5001068">.</span><span class="ident" id="5001069">Int32</span><span class="op" id="5001074">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001081">encInt32Slice</span><span class="op" id="5001094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001097">reflect</span><span class="op" id="5001104">.</span><span class="ident" id="5001105">Int64</span><span class="op" id="5001110">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001117">encInt64Slice</span><span class="op" id="5001130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001133">reflect</span><span class="op" id="5001140">.</span><span class="ident" id="5001141">Int8</span><span class="op" id="5001145">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001153">encInt8Slice</span><span class="op" id="5001165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001168">reflect</span><span class="op" id="5001175">.</span><span class="ident" id="5001176">String</span><span class="op" id="5001182">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001188">encStringSlice</span><span class="op" id="5001202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001205">reflect</span><span class="op" id="5001212">.</span><span class="ident" id="5001213">Uint</span><span class="op" id="5001217">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001225">encUintSlice</span><span class="op" id="5001237">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001240">reflect</span><span class="op" id="5001247">.</span><span class="ident" id="5001248">Uint16</span><span class="op" id="5001254">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001260">encUint16Slice</span><span class="op" id="5001274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001277">reflect</span><span class="op" id="5001284">.</span><span class="ident" id="5001285">Uint32</span><span class="op" id="5001291">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001297">encUint32Slice</span><span class="op" id="5001311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001314">reflect</span><span class="op" id="5001321">.</span><span class="ident" id="5001322">Uint64</span><span class="op" id="5001328">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001334">encUint64Slice</span><span class="op" id="5001348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001351">reflect</span><span class="op" id="5001358">.</span><span class="ident" id="5001359">Uintptr</span><span class="op" id="5001366">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5001371">encUintptrSlice</span><span class="op" id="5001386">,</span><br>
<span class="lineno"></span><span class="op" id="5001388">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5001391">func</span>&nbsp;<span class="ident" id="5001396">encBoolArray</span><span class="op" id="5001408">(</span><span class="ident" id="5001409">state</span>&nbsp;<span class="op" id="5001415">*</span><span class="ident" id="5001416">encoderState</span><span class="op" id="5001428">,</span>&nbsp;<span class="ident" id="5001430">v</span>&nbsp;<span class="ident" id="5001432">reflect</span><span class="op" id="5001439">.</span><span class="ident" id="5001440">Value</span><span class="op" id="5001445">)</span>&nbsp;<span class="builtintype" id="5001447">bool</span>&nbsp;<span class="op" id="5001452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5001455">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5001496">if</span>&nbsp;<span class="op" id="5001499">!</span><span class="ident" id="5001500">v</span><span class="op" id="5001501">.</span><span class="ident" id="5001502">CanAddr</span><span class="op" id="5001509">(</span><span class="op" id="5001510">)</span>&nbsp;<span class="op" id="5001512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5001516">return</span>&nbsp;<span class="builtintype" id="5001523">false</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5001530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5001533">return</span>&nbsp;<span class="ident" id="5001540">encBoolSlice</span><span class="op" id="5001552">(</span><span class="ident" id="5001553">state</span><span class="op" id="5001558">,</span>&nbsp;<span class="ident" id="5001560">v</span><span class="op" id="5001561">.</span><span class="ident" id="5001562">Slice</span><span class="op" id="5001567">(</span><span class="num" id="5001568">0</span><span class="op" id="5001569">,</span>&nbsp;<span class="ident" id="5001571">v</span><span class="op" id="5001572">.</span><span class="ident" id="5001573">Len</span><span class="op" id="5001576">(</span><span class="op" id="5001577">)</span><span class="op" id="5001578">)</span><span class="op" id="5001579">)</span><br>
<span class="lineno"></span><span class="op" id="5001581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5001584">func</span>&nbsp;<span class="ident" id="5001589">encBoolSlice</span><span class="op" id="5001601">(</span><span class="ident" id="5001602">state</span>&nbsp;<span class="op" id="5001608">*</span><span class="ident" id="5001609">encoderState</span><span class="op" id="5001621">,</span>&nbsp;<span class="ident" id="5001623">v</span>&nbsp;<span class="ident" id="5001625">reflect</span><span class="op" id="5001632">.</span><span class="ident" id="5001633">Value</span><span class="op" id="5001638">)</span>&nbsp;<span class="builtintype" id="5001640">bool</span>&nbsp;<span class="op" id="5001645">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001648">slice</span><span class="op" id="5001653">,</span>&nbsp;<span class="ident" id="5001655">ok</span>&nbsp;<span class="op" id="5001658">:=</span>&nbsp;<span class="ident" id="5001661">v</span><span class="op" id="5001662">.</span><span class="ident" id="5001663">Interface</span><span class="op" id="5001672">(</span><span class="op" id="5001673">)</span><span class="op" id="5001674">.</span><span class="op" id="5001675">(</span><span class="op" id="5001676">[</span><span class="op" id="5001677">]</span><span class="builtintype" id="5001678">bool</span><span class="op" id="5001682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5001685">if</span>&nbsp;<span class="op" id="5001688">!</span><span class="ident" id="5001689">ok</span>&nbsp;<span class="op" id="5001692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5001696">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5001771">return</span>&nbsp;<span class="builtintype" id="5001778">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5001785">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5001788">for</span>&nbsp;<span class="ident" id="5001792">_</span><span class="op" id="5001793">,</span>&nbsp;<span class="ident" id="5001795">x</span>&nbsp;<span class="op" id="5001797">:=</span>&nbsp;<span class="keyword" id="5001800">range</span>&nbsp;<span class="ident" id="5001806">slice</span>&nbsp;<span class="op" id="5001812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5001816">if</span>&nbsp;<span class="ident" id="5001819">x</span>&nbsp;<span class="op" id="5001821">!=</span>&nbsp;<span class="builtintype" id="5001824">false</span>&nbsp;<span class="op" id="5001830">||</span>&nbsp;<span class="ident" id="5001833">state</span><span class="op" id="5001838">.</span><span class="ident" id="5001839">sendZero</span>&nbsp;<span class="op" id="5001848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5001853">if</span>&nbsp;<span class="ident" id="5001856">x</span>&nbsp;<span class="op" id="5001858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001864">state</span><span class="op" id="5001869">.</span><span class="ident" id="5001870">encodeUint</span><span class="op" id="5001880">(</span><span class="num" id="5001881">1</span><span class="op" id="5001882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5001887">}</span>&nbsp;<span class="keyword" id="5001889">else</span>&nbsp;<span class="op" id="5001894">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5001900">state</span><span class="op" id="5001905">.</span><span class="ident" id="5001906">encodeUint</span><span class="op" id="5001916">(</span><span class="num" id="5001917">0</span><span class="op" id="5001918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5001923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5001927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5001930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5001933">return</span>&nbsp;<span class="builtintype" id="5001940">true</span><br>
<span class="lineno">75</span><span class="op" id="5001945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5001948">func</span>&nbsp;<span class="ident" id="5001953">encComplex64Array</span><span class="op" id="5001970">(</span><span class="ident" id="5001971">state</span>&nbsp;<span class="op" id="5001977">*</span><span class="ident" id="5001978">encoderState</span><span class="op" id="5001990">,</span>&nbsp;<span class="ident" id="5001992">v</span>&nbsp;<span class="ident" id="5001994">reflect</span><span class="op" id="5002001">.</span><span class="ident" id="5002002">Value</span><span class="op" id="5002007">)</span>&nbsp;<span class="builtintype" id="5002009">bool</span>&nbsp;<span class="op" id="5002014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5002017">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002058">if</span>&nbsp;<span class="op" id="5002061">!</span><span class="ident" id="5002062">v</span><span class="op" id="5002063">.</span><span class="ident" id="5002064">CanAddr</span><span class="op" id="5002071">(</span><span class="op" id="5002072">)</span>&nbsp;<span class="op" id="5002074">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002078">return</span>&nbsp;<span class="builtintype" id="5002085">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5002092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002095">return</span>&nbsp;<span class="ident" id="5002102">encComplex64Slice</span><span class="op" id="5002119">(</span><span class="ident" id="5002120">state</span><span class="op" id="5002125">,</span>&nbsp;<span class="ident" id="5002127">v</span><span class="op" id="5002128">.</span><span class="ident" id="5002129">Slice</span><span class="op" id="5002134">(</span><span class="num" id="5002135">0</span><span class="op" id="5002136">,</span>&nbsp;<span class="ident" id="5002138">v</span><span class="op" id="5002139">.</span><span class="ident" id="5002140">Len</span><span class="op" id="5002143">(</span><span class="op" id="5002144">)</span><span class="op" id="5002145">)</span><span class="op" id="5002146">)</span><br>
<span class="lineno"></span><span class="op" id="5002148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="5002151">func</span>&nbsp;<span class="ident" id="5002156">encComplex64Slice</span><span class="op" id="5002173">(</span><span class="ident" id="5002174">state</span>&nbsp;<span class="op" id="5002180">*</span><span class="ident" id="5002181">encoderState</span><span class="op" id="5002193">,</span>&nbsp;<span class="ident" id="5002195">v</span>&nbsp;<span class="ident" id="5002197">reflect</span><span class="op" id="5002204">.</span><span class="ident" id="5002205">Value</span><span class="op" id="5002210">)</span>&nbsp;<span class="builtintype" id="5002212">bool</span>&nbsp;<span class="op" id="5002217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5002220">slice</span><span class="op" id="5002225">,</span>&nbsp;<span class="ident" id="5002227">ok</span>&nbsp;<span class="op" id="5002230">:=</span>&nbsp;<span class="ident" id="5002233">v</span><span class="op" id="5002234">.</span><span class="ident" id="5002235">Interface</span><span class="op" id="5002244">(</span><span class="op" id="5002245">)</span><span class="op" id="5002246">.</span><span class="op" id="5002247">(</span><span class="op" id="5002248">[</span><span class="op" id="5002249">]</span><span class="builtintype" id="5002250">complex64</span><span class="op" id="5002259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002262">if</span>&nbsp;<span class="op" id="5002265">!</span><span class="ident" id="5002266">ok</span>&nbsp;<span class="op" id="5002269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5002273">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002358">return</span>&nbsp;<span class="builtintype" id="5002365">false</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5002372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002375">for</span>&nbsp;<span class="ident" id="5002379">_</span><span class="op" id="5002380">,</span>&nbsp;<span class="ident" id="5002382">x</span>&nbsp;<span class="op" id="5002384">:=</span>&nbsp;<span class="keyword" id="5002387">range</span>&nbsp;<span class="ident" id="5002393">slice</span>&nbsp;<span class="op" id="5002399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002403">if</span>&nbsp;<span class="ident" id="5002406">x</span>&nbsp;<span class="op" id="5002408">!=</span>&nbsp;<span class="num" id="5002411">0</span><span class="op" id="5002412">+</span><span class="num" id="5002413">0i</span>&nbsp;<span class="op" id="5002416">||</span>&nbsp;<span class="ident" id="5002419">state</span><span class="op" id="5002424">.</span><span class="ident" id="5002425">sendZero</span>&nbsp;<span class="op" id="5002434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5002439">rpart</span>&nbsp;<span class="op" id="5002445">:=</span>&nbsp;<span class="ident" id="5002448">floatBits</span><span class="op" id="5002457">(</span><span class="builtintype" id="5002458">float64</span><span class="op" id="5002465">(</span><span class="builtinfunc" id="5002466">real</span><span class="op" id="5002470">(</span><span class="ident" id="5002471">x</span><span class="op" id="5002472">)</span><span class="op" id="5002473">)</span><span class="op" id="5002474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5002479">ipart</span>&nbsp;<span class="op" id="5002485">:=</span>&nbsp;<span class="ident" id="5002488">floatBits</span><span class="op" id="5002497">(</span><span class="builtintype" id="5002498">float64</span><span class="op" id="5002505">(</span><span class="builtinfunc" id="5002506">imag</span><span class="op" id="5002510">(</span><span class="ident" id="5002511">x</span><span class="op" id="5002512">)</span><span class="op" id="5002513">)</span><span class="op" id="5002514">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5002519">state</span><span class="op" id="5002524">.</span><span class="ident" id="5002525">encodeUint</span><span class="op" id="5002535">(</span><span class="ident" id="5002536">rpart</span><span class="op" id="5002541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5002546">state</span><span class="op" id="5002551">.</span><span class="ident" id="5002552">encodeUint</span><span class="op" id="5002562">(</span><span class="ident" id="5002563">ipart</span><span class="op" id="5002568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5002572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5002575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002578">return</span>&nbsp;<span class="builtintype" id="5002585">true</span><br>
<span class="lineno">100</span><span class="op" id="5002590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5002593">func</span>&nbsp;<span class="ident" id="5002598">encComplex128Array</span><span class="op" id="5002616">(</span><span class="ident" id="5002617">state</span>&nbsp;<span class="op" id="5002623">*</span><span class="ident" id="5002624">encoderState</span><span class="op" id="5002636">,</span>&nbsp;<span class="ident" id="5002638">v</span>&nbsp;<span class="ident" id="5002640">reflect</span><span class="op" id="5002647">.</span><span class="ident" id="5002648">Value</span><span class="op" id="5002653">)</span>&nbsp;<span class="builtintype" id="5002655">bool</span>&nbsp;<span class="op" id="5002660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5002663">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002704">if</span>&nbsp;<span class="op" id="5002707">!</span><span class="ident" id="5002708">v</span><span class="op" id="5002709">.</span><span class="ident" id="5002710">CanAddr</span><span class="op" id="5002717">(</span><span class="op" id="5002718">)</span>&nbsp;<span class="op" id="5002720">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002724">return</span>&nbsp;<span class="builtintype" id="5002731">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5002738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002741">return</span>&nbsp;<span class="ident" id="5002748">encComplex128Slice</span><span class="op" id="5002766">(</span><span class="ident" id="5002767">state</span><span class="op" id="5002772">,</span>&nbsp;<span class="ident" id="5002774">v</span><span class="op" id="5002775">.</span><span class="ident" id="5002776">Slice</span><span class="op" id="5002781">(</span><span class="num" id="5002782">0</span><span class="op" id="5002783">,</span>&nbsp;<span class="ident" id="5002785">v</span><span class="op" id="5002786">.</span><span class="ident" id="5002787">Len</span><span class="op" id="5002790">(</span><span class="op" id="5002791">)</span><span class="op" id="5002792">)</span><span class="op" id="5002793">)</span><br>
<span class="lineno"></span><span class="op" id="5002795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="5002798">func</span>&nbsp;<span class="ident" id="5002803">encComplex128Slice</span><span class="op" id="5002821">(</span><span class="ident" id="5002822">state</span>&nbsp;<span class="op" id="5002828">*</span><span class="ident" id="5002829">encoderState</span><span class="op" id="5002841">,</span>&nbsp;<span class="ident" id="5002843">v</span>&nbsp;<span class="ident" id="5002845">reflect</span><span class="op" id="5002852">.</span><span class="ident" id="5002853">Value</span><span class="op" id="5002858">)</span>&nbsp;<span class="builtintype" id="5002860">bool</span>&nbsp;<span class="op" id="5002865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5002868">slice</span><span class="op" id="5002873">,</span>&nbsp;<span class="ident" id="5002875">ok</span>&nbsp;<span class="op" id="5002878">:=</span>&nbsp;<span class="ident" id="5002881">v</span><span class="op" id="5002882">.</span><span class="ident" id="5002883">Interface</span><span class="op" id="5002892">(</span><span class="op" id="5002893">)</span><span class="op" id="5002894">.</span><span class="op" id="5002895">(</span><span class="op" id="5002896">[</span><span class="op" id="5002897">]</span><span class="builtintype" id="5002898">complex128</span><span class="op" id="5002908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5002911">if</span>&nbsp;<span class="op" id="5002914">!</span><span class="ident" id="5002915">ok</span>&nbsp;<span class="op" id="5002918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5002922">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003009">return</span>&nbsp;<span class="builtintype" id="5003016">false</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5003023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003026">for</span>&nbsp;<span class="ident" id="5003030">_</span><span class="op" id="5003031">,</span>&nbsp;<span class="ident" id="5003033">x</span>&nbsp;<span class="op" id="5003035">:=</span>&nbsp;<span class="keyword" id="5003038">range</span>&nbsp;<span class="ident" id="5003044">slice</span>&nbsp;<span class="op" id="5003050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003054">if</span>&nbsp;<span class="ident" id="5003057">x</span>&nbsp;<span class="op" id="5003059">!=</span>&nbsp;<span class="num" id="5003062">0</span><span class="op" id="5003063">+</span><span class="num" id="5003064">0i</span>&nbsp;<span class="op" id="5003067">||</span>&nbsp;<span class="ident" id="5003070">state</span><span class="op" id="5003075">.</span><span class="ident" id="5003076">sendZero</span>&nbsp;<span class="op" id="5003085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5003090">rpart</span>&nbsp;<span class="op" id="5003096">:=</span>&nbsp;<span class="ident" id="5003099">floatBits</span><span class="op" id="5003108">(</span><span class="builtinfunc" id="5003109">real</span><span class="op" id="5003113">(</span><span class="ident" id="5003114">x</span><span class="op" id="5003115">)</span><span class="op" id="5003116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5003121">ipart</span>&nbsp;<span class="op" id="5003127">:=</span>&nbsp;<span class="ident" id="5003130">floatBits</span><span class="op" id="5003139">(</span><span class="builtinfunc" id="5003140">imag</span><span class="op" id="5003144">(</span><span class="ident" id="5003145">x</span><span class="op" id="5003146">)</span><span class="op" id="5003147">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5003152">state</span><span class="op" id="5003157">.</span><span class="ident" id="5003158">encodeUint</span><span class="op" id="5003168">(</span><span class="ident" id="5003169">rpart</span><span class="op" id="5003174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5003179">state</span><span class="op" id="5003184">.</span><span class="ident" id="5003185">encodeUint</span><span class="op" id="5003195">(</span><span class="ident" id="5003196">ipart</span><span class="op" id="5003201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5003205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5003208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003211">return</span>&nbsp;<span class="builtintype" id="5003218">true</span><br>
<span class="lineno">125</span><span class="op" id="5003223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5003226">func</span>&nbsp;<span class="ident" id="5003231">encFloat32Array</span><span class="op" id="5003246">(</span><span class="ident" id="5003247">state</span>&nbsp;<span class="op" id="5003253">*</span><span class="ident" id="5003254">encoderState</span><span class="op" id="5003266">,</span>&nbsp;<span class="ident" id="5003268">v</span>&nbsp;<span class="ident" id="5003270">reflect</span><span class="op" id="5003277">.</span><span class="ident" id="5003278">Value</span><span class="op" id="5003283">)</span>&nbsp;<span class="builtintype" id="5003285">bool</span>&nbsp;<span class="op" id="5003290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5003293">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003334">if</span>&nbsp;<span class="op" id="5003337">!</span><span class="ident" id="5003338">v</span><span class="op" id="5003339">.</span><span class="ident" id="5003340">CanAddr</span><span class="op" id="5003347">(</span><span class="op" id="5003348">)</span>&nbsp;<span class="op" id="5003350">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003354">return</span>&nbsp;<span class="builtintype" id="5003361">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5003368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003371">return</span>&nbsp;<span class="ident" id="5003378">encFloat32Slice</span><span class="op" id="5003393">(</span><span class="ident" id="5003394">state</span><span class="op" id="5003399">,</span>&nbsp;<span class="ident" id="5003401">v</span><span class="op" id="5003402">.</span><span class="ident" id="5003403">Slice</span><span class="op" id="5003408">(</span><span class="num" id="5003409">0</span><span class="op" id="5003410">,</span>&nbsp;<span class="ident" id="5003412">v</span><span class="op" id="5003413">.</span><span class="ident" id="5003414">Len</span><span class="op" id="5003417">(</span><span class="op" id="5003418">)</span><span class="op" id="5003419">)</span><span class="op" id="5003420">)</span><br>
<span class="lineno"></span><span class="op" id="5003422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="5003425">func</span>&nbsp;<span class="ident" id="5003430">encFloat32Slice</span><span class="op" id="5003445">(</span><span class="ident" id="5003446">state</span>&nbsp;<span class="op" id="5003452">*</span><span class="ident" id="5003453">encoderState</span><span class="op" id="5003465">,</span>&nbsp;<span class="ident" id="5003467">v</span>&nbsp;<span class="ident" id="5003469">reflect</span><span class="op" id="5003476">.</span><span class="ident" id="5003477">Value</span><span class="op" id="5003482">)</span>&nbsp;<span class="builtintype" id="5003484">bool</span>&nbsp;<span class="op" id="5003489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5003492">slice</span><span class="op" id="5003497">,</span>&nbsp;<span class="ident" id="5003499">ok</span>&nbsp;<span class="op" id="5003502">:=</span>&nbsp;<span class="ident" id="5003505">v</span><span class="op" id="5003506">.</span><span class="ident" id="5003507">Interface</span><span class="op" id="5003516">(</span><span class="op" id="5003517">)</span><span class="op" id="5003518">.</span><span class="op" id="5003519">(</span><span class="op" id="5003520">[</span><span class="op" id="5003521">]</span><span class="builtintype" id="5003522">float32</span><span class="op" id="5003529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003532">if</span>&nbsp;<span class="op" id="5003535">!</span><span class="ident" id="5003536">ok</span>&nbsp;<span class="op" id="5003539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5003543">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003624">return</span>&nbsp;<span class="builtintype" id="5003631">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5003638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003641">for</span>&nbsp;<span class="ident" id="5003645">_</span><span class="op" id="5003646">,</span>&nbsp;<span class="ident" id="5003648">x</span>&nbsp;<span class="op" id="5003650">:=</span>&nbsp;<span class="keyword" id="5003653">range</span>&nbsp;<span class="ident" id="5003659">slice</span>&nbsp;<span class="op" id="5003665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003669">if</span>&nbsp;<span class="ident" id="5003672">x</span>&nbsp;<span class="op" id="5003674">!=</span>&nbsp;<span class="num" id="5003677">0</span>&nbsp;<span class="op" id="5003679">||</span>&nbsp;<span class="ident" id="5003682">state</span><span class="op" id="5003687">.</span><span class="ident" id="5003688">sendZero</span>&nbsp;<span class="op" id="5003697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5003702">bits</span>&nbsp;<span class="op" id="5003707">:=</span>&nbsp;<span class="ident" id="5003710">floatBits</span><span class="op" id="5003719">(</span><span class="builtintype" id="5003720">float64</span><span class="op" id="5003727">(</span><span class="ident" id="5003728">x</span><span class="op" id="5003729">)</span><span class="op" id="5003730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5003735">state</span><span class="op" id="5003740">.</span><span class="ident" id="5003741">encodeUint</span><span class="op" id="5003751">(</span><span class="ident" id="5003752">bits</span><span class="op" id="5003756">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5003760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5003763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003766">return</span>&nbsp;<span class="builtintype" id="5003773">true</span><br>
<span class="lineno"></span><span class="op" id="5003778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="5003781">func</span>&nbsp;<span class="ident" id="5003786">encFloat64Array</span><span class="op" id="5003801">(</span><span class="ident" id="5003802">state</span>&nbsp;<span class="op" id="5003808">*</span><span class="ident" id="5003809">encoderState</span><span class="op" id="5003821">,</span>&nbsp;<span class="ident" id="5003823">v</span>&nbsp;<span class="ident" id="5003825">reflect</span><span class="op" id="5003832">.</span><span class="ident" id="5003833">Value</span><span class="op" id="5003838">)</span>&nbsp;<span class="builtintype" id="5003840">bool</span>&nbsp;<span class="op" id="5003845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5003848">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003889">if</span>&nbsp;<span class="op" id="5003892">!</span><span class="ident" id="5003893">v</span><span class="op" id="5003894">.</span><span class="ident" id="5003895">CanAddr</span><span class="op" id="5003902">(</span><span class="op" id="5003903">)</span>&nbsp;<span class="op" id="5003905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003909">return</span>&nbsp;<span class="builtintype" id="5003916">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5003923">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5003926">return</span>&nbsp;<span class="ident" id="5003933">encFloat64Slice</span><span class="op" id="5003948">(</span><span class="ident" id="5003949">state</span><span class="op" id="5003954">,</span>&nbsp;<span class="ident" id="5003956">v</span><span class="op" id="5003957">.</span><span class="ident" id="5003958">Slice</span><span class="op" id="5003963">(</span><span class="num" id="5003964">0</span><span class="op" id="5003965">,</span>&nbsp;<span class="ident" id="5003967">v</span><span class="op" id="5003968">.</span><span class="ident" id="5003969">Len</span><span class="op" id="5003972">(</span><span class="op" id="5003973">)</span><span class="op" id="5003974">)</span><span class="op" id="5003975">)</span><br>
<span class="lineno"></span><span class="op" id="5003977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5003980">func</span>&nbsp;<span class="ident" id="5003985">encFloat64Slice</span><span class="op" id="5004000">(</span><span class="ident" id="5004001">state</span>&nbsp;<span class="op" id="5004007">*</span><span class="ident" id="5004008">encoderState</span><span class="op" id="5004020">,</span>&nbsp;<span class="ident" id="5004022">v</span>&nbsp;<span class="ident" id="5004024">reflect</span><span class="op" id="5004031">.</span><span class="ident" id="5004032">Value</span><span class="op" id="5004037">)</span>&nbsp;<span class="builtintype" id="5004039">bool</span>&nbsp;<span class="op" id="5004044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5004047">slice</span><span class="op" id="5004052">,</span>&nbsp;<span class="ident" id="5004054">ok</span>&nbsp;<span class="op" id="5004057">:=</span>&nbsp;<span class="ident" id="5004060">v</span><span class="op" id="5004061">.</span><span class="ident" id="5004062">Interface</span><span class="op" id="5004071">(</span><span class="op" id="5004072">)</span><span class="op" id="5004073">.</span><span class="op" id="5004074">(</span><span class="op" id="5004075">[</span><span class="op" id="5004076">]</span><span class="builtintype" id="5004077">float64</span><span class="op" id="5004084">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004087">if</span>&nbsp;<span class="op" id="5004090">!</span><span class="ident" id="5004091">ok</span>&nbsp;<span class="op" id="5004094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5004098">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004179">return</span>&nbsp;<span class="builtintype" id="5004186">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5004193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004196">for</span>&nbsp;<span class="ident" id="5004200">_</span><span class="op" id="5004201">,</span>&nbsp;<span class="ident" id="5004203">x</span>&nbsp;<span class="op" id="5004205">:=</span>&nbsp;<span class="keyword" id="5004208">range</span>&nbsp;<span class="ident" id="5004214">slice</span>&nbsp;<span class="op" id="5004220">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004224">if</span>&nbsp;<span class="ident" id="5004227">x</span>&nbsp;<span class="op" id="5004229">!=</span>&nbsp;<span class="num" id="5004232">0</span>&nbsp;<span class="op" id="5004234">||</span>&nbsp;<span class="ident" id="5004237">state</span><span class="op" id="5004242">.</span><span class="ident" id="5004243">sendZero</span>&nbsp;<span class="op" id="5004252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5004257">bits</span>&nbsp;<span class="op" id="5004262">:=</span>&nbsp;<span class="ident" id="5004265">floatBits</span><span class="op" id="5004274">(</span><span class="ident" id="5004275">x</span><span class="op" id="5004276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5004281">state</span><span class="op" id="5004286">.</span><span class="ident" id="5004287">encodeUint</span><span class="op" id="5004297">(</span><span class="ident" id="5004298">bits</span><span class="op" id="5004302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5004306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5004309">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004312">return</span>&nbsp;<span class="builtintype" id="5004319">true</span><br>
<span class="lineno"></span><span class="op" id="5004324">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5004327">func</span>&nbsp;<span class="ident" id="5004332">encIntArray</span><span class="op" id="5004343">(</span><span class="ident" id="5004344">state</span>&nbsp;<span class="op" id="5004350">*</span><span class="ident" id="5004351">encoderState</span><span class="op" id="5004363">,</span>&nbsp;<span class="ident" id="5004365">v</span>&nbsp;<span class="ident" id="5004367">reflect</span><span class="op" id="5004374">.</span><span class="ident" id="5004375">Value</span><span class="op" id="5004380">)</span>&nbsp;<span class="builtintype" id="5004382">bool</span>&nbsp;<span class="op" id="5004387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5004390">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004431">if</span>&nbsp;<span class="op" id="5004434">!</span><span class="ident" id="5004435">v</span><span class="op" id="5004436">.</span><span class="ident" id="5004437">CanAddr</span><span class="op" id="5004444">(</span><span class="op" id="5004445">)</span>&nbsp;<span class="op" id="5004447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004451">return</span>&nbsp;<span class="builtintype" id="5004458">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5004465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004468">return</span>&nbsp;<span class="ident" id="5004475">encIntSlice</span><span class="op" id="5004486">(</span><span class="ident" id="5004487">state</span><span class="op" id="5004492">,</span>&nbsp;<span class="ident" id="5004494">v</span><span class="op" id="5004495">.</span><span class="ident" id="5004496">Slice</span><span class="op" id="5004501">(</span><span class="num" id="5004502">0</span><span class="op" id="5004503">,</span>&nbsp;<span class="ident" id="5004505">v</span><span class="op" id="5004506">.</span><span class="ident" id="5004507">Len</span><span class="op" id="5004510">(</span><span class="op" id="5004511">)</span><span class="op" id="5004512">)</span><span class="op" id="5004513">)</span><br>
<span class="lineno"></span><span class="op" id="5004515">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="5004518">func</span>&nbsp;<span class="ident" id="5004523">encIntSlice</span><span class="op" id="5004534">(</span><span class="ident" id="5004535">state</span>&nbsp;<span class="op" id="5004541">*</span><span class="ident" id="5004542">encoderState</span><span class="op" id="5004554">,</span>&nbsp;<span class="ident" id="5004556">v</span>&nbsp;<span class="ident" id="5004558">reflect</span><span class="op" id="5004565">.</span><span class="ident" id="5004566">Value</span><span class="op" id="5004571">)</span>&nbsp;<span class="builtintype" id="5004573">bool</span>&nbsp;<span class="op" id="5004578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5004581">slice</span><span class="op" id="5004586">,</span>&nbsp;<span class="ident" id="5004588">ok</span>&nbsp;<span class="op" id="5004591">:=</span>&nbsp;<span class="ident" id="5004594">v</span><span class="op" id="5004595">.</span><span class="ident" id="5004596">Interface</span><span class="op" id="5004605">(</span><span class="op" id="5004606">)</span><span class="op" id="5004607">.</span><span class="op" id="5004608">(</span><span class="op" id="5004609">[</span><span class="op" id="5004610">]</span><span class="builtintype" id="5004611">int</span><span class="op" id="5004614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004617">if</span>&nbsp;<span class="op" id="5004620">!</span><span class="ident" id="5004621">ok</span>&nbsp;<span class="op" id="5004624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5004628">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004701">return</span>&nbsp;<span class="builtintype" id="5004708">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5004715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004718">for</span>&nbsp;<span class="ident" id="5004722">_</span><span class="op" id="5004723">,</span>&nbsp;<span class="ident" id="5004725">x</span>&nbsp;<span class="op" id="5004727">:=</span>&nbsp;<span class="keyword" id="5004730">range</span>&nbsp;<span class="ident" id="5004736">slice</span>&nbsp;<span class="op" id="5004742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004746">if</span>&nbsp;<span class="ident" id="5004749">x</span>&nbsp;<span class="op" id="5004751">!=</span>&nbsp;<span class="num" id="5004754">0</span>&nbsp;<span class="op" id="5004756">||</span>&nbsp;<span class="ident" id="5004759">state</span><span class="op" id="5004764">.</span><span class="ident" id="5004765">sendZero</span>&nbsp;<span class="op" id="5004774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5004779">state</span><span class="op" id="5004784">.</span><span class="ident" id="5004785">encodeInt</span><span class="op" id="5004794">(</span><span class="ident" id="5004795">int64</span><span class="op" id="5004800">(</span><span class="ident" id="5004801">x</span><span class="op" id="5004802">)</span><span class="op" id="5004803">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5004807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5004810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004813">return</span>&nbsp;<span class="builtintype" id="5004820">true</span><br>
<span class="lineno"></span><span class="op" id="5004825">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="5004828">func</span>&nbsp;<span class="ident" id="5004833">encInt16Array</span><span class="op" id="5004846">(</span><span class="ident" id="5004847">state</span>&nbsp;<span class="op" id="5004853">*</span><span class="ident" id="5004854">encoderState</span><span class="op" id="5004866">,</span>&nbsp;<span class="ident" id="5004868">v</span>&nbsp;<span class="ident" id="5004870">reflect</span><span class="op" id="5004877">.</span><span class="ident" id="5004878">Value</span><span class="op" id="5004883">)</span>&nbsp;<span class="builtintype" id="5004885">bool</span>&nbsp;<span class="op" id="5004890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5004893">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004934">if</span>&nbsp;<span class="op" id="5004937">!</span><span class="ident" id="5004938">v</span><span class="op" id="5004939">.</span><span class="ident" id="5004940">CanAddr</span><span class="op" id="5004947">(</span><span class="op" id="5004948">)</span>&nbsp;<span class="op" id="5004950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004954">return</span>&nbsp;<span class="builtintype" id="5004961">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5004968">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5004971">return</span>&nbsp;<span class="ident" id="5004978">encInt16Slice</span><span class="op" id="5004991">(</span><span class="ident" id="5004992">state</span><span class="op" id="5004997">,</span>&nbsp;<span class="ident" id="5004999">v</span><span class="op" id="5005000">.</span><span class="ident" id="5005001">Slice</span><span class="op" id="5005006">(</span><span class="num" id="5005007">0</span><span class="op" id="5005008">,</span>&nbsp;<span class="ident" id="5005010">v</span><span class="op" id="5005011">.</span><span class="ident" id="5005012">Len</span><span class="op" id="5005015">(</span><span class="op" id="5005016">)</span><span class="op" id="5005017">)</span><span class="op" id="5005018">)</span><br>
<span class="lineno"></span><span class="op" id="5005020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5005023">func</span>&nbsp;<span class="ident" id="5005028">encInt16Slice</span><span class="op" id="5005041">(</span><span class="ident" id="5005042">state</span>&nbsp;<span class="op" id="5005048">*</span><span class="ident" id="5005049">encoderState</span><span class="op" id="5005061">,</span>&nbsp;<span class="ident" id="5005063">v</span>&nbsp;<span class="ident" id="5005065">reflect</span><span class="op" id="5005072">.</span><span class="ident" id="5005073">Value</span><span class="op" id="5005078">)</span>&nbsp;<span class="builtintype" id="5005080">bool</span>&nbsp;<span class="op" id="5005085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5005088">slice</span><span class="op" id="5005093">,</span>&nbsp;<span class="ident" id="5005095">ok</span>&nbsp;<span class="op" id="5005098">:=</span>&nbsp;<span class="ident" id="5005101">v</span><span class="op" id="5005102">.</span><span class="ident" id="5005103">Interface</span><span class="op" id="5005112">(</span><span class="op" id="5005113">)</span><span class="op" id="5005114">.</span><span class="op" id="5005115">(</span><span class="op" id="5005116">[</span><span class="op" id="5005117">]</span><span class="builtintype" id="5005118">int16</span><span class="op" id="5005123">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005126">if</span>&nbsp;<span class="op" id="5005129">!</span><span class="ident" id="5005130">ok</span>&nbsp;<span class="op" id="5005133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5005137">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005214">return</span>&nbsp;<span class="builtintype" id="5005221">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5005228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005231">for</span>&nbsp;<span class="ident" id="5005235">_</span><span class="op" id="5005236">,</span>&nbsp;<span class="ident" id="5005238">x</span>&nbsp;<span class="op" id="5005240">:=</span>&nbsp;<span class="keyword" id="5005243">range</span>&nbsp;<span class="ident" id="5005249">slice</span>&nbsp;<span class="op" id="5005255">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005259">if</span>&nbsp;<span class="ident" id="5005262">x</span>&nbsp;<span class="op" id="5005264">!=</span>&nbsp;<span class="num" id="5005267">0</span>&nbsp;<span class="op" id="5005269">||</span>&nbsp;<span class="ident" id="5005272">state</span><span class="op" id="5005277">.</span><span class="ident" id="5005278">sendZero</span>&nbsp;<span class="op" id="5005287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5005292">state</span><span class="op" id="5005297">.</span><span class="ident" id="5005298">encodeInt</span><span class="op" id="5005307">(</span><span class="ident" id="5005308">int64</span><span class="op" id="5005313">(</span><span class="ident" id="5005314">x</span><span class="op" id="5005315">)</span><span class="op" id="5005316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5005320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5005323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005326">return</span>&nbsp;<span class="builtintype" id="5005333">true</span><br>
<span class="lineno">215</span><span class="op" id="5005338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5005341">func</span>&nbsp;<span class="ident" id="5005346">encInt32Array</span><span class="op" id="5005359">(</span><span class="ident" id="5005360">state</span>&nbsp;<span class="op" id="5005366">*</span><span class="ident" id="5005367">encoderState</span><span class="op" id="5005379">,</span>&nbsp;<span class="ident" id="5005381">v</span>&nbsp;<span class="ident" id="5005383">reflect</span><span class="op" id="5005390">.</span><span class="ident" id="5005391">Value</span><span class="op" id="5005396">)</span>&nbsp;<span class="builtintype" id="5005398">bool</span>&nbsp;<span class="op" id="5005403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5005406">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005447">if</span>&nbsp;<span class="op" id="5005450">!</span><span class="ident" id="5005451">v</span><span class="op" id="5005452">.</span><span class="ident" id="5005453">CanAddr</span><span class="op" id="5005460">(</span><span class="op" id="5005461">)</span>&nbsp;<span class="op" id="5005463">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005467">return</span>&nbsp;<span class="builtintype" id="5005474">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5005481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005484">return</span>&nbsp;<span class="ident" id="5005491">encInt32Slice</span><span class="op" id="5005504">(</span><span class="ident" id="5005505">state</span><span class="op" id="5005510">,</span>&nbsp;<span class="ident" id="5005512">v</span><span class="op" id="5005513">.</span><span class="ident" id="5005514">Slice</span><span class="op" id="5005519">(</span><span class="num" id="5005520">0</span><span class="op" id="5005521">,</span>&nbsp;<span class="ident" id="5005523">v</span><span class="op" id="5005524">.</span><span class="ident" id="5005525">Len</span><span class="op" id="5005528">(</span><span class="op" id="5005529">)</span><span class="op" id="5005530">)</span><span class="op" id="5005531">)</span><br>
<span class="lineno"></span><span class="op" id="5005533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="5005536">func</span>&nbsp;<span class="ident" id="5005541">encInt32Slice</span><span class="op" id="5005554">(</span><span class="ident" id="5005555">state</span>&nbsp;<span class="op" id="5005561">*</span><span class="ident" id="5005562">encoderState</span><span class="op" id="5005574">,</span>&nbsp;<span class="ident" id="5005576">v</span>&nbsp;<span class="ident" id="5005578">reflect</span><span class="op" id="5005585">.</span><span class="ident" id="5005586">Value</span><span class="op" id="5005591">)</span>&nbsp;<span class="builtintype" id="5005593">bool</span>&nbsp;<span class="op" id="5005598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5005601">slice</span><span class="op" id="5005606">,</span>&nbsp;<span class="ident" id="5005608">ok</span>&nbsp;<span class="op" id="5005611">:=</span>&nbsp;<span class="ident" id="5005614">v</span><span class="op" id="5005615">.</span><span class="ident" id="5005616">Interface</span><span class="op" id="5005625">(</span><span class="op" id="5005626">)</span><span class="op" id="5005627">.</span><span class="op" id="5005628">(</span><span class="op" id="5005629">[</span><span class="op" id="5005630">]</span><span class="builtintype" id="5005631">int32</span><span class="op" id="5005636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005639">if</span>&nbsp;<span class="op" id="5005642">!</span><span class="ident" id="5005643">ok</span>&nbsp;<span class="op" id="5005646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5005650">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005727">return</span>&nbsp;<span class="builtintype" id="5005734">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5005741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005744">for</span>&nbsp;<span class="ident" id="5005748">_</span><span class="op" id="5005749">,</span>&nbsp;<span class="ident" id="5005751">x</span>&nbsp;<span class="op" id="5005753">:=</span>&nbsp;<span class="keyword" id="5005756">range</span>&nbsp;<span class="ident" id="5005762">slice</span>&nbsp;<span class="op" id="5005768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005772">if</span>&nbsp;<span class="ident" id="5005775">x</span>&nbsp;<span class="op" id="5005777">!=</span>&nbsp;<span class="num" id="5005780">0</span>&nbsp;<span class="op" id="5005782">||</span>&nbsp;<span class="ident" id="5005785">state</span><span class="op" id="5005790">.</span><span class="ident" id="5005791">sendZero</span>&nbsp;<span class="op" id="5005800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5005805">state</span><span class="op" id="5005810">.</span><span class="ident" id="5005811">encodeInt</span><span class="op" id="5005820">(</span><span class="ident" id="5005821">int64</span><span class="op" id="5005826">(</span><span class="ident" id="5005827">x</span><span class="op" id="5005828">)</span><span class="op" id="5005829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5005833">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5005836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005839">return</span>&nbsp;<span class="builtintype" id="5005846">true</span><br>
<span class="lineno"></span><span class="op" id="5005851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5005854">func</span>&nbsp;<span class="ident" id="5005859">encInt64Array</span><span class="op" id="5005872">(</span><span class="ident" id="5005873">state</span>&nbsp;<span class="op" id="5005879">*</span><span class="ident" id="5005880">encoderState</span><span class="op" id="5005892">,</span>&nbsp;<span class="ident" id="5005894">v</span>&nbsp;<span class="ident" id="5005896">reflect</span><span class="op" id="5005903">.</span><span class="ident" id="5005904">Value</span><span class="op" id="5005909">)</span>&nbsp;<span class="builtintype" id="5005911">bool</span>&nbsp;<span class="op" id="5005916">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5005919">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005960">if</span>&nbsp;<span class="op" id="5005963">!</span><span class="ident" id="5005964">v</span><span class="op" id="5005965">.</span><span class="ident" id="5005966">CanAddr</span><span class="op" id="5005973">(</span><span class="op" id="5005974">)</span>&nbsp;<span class="op" id="5005976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005980">return</span>&nbsp;<span class="builtintype" id="5005987">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5005994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5005997">return</span>&nbsp;<span class="ident" id="5006004">encInt64Slice</span><span class="op" id="5006017">(</span><span class="ident" id="5006018">state</span><span class="op" id="5006023">,</span>&nbsp;<span class="ident" id="5006025">v</span><span class="op" id="5006026">.</span><span class="ident" id="5006027">Slice</span><span class="op" id="5006032">(</span><span class="num" id="5006033">0</span><span class="op" id="5006034">,</span>&nbsp;<span class="ident" id="5006036">v</span><span class="op" id="5006037">.</span><span class="ident" id="5006038">Len</span><span class="op" id="5006041">(</span><span class="op" id="5006042">)</span><span class="op" id="5006043">)</span><span class="op" id="5006044">)</span><br>
<span class="lineno">245</span><span class="op" id="5006046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5006049">func</span>&nbsp;<span class="ident" id="5006054">encInt64Slice</span><span class="op" id="5006067">(</span><span class="ident" id="5006068">state</span>&nbsp;<span class="op" id="5006074">*</span><span class="ident" id="5006075">encoderState</span><span class="op" id="5006087">,</span>&nbsp;<span class="ident" id="5006089">v</span>&nbsp;<span class="ident" id="5006091">reflect</span><span class="op" id="5006098">.</span><span class="ident" id="5006099">Value</span><span class="op" id="5006104">)</span>&nbsp;<span class="builtintype" id="5006106">bool</span>&nbsp;<span class="op" id="5006111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5006114">slice</span><span class="op" id="5006119">,</span>&nbsp;<span class="ident" id="5006121">ok</span>&nbsp;<span class="op" id="5006124">:=</span>&nbsp;<span class="ident" id="5006127">v</span><span class="op" id="5006128">.</span><span class="ident" id="5006129">Interface</span><span class="op" id="5006138">(</span><span class="op" id="5006139">)</span><span class="op" id="5006140">.</span><span class="op" id="5006141">(</span><span class="op" id="5006142">[</span><span class="op" id="5006143">]</span><span class="ident" id="5006144">int64</span><span class="op" id="5006149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006152">if</span>&nbsp;<span class="op" id="5006155">!</span><span class="ident" id="5006156">ok</span>&nbsp;<span class="op" id="5006159">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5006163">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006240">return</span>&nbsp;<span class="builtintype" id="5006247">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5006254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006257">for</span>&nbsp;<span class="ident" id="5006261">_</span><span class="op" id="5006262">,</span>&nbsp;<span class="ident" id="5006264">x</span>&nbsp;<span class="op" id="5006266">:=</span>&nbsp;<span class="keyword" id="5006269">range</span>&nbsp;<span class="ident" id="5006275">slice</span>&nbsp;<span class="op" id="5006281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006285">if</span>&nbsp;<span class="ident" id="5006288">x</span>&nbsp;<span class="op" id="5006290">!=</span>&nbsp;<span class="num" id="5006293">0</span>&nbsp;<span class="op" id="5006295">||</span>&nbsp;<span class="ident" id="5006298">state</span><span class="op" id="5006303">.</span><span class="ident" id="5006304">sendZero</span>&nbsp;<span class="op" id="5006313">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5006318">state</span><span class="op" id="5006323">.</span><span class="ident" id="5006324">encodeInt</span><span class="op" id="5006333">(</span><span class="ident" id="5006334">x</span><span class="op" id="5006335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5006339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5006342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006345">return</span>&nbsp;<span class="builtintype" id="5006352">true</span><br>
<span class="lineno"></span><span class="op" id="5006357">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="5006360">func</span>&nbsp;<span class="ident" id="5006365">encInt8Array</span><span class="op" id="5006377">(</span><span class="ident" id="5006378">state</span>&nbsp;<span class="op" id="5006384">*</span><span class="ident" id="5006385">encoderState</span><span class="op" id="5006397">,</span>&nbsp;<span class="ident" id="5006399">v</span>&nbsp;<span class="ident" id="5006401">reflect</span><span class="op" id="5006408">.</span><span class="ident" id="5006409">Value</span><span class="op" id="5006414">)</span>&nbsp;<span class="builtintype" id="5006416">bool</span>&nbsp;<span class="op" id="5006421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5006424">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006465">if</span>&nbsp;<span class="op" id="5006468">!</span><span class="ident" id="5006469">v</span><span class="op" id="5006470">.</span><span class="ident" id="5006471">CanAddr</span><span class="op" id="5006478">(</span><span class="op" id="5006479">)</span>&nbsp;<span class="op" id="5006481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006485">return</span>&nbsp;<span class="builtintype" id="5006492">false</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5006499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006502">return</span>&nbsp;<span class="ident" id="5006509">encInt8Slice</span><span class="op" id="5006521">(</span><span class="ident" id="5006522">state</span><span class="op" id="5006527">,</span>&nbsp;<span class="ident" id="5006529">v</span><span class="op" id="5006530">.</span><span class="ident" id="5006531">Slice</span><span class="op" id="5006536">(</span><span class="num" id="5006537">0</span><span class="op" id="5006538">,</span>&nbsp;<span class="ident" id="5006540">v</span><span class="op" id="5006541">.</span><span class="ident" id="5006542">Len</span><span class="op" id="5006545">(</span><span class="op" id="5006546">)</span><span class="op" id="5006547">)</span><span class="op" id="5006548">)</span><br>
<span class="lineno"></span><span class="op" id="5006550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5006553">func</span>&nbsp;<span class="ident" id="5006558">encInt8Slice</span><span class="op" id="5006570">(</span><span class="ident" id="5006571">state</span>&nbsp;<span class="op" id="5006577">*</span><span class="ident" id="5006578">encoderState</span><span class="op" id="5006590">,</span>&nbsp;<span class="ident" id="5006592">v</span>&nbsp;<span class="ident" id="5006594">reflect</span><span class="op" id="5006601">.</span><span class="ident" id="5006602">Value</span><span class="op" id="5006607">)</span>&nbsp;<span class="builtintype" id="5006609">bool</span>&nbsp;<span class="op" id="5006614">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5006617">slice</span><span class="op" id="5006622">,</span>&nbsp;<span class="ident" id="5006624">ok</span>&nbsp;<span class="op" id="5006627">:=</span>&nbsp;<span class="ident" id="5006630">v</span><span class="op" id="5006631">.</span><span class="ident" id="5006632">Interface</span><span class="op" id="5006641">(</span><span class="op" id="5006642">)</span><span class="op" id="5006643">.</span><span class="op" id="5006644">(</span><span class="op" id="5006645">[</span><span class="op" id="5006646">]</span><span class="builtintype" id="5006647">int8</span><span class="op" id="5006651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006654">if</span>&nbsp;<span class="op" id="5006657">!</span><span class="ident" id="5006658">ok</span>&nbsp;<span class="op" id="5006661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5006665">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006740">return</span>&nbsp;<span class="builtintype" id="5006747">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5006754">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006757">for</span>&nbsp;<span class="ident" id="5006761">_</span><span class="op" id="5006762">,</span>&nbsp;<span class="ident" id="5006764">x</span>&nbsp;<span class="op" id="5006766">:=</span>&nbsp;<span class="keyword" id="5006769">range</span>&nbsp;<span class="ident" id="5006775">slice</span>&nbsp;<span class="op" id="5006781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006785">if</span>&nbsp;<span class="ident" id="5006788">x</span>&nbsp;<span class="op" id="5006790">!=</span>&nbsp;<span class="num" id="5006793">0</span>&nbsp;<span class="op" id="5006795">||</span>&nbsp;<span class="ident" id="5006798">state</span><span class="op" id="5006803">.</span><span class="ident" id="5006804">sendZero</span>&nbsp;<span class="op" id="5006813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5006818">state</span><span class="op" id="5006823">.</span><span class="ident" id="5006824">encodeInt</span><span class="op" id="5006833">(</span><span class="ident" id="5006834">int64</span><span class="op" id="5006839">(</span><span class="ident" id="5006840">x</span><span class="op" id="5006841">)</span><span class="op" id="5006842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5006846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5006849">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006852">return</span>&nbsp;<span class="builtintype" id="5006859">true</span><br>
<span class="lineno"></span><span class="op" id="5006864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5006867">func</span>&nbsp;<span class="ident" id="5006872">encStringArray</span><span class="op" id="5006886">(</span><span class="ident" id="5006887">state</span>&nbsp;<span class="op" id="5006893">*</span><span class="ident" id="5006894">encoderState</span><span class="op" id="5006906">,</span>&nbsp;<span class="ident" id="5006908">v</span>&nbsp;<span class="ident" id="5006910">reflect</span><span class="op" id="5006917">.</span><span class="ident" id="5006918">Value</span><span class="op" id="5006923">)</span>&nbsp;<span class="builtintype" id="5006925">bool</span>&nbsp;<span class="op" id="5006930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5006933">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006974">if</span>&nbsp;<span class="op" id="5006977">!</span><span class="ident" id="5006978">v</span><span class="op" id="5006979">.</span><span class="ident" id="5006980">CanAddr</span><span class="op" id="5006987">(</span><span class="op" id="5006988">)</span>&nbsp;<span class="op" id="5006990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5006994">return</span>&nbsp;<span class="builtintype" id="5007001">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5007008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007011">return</span>&nbsp;<span class="ident" id="5007018">encStringSlice</span><span class="op" id="5007032">(</span><span class="ident" id="5007033">state</span><span class="op" id="5007038">,</span>&nbsp;<span class="ident" id="5007040">v</span><span class="op" id="5007041">.</span><span class="ident" id="5007042">Slice</span><span class="op" id="5007047">(</span><span class="num" id="5007048">0</span><span class="op" id="5007049">,</span>&nbsp;<span class="ident" id="5007051">v</span><span class="op" id="5007052">.</span><span class="ident" id="5007053">Len</span><span class="op" id="5007056">(</span><span class="op" id="5007057">)</span><span class="op" id="5007058">)</span><span class="op" id="5007059">)</span><br>
<span class="lineno"></span><span class="op" id="5007061">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="5007064">func</span>&nbsp;<span class="ident" id="5007069">encStringSlice</span><span class="op" id="5007083">(</span><span class="ident" id="5007084">state</span>&nbsp;<span class="op" id="5007090">*</span><span class="ident" id="5007091">encoderState</span><span class="op" id="5007103">,</span>&nbsp;<span class="ident" id="5007105">v</span>&nbsp;<span class="ident" id="5007107">reflect</span><span class="op" id="5007114">.</span><span class="ident" id="5007115">Value</span><span class="op" id="5007120">)</span>&nbsp;<span class="builtintype" id="5007122">bool</span>&nbsp;<span class="op" id="5007127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5007130">slice</span><span class="op" id="5007135">,</span>&nbsp;<span class="ident" id="5007137">ok</span>&nbsp;<span class="op" id="5007140">:=</span>&nbsp;<span class="ident" id="5007143">v</span><span class="op" id="5007144">.</span><span class="ident" id="5007145">Interface</span><span class="op" id="5007154">(</span><span class="op" id="5007155">)</span><span class="op" id="5007156">.</span><span class="op" id="5007157">(</span><span class="op" id="5007158">[</span><span class="op" id="5007159">]</span><span class="builtintype" id="5007160">string</span><span class="op" id="5007166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007169">if</span>&nbsp;<span class="op" id="5007172">!</span><span class="ident" id="5007173">ok</span>&nbsp;<span class="op" id="5007176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5007180">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007259">return</span>&nbsp;<span class="builtintype" id="5007266">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5007273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007276">for</span>&nbsp;<span class="ident" id="5007280">_</span><span class="op" id="5007281">,</span>&nbsp;<span class="ident" id="5007283">x</span>&nbsp;<span class="op" id="5007285">:=</span>&nbsp;<span class="keyword" id="5007288">range</span>&nbsp;<span class="ident" id="5007294">slice</span>&nbsp;<span class="op" id="5007300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007304">if</span>&nbsp;<span class="ident" id="5007307">x</span>&nbsp;<span class="op" id="5007309">!=</span>&nbsp;<span class="string" id="5007312">&#34;&#34;</span>&nbsp;<span class="op" id="5007315">||</span>&nbsp;<span class="ident" id="5007318">state</span><span class="op" id="5007323">.</span><span class="ident" id="5007324">sendZero</span>&nbsp;<span class="op" id="5007333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5007338">state</span><span class="op" id="5007343">.</span><span class="ident" id="5007344">encodeUint</span><span class="op" id="5007354">(</span><span class="ident" id="5007355">uint64</span><span class="op" id="5007361">(</span><span class="builtinfunc" id="5007362">len</span><span class="op" id="5007365">(</span><span class="ident" id="5007366">x</span><span class="op" id="5007367">)</span><span class="op" id="5007368">)</span><span class="op" id="5007369">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5007374">state</span><span class="op" id="5007379">.</span><span class="ident" id="5007380">b</span><span class="op" id="5007381">.</span><span class="ident" id="5007382">WriteString</span><span class="op" id="5007393">(</span><span class="ident" id="5007394">x</span><span class="op" id="5007395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5007399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5007402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007405">return</span>&nbsp;<span class="builtintype" id="5007412">true</span><br>
<span class="lineno"></span><span class="op" id="5007417">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="5007420">func</span>&nbsp;<span class="ident" id="5007425">encUintArray</span><span class="op" id="5007437">(</span><span class="ident" id="5007438">state</span>&nbsp;<span class="op" id="5007444">*</span><span class="ident" id="5007445">encoderState</span><span class="op" id="5007457">,</span>&nbsp;<span class="ident" id="5007459">v</span>&nbsp;<span class="ident" id="5007461">reflect</span><span class="op" id="5007468">.</span><span class="ident" id="5007469">Value</span><span class="op" id="5007474">)</span>&nbsp;<span class="builtintype" id="5007476">bool</span>&nbsp;<span class="op" id="5007481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5007484">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007525">if</span>&nbsp;<span class="op" id="5007528">!</span><span class="ident" id="5007529">v</span><span class="op" id="5007530">.</span><span class="ident" id="5007531">CanAddr</span><span class="op" id="5007538">(</span><span class="op" id="5007539">)</span>&nbsp;<span class="op" id="5007541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007545">return</span>&nbsp;<span class="builtintype" id="5007552">false</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5007559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007562">return</span>&nbsp;<span class="ident" id="5007569">encUintSlice</span><span class="op" id="5007581">(</span><span class="ident" id="5007582">state</span><span class="op" id="5007587">,</span>&nbsp;<span class="ident" id="5007589">v</span><span class="op" id="5007590">.</span><span class="ident" id="5007591">Slice</span><span class="op" id="5007596">(</span><span class="num" id="5007597">0</span><span class="op" id="5007598">,</span>&nbsp;<span class="ident" id="5007600">v</span><span class="op" id="5007601">.</span><span class="ident" id="5007602">Len</span><span class="op" id="5007605">(</span><span class="op" id="5007606">)</span><span class="op" id="5007607">)</span><span class="op" id="5007608">)</span><br>
<span class="lineno"></span><span class="op" id="5007610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5007613">func</span>&nbsp;<span class="ident" id="5007618">encUintSlice</span><span class="op" id="5007630">(</span><span class="ident" id="5007631">state</span>&nbsp;<span class="op" id="5007637">*</span><span class="ident" id="5007638">encoderState</span><span class="op" id="5007650">,</span>&nbsp;<span class="ident" id="5007652">v</span>&nbsp;<span class="ident" id="5007654">reflect</span><span class="op" id="5007661">.</span><span class="ident" id="5007662">Value</span><span class="op" id="5007667">)</span>&nbsp;<span class="builtintype" id="5007669">bool</span>&nbsp;<span class="op" id="5007674">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5007677">slice</span><span class="op" id="5007682">,</span>&nbsp;<span class="ident" id="5007684">ok</span>&nbsp;<span class="op" id="5007687">:=</span>&nbsp;<span class="ident" id="5007690">v</span><span class="op" id="5007691">.</span><span class="ident" id="5007692">Interface</span><span class="op" id="5007701">(</span><span class="op" id="5007702">)</span><span class="op" id="5007703">.</span><span class="op" id="5007704">(</span><span class="op" id="5007705">[</span><span class="op" id="5007706">]</span><span class="builtintype" id="5007707">uint</span><span class="op" id="5007711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007714">if</span>&nbsp;<span class="op" id="5007717">!</span><span class="ident" id="5007718">ok</span>&nbsp;<span class="op" id="5007721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5007725">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007800">return</span>&nbsp;<span class="builtintype" id="5007807">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5007814">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007817">for</span>&nbsp;<span class="ident" id="5007821">_</span><span class="op" id="5007822">,</span>&nbsp;<span class="ident" id="5007824">x</span>&nbsp;<span class="op" id="5007826">:=</span>&nbsp;<span class="keyword" id="5007829">range</span>&nbsp;<span class="ident" id="5007835">slice</span>&nbsp;<span class="op" id="5007841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007845">if</span>&nbsp;<span class="ident" id="5007848">x</span>&nbsp;<span class="op" id="5007850">!=</span>&nbsp;<span class="num" id="5007853">0</span>&nbsp;<span class="op" id="5007855">||</span>&nbsp;<span class="ident" id="5007858">state</span><span class="op" id="5007863">.</span><span class="ident" id="5007864">sendZero</span>&nbsp;<span class="op" id="5007873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5007878">state</span><span class="op" id="5007883">.</span><span class="ident" id="5007884">encodeUint</span><span class="op" id="5007894">(</span><span class="ident" id="5007895">uint64</span><span class="op" id="5007901">(</span><span class="ident" id="5007902">x</span><span class="op" id="5007903">)</span><span class="op" id="5007904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5007908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5007911">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5007914">return</span>&nbsp;<span class="builtintype" id="5007921">true</span><br>
<span class="lineno"></span><span class="op" id="5007926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5007929">func</span>&nbsp;<span class="ident" id="5007934">encUint16Array</span><span class="op" id="5007948">(</span><span class="ident" id="5007949">state</span>&nbsp;<span class="op" id="5007955">*</span><span class="ident" id="5007956">encoderState</span><span class="op" id="5007968">,</span>&nbsp;<span class="ident" id="5007970">v</span>&nbsp;<span class="ident" id="5007972">reflect</span><span class="op" id="5007979">.</span><span class="ident" id="5007980">Value</span><span class="op" id="5007985">)</span>&nbsp;<span class="builtintype" id="5007987">bool</span>&nbsp;<span class="op" id="5007992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5007995">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008036">if</span>&nbsp;<span class="op" id="5008039">!</span><span class="ident" id="5008040">v</span><span class="op" id="5008041">.</span><span class="ident" id="5008042">CanAddr</span><span class="op" id="5008049">(</span><span class="op" id="5008050">)</span>&nbsp;<span class="op" id="5008052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008056">return</span>&nbsp;<span class="builtintype" id="5008063">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5008070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008073">return</span>&nbsp;<span class="ident" id="5008080">encUint16Slice</span><span class="op" id="5008094">(</span><span class="ident" id="5008095">state</span><span class="op" id="5008100">,</span>&nbsp;<span class="ident" id="5008102">v</span><span class="op" id="5008103">.</span><span class="ident" id="5008104">Slice</span><span class="op" id="5008109">(</span><span class="num" id="5008110">0</span><span class="op" id="5008111">,</span>&nbsp;<span class="ident" id="5008113">v</span><span class="op" id="5008114">.</span><span class="ident" id="5008115">Len</span><span class="op" id="5008118">(</span><span class="op" id="5008119">)</span><span class="op" id="5008120">)</span><span class="op" id="5008121">)</span><br>
<span class="lineno"></span><span class="op" id="5008123">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="5008126">func</span>&nbsp;<span class="ident" id="5008131">encUint16Slice</span><span class="op" id="5008145">(</span><span class="ident" id="5008146">state</span>&nbsp;<span class="op" id="5008152">*</span><span class="ident" id="5008153">encoderState</span><span class="op" id="5008165">,</span>&nbsp;<span class="ident" id="5008167">v</span>&nbsp;<span class="ident" id="5008169">reflect</span><span class="op" id="5008176">.</span><span class="ident" id="5008177">Value</span><span class="op" id="5008182">)</span>&nbsp;<span class="builtintype" id="5008184">bool</span>&nbsp;<span class="op" id="5008189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5008192">slice</span><span class="op" id="5008197">,</span>&nbsp;<span class="ident" id="5008199">ok</span>&nbsp;<span class="op" id="5008202">:=</span>&nbsp;<span class="ident" id="5008205">v</span><span class="op" id="5008206">.</span><span class="ident" id="5008207">Interface</span><span class="op" id="5008216">(</span><span class="op" id="5008217">)</span><span class="op" id="5008218">.</span><span class="op" id="5008219">(</span><span class="op" id="5008220">[</span><span class="op" id="5008221">]</span><span class="builtintype" id="5008222">uint16</span><span class="op" id="5008228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008231">if</span>&nbsp;<span class="op" id="5008234">!</span><span class="ident" id="5008235">ok</span>&nbsp;<span class="op" id="5008238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5008242">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008321">return</span>&nbsp;<span class="builtintype" id="5008328">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5008335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008338">for</span>&nbsp;<span class="ident" id="5008342">_</span><span class="op" id="5008343">,</span>&nbsp;<span class="ident" id="5008345">x</span>&nbsp;<span class="op" id="5008347">:=</span>&nbsp;<span class="keyword" id="5008350">range</span>&nbsp;<span class="ident" id="5008356">slice</span>&nbsp;<span class="op" id="5008362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008366">if</span>&nbsp;<span class="ident" id="5008369">x</span>&nbsp;<span class="op" id="5008371">!=</span>&nbsp;<span class="num" id="5008374">0</span>&nbsp;<span class="op" id="5008376">||</span>&nbsp;<span class="ident" id="5008379">state</span><span class="op" id="5008384">.</span><span class="ident" id="5008385">sendZero</span>&nbsp;<span class="op" id="5008394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5008399">state</span><span class="op" id="5008404">.</span><span class="ident" id="5008405">encodeUint</span><span class="op" id="5008415">(</span><span class="ident" id="5008416">uint64</span><span class="op" id="5008422">(</span><span class="ident" id="5008423">x</span><span class="op" id="5008424">)</span><span class="op" id="5008425">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5008429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5008432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008435">return</span>&nbsp;<span class="builtintype" id="5008442">true</span><br>
<span class="lineno"></span><span class="op" id="5008447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="5008450">func</span>&nbsp;<span class="ident" id="5008455">encUint32Array</span><span class="op" id="5008469">(</span><span class="ident" id="5008470">state</span>&nbsp;<span class="op" id="5008476">*</span><span class="ident" id="5008477">encoderState</span><span class="op" id="5008489">,</span>&nbsp;<span class="ident" id="5008491">v</span>&nbsp;<span class="ident" id="5008493">reflect</span><span class="op" id="5008500">.</span><span class="ident" id="5008501">Value</span><span class="op" id="5008506">)</span>&nbsp;<span class="builtintype" id="5008508">bool</span>&nbsp;<span class="op" id="5008513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5008516">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008557">if</span>&nbsp;<span class="op" id="5008560">!</span><span class="ident" id="5008561">v</span><span class="op" id="5008562">.</span><span class="ident" id="5008563">CanAddr</span><span class="op" id="5008570">(</span><span class="op" id="5008571">)</span>&nbsp;<span class="op" id="5008573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008577">return</span>&nbsp;<span class="builtintype" id="5008584">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5008591">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008594">return</span>&nbsp;<span class="ident" id="5008601">encUint32Slice</span><span class="op" id="5008615">(</span><span class="ident" id="5008616">state</span><span class="op" id="5008621">,</span>&nbsp;<span class="ident" id="5008623">v</span><span class="op" id="5008624">.</span><span class="ident" id="5008625">Slice</span><span class="op" id="5008630">(</span><span class="num" id="5008631">0</span><span class="op" id="5008632">,</span>&nbsp;<span class="ident" id="5008634">v</span><span class="op" id="5008635">.</span><span class="ident" id="5008636">Len</span><span class="op" id="5008639">(</span><span class="op" id="5008640">)</span><span class="op" id="5008641">)</span><span class="op" id="5008642">)</span><br>
<span class="lineno"></span><span class="op" id="5008644">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5008647">func</span>&nbsp;<span class="ident" id="5008652">encUint32Slice</span><span class="op" id="5008666">(</span><span class="ident" id="5008667">state</span>&nbsp;<span class="op" id="5008673">*</span><span class="ident" id="5008674">encoderState</span><span class="op" id="5008686">,</span>&nbsp;<span class="ident" id="5008688">v</span>&nbsp;<span class="ident" id="5008690">reflect</span><span class="op" id="5008697">.</span><span class="ident" id="5008698">Value</span><span class="op" id="5008703">)</span>&nbsp;<span class="builtintype" id="5008705">bool</span>&nbsp;<span class="op" id="5008710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5008713">slice</span><span class="op" id="5008718">,</span>&nbsp;<span class="ident" id="5008720">ok</span>&nbsp;<span class="op" id="5008723">:=</span>&nbsp;<span class="ident" id="5008726">v</span><span class="op" id="5008727">.</span><span class="ident" id="5008728">Interface</span><span class="op" id="5008737">(</span><span class="op" id="5008738">)</span><span class="op" id="5008739">.</span><span class="op" id="5008740">(</span><span class="op" id="5008741">[</span><span class="op" id="5008742">]</span><span class="builtintype" id="5008743">uint32</span><span class="op" id="5008749">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008752">if</span>&nbsp;<span class="op" id="5008755">!</span><span class="ident" id="5008756">ok</span>&nbsp;<span class="op" id="5008759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5008763">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008842">return</span>&nbsp;<span class="builtintype" id="5008849">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5008856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008859">for</span>&nbsp;<span class="ident" id="5008863">_</span><span class="op" id="5008864">,</span>&nbsp;<span class="ident" id="5008866">x</span>&nbsp;<span class="op" id="5008868">:=</span>&nbsp;<span class="keyword" id="5008871">range</span>&nbsp;<span class="ident" id="5008877">slice</span>&nbsp;<span class="op" id="5008883">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008887">if</span>&nbsp;<span class="ident" id="5008890">x</span>&nbsp;<span class="op" id="5008892">!=</span>&nbsp;<span class="num" id="5008895">0</span>&nbsp;<span class="op" id="5008897">||</span>&nbsp;<span class="ident" id="5008900">state</span><span class="op" id="5008905">.</span><span class="ident" id="5008906">sendZero</span>&nbsp;<span class="op" id="5008915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5008920">state</span><span class="op" id="5008925">.</span><span class="ident" id="5008926">encodeUint</span><span class="op" id="5008936">(</span><span class="ident" id="5008937">uint64</span><span class="op" id="5008943">(</span><span class="ident" id="5008944">x</span><span class="op" id="5008945">)</span><span class="op" id="5008946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5008950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5008953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5008956">return</span>&nbsp;<span class="builtintype" id="5008963">true</span><br>
<span class="lineno">370</span><span class="op" id="5008968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5008971">func</span>&nbsp;<span class="ident" id="5008976">encUint64Array</span><span class="op" id="5008990">(</span><span class="ident" id="5008991">state</span>&nbsp;<span class="op" id="5008997">*</span><span class="ident" id="5008998">encoderState</span><span class="op" id="5009010">,</span>&nbsp;<span class="ident" id="5009012">v</span>&nbsp;<span class="ident" id="5009014">reflect</span><span class="op" id="5009021">.</span><span class="ident" id="5009022">Value</span><span class="op" id="5009027">)</span>&nbsp;<span class="builtintype" id="5009029">bool</span>&nbsp;<span class="op" id="5009034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5009037">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009078">if</span>&nbsp;<span class="op" id="5009081">!</span><span class="ident" id="5009082">v</span><span class="op" id="5009083">.</span><span class="ident" id="5009084">CanAddr</span><span class="op" id="5009091">(</span><span class="op" id="5009092">)</span>&nbsp;<span class="op" id="5009094">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009098">return</span>&nbsp;<span class="builtintype" id="5009105">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5009112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009115">return</span>&nbsp;<span class="ident" id="5009122">encUint64Slice</span><span class="op" id="5009136">(</span><span class="ident" id="5009137">state</span><span class="op" id="5009142">,</span>&nbsp;<span class="ident" id="5009144">v</span><span class="op" id="5009145">.</span><span class="ident" id="5009146">Slice</span><span class="op" id="5009151">(</span><span class="num" id="5009152">0</span><span class="op" id="5009153">,</span>&nbsp;<span class="ident" id="5009155">v</span><span class="op" id="5009156">.</span><span class="ident" id="5009157">Len</span><span class="op" id="5009160">(</span><span class="op" id="5009161">)</span><span class="op" id="5009162">)</span><span class="op" id="5009163">)</span><br>
<span class="lineno"></span><span class="op" id="5009165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="5009168">func</span>&nbsp;<span class="ident" id="5009173">encUint64Slice</span><span class="op" id="5009187">(</span><span class="ident" id="5009188">state</span>&nbsp;<span class="op" id="5009194">*</span><span class="ident" id="5009195">encoderState</span><span class="op" id="5009207">,</span>&nbsp;<span class="ident" id="5009209">v</span>&nbsp;<span class="ident" id="5009211">reflect</span><span class="op" id="5009218">.</span><span class="ident" id="5009219">Value</span><span class="op" id="5009224">)</span>&nbsp;<span class="builtintype" id="5009226">bool</span>&nbsp;<span class="op" id="5009231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5009234">slice</span><span class="op" id="5009239">,</span>&nbsp;<span class="ident" id="5009241">ok</span>&nbsp;<span class="op" id="5009244">:=</span>&nbsp;<span class="ident" id="5009247">v</span><span class="op" id="5009248">.</span><span class="ident" id="5009249">Interface</span><span class="op" id="5009258">(</span><span class="op" id="5009259">)</span><span class="op" id="5009260">.</span><span class="op" id="5009261">(</span><span class="op" id="5009262">[</span><span class="op" id="5009263">]</span><span class="ident" id="5009264">uint64</span><span class="op" id="5009270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009273">if</span>&nbsp;<span class="op" id="5009276">!</span><span class="ident" id="5009277">ok</span>&nbsp;<span class="op" id="5009280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5009284">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009363">return</span>&nbsp;<span class="builtintype" id="5009370">false</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5009377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009380">for</span>&nbsp;<span class="ident" id="5009384">_</span><span class="op" id="5009385">,</span>&nbsp;<span class="ident" id="5009387">x</span>&nbsp;<span class="op" id="5009389">:=</span>&nbsp;<span class="keyword" id="5009392">range</span>&nbsp;<span class="ident" id="5009398">slice</span>&nbsp;<span class="op" id="5009404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009408">if</span>&nbsp;<span class="ident" id="5009411">x</span>&nbsp;<span class="op" id="5009413">!=</span>&nbsp;<span class="num" id="5009416">0</span>&nbsp;<span class="op" id="5009418">||</span>&nbsp;<span class="ident" id="5009421">state</span><span class="op" id="5009426">.</span><span class="ident" id="5009427">sendZero</span>&nbsp;<span class="op" id="5009436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5009441">state</span><span class="op" id="5009446">.</span><span class="ident" id="5009447">encodeUint</span><span class="op" id="5009457">(</span><span class="ident" id="5009458">x</span><span class="op" id="5009459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5009463">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5009466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009469">return</span>&nbsp;<span class="builtintype" id="5009476">true</span><br>
<span class="lineno"></span><span class="op" id="5009481">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5009484">func</span>&nbsp;<span class="ident" id="5009489">encUintptrArray</span><span class="op" id="5009504">(</span><span class="ident" id="5009505">state</span>&nbsp;<span class="op" id="5009511">*</span><span class="ident" id="5009512">encoderState</span><span class="op" id="5009524">,</span>&nbsp;<span class="ident" id="5009526">v</span>&nbsp;<span class="ident" id="5009528">reflect</span><span class="op" id="5009535">.</span><span class="ident" id="5009536">Value</span><span class="op" id="5009541">)</span>&nbsp;<span class="builtintype" id="5009543">bool</span>&nbsp;<span class="op" id="5009548">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5009551">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009592">if</span>&nbsp;<span class="op" id="5009595">!</span><span class="ident" id="5009596">v</span><span class="op" id="5009597">.</span><span class="ident" id="5009598">CanAddr</span><span class="op" id="5009605">(</span><span class="op" id="5009606">)</span>&nbsp;<span class="op" id="5009608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009612">return</span>&nbsp;<span class="builtintype" id="5009619">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5009626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009629">return</span>&nbsp;<span class="ident" id="5009636">encUintptrSlice</span><span class="op" id="5009651">(</span><span class="ident" id="5009652">state</span><span class="op" id="5009657">,</span>&nbsp;<span class="ident" id="5009659">v</span><span class="op" id="5009660">.</span><span class="ident" id="5009661">Slice</span><span class="op" id="5009666">(</span><span class="num" id="5009667">0</span><span class="op" id="5009668">,</span>&nbsp;<span class="ident" id="5009670">v</span><span class="op" id="5009671">.</span><span class="ident" id="5009672">Len</span><span class="op" id="5009675">(</span><span class="op" id="5009676">)</span><span class="op" id="5009677">)</span><span class="op" id="5009678">)</span><br>
<span class="lineno">400</span><span class="op" id="5009680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5009683">func</span>&nbsp;<span class="ident" id="5009688">encUintptrSlice</span><span class="op" id="5009703">(</span><span class="ident" id="5009704">state</span>&nbsp;<span class="op" id="5009710">*</span><span class="ident" id="5009711">encoderState</span><span class="op" id="5009723">,</span>&nbsp;<span class="ident" id="5009725">v</span>&nbsp;<span class="ident" id="5009727">reflect</span><span class="op" id="5009734">.</span><span class="ident" id="5009735">Value</span><span class="op" id="5009740">)</span>&nbsp;<span class="builtintype" id="5009742">bool</span>&nbsp;<span class="op" id="5009747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5009750">slice</span><span class="op" id="5009755">,</span>&nbsp;<span class="ident" id="5009757">ok</span>&nbsp;<span class="op" id="5009760">:=</span>&nbsp;<span class="ident" id="5009763">v</span><span class="op" id="5009764">.</span><span class="ident" id="5009765">Interface</span><span class="op" id="5009774">(</span><span class="op" id="5009775">)</span><span class="op" id="5009776">.</span><span class="op" id="5009777">(</span><span class="op" id="5009778">[</span><span class="op" id="5009779">]</span><span class="builtintype" id="5009780">uintptr</span><span class="op" id="5009787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009790">if</span>&nbsp;<span class="op" id="5009793">!</span><span class="ident" id="5009794">ok</span>&nbsp;<span class="op" id="5009797">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5009801">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009882">return</span>&nbsp;<span class="builtintype" id="5009889">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5009896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009899">for</span>&nbsp;<span class="ident" id="5009903">_</span><span class="op" id="5009904">,</span>&nbsp;<span class="ident" id="5009906">x</span>&nbsp;<span class="op" id="5009908">:=</span>&nbsp;<span class="keyword" id="5009911">range</span>&nbsp;<span class="ident" id="5009917">slice</span>&nbsp;<span class="op" id="5009923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009927">if</span>&nbsp;<span class="ident" id="5009930">x</span>&nbsp;<span class="op" id="5009932">!=</span>&nbsp;<span class="num" id="5009935">0</span>&nbsp;<span class="op" id="5009937">||</span>&nbsp;<span class="ident" id="5009940">state</span><span class="op" id="5009945">.</span><span class="ident" id="5009946">sendZero</span>&nbsp;<span class="op" id="5009955">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5009960">state</span><span class="op" id="5009965">.</span><span class="ident" id="5009966">encodeUint</span><span class="op" id="5009976">(</span><span class="ident" id="5009977">uint64</span><span class="op" id="5009983">(</span><span class="ident" id="5009984">x</span><span class="op" id="5009985">)</span><span class="op" id="5009986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5009990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5009993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5009996">return</span>&nbsp;<span class="builtintype" id="5010003">true</span><br>
<span class="lineno"></span><span class="op" id="5010008">}</span>
</div>
</body>
</html>
