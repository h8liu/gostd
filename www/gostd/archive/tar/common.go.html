<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>archive/tar</h2>
<ul>
<li><a href="/gostd/archive/tar/common.go.html" class="current">common.go</a></li>
<li><a href="/gostd/archive/tar/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/archive/tar/reader.go.html">reader.go</a></li>
<li><a href="/gostd/archive/tar/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/archive/tar/stat_atim.go.html">stat_atim.go</a></li>
<li><a href="/gostd/archive/tar/stat_unix.go.html">stat_unix.go</a></li>
<li><a href="/gostd/archive/tar/tar_test.go.html">tar_test.go</a></li>
<li><a href="/gostd/archive/tar/writer.go.html">writer.go</a></li>
<li><a href="/gostd/archive/tar/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5719134">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5719189">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5719243">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5719294">//&nbsp;Package&nbsp;tar&nbsp;implements&nbsp;access&nbsp;to&nbsp;tar&nbsp;archives.</span><br>
<span class="lineno"></span><span class="comment" id="5719344">//&nbsp;It&nbsp;aims&nbsp;to&nbsp;cover&nbsp;most&nbsp;of&nbsp;the&nbsp;variations,&nbsp;including&nbsp;those&nbsp;produced</span><br>
<span class="lineno"></span><span class="comment" id="5719413">//&nbsp;by&nbsp;GNU&nbsp;and&nbsp;BSD&nbsp;tars.</span><br>
<span class="lineno"></span><span class="comment" id="5719437">//</span><br>
<span class="lineno"></span><span class="comment" id="5719440">//&nbsp;References:</span><br>
<span class="lineno">10</span><span class="comment" id="5719455">//&nbsp;&nbsp;&nbsp;http://www.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=5</span><br>
<span class="lineno"></span><span class="comment" id="5719515">//&nbsp;&nbsp;&nbsp;http://www.gnu.org/software/tar/manual/html_node/Standard.html</span><br>
<span class="lineno"></span><span class="comment" id="5719583">//&nbsp;&nbsp;&nbsp;http://pubs.opengroup.org/onlinepubs/9699919799/utilities/pax.html</span><br>
<span class="lineno"></span><span class="keyword" id="5719655">package</span>&nbsp;<span class="ident" id="5719663">tar</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="5719668">import</span>&nbsp;<span class="op" id="5719675">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5719678">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5719687">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5719697">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5719704">&#34;os&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5719710">&#34;path&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5719718">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="5719725">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5719728">const</span>&nbsp;<span class="op" id="5719734">(</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5719737">blockSize</span>&nbsp;<span class="op" id="5719747">=</span>&nbsp;<span class="num" id="5719749">512</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5719755">//&nbsp;Types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5719765">TypeReg</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5719783">=</span>&nbsp;<span class="string" id="5719785">&#39;0&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5719792">//&nbsp;regular&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5719809">TypeRegA</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5719827">=</span>&nbsp;<span class="string" id="5719829">&#39;\x00&#39;</span>&nbsp;<span class="comment" id="5719836">//&nbsp;regular&nbsp;file</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5719853">TypeLink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5719871">=</span>&nbsp;<span class="string" id="5719873">&#39;1&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5719880">//&nbsp;hard&nbsp;link</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5719894">TypeSymlink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5719912">=</span>&nbsp;<span class="string" id="5719914">&#39;2&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5719921">//&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5719939">TypeChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5719957">=</span>&nbsp;<span class="string" id="5719959">&#39;3&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5719966">//&nbsp;character&nbsp;device&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5719992">TypeBlock</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5720010">=</span>&nbsp;<span class="string" id="5720012">&#39;4&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720019">//&nbsp;block&nbsp;device&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720041">TypeDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5720059">=</span>&nbsp;<span class="string" id="5720061">&#39;5&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720068">//&nbsp;directory</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720082">TypeFifo</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5720100">=</span>&nbsp;<span class="string" id="5720102">&#39;6&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720109">//&nbsp;fifo&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720123">TypeCont</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5720141">=</span>&nbsp;<span class="string" id="5720143">&#39;7&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720150">//&nbsp;reserved</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720163">TypeXHeader</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5720181">=</span>&nbsp;<span class="string" id="5720183">&#39;x&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720190">//&nbsp;extended&nbsp;header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720210">TypeXGlobalHeader</span>&nbsp;<span class="op" id="5720228">=</span>&nbsp;<span class="string" id="5720230">&#39;g&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720237">//&nbsp;global&nbsp;extended&nbsp;header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720264">TypeGNULongName</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5720282">=</span>&nbsp;<span class="string" id="5720284">&#39;L&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720291">//&nbsp;Next&nbsp;file&nbsp;has&nbsp;a&nbsp;long&nbsp;name</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720321">TypeGNULongLink</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5720339">=</span>&nbsp;<span class="string" id="5720341">&#39;K&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720348">//&nbsp;Next&nbsp;file&nbsp;symlinks&nbsp;to&nbsp;a&nbsp;file&nbsp;w/&nbsp;a&nbsp;long&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720396">TypeGNUSparse</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5720414">=</span>&nbsp;<span class="string" id="5720416">&#39;S&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720423">//&nbsp;sparse&nbsp;file</span><br>
<span class="lineno"></span><span class="op" id="5720438">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5720441">//&nbsp;A&nbsp;Header&nbsp;represents&nbsp;a&nbsp;single&nbsp;header&nbsp;in&nbsp;a&nbsp;tar&nbsp;archive.</span><br>
<span class="lineno">45</span><span class="comment" id="5720498">//&nbsp;Some&nbsp;fields&nbsp;may&nbsp;not&nbsp;be&nbsp;populated.</span><br>
<span class="lineno"></span><span class="keyword" id="5720535">type</span>&nbsp;<span class="ident" id="5720540">Header</span>&nbsp;<span class="keyword" id="5720547">struct</span>&nbsp;<span class="op" id="5720554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720557">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5720568">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720578">//&nbsp;name&nbsp;of&nbsp;header&nbsp;file&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720608">Mode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720619">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720629">//&nbsp;permission&nbsp;and&nbsp;mode&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720658">Uid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5720669">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720679">//&nbsp;user&nbsp;id&nbsp;of&nbsp;owner</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720700">Gid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5720711">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720721">//&nbsp;group&nbsp;id&nbsp;of&nbsp;owner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720743">Size</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720754">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720764">//&nbsp;length&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720784">ModTime</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720795">time</span><span class="op" id="5720799">.</span><span class="ident" id="5720800">Time</span>&nbsp;<span class="comment" id="5720805">//&nbsp;modified&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720823">Typeflag</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5720834">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720844">//&nbsp;type&nbsp;of&nbsp;header&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720869">Linkname</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5720880">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720890">//&nbsp;target&nbsp;name&nbsp;of&nbsp;link</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720914">Uname</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5720925">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720935">//&nbsp;user&nbsp;name&nbsp;of&nbsp;owner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5720958">Gname</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5720969">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5720979">//&nbsp;group&nbsp;name&nbsp;of&nbsp;owner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5721003">Devmajor</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5721014">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5721024">//&nbsp;major&nbsp;number&nbsp;of&nbsp;character&nbsp;or&nbsp;block&nbsp;device</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5721070">Devminor</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5721081">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5721091">//&nbsp;minor&nbsp;number&nbsp;of&nbsp;character&nbsp;or&nbsp;block&nbsp;device</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5721137">AccessTime</span>&nbsp;<span class="ident" id="5721148">time</span><span class="op" id="5721152">.</span><span class="ident" id="5721153">Time</span>&nbsp;<span class="comment" id="5721158">//&nbsp;access&nbsp;time</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5721174">ChangeTime</span>&nbsp;<span class="ident" id="5721185">time</span><span class="op" id="5721189">.</span><span class="ident" id="5721190">Time</span>&nbsp;<span class="comment" id="5721195">//&nbsp;status&nbsp;change&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5721218">Xattrs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5721229">map</span><span class="op" id="5721232">[</span><span class="builtintype" id="5721233">string</span><span class="op" id="5721239">]</span><span class="builtintype" id="5721240">string</span><br>
<span class="lineno"></span><span class="op" id="5721247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5721250">//&nbsp;File&nbsp;name&nbsp;constants&nbsp;from&nbsp;the&nbsp;tar&nbsp;spec.</span><br>
<span class="lineno">65</span><span class="keyword" id="5721292">const</span>&nbsp;<span class="op" id="5721298">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5721301">fileNameSize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5721320">=</span>&nbsp;<span class="num" id="5721322">100</span>&nbsp;<span class="comment" id="5721326">//&nbsp;Maximum&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;a&nbsp;standard&nbsp;tar&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5721378">fileNamePrefixSize</span>&nbsp;<span class="op" id="5721397">=</span>&nbsp;<span class="num" id="5721399">155</span>&nbsp;<span class="comment" id="5721403">//&nbsp;Maximum&nbsp;number&nbsp;of&nbsp;ustar&nbsp;extension&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="op" id="5721447">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="comment" id="5721450">//&nbsp;FileInfo&nbsp;returns&nbsp;an&nbsp;os.FileInfo&nbsp;for&nbsp;the&nbsp;Header.</span><br>
<span class="lineno"></span><span class="keyword" id="5721501">func</span>&nbsp;<span class="op" id="5721506">(</span><span class="ident" id="5721507">h</span>&nbsp;<span class="op" id="5721509">*</span><span class="ident" id="5721510">Header</span><span class="op" id="5721516">)</span>&nbsp;<span class="ident" id="5721518">FileInfo</span><span class="op" id="5721526">(</span><span class="op" id="5721527">)</span>&nbsp;<span class="ident" id="5721529">os</span><span class="op" id="5721531">.</span><span class="ident" id="5721532">FileInfo</span>&nbsp;<span class="op" id="5721541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5721544">return</span>&nbsp;<span class="ident" id="5721551">headerFileInfo</span><span class="op" id="5721565">{</span><span class="ident" id="5721566">h</span><span class="op" id="5721567">}</span><br>
<span class="lineno"></span><span class="op" id="5721569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="5721572">//&nbsp;headerFileInfo&nbsp;implements&nbsp;os.FileInfo.</span><br>
<span class="lineno"></span><span class="keyword" id="5721614">type</span>&nbsp;<span class="ident" id="5721619">headerFileInfo</span>&nbsp;<span class="keyword" id="5721634">struct</span>&nbsp;<span class="op" id="5721641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5721644">h</span>&nbsp;<span class="op" id="5721646">*</span><span class="ident" id="5721647">Header</span><br>
<span class="lineno"></span><span class="op" id="5721654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5721657">func</span>&nbsp;<span class="op" id="5721662">(</span><span class="ident" id="5721663">fi</span>&nbsp;<span class="ident" id="5721666">headerFileInfo</span><span class="op" id="5721680">)</span>&nbsp;<span class="ident" id="5721682">Size</span><span class="op" id="5721686">(</span><span class="op" id="5721687">)</span>&nbsp;<span class="ident" id="5721689">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5721702">{</span>&nbsp;<span class="keyword" id="5721704">return</span>&nbsp;<span class="ident" id="5721711">fi</span><span class="op" id="5721713">.</span><span class="ident" id="5721714">h</span><span class="op" id="5721715">.</span><span class="ident" id="5721716">Size</span>&nbsp;<span class="op" id="5721721">}</span><br>
<span class="lineno"></span><span class="keyword" id="5721723">func</span>&nbsp;<span class="op" id="5721728">(</span><span class="ident" id="5721729">fi</span>&nbsp;<span class="ident" id="5721732">headerFileInfo</span><span class="op" id="5721746">)</span>&nbsp;<span class="ident" id="5721748">IsDir</span><span class="op" id="5721753">(</span><span class="op" id="5721754">)</span>&nbsp;<span class="builtintype" id="5721756">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5721768">{</span>&nbsp;<span class="keyword" id="5721770">return</span>&nbsp;<span class="ident" id="5721777">fi</span><span class="op" id="5721779">.</span><span class="ident" id="5721780">Mode</span><span class="op" id="5721784">(</span><span class="op" id="5721785">)</span><span class="op" id="5721786">.</span><span class="ident" id="5721787">IsDir</span><span class="op" id="5721792">(</span><span class="op" id="5721793">)</span>&nbsp;<span class="op" id="5721795">}</span><br>
<span class="lineno"></span><span class="keyword" id="5721797">func</span>&nbsp;<span class="op" id="5721802">(</span><span class="ident" id="5721803">fi</span>&nbsp;<span class="ident" id="5721806">headerFileInfo</span><span class="op" id="5721820">)</span>&nbsp;<span class="ident" id="5721822">ModTime</span><span class="op" id="5721829">(</span><span class="op" id="5721830">)</span>&nbsp;<span class="ident" id="5721832">time</span><span class="op" id="5721836">.</span><span class="ident" id="5721837">Time</span>&nbsp;<span class="op" id="5721842">{</span>&nbsp;<span class="keyword" id="5721844">return</span>&nbsp;<span class="ident" id="5721851">fi</span><span class="op" id="5721853">.</span><span class="ident" id="5721854">h</span><span class="op" id="5721855">.</span><span class="ident" id="5721856">ModTime</span>&nbsp;<span class="op" id="5721864">}</span><br>
<span class="lineno"></span><span class="keyword" id="5721866">func</span>&nbsp;<span class="op" id="5721871">(</span><span class="ident" id="5721872">fi</span>&nbsp;<span class="ident" id="5721875">headerFileInfo</span><span class="op" id="5721889">)</span>&nbsp;<span class="ident" id="5721891">Sys</span><span class="op" id="5721894">(</span><span class="op" id="5721895">)</span>&nbsp;<span class="keyword" id="5721897">interface</span><span class="op" id="5721906">{</span><span class="op" id="5721907">}</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5721911">{</span>&nbsp;<span class="keyword" id="5721913">return</span>&nbsp;<span class="ident" id="5721920">fi</span><span class="op" id="5721922">.</span><span class="ident" id="5721923">h</span>&nbsp;<span class="op" id="5721925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="5721928">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="5721971">func</span>&nbsp;<span class="op" id="5721976">(</span><span class="ident" id="5721977">fi</span>&nbsp;<span class="ident" id="5721980">headerFileInfo</span><span class="op" id="5721994">)</span>&nbsp;<span class="ident" id="5721996">Name</span><span class="op" id="5722000">(</span><span class="op" id="5722001">)</span>&nbsp;<span class="builtintype" id="5722003">string</span>&nbsp;<span class="op" id="5722010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722013">if</span>&nbsp;<span class="ident" id="5722016">fi</span><span class="op" id="5722018">.</span><span class="ident" id="5722019">IsDir</span><span class="op" id="5722024">(</span><span class="op" id="5722025">)</span>&nbsp;<span class="op" id="5722027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722031">return</span>&nbsp;<span class="ident" id="5722038">path</span><span class="op" id="5722042">.</span><span class="ident" id="5722043">Base</span><span class="op" id="5722047">(</span><span class="ident" id="5722048">path</span><span class="op" id="5722052">.</span><span class="ident" id="5722053">Clean</span><span class="op" id="5722058">(</span><span class="ident" id="5722059">fi</span><span class="op" id="5722061">.</span><span class="ident" id="5722062">h</span><span class="op" id="5722063">.</span><span class="ident" id="5722064">Name</span><span class="op" id="5722068">)</span><span class="op" id="5722069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5722072">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722075">return</span>&nbsp;<span class="ident" id="5722082">path</span><span class="op" id="5722086">.</span><span class="ident" id="5722087">Base</span><span class="op" id="5722091">(</span><span class="ident" id="5722092">fi</span><span class="op" id="5722094">.</span><span class="ident" id="5722095">h</span><span class="op" id="5722096">.</span><span class="ident" id="5722097">Name</span><span class="op" id="5722101">)</span><br>
<span class="lineno"></span><span class="op" id="5722103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5722106">//&nbsp;Mode&nbsp;returns&nbsp;the&nbsp;permission&nbsp;and&nbsp;mode&nbsp;bits&nbsp;for&nbsp;the&nbsp;headerFileInfo.</span><br>
<span class="lineno"></span><span class="keyword" id="5722175">func</span>&nbsp;<span class="op" id="5722180">(</span><span class="ident" id="5722181">fi</span>&nbsp;<span class="ident" id="5722184">headerFileInfo</span><span class="op" id="5722198">)</span>&nbsp;<span class="ident" id="5722200">Mode</span><span class="op" id="5722204">(</span><span class="op" id="5722205">)</span>&nbsp;<span class="op" id="5722207">(</span><span class="ident" id="5722208">mode</span>&nbsp;<span class="ident" id="5722213">os</span><span class="op" id="5722215">.</span><span class="ident" id="5722216">FileMode</span><span class="op" id="5722224">)</span>&nbsp;<span class="op" id="5722226">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722229">//&nbsp;Set&nbsp;file&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722259">mode</span>&nbsp;<span class="op" id="5722264">=</span>&nbsp;<span class="ident" id="5722266">os</span><span class="op" id="5722268">.</span><span class="ident" id="5722269">FileMode</span><span class="op" id="5722277">(</span><span class="ident" id="5722278">fi</span><span class="op" id="5722280">.</span><span class="ident" id="5722281">h</span><span class="op" id="5722282">.</span><span class="ident" id="5722283">Mode</span><span class="op" id="5722287">)</span><span class="op" id="5722288">.</span><span class="ident" id="5722289">Perm</span><span class="op" id="5722293">(</span><span class="op" id="5722294">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722298">//&nbsp;Set&nbsp;setuid,&nbsp;setgid&nbsp;and&nbsp;sticky&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722338">if</span>&nbsp;<span class="ident" id="5722341">fi</span><span class="op" id="5722343">.</span><span class="ident" id="5722344">h</span><span class="op" id="5722345">.</span><span class="ident" id="5722346">Mode</span><span class="op" id="5722350">&amp;</span><span class="ident" id="5722351">c_ISUID</span>&nbsp;<span class="op" id="5722359">!=</span>&nbsp;<span class="num" id="5722362">0</span>&nbsp;<span class="op" id="5722364">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722368">//&nbsp;setuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722380">mode</span>&nbsp;<span class="op" id="5722385">|=</span>&nbsp;<span class="ident" id="5722388">os</span><span class="op" id="5722390">.</span><span class="ident" id="5722391">ModeSetuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5722403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722406">if</span>&nbsp;<span class="ident" id="5722409">fi</span><span class="op" id="5722411">.</span><span class="ident" id="5722412">h</span><span class="op" id="5722413">.</span><span class="ident" id="5722414">Mode</span><span class="op" id="5722418">&amp;</span><span class="ident" id="5722419">c_ISGID</span>&nbsp;<span class="op" id="5722427">!=</span>&nbsp;<span class="num" id="5722430">0</span>&nbsp;<span class="op" id="5722432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722436">//&nbsp;setgid</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722448">mode</span>&nbsp;<span class="op" id="5722453">|=</span>&nbsp;<span class="ident" id="5722456">os</span><span class="op" id="5722458">.</span><span class="ident" id="5722459">ModeSetgid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5722471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722474">if</span>&nbsp;<span class="ident" id="5722477">fi</span><span class="op" id="5722479">.</span><span class="ident" id="5722480">h</span><span class="op" id="5722481">.</span><span class="ident" id="5722482">Mode</span><span class="op" id="5722486">&amp;</span><span class="ident" id="5722487">c_ISVTX</span>&nbsp;<span class="op" id="5722495">!=</span>&nbsp;<span class="num" id="5722498">0</span>&nbsp;<span class="op" id="5722500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722504">//&nbsp;sticky</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722516">mode</span>&nbsp;<span class="op" id="5722521">|=</span>&nbsp;<span class="ident" id="5722524">os</span><span class="op" id="5722526">.</span><span class="ident" id="5722527">ModeSticky</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5722539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722543">//&nbsp;Set&nbsp;file&nbsp;mode&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722567">//&nbsp;clear&nbsp;perm,&nbsp;setuid,&nbsp;setgid&nbsp;and&nbsp;sticky&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722615">m</span>&nbsp;<span class="op" id="5722617">:=</span>&nbsp;<span class="ident" id="5722620">os</span><span class="op" id="5722622">.</span><span class="ident" id="5722623">FileMode</span><span class="op" id="5722631">(</span><span class="ident" id="5722632">fi</span><span class="op" id="5722634">.</span><span class="ident" id="5722635">h</span><span class="op" id="5722636">.</span><span class="ident" id="5722637">Mode</span><span class="op" id="5722641">)</span>&nbsp;<span class="op" id="5722643">&amp;^</span>&nbsp;<span class="num" id="5722646">07777</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722653">if</span>&nbsp;<span class="ident" id="5722656">m</span>&nbsp;<span class="op" id="5722658">==</span>&nbsp;<span class="ident" id="5722661">c_ISDIR</span>&nbsp;<span class="op" id="5722669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722673">//&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722688">mode</span>&nbsp;<span class="op" id="5722693">|=</span>&nbsp;<span class="ident" id="5722696">os</span><span class="op" id="5722698">.</span><span class="ident" id="5722699">ModeDir</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5722708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722711">if</span>&nbsp;<span class="ident" id="5722714">m</span>&nbsp;<span class="op" id="5722716">==</span>&nbsp;<span class="ident" id="5722719">c_ISFIFO</span>&nbsp;<span class="op" id="5722728">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722732">//&nbsp;named&nbsp;pipe&nbsp;(FIFO)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722755">mode</span>&nbsp;<span class="op" id="5722760">|=</span>&nbsp;<span class="ident" id="5722763">os</span><span class="op" id="5722765">.</span><span class="ident" id="5722766">ModeNamedPipe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5722781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722784">if</span>&nbsp;<span class="ident" id="5722787">m</span>&nbsp;<span class="op" id="5722789">==</span>&nbsp;<span class="ident" id="5722792">c_ISLNK</span>&nbsp;<span class="op" id="5722800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722804">//&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722823">mode</span>&nbsp;<span class="op" id="5722828">|=</span>&nbsp;<span class="ident" id="5722831">os</span><span class="op" id="5722833">.</span><span class="ident" id="5722834">ModeSymlink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5722847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722850">if</span>&nbsp;<span class="ident" id="5722853">m</span>&nbsp;<span class="op" id="5722855">==</span>&nbsp;<span class="ident" id="5722858">c_ISBLK</span>&nbsp;<span class="op" id="5722866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722870">//&nbsp;device&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722887">mode</span>&nbsp;<span class="op" id="5722892">|=</span>&nbsp;<span class="ident" id="5722895">os</span><span class="op" id="5722897">.</span><span class="ident" id="5722898">ModeDevice</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5722910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5722913">if</span>&nbsp;<span class="ident" id="5722916">m</span>&nbsp;<span class="op" id="5722918">==</span>&nbsp;<span class="ident" id="5722921">c_ISCHR</span>&nbsp;<span class="op" id="5722929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5722933">//&nbsp;Unix&nbsp;character&nbsp;device</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722960">mode</span>&nbsp;<span class="op" id="5722965">|=</span>&nbsp;<span class="ident" id="5722968">os</span><span class="op" id="5722970">.</span><span class="ident" id="5722971">ModeDevice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5722984">mode</span>&nbsp;<span class="op" id="5722989">|=</span>&nbsp;<span class="ident" id="5722992">os</span><span class="op" id="5722994">.</span><span class="ident" id="5722995">ModeCharDevice</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5723011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5723014">if</span>&nbsp;<span class="ident" id="5723017">m</span>&nbsp;<span class="op" id="5723019">==</span>&nbsp;<span class="ident" id="5723022">c_ISSOCK</span>&nbsp;<span class="op" id="5723031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5723035">//&nbsp;Unix&nbsp;domain&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723059">mode</span>&nbsp;<span class="op" id="5723064">|=</span>&nbsp;<span class="ident" id="5723067">os</span><span class="op" id="5723069">.</span><span class="ident" id="5723070">ModeSocket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5723082">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5723086">switch</span>&nbsp;<span class="ident" id="5723093">fi</span><span class="op" id="5723095">.</span><span class="ident" id="5723096">h</span><span class="op" id="5723097">.</span><span class="ident" id="5723098">Typeflag</span>&nbsp;<span class="op" id="5723107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5723110">case</span>&nbsp;<span class="ident" id="5723115">TypeLink</span><span class="op" id="5723123">,</span>&nbsp;<span class="ident" id="5723125">TypeSymlink</span><span class="op" id="5723136">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5723140">//&nbsp;hard&nbsp;link,&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723170">mode</span>&nbsp;<span class="op" id="5723175">|=</span>&nbsp;<span class="ident" id="5723178">os</span><span class="op" id="5723180">.</span><span class="ident" id="5723181">ModeSymlink</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5723194">case</span>&nbsp;<span class="ident" id="5723199">TypeChar</span><span class="op" id="5723207">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5723211">//&nbsp;character&nbsp;device&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723238">mode</span>&nbsp;<span class="op" id="5723243">|=</span>&nbsp;<span class="ident" id="5723246">os</span><span class="op" id="5723248">.</span><span class="ident" id="5723249">ModeDevice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723262">mode</span>&nbsp;<span class="op" id="5723267">|=</span>&nbsp;<span class="ident" id="5723270">os</span><span class="op" id="5723272">.</span><span class="ident" id="5723273">ModeCharDevice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5723289">case</span>&nbsp;<span class="ident" id="5723294">TypeBlock</span><span class="op" id="5723303">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5723307">//&nbsp;block&nbsp;device&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723330">mode</span>&nbsp;<span class="op" id="5723335">|=</span>&nbsp;<span class="ident" id="5723338">os</span><span class="op" id="5723340">.</span><span class="ident" id="5723341">ModeDevice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5723353">case</span>&nbsp;<span class="ident" id="5723358">TypeDir</span><span class="op" id="5723365">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5723369">//&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723384">mode</span>&nbsp;<span class="op" id="5723389">|=</span>&nbsp;<span class="ident" id="5723392">os</span><span class="op" id="5723394">.</span><span class="ident" id="5723395">ModeDir</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5723404">case</span>&nbsp;<span class="ident" id="5723409">TypeFifo</span><span class="op" id="5723417">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5723421">//&nbsp;fifo&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723436">mode</span>&nbsp;<span class="op" id="5723441">|=</span>&nbsp;<span class="ident" id="5723444">os</span><span class="op" id="5723446">.</span><span class="ident" id="5723447">ModeNamedPipe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5723462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5723466">return</span>&nbsp;<span class="ident" id="5723473">mode</span><br>
<span class="lineno"></span><span class="op" id="5723478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5723481">//&nbsp;sysStat,&nbsp;if&nbsp;non-nil,&nbsp;populates&nbsp;h&nbsp;from&nbsp;system-dependent&nbsp;fields&nbsp;of&nbsp;fi.</span><br>
<span class="lineno"></span><span class="keyword" id="5723553">var</span>&nbsp;<span class="ident" id="5723557">sysStat</span>&nbsp;<span class="keyword" id="5723565">func</span><span class="op" id="5723569">(</span><span class="ident" id="5723570">fi</span>&nbsp;<span class="ident" id="5723573">os</span><span class="op" id="5723575">.</span><span class="ident" id="5723576">FileInfo</span><span class="op" id="5723584">,</span>&nbsp;<span class="ident" id="5723586">h</span>&nbsp;<span class="op" id="5723588">*</span><span class="ident" id="5723589">Header</span><span class="op" id="5723595">)</span>&nbsp;<span class="builtintype" id="5723597">error</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="comment" id="5723604">//&nbsp;Mode&nbsp;constants&nbsp;from&nbsp;the&nbsp;tar&nbsp;spec.</span><br>
<span class="lineno"></span><span class="keyword" id="5723641">const</span>&nbsp;<span class="op" id="5723647">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723650">c_ISUID</span>&nbsp;&nbsp;<span class="op" id="5723659">=</span>&nbsp;<span class="num" id="5723661">04000</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5723669">//&nbsp;Set&nbsp;uid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723681">c_ISGID</span>&nbsp;&nbsp;<span class="op" id="5723690">=</span>&nbsp;<span class="num" id="5723692">02000</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5723700">//&nbsp;Set&nbsp;gid</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723712">c_ISVTX</span>&nbsp;&nbsp;<span class="op" id="5723721">=</span>&nbsp;<span class="num" id="5723723">01000</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5723731">//&nbsp;Save&nbsp;text&nbsp;(sticky&nbsp;bit)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723758">c_ISDIR</span>&nbsp;&nbsp;<span class="op" id="5723767">=</span>&nbsp;<span class="num" id="5723769">040000</span>&nbsp;&nbsp;<span class="comment" id="5723777">//&nbsp;Directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723791">c_ISFIFO</span>&nbsp;<span class="op" id="5723800">=</span>&nbsp;<span class="num" id="5723802">010000</span>&nbsp;&nbsp;<span class="comment" id="5723810">//&nbsp;FIFO</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723819">c_ISREG</span>&nbsp;&nbsp;<span class="op" id="5723828">=</span>&nbsp;<span class="num" id="5723830">0100000</span>&nbsp;<span class="comment" id="5723838">//&nbsp;Regular&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723855">c_ISLNK</span>&nbsp;&nbsp;<span class="op" id="5723864">=</span>&nbsp;<span class="num" id="5723866">0120000</span>&nbsp;<span class="comment" id="5723874">//&nbsp;Symbolic&nbsp;link</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723892">c_ISBLK</span>&nbsp;&nbsp;<span class="op" id="5723901">=</span>&nbsp;<span class="num" id="5723903">060000</span>&nbsp;&nbsp;<span class="comment" id="5723911">//&nbsp;Block&nbsp;special&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723934">c_ISCHR</span>&nbsp;&nbsp;<span class="op" id="5723943">=</span>&nbsp;<span class="num" id="5723945">020000</span>&nbsp;&nbsp;<span class="comment" id="5723953">//&nbsp;Character&nbsp;special&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5723980">c_ISSOCK</span>&nbsp;<span class="op" id="5723989">=</span>&nbsp;<span class="num" id="5723991">0140000</span>&nbsp;<span class="comment" id="5723999">//&nbsp;Socket</span><br>
<span class="lineno"></span><span class="op" id="5724009">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="comment" id="5724012">//&nbsp;Keywords&nbsp;for&nbsp;the&nbsp;PAX&nbsp;Extended&nbsp;Header</span><br>
<span class="lineno"></span><span class="keyword" id="5724052">const</span>&nbsp;<span class="op" id="5724058">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724061">paxAtime</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724073">=</span>&nbsp;<span class="string" id="5724075">&#34;atime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724084">paxCharset</span>&nbsp;&nbsp;<span class="op" id="5724096">=</span>&nbsp;<span class="string" id="5724098">&#34;charset&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724109">paxComment</span>&nbsp;&nbsp;<span class="op" id="5724121">=</span>&nbsp;<span class="string" id="5724123">&#34;comment&#34;</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724134">paxCtime</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724146">=</span>&nbsp;<span class="string" id="5724148">&#34;ctime&#34;</span>&nbsp;<span class="comment" id="5724156">//&nbsp;please&nbsp;note&nbsp;that&nbsp;ctime&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;pax&nbsp;header.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724210">paxGid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724222">=</span>&nbsp;<span class="string" id="5724224">&#34;gid&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724231">paxGname</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724243">=</span>&nbsp;<span class="string" id="5724245">&#34;gname&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724254">paxLinkpath</span>&nbsp;<span class="op" id="5724266">=</span>&nbsp;<span class="string" id="5724268">&#34;linkpath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724280">paxMtime</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724292">=</span>&nbsp;<span class="string" id="5724294">&#34;mtime&#34;</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724303">paxPath</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724315">=</span>&nbsp;<span class="string" id="5724317">&#34;path&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724325">paxSize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724337">=</span>&nbsp;<span class="string" id="5724339">&#34;size&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724347">paxUid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724359">=</span>&nbsp;<span class="string" id="5724361">&#34;uid&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724368">paxUname</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724380">=</span>&nbsp;<span class="string" id="5724382">&#34;uname&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724391">paxXattr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724403">=</span>&nbsp;<span class="string" id="5724405">&#34;SCHILY.xattr.&#34;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724422">paxNone</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724434">=</span>&nbsp;<span class="string" id="5724436">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="5724439">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5724442">//&nbsp;FileInfoHeader&nbsp;creates&nbsp;a&nbsp;partially-populated&nbsp;Header&nbsp;from&nbsp;fi.</span><br>
<span class="lineno"></span><span class="comment" id="5724506">//&nbsp;If&nbsp;fi&nbsp;describes&nbsp;a&nbsp;symlink,&nbsp;FileInfoHeader&nbsp;records&nbsp;link&nbsp;as&nbsp;the&nbsp;link&nbsp;target.</span><br>
<span class="lineno">200</span><span class="comment" id="5724584">//&nbsp;If&nbsp;fi&nbsp;describes&nbsp;a&nbsp;directory,&nbsp;a&nbsp;slash&nbsp;is&nbsp;appended&nbsp;to&nbsp;the&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="5724649">//&nbsp;Because&nbsp;os.FileInfo&#39;s&nbsp;Name&nbsp;method&nbsp;returns&nbsp;only&nbsp;the&nbsp;base&nbsp;name&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5724716">//&nbsp;the&nbsp;file&nbsp;it&nbsp;describes,&nbsp;it&nbsp;may&nbsp;be&nbsp;necessary&nbsp;to&nbsp;modify&nbsp;the&nbsp;Name&nbsp;field</span><br>
<span class="lineno"></span><span class="comment" id="5724787">//&nbsp;of&nbsp;the&nbsp;returned&nbsp;header&nbsp;to&nbsp;provide&nbsp;the&nbsp;full&nbsp;path&nbsp;name&nbsp;of&nbsp;the&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="5724856">func</span>&nbsp;<span class="ident" id="5724861">FileInfoHeader</span><span class="op" id="5724875">(</span><span class="ident" id="5724876">fi</span>&nbsp;<span class="ident" id="5724879">os</span><span class="op" id="5724881">.</span><span class="ident" id="5724882">FileInfo</span><span class="op" id="5724890">,</span>&nbsp;<span class="ident" id="5724892">link</span>&nbsp;<span class="builtintype" id="5724897">string</span><span class="op" id="5724903">)</span>&nbsp;<span class="op" id="5724905">(</span><span class="op" id="5724906">*</span><span class="ident" id="5724907">Header</span><span class="op" id="5724913">,</span>&nbsp;<span class="builtintype" id="5724915">error</span><span class="op" id="5724920">)</span>&nbsp;<span class="op" id="5724922">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5724925">if</span>&nbsp;<span class="ident" id="5724928">fi</span>&nbsp;<span class="op" id="5724931">==</span>&nbsp;<span class="ident" id="5724934">nil</span>&nbsp;<span class="op" id="5724938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5724942">return</span>&nbsp;<span class="ident" id="5724949">nil</span><span class="op" id="5724952">,</span>&nbsp;<span class="ident" id="5724954">errors</span><span class="op" id="5724960">.</span><span class="ident" id="5724961">New</span><span class="op" id="5724964">(</span><span class="string" id="5724965">&#34;tar:&nbsp;FileInfo&nbsp;is&nbsp;nil&#34;</span><span class="op" id="5724987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5724990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5724993">fm</span>&nbsp;<span class="op" id="5724996">:=</span>&nbsp;<span class="ident" id="5724999">fi</span><span class="op" id="5725001">.</span><span class="ident" id="5725002">Mode</span><span class="op" id="5725006">(</span><span class="op" id="5725007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725010">h</span>&nbsp;<span class="op" id="5725012">:=</span>&nbsp;<span class="op" id="5725015">&amp;</span><span class="ident" id="5725016">Header</span><span class="op" id="5725022">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725026">Name</span><span class="op" id="5725030">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725035">fi</span><span class="op" id="5725037">.</span><span class="ident" id="5725038">Name</span><span class="op" id="5725042">(</span><span class="op" id="5725043">)</span><span class="op" id="5725044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725048">ModTime</span><span class="op" id="5725055">:</span>&nbsp;<span class="ident" id="5725057">fi</span><span class="op" id="5725059">.</span><span class="ident" id="5725060">ModTime</span><span class="op" id="5725067">(</span><span class="op" id="5725068">)</span><span class="op" id="5725069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725073">Mode</span><span class="op" id="5725077">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725082">int64</span><span class="op" id="5725087">(</span><span class="ident" id="5725088">fm</span><span class="op" id="5725090">.</span><span class="ident" id="5725091">Perm</span><span class="op" id="5725095">(</span><span class="op" id="5725096">)</span><span class="op" id="5725097">)</span><span class="op" id="5725098">,</span>&nbsp;<span class="comment" id="5725100">//&nbsp;or&#39;d&nbsp;with&nbsp;c_IS*&nbsp;constants&nbsp;later</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5725136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725139">switch</span>&nbsp;<span class="op" id="5725146">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725149">case</span>&nbsp;<span class="ident" id="5725154">fm</span><span class="op" id="5725156">.</span><span class="ident" id="5725157">IsRegular</span><span class="op" id="5725166">(</span><span class="op" id="5725167">)</span><span class="op" id="5725168">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725172">h</span><span class="op" id="5725173">.</span><span class="ident" id="5725174">Mode</span>&nbsp;<span class="op" id="5725179">|=</span>&nbsp;<span class="ident" id="5725182">c_ISREG</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725192">h</span><span class="op" id="5725193">.</span><span class="ident" id="5725194">Typeflag</span>&nbsp;<span class="op" id="5725203">=</span>&nbsp;<span class="ident" id="5725205">TypeReg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725215">h</span><span class="op" id="5725216">.</span><span class="ident" id="5725217">Size</span>&nbsp;<span class="op" id="5725222">=</span>&nbsp;<span class="ident" id="5725224">fi</span><span class="op" id="5725226">.</span><span class="ident" id="5725227">Size</span><span class="op" id="5725231">(</span><span class="op" id="5725232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725235">case</span>&nbsp;<span class="ident" id="5725240">fi</span><span class="op" id="5725242">.</span><span class="ident" id="5725243">IsDir</span><span class="op" id="5725248">(</span><span class="op" id="5725249">)</span><span class="op" id="5725250">:</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725254">h</span><span class="op" id="5725255">.</span><span class="ident" id="5725256">Typeflag</span>&nbsp;<span class="op" id="5725265">=</span>&nbsp;<span class="ident" id="5725267">TypeDir</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725277">h</span><span class="op" id="5725278">.</span><span class="ident" id="5725279">Mode</span>&nbsp;<span class="op" id="5725284">|=</span>&nbsp;<span class="ident" id="5725287">c_ISDIR</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725297">h</span><span class="op" id="5725298">.</span><span class="ident" id="5725299">Name</span>&nbsp;<span class="op" id="5725304">+=</span>&nbsp;<span class="string" id="5725307">&#34;/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725312">case</span>&nbsp;<span class="ident" id="5725317">fm</span><span class="op" id="5725319">&amp;</span><span class="ident" id="5725320">os</span><span class="op" id="5725322">.</span><span class="ident" id="5725323">ModeSymlink</span>&nbsp;<span class="op" id="5725335">!=</span>&nbsp;<span class="num" id="5725338">0</span><span class="op" id="5725339">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725343">h</span><span class="op" id="5725344">.</span><span class="ident" id="5725345">Typeflag</span>&nbsp;<span class="op" id="5725354">=</span>&nbsp;<span class="ident" id="5725356">TypeSymlink</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725370">h</span><span class="op" id="5725371">.</span><span class="ident" id="5725372">Mode</span>&nbsp;<span class="op" id="5725377">|=</span>&nbsp;<span class="ident" id="5725380">c_ISLNK</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725390">h</span><span class="op" id="5725391">.</span><span class="ident" id="5725392">Linkname</span>&nbsp;<span class="op" id="5725401">=</span>&nbsp;<span class="ident" id="5725403">link</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725409">case</span>&nbsp;<span class="ident" id="5725414">fm</span><span class="op" id="5725416">&amp;</span><span class="ident" id="5725417">os</span><span class="op" id="5725419">.</span><span class="ident" id="5725420">ModeDevice</span>&nbsp;<span class="op" id="5725431">!=</span>&nbsp;<span class="num" id="5725434">0</span><span class="op" id="5725435">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725439">if</span>&nbsp;<span class="ident" id="5725442">fm</span><span class="op" id="5725444">&amp;</span><span class="ident" id="5725445">os</span><span class="op" id="5725447">.</span><span class="ident" id="5725448">ModeCharDevice</span>&nbsp;<span class="op" id="5725463">!=</span>&nbsp;<span class="num" id="5725466">0</span>&nbsp;<span class="op" id="5725468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725473">h</span><span class="op" id="5725474">.</span><span class="ident" id="5725475">Mode</span>&nbsp;<span class="op" id="5725480">|=</span>&nbsp;<span class="ident" id="5725483">c_ISCHR</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725494">h</span><span class="op" id="5725495">.</span><span class="ident" id="5725496">Typeflag</span>&nbsp;<span class="op" id="5725505">=</span>&nbsp;<span class="ident" id="5725507">TypeChar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5725518">}</span>&nbsp;<span class="keyword" id="5725520">else</span>&nbsp;<span class="op" id="5725525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725530">h</span><span class="op" id="5725531">.</span><span class="ident" id="5725532">Mode</span>&nbsp;<span class="op" id="5725537">|=</span>&nbsp;<span class="ident" id="5725540">c_ISBLK</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725551">h</span><span class="op" id="5725552">.</span><span class="ident" id="5725553">Typeflag</span>&nbsp;<span class="op" id="5725562">=</span>&nbsp;<span class="ident" id="5725564">TypeBlock</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5725576">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725579">case</span>&nbsp;<span class="ident" id="5725584">fm</span><span class="op" id="5725586">&amp;</span><span class="ident" id="5725587">os</span><span class="op" id="5725589">.</span><span class="ident" id="5725590">ModeNamedPipe</span>&nbsp;<span class="op" id="5725604">!=</span>&nbsp;<span class="num" id="5725607">0</span><span class="op" id="5725608">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725612">h</span><span class="op" id="5725613">.</span><span class="ident" id="5725614">Typeflag</span>&nbsp;<span class="op" id="5725623">=</span>&nbsp;<span class="ident" id="5725625">TypeFifo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725636">h</span><span class="op" id="5725637">.</span><span class="ident" id="5725638">Mode</span>&nbsp;<span class="op" id="5725643">|=</span>&nbsp;<span class="ident" id="5725646">c_ISFIFO</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725656">case</span>&nbsp;<span class="ident" id="5725661">fm</span><span class="op" id="5725663">&amp;</span><span class="ident" id="5725664">os</span><span class="op" id="5725666">.</span><span class="ident" id="5725667">ModeSocket</span>&nbsp;<span class="op" id="5725678">!=</span>&nbsp;<span class="num" id="5725681">0</span><span class="op" id="5725682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725686">h</span><span class="op" id="5725687">.</span><span class="ident" id="5725688">Mode</span>&nbsp;<span class="op" id="5725693">|=</span>&nbsp;<span class="ident" id="5725696">c_ISSOCK</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725706">default</span><span class="op" id="5725713">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725717">return</span>&nbsp;<span class="ident" id="5725724">nil</span><span class="op" id="5725727">,</span>&nbsp;<span class="ident" id="5725729">fmt</span><span class="op" id="5725732">.</span><span class="ident" id="5725733">Errorf</span><span class="op" id="5725739">(</span><span class="string" id="5725740">&#34;archive/tar:&nbsp;unknown&nbsp;file&nbsp;mode&nbsp;%v&#34;</span><span class="op" id="5725775">,</span>&nbsp;<span class="ident" id="5725777">fm</span><span class="op" id="5725779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5725782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725785">if</span>&nbsp;<span class="ident" id="5725788">fm</span><span class="op" id="5725790">&amp;</span><span class="ident" id="5725791">os</span><span class="op" id="5725793">.</span><span class="ident" id="5725794">ModeSetuid</span>&nbsp;<span class="op" id="5725805">!=</span>&nbsp;<span class="num" id="5725808">0</span>&nbsp;<span class="op" id="5725810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725814">h</span><span class="op" id="5725815">.</span><span class="ident" id="5725816">Mode</span>&nbsp;<span class="op" id="5725821">|=</span>&nbsp;<span class="ident" id="5725824">c_ISUID</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5725833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725836">if</span>&nbsp;<span class="ident" id="5725839">fm</span><span class="op" id="5725841">&amp;</span><span class="ident" id="5725842">os</span><span class="op" id="5725844">.</span><span class="ident" id="5725845">ModeSetgid</span>&nbsp;<span class="op" id="5725856">!=</span>&nbsp;<span class="num" id="5725859">0</span>&nbsp;<span class="op" id="5725861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725865">h</span><span class="op" id="5725866">.</span><span class="ident" id="5725867">Mode</span>&nbsp;<span class="op" id="5725872">|=</span>&nbsp;<span class="ident" id="5725875">c_ISGID</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5725884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725887">if</span>&nbsp;<span class="ident" id="5725890">fm</span><span class="op" id="5725892">&amp;</span><span class="ident" id="5725893">os</span><span class="op" id="5725895">.</span><span class="ident" id="5725896">ModeSticky</span>&nbsp;<span class="op" id="5725907">!=</span>&nbsp;<span class="num" id="5725910">0</span>&nbsp;<span class="op" id="5725912">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5725916">h</span><span class="op" id="5725917">.</span><span class="ident" id="5725918">Mode</span>&nbsp;<span class="op" id="5725923">|=</span>&nbsp;<span class="ident" id="5725926">c_ISVTX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5725935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725938">if</span>&nbsp;<span class="ident" id="5725941">sysStat</span>&nbsp;<span class="op" id="5725949">!=</span>&nbsp;<span class="ident" id="5725952">nil</span>&nbsp;<span class="op" id="5725956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725960">return</span>&nbsp;<span class="ident" id="5725967">h</span><span class="op" id="5725968">,</span>&nbsp;<span class="ident" id="5725970">sysStat</span><span class="op" id="5725977">(</span><span class="ident" id="5725978">fi</span><span class="op" id="5725980">,</span>&nbsp;<span class="ident" id="5725982">h</span><span class="op" id="5725983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5725986">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5725989">return</span>&nbsp;<span class="ident" id="5725996">h</span><span class="op" id="5725997">,</span>&nbsp;<span class="ident" id="5725999">nil</span><br>
<span class="lineno"></span><span class="op" id="5726003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5726006">var</span>&nbsp;<span class="ident" id="5726010">zeroBlock</span>&nbsp;<span class="op" id="5726020">=</span>&nbsp;<span class="builtinfunc" id="5726022">make</span><span class="op" id="5726026">(</span><span class="op" id="5726027">[</span><span class="op" id="5726028">]</span><span class="builtintype" id="5726029">byte</span><span class="op" id="5726033">,</span>&nbsp;<span class="ident" id="5726035">blockSize</span><span class="op" id="5726044">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="5726047">//&nbsp;POSIX&nbsp;specifies&nbsp;a&nbsp;sum&nbsp;of&nbsp;the&nbsp;unsigned&nbsp;byte&nbsp;values,&nbsp;but&nbsp;the&nbsp;Sun&nbsp;tar&nbsp;uses&nbsp;signed&nbsp;byte&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="5726142">//&nbsp;We&nbsp;compute&nbsp;and&nbsp;return&nbsp;both.</span><br>
<span class="lineno"></span><span class="keyword" id="5726173">func</span>&nbsp;<span class="ident" id="5726178">checksum</span><span class="op" id="5726186">(</span><span class="ident" id="5726187">header</span>&nbsp;<span class="op" id="5726194">[</span><span class="op" id="5726195">]</span><span class="builtintype" id="5726196">byte</span><span class="op" id="5726200">)</span>&nbsp;<span class="op" id="5726202">(</span><span class="ident" id="5726203">unsigned</span>&nbsp;<span class="ident" id="5726212">int64</span><span class="op" id="5726217">,</span>&nbsp;<span class="ident" id="5726219">signed</span>&nbsp;<span class="ident" id="5726226">int64</span><span class="op" id="5726231">)</span>&nbsp;<span class="op" id="5726233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726236">for</span>&nbsp;<span class="ident" id="5726240">i</span>&nbsp;<span class="op" id="5726242">:=</span>&nbsp;<span class="num" id="5726245">0</span><span class="op" id="5726246">;</span>&nbsp;<span class="ident" id="5726248">i</span>&nbsp;<span class="op" id="5726250">&lt;</span>&nbsp;<span class="builtinfunc" id="5726252">len</span><span class="op" id="5726255">(</span><span class="ident" id="5726256">header</span><span class="op" id="5726262">)</span><span class="op" id="5726263">;</span>&nbsp;<span class="ident" id="5726265">i</span><span class="op" id="5726266">++</span>&nbsp;<span class="op" id="5726269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726273">if</span>&nbsp;<span class="ident" id="5726276">i</span>&nbsp;<span class="op" id="5726278">==</span>&nbsp;<span class="num" id="5726281">148</span>&nbsp;<span class="op" id="5726285">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5726290">//&nbsp;The&nbsp;chksum&nbsp;field&nbsp;(header[148:156])&nbsp;is&nbsp;special:&nbsp;it&nbsp;should&nbsp;be&nbsp;treated&nbsp;as&nbsp;space&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5726380">unsigned</span>&nbsp;<span class="op" id="5726389">+=</span>&nbsp;<span class="string" id="5726392">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="5726396">*</span>&nbsp;<span class="num" id="5726398">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5726403">signed</span>&nbsp;<span class="op" id="5726410">+=</span>&nbsp;<span class="string" id="5726413">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="5726417">*</span>&nbsp;<span class="num" id="5726419">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5726424">i</span>&nbsp;<span class="op" id="5726426">+=</span>&nbsp;<span class="num" id="5726429">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726434">continue</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5726445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5726449">unsigned</span>&nbsp;<span class="op" id="5726458">+=</span>&nbsp;<span class="ident" id="5726461">int64</span><span class="op" id="5726466">(</span><span class="ident" id="5726467">header</span><span class="op" id="5726473">[</span><span class="ident" id="5726474">i</span><span class="op" id="5726475">]</span><span class="op" id="5726476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5726480">signed</span>&nbsp;<span class="op" id="5726487">+=</span>&nbsp;<span class="ident" id="5726490">int64</span><span class="op" id="5726495">(</span><span class="builtintype" id="5726496">int8</span><span class="op" id="5726500">(</span><span class="ident" id="5726501">header</span><span class="op" id="5726507">[</span><span class="ident" id="5726508">i</span><span class="op" id="5726509">]</span><span class="op" id="5726510">)</span><span class="op" id="5726511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5726514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726517">return</span><br>
<span class="lineno">275</span><span class="op" id="5726524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5726527">type</span>&nbsp;<span class="ident" id="5726532">slicer</span>&nbsp;<span class="op" id="5726539">[</span><span class="op" id="5726540">]</span><span class="builtintype" id="5726541">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5726547">func</span>&nbsp;<span class="op" id="5726552">(</span><span class="ident" id="5726553">sp</span>&nbsp;<span class="op" id="5726556">*</span><span class="ident" id="5726557">slicer</span><span class="op" id="5726563">)</span>&nbsp;<span class="ident" id="5726565">next</span><span class="op" id="5726569">(</span><span class="ident" id="5726570">n</span>&nbsp;<span class="builtintype" id="5726572">int</span><span class="op" id="5726575">)</span>&nbsp;<span class="op" id="5726577">(</span><span class="ident" id="5726578">b</span>&nbsp;<span class="op" id="5726580">[</span><span class="op" id="5726581">]</span><span class="builtintype" id="5726582">byte</span><span class="op" id="5726586">)</span>&nbsp;<span class="op" id="5726588">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5726591">s</span>&nbsp;<span class="op" id="5726593">:=</span>&nbsp;<span class="op" id="5726596">*</span><span class="ident" id="5726597">sp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5726601">b</span><span class="op" id="5726602">,</span>&nbsp;<span class="op" id="5726604">*</span><span class="ident" id="5726605">sp</span>&nbsp;<span class="op" id="5726608">=</span>&nbsp;<span class="ident" id="5726610">s</span><span class="op" id="5726611">[</span><span class="num" id="5726612">0</span><span class="op" id="5726613">:</span><span class="ident" id="5726614">n</span><span class="op" id="5726615">]</span><span class="op" id="5726616">,</span>&nbsp;<span class="ident" id="5726618">s</span><span class="op" id="5726619">[</span><span class="ident" id="5726620">n</span><span class="op" id="5726621">:</span><span class="op" id="5726622">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726625">return</span><br>
<span class="lineno"></span><span class="op" id="5726632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="5726635">func</span>&nbsp;<span class="ident" id="5726640">isASCII</span><span class="op" id="5726647">(</span><span class="ident" id="5726648">s</span>&nbsp;<span class="builtintype" id="5726650">string</span><span class="op" id="5726656">)</span>&nbsp;<span class="builtintype" id="5726658">bool</span>&nbsp;<span class="op" id="5726663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726666">for</span>&nbsp;<span class="ident" id="5726670">_</span><span class="op" id="5726671">,</span>&nbsp;<span class="ident" id="5726673">c</span>&nbsp;<span class="op" id="5726675">:=</span>&nbsp;<span class="keyword" id="5726678">range</span>&nbsp;<span class="ident" id="5726684">s</span>&nbsp;<span class="op" id="5726686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726690">if</span>&nbsp;<span class="ident" id="5726693">c</span>&nbsp;<span class="op" id="5726695">&gt;=</span>&nbsp;<span class="num" id="5726698">0x80</span>&nbsp;<span class="op" id="5726703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726708">return</span>&nbsp;<span class="builtintype" id="5726715">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5726723">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5726726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726729">return</span>&nbsp;<span class="builtintype" id="5726736">true</span><br>
<span class="lineno"></span><span class="op" id="5726741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5726744">func</span>&nbsp;<span class="ident" id="5726749">toASCII</span><span class="op" id="5726756">(</span><span class="ident" id="5726757">s</span>&nbsp;<span class="builtintype" id="5726759">string</span><span class="op" id="5726765">)</span>&nbsp;<span class="builtintype" id="5726767">string</span>&nbsp;<span class="op" id="5726774">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726777">if</span>&nbsp;<span class="ident" id="5726780">isASCII</span><span class="op" id="5726787">(</span><span class="ident" id="5726788">s</span><span class="op" id="5726789">)</span>&nbsp;<span class="op" id="5726791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726795">return</span>&nbsp;<span class="ident" id="5726802">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5726805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726808">var</span>&nbsp;<span class="ident" id="5726812">buf</span>&nbsp;<span class="ident" id="5726816">bytes</span><span class="op" id="5726821">.</span><span class="ident" id="5726822">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726830">for</span>&nbsp;<span class="ident" id="5726834">_</span><span class="op" id="5726835">,</span>&nbsp;<span class="ident" id="5726837">c</span>&nbsp;<span class="op" id="5726839">:=</span>&nbsp;<span class="keyword" id="5726842">range</span>&nbsp;<span class="ident" id="5726848">s</span>&nbsp;<span class="op" id="5726850">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726854">if</span>&nbsp;<span class="ident" id="5726857">c</span>&nbsp;<span class="op" id="5726859">&lt;</span>&nbsp;<span class="num" id="5726861">0x80</span>&nbsp;<span class="op" id="5726866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5726871">buf</span><span class="op" id="5726874">.</span><span class="ident" id="5726875">WriteByte</span><span class="op" id="5726884">(</span><span class="builtintype" id="5726885">byte</span><span class="op" id="5726889">(</span><span class="ident" id="5726890">c</span><span class="op" id="5726891">)</span><span class="op" id="5726892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5726896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5726899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5726902">return</span>&nbsp;<span class="ident" id="5726909">buf</span><span class="op" id="5726912">.</span><span class="ident" id="5726913">String</span><span class="op" id="5726919">(</span><span class="op" id="5726920">)</span><br>
<span class="lineno">305</span><span class="op" id="5726922">}</span>
</div>
</body>
</html>
