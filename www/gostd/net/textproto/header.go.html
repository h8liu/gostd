<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/textproto</h2>
<ul>
<li><a href="/gostd/net/textproto/header.go.html" class="current">header.go</a></li>
<li><a href="/gostd/net/textproto/pipeline.go.html">pipeline.go</a></li>
<li><a href="/gostd/net/textproto/reader.go.html">reader.go</a></li>
<li><a href="/gostd/net/textproto/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/net/textproto/textproto.go.html">textproto.go</a></li>
<li><a href="/gostd/net/textproto/writer.go.html">writer.go</a></li>
<li><a href="/gostd/net/textproto/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4286280">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4286336">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4286390">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4286441">package</span>&nbsp;<span class="ident" id="4286449">textproto</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4286460">//&nbsp;A&nbsp;MIMEHeader&nbsp;represents&nbsp;a&nbsp;MIME-style&nbsp;header&nbsp;mapping</span><br>
<span class="lineno"></span><span class="comment" id="4286515">//&nbsp;keys&nbsp;to&nbsp;sets&nbsp;of&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="4286542">type</span>&nbsp;<span class="ident" id="4286547">MIMEHeader</span>&nbsp;<span class="keyword" id="4286558">map</span><span class="op" id="4286561">[</span><span class="builtintype" id="4286562">string</span><span class="op" id="4286568">]</span><span class="op" id="4286569">[</span><span class="op" id="4286570">]</span><span class="builtintype" id="4286571">string</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="4286579">//&nbsp;Add&nbsp;adds&nbsp;the&nbsp;key,&nbsp;value&nbsp;pair&nbsp;to&nbsp;the&nbsp;header.</span><br>
<span class="lineno"></span><span class="comment" id="4286626">//&nbsp;It&nbsp;appends&nbsp;to&nbsp;any&nbsp;existing&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="4286684">func</span>&nbsp;<span class="op" id="4286689">(</span><span class="ident" id="4286690">h</span>&nbsp;<span class="ident" id="4286692">MIMEHeader</span><span class="op" id="4286702">)</span>&nbsp;<span class="ident" id="4286704">Add</span><span class="op" id="4286707">(</span><span class="ident" id="4286708">key</span><span class="op" id="4286711">,</span>&nbsp;<span class="ident" id="4286713">value</span>&nbsp;<span class="builtintype" id="4286719">string</span><span class="op" id="4286725">)</span>&nbsp;<span class="op" id="4286727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4286730">key</span>&nbsp;<span class="op" id="4286734">=</span>&nbsp;<span class="ident" id="4286736">CanonicalMIMEHeaderKey</span><span class="op" id="4286758">(</span><span class="ident" id="4286759">key</span><span class="op" id="4286762">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4286765">h</span><span class="op" id="4286766">[</span><span class="ident" id="4286767">key</span><span class="op" id="4286770">]</span>&nbsp;<span class="op" id="4286772">=</span>&nbsp;<span class="builtinfunc" id="4286774">append</span><span class="op" id="4286780">(</span><span class="ident" id="4286781">h</span><span class="op" id="4286782">[</span><span class="ident" id="4286783">key</span><span class="op" id="4286786">]</span><span class="op" id="4286787">,</span>&nbsp;<span class="ident" id="4286789">value</span><span class="op" id="4286794">)</span><br>
<span class="lineno"></span><span class="op" id="4286796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4286799">//&nbsp;Set&nbsp;sets&nbsp;the&nbsp;header&nbsp;entries&nbsp;associated&nbsp;with&nbsp;key&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4286853">//&nbsp;the&nbsp;single&nbsp;element&nbsp;value.&nbsp;&nbsp;It&nbsp;replaces&nbsp;any&nbsp;existing</span><br>
<span class="lineno">20</span><span class="comment" id="4286908">//&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="4286939">func</span>&nbsp;<span class="op" id="4286944">(</span><span class="ident" id="4286945">h</span>&nbsp;<span class="ident" id="4286947">MIMEHeader</span><span class="op" id="4286957">)</span>&nbsp;<span class="ident" id="4286959">Set</span><span class="op" id="4286962">(</span><span class="ident" id="4286963">key</span><span class="op" id="4286966">,</span>&nbsp;<span class="ident" id="4286968">value</span>&nbsp;<span class="builtintype" id="4286974">string</span><span class="op" id="4286980">)</span>&nbsp;<span class="op" id="4286982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4286985">h</span><span class="op" id="4286986">[</span><span class="ident" id="4286987">CanonicalMIMEHeaderKey</span><span class="op" id="4287009">(</span><span class="ident" id="4287010">key</span><span class="op" id="4287013">)</span><span class="op" id="4287014">]</span>&nbsp;<span class="op" id="4287016">=</span>&nbsp;<span class="op" id="4287018">[</span><span class="op" id="4287019">]</span><span class="builtintype" id="4287020">string</span><span class="op" id="4287026">{</span><span class="ident" id="4287027">value</span><span class="op" id="4287032">}</span><br>
<span class="lineno"></span><span class="op" id="4287034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="4287037">//&nbsp;Get&nbsp;gets&nbsp;the&nbsp;first&nbsp;value&nbsp;associated&nbsp;with&nbsp;the&nbsp;given&nbsp;key.</span><br>
<span class="lineno"></span><span class="comment" id="4287096">//&nbsp;If&nbsp;there&nbsp;are&nbsp;no&nbsp;values&nbsp;associated&nbsp;with&nbsp;the&nbsp;key,&nbsp;Get&nbsp;returns&nbsp;&#34;&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="4287163">//&nbsp;Get&nbsp;is&nbsp;a&nbsp;convenience&nbsp;method.&nbsp;&nbsp;For&nbsp;more&nbsp;complex&nbsp;queries,</span><br>
<span class="lineno"></span><span class="comment" id="4287222">//&nbsp;access&nbsp;the&nbsp;map&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="4287250">func</span>&nbsp;<span class="op" id="4287255">(</span><span class="ident" id="4287256">h</span>&nbsp;<span class="ident" id="4287258">MIMEHeader</span><span class="op" id="4287268">)</span>&nbsp;<span class="ident" id="4287270">Get</span><span class="op" id="4287273">(</span><span class="ident" id="4287274">key</span>&nbsp;<span class="builtintype" id="4287278">string</span><span class="op" id="4287284">)</span>&nbsp;<span class="builtintype" id="4287286">string</span>&nbsp;<span class="op" id="4287293">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4287296">if</span>&nbsp;<span class="ident" id="4287299">h</span>&nbsp;<span class="op" id="4287301">==</span>&nbsp;<span class="ident" id="4287304">nil</span>&nbsp;<span class="op" id="4287308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4287312">return</span>&nbsp;<span class="string" id="4287319">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4287323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4287326">v</span>&nbsp;<span class="op" id="4287328">:=</span>&nbsp;<span class="ident" id="4287331">h</span><span class="op" id="4287332">[</span><span class="ident" id="4287333">CanonicalMIMEHeaderKey</span><span class="op" id="4287355">(</span><span class="ident" id="4287356">key</span><span class="op" id="4287359">)</span><span class="op" id="4287360">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4287363">if</span>&nbsp;<span class="builtinfunc" id="4287366">len</span><span class="op" id="4287369">(</span><span class="ident" id="4287370">v</span><span class="op" id="4287371">)</span>&nbsp;<span class="op" id="4287373">==</span>&nbsp;<span class="num" id="4287376">0</span>&nbsp;<span class="op" id="4287378">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4287382">return</span>&nbsp;<span class="string" id="4287389">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4287393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4287396">return</span>&nbsp;<span class="ident" id="4287403">v</span><span class="op" id="4287404">[</span><span class="num" id="4287405">0</span><span class="op" id="4287406">]</span><br>
<span class="lineno"></span><span class="op" id="4287408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="4287411">//&nbsp;Del&nbsp;deletes&nbsp;the&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="4287458">func</span>&nbsp;<span class="op" id="4287463">(</span><span class="ident" id="4287464">h</span>&nbsp;<span class="ident" id="4287466">MIMEHeader</span><span class="op" id="4287476">)</span>&nbsp;<span class="ident" id="4287478">Del</span><span class="op" id="4287481">(</span><span class="ident" id="4287482">key</span>&nbsp;<span class="builtintype" id="4287486">string</span><span class="op" id="4287492">)</span>&nbsp;<span class="op" id="4287494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4287497">delete</span><span class="op" id="4287503">(</span><span class="ident" id="4287504">h</span><span class="op" id="4287505">,</span>&nbsp;<span class="ident" id="4287507">CanonicalMIMEHeaderKey</span><span class="op" id="4287529">(</span><span class="ident" id="4287530">key</span><span class="op" id="4287533">)</span><span class="op" id="4287534">)</span><br>
<span class="lineno"></span><span class="op" id="4287536">}</span>
</div>
</body>
</html>
