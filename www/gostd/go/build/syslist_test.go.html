<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/build</h2>
<ul>
<li><a href="/gostd/go/build/build.go.html">build.go</a></li>
<li><a href="/gostd/go/build/build_test.go.html">build_test.go</a></li>
<li><a href="/gostd/go/build/deps_test.go.html">deps_test.go</a></li>
<li><a href="/gostd/go/build/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/build/read.go.html">read.go</a></li>
<li><a href="/gostd/go/build/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/go/build/syslist.go.html">syslist.go</a></li>
<li><a href="/gostd/go/build/syslist_test.go.html" class="current">syslist_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7426662">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7426718">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7426772">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7426823">package</span>&nbsp;<span class="ident" id="7426831">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7426838">import</span>&nbsp;<span class="op" id="7426845">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7426848">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7426859">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7426869">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7426872">var</span>&nbsp;<span class="op" id="7426876">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426879">thisOS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426889">=</span>&nbsp;<span class="ident" id="7426891">runtime</span><span class="op" id="7426898">.</span><span class="ident" id="7426899">GOOS</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426905">thisArch</span>&nbsp;&nbsp;<span class="op" id="7426915">=</span>&nbsp;<span class="ident" id="7426917">runtime</span><span class="op" id="7426924">.</span><span class="ident" id="7426925">GOARCH</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426933">otherOS</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7426943">=</span>&nbsp;<span class="ident" id="7426945">anotherOS</span><span class="op" id="7426954">(</span><span class="op" id="7426955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426958">otherArch</span>&nbsp;<span class="op" id="7426968">=</span>&nbsp;<span class="ident" id="7426970">anotherArch</span><span class="op" id="7426981">(</span><span class="op" id="7426982">)</span><br>
<span class="lineno"></span><span class="op" id="7426984">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7426987">func</span>&nbsp;<span class="ident" id="7426992">anotherOS</span><span class="op" id="7427001">(</span><span class="op" id="7427002">)</span>&nbsp;<span class="builtintype" id="7427004">string</span>&nbsp;<span class="op" id="7427011">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427014">if</span>&nbsp;<span class="ident" id="7427017">thisOS</span>&nbsp;<span class="op" id="7427024">!=</span>&nbsp;<span class="string" id="7427027">&#34;darwin&#34;</span>&nbsp;<span class="op" id="7427036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427040">return</span>&nbsp;<span class="string" id="7427047">&#34;darwin&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427060">return</span>&nbsp;<span class="string" id="7427067">&#34;linux&#34;</span><br>
<span class="lineno"></span><span class="op" id="7427075">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7427078">func</span>&nbsp;<span class="ident" id="7427083">anotherArch</span><span class="op" id="7427094">(</span><span class="op" id="7427095">)</span>&nbsp;<span class="builtintype" id="7427097">string</span>&nbsp;<span class="op" id="7427104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427107">if</span>&nbsp;<span class="ident" id="7427110">thisArch</span>&nbsp;<span class="op" id="7427119">!=</span>&nbsp;<span class="string" id="7427122">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7427130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427134">return</span>&nbsp;<span class="string" id="7427141">&#34;amd64&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427150">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427153">return</span>&nbsp;<span class="string" id="7427160">&#34;386&#34;</span><br>
<span class="lineno"></span><span class="op" id="7427166">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7427169">type</span>&nbsp;<span class="ident" id="7427174">GoodFileTest</span>&nbsp;<span class="keyword" id="7427187">struct</span>&nbsp;<span class="op" id="7427194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427197">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7427204">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427212">result</span>&nbsp;<span class="builtintype" id="7427219">bool</span><br>
<span class="lineno"></span><span class="op" id="7427224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7427227">var</span>&nbsp;<span class="ident" id="7427231">tests</span>&nbsp;<span class="op" id="7427237">=</span>&nbsp;<span class="op" id="7427239">[</span><span class="op" id="7427240">]</span><span class="ident" id="7427241">GoodFileTest</span><span class="op" id="7427253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427256">{</span><span class="string" id="7427257">&#34;file.go&#34;</span><span class="op" id="7427266">,</span>&nbsp;<span class="builtintype" id="7427268">true</span><span class="op" id="7427272">}</span><span class="op" id="7427273">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427276">{</span><span class="string" id="7427277">&#34;file.c&#34;</span><span class="op" id="7427285">,</span>&nbsp;<span class="builtintype" id="7427287">true</span><span class="op" id="7427291">}</span><span class="op" id="7427292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427295">{</span><span class="string" id="7427296">&#34;file_foo.go&#34;</span><span class="op" id="7427309">,</span>&nbsp;<span class="builtintype" id="7427311">true</span><span class="op" id="7427315">}</span><span class="op" id="7427316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427319">{</span><span class="string" id="7427320">&#34;file_&#34;</span>&nbsp;<span class="op" id="7427328">+</span>&nbsp;<span class="ident" id="7427330">thisArch</span>&nbsp;<span class="op" id="7427339">+</span>&nbsp;<span class="string" id="7427341">&#34;.go&#34;</span><span class="op" id="7427346">,</span>&nbsp;<span class="builtintype" id="7427348">true</span><span class="op" id="7427352">}</span><span class="op" id="7427353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427356">{</span><span class="string" id="7427357">&#34;file_&#34;</span>&nbsp;<span class="op" id="7427365">+</span>&nbsp;<span class="ident" id="7427367">otherArch</span>&nbsp;<span class="op" id="7427377">+</span>&nbsp;<span class="string" id="7427379">&#34;.go&#34;</span><span class="op" id="7427384">,</span>&nbsp;<span class="builtintype" id="7427386">false</span><span class="op" id="7427391">}</span><span class="op" id="7427392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427395">{</span><span class="string" id="7427396">&#34;file_&#34;</span>&nbsp;<span class="op" id="7427404">+</span>&nbsp;<span class="ident" id="7427406">thisOS</span>&nbsp;<span class="op" id="7427413">+</span>&nbsp;<span class="string" id="7427415">&#34;.go&#34;</span><span class="op" id="7427420">,</span>&nbsp;<span class="builtintype" id="7427422">true</span><span class="op" id="7427426">}</span><span class="op" id="7427427">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427430">{</span><span class="string" id="7427431">&#34;file_&#34;</span>&nbsp;<span class="op" id="7427439">+</span>&nbsp;<span class="ident" id="7427441">otherOS</span>&nbsp;<span class="op" id="7427449">+</span>&nbsp;<span class="string" id="7427451">&#34;.go&#34;</span><span class="op" id="7427456">,</span>&nbsp;<span class="builtintype" id="7427458">false</span><span class="op" id="7427463">}</span><span class="op" id="7427464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427467">{</span><span class="string" id="7427468">&#34;file_&#34;</span>&nbsp;<span class="op" id="7427476">+</span>&nbsp;<span class="ident" id="7427478">thisOS</span>&nbsp;<span class="op" id="7427485">+</span>&nbsp;<span class="string" id="7427487">&#34;_&#34;</span>&nbsp;<span class="op" id="7427491">+</span>&nbsp;<span class="ident" id="7427493">thisArch</span>&nbsp;<span class="op" id="7427502">+</span>&nbsp;<span class="string" id="7427504">&#34;.go&#34;</span><span class="op" id="7427509">,</span>&nbsp;<span class="builtintype" id="7427511">true</span><span class="op" id="7427515">}</span><span class="op" id="7427516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427519">{</span><span class="string" id="7427520">&#34;file_&#34;</span>&nbsp;<span class="op" id="7427528">+</span>&nbsp;<span class="ident" id="7427530">otherOS</span>&nbsp;<span class="op" id="7427538">+</span>&nbsp;<span class="string" id="7427540">&#34;_&#34;</span>&nbsp;<span class="op" id="7427544">+</span>&nbsp;<span class="ident" id="7427546">thisArch</span>&nbsp;<span class="op" id="7427555">+</span>&nbsp;<span class="string" id="7427557">&#34;.go&#34;</span><span class="op" id="7427562">,</span>&nbsp;<span class="builtintype" id="7427564">false</span><span class="op" id="7427569">}</span><span class="op" id="7427570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427573">{</span><span class="string" id="7427574">&#34;file_&#34;</span>&nbsp;<span class="op" id="7427582">+</span>&nbsp;<span class="ident" id="7427584">thisOS</span>&nbsp;<span class="op" id="7427591">+</span>&nbsp;<span class="string" id="7427593">&#34;_&#34;</span>&nbsp;<span class="op" id="7427597">+</span>&nbsp;<span class="ident" id="7427599">otherArch</span>&nbsp;<span class="op" id="7427609">+</span>&nbsp;<span class="string" id="7427611">&#34;.go&#34;</span><span class="op" id="7427616">,</span>&nbsp;<span class="builtintype" id="7427618">false</span><span class="op" id="7427623">}</span><span class="op" id="7427624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427627">{</span><span class="string" id="7427628">&#34;file_&#34;</span>&nbsp;<span class="op" id="7427636">+</span>&nbsp;<span class="ident" id="7427638">otherOS</span>&nbsp;<span class="op" id="7427646">+</span>&nbsp;<span class="string" id="7427648">&#34;_&#34;</span>&nbsp;<span class="op" id="7427652">+</span>&nbsp;<span class="ident" id="7427654">otherArch</span>&nbsp;<span class="op" id="7427664">+</span>&nbsp;<span class="string" id="7427666">&#34;.go&#34;</span><span class="op" id="7427671">,</span>&nbsp;<span class="builtintype" id="7427673">false</span><span class="op" id="7427678">}</span><span class="op" id="7427679">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427682">{</span><span class="string" id="7427683">&#34;file_foo_&#34;</span>&nbsp;<span class="op" id="7427695">+</span>&nbsp;<span class="ident" id="7427697">thisArch</span>&nbsp;<span class="op" id="7427706">+</span>&nbsp;<span class="string" id="7427708">&#34;.go&#34;</span><span class="op" id="7427713">,</span>&nbsp;<span class="builtintype" id="7427715">true</span><span class="op" id="7427719">}</span><span class="op" id="7427720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427723">{</span><span class="string" id="7427724">&#34;file_foo_&#34;</span>&nbsp;<span class="op" id="7427736">+</span>&nbsp;<span class="ident" id="7427738">otherArch</span>&nbsp;<span class="op" id="7427748">+</span>&nbsp;<span class="string" id="7427750">&#34;.go&#34;</span><span class="op" id="7427755">,</span>&nbsp;<span class="builtintype" id="7427757">false</span><span class="op" id="7427762">}</span><span class="op" id="7427763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427766">{</span><span class="string" id="7427767">&#34;file_&#34;</span>&nbsp;<span class="op" id="7427775">+</span>&nbsp;<span class="ident" id="7427777">thisOS</span>&nbsp;<span class="op" id="7427784">+</span>&nbsp;<span class="string" id="7427786">&#34;.c&#34;</span><span class="op" id="7427790">,</span>&nbsp;<span class="builtintype" id="7427792">true</span><span class="op" id="7427796">}</span><span class="op" id="7427797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427800">{</span><span class="string" id="7427801">&#34;file_&#34;</span>&nbsp;<span class="op" id="7427809">+</span>&nbsp;<span class="ident" id="7427811">otherOS</span>&nbsp;<span class="op" id="7427819">+</span>&nbsp;<span class="string" id="7427821">&#34;.c&#34;</span><span class="op" id="7427825">,</span>&nbsp;<span class="builtintype" id="7427827">false</span><span class="op" id="7427832">}</span><span class="op" id="7427833">,</span><br>
<span class="lineno"></span><span class="op" id="7427835">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="7427838">func</span>&nbsp;<span class="ident" id="7427843">TestGoodOSArch</span><span class="op" id="7427857">(</span><span class="ident" id="7427858">t</span>&nbsp;<span class="op" id="7427860">*</span><span class="ident" id="7427861">testing</span><span class="op" id="7427868">.</span><span class="ident" id="7427869">T</span><span class="op" id="7427870">)</span>&nbsp;<span class="op" id="7427872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427875">for</span>&nbsp;<span class="ident" id="7427879">_</span><span class="op" id="7427880">,</span>&nbsp;<span class="ident" id="7427882">test</span>&nbsp;<span class="op" id="7427887">:=</span>&nbsp;<span class="keyword" id="7427890">range</span>&nbsp;<span class="ident" id="7427896">tests</span>&nbsp;<span class="op" id="7427902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427906">if</span>&nbsp;<span class="ident" id="7427909">Default</span><span class="op" id="7427916">.</span><span class="ident" id="7427917">goodOSArchFile</span><span class="op" id="7427931">(</span><span class="ident" id="7427932">test</span><span class="op" id="7427936">.</span><span class="ident" id="7427937">name</span><span class="op" id="7427941">,</span>&nbsp;<span class="builtinfunc" id="7427943">make</span><span class="op" id="7427947">(</span><span class="keyword" id="7427948">map</span><span class="op" id="7427951">[</span><span class="builtintype" id="7427952">string</span><span class="op" id="7427958">]</span><span class="builtintype" id="7427959">bool</span><span class="op" id="7427963">)</span><span class="op" id="7427964">)</span>&nbsp;<span class="op" id="7427966">!=</span>&nbsp;<span class="ident" id="7427969">test</span><span class="op" id="7427973">.</span><span class="ident" id="7427974">result</span>&nbsp;<span class="op" id="7427981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427986">t</span><span class="op" id="7427987">.</span><span class="ident" id="7427988">Fatalf</span><span class="op" id="7427994">(</span><span class="string" id="7427995">&#34;goodOSArchFile(%q)&nbsp;!=&nbsp;%v&#34;</span><span class="op" id="7428021">,</span>&nbsp;<span class="ident" id="7428023">test</span><span class="op" id="7428027">.</span><span class="ident" id="7428028">name</span><span class="op" id="7428032">,</span>&nbsp;<span class="ident" id="7428034">test</span><span class="op" id="7428038">.</span><span class="ident" id="7428039">result</span><span class="op" id="7428045">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7428049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7428052">}</span><br>
<span class="lineno"></span><span class="op" id="7428054">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
