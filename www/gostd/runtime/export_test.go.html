<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7075560">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7075616">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7075670">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7075721">//&nbsp;Export&nbsp;guts&nbsp;for&nbsp;testing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7075750">package</span>&nbsp;<span class="ident" id="7075758">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7075767">import</span>&nbsp;<span class="string" id="7075774">&#34;unsafe&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7075784">var</span>&nbsp;<span class="ident" id="7075788">Fadd64</span>&nbsp;<span class="op" id="7075795">=</span>&nbsp;<span class="ident" id="7075797">fadd64</span><br>
<span class="lineno"></span><span class="keyword" id="7075804">var</span>&nbsp;<span class="ident" id="7075808">Fsub64</span>&nbsp;<span class="op" id="7075815">=</span>&nbsp;<span class="ident" id="7075817">fsub64</span><br>
<span class="lineno"></span><span class="keyword" id="7075824">var</span>&nbsp;<span class="ident" id="7075828">Fmul64</span>&nbsp;<span class="op" id="7075835">=</span>&nbsp;<span class="ident" id="7075837">fmul64</span><br>
<span class="lineno"></span><span class="keyword" id="7075844">var</span>&nbsp;<span class="ident" id="7075848">Fdiv64</span>&nbsp;<span class="op" id="7075855">=</span>&nbsp;<span class="ident" id="7075857">fdiv64</span><br>
<span class="lineno">15</span><span class="keyword" id="7075864">var</span>&nbsp;<span class="ident" id="7075868">F64to32</span>&nbsp;<span class="op" id="7075876">=</span>&nbsp;<span class="ident" id="7075878">f64to32</span><br>
<span class="lineno"></span><span class="keyword" id="7075886">var</span>&nbsp;<span class="ident" id="7075890">F32to64</span>&nbsp;<span class="op" id="7075898">=</span>&nbsp;<span class="ident" id="7075900">f32to64</span><br>
<span class="lineno"></span><span class="keyword" id="7075908">var</span>&nbsp;<span class="ident" id="7075912">Fcmp64</span>&nbsp;<span class="op" id="7075919">=</span>&nbsp;<span class="ident" id="7075921">fcmp64</span><br>
<span class="lineno"></span><span class="keyword" id="7075928">var</span>&nbsp;<span class="ident" id="7075932">Fintto64</span>&nbsp;<span class="op" id="7075941">=</span>&nbsp;<span class="ident" id="7075943">fintto64</span><br>
<span class="lineno"></span><span class="keyword" id="7075952">var</span>&nbsp;<span class="ident" id="7075956">F64toint</span>&nbsp;<span class="op" id="7075965">=</span>&nbsp;<span class="ident" id="7075967">f64toint</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7075977">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="7075991">func</span>&nbsp;<span class="ident" id="7075996">stackguard</span><span class="op" id="7076006">(</span><span class="op" id="7076007">)</span>&nbsp;<span class="op" id="7076009">(</span><span class="ident" id="7076010">sp</span><span class="op" id="7076012">,</span>&nbsp;<span class="ident" id="7076014">limit</span>&nbsp;<span class="builtintype" id="7076020">uintptr</span><span class="op" id="7076027">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7076030">var</span>&nbsp;<span class="ident" id="7076034">Entersyscall</span>&nbsp;<span class="op" id="7076047">=</span>&nbsp;<span class="ident" id="7076049">entersyscall</span><br>
<span class="lineno">25</span><span class="keyword" id="7076062">var</span>&nbsp;<span class="ident" id="7076066">Exitsyscall</span>&nbsp;<span class="op" id="7076078">=</span>&nbsp;<span class="ident" id="7076080">exitsyscall</span><br>
<span class="lineno"></span><span class="keyword" id="7076092">var</span>&nbsp;<span class="ident" id="7076096">LockedOSThread</span>&nbsp;<span class="op" id="7076111">=</span>&nbsp;<span class="ident" id="7076113">lockedOSThread</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7076129">type</span>&nbsp;<span class="ident" id="7076134">LFNode</span>&nbsp;<span class="keyword" id="7076141">struct</span>&nbsp;<span class="op" id="7076148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076151">Next</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7076159">*</span><span class="ident" id="7076160">LFNode</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076168">Pushcnt</span>&nbsp;<span class="builtintype" id="7076176">uintptr</span><br>
<span class="lineno"></span><span class="op" id="7076184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7076187">func</span>&nbsp;<span class="ident" id="7076192">lfstackpush_m</span><span class="op" id="7076205">(</span><span class="op" id="7076206">)</span><br>
<span class="lineno"></span><span class="keyword" id="7076208">func</span>&nbsp;<span class="ident" id="7076213">lfstackpop_m</span><span class="op" id="7076225">(</span><span class="op" id="7076226">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="7076229">func</span>&nbsp;<span class="ident" id="7076234">LFStackPush</span><span class="op" id="7076245">(</span><span class="ident" id="7076246">head</span>&nbsp;<span class="op" id="7076251">*</span><span class="ident" id="7076252">uint64</span><span class="op" id="7076258">,</span>&nbsp;<span class="ident" id="7076260">node</span>&nbsp;<span class="op" id="7076265">*</span><span class="ident" id="7076266">LFNode</span><span class="op" id="7076272">)</span>&nbsp;<span class="op" id="7076274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076277">mp</span>&nbsp;<span class="op" id="7076280">:=</span>&nbsp;<span class="ident" id="7076283">acquirem</span><span class="op" id="7076291">(</span><span class="op" id="7076292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076295">mp</span><span class="op" id="7076297">.</span><span class="ident" id="7076298">ptrarg</span><span class="op" id="7076304">[</span><span class="num" id="7076305">0</span><span class="op" id="7076306">]</span>&nbsp;<span class="op" id="7076308">=</span>&nbsp;<span class="ident" id="7076310">unsafe</span><span class="op" id="7076316">.</span><span class="ident" id="7076317">Pointer</span><span class="op" id="7076324">(</span><span class="ident" id="7076325">head</span><span class="op" id="7076329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076332">mp</span><span class="op" id="7076334">.</span><span class="ident" id="7076335">ptrarg</span><span class="op" id="7076341">[</span><span class="num" id="7076342">1</span><span class="op" id="7076343">]</span>&nbsp;<span class="op" id="7076345">=</span>&nbsp;<span class="ident" id="7076347">unsafe</span><span class="op" id="7076353">.</span><span class="ident" id="7076354">Pointer</span><span class="op" id="7076361">(</span><span class="ident" id="7076362">node</span><span class="op" id="7076366">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076369">onM</span><span class="op" id="7076372">(</span><span class="ident" id="7076373">lfstackpush_m</span><span class="op" id="7076386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076389">releasem</span><span class="op" id="7076397">(</span><span class="ident" id="7076398">mp</span><span class="op" id="7076400">)</span><br>
<span class="lineno"></span><span class="op" id="7076402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7076405">func</span>&nbsp;<span class="ident" id="7076410">LFStackPop</span><span class="op" id="7076420">(</span><span class="ident" id="7076421">head</span>&nbsp;<span class="op" id="7076426">*</span><span class="ident" id="7076427">uint64</span><span class="op" id="7076433">)</span>&nbsp;<span class="op" id="7076435">*</span><span class="ident" id="7076436">LFNode</span>&nbsp;<span class="op" id="7076443">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076446">mp</span>&nbsp;<span class="op" id="7076449">:=</span>&nbsp;<span class="ident" id="7076452">acquirem</span><span class="op" id="7076460">(</span><span class="op" id="7076461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076464">mp</span><span class="op" id="7076466">.</span><span class="ident" id="7076467">ptrarg</span><span class="op" id="7076473">[</span><span class="num" id="7076474">0</span><span class="op" id="7076475">]</span>&nbsp;<span class="op" id="7076477">=</span>&nbsp;<span class="ident" id="7076479">unsafe</span><span class="op" id="7076485">.</span><span class="ident" id="7076486">Pointer</span><span class="op" id="7076493">(</span><span class="ident" id="7076494">head</span><span class="op" id="7076498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076501">onM</span><span class="op" id="7076504">(</span><span class="ident" id="7076505">lfstackpop_m</span><span class="op" id="7076517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076520">node</span>&nbsp;<span class="op" id="7076525">:=</span>&nbsp;<span class="op" id="7076528">(</span><span class="op" id="7076529">*</span><span class="ident" id="7076530">LFNode</span><span class="op" id="7076536">)</span><span class="op" id="7076537">(</span><span class="ident" id="7076538">unsafe</span><span class="op" id="7076544">.</span><span class="ident" id="7076545">Pointer</span><span class="op" id="7076552">(</span><span class="ident" id="7076553">mp</span><span class="op" id="7076555">.</span><span class="ident" id="7076556">ptrarg</span><span class="op" id="7076562">[</span><span class="num" id="7076563">0</span><span class="op" id="7076564">]</span><span class="op" id="7076565">)</span><span class="op" id="7076566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076569">mp</span><span class="op" id="7076571">.</span><span class="ident" id="7076572">ptrarg</span><span class="op" id="7076578">[</span><span class="num" id="7076579">0</span><span class="op" id="7076580">]</span>&nbsp;<span class="op" id="7076582">=</span>&nbsp;<span class="ident" id="7076584">nil</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076589">releasem</span><span class="op" id="7076597">(</span><span class="ident" id="7076598">mp</span><span class="op" id="7076600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076603">return</span>&nbsp;<span class="ident" id="7076610">node</span><br>
<span class="lineno"></span><span class="op" id="7076615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7076618">type</span>&nbsp;<span class="ident" id="7076623">ParFor</span>&nbsp;<span class="keyword" id="7076630">struct</span>&nbsp;<span class="op" id="7076637">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076640">body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7076648">*</span><span class="builtintype" id="7076649">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076655">done</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7076663">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076671">Nthr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7076679">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076687">nthrmax</span>&nbsp;<span class="builtintype" id="7076695">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076703">thrseq</span>&nbsp;&nbsp;<span class="builtintype" id="7076711">uint32</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076719">Cnt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7076727">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076735">Ctx</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7076743">*</span><span class="builtintype" id="7076744">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076750">wait</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7076758">bool</span><br>
<span class="lineno"></span><span class="op" id="7076763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="7076766">func</span>&nbsp;<span class="ident" id="7076771">newparfor_m</span><span class="op" id="7076782">(</span><span class="op" id="7076783">)</span><br>
<span class="lineno"></span><span class="keyword" id="7076785">func</span>&nbsp;<span class="ident" id="7076790">parforsetup_m</span><span class="op" id="7076803">(</span><span class="op" id="7076804">)</span><br>
<span class="lineno"></span><span class="keyword" id="7076806">func</span>&nbsp;<span class="ident" id="7076811">parfordo_m</span><span class="op" id="7076821">(</span><span class="op" id="7076822">)</span><br>
<span class="lineno"></span><span class="keyword" id="7076824">func</span>&nbsp;<span class="ident" id="7076829">parforiters_m</span><span class="op" id="7076842">(</span><span class="op" id="7076843">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7076846">func</span>&nbsp;<span class="ident" id="7076851">NewParFor</span><span class="op" id="7076860">(</span><span class="ident" id="7076861">nthrmax</span>&nbsp;<span class="builtintype" id="7076869">uint32</span><span class="op" id="7076875">)</span>&nbsp;<span class="op" id="7076877">*</span><span class="ident" id="7076878">ParFor</span>&nbsp;<span class="op" id="7076885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076888">mp</span>&nbsp;<span class="op" id="7076891">:=</span>&nbsp;<span class="ident" id="7076894">acquirem</span><span class="op" id="7076902">(</span><span class="op" id="7076903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076906">mp</span><span class="op" id="7076908">.</span><span class="ident" id="7076909">scalararg</span><span class="op" id="7076918">[</span><span class="num" id="7076919">0</span><span class="op" id="7076920">]</span>&nbsp;<span class="op" id="7076922">=</span>&nbsp;<span class="builtintype" id="7076924">uintptr</span><span class="op" id="7076931">(</span><span class="ident" id="7076932">nthrmax</span><span class="op" id="7076939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076942">onM</span><span class="op" id="7076945">(</span><span class="ident" id="7076946">newparfor_m</span><span class="op" id="7076957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076960">desc</span>&nbsp;<span class="op" id="7076965">:=</span>&nbsp;<span class="op" id="7076968">(</span><span class="op" id="7076969">*</span><span class="ident" id="7076970">ParFor</span><span class="op" id="7076976">)</span><span class="op" id="7076977">(</span><span class="ident" id="7076978">mp</span><span class="op" id="7076980">.</span><span class="ident" id="7076981">ptrarg</span><span class="op" id="7076987">[</span><span class="num" id="7076988">0</span><span class="op" id="7076989">]</span><span class="op" id="7076990">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076993">mp</span><span class="op" id="7076995">.</span><span class="ident" id="7076996">ptrarg</span><span class="op" id="7077002">[</span><span class="num" id="7077003">0</span><span class="op" id="7077004">]</span>&nbsp;<span class="op" id="7077006">=</span>&nbsp;<span class="ident" id="7077008">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077013">releasem</span><span class="op" id="7077021">(</span><span class="ident" id="7077022">mp</span><span class="op" id="7077024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077027">return</span>&nbsp;<span class="ident" id="7077034">desc</span><br>
<span class="lineno"></span><span class="op" id="7077039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="7077042">func</span>&nbsp;<span class="ident" id="7077047">ParForSetup</span><span class="op" id="7077058">(</span><span class="ident" id="7077059">desc</span>&nbsp;<span class="op" id="7077064">*</span><span class="ident" id="7077065">ParFor</span><span class="op" id="7077071">,</span>&nbsp;<span class="ident" id="7077073">nthr</span><span class="op" id="7077077">,</span>&nbsp;<span class="ident" id="7077079">n</span>&nbsp;<span class="builtintype" id="7077081">uint32</span><span class="op" id="7077087">,</span>&nbsp;<span class="ident" id="7077089">ctx</span>&nbsp;<span class="op" id="7077093">*</span><span class="builtintype" id="7077094">byte</span><span class="op" id="7077098">,</span>&nbsp;<span class="ident" id="7077100">wait</span>&nbsp;<span class="builtintype" id="7077105">bool</span><span class="op" id="7077109">,</span>&nbsp;<span class="ident" id="7077111">body</span>&nbsp;<span class="keyword" id="7077116">func</span><span class="op" id="7077120">(</span><span class="op" id="7077121">*</span><span class="ident" id="7077122">ParFor</span><span class="op" id="7077128">,</span>&nbsp;<span class="builtintype" id="7077130">uint32</span><span class="op" id="7077136">)</span><span class="op" id="7077137">)</span>&nbsp;<span class="op" id="7077139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077142">mp</span>&nbsp;<span class="op" id="7077145">:=</span>&nbsp;<span class="ident" id="7077148">acquirem</span><span class="op" id="7077156">(</span><span class="op" id="7077157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077160">mp</span><span class="op" id="7077162">.</span><span class="ident" id="7077163">ptrarg</span><span class="op" id="7077169">[</span><span class="num" id="7077170">0</span><span class="op" id="7077171">]</span>&nbsp;<span class="op" id="7077173">=</span>&nbsp;<span class="ident" id="7077175">unsafe</span><span class="op" id="7077181">.</span><span class="ident" id="7077182">Pointer</span><span class="op" id="7077189">(</span><span class="ident" id="7077190">desc</span><span class="op" id="7077194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077197">mp</span><span class="op" id="7077199">.</span><span class="ident" id="7077200">ptrarg</span><span class="op" id="7077206">[</span><span class="num" id="7077207">1</span><span class="op" id="7077208">]</span>&nbsp;<span class="op" id="7077210">=</span>&nbsp;<span class="ident" id="7077212">unsafe</span><span class="op" id="7077218">.</span><span class="ident" id="7077219">Pointer</span><span class="op" id="7077226">(</span><span class="ident" id="7077227">ctx</span><span class="op" id="7077230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077233">mp</span><span class="op" id="7077235">.</span><span class="ident" id="7077236">ptrarg</span><span class="op" id="7077242">[</span><span class="num" id="7077243">2</span><span class="op" id="7077244">]</span>&nbsp;<span class="op" id="7077246">=</span>&nbsp;<span class="ident" id="7077248">unsafe</span><span class="op" id="7077254">.</span><span class="ident" id="7077255">Pointer</span><span class="op" id="7077262">(</span><span class="ident" id="7077263">funcPC</span><span class="op" id="7077269">(</span><span class="ident" id="7077270">body</span><span class="op" id="7077274">)</span><span class="op" id="7077275">)</span>&nbsp;<span class="comment" id="7077277">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;be&nbsp;a&nbsp;scalar.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077312">mp</span><span class="op" id="7077314">.</span><span class="ident" id="7077315">scalararg</span><span class="op" id="7077324">[</span><span class="num" id="7077325">0</span><span class="op" id="7077326">]</span>&nbsp;<span class="op" id="7077328">=</span>&nbsp;<span class="builtintype" id="7077330">uintptr</span><span class="op" id="7077337">(</span><span class="ident" id="7077338">nthr</span><span class="op" id="7077342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077345">mp</span><span class="op" id="7077347">.</span><span class="ident" id="7077348">scalararg</span><span class="op" id="7077357">[</span><span class="num" id="7077358">1</span><span class="op" id="7077359">]</span>&nbsp;<span class="op" id="7077361">=</span>&nbsp;<span class="builtintype" id="7077363">uintptr</span><span class="op" id="7077370">(</span><span class="ident" id="7077371">n</span><span class="op" id="7077372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077375">mp</span><span class="op" id="7077377">.</span><span class="ident" id="7077378">scalararg</span><span class="op" id="7077387">[</span><span class="num" id="7077388">2</span><span class="op" id="7077389">]</span>&nbsp;<span class="op" id="7077391">=</span>&nbsp;<span class="num" id="7077393">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077396">if</span>&nbsp;<span class="ident" id="7077399">wait</span>&nbsp;<span class="op" id="7077404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077408">mp</span><span class="op" id="7077410">.</span><span class="ident" id="7077411">scalararg</span><span class="op" id="7077420">[</span><span class="num" id="7077421">2</span><span class="op" id="7077422">]</span>&nbsp;<span class="op" id="7077424">=</span>&nbsp;<span class="num" id="7077426">1</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077432">onM</span><span class="op" id="7077435">(</span><span class="ident" id="7077436">parforsetup_m</span><span class="op" id="7077449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077452">releasem</span><span class="op" id="7077460">(</span><span class="ident" id="7077461">mp</span><span class="op" id="7077463">)</span><br>
<span class="lineno"></span><span class="op" id="7077465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7077468">func</span>&nbsp;<span class="ident" id="7077473">ParForDo</span><span class="op" id="7077481">(</span><span class="ident" id="7077482">desc</span>&nbsp;<span class="op" id="7077487">*</span><span class="ident" id="7077488">ParFor</span><span class="op" id="7077494">)</span>&nbsp;<span class="op" id="7077496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077499">mp</span>&nbsp;<span class="op" id="7077502">:=</span>&nbsp;<span class="ident" id="7077505">acquirem</span><span class="op" id="7077513">(</span><span class="op" id="7077514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077517">mp</span><span class="op" id="7077519">.</span><span class="ident" id="7077520">ptrarg</span><span class="op" id="7077526">[</span><span class="num" id="7077527">0</span><span class="op" id="7077528">]</span>&nbsp;<span class="op" id="7077530">=</span>&nbsp;<span class="ident" id="7077532">unsafe</span><span class="op" id="7077538">.</span><span class="ident" id="7077539">Pointer</span><span class="op" id="7077546">(</span><span class="ident" id="7077547">desc</span><span class="op" id="7077551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077554">onM</span><span class="op" id="7077557">(</span><span class="ident" id="7077558">parfordo_m</span><span class="op" id="7077568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077571">releasem</span><span class="op" id="7077579">(</span><span class="ident" id="7077580">mp</span><span class="op" id="7077582">)</span><br>
<span class="lineno">100</span><span class="op" id="7077584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7077587">func</span>&nbsp;<span class="ident" id="7077592">ParForIters</span><span class="op" id="7077603">(</span><span class="ident" id="7077604">desc</span>&nbsp;<span class="op" id="7077609">*</span><span class="ident" id="7077610">ParFor</span><span class="op" id="7077616">,</span>&nbsp;<span class="ident" id="7077618">tid</span>&nbsp;<span class="builtintype" id="7077622">uint32</span><span class="op" id="7077628">)</span>&nbsp;<span class="op" id="7077630">(</span><span class="builtintype" id="7077631">uint32</span><span class="op" id="7077637">,</span>&nbsp;<span class="builtintype" id="7077639">uint32</span><span class="op" id="7077645">)</span>&nbsp;<span class="op" id="7077647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077650">mp</span>&nbsp;<span class="op" id="7077653">:=</span>&nbsp;<span class="ident" id="7077656">acquirem</span><span class="op" id="7077664">(</span><span class="op" id="7077665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077668">mp</span><span class="op" id="7077670">.</span><span class="ident" id="7077671">ptrarg</span><span class="op" id="7077677">[</span><span class="num" id="7077678">0</span><span class="op" id="7077679">]</span>&nbsp;<span class="op" id="7077681">=</span>&nbsp;<span class="ident" id="7077683">unsafe</span><span class="op" id="7077689">.</span><span class="ident" id="7077690">Pointer</span><span class="op" id="7077697">(</span><span class="ident" id="7077698">desc</span><span class="op" id="7077702">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077705">mp</span><span class="op" id="7077707">.</span><span class="ident" id="7077708">scalararg</span><span class="op" id="7077717">[</span><span class="num" id="7077718">0</span><span class="op" id="7077719">]</span>&nbsp;<span class="op" id="7077721">=</span>&nbsp;<span class="builtintype" id="7077723">uintptr</span><span class="op" id="7077730">(</span><span class="ident" id="7077731">tid</span><span class="op" id="7077734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077737">onM</span><span class="op" id="7077740">(</span><span class="ident" id="7077741">parforiters_m</span><span class="op" id="7077754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077757">begin</span>&nbsp;<span class="op" id="7077763">:=</span>&nbsp;<span class="builtintype" id="7077766">uint32</span><span class="op" id="7077772">(</span><span class="ident" id="7077773">mp</span><span class="op" id="7077775">.</span><span class="ident" id="7077776">scalararg</span><span class="op" id="7077785">[</span><span class="num" id="7077786">0</span><span class="op" id="7077787">]</span><span class="op" id="7077788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077791">end</span>&nbsp;<span class="op" id="7077795">:=</span>&nbsp;<span class="builtintype" id="7077798">uint32</span><span class="op" id="7077804">(</span><span class="ident" id="7077805">mp</span><span class="op" id="7077807">.</span><span class="ident" id="7077808">scalararg</span><span class="op" id="7077817">[</span><span class="num" id="7077818">1</span><span class="op" id="7077819">]</span><span class="op" id="7077820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077823">releasem</span><span class="op" id="7077831">(</span><span class="ident" id="7077832">mp</span><span class="op" id="7077834">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077837">return</span>&nbsp;<span class="ident" id="7077844">begin</span><span class="op" id="7077849">,</span>&nbsp;<span class="ident" id="7077851">end</span><br>
<span class="lineno"></span><span class="op" id="7077855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7077858">//&nbsp;in&nbsp;mgc0.c</span><br>
<span class="lineno"></span><span class="comment" id="7077871">//go:noescape</span><br>
<span class="lineno">115</span><span class="keyword" id="7077885">func</span>&nbsp;<span class="ident" id="7077890">getgcmask</span><span class="op" id="7077899">(</span><span class="ident" id="7077900">data</span>&nbsp;<span class="ident" id="7077905">unsafe</span><span class="op" id="7077911">.</span><span class="ident" id="7077912">Pointer</span><span class="op" id="7077919">,</span>&nbsp;<span class="ident" id="7077921">typ</span>&nbsp;<span class="op" id="7077925">*</span><span class="ident" id="7077926">_type</span><span class="op" id="7077931">,</span>&nbsp;<span class="ident" id="7077933">array</span>&nbsp;<span class="op" id="7077939">*</span><span class="op" id="7077940">*</span><span class="builtintype" id="7077941">byte</span><span class="op" id="7077945">,</span>&nbsp;<span class="builtinfunc" id="7077947">len</span>&nbsp;<span class="op" id="7077951">*</span><span class="builtintype" id="7077952">uint</span><span class="op" id="7077956">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7077959">func</span>&nbsp;<span class="ident" id="7077964">GCMask</span><span class="op" id="7077970">(</span><span class="ident" id="7077971">x</span>&nbsp;<span class="keyword" id="7077973">interface</span><span class="op" id="7077982">{</span><span class="op" id="7077983">}</span><span class="op" id="7077984">)</span>&nbsp;<span class="op" id="7077986">(</span><span class="ident" id="7077987">ret</span>&nbsp;<span class="op" id="7077991">[</span><span class="op" id="7077992">]</span><span class="builtintype" id="7077993">byte</span><span class="op" id="7077997">)</span>&nbsp;<span class="op" id="7077999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078002">e</span>&nbsp;<span class="op" id="7078004">:=</span>&nbsp;<span class="op" id="7078007">(</span><span class="op" id="7078008">*</span><span class="ident" id="7078009">eface</span><span class="op" id="7078014">)</span><span class="op" id="7078015">(</span><span class="ident" id="7078016">unsafe</span><span class="op" id="7078022">.</span><span class="ident" id="7078023">Pointer</span><span class="op" id="7078030">(</span><span class="op" id="7078031">&amp;</span><span class="ident" id="7078032">x</span><span class="op" id="7078033">)</span><span class="op" id="7078034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078037">s</span>&nbsp;<span class="op" id="7078039">:=</span>&nbsp;<span class="op" id="7078042">(</span><span class="op" id="7078043">*</span><span class="ident" id="7078044">slice</span><span class="op" id="7078049">)</span><span class="op" id="7078050">(</span><span class="ident" id="7078051">unsafe</span><span class="op" id="7078057">.</span><span class="ident" id="7078058">Pointer</span><span class="op" id="7078065">(</span><span class="op" id="7078066">&amp;</span><span class="ident" id="7078067">ret</span><span class="op" id="7078070">)</span><span class="op" id="7078071">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078074">onM</span><span class="op" id="7078077">(</span><span class="keyword" id="7078078">func</span><span class="op" id="7078082">(</span><span class="op" id="7078083">)</span>&nbsp;<span class="op" id="7078085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078089">getgcmask</span><span class="op" id="7078098">(</span><span class="ident" id="7078099">e</span><span class="op" id="7078100">.</span><span class="ident" id="7078101">data</span><span class="op" id="7078105">,</span>&nbsp;<span class="ident" id="7078107">e</span><span class="op" id="7078108">.</span><span class="ident" id="7078109">_type</span><span class="op" id="7078114">,</span>&nbsp;<span class="op" id="7078116">&amp;</span><span class="ident" id="7078117">s</span><span class="op" id="7078118">.</span><span class="ident" id="7078119">array</span><span class="op" id="7078124">,</span>&nbsp;<span class="op" id="7078126">&amp;</span><span class="ident" id="7078127">s</span><span class="op" id="7078128">.</span><span class="builtinfunc" id="7078129">len</span><span class="op" id="7078132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078136">s</span><span class="op" id="7078137">.</span><span class="builtinfunc" id="7078138">cap</span>&nbsp;<span class="op" id="7078142">=</span>&nbsp;<span class="ident" id="7078144">s</span><span class="op" id="7078145">.</span><span class="builtinfunc" id="7078146">len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078151">}</span><span class="op" id="7078152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078155">return</span><br>
<span class="lineno">125</span><span class="op" id="7078162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7078165">func</span>&nbsp;<span class="ident" id="7078170">testSchedLocalQueue</span><span class="op" id="7078189">(</span><span class="op" id="7078190">)</span><br>
<span class="lineno"></span><span class="keyword" id="7078192">func</span>&nbsp;<span class="ident" id="7078197">testSchedLocalQueueSteal</span><span class="op" id="7078221">(</span><span class="op" id="7078222">)</span><br>
<span class="lineno"></span><span class="keyword" id="7078224">func</span>&nbsp;<span class="ident" id="7078229">RunSchedLocalQueueTest</span><span class="op" id="7078251">(</span><span class="op" id="7078252">)</span>&nbsp;<span class="op" id="7078254">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078257">onM</span><span class="op" id="7078260">(</span><span class="ident" id="7078261">testSchedLocalQueue</span><span class="op" id="7078280">)</span><br>
<span class="lineno"></span><span class="op" id="7078282">}</span><br>
<span class="lineno"></span><span class="keyword" id="7078284">func</span>&nbsp;<span class="ident" id="7078289">RunSchedLocalQueueStealTest</span><span class="op" id="7078316">(</span><span class="op" id="7078317">)</span>&nbsp;<span class="op" id="7078319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078322">onM</span><span class="op" id="7078325">(</span><span class="ident" id="7078326">testSchedLocalQueueSteal</span><span class="op" id="7078350">)</span><br>
<span class="lineno"></span><span class="op" id="7078352">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7078355">var</span>&nbsp;<span class="ident" id="7078359">HaveGoodHash</span>&nbsp;<span class="op" id="7078372">=</span>&nbsp;<span class="ident" id="7078374">haveGoodHash</span><br>
<span class="lineno"></span><span class="keyword" id="7078387">var</span>&nbsp;<span class="ident" id="7078391">StringHash</span>&nbsp;<span class="op" id="7078402">=</span>&nbsp;<span class="ident" id="7078404">stringHash</span><br>
<span class="lineno"></span><span class="keyword" id="7078415">var</span>&nbsp;<span class="ident" id="7078419">BytesHash</span>&nbsp;<span class="op" id="7078429">=</span>&nbsp;<span class="ident" id="7078431">bytesHash</span><br>
<span class="lineno"></span><span class="keyword" id="7078441">var</span>&nbsp;<span class="ident" id="7078445">Int32Hash</span>&nbsp;<span class="op" id="7078455">=</span>&nbsp;<span class="ident" id="7078457">int32Hash</span><br>
<span class="lineno">140</span><span class="keyword" id="7078467">var</span>&nbsp;<span class="ident" id="7078471">Int64Hash</span>&nbsp;<span class="op" id="7078481">=</span>&nbsp;<span class="ident" id="7078483">int64Hash</span><br>
<span class="lineno"></span><span class="keyword" id="7078493">var</span>&nbsp;<span class="ident" id="7078497">EfaceHash</span>&nbsp;<span class="op" id="7078507">=</span>&nbsp;<span class="ident" id="7078509">efaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="7078519">var</span>&nbsp;<span class="ident" id="7078523">IfaceHash</span>&nbsp;<span class="op" id="7078533">=</span>&nbsp;<span class="ident" id="7078535">ifaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="7078545">var</span>&nbsp;<span class="ident" id="7078549">MemclrBytes</span>&nbsp;<span class="op" id="7078561">=</span>&nbsp;<span class="ident" id="7078563">memclrBytes</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="7078576">var</span>&nbsp;<span class="ident" id="7078580">HashLoad</span>&nbsp;<span class="op" id="7078589">=</span>&nbsp;<span class="op" id="7078591">&amp;</span><span class="ident" id="7078592">hashLoad</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7078602">//&nbsp;For&nbsp;testing.</span><br>
<span class="lineno"></span><span class="keyword" id="7078618">func</span>&nbsp;<span class="ident" id="7078623">GogoBytes</span><span class="op" id="7078632">(</span><span class="op" id="7078633">)</span>&nbsp;<span class="builtintype" id="7078635">int32</span>&nbsp;<span class="op" id="7078641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078644">return</span>&nbsp;<span class="ident" id="7078651">_RuntimeGogoBytes</span><br>
<span class="lineno">150</span><span class="op" id="7078669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7078672">//&nbsp;in&nbsp;string.c</span><br>
<span class="lineno"></span><span class="comment" id="7078687">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="7078701">func</span>&nbsp;<span class="ident" id="7078706">gostringw</span><span class="op" id="7078715">(</span><span class="ident" id="7078716">w</span>&nbsp;<span class="op" id="7078718">*</span><span class="builtintype" id="7078719">uint16</span><span class="op" id="7078725">)</span>&nbsp;<span class="builtintype" id="7078727">string</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="7078735">//&nbsp;entry&nbsp;point&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="7078762">func</span>&nbsp;<span class="ident" id="7078767">GostringW</span><span class="op" id="7078776">(</span><span class="ident" id="7078777">w</span>&nbsp;<span class="op" id="7078779">[</span><span class="op" id="7078780">]</span><span class="builtintype" id="7078781">uint16</span><span class="op" id="7078787">)</span>&nbsp;<span class="op" id="7078789">(</span><span class="ident" id="7078790">s</span>&nbsp;<span class="builtintype" id="7078792">string</span><span class="op" id="7078798">)</span>&nbsp;<span class="op" id="7078800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078803">onM</span><span class="op" id="7078806">(</span><span class="keyword" id="7078807">func</span><span class="op" id="7078811">(</span><span class="op" id="7078812">)</span>&nbsp;<span class="op" id="7078814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078818">s</span>&nbsp;<span class="op" id="7078820">=</span>&nbsp;<span class="ident" id="7078822">gostringw</span><span class="op" id="7078831">(</span><span class="op" id="7078832">&amp;</span><span class="ident" id="7078833">w</span><span class="op" id="7078834">[</span><span class="num" id="7078835">0</span><span class="op" id="7078836">]</span><span class="op" id="7078837">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078840">}</span><span class="op" id="7078841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078844">return</span><br>
<span class="lineno"></span><span class="op" id="7078851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7078854">var</span>&nbsp;<span class="ident" id="7078858">Gostringnocopy</span>&nbsp;<span class="op" id="7078873">=</span>&nbsp;<span class="ident" id="7078875">gostringnocopy</span><br>
<span class="lineno">165</span><span class="keyword" id="7078890">var</span>&nbsp;<span class="ident" id="7078894">Maxstring</span>&nbsp;<span class="op" id="7078904">=</span>&nbsp;<span class="op" id="7078906">&amp;</span><span class="ident" id="7078907">maxstring</span>
</div>
</body>
</html>
