<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2076851">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2076906">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2076960">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2077011">package</span>&nbsp;<span class="ident" id="2077019">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2077025">//&nbsp;This&nbsp;table&nbsp;might&nbsp;overflow&nbsp;127-bit&nbsp;exponent&nbsp;representations.</span><br>
<span class="lineno"></span><span class="comment" id="2077088">//&nbsp;In&nbsp;that&nbsp;case,&nbsp;truncate&nbsp;it&nbsp;after&nbsp;1.0e38.</span><br>
<span class="lineno"></span><span class="keyword" id="2077131">var</span>&nbsp;<span class="ident" id="2077135">pow10tab</span>&nbsp;<span class="op" id="2077144">[</span><span class="num" id="2077145">70</span><span class="op" id="2077147">]</span><span class="builtintype" id="2077148">float64</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="2077157">//&nbsp;Pow10&nbsp;returns&nbsp;10**e,&nbsp;the&nbsp;base-10&nbsp;exponential&nbsp;of&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="2077211">//</span><br>
<span class="lineno"></span><span class="comment" id="2077214">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="2077236">//&nbsp;&nbsp;&nbsp;&nbspPow10(e)&nbsp;=&nbsp;+Inf&nbsp;for&nbsp;e&nbsp;&gt;&nbsp;309</span><br>
<span class="lineno">15</span><span class="comment" id="2077267">//&nbsp;&nbsp;&nbsp;&nbspPow10(e)&nbsp;=&nbsp;0&nbsp;for&nbsp;e&nbsp;&lt;&nbsp;-324</span><br>
<span class="lineno"></span><span class="keyword" id="2077296">func</span>&nbsp;<span class="ident" id="2077301">Pow10</span><span class="op" id="2077306">(</span><span class="ident" id="2077307">e</span>&nbsp;<span class="builtintype" id="2077309">int</span><span class="op" id="2077312">)</span>&nbsp;<span class="builtintype" id="2077314">float64</span>&nbsp;<span class="op" id="2077322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2077325">if</span>&nbsp;<span class="ident" id="2077328">e</span>&nbsp;<span class="op" id="2077330">&lt;=</span>&nbsp;<span class="op" id="2077333">-</span><span class="num" id="2077334">325</span>&nbsp;<span class="op" id="2077338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2077342">return</span>&nbsp;<span class="num" id="2077349">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2077352">}</span>&nbsp;<span class="keyword" id="2077354">else</span>&nbsp;<span class="keyword" id="2077359">if</span>&nbsp;<span class="ident" id="2077362">e</span>&nbsp;<span class="op" id="2077364">&gt;</span>&nbsp;<span class="num" id="2077366">309</span>&nbsp;<span class="op" id="2077370">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2077374">return</span>&nbsp;<span class="ident" id="2077381">Inf</span><span class="op" id="2077384">(</span><span class="num" id="2077385">1</span><span class="op" id="2077386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2077389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2077393">if</span>&nbsp;<span class="ident" id="2077396">e</span>&nbsp;<span class="op" id="2077398">&lt;</span>&nbsp;<span class="num" id="2077400">0</span>&nbsp;<span class="op" id="2077402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2077406">return</span>&nbsp;<span class="num" id="2077413">1</span>&nbsp;<span class="op" id="2077415">/</span>&nbsp;<span class="ident" id="2077417">Pow10</span><span class="op" id="2077422">(</span><span class="op" id="2077423">-</span><span class="ident" id="2077424">e</span><span class="op" id="2077425">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2077428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2077431">if</span>&nbsp;<span class="ident" id="2077434">e</span>&nbsp;<span class="op" id="2077436">&lt;</span>&nbsp;<span class="builtinfunc" id="2077438">len</span><span class="op" id="2077441">(</span><span class="ident" id="2077442">pow10tab</span><span class="op" id="2077450">)</span>&nbsp;<span class="op" id="2077452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2077456">return</span>&nbsp;<span class="ident" id="2077463">pow10tab</span><span class="op" id="2077471">[</span><span class="ident" id="2077472">e</span><span class="op" id="2077473">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2077476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2077479">m</span>&nbsp;<span class="op" id="2077481">:=</span>&nbsp;<span class="ident" id="2077484">e</span>&nbsp;<span class="op" id="2077486">/</span>&nbsp;<span class="num" id="2077488">2</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2077491">return</span>&nbsp;<span class="ident" id="2077498">Pow10</span><span class="op" id="2077503">(</span><span class="ident" id="2077504">m</span><span class="op" id="2077505">)</span>&nbsp;<span class="op" id="2077507">*</span>&nbsp;<span class="ident" id="2077509">Pow10</span><span class="op" id="2077514">(</span><span class="ident" id="2077515">e</span><span class="op" id="2077516">-</span><span class="ident" id="2077517">m</span><span class="op" id="2077518">)</span><br>
<span class="lineno"></span><span class="op" id="2077520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2077523">func</span>&nbsp;<span class="ident" id="2077528">init</span><span class="op" id="2077532">(</span><span class="op" id="2077533">)</span>&nbsp;<span class="op" id="2077535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2077538">pow10tab</span><span class="op" id="2077546">[</span><span class="num" id="2077547">0</span><span class="op" id="2077548">]</span>&nbsp;<span class="op" id="2077550">=</span>&nbsp;<span class="num" id="2077552">1.0e0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2077559">pow10tab</span><span class="op" id="2077567">[</span><span class="num" id="2077568">1</span><span class="op" id="2077569">]</span>&nbsp;<span class="op" id="2077571">=</span>&nbsp;<span class="num" id="2077573">1.0e1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2077580">for</span>&nbsp;<span class="ident" id="2077584">i</span>&nbsp;<span class="op" id="2077586">:=</span>&nbsp;<span class="num" id="2077589">2</span><span class="op" id="2077590">;</span>&nbsp;<span class="ident" id="2077592">i</span>&nbsp;<span class="op" id="2077594">&lt;</span>&nbsp;<span class="builtinfunc" id="2077596">len</span><span class="op" id="2077599">(</span><span class="ident" id="2077600">pow10tab</span><span class="op" id="2077608">)</span><span class="op" id="2077609">;</span>&nbsp;<span class="ident" id="2077611">i</span><span class="op" id="2077612">++</span>&nbsp;<span class="op" id="2077615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2077619">m</span>&nbsp;<span class="op" id="2077621">:=</span>&nbsp;<span class="ident" id="2077624">i</span>&nbsp;<span class="op" id="2077626">/</span>&nbsp;<span class="num" id="2077628">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2077632">pow10tab</span><span class="op" id="2077640">[</span><span class="ident" id="2077641">i</span><span class="op" id="2077642">]</span>&nbsp;<span class="op" id="2077644">=</span>&nbsp;<span class="ident" id="2077646">pow10tab</span><span class="op" id="2077654">[</span><span class="ident" id="2077655">m</span><span class="op" id="2077656">]</span>&nbsp;<span class="op" id="2077658">*</span>&nbsp;<span class="ident" id="2077660">pow10tab</span><span class="op" id="2077668">[</span><span class="ident" id="2077669">i</span><span class="op" id="2077670">-</span><span class="ident" id="2077671">m</span><span class="op" id="2077672">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2077675">}</span><br>
<span class="lineno">40</span><span class="op" id="2077677">}</span>
</div>
</body>
</html>
