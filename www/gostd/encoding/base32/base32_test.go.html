<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/base32</h2>
<ul>
<li><a href="/gostd/encoding/base32/base32.go.html">base32.go</a></li>
<li><a href="/gostd/encoding/base32/base32_test.go.html" class="current">base32_test.go</a></li>
<li><a href="/gostd/encoding/base32/example_test.go.html">example_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7394605">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7394660">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7394714">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7394765">package</span>&nbsp;<span class="ident" id="7394773">base32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7394781">import</span>&nbsp;<span class="op" id="7394788">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394791">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394800">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394806">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394819">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7394830">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7394840">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7394843">type</span>&nbsp;<span class="ident" id="7394848">testpair</span>&nbsp;<span class="keyword" id="7394857">struct</span>&nbsp;<span class="op" id="7394864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7394867">decoded</span><span class="op" id="7394874">,</span>&nbsp;<span class="ident" id="7394876">encoded</span>&nbsp;<span class="builtintype" id="7394884">string</span><br>
<span class="lineno"></span><span class="op" id="7394891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7394894">var</span>&nbsp;<span class="ident" id="7394898">pairs</span>&nbsp;<span class="op" id="7394904">=</span>&nbsp;<span class="op" id="7394906">[</span><span class="op" id="7394907">]</span><span class="ident" id="7394908">testpair</span><span class="op" id="7394916">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7394919">//&nbsp;RFC&nbsp;4648&nbsp;examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394941">{</span><span class="string" id="7394942">&#34;&#34;</span><span class="op" id="7394944">,</span>&nbsp;<span class="string" id="7394946">&#34;&#34;</span><span class="op" id="7394948">}</span><span class="op" id="7394949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394952">{</span><span class="string" id="7394953">&#34;f&#34;</span><span class="op" id="7394956">,</span>&nbsp;<span class="string" id="7394958">&#34;MY======&#34;</span><span class="op" id="7394968">}</span><span class="op" id="7394969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394972">{</span><span class="string" id="7394973">&#34;fo&#34;</span><span class="op" id="7394977">,</span>&nbsp;<span class="string" id="7394979">&#34;MZXQ====&#34;</span><span class="op" id="7394989">}</span><span class="op" id="7394990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7394993">{</span><span class="string" id="7394994">&#34;foo&#34;</span><span class="op" id="7394999">,</span>&nbsp;<span class="string" id="7395001">&#34;MZXW6===&#34;</span><span class="op" id="7395011">}</span><span class="op" id="7395012">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395015">{</span><span class="string" id="7395016">&#34;foob&#34;</span><span class="op" id="7395022">,</span>&nbsp;<span class="string" id="7395024">&#34;MZXW6YQ=&#34;</span><span class="op" id="7395034">}</span><span class="op" id="7395035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395038">{</span><span class="string" id="7395039">&#34;fooba&#34;</span><span class="op" id="7395046">,</span>&nbsp;<span class="string" id="7395048">&#34;MZXW6YTB&#34;</span><span class="op" id="7395058">}</span><span class="op" id="7395059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395062">{</span><span class="string" id="7395063">&#34;foobar&#34;</span><span class="op" id="7395071">,</span>&nbsp;<span class="string" id="7395073">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7395091">}</span><span class="op" id="7395092">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7395096">//&nbsp;Wikipedia&nbsp;examples,&nbsp;converted&nbsp;to&nbsp;base32</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395140">{</span><span class="string" id="7395141">&#34;sure.&#34;</span><span class="op" id="7395148">,</span>&nbsp;<span class="string" id="7395150">&#34;ON2XEZJO&#34;</span><span class="op" id="7395160">}</span><span class="op" id="7395161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395164">{</span><span class="string" id="7395165">&#34;sure&#34;</span><span class="op" id="7395171">,</span>&nbsp;<span class="string" id="7395173">&#34;ON2XEZI=&#34;</span><span class="op" id="7395183">}</span><span class="op" id="7395184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395187">{</span><span class="string" id="7395188">&#34;sur&#34;</span><span class="op" id="7395193">,</span>&nbsp;<span class="string" id="7395195">&#34;ON2XE===&#34;</span><span class="op" id="7395205">}</span><span class="op" id="7395206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395209">{</span><span class="string" id="7395210">&#34;su&#34;</span><span class="op" id="7395214">,</span>&nbsp;<span class="string" id="7395216">&#34;ON2Q====&#34;</span><span class="op" id="7395226">}</span><span class="op" id="7395227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395230">{</span><span class="string" id="7395231">&#34;leasure.&#34;</span><span class="op" id="7395241">,</span>&nbsp;<span class="string" id="7395243">&#34;NRSWC43VOJSS4===&#34;</span><span class="op" id="7395261">}</span><span class="op" id="7395262">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395265">{</span><span class="string" id="7395266">&#34;easure.&#34;</span><span class="op" id="7395275">,</span>&nbsp;<span class="string" id="7395277">&#34;MVQXG5LSMUXA====&#34;</span><span class="op" id="7395295">}</span><span class="op" id="7395296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395299">{</span><span class="string" id="7395300">&#34;asure.&#34;</span><span class="op" id="7395308">,</span>&nbsp;<span class="string" id="7395310">&#34;MFZXK4TFFY======&#34;</span><span class="op" id="7395328">}</span><span class="op" id="7395329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395332">{</span><span class="string" id="7395333">&#34;sure.&#34;</span><span class="op" id="7395340">,</span>&nbsp;<span class="string" id="7395342">&#34;ON2XEZJO&#34;</span><span class="op" id="7395352">}</span><span class="op" id="7395353">,</span><br>
<span class="lineno"></span><span class="op" id="7395355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7395358">var</span>&nbsp;<span class="ident" id="7395362">bigtest</span>&nbsp;<span class="op" id="7395370">=</span>&nbsp;<span class="ident" id="7395372">testpair</span><span class="op" id="7395380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7395383">&#34;Twas&nbsp;brillig,&nbsp;and&nbsp;the&nbsp;slithy&nbsp;toves&#34;</span><span class="op" id="7395419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7395422">&#34;KR3WC4ZAMJZGS3DMNFTSYIDBNZSCA5DIMUQHG3DJORUHSIDUN53GK4Y=&#34;</span><span class="op" id="7395480">,</span><br>
<span class="lineno"></span><span class="op" id="7395482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="7395485">func</span>&nbsp;<span class="ident" id="7395490">testEqual</span><span class="op" id="7395499">(</span><span class="ident" id="7395500">t</span>&nbsp;<span class="op" id="7395502">*</span><span class="ident" id="7395503">testing</span><span class="op" id="7395510">.</span><span class="ident" id="7395511">T</span><span class="op" id="7395512">,</span>&nbsp;<span class="ident" id="7395514">msg</span>&nbsp;<span class="builtintype" id="7395518">string</span><span class="op" id="7395524">,</span>&nbsp;<span class="ident" id="7395526">args</span>&nbsp;<span class="op" id="7395531">...</span><span class="keyword" id="7395534">interface</span><span class="op" id="7395543">{</span><span class="op" id="7395544">}</span><span class="op" id="7395545">)</span>&nbsp;<span class="builtintype" id="7395547">bool</span>&nbsp;<span class="op" id="7395552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7395555">if</span>&nbsp;<span class="ident" id="7395558">args</span><span class="op" id="7395562">[</span><span class="builtinfunc" id="7395563">len</span><span class="op" id="7395566">(</span><span class="ident" id="7395567">args</span><span class="op" id="7395571">)</span><span class="op" id="7395572">-</span><span class="num" id="7395573">2</span><span class="op" id="7395574">]</span>&nbsp;<span class="op" id="7395576">!=</span>&nbsp;<span class="ident" id="7395579">args</span><span class="op" id="7395583">[</span><span class="builtinfunc" id="7395584">len</span><span class="op" id="7395587">(</span><span class="ident" id="7395588">args</span><span class="op" id="7395592">)</span><span class="op" id="7395593">-</span><span class="num" id="7395594">1</span><span class="op" id="7395595">]</span>&nbsp;<span class="op" id="7395597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7395601">t</span><span class="op" id="7395602">.</span><span class="ident" id="7395603">Errorf</span><span class="op" id="7395609">(</span><span class="ident" id="7395610">msg</span><span class="op" id="7395613">,</span>&nbsp;<span class="ident" id="7395615">args</span><span class="op" id="7395619">...</span><span class="op" id="7395622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7395626">return</span>&nbsp;<span class="builtintype" id="7395633">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395640">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7395643">return</span>&nbsp;<span class="builtintype" id="7395650">true</span><br>
<span class="lineno"></span><span class="op" id="7395655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7395658">func</span>&nbsp;<span class="ident" id="7395663">TestEncode</span><span class="op" id="7395673">(</span><span class="ident" id="7395674">t</span>&nbsp;<span class="op" id="7395676">*</span><span class="ident" id="7395677">testing</span><span class="op" id="7395684">.</span><span class="ident" id="7395685">T</span><span class="op" id="7395686">)</span>&nbsp;<span class="op" id="7395688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7395691">for</span>&nbsp;<span class="ident" id="7395695">_</span><span class="op" id="7395696">,</span>&nbsp;<span class="ident" id="7395698">p</span>&nbsp;<span class="op" id="7395700">:=</span>&nbsp;<span class="keyword" id="7395703">range</span>&nbsp;<span class="ident" id="7395709">pairs</span>&nbsp;<span class="op" id="7395715">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7395719">got</span>&nbsp;<span class="op" id="7395723">:=</span>&nbsp;<span class="ident" id="7395726">StdEncoding</span><span class="op" id="7395737">.</span><span class="ident" id="7395738">EncodeToString</span><span class="op" id="7395752">(</span><span class="op" id="7395753">[</span><span class="op" id="7395754">]</span><span class="builtintype" id="7395755">byte</span><span class="op" id="7395759">(</span><span class="ident" id="7395760">p</span><span class="op" id="7395761">.</span><span class="ident" id="7395762">decoded</span><span class="op" id="7395769">)</span><span class="op" id="7395770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7395774">testEqual</span><span class="op" id="7395783">(</span><span class="ident" id="7395784">t</span><span class="op" id="7395785">,</span>&nbsp;<span class="string" id="7395787">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7395813">,</span>&nbsp;<span class="ident" id="7395815">p</span><span class="op" id="7395816">.</span><span class="ident" id="7395817">decoded</span><span class="op" id="7395824">,</span>&nbsp;<span class="ident" id="7395826">got</span><span class="op" id="7395829">,</span>&nbsp;<span class="ident" id="7395831">p</span><span class="op" id="7395832">.</span><span class="ident" id="7395833">encoded</span><span class="op" id="7395840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7395843">}</span><br>
<span class="lineno"></span><span class="op" id="7395845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7395848">func</span>&nbsp;<span class="ident" id="7395853">TestEncoder</span><span class="op" id="7395864">(</span><span class="ident" id="7395865">t</span>&nbsp;<span class="op" id="7395867">*</span><span class="ident" id="7395868">testing</span><span class="op" id="7395875">.</span><span class="ident" id="7395876">T</span><span class="op" id="7395877">)</span>&nbsp;<span class="op" id="7395879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7395882">for</span>&nbsp;<span class="ident" id="7395886">_</span><span class="op" id="7395887">,</span>&nbsp;<span class="ident" id="7395889">p</span>&nbsp;<span class="op" id="7395891">:=</span>&nbsp;<span class="keyword" id="7395894">range</span>&nbsp;<span class="ident" id="7395900">pairs</span>&nbsp;<span class="op" id="7395906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7395910">bb</span>&nbsp;<span class="op" id="7395913">:=</span>&nbsp;<span class="op" id="7395916">&amp;</span><span class="ident" id="7395917">bytes</span><span class="op" id="7395922">.</span><span class="ident" id="7395923">Buffer</span><span class="op" id="7395929">{</span><span class="op" id="7395930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7395934">encoder</span>&nbsp;<span class="op" id="7395942">:=</span>&nbsp;<span class="ident" id="7395945">NewEncoder</span><span class="op" id="7395955">(</span><span class="ident" id="7395956">StdEncoding</span><span class="op" id="7395967">,</span>&nbsp;<span class="ident" id="7395969">bb</span><span class="op" id="7395971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7395975">encoder</span><span class="op" id="7395982">.</span><span class="ident" id="7395983">Write</span><span class="op" id="7395988">(</span><span class="op" id="7395989">[</span><span class="op" id="7395990">]</span><span class="builtintype" id="7395991">byte</span><span class="op" id="7395995">(</span><span class="ident" id="7395996">p</span><span class="op" id="7395997">.</span><span class="ident" id="7395998">decoded</span><span class="op" id="7396005">)</span><span class="op" id="7396006">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396010">encoder</span><span class="op" id="7396017">.</span><span class="ident" id="7396018">Close</span><span class="op" id="7396023">(</span><span class="op" id="7396024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396028">testEqual</span><span class="op" id="7396037">(</span><span class="ident" id="7396038">t</span><span class="op" id="7396039">,</span>&nbsp;<span class="string" id="7396041">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7396067">,</span>&nbsp;<span class="ident" id="7396069">p</span><span class="op" id="7396070">.</span><span class="ident" id="7396071">decoded</span><span class="op" id="7396078">,</span>&nbsp;<span class="ident" id="7396080">bb</span><span class="op" id="7396082">.</span><span class="ident" id="7396083">String</span><span class="op" id="7396089">(</span><span class="op" id="7396090">)</span><span class="op" id="7396091">,</span>&nbsp;<span class="ident" id="7396093">p</span><span class="op" id="7396094">.</span><span class="ident" id="7396095">encoded</span><span class="op" id="7396102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7396105">}</span><br>
<span class="lineno"></span><span class="op" id="7396107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7396110">func</span>&nbsp;<span class="ident" id="7396115">TestEncoderBuffering</span><span class="op" id="7396135">(</span><span class="ident" id="7396136">t</span>&nbsp;<span class="op" id="7396138">*</span><span class="ident" id="7396139">testing</span><span class="op" id="7396146">.</span><span class="ident" id="7396147">T</span><span class="op" id="7396148">)</span>&nbsp;<span class="op" id="7396150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396153">input</span>&nbsp;<span class="op" id="7396159">:=</span>&nbsp;<span class="op" id="7396162">[</span><span class="op" id="7396163">]</span><span class="builtintype" id="7396164">byte</span><span class="op" id="7396168">(</span><span class="ident" id="7396169">bigtest</span><span class="op" id="7396176">.</span><span class="ident" id="7396177">decoded</span><span class="op" id="7396184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7396187">for</span>&nbsp;<span class="ident" id="7396191">bs</span>&nbsp;<span class="op" id="7396194">:=</span>&nbsp;<span class="num" id="7396197">1</span><span class="op" id="7396198">;</span>&nbsp;<span class="ident" id="7396200">bs</span>&nbsp;<span class="op" id="7396203">&lt;=</span>&nbsp;<span class="num" id="7396206">12</span><span class="op" id="7396208">;</span>&nbsp;<span class="ident" id="7396210">bs</span><span class="op" id="7396212">++</span>&nbsp;<span class="op" id="7396215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396219">bb</span>&nbsp;<span class="op" id="7396222">:=</span>&nbsp;<span class="op" id="7396225">&amp;</span><span class="ident" id="7396226">bytes</span><span class="op" id="7396231">.</span><span class="ident" id="7396232">Buffer</span><span class="op" id="7396238">{</span><span class="op" id="7396239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396243">encoder</span>&nbsp;<span class="op" id="7396251">:=</span>&nbsp;<span class="ident" id="7396254">NewEncoder</span><span class="op" id="7396264">(</span><span class="ident" id="7396265">StdEncoding</span><span class="op" id="7396276">,</span>&nbsp;<span class="ident" id="7396278">bb</span><span class="op" id="7396280">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7396284">for</span>&nbsp;<span class="ident" id="7396288">pos</span>&nbsp;<span class="op" id="7396292">:=</span>&nbsp;<span class="num" id="7396295">0</span><span class="op" id="7396296">;</span>&nbsp;<span class="ident" id="7396298">pos</span>&nbsp;<span class="op" id="7396302">&lt;</span>&nbsp;<span class="builtinfunc" id="7396304">len</span><span class="op" id="7396307">(</span><span class="ident" id="7396308">input</span><span class="op" id="7396313">)</span><span class="op" id="7396314">;</span>&nbsp;<span class="ident" id="7396316">pos</span>&nbsp;<span class="op" id="7396320">+=</span>&nbsp;<span class="ident" id="7396323">bs</span>&nbsp;<span class="op" id="7396326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396331">end</span>&nbsp;<span class="op" id="7396335">:=</span>&nbsp;<span class="ident" id="7396338">pos</span>&nbsp;<span class="op" id="7396342">+</span>&nbsp;<span class="ident" id="7396344">bs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7396350">if</span>&nbsp;<span class="ident" id="7396353">end</span>&nbsp;<span class="op" id="7396357">&gt;</span>&nbsp;<span class="builtinfunc" id="7396359">len</span><span class="op" id="7396362">(</span><span class="ident" id="7396363">input</span><span class="op" id="7396368">)</span>&nbsp;<span class="op" id="7396370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396376">end</span>&nbsp;<span class="op" id="7396380">=</span>&nbsp;<span class="builtinfunc" id="7396382">len</span><span class="op" id="7396385">(</span><span class="ident" id="7396386">input</span><span class="op" id="7396391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7396396">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396401">n</span><span class="op" id="7396402">,</span>&nbsp;<span class="ident" id="7396404">err</span>&nbsp;<span class="op" id="7396408">:=</span>&nbsp;<span class="ident" id="7396411">encoder</span><span class="op" id="7396418">.</span><span class="ident" id="7396419">Write</span><span class="op" id="7396424">(</span><span class="ident" id="7396425">input</span><span class="op" id="7396430">[</span><span class="ident" id="7396431">pos</span><span class="op" id="7396434">:</span><span class="ident" id="7396435">end</span><span class="op" id="7396438">]</span><span class="op" id="7396439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396444">testEqual</span><span class="op" id="7396453">(</span><span class="ident" id="7396454">t</span><span class="op" id="7396455">,</span>&nbsp;<span class="string" id="7396457">&#34;Write(%q)&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7396491">,</span>&nbsp;<span class="ident" id="7396493">input</span><span class="op" id="7396498">[</span><span class="ident" id="7396499">pos</span><span class="op" id="7396502">:</span><span class="ident" id="7396503">end</span><span class="op" id="7396506">]</span><span class="op" id="7396507">,</span>&nbsp;<span class="ident" id="7396509">err</span><span class="op" id="7396512">,</span>&nbsp;<span class="builtintype" id="7396514">error</span><span class="op" id="7396519">(</span><span class="builtintype" id="7396520">nil</span><span class="op" id="7396523">)</span><span class="op" id="7396524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396529">testEqual</span><span class="op" id="7396538">(</span><span class="ident" id="7396539">t</span><span class="op" id="7396540">,</span>&nbsp;<span class="string" id="7396542">&#34;Write(%q)&nbsp;gave&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7396577">,</span>&nbsp;<span class="ident" id="7396579">input</span><span class="op" id="7396584">[</span><span class="ident" id="7396585">pos</span><span class="op" id="7396588">:</span><span class="ident" id="7396589">end</span><span class="op" id="7396592">]</span><span class="op" id="7396593">,</span>&nbsp;<span class="ident" id="7396595">n</span><span class="op" id="7396596">,</span>&nbsp;<span class="ident" id="7396598">end</span><span class="op" id="7396601">-</span><span class="ident" id="7396602">pos</span><span class="op" id="7396605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7396609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396613">err</span>&nbsp;<span class="op" id="7396617">:=</span>&nbsp;<span class="ident" id="7396620">encoder</span><span class="op" id="7396627">.</span><span class="ident" id="7396628">Close</span><span class="op" id="7396633">(</span><span class="op" id="7396634">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396638">testEqual</span><span class="op" id="7396647">(</span><span class="ident" id="7396648">t</span><span class="op" id="7396649">,</span>&nbsp;<span class="string" id="7396651">&#34;Close&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7396681">,</span>&nbsp;<span class="ident" id="7396683">err</span><span class="op" id="7396686">,</span>&nbsp;<span class="builtintype" id="7396688">error</span><span class="op" id="7396693">(</span><span class="builtintype" id="7396694">nil</span><span class="op" id="7396697">)</span><span class="op" id="7396698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396702">testEqual</span><span class="op" id="7396711">(</span><span class="ident" id="7396712">t</span><span class="op" id="7396713">,</span>&nbsp;<span class="string" id="7396715">&#34;Encoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7396748">,</span>&nbsp;<span class="ident" id="7396750">bs</span><span class="op" id="7396752">,</span>&nbsp;<span class="ident" id="7396754">bigtest</span><span class="op" id="7396761">.</span><span class="ident" id="7396762">decoded</span><span class="op" id="7396769">,</span>&nbsp;<span class="ident" id="7396771">bb</span><span class="op" id="7396773">.</span><span class="ident" id="7396774">String</span><span class="op" id="7396780">(</span><span class="op" id="7396781">)</span><span class="op" id="7396782">,</span>&nbsp;<span class="ident" id="7396784">bigtest</span><span class="op" id="7396791">.</span><span class="ident" id="7396792">encoded</span><span class="op" id="7396799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7396802">}</span><br>
<span class="lineno"></span><span class="op" id="7396804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7396807">func</span>&nbsp;<span class="ident" id="7396812">TestDecode</span><span class="op" id="7396822">(</span><span class="ident" id="7396823">t</span>&nbsp;<span class="op" id="7396825">*</span><span class="ident" id="7396826">testing</span><span class="op" id="7396833">.</span><span class="ident" id="7396834">T</span><span class="op" id="7396835">)</span>&nbsp;<span class="op" id="7396837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7396840">for</span>&nbsp;<span class="ident" id="7396844">_</span><span class="op" id="7396845">,</span>&nbsp;<span class="ident" id="7396847">p</span>&nbsp;<span class="op" id="7396849">:=</span>&nbsp;<span class="keyword" id="7396852">range</span>&nbsp;<span class="ident" id="7396858">pairs</span>&nbsp;<span class="op" id="7396864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396868">dbuf</span>&nbsp;<span class="op" id="7396873">:=</span>&nbsp;<span class="builtinfunc" id="7396876">make</span><span class="op" id="7396880">(</span><span class="op" id="7396881">[</span><span class="op" id="7396882">]</span><span class="builtintype" id="7396883">byte</span><span class="op" id="7396887">,</span>&nbsp;<span class="ident" id="7396889">StdEncoding</span><span class="op" id="7396900">.</span><span class="ident" id="7396901">DecodedLen</span><span class="op" id="7396911">(</span><span class="builtinfunc" id="7396912">len</span><span class="op" id="7396915">(</span><span class="ident" id="7396916">p</span><span class="op" id="7396917">.</span><span class="ident" id="7396918">encoded</span><span class="op" id="7396925">)</span><span class="op" id="7396926">)</span><span class="op" id="7396927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396931">count</span><span class="op" id="7396936">,</span>&nbsp;<span class="ident" id="7396938">end</span><span class="op" id="7396941">,</span>&nbsp;<span class="ident" id="7396943">err</span>&nbsp;<span class="op" id="7396947">:=</span>&nbsp;<span class="ident" id="7396950">StdEncoding</span><span class="op" id="7396961">.</span><span class="ident" id="7396962">decode</span><span class="op" id="7396968">(</span><span class="ident" id="7396969">dbuf</span><span class="op" id="7396973">,</span>&nbsp;<span class="op" id="7396975">[</span><span class="op" id="7396976">]</span><span class="builtintype" id="7396977">byte</span><span class="op" id="7396981">(</span><span class="ident" id="7396982">p</span><span class="op" id="7396983">.</span><span class="ident" id="7396984">encoded</span><span class="op" id="7396991">)</span><span class="op" id="7396992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7396996">testEqual</span><span class="op" id="7397005">(</span><span class="ident" id="7397006">t</span><span class="op" id="7397007">,</span>&nbsp;<span class="string" id="7397009">&#34;Decode(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7397041">,</span>&nbsp;<span class="ident" id="7397043">p</span><span class="op" id="7397044">.</span><span class="ident" id="7397045">encoded</span><span class="op" id="7397052">,</span>&nbsp;<span class="ident" id="7397054">err</span><span class="op" id="7397057">,</span>&nbsp;<span class="builtintype" id="7397059">error</span><span class="op" id="7397064">(</span><span class="builtintype" id="7397065">nil</span><span class="op" id="7397068">)</span><span class="op" id="7397069">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397073">testEqual</span><span class="op" id="7397082">(</span><span class="ident" id="7397083">t</span><span class="op" id="7397084">,</span>&nbsp;<span class="string" id="7397086">&#34;Decode(%q)&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7397119">,</span>&nbsp;<span class="ident" id="7397121">p</span><span class="op" id="7397122">.</span><span class="ident" id="7397123">encoded</span><span class="op" id="7397130">,</span>&nbsp;<span class="ident" id="7397132">count</span><span class="op" id="7397137">,</span>&nbsp;<span class="builtinfunc" id="7397139">len</span><span class="op" id="7397142">(</span><span class="ident" id="7397143">p</span><span class="op" id="7397144">.</span><span class="ident" id="7397145">decoded</span><span class="op" id="7397152">)</span><span class="op" id="7397153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7397157">if</span>&nbsp;<span class="builtinfunc" id="7397160">len</span><span class="op" id="7397163">(</span><span class="ident" id="7397164">p</span><span class="op" id="7397165">.</span><span class="ident" id="7397166">encoded</span><span class="op" id="7397173">)</span>&nbsp;<span class="op" id="7397175">&gt;</span>&nbsp;<span class="num" id="7397177">0</span>&nbsp;<span class="op" id="7397179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397184">testEqual</span><span class="op" id="7397193">(</span><span class="ident" id="7397194">t</span><span class="op" id="7397195">,</span>&nbsp;<span class="string" id="7397197">&#34;Decode(%q)&nbsp;=&nbsp;end&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7397227">,</span>&nbsp;<span class="ident" id="7397229">p</span><span class="op" id="7397230">.</span><span class="ident" id="7397231">encoded</span><span class="op" id="7397238">,</span>&nbsp;<span class="ident" id="7397240">end</span><span class="op" id="7397243">,</span>&nbsp;<span class="op" id="7397245">(</span><span class="ident" id="7397246">p</span><span class="op" id="7397247">.</span><span class="ident" id="7397248">encoded</span><span class="op" id="7397255">[</span><span class="builtinfunc" id="7397256">len</span><span class="op" id="7397259">(</span><span class="ident" id="7397260">p</span><span class="op" id="7397261">.</span><span class="ident" id="7397262">encoded</span><span class="op" id="7397269">)</span><span class="op" id="7397270">-</span><span class="num" id="7397271">1</span><span class="op" id="7397272">]</span>&nbsp;<span class="op" id="7397274">==</span>&nbsp;<span class="string" id="7397277">&#39;=&#39;</span><span class="op" id="7397280">)</span><span class="op" id="7397281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7397285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397289">testEqual</span><span class="op" id="7397298">(</span><span class="ident" id="7397299">t</span><span class="op" id="7397300">,</span>&nbsp;<span class="string" id="7397302">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7397328">,</span>&nbsp;<span class="ident" id="7397330">p</span><span class="op" id="7397331">.</span><span class="ident" id="7397332">encoded</span><span class="op" id="7397339">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7397344">string</span><span class="op" id="7397350">(</span><span class="ident" id="7397351">dbuf</span><span class="op" id="7397355">[</span><span class="num" id="7397356">0</span><span class="op" id="7397357">:</span><span class="ident" id="7397358">count</span><span class="op" id="7397363">]</span><span class="op" id="7397364">)</span><span class="op" id="7397365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397370">p</span><span class="op" id="7397371">.</span><span class="ident" id="7397372">decoded</span><span class="op" id="7397379">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397384">dbuf</span><span class="op" id="7397388">,</span>&nbsp;<span class="ident" id="7397390">err</span>&nbsp;<span class="op" id="7397394">=</span>&nbsp;<span class="ident" id="7397396">StdEncoding</span><span class="op" id="7397407">.</span><span class="ident" id="7397408">DecodeString</span><span class="op" id="7397420">(</span><span class="ident" id="7397421">p</span><span class="op" id="7397422">.</span><span class="ident" id="7397423">encoded</span><span class="op" id="7397430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397434">testEqual</span><span class="op" id="7397443">(</span><span class="ident" id="7397444">t</span><span class="op" id="7397445">,</span>&nbsp;<span class="string" id="7397447">&#34;DecodeString(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7397485">,</span>&nbsp;<span class="ident" id="7397487">p</span><span class="op" id="7397488">.</span><span class="ident" id="7397489">encoded</span><span class="op" id="7397496">,</span>&nbsp;<span class="ident" id="7397498">err</span><span class="op" id="7397501">,</span>&nbsp;<span class="builtintype" id="7397503">error</span><span class="op" id="7397508">(</span><span class="builtintype" id="7397509">nil</span><span class="op" id="7397512">)</span><span class="op" id="7397513">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397517">testEqual</span><span class="op" id="7397526">(</span><span class="ident" id="7397527">t</span><span class="op" id="7397528">,</span>&nbsp;<span class="string" id="7397530">&#34;DecodeString(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7397562">,</span>&nbsp;<span class="ident" id="7397564">p</span><span class="op" id="7397565">.</span><span class="ident" id="7397566">encoded</span><span class="op" id="7397573">,</span>&nbsp;<span class="builtintype" id="7397575">string</span><span class="op" id="7397581">(</span><span class="ident" id="7397582">dbuf</span><span class="op" id="7397586">)</span><span class="op" id="7397587">,</span>&nbsp;<span class="ident" id="7397589">p</span><span class="op" id="7397590">.</span><span class="ident" id="7397591">decoded</span><span class="op" id="7397598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7397601">}</span><br>
<span class="lineno"></span><span class="op" id="7397603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7397606">func</span>&nbsp;<span class="ident" id="7397611">TestDecoder</span><span class="op" id="7397622">(</span><span class="ident" id="7397623">t</span>&nbsp;<span class="op" id="7397625">*</span><span class="ident" id="7397626">testing</span><span class="op" id="7397633">.</span><span class="ident" id="7397634">T</span><span class="op" id="7397635">)</span>&nbsp;<span class="op" id="7397637">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7397640">for</span>&nbsp;<span class="ident" id="7397644">_</span><span class="op" id="7397645">,</span>&nbsp;<span class="ident" id="7397647">p</span>&nbsp;<span class="op" id="7397649">:=</span>&nbsp;<span class="keyword" id="7397652">range</span>&nbsp;<span class="ident" id="7397658">pairs</span>&nbsp;<span class="op" id="7397664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397668">decoder</span>&nbsp;<span class="op" id="7397676">:=</span>&nbsp;<span class="ident" id="7397679">NewDecoder</span><span class="op" id="7397689">(</span><span class="ident" id="7397690">StdEncoding</span><span class="op" id="7397701">,</span>&nbsp;<span class="ident" id="7397703">strings</span><span class="op" id="7397710">.</span><span class="ident" id="7397711">NewReader</span><span class="op" id="7397720">(</span><span class="ident" id="7397721">p</span><span class="op" id="7397722">.</span><span class="ident" id="7397723">encoded</span><span class="op" id="7397730">)</span><span class="op" id="7397731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397735">dbuf</span>&nbsp;<span class="op" id="7397740">:=</span>&nbsp;<span class="builtinfunc" id="7397743">make</span><span class="op" id="7397747">(</span><span class="op" id="7397748">[</span><span class="op" id="7397749">]</span><span class="builtintype" id="7397750">byte</span><span class="op" id="7397754">,</span>&nbsp;<span class="ident" id="7397756">StdEncoding</span><span class="op" id="7397767">.</span><span class="ident" id="7397768">DecodedLen</span><span class="op" id="7397778">(</span><span class="builtinfunc" id="7397779">len</span><span class="op" id="7397782">(</span><span class="ident" id="7397783">p</span><span class="op" id="7397784">.</span><span class="ident" id="7397785">encoded</span><span class="op" id="7397792">)</span><span class="op" id="7397793">)</span><span class="op" id="7397794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397798">count</span><span class="op" id="7397803">,</span>&nbsp;<span class="ident" id="7397805">err</span>&nbsp;<span class="op" id="7397809">:=</span>&nbsp;<span class="ident" id="7397812">decoder</span><span class="op" id="7397819">.</span><span class="ident" id="7397820">Read</span><span class="op" id="7397824">(</span><span class="ident" id="7397825">dbuf</span><span class="op" id="7397829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7397833">if</span>&nbsp;<span class="ident" id="7397836">err</span>&nbsp;<span class="op" id="7397840">!=</span>&nbsp;<span class="builtintype" id="7397843">nil</span>&nbsp;<span class="op" id="7397847">&amp;&amp;</span>&nbsp;<span class="ident" id="7397850">err</span>&nbsp;<span class="op" id="7397854">!=</span>&nbsp;<span class="ident" id="7397857">io</span><span class="op" id="7397859">.</span><span class="ident" id="7397860">EOF</span>&nbsp;<span class="op" id="7397864">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397869">t</span><span class="op" id="7397870">.</span><span class="ident" id="7397871">Fatal</span><span class="op" id="7397876">(</span><span class="string" id="7397877">&#34;Read&nbsp;failed&#34;</span><span class="op" id="7397890">,</span>&nbsp;<span class="ident" id="7397892">err</span><span class="op" id="7397895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7397899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397903">testEqual</span><span class="op" id="7397912">(</span><span class="ident" id="7397913">t</span><span class="op" id="7397914">,</span>&nbsp;<span class="string" id="7397916">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7397951">,</span>&nbsp;<span class="ident" id="7397953">p</span><span class="op" id="7397954">.</span><span class="ident" id="7397955">encoded</span><span class="op" id="7397962">,</span>&nbsp;<span class="ident" id="7397964">count</span><span class="op" id="7397969">,</span>&nbsp;<span class="builtinfunc" id="7397971">len</span><span class="op" id="7397974">(</span><span class="ident" id="7397975">p</span><span class="op" id="7397976">.</span><span class="ident" id="7397977">decoded</span><span class="op" id="7397984">)</span><span class="op" id="7397985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7397989">testEqual</span><span class="op" id="7397998">(</span><span class="ident" id="7397999">t</span><span class="op" id="7398000">,</span>&nbsp;<span class="string" id="7398002">&#34;Decoding&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7398032">,</span>&nbsp;<span class="ident" id="7398034">p</span><span class="op" id="7398035">.</span><span class="ident" id="7398036">encoded</span><span class="op" id="7398043">,</span>&nbsp;<span class="builtintype" id="7398045">string</span><span class="op" id="7398051">(</span><span class="ident" id="7398052">dbuf</span><span class="op" id="7398056">[</span><span class="num" id="7398057">0</span><span class="op" id="7398058">:</span><span class="ident" id="7398059">count</span><span class="op" id="7398064">]</span><span class="op" id="7398065">)</span><span class="op" id="7398066">,</span>&nbsp;<span class="ident" id="7398068">p</span><span class="op" id="7398069">.</span><span class="ident" id="7398070">decoded</span><span class="op" id="7398077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7398081">if</span>&nbsp;<span class="ident" id="7398084">err</span>&nbsp;<span class="op" id="7398088">!=</span>&nbsp;<span class="ident" id="7398091">io</span><span class="op" id="7398093">.</span><span class="ident" id="7398094">EOF</span>&nbsp;<span class="op" id="7398098">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398103">count</span><span class="op" id="7398108">,</span>&nbsp;<span class="ident" id="7398110">err</span>&nbsp;<span class="op" id="7398114">=</span>&nbsp;<span class="ident" id="7398116">decoder</span><span class="op" id="7398123">.</span><span class="ident" id="7398124">Read</span><span class="op" id="7398128">(</span><span class="ident" id="7398129">dbuf</span><span class="op" id="7398133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398141">testEqual</span><span class="op" id="7398150">(</span><span class="ident" id="7398151">t</span><span class="op" id="7398152">,</span>&nbsp;<span class="string" id="7398154">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7398182">,</span>&nbsp;<span class="ident" id="7398184">p</span><span class="op" id="7398185">.</span><span class="ident" id="7398186">encoded</span><span class="op" id="7398193">,</span>&nbsp;<span class="ident" id="7398195">err</span><span class="op" id="7398198">,</span>&nbsp;<span class="ident" id="7398200">io</span><span class="op" id="7398202">.</span><span class="ident" id="7398203">EOF</span><span class="op" id="7398206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398209">}</span><br>
<span class="lineno"></span><span class="op" id="7398211">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="7398214">func</span>&nbsp;<span class="ident" id="7398219">TestDecoderBuffering</span><span class="op" id="7398239">(</span><span class="ident" id="7398240">t</span>&nbsp;<span class="op" id="7398242">*</span><span class="ident" id="7398243">testing</span><span class="op" id="7398250">.</span><span class="ident" id="7398251">T</span><span class="op" id="7398252">)</span>&nbsp;<span class="op" id="7398254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7398257">for</span>&nbsp;<span class="ident" id="7398261">bs</span>&nbsp;<span class="op" id="7398264">:=</span>&nbsp;<span class="num" id="7398267">1</span><span class="op" id="7398268">;</span>&nbsp;<span class="ident" id="7398270">bs</span>&nbsp;<span class="op" id="7398273">&lt;=</span>&nbsp;<span class="num" id="7398276">12</span><span class="op" id="7398278">;</span>&nbsp;<span class="ident" id="7398280">bs</span><span class="op" id="7398282">++</span>&nbsp;<span class="op" id="7398285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398289">decoder</span>&nbsp;<span class="op" id="7398297">:=</span>&nbsp;<span class="ident" id="7398300">NewDecoder</span><span class="op" id="7398310">(</span><span class="ident" id="7398311">StdEncoding</span><span class="op" id="7398322">,</span>&nbsp;<span class="ident" id="7398324">strings</span><span class="op" id="7398331">.</span><span class="ident" id="7398332">NewReader</span><span class="op" id="7398341">(</span><span class="ident" id="7398342">bigtest</span><span class="op" id="7398349">.</span><span class="ident" id="7398350">encoded</span><span class="op" id="7398357">)</span><span class="op" id="7398358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398362">buf</span>&nbsp;<span class="op" id="7398366">:=</span>&nbsp;<span class="builtinfunc" id="7398369">make</span><span class="op" id="7398373">(</span><span class="op" id="7398374">[</span><span class="op" id="7398375">]</span><span class="builtintype" id="7398376">byte</span><span class="op" id="7398380">,</span>&nbsp;<span class="builtinfunc" id="7398382">len</span><span class="op" id="7398385">(</span><span class="ident" id="7398386">bigtest</span><span class="op" id="7398393">.</span><span class="ident" id="7398394">decoded</span><span class="op" id="7398401">)</span><span class="op" id="7398402">+</span><span class="num" id="7398403">12</span><span class="op" id="7398405">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7398409">var</span>&nbsp;<span class="ident" id="7398413">total</span>&nbsp;<span class="builtintype" id="7398419">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7398425">for</span>&nbsp;<span class="ident" id="7398429">total</span>&nbsp;<span class="op" id="7398435">=</span>&nbsp;<span class="num" id="7398437">0</span><span class="op" id="7398438">;</span>&nbsp;<span class="ident" id="7398440">total</span>&nbsp;<span class="op" id="7398446">&lt;</span>&nbsp;<span class="builtinfunc" id="7398448">len</span><span class="op" id="7398451">(</span><span class="ident" id="7398452">bigtest</span><span class="op" id="7398459">.</span><span class="ident" id="7398460">decoded</span><span class="op" id="7398467">)</span><span class="op" id="7398468">;</span>&nbsp;<span class="op" id="7398470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398475">n</span><span class="op" id="7398476">,</span>&nbsp;<span class="ident" id="7398478">err</span>&nbsp;<span class="op" id="7398482">:=</span>&nbsp;<span class="ident" id="7398485">decoder</span><span class="op" id="7398492">.</span><span class="ident" id="7398493">Read</span><span class="op" id="7398497">(</span><span class="ident" id="7398498">buf</span><span class="op" id="7398501">[</span><span class="ident" id="7398502">total</span>&nbsp;<span class="op" id="7398508">:</span>&nbsp;<span class="ident" id="7398510">total</span><span class="op" id="7398515">+</span><span class="ident" id="7398516">bs</span><span class="op" id="7398518">]</span><span class="op" id="7398519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398524">testEqual</span><span class="op" id="7398533">(</span><span class="ident" id="7398534">t</span><span class="op" id="7398535">,</span>&nbsp;<span class="string" id="7398537">&#34;Read&nbsp;from&nbsp;%q&nbsp;at&nbsp;pos&nbsp;%d&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;%v&#34;</span><span class="op" id="7398582">,</span>&nbsp;<span class="ident" id="7398584">bigtest</span><span class="op" id="7398591">.</span><span class="ident" id="7398592">encoded</span><span class="op" id="7398599">,</span>&nbsp;<span class="ident" id="7398601">total</span><span class="op" id="7398606">,</span>&nbsp;<span class="ident" id="7398608">n</span><span class="op" id="7398609">,</span>&nbsp;<span class="ident" id="7398611">err</span><span class="op" id="7398614">,</span>&nbsp;<span class="builtintype" id="7398616">error</span><span class="op" id="7398621">(</span><span class="builtintype" id="7398622">nil</span><span class="op" id="7398625">)</span><span class="op" id="7398626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398631">total</span>&nbsp;<span class="op" id="7398637">+=</span>&nbsp;<span class="ident" id="7398640">n</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398648">testEqual</span><span class="op" id="7398657">(</span><span class="ident" id="7398658">t</span><span class="op" id="7398659">,</span>&nbsp;<span class="string" id="7398661">&#34;Decoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7398694">,</span>&nbsp;<span class="ident" id="7398696">bs</span><span class="op" id="7398698">,</span>&nbsp;<span class="ident" id="7398700">bigtest</span><span class="op" id="7398707">.</span><span class="ident" id="7398708">encoded</span><span class="op" id="7398715">,</span>&nbsp;<span class="builtintype" id="7398717">string</span><span class="op" id="7398723">(</span><span class="ident" id="7398724">buf</span><span class="op" id="7398727">[</span><span class="num" id="7398728">0</span><span class="op" id="7398729">:</span><span class="ident" id="7398730">total</span><span class="op" id="7398735">]</span><span class="op" id="7398736">)</span><span class="op" id="7398737">,</span>&nbsp;<span class="ident" id="7398739">bigtest</span><span class="op" id="7398746">.</span><span class="ident" id="7398747">decoded</span><span class="op" id="7398754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398757">}</span><br>
<span class="lineno"></span><span class="op" id="7398759">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7398762">func</span>&nbsp;<span class="ident" id="7398767">TestDecodeCorrupt</span><span class="op" id="7398784">(</span><span class="ident" id="7398785">t</span>&nbsp;<span class="op" id="7398787">*</span><span class="ident" id="7398788">testing</span><span class="op" id="7398795">.</span><span class="ident" id="7398796">T</span><span class="op" id="7398797">)</span>&nbsp;<span class="op" id="7398799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398802">testCases</span>&nbsp;<span class="op" id="7398812">:=</span>&nbsp;<span class="op" id="7398815">[</span><span class="op" id="7398816">]</span><span class="keyword" id="7398817">struct</span>&nbsp;<span class="op" id="7398824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398828">input</span>&nbsp;&nbsp;<span class="builtintype" id="7398835">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7398844">offset</span>&nbsp;<span class="builtintype" id="7398851">int</span>&nbsp;<span class="comment" id="7398855">//&nbsp;-1&nbsp;means&nbsp;no&nbsp;corruption.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398883">}</span><span class="op" id="7398884">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398888">{</span><span class="string" id="7398889">&#34;&#34;</span><span class="op" id="7398891">,</span>&nbsp;<span class="op" id="7398893">-</span><span class="num" id="7398894">1</span><span class="op" id="7398895">}</span><span class="op" id="7398896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398900">{</span><span class="string" id="7398901">&#34;!!!!&#34;</span><span class="op" id="7398907">,</span>&nbsp;<span class="num" id="7398909">0</span><span class="op" id="7398910">}</span><span class="op" id="7398911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398915">{</span><span class="string" id="7398916">&#34;x===&#34;</span><span class="op" id="7398922">,</span>&nbsp;<span class="num" id="7398924">0</span><span class="op" id="7398925">}</span><span class="op" id="7398926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398930">{</span><span class="string" id="7398931">&#34;AA=A====&#34;</span><span class="op" id="7398941">,</span>&nbsp;<span class="num" id="7398943">2</span><span class="op" id="7398944">}</span><span class="op" id="7398945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398949">{</span><span class="string" id="7398950">&#34;AAA=AAAA&#34;</span><span class="op" id="7398960">,</span>&nbsp;<span class="num" id="7398962">3</span><span class="op" id="7398963">}</span><span class="op" id="7398964">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398968">{</span><span class="string" id="7398969">&#34;MMMMMMMMM&#34;</span><span class="op" id="7398980">,</span>&nbsp;<span class="num" id="7398982">8</span><span class="op" id="7398983">}</span><span class="op" id="7398984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398988">{</span><span class="string" id="7398989">&#34;MMMMMM&#34;</span><span class="op" id="7398997">,</span>&nbsp;<span class="num" id="7398999">0</span><span class="op" id="7399000">}</span><span class="op" id="7399001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399005">{</span><span class="string" id="7399006">&#34;A=&#34;</span><span class="op" id="7399010">,</span>&nbsp;<span class="num" id="7399012">1</span><span class="op" id="7399013">}</span><span class="op" id="7399014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399018">{</span><span class="string" id="7399019">&#34;AA=&#34;</span><span class="op" id="7399024">,</span>&nbsp;<span class="num" id="7399026">3</span><span class="op" id="7399027">}</span><span class="op" id="7399028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399032">{</span><span class="string" id="7399033">&#34;AA==&#34;</span><span class="op" id="7399039">,</span>&nbsp;<span class="num" id="7399041">4</span><span class="op" id="7399042">}</span><span class="op" id="7399043">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399047">{</span><span class="string" id="7399048">&#34;AA===&#34;</span><span class="op" id="7399055">,</span>&nbsp;<span class="num" id="7399057">5</span><span class="op" id="7399058">}</span><span class="op" id="7399059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399063">{</span><span class="string" id="7399064">&#34;AAAA=&#34;</span><span class="op" id="7399071">,</span>&nbsp;<span class="num" id="7399073">5</span><span class="op" id="7399074">}</span><span class="op" id="7399075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399079">{</span><span class="string" id="7399080">&#34;AAAA==&#34;</span><span class="op" id="7399088">,</span>&nbsp;<span class="num" id="7399090">6</span><span class="op" id="7399091">}</span><span class="op" id="7399092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399096">{</span><span class="string" id="7399097">&#34;AAAAA=&#34;</span><span class="op" id="7399105">,</span>&nbsp;<span class="num" id="7399107">6</span><span class="op" id="7399108">}</span><span class="op" id="7399109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399113">{</span><span class="string" id="7399114">&#34;AAAAA==&#34;</span><span class="op" id="7399123">,</span>&nbsp;<span class="num" id="7399125">7</span><span class="op" id="7399126">}</span><span class="op" id="7399127">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399131">{</span><span class="string" id="7399132">&#34;A=======&#34;</span><span class="op" id="7399142">,</span>&nbsp;<span class="num" id="7399144">1</span><span class="op" id="7399145">}</span><span class="op" id="7399146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399150">{</span><span class="string" id="7399151">&#34;AA======&#34;</span><span class="op" id="7399161">,</span>&nbsp;<span class="op" id="7399163">-</span><span class="num" id="7399164">1</span><span class="op" id="7399165">}</span><span class="op" id="7399166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399170">{</span><span class="string" id="7399171">&#34;AAA=====&#34;</span><span class="op" id="7399181">,</span>&nbsp;<span class="num" id="7399183">3</span><span class="op" id="7399184">}</span><span class="op" id="7399185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399189">{</span><span class="string" id="7399190">&#34;AAAA====&#34;</span><span class="op" id="7399200">,</span>&nbsp;<span class="op" id="7399202">-</span><span class="num" id="7399203">1</span><span class="op" id="7399204">}</span><span class="op" id="7399205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399209">{</span><span class="string" id="7399210">&#34;AAAAA===&#34;</span><span class="op" id="7399220">,</span>&nbsp;<span class="op" id="7399222">-</span><span class="num" id="7399223">1</span><span class="op" id="7399224">}</span><span class="op" id="7399225">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399229">{</span><span class="string" id="7399230">&#34;AAAAAA==&#34;</span><span class="op" id="7399240">,</span>&nbsp;<span class="num" id="7399242">6</span><span class="op" id="7399243">}</span><span class="op" id="7399244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399248">{</span><span class="string" id="7399249">&#34;AAAAAAA=&#34;</span><span class="op" id="7399259">,</span>&nbsp;<span class="op" id="7399261">-</span><span class="num" id="7399262">1</span><span class="op" id="7399263">}</span><span class="op" id="7399264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399268">{</span><span class="string" id="7399269">&#34;AAAAAAAA&#34;</span><span class="op" id="7399279">,</span>&nbsp;<span class="op" id="7399281">-</span><span class="num" id="7399282">1</span><span class="op" id="7399283">}</span><span class="op" id="7399284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7399290">for</span>&nbsp;<span class="ident" id="7399294">_</span><span class="op" id="7399295">,</span>&nbsp;<span class="ident" id="7399297">tc</span>&nbsp;<span class="op" id="7399300">:=</span>&nbsp;<span class="keyword" id="7399303">range</span>&nbsp;<span class="ident" id="7399309">testCases</span>&nbsp;<span class="op" id="7399319">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7399323">dbuf</span>&nbsp;<span class="op" id="7399328">:=</span>&nbsp;<span class="builtinfunc" id="7399331">make</span><span class="op" id="7399335">(</span><span class="op" id="7399336">[</span><span class="op" id="7399337">]</span><span class="builtintype" id="7399338">byte</span><span class="op" id="7399342">,</span>&nbsp;<span class="ident" id="7399344">StdEncoding</span><span class="op" id="7399355">.</span><span class="ident" id="7399356">DecodedLen</span><span class="op" id="7399366">(</span><span class="builtinfunc" id="7399367">len</span><span class="op" id="7399370">(</span><span class="ident" id="7399371">tc</span><span class="op" id="7399373">.</span><span class="ident" id="7399374">input</span><span class="op" id="7399379">)</span><span class="op" id="7399380">)</span><span class="op" id="7399381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7399385">_</span><span class="op" id="7399386">,</span>&nbsp;<span class="ident" id="7399388">err</span>&nbsp;<span class="op" id="7399392">:=</span>&nbsp;<span class="ident" id="7399395">StdEncoding</span><span class="op" id="7399406">.</span><span class="ident" id="7399407">Decode</span><span class="op" id="7399413">(</span><span class="ident" id="7399414">dbuf</span><span class="op" id="7399418">,</span>&nbsp;<span class="op" id="7399420">[</span><span class="op" id="7399421">]</span><span class="builtintype" id="7399422">byte</span><span class="op" id="7399426">(</span><span class="ident" id="7399427">tc</span><span class="op" id="7399429">.</span><span class="ident" id="7399430">input</span><span class="op" id="7399435">)</span><span class="op" id="7399436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7399440">if</span>&nbsp;<span class="ident" id="7399443">tc</span><span class="op" id="7399445">.</span><span class="ident" id="7399446">offset</span>&nbsp;<span class="op" id="7399453">==</span>&nbsp;<span class="op" id="7399456">-</span><span class="num" id="7399457">1</span>&nbsp;<span class="op" id="7399459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7399464">if</span>&nbsp;<span class="ident" id="7399467">err</span>&nbsp;<span class="op" id="7399471">!=</span>&nbsp;<span class="builtintype" id="7399474">nil</span>&nbsp;<span class="op" id="7399478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7399484">t</span><span class="op" id="7399485">.</span><span class="ident" id="7399486">Error</span><span class="op" id="7399491">(</span><span class="string" id="7399492">&#34;Decoder&nbsp;wrongly&nbsp;detected&nbsp;coruption&nbsp;in&#34;</span><span class="op" id="7399531">,</span>&nbsp;<span class="ident" id="7399533">tc</span><span class="op" id="7399535">.</span><span class="ident" id="7399536">input</span><span class="op" id="7399541">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7399551">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7399566">switch</span>&nbsp;<span class="ident" id="7399573">err</span>&nbsp;<span class="op" id="7399577">:=</span>&nbsp;<span class="ident" id="7399580">err</span><span class="op" id="7399583">.</span><span class="op" id="7399584">(</span><span class="keyword" id="7399585">type</span><span class="op" id="7399589">)</span>&nbsp;<span class="op" id="7399591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7399595">case</span>&nbsp;<span class="ident" id="7399600">CorruptInputError</span><span class="op" id="7399617">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7399622">testEqual</span><span class="op" id="7399631">(</span><span class="ident" id="7399632">t</span><span class="op" id="7399633">,</span>&nbsp;<span class="string" id="7399635">&#34;Corruption&nbsp;in&nbsp;%q&nbsp;at&nbsp;offset&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7399675">,</span>&nbsp;<span class="ident" id="7399677">tc</span><span class="op" id="7399679">.</span><span class="ident" id="7399680">input</span><span class="op" id="7399685">,</span>&nbsp;<span class="builtintype" id="7399687">int</span><span class="op" id="7399690">(</span><span class="ident" id="7399691">err</span><span class="op" id="7399694">)</span><span class="op" id="7399695">,</span>&nbsp;<span class="ident" id="7399697">tc</span><span class="op" id="7399699">.</span><span class="ident" id="7399700">offset</span><span class="op" id="7399706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7399710">default</span><span class="op" id="7399717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7399722">t</span><span class="op" id="7399723">.</span><span class="ident" id="7399724">Error</span><span class="op" id="7399729">(</span><span class="string" id="7399730">&#34;Decoder&nbsp;failed&nbsp;to&nbsp;detect&nbsp;corruption&nbsp;in&#34;</span><span class="op" id="7399770">,</span>&nbsp;<span class="ident" id="7399772">tc</span><span class="op" id="7399774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399781">}</span><br>
<span class="lineno">185</span><span class="op" id="7399783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7399786">func</span>&nbsp;<span class="ident" id="7399791">TestBig</span><span class="op" id="7399798">(</span><span class="ident" id="7399799">t</span>&nbsp;<span class="op" id="7399801">*</span><span class="ident" id="7399802">testing</span><span class="op" id="7399809">.</span><span class="ident" id="7399810">T</span><span class="op" id="7399811">)</span>&nbsp;<span class="op" id="7399813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7399816">n</span>&nbsp;<span class="op" id="7399818">:=</span>&nbsp;<span class="num" id="7399821">3</span><span class="op" id="7399822">*</span><span class="num" id="7399823">1000</span>&nbsp;<span class="op" id="7399828">+</span>&nbsp;<span class="num" id="7399830">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7399833">raw</span>&nbsp;<span class="op" id="7399837">:=</span>&nbsp;<span class="builtinfunc" id="7399840">make</span><span class="op" id="7399844">(</span><span class="op" id="7399845">[</span><span class="op" id="7399846">]</span><span class="builtintype" id="7399847">byte</span><span class="op" id="7399851">,</span>&nbsp;<span class="ident" id="7399853">n</span><span class="op" id="7399854">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7399857">const</span>&nbsp;<span class="ident" id="7399863">alpha</span>&nbsp;<span class="op" id="7399869">=</span>&nbsp;<span class="string" id="7399871">&#34;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7399937">for</span>&nbsp;<span class="ident" id="7399941">i</span>&nbsp;<span class="op" id="7399943">:=</span>&nbsp;<span class="num" id="7399946">0</span><span class="op" id="7399947">;</span>&nbsp;<span class="ident" id="7399949">i</span>&nbsp;<span class="op" id="7399951">&lt;</span>&nbsp;<span class="ident" id="7399953">n</span><span class="op" id="7399954">;</span>&nbsp;<span class="ident" id="7399956">i</span><span class="op" id="7399957">++</span>&nbsp;<span class="op" id="7399960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7399964">raw</span><span class="op" id="7399967">[</span><span class="ident" id="7399968">i</span><span class="op" id="7399969">]</span>&nbsp;<span class="op" id="7399971">=</span>&nbsp;<span class="ident" id="7399973">alpha</span><span class="op" id="7399978">[</span><span class="ident" id="7399979">i</span><span class="op" id="7399980">%</span><span class="builtinfunc" id="7399981">len</span><span class="op" id="7399984">(</span><span class="ident" id="7399985">alpha</span><span class="op" id="7399990">)</span><span class="op" id="7399991">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7399994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7399997">encoded</span>&nbsp;<span class="op" id="7400005">:=</span>&nbsp;<span class="builtinfunc" id="7400008">new</span><span class="op" id="7400011">(</span><span class="ident" id="7400012">bytes</span><span class="op" id="7400017">.</span><span class="ident" id="7400018">Buffer</span><span class="op" id="7400024">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400027">w</span>&nbsp;<span class="op" id="7400029">:=</span>&nbsp;<span class="ident" id="7400032">NewEncoder</span><span class="op" id="7400042">(</span><span class="ident" id="7400043">StdEncoding</span><span class="op" id="7400054">,</span>&nbsp;<span class="ident" id="7400056">encoded</span><span class="op" id="7400063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400066">nn</span><span class="op" id="7400068">,</span>&nbsp;<span class="ident" id="7400070">err</span>&nbsp;<span class="op" id="7400074">:=</span>&nbsp;<span class="ident" id="7400077">w</span><span class="op" id="7400078">.</span><span class="ident" id="7400079">Write</span><span class="op" id="7400084">(</span><span class="ident" id="7400085">raw</span><span class="op" id="7400088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400091">if</span>&nbsp;<span class="ident" id="7400094">nn</span>&nbsp;<span class="op" id="7400097">!=</span>&nbsp;<span class="ident" id="7400100">n</span>&nbsp;<span class="op" id="7400102">||</span>&nbsp;<span class="ident" id="7400105">err</span>&nbsp;<span class="op" id="7400109">!=</span>&nbsp;<span class="builtintype" id="7400112">nil</span>&nbsp;<span class="op" id="7400116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400120">t</span><span class="op" id="7400121">.</span><span class="ident" id="7400122">Fatalf</span><span class="op" id="7400128">(</span><span class="string" id="7400129">&#34;Encoder.Write(raw)&nbsp;=&nbsp;%d,&nbsp;%v&nbsp;want&nbsp;%d,&nbsp;nil&#34;</span><span class="op" id="7400171">,</span>&nbsp;<span class="ident" id="7400173">nn</span><span class="op" id="7400175">,</span>&nbsp;<span class="ident" id="7400177">err</span><span class="op" id="7400180">,</span>&nbsp;<span class="ident" id="7400182">n</span><span class="op" id="7400183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7400186">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400189">err</span>&nbsp;<span class="op" id="7400193">=</span>&nbsp;<span class="ident" id="7400195">w</span><span class="op" id="7400196">.</span><span class="ident" id="7400197">Close</span><span class="op" id="7400202">(</span><span class="op" id="7400203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400206">if</span>&nbsp;<span class="ident" id="7400209">err</span>&nbsp;<span class="op" id="7400213">!=</span>&nbsp;<span class="builtintype" id="7400216">nil</span>&nbsp;<span class="op" id="7400220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400224">t</span><span class="op" id="7400225">.</span><span class="ident" id="7400226">Fatalf</span><span class="op" id="7400232">(</span><span class="string" id="7400233">&#34;Encoder.Close()&nbsp;=&nbsp;%v&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7400264">,</span>&nbsp;<span class="ident" id="7400266">err</span><span class="op" id="7400269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7400272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400275">decoded</span><span class="op" id="7400282">,</span>&nbsp;<span class="ident" id="7400284">err</span>&nbsp;<span class="op" id="7400288">:=</span>&nbsp;<span class="ident" id="7400291">ioutil</span><span class="op" id="7400297">.</span><span class="ident" id="7400298">ReadAll</span><span class="op" id="7400305">(</span><span class="ident" id="7400306">NewDecoder</span><span class="op" id="7400316">(</span><span class="ident" id="7400317">StdEncoding</span><span class="op" id="7400328">,</span>&nbsp;<span class="ident" id="7400330">encoded</span><span class="op" id="7400337">)</span><span class="op" id="7400338">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400341">if</span>&nbsp;<span class="ident" id="7400344">err</span>&nbsp;<span class="op" id="7400348">!=</span>&nbsp;<span class="builtintype" id="7400351">nil</span>&nbsp;<span class="op" id="7400355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400359">t</span><span class="op" id="7400360">.</span><span class="ident" id="7400361">Fatalf</span><span class="op" id="7400367">(</span><span class="string" id="7400368">&#34;ioutil.ReadAll(NewDecoder(...)):&nbsp;%v&#34;</span><span class="op" id="7400405">,</span>&nbsp;<span class="ident" id="7400407">err</span><span class="op" id="7400410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7400413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400417">if</span>&nbsp;<span class="op" id="7400420">!</span><span class="ident" id="7400421">bytes</span><span class="op" id="7400426">.</span><span class="ident" id="7400427">Equal</span><span class="op" id="7400432">(</span><span class="ident" id="7400433">raw</span><span class="op" id="7400436">,</span>&nbsp;<span class="ident" id="7400438">decoded</span><span class="op" id="7400445">)</span>&nbsp;<span class="op" id="7400447">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400451">var</span>&nbsp;<span class="ident" id="7400455">i</span>&nbsp;<span class="builtintype" id="7400457">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400463">for</span>&nbsp;<span class="ident" id="7400467">i</span>&nbsp;<span class="op" id="7400469">=</span>&nbsp;<span class="num" id="7400471">0</span><span class="op" id="7400472">;</span>&nbsp;<span class="ident" id="7400474">i</span>&nbsp;<span class="op" id="7400476">&lt;</span>&nbsp;<span class="builtinfunc" id="7400478">len</span><span class="op" id="7400481">(</span><span class="ident" id="7400482">decoded</span><span class="op" id="7400489">)</span>&nbsp;<span class="op" id="7400491">&amp;&amp;</span>&nbsp;<span class="ident" id="7400494">i</span>&nbsp;<span class="op" id="7400496">&lt;</span>&nbsp;<span class="builtinfunc" id="7400498">len</span><span class="op" id="7400501">(</span><span class="ident" id="7400502">raw</span><span class="op" id="7400505">)</span><span class="op" id="7400506">;</span>&nbsp;<span class="ident" id="7400508">i</span><span class="op" id="7400509">++</span>&nbsp;<span class="op" id="7400512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400517">if</span>&nbsp;<span class="ident" id="7400520">decoded</span><span class="op" id="7400527">[</span><span class="ident" id="7400528">i</span><span class="op" id="7400529">]</span>&nbsp;<span class="op" id="7400531">!=</span>&nbsp;<span class="ident" id="7400534">raw</span><span class="op" id="7400537">[</span><span class="ident" id="7400538">i</span><span class="op" id="7400539">]</span>&nbsp;<span class="op" id="7400541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400547">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7400556">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7400560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400564">t</span><span class="op" id="7400565">.</span><span class="ident" id="7400566">Errorf</span><span class="op" id="7400572">(</span><span class="string" id="7400573">&#34;Decode(Encode(%d-byte&nbsp;string))&nbsp;failed&nbsp;at&nbsp;offset&nbsp;%d&#34;</span><span class="op" id="7400625">,</span>&nbsp;<span class="ident" id="7400627">n</span><span class="op" id="7400628">,</span>&nbsp;<span class="ident" id="7400630">i</span><span class="op" id="7400631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7400634">}</span><br>
<span class="lineno"></span><span class="op" id="7400636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="7400639">func</span>&nbsp;<span class="ident" id="7400644">testStringEncoding</span><span class="op" id="7400662">(</span><span class="ident" id="7400663">t</span>&nbsp;<span class="op" id="7400665">*</span><span class="ident" id="7400666">testing</span><span class="op" id="7400673">.</span><span class="ident" id="7400674">T</span><span class="op" id="7400675">,</span>&nbsp;<span class="ident" id="7400677">expected</span>&nbsp;<span class="builtintype" id="7400686">string</span><span class="op" id="7400692">,</span>&nbsp;<span class="ident" id="7400694">examples</span>&nbsp;<span class="op" id="7400703">[</span><span class="op" id="7400704">]</span><span class="builtintype" id="7400705">string</span><span class="op" id="7400711">)</span>&nbsp;<span class="op" id="7400713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400716">for</span>&nbsp;<span class="ident" id="7400720">_</span><span class="op" id="7400721">,</span>&nbsp;<span class="ident" id="7400723">e</span>&nbsp;<span class="op" id="7400725">:=</span>&nbsp;<span class="keyword" id="7400728">range</span>&nbsp;<span class="ident" id="7400734">examples</span>&nbsp;<span class="op" id="7400743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400747">buf</span><span class="op" id="7400750">,</span>&nbsp;<span class="ident" id="7400752">err</span>&nbsp;<span class="op" id="7400756">:=</span>&nbsp;<span class="ident" id="7400759">StdEncoding</span><span class="op" id="7400770">.</span><span class="ident" id="7400771">DecodeString</span><span class="op" id="7400783">(</span><span class="ident" id="7400784">e</span><span class="op" id="7400785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400789">if</span>&nbsp;<span class="ident" id="7400792">err</span>&nbsp;<span class="op" id="7400796">!=</span>&nbsp;<span class="builtintype" id="7400799">nil</span>&nbsp;<span class="op" id="7400803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400808">t</span><span class="op" id="7400809">.</span><span class="ident" id="7400810">Errorf</span><span class="op" id="7400816">(</span><span class="string" id="7400817">&#34;Decode(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7400840">,</span>&nbsp;<span class="ident" id="7400842">e</span><span class="op" id="7400843">,</span>&nbsp;<span class="ident" id="7400845">err</span><span class="op" id="7400848">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400853">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7400864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7400868">if</span>&nbsp;<span class="ident" id="7400871">s</span>&nbsp;<span class="op" id="7400873">:=</span>&nbsp;<span class="builtintype" id="7400876">string</span><span class="op" id="7400882">(</span><span class="ident" id="7400883">buf</span><span class="op" id="7400886">)</span><span class="op" id="7400887">;</span>&nbsp;<span class="ident" id="7400889">s</span>&nbsp;<span class="op" id="7400891">!=</span>&nbsp;<span class="ident" id="7400894">expected</span>&nbsp;<span class="op" id="7400903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7400908">t</span><span class="op" id="7400909">.</span><span class="ident" id="7400910">Errorf</span><span class="op" id="7400916">(</span><span class="string" id="7400917">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7400943">,</span>&nbsp;<span class="ident" id="7400945">e</span><span class="op" id="7400946">,</span>&nbsp;<span class="ident" id="7400948">s</span><span class="op" id="7400949">,</span>&nbsp;<span class="ident" id="7400951">expected</span><span class="op" id="7400959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7400963">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7400966">}</span><br>
<span class="lineno"></span><span class="op" id="7400968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7400971">func</span>&nbsp;<span class="ident" id="7400976">TestNewLineCharacters</span><span class="op" id="7400997">(</span><span class="ident" id="7400998">t</span>&nbsp;<span class="op" id="7401000">*</span><span class="ident" id="7401001">testing</span><span class="op" id="7401008">.</span><span class="ident" id="7401009">T</span><span class="op" id="7401010">)</span>&nbsp;<span class="op" id="7401012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7401015">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;sure&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7401085">examples</span>&nbsp;<span class="op" id="7401094">:=</span>&nbsp;<span class="op" id="7401097">[</span><span class="op" id="7401098">]</span><span class="builtintype" id="7401099">string</span><span class="op" id="7401105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401109">&#34;ON2XEZI=&#34;</span><span class="op" id="7401119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401123">&#34;ON2XEZI=\r&#34;</span><span class="op" id="7401135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401139">&#34;ON2XEZI=\n&#34;</span><span class="op" id="7401151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401155">&#34;ON2XEZI=\r\n&#34;</span><span class="op" id="7401169">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401173">&#34;ON2XEZ\r\nI=&#34;</span><span class="op" id="7401187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401191">&#34;ON2X\rEZ\nI=&#34;</span><span class="op" id="7401205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401209">&#34;ON2X\nEZ\rI=&#34;</span><span class="op" id="7401223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401227">&#34;ON2XEZ\nI=&#34;</span><span class="op" id="7401239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401243">&#34;ON2XEZI\n=&#34;</span><span class="op" id="7401255">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7401258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7401261">testStringEncoding</span><span class="op" id="7401279">(</span><span class="ident" id="7401280">t</span><span class="op" id="7401281">,</span>&nbsp;<span class="string" id="7401283">&#34;sure&#34;</span><span class="op" id="7401289">,</span>&nbsp;<span class="ident" id="7401291">examples</span><span class="op" id="7401299">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7401303">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;foobar&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7401375">examples</span>&nbsp;<span class="op" id="7401384">=</span>&nbsp;<span class="op" id="7401386">[</span><span class="op" id="7401387">]</span><span class="builtintype" id="7401388">string</span><span class="op" id="7401394">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401398">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7401416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7401420">&#34;MZXW6YTBOI=\r\n=====&#34;</span><span class="op" id="7401442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7401445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7401448">testStringEncoding</span><span class="op" id="7401466">(</span><span class="ident" id="7401467">t</span><span class="op" id="7401468">,</span>&nbsp;<span class="string" id="7401470">&#34;foobar&#34;</span><span class="op" id="7401478">,</span>&nbsp;<span class="ident" id="7401480">examples</span><span class="op" id="7401488">)</span><br>
<span class="lineno"></span><span class="op" id="7401490">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="keyword" id="7401493">func</span>&nbsp;<span class="ident" id="7401498">TestDecoderIssue4779</span><span class="op" id="7401518">(</span><span class="ident" id="7401519">t</span>&nbsp;<span class="op" id="7401521">*</span><span class="ident" id="7401522">testing</span><span class="op" id="7401529">.</span><span class="ident" id="7401530">T</span><span class="op" id="7401531">)</span>&nbsp;<span class="op" id="7401533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7401536">encoded</span>&nbsp;<span class="op" id="7401544">:=</span>&nbsp;<span class="string" id="7401547">`JRXXEZLNEBUXA43VNUQGI33MN5ZCA43JOQQGC3LFOQWCAY3PNZZWKY3UMV2HK4<br>
<span class="lineno"></span>RAMFSGS4DJONUWG2LOM4QGK3DJOQWCA43FMQQGI3YKMVUXK43NN5SCA5DFNVYG64RANFXGG2LENFSH<br>
<span class="lineno"></span>K3TUEB2XIIDMMFRG64TFEBSXIIDEN5WG64TFEBWWCZ3OMEQGC3DJOF2WCLRAKV2CAZLONFWQUYLEEB<br>
<span class="lineno">260</span>WWS3TJNUQHMZLONFQW2LBAOF2WS4ZANZXXG5DSOVSCAZLYMVZGG2LUMF2GS33OEB2WY3DBNVRW6IDM<br>
<span class="lineno"></span>MFRG64TJOMQG42LTNEQHK5AKMFWGS4LVNFYCAZLYEBSWCIDDN5WW233EN4QGG33OONSXC5LBOQXCAR<br>
<span class="lineno"></span>DVNFZSAYLVORSSA2LSOVZGKIDEN5WG64RANFXAU4TFOBZGK2DFNZSGK4TJOQQGS3RAOZXWY5LQORQX<br>
<span class="lineno"></span>IZJAOZSWY2LUEBSXG43FEBRWS3DMOVWSAZDPNRXXEZJAMV2SAZTVM5UWC5BANZ2WY3DBBJYGC4TJMF<br>
<span class="lineno"></span>2HK4ROEBCXQY3FOB2GK5LSEBZWS3TUEBXWGY3BMVRWC5BAMN2XA2LEMF2GC5BANZXW4IDQOJXWSZDF<br>
<span class="lineno">265</span>NZ2CYIDTOVXHIIDJNYFGG5LMOBQSA4LVNEQG6ZTGNFRWSYJAMRSXGZLSOVXHIIDNN5WGY2LUEBQW42<br>
<span class="lineno"></span>LNEBUWIIDFON2CA3DBMJXXE5LNFY==<br>
<span class="lineno"></span>====`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402281">encodedShort</span>&nbsp;<span class="op" id="7402294">:=</span>&nbsp;<span class="ident" id="7402297">strings</span><span class="op" id="7402304">.</span><span class="ident" id="7402305">Replace</span><span class="op" id="7402312">(</span><span class="ident" id="7402313">encoded</span><span class="op" id="7402320">,</span>&nbsp;<span class="string" id="7402322">&#34;\n&#34;</span><span class="op" id="7402326">,</span>&nbsp;<span class="string" id="7402328">&#34;&#34;</span><span class="op" id="7402330">,</span>&nbsp;<span class="op" id="7402332">-</span><span class="num" id="7402333">1</span><span class="op" id="7402334">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402338">dec</span>&nbsp;<span class="op" id="7402342">:=</span>&nbsp;<span class="ident" id="7402345">NewDecoder</span><span class="op" id="7402355">(</span><span class="ident" id="7402356">StdEncoding</span><span class="op" id="7402367">,</span>&nbsp;<span class="ident" id="7402369">strings</span><span class="op" id="7402376">.</span><span class="ident" id="7402377">NewReader</span><span class="op" id="7402386">(</span><span class="ident" id="7402387">encoded</span><span class="op" id="7402394">)</span><span class="op" id="7402395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402398">res1</span><span class="op" id="7402402">,</span>&nbsp;<span class="ident" id="7402404">err</span>&nbsp;<span class="op" id="7402408">:=</span>&nbsp;<span class="ident" id="7402411">ioutil</span><span class="op" id="7402417">.</span><span class="ident" id="7402418">ReadAll</span><span class="op" id="7402425">(</span><span class="ident" id="7402426">dec</span><span class="op" id="7402429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7402432">if</span>&nbsp;<span class="ident" id="7402435">err</span>&nbsp;<span class="op" id="7402439">!=</span>&nbsp;<span class="builtintype" id="7402442">nil</span>&nbsp;<span class="op" id="7402446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402450">t</span><span class="op" id="7402451">.</span><span class="ident" id="7402452">Errorf</span><span class="op" id="7402458">(</span><span class="string" id="7402459">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7402479">,</span>&nbsp;<span class="ident" id="7402481">err</span><span class="op" id="7402484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7402487">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402491">dec</span>&nbsp;<span class="op" id="7402495">=</span>&nbsp;<span class="ident" id="7402497">NewDecoder</span><span class="op" id="7402507">(</span><span class="ident" id="7402508">StdEncoding</span><span class="op" id="7402519">,</span>&nbsp;<span class="ident" id="7402521">strings</span><span class="op" id="7402528">.</span><span class="ident" id="7402529">NewReader</span><span class="op" id="7402538">(</span><span class="ident" id="7402539">encodedShort</span><span class="op" id="7402551">)</span><span class="op" id="7402552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7402555">var</span>&nbsp;<span class="ident" id="7402559">res2</span>&nbsp;<span class="op" id="7402564">[</span><span class="op" id="7402565">]</span><span class="builtintype" id="7402566">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402572">res2</span><span class="op" id="7402576">,</span>&nbsp;<span class="ident" id="7402578">err</span>&nbsp;<span class="op" id="7402582">=</span>&nbsp;<span class="ident" id="7402584">ioutil</span><span class="op" id="7402590">.</span><span class="ident" id="7402591">ReadAll</span><span class="op" id="7402598">(</span><span class="ident" id="7402599">dec</span><span class="op" id="7402602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7402605">if</span>&nbsp;<span class="ident" id="7402608">err</span>&nbsp;<span class="op" id="7402612">!=</span>&nbsp;<span class="builtintype" id="7402615">nil</span>&nbsp;<span class="op" id="7402619">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402623">t</span><span class="op" id="7402624">.</span><span class="ident" id="7402625">Errorf</span><span class="op" id="7402631">(</span><span class="string" id="7402632">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7402652">,</span>&nbsp;<span class="ident" id="7402654">err</span><span class="op" id="7402657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7402660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7402664">if</span>&nbsp;<span class="op" id="7402667">!</span><span class="ident" id="7402668">bytes</span><span class="op" id="7402673">.</span><span class="ident" id="7402674">Equal</span><span class="op" id="7402679">(</span><span class="ident" id="7402680">res1</span><span class="op" id="7402684">,</span>&nbsp;<span class="ident" id="7402686">res2</span><span class="op" id="7402690">)</span>&nbsp;<span class="op" id="7402692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402696">t</span><span class="op" id="7402697">.</span><span class="ident" id="7402698">Error</span><span class="op" id="7402703">(</span><span class="string" id="7402704">&#34;Decoded&nbsp;results&nbsp;not&nbsp;equal&#34;</span><span class="op" id="7402731">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7402734">}</span><br>
<span class="lineno"></span><span class="op" id="7402736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7402739">func</span>&nbsp;<span class="ident" id="7402744">BenchmarkEncodeToString</span><span class="op" id="7402767">(</span><span class="ident" id="7402768">b</span>&nbsp;<span class="op" id="7402770">*</span><span class="ident" id="7402771">testing</span><span class="op" id="7402778">.</span><span class="ident" id="7402779">B</span><span class="op" id="7402780">)</span>&nbsp;<span class="op" id="7402782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402785">data</span>&nbsp;<span class="op" id="7402790">:=</span>&nbsp;<span class="builtinfunc" id="7402793">make</span><span class="op" id="7402797">(</span><span class="op" id="7402798">[</span><span class="op" id="7402799">]</span><span class="builtintype" id="7402800">byte</span><span class="op" id="7402804">,</span>&nbsp;<span class="num" id="7402806">8192</span><span class="op" id="7402810">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402813">b</span><span class="op" id="7402814">.</span><span class="ident" id="7402815">SetBytes</span><span class="op" id="7402823">(</span><span class="ident" id="7402824">int64</span><span class="op" id="7402829">(</span><span class="builtinfunc" id="7402830">len</span><span class="op" id="7402833">(</span><span class="ident" id="7402834">data</span><span class="op" id="7402838">)</span><span class="op" id="7402839">)</span><span class="op" id="7402840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7402843">for</span>&nbsp;<span class="ident" id="7402847">i</span>&nbsp;<span class="op" id="7402849">:=</span>&nbsp;<span class="num" id="7402852">0</span><span class="op" id="7402853">;</span>&nbsp;<span class="ident" id="7402855">i</span>&nbsp;<span class="op" id="7402857">&lt;</span>&nbsp;<span class="ident" id="7402859">b</span><span class="op" id="7402860">.</span><span class="ident" id="7402861">N</span><span class="op" id="7402862">;</span>&nbsp;<span class="ident" id="7402864">i</span><span class="op" id="7402865">++</span>&nbsp;<span class="op" id="7402868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402872">StdEncoding</span><span class="op" id="7402883">.</span><span class="ident" id="7402884">EncodeToString</span><span class="op" id="7402898">(</span><span class="ident" id="7402899">data</span><span class="op" id="7402903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7402906">}</span><br>
<span class="lineno"></span><span class="op" id="7402908">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="7402911">func</span>&nbsp;<span class="ident" id="7402916">BenchmarkDecodeString</span><span class="op" id="7402937">(</span><span class="ident" id="7402938">b</span>&nbsp;<span class="op" id="7402940">*</span><span class="ident" id="7402941">testing</span><span class="op" id="7402948">.</span><span class="ident" id="7402949">B</span><span class="op" id="7402950">)</span>&nbsp;<span class="op" id="7402952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7402955">data</span>&nbsp;<span class="op" id="7402960">:=</span>&nbsp;<span class="ident" id="7402963">StdEncoding</span><span class="op" id="7402974">.</span><span class="ident" id="7402975">EncodeToString</span><span class="op" id="7402989">(</span><span class="builtinfunc" id="7402990">make</span><span class="op" id="7402994">(</span><span class="op" id="7402995">[</span><span class="op" id="7402996">]</span><span class="builtintype" id="7402997">byte</span><span class="op" id="7403001">,</span>&nbsp;<span class="num" id="7403003">8192</span><span class="op" id="7403007">)</span><span class="op" id="7403008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7403011">b</span><span class="op" id="7403012">.</span><span class="ident" id="7403013">SetBytes</span><span class="op" id="7403021">(</span><span class="ident" id="7403022">int64</span><span class="op" id="7403027">(</span><span class="builtinfunc" id="7403028">len</span><span class="op" id="7403031">(</span><span class="ident" id="7403032">data</span><span class="op" id="7403036">)</span><span class="op" id="7403037">)</span><span class="op" id="7403038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7403041">for</span>&nbsp;<span class="ident" id="7403045">i</span>&nbsp;<span class="op" id="7403047">:=</span>&nbsp;<span class="num" id="7403050">0</span><span class="op" id="7403051">;</span>&nbsp;<span class="ident" id="7403053">i</span>&nbsp;<span class="op" id="7403055">&lt;</span>&nbsp;<span class="ident" id="7403057">b</span><span class="op" id="7403058">.</span><span class="ident" id="7403059">N</span><span class="op" id="7403060">;</span>&nbsp;<span class="ident" id="7403062">i</span><span class="op" id="7403063">++</span>&nbsp;<span class="op" id="7403066">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7403070">StdEncoding</span><span class="op" id="7403081">.</span><span class="ident" id="7403082">DecodeString</span><span class="op" id="7403094">(</span><span class="ident" id="7403095">data</span><span class="op" id="7403099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7403102">}</span><br>
<span class="lineno"></span><span class="op" id="7403104">}</span>
</div>
</body>
</html>
