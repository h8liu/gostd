<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6650982">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6651037">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6651091">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6651142">package</span>&nbsp;<span class="ident" id="6651150">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6651155">import</span>&nbsp;<span class="op" id="6651162">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6651165">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6651174">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6651184">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6651187">type</span>&nbsp;<span class="ident" id="6651192">encDecTest</span>&nbsp;<span class="keyword" id="6651203">struct</span>&nbsp;<span class="op" id="6651210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651213">enc</span>&nbsp;<span class="builtintype" id="6651217">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651225">dec</span>&nbsp;<span class="op" id="6651229">[</span><span class="op" id="6651230">]</span><span class="builtintype" id="6651231">byte</span><br>
<span class="lineno">15</span><span class="op" id="6651236">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6651239">var</span>&nbsp;<span class="ident" id="6651243">encDecTests</span>&nbsp;<span class="op" id="6651255">=</span>&nbsp;<span class="op" id="6651257">[</span><span class="op" id="6651258">]</span><span class="ident" id="6651259">encDecTest</span><span class="op" id="6651269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651272">{</span><span class="string" id="6651273">&#34;&#34;</span><span class="op" id="6651275">,</span>&nbsp;<span class="op" id="6651277">[</span><span class="op" id="6651278">]</span><span class="builtintype" id="6651279">byte</span><span class="op" id="6651283">{</span><span class="op" id="6651284">}</span><span class="op" id="6651285">}</span><span class="op" id="6651286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651289">{</span><span class="string" id="6651290">&#34;0001020304050607&#34;</span><span class="op" id="6651308">,</span>&nbsp;<span class="op" id="6651310">[</span><span class="op" id="6651311">]</span><span class="builtintype" id="6651312">byte</span><span class="op" id="6651316">{</span><span class="num" id="6651317">0</span><span class="op" id="6651318">,</span>&nbsp;<span class="num" id="6651320">1</span><span class="op" id="6651321">,</span>&nbsp;<span class="num" id="6651323">2</span><span class="op" id="6651324">,</span>&nbsp;<span class="num" id="6651326">3</span><span class="op" id="6651327">,</span>&nbsp;<span class="num" id="6651329">4</span><span class="op" id="6651330">,</span>&nbsp;<span class="num" id="6651332">5</span><span class="op" id="6651333">,</span>&nbsp;<span class="num" id="6651335">6</span><span class="op" id="6651336">,</span>&nbsp;<span class="num" id="6651338">7</span><span class="op" id="6651339">}</span><span class="op" id="6651340">}</span><span class="op" id="6651341">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651344">{</span><span class="string" id="6651345">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="6651363">,</span>&nbsp;<span class="op" id="6651365">[</span><span class="op" id="6651366">]</span><span class="builtintype" id="6651367">byte</span><span class="op" id="6651371">{</span><span class="num" id="6651372">8</span><span class="op" id="6651373">,</span>&nbsp;<span class="num" id="6651375">9</span><span class="op" id="6651376">,</span>&nbsp;<span class="num" id="6651378">10</span><span class="op" id="6651380">,</span>&nbsp;<span class="num" id="6651382">11</span><span class="op" id="6651384">,</span>&nbsp;<span class="num" id="6651386">12</span><span class="op" id="6651388">,</span>&nbsp;<span class="num" id="6651390">13</span><span class="op" id="6651392">,</span>&nbsp;<span class="num" id="6651394">14</span><span class="op" id="6651396">,</span>&nbsp;<span class="num" id="6651398">15</span><span class="op" id="6651400">}</span><span class="op" id="6651401">}</span><span class="op" id="6651402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651405">{</span><span class="string" id="6651406">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="6651424">,</span>&nbsp;<span class="op" id="6651426">[</span><span class="op" id="6651427">]</span><span class="builtintype" id="6651428">byte</span><span class="op" id="6651432">{</span><span class="num" id="6651433">0xf0</span><span class="op" id="6651437">,</span>&nbsp;<span class="num" id="6651439">0xf1</span><span class="op" id="6651443">,</span>&nbsp;<span class="num" id="6651445">0xf2</span><span class="op" id="6651449">,</span>&nbsp;<span class="num" id="6651451">0xf3</span><span class="op" id="6651455">,</span>&nbsp;<span class="num" id="6651457">0xf4</span><span class="op" id="6651461">,</span>&nbsp;<span class="num" id="6651463">0xf5</span><span class="op" id="6651467">,</span>&nbsp;<span class="num" id="6651469">0xf6</span><span class="op" id="6651473">,</span>&nbsp;<span class="num" id="6651475">0xf7</span><span class="op" id="6651479">}</span><span class="op" id="6651480">}</span><span class="op" id="6651481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651484">{</span><span class="string" id="6651485">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="6651503">,</span>&nbsp;<span class="op" id="6651505">[</span><span class="op" id="6651506">]</span><span class="builtintype" id="6651507">byte</span><span class="op" id="6651511">{</span><span class="num" id="6651512">0xf8</span><span class="op" id="6651516">,</span>&nbsp;<span class="num" id="6651518">0xf9</span><span class="op" id="6651522">,</span>&nbsp;<span class="num" id="6651524">0xfa</span><span class="op" id="6651528">,</span>&nbsp;<span class="num" id="6651530">0xfb</span><span class="op" id="6651534">,</span>&nbsp;<span class="num" id="6651536">0xfc</span><span class="op" id="6651540">,</span>&nbsp;<span class="num" id="6651542">0xfd</span><span class="op" id="6651546">,</span>&nbsp;<span class="num" id="6651548">0xfe</span><span class="op" id="6651552">,</span>&nbsp;<span class="num" id="6651554">0xff</span><span class="op" id="6651558">}</span><span class="op" id="6651559">}</span><span class="op" id="6651560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651563">{</span><span class="string" id="6651564">&#34;67&#34;</span><span class="op" id="6651568">,</span>&nbsp;<span class="op" id="6651570">[</span><span class="op" id="6651571">]</span><span class="builtintype" id="6651572">byte</span><span class="op" id="6651576">{</span><span class="string" id="6651577">&#39;g&#39;</span><span class="op" id="6651580">}</span><span class="op" id="6651581">}</span><span class="op" id="6651582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651585">{</span><span class="string" id="6651586">&#34;e3a1&#34;</span><span class="op" id="6651592">,</span>&nbsp;<span class="op" id="6651594">[</span><span class="op" id="6651595">]</span><span class="builtintype" id="6651596">byte</span><span class="op" id="6651600">{</span><span class="num" id="6651601">0xe3</span><span class="op" id="6651605">,</span>&nbsp;<span class="num" id="6651607">0xa1</span><span class="op" id="6651611">}</span><span class="op" id="6651612">}</span><span class="op" id="6651613">,</span><br>
<span class="lineno">25</span><span class="op" id="6651615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6651618">func</span>&nbsp;<span class="ident" id="6651623">TestEncode</span><span class="op" id="6651633">(</span><span class="ident" id="6651634">t</span>&nbsp;<span class="op" id="6651636">*</span><span class="ident" id="6651637">testing</span><span class="op" id="6651644">.</span><span class="ident" id="6651645">T</span><span class="op" id="6651646">)</span>&nbsp;<span class="op" id="6651648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651651">for</span>&nbsp;<span class="ident" id="6651655">i</span><span class="op" id="6651656">,</span>&nbsp;<span class="ident" id="6651658">test</span>&nbsp;<span class="op" id="6651663">:=</span>&nbsp;<span class="keyword" id="6651666">range</span>&nbsp;<span class="ident" id="6651672">encDecTests</span>&nbsp;<span class="op" id="6651684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651688">dst</span>&nbsp;<span class="op" id="6651692">:=</span>&nbsp;<span class="builtinfunc" id="6651695">make</span><span class="op" id="6651699">(</span><span class="op" id="6651700">[</span><span class="op" id="6651701">]</span><span class="builtintype" id="6651702">byte</span><span class="op" id="6651706">,</span>&nbsp;<span class="ident" id="6651708">EncodedLen</span><span class="op" id="6651718">(</span><span class="builtinfunc" id="6651719">len</span><span class="op" id="6651722">(</span><span class="ident" id="6651723">test</span><span class="op" id="6651727">.</span><span class="ident" id="6651728">dec</span><span class="op" id="6651731">)</span><span class="op" id="6651732">)</span><span class="op" id="6651733">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651737">n</span>&nbsp;<span class="op" id="6651739">:=</span>&nbsp;<span class="ident" id="6651742">Encode</span><span class="op" id="6651748">(</span><span class="ident" id="6651749">dst</span><span class="op" id="6651752">,</span>&nbsp;<span class="ident" id="6651754">test</span><span class="op" id="6651758">.</span><span class="ident" id="6651759">dec</span><span class="op" id="6651762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651766">if</span>&nbsp;<span class="ident" id="6651769">n</span>&nbsp;<span class="op" id="6651771">!=</span>&nbsp;<span class="builtinfunc" id="6651774">len</span><span class="op" id="6651777">(</span><span class="ident" id="6651778">dst</span><span class="op" id="6651781">)</span>&nbsp;<span class="op" id="6651783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651788">t</span><span class="op" id="6651789">.</span><span class="ident" id="6651790">Errorf</span><span class="op" id="6651796">(</span><span class="string" id="6651797">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="6651838">,</span>&nbsp;<span class="ident" id="6651840">i</span><span class="op" id="6651841">,</span>&nbsp;<span class="ident" id="6651843">n</span><span class="op" id="6651844">,</span>&nbsp;<span class="builtinfunc" id="6651846">len</span><span class="op" id="6651849">(</span><span class="ident" id="6651850">dst</span><span class="op" id="6651853">)</span><span class="op" id="6651854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651862">if</span>&nbsp;<span class="builtintype" id="6651865">string</span><span class="op" id="6651871">(</span><span class="ident" id="6651872">dst</span><span class="op" id="6651875">)</span>&nbsp;<span class="op" id="6651877">!=</span>&nbsp;<span class="ident" id="6651880">test</span><span class="op" id="6651884">.</span><span class="ident" id="6651885">enc</span>&nbsp;<span class="op" id="6651889">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651894">t</span><span class="op" id="6651895">.</span><span class="ident" id="6651896">Errorf</span><span class="op" id="6651902">(</span><span class="string" id="6651903">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="6651928">,</span>&nbsp;<span class="ident" id="6651930">i</span><span class="op" id="6651931">,</span>&nbsp;<span class="ident" id="6651933">dst</span><span class="op" id="6651936">,</span>&nbsp;<span class="ident" id="6651938">test</span><span class="op" id="6651942">.</span><span class="ident" id="6651943">enc</span><span class="op" id="6651946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651953">}</span><br>
<span class="lineno"></span><span class="op" id="6651955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6651958">func</span>&nbsp;<span class="ident" id="6651963">TestDecode</span><span class="op" id="6651973">(</span><span class="ident" id="6651974">t</span>&nbsp;<span class="op" id="6651976">*</span><span class="ident" id="6651977">testing</span><span class="op" id="6651984">.</span><span class="ident" id="6651985">T</span><span class="op" id="6651986">)</span>&nbsp;<span class="op" id="6651988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6651991">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6652045">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652079">decTests</span>&nbsp;<span class="op" id="6652088">:=</span>&nbsp;<span class="builtinfunc" id="6652091">append</span><span class="op" id="6652097">(</span><span class="ident" id="6652098">encDecTests</span><span class="op" id="6652109">,</span>&nbsp;<span class="ident" id="6652111">encDecTest</span><span class="op" id="6652121">{</span><span class="string" id="6652122">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="6652140">,</span>&nbsp;<span class="op" id="6652142">[</span><span class="op" id="6652143">]</span><span class="builtintype" id="6652144">byte</span><span class="op" id="6652148">{</span><span class="num" id="6652149">0xf8</span><span class="op" id="6652153">,</span>&nbsp;<span class="num" id="6652155">0xf9</span><span class="op" id="6652159">,</span>&nbsp;<span class="num" id="6652161">0xfa</span><span class="op" id="6652165">,</span>&nbsp;<span class="num" id="6652167">0xfb</span><span class="op" id="6652171">,</span>&nbsp;<span class="num" id="6652173">0xfc</span><span class="op" id="6652177">,</span>&nbsp;<span class="num" id="6652179">0xfd</span><span class="op" id="6652183">,</span>&nbsp;<span class="num" id="6652185">0xfe</span><span class="op" id="6652189">,</span>&nbsp;<span class="num" id="6652191">0xff</span><span class="op" id="6652195">}</span><span class="op" id="6652196">}</span><span class="op" id="6652197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652200">for</span>&nbsp;<span class="ident" id="6652204">i</span><span class="op" id="6652205">,</span>&nbsp;<span class="ident" id="6652207">test</span>&nbsp;<span class="op" id="6652212">:=</span>&nbsp;<span class="keyword" id="6652215">range</span>&nbsp;<span class="ident" id="6652221">decTests</span>&nbsp;<span class="op" id="6652230">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652234">dst</span>&nbsp;<span class="op" id="6652238">:=</span>&nbsp;<span class="builtinfunc" id="6652241">make</span><span class="op" id="6652245">(</span><span class="op" id="6652246">[</span><span class="op" id="6652247">]</span><span class="builtintype" id="6652248">byte</span><span class="op" id="6652252">,</span>&nbsp;<span class="ident" id="6652254">DecodedLen</span><span class="op" id="6652264">(</span><span class="builtinfunc" id="6652265">len</span><span class="op" id="6652268">(</span><span class="ident" id="6652269">test</span><span class="op" id="6652273">.</span><span class="ident" id="6652274">enc</span><span class="op" id="6652277">)</span><span class="op" id="6652278">)</span><span class="op" id="6652279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652283">n</span><span class="op" id="6652284">,</span>&nbsp;<span class="ident" id="6652286">err</span>&nbsp;<span class="op" id="6652290">:=</span>&nbsp;<span class="ident" id="6652293">Decode</span><span class="op" id="6652299">(</span><span class="ident" id="6652300">dst</span><span class="op" id="6652303">,</span>&nbsp;<span class="op" id="6652305">[</span><span class="op" id="6652306">]</span><span class="builtintype" id="6652307">byte</span><span class="op" id="6652311">(</span><span class="ident" id="6652312">test</span><span class="op" id="6652316">.</span><span class="ident" id="6652317">enc</span><span class="op" id="6652320">)</span><span class="op" id="6652321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652325">if</span>&nbsp;<span class="ident" id="6652328">err</span>&nbsp;<span class="op" id="6652332">!=</span>&nbsp;<span class="ident" id="6652335">nil</span>&nbsp;<span class="op" id="6652339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652344">t</span><span class="op" id="6652345">.</span><span class="ident" id="6652346">Errorf</span><span class="op" id="6652352">(</span><span class="string" id="6652353">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="6652392">,</span>&nbsp;<span class="ident" id="6652394">i</span><span class="op" id="6652395">,</span>&nbsp;<span class="ident" id="6652397">n</span><span class="op" id="6652398">,</span>&nbsp;<span class="builtinfunc" id="6652400">len</span><span class="op" id="6652403">(</span><span class="ident" id="6652404">dst</span><span class="op" id="6652407">)</span><span class="op" id="6652408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652412">}</span>&nbsp;<span class="keyword" id="6652414">else</span>&nbsp;<span class="keyword" id="6652419">if</span>&nbsp;<span class="op" id="6652422">!</span><span class="ident" id="6652423">bytes</span><span class="op" id="6652428">.</span><span class="ident" id="6652429">Equal</span><span class="op" id="6652434">(</span><span class="ident" id="6652435">dst</span><span class="op" id="6652438">,</span>&nbsp;<span class="ident" id="6652440">test</span><span class="op" id="6652444">.</span><span class="ident" id="6652445">dec</span><span class="op" id="6652448">)</span>&nbsp;<span class="op" id="6652450">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652455">t</span><span class="op" id="6652456">.</span><span class="ident" id="6652457">Errorf</span><span class="op" id="6652463">(</span><span class="string" id="6652464">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="6652489">,</span>&nbsp;<span class="ident" id="6652491">i</span><span class="op" id="6652492">,</span>&nbsp;<span class="ident" id="6652494">dst</span><span class="op" id="6652497">,</span>&nbsp;<span class="ident" id="6652499">test</span><span class="op" id="6652503">.</span><span class="ident" id="6652504">dec</span><span class="op" id="6652507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652514">}</span><br>
<span class="lineno"></span><span class="op" id="6652516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="6652519">func</span>&nbsp;<span class="ident" id="6652524">TestEncodeToString</span><span class="op" id="6652542">(</span><span class="ident" id="6652543">t</span>&nbsp;<span class="op" id="6652545">*</span><span class="ident" id="6652546">testing</span><span class="op" id="6652553">.</span><span class="ident" id="6652554">T</span><span class="op" id="6652555">)</span>&nbsp;<span class="op" id="6652557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652560">for</span>&nbsp;<span class="ident" id="6652564">i</span><span class="op" id="6652565">,</span>&nbsp;<span class="ident" id="6652567">test</span>&nbsp;<span class="op" id="6652572">:=</span>&nbsp;<span class="keyword" id="6652575">range</span>&nbsp;<span class="ident" id="6652581">encDecTests</span>&nbsp;<span class="op" id="6652593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652597">s</span>&nbsp;<span class="op" id="6652599">:=</span>&nbsp;<span class="ident" id="6652602">EncodeToString</span><span class="op" id="6652616">(</span><span class="ident" id="6652617">test</span><span class="op" id="6652621">.</span><span class="ident" id="6652622">dec</span><span class="op" id="6652625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652629">if</span>&nbsp;<span class="ident" id="6652632">s</span>&nbsp;<span class="op" id="6652634">!=</span>&nbsp;<span class="ident" id="6652637">test</span><span class="op" id="6652641">.</span><span class="ident" id="6652642">enc</span>&nbsp;<span class="op" id="6652646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652651">t</span><span class="op" id="6652652">.</span><span class="ident" id="6652653">Errorf</span><span class="op" id="6652659">(</span><span class="string" id="6652660">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="6652680">,</span>&nbsp;<span class="ident" id="6652682">i</span><span class="op" id="6652683">,</span>&nbsp;<span class="ident" id="6652685">s</span><span class="op" id="6652686">,</span>&nbsp;<span class="ident" id="6652688">test</span><span class="op" id="6652692">.</span><span class="ident" id="6652693">enc</span><span class="op" id="6652696">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652703">}</span><br>
<span class="lineno"></span><span class="op" id="6652705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6652708">func</span>&nbsp;<span class="ident" id="6652713">TestDecodeString</span><span class="op" id="6652729">(</span><span class="ident" id="6652730">t</span>&nbsp;<span class="op" id="6652732">*</span><span class="ident" id="6652733">testing</span><span class="op" id="6652740">.</span><span class="ident" id="6652741">T</span><span class="op" id="6652742">)</span>&nbsp;<span class="op" id="6652744">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652747">for</span>&nbsp;<span class="ident" id="6652751">i</span><span class="op" id="6652752">,</span>&nbsp;<span class="ident" id="6652754">test</span>&nbsp;<span class="op" id="6652759">:=</span>&nbsp;<span class="keyword" id="6652762">range</span>&nbsp;<span class="ident" id="6652768">encDecTests</span>&nbsp;<span class="op" id="6652780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652784">dst</span><span class="op" id="6652787">,</span>&nbsp;<span class="ident" id="6652789">err</span>&nbsp;<span class="op" id="6652793">:=</span>&nbsp;<span class="ident" id="6652796">DecodeString</span><span class="op" id="6652808">(</span><span class="ident" id="6652809">test</span><span class="op" id="6652813">.</span><span class="ident" id="6652814">enc</span><span class="op" id="6652817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652821">if</span>&nbsp;<span class="ident" id="6652824">err</span>&nbsp;<span class="op" id="6652828">!=</span>&nbsp;<span class="ident" id="6652831">nil</span>&nbsp;<span class="op" id="6652835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652840">t</span><span class="op" id="6652841">.</span><span class="ident" id="6652842">Errorf</span><span class="op" id="6652848">(</span><span class="string" id="6652849">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="6652880">,</span>&nbsp;<span class="ident" id="6652882">i</span><span class="op" id="6652883">,</span>&nbsp;<span class="ident" id="6652885">err</span><span class="op" id="6652888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652893">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652908">if</span>&nbsp;<span class="op" id="6652911">!</span><span class="ident" id="6652912">bytes</span><span class="op" id="6652917">.</span><span class="ident" id="6652918">Equal</span><span class="op" id="6652923">(</span><span class="ident" id="6652924">dst</span><span class="op" id="6652927">,</span>&nbsp;<span class="ident" id="6652929">test</span><span class="op" id="6652933">.</span><span class="ident" id="6652934">dec</span><span class="op" id="6652937">)</span>&nbsp;<span class="op" id="6652939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652944">t</span><span class="op" id="6652945">.</span><span class="ident" id="6652946">Errorf</span><span class="op" id="6652952">(</span><span class="string" id="6652953">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="6652978">,</span>&nbsp;<span class="ident" id="6652980">i</span><span class="op" id="6652981">,</span>&nbsp;<span class="ident" id="6652983">dst</span><span class="op" id="6652986">,</span>&nbsp;<span class="ident" id="6652988">test</span><span class="op" id="6652992">.</span><span class="ident" id="6652993">dec</span><span class="op" id="6652996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653003">}</span><br>
<span class="lineno">75</span><span class="op" id="6653005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6653008">type</span>&nbsp;<span class="ident" id="6653013">errTest</span>&nbsp;<span class="keyword" id="6653021">struct</span>&nbsp;<span class="op" id="6653028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653031">in</span>&nbsp;&nbsp;<span class="builtintype" id="6653035">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653043">err</span>&nbsp;<span class="builtintype" id="6653047">string</span><br>
<span class="lineno">80</span><span class="op" id="6653054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6653057">var</span>&nbsp;<span class="ident" id="6653061">errTests</span>&nbsp;<span class="op" id="6653070">=</span>&nbsp;<span class="op" id="6653072">[</span><span class="op" id="6653073">]</span><span class="ident" id="6653074">errTest</span><span class="op" id="6653081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653084">{</span><span class="string" id="6653085">&#34;0&#34;</span><span class="op" id="6653088">,</span>&nbsp;<span class="string" id="6653090">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="6653127">}</span><span class="op" id="6653128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653131">{</span><span class="string" id="6653132">&#34;0g&#34;</span><span class="op" id="6653136">,</span>&nbsp;<span class="string" id="6653138">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="6653178">}</span><span class="op" id="6653179">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653182">{</span><span class="string" id="6653183">&#34;00gg&#34;</span><span class="op" id="6653189">,</span>&nbsp;<span class="string" id="6653191">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="6653231">}</span><span class="op" id="6653232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653235">{</span><span class="string" id="6653236">&#34;0\x01&#34;</span><span class="op" id="6653243">,</span>&nbsp;<span class="string" id="6653245">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="6653281">}</span><span class="op" id="6653282">,</span><br>
<span class="lineno"></span><span class="op" id="6653284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6653287">func</span>&nbsp;<span class="ident" id="6653292">TestInvalidErr</span><span class="op" id="6653306">(</span><span class="ident" id="6653307">t</span>&nbsp;<span class="op" id="6653309">*</span><span class="ident" id="6653310">testing</span><span class="op" id="6653317">.</span><span class="ident" id="6653318">T</span><span class="op" id="6653319">)</span>&nbsp;<span class="op" id="6653321">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653324">for</span>&nbsp;<span class="ident" id="6653328">i</span><span class="op" id="6653329">,</span>&nbsp;<span class="ident" id="6653331">test</span>&nbsp;<span class="op" id="6653336">:=</span>&nbsp;<span class="keyword" id="6653339">range</span>&nbsp;<span class="ident" id="6653345">errTests</span>&nbsp;<span class="op" id="6653354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653358">dst</span>&nbsp;<span class="op" id="6653362">:=</span>&nbsp;<span class="builtinfunc" id="6653365">make</span><span class="op" id="6653369">(</span><span class="op" id="6653370">[</span><span class="op" id="6653371">]</span><span class="builtintype" id="6653372">byte</span><span class="op" id="6653376">,</span>&nbsp;<span class="ident" id="6653378">DecodedLen</span><span class="op" id="6653388">(</span><span class="builtinfunc" id="6653389">len</span><span class="op" id="6653392">(</span><span class="ident" id="6653393">test</span><span class="op" id="6653397">.</span><span class="ident" id="6653398">in</span><span class="op" id="6653400">)</span><span class="op" id="6653401">)</span><span class="op" id="6653402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653406">_</span><span class="op" id="6653407">,</span>&nbsp;<span class="ident" id="6653409">err</span>&nbsp;<span class="op" id="6653413">:=</span>&nbsp;<span class="ident" id="6653416">Decode</span><span class="op" id="6653422">(</span><span class="ident" id="6653423">dst</span><span class="op" id="6653426">,</span>&nbsp;<span class="op" id="6653428">[</span><span class="op" id="6653429">]</span><span class="builtintype" id="6653430">byte</span><span class="op" id="6653434">(</span><span class="ident" id="6653435">test</span><span class="op" id="6653439">.</span><span class="ident" id="6653440">in</span><span class="op" id="6653442">)</span><span class="op" id="6653443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653447">if</span>&nbsp;<span class="ident" id="6653450">err</span>&nbsp;<span class="op" id="6653454">==</span>&nbsp;<span class="ident" id="6653457">nil</span>&nbsp;<span class="op" id="6653461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653466">t</span><span class="op" id="6653467">.</span><span class="ident" id="6653468">Errorf</span><span class="op" id="6653474">(</span><span class="string" id="6653475">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6653506">,</span>&nbsp;<span class="ident" id="6653508">i</span><span class="op" id="6653509">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653513">}</span>&nbsp;<span class="keyword" id="6653515">else</span>&nbsp;<span class="keyword" id="6653520">if</span>&nbsp;<span class="ident" id="6653523">err</span><span class="op" id="6653526">.</span><span class="ident" id="6653527">Error</span><span class="op" id="6653532">(</span><span class="op" id="6653533">)</span>&nbsp;<span class="op" id="6653535">!=</span>&nbsp;<span class="ident" id="6653538">test</span><span class="op" id="6653542">.</span><span class="ident" id="6653543">err</span>&nbsp;<span class="op" id="6653547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653552">t</span><span class="op" id="6653553">.</span><span class="ident" id="6653554">Errorf</span><span class="op" id="6653560">(</span><span class="string" id="6653561">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="6653584">,</span>&nbsp;<span class="ident" id="6653586">i</span><span class="op" id="6653587">,</span>&nbsp;<span class="ident" id="6653589">err</span><span class="op" id="6653592">,</span>&nbsp;<span class="ident" id="6653594">test</span><span class="op" id="6653598">.</span><span class="ident" id="6653599">err</span><span class="op" id="6653602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653609">}</span><br>
<span class="lineno"></span><span class="op" id="6653611">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="6653614">func</span>&nbsp;<span class="ident" id="6653619">TestInvalidStringErr</span><span class="op" id="6653639">(</span><span class="ident" id="6653640">t</span>&nbsp;<span class="op" id="6653642">*</span><span class="ident" id="6653643">testing</span><span class="op" id="6653650">.</span><span class="ident" id="6653651">T</span><span class="op" id="6653652">)</span>&nbsp;<span class="op" id="6653654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653657">for</span>&nbsp;<span class="ident" id="6653661">i</span><span class="op" id="6653662">,</span>&nbsp;<span class="ident" id="6653664">test</span>&nbsp;<span class="op" id="6653669">:=</span>&nbsp;<span class="keyword" id="6653672">range</span>&nbsp;<span class="ident" id="6653678">errTests</span>&nbsp;<span class="op" id="6653687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653691">_</span><span class="op" id="6653692">,</span>&nbsp;<span class="ident" id="6653694">err</span>&nbsp;<span class="op" id="6653698">:=</span>&nbsp;<span class="ident" id="6653701">DecodeString</span><span class="op" id="6653713">(</span><span class="ident" id="6653714">test</span><span class="op" id="6653718">.</span><span class="ident" id="6653719">in</span><span class="op" id="6653721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653725">if</span>&nbsp;<span class="ident" id="6653728">err</span>&nbsp;<span class="op" id="6653732">==</span>&nbsp;<span class="ident" id="6653735">nil</span>&nbsp;<span class="op" id="6653739">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653744">t</span><span class="op" id="6653745">.</span><span class="ident" id="6653746">Errorf</span><span class="op" id="6653752">(</span><span class="string" id="6653753">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6653784">,</span>&nbsp;<span class="ident" id="6653786">i</span><span class="op" id="6653787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653791">}</span>&nbsp;<span class="keyword" id="6653793">else</span>&nbsp;<span class="keyword" id="6653798">if</span>&nbsp;<span class="ident" id="6653801">err</span><span class="op" id="6653804">.</span><span class="ident" id="6653805">Error</span><span class="op" id="6653810">(</span><span class="op" id="6653811">)</span>&nbsp;<span class="op" id="6653813">!=</span>&nbsp;<span class="ident" id="6653816">test</span><span class="op" id="6653820">.</span><span class="ident" id="6653821">err</span>&nbsp;<span class="op" id="6653825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653830">t</span><span class="op" id="6653831">.</span><span class="ident" id="6653832">Errorf</span><span class="op" id="6653838">(</span><span class="string" id="6653839">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="6653862">,</span>&nbsp;<span class="ident" id="6653864">i</span><span class="op" id="6653865">,</span>&nbsp;<span class="ident" id="6653867">err</span><span class="op" id="6653870">,</span>&nbsp;<span class="ident" id="6653872">test</span><span class="op" id="6653876">.</span><span class="ident" id="6653877">err</span><span class="op" id="6653880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653887">}</span><br>
<span class="lineno">110</span><span class="op" id="6653889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6653892">func</span>&nbsp;<span class="ident" id="6653897">TestDumper</span><span class="op" id="6653907">(</span><span class="ident" id="6653908">t</span>&nbsp;<span class="op" id="6653910">*</span><span class="ident" id="6653911">testing</span><span class="op" id="6653918">.</span><span class="ident" id="6653919">T</span><span class="op" id="6653920">)</span>&nbsp;<span class="op" id="6653922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653925">var</span>&nbsp;<span class="ident" id="6653929">in</span>&nbsp;<span class="op" id="6653932">[</span><span class="num" id="6653933">40</span><span class="op" id="6653935">]</span><span class="builtintype" id="6653936">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653942">for</span>&nbsp;<span class="ident" id="6653946">i</span>&nbsp;<span class="op" id="6653948">:=</span>&nbsp;<span class="keyword" id="6653951">range</span>&nbsp;<span class="ident" id="6653957">in</span>&nbsp;<span class="op" id="6653960">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653964">in</span><span class="op" id="6653966">[</span><span class="ident" id="6653967">i</span><span class="op" id="6653968">]</span>&nbsp;<span class="op" id="6653970">=</span>&nbsp;<span class="builtintype" id="6653972">byte</span><span class="op" id="6653976">(</span><span class="ident" id="6653977">i</span>&nbsp;<span class="op" id="6653979">+</span>&nbsp;<span class="num" id="6653981">30</span><span class="op" id="6653983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653990">for</span>&nbsp;<span class="ident" id="6653994">stride</span>&nbsp;<span class="op" id="6654001">:=</span>&nbsp;<span class="num" id="6654004">1</span><span class="op" id="6654005">;</span>&nbsp;<span class="ident" id="6654007">stride</span>&nbsp;<span class="op" id="6654014">&lt;</span>&nbsp;<span class="builtinfunc" id="6654016">len</span><span class="op" id="6654019">(</span><span class="ident" id="6654020">in</span><span class="op" id="6654022">)</span><span class="op" id="6654023">;</span>&nbsp;<span class="ident" id="6654025">stride</span><span class="op" id="6654031">++</span>&nbsp;<span class="op" id="6654034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654038">var</span>&nbsp;<span class="ident" id="6654042">out</span>&nbsp;<span class="ident" id="6654046">bytes</span><span class="op" id="6654051">.</span><span class="ident" id="6654052">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654061">dumper</span>&nbsp;<span class="op" id="6654068">:=</span>&nbsp;<span class="ident" id="6654071">Dumper</span><span class="op" id="6654077">(</span><span class="op" id="6654078">&amp;</span><span class="ident" id="6654079">out</span><span class="op" id="6654082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654086">done</span>&nbsp;<span class="op" id="6654091">:=</span>&nbsp;<span class="num" id="6654094">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654098">for</span>&nbsp;<span class="ident" id="6654102">done</span>&nbsp;<span class="op" id="6654107">&lt;</span>&nbsp;<span class="builtinfunc" id="6654109">len</span><span class="op" id="6654112">(</span><span class="ident" id="6654113">in</span><span class="op" id="6654115">)</span>&nbsp;<span class="op" id="6654117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654122">todo</span>&nbsp;<span class="op" id="6654127">:=</span>&nbsp;<span class="ident" id="6654130">done</span>&nbsp;<span class="op" id="6654135">+</span>&nbsp;<span class="ident" id="6654137">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654147">if</span>&nbsp;<span class="ident" id="6654150">todo</span>&nbsp;<span class="op" id="6654155">&gt;</span>&nbsp;<span class="builtinfunc" id="6654157">len</span><span class="op" id="6654160">(</span><span class="ident" id="6654161">in</span><span class="op" id="6654163">)</span>&nbsp;<span class="op" id="6654165">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654171">todo</span>&nbsp;<span class="op" id="6654176">=</span>&nbsp;<span class="builtinfunc" id="6654178">len</span><span class="op" id="6654181">(</span><span class="ident" id="6654182">in</span><span class="op" id="6654184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654194">dumper</span><span class="op" id="6654200">.</span><span class="ident" id="6654201">Write</span><span class="op" id="6654206">(</span><span class="ident" id="6654207">in</span><span class="op" id="6654209">[</span><span class="ident" id="6654210">done</span><span class="op" id="6654214">:</span><span class="ident" id="6654215">todo</span><span class="op" id="6654219">]</span><span class="op" id="6654220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654225">done</span>&nbsp;<span class="op" id="6654230">=</span>&nbsp;<span class="ident" id="6654232">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654239">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654244">dumper</span><span class="op" id="6654250">.</span><span class="ident" id="6654251">Close</span><span class="op" id="6654256">(</span><span class="op" id="6654257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654261">if</span>&nbsp;<span class="op" id="6654264">!</span><span class="ident" id="6654265">bytes</span><span class="op" id="6654270">.</span><span class="ident" id="6654271">Equal</span><span class="op" id="6654276">(</span><span class="ident" id="6654277">out</span><span class="op" id="6654280">.</span><span class="ident" id="6654281">Bytes</span><span class="op" id="6654286">(</span><span class="op" id="6654287">)</span><span class="op" id="6654288">,</span>&nbsp;<span class="ident" id="6654290">expectedHexDump</span><span class="op" id="6654305">)</span>&nbsp;<span class="op" id="6654307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654312">t</span><span class="op" id="6654313">.</span><span class="ident" id="6654314">Errorf</span><span class="op" id="6654320">(</span><span class="string" id="6654321">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="6654361">,</span>&nbsp;<span class="ident" id="6654363">stride</span><span class="op" id="6654369">,</span>&nbsp;<span class="ident" id="6654371">out</span><span class="op" id="6654374">.</span><span class="ident" id="6654375">Bytes</span><span class="op" id="6654380">(</span><span class="op" id="6654381">)</span><span class="op" id="6654382">,</span>&nbsp;<span class="ident" id="6654384">expectedHexDump</span><span class="op" id="6654399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654403">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654406">}</span><br>
<span class="lineno"></span><span class="op" id="6654408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6654411">func</span>&nbsp;<span class="ident" id="6654416">TestDump</span><span class="op" id="6654424">(</span><span class="ident" id="6654425">t</span>&nbsp;<span class="op" id="6654427">*</span><span class="ident" id="6654428">testing</span><span class="op" id="6654435">.</span><span class="ident" id="6654436">T</span><span class="op" id="6654437">)</span>&nbsp;<span class="op" id="6654439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654442">var</span>&nbsp;<span class="ident" id="6654446">in</span>&nbsp;<span class="op" id="6654449">[</span><span class="num" id="6654450">40</span><span class="op" id="6654452">]</span><span class="builtintype" id="6654453">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654459">for</span>&nbsp;<span class="ident" id="6654463">i</span>&nbsp;<span class="op" id="6654465">:=</span>&nbsp;<span class="keyword" id="6654468">range</span>&nbsp;<span class="ident" id="6654474">in</span>&nbsp;<span class="op" id="6654477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654481">in</span><span class="op" id="6654483">[</span><span class="ident" id="6654484">i</span><span class="op" id="6654485">]</span>&nbsp;<span class="op" id="6654487">=</span>&nbsp;<span class="builtintype" id="6654489">byte</span><span class="op" id="6654493">(</span><span class="ident" id="6654494">i</span>&nbsp;<span class="op" id="6654496">+</span>&nbsp;<span class="num" id="6654498">30</span><span class="op" id="6654500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654507">out</span>&nbsp;<span class="op" id="6654511">:=</span>&nbsp;<span class="op" id="6654514">[</span><span class="op" id="6654515">]</span><span class="builtintype" id="6654516">byte</span><span class="op" id="6654520">(</span><span class="ident" id="6654521">Dump</span><span class="op" id="6654525">(</span><span class="ident" id="6654526">in</span><span class="op" id="6654528">[</span><span class="op" id="6654529">:</span><span class="op" id="6654530">]</span><span class="op" id="6654531">)</span><span class="op" id="6654532">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654535">if</span>&nbsp;<span class="op" id="6654538">!</span><span class="ident" id="6654539">bytes</span><span class="op" id="6654544">.</span><span class="ident" id="6654545">Equal</span><span class="op" id="6654550">(</span><span class="ident" id="6654551">out</span><span class="op" id="6654554">,</span>&nbsp;<span class="ident" id="6654556">expectedHexDump</span><span class="op" id="6654571">)</span>&nbsp;<span class="op" id="6654573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654577">t</span><span class="op" id="6654578">.</span><span class="ident" id="6654579">Errorf</span><span class="op" id="6654585">(</span><span class="string" id="6654586">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="6654607">,</span>&nbsp;<span class="ident" id="6654609">out</span><span class="op" id="6654612">,</span>&nbsp;<span class="ident" id="6654614">expectedHexDump</span><span class="op" id="6654629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654632">}</span><br>
<span class="lineno"></span><span class="op" id="6654634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="6654637">var</span>&nbsp;<span class="ident" id="6654641">expectedHexDump</span>&nbsp;<span class="op" id="6654657">=</span>&nbsp;<span class="op" id="6654659">[</span><span class="op" id="6654660">]</span><span class="builtintype" id="6654661">byte</span><span class="op" id="6654665">(</span><span class="string" id="6654666">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="6654897">)</span>
</div>
</body>
</html>
