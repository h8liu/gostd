<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5615020">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5615075">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5615129">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5615180">package</span>&nbsp;<span class="ident" id="5615188">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5615194">import</span>&nbsp;<span class="op" id="5615201">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5615204">&#34;compress/flate&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5615222">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5615229">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5615237">&#34;hash/adler32&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5615253">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="5615258">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5615261">//&nbsp;These&nbsp;constants&nbsp;are&nbsp;copied&nbsp;from&nbsp;the&nbsp;flate&nbsp;package,&nbsp;so&nbsp;that&nbsp;code&nbsp;that&nbsp;imports</span><br>
<span class="lineno"></span><span class="comment" id="5615341">//&nbsp;&#34;compress/zlib&#34;&nbsp;does&nbsp;not&nbsp;also&nbsp;have&nbsp;to&nbsp;import&nbsp;&#34;compress/flate&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="5615407">const</span>&nbsp;<span class="op" id="5615413">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615416">NoCompression</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5615435">=</span>&nbsp;<span class="ident" id="5615437"><a href="/compress/zlib/writer.go.html#5615204">flate</a></span><span class="op" id="5615442">.</span><span class="ident" id="5615443">NoCompression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615458">BestSpeed</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5615477">=</span>&nbsp;<span class="ident" id="5615479"><a href="/compress/zlib/writer.go.html#5615204">flate</a></span><span class="op" id="5615484">.</span><span class="ident" id="5615485">BestSpeed</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615496">BestCompression</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5615515">=</span>&nbsp;<span class="ident" id="5615517"><a href="/compress/zlib/writer.go.html#5615204">flate</a></span><span class="op" id="5615522">.</span><span class="ident" id="5615523">BestCompression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615540">DefaultCompression</span>&nbsp;<span class="op" id="5615559">=</span>&nbsp;<span class="ident" id="5615561"><a href="/compress/zlib/writer.go.html#5615204">flate</a></span><span class="op" id="5615566">.</span><span class="ident" id="5615567">DefaultCompression</span><br>
<span class="lineno"></span><span class="op" id="5615586">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5615589">//&nbsp;A&nbsp;Writer&nbsp;takes&nbsp;data&nbsp;written&nbsp;to&nbsp;it&nbsp;and&nbsp;writes&nbsp;the&nbsp;compressed</span><br>
<span class="lineno">25</span><span class="comment" id="5615652">//&nbsp;form&nbsp;of&nbsp;that&nbsp;data&nbsp;to&nbsp;an&nbsp;underlying&nbsp;writer&nbsp;(see&nbsp;NewWriter).</span><br>
<span class="lineno"></span><span class="keyword" id="5615714">type</span>&nbsp;<span class="ident" id="5615719">Writer</span>&nbsp;<span class="keyword" id="5615726">struct</span>&nbsp;<span class="op" id="5615733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615736">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5615748"><a href="/compress/zlib/writer.go.html#5615253">io</a></span><span class="op" id="5615750">.</span><span class="ident" id="5615751">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615759">level</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5615771">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615776">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5615788">[</span><span class="op" id="5615789">]</span><span class="builtintype" id="5615790">byte</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615796">compressor</span>&nbsp;&nbsp;<span class="op" id="5615808">*</span><span class="ident" id="5615809"><a href="/compress/zlib/writer.go.html#5615204">flate</a></span><span class="op" id="5615814">.</span><span class="ident" id="5615815">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615823">digest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5615835"><a href="/compress/zlib/writer.go.html#5615229">hash</a></span><span class="op" id="5615839">.</span><span class="ident" id="5615840">Hash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615848">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5615860">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615867">scratch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5615879">[</span><span class="num" id="5615880">4</span><span class="op" id="5615881">]</span><span class="builtintype" id="5615882">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5615888">wroteHeader</span>&nbsp;<span class="builtintype" id="5615900">bool</span><br>
<span class="lineno">35</span><span class="op" id="5615905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5615908">//&nbsp;NewWriter&nbsp;creates&nbsp;a&nbsp;new&nbsp;Writer.</span><br>
<span class="lineno"></span><span class="comment" id="5615943">//&nbsp;Writes&nbsp;to&nbsp;the&nbsp;returned&nbsp;Writer&nbsp;are&nbsp;compressed&nbsp;and&nbsp;written&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="5616009">//</span><br>
<span class="lineno">40</span><span class="comment" id="5616012">//&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility&nbsp;to&nbsp;call&nbsp;Close&nbsp;on&nbsp;the&nbsp;WriteCloser&nbsp;when&nbsp;done.</span><br>
<span class="lineno"></span><span class="comment" id="5616093">//&nbsp;Writes&nbsp;may&nbsp;be&nbsp;buffered&nbsp;and&nbsp;not&nbsp;flushed&nbsp;until&nbsp;Close.</span><br>
<span class="lineno"></span><span class="keyword" id="5616148">func</span>&nbsp;<span class="ident" id="5616153">NewWriter</span><span class="op" id="5616162">(</span><span class="ident" id="5616163">w</span>&nbsp;<span class="ident" id="5616165"><a href="/compress/zlib/writer.go.html#5615253">io</a></span><span class="op" id="5616167">.</span><span class="ident" id="5616168">Writer</span><span class="op" id="5616174">)</span>&nbsp;<span class="op" id="5616176">*</span><span class="ident" id="5616177"><a href="/compress/zlib/writer.go.html#5615719">Writer</a></span>&nbsp;<span class="op" id="5616184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5616187">z</span><span class="op" id="5616188">,</span>&nbsp;<span class="ident" id="5616190">_</span>&nbsp;<span class="op" id="5616192">:=</span>&nbsp;<span class="ident" id="5616195"><a href="/compress/zlib/writer.go.html#5616884">NewWriterLevelDict</a></span><span class="op" id="5616213">(</span><span class="ident" id="5616214"><a href="/compress/zlib/writer.go.html#5616163">w</a></span><span class="op" id="5616215">,</span>&nbsp;<span class="ident" id="5616217"><a href="/compress/zlib/writer.go.html#5615540">DefaultCompression</a></span><span class="op" id="5616235">,</span>&nbsp;<span class="ident" id="5616237">nil</span><span class="op" id="5616240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5616243">return</span>&nbsp;<span class="ident" id="5616250"><a href="/compress/zlib/writer.go.html#5616187">z</a></span><br>
<span class="lineno">45</span><span class="op" id="5616252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5616255">//&nbsp;NewWriterLevel&nbsp;is&nbsp;like&nbsp;NewWriter&nbsp;but&nbsp;specifies&nbsp;the&nbsp;compression&nbsp;level&nbsp;instead</span><br>
<span class="lineno"></span><span class="comment" id="5616335">//&nbsp;of&nbsp;assuming&nbsp;DefaultCompression.</span><br>
<span class="lineno"></span><span class="comment" id="5616370">//</span><br>
<span class="lineno">50</span><span class="comment" id="5616373">//&nbsp;The&nbsp;compression&nbsp;level&nbsp;can&nbsp;be&nbsp;DefaultCompression,&nbsp;NoCompression,&nbsp;or&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="5616447">//&nbsp;integer&nbsp;value&nbsp;between&nbsp;BestSpeed&nbsp;and&nbsp;BestCompression&nbsp;inclusive.&nbsp;The&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="5616523">//&nbsp;returned&nbsp;will&nbsp;be&nbsp;nil&nbsp;if&nbsp;the&nbsp;level&nbsp;is&nbsp;valid.</span><br>
<span class="lineno"></span><span class="keyword" id="5616570">func</span>&nbsp;<span class="ident" id="5616575">NewWriterLevel</span><span class="op" id="5616589">(</span><span class="ident" id="5616590">w</span>&nbsp;<span class="ident" id="5616592"><a href="/compress/zlib/writer.go.html#5615253">io</a></span><span class="op" id="5616594">.</span><span class="ident" id="5616595">Writer</span><span class="op" id="5616601">,</span>&nbsp;<span class="ident" id="5616603">level</span>&nbsp;<span class="builtintype" id="5616609">int</span><span class="op" id="5616612">)</span>&nbsp;<span class="op" id="5616614">(</span><span class="op" id="5616615">*</span><span class="ident" id="5616616"><a href="/compress/zlib/writer.go.html#5615719">Writer</a></span><span class="op" id="5616622">,</span>&nbsp;<span class="builtintype" id="5616624">error</span><span class="op" id="5616629">)</span>&nbsp;<span class="op" id="5616631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5616634">return</span>&nbsp;<span class="ident" id="5616641"><a href="/compress/zlib/writer.go.html#5616884">NewWriterLevelDict</a></span><span class="op" id="5616659">(</span><span class="ident" id="5616660"><a href="/compress/zlib/writer.go.html#5616590">w</a></span><span class="op" id="5616661">,</span>&nbsp;<span class="ident" id="5616663"><a href="/compress/zlib/writer.go.html#5616603">level</a></span><span class="op" id="5616668">,</span>&nbsp;<span class="ident" id="5616670">nil</span><span class="op" id="5616673">)</span><br>
<span class="lineno">55</span><span class="op" id="5616675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5616678">//&nbsp;NewWriterLevelDict&nbsp;is&nbsp;like&nbsp;NewWriterLevel&nbsp;but&nbsp;specifies&nbsp;a&nbsp;dictionary&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5616753">//&nbsp;compress&nbsp;with.</span><br>
<span class="lineno"></span><span class="comment" id="5616771">//</span><br>
<span class="lineno">60</span><span class="comment" id="5616774">//&nbsp;The&nbsp;dictionary&nbsp;may&nbsp;be&nbsp;nil.&nbsp;If&nbsp;not,&nbsp;its&nbsp;contents&nbsp;should&nbsp;not&nbsp;be&nbsp;modified&nbsp;until</span><br>
<span class="lineno"></span><span class="comment" id="5616854">//&nbsp;the&nbsp;Writer&nbsp;is&nbsp;closed.</span><br>
<span class="lineno"></span><span class="keyword" id="5616879">func</span>&nbsp;<span class="ident" id="5616884">NewWriterLevelDict</span><span class="op" id="5616902">(</span><span class="ident" id="5616903">w</span>&nbsp;<span class="ident" id="5616905"><a href="/compress/zlib/writer.go.html#5615253">io</a></span><span class="op" id="5616907">.</span><span class="ident" id="5616908">Writer</span><span class="op" id="5616914">,</span>&nbsp;<span class="ident" id="5616916">level</span>&nbsp;<span class="builtintype" id="5616922">int</span><span class="op" id="5616925">,</span>&nbsp;<span class="ident" id="5616927">dict</span>&nbsp;<span class="op" id="5616932">[</span><span class="op" id="5616933">]</span><span class="builtintype" id="5616934">byte</span><span class="op" id="5616938">)</span>&nbsp;<span class="op" id="5616940">(</span><span class="op" id="5616941">*</span><span class="ident" id="5616942"><a href="/compress/zlib/writer.go.html#5615719">Writer</a></span><span class="op" id="5616948">,</span>&nbsp;<span class="builtintype" id="5616950">error</span><span class="op" id="5616955">)</span>&nbsp;<span class="op" id="5616957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5616960">if</span>&nbsp;<span class="ident" id="5616963"><a href="/compress/zlib/writer.go.html#5616916">level</a></span>&nbsp;<span class="op" id="5616969">&lt;</span>&nbsp;<span class="ident" id="5616971"><a href="/compress/zlib/writer.go.html#5615540">DefaultCompression</a></span>&nbsp;<span class="op" id="5616990">||</span>&nbsp;<span class="ident" id="5616993"><a href="/compress/zlib/writer.go.html#5616916">level</a></span>&nbsp;<span class="op" id="5616999">&gt;</span>&nbsp;<span class="ident" id="5617001"><a href="/compress/zlib/writer.go.html#5615496">BestCompression</a></span>&nbsp;<span class="op" id="5617017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617021">return</span>&nbsp;<span class="ident" id="5617028">nil</span><span class="op" id="5617031">,</span>&nbsp;<span class="ident" id="5617033"><a href="/compress/zlib/writer.go.html#5615222">fmt</a></span><span class="op" id="5617036">.</span><span class="ident" id="5617037">Errorf</span><span class="op" id="5617043">(</span><span class="string" id="5617044">&#34;zlib:&nbsp;invalid&nbsp;compression&nbsp;level:&nbsp;%d&#34;</span><span class="op" id="5617081">,</span>&nbsp;<span class="ident" id="5617083"><a href="/compress/zlib/writer.go.html#5616916">level</a></span><span class="op" id="5617088">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617094">return</span>&nbsp;<span class="op" id="5617101">&amp;</span><span class="ident" id="5617102"><a href="/compress/zlib/writer.go.html#5615719">Writer</a></span><span class="op" id="5617108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617112">w</span><span class="op" id="5617113">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5617119"><a href="/compress/zlib/writer.go.html#5616903">w</a></span><span class="op" id="5617120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617124">level</span><span class="op" id="5617129">:</span>&nbsp;<span class="ident" id="5617131"><a href="/compress/zlib/writer.go.html#5616916">level</a></span><span class="op" id="5617136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617140">dict</span><span class="op" id="5617144">:</span>&nbsp;&nbsp;<span class="ident" id="5617147"><a href="/compress/zlib/writer.go.html#5616927">dict</a></span><span class="op" id="5617151">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617154">}</span><span class="op" id="5617155">,</span>&nbsp;<span class="ident" id="5617157">nil</span><br>
<span class="lineno"></span><span class="op" id="5617161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5617164">//&nbsp;Reset&nbsp;clears&nbsp;the&nbsp;state&nbsp;of&nbsp;the&nbsp;Writer&nbsp;z&nbsp;such&nbsp;that&nbsp;it&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="5617240">//&nbsp;initial&nbsp;state&nbsp;from&nbsp;NewWriterLevel&nbsp;or&nbsp;NewWriterLevelDict,&nbsp;but&nbsp;instead&nbsp;writing</span><br>
<span class="lineno">75</span><span class="comment" id="5617320">//&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="keyword" id="5617329">func</span>&nbsp;<span class="op" id="5617334">(</span><span class="ident" id="5617335">z</span>&nbsp;<span class="op" id="5617337">*</span><span class="ident" id="5617338"><a href="/compress/zlib/writer.go.html#5615719">Writer</a></span><span class="op" id="5617344">)</span>&nbsp;<span class="ident" id="5617346">Reset</span><span class="op" id="5617351">(</span><span class="ident" id="5617352">w</span>&nbsp;<span class="ident" id="5617354"><a href="/compress/zlib/writer.go.html#5615253">io</a></span><span class="op" id="5617356">.</span><span class="ident" id="5617357">Writer</span><span class="op" id="5617363">)</span>&nbsp;<span class="op" id="5617365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617368"><a href="/compress/zlib/writer.go.html#5617335">z</a></span><span class="op" id="5617369">.</span><span class="ident" id="5617370">w</span>&nbsp;<span class="op" id="5617372">=</span>&nbsp;<span class="ident" id="5617374"><a href="/compress/zlib/writer.go.html#5617352">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5617377">//&nbsp;z.level&nbsp;and&nbsp;z.dict&nbsp;left&nbsp;unchanged.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617416">if</span>&nbsp;<span class="ident" id="5617419"><a href="/compress/zlib/writer.go.html#5617335">z</a></span><span class="op" id="5617420">.</span><span class="ident" id="5617421">compressor</span>&nbsp;<span class="op" id="5617432">!=</span>&nbsp;<span class="ident" id="5617435">nil</span>&nbsp;<span class="op" id="5617439">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617443"><a href="/compress/zlib/writer.go.html#5617335">z</a></span><span class="op" id="5617444">.</span><span class="ident" id="5617445">compressor</span><span class="op" id="5617455">.</span><span class="ident" id="5617456">Reset</span><span class="op" id="5617461">(</span><span class="ident" id="5617462"><a href="/compress/zlib/writer.go.html#5617352">w</a></span><span class="op" id="5617463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5617469">if</span>&nbsp;<span class="ident" id="5617472"><a href="/compress/zlib/writer.go.html#5617335">z</a></span><span class="op" id="5617473">.</span><span class="ident" id="5617474">digest</span>&nbsp;<span class="op" id="5617481">!=</span>&nbsp;<span class="ident" id="5617484">nil</span>&nbsp;<span class="op" id="5617488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617492"><a href="/compress/zlib/writer.go.html#5617335">z</a></span><span class="op" id="5617493">.</span><span class="ident" id="5617494">digest</span><span class="op" id="5617500">.</span><span class="ident" id="5617501">Reset</span><span class="op" id="5617506">(</span><span class="op" id="5617507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5617510">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617513"><a href="/compress/zlib/writer.go.html#5617335">z</a></span><span class="op" id="5617514">.</span><span class="ident" id="5617515">err</span>&nbsp;<span class="op" id="5617519">=</span>&nbsp;<span class="ident" id="5617521">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617526"><a href="/compress/zlib/writer.go.html#5617335">z</a></span><span class="op" id="5617527">.</span><span class="ident" id="5617528">scratch</span>&nbsp;<span class="op" id="5617536">=</span>&nbsp;<span class="op" id="5617538">[</span><span class="num" id="5617539">4</span><span class="op" id="5617540">]</span><span class="builtintype" id="5617541">byte</span><span class="op" id="5617545">{</span><span class="op" id="5617546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617549"><a href="/compress/zlib/writer.go.html#5617335">z</a></span><span class="op" id="5617550">.</span><span class="ident" id="5617551">wroteHeader</span>&nbsp;<span class="op" id="5617563">=</span>&nbsp;<span class="ident" id="5617565">false</span><br>
<span class="lineno"></span><span class="op" id="5617571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="5617574">//&nbsp;writeHeader&nbsp;writes&nbsp;the&nbsp;ZLIB&nbsp;header.</span><br>
<span class="lineno"></span><span class="keyword" id="5617613">func</span>&nbsp;<span class="op" id="5617618">(</span><span class="ident" id="5617619">z</span>&nbsp;<span class="op" id="5617621">*</span><span class="ident" id="5617622"><a href="/compress/zlib/writer.go.html#5615719">Writer</a></span><span class="op" id="5617628">)</span>&nbsp;<span class="ident" id="5617630">writeHeader</span><span class="op" id="5617641">(</span><span class="op" id="5617642">)</span>&nbsp;<span class="op" id="5617644">(</span><span class="ident" id="5617645">err</span>&nbsp;<span class="builtintype" id="5617649">error</span><span class="op" id="5617654">)</span>&nbsp;<span class="op" id="5617656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617659"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5617660">.</span><span class="ident" id="5617661">wroteHeader</span>&nbsp;<span class="op" id="5617673">=</span>&nbsp;<span class="ident" id="5617675">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5617681">//&nbsp;ZLIB&nbsp;has&nbsp;a&nbsp;two-byte&nbsp;header&nbsp;(as&nbsp;documented&nbsp;in&nbsp;RFC&nbsp;1950).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5617741">//&nbsp;The&nbsp;first&nbsp;four&nbsp;bits&nbsp;is&nbsp;the&nbsp;CINFO&nbsp;(compression&nbsp;info),&nbsp;which&nbsp;is&nbsp;7&nbsp;for&nbsp;the&nbsp;default&nbsp;deflate&nbsp;window&nbsp;size.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5617846">//&nbsp;The&nbsp;next&nbsp;four&nbsp;bits&nbsp;is&nbsp;the&nbsp;CM&nbsp;(compression&nbsp;method),&nbsp;which&nbsp;is&nbsp;8&nbsp;for&nbsp;deflate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5617925"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5617926">.</span><span class="ident" id="5617927">scratch</span><span class="op" id="5617934">[</span><span class="num" id="5617935">0</span><span class="op" id="5617936">]</span>&nbsp;<span class="op" id="5617938">=</span>&nbsp;<span class="num" id="5617940">0x78</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5617946">//&nbsp;The&nbsp;next&nbsp;two&nbsp;bits&nbsp;is&nbsp;the&nbsp;FLEVEL&nbsp;(compression&nbsp;level).&nbsp;The&nbsp;four&nbsp;values&nbsp;are:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5618024">//&nbsp;0=fastest,&nbsp;1=fast,&nbsp;2=default,&nbsp;3=best.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5618066">//&nbsp;The&nbsp;next&nbsp;bit,&nbsp;FDICT,&nbsp;is&nbsp;set&nbsp;if&nbsp;a&nbsp;dictionary&nbsp;is&nbsp;given.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5618124">//&nbsp;The&nbsp;final&nbsp;five&nbsp;FCHECK&nbsp;bits&nbsp;form&nbsp;a&nbsp;mod-31&nbsp;checksum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618179">switch</span>&nbsp;<span class="ident" id="5618186"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618187">.</span><span class="ident" id="5618188">level</span>&nbsp;<span class="op" id="5618194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618197">case</span>&nbsp;<span class="num" id="5618202">0</span><span class="op" id="5618203">,</span>&nbsp;<span class="num" id="5618205">1</span><span class="op" id="5618206">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618210"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618211">.</span><span class="ident" id="5618212">scratch</span><span class="op" id="5618219">[</span><span class="num" id="5618220">1</span><span class="op" id="5618221">]</span>&nbsp;<span class="op" id="5618223">=</span>&nbsp;<span class="num" id="5618225">0</span>&nbsp;<span class="op" id="5618227">&lt;&lt;</span>&nbsp;<span class="num" id="5618230">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618233">case</span>&nbsp;<span class="num" id="5618238">2</span><span class="op" id="5618239">,</span>&nbsp;<span class="num" id="5618241">3</span><span class="op" id="5618242">,</span>&nbsp;<span class="num" id="5618244">4</span><span class="op" id="5618245">,</span>&nbsp;<span class="num" id="5618247">5</span><span class="op" id="5618248">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618252"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618253">.</span><span class="ident" id="5618254">scratch</span><span class="op" id="5618261">[</span><span class="num" id="5618262">1</span><span class="op" id="5618263">]</span>&nbsp;<span class="op" id="5618265">=</span>&nbsp;<span class="num" id="5618267">1</span>&nbsp;<span class="op" id="5618269">&lt;&lt;</span>&nbsp;<span class="num" id="5618272">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618275">case</span>&nbsp;<span class="num" id="5618280">6</span><span class="op" id="5618281">,</span>&nbsp;<span class="op" id="5618283">-</span><span class="num" id="5618284">1</span><span class="op" id="5618285">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618289"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618290">.</span><span class="ident" id="5618291">scratch</span><span class="op" id="5618298">[</span><span class="num" id="5618299">1</span><span class="op" id="5618300">]</span>&nbsp;<span class="op" id="5618302">=</span>&nbsp;<span class="num" id="5618304">2</span>&nbsp;<span class="op" id="5618306">&lt;&lt;</span>&nbsp;<span class="num" id="5618309">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618312">case</span>&nbsp;<span class="num" id="5618317">7</span><span class="op" id="5618318">,</span>&nbsp;<span class="num" id="5618320">8</span><span class="op" id="5618321">,</span>&nbsp;<span class="num" id="5618323">9</span><span class="op" id="5618324">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618328"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618329">.</span><span class="ident" id="5618330">scratch</span><span class="op" id="5618337">[</span><span class="num" id="5618338">1</span><span class="op" id="5618339">]</span>&nbsp;<span class="op" id="5618341">=</span>&nbsp;<span class="num" id="5618343">3</span>&nbsp;<span class="op" id="5618345">&lt;&lt;</span>&nbsp;<span class="num" id="5618348">6</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618351">default</span><span class="op" id="5618358">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5618362">panic</span><span class="op" id="5618367">(</span><span class="string" id="5618368">&#34;unreachable&#34;</span><span class="op" id="5618381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618387">if</span>&nbsp;<span class="ident" id="5618390"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618391">.</span><span class="ident" id="5618392">dict</span>&nbsp;<span class="op" id="5618397">!=</span>&nbsp;<span class="ident" id="5618400">nil</span>&nbsp;<span class="op" id="5618404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618408"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618409">.</span><span class="ident" id="5618410">scratch</span><span class="op" id="5618417">[</span><span class="num" id="5618418">1</span><span class="op" id="5618419">]</span>&nbsp;<span class="op" id="5618421">|=</span>&nbsp;<span class="num" id="5618424">1</span>&nbsp;<span class="op" id="5618426">&lt;&lt;</span>&nbsp;<span class="num" id="5618429">5</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618435"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618436">.</span><span class="ident" id="5618437">scratch</span><span class="op" id="5618444">[</span><span class="num" id="5618445">1</span><span class="op" id="5618446">]</span>&nbsp;<span class="op" id="5618448">+=</span>&nbsp;<span class="builtintype" id="5618451">uint8</span><span class="op" id="5618456">(</span><span class="num" id="5618457">31</span>&nbsp;<span class="op" id="5618460">-</span>&nbsp;<span class="op" id="5618462">(</span><span class="builtintype" id="5618463">uint16</span><span class="op" id="5618469">(</span><span class="ident" id="5618470"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618471">.</span><span class="ident" id="5618472">scratch</span><span class="op" id="5618479">[</span><span class="num" id="5618480">0</span><span class="op" id="5618481">]</span><span class="op" id="5618482">)</span><span class="op" id="5618483">&lt;&lt;</span><span class="num" id="5618485">8</span><span class="op" id="5618486">+</span><span class="builtintype" id="5618487">uint16</span><span class="op" id="5618493">(</span><span class="ident" id="5618494"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618495">.</span><span class="ident" id="5618496">scratch</span><span class="op" id="5618503">[</span><span class="num" id="5618504">1</span><span class="op" id="5618505">]</span><span class="op" id="5618506">)</span><span class="op" id="5618507">)</span><span class="op" id="5618508">%</span><span class="num" id="5618509">31</span><span class="op" id="5618511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618514">if</span>&nbsp;<span class="ident" id="5618517">_</span><span class="op" id="5618518">,</span>&nbsp;<span class="ident" id="5618520"><a href="/compress/zlib/writer.go.html#5617645">err</a></span>&nbsp;<span class="op" id="5618524">=</span>&nbsp;<span class="ident" id="5618526"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618527">.</span><span class="ident" id="5618528">w</span><span class="op" id="5618529">.</span><span class="ident" id="5618530">Write</span><span class="op" id="5618535">(</span><span class="ident" id="5618536"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618537">.</span><span class="ident" id="5618538">scratch</span><span class="op" id="5618545">[</span><span class="num" id="5618546">0</span><span class="op" id="5618547">:</span><span class="num" id="5618548">2</span><span class="op" id="5618549">]</span><span class="op" id="5618550">)</span><span class="op" id="5618551">;</span>&nbsp;<span class="ident" id="5618553"><a href="/compress/zlib/writer.go.html#5617645">err</a></span>&nbsp;<span class="op" id="5618557">!=</span>&nbsp;<span class="ident" id="5618560">nil</span>&nbsp;<span class="op" id="5618564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618568">return</span>&nbsp;<span class="ident" id="5618575"><a href="/compress/zlib/writer.go.html#5617645">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618580">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618583">if</span>&nbsp;<span class="ident" id="5618586"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618587">.</span><span class="ident" id="5618588">dict</span>&nbsp;<span class="op" id="5618593">!=</span>&nbsp;<span class="ident" id="5618596">nil</span>&nbsp;<span class="op" id="5618600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5618604">//&nbsp;The&nbsp;next&nbsp;four&nbsp;bytes&nbsp;are&nbsp;the&nbsp;Adler-32&nbsp;checksum&nbsp;of&nbsp;the&nbsp;dictionary.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618674">checksum</span>&nbsp;<span class="op" id="5618683">:=</span>&nbsp;<span class="ident" id="5618686"><a href="/compress/zlib/writer.go.html#5615237">adler32</a></span><span class="op" id="5618693">.</span><span class="ident" id="5618694">Checksum</span><span class="op" id="5618702">(</span><span class="ident" id="5618703"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618704">.</span><span class="ident" id="5618705">dict</span><span class="op" id="5618709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618713"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618714">.</span><span class="ident" id="5618715">scratch</span><span class="op" id="5618722">[</span><span class="num" id="5618723">0</span><span class="op" id="5618724">]</span>&nbsp;<span class="op" id="5618726">=</span>&nbsp;<span class="builtintype" id="5618728">uint8</span><span class="op" id="5618733">(</span><span class="ident" id="5618734"><a href="/compress/zlib/writer.go.html#5618674">checksum</a></span>&nbsp;<span class="op" id="5618743">&gt;&gt;</span>&nbsp;<span class="num" id="5618746">24</span><span class="op" id="5618748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618752"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618753">.</span><span class="ident" id="5618754">scratch</span><span class="op" id="5618761">[</span><span class="num" id="5618762">1</span><span class="op" id="5618763">]</span>&nbsp;<span class="op" id="5618765">=</span>&nbsp;<span class="builtintype" id="5618767">uint8</span><span class="op" id="5618772">(</span><span class="ident" id="5618773"><a href="/compress/zlib/writer.go.html#5618674">checksum</a></span>&nbsp;<span class="op" id="5618782">&gt;&gt;</span>&nbsp;<span class="num" id="5618785">16</span><span class="op" id="5618787">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618791"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618792">.</span><span class="ident" id="5618793">scratch</span><span class="op" id="5618800">[</span><span class="num" id="5618801">2</span><span class="op" id="5618802">]</span>&nbsp;<span class="op" id="5618804">=</span>&nbsp;<span class="builtintype" id="5618806">uint8</span><span class="op" id="5618811">(</span><span class="ident" id="5618812"><a href="/compress/zlib/writer.go.html#5618674">checksum</a></span>&nbsp;<span class="op" id="5618821">&gt;&gt;</span>&nbsp;<span class="num" id="5618824">8</span><span class="op" id="5618825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618829"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618830">.</span><span class="ident" id="5618831">scratch</span><span class="op" id="5618838">[</span><span class="num" id="5618839">3</span><span class="op" id="5618840">]</span>&nbsp;<span class="op" id="5618842">=</span>&nbsp;<span class="builtintype" id="5618844">uint8</span><span class="op" id="5618849">(</span><span class="ident" id="5618850"><a href="/compress/zlib/writer.go.html#5618674">checksum</a></span>&nbsp;<span class="op" id="5618859">&gt;&gt;</span>&nbsp;<span class="num" id="5618862">0</span><span class="op" id="5618863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618867">if</span>&nbsp;<span class="ident" id="5618870">_</span><span class="op" id="5618871">,</span>&nbsp;<span class="ident" id="5618873"><a href="/compress/zlib/writer.go.html#5617645">err</a></span>&nbsp;<span class="op" id="5618877">=</span>&nbsp;<span class="ident" id="5618879"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618880">.</span><span class="ident" id="5618881">w</span><span class="op" id="5618882">.</span><span class="ident" id="5618883">Write</span><span class="op" id="5618888">(</span><span class="ident" id="5618889"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618890">.</span><span class="ident" id="5618891">scratch</span><span class="op" id="5618898">[</span><span class="num" id="5618899">0</span><span class="op" id="5618900">:</span><span class="num" id="5618901">4</span><span class="op" id="5618902">]</span><span class="op" id="5618903">)</span><span class="op" id="5618904">;</span>&nbsp;<span class="ident" id="5618906"><a href="/compress/zlib/writer.go.html#5617645">err</a></span>&nbsp;<span class="op" id="5618910">!=</span>&nbsp;<span class="ident" id="5618913">nil</span>&nbsp;<span class="op" id="5618917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618922">return</span>&nbsp;<span class="ident" id="5618929"><a href="/compress/zlib/writer.go.html#5617645">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618935">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5618938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618941">if</span>&nbsp;<span class="ident" id="5618944"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5618945">.</span><span class="ident" id="5618946">compressor</span>&nbsp;<span class="op" id="5618957">==</span>&nbsp;<span class="ident" id="5618960">nil</span>&nbsp;<span class="op" id="5618964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5618968">//&nbsp;Initialize&nbsp;deflater&nbsp;unless&nbsp;the&nbsp;Writer&nbsp;is&nbsp;being&nbsp;reused</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5619027">//&nbsp;after&nbsp;a&nbsp;Reset&nbsp;call.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619052"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5619053">.</span><span class="ident" id="5619054">compressor</span><span class="op" id="5619064">,</span>&nbsp;<span class="ident" id="5619066"><a href="/compress/zlib/writer.go.html#5617645">err</a></span>&nbsp;<span class="op" id="5619070">=</span>&nbsp;<span class="ident" id="5619072"><a href="/compress/zlib/writer.go.html#5615204">flate</a></span><span class="op" id="5619077">.</span><span class="ident" id="5619078">NewWriterDict</span><span class="op" id="5619091">(</span><span class="ident" id="5619092"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5619093">.</span><span class="ident" id="5619094">w</span><span class="op" id="5619095">,</span>&nbsp;<span class="ident" id="5619097"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5619098">.</span><span class="ident" id="5619099">level</span><span class="op" id="5619104">,</span>&nbsp;<span class="ident" id="5619106"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5619107">.</span><span class="ident" id="5619108">dict</span><span class="op" id="5619112">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619116">if</span>&nbsp;<span class="ident" id="5619119"><a href="/compress/zlib/writer.go.html#5617645">err</a></span>&nbsp;<span class="op" id="5619123">!=</span>&nbsp;<span class="ident" id="5619126">nil</span>&nbsp;<span class="op" id="5619130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619135">return</span>&nbsp;<span class="ident" id="5619142"><a href="/compress/zlib/writer.go.html#5617645">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619152"><a href="/compress/zlib/writer.go.html#5617619">z</a></span><span class="op" id="5619153">.</span><span class="ident" id="5619154">digest</span>&nbsp;<span class="op" id="5619161">=</span>&nbsp;<span class="ident" id="5619163"><a href="/compress/zlib/writer.go.html#5615237">adler32</a></span><span class="op" id="5619170">.</span><span class="ident" id="5619171">New</span><span class="op" id="5619174">(</span><span class="op" id="5619175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619178">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619181">return</span>&nbsp;<span class="ident" id="5619188">nil</span><br>
<span class="lineno"></span><span class="op" id="5619192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5619195">//&nbsp;Write&nbsp;writes&nbsp;a&nbsp;compressed&nbsp;form&nbsp;of&nbsp;p&nbsp;to&nbsp;the&nbsp;underlying&nbsp;io.Writer.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="5619267">//&nbsp;compressed&nbsp;bytes&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;flushed&nbsp;until&nbsp;the&nbsp;Writer&nbsp;is&nbsp;closed&nbsp;or</span><br>
<span class="lineno">145</span><span class="comment" id="5619345">//&nbsp;explicitly&nbsp;flushed.</span><br>
<span class="lineno"></span><span class="keyword" id="5619368">func</span>&nbsp;<span class="op" id="5619373">(</span><span class="ident" id="5619374">z</span>&nbsp;<span class="op" id="5619376">*</span><span class="ident" id="5619377"><a href="/compress/zlib/writer.go.html#5615719">Writer</a></span><span class="op" id="5619383">)</span>&nbsp;<span class="ident" id="5619385">Write</span><span class="op" id="5619390">(</span><span class="ident" id="5619391">p</span>&nbsp;<span class="op" id="5619393">[</span><span class="op" id="5619394">]</span><span class="builtintype" id="5619395">byte</span><span class="op" id="5619399">)</span>&nbsp;<span class="op" id="5619401">(</span><span class="ident" id="5619402">n</span>&nbsp;<span class="builtintype" id="5619404">int</span><span class="op" id="5619407">,</span>&nbsp;<span class="ident" id="5619409">err</span>&nbsp;<span class="builtintype" id="5619413">error</span><span class="op" id="5619418">)</span>&nbsp;<span class="op" id="5619420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619423">if</span>&nbsp;<span class="op" id="5619426">!</span><span class="ident" id="5619427"><a href="/compress/zlib/writer.go.html#5619374">z</a></span><span class="op" id="5619428">.</span><span class="ident" id="5619429">wroteHeader</span>&nbsp;<span class="op" id="5619441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619445"><a href="/compress/zlib/writer.go.html#5619374">z</a></span><span class="op" id="5619446">.</span><span class="ident" id="5619447">err</span>&nbsp;<span class="op" id="5619451">=</span>&nbsp;<span class="ident" id="5619453"><a href="/compress/zlib/writer.go.html#5619374">z</a></span><span class="op" id="5619454">.</span><span class="ident" id="5619455">writeHeader</span><span class="op" id="5619466">(</span><span class="op" id="5619467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619470">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619473">if</span>&nbsp;<span class="ident" id="5619476"><a href="/compress/zlib/writer.go.html#5619374">z</a></span><span class="op" id="5619477">.</span><span class="ident" id="5619478">err</span>&nbsp;<span class="op" id="5619482">!=</span>&nbsp;<span class="ident" id="5619485">nil</span>&nbsp;<span class="op" id="5619489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619493">return</span>&nbsp;<span class="num" id="5619500">0</span><span class="op" id="5619501">,</span>&nbsp;<span class="ident" id="5619503"><a href="/compress/zlib/writer.go.html#5619374">z</a></span><span class="op" id="5619504">.</span><span class="ident" id="5619505">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619513">if</span>&nbsp;<span class="builtinfunc" id="5619516">len</span><span class="op" id="5619519">(</span><span class="ident" id="5619520"><a href="/compress/zlib/writer.go.html#5619391">p</a></span><span class="op" id="5619521">)</span>&nbsp;<span class="op" id="5619523">==</span>&nbsp;<span class="num" id="5619526">0</span>&nbsp;<span class="op" id="5619528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619532">return</span>&nbsp;<span class="num" id="5619539">0</span><span class="op" id="5619540">,</span>&nbsp;<span class="ident" id="5619542">nil</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619550"><a href="/compress/zlib/writer.go.html#5619402">n</a></span><span class="op" id="5619551">,</span>&nbsp;<span class="ident" id="5619553"><a href="/compress/zlib/writer.go.html#5619409">err</a></span>&nbsp;<span class="op" id="5619557">=</span>&nbsp;<span class="ident" id="5619559"><a href="/compress/zlib/writer.go.html#5619374">z</a></span><span class="op" id="5619560">.</span><span class="ident" id="5619561">compressor</span><span class="op" id="5619571">.</span><span class="ident" id="5619572">Write</span><span class="op" id="5619577">(</span><span class="ident" id="5619578"><a href="/compress/zlib/writer.go.html#5619391">p</a></span><span class="op" id="5619579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619582">if</span>&nbsp;<span class="ident" id="5619585"><a href="/compress/zlib/writer.go.html#5619409">err</a></span>&nbsp;<span class="op" id="5619589">!=</span>&nbsp;<span class="ident" id="5619592">nil</span>&nbsp;<span class="op" id="5619596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619600"><a href="/compress/zlib/writer.go.html#5619374">z</a></span><span class="op" id="5619601">.</span><span class="ident" id="5619602">err</span>&nbsp;<span class="op" id="5619606">=</span>&nbsp;<span class="ident" id="5619608"><a href="/compress/zlib/writer.go.html#5619409">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619614">return</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619625"><a href="/compress/zlib/writer.go.html#5619374">z</a></span><span class="op" id="5619626">.</span><span class="ident" id="5619627">digest</span><span class="op" id="5619633">.</span><span class="ident" id="5619634">Write</span><span class="op" id="5619639">(</span><span class="ident" id="5619640"><a href="/compress/zlib/writer.go.html#5619391">p</a></span><span class="op" id="5619641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619644">return</span><br>
<span class="lineno"></span><span class="op" id="5619651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="5619654">//&nbsp;Flush&nbsp;flushes&nbsp;the&nbsp;Writer&nbsp;to&nbsp;its&nbsp;underlying&nbsp;io.Writer.</span><br>
<span class="lineno"></span><span class="keyword" id="5619711">func</span>&nbsp;<span class="op" id="5619716">(</span><span class="ident" id="5619717">z</span>&nbsp;<span class="op" id="5619719">*</span><span class="ident" id="5619720"><a href="/compress/zlib/writer.go.html#5615719">Writer</a></span><span class="op" id="5619726">)</span>&nbsp;<span class="ident" id="5619728">Flush</span><span class="op" id="5619733">(</span><span class="op" id="5619734">)</span>&nbsp;<span class="builtintype" id="5619736">error</span>&nbsp;<span class="op" id="5619742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619745">if</span>&nbsp;<span class="op" id="5619748">!</span><span class="ident" id="5619749"><a href="/compress/zlib/writer.go.html#5619717">z</a></span><span class="op" id="5619750">.</span><span class="ident" id="5619751">wroteHeader</span>&nbsp;<span class="op" id="5619763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619767"><a href="/compress/zlib/writer.go.html#5619717">z</a></span><span class="op" id="5619768">.</span><span class="ident" id="5619769">err</span>&nbsp;<span class="op" id="5619773">=</span>&nbsp;<span class="ident" id="5619775"><a href="/compress/zlib/writer.go.html#5619717">z</a></span><span class="op" id="5619776">.</span><span class="ident" id="5619777">writeHeader</span><span class="op" id="5619788">(</span><span class="op" id="5619789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619792">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619795">if</span>&nbsp;<span class="ident" id="5619798"><a href="/compress/zlib/writer.go.html#5619717">z</a></span><span class="op" id="5619799">.</span><span class="ident" id="5619800">err</span>&nbsp;<span class="op" id="5619804">!=</span>&nbsp;<span class="ident" id="5619807">nil</span>&nbsp;<span class="op" id="5619811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619815">return</span>&nbsp;<span class="ident" id="5619822"><a href="/compress/zlib/writer.go.html#5619717">z</a></span><span class="op" id="5619823">.</span><span class="ident" id="5619824">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619832"><a href="/compress/zlib/writer.go.html#5619717">z</a></span><span class="op" id="5619833">.</span><span class="ident" id="5619834">err</span>&nbsp;<span class="op" id="5619838">=</span>&nbsp;<span class="ident" id="5619840"><a href="/compress/zlib/writer.go.html#5619717">z</a></span><span class="op" id="5619841">.</span><span class="ident" id="5619842">compressor</span><span class="op" id="5619852">.</span><span class="ident" id="5619853">Flush</span><span class="op" id="5619858">(</span><span class="op" id="5619859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619862">return</span>&nbsp;<span class="ident" id="5619869"><a href="/compress/zlib/writer.go.html#5619717">z</a></span><span class="op" id="5619870">.</span><span class="ident" id="5619871">err</span><br>
<span class="lineno">175</span><span class="op" id="5619875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5619878">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;Writer,&nbsp;flushing&nbsp;any&nbsp;unwritten&nbsp;data&nbsp;to&nbsp;the&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="5619952">//&nbsp;io.Writer,&nbsp;but&nbsp;does&nbsp;not&nbsp;close&nbsp;the&nbsp;underlying&nbsp;io.Writer.</span><br>
<span class="lineno"></span><span class="keyword" id="5620011">func</span>&nbsp;<span class="op" id="5620016">(</span><span class="ident" id="5620017">z</span>&nbsp;<span class="op" id="5620019">*</span><span class="ident" id="5620020"><a href="/compress/zlib/writer.go.html#5615719">Writer</a></span><span class="op" id="5620026">)</span>&nbsp;<span class="ident" id="5620028">Close</span><span class="op" id="5620033">(</span><span class="op" id="5620034">)</span>&nbsp;<span class="builtintype" id="5620036">error</span>&nbsp;<span class="op" id="5620042">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620045">if</span>&nbsp;<span class="op" id="5620048">!</span><span class="ident" id="5620049"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620050">.</span><span class="ident" id="5620051">wroteHeader</span>&nbsp;<span class="op" id="5620063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620067"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620068">.</span><span class="ident" id="5620069">err</span>&nbsp;<span class="op" id="5620073">=</span>&nbsp;<span class="ident" id="5620075"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620076">.</span><span class="ident" id="5620077">writeHeader</span><span class="op" id="5620088">(</span><span class="op" id="5620089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620095">if</span>&nbsp;<span class="ident" id="5620098"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620099">.</span><span class="ident" id="5620100">err</span>&nbsp;<span class="op" id="5620104">!=</span>&nbsp;<span class="ident" id="5620107">nil</span>&nbsp;<span class="op" id="5620111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620115">return</span>&nbsp;<span class="ident" id="5620122"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620123">.</span><span class="ident" id="5620124">err</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620132"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620133">.</span><span class="ident" id="5620134">err</span>&nbsp;<span class="op" id="5620138">=</span>&nbsp;<span class="ident" id="5620140"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620141">.</span><span class="ident" id="5620142">compressor</span><span class="op" id="5620152">.</span><span class="ident" id="5620153">Close</span><span class="op" id="5620158">(</span><span class="op" id="5620159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620162">if</span>&nbsp;<span class="ident" id="5620165"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620166">.</span><span class="ident" id="5620167">err</span>&nbsp;<span class="op" id="5620171">!=</span>&nbsp;<span class="ident" id="5620174">nil</span>&nbsp;<span class="op" id="5620178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620182">return</span>&nbsp;<span class="ident" id="5620189"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620190">.</span><span class="ident" id="5620191">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620196">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620199">checksum</span>&nbsp;<span class="op" id="5620208">:=</span>&nbsp;<span class="ident" id="5620211"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620212">.</span><span class="ident" id="5620213">digest</span><span class="op" id="5620219">.</span><span class="ident" id="5620220">Sum32</span><span class="op" id="5620225">(</span><span class="op" id="5620226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5620229">//&nbsp;ZLIB&nbsp;(RFC&nbsp;1950)&nbsp;is&nbsp;big-endian,&nbsp;unlike&nbsp;GZIP&nbsp;(RFC&nbsp;1952).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620288"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620289">.</span><span class="ident" id="5620290">scratch</span><span class="op" id="5620297">[</span><span class="num" id="5620298">0</span><span class="op" id="5620299">]</span>&nbsp;<span class="op" id="5620301">=</span>&nbsp;<span class="builtintype" id="5620303">uint8</span><span class="op" id="5620308">(</span><span class="ident" id="5620309"><a href="/compress/zlib/writer.go.html#5620199">checksum</a></span>&nbsp;<span class="op" id="5620318">&gt;&gt;</span>&nbsp;<span class="num" id="5620321">24</span><span class="op" id="5620323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620326"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620327">.</span><span class="ident" id="5620328">scratch</span><span class="op" id="5620335">[</span><span class="num" id="5620336">1</span><span class="op" id="5620337">]</span>&nbsp;<span class="op" id="5620339">=</span>&nbsp;<span class="builtintype" id="5620341">uint8</span><span class="op" id="5620346">(</span><span class="ident" id="5620347"><a href="/compress/zlib/writer.go.html#5620199">checksum</a></span>&nbsp;<span class="op" id="5620356">&gt;&gt;</span>&nbsp;<span class="num" id="5620359">16</span><span class="op" id="5620361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620364"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620365">.</span><span class="ident" id="5620366">scratch</span><span class="op" id="5620373">[</span><span class="num" id="5620374">2</span><span class="op" id="5620375">]</span>&nbsp;<span class="op" id="5620377">=</span>&nbsp;<span class="builtintype" id="5620379">uint8</span><span class="op" id="5620384">(</span><span class="ident" id="5620385"><a href="/compress/zlib/writer.go.html#5620199">checksum</a></span>&nbsp;<span class="op" id="5620394">&gt;&gt;</span>&nbsp;<span class="num" id="5620397">8</span><span class="op" id="5620398">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620401"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620402">.</span><span class="ident" id="5620403">scratch</span><span class="op" id="5620410">[</span><span class="num" id="5620411">3</span><span class="op" id="5620412">]</span>&nbsp;<span class="op" id="5620414">=</span>&nbsp;<span class="builtintype" id="5620416">uint8</span><span class="op" id="5620421">(</span><span class="ident" id="5620422"><a href="/compress/zlib/writer.go.html#5620199">checksum</a></span>&nbsp;<span class="op" id="5620431">&gt;&gt;</span>&nbsp;<span class="num" id="5620434">0</span><span class="op" id="5620435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620438">_</span><span class="op" id="5620439">,</span>&nbsp;<span class="ident" id="5620441"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620442">.</span><span class="ident" id="5620443">err</span>&nbsp;<span class="op" id="5620447">=</span>&nbsp;<span class="ident" id="5620449"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620450">.</span><span class="ident" id="5620451">w</span><span class="op" id="5620452">.</span><span class="ident" id="5620453">Write</span><span class="op" id="5620458">(</span><span class="ident" id="5620459"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620460">.</span><span class="ident" id="5620461">scratch</span><span class="op" id="5620468">[</span><span class="num" id="5620469">0</span><span class="op" id="5620470">:</span><span class="num" id="5620471">4</span><span class="op" id="5620472">]</span><span class="op" id="5620473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620476">return</span>&nbsp;<span class="ident" id="5620483"><a href="/compress/zlib/writer.go.html#5620017">z</a></span><span class="op" id="5620484">.</span><span class="ident" id="5620485">err</span><br>
<span class="lineno"></span><span class="op" id="5620489">}</span>
</div>
</body>
</html>
