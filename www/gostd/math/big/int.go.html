<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3732682">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3732737">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3732791">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3732842">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3732900">package</span>&nbsp;<span class="ident" id="3732908">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3732913">import</span>&nbsp;<span class="op" id="3732920">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3732923">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3732933">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3732940">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3732946">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3732959">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3732969">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3732972">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="3733027">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3733080">type</span>&nbsp;<span class="ident" id="3733085">Int</span>&nbsp;<span class="keyword" id="3733089">struct</span>&nbsp;<span class="op" id="3733096">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733099">neg</span>&nbsp;<span class="builtintype" id="3733103">bool</span>&nbsp;<span class="comment" id="3733108">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733117">abs</span>&nbsp;<span class="ident" id="3733121">nat</span>&nbsp;&nbsp;<span class="comment" id="3733126">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="3733159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3733162">var</span>&nbsp;<span class="ident" id="3733166">intOne</span>&nbsp;<span class="op" id="3733173">=</span>&nbsp;<span class="op" id="3733175">&amp;</span><span class="ident" id="3733176">Int</span><span class="op" id="3733179">{</span><span class="builtintype" id="3733180">false</span><span class="op" id="3733185">,</span>&nbsp;<span class="ident" id="3733187">natOne</span><span class="op" id="3733193">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="3733196">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="3733213">//</span><br>
<span class="lineno"></span><span class="comment" id="3733216">//&nbsp;&nbsp;&nbsp;&nbsp-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3733232">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="3733248">//&nbsp;&nbsp;&nbsp;&nbsp+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3733264">//</span><br>
<span class="lineno"></span><span class="keyword" id="3733267">func</span>&nbsp;<span class="op" id="3733272">(</span><span class="ident" id="3733273">x</span>&nbsp;<span class="op" id="3733275">*</span><span class="ident" id="3733276">Int</span><span class="op" id="3733279">)</span>&nbsp;<span class="ident" id="3733281">Sign</span><span class="op" id="3733285">(</span><span class="op" id="3733286">)</span>&nbsp;<span class="builtintype" id="3733288">int</span>&nbsp;<span class="op" id="3733292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733295">if</span>&nbsp;<span class="builtinfunc" id="3733298">len</span><span class="op" id="3733301">(</span><span class="ident" id="3733302">x</span><span class="op" id="3733303">.</span><span class="ident" id="3733304">abs</span><span class="op" id="3733307">)</span>&nbsp;<span class="op" id="3733309">==</span>&nbsp;<span class="num" id="3733312">0</span>&nbsp;<span class="op" id="3733314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733318">return</span>&nbsp;<span class="num" id="3733325">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733331">if</span>&nbsp;<span class="ident" id="3733334">x</span><span class="op" id="3733335">.</span><span class="ident" id="3733336">neg</span>&nbsp;<span class="op" id="3733340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733344">return</span>&nbsp;<span class="op" id="3733351">-</span><span class="num" id="3733352">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733358">return</span>&nbsp;<span class="num" id="3733365">1</span><br>
<span class="lineno">40</span><span class="op" id="3733367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3733370">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3733409">func</span>&nbsp;<span class="op" id="3733414">(</span><span class="ident" id="3733415">z</span>&nbsp;<span class="op" id="3733417">*</span><span class="ident" id="3733418">Int</span><span class="op" id="3733421">)</span>&nbsp;<span class="ident" id="3733423">SetInt64</span><span class="op" id="3733431">(</span><span class="ident" id="3733432">x</span>&nbsp;<span class="ident" id="3733434">int64</span><span class="op" id="3733439">)</span>&nbsp;<span class="op" id="3733441">*</span><span class="ident" id="3733442">Int</span>&nbsp;<span class="op" id="3733446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733449">neg</span>&nbsp;<span class="op" id="3733453">:=</span>&nbsp;<span class="builtintype" id="3733456">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733463">if</span>&nbsp;<span class="ident" id="3733466">x</span>&nbsp;<span class="op" id="3733468">&lt;</span>&nbsp;<span class="num" id="3733470">0</span>&nbsp;<span class="op" id="3733472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733476">neg</span>&nbsp;<span class="op" id="3733480">=</span>&nbsp;<span class="builtintype" id="3733482">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733489">x</span>&nbsp;<span class="op" id="3733491">=</span>&nbsp;<span class="op" id="3733493">-</span><span class="ident" id="3733494">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733500">z</span><span class="op" id="3733501">.</span><span class="ident" id="3733502">abs</span>&nbsp;<span class="op" id="3733506">=</span>&nbsp;<span class="ident" id="3733508">z</span><span class="op" id="3733509">.</span><span class="ident" id="3733510">abs</span><span class="op" id="3733513">.</span><span class="ident" id="3733514">setUint64</span><span class="op" id="3733523">(</span><span class="ident" id="3733524">uint64</span><span class="op" id="3733530">(</span><span class="ident" id="3733531">x</span><span class="op" id="3733532">)</span><span class="op" id="3733533">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733536">z</span><span class="op" id="3733537">.</span><span class="ident" id="3733538">neg</span>&nbsp;<span class="op" id="3733542">=</span>&nbsp;<span class="ident" id="3733544">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733549">return</span>&nbsp;<span class="ident" id="3733556">z</span><br>
<span class="lineno"></span><span class="op" id="3733558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3733561">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="3733601">func</span>&nbsp;<span class="op" id="3733606">(</span><span class="ident" id="3733607">z</span>&nbsp;<span class="op" id="3733609">*</span><span class="ident" id="3733610">Int</span><span class="op" id="3733613">)</span>&nbsp;<span class="ident" id="3733615">SetUint64</span><span class="op" id="3733624">(</span><span class="ident" id="3733625">x</span>&nbsp;<span class="ident" id="3733627">uint64</span><span class="op" id="3733633">)</span>&nbsp;<span class="op" id="3733635">*</span><span class="ident" id="3733636">Int</span>&nbsp;<span class="op" id="3733640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733643">z</span><span class="op" id="3733644">.</span><span class="ident" id="3733645">abs</span>&nbsp;<span class="op" id="3733649">=</span>&nbsp;<span class="ident" id="3733651">z</span><span class="op" id="3733652">.</span><span class="ident" id="3733653">abs</span><span class="op" id="3733656">.</span><span class="ident" id="3733657">setUint64</span><span class="op" id="3733666">(</span><span class="ident" id="3733667">x</span><span class="op" id="3733668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733671">z</span><span class="op" id="3733672">.</span><span class="ident" id="3733673">neg</span>&nbsp;<span class="op" id="3733677">=</span>&nbsp;<span class="builtintype" id="3733679">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733686">return</span>&nbsp;<span class="ident" id="3733693">z</span><br>
<span class="lineno"></span><span class="op" id="3733695">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3733698">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="3733750">func</span>&nbsp;<span class="ident" id="3733755">NewInt</span><span class="op" id="3733761">(</span><span class="ident" id="3733762">x</span>&nbsp;<span class="ident" id="3733764">int64</span><span class="op" id="3733769">)</span>&nbsp;<span class="op" id="3733771">*</span><span class="ident" id="3733772">Int</span>&nbsp;<span class="op" id="3733776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733779">return</span>&nbsp;<span class="builtinfunc" id="3733786">new</span><span class="op" id="3733789">(</span><span class="ident" id="3733790">Int</span><span class="op" id="3733793">)</span><span class="op" id="3733794">.</span><span class="ident" id="3733795">SetInt64</span><span class="op" id="3733803">(</span><span class="ident" id="3733804">x</span><span class="op" id="3733805">)</span><br>
<span class="lineno"></span><span class="op" id="3733807">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="3733810">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3733844">func</span>&nbsp;<span class="op" id="3733849">(</span><span class="ident" id="3733850">z</span>&nbsp;<span class="op" id="3733852">*</span><span class="ident" id="3733853">Int</span><span class="op" id="3733856">)</span>&nbsp;<span class="ident" id="3733858">Set</span><span class="op" id="3733861">(</span><span class="ident" id="3733862">x</span>&nbsp;<span class="op" id="3733864">*</span><span class="ident" id="3733865">Int</span><span class="op" id="3733868">)</span>&nbsp;<span class="op" id="3733870">*</span><span class="ident" id="3733871">Int</span>&nbsp;<span class="op" id="3733875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733878">if</span>&nbsp;<span class="ident" id="3733881">z</span>&nbsp;<span class="op" id="3733883">!=</span>&nbsp;<span class="ident" id="3733886">x</span>&nbsp;<span class="op" id="3733888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733892">z</span><span class="op" id="3733893">.</span><span class="ident" id="3733894">abs</span>&nbsp;<span class="op" id="3733898">=</span>&nbsp;<span class="ident" id="3733900">z</span><span class="op" id="3733901">.</span><span class="ident" id="3733902">abs</span><span class="op" id="3733905">.</span><span class="ident" id="3733906">set</span><span class="op" id="3733909">(</span><span class="ident" id="3733910">x</span><span class="op" id="3733911">.</span><span class="ident" id="3733912">abs</span><span class="op" id="3733915">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733919">z</span><span class="op" id="3733920">.</span><span class="ident" id="3733921">neg</span>&nbsp;<span class="op" id="3733925">=</span>&nbsp;<span class="ident" id="3733927">x</span><span class="op" id="3733928">.</span><span class="ident" id="3733929">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733937">return</span>&nbsp;<span class="ident" id="3733944">z</span><br>
<span class="lineno"></span><span class="op" id="3733946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="3733949">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="3734020">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="3734092">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3734122">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3734193">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="3734264">func</span>&nbsp;<span class="op" id="3734269">(</span><span class="ident" id="3734270">x</span>&nbsp;<span class="op" id="3734272">*</span><span class="ident" id="3734273">Int</span><span class="op" id="3734276">)</span>&nbsp;<span class="ident" id="3734278">Bits</span><span class="op" id="3734282">(</span><span class="op" id="3734283">)</span>&nbsp;<span class="op" id="3734285">[</span><span class="op" id="3734286">]</span><span class="ident" id="3734287">Word</span>&nbsp;<span class="op" id="3734292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734295">return</span>&nbsp;<span class="ident" id="3734302">x</span><span class="op" id="3734303">.</span><span class="ident" id="3734304">abs</span><br>
<span class="lineno"></span><span class="op" id="3734308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3734311">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="3734383">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="3734457">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3734515">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3734589">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="3734660">func</span>&nbsp;<span class="op" id="3734665">(</span><span class="ident" id="3734666">z</span>&nbsp;<span class="op" id="3734668">*</span><span class="ident" id="3734669">Int</span><span class="op" id="3734672">)</span>&nbsp;<span class="ident" id="3734674">SetBits</span><span class="op" id="3734681">(</span><span class="ident" id="3734682">abs</span>&nbsp;<span class="op" id="3734686">[</span><span class="op" id="3734687">]</span><span class="ident" id="3734688">Word</span><span class="op" id="3734692">)</span>&nbsp;<span class="op" id="3734694">*</span><span class="ident" id="3734695">Int</span>&nbsp;<span class="op" id="3734699">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734702">z</span><span class="op" id="3734703">.</span><span class="ident" id="3734704">abs</span>&nbsp;<span class="op" id="3734708">=</span>&nbsp;<span class="ident" id="3734710">nat</span><span class="op" id="3734713">(</span><span class="ident" id="3734714">abs</span><span class="op" id="3734717">)</span><span class="op" id="3734718">.</span><span class="ident" id="3734719">norm</span><span class="op" id="3734723">(</span><span class="op" id="3734724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734727">z</span><span class="op" id="3734728">.</span><span class="ident" id="3734729">neg</span>&nbsp;<span class="op" id="3734733">=</span>&nbsp;<span class="builtintype" id="3734735">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734742">return</span>&nbsp;<span class="ident" id="3734749">z</span><br>
<span class="lineno"></span><span class="op" id="3734751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3734754">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3734816">func</span>&nbsp;<span class="op" id="3734821">(</span><span class="ident" id="3734822">z</span>&nbsp;<span class="op" id="3734824">*</span><span class="ident" id="3734825">Int</span><span class="op" id="3734828">)</span>&nbsp;<span class="ident" id="3734830">Abs</span><span class="op" id="3734833">(</span><span class="ident" id="3734834">x</span>&nbsp;<span class="op" id="3734836">*</span><span class="ident" id="3734837">Int</span><span class="op" id="3734840">)</span>&nbsp;<span class="op" id="3734842">*</span><span class="ident" id="3734843">Int</span>&nbsp;<span class="op" id="3734847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734850">z</span><span class="op" id="3734851">.</span><span class="ident" id="3734852">Set</span><span class="op" id="3734855">(</span><span class="ident" id="3734856">x</span><span class="op" id="3734857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734860">z</span><span class="op" id="3734861">.</span><span class="ident" id="3734862">neg</span>&nbsp;<span class="op" id="3734866">=</span>&nbsp;<span class="builtintype" id="3734868">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734875">return</span>&nbsp;<span class="ident" id="3734882">z</span><br>
<span class="lineno">100</span><span class="op" id="3734884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3734887">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3734922">func</span>&nbsp;<span class="op" id="3734927">(</span><span class="ident" id="3734928">z</span>&nbsp;<span class="op" id="3734930">*</span><span class="ident" id="3734931">Int</span><span class="op" id="3734934">)</span>&nbsp;<span class="ident" id="3734936">Neg</span><span class="op" id="3734939">(</span><span class="ident" id="3734940">x</span>&nbsp;<span class="op" id="3734942">*</span><span class="ident" id="3734943">Int</span><span class="op" id="3734946">)</span>&nbsp;<span class="op" id="3734948">*</span><span class="ident" id="3734949">Int</span>&nbsp;<span class="op" id="3734953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734956">z</span><span class="op" id="3734957">.</span><span class="ident" id="3734958">Set</span><span class="op" id="3734961">(</span><span class="ident" id="3734962">x</span><span class="op" id="3734963">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734966">z</span><span class="op" id="3734967">.</span><span class="ident" id="3734968">neg</span>&nbsp;<span class="op" id="3734972">=</span>&nbsp;<span class="builtinfunc" id="3734974">len</span><span class="op" id="3734977">(</span><span class="ident" id="3734978">z</span><span class="op" id="3734979">.</span><span class="ident" id="3734980">abs</span><span class="op" id="3734983">)</span>&nbsp;<span class="op" id="3734985">&gt;</span>&nbsp;<span class="num" id="3734987">0</span>&nbsp;<span class="op" id="3734989">&amp;&amp;</span>&nbsp;<span class="op" id="3734992">!</span><span class="ident" id="3734993">z</span><span class="op" id="3734994">.</span><span class="ident" id="3734995">neg</span>&nbsp;<span class="comment" id="3734999">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3735017">return</span>&nbsp;<span class="ident" id="3735024">z</span><br>
<span class="lineno"></span><span class="op" id="3735026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3735029">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="3735073">func</span>&nbsp;<span class="op" id="3735078">(</span><span class="ident" id="3735079">z</span>&nbsp;<span class="op" id="3735081">*</span><span class="ident" id="3735082">Int</span><span class="op" id="3735085">)</span>&nbsp;<span class="ident" id="3735087">Add</span><span class="op" id="3735090">(</span><span class="ident" id="3735091">x</span><span class="op" id="3735092">,</span>&nbsp;<span class="ident" id="3735094">y</span>&nbsp;<span class="op" id="3735096">*</span><span class="ident" id="3735097">Int</span><span class="op" id="3735100">)</span>&nbsp;<span class="op" id="3735102">*</span><span class="ident" id="3735103">Int</span>&nbsp;<span class="op" id="3735107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735110">neg</span>&nbsp;<span class="op" id="3735114">:=</span>&nbsp;<span class="ident" id="3735117">x</span><span class="op" id="3735118">.</span><span class="ident" id="3735119">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3735124">if</span>&nbsp;<span class="ident" id="3735127">x</span><span class="op" id="3735128">.</span><span class="ident" id="3735129">neg</span>&nbsp;<span class="op" id="3735133">==</span>&nbsp;<span class="ident" id="3735136">y</span><span class="op" id="3735137">.</span><span class="ident" id="3735138">neg</span>&nbsp;<span class="op" id="3735142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3735146">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3735166">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735195">z</span><span class="op" id="3735196">.</span><span class="ident" id="3735197">abs</span>&nbsp;<span class="op" id="3735201">=</span>&nbsp;<span class="ident" id="3735203">z</span><span class="op" id="3735204">.</span><span class="ident" id="3735205">abs</span><span class="op" id="3735208">.</span><span class="ident" id="3735209">add</span><span class="op" id="3735212">(</span><span class="ident" id="3735213">x</span><span class="op" id="3735214">.</span><span class="ident" id="3735215">abs</span><span class="op" id="3735218">,</span>&nbsp;<span class="ident" id="3735220">y</span><span class="op" id="3735221">.</span><span class="ident" id="3735222">abs</span><span class="op" id="3735225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3735228">}</span>&nbsp;<span class="keyword" id="3735230">else</span>&nbsp;<span class="op" id="3735235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3735239">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3735274">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3735309">if</span>&nbsp;<span class="ident" id="3735312">x</span><span class="op" id="3735313">.</span><span class="ident" id="3735314">abs</span><span class="op" id="3735317">.</span><span class="ident" id="3735318">cmp</span><span class="op" id="3735321">(</span><span class="ident" id="3735322">y</span><span class="op" id="3735323">.</span><span class="ident" id="3735324">abs</span><span class="op" id="3735327">)</span>&nbsp;<span class="op" id="3735329">&gt;=</span>&nbsp;<span class="num" id="3735332">0</span>&nbsp;<span class="op" id="3735334">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735339">z</span><span class="op" id="3735340">.</span><span class="ident" id="3735341">abs</span>&nbsp;<span class="op" id="3735345">=</span>&nbsp;<span class="ident" id="3735347">z</span><span class="op" id="3735348">.</span><span class="ident" id="3735349">abs</span><span class="op" id="3735352">.</span><span class="ident" id="3735353">sub</span><span class="op" id="3735356">(</span><span class="ident" id="3735357">x</span><span class="op" id="3735358">.</span><span class="ident" id="3735359">abs</span><span class="op" id="3735362">,</span>&nbsp;<span class="ident" id="3735364">y</span><span class="op" id="3735365">.</span><span class="ident" id="3735366">abs</span><span class="op" id="3735369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3735373">}</span>&nbsp;<span class="keyword" id="3735375">else</span>&nbsp;<span class="op" id="3735380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735385">neg</span>&nbsp;<span class="op" id="3735389">=</span>&nbsp;<span class="op" id="3735391">!</span><span class="ident" id="3735392">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735399">z</span><span class="op" id="3735400">.</span><span class="ident" id="3735401">abs</span>&nbsp;<span class="op" id="3735405">=</span>&nbsp;<span class="ident" id="3735407">z</span><span class="op" id="3735408">.</span><span class="ident" id="3735409">abs</span><span class="op" id="3735412">.</span><span class="ident" id="3735413">sub</span><span class="op" id="3735416">(</span><span class="ident" id="3735417">y</span><span class="op" id="3735418">.</span><span class="ident" id="3735419">abs</span><span class="op" id="3735422">,</span>&nbsp;<span class="ident" id="3735424">x</span><span class="op" id="3735425">.</span><span class="ident" id="3735426">abs</span><span class="op" id="3735429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3735433">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3735436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735439">z</span><span class="op" id="3735440">.</span><span class="ident" id="3735441">neg</span>&nbsp;<span class="op" id="3735445">=</span>&nbsp;<span class="builtinfunc" id="3735447">len</span><span class="op" id="3735450">(</span><span class="ident" id="3735451">z</span><span class="op" id="3735452">.</span><span class="ident" id="3735453">abs</span><span class="op" id="3735456">)</span>&nbsp;<span class="op" id="3735458">&gt;</span>&nbsp;<span class="num" id="3735460">0</span>&nbsp;<span class="op" id="3735462">&amp;&amp;</span>&nbsp;<span class="ident" id="3735465">neg</span>&nbsp;<span class="comment" id="3735469">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3735487">return</span>&nbsp;<span class="ident" id="3735494">z</span><br>
<span class="lineno"></span><span class="op" id="3735496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3735499">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3735550">func</span>&nbsp;<span class="op" id="3735555">(</span><span class="ident" id="3735556">z</span>&nbsp;<span class="op" id="3735558">*</span><span class="ident" id="3735559">Int</span><span class="op" id="3735562">)</span>&nbsp;<span class="ident" id="3735564">Sub</span><span class="op" id="3735567">(</span><span class="ident" id="3735568">x</span><span class="op" id="3735569">,</span>&nbsp;<span class="ident" id="3735571">y</span>&nbsp;<span class="op" id="3735573">*</span><span class="ident" id="3735574">Int</span><span class="op" id="3735577">)</span>&nbsp;<span class="op" id="3735579">*</span><span class="ident" id="3735580">Int</span>&nbsp;<span class="op" id="3735584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735587">neg</span>&nbsp;<span class="op" id="3735591">:=</span>&nbsp;<span class="ident" id="3735594">x</span><span class="op" id="3735595">.</span><span class="ident" id="3735596">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3735601">if</span>&nbsp;<span class="ident" id="3735604">x</span><span class="op" id="3735605">.</span><span class="ident" id="3735606">neg</span>&nbsp;<span class="op" id="3735610">!=</span>&nbsp;<span class="ident" id="3735613">y</span><span class="op" id="3735614">.</span><span class="ident" id="3735615">neg</span>&nbsp;<span class="op" id="3735619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3735623">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3735646">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735672">z</span><span class="op" id="3735673">.</span><span class="ident" id="3735674">abs</span>&nbsp;<span class="op" id="3735678">=</span>&nbsp;<span class="ident" id="3735680">z</span><span class="op" id="3735681">.</span><span class="ident" id="3735682">abs</span><span class="op" id="3735685">.</span><span class="ident" id="3735686">add</span><span class="op" id="3735689">(</span><span class="ident" id="3735690">x</span><span class="op" id="3735691">.</span><span class="ident" id="3735692">abs</span><span class="op" id="3735695">,</span>&nbsp;<span class="ident" id="3735697">y</span><span class="op" id="3735698">.</span><span class="ident" id="3735699">abs</span><span class="op" id="3735702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3735705">}</span>&nbsp;<span class="keyword" id="3735707">else</span>&nbsp;<span class="op" id="3735712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3735716">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3735748">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3735786">if</span>&nbsp;<span class="ident" id="3735789">x</span><span class="op" id="3735790">.</span><span class="ident" id="3735791">abs</span><span class="op" id="3735794">.</span><span class="ident" id="3735795">cmp</span><span class="op" id="3735798">(</span><span class="ident" id="3735799">y</span><span class="op" id="3735800">.</span><span class="ident" id="3735801">abs</span><span class="op" id="3735804">)</span>&nbsp;<span class="op" id="3735806">&gt;=</span>&nbsp;<span class="num" id="3735809">0</span>&nbsp;<span class="op" id="3735811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735816">z</span><span class="op" id="3735817">.</span><span class="ident" id="3735818">abs</span>&nbsp;<span class="op" id="3735822">=</span>&nbsp;<span class="ident" id="3735824">z</span><span class="op" id="3735825">.</span><span class="ident" id="3735826">abs</span><span class="op" id="3735829">.</span><span class="ident" id="3735830">sub</span><span class="op" id="3735833">(</span><span class="ident" id="3735834">x</span><span class="op" id="3735835">.</span><span class="ident" id="3735836">abs</span><span class="op" id="3735839">,</span>&nbsp;<span class="ident" id="3735841">y</span><span class="op" id="3735842">.</span><span class="ident" id="3735843">abs</span><span class="op" id="3735846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3735850">}</span>&nbsp;<span class="keyword" id="3735852">else</span>&nbsp;<span class="op" id="3735857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735862">neg</span>&nbsp;<span class="op" id="3735866">=</span>&nbsp;<span class="op" id="3735868">!</span><span class="ident" id="3735869">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735876">z</span><span class="op" id="3735877">.</span><span class="ident" id="3735878">abs</span>&nbsp;<span class="op" id="3735882">=</span>&nbsp;<span class="ident" id="3735884">z</span><span class="op" id="3735885">.</span><span class="ident" id="3735886">abs</span><span class="op" id="3735889">.</span><span class="ident" id="3735890">sub</span><span class="op" id="3735893">(</span><span class="ident" id="3735894">y</span><span class="op" id="3735895">.</span><span class="ident" id="3735896">abs</span><span class="op" id="3735899">,</span>&nbsp;<span class="ident" id="3735901">x</span><span class="op" id="3735902">.</span><span class="ident" id="3735903">abs</span><span class="op" id="3735906">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3735910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3735913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735916">z</span><span class="op" id="3735917">.</span><span class="ident" id="3735918">neg</span>&nbsp;<span class="op" id="3735922">=</span>&nbsp;<span class="builtinfunc" id="3735924">len</span><span class="op" id="3735927">(</span><span class="ident" id="3735928">z</span><span class="op" id="3735929">.</span><span class="ident" id="3735930">abs</span><span class="op" id="3735933">)</span>&nbsp;<span class="op" id="3735935">&gt;</span>&nbsp;<span class="num" id="3735937">0</span>&nbsp;<span class="op" id="3735939">&amp;&amp;</span>&nbsp;<span class="ident" id="3735942">neg</span>&nbsp;<span class="comment" id="3735946">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3735964">return</span>&nbsp;<span class="ident" id="3735971">z</span><br>
<span class="lineno"></span><span class="op" id="3735973">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="3735976">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3736024">func</span>&nbsp;<span class="op" id="3736029">(</span><span class="ident" id="3736030">z</span>&nbsp;<span class="op" id="3736032">*</span><span class="ident" id="3736033">Int</span><span class="op" id="3736036">)</span>&nbsp;<span class="ident" id="3736038">Mul</span><span class="op" id="3736041">(</span><span class="ident" id="3736042">x</span><span class="op" id="3736043">,</span>&nbsp;<span class="ident" id="3736045">y</span>&nbsp;<span class="op" id="3736047">*</span><span class="ident" id="3736048">Int</span><span class="op" id="3736051">)</span>&nbsp;<span class="op" id="3736053">*</span><span class="ident" id="3736054">Int</span>&nbsp;<span class="op" id="3736058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3736061">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3736080">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3736105">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3736130">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736155">z</span><span class="op" id="3736156">.</span><span class="ident" id="3736157">abs</span>&nbsp;<span class="op" id="3736161">=</span>&nbsp;<span class="ident" id="3736163">z</span><span class="op" id="3736164">.</span><span class="ident" id="3736165">abs</span><span class="op" id="3736168">.</span><span class="ident" id="3736169">mul</span><span class="op" id="3736172">(</span><span class="ident" id="3736173">x</span><span class="op" id="3736174">.</span><span class="ident" id="3736175">abs</span><span class="op" id="3736178">,</span>&nbsp;<span class="ident" id="3736180">y</span><span class="op" id="3736181">.</span><span class="ident" id="3736182">abs</span><span class="op" id="3736185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736188">z</span><span class="op" id="3736189">.</span><span class="ident" id="3736190">neg</span>&nbsp;<span class="op" id="3736194">=</span>&nbsp;<span class="builtinfunc" id="3736196">len</span><span class="op" id="3736199">(</span><span class="ident" id="3736200">z</span><span class="op" id="3736201">.</span><span class="ident" id="3736202">abs</span><span class="op" id="3736205">)</span>&nbsp;<span class="op" id="3736207">&gt;</span>&nbsp;<span class="num" id="3736209">0</span>&nbsp;<span class="op" id="3736211">&amp;&amp;</span>&nbsp;<span class="ident" id="3736214">x</span><span class="op" id="3736215">.</span><span class="ident" id="3736216">neg</span>&nbsp;<span class="op" id="3736220">!=</span>&nbsp;<span class="ident" id="3736223">y</span><span class="op" id="3736224">.</span><span class="ident" id="3736225">neg</span>&nbsp;<span class="comment" id="3736229">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736247">return</span>&nbsp;<span class="ident" id="3736254">z</span><br>
<span class="lineno">160</span><span class="op" id="3736256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3736259">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="3736309">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3736359">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="3736403">func</span>&nbsp;<span class="op" id="3736408">(</span><span class="ident" id="3736409">z</span>&nbsp;<span class="op" id="3736411">*</span><span class="ident" id="3736412">Int</span><span class="op" id="3736415">)</span>&nbsp;<span class="ident" id="3736417">MulRange</span><span class="op" id="3736425">(</span><span class="ident" id="3736426">a</span><span class="op" id="3736427">,</span>&nbsp;<span class="ident" id="3736429">b</span>&nbsp;<span class="ident" id="3736431">int64</span><span class="op" id="3736436">)</span>&nbsp;<span class="op" id="3736438">*</span><span class="ident" id="3736439">Int</span>&nbsp;<span class="op" id="3736443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736446">switch</span>&nbsp;<span class="op" id="3736453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736456">case</span>&nbsp;<span class="ident" id="3736461">a</span>&nbsp;<span class="op" id="3736463">&gt;</span>&nbsp;<span class="ident" id="3736465">b</span><span class="op" id="3736466">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736470">return</span>&nbsp;<span class="ident" id="3736477">z</span><span class="op" id="3736478">.</span><span class="ident" id="3736479">SetInt64</span><span class="op" id="3736487">(</span><span class="num" id="3736488">1</span><span class="op" id="3736489">)</span>&nbsp;<span class="comment" id="3736491">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736507">case</span>&nbsp;<span class="ident" id="3736512">a</span>&nbsp;<span class="op" id="3736514">&lt;=</span>&nbsp;<span class="num" id="3736517">0</span>&nbsp;<span class="op" id="3736519">&amp;&amp;</span>&nbsp;<span class="ident" id="3736522">b</span>&nbsp;<span class="op" id="3736524">&gt;=</span>&nbsp;<span class="num" id="3736527">0</span><span class="op" id="3736528">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736532">return</span>&nbsp;<span class="ident" id="3736539">z</span><span class="op" id="3736540">.</span><span class="ident" id="3736541">SetInt64</span><span class="op" id="3736549">(</span><span class="num" id="3736550">0</span><span class="op" id="3736551">)</span>&nbsp;<span class="comment" id="3736553">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3736574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3736577">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736609">neg</span>&nbsp;<span class="op" id="3736613">:=</span>&nbsp;<span class="builtintype" id="3736616">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736623">if</span>&nbsp;<span class="ident" id="3736626">a</span>&nbsp;<span class="op" id="3736628">&lt;</span>&nbsp;<span class="num" id="3736630">0</span>&nbsp;<span class="op" id="3736632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736636">neg</span>&nbsp;<span class="op" id="3736640">=</span>&nbsp;<span class="op" id="3736642">(</span><span class="ident" id="3736643">b</span><span class="op" id="3736644">-</span><span class="ident" id="3736645">a</span><span class="op" id="3736646">)</span><span class="op" id="3736647">&amp;</span><span class="num" id="3736648">1</span>&nbsp;<span class="op" id="3736650">==</span>&nbsp;<span class="num" id="3736653">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736657">a</span><span class="op" id="3736658">,</span>&nbsp;<span class="ident" id="3736660">b</span>&nbsp;<span class="op" id="3736662">=</span>&nbsp;<span class="op" id="3736664">-</span><span class="ident" id="3736665">b</span><span class="op" id="3736666">,</span>&nbsp;<span class="op" id="3736668">-</span><span class="ident" id="3736669">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3736672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736676">z</span><span class="op" id="3736677">.</span><span class="ident" id="3736678">abs</span>&nbsp;<span class="op" id="3736682">=</span>&nbsp;<span class="ident" id="3736684">z</span><span class="op" id="3736685">.</span><span class="ident" id="3736686">abs</span><span class="op" id="3736689">.</span><span class="ident" id="3736690">mulRange</span><span class="op" id="3736698">(</span><span class="ident" id="3736699">uint64</span><span class="op" id="3736705">(</span><span class="ident" id="3736706">a</span><span class="op" id="3736707">)</span><span class="op" id="3736708">,</span>&nbsp;<span class="ident" id="3736710">uint64</span><span class="op" id="3736716">(</span><span class="ident" id="3736717">b</span><span class="op" id="3736718">)</span><span class="op" id="3736719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736722">z</span><span class="op" id="3736723">.</span><span class="ident" id="3736724">neg</span>&nbsp;<span class="op" id="3736728">=</span>&nbsp;<span class="ident" id="3736730">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736735">return</span>&nbsp;<span class="ident" id="3736742">z</span><br>
<span class="lineno"></span><span class="op" id="3736744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="3736747">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3736819">func</span>&nbsp;<span class="op" id="3736824">(</span><span class="ident" id="3736825">z</span>&nbsp;<span class="op" id="3736827">*</span><span class="ident" id="3736828">Int</span><span class="op" id="3736831">)</span>&nbsp;<span class="ident" id="3736833">Binomial</span><span class="op" id="3736841">(</span><span class="ident" id="3736842">n</span><span class="op" id="3736843">,</span>&nbsp;<span class="ident" id="3736845">k</span>&nbsp;<span class="ident" id="3736847">int64</span><span class="op" id="3736852">)</span>&nbsp;<span class="op" id="3736854">*</span><span class="ident" id="3736855">Int</span>&nbsp;<span class="op" id="3736859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736862">var</span>&nbsp;<span class="ident" id="3736866">a</span><span class="op" id="3736867">,</span>&nbsp;<span class="ident" id="3736869">b</span>&nbsp;<span class="ident" id="3736871">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736876">a</span><span class="op" id="3736877">.</span><span class="ident" id="3736878">MulRange</span><span class="op" id="3736886">(</span><span class="ident" id="3736887">n</span><span class="op" id="3736888">-</span><span class="ident" id="3736889">k</span><span class="op" id="3736890">+</span><span class="num" id="3736891">1</span><span class="op" id="3736892">,</span>&nbsp;<span class="ident" id="3736894">n</span><span class="op" id="3736895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736898">b</span><span class="op" id="3736899">.</span><span class="ident" id="3736900">MulRange</span><span class="op" id="3736908">(</span><span class="num" id="3736909">1</span><span class="op" id="3736910">,</span>&nbsp;<span class="ident" id="3736912">k</span><span class="op" id="3736913">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736916">return</span>&nbsp;<span class="ident" id="3736923">z</span><span class="op" id="3736924">.</span><span class="ident" id="3736925">Quo</span><span class="op" id="3736928">(</span><span class="op" id="3736929">&amp;</span><span class="ident" id="3736930">a</span><span class="op" id="3736931">,</span>&nbsp;<span class="op" id="3736933">&amp;</span><span class="ident" id="3736934">b</span><span class="op" id="3736935">)</span><br>
<span class="lineno"></span><span class="op" id="3736937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3736940">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3737000">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="3737056">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3737133">func</span>&nbsp;<span class="op" id="3737138">(</span><span class="ident" id="3737139">z</span>&nbsp;<span class="op" id="3737141">*</span><span class="ident" id="3737142">Int</span><span class="op" id="3737145">)</span>&nbsp;<span class="ident" id="3737147">Quo</span><span class="op" id="3737150">(</span><span class="ident" id="3737151">x</span><span class="op" id="3737152">,</span>&nbsp;<span class="ident" id="3737154">y</span>&nbsp;<span class="op" id="3737156">*</span><span class="ident" id="3737157">Int</span><span class="op" id="3737160">)</span>&nbsp;<span class="op" id="3737162">*</span><span class="ident" id="3737163">Int</span>&nbsp;<span class="op" id="3737167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737170">z</span><span class="op" id="3737171">.</span><span class="ident" id="3737172">abs</span><span class="op" id="3737175">,</span>&nbsp;<span class="ident" id="3737177">_</span>&nbsp;<span class="op" id="3737179">=</span>&nbsp;<span class="ident" id="3737181">z</span><span class="op" id="3737182">.</span><span class="ident" id="3737183">abs</span><span class="op" id="3737186">.</span><span class="ident" id="3737187">div</span><span class="op" id="3737190">(</span><span class="ident" id="3737191">nil</span><span class="op" id="3737194">,</span>&nbsp;<span class="ident" id="3737196">x</span><span class="op" id="3737197">.</span><span class="ident" id="3737198">abs</span><span class="op" id="3737201">,</span>&nbsp;<span class="ident" id="3737203">y</span><span class="op" id="3737204">.</span><span class="ident" id="3737205">abs</span><span class="op" id="3737208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737211">z</span><span class="op" id="3737212">.</span><span class="ident" id="3737213">neg</span>&nbsp;<span class="op" id="3737217">=</span>&nbsp;<span class="builtinfunc" id="3737219">len</span><span class="op" id="3737222">(</span><span class="ident" id="3737223">z</span><span class="op" id="3737224">.</span><span class="ident" id="3737225">abs</span><span class="op" id="3737228">)</span>&nbsp;<span class="op" id="3737230">&gt;</span>&nbsp;<span class="num" id="3737232">0</span>&nbsp;<span class="op" id="3737234">&amp;&amp;</span>&nbsp;<span class="ident" id="3737237">x</span><span class="op" id="3737238">.</span><span class="ident" id="3737239">neg</span>&nbsp;<span class="op" id="3737243">!=</span>&nbsp;<span class="ident" id="3737246">y</span><span class="op" id="3737247">.</span><span class="ident" id="3737248">neg</span>&nbsp;<span class="comment" id="3737252">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3737270">return</span>&nbsp;<span class="ident" id="3737277">z</span><br>
<span class="lineno">200</span><span class="op" id="3737279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3737282">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3737343">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3737399">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="3737475">func</span>&nbsp;<span class="op" id="3737480">(</span><span class="ident" id="3737481">z</span>&nbsp;<span class="op" id="3737483">*</span><span class="ident" id="3737484">Int</span><span class="op" id="3737487">)</span>&nbsp;<span class="ident" id="3737489">Rem</span><span class="op" id="3737492">(</span><span class="ident" id="3737493">x</span><span class="op" id="3737494">,</span>&nbsp;<span class="ident" id="3737496">y</span>&nbsp;<span class="op" id="3737498">*</span><span class="ident" id="3737499">Int</span><span class="op" id="3737502">)</span>&nbsp;<span class="op" id="3737504">*</span><span class="ident" id="3737505">Int</span>&nbsp;<span class="op" id="3737509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737512">_</span><span class="op" id="3737513">,</span>&nbsp;<span class="ident" id="3737515">z</span><span class="op" id="3737516">.</span><span class="ident" id="3737517">abs</span>&nbsp;<span class="op" id="3737521">=</span>&nbsp;<span class="ident" id="3737523">nat</span><span class="op" id="3737526">(</span><span class="ident" id="3737527">nil</span><span class="op" id="3737530">)</span><span class="op" id="3737531">.</span><span class="ident" id="3737532">div</span><span class="op" id="3737535">(</span><span class="ident" id="3737536">z</span><span class="op" id="3737537">.</span><span class="ident" id="3737538">abs</span><span class="op" id="3737541">,</span>&nbsp;<span class="ident" id="3737543">x</span><span class="op" id="3737544">.</span><span class="ident" id="3737545">abs</span><span class="op" id="3737548">,</span>&nbsp;<span class="ident" id="3737550">y</span><span class="op" id="3737551">.</span><span class="ident" id="3737552">abs</span><span class="op" id="3737555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737558">z</span><span class="op" id="3737559">.</span><span class="ident" id="3737560">neg</span>&nbsp;<span class="op" id="3737564">=</span>&nbsp;<span class="builtinfunc" id="3737566">len</span><span class="op" id="3737569">(</span><span class="ident" id="3737570">z</span><span class="op" id="3737571">.</span><span class="ident" id="3737572">abs</span><span class="op" id="3737575">)</span>&nbsp;<span class="op" id="3737577">&gt;</span>&nbsp;<span class="num" id="3737579">0</span>&nbsp;<span class="op" id="3737581">&amp;&amp;</span>&nbsp;<span class="ident" id="3737584">x</span><span class="op" id="3737585">.</span><span class="ident" id="3737586">neg</span>&nbsp;<span class="comment" id="3737590">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3737608">return</span>&nbsp;<span class="ident" id="3737615">z</span><br>
<span class="lineno"></span><span class="op" id="3737617">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="3737620">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="3737684">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3737727">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3737783">//</span><br>
<span class="lineno">215</span><span class="comment" id="3737786">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3737841">//</span><br>
<span class="lineno"></span><span class="comment" id="3737844">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="3737894">//&nbsp;&nbsp;&nbsp;&nbspr&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="3737909">//</span><br>
<span class="lineno">220</span><span class="comment" id="3737912">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="3737984">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="3738046">//</span><br>
<span class="lineno"></span><span class="keyword" id="3738049">func</span>&nbsp;<span class="op" id="3738054">(</span><span class="ident" id="3738055">z</span>&nbsp;<span class="op" id="3738057">*</span><span class="ident" id="3738058">Int</span><span class="op" id="3738061">)</span>&nbsp;<span class="ident" id="3738063">QuoRem</span><span class="op" id="3738069">(</span><span class="ident" id="3738070">x</span><span class="op" id="3738071">,</span>&nbsp;<span class="ident" id="3738073">y</span><span class="op" id="3738074">,</span>&nbsp;<span class="ident" id="3738076">r</span>&nbsp;<span class="op" id="3738078">*</span><span class="ident" id="3738079">Int</span><span class="op" id="3738082">)</span>&nbsp;<span class="op" id="3738084">(</span><span class="op" id="3738085">*</span><span class="ident" id="3738086">Int</span><span class="op" id="3738089">,</span>&nbsp;<span class="op" id="3738091">*</span><span class="ident" id="3738092">Int</span><span class="op" id="3738095">)</span>&nbsp;<span class="op" id="3738097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738100">z</span><span class="op" id="3738101">.</span><span class="ident" id="3738102">abs</span><span class="op" id="3738105">,</span>&nbsp;<span class="ident" id="3738107">r</span><span class="op" id="3738108">.</span><span class="ident" id="3738109">abs</span>&nbsp;<span class="op" id="3738113">=</span>&nbsp;<span class="ident" id="3738115">z</span><span class="op" id="3738116">.</span><span class="ident" id="3738117">abs</span><span class="op" id="3738120">.</span><span class="ident" id="3738121">div</span><span class="op" id="3738124">(</span><span class="ident" id="3738125">r</span><span class="op" id="3738126">.</span><span class="ident" id="3738127">abs</span><span class="op" id="3738130">,</span>&nbsp;<span class="ident" id="3738132">x</span><span class="op" id="3738133">.</span><span class="ident" id="3738134">abs</span><span class="op" id="3738137">,</span>&nbsp;<span class="ident" id="3738139">y</span><span class="op" id="3738140">.</span><span class="ident" id="3738141">abs</span><span class="op" id="3738144">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738147">z</span><span class="op" id="3738148">.</span><span class="ident" id="3738149">neg</span><span class="op" id="3738152">,</span>&nbsp;<span class="ident" id="3738154">r</span><span class="op" id="3738155">.</span><span class="ident" id="3738156">neg</span>&nbsp;<span class="op" id="3738160">=</span>&nbsp;<span class="builtinfunc" id="3738162">len</span><span class="op" id="3738165">(</span><span class="ident" id="3738166">z</span><span class="op" id="3738167">.</span><span class="ident" id="3738168">abs</span><span class="op" id="3738171">)</span>&nbsp;<span class="op" id="3738173">&gt;</span>&nbsp;<span class="num" id="3738175">0</span>&nbsp;<span class="op" id="3738177">&amp;&amp;</span>&nbsp;<span class="ident" id="3738180">x</span><span class="op" id="3738181">.</span><span class="ident" id="3738182">neg</span>&nbsp;<span class="op" id="3738186">!=</span>&nbsp;<span class="ident" id="3738189">y</span><span class="op" id="3738190">.</span><span class="ident" id="3738191">neg</span><span class="op" id="3738194">,</span>&nbsp;<span class="builtinfunc" id="3738196">len</span><span class="op" id="3738199">(</span><span class="ident" id="3738200">r</span><span class="op" id="3738201">.</span><span class="ident" id="3738202">abs</span><span class="op" id="3738205">)</span>&nbsp;<span class="op" id="3738207">&gt;</span>&nbsp;<span class="num" id="3738209">0</span>&nbsp;<span class="op" id="3738211">&amp;&amp;</span>&nbsp;<span class="ident" id="3738214">x</span><span class="op" id="3738215">.</span><span class="ident" id="3738216">neg</span>&nbsp;<span class="comment" id="3738220">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738238">return</span>&nbsp;<span class="ident" id="3738245">z</span><span class="op" id="3738246">,</span>&nbsp;<span class="ident" id="3738248">r</span><br>
<span class="lineno"></span><span class="op" id="3738250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3738253">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="3738313">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3738369">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3738448">func</span>&nbsp;<span class="op" id="3738453">(</span><span class="ident" id="3738454">z</span>&nbsp;<span class="op" id="3738456">*</span><span class="ident" id="3738457">Int</span><span class="op" id="3738460">)</span>&nbsp;<span class="ident" id="3738462">Div</span><span class="op" id="3738465">(</span><span class="ident" id="3738466">x</span><span class="op" id="3738467">,</span>&nbsp;<span class="ident" id="3738469">y</span>&nbsp;<span class="op" id="3738471">*</span><span class="ident" id="3738472">Int</span><span class="op" id="3738475">)</span>&nbsp;<span class="op" id="3738477">*</span><span class="ident" id="3738478">Int</span>&nbsp;<span class="op" id="3738482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738485">y_neg</span>&nbsp;<span class="op" id="3738491">:=</span>&nbsp;<span class="ident" id="3738494">y</span><span class="op" id="3738495">.</span><span class="ident" id="3738496">neg</span>&nbsp;<span class="comment" id="3738500">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738528">var</span>&nbsp;<span class="ident" id="3738532">r</span>&nbsp;<span class="ident" id="3738534">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738539">z</span><span class="op" id="3738540">.</span><span class="ident" id="3738541">QuoRem</span><span class="op" id="3738547">(</span><span class="ident" id="3738548">x</span><span class="op" id="3738549">,</span>&nbsp;<span class="ident" id="3738551">y</span><span class="op" id="3738552">,</span>&nbsp;<span class="op" id="3738554">&amp;</span><span class="ident" id="3738555">r</span><span class="op" id="3738556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738559">if</span>&nbsp;<span class="ident" id="3738562">r</span><span class="op" id="3738563">.</span><span class="ident" id="3738564">neg</span>&nbsp;<span class="op" id="3738568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738572">if</span>&nbsp;<span class="ident" id="3738575">y_neg</span>&nbsp;<span class="op" id="3738581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738586">z</span><span class="op" id="3738587">.</span><span class="ident" id="3738588">Add</span><span class="op" id="3738591">(</span><span class="ident" id="3738592">z</span><span class="op" id="3738593">,</span>&nbsp;<span class="ident" id="3738595">intOne</span><span class="op" id="3738601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3738605">}</span>&nbsp;<span class="keyword" id="3738607">else</span>&nbsp;<span class="op" id="3738612">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738617">z</span><span class="op" id="3738618">.</span><span class="ident" id="3738619">Sub</span><span class="op" id="3738622">(</span><span class="ident" id="3738623">z</span><span class="op" id="3738624">,</span>&nbsp;<span class="ident" id="3738626">intOne</span><span class="op" id="3738632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3738636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3738639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738642">return</span>&nbsp;<span class="ident" id="3738649">z</span><br>
<span class="lineno"></span><span class="op" id="3738651">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="3738654">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3738713">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3738769">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3738847">func</span>&nbsp;<span class="op" id="3738852">(</span><span class="ident" id="3738853">z</span>&nbsp;<span class="op" id="3738855">*</span><span class="ident" id="3738856">Int</span><span class="op" id="3738859">)</span>&nbsp;<span class="ident" id="3738861">Mod</span><span class="op" id="3738864">(</span><span class="ident" id="3738865">x</span><span class="op" id="3738866">,</span>&nbsp;<span class="ident" id="3738868">y</span>&nbsp;<span class="op" id="3738870">*</span><span class="ident" id="3738871">Int</span><span class="op" id="3738874">)</span>&nbsp;<span class="op" id="3738876">*</span><span class="ident" id="3738877">Int</span>&nbsp;<span class="op" id="3738881">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738884">y0</span>&nbsp;<span class="op" id="3738887">:=</span>&nbsp;<span class="ident" id="3738890">y</span>&nbsp;<span class="comment" id="3738892">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738903">if</span>&nbsp;<span class="ident" id="3738906">z</span>&nbsp;<span class="op" id="3738908">==</span>&nbsp;<span class="ident" id="3738911">y</span>&nbsp;<span class="op" id="3738913">||</span>&nbsp;<span class="ident" id="3738916">alias</span><span class="op" id="3738921">(</span><span class="ident" id="3738922">z</span><span class="op" id="3738923">.</span><span class="ident" id="3738924">abs</span><span class="op" id="3738927">,</span>&nbsp;<span class="ident" id="3738929">y</span><span class="op" id="3738930">.</span><span class="ident" id="3738931">abs</span><span class="op" id="3738934">)</span>&nbsp;<span class="op" id="3738936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738940">y0</span>&nbsp;<span class="op" id="3738943">=</span>&nbsp;<span class="builtinfunc" id="3738945">new</span><span class="op" id="3738948">(</span><span class="ident" id="3738949">Int</span><span class="op" id="3738952">)</span><span class="op" id="3738953">.</span><span class="ident" id="3738954">Set</span><span class="op" id="3738957">(</span><span class="ident" id="3738958">y</span><span class="op" id="3738959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3738962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738965">var</span>&nbsp;<span class="ident" id="3738969">q</span>&nbsp;<span class="ident" id="3738971">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738976">q</span><span class="op" id="3738977">.</span><span class="ident" id="3738978">QuoRem</span><span class="op" id="3738984">(</span><span class="ident" id="3738985">x</span><span class="op" id="3738986">,</span>&nbsp;<span class="ident" id="3738988">y</span><span class="op" id="3738989">,</span>&nbsp;<span class="ident" id="3738991">z</span><span class="op" id="3738992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738995">if</span>&nbsp;<span class="ident" id="3738998">z</span><span class="op" id="3738999">.</span><span class="ident" id="3739000">neg</span>&nbsp;<span class="op" id="3739004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739008">if</span>&nbsp;<span class="ident" id="3739011">y0</span><span class="op" id="3739013">.</span><span class="ident" id="3739014">neg</span>&nbsp;<span class="op" id="3739018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739023">z</span><span class="op" id="3739024">.</span><span class="ident" id="3739025">Sub</span><span class="op" id="3739028">(</span><span class="ident" id="3739029">z</span><span class="op" id="3739030">,</span>&nbsp;<span class="ident" id="3739032">y0</span><span class="op" id="3739034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739038">}</span>&nbsp;<span class="keyword" id="3739040">else</span>&nbsp;<span class="op" id="3739045">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739050">z</span><span class="op" id="3739051">.</span><span class="ident" id="3739052">Add</span><span class="op" id="3739055">(</span><span class="ident" id="3739056">z</span><span class="op" id="3739057">,</span>&nbsp;<span class="ident" id="3739059">y0</span><span class="op" id="3739061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739071">return</span>&nbsp;<span class="ident" id="3739078">z</span><br>
<span class="lineno"></span><span class="op" id="3739080">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="3739083">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3739153">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3739196">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3739252">//</span><br>
<span class="lineno">270</span><span class="comment" id="3739255">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3739320">//</span><br>
<span class="lineno"></span><span class="comment" id="3739323">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3739349">//&nbsp;&nbsp;&nbsp;&nbspm&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="3739383">//</span><br>
<span class="lineno">275</span><span class="comment" id="3739386">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="3739456">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3739520">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="3739583">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="3739598">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="3739650">//</span><br>
<span class="lineno"></span><span class="keyword" id="3739653">func</span>&nbsp;<span class="op" id="3739658">(</span><span class="ident" id="3739659">z</span>&nbsp;<span class="op" id="3739661">*</span><span class="ident" id="3739662">Int</span><span class="op" id="3739665">)</span>&nbsp;<span class="ident" id="3739667">DivMod</span><span class="op" id="3739673">(</span><span class="ident" id="3739674">x</span><span class="op" id="3739675">,</span>&nbsp;<span class="ident" id="3739677">y</span><span class="op" id="3739678">,</span>&nbsp;<span class="ident" id="3739680">m</span>&nbsp;<span class="op" id="3739682">*</span><span class="ident" id="3739683">Int</span><span class="op" id="3739686">)</span>&nbsp;<span class="op" id="3739688">(</span><span class="op" id="3739689">*</span><span class="ident" id="3739690">Int</span><span class="op" id="3739693">,</span>&nbsp;<span class="op" id="3739695">*</span><span class="ident" id="3739696">Int</span><span class="op" id="3739699">)</span>&nbsp;<span class="op" id="3739701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739704">y0</span>&nbsp;<span class="op" id="3739707">:=</span>&nbsp;<span class="ident" id="3739710">y</span>&nbsp;<span class="comment" id="3739712">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739723">if</span>&nbsp;<span class="ident" id="3739726">z</span>&nbsp;<span class="op" id="3739728">==</span>&nbsp;<span class="ident" id="3739731">y</span>&nbsp;<span class="op" id="3739733">||</span>&nbsp;<span class="ident" id="3739736">alias</span><span class="op" id="3739741">(</span><span class="ident" id="3739742">z</span><span class="op" id="3739743">.</span><span class="ident" id="3739744">abs</span><span class="op" id="3739747">,</span>&nbsp;<span class="ident" id="3739749">y</span><span class="op" id="3739750">.</span><span class="ident" id="3739751">abs</span><span class="op" id="3739754">)</span>&nbsp;<span class="op" id="3739756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739760">y0</span>&nbsp;<span class="op" id="3739763">=</span>&nbsp;<span class="builtinfunc" id="3739765">new</span><span class="op" id="3739768">(</span><span class="ident" id="3739769">Int</span><span class="op" id="3739772">)</span><span class="op" id="3739773">.</span><span class="ident" id="3739774">Set</span><span class="op" id="3739777">(</span><span class="ident" id="3739778">y</span><span class="op" id="3739779">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739785">z</span><span class="op" id="3739786">.</span><span class="ident" id="3739787">QuoRem</span><span class="op" id="3739793">(</span><span class="ident" id="3739794">x</span><span class="op" id="3739795">,</span>&nbsp;<span class="ident" id="3739797">y</span><span class="op" id="3739798">,</span>&nbsp;<span class="ident" id="3739800">m</span><span class="op" id="3739801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739804">if</span>&nbsp;<span class="ident" id="3739807">m</span><span class="op" id="3739808">.</span><span class="ident" id="3739809">neg</span>&nbsp;<span class="op" id="3739813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739817">if</span>&nbsp;<span class="ident" id="3739820">y0</span><span class="op" id="3739822">.</span><span class="ident" id="3739823">neg</span>&nbsp;<span class="op" id="3739827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739832">z</span><span class="op" id="3739833">.</span><span class="ident" id="3739834">Add</span><span class="op" id="3739837">(</span><span class="ident" id="3739838">z</span><span class="op" id="3739839">,</span>&nbsp;<span class="ident" id="3739841">intOne</span><span class="op" id="3739847">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739852">m</span><span class="op" id="3739853">.</span><span class="ident" id="3739854">Sub</span><span class="op" id="3739857">(</span><span class="ident" id="3739858">m</span><span class="op" id="3739859">,</span>&nbsp;<span class="ident" id="3739861">y0</span><span class="op" id="3739863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739867">}</span>&nbsp;<span class="keyword" id="3739869">else</span>&nbsp;<span class="op" id="3739874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739879">z</span><span class="op" id="3739880">.</span><span class="ident" id="3739881">Sub</span><span class="op" id="3739884">(</span><span class="ident" id="3739885">z</span><span class="op" id="3739886">,</span>&nbsp;<span class="ident" id="3739888">intOne</span><span class="op" id="3739894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739899">m</span><span class="op" id="3739900">.</span><span class="ident" id="3739901">Add</span><span class="op" id="3739904">(</span><span class="ident" id="3739905">m</span><span class="op" id="3739906">,</span>&nbsp;<span class="ident" id="3739908">y0</span><span class="op" id="3739910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739914">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739920">return</span>&nbsp;<span class="ident" id="3739927">z</span><span class="op" id="3739928">,</span>&nbsp;<span class="ident" id="3739930">m</span><br>
<span class="lineno"></span><span class="op" id="3739932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3739935">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="3739972">//</span><br>
<span class="lineno"></span><span class="comment" id="3739975">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3739993">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3740011">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3740029">//</span><br>
<span class="lineno">305</span><span class="keyword" id="3740032">func</span>&nbsp;<span class="op" id="3740037">(</span><span class="ident" id="3740038">x</span>&nbsp;<span class="op" id="3740040">*</span><span class="ident" id="3740041">Int</span><span class="op" id="3740044">)</span>&nbsp;<span class="ident" id="3740046">Cmp</span><span class="op" id="3740049">(</span><span class="ident" id="3740050">y</span>&nbsp;<span class="op" id="3740052">*</span><span class="ident" id="3740053">Int</span><span class="op" id="3740056">)</span>&nbsp;<span class="op" id="3740058">(</span><span class="ident" id="3740059">r</span>&nbsp;<span class="builtintype" id="3740061">int</span><span class="op" id="3740064">)</span>&nbsp;<span class="op" id="3740066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3740069">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3740092">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3740112">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3740132">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740164">switch</span>&nbsp;<span class="op" id="3740171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740174">case</span>&nbsp;<span class="ident" id="3740179">x</span><span class="op" id="3740180">.</span><span class="ident" id="3740181">neg</span>&nbsp;<span class="op" id="3740185">==</span>&nbsp;<span class="ident" id="3740188">y</span><span class="op" id="3740189">.</span><span class="ident" id="3740190">neg</span><span class="op" id="3740193">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3740197">r</span>&nbsp;<span class="op" id="3740199">=</span>&nbsp;<span class="ident" id="3740201">x</span><span class="op" id="3740202">.</span><span class="ident" id="3740203">abs</span><span class="op" id="3740206">.</span><span class="ident" id="3740207">cmp</span><span class="op" id="3740210">(</span><span class="ident" id="3740211">y</span><span class="op" id="3740212">.</span><span class="ident" id="3740213">abs</span><span class="op" id="3740216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740220">if</span>&nbsp;<span class="ident" id="3740223">x</span><span class="op" id="3740224">.</span><span class="ident" id="3740225">neg</span>&nbsp;<span class="op" id="3740229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3740234">r</span>&nbsp;<span class="op" id="3740236">=</span>&nbsp;<span class="op" id="3740238">-</span><span class="ident" id="3740239">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3740243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740246">case</span>&nbsp;<span class="ident" id="3740251">x</span><span class="op" id="3740252">.</span><span class="ident" id="3740253">neg</span><span class="op" id="3740256">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3740260">r</span>&nbsp;<span class="op" id="3740262">=</span>&nbsp;<span class="op" id="3740264">-</span><span class="num" id="3740265">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740268">default</span><span class="op" id="3740275">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3740279">r</span>&nbsp;<span class="op" id="3740281">=</span>&nbsp;<span class="num" id="3740283">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3740286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740289">return</span><br>
<span class="lineno"></span><span class="op" id="3740296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3740299">func</span>&nbsp;<span class="op" id="3740304">(</span><span class="ident" id="3740305">x</span>&nbsp;<span class="op" id="3740307">*</span><span class="ident" id="3740308">Int</span><span class="op" id="3740311">)</span>&nbsp;<span class="ident" id="3740313">String</span><span class="op" id="3740319">(</span><span class="op" id="3740320">)</span>&nbsp;<span class="builtintype" id="3740322">string</span>&nbsp;<span class="op" id="3740329">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740332">switch</span>&nbsp;<span class="op" id="3740339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740342">case</span>&nbsp;<span class="ident" id="3740347">x</span>&nbsp;<span class="op" id="3740349">==</span>&nbsp;<span class="ident" id="3740352">nil</span><span class="op" id="3740355">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740359">return</span>&nbsp;<span class="string" id="3740366">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740375">case</span>&nbsp;<span class="ident" id="3740380">x</span><span class="op" id="3740381">.</span><span class="ident" id="3740382">neg</span><span class="op" id="3740385">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740389">return</span>&nbsp;<span class="string" id="3740396">&#34;-&#34;</span>&nbsp;<span class="op" id="3740400">+</span>&nbsp;<span class="ident" id="3740402">x</span><span class="op" id="3740403">.</span><span class="ident" id="3740404">abs</span><span class="op" id="3740407">.</span><span class="ident" id="3740408">decimalString</span><span class="op" id="3740421">(</span><span class="op" id="3740422">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3740425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740428">return</span>&nbsp;<span class="ident" id="3740435">x</span><span class="op" id="3740436">.</span><span class="ident" id="3740437">abs</span><span class="op" id="3740440">.</span><span class="ident" id="3740441">decimalString</span><span class="op" id="3740454">(</span><span class="op" id="3740455">)</span><br>
<span class="lineno"></span><span class="op" id="3740457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3740460">func</span>&nbsp;<span class="ident" id="3740465">charset</span><span class="op" id="3740472">(</span><span class="ident" id="3740473">ch</span>&nbsp;<span class="builtintype" id="3740476">rune</span><span class="op" id="3740480">)</span>&nbsp;<span class="builtintype" id="3740482">string</span>&nbsp;<span class="op" id="3740489">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740492">switch</span>&nbsp;<span class="ident" id="3740499">ch</span>&nbsp;<span class="op" id="3740502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740505">case</span>&nbsp;<span class="string" id="3740510">&#39;b&#39;</span><span class="op" id="3740513">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740517">return</span>&nbsp;<span class="ident" id="3740524">lowercaseDigits</span><span class="op" id="3740539">[</span><span class="num" id="3740540">0</span><span class="op" id="3740541">:</span><span class="num" id="3740542">2</span><span class="op" id="3740543">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740546">case</span>&nbsp;<span class="string" id="3740551">&#39;o&#39;</span><span class="op" id="3740554">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740558">return</span>&nbsp;<span class="ident" id="3740565">lowercaseDigits</span><span class="op" id="3740580">[</span><span class="num" id="3740581">0</span><span class="op" id="3740582">:</span><span class="num" id="3740583">8</span><span class="op" id="3740584">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740587">case</span>&nbsp;<span class="string" id="3740592">&#39;d&#39;</span><span class="op" id="3740595">,</span>&nbsp;<span class="string" id="3740597">&#39;s&#39;</span><span class="op" id="3740600">,</span>&nbsp;<span class="string" id="3740602">&#39;v&#39;</span><span class="op" id="3740605">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740609">return</span>&nbsp;<span class="ident" id="3740616">lowercaseDigits</span><span class="op" id="3740631">[</span><span class="num" id="3740632">0</span><span class="op" id="3740633">:</span><span class="num" id="3740634">10</span><span class="op" id="3740636">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740639">case</span>&nbsp;<span class="string" id="3740644">&#39;x&#39;</span><span class="op" id="3740647">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740651">return</span>&nbsp;<span class="ident" id="3740658">lowercaseDigits</span><span class="op" id="3740673">[</span><span class="num" id="3740674">0</span><span class="op" id="3740675">:</span><span class="num" id="3740676">16</span><span class="op" id="3740678">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740681">case</span>&nbsp;<span class="string" id="3740686">&#39;X&#39;</span><span class="op" id="3740689">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740693">return</span>&nbsp;<span class="ident" id="3740700">uppercaseDigits</span><span class="op" id="3740715">[</span><span class="num" id="3740716">0</span><span class="op" id="3740717">:</span><span class="num" id="3740718">16</span><span class="op" id="3740720">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3740723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740726">return</span>&nbsp;<span class="string" id="3740733">&#34;&#34;</span>&nbsp;<span class="comment" id="3740736">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="3740754">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="3740757">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="3740792">func</span>&nbsp;<span class="ident" id="3740797">writeMultiple</span><span class="op" id="3740810">(</span><span class="ident" id="3740811">s</span>&nbsp;<span class="ident" id="3740813">fmt</span><span class="op" id="3740816">.</span><span class="ident" id="3740817">State</span><span class="op" id="3740822">,</span>&nbsp;<span class="ident" id="3740824">text</span>&nbsp;<span class="builtintype" id="3740829">string</span><span class="op" id="3740835">,</span>&nbsp;<span class="ident" id="3740837">count</span>&nbsp;<span class="builtintype" id="3740843">int</span><span class="op" id="3740846">)</span>&nbsp;<span class="op" id="3740848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740851">if</span>&nbsp;<span class="builtinfunc" id="3740854">len</span><span class="op" id="3740857">(</span><span class="ident" id="3740858">text</span><span class="op" id="3740862">)</span>&nbsp;<span class="op" id="3740864">&gt;</span>&nbsp;<span class="num" id="3740866">0</span>&nbsp;<span class="op" id="3740868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3740872">b</span>&nbsp;<span class="op" id="3740874">:=</span>&nbsp;<span class="op" id="3740877">[</span><span class="op" id="3740878">]</span><span class="builtintype" id="3740879">byte</span><span class="op" id="3740883">(</span><span class="ident" id="3740884">text</span><span class="op" id="3740888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740892">for</span>&nbsp;<span class="op" id="3740896">;</span>&nbsp;<span class="ident" id="3740898">count</span>&nbsp;<span class="op" id="3740904">&gt;</span>&nbsp;<span class="num" id="3740906">0</span><span class="op" id="3740907">;</span>&nbsp;<span class="ident" id="3740909">count</span><span class="op" id="3740914">--</span>&nbsp;<span class="op" id="3740917">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3740922">s</span><span class="op" id="3740923">.</span><span class="ident" id="3740924">Write</span><span class="op" id="3740929">(</span><span class="ident" id="3740930">b</span><span class="op" id="3740931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3740935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3740938">}</span><br>
<span class="lineno"></span><span class="op" id="3740940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="3740943">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="3741004">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="3741065">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="3741126">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="3741187">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="3741244">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="3741303">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3741362">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="3741422">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3741480">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="3741504">//</span><br>
<span class="lineno"></span><span class="keyword" id="3741507">func</span>&nbsp;<span class="op" id="3741512">(</span><span class="ident" id="3741513">x</span>&nbsp;<span class="op" id="3741515">*</span><span class="ident" id="3741516">Int</span><span class="op" id="3741519">)</span>&nbsp;<span class="ident" id="3741521">Format</span><span class="op" id="3741527">(</span><span class="ident" id="3741528">s</span>&nbsp;<span class="ident" id="3741530">fmt</span><span class="op" id="3741533">.</span><span class="ident" id="3741534">State</span><span class="op" id="3741539">,</span>&nbsp;<span class="ident" id="3741541">ch</span>&nbsp;<span class="builtintype" id="3741544">rune</span><span class="op" id="3741548">)</span>&nbsp;<span class="op" id="3741550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741553">cs</span>&nbsp;<span class="op" id="3741556">:=</span>&nbsp;<span class="ident" id="3741559">charset</span><span class="op" id="3741566">(</span><span class="ident" id="3741567">ch</span><span class="op" id="3741569">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3741573">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741591">switch</span>&nbsp;<span class="op" id="3741598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741601">case</span>&nbsp;<span class="ident" id="3741606">cs</span>&nbsp;<span class="op" id="3741609">==</span>&nbsp;<span class="string" id="3741612">&#34;&#34;</span><span class="op" id="3741614">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3741618">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741638">fmt</span><span class="op" id="3741641">.</span><span class="ident" id="3741642">Fprintf</span><span class="op" id="3741649">(</span><span class="ident" id="3741650">s</span><span class="op" id="3741651">,</span>&nbsp;<span class="string" id="3741653">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="3741672">,</span>&nbsp;<span class="ident" id="3741674">ch</span><span class="op" id="3741676">,</span>&nbsp;<span class="ident" id="3741678">x</span><span class="op" id="3741679">.</span><span class="ident" id="3741680">String</span><span class="op" id="3741686">(</span><span class="op" id="3741687">)</span><span class="op" id="3741688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741692">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741700">case</span>&nbsp;<span class="ident" id="3741705">x</span>&nbsp;<span class="op" id="3741707">==</span>&nbsp;<span class="ident" id="3741710">nil</span><span class="op" id="3741713">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741717">fmt</span><span class="op" id="3741720">.</span><span class="ident" id="3741721">Fprint</span><span class="op" id="3741727">(</span><span class="ident" id="3741728">s</span><span class="op" id="3741729">,</span>&nbsp;<span class="string" id="3741731">&#34;&lt;nil&gt;&#34;</span><span class="op" id="3741738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741742">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3741750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3741754">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741783">sign</span>&nbsp;<span class="op" id="3741788">:=</span>&nbsp;<span class="string" id="3741791">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741795">switch</span>&nbsp;<span class="op" id="3741802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741805">case</span>&nbsp;<span class="ident" id="3741810">x</span><span class="op" id="3741811">.</span><span class="ident" id="3741812">neg</span><span class="op" id="3741815">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741819">sign</span>&nbsp;<span class="op" id="3741824">=</span>&nbsp;<span class="string" id="3741826">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741831">case</span>&nbsp;<span class="ident" id="3741836">s</span><span class="op" id="3741837">.</span><span class="ident" id="3741838">Flag</span><span class="op" id="3741842">(</span><span class="string" id="3741843">&#39;+&#39;</span><span class="op" id="3741846">)</span><span class="op" id="3741847">:</span>&nbsp;<span class="comment" id="3741849">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741889">sign</span>&nbsp;<span class="op" id="3741894">=</span>&nbsp;<span class="string" id="3741896">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741901">case</span>&nbsp;<span class="ident" id="3741906">s</span><span class="op" id="3741907">.</span><span class="ident" id="3741908">Flag</span><span class="op" id="3741912">(</span><span class="string" id="3741913">&#39;&nbsp;&#39;</span><span class="op" id="3741916">)</span><span class="op" id="3741917">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741921">sign</span>&nbsp;<span class="op" id="3741926">=</span>&nbsp;<span class="string" id="3741928">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3741933">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3741937">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741996">prefix</span>&nbsp;<span class="op" id="3742003">:=</span>&nbsp;<span class="string" id="3742006">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742010">if</span>&nbsp;<span class="ident" id="3742013">s</span><span class="op" id="3742014">.</span><span class="ident" id="3742015">Flag</span><span class="op" id="3742019">(</span><span class="string" id="3742020">&#39;#&#39;</span><span class="op" id="3742023">)</span>&nbsp;<span class="op" id="3742025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742029">switch</span>&nbsp;<span class="ident" id="3742036">ch</span>&nbsp;<span class="op" id="3742039">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742043">case</span>&nbsp;<span class="string" id="3742048">&#39;o&#39;</span><span class="op" id="3742051">:</span>&nbsp;<span class="comment" id="3742053">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742065">prefix</span>&nbsp;<span class="op" id="3742072">=</span>&nbsp;<span class="string" id="3742074">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742080">case</span>&nbsp;<span class="string" id="3742085">&#39;x&#39;</span><span class="op" id="3742088">:</span>&nbsp;<span class="comment" id="3742090">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742108">prefix</span>&nbsp;<span class="op" id="3742115">=</span>&nbsp;<span class="string" id="3742117">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742124">case</span>&nbsp;<span class="string" id="3742129">&#39;X&#39;</span><span class="op" id="3742132">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742137">prefix</span>&nbsp;<span class="op" id="3742144">=</span>&nbsp;<span class="string" id="3742146">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3742153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3742156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3742160">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742235">digits</span>&nbsp;<span class="op" id="3742242">:=</span>&nbsp;<span class="ident" id="3742245">x</span><span class="op" id="3742246">.</span><span class="ident" id="3742247">abs</span><span class="op" id="3742250">.</span><span class="builtintype" id="3742251">string</span><span class="op" id="3742257">(</span><span class="ident" id="3742258">cs</span><span class="op" id="3742260">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3742264">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742329">var</span>&nbsp;<span class="ident" id="3742333">left</span>&nbsp;<span class="builtintype" id="3742338">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3742344">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742415">var</span>&nbsp;<span class="ident" id="3742419">zeroes</span>&nbsp;<span class="builtintype" id="3742426">int</span>&nbsp;<span class="comment" id="3742430">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742496">var</span>&nbsp;<span class="ident" id="3742500">right</span>&nbsp;<span class="builtintype" id="3742506">int</span>&nbsp;&nbsp;<span class="comment" id="3742511">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3742584">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742666">precision</span><span class="op" id="3742675">,</span>&nbsp;<span class="ident" id="3742677">precisionSet</span>&nbsp;<span class="op" id="3742690">:=</span>&nbsp;<span class="ident" id="3742693">s</span><span class="op" id="3742694">.</span><span class="ident" id="3742695">Precision</span><span class="op" id="3742704">(</span><span class="op" id="3742705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742708">if</span>&nbsp;<span class="ident" id="3742711">precisionSet</span>&nbsp;<span class="op" id="3742724">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742728">switch</span>&nbsp;<span class="op" id="3742735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742739">case</span>&nbsp;<span class="builtinfunc" id="3742744">len</span><span class="op" id="3742747">(</span><span class="ident" id="3742748">digits</span><span class="op" id="3742754">)</span>&nbsp;<span class="op" id="3742756">&lt;</span>&nbsp;<span class="ident" id="3742758">precision</span><span class="op" id="3742767">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742772">zeroes</span>&nbsp;<span class="op" id="3742779">=</span>&nbsp;<span class="ident" id="3742781">precision</span>&nbsp;<span class="op" id="3742791">-</span>&nbsp;<span class="builtinfunc" id="3742793">len</span><span class="op" id="3742796">(</span><span class="ident" id="3742797">digits</span><span class="op" id="3742803">)</span>&nbsp;<span class="comment" id="3742805">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742832">case</span>&nbsp;<span class="ident" id="3742837">digits</span>&nbsp;<span class="op" id="3742844">==</span>&nbsp;<span class="string" id="3742847">&#34;0&#34;</span>&nbsp;<span class="op" id="3742851">&amp;&amp;</span>&nbsp;<span class="ident" id="3742854">precision</span>&nbsp;<span class="op" id="3742864">==</span>&nbsp;<span class="num" id="3742867">0</span><span class="op" id="3742868">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742873">return</span>&nbsp;<span class="comment" id="3742880">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3742955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3742958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3742962">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743039">length</span>&nbsp;<span class="op" id="3743046">:=</span>&nbsp;<span class="builtinfunc" id="3743049">len</span><span class="op" id="3743052">(</span><span class="ident" id="3743053">sign</span><span class="op" id="3743057">)</span>&nbsp;<span class="op" id="3743059">+</span>&nbsp;<span class="builtinfunc" id="3743061">len</span><span class="op" id="3743064">(</span><span class="ident" id="3743065">prefix</span><span class="op" id="3743071">)</span>&nbsp;<span class="op" id="3743073">+</span>&nbsp;<span class="ident" id="3743075">zeroes</span>&nbsp;<span class="op" id="3743082">+</span>&nbsp;<span class="builtinfunc" id="3743084">len</span><span class="op" id="3743087">(</span><span class="ident" id="3743088">digits</span><span class="op" id="3743094">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743097">if</span>&nbsp;<span class="ident" id="3743100">width</span><span class="op" id="3743105">,</span>&nbsp;<span class="ident" id="3743107">widthSet</span>&nbsp;<span class="op" id="3743116">:=</span>&nbsp;<span class="ident" id="3743119">s</span><span class="op" id="3743120">.</span><span class="ident" id="3743121">Width</span><span class="op" id="3743126">(</span><span class="op" id="3743127">)</span><span class="op" id="3743128">;</span>&nbsp;<span class="ident" id="3743130">widthSet</span>&nbsp;<span class="op" id="3743139">&amp;&amp;</span>&nbsp;<span class="ident" id="3743142">length</span>&nbsp;<span class="op" id="3743149">&lt;</span>&nbsp;<span class="ident" id="3743151">width</span>&nbsp;<span class="op" id="3743157">{</span>&nbsp;<span class="comment" id="3743159">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743181">switch</span>&nbsp;<span class="ident" id="3743188">d</span>&nbsp;<span class="op" id="3743190">:=</span>&nbsp;<span class="ident" id="3743193">width</span>&nbsp;<span class="op" id="3743199">-</span>&nbsp;<span class="ident" id="3743201">length</span><span class="op" id="3743207">;</span>&nbsp;<span class="op" id="3743209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743213">case</span>&nbsp;<span class="ident" id="3743218">s</span><span class="op" id="3743219">.</span><span class="ident" id="3743220">Flag</span><span class="op" id="3743224">(</span><span class="string" id="3743225">&#39;-&#39;</span><span class="op" id="3743228">)</span><span class="op" id="3743229">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3743234">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743305">right</span>&nbsp;<span class="op" id="3743311">=</span>&nbsp;<span class="ident" id="3743313">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743317">case</span>&nbsp;<span class="ident" id="3743322">s</span><span class="op" id="3743323">.</span><span class="ident" id="3743324">Flag</span><span class="op" id="3743328">(</span><span class="string" id="3743329">&#39;0&#39;</span><span class="op" id="3743332">)</span>&nbsp;<span class="op" id="3743334">&amp;&amp;</span>&nbsp;<span class="op" id="3743337">!</span><span class="ident" id="3743338">precisionSet</span><span class="op" id="3743350">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3743355">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743409">zeroes</span>&nbsp;<span class="op" id="3743416">=</span>&nbsp;<span class="ident" id="3743418">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743422">default</span><span class="op" id="3743429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3743434">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743468">left</span>&nbsp;<span class="op" id="3743473">=</span>&nbsp;<span class="ident" id="3743475">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3743479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3743482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3743486">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743560">writeMultiple</span><span class="op" id="3743573">(</span><span class="ident" id="3743574">s</span><span class="op" id="3743575">,</span>&nbsp;<span class="string" id="3743577">&#34;&nbsp;&#34;</span><span class="op" id="3743580">,</span>&nbsp;<span class="ident" id="3743582">left</span><span class="op" id="3743586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743589">writeMultiple</span><span class="op" id="3743602">(</span><span class="ident" id="3743603">s</span><span class="op" id="3743604">,</span>&nbsp;<span class="ident" id="3743606">sign</span><span class="op" id="3743610">,</span>&nbsp;<span class="num" id="3743612">1</span><span class="op" id="3743613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743616">writeMultiple</span><span class="op" id="3743629">(</span><span class="ident" id="3743630">s</span><span class="op" id="3743631">,</span>&nbsp;<span class="ident" id="3743633">prefix</span><span class="op" id="3743639">,</span>&nbsp;<span class="num" id="3743641">1</span><span class="op" id="3743642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743645">writeMultiple</span><span class="op" id="3743658">(</span><span class="ident" id="3743659">s</span><span class="op" id="3743660">,</span>&nbsp;<span class="string" id="3743662">&#34;0&#34;</span><span class="op" id="3743665">,</span>&nbsp;<span class="ident" id="3743667">zeroes</span><span class="op" id="3743673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743676">writeMultiple</span><span class="op" id="3743689">(</span><span class="ident" id="3743690">s</span><span class="op" id="3743691">,</span>&nbsp;<span class="ident" id="3743693">digits</span><span class="op" id="3743699">,</span>&nbsp;<span class="num" id="3743701">1</span><span class="op" id="3743702">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743705">writeMultiple</span><span class="op" id="3743718">(</span><span class="ident" id="3743719">s</span><span class="op" id="3743720">,</span>&nbsp;<span class="string" id="3743722">&#34;&nbsp;&#34;</span><span class="op" id="3743725">,</span>&nbsp;<span class="ident" id="3743727">right</span><span class="op" id="3743732">)</span><br>
<span class="lineno"></span><span class="op" id="3743734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3743737">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="3743818">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="3743898">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3743977">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3744055">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="3744111">//</span><br>
<span class="lineno"></span><span class="comment" id="3744114">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="3744192">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3744270">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3744346">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3744424">//</span><br>
<span class="lineno"></span><span class="keyword" id="3744427">func</span>&nbsp;<span class="op" id="3744432">(</span><span class="ident" id="3744433">z</span>&nbsp;<span class="op" id="3744435">*</span><span class="ident" id="3744436">Int</span><span class="op" id="3744439">)</span>&nbsp;<span class="ident" id="3744441">scan</span><span class="op" id="3744445">(</span><span class="ident" id="3744446">r</span>&nbsp;<span class="ident" id="3744448">io</span><span class="op" id="3744450">.</span><span class="ident" id="3744451">RuneScanner</span><span class="op" id="3744462">,</span>&nbsp;<span class="ident" id="3744464">base</span>&nbsp;<span class="builtintype" id="3744469">int</span><span class="op" id="3744472">)</span>&nbsp;<span class="op" id="3744474">(</span><span class="op" id="3744475">*</span><span class="ident" id="3744476">Int</span><span class="op" id="3744479">,</span>&nbsp;<span class="builtintype" id="3744481">int</span><span class="op" id="3744484">,</span>&nbsp;<span class="builtintype" id="3744486">error</span><span class="op" id="3744491">)</span>&nbsp;<span class="op" id="3744493">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3744496">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744515">ch</span><span class="op" id="3744517">,</span>&nbsp;<span class="ident" id="3744519">_</span><span class="op" id="3744520">,</span>&nbsp;<span class="ident" id="3744522">err</span>&nbsp;<span class="op" id="3744526">:=</span>&nbsp;<span class="ident" id="3744529">r</span><span class="op" id="3744530">.</span><span class="ident" id="3744531">ReadRune</span><span class="op" id="3744539">(</span><span class="op" id="3744540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744543">if</span>&nbsp;<span class="ident" id="3744546">err</span>&nbsp;<span class="op" id="3744550">!=</span>&nbsp;<span class="ident" id="3744553">nil</span>&nbsp;<span class="op" id="3744557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744561">return</span>&nbsp;<span class="ident" id="3744568">nil</span><span class="op" id="3744571">,</span>&nbsp;<span class="num" id="3744573">0</span><span class="op" id="3744574">,</span>&nbsp;<span class="ident" id="3744576">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3744581">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744584">neg</span>&nbsp;<span class="op" id="3744588">:=</span>&nbsp;<span class="builtintype" id="3744591">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744598">switch</span>&nbsp;<span class="ident" id="3744605">ch</span>&nbsp;<span class="op" id="3744608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744611">case</span>&nbsp;<span class="string" id="3744616">&#39;-&#39;</span><span class="op" id="3744619">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744623">neg</span>&nbsp;<span class="op" id="3744627">=</span>&nbsp;<span class="builtintype" id="3744629">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744635">case</span>&nbsp;<span class="string" id="3744640">&#39;+&#39;</span><span class="op" id="3744643">:</span>&nbsp;<span class="comment" id="3744645">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744663">default</span><span class="op" id="3744670">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744674">r</span><span class="op" id="3744675">.</span><span class="ident" id="3744676">UnreadRune</span><span class="op" id="3744686">(</span><span class="op" id="3744687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3744690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3744694">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744717">z</span><span class="op" id="3744718">.</span><span class="ident" id="3744719">abs</span><span class="op" id="3744722">,</span>&nbsp;<span class="ident" id="3744724">base</span><span class="op" id="3744728">,</span>&nbsp;<span class="ident" id="3744730">err</span>&nbsp;<span class="op" id="3744734">=</span>&nbsp;<span class="ident" id="3744736">z</span><span class="op" id="3744737">.</span><span class="ident" id="3744738">abs</span><span class="op" id="3744741">.</span><span class="ident" id="3744742">scan</span><span class="op" id="3744746">(</span><span class="ident" id="3744747">r</span><span class="op" id="3744748">,</span>&nbsp;<span class="ident" id="3744750">base</span><span class="op" id="3744754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744757">if</span>&nbsp;<span class="ident" id="3744760">err</span>&nbsp;<span class="op" id="3744764">!=</span>&nbsp;<span class="ident" id="3744767">nil</span>&nbsp;<span class="op" id="3744771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744775">return</span>&nbsp;<span class="ident" id="3744782">nil</span><span class="op" id="3744785">,</span>&nbsp;<span class="ident" id="3744787">base</span><span class="op" id="3744791">,</span>&nbsp;<span class="ident" id="3744793">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3744798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744801">z</span><span class="op" id="3744802">.</span><span class="ident" id="3744803">neg</span>&nbsp;<span class="op" id="3744807">=</span>&nbsp;<span class="builtinfunc" id="3744809">len</span><span class="op" id="3744812">(</span><span class="ident" id="3744813">z</span><span class="op" id="3744814">.</span><span class="ident" id="3744815">abs</span><span class="op" id="3744818">)</span>&nbsp;<span class="op" id="3744820">&gt;</span>&nbsp;<span class="num" id="3744822">0</span>&nbsp;<span class="op" id="3744824">&amp;&amp;</span>&nbsp;<span class="ident" id="3744827">neg</span>&nbsp;<span class="comment" id="3744831">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744850">return</span>&nbsp;<span class="ident" id="3744857">z</span><span class="op" id="3744858">,</span>&nbsp;<span class="ident" id="3744860">base</span><span class="op" id="3744864">,</span>&nbsp;<span class="ident" id="3744866">nil</span><br>
<span class="lineno"></span><span class="op" id="3744870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3744873">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="3744945">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="3745018">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="3745098">func</span>&nbsp;<span class="op" id="3745103">(</span><span class="ident" id="3745104">z</span>&nbsp;<span class="op" id="3745106">*</span><span class="ident" id="3745107">Int</span><span class="op" id="3745110">)</span>&nbsp;<span class="ident" id="3745112">Scan</span><span class="op" id="3745116">(</span><span class="ident" id="3745117">s</span>&nbsp;<span class="ident" id="3745119">fmt</span><span class="op" id="3745122">.</span><span class="ident" id="3745123">ScanState</span><span class="op" id="3745132">,</span>&nbsp;<span class="ident" id="3745134">ch</span>&nbsp;<span class="builtintype" id="3745137">rune</span><span class="op" id="3745141">)</span>&nbsp;<span class="builtintype" id="3745143">error</span>&nbsp;<span class="op" id="3745149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745152">s</span><span class="op" id="3745153">.</span><span class="ident" id="3745154">SkipSpace</span><span class="op" id="3745163">(</span><span class="op" id="3745164">)</span>&nbsp;<span class="comment" id="3745166">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745200">base</span>&nbsp;<span class="op" id="3745205">:=</span>&nbsp;<span class="num" id="3745208">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745211">switch</span>&nbsp;<span class="ident" id="3745218">ch</span>&nbsp;<span class="op" id="3745221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745224">case</span>&nbsp;<span class="string" id="3745229">&#39;b&#39;</span><span class="op" id="3745232">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745236">base</span>&nbsp;<span class="op" id="3745241">=</span>&nbsp;<span class="num" id="3745243">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745246">case</span>&nbsp;<span class="string" id="3745251">&#39;o&#39;</span><span class="op" id="3745254">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745258">base</span>&nbsp;<span class="op" id="3745263">=</span>&nbsp;<span class="num" id="3745265">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745268">case</span>&nbsp;<span class="string" id="3745273">&#39;d&#39;</span><span class="op" id="3745276">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745280">base</span>&nbsp;<span class="op" id="3745285">=</span>&nbsp;<span class="num" id="3745287">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745291">case</span>&nbsp;<span class="string" id="3745296">&#39;x&#39;</span><span class="op" id="3745299">,</span>&nbsp;<span class="string" id="3745301">&#39;X&#39;</span><span class="op" id="3745304">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745308">base</span>&nbsp;<span class="op" id="3745313">=</span>&nbsp;<span class="num" id="3745315">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745319">case</span>&nbsp;<span class="string" id="3745324">&#39;s&#39;</span><span class="op" id="3745327">,</span>&nbsp;<span class="string" id="3745329">&#39;v&#39;</span><span class="op" id="3745332">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3745336">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745368">default</span><span class="op" id="3745375">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745379">return</span>&nbsp;<span class="ident" id="3745386">errors</span><span class="op" id="3745392">.</span><span class="ident" id="3745393">New</span><span class="op" id="3745396">(</span><span class="string" id="3745397">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="3745421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3745424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745427">_</span><span class="op" id="3745428">,</span>&nbsp;<span class="ident" id="3745430">_</span><span class="op" id="3745431">,</span>&nbsp;<span class="ident" id="3745433">err</span>&nbsp;<span class="op" id="3745437">:=</span>&nbsp;<span class="ident" id="3745440">z</span><span class="op" id="3745441">.</span><span class="ident" id="3745442">scan</span><span class="op" id="3745446">(</span><span class="ident" id="3745447">s</span><span class="op" id="3745448">,</span>&nbsp;<span class="ident" id="3745450">base</span><span class="op" id="3745454">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745457">return</span>&nbsp;<span class="ident" id="3745464">err</span><br>
<span class="lineno"></span><span class="op" id="3745468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3745471">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3745524">func</span>&nbsp;<span class="ident" id="3745529">low32</span><span class="op" id="3745534">(</span><span class="ident" id="3745535">z</span>&nbsp;<span class="ident" id="3745537">nat</span><span class="op" id="3745540">)</span>&nbsp;<span class="builtintype" id="3745542">uint32</span>&nbsp;<span class="op" id="3745549">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745552">if</span>&nbsp;<span class="builtinfunc" id="3745555">len</span><span class="op" id="3745558">(</span><span class="ident" id="3745559">z</span><span class="op" id="3745560">)</span>&nbsp;<span class="op" id="3745562">==</span>&nbsp;<span class="num" id="3745565">0</span>&nbsp;<span class="op" id="3745567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745571">return</span>&nbsp;<span class="num" id="3745578">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3745581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745584">return</span>&nbsp;<span class="builtintype" id="3745591">uint32</span><span class="op" id="3745597">(</span><span class="ident" id="3745598">z</span><span class="op" id="3745599">[</span><span class="num" id="3745600">0</span><span class="op" id="3745601">]</span><span class="op" id="3745602">)</span><br>
<span class="lineno"></span><span class="op" id="3745604">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="3745607">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3745660">func</span>&nbsp;<span class="ident" id="3745665">low64</span><span class="op" id="3745670">(</span><span class="ident" id="3745671">z</span>&nbsp;<span class="ident" id="3745673">nat</span><span class="op" id="3745676">)</span>&nbsp;<span class="ident" id="3745678">uint64</span>&nbsp;<span class="op" id="3745685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745688">if</span>&nbsp;<span class="builtinfunc" id="3745691">len</span><span class="op" id="3745694">(</span><span class="ident" id="3745695">z</span><span class="op" id="3745696">)</span>&nbsp;<span class="op" id="3745698">==</span>&nbsp;<span class="num" id="3745701">0</span>&nbsp;<span class="op" id="3745703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745707">return</span>&nbsp;<span class="num" id="3745714">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3745717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745720">v</span>&nbsp;<span class="op" id="3745722">:=</span>&nbsp;<span class="ident" id="3745725">uint64</span><span class="op" id="3745731">(</span><span class="ident" id="3745732">z</span><span class="op" id="3745733">[</span><span class="num" id="3745734">0</span><span class="op" id="3745735">]</span><span class="op" id="3745736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745739">if</span>&nbsp;<span class="ident" id="3745742">_W</span>&nbsp;<span class="op" id="3745745">==</span>&nbsp;<span class="num" id="3745748">32</span>&nbsp;<span class="op" id="3745751">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3745754">len</span><span class="op" id="3745757">(</span><span class="ident" id="3745758">z</span><span class="op" id="3745759">)</span>&nbsp;<span class="op" id="3745761">&gt;</span>&nbsp;<span class="num" id="3745763">1</span>&nbsp;<span class="op" id="3745765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745769">v</span>&nbsp;<span class="op" id="3745771">|=</span>&nbsp;<span class="ident" id="3745774">uint64</span><span class="op" id="3745780">(</span><span class="ident" id="3745781">z</span><span class="op" id="3745782">[</span><span class="num" id="3745783">1</span><span class="op" id="3745784">]</span><span class="op" id="3745785">)</span>&nbsp;<span class="op" id="3745787">&lt;&lt;</span>&nbsp;<span class="num" id="3745790">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3745794">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745797">return</span>&nbsp;<span class="ident" id="3745804">v</span><br>
<span class="lineno"></span><span class="op" id="3745806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3745809">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3745857">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="3745925">func</span>&nbsp;<span class="op" id="3745930">(</span><span class="ident" id="3745931">x</span>&nbsp;<span class="op" id="3745933">*</span><span class="ident" id="3745934">Int</span><span class="op" id="3745937">)</span>&nbsp;<span class="ident" id="3745939">Int64</span><span class="op" id="3745944">(</span><span class="op" id="3745945">)</span>&nbsp;<span class="ident" id="3745947">int64</span>&nbsp;<span class="op" id="3745953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745956">v</span>&nbsp;<span class="op" id="3745958">:=</span>&nbsp;<span class="ident" id="3745961">int64</span><span class="op" id="3745966">(</span><span class="ident" id="3745967">low64</span><span class="op" id="3745972">(</span><span class="ident" id="3745973">x</span><span class="op" id="3745974">.</span><span class="ident" id="3745975">abs</span><span class="op" id="3745978">)</span><span class="op" id="3745979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745982">if</span>&nbsp;<span class="ident" id="3745985">x</span><span class="op" id="3745986">.</span><span class="ident" id="3745987">neg</span>&nbsp;<span class="op" id="3745991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745995">v</span>&nbsp;<span class="op" id="3745997">=</span>&nbsp;<span class="op" id="3745999">-</span><span class="ident" id="3746000">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746003">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746006">return</span>&nbsp;<span class="ident" id="3746013">v</span><br>
<span class="lineno"></span><span class="op" id="3746015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3746018">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3746068">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="3746136">func</span>&nbsp;<span class="op" id="3746141">(</span><span class="ident" id="3746142">x</span>&nbsp;<span class="op" id="3746144">*</span><span class="ident" id="3746145">Int</span><span class="op" id="3746148">)</span>&nbsp;<span class="ident" id="3746150">Uint64</span><span class="op" id="3746156">(</span><span class="op" id="3746157">)</span>&nbsp;<span class="ident" id="3746159">uint64</span>&nbsp;<span class="op" id="3746166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746169">return</span>&nbsp;<span class="ident" id="3746176">low64</span><span class="op" id="3746181">(</span><span class="ident" id="3746182">x</span><span class="op" id="3746183">.</span><span class="ident" id="3746184">abs</span><span class="op" id="3746187">)</span><br>
<span class="lineno"></span><span class="op" id="3746189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3746192">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="3746262">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="3746333">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="3746395">//</span><br>
<span class="lineno"></span><span class="comment" id="3746398">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="3746476">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="3746554">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3746630">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3746708">//</span><br>
<span class="lineno"></span><span class="keyword" id="3746711">func</span>&nbsp;<span class="op" id="3746716">(</span><span class="ident" id="3746717">z</span>&nbsp;<span class="op" id="3746719">*</span><span class="ident" id="3746720">Int</span><span class="op" id="3746723">)</span>&nbsp;<span class="ident" id="3746725">SetString</span><span class="op" id="3746734">(</span><span class="ident" id="3746735">s</span>&nbsp;<span class="builtintype" id="3746737">string</span><span class="op" id="3746743">,</span>&nbsp;<span class="ident" id="3746745">base</span>&nbsp;<span class="builtintype" id="3746750">int</span><span class="op" id="3746753">)</span>&nbsp;<span class="op" id="3746755">(</span><span class="op" id="3746756">*</span><span class="ident" id="3746757">Int</span><span class="op" id="3746760">,</span>&nbsp;<span class="builtintype" id="3746762">bool</span><span class="op" id="3746766">)</span>&nbsp;<span class="op" id="3746768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746771">r</span>&nbsp;<span class="op" id="3746773">:=</span>&nbsp;<span class="ident" id="3746776">strings</span><span class="op" id="3746783">.</span><span class="ident" id="3746784">NewReader</span><span class="op" id="3746793">(</span><span class="ident" id="3746794">s</span><span class="op" id="3746795">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746798">_</span><span class="op" id="3746799">,</span>&nbsp;<span class="ident" id="3746801">_</span><span class="op" id="3746802">,</span>&nbsp;<span class="ident" id="3746804">err</span>&nbsp;<span class="op" id="3746808">:=</span>&nbsp;<span class="ident" id="3746811">z</span><span class="op" id="3746812">.</span><span class="ident" id="3746813">scan</span><span class="op" id="3746817">(</span><span class="ident" id="3746818">r</span><span class="op" id="3746819">,</span>&nbsp;<span class="ident" id="3746821">base</span><span class="op" id="3746825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746828">if</span>&nbsp;<span class="ident" id="3746831">err</span>&nbsp;<span class="op" id="3746835">!=</span>&nbsp;<span class="ident" id="3746838">nil</span>&nbsp;<span class="op" id="3746842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746846">return</span>&nbsp;<span class="ident" id="3746853">nil</span><span class="op" id="3746856">,</span>&nbsp;<span class="builtintype" id="3746858">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746868">_</span><span class="op" id="3746869">,</span>&nbsp;<span class="ident" id="3746871">_</span><span class="op" id="3746872">,</span>&nbsp;<span class="ident" id="3746874">err</span>&nbsp;<span class="op" id="3746878">=</span>&nbsp;<span class="ident" id="3746880">r</span><span class="op" id="3746881">.</span><span class="ident" id="3746882">ReadRune</span><span class="op" id="3746890">(</span><span class="op" id="3746891">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746894">if</span>&nbsp;<span class="ident" id="3746897">err</span>&nbsp;<span class="op" id="3746901">!=</span>&nbsp;<span class="ident" id="3746904">io</span><span class="op" id="3746906">.</span><span class="ident" id="3746907">EOF</span>&nbsp;<span class="op" id="3746911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746915">return</span>&nbsp;<span class="ident" id="3746922">nil</span><span class="op" id="3746925">,</span>&nbsp;<span class="builtintype" id="3746927">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746937">return</span>&nbsp;<span class="ident" id="3746944">z</span><span class="op" id="3746945">,</span>&nbsp;<span class="builtintype" id="3746947">true</span>&nbsp;<span class="comment" id="3746952">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="3746995">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="3746998">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="3747063">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3747112">func</span>&nbsp;<span class="op" id="3747117">(</span><span class="ident" id="3747118">z</span>&nbsp;<span class="op" id="3747120">*</span><span class="ident" id="3747121">Int</span><span class="op" id="3747124">)</span>&nbsp;<span class="ident" id="3747126">SetBytes</span><span class="op" id="3747134">(</span><span class="ident" id="3747135">buf</span>&nbsp;<span class="op" id="3747139">[</span><span class="op" id="3747140">]</span><span class="builtintype" id="3747141">byte</span><span class="op" id="3747145">)</span>&nbsp;<span class="op" id="3747147">*</span><span class="ident" id="3747148">Int</span>&nbsp;<span class="op" id="3747152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747155">z</span><span class="op" id="3747156">.</span><span class="ident" id="3747157">abs</span>&nbsp;<span class="op" id="3747161">=</span>&nbsp;<span class="ident" id="3747163">z</span><span class="op" id="3747164">.</span><span class="ident" id="3747165">abs</span><span class="op" id="3747168">.</span><span class="ident" id="3747169">setBytes</span><span class="op" id="3747177">(</span><span class="ident" id="3747178">buf</span><span class="op" id="3747181">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747184">z</span><span class="op" id="3747185">.</span><span class="ident" id="3747186">neg</span>&nbsp;<span class="op" id="3747190">=</span>&nbsp;<span class="builtintype" id="3747192">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747199">return</span>&nbsp;<span class="ident" id="3747206">z</span><br>
<span class="lineno"></span><span class="op" id="3747208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3747211">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="3747280">func</span>&nbsp;<span class="op" id="3747285">(</span><span class="ident" id="3747286">x</span>&nbsp;<span class="op" id="3747288">*</span><span class="ident" id="3747289">Int</span><span class="op" id="3747292">)</span>&nbsp;<span class="ident" id="3747294">Bytes</span><span class="op" id="3747299">(</span><span class="op" id="3747300">)</span>&nbsp;<span class="op" id="3747302">[</span><span class="op" id="3747303">]</span><span class="builtintype" id="3747304">byte</span>&nbsp;<span class="op" id="3747309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747312">buf</span>&nbsp;<span class="op" id="3747316">:=</span>&nbsp;<span class="builtinfunc" id="3747319">make</span><span class="op" id="3747323">(</span><span class="op" id="3747324">[</span><span class="op" id="3747325">]</span><span class="builtintype" id="3747326">byte</span><span class="op" id="3747330">,</span>&nbsp;<span class="builtinfunc" id="3747332">len</span><span class="op" id="3747335">(</span><span class="ident" id="3747336">x</span><span class="op" id="3747337">.</span><span class="ident" id="3747338">abs</span><span class="op" id="3747341">)</span><span class="op" id="3747342">*</span><span class="ident" id="3747343">_S</span><span class="op" id="3747345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747348">return</span>&nbsp;<span class="ident" id="3747355">buf</span><span class="op" id="3747358">[</span><span class="ident" id="3747359">x</span><span class="op" id="3747360">.</span><span class="ident" id="3747361">abs</span><span class="op" id="3747364">.</span><span class="ident" id="3747365">bytes</span><span class="op" id="3747370">(</span><span class="ident" id="3747371">buf</span><span class="op" id="3747374">)</span><span class="op" id="3747375">:</span><span class="op" id="3747376">]</span><br>
<span class="lineno"></span><span class="op" id="3747378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="3747381">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="3747446">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3747475">func</span>&nbsp;<span class="op" id="3747480">(</span><span class="ident" id="3747481">x</span>&nbsp;<span class="op" id="3747483">*</span><span class="ident" id="3747484">Int</span><span class="op" id="3747487">)</span>&nbsp;<span class="ident" id="3747489">BitLen</span><span class="op" id="3747495">(</span><span class="op" id="3747496">)</span>&nbsp;<span class="builtintype" id="3747498">int</span>&nbsp;<span class="op" id="3747502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747505">return</span>&nbsp;<span class="ident" id="3747512">x</span><span class="op" id="3747513">.</span><span class="ident" id="3747514">abs</span><span class="op" id="3747517">.</span><span class="ident" id="3747518">bitLen</span><span class="op" id="3747524">(</span><span class="op" id="3747525">)</span><br>
<span class="lineno"></span><span class="op" id="3747527">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="3747530">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3747607">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="3747679">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="3747718">func</span>&nbsp;<span class="op" id="3747723">(</span><span class="ident" id="3747724">z</span>&nbsp;<span class="op" id="3747726">*</span><span class="ident" id="3747727">Int</span><span class="op" id="3747730">)</span>&nbsp;<span class="ident" id="3747732">Exp</span><span class="op" id="3747735">(</span><span class="ident" id="3747736">x</span><span class="op" id="3747737">,</span>&nbsp;<span class="ident" id="3747739">y</span><span class="op" id="3747740">,</span>&nbsp;<span class="ident" id="3747742">m</span>&nbsp;<span class="op" id="3747744">*</span><span class="ident" id="3747745">Int</span><span class="op" id="3747748">)</span>&nbsp;<span class="op" id="3747750">*</span><span class="ident" id="3747751">Int</span>&nbsp;<span class="op" id="3747755">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747758">var</span>&nbsp;<span class="ident" id="3747762">yWords</span>&nbsp;<span class="ident" id="3747769">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747774">if</span>&nbsp;<span class="op" id="3747777">!</span><span class="ident" id="3747778">y</span><span class="op" id="3747779">.</span><span class="ident" id="3747780">neg</span>&nbsp;<span class="op" id="3747784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747788">yWords</span>&nbsp;<span class="op" id="3747795">=</span>&nbsp;<span class="ident" id="3747797">y</span><span class="op" id="3747798">.</span><span class="ident" id="3747799">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3747804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3747807">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747819">var</span>&nbsp;<span class="ident" id="3747823">mWords</span>&nbsp;<span class="ident" id="3747830">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747835">if</span>&nbsp;<span class="ident" id="3747838">m</span>&nbsp;<span class="op" id="3747840">!=</span>&nbsp;<span class="ident" id="3747843">nil</span>&nbsp;<span class="op" id="3747847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747851">mWords</span>&nbsp;<span class="op" id="3747858">=</span>&nbsp;<span class="ident" id="3747860">m</span><span class="op" id="3747861">.</span><span class="ident" id="3747862">abs</span>&nbsp;<span class="comment" id="3747866">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3747898">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747902">z</span><span class="op" id="3747903">.</span><span class="ident" id="3747904">abs</span>&nbsp;<span class="op" id="3747908">=</span>&nbsp;<span class="ident" id="3747910">z</span><span class="op" id="3747911">.</span><span class="ident" id="3747912">abs</span><span class="op" id="3747915">.</span><span class="ident" id="3747916">expNN</span><span class="op" id="3747921">(</span><span class="ident" id="3747922">x</span><span class="op" id="3747923">.</span><span class="ident" id="3747924">abs</span><span class="op" id="3747927">,</span>&nbsp;<span class="ident" id="3747929">yWords</span><span class="op" id="3747935">,</span>&nbsp;<span class="ident" id="3747937">mWords</span><span class="op" id="3747943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747946">z</span><span class="op" id="3747947">.</span><span class="ident" id="3747948">neg</span>&nbsp;<span class="op" id="3747952">=</span>&nbsp;<span class="builtinfunc" id="3747954">len</span><span class="op" id="3747957">(</span><span class="ident" id="3747958">z</span><span class="op" id="3747959">.</span><span class="ident" id="3747960">abs</span><span class="op" id="3747963">)</span>&nbsp;<span class="op" id="3747965">&gt;</span>&nbsp;<span class="num" id="3747967">0</span>&nbsp;<span class="op" id="3747969">&amp;&amp;</span>&nbsp;<span class="ident" id="3747972">x</span><span class="op" id="3747973">.</span><span class="ident" id="3747974">neg</span>&nbsp;<span class="op" id="3747978">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3747981">len</span><span class="op" id="3747984">(</span><span class="ident" id="3747985">yWords</span><span class="op" id="3747991">)</span>&nbsp;<span class="op" id="3747993">&gt;</span>&nbsp;<span class="num" id="3747995">0</span>&nbsp;<span class="op" id="3747997">&amp;&amp;</span>&nbsp;<span class="ident" id="3748000">yWords</span><span class="op" id="3748006">[</span><span class="num" id="3748007">0</span><span class="op" id="3748008">]</span><span class="op" id="3748009">&amp;</span><span class="num" id="3748010">1</span>&nbsp;<span class="op" id="3748012">==</span>&nbsp;<span class="num" id="3748015">1</span>&nbsp;<span class="comment" id="3748017">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748035">if</span>&nbsp;<span class="ident" id="3748038">z</span><span class="op" id="3748039">.</span><span class="ident" id="3748040">neg</span>&nbsp;<span class="op" id="3748044">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3748047">len</span><span class="op" id="3748050">(</span><span class="ident" id="3748051">mWords</span><span class="op" id="3748057">)</span>&nbsp;<span class="op" id="3748059">&gt;</span>&nbsp;<span class="num" id="3748061">0</span>&nbsp;<span class="op" id="3748063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3748067">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748101">z</span><span class="op" id="3748102">.</span><span class="ident" id="3748103">abs</span>&nbsp;<span class="op" id="3748107">=</span>&nbsp;<span class="ident" id="3748109">z</span><span class="op" id="3748110">.</span><span class="ident" id="3748111">abs</span><span class="op" id="3748114">.</span><span class="ident" id="3748115">sub</span><span class="op" id="3748118">(</span><span class="ident" id="3748119">mWords</span><span class="op" id="3748125">,</span>&nbsp;<span class="ident" id="3748127">z</span><span class="op" id="3748128">.</span><span class="ident" id="3748129">abs</span><span class="op" id="3748132">)</span>&nbsp;<span class="comment" id="3748134">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748173">z</span><span class="op" id="3748174">.</span><span class="ident" id="3748175">neg</span>&nbsp;<span class="op" id="3748179">=</span>&nbsp;<span class="builtintype" id="3748181">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3748188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748192">return</span>&nbsp;<span class="ident" id="3748199">z</span><br>
<span class="lineno">615</span><span class="op" id="3748201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3748204">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="3748277">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3748303">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="3748372">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3748425">func</span>&nbsp;<span class="op" id="3748430">(</span><span class="ident" id="3748431">z</span>&nbsp;<span class="op" id="3748433">*</span><span class="ident" id="3748434">Int</span><span class="op" id="3748437">)</span>&nbsp;<span class="ident" id="3748439">GCD</span><span class="op" id="3748442">(</span><span class="ident" id="3748443">x</span><span class="op" id="3748444">,</span>&nbsp;<span class="ident" id="3748446">y</span><span class="op" id="3748447">,</span>&nbsp;<span class="ident" id="3748449">a</span><span class="op" id="3748450">,</span>&nbsp;<span class="ident" id="3748452">b</span>&nbsp;<span class="op" id="3748454">*</span><span class="ident" id="3748455">Int</span><span class="op" id="3748458">)</span>&nbsp;<span class="op" id="3748460">*</span><span class="ident" id="3748461">Int</span>&nbsp;<span class="op" id="3748465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748468">if</span>&nbsp;<span class="ident" id="3748471">a</span><span class="op" id="3748472">.</span><span class="ident" id="3748473">Sign</span><span class="op" id="3748477">(</span><span class="op" id="3748478">)</span>&nbsp;<span class="op" id="3748480">&lt;=</span>&nbsp;<span class="num" id="3748483">0</span>&nbsp;<span class="op" id="3748485">||</span>&nbsp;<span class="ident" id="3748488">b</span><span class="op" id="3748489">.</span><span class="ident" id="3748490">Sign</span><span class="op" id="3748494">(</span><span class="op" id="3748495">)</span>&nbsp;<span class="op" id="3748497">&lt;=</span>&nbsp;<span class="num" id="3748500">0</span>&nbsp;<span class="op" id="3748502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748506">z</span><span class="op" id="3748507">.</span><span class="ident" id="3748508">SetInt64</span><span class="op" id="3748516">(</span><span class="num" id="3748517">0</span><span class="op" id="3748518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748522">if</span>&nbsp;<span class="ident" id="3748525">x</span>&nbsp;<span class="op" id="3748527">!=</span>&nbsp;<span class="ident" id="3748530">nil</span>&nbsp;<span class="op" id="3748534">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748539">x</span><span class="op" id="3748540">.</span><span class="ident" id="3748541">SetInt64</span><span class="op" id="3748549">(</span><span class="num" id="3748550">0</span><span class="op" id="3748551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3748555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748559">if</span>&nbsp;<span class="ident" id="3748562">y</span>&nbsp;<span class="op" id="3748564">!=</span>&nbsp;<span class="ident" id="3748567">nil</span>&nbsp;<span class="op" id="3748571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748576">y</span><span class="op" id="3748577">.</span><span class="ident" id="3748578">SetInt64</span><span class="op" id="3748586">(</span><span class="num" id="3748587">0</span><span class="op" id="3748588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3748592">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748596">return</span>&nbsp;<span class="ident" id="3748603">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3748606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748609">if</span>&nbsp;<span class="ident" id="3748612">x</span>&nbsp;<span class="op" id="3748614">==</span>&nbsp;<span class="ident" id="3748617">nil</span>&nbsp;<span class="op" id="3748621">&amp;&amp;</span>&nbsp;<span class="ident" id="3748624">y</span>&nbsp;<span class="op" id="3748626">==</span>&nbsp;<span class="ident" id="3748629">nil</span>&nbsp;<span class="op" id="3748633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748637">return</span>&nbsp;<span class="ident" id="3748644">z</span><span class="op" id="3748645">.</span><span class="ident" id="3748646">binaryGCD</span><span class="op" id="3748655">(</span><span class="ident" id="3748656">a</span><span class="op" id="3748657">,</span>&nbsp;<span class="ident" id="3748659">b</span><span class="op" id="3748660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3748663">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748667">A</span>&nbsp;<span class="op" id="3748669">:=</span>&nbsp;<span class="builtinfunc" id="3748672">new</span><span class="op" id="3748675">(</span><span class="ident" id="3748676">Int</span><span class="op" id="3748679">)</span><span class="op" id="3748680">.</span><span class="ident" id="3748681">Set</span><span class="op" id="3748684">(</span><span class="ident" id="3748685">a</span><span class="op" id="3748686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748689">B</span>&nbsp;<span class="op" id="3748691">:=</span>&nbsp;<span class="builtinfunc" id="3748694">new</span><span class="op" id="3748697">(</span><span class="ident" id="3748698">Int</span><span class="op" id="3748701">)</span><span class="op" id="3748702">.</span><span class="ident" id="3748703">Set</span><span class="op" id="3748706">(</span><span class="ident" id="3748707">b</span><span class="op" id="3748708">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748712">X</span>&nbsp;<span class="op" id="3748714">:=</span>&nbsp;<span class="builtinfunc" id="3748717">new</span><span class="op" id="3748720">(</span><span class="ident" id="3748721">Int</span><span class="op" id="3748724">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748727">Y</span>&nbsp;<span class="op" id="3748729">:=</span>&nbsp;<span class="builtinfunc" id="3748732">new</span><span class="op" id="3748735">(</span><span class="ident" id="3748736">Int</span><span class="op" id="3748739">)</span><span class="op" id="3748740">.</span><span class="ident" id="3748741">SetInt64</span><span class="op" id="3748749">(</span><span class="num" id="3748750">1</span><span class="op" id="3748751">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748755">lastX</span>&nbsp;<span class="op" id="3748761">:=</span>&nbsp;<span class="builtinfunc" id="3748764">new</span><span class="op" id="3748767">(</span><span class="ident" id="3748768">Int</span><span class="op" id="3748771">)</span><span class="op" id="3748772">.</span><span class="ident" id="3748773">SetInt64</span><span class="op" id="3748781">(</span><span class="num" id="3748782">1</span><span class="op" id="3748783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748786">lastY</span>&nbsp;<span class="op" id="3748792">:=</span>&nbsp;<span class="builtinfunc" id="3748795">new</span><span class="op" id="3748798">(</span><span class="ident" id="3748799">Int</span><span class="op" id="3748802">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748806">q</span>&nbsp;<span class="op" id="3748808">:=</span>&nbsp;<span class="builtinfunc" id="3748811">new</span><span class="op" id="3748814">(</span><span class="ident" id="3748815">Int</span><span class="op" id="3748818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748821">temp</span>&nbsp;<span class="op" id="3748826">:=</span>&nbsp;<span class="builtinfunc" id="3748829">new</span><span class="op" id="3748832">(</span><span class="ident" id="3748833">Int</span><span class="op" id="3748836">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748840">for</span>&nbsp;<span class="builtinfunc" id="3748844">len</span><span class="op" id="3748847">(</span><span class="ident" id="3748848">B</span><span class="op" id="3748849">.</span><span class="ident" id="3748850">abs</span><span class="op" id="3748853">)</span>&nbsp;<span class="op" id="3748855">&gt;</span>&nbsp;<span class="num" id="3748857">0</span>&nbsp;<span class="op" id="3748859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748863">r</span>&nbsp;<span class="op" id="3748865">:=</span>&nbsp;<span class="builtinfunc" id="3748868">new</span><span class="op" id="3748871">(</span><span class="ident" id="3748872">Int</span><span class="op" id="3748875">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748879">q</span><span class="op" id="3748880">,</span>&nbsp;<span class="ident" id="3748882">r</span>&nbsp;<span class="op" id="3748884">=</span>&nbsp;<span class="ident" id="3748886">q</span><span class="op" id="3748887">.</span><span class="ident" id="3748888">QuoRem</span><span class="op" id="3748894">(</span><span class="ident" id="3748895">A</span><span class="op" id="3748896">,</span>&nbsp;<span class="ident" id="3748898">B</span><span class="op" id="3748899">,</span>&nbsp;<span class="ident" id="3748901">r</span><span class="op" id="3748902">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748907">A</span><span class="op" id="3748908">,</span>&nbsp;<span class="ident" id="3748910">B</span>&nbsp;<span class="op" id="3748912">=</span>&nbsp;<span class="ident" id="3748914">B</span><span class="op" id="3748915">,</span>&nbsp;<span class="ident" id="3748917">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748922">temp</span><span class="op" id="3748926">.</span><span class="ident" id="3748927">Set</span><span class="op" id="3748930">(</span><span class="ident" id="3748931">X</span><span class="op" id="3748932">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748936">X</span><span class="op" id="3748937">.</span><span class="ident" id="3748938">Mul</span><span class="op" id="3748941">(</span><span class="ident" id="3748942">X</span><span class="op" id="3748943">,</span>&nbsp;<span class="ident" id="3748945">q</span><span class="op" id="3748946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748950">X</span><span class="op" id="3748951">.</span><span class="ident" id="3748952">neg</span>&nbsp;<span class="op" id="3748956">=</span>&nbsp;<span class="op" id="3748958">!</span><span class="ident" id="3748959">X</span><span class="op" id="3748960">.</span><span class="ident" id="3748961">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748967">X</span><span class="op" id="3748968">.</span><span class="ident" id="3748969">Add</span><span class="op" id="3748972">(</span><span class="ident" id="3748973">X</span><span class="op" id="3748974">,</span>&nbsp;<span class="ident" id="3748976">lastX</span><span class="op" id="3748981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748985">lastX</span><span class="op" id="3748990">.</span><span class="ident" id="3748991">Set</span><span class="op" id="3748994">(</span><span class="ident" id="3748995">temp</span><span class="op" id="3748999">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749004">temp</span><span class="op" id="3749008">.</span><span class="ident" id="3749009">Set</span><span class="op" id="3749012">(</span><span class="ident" id="3749013">Y</span><span class="op" id="3749014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749018">Y</span><span class="op" id="3749019">.</span><span class="ident" id="3749020">Mul</span><span class="op" id="3749023">(</span><span class="ident" id="3749024">Y</span><span class="op" id="3749025">,</span>&nbsp;<span class="ident" id="3749027">q</span><span class="op" id="3749028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749032">Y</span><span class="op" id="3749033">.</span><span class="ident" id="3749034">neg</span>&nbsp;<span class="op" id="3749038">=</span>&nbsp;<span class="op" id="3749040">!</span><span class="ident" id="3749041">Y</span><span class="op" id="3749042">.</span><span class="ident" id="3749043">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749049">Y</span><span class="op" id="3749050">.</span><span class="ident" id="3749051">Add</span><span class="op" id="3749054">(</span><span class="ident" id="3749055">Y</span><span class="op" id="3749056">,</span>&nbsp;<span class="ident" id="3749058">lastY</span><span class="op" id="3749063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749067">lastY</span><span class="op" id="3749072">.</span><span class="ident" id="3749073">Set</span><span class="op" id="3749076">(</span><span class="ident" id="3749077">temp</span><span class="op" id="3749081">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749088">if</span>&nbsp;<span class="ident" id="3749091">x</span>&nbsp;<span class="op" id="3749093">!=</span>&nbsp;<span class="ident" id="3749096">nil</span>&nbsp;<span class="op" id="3749100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749104">*</span><span class="ident" id="3749105">x</span>&nbsp;<span class="op" id="3749107">=</span>&nbsp;<span class="op" id="3749109">*</span><span class="ident" id="3749110">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749117">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749121">if</span>&nbsp;<span class="ident" id="3749124">y</span>&nbsp;<span class="op" id="3749126">!=</span>&nbsp;<span class="ident" id="3749129">nil</span>&nbsp;<span class="op" id="3749133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749137">*</span><span class="ident" id="3749138">y</span>&nbsp;<span class="op" id="3749140">=</span>&nbsp;<span class="op" id="3749142">*</span><span class="ident" id="3749143">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749154">*</span><span class="ident" id="3749155">z</span>&nbsp;<span class="op" id="3749157">=</span>&nbsp;<span class="op" id="3749159">*</span><span class="ident" id="3749160">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749163">return</span>&nbsp;<span class="ident" id="3749170">z</span><br>
<span class="lineno"></span><span class="op" id="3749172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3749175">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="3749254">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3749280">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="3749363">func</span>&nbsp;<span class="op" id="3749368">(</span><span class="ident" id="3749369">z</span>&nbsp;<span class="op" id="3749371">*</span><span class="ident" id="3749372">Int</span><span class="op" id="3749375">)</span>&nbsp;<span class="ident" id="3749377">binaryGCD</span><span class="op" id="3749386">(</span><span class="ident" id="3749387">a</span><span class="op" id="3749388">,</span>&nbsp;<span class="ident" id="3749390">b</span>&nbsp;<span class="op" id="3749392">*</span><span class="ident" id="3749393">Int</span><span class="op" id="3749396">)</span>&nbsp;<span class="op" id="3749398">*</span><span class="ident" id="3749399">Int</span>&nbsp;<span class="op" id="3749403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749406">u</span>&nbsp;<span class="op" id="3749408">:=</span>&nbsp;<span class="ident" id="3749411">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749414">v</span>&nbsp;<span class="op" id="3749416">:=</span>&nbsp;<span class="builtinfunc" id="3749419">new</span><span class="op" id="3749422">(</span><span class="ident" id="3749423">Int</span><span class="op" id="3749426">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3749430">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749511">switch</span>&nbsp;<span class="op" id="3749518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749521">case</span>&nbsp;<span class="builtinfunc" id="3749526">len</span><span class="op" id="3749529">(</span><span class="ident" id="3749530">a</span><span class="op" id="3749531">.</span><span class="ident" id="3749532">abs</span><span class="op" id="3749535">)</span>&nbsp;<span class="op" id="3749537">&gt;</span>&nbsp;<span class="builtinfunc" id="3749539">len</span><span class="op" id="3749542">(</span><span class="ident" id="3749543">b</span><span class="op" id="3749544">.</span><span class="ident" id="3749545">abs</span><span class="op" id="3749548">)</span><span class="op" id="3749549">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749553">u</span><span class="op" id="3749554">.</span><span class="ident" id="3749555">Set</span><span class="op" id="3749558">(</span><span class="ident" id="3749559">b</span><span class="op" id="3749560">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749564">v</span><span class="op" id="3749565">.</span><span class="ident" id="3749566">Rem</span><span class="op" id="3749569">(</span><span class="ident" id="3749570">a</span><span class="op" id="3749571">,</span>&nbsp;<span class="ident" id="3749573">b</span><span class="op" id="3749574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749577">case</span>&nbsp;<span class="builtinfunc" id="3749582">len</span><span class="op" id="3749585">(</span><span class="ident" id="3749586">a</span><span class="op" id="3749587">.</span><span class="ident" id="3749588">abs</span><span class="op" id="3749591">)</span>&nbsp;<span class="op" id="3749593">&lt;</span>&nbsp;<span class="builtinfunc" id="3749595">len</span><span class="op" id="3749598">(</span><span class="ident" id="3749599">b</span><span class="op" id="3749600">.</span><span class="ident" id="3749601">abs</span><span class="op" id="3749604">)</span><span class="op" id="3749605">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749609">u</span><span class="op" id="3749610">.</span><span class="ident" id="3749611">Set</span><span class="op" id="3749614">(</span><span class="ident" id="3749615">a</span><span class="op" id="3749616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749620">v</span><span class="op" id="3749621">.</span><span class="ident" id="3749622">Rem</span><span class="op" id="3749625">(</span><span class="ident" id="3749626">b</span><span class="op" id="3749627">,</span>&nbsp;<span class="ident" id="3749629">a</span><span class="op" id="3749630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749633">default</span><span class="op" id="3749640">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749644">u</span><span class="op" id="3749645">.</span><span class="ident" id="3749646">Set</span><span class="op" id="3749649">(</span><span class="ident" id="3749650">a</span><span class="op" id="3749651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749655">v</span><span class="op" id="3749656">.</span><span class="ident" id="3749657">Set</span><span class="op" id="3749660">(</span><span class="ident" id="3749661">b</span><span class="op" id="3749662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3749669">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749690">if</span>&nbsp;<span class="builtinfunc" id="3749693">len</span><span class="op" id="3749696">(</span><span class="ident" id="3749697">v</span><span class="op" id="3749698">.</span><span class="ident" id="3749699">abs</span><span class="op" id="3749702">)</span>&nbsp;<span class="op" id="3749704">==</span>&nbsp;<span class="num" id="3749707">0</span>&nbsp;<span class="op" id="3749709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749713">return</span>&nbsp;<span class="ident" id="3749720">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3749726">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3749746">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749805">k</span>&nbsp;<span class="op" id="3749807">:=</span>&nbsp;<span class="ident" id="3749810">u</span><span class="op" id="3749811">.</span><span class="ident" id="3749812">abs</span><span class="op" id="3749815">.</span><span class="ident" id="3749816">trailingZeroBits</span><span class="op" id="3749832">(</span><span class="op" id="3749833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749836">if</span>&nbsp;<span class="ident" id="3749839">vk</span>&nbsp;<span class="op" id="3749842">:=</span>&nbsp;<span class="ident" id="3749845">v</span><span class="op" id="3749846">.</span><span class="ident" id="3749847">abs</span><span class="op" id="3749850">.</span><span class="ident" id="3749851">trailingZeroBits</span><span class="op" id="3749867">(</span><span class="op" id="3749868">)</span><span class="op" id="3749869">;</span>&nbsp;<span class="ident" id="3749871">vk</span>&nbsp;<span class="op" id="3749874">&lt;</span>&nbsp;<span class="ident" id="3749876">k</span>&nbsp;<span class="op" id="3749878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749882">k</span>&nbsp;<span class="op" id="3749884">=</span>&nbsp;<span class="ident" id="3749886">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749890">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749893">u</span><span class="op" id="3749894">.</span><span class="ident" id="3749895">Rsh</span><span class="op" id="3749898">(</span><span class="ident" id="3749899">u</span><span class="op" id="3749900">,</span>&nbsp;<span class="ident" id="3749902">k</span><span class="op" id="3749903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749906">v</span><span class="op" id="3749907">.</span><span class="ident" id="3749908">Rsh</span><span class="op" id="3749911">(</span><span class="ident" id="3749912">v</span><span class="op" id="3749913">,</span>&nbsp;<span class="ident" id="3749915">k</span><span class="op" id="3749916">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3749920">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749957">t</span>&nbsp;<span class="op" id="3749959">:=</span>&nbsp;<span class="builtinfunc" id="3749962">new</span><span class="op" id="3749965">(</span><span class="ident" id="3749966">Int</span><span class="op" id="3749969">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749972">if</span>&nbsp;<span class="ident" id="3749975">u</span><span class="op" id="3749976">.</span><span class="ident" id="3749977">abs</span><span class="op" id="3749980">[</span><span class="num" id="3749981">0</span><span class="op" id="3749982">]</span><span class="op" id="3749983">&amp;</span><span class="num" id="3749984">1</span>&nbsp;<span class="op" id="3749986">!=</span>&nbsp;<span class="num" id="3749989">0</span>&nbsp;<span class="op" id="3749991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3749995">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750009">t</span><span class="op" id="3750010">.</span><span class="ident" id="3750011">Neg</span><span class="op" id="3750014">(</span><span class="ident" id="3750015">v</span><span class="op" id="3750016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3750019">}</span>&nbsp;<span class="keyword" id="3750021">else</span>&nbsp;<span class="op" id="3750026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750030">t</span><span class="op" id="3750031">.</span><span class="ident" id="3750032">Set</span><span class="op" id="3750035">(</span><span class="ident" id="3750036">u</span><span class="op" id="3750037">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3750040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750044">for</span>&nbsp;<span class="builtinfunc" id="3750048">len</span><span class="op" id="3750051">(</span><span class="ident" id="3750052">t</span><span class="op" id="3750053">.</span><span class="ident" id="3750054">abs</span><span class="op" id="3750057">)</span>&nbsp;<span class="op" id="3750059">&gt;</span>&nbsp;<span class="num" id="3750061">0</span>&nbsp;<span class="op" id="3750063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3750067">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750081">t</span><span class="op" id="3750082">.</span><span class="ident" id="3750083">Rsh</span><span class="op" id="3750086">(</span><span class="ident" id="3750087">t</span><span class="op" id="3750088">,</span>&nbsp;<span class="ident" id="3750090">t</span><span class="op" id="3750091">.</span><span class="ident" id="3750092">abs</span><span class="op" id="3750095">.</span><span class="ident" id="3750096">trailingZeroBits</span><span class="op" id="3750112">(</span><span class="op" id="3750113">)</span><span class="op" id="3750114">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750118">if</span>&nbsp;<span class="ident" id="3750121">t</span><span class="op" id="3750122">.</span><span class="ident" id="3750123">neg</span>&nbsp;<span class="op" id="3750127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750132">v</span><span class="op" id="3750133">,</span>&nbsp;<span class="ident" id="3750135">t</span>&nbsp;<span class="op" id="3750137">=</span>&nbsp;<span class="ident" id="3750139">t</span><span class="op" id="3750140">,</span>&nbsp;<span class="ident" id="3750142">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750147">v</span><span class="op" id="3750148">.</span><span class="ident" id="3750149">neg</span>&nbsp;<span class="op" id="3750153">=</span>&nbsp;<span class="builtinfunc" id="3750155">len</span><span class="op" id="3750158">(</span><span class="ident" id="3750159">v</span><span class="op" id="3750160">.</span><span class="ident" id="3750161">abs</span><span class="op" id="3750164">)</span>&nbsp;<span class="op" id="3750166">&gt;</span>&nbsp;<span class="num" id="3750168">0</span>&nbsp;<span class="op" id="3750170">&amp;&amp;</span>&nbsp;<span class="op" id="3750173">!</span><span class="ident" id="3750174">v</span><span class="op" id="3750175">.</span><span class="ident" id="3750176">neg</span>&nbsp;<span class="comment" id="3750180">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3750199">}</span>&nbsp;<span class="keyword" id="3750201">else</span>&nbsp;<span class="op" id="3750206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750211">u</span><span class="op" id="3750212">,</span>&nbsp;<span class="ident" id="3750214">t</span>&nbsp;<span class="op" id="3750216">=</span>&nbsp;<span class="ident" id="3750218">t</span><span class="op" id="3750219">,</span>&nbsp;<span class="ident" id="3750221">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3750225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750229">t</span><span class="op" id="3750230">.</span><span class="ident" id="3750231">Sub</span><span class="op" id="3750234">(</span><span class="ident" id="3750235">u</span><span class="op" id="3750236">,</span>&nbsp;<span class="ident" id="3750238">v</span><span class="op" id="3750239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3750242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750246">return</span>&nbsp;<span class="ident" id="3750253">z</span><span class="op" id="3750254">.</span><span class="ident" id="3750255">Lsh</span><span class="op" id="3750258">(</span><span class="ident" id="3750259">u</span><span class="op" id="3750260">,</span>&nbsp;<span class="ident" id="3750262">k</span><span class="op" id="3750263">)</span><br>
<span class="lineno">735</span><span class="op" id="3750265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3750268">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="3750344">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="3750406">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="3750446">func</span>&nbsp;<span class="op" id="3750451">(</span><span class="ident" id="3750452">x</span>&nbsp;<span class="op" id="3750454">*</span><span class="ident" id="3750455">Int</span><span class="op" id="3750458">)</span>&nbsp;<span class="ident" id="3750460">ProbablyPrime</span><span class="op" id="3750473">(</span><span class="ident" id="3750474">n</span>&nbsp;<span class="builtintype" id="3750476">int</span><span class="op" id="3750479">)</span>&nbsp;<span class="builtintype" id="3750481">bool</span>&nbsp;<span class="op" id="3750486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750489">return</span>&nbsp;<span class="op" id="3750496">!</span><span class="ident" id="3750497">x</span><span class="op" id="3750498">.</span><span class="ident" id="3750499">neg</span>&nbsp;<span class="op" id="3750503">&amp;&amp;</span>&nbsp;<span class="ident" id="3750506">x</span><span class="op" id="3750507">.</span><span class="ident" id="3750508">abs</span><span class="op" id="3750511">.</span><span class="ident" id="3750512">probablyPrime</span><span class="op" id="3750525">(</span><span class="ident" id="3750526">n</span><span class="op" id="3750527">)</span><br>
<span class="lineno"></span><span class="op" id="3750529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3750532">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="3750598">func</span>&nbsp;<span class="op" id="3750603">(</span><span class="ident" id="3750604">z</span>&nbsp;<span class="op" id="3750606">*</span><span class="ident" id="3750607">Int</span><span class="op" id="3750610">)</span>&nbsp;<span class="ident" id="3750612">Rand</span><span class="op" id="3750616">(</span><span class="ident" id="3750617">rnd</span>&nbsp;<span class="op" id="3750621">*</span><span class="ident" id="3750622">rand</span><span class="op" id="3750626">.</span><span class="ident" id="3750627">Rand</span><span class="op" id="3750631">,</span>&nbsp;<span class="ident" id="3750633">n</span>&nbsp;<span class="op" id="3750635">*</span><span class="ident" id="3750636">Int</span><span class="op" id="3750639">)</span>&nbsp;<span class="op" id="3750641">*</span><span class="ident" id="3750642">Int</span>&nbsp;<span class="op" id="3750646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750649">z</span><span class="op" id="3750650">.</span><span class="ident" id="3750651">neg</span>&nbsp;<span class="op" id="3750655">=</span>&nbsp;<span class="builtintype" id="3750657">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750664">if</span>&nbsp;<span class="ident" id="3750667">n</span><span class="op" id="3750668">.</span><span class="ident" id="3750669">neg</span>&nbsp;<span class="op" id="3750673">==</span>&nbsp;<span class="builtintype" id="3750676">true</span>&nbsp;<span class="op" id="3750681">||</span>&nbsp;<span class="builtinfunc" id="3750684">len</span><span class="op" id="3750687">(</span><span class="ident" id="3750688">n</span><span class="op" id="3750689">.</span><span class="ident" id="3750690">abs</span><span class="op" id="3750693">)</span>&nbsp;<span class="op" id="3750695">==</span>&nbsp;<span class="num" id="3750698">0</span>&nbsp;<span class="op" id="3750700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750704">z</span><span class="op" id="3750705">.</span><span class="ident" id="3750706">abs</span>&nbsp;<span class="op" id="3750710">=</span>&nbsp;<span class="ident" id="3750712">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750718">return</span>&nbsp;<span class="ident" id="3750725">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3750728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750731">z</span><span class="op" id="3750732">.</span><span class="ident" id="3750733">abs</span>&nbsp;<span class="op" id="3750737">=</span>&nbsp;<span class="ident" id="3750739">z</span><span class="op" id="3750740">.</span><span class="ident" id="3750741">abs</span><span class="op" id="3750744">.</span><span class="ident" id="3750745">random</span><span class="op" id="3750751">(</span><span class="ident" id="3750752">rnd</span><span class="op" id="3750755">,</span>&nbsp;<span class="ident" id="3750757">n</span><span class="op" id="3750758">.</span><span class="ident" id="3750759">abs</span><span class="op" id="3750762">,</span>&nbsp;<span class="ident" id="3750764">n</span><span class="op" id="3750765">.</span><span class="ident" id="3750766">abs</span><span class="op" id="3750769">.</span><span class="ident" id="3750770">bitLen</span><span class="op" id="3750776">(</span><span class="op" id="3750777">)</span><span class="op" id="3750778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750781">return</span>&nbsp;<span class="ident" id="3750788">z</span><br>
<span class="lineno"></span><span class="op" id="3750790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="3750793">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;ℤ/nℤ</span><br>
<span class="lineno"></span><span class="comment" id="3750870">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="3750950">func</span>&nbsp;<span class="op" id="3750955">(</span><span class="ident" id="3750956">z</span>&nbsp;<span class="op" id="3750958">*</span><span class="ident" id="3750959">Int</span><span class="op" id="3750962">)</span>&nbsp;<span class="ident" id="3750964">ModInverse</span><span class="op" id="3750974">(</span><span class="ident" id="3750975">g</span><span class="op" id="3750976">,</span>&nbsp;<span class="ident" id="3750978">n</span>&nbsp;<span class="op" id="3750980">*</span><span class="ident" id="3750981">Int</span><span class="op" id="3750984">)</span>&nbsp;<span class="op" id="3750986">*</span><span class="ident" id="3750987">Int</span>&nbsp;<span class="op" id="3750991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750994">var</span>&nbsp;<span class="ident" id="3750998">d</span>&nbsp;<span class="ident" id="3751000">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751005">d</span><span class="op" id="3751006">.</span><span class="ident" id="3751007">GCD</span><span class="op" id="3751010">(</span><span class="ident" id="3751011">z</span><span class="op" id="3751012">,</span>&nbsp;<span class="ident" id="3751014">nil</span><span class="op" id="3751017">,</span>&nbsp;<span class="ident" id="3751019">g</span><span class="op" id="3751020">,</span>&nbsp;<span class="ident" id="3751022">n</span><span class="op" id="3751023">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751026">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751085">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751146">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751195">if</span>&nbsp;<span class="ident" id="3751198">z</span><span class="op" id="3751199">.</span><span class="ident" id="3751200">neg</span>&nbsp;<span class="op" id="3751204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751208">z</span><span class="op" id="3751209">.</span><span class="ident" id="3751210">Add</span><span class="op" id="3751213">(</span><span class="ident" id="3751214">z</span><span class="op" id="3751215">,</span>&nbsp;<span class="ident" id="3751217">n</span><span class="op" id="3751218">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3751221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751224">return</span>&nbsp;<span class="ident" id="3751231">z</span><br>
<span class="lineno"></span><span class="op" id="3751233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3751236">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="3751274">func</span>&nbsp;<span class="op" id="3751279">(</span><span class="ident" id="3751280">z</span>&nbsp;<span class="op" id="3751282">*</span><span class="ident" id="3751283">Int</span><span class="op" id="3751286">)</span>&nbsp;<span class="ident" id="3751288">Lsh</span><span class="op" id="3751291">(</span><span class="ident" id="3751292">x</span>&nbsp;<span class="op" id="3751294">*</span><span class="ident" id="3751295">Int</span><span class="op" id="3751298">,</span>&nbsp;<span class="ident" id="3751300">n</span>&nbsp;<span class="builtintype" id="3751302">uint</span><span class="op" id="3751306">)</span>&nbsp;<span class="op" id="3751308">*</span><span class="ident" id="3751309">Int</span>&nbsp;<span class="op" id="3751313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751316">z</span><span class="op" id="3751317">.</span><span class="ident" id="3751318">abs</span>&nbsp;<span class="op" id="3751322">=</span>&nbsp;<span class="ident" id="3751324">z</span><span class="op" id="3751325">.</span><span class="ident" id="3751326">abs</span><span class="op" id="3751329">.</span><span class="ident" id="3751330">shl</span><span class="op" id="3751333">(</span><span class="ident" id="3751334">x</span><span class="op" id="3751335">.</span><span class="ident" id="3751336">abs</span><span class="op" id="3751339">,</span>&nbsp;<span class="ident" id="3751341">n</span><span class="op" id="3751342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751345">z</span><span class="op" id="3751346">.</span><span class="ident" id="3751347">neg</span>&nbsp;<span class="op" id="3751351">=</span>&nbsp;<span class="ident" id="3751353">x</span><span class="op" id="3751354">.</span><span class="ident" id="3751355">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751360">return</span>&nbsp;<span class="ident" id="3751367">z</span><br>
<span class="lineno"></span><span class="op" id="3751369">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="3751372">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3751410">func</span>&nbsp;<span class="op" id="3751415">(</span><span class="ident" id="3751416">z</span>&nbsp;<span class="op" id="3751418">*</span><span class="ident" id="3751419">Int</span><span class="op" id="3751422">)</span>&nbsp;<span class="ident" id="3751424">Rsh</span><span class="op" id="3751427">(</span><span class="ident" id="3751428">x</span>&nbsp;<span class="op" id="3751430">*</span><span class="ident" id="3751431">Int</span><span class="op" id="3751434">,</span>&nbsp;<span class="ident" id="3751436">n</span>&nbsp;<span class="builtintype" id="3751438">uint</span><span class="op" id="3751442">)</span>&nbsp;<span class="op" id="3751444">*</span><span class="ident" id="3751445">Int</span>&nbsp;<span class="op" id="3751449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751452">if</span>&nbsp;<span class="ident" id="3751455">x</span><span class="op" id="3751456">.</span><span class="ident" id="3751457">neg</span>&nbsp;<span class="op" id="3751461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751465">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751535">t</span>&nbsp;<span class="op" id="3751537">:=</span>&nbsp;<span class="ident" id="3751540">z</span><span class="op" id="3751541">.</span><span class="ident" id="3751542">abs</span><span class="op" id="3751545">.</span><span class="ident" id="3751546">sub</span><span class="op" id="3751549">(</span><span class="ident" id="3751550">x</span><span class="op" id="3751551">.</span><span class="ident" id="3751552">abs</span><span class="op" id="3751555">,</span>&nbsp;<span class="ident" id="3751557">natOne</span><span class="op" id="3751563">)</span>&nbsp;<span class="comment" id="3751565">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751599">t</span>&nbsp;<span class="op" id="3751601">=</span>&nbsp;<span class="ident" id="3751603">t</span><span class="op" id="3751604">.</span><span class="ident" id="3751605">shr</span><span class="op" id="3751608">(</span><span class="ident" id="3751609">t</span><span class="op" id="3751610">,</span>&nbsp;<span class="ident" id="3751612">n</span><span class="op" id="3751613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751617">z</span><span class="op" id="3751618">.</span><span class="ident" id="3751619">abs</span>&nbsp;<span class="op" id="3751623">=</span>&nbsp;<span class="ident" id="3751625">t</span><span class="op" id="3751626">.</span><span class="ident" id="3751627">add</span><span class="op" id="3751630">(</span><span class="ident" id="3751631">t</span><span class="op" id="3751632">,</span>&nbsp;<span class="ident" id="3751634">natOne</span><span class="op" id="3751640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751644">z</span><span class="op" id="3751645">.</span><span class="ident" id="3751646">neg</span>&nbsp;<span class="op" id="3751650">=</span>&nbsp;<span class="builtintype" id="3751652">true</span>&nbsp;<span class="comment" id="3751657">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751696">return</span>&nbsp;<span class="ident" id="3751703">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3751706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751710">z</span><span class="op" id="3751711">.</span><span class="ident" id="3751712">abs</span>&nbsp;<span class="op" id="3751716">=</span>&nbsp;<span class="ident" id="3751718">z</span><span class="op" id="3751719">.</span><span class="ident" id="3751720">abs</span><span class="op" id="3751723">.</span><span class="ident" id="3751724">shr</span><span class="op" id="3751727">(</span><span class="ident" id="3751728">x</span><span class="op" id="3751729">.</span><span class="ident" id="3751730">abs</span><span class="op" id="3751733">,</span>&nbsp;<span class="ident" id="3751735">n</span><span class="op" id="3751736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751739">z</span><span class="op" id="3751740">.</span><span class="ident" id="3751741">neg</span>&nbsp;<span class="op" id="3751745">=</span>&nbsp;<span class="builtintype" id="3751747">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751754">return</span>&nbsp;<span class="ident" id="3751761">z</span><br>
<span class="lineno">790</span><span class="op" id="3751763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3751766">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="3751825">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3751876">func</span>&nbsp;<span class="op" id="3751881">(</span><span class="ident" id="3751882">x</span>&nbsp;<span class="op" id="3751884">*</span><span class="ident" id="3751885">Int</span><span class="op" id="3751888">)</span>&nbsp;<span class="ident" id="3751890">Bit</span><span class="op" id="3751893">(</span><span class="ident" id="3751894">i</span>&nbsp;<span class="builtintype" id="3751896">int</span><span class="op" id="3751899">)</span>&nbsp;<span class="builtintype" id="3751901">uint</span>&nbsp;<span class="op" id="3751906">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751909">if</span>&nbsp;<span class="ident" id="3751912">i</span>&nbsp;<span class="op" id="3751914">==</span>&nbsp;<span class="num" id="3751917">0</span>&nbsp;<span class="op" id="3751919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751923">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751977">if</span>&nbsp;<span class="builtinfunc" id="3751980">len</span><span class="op" id="3751983">(</span><span class="ident" id="3751984">x</span><span class="op" id="3751985">.</span><span class="ident" id="3751986">abs</span><span class="op" id="3751989">)</span>&nbsp;<span class="op" id="3751991">&gt;</span>&nbsp;<span class="num" id="3751993">0</span>&nbsp;<span class="op" id="3751995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752000">return</span>&nbsp;<span class="builtintype" id="3752007">uint</span><span class="op" id="3752011">(</span><span class="ident" id="3752012">x</span><span class="op" id="3752013">.</span><span class="ident" id="3752014">abs</span><span class="op" id="3752017">[</span><span class="num" id="3752018">0</span><span class="op" id="3752019">]</span>&nbsp;<span class="op" id="3752021">&amp;</span>&nbsp;<span class="num" id="3752023">1</span><span class="op" id="3752024">)</span>&nbsp;<span class="comment" id="3752026">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3752052">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752056">return</span>&nbsp;<span class="num" id="3752063">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3752066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752069">if</span>&nbsp;<span class="ident" id="3752072">i</span>&nbsp;<span class="op" id="3752074">&lt;</span>&nbsp;<span class="num" id="3752076">0</span>&nbsp;<span class="op" id="3752078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3752082">panic</span><span class="op" id="3752087">(</span><span class="string" id="3752088">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3752108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3752111">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752114">if</span>&nbsp;<span class="ident" id="3752117">x</span><span class="op" id="3752118">.</span><span class="ident" id="3752119">neg</span>&nbsp;<span class="op" id="3752123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752127">t</span>&nbsp;<span class="op" id="3752129">:=</span>&nbsp;<span class="ident" id="3752132">nat</span><span class="op" id="3752135">(</span><span class="ident" id="3752136">nil</span><span class="op" id="3752139">)</span><span class="op" id="3752140">.</span><span class="ident" id="3752141">sub</span><span class="op" id="3752144">(</span><span class="ident" id="3752145">x</span><span class="op" id="3752146">.</span><span class="ident" id="3752147">abs</span><span class="op" id="3752150">,</span>&nbsp;<span class="ident" id="3752152">natOne</span><span class="op" id="3752158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752162">return</span>&nbsp;<span class="ident" id="3752169">t</span><span class="op" id="3752170">.</span><span class="ident" id="3752171">bit</span><span class="op" id="3752174">(</span><span class="builtintype" id="3752175">uint</span><span class="op" id="3752179">(</span><span class="ident" id="3752180">i</span><span class="op" id="3752181">)</span><span class="op" id="3752182">)</span>&nbsp;<span class="op" id="3752184">^</span>&nbsp;<span class="num" id="3752186">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3752189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752193">return</span>&nbsp;<span class="ident" id="3752200">x</span><span class="op" id="3752201">.</span><span class="ident" id="3752202">abs</span><span class="op" id="3752205">.</span><span class="ident" id="3752206">bit</span><span class="op" id="3752209">(</span><span class="builtintype" id="3752210">uint</span><span class="op" id="3752214">(</span><span class="ident" id="3752215">i</span><span class="op" id="3752216">)</span><span class="op" id="3752217">)</span><br>
<span class="lineno"></span><span class="op" id="3752219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3752222">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="3752282">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="3752334">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="3752398">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="3752420">func</span>&nbsp;<span class="op" id="3752425">(</span><span class="ident" id="3752426">z</span>&nbsp;<span class="op" id="3752428">*</span><span class="ident" id="3752429">Int</span><span class="op" id="3752432">)</span>&nbsp;<span class="ident" id="3752434">SetBit</span><span class="op" id="3752440">(</span><span class="ident" id="3752441">x</span>&nbsp;<span class="op" id="3752443">*</span><span class="ident" id="3752444">Int</span><span class="op" id="3752447">,</span>&nbsp;<span class="ident" id="3752449">i</span>&nbsp;<span class="builtintype" id="3752451">int</span><span class="op" id="3752454">,</span>&nbsp;<span class="ident" id="3752456">b</span>&nbsp;<span class="builtintype" id="3752458">uint</span><span class="op" id="3752462">)</span>&nbsp;<span class="op" id="3752464">*</span><span class="ident" id="3752465">Int</span>&nbsp;<span class="op" id="3752469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752472">if</span>&nbsp;<span class="ident" id="3752475">i</span>&nbsp;<span class="op" id="3752477">&lt;</span>&nbsp;<span class="num" id="3752479">0</span>&nbsp;<span class="op" id="3752481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3752485">panic</span><span class="op" id="3752490">(</span><span class="string" id="3752491">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3752511">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3752514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752517">if</span>&nbsp;<span class="ident" id="3752520">x</span><span class="op" id="3752521">.</span><span class="ident" id="3752522">neg</span>&nbsp;<span class="op" id="3752526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752530">t</span>&nbsp;<span class="op" id="3752532">:=</span>&nbsp;<span class="ident" id="3752535">z</span><span class="op" id="3752536">.</span><span class="ident" id="3752537">abs</span><span class="op" id="3752540">.</span><span class="ident" id="3752541">sub</span><span class="op" id="3752544">(</span><span class="ident" id="3752545">x</span><span class="op" id="3752546">.</span><span class="ident" id="3752547">abs</span><span class="op" id="3752550">,</span>&nbsp;<span class="ident" id="3752552">natOne</span><span class="op" id="3752558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752562">t</span>&nbsp;<span class="op" id="3752564">=</span>&nbsp;<span class="ident" id="3752566">t</span><span class="op" id="3752567">.</span><span class="ident" id="3752568">setBit</span><span class="op" id="3752574">(</span><span class="ident" id="3752575">t</span><span class="op" id="3752576">,</span>&nbsp;<span class="builtintype" id="3752578">uint</span><span class="op" id="3752582">(</span><span class="ident" id="3752583">i</span><span class="op" id="3752584">)</span><span class="op" id="3752585">,</span>&nbsp;<span class="ident" id="3752587">b</span><span class="op" id="3752588">^</span><span class="num" id="3752589">1</span><span class="op" id="3752590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752594">z</span><span class="op" id="3752595">.</span><span class="ident" id="3752596">abs</span>&nbsp;<span class="op" id="3752600">=</span>&nbsp;<span class="ident" id="3752602">t</span><span class="op" id="3752603">.</span><span class="ident" id="3752604">add</span><span class="op" id="3752607">(</span><span class="ident" id="3752608">t</span><span class="op" id="3752609">,</span>&nbsp;<span class="ident" id="3752611">natOne</span><span class="op" id="3752617">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752621">z</span><span class="op" id="3752622">.</span><span class="ident" id="3752623">neg</span>&nbsp;<span class="op" id="3752627">=</span>&nbsp;<span class="builtinfunc" id="3752629">len</span><span class="op" id="3752632">(</span><span class="ident" id="3752633">z</span><span class="op" id="3752634">.</span><span class="ident" id="3752635">abs</span><span class="op" id="3752638">)</span>&nbsp;<span class="op" id="3752640">&gt;</span>&nbsp;<span class="num" id="3752642">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752646">return</span>&nbsp;<span class="ident" id="3752653">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3752656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752659">z</span><span class="op" id="3752660">.</span><span class="ident" id="3752661">abs</span>&nbsp;<span class="op" id="3752665">=</span>&nbsp;<span class="ident" id="3752667">z</span><span class="op" id="3752668">.</span><span class="ident" id="3752669">abs</span><span class="op" id="3752672">.</span><span class="ident" id="3752673">setBit</span><span class="op" id="3752679">(</span><span class="ident" id="3752680">x</span><span class="op" id="3752681">.</span><span class="ident" id="3752682">abs</span><span class="op" id="3752685">,</span>&nbsp;<span class="builtintype" id="3752687">uint</span><span class="op" id="3752691">(</span><span class="ident" id="3752692">i</span><span class="op" id="3752693">)</span><span class="op" id="3752694">,</span>&nbsp;<span class="ident" id="3752696">b</span><span class="op" id="3752697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752700">z</span><span class="op" id="3752701">.</span><span class="ident" id="3752702">neg</span>&nbsp;<span class="op" id="3752706">=</span>&nbsp;<span class="builtintype" id="3752708">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752715">return</span>&nbsp;<span class="ident" id="3752722">z</span><br>
<span class="lineno"></span><span class="op" id="3752724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3752727">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3752764">func</span>&nbsp;<span class="op" id="3752769">(</span><span class="ident" id="3752770">z</span>&nbsp;<span class="op" id="3752772">*</span><span class="ident" id="3752773">Int</span><span class="op" id="3752776">)</span>&nbsp;<span class="ident" id="3752778">And</span><span class="op" id="3752781">(</span><span class="ident" id="3752782">x</span><span class="op" id="3752783">,</span>&nbsp;<span class="ident" id="3752785">y</span>&nbsp;<span class="op" id="3752787">*</span><span class="ident" id="3752788">Int</span><span class="op" id="3752791">)</span>&nbsp;<span class="op" id="3752793">*</span><span class="ident" id="3752794">Int</span>&nbsp;<span class="op" id="3752798">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752801">if</span>&nbsp;<span class="ident" id="3752804">x</span><span class="op" id="3752805">.</span><span class="ident" id="3752806">neg</span>&nbsp;<span class="op" id="3752810">==</span>&nbsp;<span class="ident" id="3752813">y</span><span class="op" id="3752814">.</span><span class="ident" id="3752815">neg</span>&nbsp;<span class="op" id="3752819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752823">if</span>&nbsp;<span class="ident" id="3752826">x</span><span class="op" id="3752827">.</span><span class="ident" id="3752828">neg</span>&nbsp;<span class="op" id="3752832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3752837">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752920">x1</span>&nbsp;<span class="op" id="3752923">:=</span>&nbsp;<span class="ident" id="3752926">nat</span><span class="op" id="3752929">(</span><span class="ident" id="3752930">nil</span><span class="op" id="3752933">)</span><span class="op" id="3752934">.</span><span class="ident" id="3752935">sub</span><span class="op" id="3752938">(</span><span class="ident" id="3752939">x</span><span class="op" id="3752940">.</span><span class="ident" id="3752941">abs</span><span class="op" id="3752944">,</span>&nbsp;<span class="ident" id="3752946">natOne</span><span class="op" id="3752952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752957">y1</span>&nbsp;<span class="op" id="3752960">:=</span>&nbsp;<span class="ident" id="3752963">nat</span><span class="op" id="3752966">(</span><span class="ident" id="3752967">nil</span><span class="op" id="3752970">)</span><span class="op" id="3752971">.</span><span class="ident" id="3752972">sub</span><span class="op" id="3752975">(</span><span class="ident" id="3752976">y</span><span class="op" id="3752977">.</span><span class="ident" id="3752978">abs</span><span class="op" id="3752981">,</span>&nbsp;<span class="ident" id="3752983">natOne</span><span class="op" id="3752989">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752994">z</span><span class="op" id="3752995">.</span><span class="ident" id="3752996">abs</span>&nbsp;<span class="op" id="3753000">=</span>&nbsp;<span class="ident" id="3753002">z</span><span class="op" id="3753003">.</span><span class="ident" id="3753004">abs</span><span class="op" id="3753007">.</span><span class="ident" id="3753008">add</span><span class="op" id="3753011">(</span><span class="ident" id="3753012">z</span><span class="op" id="3753013">.</span><span class="ident" id="3753014">abs</span><span class="op" id="3753017">.</span><span class="ident" id="3753018">or</span><span class="op" id="3753020">(</span><span class="ident" id="3753021">x1</span><span class="op" id="3753023">,</span>&nbsp;<span class="ident" id="3753025">y1</span><span class="op" id="3753027">)</span><span class="op" id="3753028">,</span>&nbsp;<span class="ident" id="3753030">natOne</span><span class="op" id="3753036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753041">z</span><span class="op" id="3753042">.</span><span class="ident" id="3753043">neg</span>&nbsp;<span class="op" id="3753047">=</span>&nbsp;<span class="builtintype" id="3753049">true</span>&nbsp;<span class="comment" id="3753054">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753101">return</span>&nbsp;<span class="ident" id="3753108">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3753112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753117">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753137">z</span><span class="op" id="3753138">.</span><span class="ident" id="3753139">abs</span>&nbsp;<span class="op" id="3753143">=</span>&nbsp;<span class="ident" id="3753145">z</span><span class="op" id="3753146">.</span><span class="ident" id="3753147">abs</span><span class="op" id="3753150">.</span><span class="ident" id="3753151">and</span><span class="op" id="3753154">(</span><span class="ident" id="3753155">x</span><span class="op" id="3753156">.</span><span class="ident" id="3753157">abs</span><span class="op" id="3753160">,</span>&nbsp;<span class="ident" id="3753162">y</span><span class="op" id="3753163">.</span><span class="ident" id="3753164">abs</span><span class="op" id="3753167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753171">z</span><span class="op" id="3753172">.</span><span class="ident" id="3753173">neg</span>&nbsp;<span class="op" id="3753177">=</span>&nbsp;<span class="builtintype" id="3753179">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753187">return</span>&nbsp;<span class="ident" id="3753194">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3753197">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753201">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753220">if</span>&nbsp;<span class="ident" id="3753223">x</span><span class="op" id="3753224">.</span><span class="ident" id="3753225">neg</span>&nbsp;<span class="op" id="3753229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753233">x</span><span class="op" id="3753234">,</span>&nbsp;<span class="ident" id="3753236">y</span>&nbsp;<span class="op" id="3753238">=</span>&nbsp;<span class="ident" id="3753240">y</span><span class="op" id="3753241">,</span>&nbsp;<span class="ident" id="3753243">x</span>&nbsp;<span class="comment" id="3753245">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3753264">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753268">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753309">y1</span>&nbsp;<span class="op" id="3753312">:=</span>&nbsp;<span class="ident" id="3753315">nat</span><span class="op" id="3753318">(</span><span class="ident" id="3753319">nil</span><span class="op" id="3753322">)</span><span class="op" id="3753323">.</span><span class="ident" id="3753324">sub</span><span class="op" id="3753327">(</span><span class="ident" id="3753328">y</span><span class="op" id="3753329">.</span><span class="ident" id="3753330">abs</span><span class="op" id="3753333">,</span>&nbsp;<span class="ident" id="3753335">natOne</span><span class="op" id="3753341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753344">z</span><span class="op" id="3753345">.</span><span class="ident" id="3753346">abs</span>&nbsp;<span class="op" id="3753350">=</span>&nbsp;<span class="ident" id="3753352">z</span><span class="op" id="3753353">.</span><span class="ident" id="3753354">abs</span><span class="op" id="3753357">.</span><span class="ident" id="3753358">andNot</span><span class="op" id="3753364">(</span><span class="ident" id="3753365">x</span><span class="op" id="3753366">.</span><span class="ident" id="3753367">abs</span><span class="op" id="3753370">,</span>&nbsp;<span class="ident" id="3753372">y1</span><span class="op" id="3753374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753377">z</span><span class="op" id="3753378">.</span><span class="ident" id="3753379">neg</span>&nbsp;<span class="op" id="3753383">=</span>&nbsp;<span class="builtintype" id="3753385">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753392">return</span>&nbsp;<span class="ident" id="3753399">z</span><br>
<span class="lineno"></span><span class="op" id="3753401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3753404">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3753445">func</span>&nbsp;<span class="op" id="3753450">(</span><span class="ident" id="3753451">z</span>&nbsp;<span class="op" id="3753453">*</span><span class="ident" id="3753454">Int</span><span class="op" id="3753457">)</span>&nbsp;<span class="ident" id="3753459">AndNot</span><span class="op" id="3753465">(</span><span class="ident" id="3753466">x</span><span class="op" id="3753467">,</span>&nbsp;<span class="ident" id="3753469">y</span>&nbsp;<span class="op" id="3753471">*</span><span class="ident" id="3753472">Int</span><span class="op" id="3753475">)</span>&nbsp;<span class="op" id="3753477">*</span><span class="ident" id="3753478">Int</span>&nbsp;<span class="op" id="3753482">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753485">if</span>&nbsp;<span class="ident" id="3753488">x</span><span class="op" id="3753489">.</span><span class="ident" id="3753490">neg</span>&nbsp;<span class="op" id="3753494">==</span>&nbsp;<span class="ident" id="3753497">y</span><span class="op" id="3753498">.</span><span class="ident" id="3753499">neg</span>&nbsp;<span class="op" id="3753503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753507">if</span>&nbsp;<span class="ident" id="3753510">x</span><span class="op" id="3753511">.</span><span class="ident" id="3753512">neg</span>&nbsp;<span class="op" id="3753516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753521">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753596">x1</span>&nbsp;<span class="op" id="3753599">:=</span>&nbsp;<span class="ident" id="3753602">nat</span><span class="op" id="3753605">(</span><span class="ident" id="3753606">nil</span><span class="op" id="3753609">)</span><span class="op" id="3753610">.</span><span class="ident" id="3753611">sub</span><span class="op" id="3753614">(</span><span class="ident" id="3753615">x</span><span class="op" id="3753616">.</span><span class="ident" id="3753617">abs</span><span class="op" id="3753620">,</span>&nbsp;<span class="ident" id="3753622">natOne</span><span class="op" id="3753628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753633">y1</span>&nbsp;<span class="op" id="3753636">:=</span>&nbsp;<span class="ident" id="3753639">nat</span><span class="op" id="3753642">(</span><span class="ident" id="3753643">nil</span><span class="op" id="3753646">)</span><span class="op" id="3753647">.</span><span class="ident" id="3753648">sub</span><span class="op" id="3753651">(</span><span class="ident" id="3753652">y</span><span class="op" id="3753653">.</span><span class="ident" id="3753654">abs</span><span class="op" id="3753657">,</span>&nbsp;<span class="ident" id="3753659">natOne</span><span class="op" id="3753665">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753670">z</span><span class="op" id="3753671">.</span><span class="ident" id="3753672">abs</span>&nbsp;<span class="op" id="3753676">=</span>&nbsp;<span class="ident" id="3753678">z</span><span class="op" id="3753679">.</span><span class="ident" id="3753680">abs</span><span class="op" id="3753683">.</span><span class="ident" id="3753684">andNot</span><span class="op" id="3753690">(</span><span class="ident" id="3753691">y1</span><span class="op" id="3753693">,</span>&nbsp;<span class="ident" id="3753695">x1</span><span class="op" id="3753697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753702">z</span><span class="op" id="3753703">.</span><span class="ident" id="3753704">neg</span>&nbsp;<span class="op" id="3753708">=</span>&nbsp;<span class="builtintype" id="3753710">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753719">return</span>&nbsp;<span class="ident" id="3753726">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3753730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753735">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753757">z</span><span class="op" id="3753758">.</span><span class="ident" id="3753759">abs</span>&nbsp;<span class="op" id="3753763">=</span>&nbsp;<span class="ident" id="3753765">z</span><span class="op" id="3753766">.</span><span class="ident" id="3753767">abs</span><span class="op" id="3753770">.</span><span class="ident" id="3753771">andNot</span><span class="op" id="3753777">(</span><span class="ident" id="3753778">x</span><span class="op" id="3753779">.</span><span class="ident" id="3753780">abs</span><span class="op" id="3753783">,</span>&nbsp;<span class="ident" id="3753785">y</span><span class="op" id="3753786">.</span><span class="ident" id="3753787">abs</span><span class="op" id="3753790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753794">z</span><span class="op" id="3753795">.</span><span class="ident" id="3753796">neg</span>&nbsp;<span class="op" id="3753800">=</span>&nbsp;<span class="builtintype" id="3753802">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753810">return</span>&nbsp;<span class="ident" id="3753817">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3753820">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753824">if</span>&nbsp;<span class="ident" id="3753827">x</span><span class="op" id="3753828">.</span><span class="ident" id="3753829">neg</span>&nbsp;<span class="op" id="3753833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753837">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753920">x1</span>&nbsp;<span class="op" id="3753923">:=</span>&nbsp;<span class="ident" id="3753926">nat</span><span class="op" id="3753929">(</span><span class="ident" id="3753930">nil</span><span class="op" id="3753933">)</span><span class="op" id="3753934">.</span><span class="ident" id="3753935">sub</span><span class="op" id="3753938">(</span><span class="ident" id="3753939">x</span><span class="op" id="3753940">.</span><span class="ident" id="3753941">abs</span><span class="op" id="3753944">,</span>&nbsp;<span class="ident" id="3753946">natOne</span><span class="op" id="3753952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753956">z</span><span class="op" id="3753957">.</span><span class="ident" id="3753958">abs</span>&nbsp;<span class="op" id="3753962">=</span>&nbsp;<span class="ident" id="3753964">z</span><span class="op" id="3753965">.</span><span class="ident" id="3753966">abs</span><span class="op" id="3753969">.</span><span class="ident" id="3753970">add</span><span class="op" id="3753973">(</span><span class="ident" id="3753974">z</span><span class="op" id="3753975">.</span><span class="ident" id="3753976">abs</span><span class="op" id="3753979">.</span><span class="ident" id="3753980">or</span><span class="op" id="3753982">(</span><span class="ident" id="3753983">x1</span><span class="op" id="3753985">,</span>&nbsp;<span class="ident" id="3753987">y</span><span class="op" id="3753988">.</span><span class="ident" id="3753989">abs</span><span class="op" id="3753992">)</span><span class="op" id="3753993">,</span>&nbsp;<span class="ident" id="3753995">natOne</span><span class="op" id="3754001">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754005">z</span><span class="op" id="3754006">.</span><span class="ident" id="3754007">neg</span>&nbsp;<span class="op" id="3754011">=</span>&nbsp;<span class="builtintype" id="3754013">true</span>&nbsp;<span class="comment" id="3754018">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754075">return</span>&nbsp;<span class="ident" id="3754082">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3754085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3754089">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754131">y1</span>&nbsp;<span class="op" id="3754134">:=</span>&nbsp;<span class="ident" id="3754137">nat</span><span class="op" id="3754140">(</span><span class="ident" id="3754141">nil</span><span class="op" id="3754144">)</span><span class="op" id="3754145">.</span><span class="ident" id="3754146">add</span><span class="op" id="3754149">(</span><span class="ident" id="3754150">y</span><span class="op" id="3754151">.</span><span class="ident" id="3754152">abs</span><span class="op" id="3754155">,</span>&nbsp;<span class="ident" id="3754157">natOne</span><span class="op" id="3754163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754166">z</span><span class="op" id="3754167">.</span><span class="ident" id="3754168">abs</span>&nbsp;<span class="op" id="3754172">=</span>&nbsp;<span class="ident" id="3754174">z</span><span class="op" id="3754175">.</span><span class="ident" id="3754176">abs</span><span class="op" id="3754179">.</span><span class="ident" id="3754180">and</span><span class="op" id="3754183">(</span><span class="ident" id="3754184">x</span><span class="op" id="3754185">.</span><span class="ident" id="3754186">abs</span><span class="op" id="3754189">,</span>&nbsp;<span class="ident" id="3754191">y1</span><span class="op" id="3754193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754196">z</span><span class="op" id="3754197">.</span><span class="ident" id="3754198">neg</span>&nbsp;<span class="op" id="3754202">=</span>&nbsp;<span class="builtintype" id="3754204">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754211">return</span>&nbsp;<span class="ident" id="3754218">z</span><br>
<span class="lineno"></span><span class="op" id="3754220">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="3754223">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3754259">func</span>&nbsp;<span class="op" id="3754264">(</span><span class="ident" id="3754265">z</span>&nbsp;<span class="op" id="3754267">*</span><span class="ident" id="3754268">Int</span><span class="op" id="3754271">)</span>&nbsp;<span class="ident" id="3754273">Or</span><span class="op" id="3754275">(</span><span class="ident" id="3754276">x</span><span class="op" id="3754277">,</span>&nbsp;<span class="ident" id="3754279">y</span>&nbsp;<span class="op" id="3754281">*</span><span class="ident" id="3754282">Int</span><span class="op" id="3754285">)</span>&nbsp;<span class="op" id="3754287">*</span><span class="ident" id="3754288">Int</span>&nbsp;<span class="op" id="3754292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754295">if</span>&nbsp;<span class="ident" id="3754298">x</span><span class="op" id="3754299">.</span><span class="ident" id="3754300">neg</span>&nbsp;<span class="op" id="3754304">==</span>&nbsp;<span class="ident" id="3754307">y</span><span class="op" id="3754308">.</span><span class="ident" id="3754309">neg</span>&nbsp;<span class="op" id="3754313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754317">if</span>&nbsp;<span class="ident" id="3754320">x</span><span class="op" id="3754321">.</span><span class="ident" id="3754322">neg</span>&nbsp;<span class="op" id="3754326">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3754331">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754414">x1</span>&nbsp;<span class="op" id="3754417">:=</span>&nbsp;<span class="ident" id="3754420">nat</span><span class="op" id="3754423">(</span><span class="ident" id="3754424">nil</span><span class="op" id="3754427">)</span><span class="op" id="3754428">.</span><span class="ident" id="3754429">sub</span><span class="op" id="3754432">(</span><span class="ident" id="3754433">x</span><span class="op" id="3754434">.</span><span class="ident" id="3754435">abs</span><span class="op" id="3754438">,</span>&nbsp;<span class="ident" id="3754440">natOne</span><span class="op" id="3754446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754451">y1</span>&nbsp;<span class="op" id="3754454">:=</span>&nbsp;<span class="ident" id="3754457">nat</span><span class="op" id="3754460">(</span><span class="ident" id="3754461">nil</span><span class="op" id="3754464">)</span><span class="op" id="3754465">.</span><span class="ident" id="3754466">sub</span><span class="op" id="3754469">(</span><span class="ident" id="3754470">y</span><span class="op" id="3754471">.</span><span class="ident" id="3754472">abs</span><span class="op" id="3754475">,</span>&nbsp;<span class="ident" id="3754477">natOne</span><span class="op" id="3754483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754488">z</span><span class="op" id="3754489">.</span><span class="ident" id="3754490">abs</span>&nbsp;<span class="op" id="3754494">=</span>&nbsp;<span class="ident" id="3754496">z</span><span class="op" id="3754497">.</span><span class="ident" id="3754498">abs</span><span class="op" id="3754501">.</span><span class="ident" id="3754502">add</span><span class="op" id="3754505">(</span><span class="ident" id="3754506">z</span><span class="op" id="3754507">.</span><span class="ident" id="3754508">abs</span><span class="op" id="3754511">.</span><span class="ident" id="3754512">and</span><span class="op" id="3754515">(</span><span class="ident" id="3754516">x1</span><span class="op" id="3754518">,</span>&nbsp;<span class="ident" id="3754520">y1</span><span class="op" id="3754522">)</span><span class="op" id="3754523">,</span>&nbsp;<span class="ident" id="3754525">natOne</span><span class="op" id="3754531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754536">z</span><span class="op" id="3754537">.</span><span class="ident" id="3754538">neg</span>&nbsp;<span class="op" id="3754542">=</span>&nbsp;<span class="builtintype" id="3754544">true</span>&nbsp;<span class="comment" id="3754549">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754596">return</span>&nbsp;<span class="ident" id="3754603">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3754607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3754612">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754632">z</span><span class="op" id="3754633">.</span><span class="ident" id="3754634">abs</span>&nbsp;<span class="op" id="3754638">=</span>&nbsp;<span class="ident" id="3754640">z</span><span class="op" id="3754641">.</span><span class="ident" id="3754642">abs</span><span class="op" id="3754645">.</span><span class="ident" id="3754646">or</span><span class="op" id="3754648">(</span><span class="ident" id="3754649">x</span><span class="op" id="3754650">.</span><span class="ident" id="3754651">abs</span><span class="op" id="3754654">,</span>&nbsp;<span class="ident" id="3754656">y</span><span class="op" id="3754657">.</span><span class="ident" id="3754658">abs</span><span class="op" id="3754661">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754665">z</span><span class="op" id="3754666">.</span><span class="ident" id="3754667">neg</span>&nbsp;<span class="op" id="3754671">=</span>&nbsp;<span class="builtintype" id="3754673">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754681">return</span>&nbsp;<span class="ident" id="3754688">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3754691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3754695">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754714">if</span>&nbsp;<span class="ident" id="3754717">x</span><span class="op" id="3754718">.</span><span class="ident" id="3754719">neg</span>&nbsp;<span class="op" id="3754723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754727">x</span><span class="op" id="3754728">,</span>&nbsp;<span class="ident" id="3754730">y</span>&nbsp;<span class="op" id="3754732">=</span>&nbsp;<span class="ident" id="3754734">y</span><span class="op" id="3754735">,</span>&nbsp;<span class="ident" id="3754737">x</span>&nbsp;<span class="comment" id="3754739">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3754758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3754762">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754830">y1</span>&nbsp;<span class="op" id="3754833">:=</span>&nbsp;<span class="ident" id="3754836">nat</span><span class="op" id="3754839">(</span><span class="ident" id="3754840">nil</span><span class="op" id="3754843">)</span><span class="op" id="3754844">.</span><span class="ident" id="3754845">sub</span><span class="op" id="3754848">(</span><span class="ident" id="3754849">y</span><span class="op" id="3754850">.</span><span class="ident" id="3754851">abs</span><span class="op" id="3754854">,</span>&nbsp;<span class="ident" id="3754856">natOne</span><span class="op" id="3754862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754865">z</span><span class="op" id="3754866">.</span><span class="ident" id="3754867">abs</span>&nbsp;<span class="op" id="3754871">=</span>&nbsp;<span class="ident" id="3754873">z</span><span class="op" id="3754874">.</span><span class="ident" id="3754875">abs</span><span class="op" id="3754878">.</span><span class="ident" id="3754879">add</span><span class="op" id="3754882">(</span><span class="ident" id="3754883">z</span><span class="op" id="3754884">.</span><span class="ident" id="3754885">abs</span><span class="op" id="3754888">.</span><span class="ident" id="3754889">andNot</span><span class="op" id="3754895">(</span><span class="ident" id="3754896">y1</span><span class="op" id="3754898">,</span>&nbsp;<span class="ident" id="3754900">x</span><span class="op" id="3754901">.</span><span class="ident" id="3754902">abs</span><span class="op" id="3754905">)</span><span class="op" id="3754906">,</span>&nbsp;<span class="ident" id="3754908">natOne</span><span class="op" id="3754914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754917">z</span><span class="op" id="3754918">.</span><span class="ident" id="3754919">neg</span>&nbsp;<span class="op" id="3754923">=</span>&nbsp;<span class="builtintype" id="3754925">true</span>&nbsp;<span class="comment" id="3754930">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754980">return</span>&nbsp;<span class="ident" id="3754987">z</span><br>
<span class="lineno"></span><span class="op" id="3754989">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="3754992">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3755029">func</span>&nbsp;<span class="op" id="3755034">(</span><span class="ident" id="3755035">z</span>&nbsp;<span class="op" id="3755037">*</span><span class="ident" id="3755038">Int</span><span class="op" id="3755041">)</span>&nbsp;<span class="ident" id="3755043">Xor</span><span class="op" id="3755046">(</span><span class="ident" id="3755047">x</span><span class="op" id="3755048">,</span>&nbsp;<span class="ident" id="3755050">y</span>&nbsp;<span class="op" id="3755052">*</span><span class="ident" id="3755053">Int</span><span class="op" id="3755056">)</span>&nbsp;<span class="op" id="3755058">*</span><span class="ident" id="3755059">Int</span>&nbsp;<span class="op" id="3755063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755066">if</span>&nbsp;<span class="ident" id="3755069">x</span><span class="op" id="3755070">.</span><span class="ident" id="3755071">neg</span>&nbsp;<span class="op" id="3755075">==</span>&nbsp;<span class="ident" id="3755078">y</span><span class="op" id="3755079">.</span><span class="ident" id="3755080">neg</span>&nbsp;<span class="op" id="3755084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755088">if</span>&nbsp;<span class="ident" id="3755091">x</span><span class="op" id="3755092">.</span><span class="ident" id="3755093">neg</span>&nbsp;<span class="op" id="3755097">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3755102">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755156">x1</span>&nbsp;<span class="op" id="3755159">:=</span>&nbsp;<span class="ident" id="3755162">nat</span><span class="op" id="3755165">(</span><span class="ident" id="3755166">nil</span><span class="op" id="3755169">)</span><span class="op" id="3755170">.</span><span class="ident" id="3755171">sub</span><span class="op" id="3755174">(</span><span class="ident" id="3755175">x</span><span class="op" id="3755176">.</span><span class="ident" id="3755177">abs</span><span class="op" id="3755180">,</span>&nbsp;<span class="ident" id="3755182">natOne</span><span class="op" id="3755188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755193">y1</span>&nbsp;<span class="op" id="3755196">:=</span>&nbsp;<span class="ident" id="3755199">nat</span><span class="op" id="3755202">(</span><span class="ident" id="3755203">nil</span><span class="op" id="3755206">)</span><span class="op" id="3755207">.</span><span class="ident" id="3755208">sub</span><span class="op" id="3755211">(</span><span class="ident" id="3755212">y</span><span class="op" id="3755213">.</span><span class="ident" id="3755214">abs</span><span class="op" id="3755217">,</span>&nbsp;<span class="ident" id="3755219">natOne</span><span class="op" id="3755225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755230">z</span><span class="op" id="3755231">.</span><span class="ident" id="3755232">abs</span>&nbsp;<span class="op" id="3755236">=</span>&nbsp;<span class="ident" id="3755238">z</span><span class="op" id="3755239">.</span><span class="ident" id="3755240">abs</span><span class="op" id="3755243">.</span><span class="ident" id="3755244">xor</span><span class="op" id="3755247">(</span><span class="ident" id="3755248">x1</span><span class="op" id="3755250">,</span>&nbsp;<span class="ident" id="3755252">y1</span><span class="op" id="3755254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755259">z</span><span class="op" id="3755260">.</span><span class="ident" id="3755261">neg</span>&nbsp;<span class="op" id="3755265">=</span>&nbsp;<span class="builtintype" id="3755267">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755276">return</span>&nbsp;<span class="ident" id="3755283">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3755287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3755292">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755312">z</span><span class="op" id="3755313">.</span><span class="ident" id="3755314">abs</span>&nbsp;<span class="op" id="3755318">=</span>&nbsp;<span class="ident" id="3755320">z</span><span class="op" id="3755321">.</span><span class="ident" id="3755322">abs</span><span class="op" id="3755325">.</span><span class="ident" id="3755326">xor</span><span class="op" id="3755329">(</span><span class="ident" id="3755330">x</span><span class="op" id="3755331">.</span><span class="ident" id="3755332">abs</span><span class="op" id="3755335">,</span>&nbsp;<span class="ident" id="3755337">y</span><span class="op" id="3755338">.</span><span class="ident" id="3755339">abs</span><span class="op" id="3755342">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755346">z</span><span class="op" id="3755347">.</span><span class="ident" id="3755348">neg</span>&nbsp;<span class="op" id="3755352">=</span>&nbsp;<span class="builtintype" id="3755354">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755362">return</span>&nbsp;<span class="ident" id="3755369">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3755372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3755376">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755395">if</span>&nbsp;<span class="ident" id="3755398">x</span><span class="op" id="3755399">.</span><span class="ident" id="3755400">neg</span>&nbsp;<span class="op" id="3755404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755408">x</span><span class="op" id="3755409">,</span>&nbsp;<span class="ident" id="3755411">y</span>&nbsp;<span class="op" id="3755413">=</span>&nbsp;<span class="ident" id="3755415">y</span><span class="op" id="3755416">,</span>&nbsp;<span class="ident" id="3755418">x</span>&nbsp;<span class="comment" id="3755420">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3755439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3755443">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755508">y1</span>&nbsp;<span class="op" id="3755511">:=</span>&nbsp;<span class="ident" id="3755514">nat</span><span class="op" id="3755517">(</span><span class="ident" id="3755518">nil</span><span class="op" id="3755521">)</span><span class="op" id="3755522">.</span><span class="ident" id="3755523">sub</span><span class="op" id="3755526">(</span><span class="ident" id="3755527">y</span><span class="op" id="3755528">.</span><span class="ident" id="3755529">abs</span><span class="op" id="3755532">,</span>&nbsp;<span class="ident" id="3755534">natOne</span><span class="op" id="3755540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755543">z</span><span class="op" id="3755544">.</span><span class="ident" id="3755545">abs</span>&nbsp;<span class="op" id="3755549">=</span>&nbsp;<span class="ident" id="3755551">z</span><span class="op" id="3755552">.</span><span class="ident" id="3755553">abs</span><span class="op" id="3755556">.</span><span class="ident" id="3755557">add</span><span class="op" id="3755560">(</span><span class="ident" id="3755561">z</span><span class="op" id="3755562">.</span><span class="ident" id="3755563">abs</span><span class="op" id="3755566">.</span><span class="ident" id="3755567">xor</span><span class="op" id="3755570">(</span><span class="ident" id="3755571">x</span><span class="op" id="3755572">.</span><span class="ident" id="3755573">abs</span><span class="op" id="3755576">,</span>&nbsp;<span class="ident" id="3755578">y1</span><span class="op" id="3755580">)</span><span class="op" id="3755581">,</span>&nbsp;<span class="ident" id="3755583">natOne</span><span class="op" id="3755589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755592">z</span><span class="op" id="3755593">.</span><span class="ident" id="3755594">neg</span>&nbsp;<span class="op" id="3755598">=</span>&nbsp;<span class="builtintype" id="3755600">true</span>&nbsp;<span class="comment" id="3755605">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755660">return</span>&nbsp;<span class="ident" id="3755667">z</span><br>
<span class="lineno"></span><span class="op" id="3755669">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="3755672">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3755706">func</span>&nbsp;<span class="op" id="3755711">(</span><span class="ident" id="3755712">z</span>&nbsp;<span class="op" id="3755714">*</span><span class="ident" id="3755715">Int</span><span class="op" id="3755718">)</span>&nbsp;<span class="ident" id="3755720">Not</span><span class="op" id="3755723">(</span><span class="ident" id="3755724">x</span>&nbsp;<span class="op" id="3755726">*</span><span class="ident" id="3755727">Int</span><span class="op" id="3755730">)</span>&nbsp;<span class="op" id="3755732">*</span><span class="ident" id="3755733">Int</span>&nbsp;<span class="op" id="3755737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755740">if</span>&nbsp;<span class="ident" id="3755743">x</span><span class="op" id="3755744">.</span><span class="ident" id="3755745">neg</span>&nbsp;<span class="op" id="3755749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3755753">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755784">z</span><span class="op" id="3755785">.</span><span class="ident" id="3755786">abs</span>&nbsp;<span class="op" id="3755790">=</span>&nbsp;<span class="ident" id="3755792">z</span><span class="op" id="3755793">.</span><span class="ident" id="3755794">abs</span><span class="op" id="3755797">.</span><span class="ident" id="3755798">sub</span><span class="op" id="3755801">(</span><span class="ident" id="3755802">x</span><span class="op" id="3755803">.</span><span class="ident" id="3755804">abs</span><span class="op" id="3755807">,</span>&nbsp;<span class="ident" id="3755809">natOne</span><span class="op" id="3755815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755819">z</span><span class="op" id="3755820">.</span><span class="ident" id="3755821">neg</span>&nbsp;<span class="op" id="3755825">=</span>&nbsp;<span class="builtintype" id="3755827">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755835">return</span>&nbsp;<span class="ident" id="3755842">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3755845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3755849">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755874">z</span><span class="op" id="3755875">.</span><span class="ident" id="3755876">abs</span>&nbsp;<span class="op" id="3755880">=</span>&nbsp;<span class="ident" id="3755882">z</span><span class="op" id="3755883">.</span><span class="ident" id="3755884">abs</span><span class="op" id="3755887">.</span><span class="ident" id="3755888">add</span><span class="op" id="3755891">(</span><span class="ident" id="3755892">x</span><span class="op" id="3755893">.</span><span class="ident" id="3755894">abs</span><span class="op" id="3755897">,</span>&nbsp;<span class="ident" id="3755899">natOne</span><span class="op" id="3755905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3755908">z</span><span class="op" id="3755909">.</span><span class="ident" id="3755910">neg</span>&nbsp;<span class="op" id="3755914">=</span>&nbsp;<span class="builtintype" id="3755916">true</span>&nbsp;<span class="comment" id="3755921">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755959">return</span>&nbsp;<span class="ident" id="3755966">z</span><br>
<span class="lineno"></span><span class="op" id="3755968">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="3755971">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3756046">const</span>&nbsp;<span class="ident" id="3756052">intGobVersion</span>&nbsp;<span class="builtintype" id="3756066">byte</span>&nbsp;<span class="op" id="3756071">=</span>&nbsp;<span class="num" id="3756073">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3756076">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="3756130">func</span>&nbsp;<span class="op" id="3756135">(</span><span class="ident" id="3756136">x</span>&nbsp;<span class="op" id="3756138">*</span><span class="ident" id="3756139">Int</span><span class="op" id="3756142">)</span>&nbsp;<span class="ident" id="3756144">GobEncode</span><span class="op" id="3756153">(</span><span class="op" id="3756154">)</span>&nbsp;<span class="op" id="3756156">(</span><span class="op" id="3756157">[</span><span class="op" id="3756158">]</span><span class="builtintype" id="3756159">byte</span><span class="op" id="3756163">,</span>&nbsp;<span class="builtintype" id="3756165">error</span><span class="op" id="3756170">)</span>&nbsp;<span class="op" id="3756172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3756175">if</span>&nbsp;<span class="ident" id="3756178">x</span>&nbsp;<span class="op" id="3756180">==</span>&nbsp;<span class="ident" id="3756183">nil</span>&nbsp;<span class="op" id="3756187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3756191">return</span>&nbsp;<span class="ident" id="3756198">nil</span><span class="op" id="3756201">,</span>&nbsp;<span class="ident" id="3756203">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3756208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3756211">buf</span>&nbsp;<span class="op" id="3756215">:=</span>&nbsp;<span class="builtinfunc" id="3756218">make</span><span class="op" id="3756222">(</span><span class="op" id="3756223">[</span><span class="op" id="3756224">]</span><span class="builtintype" id="3756225">byte</span><span class="op" id="3756229">,</span>&nbsp;<span class="num" id="3756231">1</span><span class="op" id="3756232">+</span><span class="builtinfunc" id="3756233">len</span><span class="op" id="3756236">(</span><span class="ident" id="3756237">x</span><span class="op" id="3756238">.</span><span class="ident" id="3756239">abs</span><span class="op" id="3756242">)</span><span class="op" id="3756243">*</span><span class="ident" id="3756244">_S</span><span class="op" id="3756246">)</span>&nbsp;<span class="comment" id="3756248">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3756288">i</span>&nbsp;<span class="op" id="3756290">:=</span>&nbsp;<span class="ident" id="3756293">x</span><span class="op" id="3756294">.</span><span class="ident" id="3756295">abs</span><span class="op" id="3756298">.</span><span class="ident" id="3756299">bytes</span><span class="op" id="3756304">(</span><span class="ident" id="3756305">buf</span><span class="op" id="3756308">)</span>&nbsp;<span class="op" id="3756310">-</span>&nbsp;<span class="num" id="3756312">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3756325">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3756336">b</span>&nbsp;<span class="op" id="3756338">:=</span>&nbsp;<span class="ident" id="3756341">intGobVersion</span>&nbsp;<span class="op" id="3756355">&lt;&lt;</span>&nbsp;<span class="num" id="3756358">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3756373">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3756401">if</span>&nbsp;<span class="ident" id="3756404">x</span><span class="op" id="3756405">.</span><span class="ident" id="3756406">neg</span>&nbsp;<span class="op" id="3756410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3756414">b</span>&nbsp;<span class="op" id="3756416">|=</span>&nbsp;<span class="num" id="3756419">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3756422">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3756425">buf</span><span class="op" id="3756428">[</span><span class="ident" id="3756429">i</span><span class="op" id="3756430">]</span>&nbsp;<span class="op" id="3756432">=</span>&nbsp;<span class="ident" id="3756434">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3756437">return</span>&nbsp;<span class="ident" id="3756444">buf</span><span class="op" id="3756447">[</span><span class="ident" id="3756448">i</span><span class="op" id="3756449">:</span><span class="op" id="3756450">]</span><span class="op" id="3756451">,</span>&nbsp;<span class="ident" id="3756453">nil</span><br>
<span class="lineno"></span><span class="op" id="3756457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3756460">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="3756514">func</span>&nbsp;<span class="op" id="3756519">(</span><span class="ident" id="3756520">z</span>&nbsp;<span class="op" id="3756522">*</span><span class="ident" id="3756523">Int</span><span class="op" id="3756526">)</span>&nbsp;<span class="ident" id="3756528">GobDecode</span><span class="op" id="3756537">(</span><span class="ident" id="3756538">buf</span>&nbsp;<span class="op" id="3756542">[</span><span class="op" id="3756543">]</span><span class="builtintype" id="3756544">byte</span><span class="op" id="3756548">)</span>&nbsp;<span class="builtintype" id="3756550">error</span>&nbsp;<span class="op" id="3756556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3756559">if</span>&nbsp;<span class="builtinfunc" id="3756562">len</span><span class="op" id="3756565">(</span><span class="ident" id="3756566">buf</span><span class="op" id="3756569">)</span>&nbsp;<span class="op" id="3756571">==</span>&nbsp;<span class="num" id="3756574">0</span>&nbsp;<span class="op" id="3756576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3756580">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3756625">*</span><span class="ident" id="3756626">z</span>&nbsp;<span class="op" id="3756628">=</span>&nbsp;<span class="ident" id="3756630">Int</span><span class="op" id="3756633">{</span><span class="op" id="3756634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3756638">return</span>&nbsp;<span class="ident" id="3756645">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3756650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3756653">b</span>&nbsp;<span class="op" id="3756655">:=</span>&nbsp;<span class="ident" id="3756658">buf</span><span class="op" id="3756661">[</span><span class="num" id="3756662">0</span><span class="op" id="3756663">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3756666">if</span>&nbsp;<span class="ident" id="3756669">b</span><span class="op" id="3756670">&gt;&gt;</span><span class="num" id="3756672">1</span>&nbsp;<span class="op" id="3756674">!=</span>&nbsp;<span class="ident" id="3756677">intGobVersion</span>&nbsp;<span class="op" id="3756691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3756695">return</span>&nbsp;<span class="ident" id="3756702">errors</span><span class="op" id="3756708">.</span><span class="ident" id="3756709">New</span><span class="op" id="3756712">(</span><span class="ident" id="3756713">fmt</span><span class="op" id="3756716">.</span><span class="ident" id="3756717">Sprintf</span><span class="op" id="3756724">(</span><span class="string" id="3756725">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="3756775">,</span>&nbsp;<span class="ident" id="3756777">b</span><span class="op" id="3756778">&gt;&gt;</span><span class="num" id="3756780">1</span><span class="op" id="3756781">)</span><span class="op" id="3756782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3756785">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3756788">z</span><span class="op" id="3756789">.</span><span class="ident" id="3756790">neg</span>&nbsp;<span class="op" id="3756794">=</span>&nbsp;<span class="ident" id="3756796">b</span><span class="op" id="3756797">&amp;</span><span class="num" id="3756798">1</span>&nbsp;<span class="op" id="3756800">!=</span>&nbsp;<span class="num" id="3756803">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3756806">z</span><span class="op" id="3756807">.</span><span class="ident" id="3756808">abs</span>&nbsp;<span class="op" id="3756812">=</span>&nbsp;<span class="ident" id="3756814">z</span><span class="op" id="3756815">.</span><span class="ident" id="3756816">abs</span><span class="op" id="3756819">.</span><span class="ident" id="3756820">setBytes</span><span class="op" id="3756828">(</span><span class="ident" id="3756829">buf</span><span class="op" id="3756832">[</span><span class="num" id="3756833">1</span><span class="op" id="3756834">:</span><span class="op" id="3756835">]</span><span class="op" id="3756836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3756839">return</span>&nbsp;<span class="ident" id="3756846">nil</span><br>
<span class="lineno"></span><span class="op" id="3756850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="3756853">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3756909">func</span>&nbsp;<span class="op" id="3756914">(</span><span class="ident" id="3756915">z</span>&nbsp;<span class="op" id="3756917">*</span><span class="ident" id="3756918">Int</span><span class="op" id="3756921">)</span>&nbsp;<span class="ident" id="3756923">MarshalJSON</span><span class="op" id="3756934">(</span><span class="op" id="3756935">)</span>&nbsp;<span class="op" id="3756937">(</span><span class="op" id="3756938">[</span><span class="op" id="3756939">]</span><span class="builtintype" id="3756940">byte</span><span class="op" id="3756944">,</span>&nbsp;<span class="builtintype" id="3756946">error</span><span class="op" id="3756951">)</span>&nbsp;<span class="op" id="3756953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3756956">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3757012">return</span>&nbsp;<span class="op" id="3757019">[</span><span class="op" id="3757020">]</span><span class="builtintype" id="3757021">byte</span><span class="op" id="3757025">(</span><span class="ident" id="3757026">z</span><span class="op" id="3757027">.</span><span class="ident" id="3757028">String</span><span class="op" id="3757034">(</span><span class="op" id="3757035">)</span><span class="op" id="3757036">)</span><span class="op" id="3757037">,</span>&nbsp;<span class="ident" id="3757039">nil</span><br>
<span class="lineno"></span><span class="op" id="3757043">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="3757046">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3757106">func</span>&nbsp;<span class="op" id="3757111">(</span><span class="ident" id="3757112">z</span>&nbsp;<span class="op" id="3757114">*</span><span class="ident" id="3757115">Int</span><span class="op" id="3757118">)</span>&nbsp;<span class="ident" id="3757120">UnmarshalJSON</span><span class="op" id="3757133">(</span><span class="ident" id="3757134">text</span>&nbsp;<span class="op" id="3757139">[</span><span class="op" id="3757140">]</span><span class="builtintype" id="3757141">byte</span><span class="op" id="3757145">)</span>&nbsp;<span class="builtintype" id="3757147">error</span>&nbsp;<span class="op" id="3757153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3757156">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3757212">if</span>&nbsp;<span class="ident" id="3757215">_</span><span class="op" id="3757216">,</span>&nbsp;<span class="ident" id="3757218">ok</span>&nbsp;<span class="op" id="3757221">:=</span>&nbsp;<span class="ident" id="3757224">z</span><span class="op" id="3757225">.</span><span class="ident" id="3757226">SetString</span><span class="op" id="3757235">(</span><span class="builtintype" id="3757236">string</span><span class="op" id="3757242">(</span><span class="ident" id="3757243">text</span><span class="op" id="3757247">)</span><span class="op" id="3757248">,</span>&nbsp;<span class="num" id="3757250">0</span><span class="op" id="3757251">)</span><span class="op" id="3757252">;</span>&nbsp;<span class="op" id="3757254">!</span><span class="ident" id="3757255">ok</span>&nbsp;<span class="op" id="3757258">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3757262">return</span>&nbsp;<span class="ident" id="3757269">fmt</span><span class="op" id="3757272">.</span><span class="ident" id="3757273">Errorf</span><span class="op" id="3757279">(</span><span class="string" id="3757280">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3757327">,</span>&nbsp;<span class="ident" id="3757329">text</span><span class="op" id="3757333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3757336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3757339">return</span>&nbsp;<span class="ident" id="3757346">nil</span><br>
<span class="lineno"></span><span class="op" id="3757350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="3757353">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3757417">func</span>&nbsp;<span class="op" id="3757422">(</span><span class="ident" id="3757423">z</span>&nbsp;<span class="op" id="3757425">*</span><span class="ident" id="3757426">Int</span><span class="op" id="3757429">)</span>&nbsp;<span class="ident" id="3757431">MarshalText</span><span class="op" id="3757442">(</span><span class="op" id="3757443">)</span>&nbsp;<span class="op" id="3757445">(</span><span class="ident" id="3757446">text</span>&nbsp;<span class="op" id="3757451">[</span><span class="op" id="3757452">]</span><span class="builtintype" id="3757453">byte</span><span class="op" id="3757457">,</span>&nbsp;<span class="ident" id="3757459">err</span>&nbsp;<span class="builtintype" id="3757463">error</span><span class="op" id="3757468">)</span>&nbsp;<span class="op" id="3757470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3757473">return</span>&nbsp;<span class="op" id="3757480">[</span><span class="op" id="3757481">]</span><span class="builtintype" id="3757482">byte</span><span class="op" id="3757486">(</span><span class="ident" id="3757487">z</span><span class="op" id="3757488">.</span><span class="ident" id="3757489">String</span><span class="op" id="3757495">(</span><span class="op" id="3757496">)</span><span class="op" id="3757497">)</span><span class="op" id="3757498">,</span>&nbsp;<span class="ident" id="3757500">nil</span><br>
<span class="lineno"></span><span class="op" id="3757504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="3757507">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3757575">func</span>&nbsp;<span class="op" id="3757580">(</span><span class="ident" id="3757581">z</span>&nbsp;<span class="op" id="3757583">*</span><span class="ident" id="3757584">Int</span><span class="op" id="3757587">)</span>&nbsp;<span class="ident" id="3757589">UnmarshalText</span><span class="op" id="3757602">(</span><span class="ident" id="3757603">text</span>&nbsp;<span class="op" id="3757608">[</span><span class="op" id="3757609">]</span><span class="builtintype" id="3757610">byte</span><span class="op" id="3757614">)</span>&nbsp;<span class="builtintype" id="3757616">error</span>&nbsp;<span class="op" id="3757622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3757625">if</span>&nbsp;<span class="ident" id="3757628">_</span><span class="op" id="3757629">,</span>&nbsp;<span class="ident" id="3757631">ok</span>&nbsp;<span class="op" id="3757634">:=</span>&nbsp;<span class="ident" id="3757637">z</span><span class="op" id="3757638">.</span><span class="ident" id="3757639">SetString</span><span class="op" id="3757648">(</span><span class="builtintype" id="3757649">string</span><span class="op" id="3757655">(</span><span class="ident" id="3757656">text</span><span class="op" id="3757660">)</span><span class="op" id="3757661">,</span>&nbsp;<span class="num" id="3757663">0</span><span class="op" id="3757664">)</span><span class="op" id="3757665">;</span>&nbsp;<span class="op" id="3757667">!</span><span class="ident" id="3757668">ok</span>&nbsp;<span class="op" id="3757671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3757675">return</span>&nbsp;<span class="ident" id="3757682">fmt</span><span class="op" id="3757685">.</span><span class="ident" id="3757686">Errorf</span><span class="op" id="3757692">(</span><span class="string" id="3757693">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3757740">,</span>&nbsp;<span class="ident" id="3757742">text</span><span class="op" id="3757746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3757749">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3757752">return</span>&nbsp;<span class="ident" id="3757759">nil</span><br>
<span class="lineno"></span><span class="op" id="3757763">}</span>
</div>
</body>
</html>
