<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html" class="current">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7770232">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7770288">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7770342">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7770393">package</span>&nbsp;<span class="ident" id="7770401">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7770409">import</span>&nbsp;<span class="string" id="7770416">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7770427">var</span>&nbsp;<span class="ident" id="7770431">simplifyTests</span>&nbsp;<span class="op" id="7770445">=</span>&nbsp;<span class="op" id="7770447">[</span><span class="op" id="7770448">]</span><span class="keyword" id="7770449">struct</span>&nbsp;<span class="op" id="7770456">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7770459">Regexp</span>&nbsp;<span class="builtintype" id="7770466">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7770474">Simple</span>&nbsp;<span class="builtintype" id="7770481">string</span><br>
<span class="lineno"></span><span class="op" id="7770488">}</span><span class="op" id="7770489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7770492">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770522">{</span><span class="string" id="7770523">`a`</span><span class="op" id="7770526">,</span>&nbsp;<span class="string" id="7770528">`a`</span><span class="op" id="7770531">}</span><span class="op" id="7770532">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770535">{</span><span class="string" id="7770536">`ab`</span><span class="op" id="7770540">,</span>&nbsp;<span class="string" id="7770542">`ab`</span><span class="op" id="7770546">}</span><span class="op" id="7770547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770550">{</span><span class="string" id="7770551">`a|b`</span><span class="op" id="7770556">,</span>&nbsp;<span class="string" id="7770558">`[a-b]`</span><span class="op" id="7770565">}</span><span class="op" id="7770566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770569">{</span><span class="string" id="7770570">`ab|cd`</span><span class="op" id="7770577">,</span>&nbsp;<span class="string" id="7770579">`ab|cd`</span><span class="op" id="7770586">}</span><span class="op" id="7770587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770590">{</span><span class="string" id="7770591">`(ab)*`</span><span class="op" id="7770598">,</span>&nbsp;<span class="string" id="7770600">`(ab)*`</span><span class="op" id="7770607">}</span><span class="op" id="7770608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770611">{</span><span class="string" id="7770612">`(ab)+`</span><span class="op" id="7770619">,</span>&nbsp;<span class="string" id="7770621">`(ab)+`</span><span class="op" id="7770628">}</span><span class="op" id="7770629">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770632">{</span><span class="string" id="7770633">`(ab)?`</span><span class="op" id="7770640">,</span>&nbsp;<span class="string" id="7770642">`(ab)?`</span><span class="op" id="7770649">}</span><span class="op" id="7770650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770653">{</span><span class="string" id="7770654">`.`</span><span class="op" id="7770657">,</span>&nbsp;<span class="string" id="7770659">`(?s:.)`</span><span class="op" id="7770667">}</span><span class="op" id="7770668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770671">{</span><span class="string" id="7770672">`^`</span><span class="op" id="7770675">,</span>&nbsp;<span class="string" id="7770677">`^`</span><span class="op" id="7770680">}</span><span class="op" id="7770681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770684">{</span><span class="string" id="7770685">`$`</span><span class="op" id="7770688">,</span>&nbsp;<span class="string" id="7770690">`$`</span><span class="op" id="7770693">}</span><span class="op" id="7770694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770697">{</span><span class="string" id="7770698">`[ac]`</span><span class="op" id="7770704">,</span>&nbsp;<span class="string" id="7770706">`[ac]`</span><span class="op" id="7770712">}</span><span class="op" id="7770713">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770716">{</span><span class="string" id="7770717">`[^ac]`</span><span class="op" id="7770724">,</span>&nbsp;<span class="string" id="7770726">`[^ac]`</span><span class="op" id="7770733">}</span><span class="op" id="7770734">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7770738">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770766">{</span><span class="string" id="7770767">`[[:alnum:]]`</span><span class="op" id="7770780">,</span>&nbsp;<span class="string" id="7770782">`[0-9A-Za-z]`</span><span class="op" id="7770795">}</span><span class="op" id="7770796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770799">{</span><span class="string" id="7770800">`[[:alpha:]]`</span><span class="op" id="7770813">,</span>&nbsp;<span class="string" id="7770815">`[A-Za-z]`</span><span class="op" id="7770825">}</span><span class="op" id="7770826">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770829">{</span><span class="string" id="7770830">`[[:blank:]]`</span><span class="op" id="7770843">,</span>&nbsp;<span class="string" id="7770845">`[\t&nbsp;]`</span><span class="op" id="7770852">}</span><span class="op" id="7770853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770856">{</span><span class="string" id="7770857">`[[:cntrl:]]`</span><span class="op" id="7770870">,</span>&nbsp;<span class="string" id="7770872">`[\x00-\x1f\x7f]`</span><span class="op" id="7770889">}</span><span class="op" id="7770890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770893">{</span><span class="string" id="7770894">`[[:digit:]]`</span><span class="op" id="7770907">,</span>&nbsp;<span class="string" id="7770909">`[0-9]`</span><span class="op" id="7770916">}</span><span class="op" id="7770917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770920">{</span><span class="string" id="7770921">`[[:graph:]]`</span><span class="op" id="7770934">,</span>&nbsp;<span class="string" id="7770936">`[!-~]`</span><span class="op" id="7770943">}</span><span class="op" id="7770944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770947">{</span><span class="string" id="7770948">`[[:lower:]]`</span><span class="op" id="7770961">,</span>&nbsp;<span class="string" id="7770963">`[a-z]`</span><span class="op" id="7770970">}</span><span class="op" id="7770971">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770974">{</span><span class="string" id="7770975">`[[:print:]]`</span><span class="op" id="7770988">,</span>&nbsp;<span class="string" id="7770990">`[&nbsp;-~]`</span><span class="op" id="7770997">}</span><span class="op" id="7770998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771001">{</span><span class="string" id="7771002">`[[:punct:]]`</span><span class="op" id="7771015">,</span>&nbsp;<span class="string" id="7771017">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="7771037">}</span><span class="op" id="7771038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771041">{</span><span class="string" id="7771042">`[[:space:]]`</span><span class="op" id="7771055">,</span>&nbsp;<span class="string" id="7771057">`[\t-\r&nbsp;]`</span><span class="op" id="7771067">}</span><span class="op" id="7771068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771071">{</span><span class="string" id="7771072">`[[:upper:]]`</span><span class="op" id="7771085">,</span>&nbsp;<span class="string" id="7771087">`[A-Z]`</span><span class="op" id="7771094">}</span><span class="op" id="7771095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771098">{</span><span class="string" id="7771099">`[[:xdigit:]]`</span><span class="op" id="7771113">,</span>&nbsp;<span class="string" id="7771115">`[0-9A-Fa-f]`</span><span class="op" id="7771128">}</span><span class="op" id="7771129">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7771133">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771160">{</span><span class="string" id="7771161">`\d`</span><span class="op" id="7771165">,</span>&nbsp;<span class="string" id="7771167">`[0-9]`</span><span class="op" id="7771174">}</span><span class="op" id="7771175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771178">{</span><span class="string" id="7771179">`\s`</span><span class="op" id="7771183">,</span>&nbsp;<span class="string" id="7771185">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7771200">}</span><span class="op" id="7771201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771204">{</span><span class="string" id="7771205">`\w`</span><span class="op" id="7771209">,</span>&nbsp;<span class="string" id="7771211">`[0-9A-Z_a-z]`</span><span class="op" id="7771225">}</span><span class="op" id="7771226">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771229">{</span><span class="string" id="7771230">`\D`</span><span class="op" id="7771234">,</span>&nbsp;<span class="string" id="7771236">`[^0-9]`</span><span class="op" id="7771244">}</span><span class="op" id="7771245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771248">{</span><span class="string" id="7771249">`\S`</span><span class="op" id="7771253">,</span>&nbsp;<span class="string" id="7771255">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7771271">}</span><span class="op" id="7771272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771275">{</span><span class="string" id="7771276">`\W`</span><span class="op" id="7771280">,</span>&nbsp;<span class="string" id="7771282">`[^0-9A-Z_a-z]`</span><span class="op" id="7771297">}</span><span class="op" id="7771298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771301">{</span><span class="string" id="7771302">`[\d]`</span><span class="op" id="7771308">,</span>&nbsp;<span class="string" id="7771310">`[0-9]`</span><span class="op" id="7771317">}</span><span class="op" id="7771318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771321">{</span><span class="string" id="7771322">`[\s]`</span><span class="op" id="7771328">,</span>&nbsp;<span class="string" id="7771330">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7771345">}</span><span class="op" id="7771346">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771349">{</span><span class="string" id="7771350">`[\w]`</span><span class="op" id="7771356">,</span>&nbsp;<span class="string" id="7771358">`[0-9A-Z_a-z]`</span><span class="op" id="7771372">}</span><span class="op" id="7771373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771376">{</span><span class="string" id="7771377">`[\D]`</span><span class="op" id="7771383">,</span>&nbsp;<span class="string" id="7771385">`[^0-9]`</span><span class="op" id="7771393">}</span><span class="op" id="7771394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771397">{</span><span class="string" id="7771398">`[\S]`</span><span class="op" id="7771404">,</span>&nbsp;<span class="string" id="7771406">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7771422">}</span><span class="op" id="7771423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771426">{</span><span class="string" id="7771427">`[\W]`</span><span class="op" id="7771433">,</span>&nbsp;<span class="string" id="7771435">`[^0-9A-Z_a-z]`</span><span class="op" id="7771450">}</span><span class="op" id="7771451">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7771455">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771477">{</span><span class="string" id="7771478">`a{1}`</span><span class="op" id="7771484">,</span>&nbsp;<span class="string" id="7771486">`a`</span><span class="op" id="7771489">}</span><span class="op" id="7771490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771493">{</span><span class="string" id="7771494">`a{2}`</span><span class="op" id="7771500">,</span>&nbsp;<span class="string" id="7771502">`aa`</span><span class="op" id="7771506">}</span><span class="op" id="7771507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771510">{</span><span class="string" id="7771511">`a{5}`</span><span class="op" id="7771517">,</span>&nbsp;<span class="string" id="7771519">`aaaaa`</span><span class="op" id="7771526">}</span><span class="op" id="7771527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771530">{</span><span class="string" id="7771531">`a{0,1}`</span><span class="op" id="7771539">,</span>&nbsp;<span class="string" id="7771541">`a?`</span><span class="op" id="7771545">}</span><span class="op" id="7771546">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7771549">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7771612">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7771668">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771745">{</span><span class="string" id="7771746">`(a){0,2}`</span><span class="op" id="7771756">,</span>&nbsp;<span class="string" id="7771758">`(?:(a)(a)?)?`</span><span class="op" id="7771772">}</span><span class="op" id="7771773">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7771797">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771814">{</span><span class="string" id="7771815">`(a){0,4}`</span><span class="op" id="7771825">,</span>&nbsp;<span class="string" id="7771827">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7771857">}</span><span class="op" id="7771858">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7771866">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771887">{</span><span class="string" id="7771888">`(a){2,6}`</span><span class="op" id="7771898">,</span>&nbsp;<span class="string" id="7771900">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7771936">}</span><span class="op" id="7771937">,</span>&nbsp;<span class="comment" id="7771939">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771960">{</span><span class="string" id="7771961">`a{0,2}`</span><span class="op" id="7771969">,</span>&nbsp;<span class="string" id="7771971">`(?:aa?)?`</span><span class="op" id="7771981">}</span><span class="op" id="7771982">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7772012">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772029">{</span><span class="string" id="7772030">`a{0,4}`</span><span class="op" id="7772038">,</span>&nbsp;<span class="string" id="7772040">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7772062">}</span><span class="op" id="7772063">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7772081">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772102">{</span><span class="string" id="7772103">`a{2,6}`</span><span class="op" id="7772111">,</span>&nbsp;<span class="string" id="7772113">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7772137">}</span><span class="op" id="7772138">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7772154">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772175">{</span><span class="string" id="7772176">`a{0,}`</span><span class="op" id="7772183">,</span>&nbsp;<span class="string" id="7772185">`a*`</span><span class="op" id="7772189">}</span><span class="op" id="7772190">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772193">{</span><span class="string" id="7772194">`a{1,}`</span><span class="op" id="7772201">,</span>&nbsp;<span class="string" id="7772203">`a+`</span><span class="op" id="7772207">}</span><span class="op" id="7772208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772211">{</span><span class="string" id="7772212">`a{2,}`</span><span class="op" id="7772219">,</span>&nbsp;<span class="string" id="7772221">`aa+`</span><span class="op" id="7772226">}</span><span class="op" id="7772227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772230">{</span><span class="string" id="7772231">`a{5,}`</span><span class="op" id="7772238">,</span>&nbsp;<span class="string" id="7772240">`aaaaa+`</span><span class="op" id="7772248">}</span><span class="op" id="7772249">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7772253">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772303">{</span><span class="string" id="7772304">`(?:a{1,}){1,}`</span><span class="op" id="7772319">,</span>&nbsp;<span class="string" id="7772321">`a+`</span><span class="op" id="7772325">}</span><span class="op" id="7772326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772329">{</span><span class="string" id="7772330">`(a{1,}b{1,})`</span><span class="op" id="7772344">,</span>&nbsp;<span class="string" id="7772346">`(a+b+)`</span><span class="op" id="7772354">}</span><span class="op" id="7772355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772358">{</span><span class="string" id="7772359">`a{1,}|b{1,}`</span><span class="op" id="7772372">,</span>&nbsp;<span class="string" id="7772374">`a+|b+`</span><span class="op" id="7772381">}</span><span class="op" id="7772382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772385">{</span><span class="string" id="7772386">`(?:a{1,})*`</span><span class="op" id="7772398">,</span>&nbsp;<span class="string" id="7772400">`(?:a+)*`</span><span class="op" id="7772409">}</span><span class="op" id="7772410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772413">{</span><span class="string" id="7772414">`(?:a{1,})+`</span><span class="op" id="7772426">,</span>&nbsp;<span class="string" id="7772428">`a+`</span><span class="op" id="7772432">}</span><span class="op" id="7772433">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772436">{</span><span class="string" id="7772437">`(?:a{1,})?`</span><span class="op" id="7772449">,</span>&nbsp;<span class="string" id="7772451">`(?:a+)?`</span><span class="op" id="7772460">}</span><span class="op" id="7772461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772464">{</span><span class="string" id="7772465">``</span><span class="op" id="7772467">,</span>&nbsp;<span class="string" id="7772469">`(?:)`</span><span class="op" id="7772475">}</span><span class="op" id="7772476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772479">{</span><span class="string" id="7772480">`a{0}`</span><span class="op" id="7772486">,</span>&nbsp;<span class="string" id="7772488">`(?:)`</span><span class="op" id="7772494">}</span><span class="op" id="7772495">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7772499">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772534">{</span><span class="string" id="7772535">`[ab]`</span><span class="op" id="7772541">,</span>&nbsp;<span class="string" id="7772543">`[a-b]`</span><span class="op" id="7772550">}</span><span class="op" id="7772551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772554">{</span><span class="string" id="7772555">`[a-za-za-z]`</span><span class="op" id="7772568">,</span>&nbsp;<span class="string" id="7772570">`[a-z]`</span><span class="op" id="7772577">}</span><span class="op" id="7772578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772581">{</span><span class="string" id="7772582">`[A-Za-zA-Za-z]`</span><span class="op" id="7772598">,</span>&nbsp;<span class="string" id="7772600">`[A-Za-z]`</span><span class="op" id="7772610">}</span><span class="op" id="7772611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772614">{</span><span class="string" id="7772615">`[ABCDEFGH]`</span><span class="op" id="7772627">,</span>&nbsp;<span class="string" id="7772629">`[A-H]`</span><span class="op" id="7772636">}</span><span class="op" id="7772637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772640">{</span><span class="string" id="7772641">`[AB-CD-EF-GH]`</span><span class="op" id="7772656">,</span>&nbsp;<span class="string" id="7772658">`[A-H]`</span><span class="op" id="7772665">}</span><span class="op" id="7772666">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772669">{</span><span class="string" id="7772670">`[W-ZP-XE-R]`</span><span class="op" id="7772683">,</span>&nbsp;<span class="string" id="7772685">`[E-Z]`</span><span class="op" id="7772692">}</span><span class="op" id="7772693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772696">{</span><span class="string" id="7772697">`[a-ee-gg-m]`</span><span class="op" id="7772710">,</span>&nbsp;<span class="string" id="7772712">`[a-m]`</span><span class="op" id="7772719">}</span><span class="op" id="7772720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772723">{</span><span class="string" id="7772724">`[a-ea-ha-m]`</span><span class="op" id="7772737">,</span>&nbsp;<span class="string" id="7772739">`[a-m]`</span><span class="op" id="7772746">}</span><span class="op" id="7772747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772750">{</span><span class="string" id="7772751">`[a-ma-ha-e]`</span><span class="op" id="7772764">,</span>&nbsp;<span class="string" id="7772766">`[a-m]`</span><span class="op" id="7772773">}</span><span class="op" id="7772774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772777">{</span><span class="string" id="7772778">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="7772794">,</span>&nbsp;<span class="string" id="7772796">`[&nbsp;-~]`</span><span class="op" id="7772803">}</span><span class="op" id="7772804">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7772808">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772836">{</span><span class="string" id="7772837">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="7772861">,</span>&nbsp;<span class="string" id="7772863">`[^\x00-\x{10FFFF}]`</span><span class="op" id="7772883">}</span><span class="op" id="7772884">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7772888">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772915">{</span><span class="string" id="7772916">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="7772939">,</span>&nbsp;<span class="string" id="7772941">`(?s:.)`</span><span class="op" id="7772949">}</span><span class="op" id="7772950">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7772954">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772980">{</span><span class="string" id="7772981">`(?i)A`</span><span class="op" id="7772988">,</span>&nbsp;<span class="string" id="7772990">`(?i:A)`</span><span class="op" id="7772998">}</span><span class="op" id="7772999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773002">{</span><span class="string" id="7773003">`(?i)a`</span><span class="op" id="7773010">,</span>&nbsp;<span class="string" id="7773012">`(?i:A)`</span><span class="op" id="7773020">}</span><span class="op" id="7773021">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773024">{</span><span class="string" id="7773025">`(?i)[A]`</span><span class="op" id="7773034">,</span>&nbsp;<span class="string" id="7773036">`(?i:A)`</span><span class="op" id="7773044">}</span><span class="op" id="7773045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773048">{</span><span class="string" id="7773049">`(?i)[a]`</span><span class="op" id="7773058">,</span>&nbsp;<span class="string" id="7773060">`(?i:A)`</span><span class="op" id="7773068">}</span><span class="op" id="7773069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773072">{</span><span class="string" id="7773073">`(?i)K`</span><span class="op" id="7773080">,</span>&nbsp;<span class="string" id="7773082">`(?i:K)`</span><span class="op" id="7773090">}</span><span class="op" id="7773091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773094">{</span><span class="string" id="7773095">`(?i)k`</span><span class="op" id="7773102">,</span>&nbsp;<span class="string" id="7773104">`(?i:K)`</span><span class="op" id="7773112">}</span><span class="op" id="7773113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773116">{</span><span class="string" id="7773117">`(?i)\x{212a}`</span><span class="op" id="7773131">,</span>&nbsp;<span class="string" id="7773133">&#34;(?i:K)&#34;</span><span class="op" id="7773141">}</span><span class="op" id="7773142">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773145">{</span><span class="string" id="7773146">`(?i)[K]`</span><span class="op" id="7773155">,</span>&nbsp;<span class="string" id="7773157">&#34;[Kk\u212A]&#34;</span><span class="op" id="7773169">}</span><span class="op" id="7773170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773173">{</span><span class="string" id="7773174">`(?i)[k]`</span><span class="op" id="7773183">,</span>&nbsp;<span class="string" id="7773185">&#34;[Kk\u212A]&#34;</span><span class="op" id="7773197">}</span><span class="op" id="7773198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773201">{</span><span class="string" id="7773202">`(?i)[\x{212a}]`</span><span class="op" id="7773218">,</span>&nbsp;<span class="string" id="7773220">&#34;[Kk\u212A]&#34;</span><span class="op" id="7773232">}</span><span class="op" id="7773233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773236">{</span><span class="string" id="7773237">`(?i)[a-z]`</span><span class="op" id="7773248">,</span>&nbsp;<span class="string" id="7773250">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="7773272">}</span><span class="op" id="7773273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773276">{</span><span class="string" id="7773277">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="7773298">,</span>&nbsp;<span class="string" id="7773300">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="7773316">}</span><span class="op" id="7773317">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773320">{</span><span class="string" id="7773321">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="7773344">,</span>&nbsp;<span class="string" id="7773346">`(?s:.)`</span><span class="op" id="7773354">}</span><span class="op" id="7773355">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7773359">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7773401">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7773463">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7773522">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7773584">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7773647">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773698">{</span><span class="string" id="7773699">`(a|b|)`</span><span class="op" id="7773707">,</span>&nbsp;<span class="string" id="7773709">`([a-b]|(?:))`</span><span class="op" id="7773723">}</span><span class="op" id="7773724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773727">{</span><span class="string" id="7773728">`(|)`</span><span class="op" id="7773733">,</span>&nbsp;<span class="string" id="7773735">`()`</span><span class="op" id="7773739">}</span><span class="op" id="7773740">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773743">{</span><span class="string" id="7773744">`a()`</span><span class="op" id="7773749">,</span>&nbsp;<span class="string" id="7773751">`a()`</span><span class="op" id="7773756">}</span><span class="op" id="7773757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773760">{</span><span class="string" id="7773761">`(()|())`</span><span class="op" id="7773770">,</span>&nbsp;<span class="string" id="7773772">`(()|())`</span><span class="op" id="7773781">}</span><span class="op" id="7773782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773785">{</span><span class="string" id="7773786">`(a|)`</span><span class="op" id="7773792">,</span>&nbsp;<span class="string" id="7773794">`(a|(?:))`</span><span class="op" id="7773804">}</span><span class="op" id="7773805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773808">{</span><span class="string" id="7773809">`ab()cd()`</span><span class="op" id="7773819">,</span>&nbsp;<span class="string" id="7773821">`ab()cd()`</span><span class="op" id="7773831">}</span><span class="op" id="7773832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773835">{</span><span class="string" id="7773836">`()`</span><span class="op" id="7773840">,</span>&nbsp;<span class="string" id="7773842">`()`</span><span class="op" id="7773846">}</span><span class="op" id="7773847">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773850">{</span><span class="string" id="7773851">`()*`</span><span class="op" id="7773856">,</span>&nbsp;<span class="string" id="7773858">`()*`</span><span class="op" id="7773863">}</span><span class="op" id="7773864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773867">{</span><span class="string" id="7773868">`()+`</span><span class="op" id="7773873">,</span>&nbsp;<span class="string" id="7773875">`()+`</span><span class="op" id="7773880">}</span><span class="op" id="7773881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773884">{</span><span class="string" id="7773885">`()?`</span><span class="op" id="7773890">,</span>&nbsp;<span class="string" id="7773892">`()?`</span><span class="op" id="7773897">}</span><span class="op" id="7773898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773901">{</span><span class="string" id="7773902">`(){0}`</span><span class="op" id="7773909">,</span>&nbsp;<span class="string" id="7773911">`(?:)`</span><span class="op" id="7773917">}</span><span class="op" id="7773918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773921">{</span><span class="string" id="7773922">`(){1}`</span><span class="op" id="7773929">,</span>&nbsp;<span class="string" id="7773931">`()`</span><span class="op" id="7773935">}</span><span class="op" id="7773936">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773939">{</span><span class="string" id="7773940">`(){1,}`</span><span class="op" id="7773948">,</span>&nbsp;<span class="string" id="7773950">`()+`</span><span class="op" id="7773955">}</span><span class="op" id="7773956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773959">{</span><span class="string" id="7773960">`(){0,2}`</span><span class="op" id="7773969">,</span>&nbsp;<span class="string" id="7773971">`(?:()()?)?`</span><span class="op" id="7773983">}</span><span class="op" id="7773984">,</span><br>
<span class="lineno"></span><span class="op" id="7773986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7773989">func</span>&nbsp;<span class="ident" id="7773994">TestSimplify</span><span class="op" id="7774006">(</span><span class="ident" id="7774007">t</span>&nbsp;<span class="op" id="7774009">*</span><span class="ident" id="7774010">testing</span><span class="op" id="7774017">.</span><span class="ident" id="7774018">T</span><span class="op" id="7774019">)</span>&nbsp;<span class="op" id="7774021">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774024">for</span>&nbsp;<span class="ident" id="7774028">_</span><span class="op" id="7774029">,</span>&nbsp;<span class="ident" id="7774031">tt</span>&nbsp;<span class="op" id="7774034">:=</span>&nbsp;<span class="keyword" id="7774037">range</span>&nbsp;<span class="ident" id="7774043">simplifyTests</span>&nbsp;<span class="op" id="7774057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774061">re</span><span class="op" id="7774063">,</span>&nbsp;<span class="ident" id="7774065">err</span>&nbsp;<span class="op" id="7774069">:=</span>&nbsp;<span class="ident" id="7774072">Parse</span><span class="op" id="7774077">(</span><span class="ident" id="7774078">tt</span><span class="op" id="7774080">.</span><span class="ident" id="7774081">Regexp</span><span class="op" id="7774087">,</span>&nbsp;<span class="ident" id="7774089">MatchNL</span><span class="op" id="7774096">|</span><span class="ident" id="7774097">Perl</span><span class="op" id="7774101">&amp;^</span><span class="ident" id="7774103">OneLine</span><span class="op" id="7774110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774114">if</span>&nbsp;<span class="ident" id="7774117">err</span>&nbsp;<span class="op" id="7774121">!=</span>&nbsp;<span class="ident" id="7774124">nil</span>&nbsp;<span class="op" id="7774128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774133">t</span><span class="op" id="7774134">.</span><span class="ident" id="7774135">Errorf</span><span class="op" id="7774141">(</span><span class="string" id="7774142">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="7774165">,</span>&nbsp;<span class="ident" id="7774167">tt</span><span class="op" id="7774169">.</span><span class="ident" id="7774170">Regexp</span><span class="op" id="7774176">,</span>&nbsp;<span class="ident" id="7774178">err</span><span class="op" id="7774181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774186">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774201">s</span>&nbsp;<span class="op" id="7774203">:=</span>&nbsp;<span class="ident" id="7774206">re</span><span class="op" id="7774208">.</span><span class="ident" id="7774209">Simplify</span><span class="op" id="7774217">(</span><span class="op" id="7774218">)</span><span class="op" id="7774219">.</span><span class="ident" id="7774220">String</span><span class="op" id="7774226">(</span><span class="op" id="7774227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774231">if</span>&nbsp;<span class="ident" id="7774234">s</span>&nbsp;<span class="op" id="7774236">!=</span>&nbsp;<span class="ident" id="7774239">tt</span><span class="op" id="7774241">.</span><span class="ident" id="7774242">Simple</span>&nbsp;<span class="op" id="7774249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774254">t</span><span class="op" id="7774255">.</span><span class="ident" id="7774256">Errorf</span><span class="op" id="7774262">(</span><span class="string" id="7774263">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7774294">,</span>&nbsp;<span class="ident" id="7774296">tt</span><span class="op" id="7774298">.</span><span class="ident" id="7774299">Regexp</span><span class="op" id="7774305">,</span>&nbsp;<span class="ident" id="7774307">s</span><span class="op" id="7774308">,</span>&nbsp;<span class="ident" id="7774310">tt</span><span class="op" id="7774312">.</span><span class="ident" id="7774313">Simple</span><span class="op" id="7774319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774323">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774326">}</span><br>
<span class="lineno"></span><span class="op" id="7774328">}</span>
</div>
</body>
</html>
