<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6568134">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6568190">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6568244">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6568295">//&nbsp;Export&nbsp;guts&nbsp;for&nbsp;testing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6568324">package</span>&nbsp;<span class="ident" id="6568332">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6568341">import</span>&nbsp;<span class="string" id="6568348">&#34;unsafe&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6568358">var</span>&nbsp;<span class="ident" id="6568362">Fadd64</span>&nbsp;<span class="op" id="6568369">=</span>&nbsp;<span class="ident" id="6568371">fadd64</span><br>
<span class="lineno"></span><span class="keyword" id="6568378">var</span>&nbsp;<span class="ident" id="6568382">Fsub64</span>&nbsp;<span class="op" id="6568389">=</span>&nbsp;<span class="ident" id="6568391">fsub64</span><br>
<span class="lineno"></span><span class="keyword" id="6568398">var</span>&nbsp;<span class="ident" id="6568402">Fmul64</span>&nbsp;<span class="op" id="6568409">=</span>&nbsp;<span class="ident" id="6568411">fmul64</span><br>
<span class="lineno"></span><span class="keyword" id="6568418">var</span>&nbsp;<span class="ident" id="6568422">Fdiv64</span>&nbsp;<span class="op" id="6568429">=</span>&nbsp;<span class="ident" id="6568431">fdiv64</span><br>
<span class="lineno">15</span><span class="keyword" id="6568438">var</span>&nbsp;<span class="ident" id="6568442">F64to32</span>&nbsp;<span class="op" id="6568450">=</span>&nbsp;<span class="ident" id="6568452">f64to32</span><br>
<span class="lineno"></span><span class="keyword" id="6568460">var</span>&nbsp;<span class="ident" id="6568464">F32to64</span>&nbsp;<span class="op" id="6568472">=</span>&nbsp;<span class="ident" id="6568474">f32to64</span><br>
<span class="lineno"></span><span class="keyword" id="6568482">var</span>&nbsp;<span class="ident" id="6568486">Fcmp64</span>&nbsp;<span class="op" id="6568493">=</span>&nbsp;<span class="ident" id="6568495">fcmp64</span><br>
<span class="lineno"></span><span class="keyword" id="6568502">var</span>&nbsp;<span class="ident" id="6568506">Fintto64</span>&nbsp;<span class="op" id="6568515">=</span>&nbsp;<span class="ident" id="6568517">fintto64</span><br>
<span class="lineno"></span><span class="keyword" id="6568526">var</span>&nbsp;<span class="ident" id="6568530">F64toint</span>&nbsp;<span class="op" id="6568539">=</span>&nbsp;<span class="ident" id="6568541">f64toint</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6568551">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="6568565">func</span>&nbsp;<span class="ident" id="6568570">stackguard</span><span class="op" id="6568580">(</span><span class="op" id="6568581">)</span>&nbsp;<span class="op" id="6568583">(</span><span class="ident" id="6568584">sp</span><span class="op" id="6568586">,</span>&nbsp;<span class="ident" id="6568588">limit</span>&nbsp;<span class="builtintype" id="6568594">uintptr</span><span class="op" id="6568601">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6568604">var</span>&nbsp;<span class="ident" id="6568608">Entersyscall</span>&nbsp;<span class="op" id="6568621">=</span>&nbsp;<span class="ident" id="6568623">entersyscall</span><br>
<span class="lineno">25</span><span class="keyword" id="6568636">var</span>&nbsp;<span class="ident" id="6568640">Exitsyscall</span>&nbsp;<span class="op" id="6568652">=</span>&nbsp;<span class="ident" id="6568654">exitsyscall</span><br>
<span class="lineno"></span><span class="keyword" id="6568666">var</span>&nbsp;<span class="ident" id="6568670">LockedOSThread</span>&nbsp;<span class="op" id="6568685">=</span>&nbsp;<span class="ident" id="6568687">lockedOSThread</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6568703">type</span>&nbsp;<span class="ident" id="6568708">LFNode</span>&nbsp;<span class="keyword" id="6568715">struct</span>&nbsp;<span class="op" id="6568722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6568725">Next</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6568733">*</span><span class="ident" id="6568734">LFNode</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6568742">Pushcnt</span>&nbsp;<span class="builtintype" id="6568750">uintptr</span><br>
<span class="lineno"></span><span class="op" id="6568758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6568761">func</span>&nbsp;<span class="ident" id="6568766">lfstackpush_m</span><span class="op" id="6568779">(</span><span class="op" id="6568780">)</span><br>
<span class="lineno"></span><span class="keyword" id="6568782">func</span>&nbsp;<span class="ident" id="6568787">lfstackpop_m</span><span class="op" id="6568799">(</span><span class="op" id="6568800">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="6568803">func</span>&nbsp;<span class="ident" id="6568808">LFStackPush</span><span class="op" id="6568819">(</span><span class="ident" id="6568820">head</span>&nbsp;<span class="op" id="6568825">*</span><span class="ident" id="6568826">uint64</span><span class="op" id="6568832">,</span>&nbsp;<span class="ident" id="6568834">node</span>&nbsp;<span class="op" id="6568839">*</span><span class="ident" id="6568840">LFNode</span><span class="op" id="6568846">)</span>&nbsp;<span class="op" id="6568848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6568851">mp</span>&nbsp;<span class="op" id="6568854">:=</span>&nbsp;<span class="ident" id="6568857">acquirem</span><span class="op" id="6568865">(</span><span class="op" id="6568866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6568869">mp</span><span class="op" id="6568871">.</span><span class="ident" id="6568872">ptrarg</span><span class="op" id="6568878">[</span><span class="num" id="6568879">0</span><span class="op" id="6568880">]</span>&nbsp;<span class="op" id="6568882">=</span>&nbsp;<span class="ident" id="6568884">unsafe</span><span class="op" id="6568890">.</span><span class="ident" id="6568891">Pointer</span><span class="op" id="6568898">(</span><span class="ident" id="6568899">head</span><span class="op" id="6568903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6568906">mp</span><span class="op" id="6568908">.</span><span class="ident" id="6568909">ptrarg</span><span class="op" id="6568915">[</span><span class="num" id="6568916">1</span><span class="op" id="6568917">]</span>&nbsp;<span class="op" id="6568919">=</span>&nbsp;<span class="ident" id="6568921">unsafe</span><span class="op" id="6568927">.</span><span class="ident" id="6568928">Pointer</span><span class="op" id="6568935">(</span><span class="ident" id="6568936">node</span><span class="op" id="6568940">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6568943">onM</span><span class="op" id="6568946">(</span><span class="ident" id="6568947">lfstackpush_m</span><span class="op" id="6568960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6568963">releasem</span><span class="op" id="6568971">(</span><span class="ident" id="6568972">mp</span><span class="op" id="6568974">)</span><br>
<span class="lineno"></span><span class="op" id="6568976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6568979">func</span>&nbsp;<span class="ident" id="6568984">LFStackPop</span><span class="op" id="6568994">(</span><span class="ident" id="6568995">head</span>&nbsp;<span class="op" id="6569000">*</span><span class="ident" id="6569001">uint64</span><span class="op" id="6569007">)</span>&nbsp;<span class="op" id="6569009">*</span><span class="ident" id="6569010">LFNode</span>&nbsp;<span class="op" id="6569017">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569020">mp</span>&nbsp;<span class="op" id="6569023">:=</span>&nbsp;<span class="ident" id="6569026">acquirem</span><span class="op" id="6569034">(</span><span class="op" id="6569035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569038">mp</span><span class="op" id="6569040">.</span><span class="ident" id="6569041">ptrarg</span><span class="op" id="6569047">[</span><span class="num" id="6569048">0</span><span class="op" id="6569049">]</span>&nbsp;<span class="op" id="6569051">=</span>&nbsp;<span class="ident" id="6569053">unsafe</span><span class="op" id="6569059">.</span><span class="ident" id="6569060">Pointer</span><span class="op" id="6569067">(</span><span class="ident" id="6569068">head</span><span class="op" id="6569072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569075">onM</span><span class="op" id="6569078">(</span><span class="ident" id="6569079">lfstackpop_m</span><span class="op" id="6569091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569094">node</span>&nbsp;<span class="op" id="6569099">:=</span>&nbsp;<span class="op" id="6569102">(</span><span class="op" id="6569103">*</span><span class="ident" id="6569104">LFNode</span><span class="op" id="6569110">)</span><span class="op" id="6569111">(</span><span class="ident" id="6569112">unsafe</span><span class="op" id="6569118">.</span><span class="ident" id="6569119">Pointer</span><span class="op" id="6569126">(</span><span class="ident" id="6569127">mp</span><span class="op" id="6569129">.</span><span class="ident" id="6569130">ptrarg</span><span class="op" id="6569136">[</span><span class="num" id="6569137">0</span><span class="op" id="6569138">]</span><span class="op" id="6569139">)</span><span class="op" id="6569140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569143">mp</span><span class="op" id="6569145">.</span><span class="ident" id="6569146">ptrarg</span><span class="op" id="6569152">[</span><span class="num" id="6569153">0</span><span class="op" id="6569154">]</span>&nbsp;<span class="op" id="6569156">=</span>&nbsp;<span class="ident" id="6569158">nil</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569163">releasem</span><span class="op" id="6569171">(</span><span class="ident" id="6569172">mp</span><span class="op" id="6569174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6569177">return</span>&nbsp;<span class="ident" id="6569184">node</span><br>
<span class="lineno"></span><span class="op" id="6569189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6569192">type</span>&nbsp;<span class="ident" id="6569197">ParFor</span>&nbsp;<span class="keyword" id="6569204">struct</span>&nbsp;<span class="op" id="6569211">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569214">body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6569222">*</span><span class="builtintype" id="6569223">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569229">done</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6569237">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569245">Nthr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6569253">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569261">nthrmax</span>&nbsp;<span class="builtintype" id="6569269">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569277">thrseq</span>&nbsp;&nbsp;<span class="builtintype" id="6569285">uint32</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569293">Cnt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6569301">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569309">Ctx</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6569317">*</span><span class="builtintype" id="6569318">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569324">wait</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6569332">bool</span><br>
<span class="lineno"></span><span class="op" id="6569337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="6569340">func</span>&nbsp;<span class="ident" id="6569345">newparfor_m</span><span class="op" id="6569356">(</span><span class="op" id="6569357">)</span><br>
<span class="lineno"></span><span class="keyword" id="6569359">func</span>&nbsp;<span class="ident" id="6569364">parforsetup_m</span><span class="op" id="6569377">(</span><span class="op" id="6569378">)</span><br>
<span class="lineno"></span><span class="keyword" id="6569380">func</span>&nbsp;<span class="ident" id="6569385">parfordo_m</span><span class="op" id="6569395">(</span><span class="op" id="6569396">)</span><br>
<span class="lineno"></span><span class="keyword" id="6569398">func</span>&nbsp;<span class="ident" id="6569403">parforiters_m</span><span class="op" id="6569416">(</span><span class="op" id="6569417">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="6569420">func</span>&nbsp;<span class="ident" id="6569425">NewParFor</span><span class="op" id="6569434">(</span><span class="ident" id="6569435">nthrmax</span>&nbsp;<span class="builtintype" id="6569443">uint32</span><span class="op" id="6569449">)</span>&nbsp;<span class="op" id="6569451">*</span><span class="ident" id="6569452">ParFor</span>&nbsp;<span class="op" id="6569459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569462">mp</span>&nbsp;<span class="op" id="6569465">:=</span>&nbsp;<span class="ident" id="6569468">acquirem</span><span class="op" id="6569476">(</span><span class="op" id="6569477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569480">mp</span><span class="op" id="6569482">.</span><span class="ident" id="6569483">scalararg</span><span class="op" id="6569492">[</span><span class="num" id="6569493">0</span><span class="op" id="6569494">]</span>&nbsp;<span class="op" id="6569496">=</span>&nbsp;<span class="builtintype" id="6569498">uintptr</span><span class="op" id="6569505">(</span><span class="ident" id="6569506">nthrmax</span><span class="op" id="6569513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569516">onM</span><span class="op" id="6569519">(</span><span class="ident" id="6569520">newparfor_m</span><span class="op" id="6569531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569534">desc</span>&nbsp;<span class="op" id="6569539">:=</span>&nbsp;<span class="op" id="6569542">(</span><span class="op" id="6569543">*</span><span class="ident" id="6569544">ParFor</span><span class="op" id="6569550">)</span><span class="op" id="6569551">(</span><span class="ident" id="6569552">mp</span><span class="op" id="6569554">.</span><span class="ident" id="6569555">ptrarg</span><span class="op" id="6569561">[</span><span class="num" id="6569562">0</span><span class="op" id="6569563">]</span><span class="op" id="6569564">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569567">mp</span><span class="op" id="6569569">.</span><span class="ident" id="6569570">ptrarg</span><span class="op" id="6569576">[</span><span class="num" id="6569577">0</span><span class="op" id="6569578">]</span>&nbsp;<span class="op" id="6569580">=</span>&nbsp;<span class="ident" id="6569582">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569587">releasem</span><span class="op" id="6569595">(</span><span class="ident" id="6569596">mp</span><span class="op" id="6569598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6569601">return</span>&nbsp;<span class="ident" id="6569608">desc</span><br>
<span class="lineno"></span><span class="op" id="6569613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="6569616">func</span>&nbsp;<span class="ident" id="6569621">ParForSetup</span><span class="op" id="6569632">(</span><span class="ident" id="6569633">desc</span>&nbsp;<span class="op" id="6569638">*</span><span class="ident" id="6569639">ParFor</span><span class="op" id="6569645">,</span>&nbsp;<span class="ident" id="6569647">nthr</span><span class="op" id="6569651">,</span>&nbsp;<span class="ident" id="6569653">n</span>&nbsp;<span class="builtintype" id="6569655">uint32</span><span class="op" id="6569661">,</span>&nbsp;<span class="ident" id="6569663">ctx</span>&nbsp;<span class="op" id="6569667">*</span><span class="builtintype" id="6569668">byte</span><span class="op" id="6569672">,</span>&nbsp;<span class="ident" id="6569674">wait</span>&nbsp;<span class="builtintype" id="6569679">bool</span><span class="op" id="6569683">,</span>&nbsp;<span class="ident" id="6569685">body</span>&nbsp;<span class="keyword" id="6569690">func</span><span class="op" id="6569694">(</span><span class="op" id="6569695">*</span><span class="ident" id="6569696">ParFor</span><span class="op" id="6569702">,</span>&nbsp;<span class="builtintype" id="6569704">uint32</span><span class="op" id="6569710">)</span><span class="op" id="6569711">)</span>&nbsp;<span class="op" id="6569713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569716">mp</span>&nbsp;<span class="op" id="6569719">:=</span>&nbsp;<span class="ident" id="6569722">acquirem</span><span class="op" id="6569730">(</span><span class="op" id="6569731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569734">mp</span><span class="op" id="6569736">.</span><span class="ident" id="6569737">ptrarg</span><span class="op" id="6569743">[</span><span class="num" id="6569744">0</span><span class="op" id="6569745">]</span>&nbsp;<span class="op" id="6569747">=</span>&nbsp;<span class="ident" id="6569749">unsafe</span><span class="op" id="6569755">.</span><span class="ident" id="6569756">Pointer</span><span class="op" id="6569763">(</span><span class="ident" id="6569764">desc</span><span class="op" id="6569768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569771">mp</span><span class="op" id="6569773">.</span><span class="ident" id="6569774">ptrarg</span><span class="op" id="6569780">[</span><span class="num" id="6569781">1</span><span class="op" id="6569782">]</span>&nbsp;<span class="op" id="6569784">=</span>&nbsp;<span class="ident" id="6569786">unsafe</span><span class="op" id="6569792">.</span><span class="ident" id="6569793">Pointer</span><span class="op" id="6569800">(</span><span class="ident" id="6569801">ctx</span><span class="op" id="6569804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569807">mp</span><span class="op" id="6569809">.</span><span class="ident" id="6569810">ptrarg</span><span class="op" id="6569816">[</span><span class="num" id="6569817">2</span><span class="op" id="6569818">]</span>&nbsp;<span class="op" id="6569820">=</span>&nbsp;<span class="ident" id="6569822">unsafe</span><span class="op" id="6569828">.</span><span class="ident" id="6569829">Pointer</span><span class="op" id="6569836">(</span><span class="ident" id="6569837">funcPC</span><span class="op" id="6569843">(</span><span class="ident" id="6569844">body</span><span class="op" id="6569848">)</span><span class="op" id="6569849">)</span>&nbsp;<span class="comment" id="6569851">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;be&nbsp;a&nbsp;scalar.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569886">mp</span><span class="op" id="6569888">.</span><span class="ident" id="6569889">scalararg</span><span class="op" id="6569898">[</span><span class="num" id="6569899">0</span><span class="op" id="6569900">]</span>&nbsp;<span class="op" id="6569902">=</span>&nbsp;<span class="builtintype" id="6569904">uintptr</span><span class="op" id="6569911">(</span><span class="ident" id="6569912">nthr</span><span class="op" id="6569916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569919">mp</span><span class="op" id="6569921">.</span><span class="ident" id="6569922">scalararg</span><span class="op" id="6569931">[</span><span class="num" id="6569932">1</span><span class="op" id="6569933">]</span>&nbsp;<span class="op" id="6569935">=</span>&nbsp;<span class="builtintype" id="6569937">uintptr</span><span class="op" id="6569944">(</span><span class="ident" id="6569945">n</span><span class="op" id="6569946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569949">mp</span><span class="op" id="6569951">.</span><span class="ident" id="6569952">scalararg</span><span class="op" id="6569961">[</span><span class="num" id="6569962">2</span><span class="op" id="6569963">]</span>&nbsp;<span class="op" id="6569965">=</span>&nbsp;<span class="num" id="6569967">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6569970">if</span>&nbsp;<span class="ident" id="6569973">wait</span>&nbsp;<span class="op" id="6569978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6569982">mp</span><span class="op" id="6569984">.</span><span class="ident" id="6569985">scalararg</span><span class="op" id="6569994">[</span><span class="num" id="6569995">2</span><span class="op" id="6569996">]</span>&nbsp;<span class="op" id="6569998">=</span>&nbsp;<span class="num" id="6570000">1</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6570003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570006">onM</span><span class="op" id="6570009">(</span><span class="ident" id="6570010">parforsetup_m</span><span class="op" id="6570023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570026">releasem</span><span class="op" id="6570034">(</span><span class="ident" id="6570035">mp</span><span class="op" id="6570037">)</span><br>
<span class="lineno"></span><span class="op" id="6570039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6570042">func</span>&nbsp;<span class="ident" id="6570047">ParForDo</span><span class="op" id="6570055">(</span><span class="ident" id="6570056">desc</span>&nbsp;<span class="op" id="6570061">*</span><span class="ident" id="6570062">ParFor</span><span class="op" id="6570068">)</span>&nbsp;<span class="op" id="6570070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570073">mp</span>&nbsp;<span class="op" id="6570076">:=</span>&nbsp;<span class="ident" id="6570079">acquirem</span><span class="op" id="6570087">(</span><span class="op" id="6570088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570091">mp</span><span class="op" id="6570093">.</span><span class="ident" id="6570094">ptrarg</span><span class="op" id="6570100">[</span><span class="num" id="6570101">0</span><span class="op" id="6570102">]</span>&nbsp;<span class="op" id="6570104">=</span>&nbsp;<span class="ident" id="6570106">unsafe</span><span class="op" id="6570112">.</span><span class="ident" id="6570113">Pointer</span><span class="op" id="6570120">(</span><span class="ident" id="6570121">desc</span><span class="op" id="6570125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570128">onM</span><span class="op" id="6570131">(</span><span class="ident" id="6570132">parfordo_m</span><span class="op" id="6570142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570145">releasem</span><span class="op" id="6570153">(</span><span class="ident" id="6570154">mp</span><span class="op" id="6570156">)</span><br>
<span class="lineno">100</span><span class="op" id="6570158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6570161">func</span>&nbsp;<span class="ident" id="6570166">ParForIters</span><span class="op" id="6570177">(</span><span class="ident" id="6570178">desc</span>&nbsp;<span class="op" id="6570183">*</span><span class="ident" id="6570184">ParFor</span><span class="op" id="6570190">,</span>&nbsp;<span class="ident" id="6570192">tid</span>&nbsp;<span class="builtintype" id="6570196">uint32</span><span class="op" id="6570202">)</span>&nbsp;<span class="op" id="6570204">(</span><span class="builtintype" id="6570205">uint32</span><span class="op" id="6570211">,</span>&nbsp;<span class="builtintype" id="6570213">uint32</span><span class="op" id="6570219">)</span>&nbsp;<span class="op" id="6570221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570224">mp</span>&nbsp;<span class="op" id="6570227">:=</span>&nbsp;<span class="ident" id="6570230">acquirem</span><span class="op" id="6570238">(</span><span class="op" id="6570239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570242">mp</span><span class="op" id="6570244">.</span><span class="ident" id="6570245">ptrarg</span><span class="op" id="6570251">[</span><span class="num" id="6570252">0</span><span class="op" id="6570253">]</span>&nbsp;<span class="op" id="6570255">=</span>&nbsp;<span class="ident" id="6570257">unsafe</span><span class="op" id="6570263">.</span><span class="ident" id="6570264">Pointer</span><span class="op" id="6570271">(</span><span class="ident" id="6570272">desc</span><span class="op" id="6570276">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570279">mp</span><span class="op" id="6570281">.</span><span class="ident" id="6570282">scalararg</span><span class="op" id="6570291">[</span><span class="num" id="6570292">0</span><span class="op" id="6570293">]</span>&nbsp;<span class="op" id="6570295">=</span>&nbsp;<span class="builtintype" id="6570297">uintptr</span><span class="op" id="6570304">(</span><span class="ident" id="6570305">tid</span><span class="op" id="6570308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570311">onM</span><span class="op" id="6570314">(</span><span class="ident" id="6570315">parforiters_m</span><span class="op" id="6570328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570331">begin</span>&nbsp;<span class="op" id="6570337">:=</span>&nbsp;<span class="builtintype" id="6570340">uint32</span><span class="op" id="6570346">(</span><span class="ident" id="6570347">mp</span><span class="op" id="6570349">.</span><span class="ident" id="6570350">scalararg</span><span class="op" id="6570359">[</span><span class="num" id="6570360">0</span><span class="op" id="6570361">]</span><span class="op" id="6570362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570365">end</span>&nbsp;<span class="op" id="6570369">:=</span>&nbsp;<span class="builtintype" id="6570372">uint32</span><span class="op" id="6570378">(</span><span class="ident" id="6570379">mp</span><span class="op" id="6570381">.</span><span class="ident" id="6570382">scalararg</span><span class="op" id="6570391">[</span><span class="num" id="6570392">1</span><span class="op" id="6570393">]</span><span class="op" id="6570394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570397">releasem</span><span class="op" id="6570405">(</span><span class="ident" id="6570406">mp</span><span class="op" id="6570408">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6570411">return</span>&nbsp;<span class="ident" id="6570418">begin</span><span class="op" id="6570423">,</span>&nbsp;<span class="ident" id="6570425">end</span><br>
<span class="lineno"></span><span class="op" id="6570429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6570432">//&nbsp;in&nbsp;mgc0.c</span><br>
<span class="lineno"></span><span class="comment" id="6570445">//go:noescape</span><br>
<span class="lineno">115</span><span class="keyword" id="6570459">func</span>&nbsp;<span class="ident" id="6570464">getgcmask</span><span class="op" id="6570473">(</span><span class="ident" id="6570474">data</span>&nbsp;<span class="ident" id="6570479">unsafe</span><span class="op" id="6570485">.</span><span class="ident" id="6570486">Pointer</span><span class="op" id="6570493">,</span>&nbsp;<span class="ident" id="6570495">typ</span>&nbsp;<span class="op" id="6570499">*</span><span class="ident" id="6570500">_type</span><span class="op" id="6570505">,</span>&nbsp;<span class="ident" id="6570507">array</span>&nbsp;<span class="op" id="6570513">*</span><span class="op" id="6570514">*</span><span class="builtintype" id="6570515">byte</span><span class="op" id="6570519">,</span>&nbsp;<span class="builtinfunc" id="6570521">len</span>&nbsp;<span class="op" id="6570525">*</span><span class="builtintype" id="6570526">uint</span><span class="op" id="6570530">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6570533">func</span>&nbsp;<span class="ident" id="6570538">GCMask</span><span class="op" id="6570544">(</span><span class="ident" id="6570545">x</span>&nbsp;<span class="keyword" id="6570547">interface</span><span class="op" id="6570556">{</span><span class="op" id="6570557">}</span><span class="op" id="6570558">)</span>&nbsp;<span class="op" id="6570560">(</span><span class="ident" id="6570561">ret</span>&nbsp;<span class="op" id="6570565">[</span><span class="op" id="6570566">]</span><span class="builtintype" id="6570567">byte</span><span class="op" id="6570571">)</span>&nbsp;<span class="op" id="6570573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570576">e</span>&nbsp;<span class="op" id="6570578">:=</span>&nbsp;<span class="op" id="6570581">(</span><span class="op" id="6570582">*</span><span class="ident" id="6570583">eface</span><span class="op" id="6570588">)</span><span class="op" id="6570589">(</span><span class="ident" id="6570590">unsafe</span><span class="op" id="6570596">.</span><span class="ident" id="6570597">Pointer</span><span class="op" id="6570604">(</span><span class="op" id="6570605">&amp;</span><span class="ident" id="6570606">x</span><span class="op" id="6570607">)</span><span class="op" id="6570608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570611">s</span>&nbsp;<span class="op" id="6570613">:=</span>&nbsp;<span class="op" id="6570616">(</span><span class="op" id="6570617">*</span><span class="ident" id="6570618">slice</span><span class="op" id="6570623">)</span><span class="op" id="6570624">(</span><span class="ident" id="6570625">unsafe</span><span class="op" id="6570631">.</span><span class="ident" id="6570632">Pointer</span><span class="op" id="6570639">(</span><span class="op" id="6570640">&amp;</span><span class="ident" id="6570641">ret</span><span class="op" id="6570644">)</span><span class="op" id="6570645">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570648">onM</span><span class="op" id="6570651">(</span><span class="keyword" id="6570652">func</span><span class="op" id="6570656">(</span><span class="op" id="6570657">)</span>&nbsp;<span class="op" id="6570659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570663">getgcmask</span><span class="op" id="6570672">(</span><span class="ident" id="6570673">e</span><span class="op" id="6570674">.</span><span class="ident" id="6570675">data</span><span class="op" id="6570679">,</span>&nbsp;<span class="ident" id="6570681">e</span><span class="op" id="6570682">.</span><span class="ident" id="6570683">_type</span><span class="op" id="6570688">,</span>&nbsp;<span class="op" id="6570690">&amp;</span><span class="ident" id="6570691">s</span><span class="op" id="6570692">.</span><span class="ident" id="6570693">array</span><span class="op" id="6570698">,</span>&nbsp;<span class="op" id="6570700">&amp;</span><span class="ident" id="6570701">s</span><span class="op" id="6570702">.</span><span class="builtinfunc" id="6570703">len</span><span class="op" id="6570706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570710">s</span><span class="op" id="6570711">.</span><span class="builtinfunc" id="6570712">cap</span>&nbsp;<span class="op" id="6570716">=</span>&nbsp;<span class="ident" id="6570718">s</span><span class="op" id="6570719">.</span><span class="builtinfunc" id="6570720">len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6570725">}</span><span class="op" id="6570726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6570729">return</span><br>
<span class="lineno">125</span><span class="op" id="6570736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6570739">func</span>&nbsp;<span class="ident" id="6570744">testSchedLocalQueue</span><span class="op" id="6570763">(</span><span class="op" id="6570764">)</span><br>
<span class="lineno"></span><span class="keyword" id="6570766">func</span>&nbsp;<span class="ident" id="6570771">testSchedLocalQueueSteal</span><span class="op" id="6570795">(</span><span class="op" id="6570796">)</span><br>
<span class="lineno"></span><span class="keyword" id="6570798">func</span>&nbsp;<span class="ident" id="6570803">RunSchedLocalQueueTest</span><span class="op" id="6570825">(</span><span class="op" id="6570826">)</span>&nbsp;<span class="op" id="6570828">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570831">onM</span><span class="op" id="6570834">(</span><span class="ident" id="6570835">testSchedLocalQueue</span><span class="op" id="6570854">)</span><br>
<span class="lineno"></span><span class="op" id="6570856">}</span><br>
<span class="lineno"></span><span class="keyword" id="6570858">func</span>&nbsp;<span class="ident" id="6570863">RunSchedLocalQueueStealTest</span><span class="op" id="6570890">(</span><span class="op" id="6570891">)</span>&nbsp;<span class="op" id="6570893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6570896">onM</span><span class="op" id="6570899">(</span><span class="ident" id="6570900">testSchedLocalQueueSteal</span><span class="op" id="6570924">)</span><br>
<span class="lineno"></span><span class="op" id="6570926">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="6570929">var</span>&nbsp;<span class="ident" id="6570933">HaveGoodHash</span>&nbsp;<span class="op" id="6570946">=</span>&nbsp;<span class="ident" id="6570948">haveGoodHash</span><br>
<span class="lineno"></span><span class="keyword" id="6570961">var</span>&nbsp;<span class="ident" id="6570965">StringHash</span>&nbsp;<span class="op" id="6570976">=</span>&nbsp;<span class="ident" id="6570978">stringHash</span><br>
<span class="lineno"></span><span class="keyword" id="6570989">var</span>&nbsp;<span class="ident" id="6570993">BytesHash</span>&nbsp;<span class="op" id="6571003">=</span>&nbsp;<span class="ident" id="6571005">bytesHash</span><br>
<span class="lineno"></span><span class="keyword" id="6571015">var</span>&nbsp;<span class="ident" id="6571019">Int32Hash</span>&nbsp;<span class="op" id="6571029">=</span>&nbsp;<span class="ident" id="6571031">int32Hash</span><br>
<span class="lineno">140</span><span class="keyword" id="6571041">var</span>&nbsp;<span class="ident" id="6571045">Int64Hash</span>&nbsp;<span class="op" id="6571055">=</span>&nbsp;<span class="ident" id="6571057">int64Hash</span><br>
<span class="lineno"></span><span class="keyword" id="6571067">var</span>&nbsp;<span class="ident" id="6571071">EfaceHash</span>&nbsp;<span class="op" id="6571081">=</span>&nbsp;<span class="ident" id="6571083">efaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="6571093">var</span>&nbsp;<span class="ident" id="6571097">IfaceHash</span>&nbsp;<span class="op" id="6571107">=</span>&nbsp;<span class="ident" id="6571109">ifaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="6571119">var</span>&nbsp;<span class="ident" id="6571123">MemclrBytes</span>&nbsp;<span class="op" id="6571135">=</span>&nbsp;<span class="ident" id="6571137">memclrBytes</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="6571150">var</span>&nbsp;<span class="ident" id="6571154">HashLoad</span>&nbsp;<span class="op" id="6571163">=</span>&nbsp;<span class="op" id="6571165">&amp;</span><span class="ident" id="6571166">hashLoad</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6571176">//&nbsp;For&nbsp;testing.</span><br>
<span class="lineno"></span><span class="keyword" id="6571192">func</span>&nbsp;<span class="ident" id="6571197">GogoBytes</span><span class="op" id="6571206">(</span><span class="op" id="6571207">)</span>&nbsp;<span class="builtintype" id="6571209">int32</span>&nbsp;<span class="op" id="6571215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6571218">return</span>&nbsp;<span class="ident" id="6571225">_RuntimeGogoBytes</span><br>
<span class="lineno">150</span><span class="op" id="6571243">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6571246">//&nbsp;in&nbsp;string.c</span><br>
<span class="lineno"></span><span class="comment" id="6571261">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="6571275">func</span>&nbsp;<span class="ident" id="6571280">gostringw</span><span class="op" id="6571289">(</span><span class="ident" id="6571290">w</span>&nbsp;<span class="op" id="6571292">*</span><span class="builtintype" id="6571293">uint16</span><span class="op" id="6571299">)</span>&nbsp;<span class="builtintype" id="6571301">string</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="6571309">//&nbsp;entry&nbsp;point&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="6571336">func</span>&nbsp;<span class="ident" id="6571341">GostringW</span><span class="op" id="6571350">(</span><span class="ident" id="6571351">w</span>&nbsp;<span class="op" id="6571353">[</span><span class="op" id="6571354">]</span><span class="builtintype" id="6571355">uint16</span><span class="op" id="6571361">)</span>&nbsp;<span class="op" id="6571363">(</span><span class="ident" id="6571364">s</span>&nbsp;<span class="builtintype" id="6571366">string</span><span class="op" id="6571372">)</span>&nbsp;<span class="op" id="6571374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571377">onM</span><span class="op" id="6571380">(</span><span class="keyword" id="6571381">func</span><span class="op" id="6571385">(</span><span class="op" id="6571386">)</span>&nbsp;<span class="op" id="6571388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571392">s</span>&nbsp;<span class="op" id="6571394">=</span>&nbsp;<span class="ident" id="6571396">gostringw</span><span class="op" id="6571405">(</span><span class="op" id="6571406">&amp;</span><span class="ident" id="6571407">w</span><span class="op" id="6571408">[</span><span class="num" id="6571409">0</span><span class="op" id="6571410">]</span><span class="op" id="6571411">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6571414">}</span><span class="op" id="6571415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6571418">return</span><br>
<span class="lineno"></span><span class="op" id="6571425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6571428">var</span>&nbsp;<span class="ident" id="6571432">Gostringnocopy</span>&nbsp;<span class="op" id="6571447">=</span>&nbsp;<span class="ident" id="6571449">gostringnocopy</span><br>
<span class="lineno">165</span><span class="keyword" id="6571464">var</span>&nbsp;<span class="ident" id="6571468">Maxstring</span>&nbsp;<span class="op" id="6571478">=</span>&nbsp;<span class="op" id="6571480">&amp;</span><span class="ident" id="6571481">maxstring</span>
</div>
</body>
</html>
