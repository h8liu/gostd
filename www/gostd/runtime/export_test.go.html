<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7373905">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7373961">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7374015">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7374066">//&nbsp;Export&nbsp;guts&nbsp;for&nbsp;testing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7374095">package</span>&nbsp;<span class="ident" id="7374103">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7374112">import</span>&nbsp;<span class="string" id="7374119">&#34;unsafe&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7374129">var</span>&nbsp;<span class="ident" id="7374133">Fadd64</span>&nbsp;<span class="op" id="7374140">=</span>&nbsp;<span class="ident" id="7374142">fadd64</span><br>
<span class="lineno"></span><span class="keyword" id="7374149">var</span>&nbsp;<span class="ident" id="7374153">Fsub64</span>&nbsp;<span class="op" id="7374160">=</span>&nbsp;<span class="ident" id="7374162">fsub64</span><br>
<span class="lineno"></span><span class="keyword" id="7374169">var</span>&nbsp;<span class="ident" id="7374173">Fmul64</span>&nbsp;<span class="op" id="7374180">=</span>&nbsp;<span class="ident" id="7374182">fmul64</span><br>
<span class="lineno"></span><span class="keyword" id="7374189">var</span>&nbsp;<span class="ident" id="7374193">Fdiv64</span>&nbsp;<span class="op" id="7374200">=</span>&nbsp;<span class="ident" id="7374202">fdiv64</span><br>
<span class="lineno">15</span><span class="keyword" id="7374209">var</span>&nbsp;<span class="ident" id="7374213">F64to32</span>&nbsp;<span class="op" id="7374221">=</span>&nbsp;<span class="ident" id="7374223">f64to32</span><br>
<span class="lineno"></span><span class="keyword" id="7374231">var</span>&nbsp;<span class="ident" id="7374235">F32to64</span>&nbsp;<span class="op" id="7374243">=</span>&nbsp;<span class="ident" id="7374245">f32to64</span><br>
<span class="lineno"></span><span class="keyword" id="7374253">var</span>&nbsp;<span class="ident" id="7374257">Fcmp64</span>&nbsp;<span class="op" id="7374264">=</span>&nbsp;<span class="ident" id="7374266">fcmp64</span><br>
<span class="lineno"></span><span class="keyword" id="7374273">var</span>&nbsp;<span class="ident" id="7374277">Fintto64</span>&nbsp;<span class="op" id="7374286">=</span>&nbsp;<span class="ident" id="7374288">fintto64</span><br>
<span class="lineno"></span><span class="keyword" id="7374297">var</span>&nbsp;<span class="ident" id="7374301">F64toint</span>&nbsp;<span class="op" id="7374310">=</span>&nbsp;<span class="ident" id="7374312">f64toint</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7374322">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="7374336">func</span>&nbsp;<span class="ident" id="7374341">stackguard</span><span class="op" id="7374351">(</span><span class="op" id="7374352">)</span>&nbsp;<span class="op" id="7374354">(</span><span class="ident" id="7374355">sp</span><span class="op" id="7374357">,</span>&nbsp;<span class="ident" id="7374359">limit</span>&nbsp;<span class="builtintype" id="7374365">uintptr</span><span class="op" id="7374372">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7374375">var</span>&nbsp;<span class="ident" id="7374379">Entersyscall</span>&nbsp;<span class="op" id="7374392">=</span>&nbsp;<span class="ident" id="7374394">entersyscall</span><br>
<span class="lineno">25</span><span class="keyword" id="7374407">var</span>&nbsp;<span class="ident" id="7374411">Exitsyscall</span>&nbsp;<span class="op" id="7374423">=</span>&nbsp;<span class="ident" id="7374425">exitsyscall</span><br>
<span class="lineno"></span><span class="keyword" id="7374437">var</span>&nbsp;<span class="ident" id="7374441">LockedOSThread</span>&nbsp;<span class="op" id="7374456">=</span>&nbsp;<span class="ident" id="7374458">lockedOSThread</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7374474">type</span>&nbsp;<span class="ident" id="7374479">LFNode</span>&nbsp;<span class="keyword" id="7374486">struct</span>&nbsp;<span class="op" id="7374493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374496">Next</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7374504">*</span><span class="ident" id="7374505">LFNode</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374513">Pushcnt</span>&nbsp;<span class="builtintype" id="7374521">uintptr</span><br>
<span class="lineno"></span><span class="op" id="7374529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7374532">func</span>&nbsp;<span class="ident" id="7374537">lfstackpush_m</span><span class="op" id="7374550">(</span><span class="op" id="7374551">)</span><br>
<span class="lineno"></span><span class="keyword" id="7374553">func</span>&nbsp;<span class="ident" id="7374558">lfstackpop_m</span><span class="op" id="7374570">(</span><span class="op" id="7374571">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="7374574">func</span>&nbsp;<span class="ident" id="7374579">LFStackPush</span><span class="op" id="7374590">(</span><span class="ident" id="7374591">head</span>&nbsp;<span class="op" id="7374596">*</span><span class="ident" id="7374597">uint64</span><span class="op" id="7374603">,</span>&nbsp;<span class="ident" id="7374605">node</span>&nbsp;<span class="op" id="7374610">*</span><span class="ident" id="7374611">LFNode</span><span class="op" id="7374617">)</span>&nbsp;<span class="op" id="7374619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374622">mp</span>&nbsp;<span class="op" id="7374625">:=</span>&nbsp;<span class="ident" id="7374628">acquirem</span><span class="op" id="7374636">(</span><span class="op" id="7374637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374640">mp</span><span class="op" id="7374642">.</span><span class="ident" id="7374643">ptrarg</span><span class="op" id="7374649">[</span><span class="num" id="7374650">0</span><span class="op" id="7374651">]</span>&nbsp;<span class="op" id="7374653">=</span>&nbsp;<span class="ident" id="7374655">unsafe</span><span class="op" id="7374661">.</span><span class="ident" id="7374662">Pointer</span><span class="op" id="7374669">(</span><span class="ident" id="7374670">head</span><span class="op" id="7374674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374677">mp</span><span class="op" id="7374679">.</span><span class="ident" id="7374680">ptrarg</span><span class="op" id="7374686">[</span><span class="num" id="7374687">1</span><span class="op" id="7374688">]</span>&nbsp;<span class="op" id="7374690">=</span>&nbsp;<span class="ident" id="7374692">unsafe</span><span class="op" id="7374698">.</span><span class="ident" id="7374699">Pointer</span><span class="op" id="7374706">(</span><span class="ident" id="7374707">node</span><span class="op" id="7374711">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374714">onM</span><span class="op" id="7374717">(</span><span class="ident" id="7374718">lfstackpush_m</span><span class="op" id="7374731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374734">releasem</span><span class="op" id="7374742">(</span><span class="ident" id="7374743">mp</span><span class="op" id="7374745">)</span><br>
<span class="lineno"></span><span class="op" id="7374747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7374750">func</span>&nbsp;<span class="ident" id="7374755">LFStackPop</span><span class="op" id="7374765">(</span><span class="ident" id="7374766">head</span>&nbsp;<span class="op" id="7374771">*</span><span class="ident" id="7374772">uint64</span><span class="op" id="7374778">)</span>&nbsp;<span class="op" id="7374780">*</span><span class="ident" id="7374781">LFNode</span>&nbsp;<span class="op" id="7374788">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374791">mp</span>&nbsp;<span class="op" id="7374794">:=</span>&nbsp;<span class="ident" id="7374797">acquirem</span><span class="op" id="7374805">(</span><span class="op" id="7374806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374809">mp</span><span class="op" id="7374811">.</span><span class="ident" id="7374812">ptrarg</span><span class="op" id="7374818">[</span><span class="num" id="7374819">0</span><span class="op" id="7374820">]</span>&nbsp;<span class="op" id="7374822">=</span>&nbsp;<span class="ident" id="7374824">unsafe</span><span class="op" id="7374830">.</span><span class="ident" id="7374831">Pointer</span><span class="op" id="7374838">(</span><span class="ident" id="7374839">head</span><span class="op" id="7374843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374846">onM</span><span class="op" id="7374849">(</span><span class="ident" id="7374850">lfstackpop_m</span><span class="op" id="7374862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374865">node</span>&nbsp;<span class="op" id="7374870">:=</span>&nbsp;<span class="op" id="7374873">(</span><span class="op" id="7374874">*</span><span class="ident" id="7374875">LFNode</span><span class="op" id="7374881">)</span><span class="op" id="7374882">(</span><span class="ident" id="7374883">unsafe</span><span class="op" id="7374889">.</span><span class="ident" id="7374890">Pointer</span><span class="op" id="7374897">(</span><span class="ident" id="7374898">mp</span><span class="op" id="7374900">.</span><span class="ident" id="7374901">ptrarg</span><span class="op" id="7374907">[</span><span class="num" id="7374908">0</span><span class="op" id="7374909">]</span><span class="op" id="7374910">)</span><span class="op" id="7374911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374914">mp</span><span class="op" id="7374916">.</span><span class="ident" id="7374917">ptrarg</span><span class="op" id="7374923">[</span><span class="num" id="7374924">0</span><span class="op" id="7374925">]</span>&nbsp;<span class="op" id="7374927">=</span>&nbsp;<span class="ident" id="7374929">nil</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374934">releasem</span><span class="op" id="7374942">(</span><span class="ident" id="7374943">mp</span><span class="op" id="7374945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7374948">return</span>&nbsp;<span class="ident" id="7374955">node</span><br>
<span class="lineno"></span><span class="op" id="7374960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7374963">type</span>&nbsp;<span class="ident" id="7374968">ParFor</span>&nbsp;<span class="keyword" id="7374975">struct</span>&nbsp;<span class="op" id="7374982">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7374985">body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7374993">*</span><span class="builtintype" id="7374994">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375000">done</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7375008">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375016">Nthr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7375024">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375032">nthrmax</span>&nbsp;<span class="builtintype" id="7375040">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375048">thrseq</span>&nbsp;&nbsp;<span class="builtintype" id="7375056">uint32</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375064">Cnt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7375072">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375080">Ctx</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7375088">*</span><span class="builtintype" id="7375089">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375095">wait</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7375103">bool</span><br>
<span class="lineno"></span><span class="op" id="7375108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="7375111">func</span>&nbsp;<span class="ident" id="7375116">newparfor_m</span><span class="op" id="7375127">(</span><span class="op" id="7375128">)</span><br>
<span class="lineno"></span><span class="keyword" id="7375130">func</span>&nbsp;<span class="ident" id="7375135">parforsetup_m</span><span class="op" id="7375148">(</span><span class="op" id="7375149">)</span><br>
<span class="lineno"></span><span class="keyword" id="7375151">func</span>&nbsp;<span class="ident" id="7375156">parfordo_m</span><span class="op" id="7375166">(</span><span class="op" id="7375167">)</span><br>
<span class="lineno"></span><span class="keyword" id="7375169">func</span>&nbsp;<span class="ident" id="7375174">parforiters_m</span><span class="op" id="7375187">(</span><span class="op" id="7375188">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7375191">func</span>&nbsp;<span class="ident" id="7375196">NewParFor</span><span class="op" id="7375205">(</span><span class="ident" id="7375206">nthrmax</span>&nbsp;<span class="builtintype" id="7375214">uint32</span><span class="op" id="7375220">)</span>&nbsp;<span class="op" id="7375222">*</span><span class="ident" id="7375223">ParFor</span>&nbsp;<span class="op" id="7375230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375233">mp</span>&nbsp;<span class="op" id="7375236">:=</span>&nbsp;<span class="ident" id="7375239">acquirem</span><span class="op" id="7375247">(</span><span class="op" id="7375248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375251">mp</span><span class="op" id="7375253">.</span><span class="ident" id="7375254">scalararg</span><span class="op" id="7375263">[</span><span class="num" id="7375264">0</span><span class="op" id="7375265">]</span>&nbsp;<span class="op" id="7375267">=</span>&nbsp;<span class="builtintype" id="7375269">uintptr</span><span class="op" id="7375276">(</span><span class="ident" id="7375277">nthrmax</span><span class="op" id="7375284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375287">onM</span><span class="op" id="7375290">(</span><span class="ident" id="7375291">newparfor_m</span><span class="op" id="7375302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375305">desc</span>&nbsp;<span class="op" id="7375310">:=</span>&nbsp;<span class="op" id="7375313">(</span><span class="op" id="7375314">*</span><span class="ident" id="7375315">ParFor</span><span class="op" id="7375321">)</span><span class="op" id="7375322">(</span><span class="ident" id="7375323">mp</span><span class="op" id="7375325">.</span><span class="ident" id="7375326">ptrarg</span><span class="op" id="7375332">[</span><span class="num" id="7375333">0</span><span class="op" id="7375334">]</span><span class="op" id="7375335">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375338">mp</span><span class="op" id="7375340">.</span><span class="ident" id="7375341">ptrarg</span><span class="op" id="7375347">[</span><span class="num" id="7375348">0</span><span class="op" id="7375349">]</span>&nbsp;<span class="op" id="7375351">=</span>&nbsp;<span class="ident" id="7375353">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375358">releasem</span><span class="op" id="7375366">(</span><span class="ident" id="7375367">mp</span><span class="op" id="7375369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7375372">return</span>&nbsp;<span class="ident" id="7375379">desc</span><br>
<span class="lineno"></span><span class="op" id="7375384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="7375387">func</span>&nbsp;<span class="ident" id="7375392">ParForSetup</span><span class="op" id="7375403">(</span><span class="ident" id="7375404">desc</span>&nbsp;<span class="op" id="7375409">*</span><span class="ident" id="7375410">ParFor</span><span class="op" id="7375416">,</span>&nbsp;<span class="ident" id="7375418">nthr</span><span class="op" id="7375422">,</span>&nbsp;<span class="ident" id="7375424">n</span>&nbsp;<span class="builtintype" id="7375426">uint32</span><span class="op" id="7375432">,</span>&nbsp;<span class="ident" id="7375434">ctx</span>&nbsp;<span class="op" id="7375438">*</span><span class="builtintype" id="7375439">byte</span><span class="op" id="7375443">,</span>&nbsp;<span class="ident" id="7375445">wait</span>&nbsp;<span class="builtintype" id="7375450">bool</span><span class="op" id="7375454">,</span>&nbsp;<span class="ident" id="7375456">body</span>&nbsp;<span class="keyword" id="7375461">func</span><span class="op" id="7375465">(</span><span class="op" id="7375466">*</span><span class="ident" id="7375467">ParFor</span><span class="op" id="7375473">,</span>&nbsp;<span class="builtintype" id="7375475">uint32</span><span class="op" id="7375481">)</span><span class="op" id="7375482">)</span>&nbsp;<span class="op" id="7375484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375487">mp</span>&nbsp;<span class="op" id="7375490">:=</span>&nbsp;<span class="ident" id="7375493">acquirem</span><span class="op" id="7375501">(</span><span class="op" id="7375502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375505">mp</span><span class="op" id="7375507">.</span><span class="ident" id="7375508">ptrarg</span><span class="op" id="7375514">[</span><span class="num" id="7375515">0</span><span class="op" id="7375516">]</span>&nbsp;<span class="op" id="7375518">=</span>&nbsp;<span class="ident" id="7375520">unsafe</span><span class="op" id="7375526">.</span><span class="ident" id="7375527">Pointer</span><span class="op" id="7375534">(</span><span class="ident" id="7375535">desc</span><span class="op" id="7375539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375542">mp</span><span class="op" id="7375544">.</span><span class="ident" id="7375545">ptrarg</span><span class="op" id="7375551">[</span><span class="num" id="7375552">1</span><span class="op" id="7375553">]</span>&nbsp;<span class="op" id="7375555">=</span>&nbsp;<span class="ident" id="7375557">unsafe</span><span class="op" id="7375563">.</span><span class="ident" id="7375564">Pointer</span><span class="op" id="7375571">(</span><span class="ident" id="7375572">ctx</span><span class="op" id="7375575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375578">mp</span><span class="op" id="7375580">.</span><span class="ident" id="7375581">ptrarg</span><span class="op" id="7375587">[</span><span class="num" id="7375588">2</span><span class="op" id="7375589">]</span>&nbsp;<span class="op" id="7375591">=</span>&nbsp;<span class="ident" id="7375593">unsafe</span><span class="op" id="7375599">.</span><span class="ident" id="7375600">Pointer</span><span class="op" id="7375607">(</span><span class="ident" id="7375608">funcPC</span><span class="op" id="7375614">(</span><span class="ident" id="7375615">body</span><span class="op" id="7375619">)</span><span class="op" id="7375620">)</span>&nbsp;<span class="comment" id="7375622">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;be&nbsp;a&nbsp;scalar.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375657">mp</span><span class="op" id="7375659">.</span><span class="ident" id="7375660">scalararg</span><span class="op" id="7375669">[</span><span class="num" id="7375670">0</span><span class="op" id="7375671">]</span>&nbsp;<span class="op" id="7375673">=</span>&nbsp;<span class="builtintype" id="7375675">uintptr</span><span class="op" id="7375682">(</span><span class="ident" id="7375683">nthr</span><span class="op" id="7375687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375690">mp</span><span class="op" id="7375692">.</span><span class="ident" id="7375693">scalararg</span><span class="op" id="7375702">[</span><span class="num" id="7375703">1</span><span class="op" id="7375704">]</span>&nbsp;<span class="op" id="7375706">=</span>&nbsp;<span class="builtintype" id="7375708">uintptr</span><span class="op" id="7375715">(</span><span class="ident" id="7375716">n</span><span class="op" id="7375717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375720">mp</span><span class="op" id="7375722">.</span><span class="ident" id="7375723">scalararg</span><span class="op" id="7375732">[</span><span class="num" id="7375733">2</span><span class="op" id="7375734">]</span>&nbsp;<span class="op" id="7375736">=</span>&nbsp;<span class="num" id="7375738">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7375741">if</span>&nbsp;<span class="ident" id="7375744">wait</span>&nbsp;<span class="op" id="7375749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375753">mp</span><span class="op" id="7375755">.</span><span class="ident" id="7375756">scalararg</span><span class="op" id="7375765">[</span><span class="num" id="7375766">2</span><span class="op" id="7375767">]</span>&nbsp;<span class="op" id="7375769">=</span>&nbsp;<span class="num" id="7375771">1</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7375774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375777">onM</span><span class="op" id="7375780">(</span><span class="ident" id="7375781">parforsetup_m</span><span class="op" id="7375794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375797">releasem</span><span class="op" id="7375805">(</span><span class="ident" id="7375806">mp</span><span class="op" id="7375808">)</span><br>
<span class="lineno"></span><span class="op" id="7375810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7375813">func</span>&nbsp;<span class="ident" id="7375818">ParForDo</span><span class="op" id="7375826">(</span><span class="ident" id="7375827">desc</span>&nbsp;<span class="op" id="7375832">*</span><span class="ident" id="7375833">ParFor</span><span class="op" id="7375839">)</span>&nbsp;<span class="op" id="7375841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375844">mp</span>&nbsp;<span class="op" id="7375847">:=</span>&nbsp;<span class="ident" id="7375850">acquirem</span><span class="op" id="7375858">(</span><span class="op" id="7375859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375862">mp</span><span class="op" id="7375864">.</span><span class="ident" id="7375865">ptrarg</span><span class="op" id="7375871">[</span><span class="num" id="7375872">0</span><span class="op" id="7375873">]</span>&nbsp;<span class="op" id="7375875">=</span>&nbsp;<span class="ident" id="7375877">unsafe</span><span class="op" id="7375883">.</span><span class="ident" id="7375884">Pointer</span><span class="op" id="7375891">(</span><span class="ident" id="7375892">desc</span><span class="op" id="7375896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375899">onM</span><span class="op" id="7375902">(</span><span class="ident" id="7375903">parfordo_m</span><span class="op" id="7375913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375916">releasem</span><span class="op" id="7375924">(</span><span class="ident" id="7375925">mp</span><span class="op" id="7375927">)</span><br>
<span class="lineno">100</span><span class="op" id="7375929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7375932">func</span>&nbsp;<span class="ident" id="7375937">ParForIters</span><span class="op" id="7375948">(</span><span class="ident" id="7375949">desc</span>&nbsp;<span class="op" id="7375954">*</span><span class="ident" id="7375955">ParFor</span><span class="op" id="7375961">,</span>&nbsp;<span class="ident" id="7375963">tid</span>&nbsp;<span class="builtintype" id="7375967">uint32</span><span class="op" id="7375973">)</span>&nbsp;<span class="op" id="7375975">(</span><span class="builtintype" id="7375976">uint32</span><span class="op" id="7375982">,</span>&nbsp;<span class="builtintype" id="7375984">uint32</span><span class="op" id="7375990">)</span>&nbsp;<span class="op" id="7375992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7375995">mp</span>&nbsp;<span class="op" id="7375998">:=</span>&nbsp;<span class="ident" id="7376001">acquirem</span><span class="op" id="7376009">(</span><span class="op" id="7376010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376013">mp</span><span class="op" id="7376015">.</span><span class="ident" id="7376016">ptrarg</span><span class="op" id="7376022">[</span><span class="num" id="7376023">0</span><span class="op" id="7376024">]</span>&nbsp;<span class="op" id="7376026">=</span>&nbsp;<span class="ident" id="7376028">unsafe</span><span class="op" id="7376034">.</span><span class="ident" id="7376035">Pointer</span><span class="op" id="7376042">(</span><span class="ident" id="7376043">desc</span><span class="op" id="7376047">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376050">mp</span><span class="op" id="7376052">.</span><span class="ident" id="7376053">scalararg</span><span class="op" id="7376062">[</span><span class="num" id="7376063">0</span><span class="op" id="7376064">]</span>&nbsp;<span class="op" id="7376066">=</span>&nbsp;<span class="builtintype" id="7376068">uintptr</span><span class="op" id="7376075">(</span><span class="ident" id="7376076">tid</span><span class="op" id="7376079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376082">onM</span><span class="op" id="7376085">(</span><span class="ident" id="7376086">parforiters_m</span><span class="op" id="7376099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376102">begin</span>&nbsp;<span class="op" id="7376108">:=</span>&nbsp;<span class="builtintype" id="7376111">uint32</span><span class="op" id="7376117">(</span><span class="ident" id="7376118">mp</span><span class="op" id="7376120">.</span><span class="ident" id="7376121">scalararg</span><span class="op" id="7376130">[</span><span class="num" id="7376131">0</span><span class="op" id="7376132">]</span><span class="op" id="7376133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376136">end</span>&nbsp;<span class="op" id="7376140">:=</span>&nbsp;<span class="builtintype" id="7376143">uint32</span><span class="op" id="7376149">(</span><span class="ident" id="7376150">mp</span><span class="op" id="7376152">.</span><span class="ident" id="7376153">scalararg</span><span class="op" id="7376162">[</span><span class="num" id="7376163">1</span><span class="op" id="7376164">]</span><span class="op" id="7376165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376168">releasem</span><span class="op" id="7376176">(</span><span class="ident" id="7376177">mp</span><span class="op" id="7376179">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7376182">return</span>&nbsp;<span class="ident" id="7376189">begin</span><span class="op" id="7376194">,</span>&nbsp;<span class="ident" id="7376196">end</span><br>
<span class="lineno"></span><span class="op" id="7376200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7376203">//&nbsp;in&nbsp;mgc0.c</span><br>
<span class="lineno"></span><span class="comment" id="7376216">//go:noescape</span><br>
<span class="lineno">115</span><span class="keyword" id="7376230">func</span>&nbsp;<span class="ident" id="7376235">getgcmask</span><span class="op" id="7376244">(</span><span class="ident" id="7376245">data</span>&nbsp;<span class="ident" id="7376250">unsafe</span><span class="op" id="7376256">.</span><span class="ident" id="7376257">Pointer</span><span class="op" id="7376264">,</span>&nbsp;<span class="ident" id="7376266">typ</span>&nbsp;<span class="op" id="7376270">*</span><span class="ident" id="7376271">_type</span><span class="op" id="7376276">,</span>&nbsp;<span class="ident" id="7376278">array</span>&nbsp;<span class="op" id="7376284">*</span><span class="op" id="7376285">*</span><span class="builtintype" id="7376286">byte</span><span class="op" id="7376290">,</span>&nbsp;<span class="builtinfunc" id="7376292">len</span>&nbsp;<span class="op" id="7376296">*</span><span class="builtintype" id="7376297">uint</span><span class="op" id="7376301">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7376304">func</span>&nbsp;<span class="ident" id="7376309">GCMask</span><span class="op" id="7376315">(</span><span class="ident" id="7376316">x</span>&nbsp;<span class="keyword" id="7376318">interface</span><span class="op" id="7376327">{</span><span class="op" id="7376328">}</span><span class="op" id="7376329">)</span>&nbsp;<span class="op" id="7376331">(</span><span class="ident" id="7376332">ret</span>&nbsp;<span class="op" id="7376336">[</span><span class="op" id="7376337">]</span><span class="builtintype" id="7376338">byte</span><span class="op" id="7376342">)</span>&nbsp;<span class="op" id="7376344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376347">e</span>&nbsp;<span class="op" id="7376349">:=</span>&nbsp;<span class="op" id="7376352">(</span><span class="op" id="7376353">*</span><span class="ident" id="7376354">eface</span><span class="op" id="7376359">)</span><span class="op" id="7376360">(</span><span class="ident" id="7376361">unsafe</span><span class="op" id="7376367">.</span><span class="ident" id="7376368">Pointer</span><span class="op" id="7376375">(</span><span class="op" id="7376376">&amp;</span><span class="ident" id="7376377">x</span><span class="op" id="7376378">)</span><span class="op" id="7376379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376382">s</span>&nbsp;<span class="op" id="7376384">:=</span>&nbsp;<span class="op" id="7376387">(</span><span class="op" id="7376388">*</span><span class="ident" id="7376389">slice</span><span class="op" id="7376394">)</span><span class="op" id="7376395">(</span><span class="ident" id="7376396">unsafe</span><span class="op" id="7376402">.</span><span class="ident" id="7376403">Pointer</span><span class="op" id="7376410">(</span><span class="op" id="7376411">&amp;</span><span class="ident" id="7376412">ret</span><span class="op" id="7376415">)</span><span class="op" id="7376416">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376419">onM</span><span class="op" id="7376422">(</span><span class="keyword" id="7376423">func</span><span class="op" id="7376427">(</span><span class="op" id="7376428">)</span>&nbsp;<span class="op" id="7376430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376434">getgcmask</span><span class="op" id="7376443">(</span><span class="ident" id="7376444">e</span><span class="op" id="7376445">.</span><span class="ident" id="7376446">data</span><span class="op" id="7376450">,</span>&nbsp;<span class="ident" id="7376452">e</span><span class="op" id="7376453">.</span><span class="ident" id="7376454">_type</span><span class="op" id="7376459">,</span>&nbsp;<span class="op" id="7376461">&amp;</span><span class="ident" id="7376462">s</span><span class="op" id="7376463">.</span><span class="ident" id="7376464">array</span><span class="op" id="7376469">,</span>&nbsp;<span class="op" id="7376471">&amp;</span><span class="ident" id="7376472">s</span><span class="op" id="7376473">.</span><span class="builtinfunc" id="7376474">len</span><span class="op" id="7376477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376481">s</span><span class="op" id="7376482">.</span><span class="builtinfunc" id="7376483">cap</span>&nbsp;<span class="op" id="7376487">=</span>&nbsp;<span class="ident" id="7376489">s</span><span class="op" id="7376490">.</span><span class="builtinfunc" id="7376491">len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7376496">}</span><span class="op" id="7376497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7376500">return</span><br>
<span class="lineno">125</span><span class="op" id="7376507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7376510">func</span>&nbsp;<span class="ident" id="7376515">testSchedLocalQueue</span><span class="op" id="7376534">(</span><span class="op" id="7376535">)</span><br>
<span class="lineno"></span><span class="keyword" id="7376537">func</span>&nbsp;<span class="ident" id="7376542">testSchedLocalQueueSteal</span><span class="op" id="7376566">(</span><span class="op" id="7376567">)</span><br>
<span class="lineno"></span><span class="keyword" id="7376569">func</span>&nbsp;<span class="ident" id="7376574">RunSchedLocalQueueTest</span><span class="op" id="7376596">(</span><span class="op" id="7376597">)</span>&nbsp;<span class="op" id="7376599">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376602">onM</span><span class="op" id="7376605">(</span><span class="ident" id="7376606">testSchedLocalQueue</span><span class="op" id="7376625">)</span><br>
<span class="lineno"></span><span class="op" id="7376627">}</span><br>
<span class="lineno"></span><span class="keyword" id="7376629">func</span>&nbsp;<span class="ident" id="7376634">RunSchedLocalQueueStealTest</span><span class="op" id="7376661">(</span><span class="op" id="7376662">)</span>&nbsp;<span class="op" id="7376664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7376667">onM</span><span class="op" id="7376670">(</span><span class="ident" id="7376671">testSchedLocalQueueSteal</span><span class="op" id="7376695">)</span><br>
<span class="lineno"></span><span class="op" id="7376697">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7376700">var</span>&nbsp;<span class="ident" id="7376704">HaveGoodHash</span>&nbsp;<span class="op" id="7376717">=</span>&nbsp;<span class="ident" id="7376719">haveGoodHash</span><br>
<span class="lineno"></span><span class="keyword" id="7376732">var</span>&nbsp;<span class="ident" id="7376736">StringHash</span>&nbsp;<span class="op" id="7376747">=</span>&nbsp;<span class="ident" id="7376749">stringHash</span><br>
<span class="lineno"></span><span class="keyword" id="7376760">var</span>&nbsp;<span class="ident" id="7376764">BytesHash</span>&nbsp;<span class="op" id="7376774">=</span>&nbsp;<span class="ident" id="7376776">bytesHash</span><br>
<span class="lineno"></span><span class="keyword" id="7376786">var</span>&nbsp;<span class="ident" id="7376790">Int32Hash</span>&nbsp;<span class="op" id="7376800">=</span>&nbsp;<span class="ident" id="7376802">int32Hash</span><br>
<span class="lineno">140</span><span class="keyword" id="7376812">var</span>&nbsp;<span class="ident" id="7376816">Int64Hash</span>&nbsp;<span class="op" id="7376826">=</span>&nbsp;<span class="ident" id="7376828">int64Hash</span><br>
<span class="lineno"></span><span class="keyword" id="7376838">var</span>&nbsp;<span class="ident" id="7376842">EfaceHash</span>&nbsp;<span class="op" id="7376852">=</span>&nbsp;<span class="ident" id="7376854">efaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="7376864">var</span>&nbsp;<span class="ident" id="7376868">IfaceHash</span>&nbsp;<span class="op" id="7376878">=</span>&nbsp;<span class="ident" id="7376880">ifaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="7376890">var</span>&nbsp;<span class="ident" id="7376894">MemclrBytes</span>&nbsp;<span class="op" id="7376906">=</span>&nbsp;<span class="ident" id="7376908">memclrBytes</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="7376921">var</span>&nbsp;<span class="ident" id="7376925">HashLoad</span>&nbsp;<span class="op" id="7376934">=</span>&nbsp;<span class="op" id="7376936">&amp;</span><span class="ident" id="7376937">hashLoad</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7376947">//&nbsp;For&nbsp;testing.</span><br>
<span class="lineno"></span><span class="keyword" id="7376963">func</span>&nbsp;<span class="ident" id="7376968">GogoBytes</span><span class="op" id="7376977">(</span><span class="op" id="7376978">)</span>&nbsp;<span class="builtintype" id="7376980">int32</span>&nbsp;<span class="op" id="7376986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7376989">return</span>&nbsp;<span class="ident" id="7376996">_RuntimeGogoBytes</span><br>
<span class="lineno">150</span><span class="op" id="7377014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7377017">//&nbsp;in&nbsp;string.c</span><br>
<span class="lineno"></span><span class="comment" id="7377032">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="7377046">func</span>&nbsp;<span class="ident" id="7377051">gostringw</span><span class="op" id="7377060">(</span><span class="ident" id="7377061">w</span>&nbsp;<span class="op" id="7377063">*</span><span class="builtintype" id="7377064">uint16</span><span class="op" id="7377070">)</span>&nbsp;<span class="builtintype" id="7377072">string</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="7377080">//&nbsp;entry&nbsp;point&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="7377107">func</span>&nbsp;<span class="ident" id="7377112">GostringW</span><span class="op" id="7377121">(</span><span class="ident" id="7377122">w</span>&nbsp;<span class="op" id="7377124">[</span><span class="op" id="7377125">]</span><span class="builtintype" id="7377126">uint16</span><span class="op" id="7377132">)</span>&nbsp;<span class="op" id="7377134">(</span><span class="ident" id="7377135">s</span>&nbsp;<span class="builtintype" id="7377137">string</span><span class="op" id="7377143">)</span>&nbsp;<span class="op" id="7377145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7377148">onM</span><span class="op" id="7377151">(</span><span class="keyword" id="7377152">func</span><span class="op" id="7377156">(</span><span class="op" id="7377157">)</span>&nbsp;<span class="op" id="7377159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7377163">s</span>&nbsp;<span class="op" id="7377165">=</span>&nbsp;<span class="ident" id="7377167">gostringw</span><span class="op" id="7377176">(</span><span class="op" id="7377177">&amp;</span><span class="ident" id="7377178">w</span><span class="op" id="7377179">[</span><span class="num" id="7377180">0</span><span class="op" id="7377181">]</span><span class="op" id="7377182">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7377185">}</span><span class="op" id="7377186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7377189">return</span><br>
<span class="lineno"></span><span class="op" id="7377196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7377199">var</span>&nbsp;<span class="ident" id="7377203">Gostringnocopy</span>&nbsp;<span class="op" id="7377218">=</span>&nbsp;<span class="ident" id="7377220">gostringnocopy</span><br>
<span class="lineno">165</span><span class="keyword" id="7377235">var</span>&nbsp;<span class="ident" id="7377239">Maxstring</span>&nbsp;<span class="op" id="7377249">=</span>&nbsp;<span class="op" id="7377251">&amp;</span><span class="ident" id="7377252">maxstring</span>
</div>
</body>
</html>
