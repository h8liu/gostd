<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8497558">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8497613">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8497667">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8497718">package</span>&nbsp;<span class="ident" id="8497726">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8497732">import</span>&nbsp;<span class="op" id="8497739">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8497742">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8497755">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8497761">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8497778">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8497788">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8497791">func</span>&nbsp;<span class="ident" id="8497796">checker</span><span class="op" id="8497803">(</span><span class="ident" id="8497804">t</span>&nbsp;<span class="op" id="8497806">*</span><span class="ident" id="8497807">testing</span><span class="op" id="8497814">.</span><span class="ident" id="8497815">T</span><span class="op" id="8497816">)</span>&nbsp;<span class="keyword" id="8497818">func</span><span class="op" id="8497822">(</span><span class="builtintype" id="8497823">string</span><span class="op" id="8497829">,</span>&nbsp;<span class="builtintype" id="8497831">error</span><span class="op" id="8497836">)</span>&nbsp;<span class="op" id="8497838">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8497841">return</span>&nbsp;<span class="keyword" id="8497848">func</span><span class="op" id="8497852">(</span><span class="ident" id="8497853">call</span>&nbsp;<span class="builtintype" id="8497858">string</span><span class="op" id="8497864">,</span>&nbsp;<span class="ident" id="8497866">err</span>&nbsp;<span class="builtintype" id="8497870">error</span><span class="op" id="8497875">)</span>&nbsp;<span class="op" id="8497877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8497881">if</span>&nbsp;<span class="ident" id="8497884">err</span>&nbsp;<span class="op" id="8497888">==</span>&nbsp;<span class="ident" id="8497891">nil</span>&nbsp;<span class="op" id="8497895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8497900">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8497909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8497913">t</span><span class="op" id="8497914">.</span><span class="ident" id="8497915">Fatalf</span><span class="op" id="8497921">(</span><span class="string" id="8497922">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="8497930">,</span>&nbsp;<span class="ident" id="8497932">call</span><span class="op" id="8497936">,</span>&nbsp;<span class="ident" id="8497938">err</span><span class="op" id="8497941">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8497944">}</span><br>
<span class="lineno"></span><span class="op" id="8497946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8497949">func</span>&nbsp;<span class="ident" id="8497954">TestFileTransport</span><span class="op" id="8497971">(</span><span class="ident" id="8497972">t</span>&nbsp;<span class="op" id="8497974">*</span><span class="ident" id="8497975">testing</span><span class="op" id="8497982">.</span><span class="ident" id="8497983">T</span><span class="op" id="8497984">)</span>&nbsp;<span class="op" id="8497986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8497989">check</span>&nbsp;<span class="op" id="8497995">:=</span>&nbsp;<span class="ident" id="8497998">checker</span><span class="op" id="8498005">(</span><span class="ident" id="8498006">t</span><span class="op" id="8498007">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498011">dname</span><span class="op" id="8498016">,</span>&nbsp;<span class="ident" id="8498018">err</span>&nbsp;<span class="op" id="8498022">:=</span>&nbsp;<span class="ident" id="8498025">ioutil</span><span class="op" id="8498031">.</span><span class="ident" id="8498032">TempDir</span><span class="op" id="8498039">(</span><span class="string" id="8498040">&#34;&#34;</span><span class="op" id="8498042">,</span>&nbsp;<span class="string" id="8498044">&#34;&#34;</span><span class="op" id="8498046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498049">check</span><span class="op" id="8498054">(</span><span class="string" id="8498055">&#34;TempDir&#34;</span><span class="op" id="8498064">,</span>&nbsp;<span class="ident" id="8498066">err</span><span class="op" id="8498069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498072">fname</span>&nbsp;<span class="op" id="8498078">:=</span>&nbsp;<span class="ident" id="8498081">filepath</span><span class="op" id="8498089">.</span><span class="ident" id="8498090">Join</span><span class="op" id="8498094">(</span><span class="ident" id="8498095">dname</span><span class="op" id="8498100">,</span>&nbsp;<span class="string" id="8498102">&#34;foo.txt&#34;</span><span class="op" id="8498111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498114">err</span>&nbsp;<span class="op" id="8498118">=</span>&nbsp;<span class="ident" id="8498120">ioutil</span><span class="op" id="8498126">.</span><span class="ident" id="8498127">WriteFile</span><span class="op" id="8498136">(</span><span class="ident" id="8498137">fname</span><span class="op" id="8498142">,</span>&nbsp;<span class="op" id="8498144">[</span><span class="op" id="8498145">]</span><span class="builtintype" id="8498146">byte</span><span class="op" id="8498150">(</span><span class="string" id="8498151">&#34;Bar&#34;</span><span class="op" id="8498156">)</span><span class="op" id="8498157">,</span>&nbsp;<span class="num" id="8498159">0644</span><span class="op" id="8498163">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498166">check</span><span class="op" id="8498171">(</span><span class="string" id="8498172">&#34;WriteFile&#34;</span><span class="op" id="8498183">,</span>&nbsp;<span class="ident" id="8498185">err</span><span class="op" id="8498188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8498191">defer</span>&nbsp;<span class="ident" id="8498197">os</span><span class="op" id="8498199">.</span><span class="ident" id="8498200">Remove</span><span class="op" id="8498206">(</span><span class="ident" id="8498207">dname</span><span class="op" id="8498212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8498215">defer</span>&nbsp;<span class="ident" id="8498221">os</span><span class="op" id="8498223">.</span><span class="ident" id="8498224">Remove</span><span class="op" id="8498230">(</span><span class="ident" id="8498231">fname</span><span class="op" id="8498236">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498240">tr</span>&nbsp;<span class="op" id="8498243">:=</span>&nbsp;<span class="op" id="8498246">&amp;</span><span class="ident" id="8498247">Transport</span><span class="op" id="8498256">{</span><span class="op" id="8498257">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498260">tr</span><span class="op" id="8498262">.</span><span class="ident" id="8498263">RegisterProtocol</span><span class="op" id="8498279">(</span><span class="string" id="8498280">&#34;file&#34;</span><span class="op" id="8498286">,</span>&nbsp;<span class="ident" id="8498288">NewFileTransport</span><span class="op" id="8498304">(</span><span class="ident" id="8498305">Dir</span><span class="op" id="8498308">(</span><span class="ident" id="8498309">dname</span><span class="op" id="8498314">)</span><span class="op" id="8498315">)</span><span class="op" id="8498316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498319">c</span>&nbsp;<span class="op" id="8498321">:=</span>&nbsp;<span class="op" id="8498324">&amp;</span><span class="ident" id="8498325">Client</span><span class="op" id="8498331">{</span><span class="ident" id="8498332">Transport</span><span class="op" id="8498341">:</span>&nbsp;<span class="ident" id="8498343">tr</span><span class="op" id="8498345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498349">fooURLs</span>&nbsp;<span class="op" id="8498357">:=</span>&nbsp;<span class="op" id="8498360">[</span><span class="op" id="8498361">]</span><span class="builtintype" id="8498362">string</span><span class="op" id="8498368">{</span><span class="string" id="8498369">&#34;file:///foo.txt&#34;</span><span class="op" id="8498386">,</span>&nbsp;<span class="string" id="8498388">&#34;file://../foo.txt&#34;</span><span class="op" id="8498407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8498410">for</span>&nbsp;<span class="ident" id="8498414">_</span><span class="op" id="8498415">,</span>&nbsp;<span class="ident" id="8498417">urlstr</span>&nbsp;<span class="op" id="8498424">:=</span>&nbsp;<span class="keyword" id="8498427">range</span>&nbsp;<span class="ident" id="8498433">fooURLs</span>&nbsp;<span class="op" id="8498441">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498445">res</span><span class="op" id="8498448">,</span>&nbsp;<span class="ident" id="8498450">err</span>&nbsp;<span class="op" id="8498454">:=</span>&nbsp;<span class="ident" id="8498457">c</span><span class="op" id="8498458">.</span><span class="ident" id="8498459">Get</span><span class="op" id="8498462">(</span><span class="ident" id="8498463">urlstr</span><span class="op" id="8498469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498473">check</span><span class="op" id="8498478">(</span><span class="string" id="8498479">&#34;Get&nbsp;&#34;</span><span class="op" id="8498485">+</span><span class="ident" id="8498486">urlstr</span><span class="op" id="8498492">,</span>&nbsp;<span class="ident" id="8498494">err</span><span class="op" id="8498497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8498501">if</span>&nbsp;<span class="ident" id="8498504">res</span><span class="op" id="8498507">.</span><span class="ident" id="8498508">StatusCode</span>&nbsp;<span class="op" id="8498519">!=</span>&nbsp;<span class="num" id="8498522">200</span>&nbsp;<span class="op" id="8498526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498531">t</span><span class="op" id="8498532">.</span><span class="ident" id="8498533">Errorf</span><span class="op" id="8498539">(</span><span class="string" id="8498540">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;200&#34;</span><span class="op" id="8498575">,</span>&nbsp;<span class="ident" id="8498577">urlstr</span><span class="op" id="8498583">,</span>&nbsp;<span class="ident" id="8498585">res</span><span class="op" id="8498588">.</span><span class="ident" id="8498589">StatusCode</span><span class="op" id="8498599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8498603">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8498607">if</span>&nbsp;<span class="ident" id="8498610">res</span><span class="op" id="8498613">.</span><span class="ident" id="8498614">ContentLength</span>&nbsp;<span class="op" id="8498628">!=</span>&nbsp;<span class="op" id="8498631">-</span><span class="num" id="8498632">1</span>&nbsp;<span class="op" id="8498634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498639">t</span><span class="op" id="8498640">.</span><span class="ident" id="8498641">Errorf</span><span class="op" id="8498647">(</span><span class="string" id="8498648">&#34;for&nbsp;%s,&nbsp;ContentLength&nbsp;=&nbsp;%d,&nbsp;want&nbsp;-1&#34;</span><span class="op" id="8498685">,</span>&nbsp;<span class="ident" id="8498687">urlstr</span><span class="op" id="8498693">,</span>&nbsp;<span class="ident" id="8498695">res</span><span class="op" id="8498698">.</span><span class="ident" id="8498699">ContentLength</span><span class="op" id="8498712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8498716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8498720">if</span>&nbsp;<span class="ident" id="8498723">res</span><span class="op" id="8498726">.</span><span class="ident" id="8498727">Body</span>&nbsp;<span class="op" id="8498732">==</span>&nbsp;<span class="ident" id="8498735">nil</span>&nbsp;<span class="op" id="8498739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498744">t</span><span class="op" id="8498745">.</span><span class="ident" id="8498746">Fatalf</span><span class="op" id="8498752">(</span><span class="string" id="8498753">&#34;for&nbsp;%s,&nbsp;nil&nbsp;Body&#34;</span><span class="op" id="8498771">,</span>&nbsp;<span class="ident" id="8498773">urlstr</span><span class="op" id="8498779">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8498783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498787">slurp</span><span class="op" id="8498792">,</span>&nbsp;<span class="ident" id="8498794">err</span>&nbsp;<span class="op" id="8498798">:=</span>&nbsp;<span class="ident" id="8498801">ioutil</span><span class="op" id="8498807">.</span><span class="ident" id="8498808">ReadAll</span><span class="op" id="8498815">(</span><span class="ident" id="8498816">res</span><span class="op" id="8498819">.</span><span class="ident" id="8498820">Body</span><span class="op" id="8498824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498828">check</span><span class="op" id="8498833">(</span><span class="string" id="8498834">&#34;ReadAll&nbsp;&#34;</span><span class="op" id="8498844">+</span><span class="ident" id="8498845">urlstr</span><span class="op" id="8498851">,</span>&nbsp;<span class="ident" id="8498853">err</span><span class="op" id="8498856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8498860">if</span>&nbsp;<span class="builtintype" id="8498863">string</span><span class="op" id="8498869">(</span><span class="ident" id="8498870">slurp</span><span class="op" id="8498875">)</span>&nbsp;<span class="op" id="8498877">!=</span>&nbsp;<span class="string" id="8498880">&#34;Bar&#34;</span>&nbsp;<span class="op" id="8498886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8498891">t</span><span class="op" id="8498892">.</span><span class="ident" id="8498893">Errorf</span><span class="op" id="8498899">(</span><span class="string" id="8498900">&#34;for&nbsp;%s,&nbsp;got&nbsp;content&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8498933">,</span>&nbsp;<span class="ident" id="8498935">urlstr</span><span class="op" id="8498941">,</span>&nbsp;<span class="builtintype" id="8498943">string</span><span class="op" id="8498949">(</span><span class="ident" id="8498950">slurp</span><span class="op" id="8498955">)</span><span class="op" id="8498956">,</span>&nbsp;<span class="string" id="8498958">&#34;Bar&#34;</span><span class="op" id="8498963">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8498967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8498970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8498974">const</span>&nbsp;<span class="ident" id="8498980">badURL</span>&nbsp;<span class="op" id="8498987">=</span>&nbsp;<span class="string" id="8498989">&#34;file://../no-exist.txt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8499015">res</span><span class="op" id="8499018">,</span>&nbsp;<span class="ident" id="8499020">err</span>&nbsp;<span class="op" id="8499024">:=</span>&nbsp;<span class="ident" id="8499027">c</span><span class="op" id="8499028">.</span><span class="ident" id="8499029">Get</span><span class="op" id="8499032">(</span><span class="ident" id="8499033">badURL</span><span class="op" id="8499039">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8499042">check</span><span class="op" id="8499047">(</span><span class="string" id="8499048">&#34;Get&nbsp;&#34;</span><span class="op" id="8499054">+</span><span class="ident" id="8499055">badURL</span><span class="op" id="8499061">,</span>&nbsp;<span class="ident" id="8499063">err</span><span class="op" id="8499066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8499069">if</span>&nbsp;<span class="ident" id="8499072">res</span><span class="op" id="8499075">.</span><span class="ident" id="8499076">StatusCode</span>&nbsp;<span class="op" id="8499087">!=</span>&nbsp;<span class="num" id="8499090">404</span>&nbsp;<span class="op" id="8499094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8499098">t</span><span class="op" id="8499099">.</span><span class="ident" id="8499100">Errorf</span><span class="op" id="8499106">(</span><span class="string" id="8499107">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;404&#34;</span><span class="op" id="8499142">,</span>&nbsp;<span class="ident" id="8499144">badURL</span><span class="op" id="8499150">,</span>&nbsp;<span class="ident" id="8499152">res</span><span class="op" id="8499155">.</span><span class="ident" id="8499156">StatusCode</span><span class="op" id="8499166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8499169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8499172">res</span><span class="op" id="8499175">.</span><span class="ident" id="8499176">Body</span><span class="op" id="8499180">.</span><span class="ident" id="8499181">Close</span><span class="op" id="8499186">(</span><span class="op" id="8499187">)</span><br>
<span class="lineno">65</span><span class="op" id="8499189">}</span>
</div>
</body>
</html>
