<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3281101">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3281156">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3281210">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3281261">package</span>&nbsp;<span class="ident" id="3281269">bytes</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3281276">import</span>&nbsp;<span class="op" id="3281283">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3281286">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3281296">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3281302">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3281317">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3281320">//&nbsp;A&nbsp;Reader&nbsp;implements&nbsp;the&nbsp;io.Reader,&nbsp;io.ReaderAt,&nbsp;io.WriterTo,&nbsp;io.Seeker,</span><br>
<span class="lineno"></span><span class="comment" id="3281395">//&nbsp;io.ByteScanner,&nbsp;and&nbsp;io.RuneScanner&nbsp;interfaces&nbsp;by&nbsp;reading&nbsp;from</span><br>
<span class="lineno">15</span><span class="comment" id="3281460">//&nbsp;a&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="3281477">//&nbsp;Unlike&nbsp;a&nbsp;Buffer,&nbsp;a&nbsp;Reader&nbsp;is&nbsp;read-only&nbsp;and&nbsp;supports&nbsp;seeking.</span><br>
<span class="lineno"></span><span class="keyword" id="3281541">type</span>&nbsp;<span class="ident" id="3281546">Reader</span>&nbsp;<span class="keyword" id="3281553">struct</span>&nbsp;<span class="op" id="3281560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3281563">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3281572">[</span><span class="op" id="3281573">]</span><span class="builtintype" id="3281574">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3281580">i</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3281589">int64</span>&nbsp;<span class="comment" id="3281595">//&nbsp;current&nbsp;reading&nbsp;index</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3281621">prevRune</span>&nbsp;<span class="builtintype" id="3281630">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3281636">//&nbsp;index&nbsp;of&nbsp;previous&nbsp;rune;&nbsp;or&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span><span class="op" id="3281670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3281673">//&nbsp;Len&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;of&nbsp;the&nbsp;unread&nbsp;portion&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3281737">//&nbsp;slice.</span><br>
<span class="lineno">25</span><span class="keyword" id="3281747">func</span>&nbsp;<span class="op" id="3281752">(</span><span class="ident" id="3281753">r</span>&nbsp;<span class="op" id="3281755">*</span><span class="ident" id="3281756"><a href="/bytes/reader.go.html#3281546">Reader</a></span><span class="op" id="3281762">)</span>&nbsp;<span class="ident" id="3281764">Len</span><span class="op" id="3281767">(</span><span class="op" id="3281768">)</span>&nbsp;<span class="builtintype" id="3281770">int</span>&nbsp;<span class="op" id="3281774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3281777">if</span>&nbsp;<span class="ident" id="3281780"><a href="/bytes/reader.go.html#3281753">r</a></span><span class="op" id="3281781">.</span><span class="ident" id="3281782">i</span>&nbsp;<span class="op" id="3281784">&gt;=</span>&nbsp;<span class="ident" id="3281787">int64</span><span class="op" id="3281792">(</span><span class="builtinfunc" id="3281793">len</span><span class="op" id="3281796">(</span><span class="ident" id="3281797"><a href="/bytes/reader.go.html#3281753">r</a></span><span class="op" id="3281798">.</span><span class="ident" id="3281799">s</span><span class="op" id="3281800">)</span><span class="op" id="3281801">)</span>&nbsp;<span class="op" id="3281803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3281807">return</span>&nbsp;<span class="num" id="3281814">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3281817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3281820">return</span>&nbsp;<span class="builtintype" id="3281827">int</span><span class="op" id="3281830">(</span><span class="ident" id="3281831">int64</span><span class="op" id="3281836">(</span><span class="builtinfunc" id="3281837">len</span><span class="op" id="3281840">(</span><span class="ident" id="3281841"><a href="/bytes/reader.go.html#3281753">r</a></span><span class="op" id="3281842">.</span><span class="ident" id="3281843">s</span><span class="op" id="3281844">)</span><span class="op" id="3281845">)</span>&nbsp;<span class="op" id="3281847">-</span>&nbsp;<span class="ident" id="3281849"><a href="/bytes/reader.go.html#3281753">r</a></span><span class="op" id="3281850">.</span><span class="ident" id="3281851">i</span><span class="op" id="3281852">)</span><br>
<span class="lineno">30</span><span class="op" id="3281854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3281857">func</span>&nbsp;<span class="op" id="3281862">(</span><span class="ident" id="3281863">r</span>&nbsp;<span class="op" id="3281865">*</span><span class="ident" id="3281866"><a href="/bytes/reader.go.html#3281546">Reader</a></span><span class="op" id="3281872">)</span>&nbsp;<span class="ident" id="3281874">Read</span><span class="op" id="3281878">(</span><span class="ident" id="3281879">b</span>&nbsp;<span class="op" id="3281881">[</span><span class="op" id="3281882">]</span><span class="builtintype" id="3281883">byte</span><span class="op" id="3281887">)</span>&nbsp;<span class="op" id="3281889">(</span><span class="ident" id="3281890">n</span>&nbsp;<span class="builtintype" id="3281892">int</span><span class="op" id="3281895">,</span>&nbsp;<span class="ident" id="3281897">err</span>&nbsp;<span class="builtintype" id="3281901">error</span><span class="op" id="3281906">)</span>&nbsp;<span class="op" id="3281908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3281911">if</span>&nbsp;<span class="builtinfunc" id="3281914">len</span><span class="op" id="3281917">(</span><span class="ident" id="3281918"><a href="/bytes/reader.go.html#3281879">b</a></span><span class="op" id="3281919">)</span>&nbsp;<span class="op" id="3281921">==</span>&nbsp;<span class="num" id="3281924">0</span>&nbsp;<span class="op" id="3281926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3281930">return</span>&nbsp;<span class="num" id="3281937">0</span><span class="op" id="3281938">,</span>&nbsp;<span class="ident" id="3281940">nil</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3281945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3281948">if</span>&nbsp;<span class="ident" id="3281951"><a href="/bytes/reader.go.html#3281863">r</a></span><span class="op" id="3281952">.</span><span class="ident" id="3281953">i</span>&nbsp;<span class="op" id="3281955">&gt;=</span>&nbsp;<span class="ident" id="3281958">int64</span><span class="op" id="3281963">(</span><span class="builtinfunc" id="3281964">len</span><span class="op" id="3281967">(</span><span class="ident" id="3281968"><a href="/bytes/reader.go.html#3281863">r</a></span><span class="op" id="3281969">.</span><span class="ident" id="3281970">s</span><span class="op" id="3281971">)</span><span class="op" id="3281972">)</span>&nbsp;<span class="op" id="3281974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3281978">return</span>&nbsp;<span class="num" id="3281985">0</span><span class="op" id="3281986">,</span>&nbsp;<span class="ident" id="3281988"><a href="/bytes/reader.go.html#3281296">io</a></span><span class="op" id="3281990">.</span><span class="ident" id="3281991">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3281996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3281999"><a href="/bytes/reader.go.html#3281863">r</a></span><span class="op" id="3282000">.</span><span class="ident" id="3282001">prevRune</span>&nbsp;<span class="op" id="3282010">=</span>&nbsp;<span class="op" id="3282012">-</span><span class="num" id="3282013">1</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282016"><a href="/bytes/reader.go.html#3281890">n</a></span>&nbsp;<span class="op" id="3282018">=</span>&nbsp;<span class="builtinfunc" id="3282020">copy</span><span class="op" id="3282024">(</span><span class="ident" id="3282025"><a href="/bytes/reader.go.html#3281879">b</a></span><span class="op" id="3282026">,</span>&nbsp;<span class="ident" id="3282028"><a href="/bytes/reader.go.html#3281863">r</a></span><span class="op" id="3282029">.</span><span class="ident" id="3282030">s</span><span class="op" id="3282031">[</span><span class="ident" id="3282032"><a href="/bytes/reader.go.html#3281863">r</a></span><span class="op" id="3282033">.</span><span class="ident" id="3282034">i</span><span class="op" id="3282035">:</span><span class="op" id="3282036">]</span><span class="op" id="3282037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282040"><a href="/bytes/reader.go.html#3281863">r</a></span><span class="op" id="3282041">.</span><span class="ident" id="3282042">i</span>&nbsp;<span class="op" id="3282044">+=</span>&nbsp;<span class="ident" id="3282047">int64</span><span class="op" id="3282052">(</span><span class="ident" id="3282053"><a href="/bytes/reader.go.html#3281890">n</a></span><span class="op" id="3282054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282057">return</span><br>
<span class="lineno"></span><span class="op" id="3282064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="3282067">func</span>&nbsp;<span class="op" id="3282072">(</span><span class="ident" id="3282073">r</span>&nbsp;<span class="op" id="3282075">*</span><span class="ident" id="3282076"><a href="/bytes/reader.go.html#3281546">Reader</a></span><span class="op" id="3282082">)</span>&nbsp;<span class="ident" id="3282084">ReadAt</span><span class="op" id="3282090">(</span><span class="ident" id="3282091">b</span>&nbsp;<span class="op" id="3282093">[</span><span class="op" id="3282094">]</span><span class="builtintype" id="3282095">byte</span><span class="op" id="3282099">,</span>&nbsp;<span class="ident" id="3282101">off</span>&nbsp;<span class="ident" id="3282105">int64</span><span class="op" id="3282110">)</span>&nbsp;<span class="op" id="3282112">(</span><span class="ident" id="3282113">n</span>&nbsp;<span class="builtintype" id="3282115">int</span><span class="op" id="3282118">,</span>&nbsp;<span class="ident" id="3282120">err</span>&nbsp;<span class="builtintype" id="3282124">error</span><span class="op" id="3282129">)</span>&nbsp;<span class="op" id="3282131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3282134">//&nbsp;cannot&nbsp;modify&nbsp;state&nbsp;-&nbsp;see&nbsp;io.ReaderAt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282176">if</span>&nbsp;<span class="ident" id="3282179"><a href="/bytes/reader.go.html#3282101">off</a></span>&nbsp;<span class="op" id="3282183">&lt;</span>&nbsp;<span class="num" id="3282185">0</span>&nbsp;<span class="op" id="3282187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282191">return</span>&nbsp;<span class="num" id="3282198">0</span><span class="op" id="3282199">,</span>&nbsp;<span class="ident" id="3282201"><a href="/bytes/reader.go.html#3281286">errors</a></span><span class="op" id="3282207">.</span><span class="ident" id="3282208">New</span><span class="op" id="3282211">(</span><span class="string" id="3282212">&#34;bytes.Reader.ReadAt:&nbsp;negative&nbsp;offset&#34;</span><span class="op" id="3282250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3282253">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282256">if</span>&nbsp;<span class="ident" id="3282259"><a href="/bytes/reader.go.html#3282101">off</a></span>&nbsp;<span class="op" id="3282263">&gt;=</span>&nbsp;<span class="ident" id="3282266">int64</span><span class="op" id="3282271">(</span><span class="builtinfunc" id="3282272">len</span><span class="op" id="3282275">(</span><span class="ident" id="3282276"><a href="/bytes/reader.go.html#3282073">r</a></span><span class="op" id="3282277">.</span><span class="ident" id="3282278">s</span><span class="op" id="3282279">)</span><span class="op" id="3282280">)</span>&nbsp;<span class="op" id="3282282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282286">return</span>&nbsp;<span class="num" id="3282293">0</span><span class="op" id="3282294">,</span>&nbsp;<span class="ident" id="3282296"><a href="/bytes/reader.go.html#3281296">io</a></span><span class="op" id="3282298">.</span><span class="ident" id="3282299">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3282304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282307"><a href="/bytes/reader.go.html#3282113">n</a></span>&nbsp;<span class="op" id="3282309">=</span>&nbsp;<span class="builtinfunc" id="3282311">copy</span><span class="op" id="3282315">(</span><span class="ident" id="3282316"><a href="/bytes/reader.go.html#3282091">b</a></span><span class="op" id="3282317">,</span>&nbsp;<span class="ident" id="3282319"><a href="/bytes/reader.go.html#3282073">r</a></span><span class="op" id="3282320">.</span><span class="ident" id="3282321">s</span><span class="op" id="3282322">[</span><span class="ident" id="3282323"><a href="/bytes/reader.go.html#3282101">off</a></span><span class="op" id="3282326">:</span><span class="op" id="3282327">]</span><span class="op" id="3282328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282331">if</span>&nbsp;<span class="ident" id="3282334"><a href="/bytes/reader.go.html#3282113">n</a></span>&nbsp;<span class="op" id="3282336">&lt;</span>&nbsp;<span class="builtinfunc" id="3282338">len</span><span class="op" id="3282341">(</span><span class="ident" id="3282342"><a href="/bytes/reader.go.html#3282091">b</a></span><span class="op" id="3282343">)</span>&nbsp;<span class="op" id="3282345">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282349"><a href="/bytes/reader.go.html#3282120">err</a></span>&nbsp;<span class="op" id="3282353">=</span>&nbsp;<span class="ident" id="3282355"><a href="/bytes/reader.go.html#3281296">io</a></span><span class="op" id="3282357">.</span><span class="ident" id="3282358">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3282363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282366">return</span><br>
<span class="lineno"></span><span class="op" id="3282373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="3282376">func</span>&nbsp;<span class="op" id="3282381">(</span><span class="ident" id="3282382">r</span>&nbsp;<span class="op" id="3282384">*</span><span class="ident" id="3282385"><a href="/bytes/reader.go.html#3281546">Reader</a></span><span class="op" id="3282391">)</span>&nbsp;<span class="ident" id="3282393">ReadByte</span><span class="op" id="3282401">(</span><span class="op" id="3282402">)</span>&nbsp;<span class="op" id="3282404">(</span><span class="ident" id="3282405">b</span>&nbsp;<span class="builtintype" id="3282407">byte</span><span class="op" id="3282411">,</span>&nbsp;<span class="ident" id="3282413">err</span>&nbsp;<span class="builtintype" id="3282417">error</span><span class="op" id="3282422">)</span>&nbsp;<span class="op" id="3282424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282427"><a href="/bytes/reader.go.html#3282382">r</a></span><span class="op" id="3282428">.</span><span class="ident" id="3282429">prevRune</span>&nbsp;<span class="op" id="3282438">=</span>&nbsp;<span class="op" id="3282440">-</span><span class="num" id="3282441">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282444">if</span>&nbsp;<span class="ident" id="3282447"><a href="/bytes/reader.go.html#3282382">r</a></span><span class="op" id="3282448">.</span><span class="ident" id="3282449">i</span>&nbsp;<span class="op" id="3282451">&gt;=</span>&nbsp;<span class="ident" id="3282454">int64</span><span class="op" id="3282459">(</span><span class="builtinfunc" id="3282460">len</span><span class="op" id="3282463">(</span><span class="ident" id="3282464"><a href="/bytes/reader.go.html#3282382">r</a></span><span class="op" id="3282465">.</span><span class="ident" id="3282466">s</span><span class="op" id="3282467">)</span><span class="op" id="3282468">)</span>&nbsp;<span class="op" id="3282470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282474">return</span>&nbsp;<span class="num" id="3282481">0</span><span class="op" id="3282482">,</span>&nbsp;<span class="ident" id="3282484"><a href="/bytes/reader.go.html#3281296">io</a></span><span class="op" id="3282486">.</span><span class="ident" id="3282487">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3282492">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282495"><a href="/bytes/reader.go.html#3282405">b</a></span>&nbsp;<span class="op" id="3282497">=</span>&nbsp;<span class="ident" id="3282499"><a href="/bytes/reader.go.html#3282382">r</a></span><span class="op" id="3282500">.</span><span class="ident" id="3282501">s</span><span class="op" id="3282502">[</span><span class="ident" id="3282503"><a href="/bytes/reader.go.html#3282382">r</a></span><span class="op" id="3282504">.</span><span class="ident" id="3282505">i</span><span class="op" id="3282506">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282509"><a href="/bytes/reader.go.html#3282382">r</a></span><span class="op" id="3282510">.</span><span class="ident" id="3282511">i</span><span class="op" id="3282512">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282516">return</span><br>
<span class="lineno"></span><span class="op" id="3282523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="3282526">func</span>&nbsp;<span class="op" id="3282531">(</span><span class="ident" id="3282532">r</span>&nbsp;<span class="op" id="3282534">*</span><span class="ident" id="3282535"><a href="/bytes/reader.go.html#3281546">Reader</a></span><span class="op" id="3282541">)</span>&nbsp;<span class="ident" id="3282543">UnreadByte</span><span class="op" id="3282553">(</span><span class="op" id="3282554">)</span>&nbsp;<span class="builtintype" id="3282556">error</span>&nbsp;<span class="op" id="3282562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282565"><a href="/bytes/reader.go.html#3282532">r</a></span><span class="op" id="3282566">.</span><span class="ident" id="3282567">prevRune</span>&nbsp;<span class="op" id="3282576">=</span>&nbsp;<span class="op" id="3282578">-</span><span class="num" id="3282579">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282582">if</span>&nbsp;<span class="ident" id="3282585"><a href="/bytes/reader.go.html#3282532">r</a></span><span class="op" id="3282586">.</span><span class="ident" id="3282587">i</span>&nbsp;<span class="op" id="3282589">&lt;=</span>&nbsp;<span class="num" id="3282592">0</span>&nbsp;<span class="op" id="3282594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282598">return</span>&nbsp;<span class="ident" id="3282605"><a href="/bytes/reader.go.html#3281286">errors</a></span><span class="op" id="3282611">.</span><span class="ident" id="3282612">New</span><span class="op" id="3282615">(</span><span class="string" id="3282616">&#34;bytes.Reader.UnreadByte:&nbsp;at&nbsp;beginning&nbsp;of&nbsp;slice&#34;</span><span class="op" id="3282664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3282667">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282670"><a href="/bytes/reader.go.html#3282532">r</a></span><span class="op" id="3282671">.</span><span class="ident" id="3282672">i</span><span class="op" id="3282673">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282677">return</span>&nbsp;<span class="ident" id="3282684">nil</span><br>
<span class="lineno"></span><span class="op" id="3282688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3282691">func</span>&nbsp;<span class="op" id="3282696">(</span><span class="ident" id="3282697">r</span>&nbsp;<span class="op" id="3282699">*</span><span class="ident" id="3282700"><a href="/bytes/reader.go.html#3281546">Reader</a></span><span class="op" id="3282706">)</span>&nbsp;<span class="ident" id="3282708">ReadRune</span><span class="op" id="3282716">(</span><span class="op" id="3282717">)</span>&nbsp;<span class="op" id="3282719">(</span><span class="ident" id="3282720">ch</span>&nbsp;<span class="builtintype" id="3282723">rune</span><span class="op" id="3282727">,</span>&nbsp;<span class="ident" id="3282729">size</span>&nbsp;<span class="builtintype" id="3282734">int</span><span class="op" id="3282737">,</span>&nbsp;<span class="ident" id="3282739">err</span>&nbsp;<span class="builtintype" id="3282743">error</span><span class="op" id="3282748">)</span>&nbsp;<span class="op" id="3282750">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282753">if</span>&nbsp;<span class="ident" id="3282756"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282757">.</span><span class="ident" id="3282758">i</span>&nbsp;<span class="op" id="3282760">&gt;=</span>&nbsp;<span class="ident" id="3282763">int64</span><span class="op" id="3282768">(</span><span class="builtinfunc" id="3282769">len</span><span class="op" id="3282772">(</span><span class="ident" id="3282773"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282774">.</span><span class="ident" id="3282775">s</span><span class="op" id="3282776">)</span><span class="op" id="3282777">)</span>&nbsp;<span class="op" id="3282779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282783"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282784">.</span><span class="ident" id="3282785">prevRune</span>&nbsp;<span class="op" id="3282794">=</span>&nbsp;<span class="op" id="3282796">-</span><span class="num" id="3282797">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282801">return</span>&nbsp;<span class="num" id="3282808">0</span><span class="op" id="3282809">,</span>&nbsp;<span class="num" id="3282811">0</span><span class="op" id="3282812">,</span>&nbsp;<span class="ident" id="3282814"><a href="/bytes/reader.go.html#3281296">io</a></span><span class="op" id="3282816">.</span><span class="ident" id="3282817">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3282822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282825"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282826">.</span><span class="ident" id="3282827">prevRune</span>&nbsp;<span class="op" id="3282836">=</span>&nbsp;<span class="builtintype" id="3282838">int</span><span class="op" id="3282841">(</span><span class="ident" id="3282842"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282843">.</span><span class="ident" id="3282844">i</span><span class="op" id="3282845">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282848">if</span>&nbsp;<span class="ident" id="3282851">c</span>&nbsp;<span class="op" id="3282853">:=</span>&nbsp;<span class="ident" id="3282856"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282857">.</span><span class="ident" id="3282858">s</span><span class="op" id="3282859">[</span><span class="ident" id="3282860"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282861">.</span><span class="ident" id="3282862">i</span><span class="op" id="3282863">]</span><span class="op" id="3282864">;</span>&nbsp;<span class="ident" id="3282866"><a href="/bytes/reader.go.html#3282851">c</a></span>&nbsp;<span class="op" id="3282868">&lt;</span>&nbsp;<span class="ident" id="3282870"><a href="/bytes/reader.go.html#3281302">utf8</a></span><span class="op" id="3282874">.</span><span class="ident" id="3282875">RuneSelf</span>&nbsp;<span class="op" id="3282884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282888"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282889">.</span><span class="ident" id="3282890">i</span><span class="op" id="3282891">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282896">return</span>&nbsp;<span class="builtintype" id="3282903">rune</span><span class="op" id="3282907">(</span><span class="ident" id="3282908"><a href="/bytes/reader.go.html#3282851">c</a></span><span class="op" id="3282909">)</span><span class="op" id="3282910">,</span>&nbsp;<span class="num" id="3282912">1</span><span class="op" id="3282913">,</span>&nbsp;<span class="ident" id="3282915">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3282920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282923"><a href="/bytes/reader.go.html#3282720">ch</a></span><span class="op" id="3282925">,</span>&nbsp;<span class="ident" id="3282927"><a href="/bytes/reader.go.html#3282729">size</a></span>&nbsp;<span class="op" id="3282932">=</span>&nbsp;<span class="ident" id="3282934"><a href="/bytes/reader.go.html#3281302">utf8</a></span><span class="op" id="3282938">.</span><span class="ident" id="3282939">DecodeRune</span><span class="op" id="3282949">(</span><span class="ident" id="3282950"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282951">.</span><span class="ident" id="3282952">s</span><span class="op" id="3282953">[</span><span class="ident" id="3282954"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282955">.</span><span class="ident" id="3282956">i</span><span class="op" id="3282957">:</span><span class="op" id="3282958">]</span><span class="op" id="3282959">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3282962"><a href="/bytes/reader.go.html#3282697">r</a></span><span class="op" id="3282963">.</span><span class="ident" id="3282964">i</span>&nbsp;<span class="op" id="3282966">+=</span>&nbsp;<span class="ident" id="3282969">int64</span><span class="op" id="3282974">(</span><span class="ident" id="3282975"><a href="/bytes/reader.go.html#3282729">size</a></span><span class="op" id="3282979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3282982">return</span><br>
<span class="lineno"></span><span class="op" id="3282989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3282992">func</span>&nbsp;<span class="op" id="3282997">(</span><span class="ident" id="3282998">r</span>&nbsp;<span class="op" id="3283000">*</span><span class="ident" id="3283001"><a href="/bytes/reader.go.html#3281546">Reader</a></span><span class="op" id="3283007">)</span>&nbsp;<span class="ident" id="3283009">UnreadRune</span><span class="op" id="3283019">(</span><span class="op" id="3283020">)</span>&nbsp;<span class="builtintype" id="3283022">error</span>&nbsp;<span class="op" id="3283028">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283031">if</span>&nbsp;<span class="ident" id="3283034"><a href="/bytes/reader.go.html#3282998">r</a></span><span class="op" id="3283035">.</span><span class="ident" id="3283036">prevRune</span>&nbsp;<span class="op" id="3283045">&lt;</span>&nbsp;<span class="num" id="3283047">0</span>&nbsp;<span class="op" id="3283049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283053">return</span>&nbsp;<span class="ident" id="3283060"><a href="/bytes/reader.go.html#3281286">errors</a></span><span class="op" id="3283066">.</span><span class="ident" id="3283067">New</span><span class="op" id="3283070">(</span><span class="string" id="3283071">&#34;bytes.Reader.UnreadRune:&nbsp;previous&nbsp;operation&nbsp;was&nbsp;not&nbsp;ReadRune&#34;</span><span class="op" id="3283133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3283136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283139"><a href="/bytes/reader.go.html#3282998">r</a></span><span class="op" id="3283140">.</span><span class="ident" id="3283141">i</span>&nbsp;<span class="op" id="3283143">=</span>&nbsp;<span class="ident" id="3283145">int64</span><span class="op" id="3283150">(</span><span class="ident" id="3283151"><a href="/bytes/reader.go.html#3282998">r</a></span><span class="op" id="3283152">.</span><span class="ident" id="3283153">prevRune</span><span class="op" id="3283161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283164"><a href="/bytes/reader.go.html#3282998">r</a></span><span class="op" id="3283165">.</span><span class="ident" id="3283166">prevRune</span>&nbsp;<span class="op" id="3283175">=</span>&nbsp;<span class="op" id="3283177">-</span><span class="num" id="3283178">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283181">return</span>&nbsp;<span class="ident" id="3283188">nil</span><br>
<span class="lineno"></span><span class="op" id="3283192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3283195">//&nbsp;Seek&nbsp;implements&nbsp;the&nbsp;io.Seeker&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3283239">func</span>&nbsp;<span class="op" id="3283244">(</span><span class="ident" id="3283245">r</span>&nbsp;<span class="op" id="3283247">*</span><span class="ident" id="3283248"><a href="/bytes/reader.go.html#3281546">Reader</a></span><span class="op" id="3283254">)</span>&nbsp;<span class="ident" id="3283256">Seek</span><span class="op" id="3283260">(</span><span class="ident" id="3283261">offset</span>&nbsp;<span class="ident" id="3283268">int64</span><span class="op" id="3283273">,</span>&nbsp;<span class="ident" id="3283275">whence</span>&nbsp;<span class="builtintype" id="3283282">int</span><span class="op" id="3283285">)</span>&nbsp;<span class="op" id="3283287">(</span><span class="ident" id="3283288">int64</span><span class="op" id="3283293">,</span>&nbsp;<span class="builtintype" id="3283295">error</span><span class="op" id="3283300">)</span>&nbsp;<span class="op" id="3283302">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283305"><a href="/bytes/reader.go.html#3283245">r</a></span><span class="op" id="3283306">.</span><span class="ident" id="3283307">prevRune</span>&nbsp;<span class="op" id="3283316">=</span>&nbsp;<span class="op" id="3283318">-</span><span class="num" id="3283319">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283322">var</span>&nbsp;<span class="ident" id="3283326">abs</span>&nbsp;<span class="ident" id="3283330">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283337">switch</span>&nbsp;<span class="ident" id="3283344"><a href="/bytes/reader.go.html#3283275">whence</a></span>&nbsp;<span class="op" id="3283351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283354">case</span>&nbsp;<span class="num" id="3283359">0</span><span class="op" id="3283360">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283364"><a href="/bytes/reader.go.html#3283326">abs</a></span>&nbsp;<span class="op" id="3283368">=</span>&nbsp;<span class="ident" id="3283370"><a href="/bytes/reader.go.html#3283261">offset</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283378">case</span>&nbsp;<span class="num" id="3283383">1</span><span class="op" id="3283384">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283388"><a href="/bytes/reader.go.html#3283326">abs</a></span>&nbsp;<span class="op" id="3283392">=</span>&nbsp;<span class="ident" id="3283394">int64</span><span class="op" id="3283399">(</span><span class="ident" id="3283400"><a href="/bytes/reader.go.html#3283245">r</a></span><span class="op" id="3283401">.</span><span class="ident" id="3283402">i</span><span class="op" id="3283403">)</span>&nbsp;<span class="op" id="3283405">+</span>&nbsp;<span class="ident" id="3283407"><a href="/bytes/reader.go.html#3283261">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283415">case</span>&nbsp;<span class="num" id="3283420">2</span><span class="op" id="3283421">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283425"><a href="/bytes/reader.go.html#3283326">abs</a></span>&nbsp;<span class="op" id="3283429">=</span>&nbsp;<span class="ident" id="3283431">int64</span><span class="op" id="3283436">(</span><span class="builtinfunc" id="3283437">len</span><span class="op" id="3283440">(</span><span class="ident" id="3283441"><a href="/bytes/reader.go.html#3283245">r</a></span><span class="op" id="3283442">.</span><span class="ident" id="3283443">s</span><span class="op" id="3283444">)</span><span class="op" id="3283445">)</span>&nbsp;<span class="op" id="3283447">+</span>&nbsp;<span class="ident" id="3283449"><a href="/bytes/reader.go.html#3283261">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283457">default</span><span class="op" id="3283464">:</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283468">return</span>&nbsp;<span class="num" id="3283475">0</span><span class="op" id="3283476">,</span>&nbsp;<span class="ident" id="3283478"><a href="/bytes/reader.go.html#3281286">errors</a></span><span class="op" id="3283484">.</span><span class="ident" id="3283485">New</span><span class="op" id="3283488">(</span><span class="string" id="3283489">&#34;bytes.Reader.Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="3283524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3283527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283530">if</span>&nbsp;<span class="ident" id="3283533"><a href="/bytes/reader.go.html#3283326">abs</a></span>&nbsp;<span class="op" id="3283537">&lt;</span>&nbsp;<span class="num" id="3283539">0</span>&nbsp;<span class="op" id="3283541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283545">return</span>&nbsp;<span class="num" id="3283552">0</span><span class="op" id="3283553">,</span>&nbsp;<span class="ident" id="3283555"><a href="/bytes/reader.go.html#3281286">errors</a></span><span class="op" id="3283561">.</span><span class="ident" id="3283562">New</span><span class="op" id="3283565">(</span><span class="string" id="3283566">&#34;bytes.Reader.Seek:&nbsp;negative&nbsp;position&#34;</span><span class="op" id="3283604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3283607">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283610"><a href="/bytes/reader.go.html#3283245">r</a></span><span class="op" id="3283611">.</span><span class="ident" id="3283612">i</span>&nbsp;<span class="op" id="3283614">=</span>&nbsp;<span class="ident" id="3283616"><a href="/bytes/reader.go.html#3283326">abs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283621">return</span>&nbsp;<span class="ident" id="3283628"><a href="/bytes/reader.go.html#3283326">abs</a></span><span class="op" id="3283631">,</span>&nbsp;<span class="ident" id="3283633">nil</span><br>
<span class="lineno"></span><span class="op" id="3283637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3283640">//&nbsp;WriteTo&nbsp;implements&nbsp;the&nbsp;io.WriterTo&nbsp;interface.</span><br>
<span class="lineno">125</span><span class="keyword" id="3283689">func</span>&nbsp;<span class="op" id="3283694">(</span><span class="ident" id="3283695">r</span>&nbsp;<span class="op" id="3283697">*</span><span class="ident" id="3283698"><a href="/bytes/reader.go.html#3281546">Reader</a></span><span class="op" id="3283704">)</span>&nbsp;<span class="ident" id="3283706">WriteTo</span><span class="op" id="3283713">(</span><span class="ident" id="3283714">w</span>&nbsp;<span class="ident" id="3283716"><a href="/bytes/reader.go.html#3281296">io</a></span><span class="op" id="3283718">.</span><span class="ident" id="3283719">Writer</span><span class="op" id="3283725">)</span>&nbsp;<span class="op" id="3283727">(</span><span class="ident" id="3283728">n</span>&nbsp;<span class="ident" id="3283730">int64</span><span class="op" id="3283735">,</span>&nbsp;<span class="ident" id="3283737">err</span>&nbsp;<span class="builtintype" id="3283741">error</span><span class="op" id="3283746">)</span>&nbsp;<span class="op" id="3283748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283751"><a href="/bytes/reader.go.html#3283695">r</a></span><span class="op" id="3283752">.</span><span class="ident" id="3283753">prevRune</span>&nbsp;<span class="op" id="3283762">=</span>&nbsp;<span class="op" id="3283764">-</span><span class="num" id="3283765">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283768">if</span>&nbsp;<span class="ident" id="3283771"><a href="/bytes/reader.go.html#3283695">r</a></span><span class="op" id="3283772">.</span><span class="ident" id="3283773">i</span>&nbsp;<span class="op" id="3283775">&gt;=</span>&nbsp;<span class="ident" id="3283778">int64</span><span class="op" id="3283783">(</span><span class="builtinfunc" id="3283784">len</span><span class="op" id="3283787">(</span><span class="ident" id="3283788"><a href="/bytes/reader.go.html#3283695">r</a></span><span class="op" id="3283789">.</span><span class="ident" id="3283790">s</span><span class="op" id="3283791">)</span><span class="op" id="3283792">)</span>&nbsp;<span class="op" id="3283794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283798">return</span>&nbsp;<span class="num" id="3283805">0</span><span class="op" id="3283806">,</span>&nbsp;<span class="ident" id="3283808">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3283813">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283816">b</span>&nbsp;<span class="op" id="3283818">:=</span>&nbsp;<span class="ident" id="3283821"><a href="/bytes/reader.go.html#3283695">r</a></span><span class="op" id="3283822">.</span><span class="ident" id="3283823">s</span><span class="op" id="3283824">[</span><span class="ident" id="3283825"><a href="/bytes/reader.go.html#3283695">r</a></span><span class="op" id="3283826">.</span><span class="ident" id="3283827">i</span><span class="op" id="3283828">:</span><span class="op" id="3283829">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283832">m</span><span class="op" id="3283833">,</span>&nbsp;<span class="ident" id="3283835"><a href="/bytes/reader.go.html#3283737">err</a></span>&nbsp;<span class="op" id="3283839">:=</span>&nbsp;<span class="ident" id="3283842"><a href="/bytes/reader.go.html#3283714">w</a></span><span class="op" id="3283843">.</span><span class="ident" id="3283844">Write</span><span class="op" id="3283849">(</span><span class="ident" id="3283850"><a href="/bytes/reader.go.html#3283816">b</a></span><span class="op" id="3283851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283854">if</span>&nbsp;<span class="ident" id="3283857"><a href="/bytes/reader.go.html#3283832">m</a></span>&nbsp;<span class="op" id="3283859">&gt;</span>&nbsp;<span class="builtinfunc" id="3283861">len</span><span class="op" id="3283864">(</span><span class="ident" id="3283865"><a href="/bytes/reader.go.html#3283816">b</a></span><span class="op" id="3283866">)</span>&nbsp;<span class="op" id="3283868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3283872">panic</span><span class="op" id="3283877">(</span><span class="string" id="3283878">&#34;bytes.Reader.WriteTo:&nbsp;invalid&nbsp;Write&nbsp;count&#34;</span><span class="op" id="3283921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3283924">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283927"><a href="/bytes/reader.go.html#3283695">r</a></span><span class="op" id="3283928">.</span><span class="ident" id="3283929">i</span>&nbsp;<span class="op" id="3283931">+=</span>&nbsp;<span class="ident" id="3283934">int64</span><span class="op" id="3283939">(</span><span class="ident" id="3283940"><a href="/bytes/reader.go.html#3283832">m</a></span><span class="op" id="3283941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283944"><a href="/bytes/reader.go.html#3283728">n</a></span>&nbsp;<span class="op" id="3283946">=</span>&nbsp;<span class="ident" id="3283948">int64</span><span class="op" id="3283953">(</span><span class="ident" id="3283954"><a href="/bytes/reader.go.html#3283832">m</a></span><span class="op" id="3283955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3283958">if</span>&nbsp;<span class="ident" id="3283961"><a href="/bytes/reader.go.html#3283832">m</a></span>&nbsp;<span class="op" id="3283963">!=</span>&nbsp;<span class="builtinfunc" id="3283966">len</span><span class="op" id="3283969">(</span><span class="ident" id="3283970"><a href="/bytes/reader.go.html#3283816">b</a></span><span class="op" id="3283971">)</span>&nbsp;<span class="op" id="3283973">&amp;&amp;</span>&nbsp;<span class="ident" id="3283976"><a href="/bytes/reader.go.html#3283737">err</a></span>&nbsp;<span class="op" id="3283980">==</span>&nbsp;<span class="ident" id="3283983">nil</span>&nbsp;<span class="op" id="3283987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3283991"><a href="/bytes/reader.go.html#3283737">err</a></span>&nbsp;<span class="op" id="3283995">=</span>&nbsp;<span class="ident" id="3283997"><a href="/bytes/reader.go.html#3281296">io</a></span><span class="op" id="3283999">.</span><span class="ident" id="3284000">ErrShortWrite</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3284015">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3284018">return</span><br>
<span class="lineno"></span><span class="op" id="3284025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3284028">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;reading&nbsp;from&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3284078">func</span>&nbsp;<span class="ident" id="3284083">NewReader</span><span class="op" id="3284092">(</span><span class="ident" id="3284093">b</span>&nbsp;<span class="op" id="3284095">[</span><span class="op" id="3284096">]</span><span class="builtintype" id="3284097">byte</span><span class="op" id="3284101">)</span>&nbsp;<span class="op" id="3284103">*</span><span class="ident" id="3284104"><a href="/bytes/reader.go.html#3281546">Reader</a></span>&nbsp;<span class="op" id="3284111">{</span>&nbsp;<span class="keyword" id="3284113">return</span>&nbsp;<span class="op" id="3284120">&amp;</span><span class="ident" id="3284121"><a href="/bytes/reader.go.html#3281546">Reader</a></span><span class="op" id="3284127">{</span><span class="ident" id="3284128"><a href="/bytes/reader.go.html#3284093">b</a></span><span class="op" id="3284129">,</span>&nbsp;<span class="num" id="3284131">0</span><span class="op" id="3284132">,</span>&nbsp;<span class="op" id="3284134">-</span><span class="num" id="3284135">1</span><span class="op" id="3284136">}</span>&nbsp;<span class="op" id="3284138">}</span>
</div>
</body>
</html>
