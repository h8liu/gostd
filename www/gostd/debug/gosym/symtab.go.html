<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5467419">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5467475">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5467529">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5467580">//&nbsp;Package&nbsp;gosym&nbsp;implements&nbsp;access&nbsp;to&nbsp;the&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="5467632">//&nbsp;and&nbsp;line&nbsp;number&nbsp;tables&nbsp;embedded&nbsp;in&nbsp;Go&nbsp;binaries&nbsp;generated</span><br>
<span class="lineno"></span><span class="comment" id="5467692">//&nbsp;by&nbsp;the&nbsp;gc&nbsp;compilers.</span><br>
<span class="lineno"></span><span class="keyword" id="5467716">package</span>&nbsp;<span class="ident" id="5467724">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="comment" id="5467731">//&nbsp;The&nbsp;table&nbsp;format&nbsp;is&nbsp;a&nbsp;variant&nbsp;of&nbsp;the&nbsp;format&nbsp;used&nbsp;in&nbsp;Plan&nbsp;9&#39;s&nbsp;a.out</span><br>
<span class="lineno"></span><span class="comment" id="5467801">//&nbsp;format,&nbsp;documented&nbsp;at&nbsp;http://plan9.bell-labs.com/magic/man2html/6/a.out.</span><br>
<span class="lineno"></span><span class="comment" id="5467877">//&nbsp;The&nbsp;best&nbsp;reference&nbsp;for&nbsp;the&nbsp;differences&nbsp;between&nbsp;the&nbsp;Plan&nbsp;9&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="5467945">//&nbsp;and&nbsp;the&nbsp;Go&nbsp;format&nbsp;is&nbsp;the&nbsp;runtime&nbsp;source,&nbsp;specifically&nbsp;../../runtime/symtab.c.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="5468027">import</span>&nbsp;<span class="op" id="5468034">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5468037">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5468046">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5468065">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5468072">&#34;strconv&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5468083">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="5468093">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5468096">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbols<br>
<span class="lineno">25</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5468115">//&nbsp;A&nbsp;Sym&nbsp;represents&nbsp;a&nbsp;single&nbsp;symbol&nbsp;table&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5468164">type</span>&nbsp;<span class="ident" id="5468169">Sym</span>&nbsp;<span class="keyword" id="5468173">struct</span>&nbsp;<span class="op" id="5468180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5468183">Value</span>&nbsp;&nbsp;<span class="ident" id="5468190">uint64</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5468198">Type</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5468205">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5468211">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5468218">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5468226">GoType</span>&nbsp;<span class="ident" id="5468233">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5468241">//&nbsp;If&nbsp;this&nbsp;symbol&nbsp;if&nbsp;a&nbsp;function&nbsp;symbol,&nbsp;the&nbsp;corresponding&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5468305">Func</span>&nbsp;<span class="op" id="5468310">*</span><span class="ident" id="5468311">Func</span><br>
<span class="lineno">35</span><span class="op" id="5468316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5468319">//&nbsp;Static&nbsp;reports&nbsp;whether&nbsp;this&nbsp;symbol&nbsp;is&nbsp;static&nbsp;(not&nbsp;visible&nbsp;outside&nbsp;its&nbsp;file).</span><br>
<span class="lineno"></span><span class="keyword" id="5468399">func</span>&nbsp;<span class="op" id="5468404">(</span><span class="ident" id="5468405">s</span>&nbsp;<span class="op" id="5468407">*</span><span class="ident" id="5468408">Sym</span><span class="op" id="5468411">)</span>&nbsp;<span class="ident" id="5468413">Static</span><span class="op" id="5468419">(</span><span class="op" id="5468420">)</span>&nbsp;<span class="builtintype" id="5468422">bool</span>&nbsp;<span class="op" id="5468427">{</span>&nbsp;<span class="keyword" id="5468429">return</span>&nbsp;<span class="ident" id="5468436">s</span><span class="op" id="5468437">.</span><span class="ident" id="5468438">Type</span>&nbsp;<span class="op" id="5468443">&gt;=</span>&nbsp;<span class="string" id="5468446">&#39;a&#39;</span>&nbsp;<span class="op" id="5468450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="5468453">//&nbsp;PackageName&nbsp;returns&nbsp;the&nbsp;package&nbsp;part&nbsp;of&nbsp;the&nbsp;symbol&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5468513">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="5468554">func</span>&nbsp;<span class="op" id="5468559">(</span><span class="ident" id="5468560">s</span>&nbsp;<span class="op" id="5468562">*</span><span class="ident" id="5468563">Sym</span><span class="op" id="5468566">)</span>&nbsp;<span class="ident" id="5468568">PackageName</span><span class="op" id="5468579">(</span><span class="op" id="5468580">)</span>&nbsp;<span class="builtintype" id="5468582">string</span>&nbsp;<span class="op" id="5468589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5468592">if</span>&nbsp;<span class="ident" id="5468595">i</span>&nbsp;<span class="op" id="5468597">:=</span>&nbsp;<span class="ident" id="5468600">strings</span><span class="op" id="5468607">.</span><span class="ident" id="5468608">Index</span><span class="op" id="5468613">(</span><span class="ident" id="5468614">s</span><span class="op" id="5468615">.</span><span class="ident" id="5468616">Name</span><span class="op" id="5468620">,</span>&nbsp;<span class="string" id="5468622">&#34;.&#34;</span><span class="op" id="5468625">)</span><span class="op" id="5468626">;</span>&nbsp;<span class="ident" id="5468628">i</span>&nbsp;<span class="op" id="5468630">!=</span>&nbsp;<span class="op" id="5468633">-</span><span class="num" id="5468634">1</span>&nbsp;<span class="op" id="5468636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5468640">return</span>&nbsp;<span class="ident" id="5468647">s</span><span class="op" id="5468648">.</span><span class="ident" id="5468649">Name</span><span class="op" id="5468653">[</span><span class="num" id="5468654">0</span><span class="op" id="5468655">:</span><span class="ident" id="5468656">i</span><span class="op" id="5468657">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5468660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5468663">return</span>&nbsp;<span class="string" id="5468670">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="5468673">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5468676">//&nbsp;ReceiverName&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;name&nbsp;of&nbsp;this&nbsp;symbol,</span><br>
<span class="lineno">50</span><span class="comment" id="5468739">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="5468780">func</span>&nbsp;<span class="op" id="5468785">(</span><span class="ident" id="5468786">s</span>&nbsp;<span class="op" id="5468788">*</span><span class="ident" id="5468789">Sym</span><span class="op" id="5468792">)</span>&nbsp;<span class="ident" id="5468794">ReceiverName</span><span class="op" id="5468806">(</span><span class="op" id="5468807">)</span>&nbsp;<span class="builtintype" id="5468809">string</span>&nbsp;<span class="op" id="5468816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5468819">l</span>&nbsp;<span class="op" id="5468821">:=</span>&nbsp;<span class="ident" id="5468824">strings</span><span class="op" id="5468831">.</span><span class="ident" id="5468832">Index</span><span class="op" id="5468837">(</span><span class="ident" id="5468838">s</span><span class="op" id="5468839">.</span><span class="ident" id="5468840">Name</span><span class="op" id="5468844">,</span>&nbsp;<span class="string" id="5468846">&#34;.&#34;</span><span class="op" id="5468849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5468852">r</span>&nbsp;<span class="op" id="5468854">:=</span>&nbsp;<span class="ident" id="5468857">strings</span><span class="op" id="5468864">.</span><span class="ident" id="5468865">LastIndex</span><span class="op" id="5468874">(</span><span class="ident" id="5468875">s</span><span class="op" id="5468876">.</span><span class="ident" id="5468877">Name</span><span class="op" id="5468881">,</span>&nbsp;<span class="string" id="5468883">&#34;.&#34;</span><span class="op" id="5468886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5468889">if</span>&nbsp;<span class="ident" id="5468892">l</span>&nbsp;<span class="op" id="5468894">==</span>&nbsp;<span class="op" id="5468897">-</span><span class="num" id="5468898">1</span>&nbsp;<span class="op" id="5468900">||</span>&nbsp;<span class="ident" id="5468903">r</span>&nbsp;<span class="op" id="5468905">==</span>&nbsp;<span class="op" id="5468908">-</span><span class="num" id="5468909">1</span>&nbsp;<span class="op" id="5468911">||</span>&nbsp;<span class="ident" id="5468914">l</span>&nbsp;<span class="op" id="5468916">==</span>&nbsp;<span class="ident" id="5468919">r</span>&nbsp;<span class="op" id="5468921">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5468925">return</span>&nbsp;<span class="string" id="5468932">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5468936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5468939">return</span>&nbsp;<span class="ident" id="5468946">s</span><span class="op" id="5468947">.</span><span class="ident" id="5468948">Name</span><span class="op" id="5468952">[</span><span class="ident" id="5468953">l</span><span class="op" id="5468954">+</span><span class="num" id="5468955">1</span>&nbsp;<span class="op" id="5468957">:</span>&nbsp;<span class="ident" id="5468959">r</span><span class="op" id="5468960">]</span><br>
<span class="lineno"></span><span class="op" id="5468962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="5468965">//&nbsp;BaseName&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;name&nbsp;without&nbsp;the&nbsp;package&nbsp;or&nbsp;receiver&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="5469039">func</span>&nbsp;<span class="op" id="5469044">(</span><span class="ident" id="5469045">s</span>&nbsp;<span class="op" id="5469047">*</span><span class="ident" id="5469048">Sym</span><span class="op" id="5469051">)</span>&nbsp;<span class="ident" id="5469053">BaseName</span><span class="op" id="5469061">(</span><span class="op" id="5469062">)</span>&nbsp;<span class="builtintype" id="5469064">string</span>&nbsp;<span class="op" id="5469071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5469074">if</span>&nbsp;<span class="ident" id="5469077">i</span>&nbsp;<span class="op" id="5469079">:=</span>&nbsp;<span class="ident" id="5469082">strings</span><span class="op" id="5469089">.</span><span class="ident" id="5469090">LastIndex</span><span class="op" id="5469099">(</span><span class="ident" id="5469100">s</span><span class="op" id="5469101">.</span><span class="ident" id="5469102">Name</span><span class="op" id="5469106">,</span>&nbsp;<span class="string" id="5469108">&#34;.&#34;</span><span class="op" id="5469111">)</span><span class="op" id="5469112">;</span>&nbsp;<span class="ident" id="5469114">i</span>&nbsp;<span class="op" id="5469116">!=</span>&nbsp;<span class="op" id="5469119">-</span><span class="num" id="5469120">1</span>&nbsp;<span class="op" id="5469122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5469126">return</span>&nbsp;<span class="ident" id="5469133">s</span><span class="op" id="5469134">.</span><span class="ident" id="5469135">Name</span><span class="op" id="5469139">[</span><span class="ident" id="5469140">i</span><span class="op" id="5469141">+</span><span class="num" id="5469142">1</span><span class="op" id="5469143">:</span><span class="op" id="5469144">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5469147">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5469150">return</span>&nbsp;<span class="ident" id="5469157">s</span><span class="op" id="5469158">.</span><span class="ident" id="5469159">Name</span><br>
<span class="lineno"></span><span class="op" id="5469164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5469167">//&nbsp;A&nbsp;Func&nbsp;collects&nbsp;information&nbsp;about&nbsp;a&nbsp;single&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="5469223">type</span>&nbsp;<span class="ident" id="5469228">Func</span>&nbsp;<span class="keyword" id="5469233">struct</span>&nbsp;<span class="op" id="5469240">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5469243">Entry</span>&nbsp;<span class="ident" id="5469249">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5469257">*</span><span class="ident" id="5469258">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5469263">End</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5469273">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5469281">Params</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5469291">[</span><span class="op" id="5469292">]</span><span class="op" id="5469293">*</span><span class="ident" id="5469294">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5469299">Locals</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5469309">[</span><span class="op" id="5469310">]</span><span class="op" id="5469311">*</span><span class="ident" id="5469312">Sym</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5469317">FrameSize</span>&nbsp;<span class="builtintype" id="5469327">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5469332">LineTable</span>&nbsp;<span class="op" id="5469342">*</span><span class="ident" id="5469343">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5469354">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5469364">*</span><span class="ident" id="5469365">Obj</span><br>
<span class="lineno"></span><span class="op" id="5469369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="5469372">//&nbsp;An&nbsp;Obj&nbsp;represents&nbsp;a&nbsp;collection&nbsp;of&nbsp;functions&nbsp;in&nbsp;a&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="5469438">//</span><br>
<span class="lineno"></span><span class="comment" id="5469441">//&nbsp;The&nbsp;exact&nbsp;method&nbsp;of&nbsp;division&nbsp;of&nbsp;a&nbsp;binary&nbsp;into&nbsp;separate&nbsp;Objs&nbsp;is&nbsp;an&nbsp;internal&nbsp;detail</span><br>
<span class="lineno"></span><span class="comment" id="5469526">//&nbsp;of&nbsp;the&nbsp;symbol&nbsp;table&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5469557">//</span><br>
<span class="lineno">85</span><span class="comment" id="5469560">//&nbsp;In&nbsp;early&nbsp;versions&nbsp;of&nbsp;Go&nbsp;each&nbsp;source&nbsp;file&nbsp;became&nbsp;a&nbsp;different&nbsp;Obj.</span><br>
<span class="lineno"></span><span class="comment" id="5469628">//</span><br>
<span class="lineno"></span><span class="comment" id="5469631">//&nbsp;In&nbsp;Go&nbsp;1&nbsp;and&nbsp;Go&nbsp;1.1,&nbsp;each&nbsp;package&nbsp;produced&nbsp;one&nbsp;Obj&nbsp;for&nbsp;all&nbsp;Go&nbsp;sources</span><br>
<span class="lineno"></span><span class="comment" id="5469703">//&nbsp;and&nbsp;one&nbsp;Obj&nbsp;per&nbsp;C&nbsp;source&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="5469737">//</span><br>
<span class="lineno">90</span><span class="comment" id="5469740">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;there&nbsp;is&nbsp;a&nbsp;single&nbsp;Obj&nbsp;for&nbsp;the&nbsp;entire&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="5469800">type</span>&nbsp;<span class="ident" id="5469805">Obj</span>&nbsp;<span class="keyword" id="5469809">struct</span>&nbsp;<span class="op" id="5469816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5469819">//&nbsp;Funcs&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;functions&nbsp;in&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5469864">Funcs</span>&nbsp;<span class="op" id="5469870">[</span><span class="op" id="5469871">]</span><span class="ident" id="5469872">Func</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5469879">//&nbsp;In&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;Paths&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;symbols&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5469947">//&nbsp;to&nbsp;the&nbsp;source&nbsp;file&nbsp;names&nbsp;that&nbsp;produced&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5469999">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;Paths&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5470028">//&nbsp;Use&nbsp;the&nbsp;keys&nbsp;of&nbsp;Table.Files&nbsp;to&nbsp;obtain&nbsp;a&nbsp;list&nbsp;of&nbsp;source&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470094">Paths</span>&nbsp;<span class="op" id="5470100">[</span><span class="op" id="5470101">]</span><span class="ident" id="5470102">Sym</span>&nbsp;<span class="comment" id="5470106">//&nbsp;meta</span><br>
<span class="lineno">100</span><span class="op" id="5470114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5470117">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbol&nbsp;tables<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="5470142">//&nbsp;Table&nbsp;represents&nbsp;a&nbsp;Go&nbsp;symbol&nbsp;table.&nbsp;&nbsp;It&nbsp;stores&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5470203">//&nbsp;symbols&nbsp;decoded&nbsp;from&nbsp;the&nbsp;program&nbsp;and&nbsp;provides&nbsp;methods&nbsp;to&nbsp;translate</span><br>
<span class="lineno"></span><span class="comment" id="5470273">//&nbsp;between&nbsp;symbols,&nbsp;names,&nbsp;and&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="5470315">type</span>&nbsp;<span class="ident" id="5470320">Table</span>&nbsp;<span class="keyword" id="5470326">struct</span>&nbsp;<span class="op" id="5470333">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470336">Syms</span>&nbsp;&nbsp;<span class="op" id="5470342">[</span><span class="op" id="5470343">]</span><span class="ident" id="5470344">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470349">Funcs</span>&nbsp;<span class="op" id="5470355">[</span><span class="op" id="5470356">]</span><span class="ident" id="5470357">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470363">Files</span>&nbsp;<span class="keyword" id="5470369">map</span><span class="op" id="5470372">[</span><span class="builtintype" id="5470373">string</span><span class="op" id="5470379">]</span><span class="op" id="5470380">*</span><span class="ident" id="5470381">Obj</span>&nbsp;<span class="comment" id="5470385">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470423">Objs</span>&nbsp;&nbsp;<span class="op" id="5470429">[</span><span class="op" id="5470430">]</span><span class="ident" id="5470431">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5470445">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470484">go12line</span>&nbsp;<span class="op" id="5470493">*</span><span class="ident" id="5470494">LineTable</span>&nbsp;<span class="comment" id="5470504">//&nbsp;Go&nbsp;1.2&nbsp;line&nbsp;number&nbsp;table</span><br>
<span class="lineno"></span><span class="op" id="5470532">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5470535">type</span>&nbsp;<span class="ident" id="5470540">sym</span>&nbsp;<span class="keyword" id="5470544">struct</span>&nbsp;<span class="op" id="5470551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470554">value</span>&nbsp;&nbsp;<span class="ident" id="5470561">uint64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470569">gotype</span>&nbsp;<span class="ident" id="5470576">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470584">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5470591">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470597">name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5470604">[</span><span class="op" id="5470605">]</span><span class="builtintype" id="5470606">byte</span><br>
<span class="lineno"></span><span class="op" id="5470611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="5470614">var</span>&nbsp;<span class="op" id="5470618">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470621">littleEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5470643">=</span>&nbsp;<span class="op" id="5470645">[</span><span class="op" id="5470646">]</span><span class="builtintype" id="5470647">byte</span><span class="op" id="5470651">{</span><span class="num" id="5470652">0xFD</span><span class="op" id="5470656">,</span>&nbsp;<span class="num" id="5470658">0xFF</span><span class="op" id="5470662">,</span>&nbsp;<span class="num" id="5470664">0xFF</span><span class="op" id="5470668">,</span>&nbsp;<span class="num" id="5470670">0xFF</span><span class="op" id="5470674">,</span>&nbsp;<span class="num" id="5470676">0x00</span><span class="op" id="5470680">,</span>&nbsp;<span class="num" id="5470682">0x00</span><span class="op" id="5470686">,</span>&nbsp;<span class="num" id="5470688">0x00</span><span class="op" id="5470692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470695">bigEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5470717">=</span>&nbsp;<span class="op" id="5470719">[</span><span class="op" id="5470720">]</span><span class="builtintype" id="5470721">byte</span><span class="op" id="5470725">{</span><span class="num" id="5470726">0xFF</span><span class="op" id="5470730">,</span>&nbsp;<span class="num" id="5470732">0xFF</span><span class="op" id="5470736">,</span>&nbsp;<span class="num" id="5470738">0xFF</span><span class="op" id="5470742">,</span>&nbsp;<span class="num" id="5470744">0xFD</span><span class="op" id="5470748">,</span>&nbsp;<span class="num" id="5470750">0x00</span><span class="op" id="5470754">,</span>&nbsp;<span class="num" id="5470756">0x00</span><span class="op" id="5470760">,</span>&nbsp;<span class="num" id="5470762">0x00</span><span class="op" id="5470766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5470769">oldLittleEndianSymtab</span>&nbsp;<span class="op" id="5470791">=</span>&nbsp;<span class="op" id="5470793">[</span><span class="op" id="5470794">]</span><span class="builtintype" id="5470795">byte</span><span class="op" id="5470799">{</span><span class="num" id="5470800">0xFE</span><span class="op" id="5470804">,</span>&nbsp;<span class="num" id="5470806">0xFF</span><span class="op" id="5470810">,</span>&nbsp;<span class="num" id="5470812">0xFF</span><span class="op" id="5470816">,</span>&nbsp;<span class="num" id="5470818">0xFF</span><span class="op" id="5470822">,</span>&nbsp;<span class="num" id="5470824">0x00</span><span class="op" id="5470828">,</span>&nbsp;<span class="num" id="5470830">0x00</span><span class="op" id="5470834">}</span><br>
<span class="lineno"></span><span class="op" id="5470836">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="5470839">func</span>&nbsp;<span class="ident" id="5470844">walksymtab</span><span class="op" id="5470854">(</span><span class="ident" id="5470855">data</span>&nbsp;<span class="op" id="5470860">[</span><span class="op" id="5470861">]</span><span class="builtintype" id="5470862">byte</span><span class="op" id="5470866">,</span>&nbsp;<span class="ident" id="5470868">fn</span>&nbsp;<span class="keyword" id="5470871">func</span><span class="op" id="5470875">(</span><span class="ident" id="5470876">sym</span><span class="op" id="5470879">)</span>&nbsp;<span class="builtintype" id="5470881">error</span><span class="op" id="5470886">)</span>&nbsp;<span class="builtintype" id="5470888">error</span>&nbsp;<span class="op" id="5470894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5470897">if</span>&nbsp;<span class="builtinfunc" id="5470900">len</span><span class="op" id="5470903">(</span><span class="ident" id="5470904">data</span><span class="op" id="5470908">)</span>&nbsp;<span class="op" id="5470910">==</span>&nbsp;<span class="num" id="5470913">0</span>&nbsp;<span class="op" id="5470915">{</span>&nbsp;<span class="comment" id="5470917">//&nbsp;missing&nbsp;symtab&nbsp;is&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5470945">return</span>&nbsp;<span class="ident" id="5470952">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5470957">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5470960">var</span>&nbsp;<span class="ident" id="5470964">order</span>&nbsp;<span class="ident" id="5470970">binary</span><span class="op" id="5470976">.</span><span class="ident" id="5470977">ByteOrder</span>&nbsp;<span class="op" id="5470987">=</span>&nbsp;<span class="ident" id="5470989">binary</span><span class="op" id="5470995">.</span><span class="ident" id="5470996">BigEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471007">newTable</span>&nbsp;<span class="op" id="5471016">:=</span>&nbsp;<span class="builtintype" id="5471019">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471026">switch</span>&nbsp;<span class="op" id="5471033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471036">case</span>&nbsp;<span class="ident" id="5471041">bytes</span><span class="op" id="5471046">.</span><span class="ident" id="5471047">HasPrefix</span><span class="op" id="5471056">(</span><span class="ident" id="5471057">data</span><span class="op" id="5471061">,</span>&nbsp;<span class="ident" id="5471063">oldLittleEndianSymtab</span><span class="op" id="5471084">)</span><span class="op" id="5471085">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5471089">//&nbsp;Same&nbsp;as&nbsp;Go&nbsp;1.0,&nbsp;but&nbsp;little&nbsp;endian.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5471129">//&nbsp;Format&nbsp;was&nbsp;used&nbsp;during&nbsp;interim&nbsp;development&nbsp;between&nbsp;Go&nbsp;1.0&nbsp;and&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5471204">//&nbsp;Should&nbsp;not&nbsp;be&nbsp;widespread,&nbsp;but&nbsp;easy&nbsp;to&nbsp;support.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471256">data</span>&nbsp;<span class="op" id="5471261">=</span>&nbsp;<span class="ident" id="5471263">data</span><span class="op" id="5471267">[</span><span class="num" id="5471268">6</span><span class="op" id="5471269">:</span><span class="op" id="5471270">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471274">order</span>&nbsp;<span class="op" id="5471280">=</span>&nbsp;<span class="ident" id="5471282">binary</span><span class="op" id="5471288">.</span><span class="ident" id="5471289">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471303">case</span>&nbsp;<span class="ident" id="5471308">bytes</span><span class="op" id="5471313">.</span><span class="ident" id="5471314">HasPrefix</span><span class="op" id="5471323">(</span><span class="ident" id="5471324">data</span><span class="op" id="5471328">,</span>&nbsp;<span class="ident" id="5471330">bigEndianSymtab</span><span class="op" id="5471345">)</span><span class="op" id="5471346">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471350">newTable</span>&nbsp;<span class="op" id="5471359">=</span>&nbsp;<span class="builtintype" id="5471361">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471367">case</span>&nbsp;<span class="ident" id="5471372">bytes</span><span class="op" id="5471377">.</span><span class="ident" id="5471378">HasPrefix</span><span class="op" id="5471387">(</span><span class="ident" id="5471388">data</span><span class="op" id="5471392">,</span>&nbsp;<span class="ident" id="5471394">littleEndianSymtab</span><span class="op" id="5471412">)</span><span class="op" id="5471413">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471417">newTable</span>&nbsp;<span class="op" id="5471426">=</span>&nbsp;<span class="builtintype" id="5471428">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471435">order</span>&nbsp;<span class="op" id="5471441">=</span>&nbsp;<span class="ident" id="5471443">binary</span><span class="op" id="5471449">.</span><span class="ident" id="5471450">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5471464">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471467">var</span>&nbsp;<span class="ident" id="5471471">ptrsz</span>&nbsp;<span class="builtintype" id="5471477">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471482">if</span>&nbsp;<span class="ident" id="5471485">newTable</span>&nbsp;<span class="op" id="5471494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471498">if</span>&nbsp;<span class="builtinfunc" id="5471501">len</span><span class="op" id="5471504">(</span><span class="ident" id="5471505">data</span><span class="op" id="5471509">)</span>&nbsp;<span class="op" id="5471511">&lt;</span>&nbsp;<span class="num" id="5471513">8</span>&nbsp;<span class="op" id="5471515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471520">return</span>&nbsp;<span class="op" id="5471527">&amp;</span><span class="ident" id="5471528">DecodingError</span><span class="op" id="5471541">{</span><span class="builtinfunc" id="5471542">len</span><span class="op" id="5471545">(</span><span class="ident" id="5471546">data</span><span class="op" id="5471550">)</span><span class="op" id="5471551">,</span>&nbsp;<span class="string" id="5471553">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5471569">,</span>&nbsp;<span class="ident" id="5471571">nil</span><span class="op" id="5471574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5471578">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471582">ptrsz</span>&nbsp;<span class="op" id="5471588">=</span>&nbsp;<span class="builtintype" id="5471590">int</span><span class="op" id="5471593">(</span><span class="ident" id="5471594">data</span><span class="op" id="5471598">[</span><span class="num" id="5471599">7</span><span class="op" id="5471600">]</span><span class="op" id="5471601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471605">if</span>&nbsp;<span class="ident" id="5471608">ptrsz</span>&nbsp;<span class="op" id="5471614">!=</span>&nbsp;<span class="num" id="5471617">4</span>&nbsp;<span class="op" id="5471619">&amp;&amp;</span>&nbsp;<span class="ident" id="5471622">ptrsz</span>&nbsp;<span class="op" id="5471628">!=</span>&nbsp;<span class="num" id="5471631">8</span>&nbsp;<span class="op" id="5471633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471638">return</span>&nbsp;<span class="op" id="5471645">&amp;</span><span class="ident" id="5471646">DecodingError</span><span class="op" id="5471659">{</span><span class="num" id="5471660">7</span><span class="op" id="5471661">,</span>&nbsp;<span class="string" id="5471663">&#34;invalid&nbsp;pointer&nbsp;size&#34;</span><span class="op" id="5471685">,</span>&nbsp;<span class="ident" id="5471687">ptrsz</span><span class="op" id="5471692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5471696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471700">data</span>&nbsp;<span class="op" id="5471705">=</span>&nbsp;<span class="ident" id="5471707">data</span><span class="op" id="5471711">[</span><span class="num" id="5471712">8</span><span class="op" id="5471713">:</span><span class="op" id="5471714">]</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5471717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471720">var</span>&nbsp;<span class="ident" id="5471724">s</span>&nbsp;<span class="ident" id="5471726">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471731">p</span>&nbsp;<span class="op" id="5471733">:=</span>&nbsp;<span class="ident" id="5471736">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471742">for</span>&nbsp;<span class="builtinfunc" id="5471746">len</span><span class="op" id="5471749">(</span><span class="ident" id="5471750">p</span><span class="op" id="5471751">)</span>&nbsp;<span class="op" id="5471753">&gt;=</span>&nbsp;<span class="num" id="5471756">4</span>&nbsp;<span class="op" id="5471758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471762">var</span>&nbsp;<span class="ident" id="5471766">typ</span>&nbsp;<span class="builtintype" id="5471770">byte</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471777">if</span>&nbsp;<span class="ident" id="5471780">newTable</span>&nbsp;<span class="op" id="5471789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5471794">//&nbsp;Symbol&nbsp;type,&nbsp;value,&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471829">typ</span>&nbsp;<span class="op" id="5471833">=</span>&nbsp;<span class="ident" id="5471835">p</span><span class="op" id="5471836">[</span><span class="num" id="5471837">0</span><span class="op" id="5471838">]</span>&nbsp;<span class="op" id="5471840">&amp;</span>&nbsp;<span class="num" id="5471842">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471850">wideValue</span>&nbsp;<span class="op" id="5471860">:=</span>&nbsp;<span class="ident" id="5471863">p</span><span class="op" id="5471864">[</span><span class="num" id="5471865">0</span><span class="op" id="5471866">]</span><span class="op" id="5471867">&amp;</span><span class="num" id="5471868">0x40</span>&nbsp;<span class="op" id="5471873">!=</span>&nbsp;<span class="num" id="5471876">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471881">goType</span>&nbsp;<span class="op" id="5471888">:=</span>&nbsp;<span class="ident" id="5471891">p</span><span class="op" id="5471892">[</span><span class="num" id="5471893">0</span><span class="op" id="5471894">]</span><span class="op" id="5471895">&amp;</span><span class="num" id="5471896">0x80</span>&nbsp;<span class="op" id="5471901">!=</span>&nbsp;<span class="num" id="5471904">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5471909">if</span>&nbsp;<span class="ident" id="5471912">typ</span>&nbsp;<span class="op" id="5471916">&lt;</span>&nbsp;<span class="num" id="5471918">26</span>&nbsp;<span class="op" id="5471921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471927">typ</span>&nbsp;<span class="op" id="5471931">+=</span>&nbsp;<span class="string" id="5471934">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5471941">}</span>&nbsp;<span class="keyword" id="5471943">else</span>&nbsp;<span class="op" id="5471948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471954">typ</span>&nbsp;<span class="op" id="5471958">+=</span>&nbsp;<span class="string" id="5471961">&#39;a&#39;</span>&nbsp;<span class="op" id="5471965">-</span>&nbsp;<span class="num" id="5471967">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5471973">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471978">s</span><span class="op" id="5471979">.</span><span class="ident" id="5471980">typ</span>&nbsp;<span class="op" id="5471984">=</span>&nbsp;<span class="ident" id="5471986">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5471993">p</span>&nbsp;<span class="op" id="5471995">=</span>&nbsp;<span class="ident" id="5471997">p</span><span class="op" id="5471998">[</span><span class="num" id="5471999">1</span><span class="op" id="5472000">:</span><span class="op" id="5472001">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472006">if</span>&nbsp;<span class="ident" id="5472009">wideValue</span>&nbsp;<span class="op" id="5472019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472025">if</span>&nbsp;<span class="builtinfunc" id="5472028">len</span><span class="op" id="5472031">(</span><span class="ident" id="5472032">p</span><span class="op" id="5472033">)</span>&nbsp;<span class="op" id="5472035">&lt;</span>&nbsp;<span class="ident" id="5472037">ptrsz</span>&nbsp;<span class="op" id="5472043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472050">return</span>&nbsp;<span class="op" id="5472057">&amp;</span><span class="ident" id="5472058">DecodingError</span><span class="op" id="5472071">{</span><span class="builtinfunc" id="5472072">len</span><span class="op" id="5472075">(</span><span class="ident" id="5472076">data</span><span class="op" id="5472080">)</span><span class="op" id="5472081">,</span>&nbsp;<span class="string" id="5472083">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5472099">,</span>&nbsp;<span class="ident" id="5472101">nil</span><span class="op" id="5472104">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5472116">//&nbsp;fixed-width&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472141">if</span>&nbsp;<span class="ident" id="5472144">ptrsz</span>&nbsp;<span class="op" id="5472150">==</span>&nbsp;<span class="num" id="5472153">8</span>&nbsp;<span class="op" id="5472155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472162">s</span><span class="op" id="5472163">.</span><span class="ident" id="5472164">value</span>&nbsp;<span class="op" id="5472170">=</span>&nbsp;<span class="ident" id="5472172">order</span><span class="op" id="5472177">.</span><span class="ident" id="5472178">Uint64</span><span class="op" id="5472184">(</span><span class="ident" id="5472185">p</span><span class="op" id="5472186">[</span><span class="num" id="5472187">0</span><span class="op" id="5472188">:</span><span class="num" id="5472189">8</span><span class="op" id="5472190">]</span><span class="op" id="5472191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472198">p</span>&nbsp;<span class="op" id="5472200">=</span>&nbsp;<span class="ident" id="5472202">p</span><span class="op" id="5472203">[</span><span class="num" id="5472204">8</span><span class="op" id="5472205">:</span><span class="op" id="5472206">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472212">}</span>&nbsp;<span class="keyword" id="5472214">else</span>&nbsp;<span class="op" id="5472219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472226">s</span><span class="op" id="5472227">.</span><span class="ident" id="5472228">value</span>&nbsp;<span class="op" id="5472234">=</span>&nbsp;<span class="ident" id="5472236">uint64</span><span class="op" id="5472242">(</span><span class="ident" id="5472243">order</span><span class="op" id="5472248">.</span><span class="ident" id="5472249">Uint32</span><span class="op" id="5472255">(</span><span class="ident" id="5472256">p</span><span class="op" id="5472257">[</span><span class="num" id="5472258">0</span><span class="op" id="5472259">:</span><span class="num" id="5472260">4</span><span class="op" id="5472261">]</span><span class="op" id="5472262">)</span><span class="op" id="5472263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472270">p</span>&nbsp;<span class="op" id="5472272">=</span>&nbsp;<span class="ident" id="5472274">p</span><span class="op" id="5472275">[</span><span class="num" id="5472276">4</span><span class="op" id="5472277">:</span><span class="op" id="5472278">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472289">}</span>&nbsp;<span class="keyword" id="5472291">else</span>&nbsp;<span class="op" id="5472296">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5472302">//&nbsp;varint&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472322">s</span><span class="op" id="5472323">.</span><span class="ident" id="5472324">value</span>&nbsp;<span class="op" id="5472330">=</span>&nbsp;<span class="num" id="5472332">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472338">shift</span>&nbsp;<span class="op" id="5472344">:=</span>&nbsp;<span class="builtintype" id="5472347">uint</span><span class="op" id="5472351">(</span><span class="num" id="5472352">0</span><span class="op" id="5472353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472359">for</span>&nbsp;<span class="builtinfunc" id="5472363">len</span><span class="op" id="5472366">(</span><span class="ident" id="5472367">p</span><span class="op" id="5472368">)</span>&nbsp;<span class="op" id="5472370">&gt;</span>&nbsp;<span class="num" id="5472372">0</span>&nbsp;<span class="op" id="5472374">&amp;&amp;</span>&nbsp;<span class="ident" id="5472377">p</span><span class="op" id="5472378">[</span><span class="num" id="5472379">0</span><span class="op" id="5472380">]</span><span class="op" id="5472381">&amp;</span><span class="num" id="5472382">0x80</span>&nbsp;<span class="op" id="5472387">!=</span>&nbsp;<span class="num" id="5472390">0</span>&nbsp;<span class="op" id="5472392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472399">s</span><span class="op" id="5472400">.</span><span class="ident" id="5472401">value</span>&nbsp;<span class="op" id="5472407">|=</span>&nbsp;<span class="ident" id="5472410">uint64</span><span class="op" id="5472416">(</span><span class="ident" id="5472417">p</span><span class="op" id="5472418">[</span><span class="num" id="5472419">0</span><span class="op" id="5472420">]</span><span class="op" id="5472421">&amp;</span><span class="num" id="5472422">0x7F</span><span class="op" id="5472426">)</span>&nbsp;<span class="op" id="5472428">&lt;&lt;</span>&nbsp;<span class="ident" id="5472431">shift</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472442">shift</span>&nbsp;<span class="op" id="5472448">+=</span>&nbsp;<span class="num" id="5472451">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472458">p</span>&nbsp;<span class="op" id="5472460">=</span>&nbsp;<span class="ident" id="5472462">p</span><span class="op" id="5472463">[</span><span class="num" id="5472464">1</span><span class="op" id="5472465">:</span><span class="op" id="5472466">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472478">if</span>&nbsp;<span class="builtinfunc" id="5472481">len</span><span class="op" id="5472484">(</span><span class="ident" id="5472485">p</span><span class="op" id="5472486">)</span>&nbsp;<span class="op" id="5472488">==</span>&nbsp;<span class="num" id="5472491">0</span>&nbsp;<span class="op" id="5472493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472500">return</span>&nbsp;<span class="op" id="5472507">&amp;</span><span class="ident" id="5472508">DecodingError</span><span class="op" id="5472521">{</span><span class="builtinfunc" id="5472522">len</span><span class="op" id="5472525">(</span><span class="ident" id="5472526">data</span><span class="op" id="5472530">)</span><span class="op" id="5472531">,</span>&nbsp;<span class="string" id="5472533">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5472549">,</span>&nbsp;<span class="ident" id="5472551">nil</span><span class="op" id="5472554">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472566">s</span><span class="op" id="5472567">.</span><span class="ident" id="5472568">value</span>&nbsp;<span class="op" id="5472574">|=</span>&nbsp;<span class="ident" id="5472577">uint64</span><span class="op" id="5472583">(</span><span class="ident" id="5472584">p</span><span class="op" id="5472585">[</span><span class="num" id="5472586">0</span><span class="op" id="5472587">]</span><span class="op" id="5472588">)</span>&nbsp;<span class="op" id="5472590">&lt;&lt;</span>&nbsp;<span class="ident" id="5472593">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472603">p</span>&nbsp;<span class="op" id="5472605">=</span>&nbsp;<span class="ident" id="5472607">p</span><span class="op" id="5472608">[</span><span class="num" id="5472609">1</span><span class="op" id="5472610">:</span><span class="op" id="5472611">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472621">if</span>&nbsp;<span class="ident" id="5472624">goType</span>&nbsp;<span class="op" id="5472631">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472637">if</span>&nbsp;<span class="builtinfunc" id="5472640">len</span><span class="op" id="5472643">(</span><span class="ident" id="5472644">p</span><span class="op" id="5472645">)</span>&nbsp;<span class="op" id="5472647">&lt;</span>&nbsp;<span class="ident" id="5472649">ptrsz</span>&nbsp;<span class="op" id="5472655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472662">return</span>&nbsp;<span class="op" id="5472669">&amp;</span><span class="ident" id="5472670">DecodingError</span><span class="op" id="5472683">{</span><span class="builtinfunc" id="5472684">len</span><span class="op" id="5472687">(</span><span class="ident" id="5472688">data</span><span class="op" id="5472692">)</span><span class="op" id="5472693">,</span>&nbsp;<span class="string" id="5472695">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5472711">,</span>&nbsp;<span class="ident" id="5472713">nil</span><span class="op" id="5472716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5472728">//&nbsp;fixed-width&nbsp;go&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472755">if</span>&nbsp;<span class="ident" id="5472758">ptrsz</span>&nbsp;<span class="op" id="5472764">==</span>&nbsp;<span class="num" id="5472767">8</span>&nbsp;<span class="op" id="5472769">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472776">s</span><span class="op" id="5472777">.</span><span class="ident" id="5472778">gotype</span>&nbsp;<span class="op" id="5472785">=</span>&nbsp;<span class="ident" id="5472787">order</span><span class="op" id="5472792">.</span><span class="ident" id="5472793">Uint64</span><span class="op" id="5472799">(</span><span class="ident" id="5472800">p</span><span class="op" id="5472801">[</span><span class="num" id="5472802">0</span><span class="op" id="5472803">:</span><span class="num" id="5472804">8</span><span class="op" id="5472805">]</span><span class="op" id="5472806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472813">p</span>&nbsp;<span class="op" id="5472815">=</span>&nbsp;<span class="ident" id="5472817">p</span><span class="op" id="5472818">[</span><span class="num" id="5472819">8</span><span class="op" id="5472820">:</span><span class="op" id="5472821">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472827">}</span>&nbsp;<span class="keyword" id="5472829">else</span>&nbsp;<span class="op" id="5472834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472841">s</span><span class="op" id="5472842">.</span><span class="ident" id="5472843">gotype</span>&nbsp;<span class="op" id="5472850">=</span>&nbsp;<span class="ident" id="5472852">uint64</span><span class="op" id="5472858">(</span><span class="ident" id="5472859">order</span><span class="op" id="5472864">.</span><span class="ident" id="5472865">Uint32</span><span class="op" id="5472871">(</span><span class="ident" id="5472872">p</span><span class="op" id="5472873">[</span><span class="num" id="5472874">0</span><span class="op" id="5472875">:</span><span class="num" id="5472876">4</span><span class="op" id="5472877">]</span><span class="op" id="5472878">)</span><span class="op" id="5472879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472886">p</span>&nbsp;<span class="op" id="5472888">=</span>&nbsp;<span class="ident" id="5472890">p</span><span class="op" id="5472891">[</span><span class="num" id="5472892">4</span><span class="op" id="5472893">:</span><span class="op" id="5472894">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5472909">}</span>&nbsp;<span class="keyword" id="5472911">else</span>&nbsp;<span class="op" id="5472916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5472921">//&nbsp;Value,&nbsp;symbol&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5472947">s</span><span class="op" id="5472948">.</span><span class="ident" id="5472949">value</span>&nbsp;<span class="op" id="5472955">=</span>&nbsp;<span class="ident" id="5472957">uint64</span><span class="op" id="5472963">(</span><span class="ident" id="5472964">order</span><span class="op" id="5472969">.</span><span class="ident" id="5472970">Uint32</span><span class="op" id="5472976">(</span><span class="ident" id="5472977">p</span><span class="op" id="5472978">[</span><span class="num" id="5472979">0</span><span class="op" id="5472980">:</span><span class="num" id="5472981">4</span><span class="op" id="5472982">]</span><span class="op" id="5472983">)</span><span class="op" id="5472984">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5472989">if</span>&nbsp;<span class="builtinfunc" id="5472992">len</span><span class="op" id="5472995">(</span><span class="ident" id="5472996">p</span><span class="op" id="5472997">)</span>&nbsp;<span class="op" id="5472999">&lt;</span>&nbsp;<span class="num" id="5473001">5</span>&nbsp;<span class="op" id="5473003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473009">return</span>&nbsp;<span class="op" id="5473016">&amp;</span><span class="ident" id="5473017">DecodingError</span><span class="op" id="5473030">{</span><span class="builtinfunc" id="5473031">len</span><span class="op" id="5473034">(</span><span class="ident" id="5473035">data</span><span class="op" id="5473039">)</span><span class="op" id="5473040">,</span>&nbsp;<span class="string" id="5473042">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5473058">,</span>&nbsp;<span class="ident" id="5473060">nil</span><span class="op" id="5473063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473073">typ</span>&nbsp;<span class="op" id="5473077">=</span>&nbsp;<span class="ident" id="5473079">p</span><span class="op" id="5473080">[</span><span class="num" id="5473081">4</span><span class="op" id="5473082">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473087">if</span>&nbsp;<span class="ident" id="5473090">typ</span><span class="op" id="5473093">&amp;</span><span class="num" id="5473094">0x80</span>&nbsp;<span class="op" id="5473099">==</span>&nbsp;<span class="num" id="5473102">0</span>&nbsp;<span class="op" id="5473104">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473110">return</span>&nbsp;<span class="op" id="5473117">&amp;</span><span class="ident" id="5473118">DecodingError</span><span class="op" id="5473131">{</span><span class="builtinfunc" id="5473132">len</span><span class="op" id="5473135">(</span><span class="ident" id="5473136">data</span><span class="op" id="5473140">)</span>&nbsp;<span class="op" id="5473142">-</span>&nbsp;<span class="builtinfunc" id="5473144">len</span><span class="op" id="5473147">(</span><span class="ident" id="5473148">p</span><span class="op" id="5473149">)</span>&nbsp;<span class="op" id="5473151">+</span>&nbsp;<span class="num" id="5473153">4</span><span class="op" id="5473154">,</span>&nbsp;<span class="string" id="5473156">&#34;bad&nbsp;symbol&nbsp;type&#34;</span><span class="op" id="5473173">,</span>&nbsp;<span class="ident" id="5473175">typ</span><span class="op" id="5473178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473188">typ</span>&nbsp;<span class="op" id="5473192">&amp;^=</span>&nbsp;<span class="num" id="5473196">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473204">s</span><span class="op" id="5473205">.</span><span class="ident" id="5473206">typ</span>&nbsp;<span class="op" id="5473210">=</span>&nbsp;<span class="ident" id="5473212">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473219">p</span>&nbsp;<span class="op" id="5473221">=</span>&nbsp;<span class="ident" id="5473223">p</span><span class="op" id="5473224">[</span><span class="num" id="5473225">5</span><span class="op" id="5473226">:</span><span class="op" id="5473227">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5473236">//&nbsp;Name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473247">var</span>&nbsp;<span class="ident" id="5473251">i</span>&nbsp;<span class="builtintype" id="5473253">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473259">var</span>&nbsp;<span class="ident" id="5473263">nnul</span>&nbsp;<span class="builtintype" id="5473268">int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473274">for</span>&nbsp;<span class="ident" id="5473278">i</span>&nbsp;<span class="op" id="5473280">=</span>&nbsp;<span class="num" id="5473282">0</span><span class="op" id="5473283">;</span>&nbsp;<span class="ident" id="5473285">i</span>&nbsp;<span class="op" id="5473287">&lt;</span>&nbsp;<span class="builtinfunc" id="5473289">len</span><span class="op" id="5473292">(</span><span class="ident" id="5473293">p</span><span class="op" id="5473294">)</span><span class="op" id="5473295">;</span>&nbsp;<span class="ident" id="5473297">i</span><span class="op" id="5473298">++</span>&nbsp;<span class="op" id="5473301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473306">if</span>&nbsp;<span class="ident" id="5473309">p</span><span class="op" id="5473310">[</span><span class="ident" id="5473311">i</span><span class="op" id="5473312">]</span>&nbsp;<span class="op" id="5473314">==</span>&nbsp;<span class="num" id="5473317">0</span>&nbsp;<span class="op" id="5473319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473325">nnul</span>&nbsp;<span class="op" id="5473330">=</span>&nbsp;<span class="num" id="5473332">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473338">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473347">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473355">switch</span>&nbsp;<span class="ident" id="5473362">typ</span>&nbsp;<span class="op" id="5473366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473370">case</span>&nbsp;<span class="string" id="5473375">&#39;z&#39;</span><span class="op" id="5473378">,</span>&nbsp;<span class="string" id="5473380">&#39;Z&#39;</span><span class="op" id="5473383">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473388">p</span>&nbsp;<span class="op" id="5473390">=</span>&nbsp;<span class="ident" id="5473392">p</span><span class="op" id="5473393">[</span><span class="ident" id="5473394">i</span><span class="op" id="5473395">+</span><span class="ident" id="5473396">nnul</span><span class="op" id="5473400">:</span><span class="op" id="5473401">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473406">for</span>&nbsp;<span class="ident" id="5473410">i</span>&nbsp;<span class="op" id="5473412">=</span>&nbsp;<span class="num" id="5473414">0</span><span class="op" id="5473415">;</span>&nbsp;<span class="ident" id="5473417">i</span><span class="op" id="5473418">+</span><span class="num" id="5473419">2</span>&nbsp;<span class="op" id="5473421">&lt;=</span>&nbsp;<span class="builtinfunc" id="5473424">len</span><span class="op" id="5473427">(</span><span class="ident" id="5473428">p</span><span class="op" id="5473429">)</span><span class="op" id="5473430">;</span>&nbsp;<span class="ident" id="5473432">i</span>&nbsp;<span class="op" id="5473434">+=</span>&nbsp;<span class="num" id="5473437">2</span>&nbsp;<span class="op" id="5473439">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473445">if</span>&nbsp;<span class="ident" id="5473448">p</span><span class="op" id="5473449">[</span><span class="ident" id="5473450">i</span><span class="op" id="5473451">]</span>&nbsp;<span class="op" id="5473453">==</span>&nbsp;<span class="num" id="5473456">0</span>&nbsp;<span class="op" id="5473458">&amp;&amp;</span>&nbsp;<span class="ident" id="5473461">p</span><span class="op" id="5473462">[</span><span class="ident" id="5473463">i</span><span class="op" id="5473464">+</span><span class="num" id="5473465">1</span><span class="op" id="5473466">]</span>&nbsp;<span class="op" id="5473468">==</span>&nbsp;<span class="num" id="5473471">0</span>&nbsp;<span class="op" id="5473473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473480">nnul</span>&nbsp;<span class="op" id="5473485">=</span>&nbsp;<span class="num" id="5473487">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473494">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473509">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473517">if</span>&nbsp;<span class="builtinfunc" id="5473520">len</span><span class="op" id="5473523">(</span><span class="ident" id="5473524">p</span><span class="op" id="5473525">)</span>&nbsp;<span class="op" id="5473527">&lt;</span>&nbsp;<span class="ident" id="5473529">i</span><span class="op" id="5473530">+</span><span class="ident" id="5473531">nnul</span>&nbsp;<span class="op" id="5473536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473541">return</span>&nbsp;<span class="op" id="5473548">&amp;</span><span class="ident" id="5473549">DecodingError</span><span class="op" id="5473562">{</span><span class="builtinfunc" id="5473563">len</span><span class="op" id="5473566">(</span><span class="ident" id="5473567">data</span><span class="op" id="5473571">)</span><span class="op" id="5473572">,</span>&nbsp;<span class="string" id="5473574">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5473590">,</span>&nbsp;<span class="ident" id="5473592">nil</span><span class="op" id="5473595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473603">s</span><span class="op" id="5473604">.</span><span class="ident" id="5473605">name</span>&nbsp;<span class="op" id="5473610">=</span>&nbsp;<span class="ident" id="5473612">p</span><span class="op" id="5473613">[</span><span class="num" id="5473614">0</span><span class="op" id="5473615">:</span><span class="ident" id="5473616">i</span><span class="op" id="5473617">]</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473621">i</span>&nbsp;<span class="op" id="5473623">+=</span>&nbsp;<span class="ident" id="5473626">nnul</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473633">p</span>&nbsp;<span class="op" id="5473635">=</span>&nbsp;<span class="ident" id="5473637">p</span><span class="op" id="5473638">[</span><span class="ident" id="5473639">i</span><span class="op" id="5473640">:</span><span class="op" id="5473641">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473646">if</span>&nbsp;<span class="op" id="5473649">!</span><span class="ident" id="5473650">newTable</span>&nbsp;<span class="op" id="5473659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473664">if</span>&nbsp;<span class="builtinfunc" id="5473667">len</span><span class="op" id="5473670">(</span><span class="ident" id="5473671">p</span><span class="op" id="5473672">)</span>&nbsp;<span class="op" id="5473674">&lt;</span>&nbsp;<span class="num" id="5473676">4</span>&nbsp;<span class="op" id="5473678">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473684">return</span>&nbsp;<span class="op" id="5473691">&amp;</span><span class="ident" id="5473692">DecodingError</span><span class="op" id="5473705">{</span><span class="builtinfunc" id="5473706">len</span><span class="op" id="5473709">(</span><span class="ident" id="5473710">data</span><span class="op" id="5473714">)</span><span class="op" id="5473715">,</span>&nbsp;<span class="string" id="5473717">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5473733">,</span>&nbsp;<span class="ident" id="5473735">nil</span><span class="op" id="5473738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5473748">//&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473763">s</span><span class="op" id="5473764">.</span><span class="ident" id="5473765">gotype</span>&nbsp;<span class="op" id="5473772">=</span>&nbsp;<span class="ident" id="5473774">uint64</span><span class="op" id="5473780">(</span><span class="ident" id="5473781">order</span><span class="op" id="5473786">.</span><span class="ident" id="5473787">Uint32</span><span class="op" id="5473793">(</span><span class="ident" id="5473794">p</span><span class="op" id="5473795">[</span><span class="op" id="5473796">:</span><span class="num" id="5473797">4</span><span class="op" id="5473798">]</span><span class="op" id="5473799">)</span><span class="op" id="5473800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473805">p</span>&nbsp;<span class="op" id="5473807">=</span>&nbsp;<span class="ident" id="5473809">p</span><span class="op" id="5473810">[</span><span class="num" id="5473811">4</span><span class="op" id="5473812">:</span><span class="op" id="5473813">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5473821">fn</span><span class="op" id="5473823">(</span><span class="ident" id="5473824">s</span><span class="op" id="5473825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5473828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5473831">return</span>&nbsp;<span class="ident" id="5473838">nil</span><br>
<span class="lineno"></span><span class="op" id="5473842">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="5473845">//&nbsp;NewTable&nbsp;decodes&nbsp;the&nbsp;Go&nbsp;symbol&nbsp;table&nbsp;in&nbsp;data,</span><br>
<span class="lineno"></span><span class="comment" id="5473894">//&nbsp;returning&nbsp;an&nbsp;in-memory&nbsp;representation.</span><br>
<span class="lineno"></span><span class="keyword" id="5473936">func</span>&nbsp;<span class="ident" id="5473941">NewTable</span><span class="op" id="5473949">(</span><span class="ident" id="5473950">symtab</span>&nbsp;<span class="op" id="5473957">[</span><span class="op" id="5473958">]</span><span class="builtintype" id="5473959">byte</span><span class="op" id="5473963">,</span>&nbsp;<span class="ident" id="5473965">pcln</span>&nbsp;<span class="op" id="5473970">*</span><span class="ident" id="5473971">LineTable</span><span class="op" id="5473980">)</span>&nbsp;<span class="op" id="5473982">(</span><span class="op" id="5473983">*</span><span class="ident" id="5473984">Table</span><span class="op" id="5473989">,</span>&nbsp;<span class="builtintype" id="5473991">error</span><span class="op" id="5473996">)</span>&nbsp;<span class="op" id="5473998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474001">var</span>&nbsp;<span class="ident" id="5474005">n</span>&nbsp;<span class="builtintype" id="5474007">int</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474012">err</span>&nbsp;<span class="op" id="5474016">:=</span>&nbsp;<span class="ident" id="5474019">walksymtab</span><span class="op" id="5474029">(</span><span class="ident" id="5474030">symtab</span><span class="op" id="5474036">,</span>&nbsp;<span class="keyword" id="5474038">func</span><span class="op" id="5474042">(</span><span class="ident" id="5474043">s</span>&nbsp;<span class="ident" id="5474045">sym</span><span class="op" id="5474048">)</span>&nbsp;<span class="builtintype" id="5474050">error</span>&nbsp;<span class="op" id="5474056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474060">n</span><span class="op" id="5474061">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474066">return</span>&nbsp;<span class="ident" id="5474073">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5474078">}</span><span class="op" id="5474079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474082">if</span>&nbsp;<span class="ident" id="5474085">err</span>&nbsp;<span class="op" id="5474089">!=</span>&nbsp;<span class="ident" id="5474092">nil</span>&nbsp;<span class="op" id="5474096">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474100">return</span>&nbsp;<span class="ident" id="5474107">nil</span><span class="op" id="5474110">,</span>&nbsp;<span class="ident" id="5474112">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5474117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474121">var</span>&nbsp;<span class="ident" id="5474125">t</span>&nbsp;<span class="ident" id="5474127">Table</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474134">if</span>&nbsp;<span class="ident" id="5474137">pcln</span><span class="op" id="5474141">.</span><span class="ident" id="5474142">isGo12</span><span class="op" id="5474148">(</span><span class="op" id="5474149">)</span>&nbsp;<span class="op" id="5474151">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474155">t</span><span class="op" id="5474156">.</span><span class="ident" id="5474157">go12line</span>&nbsp;<span class="op" id="5474166">=</span>&nbsp;<span class="ident" id="5474168">pcln</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5474174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474177">fname</span>&nbsp;<span class="op" id="5474183">:=</span>&nbsp;<span class="builtinfunc" id="5474186">make</span><span class="op" id="5474190">(</span><span class="keyword" id="5474191">map</span><span class="op" id="5474194">[</span><span class="builtintype" id="5474195">uint16</span><span class="op" id="5474201">]</span><span class="builtintype" id="5474202">string</span><span class="op" id="5474208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474211">t</span><span class="op" id="5474212">.</span><span class="ident" id="5474213">Syms</span>&nbsp;<span class="op" id="5474218">=</span>&nbsp;<span class="builtinfunc" id="5474220">make</span><span class="op" id="5474224">(</span><span class="op" id="5474225">[</span><span class="op" id="5474226">]</span><span class="ident" id="5474227">Sym</span><span class="op" id="5474230">,</span>&nbsp;<span class="num" id="5474232">0</span><span class="op" id="5474233">,</span>&nbsp;<span class="ident" id="5474235">n</span><span class="op" id="5474236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474239">nf</span>&nbsp;<span class="op" id="5474242">:=</span>&nbsp;<span class="num" id="5474245">0</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474248">nz</span>&nbsp;<span class="op" id="5474251">:=</span>&nbsp;<span class="num" id="5474254">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474257">lasttyp</span>&nbsp;<span class="op" id="5474265">:=</span>&nbsp;<span class="builtintype" id="5474268">uint8</span><span class="op" id="5474273">(</span><span class="num" id="5474274">0</span><span class="op" id="5474275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474278">err</span>&nbsp;<span class="op" id="5474282">=</span>&nbsp;<span class="ident" id="5474284">walksymtab</span><span class="op" id="5474294">(</span><span class="ident" id="5474295">symtab</span><span class="op" id="5474301">,</span>&nbsp;<span class="keyword" id="5474303">func</span><span class="op" id="5474307">(</span><span class="ident" id="5474308">s</span>&nbsp;<span class="ident" id="5474310">sym</span><span class="op" id="5474313">)</span>&nbsp;<span class="builtintype" id="5474315">error</span>&nbsp;<span class="op" id="5474321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474325">n</span>&nbsp;<span class="op" id="5474327">:=</span>&nbsp;<span class="builtinfunc" id="5474330">len</span><span class="op" id="5474333">(</span><span class="ident" id="5474334">t</span><span class="op" id="5474335">.</span><span class="ident" id="5474336">Syms</span><span class="op" id="5474340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474344">t</span><span class="op" id="5474345">.</span><span class="ident" id="5474346">Syms</span>&nbsp;<span class="op" id="5474351">=</span>&nbsp;<span class="ident" id="5474353">t</span><span class="op" id="5474354">.</span><span class="ident" id="5474355">Syms</span><span class="op" id="5474359">[</span><span class="num" id="5474360">0</span>&nbsp;<span class="op" id="5474362">:</span>&nbsp;<span class="ident" id="5474364">n</span><span class="op" id="5474365">+</span><span class="num" id="5474366">1</span><span class="op" id="5474367">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474371">ts</span>&nbsp;<span class="op" id="5474374">:=</span>&nbsp;<span class="op" id="5474377">&amp;</span><span class="ident" id="5474378">t</span><span class="op" id="5474379">.</span><span class="ident" id="5474380">Syms</span><span class="op" id="5474384">[</span><span class="ident" id="5474385">n</span><span class="op" id="5474386">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474390">ts</span><span class="op" id="5474392">.</span><span class="ident" id="5474393">Type</span>&nbsp;<span class="op" id="5474398">=</span>&nbsp;<span class="ident" id="5474400">s</span><span class="op" id="5474401">.</span><span class="ident" id="5474402">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474408">ts</span><span class="op" id="5474410">.</span><span class="ident" id="5474411">Value</span>&nbsp;<span class="op" id="5474417">=</span>&nbsp;<span class="ident" id="5474419">uint64</span><span class="op" id="5474425">(</span><span class="ident" id="5474426">s</span><span class="op" id="5474427">.</span><span class="ident" id="5474428">value</span><span class="op" id="5474433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474437">ts</span><span class="op" id="5474439">.</span><span class="ident" id="5474440">GoType</span>&nbsp;<span class="op" id="5474447">=</span>&nbsp;<span class="ident" id="5474449">uint64</span><span class="op" id="5474455">(</span><span class="ident" id="5474456">s</span><span class="op" id="5474457">.</span><span class="ident" id="5474458">gotype</span><span class="op" id="5474464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474468">switch</span>&nbsp;<span class="ident" id="5474475">s</span><span class="op" id="5474476">.</span><span class="ident" id="5474477">typ</span>&nbsp;<span class="op" id="5474481">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474485">default</span><span class="op" id="5474492">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5474497">//&nbsp;rewrite&nbsp;name&nbsp;to&nbsp;use&nbsp;.&nbsp;instead&nbsp;of&nbsp;·&nbsp;(c2&nbsp;b7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474547">w</span>&nbsp;<span class="op" id="5474549">:=</span>&nbsp;<span class="num" id="5474552">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474557">b</span>&nbsp;<span class="op" id="5474559">:=</span>&nbsp;<span class="ident" id="5474562">s</span><span class="op" id="5474563">.</span><span class="ident" id="5474564">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474572">for</span>&nbsp;<span class="ident" id="5474576">i</span>&nbsp;<span class="op" id="5474578">:=</span>&nbsp;<span class="num" id="5474581">0</span><span class="op" id="5474582">;</span>&nbsp;<span class="ident" id="5474584">i</span>&nbsp;<span class="op" id="5474586">&lt;</span>&nbsp;<span class="builtinfunc" id="5474588">len</span><span class="op" id="5474591">(</span><span class="ident" id="5474592">b</span><span class="op" id="5474593">)</span><span class="op" id="5474594">;</span>&nbsp;<span class="ident" id="5474596">i</span><span class="op" id="5474597">++</span>&nbsp;<span class="op" id="5474600">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474606">if</span>&nbsp;<span class="ident" id="5474609">b</span><span class="op" id="5474610">[</span><span class="ident" id="5474611">i</span><span class="op" id="5474612">]</span>&nbsp;<span class="op" id="5474614">==</span>&nbsp;<span class="num" id="5474617">0xc2</span>&nbsp;<span class="op" id="5474622">&amp;&amp;</span>&nbsp;<span class="ident" id="5474625">i</span><span class="op" id="5474626">+</span><span class="num" id="5474627">1</span>&nbsp;<span class="op" id="5474629">&lt;</span>&nbsp;<span class="builtinfunc" id="5474631">len</span><span class="op" id="5474634">(</span><span class="ident" id="5474635">b</span><span class="op" id="5474636">)</span>&nbsp;<span class="op" id="5474638">&amp;&amp;</span>&nbsp;<span class="ident" id="5474641">b</span><span class="op" id="5474642">[</span><span class="ident" id="5474643">i</span><span class="op" id="5474644">+</span><span class="num" id="5474645">1</span><span class="op" id="5474646">]</span>&nbsp;<span class="op" id="5474648">==</span>&nbsp;<span class="num" id="5474651">0xb7</span>&nbsp;<span class="op" id="5474656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474663">i</span><span class="op" id="5474664">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474672">b</span><span class="op" id="5474673">[</span><span class="ident" id="5474674">i</span><span class="op" id="5474675">]</span>&nbsp;<span class="op" id="5474677">=</span>&nbsp;<span class="string" id="5474679">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5474687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474693">b</span><span class="op" id="5474694">[</span><span class="ident" id="5474695">w</span><span class="op" id="5474696">]</span>&nbsp;<span class="op" id="5474698">=</span>&nbsp;<span class="ident" id="5474700">b</span><span class="op" id="5474701">[</span><span class="ident" id="5474702">i</span><span class="op" id="5474703">]</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474709">w</span><span class="op" id="5474710">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5474716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474721">ts</span><span class="op" id="5474723">.</span><span class="ident" id="5474724">Name</span>&nbsp;<span class="op" id="5474729">=</span>&nbsp;<span class="builtintype" id="5474731">string</span><span class="op" id="5474737">(</span><span class="ident" id="5474738">s</span><span class="op" id="5474739">.</span><span class="ident" id="5474740">name</span><span class="op" id="5474744">[</span><span class="num" id="5474745">0</span><span class="op" id="5474746">:</span><span class="ident" id="5474747">w</span><span class="op" id="5474748">]</span><span class="op" id="5474749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474753">case</span>&nbsp;<span class="string" id="5474758">&#39;z&#39;</span><span class="op" id="5474761">,</span>&nbsp;<span class="string" id="5474763">&#39;Z&#39;</span><span class="op" id="5474766">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474771">if</span>&nbsp;<span class="ident" id="5474774">lasttyp</span>&nbsp;<span class="op" id="5474782">!=</span>&nbsp;<span class="string" id="5474785">&#39;z&#39;</span>&nbsp;<span class="op" id="5474789">&amp;&amp;</span>&nbsp;<span class="ident" id="5474792">lasttyp</span>&nbsp;<span class="op" id="5474800">!=</span>&nbsp;<span class="string" id="5474803">&#39;Z&#39;</span>&nbsp;<span class="op" id="5474807">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474813">nz</span><span class="op" id="5474815">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5474821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474826">for</span>&nbsp;<span class="ident" id="5474830">i</span>&nbsp;<span class="op" id="5474832">:=</span>&nbsp;<span class="num" id="5474835">0</span><span class="op" id="5474836">;</span>&nbsp;<span class="ident" id="5474838">i</span>&nbsp;<span class="op" id="5474840">&lt;</span>&nbsp;<span class="builtinfunc" id="5474842">len</span><span class="op" id="5474845">(</span><span class="ident" id="5474846">s</span><span class="op" id="5474847">.</span><span class="ident" id="5474848">name</span><span class="op" id="5474852">)</span><span class="op" id="5474853">;</span>&nbsp;<span class="ident" id="5474855">i</span>&nbsp;<span class="op" id="5474857">+=</span>&nbsp;<span class="num" id="5474860">2</span>&nbsp;<span class="op" id="5474862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474868">eltIdx</span>&nbsp;<span class="op" id="5474875">:=</span>&nbsp;<span class="ident" id="5474878">binary</span><span class="op" id="5474884">.</span><span class="ident" id="5474885">BigEndian</span><span class="op" id="5474894">.</span><span class="ident" id="5474895">Uint16</span><span class="op" id="5474901">(</span><span class="ident" id="5474902">s</span><span class="op" id="5474903">.</span><span class="ident" id="5474904">name</span><span class="op" id="5474908">[</span><span class="ident" id="5474909">i</span>&nbsp;<span class="op" id="5474911">:</span>&nbsp;<span class="ident" id="5474913">i</span><span class="op" id="5474914">+</span><span class="num" id="5474915">2</span><span class="op" id="5474916">]</span><span class="op" id="5474917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5474923">elt</span><span class="op" id="5474926">,</span>&nbsp;<span class="ident" id="5474928">ok</span>&nbsp;<span class="op" id="5474931">:=</span>&nbsp;<span class="ident" id="5474934">fname</span><span class="op" id="5474939">[</span><span class="ident" id="5474940">eltIdx</span><span class="op" id="5474946">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474952">if</span>&nbsp;<span class="op" id="5474955">!</span><span class="ident" id="5474956">ok</span>&nbsp;<span class="op" id="5474959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5474966">return</span>&nbsp;<span class="op" id="5474973">&amp;</span><span class="ident" id="5474974">DecodingError</span><span class="op" id="5474987">{</span><span class="op" id="5474988">-</span><span class="num" id="5474989">1</span><span class="op" id="5474990">,</span>&nbsp;<span class="string" id="5474992">&#34;bad&nbsp;filename&nbsp;code&#34;</span><span class="op" id="5475011">,</span>&nbsp;<span class="ident" id="5475013">eltIdx</span><span class="op" id="5475019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5475025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475031">if</span>&nbsp;<span class="ident" id="5475034">n</span>&nbsp;<span class="op" id="5475036">:=</span>&nbsp;<span class="builtinfunc" id="5475039">len</span><span class="op" id="5475042">(</span><span class="ident" id="5475043">ts</span><span class="op" id="5475045">.</span><span class="ident" id="5475046">Name</span><span class="op" id="5475050">)</span><span class="op" id="5475051">;</span>&nbsp;<span class="ident" id="5475053">n</span>&nbsp;<span class="op" id="5475055">&gt;</span>&nbsp;<span class="num" id="5475057">0</span>&nbsp;<span class="op" id="5475059">&amp;&amp;</span>&nbsp;<span class="ident" id="5475062">ts</span><span class="op" id="5475064">.</span><span class="ident" id="5475065">Name</span><span class="op" id="5475069">[</span><span class="ident" id="5475070">n</span><span class="op" id="5475071">-</span><span class="num" id="5475072">1</span><span class="op" id="5475073">]</span>&nbsp;<span class="op" id="5475075">!=</span>&nbsp;<span class="string" id="5475078">&#39;/&#39;</span>&nbsp;<span class="op" id="5475082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475089">ts</span><span class="op" id="5475091">.</span><span class="ident" id="5475092">Name</span>&nbsp;<span class="op" id="5475097">+=</span>&nbsp;<span class="string" id="5475100">&#34;/&#34;</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5475108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475114">ts</span><span class="op" id="5475116">.</span><span class="ident" id="5475117">Name</span>&nbsp;<span class="op" id="5475122">+=</span>&nbsp;<span class="ident" id="5475125">elt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5475132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5475136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475140">switch</span>&nbsp;<span class="ident" id="5475147">s</span><span class="op" id="5475148">.</span><span class="ident" id="5475149">typ</span>&nbsp;<span class="op" id="5475153">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475157">case</span>&nbsp;<span class="string" id="5475162">&#39;T&#39;</span><span class="op" id="5475165">,</span>&nbsp;<span class="string" id="5475167">&#39;t&#39;</span><span class="op" id="5475170">,</span>&nbsp;<span class="string" id="5475172">&#39;L&#39;</span><span class="op" id="5475175">,</span>&nbsp;<span class="string" id="5475177">&#39;l&#39;</span><span class="op" id="5475180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475185">nf</span><span class="op" id="5475187">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475192">case</span>&nbsp;<span class="string" id="5475197">&#39;f&#39;</span><span class="op" id="5475200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475205">fname</span><span class="op" id="5475210">[</span><span class="builtintype" id="5475211">uint16</span><span class="op" id="5475217">(</span><span class="ident" id="5475218">s</span><span class="op" id="5475219">.</span><span class="ident" id="5475220">value</span><span class="op" id="5475225">)</span><span class="op" id="5475226">]</span>&nbsp;<span class="op" id="5475228">=</span>&nbsp;<span class="ident" id="5475230">ts</span><span class="op" id="5475232">.</span><span class="ident" id="5475233">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5475240">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475244">lasttyp</span>&nbsp;<span class="op" id="5475252">=</span>&nbsp;<span class="ident" id="5475254">s</span><span class="op" id="5475255">.</span><span class="ident" id="5475256">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475262">return</span>&nbsp;<span class="ident" id="5475269">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5475274">}</span><span class="op" id="5475275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475278">if</span>&nbsp;<span class="ident" id="5475281">err</span>&nbsp;<span class="op" id="5475285">!=</span>&nbsp;<span class="ident" id="5475288">nil</span>&nbsp;<span class="op" id="5475292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475296">return</span>&nbsp;<span class="ident" id="5475303">nil</span><span class="op" id="5475306">,</span>&nbsp;<span class="ident" id="5475308">err</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5475313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475317">t</span><span class="op" id="5475318">.</span><span class="ident" id="5475319">Funcs</span>&nbsp;<span class="op" id="5475325">=</span>&nbsp;<span class="builtinfunc" id="5475327">make</span><span class="op" id="5475331">(</span><span class="op" id="5475332">[</span><span class="op" id="5475333">]</span><span class="ident" id="5475334">Func</span><span class="op" id="5475338">,</span>&nbsp;<span class="num" id="5475340">0</span><span class="op" id="5475341">,</span>&nbsp;<span class="ident" id="5475343">nf</span><span class="op" id="5475345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475348">t</span><span class="op" id="5475349">.</span><span class="ident" id="5475350">Files</span>&nbsp;<span class="op" id="5475356">=</span>&nbsp;<span class="builtinfunc" id="5475358">make</span><span class="op" id="5475362">(</span><span class="keyword" id="5475363">map</span><span class="op" id="5475366">[</span><span class="builtintype" id="5475367">string</span><span class="op" id="5475373">]</span><span class="op" id="5475374">*</span><span class="ident" id="5475375">Obj</span><span class="op" id="5475378">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475382">var</span>&nbsp;<span class="ident" id="5475386">obj</span>&nbsp;<span class="op" id="5475390">*</span><span class="ident" id="5475391">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475396">if</span>&nbsp;<span class="ident" id="5475399">t</span><span class="op" id="5475400">.</span><span class="ident" id="5475401">go12line</span>&nbsp;<span class="op" id="5475410">!=</span>&nbsp;<span class="ident" id="5475413">nil</span>&nbsp;<span class="op" id="5475417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5475421">//&nbsp;Put&nbsp;all&nbsp;functions&nbsp;into&nbsp;one&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475458">t</span><span class="op" id="5475459">.</span><span class="ident" id="5475460">Objs</span>&nbsp;<span class="op" id="5475465">=</span>&nbsp;<span class="builtinfunc" id="5475467">make</span><span class="op" id="5475471">(</span><span class="op" id="5475472">[</span><span class="op" id="5475473">]</span><span class="ident" id="5475474">Obj</span><span class="op" id="5475477">,</span>&nbsp;<span class="num" id="5475479">1</span><span class="op" id="5475480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475484">obj</span>&nbsp;<span class="op" id="5475488">=</span>&nbsp;<span class="op" id="5475490">&amp;</span><span class="ident" id="5475491">t</span><span class="op" id="5475492">.</span><span class="ident" id="5475493">Objs</span><span class="op" id="5475497">[</span><span class="num" id="5475498">0</span><span class="op" id="5475499">]</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475503">t</span><span class="op" id="5475504">.</span><span class="ident" id="5475505">go12line</span><span class="op" id="5475513">.</span><span class="ident" id="5475514">go12MapFiles</span><span class="op" id="5475526">(</span><span class="ident" id="5475527">t</span><span class="op" id="5475528">.</span><span class="ident" id="5475529">Files</span><span class="op" id="5475534">,</span>&nbsp;<span class="ident" id="5475536">obj</span><span class="op" id="5475539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5475542">}</span>&nbsp;<span class="keyword" id="5475544">else</span>&nbsp;<span class="op" id="5475549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475553">t</span><span class="op" id="5475554">.</span><span class="ident" id="5475555">Objs</span>&nbsp;<span class="op" id="5475560">=</span>&nbsp;<span class="builtinfunc" id="5475562">make</span><span class="op" id="5475566">(</span><span class="op" id="5475567">[</span><span class="op" id="5475568">]</span><span class="ident" id="5475569">Obj</span><span class="op" id="5475572">,</span>&nbsp;<span class="num" id="5475574">0</span><span class="op" id="5475575">,</span>&nbsp;<span class="ident" id="5475577">nz</span><span class="op" id="5475579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5475582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5475586">//&nbsp;Count&nbsp;text&nbsp;symbols&nbsp;and&nbsp;attach&nbsp;frame&nbsp;sizes,&nbsp;parameters,&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5475649">//&nbsp;locals&nbsp;to&nbsp;them.&nbsp;&nbsp;Also,&nbsp;find&nbsp;object&nbsp;file&nbsp;boundaries.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475705">lastf</span>&nbsp;<span class="op" id="5475711">:=</span>&nbsp;<span class="num" id="5475714">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475717">for</span>&nbsp;<span class="ident" id="5475721">i</span>&nbsp;<span class="op" id="5475723">:=</span>&nbsp;<span class="num" id="5475726">0</span><span class="op" id="5475727">;</span>&nbsp;<span class="ident" id="5475729">i</span>&nbsp;<span class="op" id="5475731">&lt;</span>&nbsp;<span class="builtinfunc" id="5475733">len</span><span class="op" id="5475736">(</span><span class="ident" id="5475737">t</span><span class="op" id="5475738">.</span><span class="ident" id="5475739">Syms</span><span class="op" id="5475743">)</span><span class="op" id="5475744">;</span>&nbsp;<span class="ident" id="5475746">i</span><span class="op" id="5475747">++</span>&nbsp;<span class="op" id="5475750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475754">sym</span>&nbsp;<span class="op" id="5475758">:=</span>&nbsp;<span class="op" id="5475761">&amp;</span><span class="ident" id="5475762">t</span><span class="op" id="5475763">.</span><span class="ident" id="5475764">Syms</span><span class="op" id="5475768">[</span><span class="ident" id="5475769">i</span><span class="op" id="5475770">]</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475774">switch</span>&nbsp;<span class="ident" id="5475781">sym</span><span class="op" id="5475784">.</span><span class="ident" id="5475785">Type</span>&nbsp;<span class="op" id="5475790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475794">case</span>&nbsp;<span class="string" id="5475799">&#39;Z&#39;</span><span class="op" id="5475802">,</span>&nbsp;<span class="string" id="5475804">&#39;z&#39;</span><span class="op" id="5475807">:</span>&nbsp;<span class="comment" id="5475809">//&nbsp;path&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475827">if</span>&nbsp;<span class="ident" id="5475830">t</span><span class="op" id="5475831">.</span><span class="ident" id="5475832">go12line</span>&nbsp;<span class="op" id="5475841">!=</span>&nbsp;<span class="ident" id="5475844">nil</span>&nbsp;<span class="op" id="5475848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5475854">//&nbsp;Go&nbsp;1.2&nbsp;binaries&nbsp;have&nbsp;the&nbsp;file&nbsp;information&nbsp;elsewhere.&nbsp;Ignore.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475922">break</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5475931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5475936">//&nbsp;Finish&nbsp;the&nbsp;current&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5475968">if</span>&nbsp;<span class="ident" id="5475971">obj</span>&nbsp;<span class="op" id="5475975">!=</span>&nbsp;<span class="ident" id="5475978">nil</span>&nbsp;<span class="op" id="5475982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5475988">obj</span><span class="op" id="5475991">.</span><span class="ident" id="5475992">Funcs</span>&nbsp;<span class="op" id="5475998">=</span>&nbsp;<span class="ident" id="5476000">t</span><span class="op" id="5476001">.</span><span class="ident" id="5476002">Funcs</span><span class="op" id="5476007">[</span><span class="ident" id="5476008">lastf</span><span class="op" id="5476013">:</span><span class="op" id="5476014">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5476019">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476024">lastf</span>&nbsp;<span class="op" id="5476030">=</span>&nbsp;<span class="builtinfunc" id="5476032">len</span><span class="op" id="5476035">(</span><span class="ident" id="5476036">t</span><span class="op" id="5476037">.</span><span class="ident" id="5476038">Funcs</span><span class="op" id="5476043">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5476049">//&nbsp;Start&nbsp;new&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476072">n</span>&nbsp;<span class="op" id="5476074">:=</span>&nbsp;<span class="builtinfunc" id="5476077">len</span><span class="op" id="5476080">(</span><span class="ident" id="5476081">t</span><span class="op" id="5476082">.</span><span class="ident" id="5476083">Objs</span><span class="op" id="5476087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476092">t</span><span class="op" id="5476093">.</span><span class="ident" id="5476094">Objs</span>&nbsp;<span class="op" id="5476099">=</span>&nbsp;<span class="ident" id="5476101">t</span><span class="op" id="5476102">.</span><span class="ident" id="5476103">Objs</span><span class="op" id="5476107">[</span><span class="num" id="5476108">0</span>&nbsp;<span class="op" id="5476110">:</span>&nbsp;<span class="ident" id="5476112">n</span><span class="op" id="5476113">+</span><span class="num" id="5476114">1</span><span class="op" id="5476115">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476120">obj</span>&nbsp;<span class="op" id="5476124">=</span>&nbsp;<span class="op" id="5476126">&amp;</span><span class="ident" id="5476127">t</span><span class="op" id="5476128">.</span><span class="ident" id="5476129">Objs</span><span class="op" id="5476133">[</span><span class="ident" id="5476134">n</span><span class="op" id="5476135">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5476141">//&nbsp;Count&nbsp;&amp;&nbsp;copy&nbsp;path&nbsp;symbols</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476173">var</span>&nbsp;<span class="ident" id="5476177">end</span>&nbsp;<span class="builtintype" id="5476181">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476188">for</span>&nbsp;<span class="ident" id="5476192">end</span>&nbsp;<span class="op" id="5476196">=</span>&nbsp;<span class="ident" id="5476198">i</span>&nbsp;<span class="op" id="5476200">+</span>&nbsp;<span class="num" id="5476202">1</span><span class="op" id="5476203">;</span>&nbsp;<span class="ident" id="5476205">end</span>&nbsp;<span class="op" id="5476209">&lt;</span>&nbsp;<span class="builtinfunc" id="5476211">len</span><span class="op" id="5476214">(</span><span class="ident" id="5476215">t</span><span class="op" id="5476216">.</span><span class="ident" id="5476217">Syms</span><span class="op" id="5476221">)</span><span class="op" id="5476222">;</span>&nbsp;<span class="ident" id="5476224">end</span><span class="op" id="5476227">++</span>&nbsp;<span class="op" id="5476230">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476236">if</span>&nbsp;<span class="ident" id="5476239">c</span>&nbsp;<span class="op" id="5476241">:=</span>&nbsp;<span class="ident" id="5476244">t</span><span class="op" id="5476245">.</span><span class="ident" id="5476246">Syms</span><span class="op" id="5476250">[</span><span class="ident" id="5476251">end</span><span class="op" id="5476254">]</span><span class="op" id="5476255">.</span><span class="ident" id="5476256">Type</span><span class="op" id="5476260">;</span>&nbsp;<span class="ident" id="5476262">c</span>&nbsp;<span class="op" id="5476264">!=</span>&nbsp;<span class="string" id="5476267">&#39;Z&#39;</span>&nbsp;<span class="op" id="5476271">&amp;&amp;</span>&nbsp;<span class="ident" id="5476274">c</span>&nbsp;<span class="op" id="5476276">!=</span>&nbsp;<span class="string" id="5476279">&#39;z&#39;</span>&nbsp;<span class="op" id="5476283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476290">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5476300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5476305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476310">obj</span><span class="op" id="5476313">.</span><span class="ident" id="5476314">Paths</span>&nbsp;<span class="op" id="5476320">=</span>&nbsp;<span class="ident" id="5476322">t</span><span class="op" id="5476323">.</span><span class="ident" id="5476324">Syms</span><span class="op" id="5476328">[</span><span class="ident" id="5476329">i</span><span class="op" id="5476330">:</span><span class="ident" id="5476331">end</span><span class="op" id="5476334">]</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476339">i</span>&nbsp;<span class="op" id="5476341">=</span>&nbsp;<span class="ident" id="5476343">end</span>&nbsp;<span class="op" id="5476347">-</span>&nbsp;<span class="num" id="5476349">1</span>&nbsp;<span class="comment" id="5476351">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5476372">//&nbsp;Record&nbsp;file&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476396">depth</span>&nbsp;<span class="op" id="5476402">:=</span>&nbsp;<span class="num" id="5476405">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476410">for</span>&nbsp;<span class="ident" id="5476414">j</span>&nbsp;<span class="op" id="5476416">:=</span>&nbsp;<span class="keyword" id="5476419">range</span>&nbsp;<span class="ident" id="5476425">obj</span><span class="op" id="5476428">.</span><span class="ident" id="5476429">Paths</span>&nbsp;<span class="op" id="5476435">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476441">s</span>&nbsp;<span class="op" id="5476443">:=</span>&nbsp;<span class="op" id="5476446">&amp;</span><span class="ident" id="5476447">obj</span><span class="op" id="5476450">.</span><span class="ident" id="5476451">Paths</span><span class="op" id="5476456">[</span><span class="ident" id="5476457">j</span><span class="op" id="5476458">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476464">if</span>&nbsp;<span class="ident" id="5476467">s</span><span class="op" id="5476468">.</span><span class="ident" id="5476469">Name</span>&nbsp;<span class="op" id="5476474">==</span>&nbsp;<span class="string" id="5476477">&#34;&#34;</span>&nbsp;<span class="op" id="5476480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476487">depth</span><span class="op" id="5476492">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5476499">}</span>&nbsp;<span class="keyword" id="5476501">else</span>&nbsp;<span class="op" id="5476506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476513">if</span>&nbsp;<span class="ident" id="5476516">depth</span>&nbsp;<span class="op" id="5476522">==</span>&nbsp;<span class="num" id="5476525">0</span>&nbsp;<span class="op" id="5476527">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476535">t</span><span class="op" id="5476536">.</span><span class="ident" id="5476537">Files</span><span class="op" id="5476542">[</span><span class="ident" id="5476543">s</span><span class="op" id="5476544">.</span><span class="ident" id="5476545">Name</span><span class="op" id="5476549">]</span>&nbsp;<span class="op" id="5476551">=</span>&nbsp;<span class="ident" id="5476553">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5476562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476569">depth</span><span class="op" id="5476574">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5476581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5476586">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476591">case</span>&nbsp;<span class="string" id="5476596">&#39;T&#39;</span><span class="op" id="5476599">,</span>&nbsp;<span class="string" id="5476601">&#39;t&#39;</span><span class="op" id="5476604">,</span>&nbsp;<span class="string" id="5476606">&#39;L&#39;</span><span class="op" id="5476609">,</span>&nbsp;<span class="string" id="5476611">&#39;l&#39;</span><span class="op" id="5476614">:</span>&nbsp;<span class="comment" id="5476616">//&nbsp;text&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476634">if</span>&nbsp;<span class="ident" id="5476637">n</span>&nbsp;<span class="op" id="5476639">:=</span>&nbsp;<span class="builtinfunc" id="5476642">len</span><span class="op" id="5476645">(</span><span class="ident" id="5476646">t</span><span class="op" id="5476647">.</span><span class="ident" id="5476648">Funcs</span><span class="op" id="5476653">)</span><span class="op" id="5476654">;</span>&nbsp;<span class="ident" id="5476656">n</span>&nbsp;<span class="op" id="5476658">&gt;</span>&nbsp;<span class="num" id="5476660">0</span>&nbsp;<span class="op" id="5476662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476668">t</span><span class="op" id="5476669">.</span><span class="ident" id="5476670">Funcs</span><span class="op" id="5476675">[</span><span class="ident" id="5476676">n</span><span class="op" id="5476677">-</span><span class="num" id="5476678">1</span><span class="op" id="5476679">]</span><span class="op" id="5476680">.</span><span class="ident" id="5476681">End</span>&nbsp;<span class="op" id="5476685">=</span>&nbsp;<span class="ident" id="5476687">sym</span><span class="op" id="5476690">.</span><span class="ident" id="5476691">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5476700">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476705">if</span>&nbsp;<span class="ident" id="5476708">sym</span><span class="op" id="5476711">.</span><span class="ident" id="5476712">Name</span>&nbsp;<span class="op" id="5476717">==</span>&nbsp;<span class="string" id="5476720">&#34;runtime.etext&#34;</span>&nbsp;<span class="op" id="5476736">||</span>&nbsp;<span class="ident" id="5476739">sym</span><span class="op" id="5476742">.</span><span class="ident" id="5476743">Name</span>&nbsp;<span class="op" id="5476748">==</span>&nbsp;<span class="string" id="5476751">&#34;etext&#34;</span>&nbsp;<span class="op" id="5476759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476765">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5476777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5476783">//&nbsp;Count&nbsp;parameter&nbsp;and&nbsp;local&nbsp;(auto)&nbsp;syms</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476827">var</span>&nbsp;<span class="ident" id="5476831">np</span><span class="op" id="5476833">,</span>&nbsp;<span class="ident" id="5476835">na</span>&nbsp;<span class="builtintype" id="5476838">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476845">var</span>&nbsp;<span class="ident" id="5476849">end</span>&nbsp;<span class="builtintype" id="5476853">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5476859">countloop</span><span class="op" id="5476868">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476873">for</span>&nbsp;<span class="ident" id="5476877">end</span>&nbsp;<span class="op" id="5476881">=</span>&nbsp;<span class="ident" id="5476883">i</span>&nbsp;<span class="op" id="5476885">+</span>&nbsp;<span class="num" id="5476887">1</span><span class="op" id="5476888">;</span>&nbsp;<span class="ident" id="5476890">end</span>&nbsp;<span class="op" id="5476894">&lt;</span>&nbsp;<span class="builtinfunc" id="5476896">len</span><span class="op" id="5476899">(</span><span class="ident" id="5476900">t</span><span class="op" id="5476901">.</span><span class="ident" id="5476902">Syms</span><span class="op" id="5476906">)</span><span class="op" id="5476907">;</span>&nbsp;<span class="ident" id="5476909">end</span><span class="op" id="5476912">++</span>&nbsp;<span class="op" id="5476915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476921">switch</span>&nbsp;<span class="ident" id="5476928">t</span><span class="op" id="5476929">.</span><span class="ident" id="5476930">Syms</span><span class="op" id="5476934">[</span><span class="ident" id="5476935">end</span><span class="op" id="5476938">]</span><span class="op" id="5476939">.</span><span class="ident" id="5476940">Type</span>&nbsp;<span class="op" id="5476945">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476951">case</span>&nbsp;<span class="string" id="5476956">&#39;T&#39;</span><span class="op" id="5476959">,</span>&nbsp;<span class="string" id="5476961">&#39;t&#39;</span><span class="op" id="5476964">,</span>&nbsp;<span class="string" id="5476966">&#39;L&#39;</span><span class="op" id="5476969">,</span>&nbsp;<span class="string" id="5476971">&#39;l&#39;</span><span class="op" id="5476974">,</span>&nbsp;<span class="string" id="5476976">&#39;Z&#39;</span><span class="op" id="5476979">,</span>&nbsp;<span class="string" id="5476981">&#39;z&#39;</span><span class="op" id="5476984">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5476991">break</span>&nbsp;<span class="ident" id="5476997">countloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5477011">case</span>&nbsp;<span class="string" id="5477016">&#39;p&#39;</span><span class="op" id="5477019">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477026">np</span><span class="op" id="5477028">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5477035">case</span>&nbsp;<span class="string" id="5477040">&#39;a&#39;</span><span class="op" id="5477043">:</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477050">na</span><span class="op" id="5477052">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5477059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5477064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5477070">//&nbsp;Fill&nbsp;in&nbsp;the&nbsp;function&nbsp;symbol</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477104">n</span>&nbsp;<span class="op" id="5477106">:=</span>&nbsp;<span class="builtinfunc" id="5477109">len</span><span class="op" id="5477112">(</span><span class="ident" id="5477113">t</span><span class="op" id="5477114">.</span><span class="ident" id="5477115">Funcs</span><span class="op" id="5477120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477125">t</span><span class="op" id="5477126">.</span><span class="ident" id="5477127">Funcs</span>&nbsp;<span class="op" id="5477133">=</span>&nbsp;<span class="ident" id="5477135">t</span><span class="op" id="5477136">.</span><span class="ident" id="5477137">Funcs</span><span class="op" id="5477142">[</span><span class="num" id="5477143">0</span>&nbsp;<span class="op" id="5477145">:</span>&nbsp;<span class="ident" id="5477147">n</span><span class="op" id="5477148">+</span><span class="num" id="5477149">1</span><span class="op" id="5477150">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477155">fn</span>&nbsp;<span class="op" id="5477158">:=</span>&nbsp;<span class="op" id="5477161">&amp;</span><span class="ident" id="5477162">t</span><span class="op" id="5477163">.</span><span class="ident" id="5477164">Funcs</span><span class="op" id="5477169">[</span><span class="ident" id="5477170">n</span><span class="op" id="5477171">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477176">sym</span><span class="op" id="5477179">.</span><span class="ident" id="5477180">Func</span>&nbsp;<span class="op" id="5477185">=</span>&nbsp;<span class="ident" id="5477187">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477193">fn</span><span class="op" id="5477195">.</span><span class="ident" id="5477196">Params</span>&nbsp;<span class="op" id="5477203">=</span>&nbsp;<span class="builtinfunc" id="5477205">make</span><span class="op" id="5477209">(</span><span class="op" id="5477210">[</span><span class="op" id="5477211">]</span><span class="op" id="5477212">*</span><span class="ident" id="5477213">Sym</span><span class="op" id="5477216">,</span>&nbsp;<span class="num" id="5477218">0</span><span class="op" id="5477219">,</span>&nbsp;<span class="ident" id="5477221">np</span><span class="op" id="5477223">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477228">fn</span><span class="op" id="5477230">.</span><span class="ident" id="5477231">Locals</span>&nbsp;<span class="op" id="5477238">=</span>&nbsp;<span class="builtinfunc" id="5477240">make</span><span class="op" id="5477244">(</span><span class="op" id="5477245">[</span><span class="op" id="5477246">]</span><span class="op" id="5477247">*</span><span class="ident" id="5477248">Sym</span><span class="op" id="5477251">,</span>&nbsp;<span class="num" id="5477253">0</span><span class="op" id="5477254">,</span>&nbsp;<span class="ident" id="5477256">na</span><span class="op" id="5477258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477263">fn</span><span class="op" id="5477265">.</span><span class="ident" id="5477266">Sym</span>&nbsp;<span class="op" id="5477270">=</span>&nbsp;<span class="ident" id="5477272">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477279">fn</span><span class="op" id="5477281">.</span><span class="ident" id="5477282">Entry</span>&nbsp;<span class="op" id="5477288">=</span>&nbsp;<span class="ident" id="5477290">sym</span><span class="op" id="5477293">.</span><span class="ident" id="5477294">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477303">fn</span><span class="op" id="5477305">.</span><span class="ident" id="5477306">Obj</span>&nbsp;<span class="op" id="5477310">=</span>&nbsp;<span class="ident" id="5477312">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5477319">if</span>&nbsp;<span class="ident" id="5477322">t</span><span class="op" id="5477323">.</span><span class="ident" id="5477324">go12line</span>&nbsp;<span class="op" id="5477333">!=</span>&nbsp;<span class="ident" id="5477336">nil</span>&nbsp;<span class="op" id="5477340">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5477346">//&nbsp;All&nbsp;functions&nbsp;share&nbsp;the&nbsp;same&nbsp;line&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5477394">//&nbsp;It&nbsp;knows&nbsp;how&nbsp;to&nbsp;narrow&nbsp;down&nbsp;to&nbsp;a&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5477443">//&nbsp;function&nbsp;quickly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477468">fn</span><span class="op" id="5477470">.</span><span class="ident" id="5477471">LineTable</span>&nbsp;<span class="op" id="5477481">=</span>&nbsp;<span class="ident" id="5477483">t</span><span class="op" id="5477484">.</span><span class="ident" id="5477485">go12line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5477497">}</span>&nbsp;<span class="keyword" id="5477499">else</span>&nbsp;<span class="keyword" id="5477504">if</span>&nbsp;<span class="ident" id="5477507">pcln</span>&nbsp;<span class="op" id="5477512">!=</span>&nbsp;<span class="ident" id="5477515">nil</span>&nbsp;<span class="op" id="5477519">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477525">fn</span><span class="op" id="5477527">.</span><span class="ident" id="5477528">LineTable</span>&nbsp;<span class="op" id="5477538">=</span>&nbsp;<span class="ident" id="5477540">pcln</span><span class="op" id="5477544">.</span><span class="ident" id="5477545">slice</span><span class="op" id="5477550">(</span><span class="ident" id="5477551">fn</span><span class="op" id="5477553">.</span><span class="ident" id="5477554">Entry</span><span class="op" id="5477559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477565">pcln</span>&nbsp;<span class="op" id="5477570">=</span>&nbsp;<span class="ident" id="5477572">fn</span><span class="op" id="5477574">.</span><span class="ident" id="5477575">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5477588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5477593">for</span>&nbsp;<span class="ident" id="5477597">j</span>&nbsp;<span class="op" id="5477599">:=</span>&nbsp;<span class="ident" id="5477602">i</span><span class="op" id="5477603">;</span>&nbsp;<span class="ident" id="5477605">j</span>&nbsp;<span class="op" id="5477607">&lt;</span>&nbsp;<span class="ident" id="5477609">end</span><span class="op" id="5477612">;</span>&nbsp;<span class="ident" id="5477614">j</span><span class="op" id="5477615">++</span>&nbsp;<span class="op" id="5477618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477624">s</span>&nbsp;<span class="op" id="5477626">:=</span>&nbsp;<span class="op" id="5477629">&amp;</span><span class="ident" id="5477630">t</span><span class="op" id="5477631">.</span><span class="ident" id="5477632">Syms</span><span class="op" id="5477636">[</span><span class="ident" id="5477637">j</span><span class="op" id="5477638">]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5477644">switch</span>&nbsp;<span class="ident" id="5477651">s</span><span class="op" id="5477652">.</span><span class="ident" id="5477653">Type</span>&nbsp;<span class="op" id="5477658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5477664">case</span>&nbsp;<span class="string" id="5477669">&#39;m&#39;</span><span class="op" id="5477672">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477679">fn</span><span class="op" id="5477681">.</span><span class="ident" id="5477682">FrameSize</span>&nbsp;<span class="op" id="5477692">=</span>&nbsp;<span class="builtintype" id="5477694">int</span><span class="op" id="5477697">(</span><span class="ident" id="5477698">s</span><span class="op" id="5477699">.</span><span class="ident" id="5477700">Value</span><span class="op" id="5477705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5477711">case</span>&nbsp;<span class="string" id="5477716">&#39;p&#39;</span><span class="op" id="5477719">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477726">n</span>&nbsp;<span class="op" id="5477728">:=</span>&nbsp;<span class="builtinfunc" id="5477731">len</span><span class="op" id="5477734">(</span><span class="ident" id="5477735">fn</span><span class="op" id="5477737">.</span><span class="ident" id="5477738">Params</span><span class="op" id="5477744">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477751">fn</span><span class="op" id="5477753">.</span><span class="ident" id="5477754">Params</span>&nbsp;<span class="op" id="5477761">=</span>&nbsp;<span class="ident" id="5477763">fn</span><span class="op" id="5477765">.</span><span class="ident" id="5477766">Params</span><span class="op" id="5477772">[</span><span class="num" id="5477773">0</span>&nbsp;<span class="op" id="5477775">:</span>&nbsp;<span class="ident" id="5477777">n</span><span class="op" id="5477778">+</span><span class="num" id="5477779">1</span><span class="op" id="5477780">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477787">fn</span><span class="op" id="5477789">.</span><span class="ident" id="5477790">Params</span><span class="op" id="5477796">[</span><span class="ident" id="5477797">n</span><span class="op" id="5477798">]</span>&nbsp;<span class="op" id="5477800">=</span>&nbsp;<span class="ident" id="5477802">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5477808">case</span>&nbsp;<span class="string" id="5477813">&#39;a&#39;</span><span class="op" id="5477816">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477823">n</span>&nbsp;<span class="op" id="5477825">:=</span>&nbsp;<span class="builtinfunc" id="5477828">len</span><span class="op" id="5477831">(</span><span class="ident" id="5477832">fn</span><span class="op" id="5477834">.</span><span class="ident" id="5477835">Locals</span><span class="op" id="5477841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477848">fn</span><span class="op" id="5477850">.</span><span class="ident" id="5477851">Locals</span>&nbsp;<span class="op" id="5477858">=</span>&nbsp;<span class="ident" id="5477860">fn</span><span class="op" id="5477862">.</span><span class="ident" id="5477863">Locals</span><span class="op" id="5477869">[</span><span class="num" id="5477870">0</span>&nbsp;<span class="op" id="5477872">:</span>&nbsp;<span class="ident" id="5477874">n</span><span class="op" id="5477875">+</span><span class="num" id="5477876">1</span><span class="op" id="5477877">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477884">fn</span><span class="op" id="5477886">.</span><span class="ident" id="5477887">Locals</span><span class="op" id="5477893">[</span><span class="ident" id="5477894">n</span><span class="op" id="5477895">]</span>&nbsp;<span class="op" id="5477897">=</span>&nbsp;<span class="ident" id="5477899">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5477905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5477910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477915">i</span>&nbsp;<span class="op" id="5477917">=</span>&nbsp;<span class="ident" id="5477919">end</span>&nbsp;<span class="op" id="5477923">-</span>&nbsp;<span class="num" id="5477925">1</span>&nbsp;<span class="comment" id="5477927">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5477946">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5477949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5477953">if</span>&nbsp;<span class="ident" id="5477956">t</span><span class="op" id="5477957">.</span><span class="ident" id="5477958">go12line</span>&nbsp;<span class="op" id="5477967">!=</span>&nbsp;<span class="ident" id="5477970">nil</span>&nbsp;<span class="op" id="5477974">&amp;&amp;</span>&nbsp;<span class="ident" id="5477977">nf</span>&nbsp;<span class="op" id="5477980">==</span>&nbsp;<span class="num" id="5477983">0</span>&nbsp;<span class="op" id="5477985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5477989">t</span><span class="op" id="5477990">.</span><span class="ident" id="5477991">Funcs</span>&nbsp;<span class="op" id="5477997">=</span>&nbsp;<span class="ident" id="5477999">t</span><span class="op" id="5478000">.</span><span class="ident" id="5478001">go12line</span><span class="op" id="5478009">.</span><span class="ident" id="5478010">go12Funcs</span><span class="op" id="5478019">(</span><span class="op" id="5478020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5478023">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478026">if</span>&nbsp;<span class="ident" id="5478029">obj</span>&nbsp;<span class="op" id="5478033">!=</span>&nbsp;<span class="ident" id="5478036">nil</span>&nbsp;<span class="op" id="5478040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5478044">obj</span><span class="op" id="5478047">.</span><span class="ident" id="5478048">Funcs</span>&nbsp;<span class="op" id="5478054">=</span>&nbsp;<span class="ident" id="5478056">t</span><span class="op" id="5478057">.</span><span class="ident" id="5478058">Funcs</span><span class="op" id="5478063">[</span><span class="ident" id="5478064">lastf</span><span class="op" id="5478069">:</span><span class="op" id="5478070">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5478073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478076">return</span>&nbsp;<span class="op" id="5478083">&amp;</span><span class="ident" id="5478084">t</span><span class="op" id="5478085">,</span>&nbsp;<span class="ident" id="5478087">nil</span><br>
<span class="lineno"></span><span class="op" id="5478091">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="5478094">//&nbsp;PCToFunc&nbsp;returns&nbsp;the&nbsp;function&nbsp;containing&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc,</span><br>
<span class="lineno"></span><span class="comment" id="5478162">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="5478202">func</span>&nbsp;<span class="op" id="5478207">(</span><span class="ident" id="5478208">t</span>&nbsp;<span class="op" id="5478210">*</span><span class="ident" id="5478211">Table</span><span class="op" id="5478216">)</span>&nbsp;<span class="ident" id="5478218">PCToFunc</span><span class="op" id="5478226">(</span><span class="ident" id="5478227">pc</span>&nbsp;<span class="ident" id="5478230">uint64</span><span class="op" id="5478236">)</span>&nbsp;<span class="op" id="5478238">*</span><span class="ident" id="5478239">Func</span>&nbsp;<span class="op" id="5478244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5478247">funcs</span>&nbsp;<span class="op" id="5478253">:=</span>&nbsp;<span class="ident" id="5478256">t</span><span class="op" id="5478257">.</span><span class="ident" id="5478258">Funcs</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478265">for</span>&nbsp;<span class="builtinfunc" id="5478269">len</span><span class="op" id="5478272">(</span><span class="ident" id="5478273">funcs</span><span class="op" id="5478278">)</span>&nbsp;<span class="op" id="5478280">&gt;</span>&nbsp;<span class="num" id="5478282">0</span>&nbsp;<span class="op" id="5478284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5478288">m</span>&nbsp;<span class="op" id="5478290">:=</span>&nbsp;<span class="builtinfunc" id="5478293">len</span><span class="op" id="5478296">(</span><span class="ident" id="5478297">funcs</span><span class="op" id="5478302">)</span>&nbsp;<span class="op" id="5478304">/</span>&nbsp;<span class="num" id="5478306">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5478310">fn</span>&nbsp;<span class="op" id="5478313">:=</span>&nbsp;<span class="op" id="5478316">&amp;</span><span class="ident" id="5478317">funcs</span><span class="op" id="5478322">[</span><span class="ident" id="5478323">m</span><span class="op" id="5478324">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478328">switch</span>&nbsp;<span class="op" id="5478335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478339">case</span>&nbsp;<span class="ident" id="5478344">pc</span>&nbsp;<span class="op" id="5478347">&lt;</span>&nbsp;<span class="ident" id="5478349">fn</span><span class="op" id="5478351">.</span><span class="ident" id="5478352">Entry</span><span class="op" id="5478357">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5478362">funcs</span>&nbsp;<span class="op" id="5478368">=</span>&nbsp;<span class="ident" id="5478370">funcs</span><span class="op" id="5478375">[</span><span class="num" id="5478376">0</span><span class="op" id="5478377">:</span><span class="ident" id="5478378">m</span><span class="op" id="5478379">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478383">case</span>&nbsp;<span class="ident" id="5478388">fn</span><span class="op" id="5478390">.</span><span class="ident" id="5478391">Entry</span>&nbsp;<span class="op" id="5478397">&lt;=</span>&nbsp;<span class="ident" id="5478400">pc</span>&nbsp;<span class="op" id="5478403">&amp;&amp;</span>&nbsp;<span class="ident" id="5478406">pc</span>&nbsp;<span class="op" id="5478409">&lt;</span>&nbsp;<span class="ident" id="5478411">fn</span><span class="op" id="5478413">.</span><span class="ident" id="5478414">End</span><span class="op" id="5478417">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478422">return</span>&nbsp;<span class="ident" id="5478429">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478434">default</span><span class="op" id="5478441">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5478446">funcs</span>&nbsp;<span class="op" id="5478452">=</span>&nbsp;<span class="ident" id="5478454">funcs</span><span class="op" id="5478459">[</span><span class="ident" id="5478460">m</span><span class="op" id="5478461">+</span><span class="num" id="5478462">1</span><span class="op" id="5478463">:</span><span class="op" id="5478464">]</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5478468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5478471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478474">return</span>&nbsp;<span class="ident" id="5478481">nil</span><br>
<span class="lineno"></span><span class="op" id="5478485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="5478488">//&nbsp;PCToLine&nbsp;looks&nbsp;up&nbsp;line&nbsp;number&nbsp;information&nbsp;for&nbsp;a&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span><span class="comment" id="5478556">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;information,&nbsp;it&nbsp;returns&nbsp;fn&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="5478609">func</span>&nbsp;<span class="op" id="5478614">(</span><span class="ident" id="5478615">t</span>&nbsp;<span class="op" id="5478617">*</span><span class="ident" id="5478618">Table</span><span class="op" id="5478623">)</span>&nbsp;<span class="ident" id="5478625">PCToLine</span><span class="op" id="5478633">(</span><span class="ident" id="5478634">pc</span>&nbsp;<span class="ident" id="5478637">uint64</span><span class="op" id="5478643">)</span>&nbsp;<span class="op" id="5478645">(</span><span class="ident" id="5478646">file</span>&nbsp;<span class="builtintype" id="5478651">string</span><span class="op" id="5478657">,</span>&nbsp;<span class="ident" id="5478659">line</span>&nbsp;<span class="builtintype" id="5478664">int</span><span class="op" id="5478667">,</span>&nbsp;<span class="ident" id="5478669">fn</span>&nbsp;<span class="op" id="5478672">*</span><span class="ident" id="5478673">Func</span><span class="op" id="5478677">)</span>&nbsp;<span class="op" id="5478679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478682">if</span>&nbsp;<span class="ident" id="5478685">fn</span>&nbsp;<span class="op" id="5478688">=</span>&nbsp;<span class="ident" id="5478690">t</span><span class="op" id="5478691">.</span><span class="ident" id="5478692">PCToFunc</span><span class="op" id="5478700">(</span><span class="ident" id="5478701">pc</span><span class="op" id="5478703">)</span><span class="op" id="5478704">;</span>&nbsp;<span class="ident" id="5478706">fn</span>&nbsp;<span class="op" id="5478709">==</span>&nbsp;<span class="ident" id="5478712">nil</span>&nbsp;<span class="op" id="5478716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478720">return</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5478728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478731">if</span>&nbsp;<span class="ident" id="5478734">t</span><span class="op" id="5478735">.</span><span class="ident" id="5478736">go12line</span>&nbsp;<span class="op" id="5478745">!=</span>&nbsp;<span class="ident" id="5478748">nil</span>&nbsp;<span class="op" id="5478752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5478756">file</span>&nbsp;<span class="op" id="5478761">=</span>&nbsp;<span class="ident" id="5478763">t</span><span class="op" id="5478764">.</span><span class="ident" id="5478765">go12line</span><span class="op" id="5478773">.</span><span class="ident" id="5478774">go12PCToFile</span><span class="op" id="5478786">(</span><span class="ident" id="5478787">pc</span><span class="op" id="5478789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5478793">line</span>&nbsp;<span class="op" id="5478798">=</span>&nbsp;<span class="ident" id="5478800">t</span><span class="op" id="5478801">.</span><span class="ident" id="5478802">go12line</span><span class="op" id="5478810">.</span><span class="ident" id="5478811">go12PCToLine</span><span class="op" id="5478823">(</span><span class="ident" id="5478824">pc</span><span class="op" id="5478826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5478829">}</span>&nbsp;<span class="keyword" id="5478831">else</span>&nbsp;<span class="op" id="5478836">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5478840">file</span><span class="op" id="5478844">,</span>&nbsp;<span class="ident" id="5478846">line</span>&nbsp;<span class="op" id="5478851">=</span>&nbsp;<span class="ident" id="5478853">fn</span><span class="op" id="5478855">.</span><span class="ident" id="5478856">Obj</span><span class="op" id="5478859">.</span><span class="ident" id="5478860">lineFromAline</span><span class="op" id="5478873">(</span><span class="ident" id="5478874">fn</span><span class="op" id="5478876">.</span><span class="ident" id="5478877">LineTable</span><span class="op" id="5478886">.</span><span class="ident" id="5478887">PCToLine</span><span class="op" id="5478895">(</span><span class="ident" id="5478896">pc</span><span class="op" id="5478898">)</span><span class="op" id="5478899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5478902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5478905">return</span><br>
<span class="lineno"></span><span class="op" id="5478912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="comment" id="5478915">//&nbsp;LineToPC&nbsp;looks&nbsp;up&nbsp;the&nbsp;first&nbsp;program&nbsp;counter&nbsp;on&nbsp;the&nbsp;given&nbsp;line&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5478983">//&nbsp;the&nbsp;named&nbsp;file.&nbsp;&nbsp;It&nbsp;returns&nbsp;UnknownPathError&nbsp;or&nbsp;UnknownLineError&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="5479054">//&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;looking&nbsp;up&nbsp;this&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="5479097">func</span>&nbsp;<span class="op" id="5479102">(</span><span class="ident" id="5479103">t</span>&nbsp;<span class="op" id="5479105">*</span><span class="ident" id="5479106">Table</span><span class="op" id="5479111">)</span>&nbsp;<span class="ident" id="5479113">LineToPC</span><span class="op" id="5479121">(</span><span class="ident" id="5479122">file</span>&nbsp;<span class="builtintype" id="5479127">string</span><span class="op" id="5479133">,</span>&nbsp;<span class="ident" id="5479135">line</span>&nbsp;<span class="builtintype" id="5479140">int</span><span class="op" id="5479143">)</span>&nbsp;<span class="op" id="5479145">(</span><span class="ident" id="5479146">pc</span>&nbsp;<span class="ident" id="5479149">uint64</span><span class="op" id="5479155">,</span>&nbsp;<span class="ident" id="5479157">fn</span>&nbsp;<span class="op" id="5479160">*</span><span class="ident" id="5479161">Func</span><span class="op" id="5479165">,</span>&nbsp;<span class="ident" id="5479167">err</span>&nbsp;<span class="builtintype" id="5479171">error</span><span class="op" id="5479176">)</span>&nbsp;<span class="op" id="5479178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5479181">obj</span><span class="op" id="5479184">,</span>&nbsp;<span class="ident" id="5479186">ok</span>&nbsp;<span class="op" id="5479189">:=</span>&nbsp;<span class="ident" id="5479192">t</span><span class="op" id="5479193">.</span><span class="ident" id="5479194">Files</span><span class="op" id="5479199">[</span><span class="ident" id="5479200">file</span><span class="op" id="5479204">]</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479207">if</span>&nbsp;<span class="op" id="5479210">!</span><span class="ident" id="5479211">ok</span>&nbsp;<span class="op" id="5479214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479218">return</span>&nbsp;<span class="num" id="5479225">0</span><span class="op" id="5479226">,</span>&nbsp;<span class="ident" id="5479228">nil</span><span class="op" id="5479231">,</span>&nbsp;<span class="ident" id="5479233">UnknownFileError</span><span class="op" id="5479249">(</span><span class="ident" id="5479250">file</span><span class="op" id="5479254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5479257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479261">if</span>&nbsp;<span class="ident" id="5479264">t</span><span class="op" id="5479265">.</span><span class="ident" id="5479266">go12line</span>&nbsp;<span class="op" id="5479275">!=</span>&nbsp;<span class="ident" id="5479278">nil</span>&nbsp;<span class="op" id="5479282">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5479286">pc</span>&nbsp;<span class="op" id="5479289">:=</span>&nbsp;<span class="ident" id="5479292">t</span><span class="op" id="5479293">.</span><span class="ident" id="5479294">go12line</span><span class="op" id="5479302">.</span><span class="ident" id="5479303">go12LineToPC</span><span class="op" id="5479315">(</span><span class="ident" id="5479316">file</span><span class="op" id="5479320">,</span>&nbsp;<span class="ident" id="5479322">line</span><span class="op" id="5479326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479330">if</span>&nbsp;<span class="ident" id="5479333">pc</span>&nbsp;<span class="op" id="5479336">==</span>&nbsp;<span class="num" id="5479339">0</span>&nbsp;<span class="op" id="5479341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479346">return</span>&nbsp;<span class="num" id="5479353">0</span><span class="op" id="5479354">,</span>&nbsp;<span class="ident" id="5479356">nil</span><span class="op" id="5479359">,</span>&nbsp;<span class="op" id="5479361">&amp;</span><span class="ident" id="5479362">UnknownLineError</span><span class="op" id="5479378">{</span><span class="ident" id="5479379">file</span><span class="op" id="5479383">,</span>&nbsp;<span class="ident" id="5479385">line</span><span class="op" id="5479389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5479393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479397">return</span>&nbsp;<span class="ident" id="5479404">pc</span><span class="op" id="5479406">,</span>&nbsp;<span class="ident" id="5479408">t</span><span class="op" id="5479409">.</span><span class="ident" id="5479410">PCToFunc</span><span class="op" id="5479418">(</span><span class="ident" id="5479419">pc</span><span class="op" id="5479421">)</span><span class="op" id="5479422">,</span>&nbsp;<span class="ident" id="5479424">nil</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5479429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5479433">abs</span><span class="op" id="5479436">,</span>&nbsp;<span class="ident" id="5479438">err</span>&nbsp;<span class="op" id="5479442">:=</span>&nbsp;<span class="ident" id="5479445">obj</span><span class="op" id="5479448">.</span><span class="ident" id="5479449">alineFromLine</span><span class="op" id="5479462">(</span><span class="ident" id="5479463">file</span><span class="op" id="5479467">,</span>&nbsp;<span class="ident" id="5479469">line</span><span class="op" id="5479473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479476">if</span>&nbsp;<span class="ident" id="5479479">err</span>&nbsp;<span class="op" id="5479483">!=</span>&nbsp;<span class="ident" id="5479486">nil</span>&nbsp;<span class="op" id="5479490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479494">return</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5479502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479505">for</span>&nbsp;<span class="ident" id="5479509">i</span>&nbsp;<span class="op" id="5479511">:=</span>&nbsp;<span class="keyword" id="5479514">range</span>&nbsp;<span class="ident" id="5479520">obj</span><span class="op" id="5479523">.</span><span class="ident" id="5479524">Funcs</span>&nbsp;<span class="op" id="5479530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5479534">f</span>&nbsp;<span class="op" id="5479536">:=</span>&nbsp;<span class="op" id="5479539">&amp;</span><span class="ident" id="5479540">obj</span><span class="op" id="5479543">.</span><span class="ident" id="5479544">Funcs</span><span class="op" id="5479549">[</span><span class="ident" id="5479550">i</span><span class="op" id="5479551">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5479555">pc</span>&nbsp;<span class="op" id="5479558">:=</span>&nbsp;<span class="ident" id="5479561">f</span><span class="op" id="5479562">.</span><span class="ident" id="5479563">LineTable</span><span class="op" id="5479572">.</span><span class="ident" id="5479573">LineToPC</span><span class="op" id="5479581">(</span><span class="ident" id="5479582">abs</span><span class="op" id="5479585">,</span>&nbsp;<span class="ident" id="5479587">f</span><span class="op" id="5479588">.</span><span class="ident" id="5479589">End</span><span class="op" id="5479592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479596">if</span>&nbsp;<span class="ident" id="5479599">pc</span>&nbsp;<span class="op" id="5479602">!=</span>&nbsp;<span class="num" id="5479605">0</span>&nbsp;<span class="op" id="5479607">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479612">return</span>&nbsp;<span class="ident" id="5479619">pc</span><span class="op" id="5479621">,</span>&nbsp;<span class="ident" id="5479623">f</span><span class="op" id="5479624">,</span>&nbsp;<span class="ident" id="5479626">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5479632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5479635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479638">return</span>&nbsp;<span class="num" id="5479645">0</span><span class="op" id="5479646">,</span>&nbsp;<span class="ident" id="5479648">nil</span><span class="op" id="5479651">,</span>&nbsp;<span class="op" id="5479653">&amp;</span><span class="ident" id="5479654">UnknownLineError</span><span class="op" id="5479670">{</span><span class="ident" id="5479671">file</span><span class="op" id="5479675">,</span>&nbsp;<span class="ident" id="5479677">line</span><span class="op" id="5479681">}</span><br>
<span class="lineno"></span><span class="op" id="5479683">}</span><br>
<span class="lineno">535</span><br>
<span class="lineno"></span><span class="comment" id="5479686">//&nbsp;LookupSym&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5479758">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5479796">func</span>&nbsp;<span class="op" id="5479801">(</span><span class="ident" id="5479802">t</span>&nbsp;<span class="op" id="5479804">*</span><span class="ident" id="5479805">Table</span><span class="op" id="5479810">)</span>&nbsp;<span class="ident" id="5479812">LookupSym</span><span class="op" id="5479821">(</span><span class="ident" id="5479822">name</span>&nbsp;<span class="builtintype" id="5479827">string</span><span class="op" id="5479833">)</span>&nbsp;<span class="op" id="5479835">*</span><span class="ident" id="5479836">Sym</span>&nbsp;<span class="op" id="5479840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5479843">//&nbsp;TODO(austin)&nbsp;Maybe&nbsp;make&nbsp;a&nbsp;map</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479877">for</span>&nbsp;<span class="ident" id="5479881">i</span>&nbsp;<span class="op" id="5479883">:=</span>&nbsp;<span class="keyword" id="5479886">range</span>&nbsp;<span class="ident" id="5479892">t</span><span class="op" id="5479893">.</span><span class="ident" id="5479894">Syms</span>&nbsp;<span class="op" id="5479899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5479903">s</span>&nbsp;<span class="op" id="5479905">:=</span>&nbsp;<span class="op" id="5479908">&amp;</span><span class="ident" id="5479909">t</span><span class="op" id="5479910">.</span><span class="ident" id="5479911">Syms</span><span class="op" id="5479915">[</span><span class="ident" id="5479916">i</span><span class="op" id="5479917">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479921">switch</span>&nbsp;<span class="ident" id="5479928">s</span><span class="op" id="5479929">.</span><span class="ident" id="5479930">Type</span>&nbsp;<span class="op" id="5479935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479939">case</span>&nbsp;<span class="string" id="5479944">&#39;T&#39;</span><span class="op" id="5479947">,</span>&nbsp;<span class="string" id="5479949">&#39;t&#39;</span><span class="op" id="5479952">,</span>&nbsp;<span class="string" id="5479954">&#39;L&#39;</span><span class="op" id="5479957">,</span>&nbsp;<span class="string" id="5479959">&#39;l&#39;</span><span class="op" id="5479962">,</span>&nbsp;<span class="string" id="5479964">&#39;D&#39;</span><span class="op" id="5479967">,</span>&nbsp;<span class="string" id="5479969">&#39;d&#39;</span><span class="op" id="5479972">,</span>&nbsp;<span class="string" id="5479974">&#39;B&#39;</span><span class="op" id="5479977">,</span>&nbsp;<span class="string" id="5479979">&#39;b&#39;</span><span class="op" id="5479982">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5479987">if</span>&nbsp;<span class="ident" id="5479990">s</span><span class="op" id="5479991">.</span><span class="ident" id="5479992">Name</span>&nbsp;<span class="op" id="5479997">==</span>&nbsp;<span class="ident" id="5480000">name</span>&nbsp;<span class="op" id="5480005">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480011">return</span>&nbsp;<span class="ident" id="5480018">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5480023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5480027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5480030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480033">return</span>&nbsp;<span class="ident" id="5480040">nil</span><br>
<span class="lineno">550</span><span class="op" id="5480044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5480047">//&nbsp;LookupFunc&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5480120">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5480158">func</span>&nbsp;<span class="op" id="5480163">(</span><span class="ident" id="5480164">t</span>&nbsp;<span class="op" id="5480166">*</span><span class="ident" id="5480167">Table</span><span class="op" id="5480172">)</span>&nbsp;<span class="ident" id="5480174">LookupFunc</span><span class="op" id="5480184">(</span><span class="ident" id="5480185">name</span>&nbsp;<span class="builtintype" id="5480190">string</span><span class="op" id="5480196">)</span>&nbsp;<span class="op" id="5480198">*</span><span class="ident" id="5480199">Func</span>&nbsp;<span class="op" id="5480204">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480207">for</span>&nbsp;<span class="ident" id="5480211">i</span>&nbsp;<span class="op" id="5480213">:=</span>&nbsp;<span class="keyword" id="5480216">range</span>&nbsp;<span class="ident" id="5480222">t</span><span class="op" id="5480223">.</span><span class="ident" id="5480224">Funcs</span>&nbsp;<span class="op" id="5480230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5480234">f</span>&nbsp;<span class="op" id="5480236">:=</span>&nbsp;<span class="op" id="5480239">&amp;</span><span class="ident" id="5480240">t</span><span class="op" id="5480241">.</span><span class="ident" id="5480242">Funcs</span><span class="op" id="5480247">[</span><span class="ident" id="5480248">i</span><span class="op" id="5480249">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480253">if</span>&nbsp;<span class="ident" id="5480256">f</span><span class="op" id="5480257">.</span><span class="ident" id="5480258">Sym</span><span class="op" id="5480261">.</span><span class="ident" id="5480262">Name</span>&nbsp;<span class="op" id="5480267">==</span>&nbsp;<span class="ident" id="5480270">name</span>&nbsp;<span class="op" id="5480275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480280">return</span>&nbsp;<span class="ident" id="5480287">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5480291">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5480294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480297">return</span>&nbsp;<span class="ident" id="5480304">nil</span><br>
<span class="lineno"></span><span class="op" id="5480308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5480311">//&nbsp;SymByAddr&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;starting&nbsp;at&nbsp;the&nbsp;given&nbsp;address.</span><br>
<span class="lineno">565</span><span class="keyword" id="5480393">func</span>&nbsp;<span class="op" id="5480398">(</span><span class="ident" id="5480399">t</span>&nbsp;<span class="op" id="5480401">*</span><span class="ident" id="5480402">Table</span><span class="op" id="5480407">)</span>&nbsp;<span class="ident" id="5480409">SymByAddr</span><span class="op" id="5480418">(</span><span class="ident" id="5480419">addr</span>&nbsp;<span class="ident" id="5480424">uint64</span><span class="op" id="5480430">)</span>&nbsp;<span class="op" id="5480432">*</span><span class="ident" id="5480433">Sym</span>&nbsp;<span class="op" id="5480437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480440">for</span>&nbsp;<span class="ident" id="5480444">i</span>&nbsp;<span class="op" id="5480446">:=</span>&nbsp;<span class="keyword" id="5480449">range</span>&nbsp;<span class="ident" id="5480455">t</span><span class="op" id="5480456">.</span><span class="ident" id="5480457">Syms</span>&nbsp;<span class="op" id="5480462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5480466">s</span>&nbsp;<span class="op" id="5480468">:=</span>&nbsp;<span class="op" id="5480471">&amp;</span><span class="ident" id="5480472">t</span><span class="op" id="5480473">.</span><span class="ident" id="5480474">Syms</span><span class="op" id="5480478">[</span><span class="ident" id="5480479">i</span><span class="op" id="5480480">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480484">switch</span>&nbsp;<span class="ident" id="5480491">s</span><span class="op" id="5480492">.</span><span class="ident" id="5480493">Type</span>&nbsp;<span class="op" id="5480498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480502">case</span>&nbsp;<span class="string" id="5480507">&#39;T&#39;</span><span class="op" id="5480510">,</span>&nbsp;<span class="string" id="5480512">&#39;t&#39;</span><span class="op" id="5480515">,</span>&nbsp;<span class="string" id="5480517">&#39;L&#39;</span><span class="op" id="5480520">,</span>&nbsp;<span class="string" id="5480522">&#39;l&#39;</span><span class="op" id="5480525">,</span>&nbsp;<span class="string" id="5480527">&#39;D&#39;</span><span class="op" id="5480530">,</span>&nbsp;<span class="string" id="5480532">&#39;d&#39;</span><span class="op" id="5480535">,</span>&nbsp;<span class="string" id="5480537">&#39;B&#39;</span><span class="op" id="5480540">,</span>&nbsp;<span class="string" id="5480542">&#39;b&#39;</span><span class="op" id="5480545">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480550">if</span>&nbsp;<span class="ident" id="5480553">s</span><span class="op" id="5480554">.</span><span class="ident" id="5480555">Value</span>&nbsp;<span class="op" id="5480561">==</span>&nbsp;<span class="ident" id="5480564">addr</span>&nbsp;<span class="op" id="5480569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480575">return</span>&nbsp;<span class="ident" id="5480582">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5480587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5480591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5480594">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5480597">return</span>&nbsp;<span class="ident" id="5480604">nil</span><br>
<span class="lineno"></span><span class="op" id="5480608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5480611">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Object&nbsp;files<br>
<span class="lineno">580</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5480635">//&nbsp;This&nbsp;is&nbsp;legacy&nbsp;code&nbsp;for&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;which&nbsp;used&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5480697">//&nbsp;Plan&nbsp;9&nbsp;format&nbsp;for&nbsp;pc-line&nbsp;tables.&nbsp;This&nbsp;code&nbsp;was&nbsp;never&nbsp;quite</span><br>
<span class="lineno"></span><span class="comment" id="5480760">//&nbsp;correct.&nbsp;It&#39;s&nbsp;probably&nbsp;very&nbsp;close,&nbsp;and&nbsp;it&#39;s&nbsp;usually&nbsp;correct,&nbsp;but</span><br>
<span class="lineno">585</span><span class="comment" id="5480828">//&nbsp;we&nbsp;never&nbsp;quite&nbsp;found&nbsp;all&nbsp;the&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="5480874">//</span><br>
<span class="lineno"></span><span class="comment" id="5480877">//&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;use&nbsp;a&nbsp;simpler&nbsp;format,&nbsp;documented&nbsp;at&nbsp;golang.org/s/go12symtab.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5480959">func</span>&nbsp;<span class="op" id="5480964">(</span><span class="ident" id="5480965">o</span>&nbsp;<span class="op" id="5480967">*</span><span class="ident" id="5480968">Obj</span><span class="op" id="5480971">)</span>&nbsp;<span class="ident" id="5480973">lineFromAline</span><span class="op" id="5480986">(</span><span class="ident" id="5480987">aline</span>&nbsp;<span class="builtintype" id="5480993">int</span><span class="op" id="5480996">)</span>&nbsp;<span class="op" id="5480998">(</span><span class="builtintype" id="5480999">string</span><span class="op" id="5481005">,</span>&nbsp;<span class="builtintype" id="5481007">int</span><span class="op" id="5481010">)</span>&nbsp;<span class="op" id="5481012">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481015">type</span>&nbsp;<span class="ident" id="5481020">stackEnt</span>&nbsp;<span class="keyword" id="5481029">struct</span>&nbsp;<span class="op" id="5481036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481040">path</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5481047">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481056">start</span>&nbsp;&nbsp;<span class="builtintype" id="5481063">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481069">offset</span>&nbsp;<span class="builtintype" id="5481076">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481082">prev</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5481089">*</span><span class="ident" id="5481090">stackEnt</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5481100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481104">noPath</span>&nbsp;<span class="op" id="5481111">:=</span>&nbsp;<span class="op" id="5481114">&amp;</span><span class="ident" id="5481115">stackEnt</span><span class="op" id="5481123">{</span><span class="string" id="5481124">&#34;&#34;</span><span class="op" id="5481126">,</span>&nbsp;<span class="num" id="5481128">0</span><span class="op" id="5481129">,</span>&nbsp;<span class="num" id="5481131">0</span><span class="op" id="5481132">,</span>&nbsp;<span class="ident" id="5481134">nil</span><span class="op" id="5481137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481140">tos</span>&nbsp;<span class="op" id="5481144">:=</span>&nbsp;<span class="ident" id="5481147">noPath</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="ident" id="5481155">pathloop</span><span class="op" id="5481163">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481166">for</span>&nbsp;<span class="ident" id="5481170">_</span><span class="op" id="5481171">,</span>&nbsp;<span class="ident" id="5481173">s</span>&nbsp;<span class="op" id="5481175">:=</span>&nbsp;<span class="keyword" id="5481178">range</span>&nbsp;<span class="ident" id="5481184">o</span><span class="op" id="5481185">.</span><span class="ident" id="5481186">Paths</span>&nbsp;<span class="op" id="5481192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481196">val</span>&nbsp;<span class="op" id="5481200">:=</span>&nbsp;<span class="builtintype" id="5481203">int</span><span class="op" id="5481206">(</span><span class="ident" id="5481207">s</span><span class="op" id="5481208">.</span><span class="ident" id="5481209">Value</span><span class="op" id="5481214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481218">switch</span>&nbsp;<span class="op" id="5481225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481229">case</span>&nbsp;<span class="ident" id="5481234">val</span>&nbsp;<span class="op" id="5481238">&gt;</span>&nbsp;<span class="ident" id="5481240">aline</span><span class="op" id="5481245">:</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481250">break</span>&nbsp;<span class="ident" id="5481256">pathloop</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481268">case</span>&nbsp;<span class="ident" id="5481273">val</span>&nbsp;<span class="op" id="5481277">==</span>&nbsp;<span class="num" id="5481280">1</span><span class="op" id="5481281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5481286">//&nbsp;Start&nbsp;a&nbsp;new&nbsp;stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481310">tos</span>&nbsp;<span class="op" id="5481314">=</span>&nbsp;<span class="op" id="5481316">&amp;</span><span class="ident" id="5481317">stackEnt</span><span class="op" id="5481325">{</span><span class="ident" id="5481326">s</span><span class="op" id="5481327">.</span><span class="ident" id="5481328">Name</span><span class="op" id="5481332">,</span>&nbsp;<span class="ident" id="5481334">val</span><span class="op" id="5481337">,</span>&nbsp;<span class="num" id="5481339">0</span><span class="op" id="5481340">,</span>&nbsp;<span class="ident" id="5481342">noPath</span><span class="op" id="5481348">}</span><br>
<span class="lineno">610</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481353">case</span>&nbsp;<span class="ident" id="5481358">s</span><span class="op" id="5481359">.</span><span class="ident" id="5481360">Name</span>&nbsp;<span class="op" id="5481365">==</span>&nbsp;<span class="string" id="5481368">&#34;&#34;</span><span class="op" id="5481370">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5481375">//&nbsp;Pop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481385">if</span>&nbsp;<span class="ident" id="5481388">tos</span>&nbsp;<span class="op" id="5481392">==</span>&nbsp;<span class="ident" id="5481395">noPath</span>&nbsp;<span class="op" id="5481402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481408">return</span>&nbsp;<span class="string" id="5481415">&#34;&lt;malformed&nbsp;symbol&nbsp;table&gt;&#34;</span><span class="op" id="5481441">,</span>&nbsp;<span class="num" id="5481443">0</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5481448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481453">tos</span><span class="op" id="5481456">.</span><span class="ident" id="5481457">prev</span><span class="op" id="5481461">.</span><span class="ident" id="5481462">offset</span>&nbsp;<span class="op" id="5481469">+=</span>&nbsp;<span class="ident" id="5481472">val</span>&nbsp;<span class="op" id="5481476">-</span>&nbsp;<span class="ident" id="5481478">tos</span><span class="op" id="5481481">.</span><span class="ident" id="5481482">start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481491">tos</span>&nbsp;<span class="op" id="5481495">=</span>&nbsp;<span class="ident" id="5481497">tos</span><span class="op" id="5481500">.</span><span class="ident" id="5481501">prev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481509">default</span><span class="op" id="5481516">:</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5481521">//&nbsp;Push</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481532">tos</span>&nbsp;<span class="op" id="5481536">=</span>&nbsp;<span class="op" id="5481538">&amp;</span><span class="ident" id="5481539">stackEnt</span><span class="op" id="5481547">{</span><span class="ident" id="5481548">s</span><span class="op" id="5481549">.</span><span class="ident" id="5481550">Name</span><span class="op" id="5481554">,</span>&nbsp;<span class="ident" id="5481556">val</span><span class="op" id="5481559">,</span>&nbsp;<span class="num" id="5481561">0</span><span class="op" id="5481562">,</span>&nbsp;<span class="ident" id="5481564">tos</span><span class="op" id="5481567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5481571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5481574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481578">if</span>&nbsp;<span class="ident" id="5481581">tos</span>&nbsp;<span class="op" id="5481585">==</span>&nbsp;<span class="ident" id="5481588">noPath</span>&nbsp;<span class="op" id="5481595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481599">return</span>&nbsp;<span class="string" id="5481606">&#34;&#34;</span><span class="op" id="5481608">,</span>&nbsp;<span class="num" id="5481610">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5481613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481616">return</span>&nbsp;<span class="ident" id="5481623">tos</span><span class="op" id="5481626">.</span><span class="ident" id="5481627">path</span><span class="op" id="5481631">,</span>&nbsp;<span class="ident" id="5481633">aline</span>&nbsp;<span class="op" id="5481639">-</span>&nbsp;<span class="ident" id="5481641">tos</span><span class="op" id="5481644">.</span><span class="ident" id="5481645">start</span>&nbsp;<span class="op" id="5481651">-</span>&nbsp;<span class="ident" id="5481653">tos</span><span class="op" id="5481656">.</span><span class="ident" id="5481657">offset</span>&nbsp;<span class="op" id="5481664">+</span>&nbsp;<span class="num" id="5481666">1</span><br>
<span class="lineno"></span><span class="op" id="5481668">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="5481671">func</span>&nbsp;<span class="op" id="5481676">(</span><span class="ident" id="5481677">o</span>&nbsp;<span class="op" id="5481679">*</span><span class="ident" id="5481680">Obj</span><span class="op" id="5481683">)</span>&nbsp;<span class="ident" id="5481685">alineFromLine</span><span class="op" id="5481698">(</span><span class="ident" id="5481699">path</span>&nbsp;<span class="builtintype" id="5481704">string</span><span class="op" id="5481710">,</span>&nbsp;<span class="ident" id="5481712">line</span>&nbsp;<span class="builtintype" id="5481717">int</span><span class="op" id="5481720">)</span>&nbsp;<span class="op" id="5481722">(</span><span class="builtintype" id="5481723">int</span><span class="op" id="5481726">,</span>&nbsp;<span class="builtintype" id="5481728">error</span><span class="op" id="5481733">)</span>&nbsp;<span class="op" id="5481735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481738">if</span>&nbsp;<span class="ident" id="5481741">line</span>&nbsp;<span class="op" id="5481746">&lt;</span>&nbsp;<span class="num" id="5481748">1</span>&nbsp;<span class="op" id="5481750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481754">return</span>&nbsp;<span class="num" id="5481761">0</span><span class="op" id="5481762">,</span>&nbsp;<span class="op" id="5481764">&amp;</span><span class="ident" id="5481765">UnknownLineError</span><span class="op" id="5481781">{</span><span class="ident" id="5481782">path</span><span class="op" id="5481786">,</span>&nbsp;<span class="ident" id="5481788">line</span><span class="op" id="5481792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5481795">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481799">for</span>&nbsp;<span class="ident" id="5481803">i</span><span class="op" id="5481804">,</span>&nbsp;<span class="ident" id="5481806">s</span>&nbsp;<span class="op" id="5481808">:=</span>&nbsp;<span class="keyword" id="5481811">range</span>&nbsp;<span class="ident" id="5481817">o</span><span class="op" id="5481818">.</span><span class="ident" id="5481819">Paths</span>&nbsp;<span class="op" id="5481825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5481829">//&nbsp;Find&nbsp;this&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481849">if</span>&nbsp;<span class="ident" id="5481852">s</span><span class="op" id="5481853">.</span><span class="ident" id="5481854">Name</span>&nbsp;<span class="op" id="5481859">!=</span>&nbsp;<span class="ident" id="5481862">path</span>&nbsp;<span class="op" id="5481867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481872">continue</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5481883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5481888">//&nbsp;Find&nbsp;this&nbsp;line&nbsp;at&nbsp;this&nbsp;stack&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481928">depth</span>&nbsp;<span class="op" id="5481934">:=</span>&nbsp;<span class="num" id="5481937">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481941">var</span>&nbsp;<span class="ident" id="5481945">incstart</span>&nbsp;<span class="builtintype" id="5481954">int</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481960">line</span>&nbsp;<span class="op" id="5481965">+=</span>&nbsp;<span class="builtintype" id="5481968">int</span><span class="op" id="5481971">(</span><span class="ident" id="5481972">s</span><span class="op" id="5481973">.</span><span class="ident" id="5481974">Value</span><span class="op" id="5481979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5481982">pathloop</span><span class="op" id="5481990">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5481994">for</span>&nbsp;<span class="ident" id="5481998">_</span><span class="op" id="5481999">,</span>&nbsp;<span class="ident" id="5482001">s</span>&nbsp;<span class="op" id="5482003">:=</span>&nbsp;<span class="keyword" id="5482006">range</span>&nbsp;<span class="ident" id="5482012">o</span><span class="op" id="5482013">.</span><span class="ident" id="5482014">Paths</span><span class="op" id="5482019">[</span><span class="ident" id="5482020">i</span><span class="op" id="5482021">:</span><span class="op" id="5482022">]</span>&nbsp;<span class="op" id="5482024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5482029">val</span>&nbsp;<span class="op" id="5482033">:=</span>&nbsp;<span class="builtintype" id="5482036">int</span><span class="op" id="5482039">(</span><span class="ident" id="5482040">s</span><span class="op" id="5482041">.</span><span class="ident" id="5482042">Value</span><span class="op" id="5482047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482052">switch</span>&nbsp;<span class="op" id="5482059">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482064">case</span>&nbsp;<span class="ident" id="5482069">depth</span>&nbsp;<span class="op" id="5482075">==</span>&nbsp;<span class="num" id="5482078">1</span>&nbsp;<span class="op" id="5482080">&amp;&amp;</span>&nbsp;<span class="ident" id="5482083">val</span>&nbsp;<span class="op" id="5482087">&gt;=</span>&nbsp;<span class="ident" id="5482090">line</span><span class="op" id="5482094">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482100">return</span>&nbsp;<span class="ident" id="5482107">line</span>&nbsp;<span class="op" id="5482112">-</span>&nbsp;<span class="num" id="5482114">1</span><span class="op" id="5482115">,</span>&nbsp;<span class="ident" id="5482117">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482125">case</span>&nbsp;<span class="ident" id="5482130">s</span><span class="op" id="5482131">.</span><span class="ident" id="5482132">Name</span>&nbsp;<span class="op" id="5482137">==</span>&nbsp;<span class="string" id="5482140">&#34;&#34;</span><span class="op" id="5482142">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5482148">depth</span><span class="op" id="5482153">--</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482160">if</span>&nbsp;<span class="ident" id="5482163">depth</span>&nbsp;<span class="op" id="5482169">==</span>&nbsp;<span class="num" id="5482172">0</span>&nbsp;<span class="op" id="5482174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482181">break</span>&nbsp;<span class="ident" id="5482187">pathloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5482200">}</span>&nbsp;<span class="keyword" id="5482202">else</span>&nbsp;<span class="keyword" id="5482207">if</span>&nbsp;<span class="ident" id="5482210">depth</span>&nbsp;<span class="op" id="5482216">==</span>&nbsp;<span class="num" id="5482219">1</span>&nbsp;<span class="op" id="5482221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5482228">line</span>&nbsp;<span class="op" id="5482233">+=</span>&nbsp;<span class="ident" id="5482236">val</span>&nbsp;<span class="op" id="5482240">-</span>&nbsp;<span class="ident" id="5482242">incstart</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5482255">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482261">default</span><span class="op" id="5482268">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482274">if</span>&nbsp;<span class="ident" id="5482277">depth</span>&nbsp;<span class="op" id="5482283">==</span>&nbsp;<span class="num" id="5482286">1</span>&nbsp;<span class="op" id="5482288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5482295">incstart</span>&nbsp;<span class="op" id="5482304">=</span>&nbsp;<span class="ident" id="5482306">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5482314">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5482320">depth</span><span class="op" id="5482325">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5482331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5482335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482339">return</span>&nbsp;<span class="num" id="5482346">0</span><span class="op" id="5482347">,</span>&nbsp;<span class="op" id="5482349">&amp;</span><span class="ident" id="5482350">UnknownLineError</span><span class="op" id="5482366">{</span><span class="ident" id="5482367">path</span><span class="op" id="5482371">,</span>&nbsp;<span class="ident" id="5482373">line</span><span class="op" id="5482377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5482380">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482383">return</span>&nbsp;<span class="num" id="5482390">0</span><span class="op" id="5482391">,</span>&nbsp;<span class="ident" id="5482393">UnknownFileError</span><span class="op" id="5482409">(</span><span class="ident" id="5482410">path</span><span class="op" id="5482414">)</span><br>
<span class="lineno"></span><span class="op" id="5482416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5482419">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Errors<br>
<span class="lineno">675</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5482437">//&nbsp;UnknownFileError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;find&nbsp;the&nbsp;specific&nbsp;file&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5482507">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5482528">type</span>&nbsp;<span class="ident" id="5482533">UnknownFileError</span>&nbsp;<span class="builtintype" id="5482550">string</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="5482558">func</span>&nbsp;<span class="op" id="5482563">(</span><span class="ident" id="5482564">e</span>&nbsp;<span class="ident" id="5482566">UnknownFileError</span><span class="op" id="5482582">)</span>&nbsp;<span class="ident" id="5482584">Error</span><span class="op" id="5482589">(</span><span class="op" id="5482590">)</span>&nbsp;<span class="builtintype" id="5482592">string</span>&nbsp;<span class="op" id="5482599">{</span>&nbsp;<span class="keyword" id="5482601">return</span>&nbsp;<span class="string" id="5482608">&#34;unknown&nbsp;file:&nbsp;&#34;</span>&nbsp;<span class="op" id="5482625">+</span>&nbsp;<span class="builtintype" id="5482627">string</span><span class="op" id="5482633">(</span><span class="ident" id="5482634">e</span><span class="op" id="5482635">)</span>&nbsp;<span class="op" id="5482637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5482640">//&nbsp;UnknownLineError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;map&nbsp;a&nbsp;line&nbsp;to&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="5482708">//&nbsp;counter,&nbsp;either&nbsp;because&nbsp;the&nbsp;line&nbsp;is&nbsp;beyond&nbsp;the&nbsp;bounds&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno">685</span><span class="comment" id="5482777">//&nbsp;or&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;code&nbsp;on&nbsp;the&nbsp;given&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="5482827">type</span>&nbsp;<span class="ident" id="5482832">UnknownLineError</span>&nbsp;<span class="keyword" id="5482849">struct</span>&nbsp;<span class="op" id="5482856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5482859">File</span>&nbsp;<span class="builtintype" id="5482864">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5482872">Line</span>&nbsp;<span class="builtintype" id="5482877">int</span><br>
<span class="lineno"></span><span class="op" id="5482881">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span><span class="keyword" id="5482884">func</span>&nbsp;<span class="op" id="5482889">(</span><span class="ident" id="5482890">e</span>&nbsp;<span class="op" id="5482892">*</span><span class="ident" id="5482893">UnknownLineError</span><span class="op" id="5482909">)</span>&nbsp;<span class="ident" id="5482911">Error</span><span class="op" id="5482916">(</span><span class="op" id="5482917">)</span>&nbsp;<span class="builtintype" id="5482919">string</span>&nbsp;<span class="op" id="5482926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5482929">return</span>&nbsp;<span class="string" id="5482936">&#34;no&nbsp;code&nbsp;at&nbsp;&#34;</span>&nbsp;<span class="op" id="5482950">+</span>&nbsp;<span class="ident" id="5482952">e</span><span class="op" id="5482953">.</span><span class="ident" id="5482954">File</span>&nbsp;<span class="op" id="5482959">+</span>&nbsp;<span class="string" id="5482961">&#34;:&#34;</span>&nbsp;<span class="op" id="5482965">+</span>&nbsp;<span class="ident" id="5482967">strconv</span><span class="op" id="5482974">.</span><span class="ident" id="5482975">Itoa</span><span class="op" id="5482979">(</span><span class="ident" id="5482980">e</span><span class="op" id="5482981">.</span><span class="ident" id="5482982">Line</span><span class="op" id="5482986">)</span><br>
<span class="lineno"></span><span class="op" id="5482988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span><span class="comment" id="5482991">//&nbsp;DecodingError&nbsp;represents&nbsp;an&nbsp;error&nbsp;during&nbsp;the&nbsp;decoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5483051">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5483072">type</span>&nbsp;<span class="ident" id="5483077">DecodingError</span>&nbsp;<span class="keyword" id="5483091">struct</span>&nbsp;<span class="op" id="5483098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5483101">off</span>&nbsp;<span class="builtintype" id="5483105">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5483110">msg</span>&nbsp;<span class="builtintype" id="5483114">string</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5483122">val</span>&nbsp;<span class="keyword" id="5483126">interface</span><span class="op" id="5483135">{</span><span class="op" id="5483136">}</span><br>
<span class="lineno"></span><span class="op" id="5483138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5483141">func</span>&nbsp;<span class="op" id="5483146">(</span><span class="ident" id="5483147">e</span>&nbsp;<span class="op" id="5483149">*</span><span class="ident" id="5483150">DecodingError</span><span class="op" id="5483163">)</span>&nbsp;<span class="ident" id="5483165">Error</span><span class="op" id="5483170">(</span><span class="op" id="5483171">)</span>&nbsp;<span class="builtintype" id="5483173">string</span>&nbsp;<span class="op" id="5483180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5483183">msg</span>&nbsp;<span class="op" id="5483187">:=</span>&nbsp;<span class="ident" id="5483190">e</span><span class="op" id="5483191">.</span><span class="ident" id="5483192">msg</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5483197">if</span>&nbsp;<span class="ident" id="5483200">e</span><span class="op" id="5483201">.</span><span class="ident" id="5483202">val</span>&nbsp;<span class="op" id="5483206">!=</span>&nbsp;<span class="ident" id="5483209">nil</span>&nbsp;<span class="op" id="5483213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5483217">msg</span>&nbsp;<span class="op" id="5483221">+=</span>&nbsp;<span class="ident" id="5483224">fmt</span><span class="op" id="5483227">.</span><span class="ident" id="5483228">Sprintf</span><span class="op" id="5483235">(</span><span class="string" id="5483236">&#34;&nbsp;&#39;%v&#39;&#34;</span><span class="op" id="5483243">,</span>&nbsp;<span class="ident" id="5483245">e</span><span class="op" id="5483246">.</span><span class="ident" id="5483247">val</span><span class="op" id="5483250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5483253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5483256">msg</span>&nbsp;<span class="op" id="5483260">+=</span>&nbsp;<span class="ident" id="5483263">fmt</span><span class="op" id="5483266">.</span><span class="ident" id="5483267">Sprintf</span><span class="op" id="5483274">(</span><span class="string" id="5483275">&#34;&nbsp;at&nbsp;byte&nbsp;%#x&#34;</span><span class="op" id="5483289">,</span>&nbsp;<span class="ident" id="5483291">e</span><span class="op" id="5483292">.</span><span class="ident" id="5483293">off</span><span class="op" id="5483296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5483299">return</span>&nbsp;<span class="ident" id="5483306">msg</span><br>
<span class="lineno">710</span><span class="op" id="5483310">}</span>
</div>
</body>
</html>
