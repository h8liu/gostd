<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7050316">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7050371">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7050425">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7050476">package</span>&nbsp;<span class="ident" id="7050484">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7050490">import</span>&nbsp;<span class="op" id="7050497">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7050500">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7050510">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7050513">var</span>&nbsp;<span class="ident" id="7050517">ParseRangeTests</span>&nbsp;<span class="op" id="7050533">=</span>&nbsp;<span class="op" id="7050535">[</span><span class="op" id="7050536">]</span><span class="keyword" id="7050537">struct</span>&nbsp;<span class="op" id="7050544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050547">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7050554">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050562">length</span>&nbsp;<span class="ident" id="7050569">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050576">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7050583">[</span><span class="op" id="7050584">]</span><span class="ident" id="7050585"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><br>
<span class="lineno">15</span><span class="op" id="7050595">}</span><span class="op" id="7050596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050599">{</span><span class="string" id="7050600">&#34;&#34;</span><span class="op" id="7050602">,</span>&nbsp;<span class="num" id="7050604">0</span><span class="op" id="7050605">,</span>&nbsp;<span class="ident" id="7050607">nil</span><span class="op" id="7050610">}</span><span class="op" id="7050611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050614">{</span><span class="string" id="7050615">&#34;&#34;</span><span class="op" id="7050617">,</span>&nbsp;<span class="num" id="7050619">1000</span><span class="op" id="7050623">,</span>&nbsp;<span class="ident" id="7050625">nil</span><span class="op" id="7050628">}</span><span class="op" id="7050629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050632">{</span><span class="string" id="7050633">&#34;foo&#34;</span><span class="op" id="7050638">,</span>&nbsp;<span class="num" id="7050640">0</span><span class="op" id="7050641">,</span>&nbsp;<span class="ident" id="7050643">nil</span><span class="op" id="7050646">}</span><span class="op" id="7050647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050650">{</span><span class="string" id="7050651">&#34;bytes=&#34;</span><span class="op" id="7050659">,</span>&nbsp;<span class="num" id="7050661">0</span><span class="op" id="7050662">,</span>&nbsp;<span class="ident" id="7050664">nil</span><span class="op" id="7050667">}</span><span class="op" id="7050668">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050671">{</span><span class="string" id="7050672">&#34;bytes=7&#34;</span><span class="op" id="7050681">,</span>&nbsp;<span class="num" id="7050683">10</span><span class="op" id="7050685">,</span>&nbsp;<span class="ident" id="7050687">nil</span><span class="op" id="7050690">}</span><span class="op" id="7050691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050694">{</span><span class="string" id="7050695">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="7050706">,</span>&nbsp;<span class="num" id="7050708">10</span><span class="op" id="7050710">,</span>&nbsp;<span class="ident" id="7050712">nil</span><span class="op" id="7050715">}</span><span class="op" id="7050716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050719">{</span><span class="string" id="7050720">&#34;bytes=1-&#34;</span><span class="op" id="7050730">,</span>&nbsp;<span class="num" id="7050732">0</span><span class="op" id="7050733">,</span>&nbsp;<span class="ident" id="7050735">nil</span><span class="op" id="7050738">}</span><span class="op" id="7050739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050742">{</span><span class="string" id="7050743">&#34;bytes=5-4&#34;</span><span class="op" id="7050754">,</span>&nbsp;<span class="num" id="7050756">10</span><span class="op" id="7050758">,</span>&nbsp;<span class="ident" id="7050760">nil</span><span class="op" id="7050763">}</span><span class="op" id="7050764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050767">{</span><span class="string" id="7050768">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="7050783">,</span>&nbsp;<span class="num" id="7050785">10</span><span class="op" id="7050787">,</span>&nbsp;<span class="ident" id="7050789">nil</span><span class="op" id="7050792">}</span><span class="op" id="7050793">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050796">{</span><span class="string" id="7050797">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="7050812">,</span>&nbsp;<span class="num" id="7050814">10</span><span class="op" id="7050816">,</span>&nbsp;<span class="ident" id="7050818">nil</span><span class="op" id="7050821">}</span><span class="op" id="7050822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050825">{</span><span class="string" id="7050826">&#34;bytes=--5,4--3&#34;</span><span class="op" id="7050842">,</span>&nbsp;<span class="num" id="7050844">10</span><span class="op" id="7050846">,</span>&nbsp;<span class="ident" id="7050848">nil</span><span class="op" id="7050851">}</span><span class="op" id="7050852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050855">{</span><span class="string" id="7050856">&#34;bytes=A-&#34;</span><span class="op" id="7050866">,</span>&nbsp;<span class="num" id="7050868">10</span><span class="op" id="7050870">,</span>&nbsp;<span class="ident" id="7050872">nil</span><span class="op" id="7050875">}</span><span class="op" id="7050876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050879">{</span><span class="string" id="7050880">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="7050891">,</span>&nbsp;<span class="num" id="7050893">10</span><span class="op" id="7050895">,</span>&nbsp;<span class="ident" id="7050897">nil</span><span class="op" id="7050900">}</span><span class="op" id="7050901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050904">{</span><span class="string" id="7050905">&#34;bytes=A-Z&#34;</span><span class="op" id="7050916">,</span>&nbsp;<span class="num" id="7050918">10</span><span class="op" id="7050920">,</span>&nbsp;<span class="ident" id="7050922">nil</span><span class="op" id="7050925">}</span><span class="op" id="7050926">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050929">{</span><span class="string" id="7050930">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="7050941">,</span>&nbsp;<span class="num" id="7050943">10</span><span class="op" id="7050945">,</span>&nbsp;<span class="ident" id="7050947">nil</span><span class="op" id="7050950">}</span><span class="op" id="7050951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050954">{</span><span class="string" id="7050955">&#34;bytes=5-Z&#34;</span><span class="op" id="7050966">,</span>&nbsp;<span class="num" id="7050968">10</span><span class="op" id="7050970">,</span>&nbsp;<span class="ident" id="7050972">nil</span><span class="op" id="7050975">}</span><span class="op" id="7050976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050979">{</span><span class="string" id="7050980">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="7051004">,</span>&nbsp;<span class="num" id="7051006">10</span><span class="op" id="7051008">,</span>&nbsp;<span class="ident" id="7051010">nil</span><span class="op" id="7051013">}</span><span class="op" id="7051014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051017">{</span><span class="string" id="7051018">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="7051035">,</span>&nbsp;<span class="num" id="7051037">10</span><span class="op" id="7051039">,</span>&nbsp;<span class="ident" id="7051041">nil</span><span class="op" id="7051044">}</span><span class="op" id="7051045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051048">{</span><span class="string" id="7051049">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7051066">,</span>&nbsp;<span class="num" id="7051068">10</span><span class="op" id="7051070">,</span>&nbsp;<span class="ident" id="7051072">nil</span><span class="op" id="7051075">}</span><span class="op" id="7051076">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051079">{</span><span class="string" id="7051080">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7051097">,</span>&nbsp;<span class="num" id="7051099">10</span><span class="op" id="7051101">,</span>&nbsp;<span class="ident" id="7051103">nil</span><span class="op" id="7051106">}</span><span class="op" id="7051107">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051111">{</span><span class="string" id="7051112">&#34;bytes=0-9&#34;</span><span class="op" id="7051123">,</span>&nbsp;<span class="num" id="7051125">10</span><span class="op" id="7051127">,</span>&nbsp;<span class="op" id="7051129">[</span><span class="op" id="7051130">]</span><span class="ident" id="7051131"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051140">{</span><span class="op" id="7051141">{</span><span class="num" id="7051142">0</span><span class="op" id="7051143">,</span>&nbsp;<span class="num" id="7051145">10</span><span class="op" id="7051147">}</span><span class="op" id="7051148">}</span><span class="op" id="7051149">}</span><span class="op" id="7051150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051153">{</span><span class="string" id="7051154">&#34;bytes=0-&#34;</span><span class="op" id="7051164">,</span>&nbsp;<span class="num" id="7051166">10</span><span class="op" id="7051168">,</span>&nbsp;<span class="op" id="7051170">[</span><span class="op" id="7051171">]</span><span class="ident" id="7051172"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051181">{</span><span class="op" id="7051182">{</span><span class="num" id="7051183">0</span><span class="op" id="7051184">,</span>&nbsp;<span class="num" id="7051186">10</span><span class="op" id="7051188">}</span><span class="op" id="7051189">}</span><span class="op" id="7051190">}</span><span class="op" id="7051191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051194">{</span><span class="string" id="7051195">&#34;bytes=5-&#34;</span><span class="op" id="7051205">,</span>&nbsp;<span class="num" id="7051207">10</span><span class="op" id="7051209">,</span>&nbsp;<span class="op" id="7051211">[</span><span class="op" id="7051212">]</span><span class="ident" id="7051213"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051222">{</span><span class="op" id="7051223">{</span><span class="num" id="7051224">5</span><span class="op" id="7051225">,</span>&nbsp;<span class="num" id="7051227">5</span><span class="op" id="7051228">}</span><span class="op" id="7051229">}</span><span class="op" id="7051230">}</span><span class="op" id="7051231">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051234">{</span><span class="string" id="7051235">&#34;bytes=0-20&#34;</span><span class="op" id="7051247">,</span>&nbsp;<span class="num" id="7051249">10</span><span class="op" id="7051251">,</span>&nbsp;<span class="op" id="7051253">[</span><span class="op" id="7051254">]</span><span class="ident" id="7051255"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051264">{</span><span class="op" id="7051265">{</span><span class="num" id="7051266">0</span><span class="op" id="7051267">,</span>&nbsp;<span class="num" id="7051269">10</span><span class="op" id="7051271">}</span><span class="op" id="7051272">}</span><span class="op" id="7051273">}</span><span class="op" id="7051274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051277">{</span><span class="string" id="7051278">&#34;bytes=15-,0-5&#34;</span><span class="op" id="7051293">,</span>&nbsp;<span class="num" id="7051295">10</span><span class="op" id="7051297">,</span>&nbsp;<span class="ident" id="7051299">nil</span><span class="op" id="7051302">}</span><span class="op" id="7051303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051306">{</span><span class="string" id="7051307">&#34;bytes=1-2,5-&#34;</span><span class="op" id="7051321">,</span>&nbsp;<span class="num" id="7051323">10</span><span class="op" id="7051325">,</span>&nbsp;<span class="op" id="7051327">[</span><span class="op" id="7051328">]</span><span class="ident" id="7051329"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051338">{</span><span class="op" id="7051339">{</span><span class="num" id="7051340">1</span><span class="op" id="7051341">,</span>&nbsp;<span class="num" id="7051343">2</span><span class="op" id="7051344">}</span><span class="op" id="7051345">,</span>&nbsp;<span class="op" id="7051347">{</span><span class="num" id="7051348">5</span><span class="op" id="7051349">,</span>&nbsp;<span class="num" id="7051351">5</span><span class="op" id="7051352">}</span><span class="op" id="7051353">}</span><span class="op" id="7051354">}</span><span class="op" id="7051355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051358">{</span><span class="string" id="7051359">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="7051374">,</span>&nbsp;<span class="num" id="7051376">11</span><span class="op" id="7051378">,</span>&nbsp;<span class="op" id="7051380">[</span><span class="op" id="7051381">]</span><span class="ident" id="7051382"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051391">{</span><span class="op" id="7051392">{</span><span class="num" id="7051393">9</span><span class="op" id="7051394">,</span>&nbsp;<span class="num" id="7051396">2</span><span class="op" id="7051397">}</span><span class="op" id="7051398">,</span>&nbsp;<span class="op" id="7051400">{</span><span class="num" id="7051401">7</span><span class="op" id="7051402">,</span>&nbsp;<span class="num" id="7051404">4</span><span class="op" id="7051405">}</span><span class="op" id="7051406">}</span><span class="op" id="7051407">}</span><span class="op" id="7051408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051411">{</span><span class="string" id="7051412">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="7051432">,</span>&nbsp;<span class="num" id="7051434">11</span><span class="op" id="7051436">,</span>&nbsp;<span class="op" id="7051438">[</span><span class="op" id="7051439">]</span><span class="ident" id="7051440"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051449">{</span><span class="op" id="7051450">{</span><span class="num" id="7051451">0</span><span class="op" id="7051452">,</span>&nbsp;<span class="num" id="7051454">1</span><span class="op" id="7051455">}</span><span class="op" id="7051456">,</span>&nbsp;<span class="op" id="7051458">{</span><span class="num" id="7051459">2</span><span class="op" id="7051460">,</span>&nbsp;<span class="num" id="7051462">1</span><span class="op" id="7051463">}</span><span class="op" id="7051464">,</span>&nbsp;<span class="op" id="7051466">{</span><span class="num" id="7051467">7</span><span class="op" id="7051468">,</span>&nbsp;<span class="num" id="7051470">4</span><span class="op" id="7051471">}</span><span class="op" id="7051472">}</span><span class="op" id="7051473">}</span><span class="op" id="7051474">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051477">{</span><span class="string" id="7051478">&#34;bytes=-5&#34;</span><span class="op" id="7051488">,</span>&nbsp;<span class="num" id="7051490">10</span><span class="op" id="7051492">,</span>&nbsp;<span class="op" id="7051494">[</span><span class="op" id="7051495">]</span><span class="ident" id="7051496"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051505">{</span><span class="op" id="7051506">{</span><span class="num" id="7051507">5</span><span class="op" id="7051508">,</span>&nbsp;<span class="num" id="7051510">5</span><span class="op" id="7051511">}</span><span class="op" id="7051512">}</span><span class="op" id="7051513">}</span><span class="op" id="7051514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051517">{</span><span class="string" id="7051518">&#34;bytes=-15&#34;</span><span class="op" id="7051529">,</span>&nbsp;<span class="num" id="7051531">10</span><span class="op" id="7051533">,</span>&nbsp;<span class="op" id="7051535">[</span><span class="op" id="7051536">]</span><span class="ident" id="7051537"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051546">{</span><span class="op" id="7051547">{</span><span class="num" id="7051548">0</span><span class="op" id="7051549">,</span>&nbsp;<span class="num" id="7051551">10</span><span class="op" id="7051553">}</span><span class="op" id="7051554">}</span><span class="op" id="7051555">}</span><span class="op" id="7051556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051559">{</span><span class="string" id="7051560">&#34;bytes=0-499&#34;</span><span class="op" id="7051573">,</span>&nbsp;<span class="num" id="7051575">10000</span><span class="op" id="7051580">,</span>&nbsp;<span class="op" id="7051582">[</span><span class="op" id="7051583">]</span><span class="ident" id="7051584"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051593">{</span><span class="op" id="7051594">{</span><span class="num" id="7051595">0</span><span class="op" id="7051596">,</span>&nbsp;<span class="num" id="7051598">500</span><span class="op" id="7051601">}</span><span class="op" id="7051602">}</span><span class="op" id="7051603">}</span><span class="op" id="7051604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051607">{</span><span class="string" id="7051608">&#34;bytes=500-999&#34;</span><span class="op" id="7051623">,</span>&nbsp;<span class="num" id="7051625">10000</span><span class="op" id="7051630">,</span>&nbsp;<span class="op" id="7051632">[</span><span class="op" id="7051633">]</span><span class="ident" id="7051634"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051643">{</span><span class="op" id="7051644">{</span><span class="num" id="7051645">500</span><span class="op" id="7051648">,</span>&nbsp;<span class="num" id="7051650">500</span><span class="op" id="7051653">}</span><span class="op" id="7051654">}</span><span class="op" id="7051655">}</span><span class="op" id="7051656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051659">{</span><span class="string" id="7051660">&#34;bytes=-500&#34;</span><span class="op" id="7051672">,</span>&nbsp;<span class="num" id="7051674">10000</span><span class="op" id="7051679">,</span>&nbsp;<span class="op" id="7051681">[</span><span class="op" id="7051682">]</span><span class="ident" id="7051683"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051692">{</span><span class="op" id="7051693">{</span><span class="num" id="7051694">9500</span><span class="op" id="7051698">,</span>&nbsp;<span class="num" id="7051700">500</span><span class="op" id="7051703">}</span><span class="op" id="7051704">}</span><span class="op" id="7051705">}</span><span class="op" id="7051706">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051709">{</span><span class="string" id="7051710">&#34;bytes=9500-&#34;</span><span class="op" id="7051723">,</span>&nbsp;<span class="num" id="7051725">10000</span><span class="op" id="7051730">,</span>&nbsp;<span class="op" id="7051732">[</span><span class="op" id="7051733">]</span><span class="ident" id="7051734"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051743">{</span><span class="op" id="7051744">{</span><span class="num" id="7051745">9500</span><span class="op" id="7051749">,</span>&nbsp;<span class="num" id="7051751">500</span><span class="op" id="7051754">}</span><span class="op" id="7051755">}</span><span class="op" id="7051756">}</span><span class="op" id="7051757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051760">{</span><span class="string" id="7051761">&#34;bytes=0-0,-1&#34;</span><span class="op" id="7051775">,</span>&nbsp;<span class="num" id="7051777">10000</span><span class="op" id="7051782">,</span>&nbsp;<span class="op" id="7051784">[</span><span class="op" id="7051785">]</span><span class="ident" id="7051786"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051795">{</span><span class="op" id="7051796">{</span><span class="num" id="7051797">0</span><span class="op" id="7051798">,</span>&nbsp;<span class="num" id="7051800">1</span><span class="op" id="7051801">}</span><span class="op" id="7051802">,</span>&nbsp;<span class="op" id="7051804">{</span><span class="num" id="7051805">9999</span><span class="op" id="7051809">,</span>&nbsp;<span class="num" id="7051811">1</span><span class="op" id="7051812">}</span><span class="op" id="7051813">}</span><span class="op" id="7051814">}</span><span class="op" id="7051815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051818">{</span><span class="string" id="7051819">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="7051842">,</span>&nbsp;<span class="num" id="7051844">10000</span><span class="op" id="7051849">,</span>&nbsp;<span class="op" id="7051851">[</span><span class="op" id="7051852">]</span><span class="ident" id="7051853"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051862">{</span><span class="op" id="7051863">{</span><span class="num" id="7051864">500</span><span class="op" id="7051867">,</span>&nbsp;<span class="num" id="7051869">101</span><span class="op" id="7051872">}</span><span class="op" id="7051873">,</span>&nbsp;<span class="op" id="7051875">{</span><span class="num" id="7051876">601</span><span class="op" id="7051879">,</span>&nbsp;<span class="num" id="7051881">399</span><span class="op" id="7051884">}</span><span class="op" id="7051885">}</span><span class="op" id="7051886">}</span><span class="op" id="7051887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051890">{</span><span class="string" id="7051891">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="7051914">,</span>&nbsp;<span class="num" id="7051916">10000</span><span class="op" id="7051921">,</span>&nbsp;<span class="op" id="7051923">[</span><span class="op" id="7051924">]</span><span class="ident" id="7051925"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7051934">{</span><span class="op" id="7051935">{</span><span class="num" id="7051936">500</span><span class="op" id="7051939">,</span>&nbsp;<span class="num" id="7051941">201</span><span class="op" id="7051944">}</span><span class="op" id="7051945">,</span>&nbsp;<span class="op" id="7051947">{</span><span class="num" id="7051948">601</span><span class="op" id="7051951">,</span>&nbsp;<span class="num" id="7051953">399</span><span class="op" id="7051956">}</span><span class="op" id="7051957">}</span><span class="op" id="7051958">}</span><span class="op" id="7051959">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7051963">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051988">{</span><span class="string" id="7051989">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="7052026">,</span>&nbsp;<span class="num" id="7052028">11</span><span class="op" id="7052030">,</span>&nbsp;<span class="op" id="7052032">[</span><span class="op" id="7052033">]</span><span class="ident" id="7052034"><a href="/net/http/fs.go.html#3353720">httpRange</a></span><span class="op" id="7052043">{</span><span class="op" id="7052044">{</span><span class="num" id="7052045">1</span><span class="op" id="7052046">,</span>&nbsp;<span class="num" id="7052048">2</span><span class="op" id="7052049">}</span><span class="op" id="7052050">,</span>&nbsp;<span class="op" id="7052052">{</span><span class="num" id="7052053">4</span><span class="op" id="7052054">,</span>&nbsp;<span class="num" id="7052056">2</span><span class="op" id="7052057">}</span><span class="op" id="7052058">,</span>&nbsp;<span class="op" id="7052060">{</span><span class="num" id="7052061">7</span><span class="op" id="7052062">,</span>&nbsp;<span class="num" id="7052064">2</span><span class="op" id="7052065">}</span><span class="op" id="7052066">}</span><span class="op" id="7052067">}</span><span class="op" id="7052068">,</span><br>
<span class="lineno"></span><span class="op" id="7052070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7052073">func</span>&nbsp;<span class="ident" id="7052078">TestParseRange</span><span class="op" id="7052092">(</span><span class="ident" id="7052093">t</span>&nbsp;<span class="op" id="7052095">*</span><span class="ident" id="7052096"><a href="/net/http/range_test.go.html#7050500">testing</a></span><span class="op" id="7052103">.</span><span class="ident" id="7052104">T</span><span class="op" id="7052105">)</span>&nbsp;<span class="op" id="7052107">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052110">for</span>&nbsp;<span class="ident" id="7052114">_</span><span class="op" id="7052115">,</span>&nbsp;<span class="ident" id="7052117">test</span>&nbsp;<span class="op" id="7052122">:=</span>&nbsp;<span class="keyword" id="7052125">range</span>&nbsp;<span class="ident" id="7052131"><a href="/net/http/range_test.go.html#7050517">ParseRangeTests</a></span>&nbsp;<span class="op" id="7052147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052151">r</span>&nbsp;<span class="op" id="7052153">:=</span>&nbsp;<span class="ident" id="7052156"><a href="/net/http/range_test.go.html#7052117">test</a></span><span class="op" id="7052160">.</span><span class="ident" id="7052161">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052165">ranges</span><span class="op" id="7052171">,</span>&nbsp;<span class="ident" id="7052173">err</span>&nbsp;<span class="op" id="7052177">:=</span>&nbsp;<span class="ident" id="7052180"><a href="/net/http/fs.go.html#3354155">parseRange</a></span><span class="op" id="7052190">(</span><span class="ident" id="7052191"><a href="/net/http/range_test.go.html#7052117">test</a></span><span class="op" id="7052195">.</span><span class="ident" id="7052196">s</span><span class="op" id="7052197">,</span>&nbsp;<span class="ident" id="7052199"><a href="/net/http/range_test.go.html#7052117">test</a></span><span class="op" id="7052203">.</span><span class="ident" id="7052204">length</span><span class="op" id="7052210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052214">if</span>&nbsp;<span class="ident" id="7052217"><a href="/net/http/range_test.go.html#7052173">err</a></span>&nbsp;<span class="op" id="7052221">!=</span>&nbsp;<span class="ident" id="7052224">nil</span>&nbsp;<span class="op" id="7052228">&amp;&amp;</span>&nbsp;<span class="ident" id="7052231"><a href="/net/http/range_test.go.html#7052151">r</a></span>&nbsp;<span class="op" id="7052233">!=</span>&nbsp;<span class="ident" id="7052236">nil</span>&nbsp;<span class="op" id="7052240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052245"><a href="/net/http/range_test.go.html#7052093">t</a></span><span class="op" id="7052246">.</span><span class="ident" id="7052247">Errorf</span><span class="op" id="7052253">(</span><span class="string" id="7052254">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7052288">,</span>&nbsp;<span class="ident" id="7052290"><a href="/net/http/range_test.go.html#7052117">test</a></span><span class="op" id="7052294">.</span><span class="ident" id="7052295">s</span><span class="op" id="7052296">,</span>&nbsp;<span class="ident" id="7052298"><a href="/net/http/range_test.go.html#7052173">err</a></span><span class="op" id="7052301">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052309">if</span>&nbsp;<span class="builtinfunc" id="7052312">len</span><span class="op" id="7052315">(</span><span class="ident" id="7052316"><a href="/net/http/range_test.go.html#7052165">ranges</a></span><span class="op" id="7052322">)</span>&nbsp;<span class="op" id="7052324">!=</span>&nbsp;<span class="builtinfunc" id="7052327">len</span><span class="op" id="7052330">(</span><span class="ident" id="7052331"><a href="/net/http/range_test.go.html#7052151">r</a></span><span class="op" id="7052332">)</span>&nbsp;<span class="op" id="7052334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052339"><a href="/net/http/range_test.go.html#7052093">t</a></span><span class="op" id="7052340">.</span><span class="ident" id="7052341">Errorf</span><span class="op" id="7052347">(</span><span class="string" id="7052348">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7052383">,</span>&nbsp;<span class="ident" id="7052385"><a href="/net/http/range_test.go.html#7052117">test</a></span><span class="op" id="7052389">.</span><span class="ident" id="7052390">s</span><span class="op" id="7052391">,</span>&nbsp;<span class="builtinfunc" id="7052393">len</span><span class="op" id="7052396">(</span><span class="ident" id="7052397"><a href="/net/http/range_test.go.html#7052165">ranges</a></span><span class="op" id="7052403">)</span><span class="op" id="7052404">,</span>&nbsp;<span class="builtinfunc" id="7052406">len</span><span class="op" id="7052409">(</span><span class="ident" id="7052410"><a href="/net/http/range_test.go.html#7052151">r</a></span><span class="op" id="7052411">)</span><span class="op" id="7052412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052417">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052428">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052432">for</span>&nbsp;<span class="ident" id="7052436">i</span>&nbsp;<span class="op" id="7052438">:=</span>&nbsp;<span class="keyword" id="7052441">range</span>&nbsp;<span class="ident" id="7052447"><a href="/net/http/range_test.go.html#7052151">r</a></span>&nbsp;<span class="op" id="7052449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052454">if</span>&nbsp;<span class="ident" id="7052457"><a href="/net/http/range_test.go.html#7052165">ranges</a></span><span class="op" id="7052463">[</span><span class="ident" id="7052464"><a href="/net/http/range_test.go.html#7052436">i</a></span><span class="op" id="7052465">]</span><span class="op" id="7052466">.</span><span class="ident" id="7052467">start</span>&nbsp;<span class="op" id="7052473">!=</span>&nbsp;<span class="ident" id="7052476"><a href="/net/http/range_test.go.html#7052151">r</a></span><span class="op" id="7052477">[</span><span class="ident" id="7052478"><a href="/net/http/range_test.go.html#7052436">i</a></span><span class="op" id="7052479">]</span><span class="op" id="7052480">.</span><span class="ident" id="7052481">start</span>&nbsp;<span class="op" id="7052487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052493"><a href="/net/http/range_test.go.html#7052093">t</a></span><span class="op" id="7052494">.</span><span class="ident" id="7052495">Errorf</span><span class="op" id="7052501">(</span><span class="string" id="7052502">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7052542">,</span>&nbsp;<span class="ident" id="7052544"><a href="/net/http/range_test.go.html#7052117">test</a></span><span class="op" id="7052548">.</span><span class="ident" id="7052549">s</span><span class="op" id="7052550">,</span>&nbsp;<span class="ident" id="7052552"><a href="/net/http/range_test.go.html#7052436">i</a></span><span class="op" id="7052553">,</span>&nbsp;<span class="ident" id="7052555"><a href="/net/http/range_test.go.html#7052165">ranges</a></span><span class="op" id="7052561">[</span><span class="ident" id="7052562"><a href="/net/http/range_test.go.html#7052436">i</a></span><span class="op" id="7052563">]</span><span class="op" id="7052564">.</span><span class="ident" id="7052565">start</span><span class="op" id="7052570">,</span>&nbsp;<span class="ident" id="7052572"><a href="/net/http/range_test.go.html#7052151">r</a></span><span class="op" id="7052573">[</span><span class="ident" id="7052574"><a href="/net/http/range_test.go.html#7052436">i</a></span><span class="op" id="7052575">]</span><span class="op" id="7052576">.</span><span class="ident" id="7052577">start</span><span class="op" id="7052582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052592">if</span>&nbsp;<span class="ident" id="7052595"><a href="/net/http/range_test.go.html#7052165">ranges</a></span><span class="op" id="7052601">[</span><span class="ident" id="7052602"><a href="/net/http/range_test.go.html#7052436">i</a></span><span class="op" id="7052603">]</span><span class="op" id="7052604">.</span><span class="ident" id="7052605">length</span>&nbsp;<span class="op" id="7052612">!=</span>&nbsp;<span class="ident" id="7052615"><a href="/net/http/range_test.go.html#7052151">r</a></span><span class="op" id="7052616">[</span><span class="ident" id="7052617"><a href="/net/http/range_test.go.html#7052436">i</a></span><span class="op" id="7052618">]</span><span class="op" id="7052619">.</span><span class="ident" id="7052620">length</span>&nbsp;<span class="op" id="7052627">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052633"><a href="/net/http/range_test.go.html#7052093">t</a></span><span class="op" id="7052634">.</span><span class="ident" id="7052635">Errorf</span><span class="op" id="7052641">(</span><span class="string" id="7052642">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7052683">,</span>&nbsp;<span class="ident" id="7052685"><a href="/net/http/range_test.go.html#7052117">test</a></span><span class="op" id="7052689">.</span><span class="ident" id="7052690">s</span><span class="op" id="7052691">,</span>&nbsp;<span class="ident" id="7052693"><a href="/net/http/range_test.go.html#7052436">i</a></span><span class="op" id="7052694">,</span>&nbsp;<span class="ident" id="7052696"><a href="/net/http/range_test.go.html#7052165">ranges</a></span><span class="op" id="7052702">[</span><span class="ident" id="7052703"><a href="/net/http/range_test.go.html#7052436">i</a></span><span class="op" id="7052704">]</span><span class="op" id="7052705">.</span><span class="ident" id="7052706">length</span><span class="op" id="7052712">,</span>&nbsp;<span class="ident" id="7052714"><a href="/net/http/range_test.go.html#7052151">r</a></span><span class="op" id="7052715">[</span><span class="ident" id="7052716"><a href="/net/http/range_test.go.html#7052436">i</a></span><span class="op" id="7052717">]</span><span class="op" id="7052718">.</span><span class="ident" id="7052719">length</span><span class="op" id="7052725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052737">}</span><br>
<span class="lineno"></span><span class="op" id="7052739">}</span>
</div>
</body>
</html>
