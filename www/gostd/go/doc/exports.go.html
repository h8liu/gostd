<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html" class="current">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5108442">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5108497">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5108551">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5108602">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;export&nbsp;filtering&nbsp;of&nbsp;an&nbsp;AST.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5108655">package</span>&nbsp;<span class="ident" id="5108663">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5108668">import</span>&nbsp;<span class="op" id="5108675">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5108678">&#34;go/ast&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5108688">&#34;go/token&#34;</span><br>
<span class="lineno"></span><span class="op" id="5108699">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5108702">//&nbsp;filterIdentList&nbsp;removes&nbsp;unexported&nbsp;names&nbsp;from&nbsp;list&nbsp;in&nbsp;place</span><br>
<span class="lineno">15</span><span class="comment" id="5108765">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;list.&nbsp;If&nbsp;blankOk&nbsp;is&nbsp;set,&nbsp;blank</span><br>
<span class="lineno"></span><span class="comment" id="5108825">//&nbsp;identifiers&nbsp;are&nbsp;considered&nbsp;exported&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="5108871">//</span><br>
<span class="lineno"></span><span class="keyword" id="5108874">func</span>&nbsp;<span class="ident" id="5108879">filterIdentList</span><span class="op" id="5108894">(</span><span class="ident" id="5108895">list</span>&nbsp;<span class="op" id="5108900">[</span><span class="op" id="5108901">]</span><span class="op" id="5108902">*</span><span class="ident" id="5108903">ast</span><span class="op" id="5108906">.</span><span class="ident" id="5108907">Ident</span><span class="op" id="5108912">,</span>&nbsp;<span class="ident" id="5108914">blankOk</span>&nbsp;<span class="builtintype" id="5108922">bool</span><span class="op" id="5108926">)</span>&nbsp;<span class="op" id="5108928">[</span><span class="op" id="5108929">]</span><span class="op" id="5108930">*</span><span class="ident" id="5108931">ast</span><span class="op" id="5108934">.</span><span class="ident" id="5108935">Ident</span>&nbsp;<span class="op" id="5108941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108944">j</span>&nbsp;<span class="op" id="5108946">:=</span>&nbsp;<span class="num" id="5108949">0</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108952">for</span>&nbsp;<span class="ident" id="5108956">_</span><span class="op" id="5108957">,</span>&nbsp;<span class="ident" id="5108959">x</span>&nbsp;<span class="op" id="5108961">:=</span>&nbsp;<span class="keyword" id="5108964">range</span>&nbsp;<span class="ident" id="5108970">list</span>&nbsp;<span class="op" id="5108975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108979">if</span>&nbsp;<span class="ident" id="5108982">ast</span><span class="op" id="5108985">.</span><span class="ident" id="5108986">IsExported</span><span class="op" id="5108996">(</span><span class="ident" id="5108997">x</span><span class="op" id="5108998">.</span><span class="ident" id="5108999">Name</span><span class="op" id="5109003">)</span>&nbsp;<span class="op" id="5109005">||</span>&nbsp;<span class="op" id="5109008">(</span><span class="ident" id="5109009">blankOk</span>&nbsp;<span class="op" id="5109017">&amp;&amp;</span>&nbsp;<span class="ident" id="5109020">x</span><span class="op" id="5109021">.</span><span class="ident" id="5109022">Name</span>&nbsp;<span class="op" id="5109027">==</span>&nbsp;<span class="string" id="5109030">&#34;_&#34;</span><span class="op" id="5109033">)</span>&nbsp;<span class="op" id="5109035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109040">list</span><span class="op" id="5109044">[</span><span class="ident" id="5109045">j</span><span class="op" id="5109046">]</span>&nbsp;<span class="op" id="5109048">=</span>&nbsp;<span class="ident" id="5109050">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109055">j</span><span class="op" id="5109056">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5109061">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5109064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109067">return</span>&nbsp;<span class="ident" id="5109074">list</span><span class="op" id="5109078">[</span><span class="num" id="5109079">0</span><span class="op" id="5109080">:</span><span class="ident" id="5109081">j</span><span class="op" id="5109082">]</span><br>
<span class="lineno"></span><span class="op" id="5109084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5109087">//&nbsp;removeErrorField&nbsp;removes&nbsp;anonymous&nbsp;fields&nbsp;named&nbsp;&#34;error&#34;&nbsp;from&nbsp;an&nbsp;interface.</span><br>
<span class="lineno">30</span><span class="comment" id="5109165">//&nbsp;This&nbsp;is&nbsp;called&nbsp;when&nbsp;&#34;error&#34;&nbsp;has&nbsp;been&nbsp;determined&nbsp;to&nbsp;be&nbsp;a&nbsp;local&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5109236">//&nbsp;not&nbsp;the&nbsp;predeclared&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="5109265">//</span><br>
<span class="lineno"></span><span class="keyword" id="5109268">func</span>&nbsp;<span class="ident" id="5109273">removeErrorField</span><span class="op" id="5109289">(</span><span class="ident" id="5109290">ityp</span>&nbsp;<span class="op" id="5109295">*</span><span class="ident" id="5109296">ast</span><span class="op" id="5109299">.</span><span class="ident" id="5109300">InterfaceType</span><span class="op" id="5109313">)</span>&nbsp;<span class="op" id="5109315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109318">list</span>&nbsp;<span class="op" id="5109323">:=</span>&nbsp;<span class="ident" id="5109326">ityp</span><span class="op" id="5109330">.</span><span class="ident" id="5109331">Methods</span><span class="op" id="5109338">.</span><span class="ident" id="5109339">List</span>&nbsp;<span class="comment" id="5109344">//&nbsp;we&nbsp;know&nbsp;that&nbsp;ityp.Methods&nbsp;!=&nbsp;nil</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109381">j</span>&nbsp;<span class="op" id="5109383">:=</span>&nbsp;<span class="num" id="5109386">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109389">for</span>&nbsp;<span class="ident" id="5109393">_</span><span class="op" id="5109394">,</span>&nbsp;<span class="ident" id="5109396">field</span>&nbsp;<span class="op" id="5109402">:=</span>&nbsp;<span class="keyword" id="5109405">range</span>&nbsp;<span class="ident" id="5109411">list</span>&nbsp;<span class="op" id="5109416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109420">keepField</span>&nbsp;<span class="op" id="5109430">:=</span>&nbsp;<span class="builtintype" id="5109433">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109440">if</span>&nbsp;<span class="ident" id="5109443">n</span>&nbsp;<span class="op" id="5109445">:=</span>&nbsp;<span class="builtinfunc" id="5109448">len</span><span class="op" id="5109451">(</span><span class="ident" id="5109452">field</span><span class="op" id="5109457">.</span><span class="ident" id="5109458">Names</span><span class="op" id="5109463">)</span><span class="op" id="5109464">;</span>&nbsp;<span class="ident" id="5109466">n</span>&nbsp;<span class="op" id="5109468">==</span>&nbsp;<span class="num" id="5109471">0</span>&nbsp;<span class="op" id="5109473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5109478">//&nbsp;anonymous&nbsp;field</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109500">if</span>&nbsp;<span class="ident" id="5109503">fname</span><span class="op" id="5109508">,</span>&nbsp;<span class="ident" id="5109510">_</span>&nbsp;<span class="op" id="5109512">:=</span>&nbsp;<span class="ident" id="5109515">baseTypeName</span><span class="op" id="5109527">(</span><span class="ident" id="5109528">field</span><span class="op" id="5109533">.</span><span class="ident" id="5109534">Type</span><span class="op" id="5109538">)</span><span class="op" id="5109539">;</span>&nbsp;<span class="ident" id="5109541">fname</span>&nbsp;<span class="op" id="5109547">==</span>&nbsp;<span class="string" id="5109550">&#34;error&#34;</span>&nbsp;<span class="op" id="5109558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109564">keepField</span>&nbsp;<span class="op" id="5109574">=</span>&nbsp;<span class="builtintype" id="5109576">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5109585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5109589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109593">if</span>&nbsp;<span class="ident" id="5109596">keepField</span>&nbsp;<span class="op" id="5109606">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109611">list</span><span class="op" id="5109615">[</span><span class="ident" id="5109616">j</span><span class="op" id="5109617">]</span>&nbsp;<span class="op" id="5109619">=</span>&nbsp;<span class="ident" id="5109621">field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109630">j</span><span class="op" id="5109631">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5109636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5109639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109642">if</span>&nbsp;<span class="ident" id="5109645">j</span>&nbsp;<span class="op" id="5109647">&lt;</span>&nbsp;<span class="builtinfunc" id="5109649">len</span><span class="op" id="5109652">(</span><span class="ident" id="5109653">list</span><span class="op" id="5109657">)</span>&nbsp;<span class="op" id="5109659">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109663">ityp</span><span class="op" id="5109667">.</span><span class="ident" id="5109668">Incomplete</span>&nbsp;<span class="op" id="5109679">=</span>&nbsp;<span class="builtintype" id="5109681">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5109687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109690">ityp</span><span class="op" id="5109694">.</span><span class="ident" id="5109695">Methods</span><span class="op" id="5109702">.</span><span class="ident" id="5109703">List</span>&nbsp;<span class="op" id="5109708">=</span>&nbsp;<span class="ident" id="5109710">list</span><span class="op" id="5109714">[</span><span class="num" id="5109715">0</span><span class="op" id="5109716">:</span><span class="ident" id="5109717">j</span><span class="op" id="5109718">]</span><br>
<span class="lineno"></span><span class="op" id="5109720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="5109723">//&nbsp;filterFieldList&nbsp;removes&nbsp;unexported&nbsp;fields&nbsp;(field&nbsp;names)&nbsp;from&nbsp;the&nbsp;field&nbsp;list</span><br>
<span class="lineno"></span><span class="comment" id="5109802">//&nbsp;in&nbsp;place&nbsp;and&nbsp;returns&nbsp;true&nbsp;if&nbsp;fields&nbsp;were&nbsp;removed.&nbsp;Anonymous&nbsp;fields&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="5109876">//&nbsp;recorded&nbsp;with&nbsp;the&nbsp;parent&nbsp;type.&nbsp;filterType&nbsp;is&nbsp;called&nbsp;with&nbsp;the&nbsp;types&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5109949">//&nbsp;all&nbsp;remaining&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="5109974">//</span><br>
<span class="lineno">60</span><span class="keyword" id="5109977">func</span>&nbsp;<span class="op" id="5109982">(</span><span class="ident" id="5109983">r</span>&nbsp;<span class="op" id="5109985">*</span><span class="ident" id="5109986">reader</span><span class="op" id="5109992">)</span>&nbsp;<span class="ident" id="5109994">filterFieldList</span><span class="op" id="5110009">(</span><span class="ident" id="5110010">parent</span>&nbsp;<span class="op" id="5110017">*</span><span class="ident" id="5110018">namedType</span><span class="op" id="5110027">,</span>&nbsp;<span class="ident" id="5110029">fields</span>&nbsp;<span class="op" id="5110036">*</span><span class="ident" id="5110037">ast</span><span class="op" id="5110040">.</span><span class="ident" id="5110041">FieldList</span><span class="op" id="5110050">,</span>&nbsp;<span class="ident" id="5110052">ityp</span>&nbsp;<span class="op" id="5110057">*</span><span class="ident" id="5110058">ast</span><span class="op" id="5110061">.</span><span class="ident" id="5110062">InterfaceType</span><span class="op" id="5110075">)</span>&nbsp;<span class="op" id="5110077">(</span><span class="ident" id="5110078">removedFields</span>&nbsp;<span class="builtintype" id="5110092">bool</span><span class="op" id="5110096">)</span>&nbsp;<span class="op" id="5110098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110101">if</span>&nbsp;<span class="ident" id="5110104">fields</span>&nbsp;<span class="op" id="5110111">==</span>&nbsp;<span class="builtintype" id="5110114">nil</span>&nbsp;<span class="op" id="5110118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110122">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110133">list</span>&nbsp;<span class="op" id="5110138">:=</span>&nbsp;<span class="ident" id="5110141">fields</span><span class="op" id="5110147">.</span><span class="ident" id="5110148">List</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110154">j</span>&nbsp;<span class="op" id="5110156">:=</span>&nbsp;<span class="num" id="5110159">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110162">for</span>&nbsp;<span class="ident" id="5110166">_</span><span class="op" id="5110167">,</span>&nbsp;<span class="ident" id="5110169">field</span>&nbsp;<span class="op" id="5110175">:=</span>&nbsp;<span class="keyword" id="5110178">range</span>&nbsp;<span class="ident" id="5110184">list</span>&nbsp;<span class="op" id="5110189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110193">keepField</span>&nbsp;<span class="op" id="5110203">:=</span>&nbsp;<span class="builtintype" id="5110206">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110214">if</span>&nbsp;<span class="ident" id="5110217">n</span>&nbsp;<span class="op" id="5110219">:=</span>&nbsp;<span class="builtinfunc" id="5110222">len</span><span class="op" id="5110225">(</span><span class="ident" id="5110226">field</span><span class="op" id="5110231">.</span><span class="ident" id="5110232">Names</span><span class="op" id="5110237">)</span><span class="op" id="5110238">;</span>&nbsp;<span class="ident" id="5110240">n</span>&nbsp;<span class="op" id="5110242">==</span>&nbsp;<span class="num" id="5110245">0</span>&nbsp;<span class="op" id="5110247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5110252">//&nbsp;anonymous&nbsp;field</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110274">fname</span>&nbsp;<span class="op" id="5110280">:=</span>&nbsp;<span class="ident" id="5110283">r</span><span class="op" id="5110284">.</span><span class="ident" id="5110285">recordAnonymousField</span><span class="op" id="5110305">(</span><span class="ident" id="5110306">parent</span><span class="op" id="5110312">,</span>&nbsp;<span class="ident" id="5110314">field</span><span class="op" id="5110319">.</span><span class="ident" id="5110320">Type</span><span class="op" id="5110324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110329">if</span>&nbsp;<span class="ident" id="5110332">ast</span><span class="op" id="5110335">.</span><span class="ident" id="5110336">IsExported</span><span class="op" id="5110346">(</span><span class="ident" id="5110347">fname</span><span class="op" id="5110352">)</span>&nbsp;<span class="op" id="5110354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110360">keepField</span>&nbsp;<span class="op" id="5110370">=</span>&nbsp;<span class="builtintype" id="5110372">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110380">}</span>&nbsp;<span class="keyword" id="5110382">else</span>&nbsp;<span class="keyword" id="5110387">if</span>&nbsp;<span class="ident" id="5110390">ityp</span>&nbsp;<span class="op" id="5110395">!=</span>&nbsp;<span class="builtintype" id="5110398">nil</span>&nbsp;<span class="op" id="5110402">&amp;&amp;</span>&nbsp;<span class="ident" id="5110405">fname</span>&nbsp;<span class="op" id="5110411">==</span>&nbsp;<span class="string" id="5110414">&#34;error&#34;</span>&nbsp;<span class="op" id="5110422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5110428">//&nbsp;possibly&nbsp;the&nbsp;predeclared&nbsp;error&nbsp;interface;&nbsp;keep</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5110482">//&nbsp;it&nbsp;for&nbsp;now&nbsp;but&nbsp;remember&nbsp;this&nbsp;interface&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5110536">//&nbsp;it&nbsp;can&nbsp;be&nbsp;fixed&nbsp;if&nbsp;error&nbsp;is&nbsp;also&nbsp;defined&nbsp;locally</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110592">keepField</span>&nbsp;<span class="op" id="5110602">=</span>&nbsp;<span class="builtintype" id="5110604">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110613">r</span><span class="op" id="5110614">.</span><span class="ident" id="5110615">remember</span><span class="op" id="5110623">(</span><span class="ident" id="5110624">ityp</span><span class="op" id="5110628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110633">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110637">}</span>&nbsp;<span class="keyword" id="5110639">else</span>&nbsp;<span class="op" id="5110644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110649">field</span><span class="op" id="5110654">.</span><span class="ident" id="5110655">Names</span>&nbsp;<span class="op" id="5110661">=</span>&nbsp;<span class="ident" id="5110663">filterIdentList</span><span class="op" id="5110678">(</span><span class="ident" id="5110679">field</span><span class="op" id="5110684">.</span><span class="ident" id="5110685">Names</span><span class="op" id="5110690">,</span>&nbsp;<span class="builtintype" id="5110692">false</span><span class="op" id="5110697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110702">if</span>&nbsp;<span class="builtinfunc" id="5110705">len</span><span class="op" id="5110708">(</span><span class="ident" id="5110709">field</span><span class="op" id="5110714">.</span><span class="ident" id="5110715">Names</span><span class="op" id="5110720">)</span>&nbsp;<span class="op" id="5110722">&lt;</span>&nbsp;<span class="ident" id="5110724">n</span>&nbsp;<span class="op" id="5110726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110732">removedFields</span>&nbsp;<span class="op" id="5110746">=</span>&nbsp;<span class="builtintype" id="5110748">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110756">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110761">if</span>&nbsp;<span class="builtinfunc" id="5110764">len</span><span class="op" id="5110767">(</span><span class="ident" id="5110768">field</span><span class="op" id="5110773">.</span><span class="ident" id="5110774">Names</span><span class="op" id="5110779">)</span>&nbsp;<span class="op" id="5110781">&gt;</span>&nbsp;<span class="num" id="5110783">0</span>&nbsp;<span class="op" id="5110785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110791">keepField</span>&nbsp;<span class="op" id="5110801">=</span>&nbsp;<span class="builtintype" id="5110803">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110819">if</span>&nbsp;<span class="ident" id="5110822">keepField</span>&nbsp;<span class="op" id="5110832">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110837">r</span><span class="op" id="5110838">.</span><span class="ident" id="5110839">filterType</span><span class="op" id="5110849">(</span><span class="builtintype" id="5110850">nil</span><span class="op" id="5110853">,</span>&nbsp;<span class="ident" id="5110855">field</span><span class="op" id="5110860">.</span><span class="ident" id="5110861">Type</span><span class="op" id="5110865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110870">list</span><span class="op" id="5110874">[</span><span class="ident" id="5110875">j</span><span class="op" id="5110876">]</span>&nbsp;<span class="op" id="5110878">=</span>&nbsp;<span class="ident" id="5110880">field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110889">j</span><span class="op" id="5110890">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110898">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110901">if</span>&nbsp;<span class="ident" id="5110904">j</span>&nbsp;<span class="op" id="5110906">&lt;</span>&nbsp;<span class="builtinfunc" id="5110908">len</span><span class="op" id="5110911">(</span><span class="ident" id="5110912">list</span><span class="op" id="5110916">)</span>&nbsp;<span class="op" id="5110918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110922">removedFields</span>&nbsp;<span class="op" id="5110936">=</span>&nbsp;<span class="builtintype" id="5110938">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110947">fields</span><span class="op" id="5110953">.</span><span class="ident" id="5110954">List</span>&nbsp;<span class="op" id="5110959">=</span>&nbsp;<span class="ident" id="5110961">list</span><span class="op" id="5110965">[</span><span class="num" id="5110966">0</span><span class="op" id="5110967">:</span><span class="ident" id="5110968">j</span><span class="op" id="5110969">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110972">return</span><br>
<span class="lineno">100</span><span class="op" id="5110979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5110982">//&nbsp;filterParamList&nbsp;applies&nbsp;filterType&nbsp;to&nbsp;each&nbsp;parameter&nbsp;type&nbsp;in&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="5111054">//</span><br>
<span class="lineno"></span><span class="keyword" id="5111057">func</span>&nbsp;<span class="op" id="5111062">(</span><span class="ident" id="5111063">r</span>&nbsp;<span class="op" id="5111065">*</span><span class="ident" id="5111066">reader</span><span class="op" id="5111072">)</span>&nbsp;<span class="ident" id="5111074">filterParamList</span><span class="op" id="5111089">(</span><span class="ident" id="5111090">fields</span>&nbsp;<span class="op" id="5111097">*</span><span class="ident" id="5111098">ast</span><span class="op" id="5111101">.</span><span class="ident" id="5111102">FieldList</span><span class="op" id="5111111">)</span>&nbsp;<span class="op" id="5111113">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111116">if</span>&nbsp;<span class="ident" id="5111119">fields</span>&nbsp;<span class="op" id="5111126">!=</span>&nbsp;<span class="builtintype" id="5111129">nil</span>&nbsp;<span class="op" id="5111133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111137">for</span>&nbsp;<span class="ident" id="5111141">_</span><span class="op" id="5111142">,</span>&nbsp;<span class="ident" id="5111144">f</span>&nbsp;<span class="op" id="5111146">:=</span>&nbsp;<span class="keyword" id="5111149">range</span>&nbsp;<span class="ident" id="5111155">fields</span><span class="op" id="5111161">.</span><span class="ident" id="5111162">List</span>&nbsp;<span class="op" id="5111167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111172">r</span><span class="op" id="5111173">.</span><span class="ident" id="5111174">filterType</span><span class="op" id="5111184">(</span><span class="builtintype" id="5111185">nil</span><span class="op" id="5111188">,</span>&nbsp;<span class="ident" id="5111190">f</span><span class="op" id="5111191">.</span><span class="ident" id="5111192">Type</span><span class="op" id="5111196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111203">}</span><br>
<span class="lineno">110</span><span class="op" id="5111205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5111208">//&nbsp;filterType&nbsp;strips&nbsp;any&nbsp;unexported&nbsp;struct&nbsp;fields&nbsp;or&nbsp;method&nbsp;types&nbsp;from&nbsp;typ</span><br>
<span class="lineno"></span><span class="comment" id="5111283">//&nbsp;in&nbsp;place.&nbsp;If&nbsp;fields&nbsp;(or&nbsp;methods)&nbsp;have&nbsp;been&nbsp;removed,&nbsp;the&nbsp;corresponding</span><br>
<span class="lineno"></span><span class="comment" id="5111356">//&nbsp;struct&nbsp;or&nbsp;interface&nbsp;type&nbsp;has&nbsp;the&nbsp;Incomplete&nbsp;field&nbsp;set&nbsp;to&nbsp;true.</span><br>
<span class="lineno">115</span><span class="comment" id="5111422">//</span><br>
<span class="lineno"></span><span class="keyword" id="5111425">func</span>&nbsp;<span class="op" id="5111430">(</span><span class="ident" id="5111431">r</span>&nbsp;<span class="op" id="5111433">*</span><span class="ident" id="5111434">reader</span><span class="op" id="5111440">)</span>&nbsp;<span class="ident" id="5111442">filterType</span><span class="op" id="5111452">(</span><span class="ident" id="5111453">parent</span>&nbsp;<span class="op" id="5111460">*</span><span class="ident" id="5111461">namedType</span><span class="op" id="5111470">,</span>&nbsp;<span class="ident" id="5111472">typ</span>&nbsp;<span class="ident" id="5111476">ast</span><span class="op" id="5111479">.</span><span class="ident" id="5111480">Expr</span><span class="op" id="5111484">)</span>&nbsp;<span class="op" id="5111486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111489">switch</span>&nbsp;<span class="ident" id="5111496">t</span>&nbsp;<span class="op" id="5111498">:=</span>&nbsp;<span class="ident" id="5111501">typ</span><span class="op" id="5111504">.</span><span class="op" id="5111505">(</span><span class="keyword" id="5111506">type</span><span class="op" id="5111510">)</span>&nbsp;<span class="op" id="5111512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111515">case</span>&nbsp;<span class="op" id="5111520">*</span><span class="ident" id="5111521">ast</span><span class="op" id="5111524">.</span><span class="ident" id="5111525">Ident</span><span class="op" id="5111530">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5111534">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111552">case</span>&nbsp;<span class="op" id="5111557">*</span><span class="ident" id="5111558">ast</span><span class="op" id="5111561">.</span><span class="ident" id="5111562">ParenExpr</span><span class="op" id="5111571">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111575">r</span><span class="op" id="5111576">.</span><span class="ident" id="5111577">filterType</span><span class="op" id="5111587">(</span><span class="builtintype" id="5111588">nil</span><span class="op" id="5111591">,</span>&nbsp;<span class="ident" id="5111593">t</span><span class="op" id="5111594">.</span><span class="ident" id="5111595">X</span><span class="op" id="5111596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111599">case</span>&nbsp;<span class="op" id="5111604">*</span><span class="ident" id="5111605">ast</span><span class="op" id="5111608">.</span><span class="ident" id="5111609">ArrayType</span><span class="op" id="5111618">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111622">r</span><span class="op" id="5111623">.</span><span class="ident" id="5111624">filterType</span><span class="op" id="5111634">(</span><span class="builtintype" id="5111635">nil</span><span class="op" id="5111638">,</span>&nbsp;<span class="ident" id="5111640">t</span><span class="op" id="5111641">.</span><span class="ident" id="5111642">Elt</span><span class="op" id="5111645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111648">case</span>&nbsp;<span class="op" id="5111653">*</span><span class="ident" id="5111654">ast</span><span class="op" id="5111657">.</span><span class="ident" id="5111658">StructType</span><span class="op" id="5111668">:</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111672">if</span>&nbsp;<span class="ident" id="5111675">r</span><span class="op" id="5111676">.</span><span class="ident" id="5111677">filterFieldList</span><span class="op" id="5111692">(</span><span class="ident" id="5111693">parent</span><span class="op" id="5111699">,</span>&nbsp;<span class="ident" id="5111701">t</span><span class="op" id="5111702">.</span><span class="ident" id="5111703">Fields</span><span class="op" id="5111709">,</span>&nbsp;<span class="builtintype" id="5111711">nil</span><span class="op" id="5111714">)</span>&nbsp;<span class="op" id="5111716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111721">t</span><span class="op" id="5111722">.</span><span class="ident" id="5111723">Incomplete</span>&nbsp;<span class="op" id="5111734">=</span>&nbsp;<span class="builtintype" id="5111736">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111746">case</span>&nbsp;<span class="op" id="5111751">*</span><span class="ident" id="5111752">ast</span><span class="op" id="5111755">.</span><span class="ident" id="5111756">FuncType</span><span class="op" id="5111764">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111768">r</span><span class="op" id="5111769">.</span><span class="ident" id="5111770">filterParamList</span><span class="op" id="5111785">(</span><span class="ident" id="5111786">t</span><span class="op" id="5111787">.</span><span class="ident" id="5111788">Params</span><span class="op" id="5111794">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111798">r</span><span class="op" id="5111799">.</span><span class="ident" id="5111800">filterParamList</span><span class="op" id="5111815">(</span><span class="ident" id="5111816">t</span><span class="op" id="5111817">.</span><span class="ident" id="5111818">Results</span><span class="op" id="5111825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111828">case</span>&nbsp;<span class="op" id="5111833">*</span><span class="ident" id="5111834">ast</span><span class="op" id="5111837">.</span><span class="ident" id="5111838">InterfaceType</span><span class="op" id="5111851">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111855">if</span>&nbsp;<span class="ident" id="5111858">r</span><span class="op" id="5111859">.</span><span class="ident" id="5111860">filterFieldList</span><span class="op" id="5111875">(</span><span class="ident" id="5111876">parent</span><span class="op" id="5111882">,</span>&nbsp;<span class="ident" id="5111884">t</span><span class="op" id="5111885">.</span><span class="ident" id="5111886">Methods</span><span class="op" id="5111893">,</span>&nbsp;<span class="ident" id="5111895">t</span><span class="op" id="5111896">)</span>&nbsp;<span class="op" id="5111898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111903">t</span><span class="op" id="5111904">.</span><span class="ident" id="5111905">Incomplete</span>&nbsp;<span class="op" id="5111916">=</span>&nbsp;<span class="builtintype" id="5111918">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111925">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111928">case</span>&nbsp;<span class="op" id="5111933">*</span><span class="ident" id="5111934">ast</span><span class="op" id="5111937">.</span><span class="ident" id="5111938">MapType</span><span class="op" id="5111945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111949">r</span><span class="op" id="5111950">.</span><span class="ident" id="5111951">filterType</span><span class="op" id="5111961">(</span><span class="builtintype" id="5111962">nil</span><span class="op" id="5111965">,</span>&nbsp;<span class="ident" id="5111967">t</span><span class="op" id="5111968">.</span><span class="ident" id="5111969">Key</span><span class="op" id="5111972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111976">r</span><span class="op" id="5111977">.</span><span class="ident" id="5111978">filterType</span><span class="op" id="5111988">(</span><span class="builtintype" id="5111989">nil</span><span class="op" id="5111992">,</span>&nbsp;<span class="ident" id="5111994">t</span><span class="op" id="5111995">.</span><span class="ident" id="5111996">Value</span><span class="op" id="5112001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112004">case</span>&nbsp;<span class="op" id="5112009">*</span><span class="ident" id="5112010">ast</span><span class="op" id="5112013">.</span><span class="ident" id="5112014">ChanType</span><span class="op" id="5112022">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112026">r</span><span class="op" id="5112027">.</span><span class="ident" id="5112028">filterType</span><span class="op" id="5112038">(</span><span class="builtintype" id="5112039">nil</span><span class="op" id="5112042">,</span>&nbsp;<span class="ident" id="5112044">t</span><span class="op" id="5112045">.</span><span class="ident" id="5112046">Value</span><span class="op" id="5112051">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112054">}</span><br>
<span class="lineno"></span><span class="op" id="5112056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5112059">func</span>&nbsp;<span class="op" id="5112064">(</span><span class="ident" id="5112065">r</span>&nbsp;<span class="op" id="5112067">*</span><span class="ident" id="5112068">reader</span><span class="op" id="5112074">)</span>&nbsp;<span class="ident" id="5112076">filterSpec</span><span class="op" id="5112086">(</span><span class="ident" id="5112087">spec</span>&nbsp;<span class="ident" id="5112092">ast</span><span class="op" id="5112095">.</span><span class="ident" id="5112096">Spec</span><span class="op" id="5112100">,</span>&nbsp;<span class="ident" id="5112102">tok</span>&nbsp;<span class="ident" id="5112106">token</span><span class="op" id="5112111">.</span><span class="ident" id="5112112">Token</span><span class="op" id="5112117">)</span>&nbsp;<span class="builtintype" id="5112119">bool</span>&nbsp;<span class="op" id="5112124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112127">switch</span>&nbsp;<span class="ident" id="5112134">s</span>&nbsp;<span class="op" id="5112136">:=</span>&nbsp;<span class="ident" id="5112139">spec</span><span class="op" id="5112143">.</span><span class="op" id="5112144">(</span><span class="keyword" id="5112145">type</span><span class="op" id="5112149">)</span>&nbsp;<span class="op" id="5112151">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112154">case</span>&nbsp;<span class="op" id="5112159">*</span><span class="ident" id="5112160">ast</span><span class="op" id="5112163">.</span><span class="ident" id="5112164">ImportSpec</span><span class="op" id="5112174">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5112178">//&nbsp;always&nbsp;keep&nbsp;imports&nbsp;so&nbsp;we&nbsp;can&nbsp;collect&nbsp;them</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112226">return</span>&nbsp;<span class="builtintype" id="5112233">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112239">case</span>&nbsp;<span class="op" id="5112244">*</span><span class="ident" id="5112245">ast</span><span class="op" id="5112248">.</span><span class="ident" id="5112249">ValueSpec</span><span class="op" id="5112258">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5112262">//&nbsp;special&nbsp;case:&nbsp;consider&nbsp;blank&nbsp;constants&nbsp;as&nbsp;exported</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5112318">//&nbsp;(work-around&nbsp;for&nbsp;issue&nbsp;5397)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112352">s</span><span class="op" id="5112353">.</span><span class="ident" id="5112354">Names</span>&nbsp;<span class="op" id="5112360">=</span>&nbsp;<span class="ident" id="5112362">filterIdentList</span><span class="op" id="5112377">(</span><span class="ident" id="5112378">s</span><span class="op" id="5112379">.</span><span class="ident" id="5112380">Names</span><span class="op" id="5112385">,</span>&nbsp;<span class="ident" id="5112387">tok</span>&nbsp;<span class="op" id="5112391">==</span>&nbsp;<span class="ident" id="5112394">token</span><span class="op" id="5112399">.</span><span class="ident" id="5112400">CONST</span><span class="op" id="5112405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112409">if</span>&nbsp;<span class="builtinfunc" id="5112412">len</span><span class="op" id="5112415">(</span><span class="ident" id="5112416">s</span><span class="op" id="5112417">.</span><span class="ident" id="5112418">Names</span><span class="op" id="5112423">)</span>&nbsp;<span class="op" id="5112425">&gt;</span>&nbsp;<span class="num" id="5112427">0</span>&nbsp;<span class="op" id="5112429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112434">r</span><span class="op" id="5112435">.</span><span class="ident" id="5112436">filterType</span><span class="op" id="5112446">(</span><span class="builtintype" id="5112447">nil</span><span class="op" id="5112450">,</span>&nbsp;<span class="ident" id="5112452">s</span><span class="op" id="5112453">.</span><span class="ident" id="5112454">Type</span><span class="op" id="5112458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112463">return</span>&nbsp;<span class="builtintype" id="5112470">true</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112480">case</span>&nbsp;<span class="op" id="5112485">*</span><span class="ident" id="5112486">ast</span><span class="op" id="5112489">.</span><span class="ident" id="5112490">TypeSpec</span><span class="op" id="5112498">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112502">if</span>&nbsp;<span class="ident" id="5112505">name</span>&nbsp;<span class="op" id="5112510">:=</span>&nbsp;<span class="ident" id="5112513">s</span><span class="op" id="5112514">.</span><span class="ident" id="5112515">Name</span><span class="op" id="5112519">.</span><span class="ident" id="5112520">Name</span><span class="op" id="5112524">;</span>&nbsp;<span class="ident" id="5112526">ast</span><span class="op" id="5112529">.</span><span class="ident" id="5112530">IsExported</span><span class="op" id="5112540">(</span><span class="ident" id="5112541">name</span><span class="op" id="5112545">)</span>&nbsp;<span class="op" id="5112547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112552">r</span><span class="op" id="5112553">.</span><span class="ident" id="5112554">filterType</span><span class="op" id="5112564">(</span><span class="ident" id="5112565">r</span><span class="op" id="5112566">.</span><span class="ident" id="5112567">lookupType</span><span class="op" id="5112577">(</span><span class="ident" id="5112578">s</span><span class="op" id="5112579">.</span><span class="ident" id="5112580">Name</span><span class="op" id="5112584">.</span><span class="ident" id="5112585">Name</span><span class="op" id="5112589">)</span><span class="op" id="5112590">,</span>&nbsp;<span class="ident" id="5112592">s</span><span class="op" id="5112593">.</span><span class="ident" id="5112594">Type</span><span class="op" id="5112598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112603">return</span>&nbsp;<span class="builtintype" id="5112610">true</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112617">}</span>&nbsp;<span class="keyword" id="5112619">else</span>&nbsp;<span class="keyword" id="5112624">if</span>&nbsp;<span class="ident" id="5112627">name</span>&nbsp;<span class="op" id="5112632">==</span>&nbsp;<span class="string" id="5112635">&#34;error&#34;</span>&nbsp;<span class="op" id="5112643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5112648">//&nbsp;special&nbsp;case:&nbsp;remember&nbsp;that&nbsp;error&nbsp;is&nbsp;declared&nbsp;locally</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112708">r</span><span class="op" id="5112709">.</span><span class="ident" id="5112710">errorDecl</span>&nbsp;<span class="op" id="5112720">=</span>&nbsp;<span class="builtintype" id="5112722">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112732">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112735">return</span>&nbsp;<span class="builtintype" id="5112742">false</span><br>
<span class="lineno"></span><span class="op" id="5112748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5112751">func</span>&nbsp;<span class="op" id="5112756">(</span><span class="ident" id="5112757">r</span>&nbsp;<span class="op" id="5112759">*</span><span class="ident" id="5112760">reader</span><span class="op" id="5112766">)</span>&nbsp;<span class="ident" id="5112768">filterSpecList</span><span class="op" id="5112782">(</span><span class="ident" id="5112783">list</span>&nbsp;<span class="op" id="5112788">[</span><span class="op" id="5112789">]</span><span class="ident" id="5112790">ast</span><span class="op" id="5112793">.</span><span class="ident" id="5112794">Spec</span><span class="op" id="5112798">,</span>&nbsp;<span class="ident" id="5112800">tok</span>&nbsp;<span class="ident" id="5112804">token</span><span class="op" id="5112809">.</span><span class="ident" id="5112810">Token</span><span class="op" id="5112815">)</span>&nbsp;<span class="op" id="5112817">[</span><span class="op" id="5112818">]</span><span class="ident" id="5112819">ast</span><span class="op" id="5112822">.</span><span class="ident" id="5112823">Spec</span>&nbsp;<span class="op" id="5112828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112831">j</span>&nbsp;<span class="op" id="5112833">:=</span>&nbsp;<span class="num" id="5112836">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112839">for</span>&nbsp;<span class="ident" id="5112843">_</span><span class="op" id="5112844">,</span>&nbsp;<span class="ident" id="5112846">s</span>&nbsp;<span class="op" id="5112848">:=</span>&nbsp;<span class="keyword" id="5112851">range</span>&nbsp;<span class="ident" id="5112857">list</span>&nbsp;<span class="op" id="5112862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112866">if</span>&nbsp;<span class="ident" id="5112869">r</span><span class="op" id="5112870">.</span><span class="ident" id="5112871">filterSpec</span><span class="op" id="5112881">(</span><span class="ident" id="5112882">s</span><span class="op" id="5112883">,</span>&nbsp;<span class="ident" id="5112885">tok</span><span class="op" id="5112888">)</span>&nbsp;<span class="op" id="5112890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112895">list</span><span class="op" id="5112899">[</span><span class="ident" id="5112900">j</span><span class="op" id="5112901">]</span>&nbsp;<span class="op" id="5112903">=</span>&nbsp;<span class="ident" id="5112905">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112910">j</span><span class="op" id="5112911">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112916">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112922">return</span>&nbsp;<span class="ident" id="5112929">list</span><span class="op" id="5112933">[</span><span class="num" id="5112934">0</span><span class="op" id="5112935">:</span><span class="ident" id="5112936">j</span><span class="op" id="5112937">]</span><br>
<span class="lineno"></span><span class="op" id="5112939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5112942">func</span>&nbsp;<span class="op" id="5112947">(</span><span class="ident" id="5112948">r</span>&nbsp;<span class="op" id="5112950">*</span><span class="ident" id="5112951">reader</span><span class="op" id="5112957">)</span>&nbsp;<span class="ident" id="5112959">filterDecl</span><span class="op" id="5112969">(</span><span class="ident" id="5112970">decl</span>&nbsp;<span class="ident" id="5112975">ast</span><span class="op" id="5112978">.</span><span class="ident" id="5112979">Decl</span><span class="op" id="5112983">)</span>&nbsp;<span class="builtintype" id="5112985">bool</span>&nbsp;<span class="op" id="5112990">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112993">switch</span>&nbsp;<span class="ident" id="5113000">d</span>&nbsp;<span class="op" id="5113002">:=</span>&nbsp;<span class="ident" id="5113005">decl</span><span class="op" id="5113009">.</span><span class="op" id="5113010">(</span><span class="keyword" id="5113011">type</span><span class="op" id="5113015">)</span>&nbsp;<span class="op" id="5113017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113020">case</span>&nbsp;<span class="op" id="5113025">*</span><span class="ident" id="5113026">ast</span><span class="op" id="5113029">.</span><span class="ident" id="5113030">GenDecl</span><span class="op" id="5113037">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113041">d</span><span class="op" id="5113042">.</span><span class="ident" id="5113043">Specs</span>&nbsp;<span class="op" id="5113049">=</span>&nbsp;<span class="ident" id="5113051">r</span><span class="op" id="5113052">.</span><span class="ident" id="5113053">filterSpecList</span><span class="op" id="5113067">(</span><span class="ident" id="5113068">d</span><span class="op" id="5113069">.</span><span class="ident" id="5113070">Specs</span><span class="op" id="5113075">,</span>&nbsp;<span class="ident" id="5113077">d</span><span class="op" id="5113078">.</span><span class="ident" id="5113079">Tok</span><span class="op" id="5113082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113086">return</span>&nbsp;<span class="builtinfunc" id="5113093">len</span><span class="op" id="5113096">(</span><span class="ident" id="5113097">d</span><span class="op" id="5113098">.</span><span class="ident" id="5113099">Specs</span><span class="op" id="5113104">)</span>&nbsp;<span class="op" id="5113106">&gt;</span>&nbsp;<span class="num" id="5113108">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113111">case</span>&nbsp;<span class="op" id="5113116">*</span><span class="ident" id="5113117">ast</span><span class="op" id="5113120">.</span><span class="ident" id="5113121">FuncDecl</span><span class="op" id="5113129">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5113133">//&nbsp;ok&nbsp;to&nbsp;filter&nbsp;these&nbsp;methods&nbsp;early&nbsp;because&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5113183">//&nbsp;conflicting&nbsp;method&nbsp;will&nbsp;be&nbsp;filtered&nbsp;here,&nbsp;too&nbsp;-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5113236">//&nbsp;thus,&nbsp;removing&nbsp;these&nbsp;methods&nbsp;early&nbsp;will&nbsp;not&nbsp;lead</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5113290">//&nbsp;to&nbsp;the&nbsp;false&nbsp;removal&nbsp;of&nbsp;possible&nbsp;conflicts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113338">return</span>&nbsp;<span class="ident" id="5113345">ast</span><span class="op" id="5113348">.</span><span class="ident" id="5113349">IsExported</span><span class="op" id="5113359">(</span><span class="ident" id="5113360">d</span><span class="op" id="5113361">.</span><span class="ident" id="5113362">Name</span><span class="op" id="5113366">.</span><span class="ident" id="5113367">Name</span><span class="op" id="5113371">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113377">return</span>&nbsp;<span class="builtintype" id="5113384">false</span><br>
<span class="lineno"></span><span class="op" id="5113390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5113393">//&nbsp;fileExports&nbsp;removes&nbsp;unexported&nbsp;declarations&nbsp;from&nbsp;src&nbsp;in&nbsp;place.</span><br>
<span class="lineno">195</span><span class="comment" id="5113459">//</span><br>
<span class="lineno"></span><span class="keyword" id="5113462">func</span>&nbsp;<span class="op" id="5113467">(</span><span class="ident" id="5113468">r</span>&nbsp;<span class="op" id="5113470">*</span><span class="ident" id="5113471">reader</span><span class="op" id="5113477">)</span>&nbsp;<span class="ident" id="5113479">fileExports</span><span class="op" id="5113490">(</span><span class="ident" id="5113491">src</span>&nbsp;<span class="op" id="5113495">*</span><span class="ident" id="5113496">ast</span><span class="op" id="5113499">.</span><span class="ident" id="5113500">File</span><span class="op" id="5113504">)</span>&nbsp;<span class="op" id="5113506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113509">j</span>&nbsp;<span class="op" id="5113511">:=</span>&nbsp;<span class="num" id="5113514">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113517">for</span>&nbsp;<span class="ident" id="5113521">_</span><span class="op" id="5113522">,</span>&nbsp;<span class="ident" id="5113524">d</span>&nbsp;<span class="op" id="5113526">:=</span>&nbsp;<span class="keyword" id="5113529">range</span>&nbsp;<span class="ident" id="5113535">src</span><span class="op" id="5113538">.</span><span class="ident" id="5113539">Decls</span>&nbsp;<span class="op" id="5113545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113549">if</span>&nbsp;<span class="ident" id="5113552">r</span><span class="op" id="5113553">.</span><span class="ident" id="5113554">filterDecl</span><span class="op" id="5113564">(</span><span class="ident" id="5113565">d</span><span class="op" id="5113566">)</span>&nbsp;<span class="op" id="5113568">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113573">src</span><span class="op" id="5113576">.</span><span class="ident" id="5113577">Decls</span><span class="op" id="5113582">[</span><span class="ident" id="5113583">j</span><span class="op" id="5113584">]</span>&nbsp;<span class="op" id="5113586">=</span>&nbsp;<span class="ident" id="5113588">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113593">j</span><span class="op" id="5113594">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113605">src</span><span class="op" id="5113608">.</span><span class="ident" id="5113609">Decls</span>&nbsp;<span class="op" id="5113615">=</span>&nbsp;<span class="ident" id="5113617">src</span><span class="op" id="5113620">.</span><span class="ident" id="5113621">Decls</span><span class="op" id="5113626">[</span><span class="num" id="5113627">0</span><span class="op" id="5113628">:</span><span class="ident" id="5113629">j</span><span class="op" id="5113630">]</span><br>
<span class="lineno">205</span><span class="op" id="5113632">}</span>
</div>
</body>
</html>
