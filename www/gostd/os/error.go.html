<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2452183">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2452238">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2452292">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2452343">package</span>&nbsp;<span class="ident" id="2452351">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2452355">import</span>&nbsp;<span class="op" id="2452362">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2452365">&#34;errors&#34;</span><br>
<span class="lineno"></span><span class="op" id="2452374">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="2452377">//&nbsp;Portable&nbsp;analogs&nbsp;of&nbsp;some&nbsp;common&nbsp;system&nbsp;call&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2452432">var</span>&nbsp;<span class="op" id="2452436">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2452439">ErrInvalid</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2452453">=</span>&nbsp;<span class="ident" id="2452455">errors</span><span class="op" id="2452461">.</span><span class="ident" id="2452462">New</span><span class="op" id="2452465">(</span><span class="string" id="2452466">&#34;invalid&nbsp;argument&#34;</span><span class="op" id="2452484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2452487">ErrPermission</span>&nbsp;<span class="op" id="2452501">=</span>&nbsp;<span class="ident" id="2452503">errors</span><span class="op" id="2452509">.</span><span class="ident" id="2452510">New</span><span class="op" id="2452513">(</span><span class="string" id="2452514">&#34;permission&nbsp;denied&#34;</span><span class="op" id="2452533">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2452536">ErrExist</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2452550">=</span>&nbsp;<span class="ident" id="2452552">errors</span><span class="op" id="2452558">.</span><span class="ident" id="2452559">New</span><span class="op" id="2452562">(</span><span class="string" id="2452563">&#34;file&nbsp;already&nbsp;exists&#34;</span><span class="op" id="2452584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2452587">ErrNotExist</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2452601">=</span>&nbsp;<span class="ident" id="2452603">errors</span><span class="op" id="2452609">.</span><span class="ident" id="2452610">New</span><span class="op" id="2452613">(</span><span class="string" id="2452614">&#34;file&nbsp;does&nbsp;not&nbsp;exist&#34;</span><span class="op" id="2452635">)</span><br>
<span class="lineno"></span><span class="op" id="2452637">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2452640">//&nbsp;PathError&nbsp;records&nbsp;an&nbsp;error&nbsp;and&nbsp;the&nbsp;operation&nbsp;and&nbsp;file&nbsp;path&nbsp;that&nbsp;caused&nbsp;it.</span><br>
<span class="lineno">20</span><span class="keyword" id="2452718">type</span>&nbsp;<span class="ident" id="2452723">PathError</span>&nbsp;<span class="keyword" id="2452733">struct</span>&nbsp;<span class="op" id="2452740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2452743">Op</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2452748">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2452756">Path</span>&nbsp;<span class="builtintype" id="2452761">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2452769">Err</span>&nbsp;&nbsp;<span class="builtintype" id="2452774">error</span><br>
<span class="lineno"></span><span class="op" id="2452780">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="2452783">func</span>&nbsp;<span class="op" id="2452788">(</span><span class="ident" id="2452789">e</span>&nbsp;<span class="op" id="2452791">*</span><span class="ident" id="2452792">PathError</span><span class="op" id="2452801">)</span>&nbsp;<span class="ident" id="2452803">Error</span><span class="op" id="2452808">(</span><span class="op" id="2452809">)</span>&nbsp;<span class="builtintype" id="2452811">string</span>&nbsp;<span class="op" id="2452818">{</span>&nbsp;<span class="keyword" id="2452820">return</span>&nbsp;<span class="ident" id="2452827">e</span><span class="op" id="2452828">.</span><span class="ident" id="2452829">Op</span>&nbsp;<span class="op" id="2452832">+</span>&nbsp;<span class="string" id="2452834">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2452838">+</span>&nbsp;<span class="ident" id="2452840">e</span><span class="op" id="2452841">.</span><span class="ident" id="2452842">Path</span>&nbsp;<span class="op" id="2452847">+</span>&nbsp;<span class="string" id="2452849">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2452854">+</span>&nbsp;<span class="ident" id="2452856">e</span><span class="op" id="2452857">.</span><span class="ident" id="2452858">Err</span><span class="op" id="2452861">.</span><span class="ident" id="2452862">Error</span><span class="op" id="2452867">(</span><span class="op" id="2452868">)</span>&nbsp;<span class="op" id="2452870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2452873">//&nbsp;SyscallError&nbsp;records&nbsp;an&nbsp;error&nbsp;from&nbsp;a&nbsp;specific&nbsp;system&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="2452935">type</span>&nbsp;<span class="ident" id="2452940">SyscallError</span>&nbsp;<span class="keyword" id="2452953">struct</span>&nbsp;<span class="op" id="2452960">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2452963">Syscall</span>&nbsp;<span class="builtintype" id="2452971">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2452979">Err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2452987">error</span><br>
<span class="lineno"></span><span class="op" id="2452993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2452996">func</span>&nbsp;<span class="op" id="2453001">(</span><span class="ident" id="2453002">e</span>&nbsp;<span class="op" id="2453004">*</span><span class="ident" id="2453005">SyscallError</span><span class="op" id="2453017">)</span>&nbsp;<span class="ident" id="2453019">Error</span><span class="op" id="2453024">(</span><span class="op" id="2453025">)</span>&nbsp;<span class="builtintype" id="2453027">string</span>&nbsp;<span class="op" id="2453034">{</span>&nbsp;<span class="keyword" id="2453036">return</span>&nbsp;<span class="ident" id="2453043">e</span><span class="op" id="2453044">.</span><span class="ident" id="2453045">Syscall</span>&nbsp;<span class="op" id="2453053">+</span>&nbsp;<span class="string" id="2453055">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2453060">+</span>&nbsp;<span class="ident" id="2453062">e</span><span class="op" id="2453063">.</span><span class="ident" id="2453064">Err</span><span class="op" id="2453067">.</span><span class="ident" id="2453068">Error</span><span class="op" id="2453073">(</span><span class="op" id="2453074">)</span>&nbsp;<span class="op" id="2453076">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2453079">//&nbsp;NewSyscallError&nbsp;returns,&nbsp;as&nbsp;an&nbsp;error,&nbsp;a&nbsp;new&nbsp;SyscallError</span><br>
<span class="lineno"></span><span class="comment" id="2453139">//&nbsp;with&nbsp;the&nbsp;given&nbsp;system&nbsp;call&nbsp;name&nbsp;and&nbsp;error&nbsp;details.</span><br>
<span class="lineno"></span><span class="comment" id="2453193">//&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;if&nbsp;err&nbsp;is&nbsp;nil,&nbsp;NewSyscallError&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2453258">func</span>&nbsp;<span class="ident" id="2453263">NewSyscallError</span><span class="op" id="2453278">(</span><span class="ident" id="2453279">syscall</span>&nbsp;<span class="builtintype" id="2453287">string</span><span class="op" id="2453293">,</span>&nbsp;<span class="ident" id="2453295">err</span>&nbsp;<span class="builtintype" id="2453299">error</span><span class="op" id="2453304">)</span>&nbsp;<span class="builtintype" id="2453306">error</span>&nbsp;<span class="op" id="2453312">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2453315">if</span>&nbsp;<span class="ident" id="2453318">err</span>&nbsp;<span class="op" id="2453322">==</span>&nbsp;<span class="ident" id="2453325">nil</span>&nbsp;<span class="op" id="2453329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2453333">return</span>&nbsp;<span class="ident" id="2453340">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2453345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2453348">return</span>&nbsp;<span class="op" id="2453355">&amp;</span><span class="ident" id="2453356">SyscallError</span><span class="op" id="2453368">{</span><span class="ident" id="2453369">syscall</span><span class="op" id="2453376">,</span>&nbsp;<span class="ident" id="2453378">err</span><span class="op" id="2453381">}</span><br>
<span class="lineno"></span><span class="op" id="2453383">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="2453386">//&nbsp;IsExist&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to&nbsp;report</span><br>
<span class="lineno"></span><span class="comment" id="2453463">//&nbsp;that&nbsp;a&nbsp;file&nbsp;or&nbsp;directory&nbsp;already&nbsp;exists.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by&nbsp;ErrExist&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="2453538">//&nbsp;well&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2453570">func</span>&nbsp;<span class="ident" id="2453575">IsExist</span><span class="op" id="2453582">(</span><span class="ident" id="2453583">err</span>&nbsp;<span class="builtintype" id="2453587">error</span><span class="op" id="2453592">)</span>&nbsp;<span class="builtintype" id="2453594">bool</span>&nbsp;<span class="op" id="2453599">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2453602">return</span>&nbsp;<span class="ident" id="2453609">isExist</span><span class="op" id="2453616">(</span><span class="ident" id="2453617">err</span><span class="op" id="2453620">)</span><br>
<span class="lineno"></span><span class="op" id="2453622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2453625">//&nbsp;IsNotExist&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2453698">//&nbsp;report&nbsp;that&nbsp;a&nbsp;file&nbsp;or&nbsp;directory&nbsp;does&nbsp;not&nbsp;exist.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by</span><br>
<span class="lineno">55</span><span class="comment" id="2453768">//&nbsp;ErrNotExist&nbsp;as&nbsp;well&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2453815">func</span>&nbsp;<span class="ident" id="2453820">IsNotExist</span><span class="op" id="2453830">(</span><span class="ident" id="2453831">err</span>&nbsp;<span class="builtintype" id="2453835">error</span><span class="op" id="2453840">)</span>&nbsp;<span class="builtintype" id="2453842">bool</span>&nbsp;<span class="op" id="2453847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2453850">return</span>&nbsp;<span class="ident" id="2453857">isNotExist</span><span class="op" id="2453867">(</span><span class="ident" id="2453868">err</span><span class="op" id="2453871">)</span><br>
<span class="lineno"></span><span class="op" id="2453873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="2453876">//&nbsp;IsPermission&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2453951">//&nbsp;report&nbsp;that&nbsp;permission&nbsp;is&nbsp;denied.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by&nbsp;ErrPermission&nbsp;as&nbsp;well</span><br>
<span class="lineno"></span><span class="comment" id="2454029">//&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2454056">func</span>&nbsp;<span class="ident" id="2454061">IsPermission</span><span class="op" id="2454073">(</span><span class="ident" id="2454074">err</span>&nbsp;<span class="builtintype" id="2454078">error</span><span class="op" id="2454083">)</span>&nbsp;<span class="builtintype" id="2454085">bool</span>&nbsp;<span class="op" id="2454090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2454093">return</span>&nbsp;<span class="ident" id="2454100">isPermission</span><span class="op" id="2454112">(</span><span class="ident" id="2454113">err</span><span class="op" id="2454116">)</span><br>
<span class="lineno">65</span><span class="op" id="2454118">}</span>
</div>
</body>
</html>
