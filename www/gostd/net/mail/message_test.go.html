<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6874804">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6874859">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6874913">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6874964">package</span>&nbsp;<span class="ident" id="6874972">mail</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6874978">import</span>&nbsp;<span class="op" id="6874985">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6874988">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6874997">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6875010">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6875021">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6875032">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6875043">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6875050">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6875053">var</span>&nbsp;<span class="ident" id="6875057">parseTests</span>&nbsp;<span class="op" id="6875068">=</span>&nbsp;<span class="op" id="6875070">[</span><span class="op" id="6875071">]</span><span class="keyword" id="6875072">struct</span>&nbsp;<span class="op" id="6875079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875082">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6875089">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875097">header</span>&nbsp;<span class="ident" id="6875104">Header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875112">body</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6875119">string</span><br>
<span class="lineno">20</span><span class="op" id="6875126">}</span><span class="op" id="6875127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6875130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6875134">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875164">in</span><span class="op" id="6875166">:</span>&nbsp;<span class="string" id="6875168">`From:&nbsp;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;<br>
<span class="lineno"></span>To:&nbsp;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;<br>
<span class="lineno">25</span>Subject:&nbsp;Saying&nbsp;Hello<br>
<span class="lineno"></span>Date:&nbsp;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600<br>
<span class="lineno"></span>Message-ID:&nbsp;&lt;1234@local.machine.example&gt;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.<br>
<span class="lineno">30</span>So,&nbsp;&#34;Hello&#34;.<br>
<span class="lineno"></span>`</span><span class="op" id="6875394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875398">header</span><span class="op" id="6875404">:</span>&nbsp;<span class="ident" id="6875406">Header</span><span class="op" id="6875412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6875417">&#34;From&#34;</span><span class="op" id="6875423">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875431">[</span><span class="op" id="6875432">]</span><span class="builtintype" id="6875433">string</span><span class="op" id="6875439">{</span><span class="string" id="6875440">&#34;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;&#34;</span><span class="op" id="6875473">}</span><span class="op" id="6875474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6875479">&#34;To&#34;</span><span class="op" id="6875483">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875493">[</span><span class="op" id="6875494">]</span><span class="builtintype" id="6875495">string</span><span class="op" id="6875501">{</span><span class="string" id="6875502">&#34;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;&#34;</span><span class="op" id="6875533">}</span><span class="op" id="6875534">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6875539">&#34;Subject&#34;</span><span class="op" id="6875548">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875553">[</span><span class="op" id="6875554">]</span><span class="builtintype" id="6875555">string</span><span class="op" id="6875561">{</span><span class="string" id="6875562">&#34;Saying&nbsp;Hello&#34;</span><span class="op" id="6875576">}</span><span class="op" id="6875577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6875582">&#34;Date&#34;</span><span class="op" id="6875588">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875596">[</span><span class="op" id="6875597">]</span><span class="builtintype" id="6875598">string</span><span class="op" id="6875604">{</span><span class="string" id="6875605">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="6875638">}</span><span class="op" id="6875639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6875644">&#34;Message-Id&#34;</span><span class="op" id="6875656">:</span>&nbsp;<span class="op" id="6875658">[</span><span class="op" id="6875659">]</span><span class="builtintype" id="6875660">string</span><span class="op" id="6875666">{</span><span class="string" id="6875667">&#34;&lt;1234@local.machine.example&gt;&#34;</span><span class="op" id="6875697">}</span><span class="op" id="6875698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6875702">}</span><span class="op" id="6875703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875707">body</span><span class="op" id="6875711">:</span>&nbsp;<span class="string" id="6875713">&#34;This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.\nSo,&nbsp;\&#34;Hello\&#34;.\n&#34;</span><span class="op" id="6875769">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6875772">}</span><span class="op" id="6875773">,</span><br>
<span class="lineno"></span><span class="op" id="6875775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6875778">func</span>&nbsp;<span class="ident" id="6875783">TestParsing</span><span class="op" id="6875794">(</span><span class="ident" id="6875795">t</span>&nbsp;<span class="op" id="6875797">*</span><span class="ident" id="6875798">testing</span><span class="op" id="6875805">.</span><span class="ident" id="6875806">T</span><span class="op" id="6875807">)</span>&nbsp;<span class="op" id="6875809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6875812">for</span>&nbsp;<span class="ident" id="6875816">i</span><span class="op" id="6875817">,</span>&nbsp;<span class="ident" id="6875819">test</span>&nbsp;<span class="op" id="6875824">:=</span>&nbsp;<span class="keyword" id="6875827">range</span>&nbsp;<span class="ident" id="6875833">parseTests</span>&nbsp;<span class="op" id="6875844">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875848">msg</span><span class="op" id="6875851">,</span>&nbsp;<span class="ident" id="6875853">err</span>&nbsp;<span class="op" id="6875857">:=</span>&nbsp;<span class="ident" id="6875860">ReadMessage</span><span class="op" id="6875871">(</span><span class="ident" id="6875872">bytes</span><span class="op" id="6875877">.</span><span class="ident" id="6875878">NewBuffer</span><span class="op" id="6875887">(</span><span class="op" id="6875888">[</span><span class="op" id="6875889">]</span><span class="builtintype" id="6875890">byte</span><span class="op" id="6875894">(</span><span class="ident" id="6875895">test</span><span class="op" id="6875899">.</span><span class="ident" id="6875900">in</span><span class="op" id="6875902">)</span><span class="op" id="6875903">)</span><span class="op" id="6875904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6875908">if</span>&nbsp;<span class="ident" id="6875911">err</span>&nbsp;<span class="op" id="6875915">!=</span>&nbsp;<span class="ident" id="6875918">nil</span>&nbsp;<span class="op" id="6875922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875927">t</span><span class="op" id="6875928">.</span><span class="ident" id="6875929">Errorf</span><span class="op" id="6875935">(</span><span class="string" id="6875936">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;parsing&nbsp;message:&nbsp;%v&#34;</span><span class="op" id="6875974">,</span>&nbsp;<span class="ident" id="6875976">i</span><span class="op" id="6875977">,</span>&nbsp;<span class="ident" id="6875979">err</span><span class="op" id="6875982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6875987">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6875998">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876002">if</span>&nbsp;<span class="op" id="6876005">!</span><span class="ident" id="6876006">headerEq</span><span class="op" id="6876014">(</span><span class="ident" id="6876015">msg</span><span class="op" id="6876018">.</span><span class="ident" id="6876019">Header</span><span class="op" id="6876025">,</span>&nbsp;<span class="ident" id="6876027">test</span><span class="op" id="6876031">.</span><span class="ident" id="6876032">header</span><span class="op" id="6876038">)</span>&nbsp;<span class="op" id="6876040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876045">t</span><span class="op" id="6876046">.</span><span class="ident" id="6876047">Errorf</span><span class="op" id="6876053">(</span><span class="string" id="6876054">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;header.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="6876123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876129">i</span><span class="op" id="6876130">,</span>&nbsp;<span class="ident" id="6876132">msg</span><span class="op" id="6876135">.</span><span class="ident" id="6876136">Header</span><span class="op" id="6876142">,</span>&nbsp;<span class="ident" id="6876144">test</span><span class="op" id="6876148">.</span><span class="ident" id="6876149">header</span><span class="op" id="6876155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876163">body</span><span class="op" id="6876167">,</span>&nbsp;<span class="ident" id="6876169">err</span>&nbsp;<span class="op" id="6876173">:=</span>&nbsp;<span class="ident" id="6876176">ioutil</span><span class="op" id="6876182">.</span><span class="ident" id="6876183">ReadAll</span><span class="op" id="6876190">(</span><span class="ident" id="6876191">msg</span><span class="op" id="6876194">.</span><span class="ident" id="6876195">Body</span><span class="op" id="6876199">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876203">if</span>&nbsp;<span class="ident" id="6876206">err</span>&nbsp;<span class="op" id="6876210">!=</span>&nbsp;<span class="ident" id="6876213">nil</span>&nbsp;<span class="op" id="6876217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876222">t</span><span class="op" id="6876223">.</span><span class="ident" id="6876224">Errorf</span><span class="op" id="6876230">(</span><span class="string" id="6876231">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;reading&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="6876266">,</span>&nbsp;<span class="ident" id="6876268">i</span><span class="op" id="6876269">,</span>&nbsp;<span class="ident" id="6876271">err</span><span class="op" id="6876274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876279">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876294">bodyStr</span>&nbsp;<span class="op" id="6876302">:=</span>&nbsp;<span class="builtintype" id="6876305">string</span><span class="op" id="6876311">(</span><span class="ident" id="6876312">body</span><span class="op" id="6876316">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876320">if</span>&nbsp;<span class="ident" id="6876323">bodyStr</span>&nbsp;<span class="op" id="6876331">!=</span>&nbsp;<span class="ident" id="6876334">test</span><span class="op" id="6876338">.</span><span class="ident" id="6876339">body</span>&nbsp;<span class="op" id="6876344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876349">t</span><span class="op" id="6876350">.</span><span class="ident" id="6876351">Errorf</span><span class="op" id="6876357">(</span><span class="string" id="6876358">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;body.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="6876425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876431">i</span><span class="op" id="6876432">,</span>&nbsp;<span class="ident" id="6876434">bodyStr</span><span class="op" id="6876441">,</span>&nbsp;<span class="ident" id="6876443">test</span><span class="op" id="6876447">.</span><span class="ident" id="6876448">body</span><span class="op" id="6876452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876459">}</span><br>
<span class="lineno">65</span><span class="op" id="6876461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6876464">func</span>&nbsp;<span class="ident" id="6876469">headerEq</span><span class="op" id="6876477">(</span><span class="ident" id="6876478">a</span><span class="op" id="6876479">,</span>&nbsp;<span class="ident" id="6876481">b</span>&nbsp;<span class="ident" id="6876483">Header</span><span class="op" id="6876489">)</span>&nbsp;<span class="builtintype" id="6876491">bool</span>&nbsp;<span class="op" id="6876496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876499">if</span>&nbsp;<span class="builtinfunc" id="6876502">len</span><span class="op" id="6876505">(</span><span class="ident" id="6876506">a</span><span class="op" id="6876507">)</span>&nbsp;<span class="op" id="6876509">!=</span>&nbsp;<span class="builtinfunc" id="6876512">len</span><span class="op" id="6876515">(</span><span class="ident" id="6876516">b</span><span class="op" id="6876517">)</span>&nbsp;<span class="op" id="6876519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876523">return</span>&nbsp;<span class="builtintype" id="6876530">false</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876540">for</span>&nbsp;<span class="ident" id="6876544">k</span><span class="op" id="6876545">,</span>&nbsp;<span class="ident" id="6876547">as</span>&nbsp;<span class="op" id="6876550">:=</span>&nbsp;<span class="keyword" id="6876553">range</span>&nbsp;<span class="ident" id="6876559">a</span>&nbsp;<span class="op" id="6876561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876565">bs</span><span class="op" id="6876567">,</span>&nbsp;<span class="ident" id="6876569">ok</span>&nbsp;<span class="op" id="6876572">:=</span>&nbsp;<span class="ident" id="6876575">b</span><span class="op" id="6876576">[</span><span class="ident" id="6876577">k</span><span class="op" id="6876578">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876582">if</span>&nbsp;<span class="op" id="6876585">!</span><span class="ident" id="6876586">ok</span>&nbsp;<span class="op" id="6876589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876594">return</span>&nbsp;<span class="builtintype" id="6876601">false</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876613">if</span>&nbsp;<span class="op" id="6876616">!</span><span class="ident" id="6876617">reflect</span><span class="op" id="6876624">.</span><span class="ident" id="6876625">DeepEqual</span><span class="op" id="6876634">(</span><span class="ident" id="6876635">as</span><span class="op" id="6876637">,</span>&nbsp;<span class="ident" id="6876639">bs</span><span class="op" id="6876641">)</span>&nbsp;<span class="op" id="6876643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876648">return</span>&nbsp;<span class="builtintype" id="6876655">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876666">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876669">return</span>&nbsp;<span class="builtintype" id="6876676">true</span><br>
<span class="lineno"></span><span class="op" id="6876681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6876684">func</span>&nbsp;<span class="ident" id="6876689">TestDateParsing</span><span class="op" id="6876704">(</span><span class="ident" id="6876705">t</span>&nbsp;<span class="op" id="6876707">*</span><span class="ident" id="6876708">testing</span><span class="op" id="6876715">.</span><span class="ident" id="6876716">T</span><span class="op" id="6876717">)</span>&nbsp;<span class="op" id="6876719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876722">tests</span>&nbsp;<span class="op" id="6876728">:=</span>&nbsp;<span class="op" id="6876731">[</span><span class="op" id="6876732">]</span><span class="keyword" id="6876733">struct</span>&nbsp;<span class="op" id="6876740">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876744">dateStr</span>&nbsp;<span class="builtintype" id="6876752">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876761">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6876769">time</span><span class="op" id="6876773">.</span><span class="ident" id="6876774">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876780">}</span><span class="op" id="6876781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6876785">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876815">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6876820">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="6876853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876858">time</span><span class="op" id="6876862">.</span><span class="ident" id="6876863">Date</span><span class="op" id="6876867">(</span><span class="num" id="6876868">1997</span><span class="op" id="6876872">,</span>&nbsp;<span class="num" id="6876874">11</span><span class="op" id="6876876">,</span>&nbsp;<span class="num" id="6876878">21</span><span class="op" id="6876880">,</span>&nbsp;<span class="num" id="6876882">9</span><span class="op" id="6876883">,</span>&nbsp;<span class="num" id="6876885">55</span><span class="op" id="6876887">,</span>&nbsp;<span class="num" id="6876889">6</span><span class="op" id="6876890">,</span>&nbsp;<span class="num" id="6876892">0</span><span class="op" id="6876893">,</span>&nbsp;<span class="ident" id="6876895">time</span><span class="op" id="6876899">.</span><span class="ident" id="6876900">FixedZone</span><span class="op" id="6876909">(</span><span class="string" id="6876910">&#34;&#34;</span><span class="op" id="6876912">,</span>&nbsp;<span class="op" id="6876914">-</span><span class="num" id="6876915">6</span><span class="op" id="6876916">*</span><span class="num" id="6876917">60</span><span class="op" id="6876919">*</span><span class="num" id="6876920">60</span><span class="op" id="6876922">)</span><span class="op" id="6876923">)</span><span class="op" id="6876924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876928">}</span><span class="op" id="6876929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6876933">//&nbsp;RFC5322,&nbsp;Appendix&nbsp;A.6.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6876962">//&nbsp;Obsolete&nbsp;date.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6876987">&#34;21&nbsp;Nov&nbsp;97&nbsp;09:55:06&nbsp;GMT&#34;</span><span class="op" id="6877011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877016">time</span><span class="op" id="6877020">.</span><span class="ident" id="6877021">Date</span><span class="op" id="6877025">(</span><span class="num" id="6877026">1997</span><span class="op" id="6877030">,</span>&nbsp;<span class="num" id="6877032">11</span><span class="op" id="6877034">,</span>&nbsp;<span class="num" id="6877036">21</span><span class="op" id="6877038">,</span>&nbsp;<span class="num" id="6877040">9</span><span class="op" id="6877041">,</span>&nbsp;<span class="num" id="6877043">55</span><span class="op" id="6877045">,</span>&nbsp;<span class="num" id="6877047">6</span><span class="op" id="6877048">,</span>&nbsp;<span class="num" id="6877050">0</span><span class="op" id="6877051">,</span>&nbsp;<span class="ident" id="6877053">time</span><span class="op" id="6877057">.</span><span class="ident" id="6877058">FixedZone</span><span class="op" id="6877067">(</span><span class="string" id="6877068">&#34;GMT&#34;</span><span class="op" id="6877073">,</span>&nbsp;<span class="num" id="6877075">0</span><span class="op" id="6877076">)</span><span class="op" id="6877077">)</span><span class="op" id="6877078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877082">}</span><span class="op" id="6877083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6877087">//&nbsp;Commonly&nbsp;found&nbsp;format&nbsp;not&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;5322.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6877146">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&nbsp;(MDT)&#34;</span><span class="op" id="6877185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877190">time</span><span class="op" id="6877194">.</span><span class="ident" id="6877195">Date</span><span class="op" id="6877199">(</span><span class="num" id="6877200">1997</span><span class="op" id="6877204">,</span>&nbsp;<span class="num" id="6877206">11</span><span class="op" id="6877208">,</span>&nbsp;<span class="num" id="6877210">21</span><span class="op" id="6877212">,</span>&nbsp;<span class="num" id="6877214">9</span><span class="op" id="6877215">,</span>&nbsp;<span class="num" id="6877217">55</span><span class="op" id="6877219">,</span>&nbsp;<span class="num" id="6877221">6</span><span class="op" id="6877222">,</span>&nbsp;<span class="num" id="6877224">0</span><span class="op" id="6877225">,</span>&nbsp;<span class="ident" id="6877227">time</span><span class="op" id="6877231">.</span><span class="ident" id="6877232">FixedZone</span><span class="op" id="6877241">(</span><span class="string" id="6877242">&#34;&#34;</span><span class="op" id="6877244">,</span>&nbsp;<span class="op" id="6877246">-</span><span class="num" id="6877247">6</span><span class="op" id="6877248">*</span><span class="num" id="6877249">60</span><span class="op" id="6877251">*</span><span class="num" id="6877252">60</span><span class="op" id="6877254">)</span><span class="op" id="6877255">)</span><span class="op" id="6877256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877260">}</span><span class="op" id="6877261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877264">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877267">for</span>&nbsp;<span class="ident" id="6877271">_</span><span class="op" id="6877272">,</span>&nbsp;<span class="ident" id="6877274">test</span>&nbsp;<span class="op" id="6877279">:=</span>&nbsp;<span class="keyword" id="6877282">range</span>&nbsp;<span class="ident" id="6877288">tests</span>&nbsp;<span class="op" id="6877294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877298">hdr</span>&nbsp;<span class="op" id="6877302">:=</span>&nbsp;<span class="ident" id="6877305">Header</span><span class="op" id="6877311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6877316">&#34;Date&#34;</span><span class="op" id="6877322">:</span>&nbsp;<span class="op" id="6877324">[</span><span class="op" id="6877325">]</span><span class="builtintype" id="6877326">string</span><span class="op" id="6877332">{</span><span class="ident" id="6877333">test</span><span class="op" id="6877337">.</span><span class="ident" id="6877338">dateStr</span><span class="op" id="6877345">}</span><span class="op" id="6877346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877354">date</span><span class="op" id="6877358">,</span>&nbsp;<span class="ident" id="6877360">err</span>&nbsp;<span class="op" id="6877364">:=</span>&nbsp;<span class="ident" id="6877367">hdr</span><span class="op" id="6877370">.</span><span class="ident" id="6877371">Date</span><span class="op" id="6877375">(</span><span class="op" id="6877376">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877380">if</span>&nbsp;<span class="ident" id="6877383">err</span>&nbsp;<span class="op" id="6877387">!=</span>&nbsp;<span class="ident" id="6877390">nil</span>&nbsp;<span class="op" id="6877394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877399">t</span><span class="op" id="6877400">.</span><span class="ident" id="6877401">Errorf</span><span class="op" id="6877407">(</span><span class="string" id="6877408">&#34;Failed&nbsp;parsing&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6877431">,</span>&nbsp;<span class="ident" id="6877433">test</span><span class="op" id="6877437">.</span><span class="ident" id="6877438">dateStr</span><span class="op" id="6877445">,</span>&nbsp;<span class="ident" id="6877447">err</span><span class="op" id="6877450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877455">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877470">if</span>&nbsp;<span class="op" id="6877473">!</span><span class="ident" id="6877474">date</span><span class="op" id="6877478">.</span><span class="ident" id="6877479">Equal</span><span class="op" id="6877484">(</span><span class="ident" id="6877485">test</span><span class="op" id="6877489">.</span><span class="ident" id="6877490">exp</span><span class="op" id="6877493">)</span>&nbsp;<span class="op" id="6877495">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877500">t</span><span class="op" id="6877501">.</span><span class="ident" id="6877502">Errorf</span><span class="op" id="6877508">(</span><span class="string" id="6877509">&#34;Parse&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6877541">,</span>&nbsp;<span class="ident" id="6877543">test</span><span class="op" id="6877547">.</span><span class="ident" id="6877548">dateStr</span><span class="op" id="6877555">,</span>&nbsp;<span class="ident" id="6877557">date</span><span class="op" id="6877561">,</span>&nbsp;<span class="ident" id="6877563">test</span><span class="op" id="6877567">.</span><span class="ident" id="6877568">exp</span><span class="op" id="6877571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877578">}</span><br>
<span class="lineno"></span><span class="op" id="6877580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="6877583">func</span>&nbsp;<span class="ident" id="6877588">TestAddressParsingError</span><span class="op" id="6877611">(</span><span class="ident" id="6877612">t</span>&nbsp;<span class="op" id="6877614">*</span><span class="ident" id="6877615">testing</span><span class="op" id="6877622">.</span><span class="ident" id="6877623">T</span><span class="op" id="6877624">)</span>&nbsp;<span class="op" id="6877626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877629">const</span>&nbsp;<span class="ident" id="6877635">txt</span>&nbsp;<span class="op" id="6877639">=</span>&nbsp;<span class="string" id="6877641">&#34;=?iso-8859-2?Q?Bogl=E1rka_Tak=E1cs?=&nbsp;&lt;unknown@gmail.com&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877701">_</span><span class="op" id="6877702">,</span>&nbsp;<span class="ident" id="6877704">err</span>&nbsp;<span class="op" id="6877708">:=</span>&nbsp;<span class="ident" id="6877711">ParseAddress</span><span class="op" id="6877723">(</span><span class="ident" id="6877724">txt</span><span class="op" id="6877727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877730">if</span>&nbsp;<span class="ident" id="6877733">err</span>&nbsp;<span class="op" id="6877737">==</span>&nbsp;<span class="ident" id="6877740">nil</span>&nbsp;<span class="op" id="6877744">||</span>&nbsp;<span class="op" id="6877747">!</span><span class="ident" id="6877748">strings</span><span class="op" id="6877755">.</span><span class="ident" id="6877756">Contains</span><span class="op" id="6877764">(</span><span class="ident" id="6877765">err</span><span class="op" id="6877768">.</span><span class="ident" id="6877769">Error</span><span class="op" id="6877774">(</span><span class="op" id="6877775">)</span><span class="op" id="6877776">,</span>&nbsp;<span class="string" id="6877778">&#34;charset&nbsp;not&nbsp;supported&#34;</span><span class="op" id="6877801">)</span>&nbsp;<span class="op" id="6877803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877807">t</span><span class="op" id="6877808">.</span><span class="ident" id="6877809">Errorf</span><span class="op" id="6877815">(</span><span class="string" id="6877816">`mail.ParseAddress(%q)&nbsp;err:&nbsp;%q,&nbsp;want&nbsp;&#34;.*charset&nbsp;not&nbsp;supported.*&#34;`</span><span class="op" id="6877881">,</span>&nbsp;<span class="ident" id="6877883">txt</span><span class="op" id="6877886">,</span>&nbsp;<span class="ident" id="6877888">err</span><span class="op" id="6877891">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877894">}</span><br>
<span class="lineno"></span><span class="op" id="6877896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6877899">func</span>&nbsp;<span class="ident" id="6877904">TestAddressParsing</span><span class="op" id="6877922">(</span><span class="ident" id="6877923">t</span>&nbsp;<span class="op" id="6877925">*</span><span class="ident" id="6877926">testing</span><span class="op" id="6877933">.</span><span class="ident" id="6877934">T</span><span class="op" id="6877935">)</span>&nbsp;<span class="op" id="6877937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877940">tests</span>&nbsp;<span class="op" id="6877946">:=</span>&nbsp;<span class="op" id="6877949">[</span><span class="op" id="6877950">]</span><span class="keyword" id="6877951">struct</span>&nbsp;<span class="op" id="6877958">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877962">addrsStr</span>&nbsp;<span class="builtintype" id="6877971">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877980">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6877989">[</span><span class="op" id="6877990">]</span><span class="op" id="6877991">*</span><span class="ident" id="6877992">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878001">}</span><span class="op" id="6878002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6878006">//&nbsp;Bare&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878024">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6878029">`jdoe@machine.example`</span><span class="op" id="6878051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878056">[</span><span class="op" id="6878057">]</span><span class="op" id="6878058">*</span><span class="ident" id="6878059">Address</span><span class="op" id="6878066">{</span><span class="op" id="6878067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878073">Address</span><span class="op" id="6878080">:</span>&nbsp;<span class="string" id="6878082">&#34;jdoe@machine.example&#34;</span><span class="op" id="6878104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878109">}</span><span class="op" id="6878110">}</span><span class="op" id="6878111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878115">}</span><span class="op" id="6878116">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6878120">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6878155">`John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;`</span><span class="op" id="6878188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878193">[</span><span class="op" id="6878194">]</span><span class="op" id="6878195">*</span><span class="ident" id="6878196">Address</span><span class="op" id="6878203">{</span><span class="op" id="6878204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878210">Name</span><span class="op" id="6878214">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6878219">&#34;John&nbsp;Doe&#34;</span><span class="op" id="6878229">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878235">Address</span><span class="op" id="6878242">:</span>&nbsp;<span class="string" id="6878244">&#34;jdoe@machine.example&#34;</span><span class="op" id="6878266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878271">}</span><span class="op" id="6878272">}</span><span class="op" id="6878273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878277">}</span><span class="op" id="6878278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6878282">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878312">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6878317">`&#34;Joe&nbsp;Q.&nbsp;Public&#34;&nbsp;&lt;john.q.public@example.com&gt;`</span><span class="op" id="6878362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878367">[</span><span class="op" id="6878368">]</span><span class="op" id="6878369">*</span><span class="ident" id="6878370">Address</span><span class="op" id="6878377">{</span><span class="op" id="6878378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878384">Name</span><span class="op" id="6878388">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6878393">&#34;Joe&nbsp;Q.&nbsp;Public&#34;</span><span class="op" id="6878408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878414">Address</span><span class="op" id="6878421">:</span>&nbsp;<span class="string" id="6878423">&#34;john.q.public@example.com&#34;</span><span class="op" id="6878450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878455">}</span><span class="op" id="6878456">}</span><span class="op" id="6878457">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878461">}</span><span class="op" id="6878462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6878471">`Mary&nbsp;Smith&nbsp;&lt;mary@x.test&gt;,&nbsp;jdoe@example.org,&nbsp;Who?&nbsp;&lt;one@y.test&gt;`</span><span class="op" id="6878534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878539">[</span><span class="op" id="6878540">]</span><span class="op" id="6878541">*</span><span class="ident" id="6878542">Address</span><span class="op" id="6878549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878555">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878562">Name</span><span class="op" id="6878566">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6878571">&#34;Mary&nbsp;Smith&#34;</span><span class="op" id="6878583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878590">Address</span><span class="op" id="6878597">:</span>&nbsp;<span class="string" id="6878599">&#34;mary@x.test&#34;</span><span class="op" id="6878612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878618">}</span><span class="op" id="6878619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878632">Address</span><span class="op" id="6878639">:</span>&nbsp;<span class="string" id="6878641">&#34;jdoe@example.org&#34;</span><span class="op" id="6878659">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878665">}</span><span class="op" id="6878666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878679">Name</span><span class="op" id="6878683">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6878688">&#34;Who?&#34;</span><span class="op" id="6878694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878701">Address</span><span class="op" id="6878708">:</span>&nbsp;<span class="string" id="6878710">&#34;one@y.test&#34;</span><span class="op" id="6878722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878728">}</span><span class="op" id="6878729">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878734">}</span><span class="op" id="6878735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878739">}</span><span class="op" id="6878740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6878749">`&lt;boss@nil.test&gt;,&nbsp;&#34;Giant;&nbsp;\&#34;Big\&#34;&nbsp;Box&#34;&nbsp;&lt;sysservices@example.net&gt;`</span><span class="op" id="6878814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878819">[</span><span class="op" id="6878820">]</span><span class="op" id="6878821">*</span><span class="ident" id="6878822">Address</span><span class="op" id="6878829">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878842">Address</span><span class="op" id="6878849">:</span>&nbsp;<span class="string" id="6878851">&#34;boss@nil.test&#34;</span><span class="op" id="6878866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878872">}</span><span class="op" id="6878873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878886">Name</span><span class="op" id="6878890">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6878895">`Giant;&nbsp;&#34;Big&#34;&nbsp;Box`</span><span class="op" id="6878913">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878920">Address</span><span class="op" id="6878927">:</span>&nbsp;<span class="string" id="6878929">&#34;sysservices@example.net&#34;</span><span class="op" id="6878954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878960">}</span><span class="op" id="6878961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878966">}</span><span class="op" id="6878967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878971">}</span><span class="op" id="6878972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6878976">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.3</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6879006">//&nbsp;TODO(dsymonds):&nbsp;Group&nbsp;addresses.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6879045">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6879096">`=?iso-8859-1?q?J=F6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6879145">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879150">[</span><span class="op" id="6879151">]</span><span class="op" id="6879152">*</span><span class="ident" id="6879153">Address</span><span class="op" id="6879160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879173">Name</span><span class="op" id="6879177">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6879182">`Jrg&nbsp;Doe`</span><span class="op" id="6879193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879200">Address</span><span class="op" id="6879207">:</span>&nbsp;<span class="string" id="6879209">&#34;joerg@example.com&#34;</span><span class="op" id="6879228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879234">}</span><span class="op" id="6879235">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879240">}</span><span class="op" id="6879241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879245">}</span><span class="op" id="6879246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6879250">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;US-ASCII&nbsp;address.&nbsp;Dumb&nbsp;but&nbsp;legal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6879315">`=?us-ascii?q?J=6Frg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6879362">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879367">[</span><span class="op" id="6879368">]</span><span class="op" id="6879369">*</span><span class="ident" id="6879370">Address</span><span class="op" id="6879377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879390">Name</span><span class="op" id="6879394">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6879399">`Jorg&nbsp;Doe`</span><span class="op" id="6879409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879416">Address</span><span class="op" id="6879423">:</span>&nbsp;<span class="string" id="6879425">&#34;joerg@example.com&#34;</span><span class="op" id="6879444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879450">}</span><span class="op" id="6879451">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879456">}</span><span class="op" id="6879457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879461">}</span><span class="op" id="6879462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6879466">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6879512">`=?utf-8?q?J=C3=B6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6879559">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879564">[</span><span class="op" id="6879565">]</span><span class="op" id="6879566">*</span><span class="ident" id="6879567">Address</span><span class="op" id="6879574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879587">Name</span><span class="op" id="6879591">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6879596">`Jrg&nbsp;Doe`</span><span class="op" id="6879607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879614">Address</span><span class="op" id="6879621">:</span>&nbsp;<span class="string" id="6879623">&#34;joerg@example.com&#34;</span><span class="op" id="6879642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879648">}</span><span class="op" id="6879649">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879654">}</span><span class="op" id="6879655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879659">}</span><span class="op" id="6879660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6879664">//&nbsp;RFC&nbsp;2047,&nbsp;Section&nbsp;8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6879695">`=?ISO-8859-1?Q?Andr=E9?=&nbsp;Pirard&nbsp;&lt;PIRARD@vm1.ulg.ac.be&gt;`</span><span class="op" id="6879751">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879756">[</span><span class="op" id="6879757">]</span><span class="op" id="6879758">*</span><span class="ident" id="6879759">Address</span><span class="op" id="6879766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879779">Name</span><span class="op" id="6879783">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6879788">`Andr&nbsp;Pirard`</span><span class="op" id="6879803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879810">Address</span><span class="op" id="6879817">:</span>&nbsp;<span class="string" id="6879819">&#34;PIRARD@vm1.ulg.ac.be&#34;</span><span class="op" id="6879841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879847">}</span><span class="op" id="6879848">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879853">}</span><span class="op" id="6879854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879858">}</span><span class="op" id="6879859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6879863">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6879932">`=?ISO-8859-1?B?SvZyZw==?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6879979">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879984">[</span><span class="op" id="6879985">]</span><span class="op" id="6879986">*</span><span class="ident" id="6879987">Address</span><span class="op" id="6879994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880007">Name</span><span class="op" id="6880011">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6880016">`Jrg`</span><span class="op" id="6880023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880030">Address</span><span class="op" id="6880037">:</span>&nbsp;<span class="string" id="6880039">&#34;joerg@example.com&#34;</span><span class="op" id="6880058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880064">}</span><span class="op" id="6880065">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880070">}</span><span class="op" id="6880071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880075">}</span><span class="op" id="6880076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6880080">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6880144">`=?UTF-8?B?SsO2cmc=?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6880186">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880191">[</span><span class="op" id="6880192">]</span><span class="op" id="6880193">*</span><span class="ident" id="6880194">Address</span><span class="op" id="6880201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880214">Name</span><span class="op" id="6880218">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6880223">`Jrg`</span><span class="op" id="6880230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880237">Address</span><span class="op" id="6880244">:</span>&nbsp;<span class="string" id="6880246">&#34;joerg@example.com&#34;</span><span class="op" id="6880265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880271">}</span><span class="op" id="6880272">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880277">}</span><span class="op" id="6880278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880282">}</span><span class="op" id="6880283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6880287">//&nbsp;Custom&nbsp;example&nbsp;with&nbsp;&#34;.&#34;&nbsp;in&nbsp;name.&nbsp;For&nbsp;issue&nbsp;4938</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6880345">`Asem&nbsp;H.&nbsp;&lt;noreply@example.com&gt;`</span><span class="op" id="6880376">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880381">[</span><span class="op" id="6880382">]</span><span class="op" id="6880383">*</span><span class="ident" id="6880384">Address</span><span class="op" id="6880391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880404">Name</span><span class="op" id="6880408">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6880413">`Asem&nbsp;H.`</span><span class="op" id="6880422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880429">Address</span><span class="op" id="6880436">:</span>&nbsp;<span class="string" id="6880438">&#34;noreply@example.com&#34;</span><span class="op" id="6880459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880465">}</span><span class="op" id="6880466">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880471">}</span><span class="op" id="6880472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880476">}</span><span class="op" id="6880477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880483">for</span>&nbsp;<span class="ident" id="6880487">_</span><span class="op" id="6880488">,</span>&nbsp;<span class="ident" id="6880490">test</span>&nbsp;<span class="op" id="6880495">:=</span>&nbsp;<span class="keyword" id="6880498">range</span>&nbsp;<span class="ident" id="6880504">tests</span>&nbsp;<span class="op" id="6880510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880514">if</span>&nbsp;<span class="builtinfunc" id="6880517">len</span><span class="op" id="6880520">(</span><span class="ident" id="6880521">test</span><span class="op" id="6880525">.</span><span class="ident" id="6880526">exp</span><span class="op" id="6880529">)</span>&nbsp;<span class="op" id="6880531">==</span>&nbsp;<span class="num" id="6880534">1</span>&nbsp;<span class="op" id="6880536">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880541">addr</span><span class="op" id="6880545">,</span>&nbsp;<span class="ident" id="6880547">err</span>&nbsp;<span class="op" id="6880551">:=</span>&nbsp;<span class="ident" id="6880554">ParseAddress</span><span class="op" id="6880566">(</span><span class="ident" id="6880567">test</span><span class="op" id="6880571">.</span><span class="ident" id="6880572">addrsStr</span><span class="op" id="6880580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880585">if</span>&nbsp;<span class="ident" id="6880588">err</span>&nbsp;<span class="op" id="6880592">!=</span>&nbsp;<span class="ident" id="6880595">nil</span>&nbsp;<span class="op" id="6880599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880605">t</span><span class="op" id="6880606">.</span><span class="ident" id="6880607">Errorf</span><span class="op" id="6880613">(</span><span class="string" id="6880614">&#34;Failed&nbsp;parsing&nbsp;(single)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6880646">,</span>&nbsp;<span class="ident" id="6880648">test</span><span class="op" id="6880652">.</span><span class="ident" id="6880653">addrsStr</span><span class="op" id="6880661">,</span>&nbsp;<span class="ident" id="6880663">err</span><span class="op" id="6880666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880672">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880684">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880689">if</span>&nbsp;<span class="op" id="6880692">!</span><span class="ident" id="6880693">reflect</span><span class="op" id="6880700">.</span><span class="ident" id="6880701">DeepEqual</span><span class="op" id="6880710">(</span><span class="op" id="6880711">[</span><span class="op" id="6880712">]</span><span class="op" id="6880713">*</span><span class="ident" id="6880714">Address</span><span class="op" id="6880721">{</span><span class="ident" id="6880722">addr</span><span class="op" id="6880726">}</span><span class="op" id="6880727">,</span>&nbsp;<span class="ident" id="6880729">test</span><span class="op" id="6880733">.</span><span class="ident" id="6880734">exp</span><span class="op" id="6880737">)</span>&nbsp;<span class="op" id="6880739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880745">t</span><span class="op" id="6880746">.</span><span class="ident" id="6880747">Errorf</span><span class="op" id="6880753">(</span><span class="string" id="6880754">&#34;Parse&nbsp;(single)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6880795">,</span>&nbsp;<span class="ident" id="6880797">test</span><span class="op" id="6880801">.</span><span class="ident" id="6880802">addrsStr</span><span class="op" id="6880810">,</span>&nbsp;<span class="ident" id="6880812">addr</span><span class="op" id="6880816">,</span>&nbsp;<span class="ident" id="6880818">test</span><span class="op" id="6880822">.</span><span class="ident" id="6880823">exp</span><span class="op" id="6880826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880840">addrs</span><span class="op" id="6880845">,</span>&nbsp;<span class="ident" id="6880847">err</span>&nbsp;<span class="op" id="6880851">:=</span>&nbsp;<span class="ident" id="6880854">ParseAddressList</span><span class="op" id="6880870">(</span><span class="ident" id="6880871">test</span><span class="op" id="6880875">.</span><span class="ident" id="6880876">addrsStr</span><span class="op" id="6880884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880888">if</span>&nbsp;<span class="ident" id="6880891">err</span>&nbsp;<span class="op" id="6880895">!=</span>&nbsp;<span class="ident" id="6880898">nil</span>&nbsp;<span class="op" id="6880902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880907">t</span><span class="op" id="6880908">.</span><span class="ident" id="6880909">Errorf</span><span class="op" id="6880915">(</span><span class="string" id="6880916">&#34;Failed&nbsp;parsing&nbsp;(list)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6880946">,</span>&nbsp;<span class="ident" id="6880948">test</span><span class="op" id="6880952">.</span><span class="ident" id="6880953">addrsStr</span><span class="op" id="6880961">,</span>&nbsp;<span class="ident" id="6880963">err</span><span class="op" id="6880966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880971">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880982">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880986">if</span>&nbsp;<span class="op" id="6880989">!</span><span class="ident" id="6880990">reflect</span><span class="op" id="6880997">.</span><span class="ident" id="6880998">DeepEqual</span><span class="op" id="6881007">(</span><span class="ident" id="6881008">addrs</span><span class="op" id="6881013">,</span>&nbsp;<span class="ident" id="6881015">test</span><span class="op" id="6881019">.</span><span class="ident" id="6881020">exp</span><span class="op" id="6881023">)</span>&nbsp;<span class="op" id="6881025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881030">t</span><span class="op" id="6881031">.</span><span class="ident" id="6881032">Errorf</span><span class="op" id="6881038">(</span><span class="string" id="6881039">&#34;Parse&nbsp;(list)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6881078">,</span>&nbsp;<span class="ident" id="6881080">test</span><span class="op" id="6881084">.</span><span class="ident" id="6881085">addrsStr</span><span class="op" id="6881093">,</span>&nbsp;<span class="ident" id="6881095">addrs</span><span class="op" id="6881100">,</span>&nbsp;<span class="ident" id="6881102">test</span><span class="op" id="6881106">.</span><span class="ident" id="6881107">exp</span><span class="op" id="6881110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881117">}</span><br>
<span class="lineno"></span><span class="op" id="6881119">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6881122">func</span>&nbsp;<span class="ident" id="6881127">TestAddressFormatting</span><span class="op" id="6881148">(</span><span class="ident" id="6881149">t</span>&nbsp;<span class="op" id="6881151">*</span><span class="ident" id="6881152">testing</span><span class="op" id="6881159">.</span><span class="ident" id="6881160">T</span><span class="op" id="6881161">)</span>&nbsp;<span class="op" id="6881163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881166">tests</span>&nbsp;<span class="op" id="6881172">:=</span>&nbsp;<span class="op" id="6881175">[</span><span class="op" id="6881176">]</span><span class="keyword" id="6881177">struct</span>&nbsp;<span class="op" id="6881184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881188">addr</span>&nbsp;<span class="op" id="6881193">*</span><span class="ident" id="6881194">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881204">exp</span>&nbsp;&nbsp;<span class="builtintype" id="6881209">string</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881217">}</span><span class="op" id="6881218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881227">&amp;</span><span class="ident" id="6881228">Address</span><span class="op" id="6881235">{</span><span class="ident" id="6881236">Address</span><span class="op" id="6881243">:</span>&nbsp;<span class="string" id="6881245">&#34;bob@example.com&#34;</span><span class="op" id="6881262">}</span><span class="op" id="6881263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881268">&#34;&lt;bob@example.com&gt;&#34;</span><span class="op" id="6881287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881291">}</span><span class="op" id="6881292">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881301">&amp;</span><span class="ident" id="6881302">Address</span><span class="op" id="6881309">{</span><span class="ident" id="6881310">Name</span><span class="op" id="6881314">:</span>&nbsp;<span class="string" id="6881316">&#34;Bob&#34;</span><span class="op" id="6881321">,</span>&nbsp;<span class="ident" id="6881323">Address</span><span class="op" id="6881330">:</span>&nbsp;<span class="string" id="6881332">&#34;bob@example.com&#34;</span><span class="op" id="6881349">}</span><span class="op" id="6881350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881355">`&#34;Bob&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6881380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881384">}</span><span class="op" id="6881385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881389">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6881394">//&nbsp;note&nbsp;the&nbsp;&nbsp;(o&nbsp;with&nbsp;an&nbsp;umlaut)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881431">&amp;</span><span class="ident" id="6881432">Address</span><span class="op" id="6881439">{</span><span class="ident" id="6881440">Name</span><span class="op" id="6881444">:</span>&nbsp;<span class="string" id="6881446">&#34;Bb&#34;</span><span class="op" id="6881452">,</span>&nbsp;<span class="ident" id="6881454">Address</span><span class="op" id="6881461">:</span>&nbsp;<span class="string" id="6881463">&#34;bob@example.com&#34;</span><span class="op" id="6881480">}</span><span class="op" id="6881481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881486">`=?utf-8?q?B=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6881526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881530">}</span><span class="op" id="6881531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881535">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881540">&amp;</span><span class="ident" id="6881541">Address</span><span class="op" id="6881548">{</span><span class="ident" id="6881549">Name</span><span class="op" id="6881553">:</span>&nbsp;<span class="string" id="6881555">&#34;Bob&nbsp;Jane&#34;</span><span class="op" id="6881565">,</span>&nbsp;<span class="ident" id="6881567">Address</span><span class="op" id="6881574">:</span>&nbsp;<span class="string" id="6881576">&#34;bob@example.com&#34;</span><span class="op" id="6881593">}</span><span class="op" id="6881594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881599">`&#34;Bob&nbsp;Jane&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6881629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881633">}</span><span class="op" id="6881634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881643">&amp;</span><span class="ident" id="6881644">Address</span><span class="op" id="6881651">{</span><span class="ident" id="6881652">Name</span><span class="op" id="6881656">:</span>&nbsp;<span class="string" id="6881658">&#34;Bb&nbsp;Jacb&#34;</span><span class="op" id="6881671">,</span>&nbsp;<span class="ident" id="6881673">Address</span><span class="op" id="6881680">:</span>&nbsp;<span class="string" id="6881682">&#34;bob@example.com&#34;</span><span class="op" id="6881699">}</span><span class="op" id="6881700">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881705">`=?utf-8?q?B=C3=B6b_Jac=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6881756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881760">}</span><span class="op" id="6881761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881767">for</span>&nbsp;<span class="ident" id="6881771">_</span><span class="op" id="6881772">,</span>&nbsp;<span class="ident" id="6881774">test</span>&nbsp;<span class="op" id="6881779">:=</span>&nbsp;<span class="keyword" id="6881782">range</span>&nbsp;<span class="ident" id="6881788">tests</span>&nbsp;<span class="op" id="6881794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881798">s</span>&nbsp;<span class="op" id="6881800">:=</span>&nbsp;<span class="ident" id="6881803">test</span><span class="op" id="6881807">.</span><span class="ident" id="6881808">addr</span><span class="op" id="6881812">.</span><span class="ident" id="6881813">String</span><span class="op" id="6881819">(</span><span class="op" id="6881820">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881824">if</span>&nbsp;<span class="ident" id="6881827">s</span>&nbsp;<span class="op" id="6881829">!=</span>&nbsp;<span class="ident" id="6881832">test</span><span class="op" id="6881836">.</span><span class="ident" id="6881837">exp</span>&nbsp;<span class="op" id="6881841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881846">t</span><span class="op" id="6881847">.</span><span class="ident" id="6881848">Errorf</span><span class="op" id="6881854">(</span><span class="string" id="6881855">&#34;Address%+v.String()&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6881890">,</span>&nbsp;<span class="op" id="6881892">*</span><span class="ident" id="6881893">test</span><span class="op" id="6881897">.</span><span class="ident" id="6881898">addr</span><span class="op" id="6881902">,</span>&nbsp;<span class="ident" id="6881904">s</span><span class="op" id="6881905">,</span>&nbsp;<span class="ident" id="6881907">test</span><span class="op" id="6881911">.</span><span class="ident" id="6881912">exp</span><span class="op" id="6881915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881922">}</span><br>
<span class="lineno"></span><span class="op" id="6881924">}</span>
</div>
</body>
</html>
