<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2138790">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2138845">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2138899">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2138950">package</span>&nbsp;<span class="ident" id="2138958">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2138962">import</span>&nbsp;<span class="string" id="2138969">&#34;time&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2138977">//&nbsp;FindProcess&nbsp;looks&nbsp;for&nbsp;a&nbsp;running&nbsp;process&nbsp;by&nbsp;its&nbsp;pid.</span><br>
<span class="lineno">10</span><span class="comment" id="2139032">//&nbsp;The&nbsp;Process&nbsp;it&nbsp;returns&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;obtain&nbsp;information</span><br>
<span class="lineno"></span><span class="comment" id="2139092">//&nbsp;about&nbsp;the&nbsp;underlying&nbsp;operating&nbsp;system&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2139142">func</span>&nbsp;<span class="ident" id="2139147">FindProcess</span><span class="op" id="2139158">(</span><span class="ident" id="2139159">pid</span>&nbsp;<span class="builtintype" id="2139163">int</span><span class="op" id="2139166">)</span>&nbsp;<span class="op" id="2139168">(</span><span class="ident" id="2139169">p</span>&nbsp;<span class="op" id="2139171">*</span><span class="ident" id="2139172">Process</span><span class="op" id="2139179">,</span>&nbsp;<span class="ident" id="2139181">err</span>&nbsp;<span class="builtintype" id="2139185">error</span><span class="op" id="2139190">)</span>&nbsp;<span class="op" id="2139192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2139195">return</span>&nbsp;<span class="ident" id="2139202">findProcess</span><span class="op" id="2139213">(</span><span class="ident" id="2139214">pid</span><span class="op" id="2139217">)</span><br>
<span class="lineno"></span><span class="op" id="2139219">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2139222">//&nbsp;StartProcess&nbsp;starts&nbsp;a&nbsp;new&nbsp;process&nbsp;with&nbsp;the&nbsp;program,&nbsp;arguments&nbsp;and&nbsp;attributes</span><br>
<span class="lineno"></span><span class="comment" id="2139302">//&nbsp;specified&nbsp;by&nbsp;name,&nbsp;argv&nbsp;and&nbsp;attr.</span><br>
<span class="lineno"></span><span class="comment" id="2139339">//</span><br>
<span class="lineno"></span><span class="comment" id="2139342">//&nbsp;StartProcess&nbsp;is&nbsp;a&nbsp;low-level&nbsp;interface.&nbsp;The&nbsp;os/exec&nbsp;package&nbsp;provides</span><br>
<span class="lineno">20</span><span class="comment" id="2139413">//&nbsp;higher-level&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="comment" id="2139441">//</span><br>
<span class="lineno"></span><span class="comment" id="2139444">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2139500">func</span>&nbsp;<span class="ident" id="2139505">StartProcess</span><span class="op" id="2139517">(</span><span class="ident" id="2139518">name</span>&nbsp;<span class="builtintype" id="2139523">string</span><span class="op" id="2139529">,</span>&nbsp;<span class="ident" id="2139531">argv</span>&nbsp;<span class="op" id="2139536">[</span><span class="op" id="2139537">]</span><span class="builtintype" id="2139538">string</span><span class="op" id="2139544">,</span>&nbsp;<span class="ident" id="2139546">attr</span>&nbsp;<span class="op" id="2139551">*</span><span class="ident" id="2139552">ProcAttr</span><span class="op" id="2139560">)</span>&nbsp;<span class="op" id="2139562">(</span><span class="op" id="2139563">*</span><span class="ident" id="2139564">Process</span><span class="op" id="2139571">,</span>&nbsp;<span class="builtintype" id="2139573">error</span><span class="op" id="2139578">)</span>&nbsp;<span class="op" id="2139580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2139583">return</span>&nbsp;<span class="ident" id="2139590">startProcess</span><span class="op" id="2139602">(</span><span class="ident" id="2139603">name</span><span class="op" id="2139607">,</span>&nbsp;<span class="ident" id="2139609">argv</span><span class="op" id="2139613">,</span>&nbsp;<span class="ident" id="2139615">attr</span><span class="op" id="2139619">)</span><br>
<span class="lineno">25</span><span class="op" id="2139621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2139624">//&nbsp;Release&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Process&nbsp;p,</span><br>
<span class="lineno"></span><span class="comment" id="2139689">//&nbsp;rendering&nbsp;it&nbsp;unusable&nbsp;in&nbsp;the&nbsp;future.</span><br>
<span class="lineno"></span><span class="comment" id="2139729">//&nbsp;Release&nbsp;only&nbsp;needs&nbsp;to&nbsp;be&nbsp;called&nbsp;if&nbsp;Wait&nbsp;is&nbsp;not.</span><br>
<span class="lineno">30</span><span class="keyword" id="2139780">func</span>&nbsp;<span class="op" id="2139785">(</span><span class="ident" id="2139786">p</span>&nbsp;<span class="op" id="2139788">*</span><span class="ident" id="2139789">Process</span><span class="op" id="2139796">)</span>&nbsp;<span class="ident" id="2139798">Release</span><span class="op" id="2139805">(</span><span class="op" id="2139806">)</span>&nbsp;<span class="builtintype" id="2139808">error</span>&nbsp;<span class="op" id="2139814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2139817">return</span>&nbsp;<span class="ident" id="2139824">p</span><span class="op" id="2139825">.</span><span class="ident" id="2139826">release</span><span class="op" id="2139833">(</span><span class="op" id="2139834">)</span><br>
<span class="lineno"></span><span class="op" id="2139836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2139839">//&nbsp;Kill&nbsp;causes&nbsp;the&nbsp;Process&nbsp;to&nbsp;exit&nbsp;immediately.</span><br>
<span class="lineno">35</span><span class="keyword" id="2139887">func</span>&nbsp;<span class="op" id="2139892">(</span><span class="ident" id="2139893">p</span>&nbsp;<span class="op" id="2139895">*</span><span class="ident" id="2139896">Process</span><span class="op" id="2139903">)</span>&nbsp;<span class="ident" id="2139905">Kill</span><span class="op" id="2139909">(</span><span class="op" id="2139910">)</span>&nbsp;<span class="builtintype" id="2139912">error</span>&nbsp;<span class="op" id="2139918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2139921">return</span>&nbsp;<span class="ident" id="2139928">p</span><span class="op" id="2139929">.</span><span class="ident" id="2139930">kill</span><span class="op" id="2139934">(</span><span class="op" id="2139935">)</span><br>
<span class="lineno"></span><span class="op" id="2139937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2139940">//&nbsp;Wait&nbsp;waits&nbsp;for&nbsp;the&nbsp;Process&nbsp;to&nbsp;exit,&nbsp;and&nbsp;then&nbsp;returns&nbsp;a</span><br>
<span class="lineno">40</span><span class="comment" id="2139998">//&nbsp;ProcessState&nbsp;describing&nbsp;its&nbsp;status&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2140058">//&nbsp;Wait&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Process.</span><br>
<span class="lineno"></span><span class="comment" id="2140118">//&nbsp;On&nbsp;most&nbsp;operating&nbsp;systems,&nbsp;the&nbsp;Process&nbsp;must&nbsp;be&nbsp;a&nbsp;child</span><br>
<span class="lineno"></span><span class="comment" id="2140176">//&nbsp;of&nbsp;the&nbsp;current&nbsp;process&nbsp;or&nbsp;an&nbsp;error&nbsp;will&nbsp;be&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="2140232">func</span>&nbsp;<span class="op" id="2140237">(</span><span class="ident" id="2140238">p</span>&nbsp;<span class="op" id="2140240">*</span><span class="ident" id="2140241">Process</span><span class="op" id="2140248">)</span>&nbsp;<span class="ident" id="2140250">Wait</span><span class="op" id="2140254">(</span><span class="op" id="2140255">)</span>&nbsp;<span class="op" id="2140257">(</span><span class="op" id="2140258">*</span><span class="ident" id="2140259">ProcessState</span><span class="op" id="2140271">,</span>&nbsp;<span class="builtintype" id="2140273">error</span><span class="op" id="2140278">)</span>&nbsp;<span class="op" id="2140280">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2140283">return</span>&nbsp;<span class="ident" id="2140290">p</span><span class="op" id="2140291">.</span><span class="ident" id="2140292">wait</span><span class="op" id="2140296">(</span><span class="op" id="2140297">)</span><br>
<span class="lineno"></span><span class="op" id="2140299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2140302">//&nbsp;Signal&nbsp;sends&nbsp;a&nbsp;signal&nbsp;to&nbsp;the&nbsp;Process.</span><br>
<span class="lineno"></span><span class="comment" id="2140343">//&nbsp;Sending&nbsp;Interrupt&nbsp;on&nbsp;Windows&nbsp;is&nbsp;not&nbsp;implemented.</span><br>
<span class="lineno">50</span><span class="keyword" id="2140395">func</span>&nbsp;<span class="op" id="2140400">(</span><span class="ident" id="2140401">p</span>&nbsp;<span class="op" id="2140403">*</span><span class="ident" id="2140404">Process</span><span class="op" id="2140411">)</span>&nbsp;<span class="ident" id="2140413">Signal</span><span class="op" id="2140419">(</span><span class="ident" id="2140420">sig</span>&nbsp;<span class="ident" id="2140424">Signal</span><span class="op" id="2140430">)</span>&nbsp;<span class="builtintype" id="2140432">error</span>&nbsp;<span class="op" id="2140438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2140441">return</span>&nbsp;<span class="ident" id="2140448">p</span><span class="op" id="2140449">.</span><span class="ident" id="2140450">signal</span><span class="op" id="2140456">(</span><span class="ident" id="2140457">sig</span><span class="op" id="2140460">)</span><br>
<span class="lineno"></span><span class="op" id="2140462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2140465">//&nbsp;UserTime&nbsp;returns&nbsp;the&nbsp;user&nbsp;CPU&nbsp;time&nbsp;of&nbsp;the&nbsp;exited&nbsp;process&nbsp;and&nbsp;its&nbsp;children.</span><br>
<span class="lineno">55</span><span class="keyword" id="2140543">func</span>&nbsp;<span class="op" id="2140548">(</span><span class="ident" id="2140549">p</span>&nbsp;<span class="op" id="2140551">*</span><span class="ident" id="2140552">ProcessState</span><span class="op" id="2140564">)</span>&nbsp;<span class="ident" id="2140566">UserTime</span><span class="op" id="2140574">(</span><span class="op" id="2140575">)</span>&nbsp;<span class="ident" id="2140577">time</span><span class="op" id="2140581">.</span><span class="ident" id="2140582">Duration</span>&nbsp;<span class="op" id="2140591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2140594">return</span>&nbsp;<span class="ident" id="2140601">p</span><span class="op" id="2140602">.</span><span class="ident" id="2140603">userTime</span><span class="op" id="2140611">(</span><span class="op" id="2140612">)</span><br>
<span class="lineno"></span><span class="op" id="2140614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2140617">//&nbsp;SystemTime&nbsp;returns&nbsp;the&nbsp;system&nbsp;CPU&nbsp;time&nbsp;of&nbsp;the&nbsp;exited&nbsp;process&nbsp;and&nbsp;its&nbsp;children.</span><br>
<span class="lineno">60</span><span class="keyword" id="2140699">func</span>&nbsp;<span class="op" id="2140704">(</span><span class="ident" id="2140705">p</span>&nbsp;<span class="op" id="2140707">*</span><span class="ident" id="2140708">ProcessState</span><span class="op" id="2140720">)</span>&nbsp;<span class="ident" id="2140722">SystemTime</span><span class="op" id="2140732">(</span><span class="op" id="2140733">)</span>&nbsp;<span class="ident" id="2140735">time</span><span class="op" id="2140739">.</span><span class="ident" id="2140740">Duration</span>&nbsp;<span class="op" id="2140749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2140752">return</span>&nbsp;<span class="ident" id="2140759">p</span><span class="op" id="2140760">.</span><span class="ident" id="2140761">systemTime</span><span class="op" id="2140771">(</span><span class="op" id="2140772">)</span><br>
<span class="lineno"></span><span class="op" id="2140774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2140777">//&nbsp;Exited&nbsp;reports&nbsp;whether&nbsp;the&nbsp;program&nbsp;has&nbsp;exited.</span><br>
<span class="lineno">65</span><span class="keyword" id="2140827">func</span>&nbsp;<span class="op" id="2140832">(</span><span class="ident" id="2140833">p</span>&nbsp;<span class="op" id="2140835">*</span><span class="ident" id="2140836">ProcessState</span><span class="op" id="2140848">)</span>&nbsp;<span class="ident" id="2140850">Exited</span><span class="op" id="2140856">(</span><span class="op" id="2140857">)</span>&nbsp;<span class="builtintype" id="2140859">bool</span>&nbsp;<span class="op" id="2140864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2140867">return</span>&nbsp;<span class="ident" id="2140874">p</span><span class="op" id="2140875">.</span><span class="ident" id="2140876">exited</span><span class="op" id="2140882">(</span><span class="op" id="2140883">)</span><br>
<span class="lineno"></span><span class="op" id="2140885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2140888">//&nbsp;Success&nbsp;reports&nbsp;whether&nbsp;the&nbsp;program&nbsp;exited&nbsp;successfully,</span><br>
<span class="lineno">70</span><span class="comment" id="2140948">//&nbsp;such&nbsp;as&nbsp;with&nbsp;exit&nbsp;status&nbsp;0&nbsp;on&nbsp;Unix.</span><br>
<span class="lineno"></span><span class="keyword" id="2140987">func</span>&nbsp;<span class="op" id="2140992">(</span><span class="ident" id="2140993">p</span>&nbsp;<span class="op" id="2140995">*</span><span class="ident" id="2140996">ProcessState</span><span class="op" id="2141008">)</span>&nbsp;<span class="ident" id="2141010">Success</span><span class="op" id="2141017">(</span><span class="op" id="2141018">)</span>&nbsp;<span class="builtintype" id="2141020">bool</span>&nbsp;<span class="op" id="2141025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2141028">return</span>&nbsp;<span class="ident" id="2141035">p</span><span class="op" id="2141036">.</span><span class="ident" id="2141037">success</span><span class="op" id="2141044">(</span><span class="op" id="2141045">)</span><br>
<span class="lineno"></span><span class="op" id="2141047">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2141050">//&nbsp;Sys&nbsp;returns&nbsp;system-dependent&nbsp;exit&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2141105">//&nbsp;the&nbsp;process.&nbsp;&nbsp;Convert&nbsp;it&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2141163">//&nbsp;type,&nbsp;such&nbsp;as&nbsp;syscall.WaitStatus&nbsp;on&nbsp;Unix,&nbsp;to&nbsp;access&nbsp;its&nbsp;contents.</span><br>
<span class="lineno"></span><span class="keyword" id="2141232">func</span>&nbsp;<span class="op" id="2141237">(</span><span class="ident" id="2141238">p</span>&nbsp;<span class="op" id="2141240">*</span><span class="ident" id="2141241">ProcessState</span><span class="op" id="2141253">)</span>&nbsp;<span class="ident" id="2141255">Sys</span><span class="op" id="2141258">(</span><span class="op" id="2141259">)</span>&nbsp;<span class="keyword" id="2141261">interface</span><span class="op" id="2141270">{</span><span class="op" id="2141271">}</span>&nbsp;<span class="op" id="2141273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2141276">return</span>&nbsp;<span class="ident" id="2141283">p</span><span class="op" id="2141284">.</span><span class="ident" id="2141285">sys</span><span class="op" id="2141288">(</span><span class="op" id="2141289">)</span><br>
<span class="lineno">80</span><span class="op" id="2141291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2141294">//&nbsp;SysUsage&nbsp;returns&nbsp;system-dependent&nbsp;resource&nbsp;usage&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2141364">//&nbsp;the&nbsp;exited&nbsp;process.&nbsp;&nbsp;Convert&nbsp;it&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2141429">//&nbsp;type,&nbsp;such&nbsp;as&nbsp;*syscall.Rusage&nbsp;on&nbsp;Unix,&nbsp;to&nbsp;access&nbsp;its&nbsp;contents.</span><br>
<span class="lineno">85</span><span class="comment" id="2141495">//&nbsp;(On&nbsp;Unix,&nbsp;*syscall.Rusage&nbsp;matches&nbsp;struct&nbsp;rusage&nbsp;as&nbsp;defined&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2141564">//&nbsp;getrusage(2)&nbsp;manual&nbsp;page.)</span><br>
<span class="lineno"></span><span class="keyword" id="2141594">func</span>&nbsp;<span class="op" id="2141599">(</span><span class="ident" id="2141600">p</span>&nbsp;<span class="op" id="2141602">*</span><span class="ident" id="2141603">ProcessState</span><span class="op" id="2141615">)</span>&nbsp;<span class="ident" id="2141617">SysUsage</span><span class="op" id="2141625">(</span><span class="op" id="2141626">)</span>&nbsp;<span class="keyword" id="2141628">interface</span><span class="op" id="2141637">{</span><span class="op" id="2141638">}</span>&nbsp;<span class="op" id="2141640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2141643">return</span>&nbsp;<span class="ident" id="2141650">p</span><span class="op" id="2141651">.</span><span class="ident" id="2141652">sysUsage</span><span class="op" id="2141660">(</span><span class="op" id="2141661">)</span><br>
<span class="lineno"></span><span class="op" id="2141663">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2141666">//&nbsp;Hostname&nbsp;returns&nbsp;the&nbsp;host&nbsp;name&nbsp;reported&nbsp;by&nbsp;the&nbsp;kernel.</span><br>
<span class="lineno"></span><span class="keyword" id="2141724">func</span>&nbsp;<span class="ident" id="2141729">Hostname</span><span class="op" id="2141737">(</span><span class="op" id="2141738">)</span>&nbsp;<span class="op" id="2141740">(</span><span class="ident" id="2141741">name</span>&nbsp;<span class="builtintype" id="2141746">string</span><span class="op" id="2141752">,</span>&nbsp;<span class="ident" id="2141754">err</span>&nbsp;<span class="builtintype" id="2141758">error</span><span class="op" id="2141763">)</span>&nbsp;<span class="op" id="2141765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2141768">return</span>&nbsp;<span class="ident" id="2141775">hostname</span><span class="op" id="2141783">(</span><span class="op" id="2141784">)</span><br>
<span class="lineno"></span><span class="op" id="2141786">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="2141789">//&nbsp;Readdir&nbsp;reads&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;directory&nbsp;associated&nbsp;with&nbsp;file&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2141861">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;up&nbsp;to&nbsp;n&nbsp;FileInfo&nbsp;values,&nbsp;as&nbsp;would&nbsp;be&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="2141929">//&nbsp;by&nbsp;Lstat,&nbsp;in&nbsp;directory&nbsp;order.&nbsp;Subsequent&nbsp;calls&nbsp;on&nbsp;the&nbsp;same&nbsp;file&nbsp;will&nbsp;yield</span><br>
<span class="lineno"></span><span class="comment" id="2142007">//&nbsp;further&nbsp;FileInfos.</span><br>
<span class="lineno">100</span><span class="comment" id="2142029">//</span><br>
<span class="lineno"></span><span class="comment" id="2142032">//&nbsp;If&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;Readdir&nbsp;returns&nbsp;at&nbsp;most&nbsp;n&nbsp;FileInfo&nbsp;structures.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2142109">//&nbsp;Readdir&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice,&nbsp;it&nbsp;will&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2142175">//&nbsp;explaining&nbsp;why.&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;directory,&nbsp;the&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2142242">//</span><br>
<span class="lineno">105</span><span class="comment" id="2142245">//&nbsp;If&nbsp;n&nbsp;&lt;=&nbsp;0,&nbsp;Readdir&nbsp;returns&nbsp;all&nbsp;the&nbsp;FileInfo&nbsp;from&nbsp;the&nbsp;directory&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2142314">//&nbsp;a&nbsp;single&nbsp;slice.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;Readdir&nbsp;succeeds&nbsp;(reads&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2142378">//&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;directory),&nbsp;it&nbsp;returns&nbsp;the&nbsp;slice&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2142446">//&nbsp;nil&nbsp;error.&nbsp;If&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2142508">//&nbsp;directory,&nbsp;Readdir&nbsp;returns&nbsp;the&nbsp;FileInfo&nbsp;read&nbsp;until&nbsp;that&nbsp;point</span><br>
<span class="lineno">110</span><span class="comment" id="2142573">//&nbsp;and&nbsp;a&nbsp;non-nil&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2142597">func</span>&nbsp;<span class="op" id="2142602">(</span><span class="ident" id="2142603">f</span>&nbsp;<span class="op" id="2142605">*</span><span class="ident" id="2142606">File</span><span class="op" id="2142610">)</span>&nbsp;<span class="ident" id="2142612">Readdir</span><span class="op" id="2142619">(</span><span class="ident" id="2142620">n</span>&nbsp;<span class="builtintype" id="2142622">int</span><span class="op" id="2142625">)</span>&nbsp;<span class="op" id="2142627">(</span><span class="ident" id="2142628">fi</span>&nbsp;<span class="op" id="2142631">[</span><span class="op" id="2142632">]</span><span class="ident" id="2142633">FileInfo</span><span class="op" id="2142641">,</span>&nbsp;<span class="ident" id="2142643">err</span>&nbsp;<span class="builtintype" id="2142647">error</span><span class="op" id="2142652">)</span>&nbsp;<span class="op" id="2142654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2142657">if</span>&nbsp;<span class="ident" id="2142660">f</span>&nbsp;<span class="op" id="2142662">==</span>&nbsp;<span class="ident" id="2142665">nil</span>&nbsp;<span class="op" id="2142669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2142673">return</span>&nbsp;<span class="ident" id="2142680">nil</span><span class="op" id="2142683">,</span>&nbsp;<span class="ident" id="2142685">ErrInvalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2142697">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2142700">return</span>&nbsp;<span class="ident" id="2142707">f</span><span class="op" id="2142708">.</span><span class="ident" id="2142709">readdir</span><span class="op" id="2142716">(</span><span class="ident" id="2142717">n</span><span class="op" id="2142718">)</span><br>
<span class="lineno"></span><span class="op" id="2142720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2142723">//&nbsp;Readdirnames&nbsp;reads&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;names&nbsp;from&nbsp;the&nbsp;directory&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="2142796">//</span><br>
<span class="lineno">120</span><span class="comment" id="2142799">//&nbsp;If&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;Readdirnames&nbsp;returns&nbsp;at&nbsp;most&nbsp;n&nbsp;names.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2142867">//&nbsp;Readdirnames&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice,&nbsp;it&nbsp;will&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2142938">//&nbsp;explaining&nbsp;why.&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;directory,&nbsp;the&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2143005">//</span><br>
<span class="lineno"></span><span class="comment" id="2143008">//&nbsp;If&nbsp;n&nbsp;&lt;=&nbsp;0,&nbsp;Readdirnames&nbsp;returns&nbsp;all&nbsp;the&nbsp;names&nbsp;from&nbsp;the&nbsp;directory&nbsp;in</span><br>
<span class="lineno">125</span><span class="comment" id="2143079">//&nbsp;a&nbsp;single&nbsp;slice.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;Readdirnames&nbsp;succeeds&nbsp;(reads&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2143148">//&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;directory),&nbsp;it&nbsp;returns&nbsp;the&nbsp;slice&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2143216">//&nbsp;nil&nbsp;error.&nbsp;If&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2143278">//&nbsp;directory,&nbsp;Readdirnames&nbsp;returns&nbsp;the&nbsp;names&nbsp;read&nbsp;until&nbsp;that&nbsp;point&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2143349">//&nbsp;a&nbsp;non-nil&nbsp;error.</span><br>
<span class="lineno">130</span><span class="keyword" id="2143369">func</span>&nbsp;<span class="op" id="2143374">(</span><span class="ident" id="2143375">f</span>&nbsp;<span class="op" id="2143377">*</span><span class="ident" id="2143378">File</span><span class="op" id="2143382">)</span>&nbsp;<span class="ident" id="2143384">Readdirnames</span><span class="op" id="2143396">(</span><span class="ident" id="2143397">n</span>&nbsp;<span class="builtintype" id="2143399">int</span><span class="op" id="2143402">)</span>&nbsp;<span class="op" id="2143404">(</span><span class="ident" id="2143405">names</span>&nbsp;<span class="op" id="2143411">[</span><span class="op" id="2143412">]</span><span class="builtintype" id="2143413">string</span><span class="op" id="2143419">,</span>&nbsp;<span class="ident" id="2143421">err</span>&nbsp;<span class="builtintype" id="2143425">error</span><span class="op" id="2143430">)</span>&nbsp;<span class="op" id="2143432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2143435">if</span>&nbsp;<span class="ident" id="2143438">f</span>&nbsp;<span class="op" id="2143440">==</span>&nbsp;<span class="ident" id="2143443">nil</span>&nbsp;<span class="op" id="2143447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2143451">return</span>&nbsp;<span class="ident" id="2143458">nil</span><span class="op" id="2143461">,</span>&nbsp;<span class="ident" id="2143463">ErrInvalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2143475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2143478">return</span>&nbsp;<span class="ident" id="2143485">f</span><span class="op" id="2143486">.</span><span class="ident" id="2143487">readdirnames</span><span class="op" id="2143499">(</span><span class="ident" id="2143500">n</span><span class="op" id="2143501">)</span><br>
<span class="lineno">135</span><span class="op" id="2143503">}</span>
</div>
</body>
</html>
