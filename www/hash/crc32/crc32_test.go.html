<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7632981">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7633036">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7633090">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7633141">package</span>&nbsp;<span class="ident" id="7633149">crc32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7633156">import</span>&nbsp;<span class="op" id="7633163">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633166">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633172">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7633182">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7633185">type</span>&nbsp;<span class="ident" id="7633190">test</span>&nbsp;<span class="keyword" id="7633195">struct</span>&nbsp;<span class="op" id="7633202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633205">ieee</span><span class="op" id="7633209">,</span>&nbsp;<span class="ident" id="7633211">castagnoli</span>&nbsp;<span class="builtintype" id="7633222">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633230">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7633247">string</span><br>
<span class="lineno">15</span><span class="op" id="7633254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7633257">var</span>&nbsp;<span class="ident" id="7633261">golden</span>&nbsp;<span class="op" id="7633268">=</span>&nbsp;<span class="op" id="7633270">[</span><span class="op" id="7633271">]</span><span class="ident" id="7633272"><a href="/hash/crc32/crc32_test.go.html#7633190">test</a></span><span class="op" id="7633276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633279">{</span><span class="num" id="7633280">0x0</span><span class="op" id="7633283">,</span>&nbsp;<span class="num" id="7633285">0x0</span><span class="op" id="7633288">,</span>&nbsp;<span class="string" id="7633290">&#34;&#34;</span><span class="op" id="7633292">}</span><span class="op" id="7633293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633296">{</span><span class="num" id="7633297">0xe8b7be43</span><span class="op" id="7633307">,</span>&nbsp;<span class="num" id="7633309">0xc1d04330</span><span class="op" id="7633319">,</span>&nbsp;<span class="string" id="7633321">&#34;a&#34;</span><span class="op" id="7633324">}</span><span class="op" id="7633325">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633328">{</span><span class="num" id="7633329">0x9e83486d</span><span class="op" id="7633339">,</span>&nbsp;<span class="num" id="7633341">0xe2a22936</span><span class="op" id="7633351">,</span>&nbsp;<span class="string" id="7633353">&#34;ab&#34;</span><span class="op" id="7633357">}</span><span class="op" id="7633358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633361">{</span><span class="num" id="7633362">0x352441c2</span><span class="op" id="7633372">,</span>&nbsp;<span class="num" id="7633374">0x364b3fb7</span><span class="op" id="7633384">,</span>&nbsp;<span class="string" id="7633386">&#34;abc&#34;</span><span class="op" id="7633391">}</span><span class="op" id="7633392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633395">{</span><span class="num" id="7633396">0xed82cd11</span><span class="op" id="7633406">,</span>&nbsp;<span class="num" id="7633408">0x92c80a31</span><span class="op" id="7633418">,</span>&nbsp;<span class="string" id="7633420">&#34;abcd&#34;</span><span class="op" id="7633426">}</span><span class="op" id="7633427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633430">{</span><span class="num" id="7633431">0x8587d865</span><span class="op" id="7633441">,</span>&nbsp;<span class="num" id="7633443">0xc450d697</span><span class="op" id="7633453">,</span>&nbsp;<span class="string" id="7633455">&#34;abcde&#34;</span><span class="op" id="7633462">}</span><span class="op" id="7633463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633466">{</span><span class="num" id="7633467">0x4b8e39ef</span><span class="op" id="7633477">,</span>&nbsp;<span class="num" id="7633479">0x53bceff1</span><span class="op" id="7633489">,</span>&nbsp;<span class="string" id="7633491">&#34;abcdef&#34;</span><span class="op" id="7633499">}</span><span class="op" id="7633500">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633503">{</span><span class="num" id="7633504">0x312a6aa6</span><span class="op" id="7633514">,</span>&nbsp;<span class="num" id="7633516">0xe627f441</span><span class="op" id="7633526">,</span>&nbsp;<span class="string" id="7633528">&#34;abcdefg&#34;</span><span class="op" id="7633537">}</span><span class="op" id="7633538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633541">{</span><span class="num" id="7633542">0xaeef2a50</span><span class="op" id="7633552">,</span>&nbsp;<span class="num" id="7633554">0xa9421b7</span><span class="op" id="7633563">,</span>&nbsp;<span class="string" id="7633565">&#34;abcdefgh&#34;</span><span class="op" id="7633575">}</span><span class="op" id="7633576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633579">{</span><span class="num" id="7633580">0x8da988af</span><span class="op" id="7633590">,</span>&nbsp;<span class="num" id="7633592">0x2ddc99fc</span><span class="op" id="7633602">,</span>&nbsp;<span class="string" id="7633604">&#34;abcdefghi&#34;</span><span class="op" id="7633615">}</span><span class="op" id="7633616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633619">{</span><span class="num" id="7633620">0x3981703a</span><span class="op" id="7633630">,</span>&nbsp;<span class="num" id="7633632">0xe6599437</span><span class="op" id="7633642">,</span>&nbsp;<span class="string" id="7633644">&#34;abcdefghij&#34;</span><span class="op" id="7633656">}</span><span class="op" id="7633657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633660">{</span><span class="num" id="7633661">0x6b9cdfe7</span><span class="op" id="7633671">,</span>&nbsp;<span class="num" id="7633673">0xb2cc01fe</span><span class="op" id="7633683">,</span>&nbsp;<span class="string" id="7633685">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="7633728">}</span><span class="op" id="7633729">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633732">{</span><span class="num" id="7633733">0xc90ef73f</span><span class="op" id="7633743">,</span>&nbsp;<span class="num" id="7633745">0xe28207f</span><span class="op" id="7633754">,</span>&nbsp;<span class="string" id="7633756">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="7633815">}</span><span class="op" id="7633816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633819">{</span><span class="num" id="7633820">0xb902341f</span><span class="op" id="7633830">,</span>&nbsp;<span class="num" id="7633832">0xbe93f964</span><span class="op" id="7633842">,</span>&nbsp;<span class="string" id="7633844">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="7633888">}</span><span class="op" id="7633889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633892">{</span><span class="num" id="7633893">0x42080e8</span><span class="op" id="7633902">,</span>&nbsp;<span class="num" id="7633904">0x9e3be0c3</span><span class="op" id="7633914">,</span>&nbsp;<span class="string" id="7633916">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="7633975">}</span><span class="op" id="7633976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633979">{</span><span class="num" id="7633980">0x154c6d11</span><span class="op" id="7633990">,</span>&nbsp;<span class="num" id="7633992">0xf505ef04</span><span class="op" id="7634002">,</span>&nbsp;<span class="string" id="7634004">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="7634064">}</span><span class="op" id="7634065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634068">{</span><span class="num" id="7634069">0x4c418325</span><span class="op" id="7634079">,</span>&nbsp;<span class="num" id="7634081">0x85d3dc82</span><span class="op" id="7634091">,</span>&nbsp;<span class="string" id="7634093">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="7634122">}</span><span class="op" id="7634123">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634126">{</span><span class="num" id="7634127">0x33955150</span><span class="op" id="7634137">,</span>&nbsp;<span class="num" id="7634139">0xc5142380</span><span class="op" id="7634149">,</span>&nbsp;<span class="string" id="7634151">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="7634220">}</span><span class="op" id="7634221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634224">{</span><span class="num" id="7634225">0x26216a4b</span><span class="op" id="7634235">,</span>&nbsp;<span class="num" id="7634237">0x75eb77dd</span><span class="op" id="7634247">,</span>&nbsp;<span class="string" id="7634249">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="7634308">}</span><span class="op" id="7634309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634312">{</span><span class="num" id="7634313">0x1abbe45e</span><span class="op" id="7634323">,</span>&nbsp;<span class="num" id="7634325">0x91ebe9f7</span><span class="op" id="7634335">,</span>&nbsp;<span class="string" id="7634337">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="7634427">}</span><span class="op" id="7634428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634431">{</span><span class="num" id="7634432">0xc89a94f7</span><span class="op" id="7634442">,</span>&nbsp;<span class="num" id="7634444">0xf0b1168e</span><span class="op" id="7634454">,</span>&nbsp;<span class="string" id="7634456">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="7634533">}</span><span class="op" id="7634534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634537">{</span><span class="num" id="7634538">0xab3abe14</span><span class="op" id="7634548">,</span>&nbsp;<span class="num" id="7634550">0x572b74e2</span><span class="op" id="7634560">,</span>&nbsp;<span class="string" id="7634562">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="7634588">}</span><span class="op" id="7634589">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634592">{</span><span class="num" id="7634593">0xbab102b6</span><span class="op" id="7634603">,</span>&nbsp;<span class="num" id="7634605">0x8a58a6d5</span><span class="op" id="7634615">,</span>&nbsp;<span class="string" id="7634617">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="7634668">}</span><span class="op" id="7634669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634672">{</span><span class="num" id="7634673">0x999149d7</span><span class="op" id="7634683">,</span>&nbsp;<span class="num" id="7634685">0x9c426c50</span><span class="op" id="7634695">,</span>&nbsp;<span class="string" id="7634697">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="7634771">}</span><span class="op" id="7634772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634775">{</span><span class="num" id="7634776">0x6d52a33c</span><span class="op" id="7634786">,</span>&nbsp;<span class="num" id="7634788">0x735400a4</span><span class="op" id="7634798">,</span>&nbsp;<span class="string" id="7634800">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="7634848">}</span><span class="op" id="7634849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634852">{</span><span class="num" id="7634853">0x90631e8d</span><span class="op" id="7634863">,</span>&nbsp;<span class="num" id="7634865">0xbec49c95</span><span class="op" id="7634875">,</span>&nbsp;<span class="string" id="7634877">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="7634949">}</span><span class="op" id="7634950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634953">{</span><span class="num" id="7634954">0x78309130</span><span class="op" id="7634964">,</span>&nbsp;<span class="num" id="7634966">0xa95a2079</span><span class="op" id="7634976">,</span>&nbsp;<span class="string" id="7634978">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="7635048">}</span><span class="op" id="7635049">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635052">{</span><span class="num" id="7635053">0x7d0a377f</span><span class="op" id="7635063">,</span>&nbsp;<span class="num" id="7635065">0xde2e65c5</span><span class="op" id="7635075">,</span>&nbsp;<span class="string" id="7635077">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="7635111">}</span><span class="op" id="7635112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635115">{</span><span class="num" id="7635116">0x8c79fd79</span><span class="op" id="7635126">,</span>&nbsp;<span class="num" id="7635128">0x297a88ed</span><span class="op" id="7635138">,</span>&nbsp;<span class="string" id="7635140">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="7635230">}</span><span class="op" id="7635231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635234">{</span><span class="num" id="7635235">0xa20b7167</span><span class="op" id="7635245">,</span>&nbsp;<span class="num" id="7635247">0x66ed1d8b</span><span class="op" id="7635257">,</span>&nbsp;<span class="string" id="7635259">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="7635393">}</span><span class="op" id="7635394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635397">{</span><span class="num" id="7635398">0x8e0bb443</span><span class="op" id="7635408">,</span>&nbsp;<span class="num" id="7635410">0xdcded527</span><span class="op" id="7635420">,</span>&nbsp;<span class="string" id="7635422">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="7635480">}</span><span class="op" id="7635481">,</span><br>
<span class="lineno"></span><span class="op" id="7635483">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7635486">func</span>&nbsp;<span class="ident" id="7635491">TestGolden</span><span class="op" id="7635501">(</span><span class="ident" id="7635502">t</span>&nbsp;<span class="op" id="7635504">*</span><span class="ident" id="7635505"><a href="/hash/crc32/crc32_test.go.html#7633172">testing</a></span><span class="op" id="7635512">.</span><span class="ident" id="7635513">T</span><span class="op" id="7635514">)</span>&nbsp;<span class="op" id="7635516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635519">castagnoliTab</span>&nbsp;<span class="op" id="7635533">:=</span>&nbsp;<span class="ident" id="7635536"><a href="/hash/crc32/crc32.go.html#4618956">MakeTable</a></span><span class="op" id="7635545">(</span><span class="ident" id="7635546"><a href="/hash/crc32/crc32.go.html#4618122">Castagnoli</a></span><span class="op" id="7635556">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635560">for</span>&nbsp;<span class="ident" id="7635564">_</span><span class="op" id="7635565">,</span>&nbsp;<span class="ident" id="7635567">g</span>&nbsp;<span class="op" id="7635569">:=</span>&nbsp;<span class="keyword" id="7635572">range</span>&nbsp;<span class="ident" id="7635578"><a href="/hash/crc32/crc32_test.go.html#7633261">golden</a></span>&nbsp;<span class="op" id="7635585">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635589">ieee</span>&nbsp;<span class="op" id="7635594">:=</span>&nbsp;<span class="ident" id="7635597"><a href="/hash/crc32/crc32.go.html#4619839">NewIEEE</a></span><span class="op" id="7635604">(</span><span class="op" id="7635605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635609"><a href="/hash/crc32/crc32_test.go.html#7633166">io</a></span><span class="op" id="7635611">.</span><span class="ident" id="7635612">WriteString</span><span class="op" id="7635623">(</span><span class="ident" id="7635624"><a href="/hash/crc32/crc32_test.go.html#7635589">ieee</a></span><span class="op" id="7635628">,</span>&nbsp;<span class="ident" id="7635630"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7635631">.</span><span class="ident" id="7635632">in</span><span class="op" id="7635634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635638">s</span>&nbsp;<span class="op" id="7635640">:=</span>&nbsp;<span class="ident" id="7635643"><a href="/hash/crc32/crc32_test.go.html#7635589">ieee</a></span><span class="op" id="7635647">.</span><span class="ident" id="7635648">Sum32</span><span class="op" id="7635653">(</span><span class="op" id="7635654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635658">if</span>&nbsp;<span class="ident" id="7635661"><a href="/hash/crc32/crc32_test.go.html#7635638">s</a></span>&nbsp;<span class="op" id="7635663">!=</span>&nbsp;<span class="ident" id="7635666"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7635667">.</span><span class="ident" id="7635668">ieee</span>&nbsp;<span class="op" id="7635673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635678"><a href="/hash/crc32/crc32_test.go.html#7635502">t</a></span><span class="op" id="7635679">.</span><span class="ident" id="7635680">Errorf</span><span class="op" id="7635686">(</span><span class="string" id="7635687">&#34;IEEE(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7635714">,</span>&nbsp;<span class="ident" id="7635716"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7635717">.</span><span class="ident" id="7635718">in</span><span class="op" id="7635720">,</span>&nbsp;<span class="ident" id="7635722"><a href="/hash/crc32/crc32_test.go.html#7635638">s</a></span><span class="op" id="7635723">,</span>&nbsp;<span class="ident" id="7635725"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7635726">.</span><span class="ident" id="7635727">ieee</span><span class="op" id="7635731">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635740">castagnoli</span>&nbsp;<span class="op" id="7635751">:=</span>&nbsp;<span class="ident" id="7635754"><a href="/hash/crc32/crc32.go.html#4619681">New</a></span><span class="op" id="7635757">(</span><span class="ident" id="7635758"><a href="/hash/crc32/crc32_test.go.html#7635519">castagnoliTab</a></span><span class="op" id="7635771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635775"><a href="/hash/crc32/crc32_test.go.html#7633166">io</a></span><span class="op" id="7635777">.</span><span class="ident" id="7635778">WriteString</span><span class="op" id="7635789">(</span><span class="ident" id="7635790"><a href="/hash/crc32/crc32_test.go.html#7635740">castagnoli</a></span><span class="op" id="7635800">,</span>&nbsp;<span class="ident" id="7635802"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7635803">.</span><span class="ident" id="7635804">in</span><span class="op" id="7635806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635810"><a href="/hash/crc32/crc32_test.go.html#7635638">s</a></span>&nbsp;<span class="op" id="7635812">=</span>&nbsp;<span class="ident" id="7635814"><a href="/hash/crc32/crc32_test.go.html#7635740">castagnoli</a></span><span class="op" id="7635824">.</span><span class="ident" id="7635825">Sum32</span><span class="op" id="7635830">(</span><span class="op" id="7635831">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635835">if</span>&nbsp;<span class="ident" id="7635838"><a href="/hash/crc32/crc32_test.go.html#7635638">s</a></span>&nbsp;<span class="op" id="7635840">!=</span>&nbsp;<span class="ident" id="7635843"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7635844">.</span><span class="ident" id="7635845">castagnoli</span>&nbsp;<span class="op" id="7635856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635861"><a href="/hash/crc32/crc32_test.go.html#7635502">t</a></span><span class="op" id="7635862">.</span><span class="ident" id="7635863">Errorf</span><span class="op" id="7635869">(</span><span class="string" id="7635870">&#34;Castagnoli(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7635903">,</span>&nbsp;<span class="ident" id="7635905"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7635906">.</span><span class="ident" id="7635907">in</span><span class="op" id="7635909">,</span>&nbsp;<span class="ident" id="7635911"><a href="/hash/crc32/crc32_test.go.html#7635638">s</a></span><span class="op" id="7635912">,</span>&nbsp;<span class="ident" id="7635914"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7635915">.</span><span class="ident" id="7635916">castagnoli</span><span class="op" id="7635926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635935">if</span>&nbsp;<span class="builtinfunc" id="7635938">len</span><span class="op" id="7635941">(</span><span class="ident" id="7635942"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7635943">.</span><span class="ident" id="7635944">in</span><span class="op" id="7635946">)</span>&nbsp;<span class="op" id="7635948">&gt;</span>&nbsp;<span class="num" id="7635950">0</span>&nbsp;<span class="op" id="7635952">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7635957">//&nbsp;The&nbsp;SSE4.2&nbsp;implementation&nbsp;of&nbsp;this&nbsp;has&nbsp;code&nbsp;to&nbsp;deal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7636014">//&nbsp;with&nbsp;misaligned&nbsp;data&nbsp;so&nbsp;we&nbsp;ensure&nbsp;that&nbsp;we&nbsp;test&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7636072">//&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636083"><a href="/hash/crc32/crc32_test.go.html#7635740">castagnoli</a></span>&nbsp;<span class="op" id="7636094">=</span>&nbsp;<span class="ident" id="7636096"><a href="/hash/crc32/crc32.go.html#4619681">New</a></span><span class="op" id="7636099">(</span><span class="ident" id="7636100"><a href="/hash/crc32/crc32_test.go.html#7635519">castagnoliTab</a></span><span class="op" id="7636113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636118"><a href="/hash/crc32/crc32_test.go.html#7633166">io</a></span><span class="op" id="7636120">.</span><span class="ident" id="7636121">WriteString</span><span class="op" id="7636132">(</span><span class="ident" id="7636133"><a href="/hash/crc32/crc32_test.go.html#7635740">castagnoli</a></span><span class="op" id="7636143">,</span>&nbsp;<span class="ident" id="7636145"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7636146">.</span><span class="ident" id="7636147">in</span><span class="op" id="7636149">[</span><span class="op" id="7636150">:</span><span class="num" id="7636151">1</span><span class="op" id="7636152">]</span><span class="op" id="7636153">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636158"><a href="/hash/crc32/crc32_test.go.html#7633166">io</a></span><span class="op" id="7636160">.</span><span class="ident" id="7636161">WriteString</span><span class="op" id="7636172">(</span><span class="ident" id="7636173"><a href="/hash/crc32/crc32_test.go.html#7635740">castagnoli</a></span><span class="op" id="7636183">,</span>&nbsp;<span class="ident" id="7636185"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7636186">.</span><span class="ident" id="7636187">in</span><span class="op" id="7636189">[</span><span class="num" id="7636190">1</span><span class="op" id="7636191">:</span><span class="op" id="7636192">]</span><span class="op" id="7636193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636198"><a href="/hash/crc32/crc32_test.go.html#7635638">s</a></span>&nbsp;<span class="op" id="7636200">=</span>&nbsp;<span class="ident" id="7636202"><a href="/hash/crc32/crc32_test.go.html#7635740">castagnoli</a></span><span class="op" id="7636212">.</span><span class="ident" id="7636213">Sum32</span><span class="op" id="7636218">(</span><span class="op" id="7636219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636224">if</span>&nbsp;<span class="ident" id="7636227"><a href="/hash/crc32/crc32_test.go.html#7635638">s</a></span>&nbsp;<span class="op" id="7636229">!=</span>&nbsp;<span class="ident" id="7636232"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7636233">.</span><span class="ident" id="7636234">castagnoli</span>&nbsp;<span class="op" id="7636245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636251"><a href="/hash/crc32/crc32_test.go.html#7635502">t</a></span><span class="op" id="7636252">.</span><span class="ident" id="7636253">Errorf</span><span class="op" id="7636259">(</span><span class="string" id="7636260">&#34;Castagnoli[misaligned](%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7636305">,</span>&nbsp;<span class="ident" id="7636307"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7636308">.</span><span class="ident" id="7636309">in</span><span class="op" id="7636311">,</span>&nbsp;<span class="ident" id="7636313"><a href="/hash/crc32/crc32_test.go.html#7635638">s</a></span><span class="op" id="7636314">,</span>&nbsp;<span class="ident" id="7636316"><a href="/hash/crc32/crc32_test.go.html#7635567">g</a></span><span class="op" id="7636317">.</span><span class="ident" id="7636318">castagnoli</span><span class="op" id="7636328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636333">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636340">}</span><br>
<span class="lineno"></span><span class="op" id="7636342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7636345">func</span>&nbsp;<span class="ident" id="7636350">BenchmarkCrc32KB</span><span class="op" id="7636366">(</span><span class="ident" id="7636367">b</span>&nbsp;<span class="op" id="7636369">*</span><span class="ident" id="7636370"><a href="/hash/crc32/crc32_test.go.html#7633172">testing</a></span><span class="op" id="7636377">.</span><span class="ident" id="7636378">B</span><span class="op" id="7636379">)</span>&nbsp;<span class="op" id="7636381">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636384"><a href="/hash/crc32/crc32_test.go.html#7636367">b</a></span><span class="op" id="7636385">.</span><span class="ident" id="7636386">SetBytes</span><span class="op" id="7636394">(</span><span class="num" id="7636395">1024</span><span class="op" id="7636399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636402">data</span>&nbsp;<span class="op" id="7636407">:=</span>&nbsp;<span class="builtinfunc" id="7636410">make</span><span class="op" id="7636414">(</span><span class="op" id="7636415">[</span><span class="op" id="7636416">]</span><span class="builtintype" id="7636417">byte</span><span class="op" id="7636421">,</span>&nbsp;<span class="num" id="7636423">1024</span><span class="op" id="7636427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636430">for</span>&nbsp;<span class="ident" id="7636434">i</span>&nbsp;<span class="op" id="7636436">:=</span>&nbsp;<span class="keyword" id="7636439">range</span>&nbsp;<span class="ident" id="7636445"><a href="/hash/crc32/crc32_test.go.html#7636402">data</a></span>&nbsp;<span class="op" id="7636450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636454"><a href="/hash/crc32/crc32_test.go.html#7636402">data</a></span><span class="op" id="7636458">[</span><span class="ident" id="7636459"><a href="/hash/crc32/crc32_test.go.html#7636434">i</a></span><span class="op" id="7636460">]</span>&nbsp;<span class="op" id="7636462">=</span>&nbsp;<span class="builtintype" id="7636464">byte</span><span class="op" id="7636468">(</span><span class="ident" id="7636469"><a href="/hash/crc32/crc32_test.go.html#7636434">i</a></span><span class="op" id="7636470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636473">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636476">h</span>&nbsp;<span class="op" id="7636478">:=</span>&nbsp;<span class="ident" id="7636481"><a href="/hash/crc32/crc32.go.html#4619839">NewIEEE</a></span><span class="op" id="7636488">(</span><span class="op" id="7636489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636492">in</span>&nbsp;<span class="op" id="7636495">:=</span>&nbsp;<span class="builtinfunc" id="7636498">make</span><span class="op" id="7636502">(</span><span class="op" id="7636503">[</span><span class="op" id="7636504">]</span><span class="builtintype" id="7636505">byte</span><span class="op" id="7636509">,</span>&nbsp;<span class="num" id="7636511">0</span><span class="op" id="7636512">,</span>&nbsp;<span class="ident" id="7636514"><a href="/hash/crc32/crc32_test.go.html#7636476">h</a></span><span class="op" id="7636515">.</span><span class="ident" id="7636516">Size</span><span class="op" id="7636520">(</span><span class="op" id="7636521">)</span><span class="op" id="7636522">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636526"><a href="/hash/crc32/crc32_test.go.html#7636367">b</a></span><span class="op" id="7636527">.</span><span class="ident" id="7636528">ResetTimer</span><span class="op" id="7636538">(</span><span class="op" id="7636539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636542">for</span>&nbsp;<span class="ident" id="7636546">i</span>&nbsp;<span class="op" id="7636548">:=</span>&nbsp;<span class="num" id="7636551">0</span><span class="op" id="7636552">;</span>&nbsp;<span class="ident" id="7636554"><a href="/hash/crc32/crc32_test.go.html#7636546">i</a></span>&nbsp;<span class="op" id="7636556">&lt;</span>&nbsp;<span class="ident" id="7636558"><a href="/hash/crc32/crc32_test.go.html#7636367">b</a></span><span class="op" id="7636559">.</span><span class="ident" id="7636560">N</span><span class="op" id="7636561">;</span>&nbsp;<span class="ident" id="7636563"><a href="/hash/crc32/crc32_test.go.html#7636546">i</a></span><span class="op" id="7636564">++</span>&nbsp;<span class="op" id="7636567">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636571"><a href="/hash/crc32/crc32_test.go.html#7636476">h</a></span><span class="op" id="7636572">.</span><span class="ident" id="7636573">Reset</span><span class="op" id="7636578">(</span><span class="op" id="7636579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636583"><a href="/hash/crc32/crc32_test.go.html#7636476">h</a></span><span class="op" id="7636584">.</span><span class="ident" id="7636585">Write</span><span class="op" id="7636590">(</span><span class="ident" id="7636591"><a href="/hash/crc32/crc32_test.go.html#7636402">data</a></span><span class="op" id="7636595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636599"><a href="/hash/crc32/crc32_test.go.html#7636476">h</a></span><span class="op" id="7636600">.</span><span class="ident" id="7636601">Sum</span><span class="op" id="7636604">(</span><span class="ident" id="7636605"><a href="/hash/crc32/crc32_test.go.html#7636492">in</a></span><span class="op" id="7636607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636610">}</span><br>
<span class="lineno"></span><span class="op" id="7636612">}</span>
</div>
</body>
</html>
