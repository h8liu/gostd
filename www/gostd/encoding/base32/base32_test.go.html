<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/base32</h2>
<ul>
<li><a href="/gostd/encoding/base32/base32.go.html">base32.go</a></li>
<li><a href="/gostd/encoding/base32/base32_test.go.html" class="current">base32_test.go</a></li>
<li><a href="/gostd/encoding/base32/example_test.go.html">example_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8165518">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8165573">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8165627">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8165678">package</span>&nbsp;<span class="ident" id="8165686">base32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8165694">import</span>&nbsp;<span class="op" id="8165701">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8165704">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8165713">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8165719">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8165732">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8165743">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8165753">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="8165756">type</span>&nbsp;<span class="ident" id="8165761">testpair</span>&nbsp;<span class="keyword" id="8165770">struct</span>&nbsp;<span class="op" id="8165777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8165780">decoded</span><span class="op" id="8165787">,</span>&nbsp;<span class="ident" id="8165789">encoded</span>&nbsp;<span class="builtintype" id="8165797">string</span><br>
<span class="lineno"></span><span class="op" id="8165804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8165807">var</span>&nbsp;<span class="ident" id="8165811">pairs</span>&nbsp;<span class="op" id="8165817">=</span>&nbsp;<span class="op" id="8165819">[</span><span class="op" id="8165820">]</span><span class="ident" id="8165821">testpair</span><span class="op" id="8165829">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8165832">//&nbsp;RFC&nbsp;4648&nbsp;examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8165854">{</span><span class="string" id="8165855">&#34;&#34;</span><span class="op" id="8165857">,</span>&nbsp;<span class="string" id="8165859">&#34;&#34;</span><span class="op" id="8165861">}</span><span class="op" id="8165862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8165865">{</span><span class="string" id="8165866">&#34;f&#34;</span><span class="op" id="8165869">,</span>&nbsp;<span class="string" id="8165871">&#34;MY======&#34;</span><span class="op" id="8165881">}</span><span class="op" id="8165882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8165885">{</span><span class="string" id="8165886">&#34;fo&#34;</span><span class="op" id="8165890">,</span>&nbsp;<span class="string" id="8165892">&#34;MZXQ====&#34;</span><span class="op" id="8165902">}</span><span class="op" id="8165903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8165906">{</span><span class="string" id="8165907">&#34;foo&#34;</span><span class="op" id="8165912">,</span>&nbsp;<span class="string" id="8165914">&#34;MZXW6===&#34;</span><span class="op" id="8165924">}</span><span class="op" id="8165925">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8165928">{</span><span class="string" id="8165929">&#34;foob&#34;</span><span class="op" id="8165935">,</span>&nbsp;<span class="string" id="8165937">&#34;MZXW6YQ=&#34;</span><span class="op" id="8165947">}</span><span class="op" id="8165948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8165951">{</span><span class="string" id="8165952">&#34;fooba&#34;</span><span class="op" id="8165959">,</span>&nbsp;<span class="string" id="8165961">&#34;MZXW6YTB&#34;</span><span class="op" id="8165971">}</span><span class="op" id="8165972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8165975">{</span><span class="string" id="8165976">&#34;foobar&#34;</span><span class="op" id="8165984">,</span>&nbsp;<span class="string" id="8165986">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="8166004">}</span><span class="op" id="8166005">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8166009">//&nbsp;Wikipedia&nbsp;examples,&nbsp;converted&nbsp;to&nbsp;base32</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8166053">{</span><span class="string" id="8166054">&#34;sure.&#34;</span><span class="op" id="8166061">,</span>&nbsp;<span class="string" id="8166063">&#34;ON2XEZJO&#34;</span><span class="op" id="8166073">}</span><span class="op" id="8166074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8166077">{</span><span class="string" id="8166078">&#34;sure&#34;</span><span class="op" id="8166084">,</span>&nbsp;<span class="string" id="8166086">&#34;ON2XEZI=&#34;</span><span class="op" id="8166096">}</span><span class="op" id="8166097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8166100">{</span><span class="string" id="8166101">&#34;sur&#34;</span><span class="op" id="8166106">,</span>&nbsp;<span class="string" id="8166108">&#34;ON2XE===&#34;</span><span class="op" id="8166118">}</span><span class="op" id="8166119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8166122">{</span><span class="string" id="8166123">&#34;su&#34;</span><span class="op" id="8166127">,</span>&nbsp;<span class="string" id="8166129">&#34;ON2Q====&#34;</span><span class="op" id="8166139">}</span><span class="op" id="8166140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8166143">{</span><span class="string" id="8166144">&#34;leasure.&#34;</span><span class="op" id="8166154">,</span>&nbsp;<span class="string" id="8166156">&#34;NRSWC43VOJSS4===&#34;</span><span class="op" id="8166174">}</span><span class="op" id="8166175">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8166178">{</span><span class="string" id="8166179">&#34;easure.&#34;</span><span class="op" id="8166188">,</span>&nbsp;<span class="string" id="8166190">&#34;MVQXG5LSMUXA====&#34;</span><span class="op" id="8166208">}</span><span class="op" id="8166209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8166212">{</span><span class="string" id="8166213">&#34;asure.&#34;</span><span class="op" id="8166221">,</span>&nbsp;<span class="string" id="8166223">&#34;MFZXK4TFFY======&#34;</span><span class="op" id="8166241">}</span><span class="op" id="8166242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8166245">{</span><span class="string" id="8166246">&#34;sure.&#34;</span><span class="op" id="8166253">,</span>&nbsp;<span class="string" id="8166255">&#34;ON2XEZJO&#34;</span><span class="op" id="8166265">}</span><span class="op" id="8166266">,</span><br>
<span class="lineno"></span><span class="op" id="8166268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8166271">var</span>&nbsp;<span class="ident" id="8166275">bigtest</span>&nbsp;<span class="op" id="8166283">=</span>&nbsp;<span class="ident" id="8166285">testpair</span><span class="op" id="8166293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8166296">&#34;Twas&nbsp;brillig,&nbsp;and&nbsp;the&nbsp;slithy&nbsp;toves&#34;</span><span class="op" id="8166332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8166335">&#34;KR3WC4ZAMJZGS3DMNFTSYIDBNZSCA5DIMUQHG3DJORUHSIDUN53GK4Y=&#34;</span><span class="op" id="8166393">,</span><br>
<span class="lineno"></span><span class="op" id="8166395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="8166398">func</span>&nbsp;<span class="ident" id="8166403">testEqual</span><span class="op" id="8166412">(</span><span class="ident" id="8166413">t</span>&nbsp;<span class="op" id="8166415">*</span><span class="ident" id="8166416">testing</span><span class="op" id="8166423">.</span><span class="ident" id="8166424">T</span><span class="op" id="8166425">,</span>&nbsp;<span class="ident" id="8166427">msg</span>&nbsp;<span class="builtintype" id="8166431">string</span><span class="op" id="8166437">,</span>&nbsp;<span class="ident" id="8166439">args</span>&nbsp;<span class="op" id="8166444">...</span><span class="keyword" id="8166447">interface</span><span class="op" id="8166456">{</span><span class="op" id="8166457">}</span><span class="op" id="8166458">)</span>&nbsp;<span class="builtintype" id="8166460">bool</span>&nbsp;<span class="op" id="8166465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8166468">if</span>&nbsp;<span class="ident" id="8166471">args</span><span class="op" id="8166475">[</span><span class="builtinfunc" id="8166476">len</span><span class="op" id="8166479">(</span><span class="ident" id="8166480">args</span><span class="op" id="8166484">)</span><span class="op" id="8166485">-</span><span class="num" id="8166486">2</span><span class="op" id="8166487">]</span>&nbsp;<span class="op" id="8166489">!=</span>&nbsp;<span class="ident" id="8166492">args</span><span class="op" id="8166496">[</span><span class="builtinfunc" id="8166497">len</span><span class="op" id="8166500">(</span><span class="ident" id="8166501">args</span><span class="op" id="8166505">)</span><span class="op" id="8166506">-</span><span class="num" id="8166507">1</span><span class="op" id="8166508">]</span>&nbsp;<span class="op" id="8166510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166514">t</span><span class="op" id="8166515">.</span><span class="ident" id="8166516">Errorf</span><span class="op" id="8166522">(</span><span class="ident" id="8166523">msg</span><span class="op" id="8166526">,</span>&nbsp;<span class="ident" id="8166528">args</span><span class="op" id="8166532">...</span><span class="op" id="8166535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8166539">return</span>&nbsp;<span class="builtintype" id="8166546">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8166553">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8166556">return</span>&nbsp;<span class="builtintype" id="8166563">true</span><br>
<span class="lineno"></span><span class="op" id="8166568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8166571">func</span>&nbsp;<span class="ident" id="8166576">TestEncode</span><span class="op" id="8166586">(</span><span class="ident" id="8166587">t</span>&nbsp;<span class="op" id="8166589">*</span><span class="ident" id="8166590">testing</span><span class="op" id="8166597">.</span><span class="ident" id="8166598">T</span><span class="op" id="8166599">)</span>&nbsp;<span class="op" id="8166601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8166604">for</span>&nbsp;<span class="ident" id="8166608">_</span><span class="op" id="8166609">,</span>&nbsp;<span class="ident" id="8166611">p</span>&nbsp;<span class="op" id="8166613">:=</span>&nbsp;<span class="keyword" id="8166616">range</span>&nbsp;<span class="ident" id="8166622">pairs</span>&nbsp;<span class="op" id="8166628">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166632">got</span>&nbsp;<span class="op" id="8166636">:=</span>&nbsp;<span class="ident" id="8166639">StdEncoding</span><span class="op" id="8166650">.</span><span class="ident" id="8166651">EncodeToString</span><span class="op" id="8166665">(</span><span class="op" id="8166666">[</span><span class="op" id="8166667">]</span><span class="builtintype" id="8166668">byte</span><span class="op" id="8166672">(</span><span class="ident" id="8166673">p</span><span class="op" id="8166674">.</span><span class="ident" id="8166675">decoded</span><span class="op" id="8166682">)</span><span class="op" id="8166683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166687">testEqual</span><span class="op" id="8166696">(</span><span class="ident" id="8166697">t</span><span class="op" id="8166698">,</span>&nbsp;<span class="string" id="8166700">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8166726">,</span>&nbsp;<span class="ident" id="8166728">p</span><span class="op" id="8166729">.</span><span class="ident" id="8166730">decoded</span><span class="op" id="8166737">,</span>&nbsp;<span class="ident" id="8166739">got</span><span class="op" id="8166742">,</span>&nbsp;<span class="ident" id="8166744">p</span><span class="op" id="8166745">.</span><span class="ident" id="8166746">encoded</span><span class="op" id="8166753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8166756">}</span><br>
<span class="lineno"></span><span class="op" id="8166758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8166761">func</span>&nbsp;<span class="ident" id="8166766">TestEncoder</span><span class="op" id="8166777">(</span><span class="ident" id="8166778">t</span>&nbsp;<span class="op" id="8166780">*</span><span class="ident" id="8166781">testing</span><span class="op" id="8166788">.</span><span class="ident" id="8166789">T</span><span class="op" id="8166790">)</span>&nbsp;<span class="op" id="8166792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8166795">for</span>&nbsp;<span class="ident" id="8166799">_</span><span class="op" id="8166800">,</span>&nbsp;<span class="ident" id="8166802">p</span>&nbsp;<span class="op" id="8166804">:=</span>&nbsp;<span class="keyword" id="8166807">range</span>&nbsp;<span class="ident" id="8166813">pairs</span>&nbsp;<span class="op" id="8166819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166823">bb</span>&nbsp;<span class="op" id="8166826">:=</span>&nbsp;<span class="op" id="8166829">&amp;</span><span class="ident" id="8166830">bytes</span><span class="op" id="8166835">.</span><span class="ident" id="8166836">Buffer</span><span class="op" id="8166842">{</span><span class="op" id="8166843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166847">encoder</span>&nbsp;<span class="op" id="8166855">:=</span>&nbsp;<span class="ident" id="8166858">NewEncoder</span><span class="op" id="8166868">(</span><span class="ident" id="8166869">StdEncoding</span><span class="op" id="8166880">,</span>&nbsp;<span class="ident" id="8166882">bb</span><span class="op" id="8166884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166888">encoder</span><span class="op" id="8166895">.</span><span class="ident" id="8166896">Write</span><span class="op" id="8166901">(</span><span class="op" id="8166902">[</span><span class="op" id="8166903">]</span><span class="builtintype" id="8166904">byte</span><span class="op" id="8166908">(</span><span class="ident" id="8166909">p</span><span class="op" id="8166910">.</span><span class="ident" id="8166911">decoded</span><span class="op" id="8166918">)</span><span class="op" id="8166919">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166923">encoder</span><span class="op" id="8166930">.</span><span class="ident" id="8166931">Close</span><span class="op" id="8166936">(</span><span class="op" id="8166937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166941">testEqual</span><span class="op" id="8166950">(</span><span class="ident" id="8166951">t</span><span class="op" id="8166952">,</span>&nbsp;<span class="string" id="8166954">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8166980">,</span>&nbsp;<span class="ident" id="8166982">p</span><span class="op" id="8166983">.</span><span class="ident" id="8166984">decoded</span><span class="op" id="8166991">,</span>&nbsp;<span class="ident" id="8166993">bb</span><span class="op" id="8166995">.</span><span class="ident" id="8166996">String</span><span class="op" id="8167002">(</span><span class="op" id="8167003">)</span><span class="op" id="8167004">,</span>&nbsp;<span class="ident" id="8167006">p</span><span class="op" id="8167007">.</span><span class="ident" id="8167008">encoded</span><span class="op" id="8167015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8167018">}</span><br>
<span class="lineno"></span><span class="op" id="8167020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="8167023">func</span>&nbsp;<span class="ident" id="8167028">TestEncoderBuffering</span><span class="op" id="8167048">(</span><span class="ident" id="8167049">t</span>&nbsp;<span class="op" id="8167051">*</span><span class="ident" id="8167052">testing</span><span class="op" id="8167059">.</span><span class="ident" id="8167060">T</span><span class="op" id="8167061">)</span>&nbsp;<span class="op" id="8167063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167066">input</span>&nbsp;<span class="op" id="8167072">:=</span>&nbsp;<span class="op" id="8167075">[</span><span class="op" id="8167076">]</span><span class="builtintype" id="8167077">byte</span><span class="op" id="8167081">(</span><span class="ident" id="8167082">bigtest</span><span class="op" id="8167089">.</span><span class="ident" id="8167090">decoded</span><span class="op" id="8167097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8167100">for</span>&nbsp;<span class="ident" id="8167104">bs</span>&nbsp;<span class="op" id="8167107">:=</span>&nbsp;<span class="num" id="8167110">1</span><span class="op" id="8167111">;</span>&nbsp;<span class="ident" id="8167113">bs</span>&nbsp;<span class="op" id="8167116">&lt;=</span>&nbsp;<span class="num" id="8167119">12</span><span class="op" id="8167121">;</span>&nbsp;<span class="ident" id="8167123">bs</span><span class="op" id="8167125">++</span>&nbsp;<span class="op" id="8167128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167132">bb</span>&nbsp;<span class="op" id="8167135">:=</span>&nbsp;<span class="op" id="8167138">&amp;</span><span class="ident" id="8167139">bytes</span><span class="op" id="8167144">.</span><span class="ident" id="8167145">Buffer</span><span class="op" id="8167151">{</span><span class="op" id="8167152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167156">encoder</span>&nbsp;<span class="op" id="8167164">:=</span>&nbsp;<span class="ident" id="8167167">NewEncoder</span><span class="op" id="8167177">(</span><span class="ident" id="8167178">StdEncoding</span><span class="op" id="8167189">,</span>&nbsp;<span class="ident" id="8167191">bb</span><span class="op" id="8167193">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8167197">for</span>&nbsp;<span class="ident" id="8167201">pos</span>&nbsp;<span class="op" id="8167205">:=</span>&nbsp;<span class="num" id="8167208">0</span><span class="op" id="8167209">;</span>&nbsp;<span class="ident" id="8167211">pos</span>&nbsp;<span class="op" id="8167215">&lt;</span>&nbsp;<span class="builtinfunc" id="8167217">len</span><span class="op" id="8167220">(</span><span class="ident" id="8167221">input</span><span class="op" id="8167226">)</span><span class="op" id="8167227">;</span>&nbsp;<span class="ident" id="8167229">pos</span>&nbsp;<span class="op" id="8167233">+=</span>&nbsp;<span class="ident" id="8167236">bs</span>&nbsp;<span class="op" id="8167239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167244">end</span>&nbsp;<span class="op" id="8167248">:=</span>&nbsp;<span class="ident" id="8167251">pos</span>&nbsp;<span class="op" id="8167255">+</span>&nbsp;<span class="ident" id="8167257">bs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8167263">if</span>&nbsp;<span class="ident" id="8167266">end</span>&nbsp;<span class="op" id="8167270">&gt;</span>&nbsp;<span class="builtinfunc" id="8167272">len</span><span class="op" id="8167275">(</span><span class="ident" id="8167276">input</span><span class="op" id="8167281">)</span>&nbsp;<span class="op" id="8167283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167289">end</span>&nbsp;<span class="op" id="8167293">=</span>&nbsp;<span class="builtinfunc" id="8167295">len</span><span class="op" id="8167298">(</span><span class="ident" id="8167299">input</span><span class="op" id="8167304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8167309">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167314">n</span><span class="op" id="8167315">,</span>&nbsp;<span class="ident" id="8167317">err</span>&nbsp;<span class="op" id="8167321">:=</span>&nbsp;<span class="ident" id="8167324">encoder</span><span class="op" id="8167331">.</span><span class="ident" id="8167332">Write</span><span class="op" id="8167337">(</span><span class="ident" id="8167338">input</span><span class="op" id="8167343">[</span><span class="ident" id="8167344">pos</span><span class="op" id="8167347">:</span><span class="ident" id="8167348">end</span><span class="op" id="8167351">]</span><span class="op" id="8167352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167357">testEqual</span><span class="op" id="8167366">(</span><span class="ident" id="8167367">t</span><span class="op" id="8167368">,</span>&nbsp;<span class="string" id="8167370">&#34;Write(%q)&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8167404">,</span>&nbsp;<span class="ident" id="8167406">input</span><span class="op" id="8167411">[</span><span class="ident" id="8167412">pos</span><span class="op" id="8167415">:</span><span class="ident" id="8167416">end</span><span class="op" id="8167419">]</span><span class="op" id="8167420">,</span>&nbsp;<span class="ident" id="8167422">err</span><span class="op" id="8167425">,</span>&nbsp;<span class="builtintype" id="8167427">error</span><span class="op" id="8167432">(</span><span class="builtintype" id="8167433">nil</span><span class="op" id="8167436">)</span><span class="op" id="8167437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167442">testEqual</span><span class="op" id="8167451">(</span><span class="ident" id="8167452">t</span><span class="op" id="8167453">,</span>&nbsp;<span class="string" id="8167455">&#34;Write(%q)&nbsp;gave&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8167490">,</span>&nbsp;<span class="ident" id="8167492">input</span><span class="op" id="8167497">[</span><span class="ident" id="8167498">pos</span><span class="op" id="8167501">:</span><span class="ident" id="8167502">end</span><span class="op" id="8167505">]</span><span class="op" id="8167506">,</span>&nbsp;<span class="ident" id="8167508">n</span><span class="op" id="8167509">,</span>&nbsp;<span class="ident" id="8167511">end</span><span class="op" id="8167514">-</span><span class="ident" id="8167515">pos</span><span class="op" id="8167518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8167522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167526">err</span>&nbsp;<span class="op" id="8167530">:=</span>&nbsp;<span class="ident" id="8167533">encoder</span><span class="op" id="8167540">.</span><span class="ident" id="8167541">Close</span><span class="op" id="8167546">(</span><span class="op" id="8167547">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167551">testEqual</span><span class="op" id="8167560">(</span><span class="ident" id="8167561">t</span><span class="op" id="8167562">,</span>&nbsp;<span class="string" id="8167564">&#34;Close&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8167594">,</span>&nbsp;<span class="ident" id="8167596">err</span><span class="op" id="8167599">,</span>&nbsp;<span class="builtintype" id="8167601">error</span><span class="op" id="8167606">(</span><span class="builtintype" id="8167607">nil</span><span class="op" id="8167610">)</span><span class="op" id="8167611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167615">testEqual</span><span class="op" id="8167624">(</span><span class="ident" id="8167625">t</span><span class="op" id="8167626">,</span>&nbsp;<span class="string" id="8167628">&#34;Encoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8167661">,</span>&nbsp;<span class="ident" id="8167663">bs</span><span class="op" id="8167665">,</span>&nbsp;<span class="ident" id="8167667">bigtest</span><span class="op" id="8167674">.</span><span class="ident" id="8167675">decoded</span><span class="op" id="8167682">,</span>&nbsp;<span class="ident" id="8167684">bb</span><span class="op" id="8167686">.</span><span class="ident" id="8167687">String</span><span class="op" id="8167693">(</span><span class="op" id="8167694">)</span><span class="op" id="8167695">,</span>&nbsp;<span class="ident" id="8167697">bigtest</span><span class="op" id="8167704">.</span><span class="ident" id="8167705">encoded</span><span class="op" id="8167712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8167715">}</span><br>
<span class="lineno"></span><span class="op" id="8167717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="8167720">func</span>&nbsp;<span class="ident" id="8167725">TestDecode</span><span class="op" id="8167735">(</span><span class="ident" id="8167736">t</span>&nbsp;<span class="op" id="8167738">*</span><span class="ident" id="8167739">testing</span><span class="op" id="8167746">.</span><span class="ident" id="8167747">T</span><span class="op" id="8167748">)</span>&nbsp;<span class="op" id="8167750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8167753">for</span>&nbsp;<span class="ident" id="8167757">_</span><span class="op" id="8167758">,</span>&nbsp;<span class="ident" id="8167760">p</span>&nbsp;<span class="op" id="8167762">:=</span>&nbsp;<span class="keyword" id="8167765">range</span>&nbsp;<span class="ident" id="8167771">pairs</span>&nbsp;<span class="op" id="8167777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167781">dbuf</span>&nbsp;<span class="op" id="8167786">:=</span>&nbsp;<span class="builtinfunc" id="8167789">make</span><span class="op" id="8167793">(</span><span class="op" id="8167794">[</span><span class="op" id="8167795">]</span><span class="builtintype" id="8167796">byte</span><span class="op" id="8167800">,</span>&nbsp;<span class="ident" id="8167802">StdEncoding</span><span class="op" id="8167813">.</span><span class="ident" id="8167814">DecodedLen</span><span class="op" id="8167824">(</span><span class="builtinfunc" id="8167825">len</span><span class="op" id="8167828">(</span><span class="ident" id="8167829">p</span><span class="op" id="8167830">.</span><span class="ident" id="8167831">encoded</span><span class="op" id="8167838">)</span><span class="op" id="8167839">)</span><span class="op" id="8167840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167844">count</span><span class="op" id="8167849">,</span>&nbsp;<span class="ident" id="8167851">end</span><span class="op" id="8167854">,</span>&nbsp;<span class="ident" id="8167856">err</span>&nbsp;<span class="op" id="8167860">:=</span>&nbsp;<span class="ident" id="8167863">StdEncoding</span><span class="op" id="8167874">.</span><span class="ident" id="8167875">decode</span><span class="op" id="8167881">(</span><span class="ident" id="8167882">dbuf</span><span class="op" id="8167886">,</span>&nbsp;<span class="op" id="8167888">[</span><span class="op" id="8167889">]</span><span class="builtintype" id="8167890">byte</span><span class="op" id="8167894">(</span><span class="ident" id="8167895">p</span><span class="op" id="8167896">.</span><span class="ident" id="8167897">encoded</span><span class="op" id="8167904">)</span><span class="op" id="8167905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167909">testEqual</span><span class="op" id="8167918">(</span><span class="ident" id="8167919">t</span><span class="op" id="8167920">,</span>&nbsp;<span class="string" id="8167922">&#34;Decode(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8167954">,</span>&nbsp;<span class="ident" id="8167956">p</span><span class="op" id="8167957">.</span><span class="ident" id="8167958">encoded</span><span class="op" id="8167965">,</span>&nbsp;<span class="ident" id="8167967">err</span><span class="op" id="8167970">,</span>&nbsp;<span class="builtintype" id="8167972">error</span><span class="op" id="8167977">(</span><span class="builtintype" id="8167978">nil</span><span class="op" id="8167981">)</span><span class="op" id="8167982">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8167986">testEqual</span><span class="op" id="8167995">(</span><span class="ident" id="8167996">t</span><span class="op" id="8167997">,</span>&nbsp;<span class="string" id="8167999">&#34;Decode(%q)&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8168032">,</span>&nbsp;<span class="ident" id="8168034">p</span><span class="op" id="8168035">.</span><span class="ident" id="8168036">encoded</span><span class="op" id="8168043">,</span>&nbsp;<span class="ident" id="8168045">count</span><span class="op" id="8168050">,</span>&nbsp;<span class="builtinfunc" id="8168052">len</span><span class="op" id="8168055">(</span><span class="ident" id="8168056">p</span><span class="op" id="8168057">.</span><span class="ident" id="8168058">decoded</span><span class="op" id="8168065">)</span><span class="op" id="8168066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8168070">if</span>&nbsp;<span class="builtinfunc" id="8168073">len</span><span class="op" id="8168076">(</span><span class="ident" id="8168077">p</span><span class="op" id="8168078">.</span><span class="ident" id="8168079">encoded</span><span class="op" id="8168086">)</span>&nbsp;<span class="op" id="8168088">&gt;</span>&nbsp;<span class="num" id="8168090">0</span>&nbsp;<span class="op" id="8168092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168097">testEqual</span><span class="op" id="8168106">(</span><span class="ident" id="8168107">t</span><span class="op" id="8168108">,</span>&nbsp;<span class="string" id="8168110">&#34;Decode(%q)&nbsp;=&nbsp;end&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8168140">,</span>&nbsp;<span class="ident" id="8168142">p</span><span class="op" id="8168143">.</span><span class="ident" id="8168144">encoded</span><span class="op" id="8168151">,</span>&nbsp;<span class="ident" id="8168153">end</span><span class="op" id="8168156">,</span>&nbsp;<span class="op" id="8168158">(</span><span class="ident" id="8168159">p</span><span class="op" id="8168160">.</span><span class="ident" id="8168161">encoded</span><span class="op" id="8168168">[</span><span class="builtinfunc" id="8168169">len</span><span class="op" id="8168172">(</span><span class="ident" id="8168173">p</span><span class="op" id="8168174">.</span><span class="ident" id="8168175">encoded</span><span class="op" id="8168182">)</span><span class="op" id="8168183">-</span><span class="num" id="8168184">1</span><span class="op" id="8168185">]</span>&nbsp;<span class="op" id="8168187">==</span>&nbsp;<span class="string" id="8168190">&#39;=&#39;</span><span class="op" id="8168193">)</span><span class="op" id="8168194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8168198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168202">testEqual</span><span class="op" id="8168211">(</span><span class="ident" id="8168212">t</span><span class="op" id="8168213">,</span>&nbsp;<span class="string" id="8168215">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8168241">,</span>&nbsp;<span class="ident" id="8168243">p</span><span class="op" id="8168244">.</span><span class="ident" id="8168245">encoded</span><span class="op" id="8168252">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8168257">string</span><span class="op" id="8168263">(</span><span class="ident" id="8168264">dbuf</span><span class="op" id="8168268">[</span><span class="num" id="8168269">0</span><span class="op" id="8168270">:</span><span class="ident" id="8168271">count</span><span class="op" id="8168276">]</span><span class="op" id="8168277">)</span><span class="op" id="8168278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168283">p</span><span class="op" id="8168284">.</span><span class="ident" id="8168285">decoded</span><span class="op" id="8168292">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168297">dbuf</span><span class="op" id="8168301">,</span>&nbsp;<span class="ident" id="8168303">err</span>&nbsp;<span class="op" id="8168307">=</span>&nbsp;<span class="ident" id="8168309">StdEncoding</span><span class="op" id="8168320">.</span><span class="ident" id="8168321">DecodeString</span><span class="op" id="8168333">(</span><span class="ident" id="8168334">p</span><span class="op" id="8168335">.</span><span class="ident" id="8168336">encoded</span><span class="op" id="8168343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168347">testEqual</span><span class="op" id="8168356">(</span><span class="ident" id="8168357">t</span><span class="op" id="8168358">,</span>&nbsp;<span class="string" id="8168360">&#34;DecodeString(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8168398">,</span>&nbsp;<span class="ident" id="8168400">p</span><span class="op" id="8168401">.</span><span class="ident" id="8168402">encoded</span><span class="op" id="8168409">,</span>&nbsp;<span class="ident" id="8168411">err</span><span class="op" id="8168414">,</span>&nbsp;<span class="builtintype" id="8168416">error</span><span class="op" id="8168421">(</span><span class="builtintype" id="8168422">nil</span><span class="op" id="8168425">)</span><span class="op" id="8168426">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168430">testEqual</span><span class="op" id="8168439">(</span><span class="ident" id="8168440">t</span><span class="op" id="8168441">,</span>&nbsp;<span class="string" id="8168443">&#34;DecodeString(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8168475">,</span>&nbsp;<span class="ident" id="8168477">p</span><span class="op" id="8168478">.</span><span class="ident" id="8168479">encoded</span><span class="op" id="8168486">,</span>&nbsp;<span class="builtintype" id="8168488">string</span><span class="op" id="8168494">(</span><span class="ident" id="8168495">dbuf</span><span class="op" id="8168499">)</span><span class="op" id="8168500">,</span>&nbsp;<span class="ident" id="8168502">p</span><span class="op" id="8168503">.</span><span class="ident" id="8168504">decoded</span><span class="op" id="8168511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8168514">}</span><br>
<span class="lineno"></span><span class="op" id="8168516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8168519">func</span>&nbsp;<span class="ident" id="8168524">TestDecoder</span><span class="op" id="8168535">(</span><span class="ident" id="8168536">t</span>&nbsp;<span class="op" id="8168538">*</span><span class="ident" id="8168539">testing</span><span class="op" id="8168546">.</span><span class="ident" id="8168547">T</span><span class="op" id="8168548">)</span>&nbsp;<span class="op" id="8168550">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8168553">for</span>&nbsp;<span class="ident" id="8168557">_</span><span class="op" id="8168558">,</span>&nbsp;<span class="ident" id="8168560">p</span>&nbsp;<span class="op" id="8168562">:=</span>&nbsp;<span class="keyword" id="8168565">range</span>&nbsp;<span class="ident" id="8168571">pairs</span>&nbsp;<span class="op" id="8168577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168581">decoder</span>&nbsp;<span class="op" id="8168589">:=</span>&nbsp;<span class="ident" id="8168592">NewDecoder</span><span class="op" id="8168602">(</span><span class="ident" id="8168603">StdEncoding</span><span class="op" id="8168614">,</span>&nbsp;<span class="ident" id="8168616">strings</span><span class="op" id="8168623">.</span><span class="ident" id="8168624">NewReader</span><span class="op" id="8168633">(</span><span class="ident" id="8168634">p</span><span class="op" id="8168635">.</span><span class="ident" id="8168636">encoded</span><span class="op" id="8168643">)</span><span class="op" id="8168644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168648">dbuf</span>&nbsp;<span class="op" id="8168653">:=</span>&nbsp;<span class="builtinfunc" id="8168656">make</span><span class="op" id="8168660">(</span><span class="op" id="8168661">[</span><span class="op" id="8168662">]</span><span class="builtintype" id="8168663">byte</span><span class="op" id="8168667">,</span>&nbsp;<span class="ident" id="8168669">StdEncoding</span><span class="op" id="8168680">.</span><span class="ident" id="8168681">DecodedLen</span><span class="op" id="8168691">(</span><span class="builtinfunc" id="8168692">len</span><span class="op" id="8168695">(</span><span class="ident" id="8168696">p</span><span class="op" id="8168697">.</span><span class="ident" id="8168698">encoded</span><span class="op" id="8168705">)</span><span class="op" id="8168706">)</span><span class="op" id="8168707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168711">count</span><span class="op" id="8168716">,</span>&nbsp;<span class="ident" id="8168718">err</span>&nbsp;<span class="op" id="8168722">:=</span>&nbsp;<span class="ident" id="8168725">decoder</span><span class="op" id="8168732">.</span><span class="ident" id="8168733">Read</span><span class="op" id="8168737">(</span><span class="ident" id="8168738">dbuf</span><span class="op" id="8168742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8168746">if</span>&nbsp;<span class="ident" id="8168749">err</span>&nbsp;<span class="op" id="8168753">!=</span>&nbsp;<span class="builtintype" id="8168756">nil</span>&nbsp;<span class="op" id="8168760">&amp;&amp;</span>&nbsp;<span class="ident" id="8168763">err</span>&nbsp;<span class="op" id="8168767">!=</span>&nbsp;<span class="ident" id="8168770">io</span><span class="op" id="8168772">.</span><span class="ident" id="8168773">EOF</span>&nbsp;<span class="op" id="8168777">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168782">t</span><span class="op" id="8168783">.</span><span class="ident" id="8168784">Fatal</span><span class="op" id="8168789">(</span><span class="string" id="8168790">&#34;Read&nbsp;failed&#34;</span><span class="op" id="8168803">,</span>&nbsp;<span class="ident" id="8168805">err</span><span class="op" id="8168808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8168812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168816">testEqual</span><span class="op" id="8168825">(</span><span class="ident" id="8168826">t</span><span class="op" id="8168827">,</span>&nbsp;<span class="string" id="8168829">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8168864">,</span>&nbsp;<span class="ident" id="8168866">p</span><span class="op" id="8168867">.</span><span class="ident" id="8168868">encoded</span><span class="op" id="8168875">,</span>&nbsp;<span class="ident" id="8168877">count</span><span class="op" id="8168882">,</span>&nbsp;<span class="builtinfunc" id="8168884">len</span><span class="op" id="8168887">(</span><span class="ident" id="8168888">p</span><span class="op" id="8168889">.</span><span class="ident" id="8168890">decoded</span><span class="op" id="8168897">)</span><span class="op" id="8168898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8168902">testEqual</span><span class="op" id="8168911">(</span><span class="ident" id="8168912">t</span><span class="op" id="8168913">,</span>&nbsp;<span class="string" id="8168915">&#34;Decoding&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8168945">,</span>&nbsp;<span class="ident" id="8168947">p</span><span class="op" id="8168948">.</span><span class="ident" id="8168949">encoded</span><span class="op" id="8168956">,</span>&nbsp;<span class="builtintype" id="8168958">string</span><span class="op" id="8168964">(</span><span class="ident" id="8168965">dbuf</span><span class="op" id="8168969">[</span><span class="num" id="8168970">0</span><span class="op" id="8168971">:</span><span class="ident" id="8168972">count</span><span class="op" id="8168977">]</span><span class="op" id="8168978">)</span><span class="op" id="8168979">,</span>&nbsp;<span class="ident" id="8168981">p</span><span class="op" id="8168982">.</span><span class="ident" id="8168983">decoded</span><span class="op" id="8168990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8168994">if</span>&nbsp;<span class="ident" id="8168997">err</span>&nbsp;<span class="op" id="8169001">!=</span>&nbsp;<span class="ident" id="8169004">io</span><span class="op" id="8169006">.</span><span class="ident" id="8169007">EOF</span>&nbsp;<span class="op" id="8169011">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169016">count</span><span class="op" id="8169021">,</span>&nbsp;<span class="ident" id="8169023">err</span>&nbsp;<span class="op" id="8169027">=</span>&nbsp;<span class="ident" id="8169029">decoder</span><span class="op" id="8169036">.</span><span class="ident" id="8169037">Read</span><span class="op" id="8169041">(</span><span class="ident" id="8169042">dbuf</span><span class="op" id="8169046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169054">testEqual</span><span class="op" id="8169063">(</span><span class="ident" id="8169064">t</span><span class="op" id="8169065">,</span>&nbsp;<span class="string" id="8169067">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8169095">,</span>&nbsp;<span class="ident" id="8169097">p</span><span class="op" id="8169098">.</span><span class="ident" id="8169099">encoded</span><span class="op" id="8169106">,</span>&nbsp;<span class="ident" id="8169108">err</span><span class="op" id="8169111">,</span>&nbsp;<span class="ident" id="8169113">io</span><span class="op" id="8169115">.</span><span class="ident" id="8169116">EOF</span><span class="op" id="8169119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169122">}</span><br>
<span class="lineno"></span><span class="op" id="8169124">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="8169127">func</span>&nbsp;<span class="ident" id="8169132">TestDecoderBuffering</span><span class="op" id="8169152">(</span><span class="ident" id="8169153">t</span>&nbsp;<span class="op" id="8169155">*</span><span class="ident" id="8169156">testing</span><span class="op" id="8169163">.</span><span class="ident" id="8169164">T</span><span class="op" id="8169165">)</span>&nbsp;<span class="op" id="8169167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8169170">for</span>&nbsp;<span class="ident" id="8169174">bs</span>&nbsp;<span class="op" id="8169177">:=</span>&nbsp;<span class="num" id="8169180">1</span><span class="op" id="8169181">;</span>&nbsp;<span class="ident" id="8169183">bs</span>&nbsp;<span class="op" id="8169186">&lt;=</span>&nbsp;<span class="num" id="8169189">12</span><span class="op" id="8169191">;</span>&nbsp;<span class="ident" id="8169193">bs</span><span class="op" id="8169195">++</span>&nbsp;<span class="op" id="8169198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169202">decoder</span>&nbsp;<span class="op" id="8169210">:=</span>&nbsp;<span class="ident" id="8169213">NewDecoder</span><span class="op" id="8169223">(</span><span class="ident" id="8169224">StdEncoding</span><span class="op" id="8169235">,</span>&nbsp;<span class="ident" id="8169237">strings</span><span class="op" id="8169244">.</span><span class="ident" id="8169245">NewReader</span><span class="op" id="8169254">(</span><span class="ident" id="8169255">bigtest</span><span class="op" id="8169262">.</span><span class="ident" id="8169263">encoded</span><span class="op" id="8169270">)</span><span class="op" id="8169271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169275">buf</span>&nbsp;<span class="op" id="8169279">:=</span>&nbsp;<span class="builtinfunc" id="8169282">make</span><span class="op" id="8169286">(</span><span class="op" id="8169287">[</span><span class="op" id="8169288">]</span><span class="builtintype" id="8169289">byte</span><span class="op" id="8169293">,</span>&nbsp;<span class="builtinfunc" id="8169295">len</span><span class="op" id="8169298">(</span><span class="ident" id="8169299">bigtest</span><span class="op" id="8169306">.</span><span class="ident" id="8169307">decoded</span><span class="op" id="8169314">)</span><span class="op" id="8169315">+</span><span class="num" id="8169316">12</span><span class="op" id="8169318">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8169322">var</span>&nbsp;<span class="ident" id="8169326">total</span>&nbsp;<span class="builtintype" id="8169332">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8169338">for</span>&nbsp;<span class="ident" id="8169342">total</span>&nbsp;<span class="op" id="8169348">=</span>&nbsp;<span class="num" id="8169350">0</span><span class="op" id="8169351">;</span>&nbsp;<span class="ident" id="8169353">total</span>&nbsp;<span class="op" id="8169359">&lt;</span>&nbsp;<span class="builtinfunc" id="8169361">len</span><span class="op" id="8169364">(</span><span class="ident" id="8169365">bigtest</span><span class="op" id="8169372">.</span><span class="ident" id="8169373">decoded</span><span class="op" id="8169380">)</span><span class="op" id="8169381">;</span>&nbsp;<span class="op" id="8169383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169388">n</span><span class="op" id="8169389">,</span>&nbsp;<span class="ident" id="8169391">err</span>&nbsp;<span class="op" id="8169395">:=</span>&nbsp;<span class="ident" id="8169398">decoder</span><span class="op" id="8169405">.</span><span class="ident" id="8169406">Read</span><span class="op" id="8169410">(</span><span class="ident" id="8169411">buf</span><span class="op" id="8169414">[</span><span class="ident" id="8169415">total</span>&nbsp;<span class="op" id="8169421">:</span>&nbsp;<span class="ident" id="8169423">total</span><span class="op" id="8169428">+</span><span class="ident" id="8169429">bs</span><span class="op" id="8169431">]</span><span class="op" id="8169432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169437">testEqual</span><span class="op" id="8169446">(</span><span class="ident" id="8169447">t</span><span class="op" id="8169448">,</span>&nbsp;<span class="string" id="8169450">&#34;Read&nbsp;from&nbsp;%q&nbsp;at&nbsp;pos&nbsp;%d&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;%v&#34;</span><span class="op" id="8169495">,</span>&nbsp;<span class="ident" id="8169497">bigtest</span><span class="op" id="8169504">.</span><span class="ident" id="8169505">encoded</span><span class="op" id="8169512">,</span>&nbsp;<span class="ident" id="8169514">total</span><span class="op" id="8169519">,</span>&nbsp;<span class="ident" id="8169521">n</span><span class="op" id="8169522">,</span>&nbsp;<span class="ident" id="8169524">err</span><span class="op" id="8169527">,</span>&nbsp;<span class="builtintype" id="8169529">error</span><span class="op" id="8169534">(</span><span class="builtintype" id="8169535">nil</span><span class="op" id="8169538">)</span><span class="op" id="8169539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169544">total</span>&nbsp;<span class="op" id="8169550">+=</span>&nbsp;<span class="ident" id="8169553">n</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169561">testEqual</span><span class="op" id="8169570">(</span><span class="ident" id="8169571">t</span><span class="op" id="8169572">,</span>&nbsp;<span class="string" id="8169574">&#34;Decoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8169607">,</span>&nbsp;<span class="ident" id="8169609">bs</span><span class="op" id="8169611">,</span>&nbsp;<span class="ident" id="8169613">bigtest</span><span class="op" id="8169620">.</span><span class="ident" id="8169621">encoded</span><span class="op" id="8169628">,</span>&nbsp;<span class="builtintype" id="8169630">string</span><span class="op" id="8169636">(</span><span class="ident" id="8169637">buf</span><span class="op" id="8169640">[</span><span class="num" id="8169641">0</span><span class="op" id="8169642">:</span><span class="ident" id="8169643">total</span><span class="op" id="8169648">]</span><span class="op" id="8169649">)</span><span class="op" id="8169650">,</span>&nbsp;<span class="ident" id="8169652">bigtest</span><span class="op" id="8169659">.</span><span class="ident" id="8169660">decoded</span><span class="op" id="8169667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169670">}</span><br>
<span class="lineno"></span><span class="op" id="8169672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="8169675">func</span>&nbsp;<span class="ident" id="8169680">TestDecodeCorrupt</span><span class="op" id="8169697">(</span><span class="ident" id="8169698">t</span>&nbsp;<span class="op" id="8169700">*</span><span class="ident" id="8169701">testing</span><span class="op" id="8169708">.</span><span class="ident" id="8169709">T</span><span class="op" id="8169710">)</span>&nbsp;<span class="op" id="8169712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169715">testCases</span>&nbsp;<span class="op" id="8169725">:=</span>&nbsp;<span class="op" id="8169728">[</span><span class="op" id="8169729">]</span><span class="keyword" id="8169730">struct</span>&nbsp;<span class="op" id="8169737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169741">input</span>&nbsp;&nbsp;<span class="builtintype" id="8169748">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8169757">offset</span>&nbsp;<span class="builtintype" id="8169764">int</span>&nbsp;<span class="comment" id="8169768">//&nbsp;-1&nbsp;means&nbsp;no&nbsp;corruption.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169796">}</span><span class="op" id="8169797">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169801">{</span><span class="string" id="8169802">&#34;&#34;</span><span class="op" id="8169804">,</span>&nbsp;<span class="op" id="8169806">-</span><span class="num" id="8169807">1</span><span class="op" id="8169808">}</span><span class="op" id="8169809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169813">{</span><span class="string" id="8169814">&#34;!!!!&#34;</span><span class="op" id="8169820">,</span>&nbsp;<span class="num" id="8169822">0</span><span class="op" id="8169823">}</span><span class="op" id="8169824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169828">{</span><span class="string" id="8169829">&#34;x===&#34;</span><span class="op" id="8169835">,</span>&nbsp;<span class="num" id="8169837">0</span><span class="op" id="8169838">}</span><span class="op" id="8169839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169843">{</span><span class="string" id="8169844">&#34;AA=A====&#34;</span><span class="op" id="8169854">,</span>&nbsp;<span class="num" id="8169856">2</span><span class="op" id="8169857">}</span><span class="op" id="8169858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169862">{</span><span class="string" id="8169863">&#34;AAA=AAAA&#34;</span><span class="op" id="8169873">,</span>&nbsp;<span class="num" id="8169875">3</span><span class="op" id="8169876">}</span><span class="op" id="8169877">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169881">{</span><span class="string" id="8169882">&#34;MMMMMMMMM&#34;</span><span class="op" id="8169893">,</span>&nbsp;<span class="num" id="8169895">8</span><span class="op" id="8169896">}</span><span class="op" id="8169897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169901">{</span><span class="string" id="8169902">&#34;MMMMMM&#34;</span><span class="op" id="8169910">,</span>&nbsp;<span class="num" id="8169912">0</span><span class="op" id="8169913">}</span><span class="op" id="8169914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169918">{</span><span class="string" id="8169919">&#34;A=&#34;</span><span class="op" id="8169923">,</span>&nbsp;<span class="num" id="8169925">1</span><span class="op" id="8169926">}</span><span class="op" id="8169927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169931">{</span><span class="string" id="8169932">&#34;AA=&#34;</span><span class="op" id="8169937">,</span>&nbsp;<span class="num" id="8169939">3</span><span class="op" id="8169940">}</span><span class="op" id="8169941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169945">{</span><span class="string" id="8169946">&#34;AA==&#34;</span><span class="op" id="8169952">,</span>&nbsp;<span class="num" id="8169954">4</span><span class="op" id="8169955">}</span><span class="op" id="8169956">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169960">{</span><span class="string" id="8169961">&#34;AA===&#34;</span><span class="op" id="8169968">,</span>&nbsp;<span class="num" id="8169970">5</span><span class="op" id="8169971">}</span><span class="op" id="8169972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169976">{</span><span class="string" id="8169977">&#34;AAAA=&#34;</span><span class="op" id="8169984">,</span>&nbsp;<span class="num" id="8169986">5</span><span class="op" id="8169987">}</span><span class="op" id="8169988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8169992">{</span><span class="string" id="8169993">&#34;AAAA==&#34;</span><span class="op" id="8170001">,</span>&nbsp;<span class="num" id="8170003">6</span><span class="op" id="8170004">}</span><span class="op" id="8170005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170009">{</span><span class="string" id="8170010">&#34;AAAAA=&#34;</span><span class="op" id="8170018">,</span>&nbsp;<span class="num" id="8170020">6</span><span class="op" id="8170021">}</span><span class="op" id="8170022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170026">{</span><span class="string" id="8170027">&#34;AAAAA==&#34;</span><span class="op" id="8170036">,</span>&nbsp;<span class="num" id="8170038">7</span><span class="op" id="8170039">}</span><span class="op" id="8170040">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170044">{</span><span class="string" id="8170045">&#34;A=======&#34;</span><span class="op" id="8170055">,</span>&nbsp;<span class="num" id="8170057">1</span><span class="op" id="8170058">}</span><span class="op" id="8170059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170063">{</span><span class="string" id="8170064">&#34;AA======&#34;</span><span class="op" id="8170074">,</span>&nbsp;<span class="op" id="8170076">-</span><span class="num" id="8170077">1</span><span class="op" id="8170078">}</span><span class="op" id="8170079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170083">{</span><span class="string" id="8170084">&#34;AAA=====&#34;</span><span class="op" id="8170094">,</span>&nbsp;<span class="num" id="8170096">3</span><span class="op" id="8170097">}</span><span class="op" id="8170098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170102">{</span><span class="string" id="8170103">&#34;AAAA====&#34;</span><span class="op" id="8170113">,</span>&nbsp;<span class="op" id="8170115">-</span><span class="num" id="8170116">1</span><span class="op" id="8170117">}</span><span class="op" id="8170118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170122">{</span><span class="string" id="8170123">&#34;AAAAA===&#34;</span><span class="op" id="8170133">,</span>&nbsp;<span class="op" id="8170135">-</span><span class="num" id="8170136">1</span><span class="op" id="8170137">}</span><span class="op" id="8170138">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170142">{</span><span class="string" id="8170143">&#34;AAAAAA==&#34;</span><span class="op" id="8170153">,</span>&nbsp;<span class="num" id="8170155">6</span><span class="op" id="8170156">}</span><span class="op" id="8170157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170161">{</span><span class="string" id="8170162">&#34;AAAAAAA=&#34;</span><span class="op" id="8170172">,</span>&nbsp;<span class="op" id="8170174">-</span><span class="num" id="8170175">1</span><span class="op" id="8170176">}</span><span class="op" id="8170177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170181">{</span><span class="string" id="8170182">&#34;AAAAAAAA&#34;</span><span class="op" id="8170192">,</span>&nbsp;<span class="op" id="8170194">-</span><span class="num" id="8170195">1</span><span class="op" id="8170196">}</span><span class="op" id="8170197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8170203">for</span>&nbsp;<span class="ident" id="8170207">_</span><span class="op" id="8170208">,</span>&nbsp;<span class="ident" id="8170210">tc</span>&nbsp;<span class="op" id="8170213">:=</span>&nbsp;<span class="keyword" id="8170216">range</span>&nbsp;<span class="ident" id="8170222">testCases</span>&nbsp;<span class="op" id="8170232">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170236">dbuf</span>&nbsp;<span class="op" id="8170241">:=</span>&nbsp;<span class="builtinfunc" id="8170244">make</span><span class="op" id="8170248">(</span><span class="op" id="8170249">[</span><span class="op" id="8170250">]</span><span class="builtintype" id="8170251">byte</span><span class="op" id="8170255">,</span>&nbsp;<span class="ident" id="8170257">StdEncoding</span><span class="op" id="8170268">.</span><span class="ident" id="8170269">DecodedLen</span><span class="op" id="8170279">(</span><span class="builtinfunc" id="8170280">len</span><span class="op" id="8170283">(</span><span class="ident" id="8170284">tc</span><span class="op" id="8170286">.</span><span class="ident" id="8170287">input</span><span class="op" id="8170292">)</span><span class="op" id="8170293">)</span><span class="op" id="8170294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170298">_</span><span class="op" id="8170299">,</span>&nbsp;<span class="ident" id="8170301">err</span>&nbsp;<span class="op" id="8170305">:=</span>&nbsp;<span class="ident" id="8170308">StdEncoding</span><span class="op" id="8170319">.</span><span class="ident" id="8170320">Decode</span><span class="op" id="8170326">(</span><span class="ident" id="8170327">dbuf</span><span class="op" id="8170331">,</span>&nbsp;<span class="op" id="8170333">[</span><span class="op" id="8170334">]</span><span class="builtintype" id="8170335">byte</span><span class="op" id="8170339">(</span><span class="ident" id="8170340">tc</span><span class="op" id="8170342">.</span><span class="ident" id="8170343">input</span><span class="op" id="8170348">)</span><span class="op" id="8170349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8170353">if</span>&nbsp;<span class="ident" id="8170356">tc</span><span class="op" id="8170358">.</span><span class="ident" id="8170359">offset</span>&nbsp;<span class="op" id="8170366">==</span>&nbsp;<span class="op" id="8170369">-</span><span class="num" id="8170370">1</span>&nbsp;<span class="op" id="8170372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8170377">if</span>&nbsp;<span class="ident" id="8170380">err</span>&nbsp;<span class="op" id="8170384">!=</span>&nbsp;<span class="builtintype" id="8170387">nil</span>&nbsp;<span class="op" id="8170391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170397">t</span><span class="op" id="8170398">.</span><span class="ident" id="8170399">Error</span><span class="op" id="8170404">(</span><span class="string" id="8170405">&#34;Decoder&nbsp;wrongly&nbsp;detected&nbsp;coruption&nbsp;in&#34;</span><span class="op" id="8170444">,</span>&nbsp;<span class="ident" id="8170446">tc</span><span class="op" id="8170448">.</span><span class="ident" id="8170449">input</span><span class="op" id="8170454">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8170464">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8170479">switch</span>&nbsp;<span class="ident" id="8170486">err</span>&nbsp;<span class="op" id="8170490">:=</span>&nbsp;<span class="ident" id="8170493">err</span><span class="op" id="8170496">.</span><span class="op" id="8170497">(</span><span class="keyword" id="8170498">type</span><span class="op" id="8170502">)</span>&nbsp;<span class="op" id="8170504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8170508">case</span>&nbsp;<span class="ident" id="8170513">CorruptInputError</span><span class="op" id="8170530">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170535">testEqual</span><span class="op" id="8170544">(</span><span class="ident" id="8170545">t</span><span class="op" id="8170546">,</span>&nbsp;<span class="string" id="8170548">&#34;Corruption&nbsp;in&nbsp;%q&nbsp;at&nbsp;offset&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8170588">,</span>&nbsp;<span class="ident" id="8170590">tc</span><span class="op" id="8170592">.</span><span class="ident" id="8170593">input</span><span class="op" id="8170598">,</span>&nbsp;<span class="builtintype" id="8170600">int</span><span class="op" id="8170603">(</span><span class="ident" id="8170604">err</span><span class="op" id="8170607">)</span><span class="op" id="8170608">,</span>&nbsp;<span class="ident" id="8170610">tc</span><span class="op" id="8170612">.</span><span class="ident" id="8170613">offset</span><span class="op" id="8170619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8170623">default</span><span class="op" id="8170630">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170635">t</span><span class="op" id="8170636">.</span><span class="ident" id="8170637">Error</span><span class="op" id="8170642">(</span><span class="string" id="8170643">&#34;Decoder&nbsp;failed&nbsp;to&nbsp;detect&nbsp;corruption&nbsp;in&#34;</span><span class="op" id="8170683">,</span>&nbsp;<span class="ident" id="8170685">tc</span><span class="op" id="8170687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170694">}</span><br>
<span class="lineno">185</span><span class="op" id="8170696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8170699">func</span>&nbsp;<span class="ident" id="8170704">TestBig</span><span class="op" id="8170711">(</span><span class="ident" id="8170712">t</span>&nbsp;<span class="op" id="8170714">*</span><span class="ident" id="8170715">testing</span><span class="op" id="8170722">.</span><span class="ident" id="8170723">T</span><span class="op" id="8170724">)</span>&nbsp;<span class="op" id="8170726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170729">n</span>&nbsp;<span class="op" id="8170731">:=</span>&nbsp;<span class="num" id="8170734">3</span><span class="op" id="8170735">*</span><span class="num" id="8170736">1000</span>&nbsp;<span class="op" id="8170741">+</span>&nbsp;<span class="num" id="8170743">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170746">raw</span>&nbsp;<span class="op" id="8170750">:=</span>&nbsp;<span class="builtinfunc" id="8170753">make</span><span class="op" id="8170757">(</span><span class="op" id="8170758">[</span><span class="op" id="8170759">]</span><span class="builtintype" id="8170760">byte</span><span class="op" id="8170764">,</span>&nbsp;<span class="ident" id="8170766">n</span><span class="op" id="8170767">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8170770">const</span>&nbsp;<span class="ident" id="8170776">alpha</span>&nbsp;<span class="op" id="8170782">=</span>&nbsp;<span class="string" id="8170784">&#34;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8170850">for</span>&nbsp;<span class="ident" id="8170854">i</span>&nbsp;<span class="op" id="8170856">:=</span>&nbsp;<span class="num" id="8170859">0</span><span class="op" id="8170860">;</span>&nbsp;<span class="ident" id="8170862">i</span>&nbsp;<span class="op" id="8170864">&lt;</span>&nbsp;<span class="ident" id="8170866">n</span><span class="op" id="8170867">;</span>&nbsp;<span class="ident" id="8170869">i</span><span class="op" id="8170870">++</span>&nbsp;<span class="op" id="8170873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170877">raw</span><span class="op" id="8170880">[</span><span class="ident" id="8170881">i</span><span class="op" id="8170882">]</span>&nbsp;<span class="op" id="8170884">=</span>&nbsp;<span class="ident" id="8170886">alpha</span><span class="op" id="8170891">[</span><span class="ident" id="8170892">i</span><span class="op" id="8170893">%</span><span class="builtinfunc" id="8170894">len</span><span class="op" id="8170897">(</span><span class="ident" id="8170898">alpha</span><span class="op" id="8170903">)</span><span class="op" id="8170904">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8170907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170910">encoded</span>&nbsp;<span class="op" id="8170918">:=</span>&nbsp;<span class="builtinfunc" id="8170921">new</span><span class="op" id="8170924">(</span><span class="ident" id="8170925">bytes</span><span class="op" id="8170930">.</span><span class="ident" id="8170931">Buffer</span><span class="op" id="8170937">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170940">w</span>&nbsp;<span class="op" id="8170942">:=</span>&nbsp;<span class="ident" id="8170945">NewEncoder</span><span class="op" id="8170955">(</span><span class="ident" id="8170956">StdEncoding</span><span class="op" id="8170967">,</span>&nbsp;<span class="ident" id="8170969">encoded</span><span class="op" id="8170976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8170979">nn</span><span class="op" id="8170981">,</span>&nbsp;<span class="ident" id="8170983">err</span>&nbsp;<span class="op" id="8170987">:=</span>&nbsp;<span class="ident" id="8170990">w</span><span class="op" id="8170991">.</span><span class="ident" id="8170992">Write</span><span class="op" id="8170997">(</span><span class="ident" id="8170998">raw</span><span class="op" id="8171001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171004">if</span>&nbsp;<span class="ident" id="8171007">nn</span>&nbsp;<span class="op" id="8171010">!=</span>&nbsp;<span class="ident" id="8171013">n</span>&nbsp;<span class="op" id="8171015">||</span>&nbsp;<span class="ident" id="8171018">err</span>&nbsp;<span class="op" id="8171022">!=</span>&nbsp;<span class="builtintype" id="8171025">nil</span>&nbsp;<span class="op" id="8171029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8171033">t</span><span class="op" id="8171034">.</span><span class="ident" id="8171035">Fatalf</span><span class="op" id="8171041">(</span><span class="string" id="8171042">&#34;Encoder.Write(raw)&nbsp;=&nbsp;%d,&nbsp;%v&nbsp;want&nbsp;%d,&nbsp;nil&#34;</span><span class="op" id="8171084">,</span>&nbsp;<span class="ident" id="8171086">nn</span><span class="op" id="8171088">,</span>&nbsp;<span class="ident" id="8171090">err</span><span class="op" id="8171093">,</span>&nbsp;<span class="ident" id="8171095">n</span><span class="op" id="8171096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8171099">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8171102">err</span>&nbsp;<span class="op" id="8171106">=</span>&nbsp;<span class="ident" id="8171108">w</span><span class="op" id="8171109">.</span><span class="ident" id="8171110">Close</span><span class="op" id="8171115">(</span><span class="op" id="8171116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171119">if</span>&nbsp;<span class="ident" id="8171122">err</span>&nbsp;<span class="op" id="8171126">!=</span>&nbsp;<span class="builtintype" id="8171129">nil</span>&nbsp;<span class="op" id="8171133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8171137">t</span><span class="op" id="8171138">.</span><span class="ident" id="8171139">Fatalf</span><span class="op" id="8171145">(</span><span class="string" id="8171146">&#34;Encoder.Close()&nbsp;=&nbsp;%v&nbsp;want&nbsp;nil&#34;</span><span class="op" id="8171177">,</span>&nbsp;<span class="ident" id="8171179">err</span><span class="op" id="8171182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8171185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8171188">decoded</span><span class="op" id="8171195">,</span>&nbsp;<span class="ident" id="8171197">err</span>&nbsp;<span class="op" id="8171201">:=</span>&nbsp;<span class="ident" id="8171204">ioutil</span><span class="op" id="8171210">.</span><span class="ident" id="8171211">ReadAll</span><span class="op" id="8171218">(</span><span class="ident" id="8171219">NewDecoder</span><span class="op" id="8171229">(</span><span class="ident" id="8171230">StdEncoding</span><span class="op" id="8171241">,</span>&nbsp;<span class="ident" id="8171243">encoded</span><span class="op" id="8171250">)</span><span class="op" id="8171251">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171254">if</span>&nbsp;<span class="ident" id="8171257">err</span>&nbsp;<span class="op" id="8171261">!=</span>&nbsp;<span class="builtintype" id="8171264">nil</span>&nbsp;<span class="op" id="8171268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8171272">t</span><span class="op" id="8171273">.</span><span class="ident" id="8171274">Fatalf</span><span class="op" id="8171280">(</span><span class="string" id="8171281">&#34;ioutil.ReadAll(NewDecoder(...)):&nbsp;%v&#34;</span><span class="op" id="8171318">,</span>&nbsp;<span class="ident" id="8171320">err</span><span class="op" id="8171323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8171326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171330">if</span>&nbsp;<span class="op" id="8171333">!</span><span class="ident" id="8171334">bytes</span><span class="op" id="8171339">.</span><span class="ident" id="8171340">Equal</span><span class="op" id="8171345">(</span><span class="ident" id="8171346">raw</span><span class="op" id="8171349">,</span>&nbsp;<span class="ident" id="8171351">decoded</span><span class="op" id="8171358">)</span>&nbsp;<span class="op" id="8171360">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171364">var</span>&nbsp;<span class="ident" id="8171368">i</span>&nbsp;<span class="builtintype" id="8171370">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171376">for</span>&nbsp;<span class="ident" id="8171380">i</span>&nbsp;<span class="op" id="8171382">=</span>&nbsp;<span class="num" id="8171384">0</span><span class="op" id="8171385">;</span>&nbsp;<span class="ident" id="8171387">i</span>&nbsp;<span class="op" id="8171389">&lt;</span>&nbsp;<span class="builtinfunc" id="8171391">len</span><span class="op" id="8171394">(</span><span class="ident" id="8171395">decoded</span><span class="op" id="8171402">)</span>&nbsp;<span class="op" id="8171404">&amp;&amp;</span>&nbsp;<span class="ident" id="8171407">i</span>&nbsp;<span class="op" id="8171409">&lt;</span>&nbsp;<span class="builtinfunc" id="8171411">len</span><span class="op" id="8171414">(</span><span class="ident" id="8171415">raw</span><span class="op" id="8171418">)</span><span class="op" id="8171419">;</span>&nbsp;<span class="ident" id="8171421">i</span><span class="op" id="8171422">++</span>&nbsp;<span class="op" id="8171425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171430">if</span>&nbsp;<span class="ident" id="8171433">decoded</span><span class="op" id="8171440">[</span><span class="ident" id="8171441">i</span><span class="op" id="8171442">]</span>&nbsp;<span class="op" id="8171444">!=</span>&nbsp;<span class="ident" id="8171447">raw</span><span class="op" id="8171450">[</span><span class="ident" id="8171451">i</span><span class="op" id="8171452">]</span>&nbsp;<span class="op" id="8171454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171460">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8171469">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8171473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8171477">t</span><span class="op" id="8171478">.</span><span class="ident" id="8171479">Errorf</span><span class="op" id="8171485">(</span><span class="string" id="8171486">&#34;Decode(Encode(%d-byte&nbsp;string))&nbsp;failed&nbsp;at&nbsp;offset&nbsp;%d&#34;</span><span class="op" id="8171538">,</span>&nbsp;<span class="ident" id="8171540">n</span><span class="op" id="8171541">,</span>&nbsp;<span class="ident" id="8171543">i</span><span class="op" id="8171544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8171547">}</span><br>
<span class="lineno"></span><span class="op" id="8171549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="8171552">func</span>&nbsp;<span class="ident" id="8171557">testStringEncoding</span><span class="op" id="8171575">(</span><span class="ident" id="8171576">t</span>&nbsp;<span class="op" id="8171578">*</span><span class="ident" id="8171579">testing</span><span class="op" id="8171586">.</span><span class="ident" id="8171587">T</span><span class="op" id="8171588">,</span>&nbsp;<span class="ident" id="8171590">expected</span>&nbsp;<span class="builtintype" id="8171599">string</span><span class="op" id="8171605">,</span>&nbsp;<span class="ident" id="8171607">examples</span>&nbsp;<span class="op" id="8171616">[</span><span class="op" id="8171617">]</span><span class="builtintype" id="8171618">string</span><span class="op" id="8171624">)</span>&nbsp;<span class="op" id="8171626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171629">for</span>&nbsp;<span class="ident" id="8171633">_</span><span class="op" id="8171634">,</span>&nbsp;<span class="ident" id="8171636">e</span>&nbsp;<span class="op" id="8171638">:=</span>&nbsp;<span class="keyword" id="8171641">range</span>&nbsp;<span class="ident" id="8171647">examples</span>&nbsp;<span class="op" id="8171656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8171660">buf</span><span class="op" id="8171663">,</span>&nbsp;<span class="ident" id="8171665">err</span>&nbsp;<span class="op" id="8171669">:=</span>&nbsp;<span class="ident" id="8171672">StdEncoding</span><span class="op" id="8171683">.</span><span class="ident" id="8171684">DecodeString</span><span class="op" id="8171696">(</span><span class="ident" id="8171697">e</span><span class="op" id="8171698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171702">if</span>&nbsp;<span class="ident" id="8171705">err</span>&nbsp;<span class="op" id="8171709">!=</span>&nbsp;<span class="builtintype" id="8171712">nil</span>&nbsp;<span class="op" id="8171716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8171721">t</span><span class="op" id="8171722">.</span><span class="ident" id="8171723">Errorf</span><span class="op" id="8171729">(</span><span class="string" id="8171730">&#34;Decode(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8171753">,</span>&nbsp;<span class="ident" id="8171755">e</span><span class="op" id="8171756">,</span>&nbsp;<span class="ident" id="8171758">err</span><span class="op" id="8171761">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171766">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8171777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8171781">if</span>&nbsp;<span class="ident" id="8171784">s</span>&nbsp;<span class="op" id="8171786">:=</span>&nbsp;<span class="builtintype" id="8171789">string</span><span class="op" id="8171795">(</span><span class="ident" id="8171796">buf</span><span class="op" id="8171799">)</span><span class="op" id="8171800">;</span>&nbsp;<span class="ident" id="8171802">s</span>&nbsp;<span class="op" id="8171804">!=</span>&nbsp;<span class="ident" id="8171807">expected</span>&nbsp;<span class="op" id="8171816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8171821">t</span><span class="op" id="8171822">.</span><span class="ident" id="8171823">Errorf</span><span class="op" id="8171829">(</span><span class="string" id="8171830">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8171856">,</span>&nbsp;<span class="ident" id="8171858">e</span><span class="op" id="8171859">,</span>&nbsp;<span class="ident" id="8171861">s</span><span class="op" id="8171862">,</span>&nbsp;<span class="ident" id="8171864">expected</span><span class="op" id="8171872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8171876">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8171879">}</span><br>
<span class="lineno"></span><span class="op" id="8171881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8171884">func</span>&nbsp;<span class="ident" id="8171889">TestNewLineCharacters</span><span class="op" id="8171910">(</span><span class="ident" id="8171911">t</span>&nbsp;<span class="op" id="8171913">*</span><span class="ident" id="8171914">testing</span><span class="op" id="8171921">.</span><span class="ident" id="8171922">T</span><span class="op" id="8171923">)</span>&nbsp;<span class="op" id="8171925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8171928">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;sure&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8171998">examples</span>&nbsp;<span class="op" id="8172007">:=</span>&nbsp;<span class="op" id="8172010">[</span><span class="op" id="8172011">]</span><span class="builtintype" id="8172012">string</span><span class="op" id="8172018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172022">&#34;ON2XEZI=&#34;</span><span class="op" id="8172032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172036">&#34;ON2XEZI=\r&#34;</span><span class="op" id="8172048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172052">&#34;ON2XEZI=\n&#34;</span><span class="op" id="8172064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172068">&#34;ON2XEZI=\r\n&#34;</span><span class="op" id="8172082">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172086">&#34;ON2XEZ\r\nI=&#34;</span><span class="op" id="8172100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172104">&#34;ON2X\rEZ\nI=&#34;</span><span class="op" id="8172118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172122">&#34;ON2X\nEZ\rI=&#34;</span><span class="op" id="8172136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172140">&#34;ON2XEZ\nI=&#34;</span><span class="op" id="8172152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172156">&#34;ON2XEZI\n=&#34;</span><span class="op" id="8172168">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8172171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8172174">testStringEncoding</span><span class="op" id="8172192">(</span><span class="ident" id="8172193">t</span><span class="op" id="8172194">,</span>&nbsp;<span class="string" id="8172196">&#34;sure&#34;</span><span class="op" id="8172202">,</span>&nbsp;<span class="ident" id="8172204">examples</span><span class="op" id="8172212">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8172216">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;foobar&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8172288">examples</span>&nbsp;<span class="op" id="8172297">=</span>&nbsp;<span class="op" id="8172299">[</span><span class="op" id="8172300">]</span><span class="builtintype" id="8172301">string</span><span class="op" id="8172307">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172311">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="8172329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8172333">&#34;MZXW6YTBOI=\r\n=====&#34;</span><span class="op" id="8172355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8172358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8172361">testStringEncoding</span><span class="op" id="8172379">(</span><span class="ident" id="8172380">t</span><span class="op" id="8172381">,</span>&nbsp;<span class="string" id="8172383">&#34;foobar&#34;</span><span class="op" id="8172391">,</span>&nbsp;<span class="ident" id="8172393">examples</span><span class="op" id="8172401">)</span><br>
<span class="lineno"></span><span class="op" id="8172403">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="keyword" id="8172406">func</span>&nbsp;<span class="ident" id="8172411">TestDecoderIssue4779</span><span class="op" id="8172431">(</span><span class="ident" id="8172432">t</span>&nbsp;<span class="op" id="8172434">*</span><span class="ident" id="8172435">testing</span><span class="op" id="8172442">.</span><span class="ident" id="8172443">T</span><span class="op" id="8172444">)</span>&nbsp;<span class="op" id="8172446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8172449">encoded</span>&nbsp;<span class="op" id="8172457">:=</span>&nbsp;<span class="string" id="8172460">`JRXXEZLNEBUXA43VNUQGI33MN5ZCA43JOQQGC3LFOQWCAY3PNZZWKY3UMV2HK4<br>
<span class="lineno"></span>RAMFSGS4DJONUWG2LOM4QGK3DJOQWCA43FMQQGI3YKMVUXK43NN5SCA5DFNVYG64RANFXGG2LENFSH<br>
<span class="lineno"></span>K3TUEB2XIIDMMFRG64TFEBSXIIDEN5WG64TFEBWWCZ3OMEQGC3DJOF2WCLRAKV2CAZLONFWQUYLEEB<br>
<span class="lineno">260</span>WWS3TJNUQHMZLONFQW2LBAOF2WS4ZANZXXG5DSOVSCAZLYMVZGG2LUMF2GS33OEB2WY3DBNVRW6IDM<br>
<span class="lineno"></span>MFRG64TJOMQG42LTNEQHK5AKMFWGS4LVNFYCAZLYEBSWCIDDN5WW233EN4QGG33OONSXC5LBOQXCAR<br>
<span class="lineno"></span>DVNFZSAYLVORSSA2LSOVZGKIDEN5WG64RANFXAU4TFOBZGK2DFNZSGK4TJOQQGS3RAOZXWY5LQORQX<br>
<span class="lineno"></span>IZJAOZSWY2LUEBSXG43FEBRWS3DMOVWSAZDPNRXXEZJAMV2SAZTVM5UWC5BANZ2WY3DBBJYGC4TJMF<br>
<span class="lineno"></span>2HK4ROEBCXQY3FOB2GK5LSEBZWS3TUEBXWGY3BMVRWC5BAMN2XA2LEMF2GC5BANZXW4IDQOJXWSZDF<br>
<span class="lineno">265</span>NZ2CYIDTOVXHIIDJNYFGG5LMOBQSA4LVNEQG6ZTGNFRWSYJAMRSXGZLSOVXHIIDNN5WGY2LUEBQW42<br>
<span class="lineno"></span>LNEBUWIIDFON2CA3DBMJXXE5LNFY==<br>
<span class="lineno"></span>====`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173194">encodedShort</span>&nbsp;<span class="op" id="8173207">:=</span>&nbsp;<span class="ident" id="8173210">strings</span><span class="op" id="8173217">.</span><span class="ident" id="8173218">Replace</span><span class="op" id="8173225">(</span><span class="ident" id="8173226">encoded</span><span class="op" id="8173233">,</span>&nbsp;<span class="string" id="8173235">&#34;\n&#34;</span><span class="op" id="8173239">,</span>&nbsp;<span class="string" id="8173241">&#34;&#34;</span><span class="op" id="8173243">,</span>&nbsp;<span class="op" id="8173245">-</span><span class="num" id="8173246">1</span><span class="op" id="8173247">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173251">dec</span>&nbsp;<span class="op" id="8173255">:=</span>&nbsp;<span class="ident" id="8173258">NewDecoder</span><span class="op" id="8173268">(</span><span class="ident" id="8173269">StdEncoding</span><span class="op" id="8173280">,</span>&nbsp;<span class="ident" id="8173282">strings</span><span class="op" id="8173289">.</span><span class="ident" id="8173290">NewReader</span><span class="op" id="8173299">(</span><span class="ident" id="8173300">encoded</span><span class="op" id="8173307">)</span><span class="op" id="8173308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173311">res1</span><span class="op" id="8173315">,</span>&nbsp;<span class="ident" id="8173317">err</span>&nbsp;<span class="op" id="8173321">:=</span>&nbsp;<span class="ident" id="8173324">ioutil</span><span class="op" id="8173330">.</span><span class="ident" id="8173331">ReadAll</span><span class="op" id="8173338">(</span><span class="ident" id="8173339">dec</span><span class="op" id="8173342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8173345">if</span>&nbsp;<span class="ident" id="8173348">err</span>&nbsp;<span class="op" id="8173352">!=</span>&nbsp;<span class="builtintype" id="8173355">nil</span>&nbsp;<span class="op" id="8173359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173363">t</span><span class="op" id="8173364">.</span><span class="ident" id="8173365">Errorf</span><span class="op" id="8173371">(</span><span class="string" id="8173372">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8173392">,</span>&nbsp;<span class="ident" id="8173394">err</span><span class="op" id="8173397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8173400">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173404">dec</span>&nbsp;<span class="op" id="8173408">=</span>&nbsp;<span class="ident" id="8173410">NewDecoder</span><span class="op" id="8173420">(</span><span class="ident" id="8173421">StdEncoding</span><span class="op" id="8173432">,</span>&nbsp;<span class="ident" id="8173434">strings</span><span class="op" id="8173441">.</span><span class="ident" id="8173442">NewReader</span><span class="op" id="8173451">(</span><span class="ident" id="8173452">encodedShort</span><span class="op" id="8173464">)</span><span class="op" id="8173465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8173468">var</span>&nbsp;<span class="ident" id="8173472">res2</span>&nbsp;<span class="op" id="8173477">[</span><span class="op" id="8173478">]</span><span class="builtintype" id="8173479">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173485">res2</span><span class="op" id="8173489">,</span>&nbsp;<span class="ident" id="8173491">err</span>&nbsp;<span class="op" id="8173495">=</span>&nbsp;<span class="ident" id="8173497">ioutil</span><span class="op" id="8173503">.</span><span class="ident" id="8173504">ReadAll</span><span class="op" id="8173511">(</span><span class="ident" id="8173512">dec</span><span class="op" id="8173515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8173518">if</span>&nbsp;<span class="ident" id="8173521">err</span>&nbsp;<span class="op" id="8173525">!=</span>&nbsp;<span class="builtintype" id="8173528">nil</span>&nbsp;<span class="op" id="8173532">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173536">t</span><span class="op" id="8173537">.</span><span class="ident" id="8173538">Errorf</span><span class="op" id="8173544">(</span><span class="string" id="8173545">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8173565">,</span>&nbsp;<span class="ident" id="8173567">err</span><span class="op" id="8173570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8173573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8173577">if</span>&nbsp;<span class="op" id="8173580">!</span><span class="ident" id="8173581">bytes</span><span class="op" id="8173586">.</span><span class="ident" id="8173587">Equal</span><span class="op" id="8173592">(</span><span class="ident" id="8173593">res1</span><span class="op" id="8173597">,</span>&nbsp;<span class="ident" id="8173599">res2</span><span class="op" id="8173603">)</span>&nbsp;<span class="op" id="8173605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173609">t</span><span class="op" id="8173610">.</span><span class="ident" id="8173611">Error</span><span class="op" id="8173616">(</span><span class="string" id="8173617">&#34;Decoded&nbsp;results&nbsp;not&nbsp;equal&#34;</span><span class="op" id="8173644">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8173647">}</span><br>
<span class="lineno"></span><span class="op" id="8173649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8173652">func</span>&nbsp;<span class="ident" id="8173657">BenchmarkEncodeToString</span><span class="op" id="8173680">(</span><span class="ident" id="8173681">b</span>&nbsp;<span class="op" id="8173683">*</span><span class="ident" id="8173684">testing</span><span class="op" id="8173691">.</span><span class="ident" id="8173692">B</span><span class="op" id="8173693">)</span>&nbsp;<span class="op" id="8173695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173698">data</span>&nbsp;<span class="op" id="8173703">:=</span>&nbsp;<span class="builtinfunc" id="8173706">make</span><span class="op" id="8173710">(</span><span class="op" id="8173711">[</span><span class="op" id="8173712">]</span><span class="builtintype" id="8173713">byte</span><span class="op" id="8173717">,</span>&nbsp;<span class="num" id="8173719">8192</span><span class="op" id="8173723">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173726">b</span><span class="op" id="8173727">.</span><span class="ident" id="8173728">SetBytes</span><span class="op" id="8173736">(</span><span class="builtintype" id="8173737">int64</span><span class="op" id="8173742">(</span><span class="builtinfunc" id="8173743">len</span><span class="op" id="8173746">(</span><span class="ident" id="8173747">data</span><span class="op" id="8173751">)</span><span class="op" id="8173752">)</span><span class="op" id="8173753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8173756">for</span>&nbsp;<span class="ident" id="8173760">i</span>&nbsp;<span class="op" id="8173762">:=</span>&nbsp;<span class="num" id="8173765">0</span><span class="op" id="8173766">;</span>&nbsp;<span class="ident" id="8173768">i</span>&nbsp;<span class="op" id="8173770">&lt;</span>&nbsp;<span class="ident" id="8173772">b</span><span class="op" id="8173773">.</span><span class="ident" id="8173774">N</span><span class="op" id="8173775">;</span>&nbsp;<span class="ident" id="8173777">i</span><span class="op" id="8173778">++</span>&nbsp;<span class="op" id="8173781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173785">StdEncoding</span><span class="op" id="8173796">.</span><span class="ident" id="8173797">EncodeToString</span><span class="op" id="8173811">(</span><span class="ident" id="8173812">data</span><span class="op" id="8173816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8173819">}</span><br>
<span class="lineno"></span><span class="op" id="8173821">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="8173824">func</span>&nbsp;<span class="ident" id="8173829">BenchmarkDecodeString</span><span class="op" id="8173850">(</span><span class="ident" id="8173851">b</span>&nbsp;<span class="op" id="8173853">*</span><span class="ident" id="8173854">testing</span><span class="op" id="8173861">.</span><span class="ident" id="8173862">B</span><span class="op" id="8173863">)</span>&nbsp;<span class="op" id="8173865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173868">data</span>&nbsp;<span class="op" id="8173873">:=</span>&nbsp;<span class="ident" id="8173876">StdEncoding</span><span class="op" id="8173887">.</span><span class="ident" id="8173888">EncodeToString</span><span class="op" id="8173902">(</span><span class="builtinfunc" id="8173903">make</span><span class="op" id="8173907">(</span><span class="op" id="8173908">[</span><span class="op" id="8173909">]</span><span class="builtintype" id="8173910">byte</span><span class="op" id="8173914">,</span>&nbsp;<span class="num" id="8173916">8192</span><span class="op" id="8173920">)</span><span class="op" id="8173921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173924">b</span><span class="op" id="8173925">.</span><span class="ident" id="8173926">SetBytes</span><span class="op" id="8173934">(</span><span class="builtintype" id="8173935">int64</span><span class="op" id="8173940">(</span><span class="builtinfunc" id="8173941">len</span><span class="op" id="8173944">(</span><span class="ident" id="8173945">data</span><span class="op" id="8173949">)</span><span class="op" id="8173950">)</span><span class="op" id="8173951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8173954">for</span>&nbsp;<span class="ident" id="8173958">i</span>&nbsp;<span class="op" id="8173960">:=</span>&nbsp;<span class="num" id="8173963">0</span><span class="op" id="8173964">;</span>&nbsp;<span class="ident" id="8173966">i</span>&nbsp;<span class="op" id="8173968">&lt;</span>&nbsp;<span class="ident" id="8173970">b</span><span class="op" id="8173971">.</span><span class="ident" id="8173972">N</span><span class="op" id="8173973">;</span>&nbsp;<span class="ident" id="8173975">i</span><span class="op" id="8173976">++</span>&nbsp;<span class="op" id="8173979">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8173983">StdEncoding</span><span class="op" id="8173994">.</span><span class="ident" id="8173995">DecodeString</span><span class="op" id="8174007">(</span><span class="ident" id="8174008">data</span><span class="op" id="8174012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8174015">}</span><br>
<span class="lineno"></span><span class="op" id="8174017">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
