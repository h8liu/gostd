<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/color</h2>
<ul>
<li><a href="/gostd/image/color/color.go.html" class="current">color.go</a></li>
<li><a href="/gostd/image/color/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/color/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5184853">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5184908">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5184962">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5185013">//&nbsp;Package&nbsp;color&nbsp;implements&nbsp;a&nbsp;basic&nbsp;color&nbsp;library.</span><br>
<span class="lineno"></span><span class="keyword" id="5185064">package</span>&nbsp;<span class="ident" id="5185072">color</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5185079">//&nbsp;Color&nbsp;can&nbsp;convert&nbsp;itself&nbsp;to&nbsp;alpha-premultiplied&nbsp;16-bits&nbsp;per&nbsp;channel&nbsp;RGBA.</span><br>
<span class="lineno"></span><span class="comment" id="5185156">//&nbsp;The&nbsp;conversion&nbsp;may&nbsp;be&nbsp;lossy.</span><br>
<span class="lineno">10</span><span class="keyword" id="5185188">type</span>&nbsp;<span class="ident" id="5185193">Color</span>&nbsp;<span class="keyword" id="5185199">interface</span>&nbsp;<span class="op" id="5185209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5185212">//&nbsp;RGBA&nbsp;returns&nbsp;the&nbsp;alpha-premultiplied&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5185287">//&nbsp;for&nbsp;the&nbsp;color.&nbsp;Each&nbsp;value&nbsp;ranges&nbsp;within&nbsp;[0,&nbsp;0xFFFF],&nbsp;but&nbsp;is&nbsp;represented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5185363">//&nbsp;by&nbsp;a&nbsp;uint32&nbsp;so&nbsp;that&nbsp;multiplying&nbsp;by&nbsp;a&nbsp;blend&nbsp;factor&nbsp;up&nbsp;to&nbsp;0xFFFF&nbsp;will&nbsp;not</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5185439">//&nbsp;overflow.</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185453">RGBA</span><span class="op" id="5185457">(</span><span class="op" id="5185458">)</span>&nbsp;<span class="op" id="5185460">(</span><span class="ident" id="5185461">r</span><span class="op" id="5185462">,</span>&nbsp;<span class="ident" id="5185464">g</span><span class="op" id="5185465">,</span>&nbsp;<span class="ident" id="5185467">b</span><span class="op" id="5185468">,</span>&nbsp;<span class="ident" id="5185470">a</span>&nbsp;<span class="builtintype" id="5185472">uint32</span><span class="op" id="5185478">)</span><br>
<span class="lineno"></span><span class="op" id="5185480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5185483">//&nbsp;RGBA&nbsp;represents&nbsp;a&nbsp;traditional&nbsp;32-bit&nbsp;alpha-premultiplied&nbsp;color,</span><br>
<span class="lineno"></span><span class="comment" id="5185550">//&nbsp;having&nbsp;8&nbsp;bits&nbsp;for&nbsp;each&nbsp;of&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha.</span><br>
<span class="lineno">20</span><span class="keyword" id="5185607">type</span>&nbsp;<span class="ident" id="5185612">RGBA</span>&nbsp;<span class="keyword" id="5185617">struct</span>&nbsp;<span class="op" id="5185624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185627">R</span><span class="op" id="5185628">,</span>&nbsp;<span class="ident" id="5185630">G</span><span class="op" id="5185631">,</span>&nbsp;<span class="ident" id="5185633">B</span><span class="op" id="5185634">,</span>&nbsp;<span class="ident" id="5185636">A</span>&nbsp;<span class="builtintype" id="5185638">uint8</span><br>
<span class="lineno"></span><span class="op" id="5185644">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5185647">func</span>&nbsp;<span class="op" id="5185652">(</span><span class="ident" id="5185653">c</span>&nbsp;<span class="ident" id="5185655"><a href="/gostd/image/color/color.go.html#5185612">RGBA</a></span><span class="op" id="5185659">)</span>&nbsp;<span class="ident" id="5185661">RGBA</span><span class="op" id="5185665">(</span><span class="op" id="5185666">)</span>&nbsp;<span class="op" id="5185668">(</span><span class="ident" id="5185669">r</span><span class="op" id="5185670">,</span>&nbsp;<span class="ident" id="5185672">g</span><span class="op" id="5185673">,</span>&nbsp;<span class="ident" id="5185675">b</span><span class="op" id="5185676">,</span>&nbsp;<span class="ident" id="5185678">a</span>&nbsp;<span class="builtintype" id="5185680">uint32</span><span class="op" id="5185686">)</span>&nbsp;<span class="op" id="5185688">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185691"><a href="/gostd/image/color/color.go.html#5185669">r</a></span>&nbsp;<span class="op" id="5185693">=</span>&nbsp;<span class="builtintype" id="5185695">uint32</span><span class="op" id="5185701">(</span><span class="ident" id="5185702"><a href="/gostd/image/color/color.go.html#5185653">c</a></span><span class="op" id="5185703">.</span><span class="ident" id="5185704"><a href="/gostd/image/color/color.go.html#5185627">R</a></span><span class="op" id="5185705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185708"><a href="/gostd/image/color/color.go.html#5185669">r</a></span>&nbsp;<span class="op" id="5185710">|=</span>&nbsp;<span class="ident" id="5185713"><a href="/gostd/image/color/color.go.html#5185669">r</a></span>&nbsp;<span class="op" id="5185715">&lt;&lt;</span>&nbsp;<span class="num" id="5185718">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185721"><a href="/gostd/image/color/color.go.html#5185672">g</a></span>&nbsp;<span class="op" id="5185723">=</span>&nbsp;<span class="builtintype" id="5185725">uint32</span><span class="op" id="5185731">(</span><span class="ident" id="5185732"><a href="/gostd/image/color/color.go.html#5185653">c</a></span><span class="op" id="5185733">.</span><span class="ident" id="5185734"><a href="/gostd/image/color/color.go.html#5185630">G</a></span><span class="op" id="5185735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185738"><a href="/gostd/image/color/color.go.html#5185672">g</a></span>&nbsp;<span class="op" id="5185740">|=</span>&nbsp;<span class="ident" id="5185743"><a href="/gostd/image/color/color.go.html#5185672">g</a></span>&nbsp;<span class="op" id="5185745">&lt;&lt;</span>&nbsp;<span class="num" id="5185748">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185751"><a href="/gostd/image/color/color.go.html#5185675">b</a></span>&nbsp;<span class="op" id="5185753">=</span>&nbsp;<span class="builtintype" id="5185755">uint32</span><span class="op" id="5185761">(</span><span class="ident" id="5185762"><a href="/gostd/image/color/color.go.html#5185653">c</a></span><span class="op" id="5185763">.</span><span class="ident" id="5185764"><a href="/gostd/image/color/color.go.html#5185633">B</a></span><span class="op" id="5185765">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185768"><a href="/gostd/image/color/color.go.html#5185675">b</a></span>&nbsp;<span class="op" id="5185770">|=</span>&nbsp;<span class="ident" id="5185773"><a href="/gostd/image/color/color.go.html#5185675">b</a></span>&nbsp;<span class="op" id="5185775">&lt;&lt;</span>&nbsp;<span class="num" id="5185778">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185781"><a href="/gostd/image/color/color.go.html#5185678">a</a></span>&nbsp;<span class="op" id="5185783">=</span>&nbsp;<span class="builtintype" id="5185785">uint32</span><span class="op" id="5185791">(</span><span class="ident" id="5185792"><a href="/gostd/image/color/color.go.html#5185653">c</a></span><span class="op" id="5185793">.</span><span class="ident" id="5185794"><a href="/gostd/image/color/color.go.html#5185636">A</a></span><span class="op" id="5185795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185798"><a href="/gostd/image/color/color.go.html#5185678">a</a></span>&nbsp;<span class="op" id="5185800">|=</span>&nbsp;<span class="ident" id="5185803"><a href="/gostd/image/color/color.go.html#5185678">a</a></span>&nbsp;<span class="op" id="5185805">&lt;&lt;</span>&nbsp;<span class="num" id="5185808">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5185811">return</span><br>
<span class="lineno"></span><span class="op" id="5185818">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="5185821">//&nbsp;RGBA64&nbsp;represents&nbsp;a&nbsp;64-bit&nbsp;alpha-premultiplied&nbsp;color,</span><br>
<span class="lineno"></span><span class="comment" id="5185878">//&nbsp;having&nbsp;16&nbsp;bits&nbsp;for&nbsp;each&nbsp;of&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha.</span><br>
<span class="lineno"></span><span class="keyword" id="5185936">type</span>&nbsp;<span class="ident" id="5185941">RGBA64</span>&nbsp;<span class="keyword" id="5185948">struct</span>&nbsp;<span class="op" id="5185955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5185958">R</span><span class="op" id="5185959">,</span>&nbsp;<span class="ident" id="5185961">G</span><span class="op" id="5185962">,</span>&nbsp;<span class="ident" id="5185964">B</span><span class="op" id="5185965">,</span>&nbsp;<span class="ident" id="5185967">A</span>&nbsp;<span class="builtintype" id="5185969">uint16</span><br>
<span class="lineno">40</span><span class="op" id="5185976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5185979">func</span>&nbsp;<span class="op" id="5185984">(</span><span class="ident" id="5185985">c</span>&nbsp;<span class="ident" id="5185987"><a href="/gostd/image/color/color.go.html#5185941">RGBA64</a></span><span class="op" id="5185993">)</span>&nbsp;<span class="ident" id="5185995">RGBA</span><span class="op" id="5185999">(</span><span class="op" id="5186000">)</span>&nbsp;<span class="op" id="5186002">(</span><span class="ident" id="5186003">r</span><span class="op" id="5186004">,</span>&nbsp;<span class="ident" id="5186006">g</span><span class="op" id="5186007">,</span>&nbsp;<span class="ident" id="5186009">b</span><span class="op" id="5186010">,</span>&nbsp;<span class="ident" id="5186012">a</span>&nbsp;<span class="builtintype" id="5186014">uint32</span><span class="op" id="5186020">)</span>&nbsp;<span class="op" id="5186022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5186025">return</span>&nbsp;<span class="builtintype" id="5186032">uint32</span><span class="op" id="5186038">(</span><span class="ident" id="5186039"><a href="/gostd/image/color/color.go.html#5185985">c</a></span><span class="op" id="5186040">.</span><span class="ident" id="5186041"><a href="/gostd/image/color/color.go.html#5185958">R</a></span><span class="op" id="5186042">)</span><span class="op" id="5186043">,</span>&nbsp;<span class="builtintype" id="5186045">uint32</span><span class="op" id="5186051">(</span><span class="ident" id="5186052"><a href="/gostd/image/color/color.go.html#5185985">c</a></span><span class="op" id="5186053">.</span><span class="ident" id="5186054"><a href="/gostd/image/color/color.go.html#5185961">G</a></span><span class="op" id="5186055">)</span><span class="op" id="5186056">,</span>&nbsp;<span class="builtintype" id="5186058">uint32</span><span class="op" id="5186064">(</span><span class="ident" id="5186065"><a href="/gostd/image/color/color.go.html#5185985">c</a></span><span class="op" id="5186066">.</span><span class="ident" id="5186067"><a href="/gostd/image/color/color.go.html#5185964">B</a></span><span class="op" id="5186068">)</span><span class="op" id="5186069">,</span>&nbsp;<span class="builtintype" id="5186071">uint32</span><span class="op" id="5186077">(</span><span class="ident" id="5186078"><a href="/gostd/image/color/color.go.html#5185985">c</a></span><span class="op" id="5186079">.</span><span class="ident" id="5186080"><a href="/gostd/image/color/color.go.html#5185967">A</a></span><span class="op" id="5186081">)</span><br>
<span class="lineno"></span><span class="op" id="5186083">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="5186086">//&nbsp;NRGBA&nbsp;represents&nbsp;a&nbsp;non-alpha-premultiplied&nbsp;32-bit&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="5186146">type</span>&nbsp;<span class="ident" id="5186151">NRGBA</span>&nbsp;<span class="keyword" id="5186157">struct</span>&nbsp;<span class="op" id="5186164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186167">R</span><span class="op" id="5186168">,</span>&nbsp;<span class="ident" id="5186170">G</span><span class="op" id="5186171">,</span>&nbsp;<span class="ident" id="5186173">B</span><span class="op" id="5186174">,</span>&nbsp;<span class="ident" id="5186176">A</span>&nbsp;<span class="builtintype" id="5186178">uint8</span><br>
<span class="lineno"></span><span class="op" id="5186184">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5186187">func</span>&nbsp;<span class="op" id="5186192">(</span><span class="ident" id="5186193">c</span>&nbsp;<span class="ident" id="5186195"><a href="/gostd/image/color/color.go.html#5186151">NRGBA</a></span><span class="op" id="5186200">)</span>&nbsp;<span class="ident" id="5186202">RGBA</span><span class="op" id="5186206">(</span><span class="op" id="5186207">)</span>&nbsp;<span class="op" id="5186209">(</span><span class="ident" id="5186210">r</span><span class="op" id="5186211">,</span>&nbsp;<span class="ident" id="5186213">g</span><span class="op" id="5186214">,</span>&nbsp;<span class="ident" id="5186216">b</span><span class="op" id="5186217">,</span>&nbsp;<span class="ident" id="5186219">a</span>&nbsp;<span class="builtintype" id="5186221">uint32</span><span class="op" id="5186227">)</span>&nbsp;<span class="op" id="5186229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186232"><a href="/gostd/image/color/color.go.html#5186210">r</a></span>&nbsp;<span class="op" id="5186234">=</span>&nbsp;<span class="builtintype" id="5186236">uint32</span><span class="op" id="5186242">(</span><span class="ident" id="5186243"><a href="/gostd/image/color/color.go.html#5186193">c</a></span><span class="op" id="5186244">.</span><span class="ident" id="5186245"><a href="/gostd/image/color/color.go.html#5186167">R</a></span><span class="op" id="5186246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186249"><a href="/gostd/image/color/color.go.html#5186210">r</a></span>&nbsp;<span class="op" id="5186251">|=</span>&nbsp;<span class="ident" id="5186254"><a href="/gostd/image/color/color.go.html#5186210">r</a></span>&nbsp;<span class="op" id="5186256">&lt;&lt;</span>&nbsp;<span class="num" id="5186259">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186262"><a href="/gostd/image/color/color.go.html#5186210">r</a></span>&nbsp;<span class="op" id="5186264">*=</span>&nbsp;<span class="builtintype" id="5186267">uint32</span><span class="op" id="5186273">(</span><span class="ident" id="5186274"><a href="/gostd/image/color/color.go.html#5186193">c</a></span><span class="op" id="5186275">.</span><span class="ident" id="5186276"><a href="/gostd/image/color/color.go.html#5186176">A</a></span><span class="op" id="5186277">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186280"><a href="/gostd/image/color/color.go.html#5186210">r</a></span>&nbsp;<span class="op" id="5186282">/=</span>&nbsp;<span class="num" id="5186285">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186291"><a href="/gostd/image/color/color.go.html#5186213">g</a></span>&nbsp;<span class="op" id="5186293">=</span>&nbsp;<span class="builtintype" id="5186295">uint32</span><span class="op" id="5186301">(</span><span class="ident" id="5186302"><a href="/gostd/image/color/color.go.html#5186193">c</a></span><span class="op" id="5186303">.</span><span class="ident" id="5186304"><a href="/gostd/image/color/color.go.html#5186170">G</a></span><span class="op" id="5186305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186308"><a href="/gostd/image/color/color.go.html#5186213">g</a></span>&nbsp;<span class="op" id="5186310">|=</span>&nbsp;<span class="ident" id="5186313"><a href="/gostd/image/color/color.go.html#5186213">g</a></span>&nbsp;<span class="op" id="5186315">&lt;&lt;</span>&nbsp;<span class="num" id="5186318">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186321"><a href="/gostd/image/color/color.go.html#5186213">g</a></span>&nbsp;<span class="op" id="5186323">*=</span>&nbsp;<span class="builtintype" id="5186326">uint32</span><span class="op" id="5186332">(</span><span class="ident" id="5186333"><a href="/gostd/image/color/color.go.html#5186193">c</a></span><span class="op" id="5186334">.</span><span class="ident" id="5186335"><a href="/gostd/image/color/color.go.html#5186176">A</a></span><span class="op" id="5186336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186339"><a href="/gostd/image/color/color.go.html#5186213">g</a></span>&nbsp;<span class="op" id="5186341">/=</span>&nbsp;<span class="num" id="5186344">0xff</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186350"><a href="/gostd/image/color/color.go.html#5186216">b</a></span>&nbsp;<span class="op" id="5186352">=</span>&nbsp;<span class="builtintype" id="5186354">uint32</span><span class="op" id="5186360">(</span><span class="ident" id="5186361"><a href="/gostd/image/color/color.go.html#5186193">c</a></span><span class="op" id="5186362">.</span><span class="ident" id="5186363"><a href="/gostd/image/color/color.go.html#5186173">B</a></span><span class="op" id="5186364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186367"><a href="/gostd/image/color/color.go.html#5186216">b</a></span>&nbsp;<span class="op" id="5186369">|=</span>&nbsp;<span class="ident" id="5186372"><a href="/gostd/image/color/color.go.html#5186216">b</a></span>&nbsp;<span class="op" id="5186374">&lt;&lt;</span>&nbsp;<span class="num" id="5186377">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186380"><a href="/gostd/image/color/color.go.html#5186216">b</a></span>&nbsp;<span class="op" id="5186382">*=</span>&nbsp;<span class="builtintype" id="5186385">uint32</span><span class="op" id="5186391">(</span><span class="ident" id="5186392"><a href="/gostd/image/color/color.go.html#5186193">c</a></span><span class="op" id="5186393">.</span><span class="ident" id="5186394"><a href="/gostd/image/color/color.go.html#5186176">A</a></span><span class="op" id="5186395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186398"><a href="/gostd/image/color/color.go.html#5186216">b</a></span>&nbsp;<span class="op" id="5186400">/=</span>&nbsp;<span class="num" id="5186403">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186409"><a href="/gostd/image/color/color.go.html#5186219">a</a></span>&nbsp;<span class="op" id="5186411">=</span>&nbsp;<span class="builtintype" id="5186413">uint32</span><span class="op" id="5186419">(</span><span class="ident" id="5186420"><a href="/gostd/image/color/color.go.html#5186193">c</a></span><span class="op" id="5186421">.</span><span class="ident" id="5186422"><a href="/gostd/image/color/color.go.html#5186176">A</a></span><span class="op" id="5186423">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186426"><a href="/gostd/image/color/color.go.html#5186219">a</a></span>&nbsp;<span class="op" id="5186428">|=</span>&nbsp;<span class="ident" id="5186431"><a href="/gostd/image/color/color.go.html#5186219">a</a></span>&nbsp;<span class="op" id="5186433">&lt;&lt;</span>&nbsp;<span class="num" id="5186436">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5186439">return</span><br>
<span class="lineno"></span><span class="op" id="5186446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5186449">//&nbsp;NRGBA64&nbsp;represents&nbsp;a&nbsp;non-alpha-premultiplied&nbsp;64-bit&nbsp;color,</span><br>
<span class="lineno">70</span><span class="comment" id="5186511">//&nbsp;having&nbsp;16&nbsp;bits&nbsp;for&nbsp;each&nbsp;of&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha.</span><br>
<span class="lineno"></span><span class="keyword" id="5186569">type</span>&nbsp;<span class="ident" id="5186574">NRGBA64</span>&nbsp;<span class="keyword" id="5186582">struct</span>&nbsp;<span class="op" id="5186589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186592">R</span><span class="op" id="5186593">,</span>&nbsp;<span class="ident" id="5186595">G</span><span class="op" id="5186596">,</span>&nbsp;<span class="ident" id="5186598">B</span><span class="op" id="5186599">,</span>&nbsp;<span class="ident" id="5186601">A</span>&nbsp;<span class="builtintype" id="5186603">uint16</span><br>
<span class="lineno"></span><span class="op" id="5186610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="5186613">func</span>&nbsp;<span class="op" id="5186618">(</span><span class="ident" id="5186619">c</span>&nbsp;<span class="ident" id="5186621"><a href="/gostd/image/color/color.go.html#5186574">NRGBA64</a></span><span class="op" id="5186628">)</span>&nbsp;<span class="ident" id="5186630">RGBA</span><span class="op" id="5186634">(</span><span class="op" id="5186635">)</span>&nbsp;<span class="op" id="5186637">(</span><span class="ident" id="5186638">r</span><span class="op" id="5186639">,</span>&nbsp;<span class="ident" id="5186641">g</span><span class="op" id="5186642">,</span>&nbsp;<span class="ident" id="5186644">b</span><span class="op" id="5186645">,</span>&nbsp;<span class="ident" id="5186647">a</span>&nbsp;<span class="builtintype" id="5186649">uint32</span><span class="op" id="5186655">)</span>&nbsp;<span class="op" id="5186657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186660"><a href="/gostd/image/color/color.go.html#5186638">r</a></span>&nbsp;<span class="op" id="5186662">=</span>&nbsp;<span class="builtintype" id="5186664">uint32</span><span class="op" id="5186670">(</span><span class="ident" id="5186671"><a href="/gostd/image/color/color.go.html#5186619">c</a></span><span class="op" id="5186672">.</span><span class="ident" id="5186673"><a href="/gostd/image/color/color.go.html#5186592">R</a></span><span class="op" id="5186674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186677"><a href="/gostd/image/color/color.go.html#5186638">r</a></span>&nbsp;<span class="op" id="5186679">*=</span>&nbsp;<span class="builtintype" id="5186682">uint32</span><span class="op" id="5186688">(</span><span class="ident" id="5186689"><a href="/gostd/image/color/color.go.html#5186619">c</a></span><span class="op" id="5186690">.</span><span class="ident" id="5186691"><a href="/gostd/image/color/color.go.html#5186601">A</a></span><span class="op" id="5186692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186695"><a href="/gostd/image/color/color.go.html#5186638">r</a></span>&nbsp;<span class="op" id="5186697">/=</span>&nbsp;<span class="num" id="5186700">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186708"><a href="/gostd/image/color/color.go.html#5186641">g</a></span>&nbsp;<span class="op" id="5186710">=</span>&nbsp;<span class="builtintype" id="5186712">uint32</span><span class="op" id="5186718">(</span><span class="ident" id="5186719"><a href="/gostd/image/color/color.go.html#5186619">c</a></span><span class="op" id="5186720">.</span><span class="ident" id="5186721"><a href="/gostd/image/color/color.go.html#5186595">G</a></span><span class="op" id="5186722">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186725"><a href="/gostd/image/color/color.go.html#5186641">g</a></span>&nbsp;<span class="op" id="5186727">*=</span>&nbsp;<span class="builtintype" id="5186730">uint32</span><span class="op" id="5186736">(</span><span class="ident" id="5186737"><a href="/gostd/image/color/color.go.html#5186619">c</a></span><span class="op" id="5186738">.</span><span class="ident" id="5186739"><a href="/gostd/image/color/color.go.html#5186601">A</a></span><span class="op" id="5186740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186743"><a href="/gostd/image/color/color.go.html#5186641">g</a></span>&nbsp;<span class="op" id="5186745">/=</span>&nbsp;<span class="num" id="5186748">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186756"><a href="/gostd/image/color/color.go.html#5186644">b</a></span>&nbsp;<span class="op" id="5186758">=</span>&nbsp;<span class="builtintype" id="5186760">uint32</span><span class="op" id="5186766">(</span><span class="ident" id="5186767"><a href="/gostd/image/color/color.go.html#5186619">c</a></span><span class="op" id="5186768">.</span><span class="ident" id="5186769"><a href="/gostd/image/color/color.go.html#5186598">B</a></span><span class="op" id="5186770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186773"><a href="/gostd/image/color/color.go.html#5186644">b</a></span>&nbsp;<span class="op" id="5186775">*=</span>&nbsp;<span class="builtintype" id="5186778">uint32</span><span class="op" id="5186784">(</span><span class="ident" id="5186785"><a href="/gostd/image/color/color.go.html#5186619">c</a></span><span class="op" id="5186786">.</span><span class="ident" id="5186787"><a href="/gostd/image/color/color.go.html#5186601">A</a></span><span class="op" id="5186788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186791"><a href="/gostd/image/color/color.go.html#5186644">b</a></span>&nbsp;<span class="op" id="5186793">/=</span>&nbsp;<span class="num" id="5186796">0xffff</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186804"><a href="/gostd/image/color/color.go.html#5186647">a</a></span>&nbsp;<span class="op" id="5186806">=</span>&nbsp;<span class="builtintype" id="5186808">uint32</span><span class="op" id="5186814">(</span><span class="ident" id="5186815"><a href="/gostd/image/color/color.go.html#5186619">c</a></span><span class="op" id="5186816">.</span><span class="ident" id="5186817"><a href="/gostd/image/color/color.go.html#5186601">A</a></span><span class="op" id="5186818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5186821">return</span><br>
<span class="lineno"></span><span class="op" id="5186828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5186831">//&nbsp;Alpha&nbsp;represents&nbsp;an&nbsp;8-bit&nbsp;alpha&nbsp;color.</span><br>
<span class="lineno">90</span><span class="keyword" id="5186873">type</span>&nbsp;<span class="ident" id="5186878">Alpha</span>&nbsp;<span class="keyword" id="5186884">struct</span>&nbsp;<span class="op" id="5186891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186894">A</span>&nbsp;<span class="builtintype" id="5186896">uint8</span><br>
<span class="lineno"></span><span class="op" id="5186902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5186905">func</span>&nbsp;<span class="op" id="5186910">(</span><span class="ident" id="5186911">c</span>&nbsp;<span class="ident" id="5186913"><a href="/gostd/image/color/color.go.html#5186878">Alpha</a></span><span class="op" id="5186918">)</span>&nbsp;<span class="ident" id="5186920">RGBA</span><span class="op" id="5186924">(</span><span class="op" id="5186925">)</span>&nbsp;<span class="op" id="5186927">(</span><span class="ident" id="5186928">r</span><span class="op" id="5186929">,</span>&nbsp;<span class="ident" id="5186931">g</span><span class="op" id="5186932">,</span>&nbsp;<span class="ident" id="5186934">b</span><span class="op" id="5186935">,</span>&nbsp;<span class="ident" id="5186937">a</span>&nbsp;<span class="builtintype" id="5186939">uint32</span><span class="op" id="5186945">)</span>&nbsp;<span class="op" id="5186947">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186950"><a href="/gostd/image/color/color.go.html#5186937">a</a></span>&nbsp;<span class="op" id="5186952">=</span>&nbsp;<span class="builtintype" id="5186954">uint32</span><span class="op" id="5186960">(</span><span class="ident" id="5186961"><a href="/gostd/image/color/color.go.html#5186911">c</a></span><span class="op" id="5186962">.</span><span class="ident" id="5186963"><a href="/gostd/image/color/color.go.html#5186894">A</a></span><span class="op" id="5186964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5186967"><a href="/gostd/image/color/color.go.html#5186937">a</a></span>&nbsp;<span class="op" id="5186969">|=</span>&nbsp;<span class="ident" id="5186972"><a href="/gostd/image/color/color.go.html#5186937">a</a></span>&nbsp;<span class="op" id="5186974">&lt;&lt;</span>&nbsp;<span class="num" id="5186977">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5186980">return</span>&nbsp;<span class="ident" id="5186987"><a href="/gostd/image/color/color.go.html#5186937">a</a></span><span class="op" id="5186988">,</span>&nbsp;<span class="ident" id="5186990"><a href="/gostd/image/color/color.go.html#5186937">a</a></span><span class="op" id="5186991">,</span>&nbsp;<span class="ident" id="5186993"><a href="/gostd/image/color/color.go.html#5186937">a</a></span><span class="op" id="5186994">,</span>&nbsp;<span class="ident" id="5186996"><a href="/gostd/image/color/color.go.html#5186937">a</a></span><br>
<span class="lineno"></span><span class="op" id="5186998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="comment" id="5187001">//&nbsp;Alpha16&nbsp;represents&nbsp;a&nbsp;16-bit&nbsp;alpha&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="5187045">type</span>&nbsp;<span class="ident" id="5187050">Alpha16</span>&nbsp;<span class="keyword" id="5187058">struct</span>&nbsp;<span class="op" id="5187065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5187068">A</span>&nbsp;<span class="builtintype" id="5187070">uint16</span><br>
<span class="lineno"></span><span class="op" id="5187077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5187080">func</span>&nbsp;<span class="op" id="5187085">(</span><span class="ident" id="5187086">c</span>&nbsp;<span class="ident" id="5187088"><a href="/gostd/image/color/color.go.html#5187050">Alpha16</a></span><span class="op" id="5187095">)</span>&nbsp;<span class="ident" id="5187097">RGBA</span><span class="op" id="5187101">(</span><span class="op" id="5187102">)</span>&nbsp;<span class="op" id="5187104">(</span><span class="ident" id="5187105">r</span><span class="op" id="5187106">,</span>&nbsp;<span class="ident" id="5187108">g</span><span class="op" id="5187109">,</span>&nbsp;<span class="ident" id="5187111">b</span><span class="op" id="5187112">,</span>&nbsp;<span class="ident" id="5187114">a</span>&nbsp;<span class="builtintype" id="5187116">uint32</span><span class="op" id="5187122">)</span>&nbsp;<span class="op" id="5187124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5187127"><a href="/gostd/image/color/color.go.html#5187114">a</a></span>&nbsp;<span class="op" id="5187129">=</span>&nbsp;<span class="builtintype" id="5187131">uint32</span><span class="op" id="5187137">(</span><span class="ident" id="5187138"><a href="/gostd/image/color/color.go.html#5187086">c</a></span><span class="op" id="5187139">.</span><span class="ident" id="5187140"><a href="/gostd/image/color/color.go.html#5187068">A</a></span><span class="op" id="5187141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5187144">return</span>&nbsp;<span class="ident" id="5187151"><a href="/gostd/image/color/color.go.html#5187114">a</a></span><span class="op" id="5187152">,</span>&nbsp;<span class="ident" id="5187154"><a href="/gostd/image/color/color.go.html#5187114">a</a></span><span class="op" id="5187155">,</span>&nbsp;<span class="ident" id="5187157"><a href="/gostd/image/color/color.go.html#5187114">a</a></span><span class="op" id="5187158">,</span>&nbsp;<span class="ident" id="5187160"><a href="/gostd/image/color/color.go.html#5187114">a</a></span><br>
<span class="lineno"></span><span class="op" id="5187162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="5187165">//&nbsp;Gray&nbsp;represents&nbsp;an&nbsp;8-bit&nbsp;grayscale&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="5187210">type</span>&nbsp;<span class="ident" id="5187215">Gray</span>&nbsp;<span class="keyword" id="5187220">struct</span>&nbsp;<span class="op" id="5187227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5187230">Y</span>&nbsp;<span class="builtintype" id="5187232">uint8</span><br>
<span class="lineno"></span><span class="op" id="5187238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="5187241">func</span>&nbsp;<span class="op" id="5187246">(</span><span class="ident" id="5187247">c</span>&nbsp;<span class="ident" id="5187249"><a href="/gostd/image/color/color.go.html#5187215">Gray</a></span><span class="op" id="5187253">)</span>&nbsp;<span class="ident" id="5187255">RGBA</span><span class="op" id="5187259">(</span><span class="op" id="5187260">)</span>&nbsp;<span class="op" id="5187262">(</span><span class="ident" id="5187263">r</span><span class="op" id="5187264">,</span>&nbsp;<span class="ident" id="5187266">g</span><span class="op" id="5187267">,</span>&nbsp;<span class="ident" id="5187269">b</span><span class="op" id="5187270">,</span>&nbsp;<span class="ident" id="5187272">a</span>&nbsp;<span class="builtintype" id="5187274">uint32</span><span class="op" id="5187280">)</span>&nbsp;<span class="op" id="5187282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5187285">y</span>&nbsp;<span class="op" id="5187287">:=</span>&nbsp;<span class="builtintype" id="5187290">uint32</span><span class="op" id="5187296">(</span><span class="ident" id="5187297"><a href="/gostd/image/color/color.go.html#5187247">c</a></span><span class="op" id="5187298">.</span><span class="ident" id="5187299"><a href="/gostd/image/color/color.go.html#5187230">Y</a></span><span class="op" id="5187300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5187303"><a href="/gostd/image/color/color.go.html#5187285">y</a></span>&nbsp;<span class="op" id="5187305">|=</span>&nbsp;<span class="ident" id="5187308"><a href="/gostd/image/color/color.go.html#5187285">y</a></span>&nbsp;<span class="op" id="5187310">&lt;&lt;</span>&nbsp;<span class="num" id="5187313">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5187316">return</span>&nbsp;<span class="ident" id="5187323"><a href="/gostd/image/color/color.go.html#5187285">y</a></span><span class="op" id="5187324">,</span>&nbsp;<span class="ident" id="5187326"><a href="/gostd/image/color/color.go.html#5187285">y</a></span><span class="op" id="5187327">,</span>&nbsp;<span class="ident" id="5187329"><a href="/gostd/image/color/color.go.html#5187285">y</a></span><span class="op" id="5187330">,</span>&nbsp;<span class="num" id="5187332">0xffff</span><br>
<span class="lineno"></span><span class="op" id="5187339">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="5187342">//&nbsp;Gray16&nbsp;represents&nbsp;a&nbsp;16-bit&nbsp;grayscale&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="5187389">type</span>&nbsp;<span class="ident" id="5187394">Gray16</span>&nbsp;<span class="keyword" id="5187401">struct</span>&nbsp;<span class="op" id="5187408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5187411">Y</span>&nbsp;<span class="builtintype" id="5187413">uint16</span><br>
<span class="lineno"></span><span class="op" id="5187420">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="5187423">func</span>&nbsp;<span class="op" id="5187428">(</span><span class="ident" id="5187429">c</span>&nbsp;<span class="ident" id="5187431"><a href="/gostd/image/color/color.go.html#5187394">Gray16</a></span><span class="op" id="5187437">)</span>&nbsp;<span class="ident" id="5187439">RGBA</span><span class="op" id="5187443">(</span><span class="op" id="5187444">)</span>&nbsp;<span class="op" id="5187446">(</span><span class="ident" id="5187447">r</span><span class="op" id="5187448">,</span>&nbsp;<span class="ident" id="5187450">g</span><span class="op" id="5187451">,</span>&nbsp;<span class="ident" id="5187453">b</span><span class="op" id="5187454">,</span>&nbsp;<span class="ident" id="5187456">a</span>&nbsp;<span class="builtintype" id="5187458">uint32</span><span class="op" id="5187464">)</span>&nbsp;<span class="op" id="5187466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5187469">y</span>&nbsp;<span class="op" id="5187471">:=</span>&nbsp;<span class="builtintype" id="5187474">uint32</span><span class="op" id="5187480">(</span><span class="ident" id="5187481"><a href="/gostd/image/color/color.go.html#5187429">c</a></span><span class="op" id="5187482">.</span><span class="ident" id="5187483"><a href="/gostd/image/color/color.go.html#5187411">Y</a></span><span class="op" id="5187484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5187487">return</span>&nbsp;<span class="ident" id="5187494"><a href="/gostd/image/color/color.go.html#5187469">y</a></span><span class="op" id="5187495">,</span>&nbsp;<span class="ident" id="5187497"><a href="/gostd/image/color/color.go.html#5187469">y</a></span><span class="op" id="5187498">,</span>&nbsp;<span class="ident" id="5187500"><a href="/gostd/image/color/color.go.html#5187469">y</a></span><span class="op" id="5187501">,</span>&nbsp;<span class="num" id="5187503">0xffff</span><br>
<span class="lineno"></span><span class="op" id="5187510">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="5187513">//&nbsp;Model&nbsp;can&nbsp;convert&nbsp;any&nbsp;Color&nbsp;to&nbsp;one&nbsp;from&nbsp;its&nbsp;own&nbsp;color&nbsp;model.&nbsp;The&nbsp;conversion</span><br>
<span class="lineno"></span><span class="comment" id="5187592">//&nbsp;may&nbsp;be&nbsp;lossy.</span><br>
<span class="lineno"></span><span class="keyword" id="5187609">type</span>&nbsp;<span class="ident" id="5187614">Model</span>&nbsp;<span class="keyword" id="5187620">interface</span>&nbsp;<span class="op" id="5187630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5187633">Convert</span><span class="op" id="5187640">(</span><span class="ident" id="5187641">c</span>&nbsp;<span class="ident" id="5187643"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5187648">)</span>&nbsp;<span class="ident" id="5187650"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><br>
<span class="lineno">135</span><span class="op" id="5187656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5187659">//&nbsp;ModelFunc&nbsp;returns&nbsp;a&nbsp;Model&nbsp;that&nbsp;invokes&nbsp;f&nbsp;to&nbsp;implement&nbsp;the&nbsp;conversion.</span><br>
<span class="lineno"></span><span class="keyword" id="5187732">func</span>&nbsp;<span class="ident" id="5187737">ModelFunc</span><span class="op" id="5187746">(</span><span class="ident" id="5187747">f</span>&nbsp;<span class="keyword" id="5187749">func</span><span class="op" id="5187753">(</span><span class="ident" id="5187754"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5187759">)</span>&nbsp;<span class="ident" id="5187761"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5187766">)</span>&nbsp;<span class="ident" id="5187768"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5187774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5187777">//&nbsp;Note:&nbsp;using&nbsp;*modelFunc&nbsp;as&nbsp;the&nbsp;implementation</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5187826">//&nbsp;means&nbsp;that&nbsp;callers&nbsp;can&nbsp;still&nbsp;use&nbsp;comparisons</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5187875">//&nbsp;like&nbsp;m&nbsp;==&nbsp;RGBAModel.&nbsp;&nbsp;This&nbsp;is&nbsp;not&nbsp;possible&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5187925">//&nbsp;we&nbsp;use&nbsp;the&nbsp;func&nbsp;value&nbsp;directly,&nbsp;because&nbsp;funcs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5187975">//&nbsp;are&nbsp;no&nbsp;longer&nbsp;comparable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188005">return</span>&nbsp;<span class="op" id="5188012">&amp;</span><span class="ident" id="5188013"><a href="/gostd/image/color/color.go.html#5188034">modelFunc</a></span><span class="op" id="5188022">{</span><span class="ident" id="5188023"><a href="/gostd/image/color/color.go.html#5187747">f</a></span><span class="op" id="5188024">}</span><br>
<span class="lineno">145</span><span class="op" id="5188026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5188029">type</span>&nbsp;<span class="ident" id="5188034">modelFunc</span>&nbsp;<span class="keyword" id="5188044">struct</span>&nbsp;<span class="op" id="5188051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188054">f</span>&nbsp;<span class="keyword" id="5188056">func</span><span class="op" id="5188060">(</span><span class="ident" id="5188061"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5188066">)</span>&nbsp;<span class="ident" id="5188068"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><br>
<span class="lineno"></span><span class="op" id="5188074">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="5188077">func</span>&nbsp;<span class="op" id="5188082">(</span><span class="ident" id="5188083">m</span>&nbsp;<span class="op" id="5188085">*</span><span class="ident" id="5188086"><a href="/gostd/image/color/color.go.html#5188034">modelFunc</a></span><span class="op" id="5188095">)</span>&nbsp;<span class="ident" id="5188097">Convert</span><span class="op" id="5188104">(</span><span class="ident" id="5188105">c</span>&nbsp;<span class="ident" id="5188107"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5188112">)</span>&nbsp;<span class="ident" id="5188114"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5188120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188123">return</span>&nbsp;<span class="ident" id="5188130"><a href="/gostd/image/color/color.go.html#5188083">m</a></span><span class="op" id="5188131">.</span><span class="ident" id="5188132"><a href="/gostd/image/color/color.go.html#5188054">f</a></span><span class="op" id="5188133">(</span><span class="ident" id="5188134"><a href="/gostd/image/color/color.go.html#5188105">c</a></span><span class="op" id="5188135">)</span><br>
<span class="lineno"></span><span class="op" id="5188137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="5188140">//&nbsp;Models&nbsp;for&nbsp;the&nbsp;standard&nbsp;color&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5188180">var</span>&nbsp;<span class="op" id="5188184">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188187">RGBAModel</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188200"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5188206">=</span>&nbsp;<span class="ident" id="5188208"><a href="/gostd/image/color/color.go.html#5187737">ModelFunc</a></span><span class="op" id="5188217">(</span><span class="ident" id="5188218"><a href="/gostd/image/color/color.go.html#5188550">rgbaModel</a></span><span class="op" id="5188227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188230">RGBA64Model</span>&nbsp;&nbsp;<span class="ident" id="5188243"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5188249">=</span>&nbsp;<span class="ident" id="5188251"><a href="/gostd/image/color/color.go.html#5187737">ModelFunc</a></span><span class="op" id="5188260">(</span><span class="ident" id="5188261"><a href="/gostd/image/color/color.go.html#5188724">rgba64Model</a></span><span class="op" id="5188272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188275">NRGBAModel</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5188288"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5188294">=</span>&nbsp;<span class="ident" id="5188296"><a href="/gostd/image/color/color.go.html#5187737">ModelFunc</a></span><span class="op" id="5188305">(</span><span class="ident" id="5188306"><a href="/gostd/image/color/color.go.html#5188888">nrgbaModel</a></span><span class="op" id="5188316">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188319">NRGBA64Model</span>&nbsp;<span class="ident" id="5188332"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5188338">=</span>&nbsp;<span class="ident" id="5188340"><a href="/gostd/image/color/color.go.html#5187737">ModelFunc</a></span><span class="op" id="5188349">(</span><span class="ident" id="5188350"><a href="/gostd/image/color/color.go.html#5189362">nrgba64Model</a></span><span class="op" id="5188362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188365">AlphaModel</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5188378"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5188384">=</span>&nbsp;<span class="ident" id="5188386"><a href="/gostd/image/color/color.go.html#5187737">ModelFunc</a></span><span class="op" id="5188395">(</span><span class="ident" id="5188396"><a href="/gostd/image/color/color.go.html#5189820">alphaModel</a></span><span class="op" id="5188406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188409">Alpha16Model</span>&nbsp;<span class="ident" id="5188422"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5188428">=</span>&nbsp;<span class="ident" id="5188430"><a href="/gostd/image/color/color.go.html#5187737">ModelFunc</a></span><span class="op" id="5188439">(</span><span class="ident" id="5188440"><a href="/gostd/image/color/color.go.html#5189952">alpha16Model</a></span><span class="op" id="5188452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188455">GrayModel</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188468"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5188474">=</span>&nbsp;<span class="ident" id="5188476"><a href="/gostd/image/color/color.go.html#5187737">ModelFunc</a></span><span class="op" id="5188485">(</span><span class="ident" id="5188486"><a href="/gostd/image/color/color.go.html#5190086">grayModel</a></span><span class="op" id="5188495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188498">Gray16Model</span>&nbsp;&nbsp;<span class="ident" id="5188511"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5188517">=</span>&nbsp;<span class="ident" id="5188519"><a href="/gostd/image/color/color.go.html#5187737">ModelFunc</a></span><span class="op" id="5188528">(</span><span class="ident" id="5188529"><a href="/gostd/image/color/color.go.html#5190258">gray16Model</a></span><span class="op" id="5188540">)</span><br>
<span class="lineno">165</span><span class="op" id="5188542">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5188545">func</span>&nbsp;<span class="ident" id="5188550">rgbaModel</span><span class="op" id="5188559">(</span><span class="ident" id="5188560">c</span>&nbsp;<span class="ident" id="5188562"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5188567">)</span>&nbsp;<span class="ident" id="5188569"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5188575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188578">if</span>&nbsp;<span class="ident" id="5188581">_</span><span class="op" id="5188582">,</span>&nbsp;<span class="ident" id="5188584">ok</span>&nbsp;<span class="op" id="5188587">:=</span>&nbsp;<span class="ident" id="5188590"><a href="/gostd/image/color/color.go.html#5188560">c</a></span><span class="op" id="5188591">.</span><span class="op" id="5188592">(</span><span class="ident" id="5188593"><a href="/gostd/image/color/color.go.html#5185612">RGBA</a></span><span class="op" id="5188597">)</span><span class="op" id="5188598">;</span>&nbsp;<span class="ident" id="5188600"><a href="/gostd/image/color/color.go.html#5188584">ok</a></span>&nbsp;<span class="op" id="5188603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188607">return</span>&nbsp;<span class="ident" id="5188614"><a href="/gostd/image/color/color.go.html#5188560">c</a></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5188617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188620">r</span><span class="op" id="5188621">,</span>&nbsp;<span class="ident" id="5188623">g</span><span class="op" id="5188624">,</span>&nbsp;<span class="ident" id="5188626">b</span><span class="op" id="5188627">,</span>&nbsp;<span class="ident" id="5188629">a</span>&nbsp;<span class="op" id="5188631">:=</span>&nbsp;<span class="ident" id="5188634"><a href="/gostd/image/color/color.go.html#5188560">c</a></span><span class="op" id="5188635">.</span><span class="ident" id="5188636"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5188640">(</span><span class="op" id="5188641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188644">return</span>&nbsp;<span class="ident" id="5188651"><a href="/gostd/image/color/color.go.html#5185612">RGBA</a></span><span class="op" id="5188655">{</span><span class="builtintype" id="5188656">uint8</span><span class="op" id="5188661">(</span><span class="ident" id="5188662"><a href="/gostd/image/color/color.go.html#5188620">r</a></span>&nbsp;<span class="op" id="5188664">&gt;&gt;</span>&nbsp;<span class="num" id="5188667">8</span><span class="op" id="5188668">)</span><span class="op" id="5188669">,</span>&nbsp;<span class="builtintype" id="5188671">uint8</span><span class="op" id="5188676">(</span><span class="ident" id="5188677"><a href="/gostd/image/color/color.go.html#5188623">g</a></span>&nbsp;<span class="op" id="5188679">&gt;&gt;</span>&nbsp;<span class="num" id="5188682">8</span><span class="op" id="5188683">)</span><span class="op" id="5188684">,</span>&nbsp;<span class="builtintype" id="5188686">uint8</span><span class="op" id="5188691">(</span><span class="ident" id="5188692"><a href="/gostd/image/color/color.go.html#5188626">b</a></span>&nbsp;<span class="op" id="5188694">&gt;&gt;</span>&nbsp;<span class="num" id="5188697">8</span><span class="op" id="5188698">)</span><span class="op" id="5188699">,</span>&nbsp;<span class="builtintype" id="5188701">uint8</span><span class="op" id="5188706">(</span><span class="ident" id="5188707"><a href="/gostd/image/color/color.go.html#5188629">a</a></span>&nbsp;<span class="op" id="5188709">&gt;&gt;</span>&nbsp;<span class="num" id="5188712">8</span><span class="op" id="5188713">)</span><span class="op" id="5188714">}</span><br>
<span class="lineno"></span><span class="op" id="5188716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="keyword" id="5188719">func</span>&nbsp;<span class="ident" id="5188724">rgba64Model</span><span class="op" id="5188735">(</span><span class="ident" id="5188736">c</span>&nbsp;<span class="ident" id="5188738"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5188743">)</span>&nbsp;<span class="ident" id="5188745"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5188751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188754">if</span>&nbsp;<span class="ident" id="5188757">_</span><span class="op" id="5188758">,</span>&nbsp;<span class="ident" id="5188760">ok</span>&nbsp;<span class="op" id="5188763">:=</span>&nbsp;<span class="ident" id="5188766"><a href="/gostd/image/color/color.go.html#5188736">c</a></span><span class="op" id="5188767">.</span><span class="op" id="5188768">(</span><span class="ident" id="5188769"><a href="/gostd/image/color/color.go.html#5185941">RGBA64</a></span><span class="op" id="5188775">)</span><span class="op" id="5188776">;</span>&nbsp;<span class="ident" id="5188778"><a href="/gostd/image/color/color.go.html#5188760">ok</a></span>&nbsp;<span class="op" id="5188781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188785">return</span>&nbsp;<span class="ident" id="5188792"><a href="/gostd/image/color/color.go.html#5188736">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5188795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188798">r</span><span class="op" id="5188799">,</span>&nbsp;<span class="ident" id="5188801">g</span><span class="op" id="5188802">,</span>&nbsp;<span class="ident" id="5188804">b</span><span class="op" id="5188805">,</span>&nbsp;<span class="ident" id="5188807">a</span>&nbsp;<span class="op" id="5188809">:=</span>&nbsp;<span class="ident" id="5188812"><a href="/gostd/image/color/color.go.html#5188736">c</a></span><span class="op" id="5188813">.</span><span class="ident" id="5188814"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5188818">(</span><span class="op" id="5188819">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188822">return</span>&nbsp;<span class="ident" id="5188829"><a href="/gostd/image/color/color.go.html#5185941">RGBA64</a></span><span class="op" id="5188835">{</span><span class="builtintype" id="5188836">uint16</span><span class="op" id="5188842">(</span><span class="ident" id="5188843"><a href="/gostd/image/color/color.go.html#5188798">r</a></span><span class="op" id="5188844">)</span><span class="op" id="5188845">,</span>&nbsp;<span class="builtintype" id="5188847">uint16</span><span class="op" id="5188853">(</span><span class="ident" id="5188854"><a href="/gostd/image/color/color.go.html#5188801">g</a></span><span class="op" id="5188855">)</span><span class="op" id="5188856">,</span>&nbsp;<span class="builtintype" id="5188858">uint16</span><span class="op" id="5188864">(</span><span class="ident" id="5188865"><a href="/gostd/image/color/color.go.html#5188804">b</a></span><span class="op" id="5188866">)</span><span class="op" id="5188867">,</span>&nbsp;<span class="builtintype" id="5188869">uint16</span><span class="op" id="5188875">(</span><span class="ident" id="5188876"><a href="/gostd/image/color/color.go.html#5188807">a</a></span><span class="op" id="5188877">)</span><span class="op" id="5188878">}</span><br>
<span class="lineno"></span><span class="op" id="5188880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5188883">func</span>&nbsp;<span class="ident" id="5188888">nrgbaModel</span><span class="op" id="5188898">(</span><span class="ident" id="5188899">c</span>&nbsp;<span class="ident" id="5188901"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5188906">)</span>&nbsp;<span class="ident" id="5188908"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5188914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188917">if</span>&nbsp;<span class="ident" id="5188920">_</span><span class="op" id="5188921">,</span>&nbsp;<span class="ident" id="5188923">ok</span>&nbsp;<span class="op" id="5188926">:=</span>&nbsp;<span class="ident" id="5188929"><a href="/gostd/image/color/color.go.html#5188899">c</a></span><span class="op" id="5188930">.</span><span class="op" id="5188931">(</span><span class="ident" id="5188932"><a href="/gostd/image/color/color.go.html#5186151">NRGBA</a></span><span class="op" id="5188937">)</span><span class="op" id="5188938">;</span>&nbsp;<span class="ident" id="5188940"><a href="/gostd/image/color/color.go.html#5188923">ok</a></span>&nbsp;<span class="op" id="5188943">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188947">return</span>&nbsp;<span class="ident" id="5188954"><a href="/gostd/image/color/color.go.html#5188899">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5188957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5188960">r</span><span class="op" id="5188961">,</span>&nbsp;<span class="ident" id="5188963">g</span><span class="op" id="5188964">,</span>&nbsp;<span class="ident" id="5188966">b</span><span class="op" id="5188967">,</span>&nbsp;<span class="ident" id="5188969">a</span>&nbsp;<span class="op" id="5188971">:=</span>&nbsp;<span class="ident" id="5188974"><a href="/gostd/image/color/color.go.html#5188899">c</a></span><span class="op" id="5188975">.</span><span class="ident" id="5188976"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5188980">(</span><span class="op" id="5188981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5188984">if</span>&nbsp;<span class="ident" id="5188987"><a href="/gostd/image/color/color.go.html#5188969">a</a></span>&nbsp;<span class="op" id="5188989">==</span>&nbsp;<span class="num" id="5188992">0xffff</span>&nbsp;<span class="op" id="5188999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189003">return</span>&nbsp;<span class="ident" id="5189010"><a href="/gostd/image/color/color.go.html#5186151">NRGBA</a></span><span class="op" id="5189015">{</span><span class="builtintype" id="5189016">uint8</span><span class="op" id="5189021">(</span><span class="ident" id="5189022"><a href="/gostd/image/color/color.go.html#5188960">r</a></span>&nbsp;<span class="op" id="5189024">&gt;&gt;</span>&nbsp;<span class="num" id="5189027">8</span><span class="op" id="5189028">)</span><span class="op" id="5189029">,</span>&nbsp;<span class="builtintype" id="5189031">uint8</span><span class="op" id="5189036">(</span><span class="ident" id="5189037"><a href="/gostd/image/color/color.go.html#5188963">g</a></span>&nbsp;<span class="op" id="5189039">&gt;&gt;</span>&nbsp;<span class="num" id="5189042">8</span><span class="op" id="5189043">)</span><span class="op" id="5189044">,</span>&nbsp;<span class="builtintype" id="5189046">uint8</span><span class="op" id="5189051">(</span><span class="ident" id="5189052"><a href="/gostd/image/color/color.go.html#5188966">b</a></span>&nbsp;<span class="op" id="5189054">&gt;&gt;</span>&nbsp;<span class="num" id="5189057">8</span><span class="op" id="5189058">)</span><span class="op" id="5189059">,</span>&nbsp;<span class="num" id="5189061">0xff</span><span class="op" id="5189065">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5189068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189071">if</span>&nbsp;<span class="ident" id="5189074"><a href="/gostd/image/color/color.go.html#5188969">a</a></span>&nbsp;<span class="op" id="5189076">==</span>&nbsp;<span class="num" id="5189079">0</span>&nbsp;<span class="op" id="5189081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189085">return</span>&nbsp;<span class="ident" id="5189092"><a href="/gostd/image/color/color.go.html#5186151">NRGBA</a></span><span class="op" id="5189097">{</span><span class="num" id="5189098">0</span><span class="op" id="5189099">,</span>&nbsp;<span class="num" id="5189101">0</span><span class="op" id="5189102">,</span>&nbsp;<span class="num" id="5189104">0</span><span class="op" id="5189105">,</span>&nbsp;<span class="num" id="5189107">0</span><span class="op" id="5189108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5189111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5189114">//&nbsp;Since&nbsp;Color.RGBA&nbsp;returns&nbsp;a&nbsp;alpha-premultiplied&nbsp;color,&nbsp;we&nbsp;should&nbsp;have&nbsp;r&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;g&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;b&nbsp;&lt;=&nbsp;a.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5189215"><a href="/gostd/image/color/color.go.html#5188960">r</a></span>&nbsp;<span class="op" id="5189217">=</span>&nbsp;<span class="op" id="5189219">(</span><span class="ident" id="5189220"><a href="/gostd/image/color/color.go.html#5188960">r</a></span>&nbsp;<span class="op" id="5189222">*</span>&nbsp;<span class="num" id="5189224">0xffff</span><span class="op" id="5189230">)</span>&nbsp;<span class="op" id="5189232">/</span>&nbsp;<span class="ident" id="5189234"><a href="/gostd/image/color/color.go.html#5188969">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5189237"><a href="/gostd/image/color/color.go.html#5188963">g</a></span>&nbsp;<span class="op" id="5189239">=</span>&nbsp;<span class="op" id="5189241">(</span><span class="ident" id="5189242"><a href="/gostd/image/color/color.go.html#5188963">g</a></span>&nbsp;<span class="op" id="5189244">*</span>&nbsp;<span class="num" id="5189246">0xffff</span><span class="op" id="5189252">)</span>&nbsp;<span class="op" id="5189254">/</span>&nbsp;<span class="ident" id="5189256"><a href="/gostd/image/color/color.go.html#5188969">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5189259"><a href="/gostd/image/color/color.go.html#5188966">b</a></span>&nbsp;<span class="op" id="5189261">=</span>&nbsp;<span class="op" id="5189263">(</span><span class="ident" id="5189264"><a href="/gostd/image/color/color.go.html#5188966">b</a></span>&nbsp;<span class="op" id="5189266">*</span>&nbsp;<span class="num" id="5189268">0xffff</span><span class="op" id="5189274">)</span>&nbsp;<span class="op" id="5189276">/</span>&nbsp;<span class="ident" id="5189278"><a href="/gostd/image/color/color.go.html#5188969">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189281">return</span>&nbsp;<span class="ident" id="5189288"><a href="/gostd/image/color/color.go.html#5186151">NRGBA</a></span><span class="op" id="5189293">{</span><span class="builtintype" id="5189294">uint8</span><span class="op" id="5189299">(</span><span class="ident" id="5189300"><a href="/gostd/image/color/color.go.html#5188960">r</a></span>&nbsp;<span class="op" id="5189302">&gt;&gt;</span>&nbsp;<span class="num" id="5189305">8</span><span class="op" id="5189306">)</span><span class="op" id="5189307">,</span>&nbsp;<span class="builtintype" id="5189309">uint8</span><span class="op" id="5189314">(</span><span class="ident" id="5189315"><a href="/gostd/image/color/color.go.html#5188963">g</a></span>&nbsp;<span class="op" id="5189317">&gt;&gt;</span>&nbsp;<span class="num" id="5189320">8</span><span class="op" id="5189321">)</span><span class="op" id="5189322">,</span>&nbsp;<span class="builtintype" id="5189324">uint8</span><span class="op" id="5189329">(</span><span class="ident" id="5189330"><a href="/gostd/image/color/color.go.html#5188966">b</a></span>&nbsp;<span class="op" id="5189332">&gt;&gt;</span>&nbsp;<span class="num" id="5189335">8</span><span class="op" id="5189336">)</span><span class="op" id="5189337">,</span>&nbsp;<span class="builtintype" id="5189339">uint8</span><span class="op" id="5189344">(</span><span class="ident" id="5189345"><a href="/gostd/image/color/color.go.html#5188969">a</a></span>&nbsp;<span class="op" id="5189347">&gt;&gt;</span>&nbsp;<span class="num" id="5189350">8</span><span class="op" id="5189351">)</span><span class="op" id="5189352">}</span><br>
<span class="lineno"></span><span class="op" id="5189354">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="5189357">func</span>&nbsp;<span class="ident" id="5189362">nrgba64Model</span><span class="op" id="5189374">(</span><span class="ident" id="5189375">c</span>&nbsp;<span class="ident" id="5189377"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5189382">)</span>&nbsp;<span class="ident" id="5189384"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5189390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189393">if</span>&nbsp;<span class="ident" id="5189396">_</span><span class="op" id="5189397">,</span>&nbsp;<span class="ident" id="5189399">ok</span>&nbsp;<span class="op" id="5189402">:=</span>&nbsp;<span class="ident" id="5189405"><a href="/gostd/image/color/color.go.html#5189375">c</a></span><span class="op" id="5189406">.</span><span class="op" id="5189407">(</span><span class="ident" id="5189408"><a href="/gostd/image/color/color.go.html#5186574">NRGBA64</a></span><span class="op" id="5189415">)</span><span class="op" id="5189416">;</span>&nbsp;<span class="ident" id="5189418"><a href="/gostd/image/color/color.go.html#5189399">ok</a></span>&nbsp;<span class="op" id="5189421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189425">return</span>&nbsp;<span class="ident" id="5189432"><a href="/gostd/image/color/color.go.html#5189375">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5189435">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5189438">r</span><span class="op" id="5189439">,</span>&nbsp;<span class="ident" id="5189441">g</span><span class="op" id="5189442">,</span>&nbsp;<span class="ident" id="5189444">b</span><span class="op" id="5189445">,</span>&nbsp;<span class="ident" id="5189447">a</span>&nbsp;<span class="op" id="5189449">:=</span>&nbsp;<span class="ident" id="5189452"><a href="/gostd/image/color/color.go.html#5189375">c</a></span><span class="op" id="5189453">.</span><span class="ident" id="5189454"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5189458">(</span><span class="op" id="5189459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189462">if</span>&nbsp;<span class="ident" id="5189465"><a href="/gostd/image/color/color.go.html#5189447">a</a></span>&nbsp;<span class="op" id="5189467">==</span>&nbsp;<span class="num" id="5189470">0xffff</span>&nbsp;<span class="op" id="5189477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189481">return</span>&nbsp;<span class="ident" id="5189488"><a href="/gostd/image/color/color.go.html#5186574">NRGBA64</a></span><span class="op" id="5189495">{</span><span class="builtintype" id="5189496">uint16</span><span class="op" id="5189502">(</span><span class="ident" id="5189503"><a href="/gostd/image/color/color.go.html#5189438">r</a></span><span class="op" id="5189504">)</span><span class="op" id="5189505">,</span>&nbsp;<span class="builtintype" id="5189507">uint16</span><span class="op" id="5189513">(</span><span class="ident" id="5189514"><a href="/gostd/image/color/color.go.html#5189441">g</a></span><span class="op" id="5189515">)</span><span class="op" id="5189516">,</span>&nbsp;<span class="builtintype" id="5189518">uint16</span><span class="op" id="5189524">(</span><span class="ident" id="5189525"><a href="/gostd/image/color/color.go.html#5189444">b</a></span><span class="op" id="5189526">)</span><span class="op" id="5189527">,</span>&nbsp;<span class="num" id="5189529">0xffff</span><span class="op" id="5189535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5189538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189541">if</span>&nbsp;<span class="ident" id="5189544"><a href="/gostd/image/color/color.go.html#5189447">a</a></span>&nbsp;<span class="op" id="5189546">==</span>&nbsp;<span class="num" id="5189549">0</span>&nbsp;<span class="op" id="5189551">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189555">return</span>&nbsp;<span class="ident" id="5189562"><a href="/gostd/image/color/color.go.html#5186574">NRGBA64</a></span><span class="op" id="5189569">{</span><span class="num" id="5189570">0</span><span class="op" id="5189571">,</span>&nbsp;<span class="num" id="5189573">0</span><span class="op" id="5189574">,</span>&nbsp;<span class="num" id="5189576">0</span><span class="op" id="5189577">,</span>&nbsp;<span class="num" id="5189579">0</span><span class="op" id="5189580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5189583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5189586">//&nbsp;Since&nbsp;Color.RGBA&nbsp;returns&nbsp;a&nbsp;alpha-premultiplied&nbsp;color,&nbsp;we&nbsp;should&nbsp;have&nbsp;r&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;g&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;b&nbsp;&lt;=&nbsp;a.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5189687"><a href="/gostd/image/color/color.go.html#5189438">r</a></span>&nbsp;<span class="op" id="5189689">=</span>&nbsp;<span class="op" id="5189691">(</span><span class="ident" id="5189692"><a href="/gostd/image/color/color.go.html#5189438">r</a></span>&nbsp;<span class="op" id="5189694">*</span>&nbsp;<span class="num" id="5189696">0xffff</span><span class="op" id="5189702">)</span>&nbsp;<span class="op" id="5189704">/</span>&nbsp;<span class="ident" id="5189706"><a href="/gostd/image/color/color.go.html#5189447">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5189709"><a href="/gostd/image/color/color.go.html#5189441">g</a></span>&nbsp;<span class="op" id="5189711">=</span>&nbsp;<span class="op" id="5189713">(</span><span class="ident" id="5189714"><a href="/gostd/image/color/color.go.html#5189441">g</a></span>&nbsp;<span class="op" id="5189716">*</span>&nbsp;<span class="num" id="5189718">0xffff</span><span class="op" id="5189724">)</span>&nbsp;<span class="op" id="5189726">/</span>&nbsp;<span class="ident" id="5189728"><a href="/gostd/image/color/color.go.html#5189447">a</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5189731"><a href="/gostd/image/color/color.go.html#5189444">b</a></span>&nbsp;<span class="op" id="5189733">=</span>&nbsp;<span class="op" id="5189735">(</span><span class="ident" id="5189736"><a href="/gostd/image/color/color.go.html#5189444">b</a></span>&nbsp;<span class="op" id="5189738">*</span>&nbsp;<span class="num" id="5189740">0xffff</span><span class="op" id="5189746">)</span>&nbsp;<span class="op" id="5189748">/</span>&nbsp;<span class="ident" id="5189750"><a href="/gostd/image/color/color.go.html#5189447">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189753">return</span>&nbsp;<span class="ident" id="5189760"><a href="/gostd/image/color/color.go.html#5186574">NRGBA64</a></span><span class="op" id="5189767">{</span><span class="builtintype" id="5189768">uint16</span><span class="op" id="5189774">(</span><span class="ident" id="5189775"><a href="/gostd/image/color/color.go.html#5189438">r</a></span><span class="op" id="5189776">)</span><span class="op" id="5189777">,</span>&nbsp;<span class="builtintype" id="5189779">uint16</span><span class="op" id="5189785">(</span><span class="ident" id="5189786"><a href="/gostd/image/color/color.go.html#5189441">g</a></span><span class="op" id="5189787">)</span><span class="op" id="5189788">,</span>&nbsp;<span class="builtintype" id="5189790">uint16</span><span class="op" id="5189796">(</span><span class="ident" id="5189797"><a href="/gostd/image/color/color.go.html#5189444">b</a></span><span class="op" id="5189798">)</span><span class="op" id="5189799">,</span>&nbsp;<span class="builtintype" id="5189801">uint16</span><span class="op" id="5189807">(</span><span class="ident" id="5189808"><a href="/gostd/image/color/color.go.html#5189447">a</a></span><span class="op" id="5189809">)</span><span class="op" id="5189810">}</span><br>
<span class="lineno"></span><span class="op" id="5189812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5189815">func</span>&nbsp;<span class="ident" id="5189820">alphaModel</span><span class="op" id="5189830">(</span><span class="ident" id="5189831">c</span>&nbsp;<span class="ident" id="5189833"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5189838">)</span>&nbsp;<span class="ident" id="5189840"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5189846">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189849">if</span>&nbsp;<span class="ident" id="5189852">_</span><span class="op" id="5189853">,</span>&nbsp;<span class="ident" id="5189855">ok</span>&nbsp;<span class="op" id="5189858">:=</span>&nbsp;<span class="ident" id="5189861"><a href="/gostd/image/color/color.go.html#5189831">c</a></span><span class="op" id="5189862">.</span><span class="op" id="5189863">(</span><span class="ident" id="5189864"><a href="/gostd/image/color/color.go.html#5186878">Alpha</a></span><span class="op" id="5189869">)</span><span class="op" id="5189870">;</span>&nbsp;<span class="ident" id="5189872"><a href="/gostd/image/color/color.go.html#5189855">ok</a></span>&nbsp;<span class="op" id="5189875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189879">return</span>&nbsp;<span class="ident" id="5189886"><a href="/gostd/image/color/color.go.html#5189831">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5189889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5189892">_</span><span class="op" id="5189893">,</span>&nbsp;<span class="ident" id="5189895">_</span><span class="op" id="5189896">,</span>&nbsp;<span class="ident" id="5189898">_</span><span class="op" id="5189899">,</span>&nbsp;<span class="ident" id="5189901">a</span>&nbsp;<span class="op" id="5189903">:=</span>&nbsp;<span class="ident" id="5189906"><a href="/gostd/image/color/color.go.html#5189831">c</a></span><span class="op" id="5189907">.</span><span class="ident" id="5189908"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5189912">(</span><span class="op" id="5189913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189916">return</span>&nbsp;<span class="ident" id="5189923"><a href="/gostd/image/color/color.go.html#5186878">Alpha</a></span><span class="op" id="5189928">{</span><span class="builtintype" id="5189929">uint8</span><span class="op" id="5189934">(</span><span class="ident" id="5189935"><a href="/gostd/image/color/color.go.html#5189901">a</a></span>&nbsp;<span class="op" id="5189937">&gt;&gt;</span>&nbsp;<span class="num" id="5189940">8</span><span class="op" id="5189941">)</span><span class="op" id="5189942">}</span><br>
<span class="lineno">225</span><span class="op" id="5189944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5189947">func</span>&nbsp;<span class="ident" id="5189952">alpha16Model</span><span class="op" id="5189964">(</span><span class="ident" id="5189965">c</span>&nbsp;<span class="ident" id="5189967"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5189972">)</span>&nbsp;<span class="ident" id="5189974"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5189980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5189983">if</span>&nbsp;<span class="ident" id="5189986">_</span><span class="op" id="5189987">,</span>&nbsp;<span class="ident" id="5189989">ok</span>&nbsp;<span class="op" id="5189992">:=</span>&nbsp;<span class="ident" id="5189995"><a href="/gostd/image/color/color.go.html#5189965">c</a></span><span class="op" id="5189996">.</span><span class="op" id="5189997">(</span><span class="ident" id="5189998"><a href="/gostd/image/color/color.go.html#5187050">Alpha16</a></span><span class="op" id="5190005">)</span><span class="op" id="5190006">;</span>&nbsp;<span class="ident" id="5190008"><a href="/gostd/image/color/color.go.html#5189989">ok</a></span>&nbsp;<span class="op" id="5190011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190015">return</span>&nbsp;<span class="ident" id="5190022"><a href="/gostd/image/color/color.go.html#5189965">c</a></span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5190025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5190028">_</span><span class="op" id="5190029">,</span>&nbsp;<span class="ident" id="5190031">_</span><span class="op" id="5190032">,</span>&nbsp;<span class="ident" id="5190034">_</span><span class="op" id="5190035">,</span>&nbsp;<span class="ident" id="5190037">a</span>&nbsp;<span class="op" id="5190039">:=</span>&nbsp;<span class="ident" id="5190042"><a href="/gostd/image/color/color.go.html#5189965">c</a></span><span class="op" id="5190043">.</span><span class="ident" id="5190044"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5190048">(</span><span class="op" id="5190049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190052">return</span>&nbsp;<span class="ident" id="5190059"><a href="/gostd/image/color/color.go.html#5187050">Alpha16</a></span><span class="op" id="5190066">{</span><span class="builtintype" id="5190067">uint16</span><span class="op" id="5190073">(</span><span class="ident" id="5190074"><a href="/gostd/image/color/color.go.html#5190037">a</a></span><span class="op" id="5190075">)</span><span class="op" id="5190076">}</span><br>
<span class="lineno"></span><span class="op" id="5190078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="5190081">func</span>&nbsp;<span class="ident" id="5190086">grayModel</span><span class="op" id="5190095">(</span><span class="ident" id="5190096">c</span>&nbsp;<span class="ident" id="5190098"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5190103">)</span>&nbsp;<span class="ident" id="5190105"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5190111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190114">if</span>&nbsp;<span class="ident" id="5190117">_</span><span class="op" id="5190118">,</span>&nbsp;<span class="ident" id="5190120">ok</span>&nbsp;<span class="op" id="5190123">:=</span>&nbsp;<span class="ident" id="5190126"><a href="/gostd/image/color/color.go.html#5190096">c</a></span><span class="op" id="5190127">.</span><span class="op" id="5190128">(</span><span class="ident" id="5190129"><a href="/gostd/image/color/color.go.html#5187215">Gray</a></span><span class="op" id="5190133">)</span><span class="op" id="5190134">;</span>&nbsp;<span class="ident" id="5190136"><a href="/gostd/image/color/color.go.html#5190120">ok</a></span>&nbsp;<span class="op" id="5190139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190143">return</span>&nbsp;<span class="ident" id="5190150"><a href="/gostd/image/color/color.go.html#5190096">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5190153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5190156">r</span><span class="op" id="5190157">,</span>&nbsp;<span class="ident" id="5190159">g</span><span class="op" id="5190160">,</span>&nbsp;<span class="ident" id="5190162">b</span><span class="op" id="5190163">,</span>&nbsp;<span class="ident" id="5190165">_</span>&nbsp;<span class="op" id="5190167">:=</span>&nbsp;<span class="ident" id="5190170"><a href="/gostd/image/color/color.go.html#5190096">c</a></span><span class="op" id="5190171">.</span><span class="ident" id="5190172"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5190176">(</span><span class="op" id="5190177">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5190180">y</span>&nbsp;<span class="op" id="5190182">:=</span>&nbsp;<span class="op" id="5190185">(</span><span class="num" id="5190186">299</span><span class="op" id="5190189">*</span><span class="ident" id="5190190"><a href="/gostd/image/color/color.go.html#5190156">r</a></span>&nbsp;<span class="op" id="5190192">+</span>&nbsp;<span class="num" id="5190194">587</span><span class="op" id="5190197">*</span><span class="ident" id="5190198"><a href="/gostd/image/color/color.go.html#5190159">g</a></span>&nbsp;<span class="op" id="5190200">+</span>&nbsp;<span class="num" id="5190202">114</span><span class="op" id="5190205">*</span><span class="ident" id="5190206"><a href="/gostd/image/color/color.go.html#5190162">b</a></span>&nbsp;<span class="op" id="5190208">+</span>&nbsp;<span class="num" id="5190210">500</span><span class="op" id="5190213">)</span>&nbsp;<span class="op" id="5190215">/</span>&nbsp;<span class="num" id="5190217">1000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190223">return</span>&nbsp;<span class="ident" id="5190230"><a href="/gostd/image/color/color.go.html#5187215">Gray</a></span><span class="op" id="5190234">{</span><span class="builtintype" id="5190235">uint8</span><span class="op" id="5190240">(</span><span class="ident" id="5190241"><a href="/gostd/image/color/color.go.html#5190180">y</a></span>&nbsp;<span class="op" id="5190243">&gt;&gt;</span>&nbsp;<span class="num" id="5190246">8</span><span class="op" id="5190247">)</span><span class="op" id="5190248">}</span><br>
<span class="lineno"></span><span class="op" id="5190250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5190253">func</span>&nbsp;<span class="ident" id="5190258">gray16Model</span><span class="op" id="5190269">(</span><span class="ident" id="5190270">c</span>&nbsp;<span class="ident" id="5190272"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5190277">)</span>&nbsp;<span class="ident" id="5190279"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5190285">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190288">if</span>&nbsp;<span class="ident" id="5190291">_</span><span class="op" id="5190292">,</span>&nbsp;<span class="ident" id="5190294">ok</span>&nbsp;<span class="op" id="5190297">:=</span>&nbsp;<span class="ident" id="5190300"><a href="/gostd/image/color/color.go.html#5190270">c</a></span><span class="op" id="5190301">.</span><span class="op" id="5190302">(</span><span class="ident" id="5190303"><a href="/gostd/image/color/color.go.html#5187394">Gray16</a></span><span class="op" id="5190309">)</span><span class="op" id="5190310">;</span>&nbsp;<span class="ident" id="5190312"><a href="/gostd/image/color/color.go.html#5190294">ok</a></span>&nbsp;<span class="op" id="5190315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190319">return</span>&nbsp;<span class="ident" id="5190326"><a href="/gostd/image/color/color.go.html#5190270">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5190329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5190332">r</span><span class="op" id="5190333">,</span>&nbsp;<span class="ident" id="5190335">g</span><span class="op" id="5190336">,</span>&nbsp;<span class="ident" id="5190338">b</span><span class="op" id="5190339">,</span>&nbsp;<span class="ident" id="5190341">_</span>&nbsp;<span class="op" id="5190343">:=</span>&nbsp;<span class="ident" id="5190346"><a href="/gostd/image/color/color.go.html#5190270">c</a></span><span class="op" id="5190347">.</span><span class="ident" id="5190348"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5190352">(</span><span class="op" id="5190353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5190356">y</span>&nbsp;<span class="op" id="5190358">:=</span>&nbsp;<span class="op" id="5190361">(</span><span class="num" id="5190362">299</span><span class="op" id="5190365">*</span><span class="ident" id="5190366"><a href="/gostd/image/color/color.go.html#5190332">r</a></span>&nbsp;<span class="op" id="5190368">+</span>&nbsp;<span class="num" id="5190370">587</span><span class="op" id="5190373">*</span><span class="ident" id="5190374"><a href="/gostd/image/color/color.go.html#5190335">g</a></span>&nbsp;<span class="op" id="5190376">+</span>&nbsp;<span class="num" id="5190378">114</span><span class="op" id="5190381">*</span><span class="ident" id="5190382"><a href="/gostd/image/color/color.go.html#5190338">b</a></span>&nbsp;<span class="op" id="5190384">+</span>&nbsp;<span class="num" id="5190386">500</span><span class="op" id="5190389">)</span>&nbsp;<span class="op" id="5190391">/</span>&nbsp;<span class="num" id="5190393">1000</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190399">return</span>&nbsp;<span class="ident" id="5190406"><a href="/gostd/image/color/color.go.html#5187394">Gray16</a></span><span class="op" id="5190412">{</span><span class="builtintype" id="5190413">uint16</span><span class="op" id="5190419">(</span><span class="ident" id="5190420"><a href="/gostd/image/color/color.go.html#5190356">y</a></span><span class="op" id="5190421">)</span><span class="op" id="5190422">}</span><br>
<span class="lineno"></span><span class="op" id="5190424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5190427">//&nbsp;Palette&nbsp;is&nbsp;a&nbsp;palette&nbsp;of&nbsp;colors.</span><br>
<span class="lineno"></span><span class="keyword" id="5190462">type</span>&nbsp;<span class="ident" id="5190467">Palette</span>&nbsp;<span class="op" id="5190475">[</span><span class="op" id="5190476">]</span><span class="ident" id="5190477"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="comment" id="5190484">//&nbsp;Convert&nbsp;returns&nbsp;the&nbsp;palette&nbsp;color&nbsp;closest&nbsp;to&nbsp;c&nbsp;in&nbsp;Euclidean&nbsp;R,G,B&nbsp;space.</span><br>
<span class="lineno"></span><span class="keyword" id="5190560">func</span>&nbsp;<span class="op" id="5190565">(</span><span class="ident" id="5190566">p</span>&nbsp;<span class="ident" id="5190568"><a href="/gostd/image/color/color.go.html#5190467">Palette</a></span><span class="op" id="5190575">)</span>&nbsp;<span class="ident" id="5190577">Convert</span><span class="op" id="5190584">(</span><span class="ident" id="5190585">c</span>&nbsp;<span class="ident" id="5190587"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5190592">)</span>&nbsp;<span class="ident" id="5190594"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5190600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190603">if</span>&nbsp;<span class="builtinfunc" id="5190606">len</span><span class="op" id="5190609">(</span><span class="ident" id="5190610"><a href="/gostd/image/color/color.go.html#5190566">p</a></span><span class="op" id="5190611">)</span>&nbsp;<span class="op" id="5190613">==</span>&nbsp;<span class="num" id="5190616">0</span>&nbsp;<span class="op" id="5190618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190622">return</span>&nbsp;<span class="builtintype" id="5190629">nil</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5190634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190637">return</span>&nbsp;<span class="ident" id="5190644"><a href="/gostd/image/color/color.go.html#5190566">p</a></span><span class="op" id="5190645">[</span><span class="ident" id="5190646"><a href="/gostd/image/color/color.go.html#5190566">p</a></span><span class="op" id="5190647">.</span><span class="ident" id="5190648"><a href="/gostd/image/color/color.go.html#5190768">Index</a></span><span class="op" id="5190653">(</span><span class="ident" id="5190654"><a href="/gostd/image/color/color.go.html#5190585">c</a></span><span class="op" id="5190655">)</span><span class="op" id="5190656">]</span><br>
<span class="lineno"></span><span class="op" id="5190658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5190661">//&nbsp;Index&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;palette&nbsp;color&nbsp;closest&nbsp;to&nbsp;c&nbsp;in&nbsp;Euclidean</span><br>
<span class="lineno">265</span><span class="comment" id="5190735">//&nbsp;R,G,B&nbsp;space.</span><br>
<span class="lineno"></span><span class="keyword" id="5190751">func</span>&nbsp;<span class="op" id="5190756">(</span><span class="ident" id="5190757">p</span>&nbsp;<span class="ident" id="5190759"><a href="/gostd/image/color/color.go.html#5190467">Palette</a></span><span class="op" id="5190766">)</span>&nbsp;<span class="ident" id="5190768">Index</span><span class="op" id="5190773">(</span><span class="ident" id="5190774">c</span>&nbsp;<span class="ident" id="5190776"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5190781">)</span>&nbsp;<span class="builtintype" id="5190783">int</span>&nbsp;<span class="op" id="5190787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5190790">//&nbsp;A&nbsp;batch&nbsp;version&nbsp;of&nbsp;this&nbsp;computation&nbsp;is&nbsp;in&nbsp;image/draw/draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5190857">cr</span><span class="op" id="5190859">,</span>&nbsp;<span class="ident" id="5190861">cg</span><span class="op" id="5190863">,</span>&nbsp;<span class="ident" id="5190865">cb</span><span class="op" id="5190867">,</span>&nbsp;<span class="ident" id="5190869">_</span>&nbsp;<span class="op" id="5190871">:=</span>&nbsp;<span class="ident" id="5190874"><a href="/gostd/image/color/color.go.html#5190774">c</a></span><span class="op" id="5190875">.</span><span class="ident" id="5190876"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5190880">(</span><span class="op" id="5190881">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5190884">ret</span><span class="op" id="5190887">,</span>&nbsp;<span class="ident" id="5190889">bestSSD</span>&nbsp;<span class="op" id="5190897">:=</span>&nbsp;<span class="num" id="5190900">0</span><span class="op" id="5190901">,</span>&nbsp;<span class="builtintype" id="5190903">uint32</span><span class="op" id="5190909">(</span><span class="num" id="5190910">1</span><span class="op" id="5190911">&lt;&lt;</span><span class="num" id="5190913">32</span><span class="op" id="5190915">-</span><span class="num" id="5190916">1</span><span class="op" id="5190917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5190920">for</span>&nbsp;<span class="ident" id="5190924">i</span><span class="op" id="5190925">,</span>&nbsp;<span class="ident" id="5190927">v</span>&nbsp;<span class="op" id="5190929">:=</span>&nbsp;<span class="keyword" id="5190932">range</span>&nbsp;<span class="ident" id="5190938"><a href="/gostd/image/color/color.go.html#5190757">p</a></span>&nbsp;<span class="op" id="5190940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5190944">vr</span><span class="op" id="5190946">,</span>&nbsp;<span class="ident" id="5190948">vg</span><span class="op" id="5190950">,</span>&nbsp;<span class="ident" id="5190952">vb</span><span class="op" id="5190954">,</span>&nbsp;<span class="ident" id="5190956">_</span>&nbsp;<span class="op" id="5190958">:=</span>&nbsp;<span class="ident" id="5190961"><a href="/gostd/image/color/color.go.html#5190927">v</a></span><span class="op" id="5190962">.</span><span class="ident" id="5190963"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5190967">(</span><span class="op" id="5190968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5190972">//&nbsp;We&nbsp;shift&nbsp;by&nbsp;1&nbsp;bit&nbsp;to&nbsp;avoid&nbsp;potential&nbsp;uint32&nbsp;overflow&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5191033">//&nbsp;sum-squared-difference.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191062">delta</span>&nbsp;<span class="op" id="5191068">:=</span>&nbsp;<span class="op" id="5191071">(</span><span class="builtintype" id="5191072">int32</span><span class="op" id="5191077">(</span><span class="ident" id="5191078"><a href="/gostd/image/color/color.go.html#5190857">cr</a></span><span class="op" id="5191080">)</span>&nbsp;<span class="op" id="5191082">-</span>&nbsp;<span class="builtintype" id="5191084">int32</span><span class="op" id="5191089">(</span><span class="ident" id="5191090"><a href="/gostd/image/color/color.go.html#5190944">vr</a></span><span class="op" id="5191092">)</span><span class="op" id="5191093">)</span>&nbsp;<span class="op" id="5191095">&gt;&gt;</span>&nbsp;<span class="num" id="5191098">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191102">ssd</span>&nbsp;<span class="op" id="5191106">:=</span>&nbsp;<span class="builtintype" id="5191109">uint32</span><span class="op" id="5191115">(</span><span class="ident" id="5191116"><a href="/gostd/image/color/color.go.html#5191062">delta</a></span>&nbsp;<span class="op" id="5191122">*</span>&nbsp;<span class="ident" id="5191124"><a href="/gostd/image/color/color.go.html#5191062">delta</a></span><span class="op" id="5191129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191133"><a href="/gostd/image/color/color.go.html#5191062">delta</a></span>&nbsp;<span class="op" id="5191139">=</span>&nbsp;<span class="op" id="5191141">(</span><span class="builtintype" id="5191142">int32</span><span class="op" id="5191147">(</span><span class="ident" id="5191148"><a href="/gostd/image/color/color.go.html#5190861">cg</a></span><span class="op" id="5191150">)</span>&nbsp;<span class="op" id="5191152">-</span>&nbsp;<span class="builtintype" id="5191154">int32</span><span class="op" id="5191159">(</span><span class="ident" id="5191160"><a href="/gostd/image/color/color.go.html#5190948">vg</a></span><span class="op" id="5191162">)</span><span class="op" id="5191163">)</span>&nbsp;<span class="op" id="5191165">&gt;&gt;</span>&nbsp;<span class="num" id="5191168">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191172"><a href="/gostd/image/color/color.go.html#5191102">ssd</a></span>&nbsp;<span class="op" id="5191176">+=</span>&nbsp;<span class="builtintype" id="5191179">uint32</span><span class="op" id="5191185">(</span><span class="ident" id="5191186"><a href="/gostd/image/color/color.go.html#5191062">delta</a></span>&nbsp;<span class="op" id="5191192">*</span>&nbsp;<span class="ident" id="5191194"><a href="/gostd/image/color/color.go.html#5191062">delta</a></span><span class="op" id="5191199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191203"><a href="/gostd/image/color/color.go.html#5191062">delta</a></span>&nbsp;<span class="op" id="5191209">=</span>&nbsp;<span class="op" id="5191211">(</span><span class="builtintype" id="5191212">int32</span><span class="op" id="5191217">(</span><span class="ident" id="5191218"><a href="/gostd/image/color/color.go.html#5190865">cb</a></span><span class="op" id="5191220">)</span>&nbsp;<span class="op" id="5191222">-</span>&nbsp;<span class="builtintype" id="5191224">int32</span><span class="op" id="5191229">(</span><span class="ident" id="5191230"><a href="/gostd/image/color/color.go.html#5190952">vb</a></span><span class="op" id="5191232">)</span><span class="op" id="5191233">)</span>&nbsp;<span class="op" id="5191235">&gt;&gt;</span>&nbsp;<span class="num" id="5191238">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191242"><a href="/gostd/image/color/color.go.html#5191102">ssd</a></span>&nbsp;<span class="op" id="5191246">+=</span>&nbsp;<span class="builtintype" id="5191249">uint32</span><span class="op" id="5191255">(</span><span class="ident" id="5191256"><a href="/gostd/image/color/color.go.html#5191062">delta</a></span>&nbsp;<span class="op" id="5191262">*</span>&nbsp;<span class="ident" id="5191264"><a href="/gostd/image/color/color.go.html#5191062">delta</a></span><span class="op" id="5191269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5191273">if</span>&nbsp;<span class="ident" id="5191276"><a href="/gostd/image/color/color.go.html#5191102">ssd</a></span>&nbsp;<span class="op" id="5191280">&lt;</span>&nbsp;<span class="ident" id="5191282"><a href="/gostd/image/color/color.go.html#5190889">bestSSD</a></span>&nbsp;<span class="op" id="5191290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5191295">if</span>&nbsp;<span class="ident" id="5191298"><a href="/gostd/image/color/color.go.html#5191102">ssd</a></span>&nbsp;<span class="op" id="5191302">==</span>&nbsp;<span class="num" id="5191305">0</span>&nbsp;<span class="op" id="5191307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5191313">return</span>&nbsp;<span class="ident" id="5191320"><a href="/gostd/image/color/color.go.html#5190924">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5191325">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191330"><a href="/gostd/image/color/color.go.html#5190884">ret</a></span><span class="op" id="5191333">,</span>&nbsp;<span class="ident" id="5191335"><a href="/gostd/image/color/color.go.html#5190889">bestSSD</a></span>&nbsp;<span class="op" id="5191343">=</span>&nbsp;<span class="ident" id="5191345"><a href="/gostd/image/color/color.go.html#5190924">i</a></span><span class="op" id="5191346">,</span>&nbsp;<span class="ident" id="5191348"><a href="/gostd/image/color/color.go.html#5191102">ssd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5191354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5191357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5191360">return</span>&nbsp;<span class="ident" id="5191367"><a href="/gostd/image/color/color.go.html#5190884">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5191371">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="5191374">//&nbsp;Standard&nbsp;colors.</span><br>
<span class="lineno"></span><span class="keyword" id="5191394">var</span>&nbsp;<span class="op" id="5191398">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191401">Black</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5191413">=</span>&nbsp;<span class="ident" id="5191415"><a href="/gostd/image/color/color.go.html#5187394">Gray16</a></span><span class="op" id="5191421">{</span><span class="num" id="5191422">0</span><span class="op" id="5191423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191426">White</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5191438">=</span>&nbsp;<span class="ident" id="5191440"><a href="/gostd/image/color/color.go.html#5187394">Gray16</a></span><span class="op" id="5191446">{</span><span class="num" id="5191447">0xffff</span><span class="op" id="5191453">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191456">Transparent</span>&nbsp;<span class="op" id="5191468">=</span>&nbsp;<span class="ident" id="5191470"><a href="/gostd/image/color/color.go.html#5187050">Alpha16</a></span><span class="op" id="5191477">{</span><span class="num" id="5191478">0</span><span class="op" id="5191479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5191482">Opaque</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5191494">=</span>&nbsp;<span class="ident" id="5191496"><a href="/gostd/image/color/color.go.html#5187050">Alpha16</a></span><span class="op" id="5191503">{</span><span class="num" id="5191504">0xffff</span><span class="op" id="5191510">}</span><br>
<span class="lineno"></span><span class="op" id="5191512">)</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
