<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8276717">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8276772">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8276826">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8276877">package</span>&nbsp;<span class="ident" id="8276885">url</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8276890">import</span>&nbsp;<span class="op" id="8276897">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8276900">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8276907">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8276918">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8276929">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8276939">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8276942">type</span>&nbsp;<span class="ident" id="8276947">URLTest</span>&nbsp;<span class="keyword" id="8276955">struct</span>&nbsp;<span class="op" id="8276962">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276965">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8276975">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276983">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8276993">*</span><span class="ident" id="8276994"><a href="/net/url/url.go.html#3578383">URL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276999">roundtrip</span>&nbsp;<span class="builtintype" id="8277009">string</span>&nbsp;<span class="comment" id="8277016">//&nbsp;expected&nbsp;result&nbsp;of&nbsp;reserializing&nbsp;the&nbsp;URL;&nbsp;empty&nbsp;means&nbsp;same&nbsp;as&nbsp;&#34;in&#34;.</span><br>
<span class="lineno"></span><span class="op" id="8277087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="keyword" id="8277090">var</span>&nbsp;<span class="ident" id="8277094">urltests</span>&nbsp;<span class="op" id="8277103">=</span>&nbsp;<span class="op" id="8277105">[</span><span class="op" id="8277106">]</span><span class="ident" id="8277107"><a href="/net/url/url_test.go.html#8276947">URLTest</a></span><span class="op" id="8277114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8277117">//&nbsp;no&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277133">&#34;http://www.google.com&#34;</span><span class="op" id="8277156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277160">&amp;</span><span class="ident" id="8277161"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8277164">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277169">Scheme</span><span class="op" id="8277175">:</span>&nbsp;<span class="string" id="8277177">&#34;http&#34;</span><span class="op" id="8277183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277188">Host</span><span class="op" id="8277192">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8277196">&#34;www.google.com&#34;</span><span class="op" id="8277212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277216">}</span><span class="op" id="8277217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277221">&#34;&#34;</span><span class="op" id="8277223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277226">}</span><span class="op" id="8277227">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8277230">//&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277243">&#34;http://www.google.com/&#34;</span><span class="op" id="8277267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277271">&amp;</span><span class="ident" id="8277272"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8277275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277280">Scheme</span><span class="op" id="8277286">:</span>&nbsp;<span class="string" id="8277288">&#34;http&#34;</span><span class="op" id="8277294">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277299">Host</span><span class="op" id="8277303">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8277307">&#34;www.google.com&#34;</span><span class="op" id="8277323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277328">Path</span><span class="op" id="8277332">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8277336">&#34;/&#34;</span><span class="op" id="8277339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277343">}</span><span class="op" id="8277344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277348">&#34;&#34;</span><span class="op" id="8277350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277353">}</span><span class="op" id="8277354">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8277357">//&nbsp;path&nbsp;with&nbsp;hex&nbsp;escaping</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277388">&#34;http://www.google.com/file%20one%26two&#34;</span><span class="op" id="8277428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277432">&amp;</span><span class="ident" id="8277433"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8277436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277441">Scheme</span><span class="op" id="8277447">:</span>&nbsp;<span class="string" id="8277449">&#34;http&#34;</span><span class="op" id="8277455">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277460">Host</span><span class="op" id="8277464">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8277468">&#34;www.google.com&#34;</span><span class="op" id="8277484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277489">Path</span><span class="op" id="8277493">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8277497">&#34;/file&nbsp;one&amp;two&#34;</span><span class="op" id="8277512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277516">}</span><span class="op" id="8277517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277521">&#34;http://www.google.com/file%20one&amp;two&#34;</span><span class="op" id="8277559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277562">}</span><span class="op" id="8277563">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8277566">//&nbsp;user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277579">&#34;ftp://webmaster@www.google.com/&#34;</span><span class="op" id="8277612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277616">&amp;</span><span class="ident" id="8277617"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8277620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277625">Scheme</span><span class="op" id="8277631">:</span>&nbsp;<span class="string" id="8277633">&#34;ftp&#34;</span><span class="op" id="8277638">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277643">User</span><span class="op" id="8277647">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8277651"><a href="/net/url/url.go.html#3578774">User</a></span><span class="op" id="8277655">(</span><span class="string" id="8277656">&#34;webmaster&#34;</span><span class="op" id="8277667">)</span><span class="op" id="8277668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277673">Host</span><span class="op" id="8277677">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8277681">&#34;www.google.com&#34;</span><span class="op" id="8277697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277702">Path</span><span class="op" id="8277706">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8277710">&#34;/&#34;</span><span class="op" id="8277713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277717">}</span><span class="op" id="8277718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277722">&#34;&#34;</span><span class="op" id="8277724">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277727">}</span><span class="op" id="8277728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8277731">//&nbsp;escape&nbsp;sequence&nbsp;in&nbsp;username</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277767">&#34;ftp://john%20doe@www.google.com/&#34;</span><span class="op" id="8277801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277805">&amp;</span><span class="ident" id="8277806"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8277809">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277814">Scheme</span><span class="op" id="8277820">:</span>&nbsp;<span class="string" id="8277822">&#34;ftp&#34;</span><span class="op" id="8277827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277832">User</span><span class="op" id="8277836">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8277840"><a href="/net/url/url.go.html#3578774">User</a></span><span class="op" id="8277844">(</span><span class="string" id="8277845">&#34;john&nbsp;doe&#34;</span><span class="op" id="8277855">)</span><span class="op" id="8277856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277861">Host</span><span class="op" id="8277865">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8277869">&#34;www.google.com&#34;</span><span class="op" id="8277885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277890">Path</span><span class="op" id="8277894">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8277898">&#34;/&#34;</span><span class="op" id="8277901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277905">}</span><span class="op" id="8277906">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277910">&#34;ftp://john%20doe@www.google.com/&#34;</span><span class="op" id="8277944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277947">}</span><span class="op" id="8277948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8277951">//&nbsp;query</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277965">&#34;http://www.google.com/?q=go+language&#34;</span><span class="op" id="8278003">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278007">&amp;</span><span class="ident" id="8278008"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8278011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278016">Scheme</span><span class="op" id="8278022">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8278026">&#34;http&#34;</span><span class="op" id="8278032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278037">Host</span><span class="op" id="8278041">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8278047">&#34;www.google.com&#34;</span><span class="op" id="8278063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278068">Path</span><span class="op" id="8278072">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8278078">&#34;/&#34;</span><span class="op" id="8278081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278086">RawQuery</span><span class="op" id="8278094">:</span>&nbsp;<span class="string" id="8278096">&#34;q=go+language&#34;</span><span class="op" id="8278111">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278115">}</span><span class="op" id="8278116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278120">&#34;&#34;</span><span class="op" id="8278122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278125">}</span><span class="op" id="8278126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8278129">//&nbsp;query&nbsp;with&nbsp;hex&nbsp;escaping:&nbsp;NOT&nbsp;parsed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278169">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278173">&#34;http://www.google.com/?q=go%20language&#34;</span><span class="op" id="8278213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278217">&amp;</span><span class="ident" id="8278218"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8278221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278226">Scheme</span><span class="op" id="8278232">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8278236">&#34;http&#34;</span><span class="op" id="8278242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278247">Host</span><span class="op" id="8278251">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8278257">&#34;www.google.com&#34;</span><span class="op" id="8278273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278278">Path</span><span class="op" id="8278282">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8278288">&#34;/&#34;</span><span class="op" id="8278291">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278296">RawQuery</span><span class="op" id="8278304">:</span>&nbsp;<span class="string" id="8278306">&#34;q=go%20language&#34;</span><span class="op" id="8278323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278327">}</span><span class="op" id="8278328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278332">&#34;&#34;</span><span class="op" id="8278334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278337">}</span><span class="op" id="8278338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8278341">//&nbsp;%20&nbsp;outside&nbsp;query</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278367">&#34;http://www.google.com/a%20b?q=c+d&#34;</span><span class="op" id="8278402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278406">&amp;</span><span class="ident" id="8278407"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8278410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278415">Scheme</span><span class="op" id="8278421">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8278425">&#34;http&#34;</span><span class="op" id="8278431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278436">Host</span><span class="op" id="8278440">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8278446">&#34;www.google.com&#34;</span><span class="op" id="8278462">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278467">Path</span><span class="op" id="8278471">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8278477">&#34;/a&nbsp;b&#34;</span><span class="op" id="8278483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278488">RawQuery</span><span class="op" id="8278496">:</span>&nbsp;<span class="string" id="8278498">&#34;q=c+d&#34;</span><span class="op" id="8278505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278509">}</span><span class="op" id="8278510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278514">&#34;&#34;</span><span class="op" id="8278516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278519">}</span><span class="op" id="8278520">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8278523">//&nbsp;path&nbsp;without&nbsp;leading&nbsp;/,&nbsp;so&nbsp;no&nbsp;parsing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278569">&#34;http:www.google.com/?q=go+language&#34;</span><span class="op" id="8278605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278609">&amp;</span><span class="ident" id="8278610"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8278613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278618">Scheme</span><span class="op" id="8278624">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8278628">&#34;http&#34;</span><span class="op" id="8278634">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278639">Opaque</span><span class="op" id="8278645">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8278649">&#34;www.google.com/&#34;</span><span class="op" id="8278666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278671">RawQuery</span><span class="op" id="8278679">:</span>&nbsp;<span class="string" id="8278681">&#34;q=go+language&#34;</span><span class="op" id="8278696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278700">}</span><span class="op" id="8278701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278705">&#34;http:www.google.com/?q=go+language&#34;</span><span class="op" id="8278741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278744">}</span><span class="op" id="8278745">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8278748">//&nbsp;path&nbsp;without&nbsp;leading&nbsp;/,&nbsp;so&nbsp;no&nbsp;parsing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278794">&#34;http:%2f%2fwww.google.com/?q=go+language&#34;</span><span class="op" id="8278836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278840">&amp;</span><span class="ident" id="8278841"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8278844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278849">Scheme</span><span class="op" id="8278855">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8278859">&#34;http&#34;</span><span class="op" id="8278865">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278870">Opaque</span><span class="op" id="8278876">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8278880">&#34;%2f%2fwww.google.com/&#34;</span><span class="op" id="8278903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278908">RawQuery</span><span class="op" id="8278916">:</span>&nbsp;<span class="string" id="8278918">&#34;q=go+language&#34;</span><span class="op" id="8278933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278937">}</span><span class="op" id="8278938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278942">&#34;http:%2f%2fwww.google.com/?q=go+language&#34;</span><span class="op" id="8278984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278987">}</span><span class="op" id="8278988">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8278991">//&nbsp;non-authority&nbsp;with&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8279023">&#34;mailto:/webmaster@golang.org&#34;</span><span class="op" id="8279053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279057">&amp;</span><span class="ident" id="8279058"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8279061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279066">Scheme</span><span class="op" id="8279072">:</span>&nbsp;<span class="string" id="8279074">&#34;mailto&#34;</span><span class="op" id="8279082">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279087">Path</span><span class="op" id="8279091">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8279095">&#34;/webmaster@golang.org&#34;</span><span class="op" id="8279118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279122">}</span><span class="op" id="8279123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8279127">&#34;mailto:///webmaster@golang.org&#34;</span><span class="op" id="8279159">,</span>&nbsp;<span class="comment" id="8279161">//&nbsp;unfortunate&nbsp;compromise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279188">}</span><span class="op" id="8279189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8279192">//&nbsp;non-authority</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8279214">&#34;mailto:webmaster@golang.org&#34;</span><span class="op" id="8279243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279247">&amp;</span><span class="ident" id="8279248"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8279251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279256">Scheme</span><span class="op" id="8279262">:</span>&nbsp;<span class="string" id="8279264">&#34;mailto&#34;</span><span class="op" id="8279272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279277">Opaque</span><span class="op" id="8279283">:</span>&nbsp;<span class="string" id="8279285">&#34;webmaster@golang.org&#34;</span><span class="op" id="8279307">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279311">}</span><span class="op" id="8279312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8279316">&#34;&#34;</span><span class="op" id="8279318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279321">}</span><span class="op" id="8279322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8279325">//&nbsp;unescaped&nbsp;://&nbsp;in&nbsp;query&nbsp;should&nbsp;not&nbsp;create&nbsp;a&nbsp;scheme</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279379">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8279383">&#34;/foo?query=http://bad&#34;</span><span class="op" id="8279406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279410">&amp;</span><span class="ident" id="8279411"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8279414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279419">Path</span><span class="op" id="8279423">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8279429">&#34;/foo&#34;</span><span class="op" id="8279435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279440">RawQuery</span><span class="op" id="8279448">:</span>&nbsp;<span class="string" id="8279450">&#34;query=http://bad&#34;</span><span class="op" id="8279468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279472">}</span><span class="op" id="8279473">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8279477">&#34;&#34;</span><span class="op" id="8279479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279482">}</span><span class="op" id="8279483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8279486">//&nbsp;leading&nbsp;//&nbsp;without&nbsp;scheme&nbsp;should&nbsp;create&nbsp;an&nbsp;authority</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8279547">&#34;//foo&#34;</span><span class="op" id="8279554">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279558">&amp;</span><span class="ident" id="8279559"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8279562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279567">Host</span><span class="op" id="8279571">:</span>&nbsp;<span class="string" id="8279573">&#34;foo&#34;</span><span class="op" id="8279578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279582">}</span><span class="op" id="8279583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8279587">&#34;&#34;</span><span class="op" id="8279589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279592">}</span><span class="op" id="8279593">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8279596">//&nbsp;leading&nbsp;//&nbsp;without&nbsp;scheme,&nbsp;with&nbsp;userinfo,&nbsp;path,&nbsp;and&nbsp;query</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8279662">&#34;//user@foo/path?a=b&#34;</span><span class="op" id="8279683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279687">&amp;</span><span class="ident" id="8279688"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8279691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279696">User</span><span class="op" id="8279700">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8279706"><a href="/net/url/url.go.html#3578774">User</a></span><span class="op" id="8279710">(</span><span class="string" id="8279711">&#34;user&#34;</span><span class="op" id="8279717">)</span><span class="op" id="8279718">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279723">Host</span><span class="op" id="8279727">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8279733">&#34;foo&#34;</span><span class="op" id="8279738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279743">Path</span><span class="op" id="8279747">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8279753">&#34;/path&#34;</span><span class="op" id="8279760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279765">RawQuery</span><span class="op" id="8279773">:</span>&nbsp;<span class="string" id="8279775">&#34;a=b&#34;</span><span class="op" id="8279780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279784">}</span><span class="op" id="8279785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8279789">&#34;&#34;</span><span class="op" id="8279791">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279794">}</span><span class="op" id="8279795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8279798">//&nbsp;Three&nbsp;leading&nbsp;slashes&nbsp;isn&#39;t&nbsp;an&nbsp;authority,&nbsp;but&nbsp;doesn&#39;t&nbsp;return&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8279873">//&nbsp;(We&nbsp;can&#39;t&nbsp;return&nbsp;an&nbsp;error,&nbsp;as&nbsp;this&nbsp;code&nbsp;is&nbsp;also&nbsp;used&nbsp;via</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8279934">//&nbsp;ServeHTTP&nbsp;-&gt;&nbsp;ReadRequest&nbsp;-&gt;&nbsp;Parse,&nbsp;which&nbsp;is&nbsp;arguably&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8279993">//&nbsp;different&nbsp;URL&nbsp;parsing&nbsp;context,&nbsp;but&nbsp;currently&nbsp;shares&nbsp;the</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8280053">//&nbsp;same&nbsp;codepath)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280076">&#34;///threeslashes&#34;</span><span class="op" id="8280093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280097">&amp;</span><span class="ident" id="8280098"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8280101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280106">Path</span><span class="op" id="8280110">:</span>&nbsp;<span class="string" id="8280112">&#34;///threeslashes&#34;</span><span class="op" id="8280129">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280133">}</span><span class="op" id="8280134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280138">&#34;&#34;</span><span class="op" id="8280140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280143">}</span><span class="op" id="8280144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280151">&#34;http://user:password@google.com&#34;</span><span class="op" id="8280184">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280188">&amp;</span><span class="ident" id="8280189"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8280192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280197">Scheme</span><span class="op" id="8280203">:</span>&nbsp;<span class="string" id="8280205">&#34;http&#34;</span><span class="op" id="8280211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280216">User</span><span class="op" id="8280220">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8280224"><a href="/net/url/url.go.html#3579248">UserPassword</a></span><span class="op" id="8280236">(</span><span class="string" id="8280237">&#34;user&#34;</span><span class="op" id="8280243">,</span>&nbsp;<span class="string" id="8280245">&#34;password&#34;</span><span class="op" id="8280255">)</span><span class="op" id="8280256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280261">Host</span><span class="op" id="8280265">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8280269">&#34;google.com&#34;</span><span class="op" id="8280281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280285">}</span><span class="op" id="8280286">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280290">&#34;http://user:password@google.com&#34;</span><span class="op" id="8280323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280326">}</span><span class="op" id="8280327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8280330">//&nbsp;unescaped&nbsp;@&nbsp;in&nbsp;username&nbsp;should&nbsp;not&nbsp;confuse&nbsp;host</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280386">&#34;http://j@ne:password@google.com&#34;</span><span class="op" id="8280419">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280423">&amp;</span><span class="ident" id="8280424"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8280427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280432">Scheme</span><span class="op" id="8280438">:</span>&nbsp;<span class="string" id="8280440">&#34;http&#34;</span><span class="op" id="8280446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280451">User</span><span class="op" id="8280455">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8280459"><a href="/net/url/url.go.html#3579248">UserPassword</a></span><span class="op" id="8280471">(</span><span class="string" id="8280472">&#34;j@ne&#34;</span><span class="op" id="8280478">,</span>&nbsp;<span class="string" id="8280480">&#34;password&#34;</span><span class="op" id="8280490">)</span><span class="op" id="8280491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280496">Host</span><span class="op" id="8280500">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8280504">&#34;google.com&#34;</span><span class="op" id="8280516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280520">}</span><span class="op" id="8280521">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280525">&#34;http://j%40ne:password@google.com&#34;</span><span class="op" id="8280560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280563">}</span><span class="op" id="8280564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8280567">//&nbsp;unescaped&nbsp;@&nbsp;in&nbsp;password&nbsp;should&nbsp;not&nbsp;confuse&nbsp;host</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280623">&#34;http://jane:p@ssword@google.com&#34;</span><span class="op" id="8280656">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280660">&amp;</span><span class="ident" id="8280661"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8280664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280669">Scheme</span><span class="op" id="8280675">:</span>&nbsp;<span class="string" id="8280677">&#34;http&#34;</span><span class="op" id="8280683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280688">User</span><span class="op" id="8280692">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8280696"><a href="/net/url/url.go.html#3579248">UserPassword</a></span><span class="op" id="8280708">(</span><span class="string" id="8280709">&#34;jane&#34;</span><span class="op" id="8280715">,</span>&nbsp;<span class="string" id="8280717">&#34;p@ssword&#34;</span><span class="op" id="8280727">)</span><span class="op" id="8280728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280733">Host</span><span class="op" id="8280737">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8280741">&#34;google.com&#34;</span><span class="op" id="8280753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280757">}</span><span class="op" id="8280758">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280762">&#34;http://jane:p%40ssword@google.com&#34;</span><span class="op" id="8280797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280800">}</span><span class="op" id="8280801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280808">&#34;http://j@ne:password@google.com/p@th?q=@go&#34;</span><span class="op" id="8280852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8280856">&amp;</span><span class="ident" id="8280857"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8280860">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280865">Scheme</span><span class="op" id="8280871">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8280875">&#34;http&#34;</span><span class="op" id="8280881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280886">User</span><span class="op" id="8280890">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8280896"><a href="/net/url/url.go.html#3579248">UserPassword</a></span><span class="op" id="8280908">(</span><span class="string" id="8280909">&#34;j@ne&#34;</span><span class="op" id="8280915">,</span>&nbsp;<span class="string" id="8280917">&#34;password&#34;</span><span class="op" id="8280927">)</span><span class="op" id="8280928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280933">Host</span><span class="op" id="8280937">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8280943">&#34;google.com&#34;</span><span class="op" id="8280955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280960">Path</span><span class="op" id="8280964">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8280970">&#34;/p@th&#34;</span><span class="op" id="8280977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8280982">RawQuery</span><span class="op" id="8280990">:</span>&nbsp;<span class="string" id="8280992">&#34;q=@go&#34;</span><span class="op" id="8280999">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281003">}</span><span class="op" id="8281004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281008">&#34;http://j%40ne:password@google.com/p@th?q=@go&#34;</span><span class="op" id="8281054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281057">}</span><span class="op" id="8281058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281065">&#34;http://www.google.com/?q=go+language#foo&#34;</span><span class="op" id="8281107">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281111">&amp;</span><span class="ident" id="8281112"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8281115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281120">Scheme</span><span class="op" id="8281126">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8281130">&#34;http&#34;</span><span class="op" id="8281136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281141">Host</span><span class="op" id="8281145">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8281151">&#34;www.google.com&#34;</span><span class="op" id="8281167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281172">Path</span><span class="op" id="8281176">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8281182">&#34;/&#34;</span><span class="op" id="8281185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281190">RawQuery</span><span class="op" id="8281198">:</span>&nbsp;<span class="string" id="8281200">&#34;q=go+language&#34;</span><span class="op" id="8281215">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281220">Fragment</span><span class="op" id="8281228">:</span>&nbsp;<span class="string" id="8281230">&#34;foo&#34;</span><span class="op" id="8281235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281239">}</span><span class="op" id="8281240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281244">&#34;&#34;</span><span class="op" id="8281246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281249">}</span><span class="op" id="8281250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281253">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281257">&#34;http://www.google.com/?q=go+language#foo%26bar&#34;</span><span class="op" id="8281305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281309">&amp;</span><span class="ident" id="8281310"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8281313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281318">Scheme</span><span class="op" id="8281324">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8281328">&#34;http&#34;</span><span class="op" id="8281334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281339">Host</span><span class="op" id="8281343">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8281349">&#34;www.google.com&#34;</span><span class="op" id="8281365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281370">Path</span><span class="op" id="8281374">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8281380">&#34;/&#34;</span><span class="op" id="8281383">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281388">RawQuery</span><span class="op" id="8281396">:</span>&nbsp;<span class="string" id="8281398">&#34;q=go+language&#34;</span><span class="op" id="8281413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281418">Fragment</span><span class="op" id="8281426">:</span>&nbsp;<span class="string" id="8281428">&#34;foo&amp;bar&#34;</span><span class="op" id="8281437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281441">}</span><span class="op" id="8281442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281446">&#34;http://www.google.com/?q=go+language#foo&amp;bar&#34;</span><span class="op" id="8281492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281495">}</span><span class="op" id="8281496">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281503">&#34;file:///home/adg/rabbits&#34;</span><span class="op" id="8281529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281533">&amp;</span><span class="ident" id="8281534"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8281537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281542">Scheme</span><span class="op" id="8281548">:</span>&nbsp;<span class="string" id="8281550">&#34;file&#34;</span><span class="op" id="8281556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281561">Host</span><span class="op" id="8281565">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8281569">&#34;&#34;</span><span class="op" id="8281571">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281576">Path</span><span class="op" id="8281580">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8281584">&#34;/home/adg/rabbits&#34;</span><span class="op" id="8281603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281607">}</span><span class="op" id="8281608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281612">&#34;file:///home/adg/rabbits&#34;</span><span class="op" id="8281638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281641">}</span><span class="op" id="8281642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8281645">//&nbsp;&#34;Windows&#34;&nbsp;paths&nbsp;are&nbsp;no&nbsp;exception&nbsp;to&nbsp;the&nbsp;rule.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8281695">//&nbsp;See&nbsp;golang.org/issue/6027,&nbsp;especially&nbsp;comment&nbsp;#9.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281753">&#34;file:///C:/FooBar/Baz.txt&#34;</span><span class="op" id="8281780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281784">&amp;</span><span class="ident" id="8281785"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8281788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281793">Scheme</span><span class="op" id="8281799">:</span>&nbsp;<span class="string" id="8281801">&#34;file&#34;</span><span class="op" id="8281807">,</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281812">Host</span><span class="op" id="8281816">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8281820">&#34;&#34;</span><span class="op" id="8281822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281827">Path</span><span class="op" id="8281831">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8281835">&#34;/C:/FooBar/Baz.txt&#34;</span><span class="op" id="8281855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281859">}</span><span class="op" id="8281860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281864">&#34;file:///C:/FooBar/Baz.txt&#34;</span><span class="op" id="8281891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281894">}</span><span class="op" id="8281895">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8281898">//&nbsp;case-insensitive&nbsp;scheme</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281930">&#34;MaIlTo:webmaster@golang.org&#34;</span><span class="op" id="8281959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281963">&amp;</span><span class="ident" id="8281964"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8281967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281972">Scheme</span><span class="op" id="8281978">:</span>&nbsp;<span class="string" id="8281980">&#34;mailto&#34;</span><span class="op" id="8281988">,</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281993">Opaque</span><span class="op" id="8281999">:</span>&nbsp;<span class="string" id="8282001">&#34;webmaster@golang.org&#34;</span><span class="op" id="8282023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282027">}</span><span class="op" id="8282028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8282032">&#34;mailto:webmaster@golang.org&#34;</span><span class="op" id="8282061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282064">}</span><span class="op" id="8282065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8282068">//&nbsp;Relative&nbsp;path</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8282090">&#34;a/b/c&#34;</span><span class="op" id="8282097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282101">&amp;</span><span class="ident" id="8282102"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8282105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282110">Path</span><span class="op" id="8282114">:</span>&nbsp;<span class="string" id="8282116">&#34;a/b/c&#34;</span><span class="op" id="8282123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282127">}</span><span class="op" id="8282128">,</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8282132">&#34;a/b/c&#34;</span><span class="op" id="8282139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282142">}</span><span class="op" id="8282143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8282146">//&nbsp;escaped&nbsp;&#39;?&#39;&nbsp;in&nbsp;username&nbsp;and&nbsp;password</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8282191">&#34;http://%3Fam:pa%3Fsword@google.com&#34;</span><span class="op" id="8282227">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282231">&amp;</span><span class="ident" id="8282232"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8282235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282240">Scheme</span><span class="op" id="8282246">:</span>&nbsp;<span class="string" id="8282248">&#34;http&#34;</span><span class="op" id="8282254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282259">User</span><span class="op" id="8282263">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8282267"><a href="/net/url/url.go.html#3579248">UserPassword</a></span><span class="op" id="8282279">(</span><span class="string" id="8282280">&#34;?am&#34;</span><span class="op" id="8282285">,</span>&nbsp;<span class="string" id="8282287">&#34;pa?sword&#34;</span><span class="op" id="8282297">)</span><span class="op" id="8282298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282303">Host</span><span class="op" id="8282307">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8282311">&#34;google.com&#34;</span><span class="op" id="8282323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282327">}</span><span class="op" id="8282328">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8282332">&#34;&#34;</span><span class="op" id="8282334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282337">}</span><span class="op" id="8282338">,</span><br>
<span class="lineno"></span><span class="op" id="8282340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8282343">//&nbsp;more&nbsp;useful&nbsp;string&nbsp;for&nbsp;debugging&nbsp;than&nbsp;fmt&#39;s&nbsp;struct&nbsp;printer</span><br>
<span class="lineno">295</span><span class="keyword" id="8282405">func</span>&nbsp;<span class="ident" id="8282410">ufmt</span><span class="op" id="8282414">(</span><span class="ident" id="8282415">u</span>&nbsp;<span class="op" id="8282417">*</span><span class="ident" id="8282418"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8282421">)</span>&nbsp;<span class="builtintype" id="8282423">string</span>&nbsp;<span class="op" id="8282430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8282433">var</span>&nbsp;<span class="ident" id="8282437">user</span><span class="op" id="8282441">,</span>&nbsp;<span class="ident" id="8282443">pass</span>&nbsp;<span class="keyword" id="8282448">interface</span><span class="op" id="8282457">{</span><span class="op" id="8282458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8282461">if</span>&nbsp;<span class="ident" id="8282464"><a href="/net/url/url_test.go.html#8282415">u</a></span><span class="op" id="8282465">.</span><span class="ident" id="8282466">User</span>&nbsp;<span class="op" id="8282471">!=</span>&nbsp;<span class="ident" id="8282474">nil</span>&nbsp;<span class="op" id="8282478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282482"><a href="/net/url/url_test.go.html#8282437">user</a></span>&nbsp;<span class="op" id="8282487">=</span>&nbsp;<span class="ident" id="8282489"><a href="/net/url/url_test.go.html#8282415">u</a></span><span class="op" id="8282490">.</span><span class="ident" id="8282491">User</span><span class="op" id="8282495">.</span><span class="ident" id="8282496">Username</span><span class="op" id="8282504">(</span><span class="op" id="8282505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8282509">if</span>&nbsp;<span class="ident" id="8282512">p</span><span class="op" id="8282513">,</span>&nbsp;<span class="ident" id="8282515">ok</span>&nbsp;<span class="op" id="8282518">:=</span>&nbsp;<span class="ident" id="8282521"><a href="/net/url/url_test.go.html#8282415">u</a></span><span class="op" id="8282522">.</span><span class="ident" id="8282523">User</span><span class="op" id="8282527">.</span><span class="ident" id="8282528">Password</span><span class="op" id="8282536">(</span><span class="op" id="8282537">)</span><span class="op" id="8282538">;</span>&nbsp;<span class="ident" id="8282540"><a href="/net/url/url_test.go.html#8282515">ok</a></span>&nbsp;<span class="op" id="8282543">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282548"><a href="/net/url/url_test.go.html#8282443">pass</a></span>&nbsp;<span class="op" id="8282553">=</span>&nbsp;<span class="ident" id="8282555"><a href="/net/url/url_test.go.html#8282512">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8282565">return</span>&nbsp;<span class="ident" id="8282572"><a href="/net/url/url_test.go.html#8276900">fmt</a></span><span class="op" id="8282575">.</span><span class="ident" id="8282576">Sprintf</span><span class="op" id="8282583">(</span><span class="string" id="8282584">&#34;opaque=%q,&nbsp;scheme=%q,&nbsp;user=%#v,&nbsp;pass=%#v,&nbsp;host=%q,&nbsp;path=%q,&nbsp;rawq=%q,&nbsp;frag=%q&#34;</span><span class="op" id="8282662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282666"><a href="/net/url/url_test.go.html#8282415">u</a></span><span class="op" id="8282667">.</span><span class="ident" id="8282668">Opaque</span><span class="op" id="8282674">,</span>&nbsp;<span class="ident" id="8282676"><a href="/net/url/url_test.go.html#8282415">u</a></span><span class="op" id="8282677">.</span><span class="ident" id="8282678">Scheme</span><span class="op" id="8282684">,</span>&nbsp;<span class="ident" id="8282686"><a href="/net/url/url_test.go.html#8282437">user</a></span><span class="op" id="8282690">,</span>&nbsp;<span class="ident" id="8282692"><a href="/net/url/url_test.go.html#8282443">pass</a></span><span class="op" id="8282696">,</span>&nbsp;<span class="ident" id="8282698"><a href="/net/url/url_test.go.html#8282415">u</a></span><span class="op" id="8282699">.</span><span class="ident" id="8282700">Host</span><span class="op" id="8282704">,</span>&nbsp;<span class="ident" id="8282706"><a href="/net/url/url_test.go.html#8282415">u</a></span><span class="op" id="8282707">.</span><span class="ident" id="8282708">Path</span><span class="op" id="8282712">,</span>&nbsp;<span class="ident" id="8282714"><a href="/net/url/url_test.go.html#8282415">u</a></span><span class="op" id="8282715">.</span><span class="ident" id="8282716">RawQuery</span><span class="op" id="8282724">,</span>&nbsp;<span class="ident" id="8282726"><a href="/net/url/url_test.go.html#8282415">u</a></span><span class="op" id="8282727">.</span><span class="ident" id="8282728">Fragment</span><span class="op" id="8282736">)</span><br>
<span class="lineno">305</span><span class="op" id="8282738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8282741">func</span>&nbsp;<span class="ident" id="8282746">DoTest</span><span class="op" id="8282752">(</span><span class="ident" id="8282753">t</span>&nbsp;<span class="op" id="8282755">*</span><span class="ident" id="8282756"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8282763">.</span><span class="ident" id="8282764">T</span><span class="op" id="8282765">,</span>&nbsp;<span class="ident" id="8282767">parse</span>&nbsp;<span class="keyword" id="8282773">func</span><span class="op" id="8282777">(</span><span class="builtintype" id="8282778">string</span><span class="op" id="8282784">)</span>&nbsp;<span class="op" id="8282786">(</span><span class="op" id="8282787">*</span><span class="ident" id="8282788"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8282791">,</span>&nbsp;<span class="builtintype" id="8282793">error</span><span class="op" id="8282798">)</span><span class="op" id="8282799">,</span>&nbsp;<span class="ident" id="8282801">name</span>&nbsp;<span class="builtintype" id="8282806">string</span><span class="op" id="8282812">,</span>&nbsp;<span class="ident" id="8282814">tests</span>&nbsp;<span class="op" id="8282820">[</span><span class="op" id="8282821">]</span><span class="ident" id="8282822"><a href="/net/url/url_test.go.html#8276947">URLTest</a></span><span class="op" id="8282829">)</span>&nbsp;<span class="op" id="8282831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8282834">for</span>&nbsp;<span class="ident" id="8282838">_</span><span class="op" id="8282839">,</span>&nbsp;<span class="ident" id="8282841">tt</span>&nbsp;<span class="op" id="8282844">:=</span>&nbsp;<span class="keyword" id="8282847">range</span>&nbsp;<span class="ident" id="8282853"><a href="/net/url/url_test.go.html#8282814">tests</a></span>&nbsp;<span class="op" id="8282859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282863">u</span><span class="op" id="8282864">,</span>&nbsp;<span class="ident" id="8282866">err</span>&nbsp;<span class="op" id="8282870">:=</span>&nbsp;<span class="ident" id="8282873"><a href="/net/url/url_test.go.html#8282767">parse</a></span><span class="op" id="8282878">(</span><span class="ident" id="8282879"><a href="/net/url/url_test.go.html#8282841">tt</a></span><span class="op" id="8282881">.</span><span class="ident" id="8282882">in</span><span class="op" id="8282884">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8282888">if</span>&nbsp;<span class="ident" id="8282891"><a href="/net/url/url_test.go.html#8282866">err</a></span>&nbsp;<span class="op" id="8282895">!=</span>&nbsp;<span class="ident" id="8282898">nil</span>&nbsp;<span class="op" id="8282902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282907"><a href="/net/url/url_test.go.html#8282753">t</a></span><span class="op" id="8282908">.</span><span class="ident" id="8282909">Errorf</span><span class="op" id="8282915">(</span><span class="string" id="8282916">&#34;%s(%q)&nbsp;returned&nbsp;error&nbsp;%s&#34;</span><span class="op" id="8282942">,</span>&nbsp;<span class="ident" id="8282944"><a href="/net/url/url_test.go.html#8282801">name</a></span><span class="op" id="8282948">,</span>&nbsp;<span class="ident" id="8282950"><a href="/net/url/url_test.go.html#8282841">tt</a></span><span class="op" id="8282952">.</span><span class="ident" id="8282953">in</span><span class="op" id="8282955">,</span>&nbsp;<span class="ident" id="8282957"><a href="/net/url/url_test.go.html#8282866">err</a></span><span class="op" id="8282960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8282965">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8282980">if</span>&nbsp;<span class="op" id="8282983">!</span><span class="ident" id="8282984"><a href="/net/url/url_test.go.html#8276907">reflect</a></span><span class="op" id="8282991">.</span><span class="ident" id="8282992">DeepEqual</span><span class="op" id="8283001">(</span><span class="ident" id="8283002"><a href="/net/url/url_test.go.html#8282863">u</a></span><span class="op" id="8283003">,</span>&nbsp;<span class="ident" id="8283005"><a href="/net/url/url_test.go.html#8282841">tt</a></span><span class="op" id="8283007">.</span><span class="ident" id="8283008">out</span><span class="op" id="8283011">)</span>&nbsp;<span class="op" id="8283013">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283018"><a href="/net/url/url_test.go.html#8282753">t</a></span><span class="op" id="8283019">.</span><span class="ident" id="8283020">Errorf</span><span class="op" id="8283026">(</span><span class="string" id="8283027">&#34;%s(%q):\n\thave&nbsp;%v\n\twant&nbsp;%v\n&#34;</span><span class="op" id="8283060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283066"><a href="/net/url/url_test.go.html#8282801">name</a></span><span class="op" id="8283070">,</span>&nbsp;<span class="ident" id="8283072"><a href="/net/url/url_test.go.html#8282841">tt</a></span><span class="op" id="8283074">.</span><span class="ident" id="8283075">in</span><span class="op" id="8283077">,</span>&nbsp;<span class="ident" id="8283079"><a href="/net/url/url_test.go.html#8282410">ufmt</a></span><span class="op" id="8283083">(</span><span class="ident" id="8283084"><a href="/net/url/url_test.go.html#8282863">u</a></span><span class="op" id="8283085">)</span><span class="op" id="8283086">,</span>&nbsp;<span class="ident" id="8283088"><a href="/net/url/url_test.go.html#8282410">ufmt</a></span><span class="op" id="8283092">(</span><span class="ident" id="8283093"><a href="/net/url/url_test.go.html#8282841">tt</a></span><span class="op" id="8283095">.</span><span class="ident" id="8283096">out</span><span class="op" id="8283099">)</span><span class="op" id="8283100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283107">}</span><br>
<span class="lineno"></span><span class="op" id="8283109">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="keyword" id="8283112">func</span>&nbsp;<span class="ident" id="8283117">BenchmarkString</span><span class="op" id="8283132">(</span><span class="ident" id="8283133">b</span>&nbsp;<span class="op" id="8283135">*</span><span class="ident" id="8283136"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8283143">.</span><span class="ident" id="8283144">B</span><span class="op" id="8283145">)</span>&nbsp;<span class="op" id="8283147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283150"><a href="/net/url/url_test.go.html#8283133">b</a></span><span class="op" id="8283151">.</span><span class="ident" id="8283152">StopTimer</span><span class="op" id="8283161">(</span><span class="op" id="8283162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283165"><a href="/net/url/url_test.go.html#8283133">b</a></span><span class="op" id="8283166">.</span><span class="ident" id="8283167">ReportAllocs</span><span class="op" id="8283179">(</span><span class="op" id="8283180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283183">for</span>&nbsp;<span class="ident" id="8283187">_</span><span class="op" id="8283188">,</span>&nbsp;<span class="ident" id="8283190">tt</span>&nbsp;<span class="op" id="8283193">:=</span>&nbsp;<span class="keyword" id="8283196">range</span>&nbsp;<span class="ident" id="8283202"><a href="/net/url/url_test.go.html#8277094">urltests</a></span>&nbsp;<span class="op" id="8283211">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283215">u</span><span class="op" id="8283216">,</span>&nbsp;<span class="ident" id="8283218">err</span>&nbsp;<span class="op" id="8283222">:=</span>&nbsp;<span class="ident" id="8283225"><a href="/net/url/url.go.html#3581358">Parse</a></span><span class="op" id="8283230">(</span><span class="ident" id="8283231"><a href="/net/url/url_test.go.html#8283190">tt</a></span><span class="op" id="8283233">.</span><span class="ident" id="8283234">in</span><span class="op" id="8283236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283240">if</span>&nbsp;<span class="ident" id="8283243"><a href="/net/url/url_test.go.html#8283218">err</a></span>&nbsp;<span class="op" id="8283247">!=</span>&nbsp;<span class="ident" id="8283250">nil</span>&nbsp;<span class="op" id="8283254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283259"><a href="/net/url/url_test.go.html#8283133">b</a></span><span class="op" id="8283260">.</span><span class="ident" id="8283261">Errorf</span><span class="op" id="8283267">(</span><span class="string" id="8283268">&#34;Parse(%q)&nbsp;returned&nbsp;error&nbsp;%s&#34;</span><span class="op" id="8283297">,</span>&nbsp;<span class="ident" id="8283299"><a href="/net/url/url_test.go.html#8283190">tt</a></span><span class="op" id="8283301">.</span><span class="ident" id="8283302">in</span><span class="op" id="8283304">,</span>&nbsp;<span class="ident" id="8283306"><a href="/net/url/url_test.go.html#8283218">err</a></span><span class="op" id="8283309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283314">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283325">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283329">if</span>&nbsp;<span class="ident" id="8283332"><a href="/net/url/url_test.go.html#8283190">tt</a></span><span class="op" id="8283334">.</span><span class="ident" id="8283335">roundtrip</span>&nbsp;<span class="op" id="8283345">==</span>&nbsp;<span class="string" id="8283348">&#34;&#34;</span>&nbsp;<span class="op" id="8283351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283356">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283371"><a href="/net/url/url_test.go.html#8283133">b</a></span><span class="op" id="8283372">.</span><span class="ident" id="8283373">StartTimer</span><span class="op" id="8283383">(</span><span class="op" id="8283384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283388">var</span>&nbsp;<span class="ident" id="8283392">g</span>&nbsp;<span class="builtintype" id="8283394">string</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283403">for</span>&nbsp;<span class="ident" id="8283407">i</span>&nbsp;<span class="op" id="8283409">:=</span>&nbsp;<span class="num" id="8283412">0</span><span class="op" id="8283413">;</span>&nbsp;<span class="ident" id="8283415"><a href="/net/url/url_test.go.html#8283407">i</a></span>&nbsp;<span class="op" id="8283417">&lt;</span>&nbsp;<span class="ident" id="8283419"><a href="/net/url/url_test.go.html#8283133">b</a></span><span class="op" id="8283420">.</span><span class="ident" id="8283421">N</span><span class="op" id="8283422">;</span>&nbsp;<span class="ident" id="8283424"><a href="/net/url/url_test.go.html#8283407">i</a></span><span class="op" id="8283425">++</span>&nbsp;<span class="op" id="8283428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283433"><a href="/net/url/url_test.go.html#8283392">g</a></span>&nbsp;<span class="op" id="8283435">=</span>&nbsp;<span class="ident" id="8283437"><a href="/net/url/url_test.go.html#8283215">u</a></span><span class="op" id="8283438">.</span><span class="ident" id="8283439">String</span><span class="op" id="8283445">(</span><span class="op" id="8283446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283454"><a href="/net/url/url_test.go.html#8283133">b</a></span><span class="op" id="8283455">.</span><span class="ident" id="8283456">StopTimer</span><span class="op" id="8283465">(</span><span class="op" id="8283466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283470">if</span>&nbsp;<span class="ident" id="8283473">w</span>&nbsp;<span class="op" id="8283475">:=</span>&nbsp;<span class="ident" id="8283478"><a href="/net/url/url_test.go.html#8283190">tt</a></span><span class="op" id="8283480">.</span><span class="ident" id="8283481">roundtrip</span><span class="op" id="8283490">;</span>&nbsp;<span class="ident" id="8283492"><a href="/net/url/url_test.go.html#8283392">g</a></span>&nbsp;<span class="op" id="8283494">!=</span>&nbsp;<span class="ident" id="8283497"><a href="/net/url/url_test.go.html#8283473">w</a></span>&nbsp;<span class="op" id="8283499">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283504"><a href="/net/url/url_test.go.html#8283133">b</a></span><span class="op" id="8283505">.</span><span class="ident" id="8283506">Errorf</span><span class="op" id="8283512">(</span><span class="string" id="8283513">&#34;Parse(%q).String()&nbsp;==&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8283548">,</span>&nbsp;<span class="ident" id="8283550"><a href="/net/url/url_test.go.html#8283190">tt</a></span><span class="op" id="8283552">.</span><span class="ident" id="8283553">in</span><span class="op" id="8283555">,</span>&nbsp;<span class="ident" id="8283557"><a href="/net/url/url_test.go.html#8283392">g</a></span><span class="op" id="8283558">,</span>&nbsp;<span class="ident" id="8283560"><a href="/net/url/url_test.go.html#8283473">w</a></span><span class="op" id="8283561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283568">}</span><br>
<span class="lineno"></span><span class="op" id="8283570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="8283573">func</span>&nbsp;<span class="ident" id="8283578">TestParse</span><span class="op" id="8283587">(</span><span class="ident" id="8283588">t</span>&nbsp;<span class="op" id="8283590">*</span><span class="ident" id="8283591"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8283598">.</span><span class="ident" id="8283599">T</span><span class="op" id="8283600">)</span>&nbsp;<span class="op" id="8283602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283605"><a href="/net/url/url_test.go.html#8282746">DoTest</a></span><span class="op" id="8283611">(</span><span class="ident" id="8283612"><a href="/net/url/url_test.go.html#8283588">t</a></span><span class="op" id="8283613">,</span>&nbsp;<span class="ident" id="8283615"><a href="/net/url/url.go.html#3581358">Parse</a></span><span class="op" id="8283620">,</span>&nbsp;<span class="string" id="8283622">&#34;Parse&#34;</span><span class="op" id="8283629">,</span>&nbsp;<span class="ident" id="8283631"><a href="/net/url/url_test.go.html#8277094">urltests</a></span><span class="op" id="8283639">)</span><br>
<span class="lineno"></span><span class="op" id="8283641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8283644">const</span>&nbsp;<span class="ident" id="8283650">pathThatLooksSchemeRelative</span>&nbsp;<span class="op" id="8283678">=</span>&nbsp;<span class="string" id="8283680">&#34;//not.a.user@not.a.host/just/a/path&#34;</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="8283719">var</span>&nbsp;<span class="ident" id="8283723">parseRequestURLTests</span>&nbsp;<span class="op" id="8283744">=</span>&nbsp;<span class="op" id="8283746">[</span><span class="op" id="8283747">]</span><span class="keyword" id="8283748">struct</span>&nbsp;<span class="op" id="8283755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283758">url</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8283772">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283780">expectedValid</span>&nbsp;<span class="builtintype" id="8283794">bool</span><br>
<span class="lineno"></span><span class="op" id="8283799">}</span><span class="op" id="8283800">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283803">{</span><span class="string" id="8283804">&#34;http://foo.com&#34;</span><span class="op" id="8283820">,</span>&nbsp;<span class="builtintype" id="8283822">true</span><span class="op" id="8283826">}</span><span class="op" id="8283827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283830">{</span><span class="string" id="8283831">&#34;http://foo.com/&#34;</span><span class="op" id="8283848">,</span>&nbsp;<span class="builtintype" id="8283850">true</span><span class="op" id="8283854">}</span><span class="op" id="8283855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283858">{</span><span class="string" id="8283859">&#34;http://foo.com/path&#34;</span><span class="op" id="8283880">,</span>&nbsp;<span class="builtintype" id="8283882">true</span><span class="op" id="8283886">}</span><span class="op" id="8283887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283890">{</span><span class="string" id="8283891">&#34;/&#34;</span><span class="op" id="8283894">,</span>&nbsp;<span class="builtintype" id="8283896">true</span><span class="op" id="8283900">}</span><span class="op" id="8283901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283904">{</span><span class="ident" id="8283905"><a href="/net/url/url_test.go.html#8283650">pathThatLooksSchemeRelative</a></span><span class="op" id="8283932">,</span>&nbsp;<span class="builtintype" id="8283934">true</span><span class="op" id="8283938">}</span><span class="op" id="8283939">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283942">{</span><span class="string" id="8283943">&#34;//not.a.user@%66%6f%6f.com/just/a/path/also&#34;</span><span class="op" id="8283988">,</span>&nbsp;<span class="builtintype" id="8283990">true</span><span class="op" id="8283994">}</span><span class="op" id="8283995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283998">{</span><span class="string" id="8283999">&#34;foo.html&#34;</span><span class="op" id="8284009">,</span>&nbsp;<span class="builtintype" id="8284011">false</span><span class="op" id="8284016">}</span><span class="op" id="8284017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284020">{</span><span class="string" id="8284021">&#34;../dir/&#34;</span><span class="op" id="8284030">,</span>&nbsp;<span class="builtintype" id="8284032">false</span><span class="op" id="8284037">}</span><span class="op" id="8284038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284041">{</span><span class="string" id="8284042">&#34;*&#34;</span><span class="op" id="8284045">,</span>&nbsp;<span class="builtintype" id="8284047">true</span><span class="op" id="8284051">}</span><span class="op" id="8284052">,</span><br>
<span class="lineno"></span><span class="op" id="8284054">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="8284057">func</span>&nbsp;<span class="ident" id="8284062">TestParseRequestURI</span><span class="op" id="8284081">(</span><span class="ident" id="8284082">t</span>&nbsp;<span class="op" id="8284084">*</span><span class="ident" id="8284085"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8284092">.</span><span class="ident" id="8284093">T</span><span class="op" id="8284094">)</span>&nbsp;<span class="op" id="8284096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284099">for</span>&nbsp;<span class="ident" id="8284103">_</span><span class="op" id="8284104">,</span>&nbsp;<span class="ident" id="8284106">test</span>&nbsp;<span class="op" id="8284111">:=</span>&nbsp;<span class="keyword" id="8284114">range</span>&nbsp;<span class="ident" id="8284120"><a href="/net/url/url_test.go.html#8283723">parseRequestURLTests</a></span>&nbsp;<span class="op" id="8284141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284145">_</span><span class="op" id="8284146">,</span>&nbsp;<span class="ident" id="8284148">err</span>&nbsp;<span class="op" id="8284152">:=</span>&nbsp;<span class="ident" id="8284155"><a href="/net/url/url.go.html#3582032">ParseRequestURI</a></span><span class="op" id="8284170">(</span><span class="ident" id="8284171"><a href="/net/url/url_test.go.html#8284106">test</a></span><span class="op" id="8284175">.</span><span class="ident" id="8284176">url</span><span class="op" id="8284179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284183">valid</span>&nbsp;<span class="op" id="8284189">:=</span>&nbsp;<span class="ident" id="8284192"><a href="/net/url/url_test.go.html#8284148">err</a></span>&nbsp;<span class="op" id="8284196">==</span>&nbsp;<span class="ident" id="8284199">nil</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284205">if</span>&nbsp;<span class="ident" id="8284208"><a href="/net/url/url_test.go.html#8284183">valid</a></span>&nbsp;<span class="op" id="8284214">!=</span>&nbsp;<span class="ident" id="8284217"><a href="/net/url/url_test.go.html#8284106">test</a></span><span class="op" id="8284221">.</span><span class="ident" id="8284222">expectedValid</span>&nbsp;<span class="op" id="8284236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284241"><a href="/net/url/url_test.go.html#8284082">t</a></span><span class="op" id="8284242">.</span><span class="ident" id="8284243">Errorf</span><span class="op" id="8284249">(</span><span class="string" id="8284250">&#34;Expected&nbsp;valid=%v&nbsp;for&nbsp;%q;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8284284">,</span>&nbsp;<span class="ident" id="8284286"><a href="/net/url/url_test.go.html#8284106">test</a></span><span class="op" id="8284290">.</span><span class="ident" id="8284291">expectedValid</span><span class="op" id="8284304">,</span>&nbsp;<span class="ident" id="8284306"><a href="/net/url/url_test.go.html#8284106">test</a></span><span class="op" id="8284310">.</span><span class="ident" id="8284311">url</span><span class="op" id="8284314">,</span>&nbsp;<span class="ident" id="8284316"><a href="/net/url/url_test.go.html#8284183">valid</a></span><span class="op" id="8284321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284332">url</span><span class="op" id="8284335">,</span>&nbsp;<span class="ident" id="8284337">err</span>&nbsp;<span class="op" id="8284341">:=</span>&nbsp;<span class="ident" id="8284344"><a href="/net/url/url.go.html#3582032">ParseRequestURI</a></span><span class="op" id="8284359">(</span><span class="ident" id="8284360"><a href="/net/url/url_test.go.html#8283650">pathThatLooksSchemeRelative</a></span><span class="op" id="8284387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284390">if</span>&nbsp;<span class="ident" id="8284393"><a href="/net/url/url_test.go.html#8284337">err</a></span>&nbsp;<span class="op" id="8284397">!=</span>&nbsp;<span class="ident" id="8284400">nil</span>&nbsp;<span class="op" id="8284404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284408"><a href="/net/url/url_test.go.html#8284082">t</a></span><span class="op" id="8284409">.</span><span class="ident" id="8284410">Fatalf</span><span class="op" id="8284416">(</span><span class="string" id="8284417">&#34;Unexpected&nbsp;error&nbsp;%v&#34;</span><span class="op" id="8284438">,</span>&nbsp;<span class="ident" id="8284440"><a href="/net/url/url_test.go.html#8284337">err</a></span><span class="op" id="8284443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284449">if</span>&nbsp;<span class="ident" id="8284452"><a href="/net/url/url_test.go.html#8284332">url</a></span><span class="op" id="8284455">.</span><span class="ident" id="8284456">Path</span>&nbsp;<span class="op" id="8284461">!=</span>&nbsp;<span class="ident" id="8284464"><a href="/net/url/url_test.go.html#8283650">pathThatLooksSchemeRelative</a></span>&nbsp;<span class="op" id="8284492">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284496"><a href="/net/url/url_test.go.html#8284082">t</a></span><span class="op" id="8284497">.</span><span class="ident" id="8284498">Errorf</span><span class="op" id="8284504">(</span><span class="string" id="8284505">&#34;Expected&nbsp;path&nbsp;%q;&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8284531">,</span>&nbsp;<span class="ident" id="8284533"><a href="/net/url/url_test.go.html#8283650">pathThatLooksSchemeRelative</a></span><span class="op" id="8284560">,</span>&nbsp;<span class="ident" id="8284562"><a href="/net/url/url_test.go.html#8284332">url</a></span><span class="op" id="8284565">.</span><span class="ident" id="8284566">Path</span><span class="op" id="8284570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284573">}</span><br>
<span class="lineno"></span><span class="op" id="8284575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8284578">func</span>&nbsp;<span class="ident" id="8284583">DoTestString</span><span class="op" id="8284595">(</span><span class="ident" id="8284596">t</span>&nbsp;<span class="op" id="8284598">*</span><span class="ident" id="8284599"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8284606">.</span><span class="ident" id="8284607">T</span><span class="op" id="8284608">,</span>&nbsp;<span class="ident" id="8284610">parse</span>&nbsp;<span class="keyword" id="8284616">func</span><span class="op" id="8284620">(</span><span class="builtintype" id="8284621">string</span><span class="op" id="8284627">)</span>&nbsp;<span class="op" id="8284629">(</span><span class="op" id="8284630">*</span><span class="ident" id="8284631"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8284634">,</span>&nbsp;<span class="builtintype" id="8284636">error</span><span class="op" id="8284641">)</span><span class="op" id="8284642">,</span>&nbsp;<span class="ident" id="8284644">name</span>&nbsp;<span class="builtintype" id="8284649">string</span><span class="op" id="8284655">,</span>&nbsp;<span class="ident" id="8284657">tests</span>&nbsp;<span class="op" id="8284663">[</span><span class="op" id="8284664">]</span><span class="ident" id="8284665"><a href="/net/url/url_test.go.html#8276947">URLTest</a></span><span class="op" id="8284672">)</span>&nbsp;<span class="op" id="8284674">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284677">for</span>&nbsp;<span class="ident" id="8284681">_</span><span class="op" id="8284682">,</span>&nbsp;<span class="ident" id="8284684">tt</span>&nbsp;<span class="op" id="8284687">:=</span>&nbsp;<span class="keyword" id="8284690">range</span>&nbsp;<span class="ident" id="8284696"><a href="/net/url/url_test.go.html#8284657">tests</a></span>&nbsp;<span class="op" id="8284702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284706">u</span><span class="op" id="8284707">,</span>&nbsp;<span class="ident" id="8284709">err</span>&nbsp;<span class="op" id="8284713">:=</span>&nbsp;<span class="ident" id="8284716"><a href="/net/url/url_test.go.html#8284610">parse</a></span><span class="op" id="8284721">(</span><span class="ident" id="8284722"><a href="/net/url/url_test.go.html#8284684">tt</a></span><span class="op" id="8284724">.</span><span class="ident" id="8284725">in</span><span class="op" id="8284727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284731">if</span>&nbsp;<span class="ident" id="8284734"><a href="/net/url/url_test.go.html#8284709">err</a></span>&nbsp;<span class="op" id="8284738">!=</span>&nbsp;<span class="ident" id="8284741">nil</span>&nbsp;<span class="op" id="8284745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284750"><a href="/net/url/url_test.go.html#8284596">t</a></span><span class="op" id="8284751">.</span><span class="ident" id="8284752">Errorf</span><span class="op" id="8284758">(</span><span class="string" id="8284759">&#34;%s(%q)&nbsp;returned&nbsp;error&nbsp;%s&#34;</span><span class="op" id="8284785">,</span>&nbsp;<span class="ident" id="8284787"><a href="/net/url/url_test.go.html#8284644">name</a></span><span class="op" id="8284791">,</span>&nbsp;<span class="ident" id="8284793"><a href="/net/url/url_test.go.html#8284684">tt</a></span><span class="op" id="8284795">.</span><span class="ident" id="8284796">in</span><span class="op" id="8284798">,</span>&nbsp;<span class="ident" id="8284800"><a href="/net/url/url_test.go.html#8284709">err</a></span><span class="op" id="8284803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284808">continue</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284823">expected</span>&nbsp;<span class="op" id="8284832">:=</span>&nbsp;<span class="ident" id="8284835"><a href="/net/url/url_test.go.html#8284684">tt</a></span><span class="op" id="8284837">.</span><span class="ident" id="8284838">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284843">if</span>&nbsp;<span class="builtinfunc" id="8284846">len</span><span class="op" id="8284849">(</span><span class="ident" id="8284850"><a href="/net/url/url_test.go.html#8284684">tt</a></span><span class="op" id="8284852">.</span><span class="ident" id="8284853">roundtrip</span><span class="op" id="8284862">)</span>&nbsp;<span class="op" id="8284864">&gt;</span>&nbsp;<span class="num" id="8284866">0</span>&nbsp;<span class="op" id="8284868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284873"><a href="/net/url/url_test.go.html#8284823">expected</a></span>&nbsp;<span class="op" id="8284882">=</span>&nbsp;<span class="ident" id="8284884"><a href="/net/url/url_test.go.html#8284684">tt</a></span><span class="op" id="8284886">.</span><span class="ident" id="8284887">roundtrip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284899">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284903">s</span>&nbsp;<span class="op" id="8284905">:=</span>&nbsp;<span class="ident" id="8284908"><a href="/net/url/url_test.go.html#8284706">u</a></span><span class="op" id="8284909">.</span><span class="ident" id="8284910">String</span><span class="op" id="8284916">(</span><span class="op" id="8284917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284921">if</span>&nbsp;<span class="ident" id="8284924"><a href="/net/url/url_test.go.html#8284903">s</a></span>&nbsp;<span class="op" id="8284926">!=</span>&nbsp;<span class="ident" id="8284929"><a href="/net/url/url_test.go.html#8284823">expected</a></span>&nbsp;<span class="op" id="8284938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284943"><a href="/net/url/url_test.go.html#8284596">t</a></span><span class="op" id="8284944">.</span><span class="ident" id="8284945">Errorf</span><span class="op" id="8284951">(</span><span class="string" id="8284952">&#34;%s(%q).String()&nbsp;==&nbsp;%q&nbsp;(expected&nbsp;%q)&#34;</span><span class="op" id="8284989">,</span>&nbsp;<span class="ident" id="8284991"><a href="/net/url/url_test.go.html#8284644">name</a></span><span class="op" id="8284995">,</span>&nbsp;<span class="ident" id="8284997"><a href="/net/url/url_test.go.html#8284684">tt</a></span><span class="op" id="8284999">.</span><span class="ident" id="8285000">in</span><span class="op" id="8285002">,</span>&nbsp;<span class="ident" id="8285004"><a href="/net/url/url_test.go.html#8284903">s</a></span><span class="op" id="8285005">,</span>&nbsp;<span class="ident" id="8285007"><a href="/net/url/url_test.go.html#8284823">expected</a></span><span class="op" id="8285015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285022">}</span><br>
<span class="lineno">400</span><span class="op" id="8285024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8285027">func</span>&nbsp;<span class="ident" id="8285032">TestURLString</span><span class="op" id="8285045">(</span><span class="ident" id="8285046">t</span>&nbsp;<span class="op" id="8285048">*</span><span class="ident" id="8285049"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8285056">.</span><span class="ident" id="8285057">T</span><span class="op" id="8285058">)</span>&nbsp;<span class="op" id="8285060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285063"><a href="/net/url/url_test.go.html#8284583">DoTestString</a></span><span class="op" id="8285075">(</span><span class="ident" id="8285076"><a href="/net/url/url_test.go.html#8285046">t</a></span><span class="op" id="8285077">,</span>&nbsp;<span class="ident" id="8285079"><a href="/net/url/url.go.html#3581358">Parse</a></span><span class="op" id="8285084">,</span>&nbsp;<span class="string" id="8285086">&#34;Parse&#34;</span><span class="op" id="8285093">,</span>&nbsp;<span class="ident" id="8285095"><a href="/net/url/url_test.go.html#8277094">urltests</a></span><span class="op" id="8285103">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8285107">//&nbsp;no&nbsp;leading&nbsp;slash&nbsp;on&nbsp;path&nbsp;should&nbsp;prepend</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8285151">//&nbsp;slash&nbsp;on&nbsp;String()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285178">noslash</span>&nbsp;<span class="op" id="8285186">:=</span>&nbsp;<span class="ident" id="8285189"><a href="/net/url/url_test.go.html#8276947">URLTest</a></span><span class="op" id="8285196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285200">&#34;http://www.google.com/search&#34;</span><span class="op" id="8285230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285234">&amp;</span><span class="ident" id="8285235"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8285238">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285243">Scheme</span><span class="op" id="8285249">:</span>&nbsp;<span class="string" id="8285251">&#34;http&#34;</span><span class="op" id="8285257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285262">Host</span><span class="op" id="8285266">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8285270">&#34;www.google.com&#34;</span><span class="op" id="8285286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285291">Path</span><span class="op" id="8285295">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8285299">&#34;search&#34;</span><span class="op" id="8285307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285311">}</span><span class="op" id="8285312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285316">&#34;&#34;</span><span class="op" id="8285318">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285324">s</span>&nbsp;<span class="op" id="8285326">:=</span>&nbsp;<span class="ident" id="8285329"><a href="/net/url/url_test.go.html#8285178">noslash</a></span><span class="op" id="8285336">.</span><span class="ident" id="8285337">out</span><span class="op" id="8285340">.</span><span class="ident" id="8285341">String</span><span class="op" id="8285347">(</span><span class="op" id="8285348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8285351">if</span>&nbsp;<span class="ident" id="8285354"><a href="/net/url/url_test.go.html#8285324">s</a></span>&nbsp;<span class="op" id="8285356">!=</span>&nbsp;<span class="ident" id="8285359"><a href="/net/url/url_test.go.html#8285178">noslash</a></span><span class="op" id="8285366">.</span><span class="ident" id="8285367">in</span>&nbsp;<span class="op" id="8285370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285374"><a href="/net/url/url_test.go.html#8285046">t</a></span><span class="op" id="8285375">.</span><span class="ident" id="8285376">Errorf</span><span class="op" id="8285382">(</span><span class="string" id="8285383">&#34;Expected&nbsp;%s;&nbsp;go&nbsp;%s&#34;</span><span class="op" id="8285403">,</span>&nbsp;<span class="ident" id="8285405"><a href="/net/url/url_test.go.html#8285178">noslash</a></span><span class="op" id="8285412">.</span><span class="ident" id="8285413">in</span><span class="op" id="8285415">,</span>&nbsp;<span class="ident" id="8285417"><a href="/net/url/url_test.go.html#8285324">s</a></span><span class="op" id="8285418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285421">}</span><br>
<span class="lineno">420</span><span class="op" id="8285423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8285426">type</span>&nbsp;<span class="ident" id="8285431">EscapeTest</span>&nbsp;<span class="keyword" id="8285442">struct</span>&nbsp;<span class="op" id="8285449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285452">in</span>&nbsp;&nbsp;<span class="builtintype" id="8285456">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285464">out</span>&nbsp;<span class="builtintype" id="8285468">string</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285476">err</span>&nbsp;<span class="builtintype" id="8285480">error</span><br>
<span class="lineno"></span><span class="op" id="8285486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8285489">var</span>&nbsp;<span class="ident" id="8285493">unescapeTests</span>&nbsp;<span class="op" id="8285507">=</span>&nbsp;<span class="op" id="8285509">[</span><span class="op" id="8285510">]</span><span class="ident" id="8285511"><a href="/net/url/url_test.go.html#8285431">EscapeTest</a></span><span class="op" id="8285521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285524">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285528">&#34;&#34;</span><span class="op" id="8285530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285534">&#34;&#34;</span><span class="op" id="8285536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285540">nil</span><span class="op" id="8285543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285546">}</span><span class="op" id="8285547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285550">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285554">&#34;abc&#34;</span><span class="op" id="8285559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285563">&#34;abc&#34;</span><span class="op" id="8285568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285572">nil</span><span class="op" id="8285575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285578">}</span><span class="op" id="8285579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285582">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285586">&#34;1%41&#34;</span><span class="op" id="8285592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285596">&#34;1A&#34;</span><span class="op" id="8285600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285604">nil</span><span class="op" id="8285607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285610">}</span><span class="op" id="8285611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285614">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285618">&#34;1%41%42%43&#34;</span><span class="op" id="8285630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285634">&#34;1ABC&#34;</span><span class="op" id="8285640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285644">nil</span><span class="op" id="8285647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285650">}</span><span class="op" id="8285651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285654">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285658">&#34;%4a&#34;</span><span class="op" id="8285663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285667">&#34;J&#34;</span><span class="op" id="8285670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285674">nil</span><span class="op" id="8285677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285680">}</span><span class="op" id="8285681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285684">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285688">&#34;%6F&#34;</span><span class="op" id="8285693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285697">&#34;o&#34;</span><span class="op" id="8285700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285704">nil</span><span class="op" id="8285707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285710">}</span><span class="op" id="8285711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285714">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285718">&#34;%&#34;</span><span class="op" id="8285721">,</span>&nbsp;<span class="comment" id="8285723">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285758">&#34;&#34;</span><span class="op" id="8285760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285764"><a href="/net/url/url.go.html#3573893">EscapeError</a></span><span class="op" id="8285775">(</span><span class="string" id="8285776">&#34;%&#34;</span><span class="op" id="8285779">)</span><span class="op" id="8285780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285783">}</span><span class="op" id="8285784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285787">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285791">&#34;%a&#34;</span><span class="op" id="8285795">,</span>&nbsp;<span class="comment" id="8285797">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285832">&#34;&#34;</span><span class="op" id="8285834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285838"><a href="/net/url/url.go.html#3573893">EscapeError</a></span><span class="op" id="8285849">(</span><span class="string" id="8285850">&#34;%a&#34;</span><span class="op" id="8285854">)</span><span class="op" id="8285855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285858">}</span><span class="op" id="8285859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285862">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285866">&#34;%1&#34;</span><span class="op" id="8285870">,</span>&nbsp;<span class="comment" id="8285872">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285907">&#34;&#34;</span><span class="op" id="8285909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285913"><a href="/net/url/url.go.html#3573893">EscapeError</a></span><span class="op" id="8285924">(</span><span class="string" id="8285925">&#34;%1&#34;</span><span class="op" id="8285929">)</span><span class="op" id="8285930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285933">}</span><span class="op" id="8285934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285937">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285941">&#34;123%45%6&#34;</span><span class="op" id="8285951">,</span>&nbsp;<span class="comment" id="8285953">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8285988">&#34;&#34;</span><span class="op" id="8285990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285994"><a href="/net/url/url.go.html#3573893">EscapeError</a></span><span class="op" id="8286005">(</span><span class="string" id="8286006">&#34;%6&#34;</span><span class="op" id="8286010">)</span><span class="op" id="8286011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286014">}</span><span class="op" id="8286015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286018">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286022">&#34;%zzzzz&#34;</span><span class="op" id="8286030">,</span>&nbsp;<span class="comment" id="8286032">//&nbsp;invalid&nbsp;hex&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286056">&#34;&#34;</span><span class="op" id="8286058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286062"><a href="/net/url/url.go.html#3573893">EscapeError</a></span><span class="op" id="8286073">(</span><span class="string" id="8286074">&#34;%zz&#34;</span><span class="op" id="8286079">)</span><span class="op" id="8286080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286083">}</span><span class="op" id="8286084">,</span><br>
<span class="lineno"></span><span class="op" id="8286086">}</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span><span class="keyword" id="8286089">func</span>&nbsp;<span class="ident" id="8286094">TestUnescape</span><span class="op" id="8286106">(</span><span class="ident" id="8286107">t</span>&nbsp;<span class="op" id="8286109">*</span><span class="ident" id="8286110"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8286117">.</span><span class="ident" id="8286118">T</span><span class="op" id="8286119">)</span>&nbsp;<span class="op" id="8286121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286124">for</span>&nbsp;<span class="ident" id="8286128">_</span><span class="op" id="8286129">,</span>&nbsp;<span class="ident" id="8286131">tt</span>&nbsp;<span class="op" id="8286134">:=</span>&nbsp;<span class="keyword" id="8286137">range</span>&nbsp;<span class="ident" id="8286143"><a href="/net/url/url_test.go.html#8285493">unescapeTests</a></span>&nbsp;<span class="op" id="8286157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286161">actual</span><span class="op" id="8286167">,</span>&nbsp;<span class="ident" id="8286169">err</span>&nbsp;<span class="op" id="8286173">:=</span>&nbsp;<span class="ident" id="8286176"><a href="/net/url/url.go.html#3575716">QueryUnescape</a></span><span class="op" id="8286189">(</span><span class="ident" id="8286190"><a href="/net/url/url_test.go.html#8286131">tt</a></span><span class="op" id="8286192">.</span><span class="ident" id="8286193">in</span><span class="op" id="8286195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286199">if</span>&nbsp;<span class="ident" id="8286202"><a href="/net/url/url_test.go.html#8286161">actual</a></span>&nbsp;<span class="op" id="8286209">!=</span>&nbsp;<span class="ident" id="8286212"><a href="/net/url/url_test.go.html#8286131">tt</a></span><span class="op" id="8286214">.</span><span class="ident" id="8286215">out</span>&nbsp;<span class="op" id="8286219">||</span>&nbsp;<span class="op" id="8286222">(</span><span class="ident" id="8286223"><a href="/net/url/url_test.go.html#8286169">err</a></span>&nbsp;<span class="op" id="8286227">!=</span>&nbsp;<span class="ident" id="8286230">nil</span><span class="op" id="8286233">)</span>&nbsp;<span class="op" id="8286235">!=</span>&nbsp;<span class="op" id="8286238">(</span><span class="ident" id="8286239"><a href="/net/url/url_test.go.html#8286131">tt</a></span><span class="op" id="8286241">.</span><span class="ident" id="8286242">err</span>&nbsp;<span class="op" id="8286246">!=</span>&nbsp;<span class="ident" id="8286249">nil</span><span class="op" id="8286252">)</span>&nbsp;<span class="op" id="8286254">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286259"><a href="/net/url/url_test.go.html#8286107">t</a></span><span class="op" id="8286260">.</span><span class="ident" id="8286261">Errorf</span><span class="op" id="8286267">(</span><span class="string" id="8286268">&#34;QueryUnescape(%q)&nbsp;=&nbsp;%q,&nbsp;%s;&nbsp;want&nbsp;%q,&nbsp;%s&#34;</span><span class="op" id="8286309">,</span>&nbsp;<span class="ident" id="8286311"><a href="/net/url/url_test.go.html#8286131">tt</a></span><span class="op" id="8286313">.</span><span class="ident" id="8286314">in</span><span class="op" id="8286316">,</span>&nbsp;<span class="ident" id="8286318"><a href="/net/url/url_test.go.html#8286161">actual</a></span><span class="op" id="8286324">,</span>&nbsp;<span class="ident" id="8286326"><a href="/net/url/url_test.go.html#8286169">err</a></span><span class="op" id="8286329">,</span>&nbsp;<span class="ident" id="8286331"><a href="/net/url/url_test.go.html#8286131">tt</a></span><span class="op" id="8286333">.</span><span class="ident" id="8286334">out</span><span class="op" id="8286337">,</span>&nbsp;<span class="ident" id="8286339"><a href="/net/url/url_test.go.html#8286131">tt</a></span><span class="op" id="8286341">.</span><span class="ident" id="8286342">err</span><span class="op" id="8286345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286352">}</span><br>
<span class="lineno"></span><span class="op" id="8286354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">495</span><span class="keyword" id="8286357">var</span>&nbsp;<span class="ident" id="8286361">escapeTests</span>&nbsp;<span class="op" id="8286373">=</span>&nbsp;<span class="op" id="8286375">[</span><span class="op" id="8286376">]</span><span class="ident" id="8286377"><a href="/net/url/url_test.go.html#8285431">EscapeTest</a></span><span class="op" id="8286387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286394">&#34;&#34;</span><span class="op" id="8286396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286400">&#34;&#34;</span><span class="op" id="8286402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286406">nil</span><span class="op" id="8286409">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286412">}</span><span class="op" id="8286413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286420">&#34;abc&#34;</span><span class="op" id="8286425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286429">&#34;abc&#34;</span><span class="op" id="8286434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286438">nil</span><span class="op" id="8286441">,</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286444">}</span><span class="op" id="8286445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286452">&#34;one&nbsp;two&#34;</span><span class="op" id="8286461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286465">&#34;one+two&#34;</span><span class="op" id="8286474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286478">nil</span><span class="op" id="8286481">,</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286484">}</span><span class="op" id="8286485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286492">&#34;10%&#34;</span><span class="op" id="8286497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286501">&#34;10%25&#34;</span><span class="op" id="8286508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286512">nil</span><span class="op" id="8286515">,</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286518">}</span><span class="op" id="8286519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286526">&#34;&nbsp;?&amp;=#+%!&lt;&gt;#\&#34;{}|\\^[]`☺\t:/@$&#39;()*,;&#34;</span><span class="op" id="8286565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286569">&#34;+%3F%26%3D%23%2B%25%21%3C%3E%23%22%7B%7D%7C%5C%5E%5B%5D%60%E2%98%BA%09%3A%2F%40%24%27%28%29%2A%2C%3B&#34;</span><span class="op" id="8286671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286675">nil</span><span class="op" id="8286678">,</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286681">}</span><span class="op" id="8286682">,</span><br>
<span class="lineno"></span><span class="op" id="8286684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286687">func</span>&nbsp;<span class="ident" id="8286692">TestEscape</span><span class="op" id="8286702">(</span><span class="ident" id="8286703">t</span>&nbsp;<span class="op" id="8286705">*</span><span class="ident" id="8286706"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8286713">.</span><span class="ident" id="8286714">T</span><span class="op" id="8286715">)</span>&nbsp;<span class="op" id="8286717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286720">for</span>&nbsp;<span class="ident" id="8286724">_</span><span class="op" id="8286725">,</span>&nbsp;<span class="ident" id="8286727">tt</span>&nbsp;<span class="op" id="8286730">:=</span>&nbsp;<span class="keyword" id="8286733">range</span>&nbsp;<span class="ident" id="8286739"><a href="/net/url/url_test.go.html#8286361">escapeTests</a></span>&nbsp;<span class="op" id="8286751">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286755">actual</span>&nbsp;<span class="op" id="8286762">:=</span>&nbsp;<span class="ident" id="8286765"><a href="/net/url/url.go.html#3576816">QueryEscape</a></span><span class="op" id="8286776">(</span><span class="ident" id="8286777"><a href="/net/url/url_test.go.html#8286727">tt</a></span><span class="op" id="8286779">.</span><span class="ident" id="8286780">in</span><span class="op" id="8286782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286786">if</span>&nbsp;<span class="ident" id="8286789"><a href="/net/url/url_test.go.html#8286727">tt</a></span><span class="op" id="8286791">.</span><span class="ident" id="8286792">out</span>&nbsp;<span class="op" id="8286796">!=</span>&nbsp;<span class="ident" id="8286799"><a href="/net/url/url_test.go.html#8286755">actual</a></span>&nbsp;<span class="op" id="8286806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286811"><a href="/net/url/url_test.go.html#8286703">t</a></span><span class="op" id="8286812">.</span><span class="ident" id="8286813">Errorf</span><span class="op" id="8286819">(</span><span class="string" id="8286820">&#34;QueryEscape(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8286851">,</span>&nbsp;<span class="ident" id="8286853"><a href="/net/url/url_test.go.html#8286727">tt</a></span><span class="op" id="8286855">.</span><span class="ident" id="8286856">in</span><span class="op" id="8286858">,</span>&nbsp;<span class="ident" id="8286860"><a href="/net/url/url_test.go.html#8286755">actual</a></span><span class="op" id="8286866">,</span>&nbsp;<span class="ident" id="8286868"><a href="/net/url/url_test.go.html#8286727">tt</a></span><span class="op" id="8286870">.</span><span class="ident" id="8286871">out</span><span class="op" id="8286874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8286883">//&nbsp;for&nbsp;bonus&nbsp;points,&nbsp;verify&nbsp;that&nbsp;escape:unescape&nbsp;is&nbsp;an&nbsp;identity.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286950">roundtrip</span><span class="op" id="8286959">,</span>&nbsp;<span class="ident" id="8286961">err</span>&nbsp;<span class="op" id="8286965">:=</span>&nbsp;<span class="ident" id="8286968"><a href="/net/url/url.go.html#3575716">QueryUnescape</a></span><span class="op" id="8286981">(</span><span class="ident" id="8286982"><a href="/net/url/url_test.go.html#8286755">actual</a></span><span class="op" id="8286988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286992">if</span>&nbsp;<span class="ident" id="8286995"><a href="/net/url/url_test.go.html#8286950">roundtrip</a></span>&nbsp;<span class="op" id="8287005">!=</span>&nbsp;<span class="ident" id="8287008"><a href="/net/url/url_test.go.html#8286727">tt</a></span><span class="op" id="8287010">.</span><span class="ident" id="8287011">in</span>&nbsp;<span class="op" id="8287014">||</span>&nbsp;<span class="ident" id="8287017"><a href="/net/url/url_test.go.html#8286961">err</a></span>&nbsp;<span class="op" id="8287021">!=</span>&nbsp;<span class="ident" id="8287024">nil</span>&nbsp;<span class="op" id="8287028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287033"><a href="/net/url/url_test.go.html#8286703">t</a></span><span class="op" id="8287034">.</span><span class="ident" id="8287035">Errorf</span><span class="op" id="8287041">(</span><span class="string" id="8287042">&#34;QueryUnescape(%q)&nbsp;=&nbsp;%q,&nbsp;%s;&nbsp;want&nbsp;%q,&nbsp;%s&#34;</span><span class="op" id="8287083">,</span>&nbsp;<span class="ident" id="8287085"><a href="/net/url/url_test.go.html#8286755">actual</a></span><span class="op" id="8287091">,</span>&nbsp;<span class="ident" id="8287093"><a href="/net/url/url_test.go.html#8286950">roundtrip</a></span><span class="op" id="8287102">,</span>&nbsp;<span class="ident" id="8287104"><a href="/net/url/url_test.go.html#8286961">err</a></span><span class="op" id="8287107">,</span>&nbsp;<span class="ident" id="8287109"><a href="/net/url/url_test.go.html#8286727">tt</a></span><span class="op" id="8287111">.</span><span class="ident" id="8287112">in</span><span class="op" id="8287114">,</span>&nbsp;<span class="string" id="8287116">&#34;[no&nbsp;error]&#34;</span><span class="op" id="8287128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287132">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287135">}</span><br>
<span class="lineno"></span><span class="op" id="8287137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8287140">//var&nbsp;userinfoTests&nbsp;=&nbsp;[]UserinfoTest{</span><br>
<span class="lineno"></span><span class="comment" id="8287178">//&nbsp;&nbsp;&nbsp;&nbsp{&#34;user&#34;,&nbsp;&#34;password&#34;,&nbsp;&#34;user:password&#34;},</span><br>
<span class="lineno">540</span><span class="comment" id="8287220">//&nbsp;&nbsp;&nbsp;&nbsp{&#34;foo:bar&#34;,&nbsp;&#34;~!@#$%^&amp;*()_+{}|[]\\-=`:;&#39;\&#34;&lt;&gt;?,./&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="8287273">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;foo%3Abar:~!%40%23$%25%5E&amp;*()_+%7B%7D%7C%5B%5D%5C-=%60%3A;&#39;%22%3C%3E?,.%2F&#34;},</span><br>
<span class="lineno"></span><span class="comment" id="8287356">//}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8287361">type</span>&nbsp;<span class="ident" id="8287366">EncodeQueryTest</span>&nbsp;<span class="keyword" id="8287382">struct</span>&nbsp;<span class="op" id="8287389">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287392">m</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287401"><a href="/net/url/url.go.html#3586050">Values</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287409">expected</span>&nbsp;<span class="builtintype" id="8287418">string</span><br>
<span class="lineno"></span><span class="op" id="8287425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8287428">var</span>&nbsp;<span class="ident" id="8287432">encodeQueryTests</span>&nbsp;<span class="op" id="8287449">=</span>&nbsp;<span class="op" id="8287451">[</span><span class="op" id="8287452">]</span><span class="ident" id="8287453"><a href="/net/url/url_test.go.html#8287366">EncodeQueryTest</a></span><span class="op" id="8287468">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287471">{</span><span class="ident" id="8287472">nil</span><span class="op" id="8287475">,</span>&nbsp;<span class="string" id="8287477">&#34;&#34;</span><span class="op" id="8287479">}</span><span class="op" id="8287480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287483">{</span><span class="ident" id="8287484"><a href="/net/url/url.go.html#3586050">Values</a></span><span class="op" id="8287490">{</span><span class="string" id="8287491">&#34;q&#34;</span><span class="op" id="8287494">:</span>&nbsp;<span class="op" id="8287496">{</span><span class="string" id="8287497">&#34;puppies&#34;</span><span class="op" id="8287506">}</span><span class="op" id="8287507">,</span>&nbsp;<span class="string" id="8287509">&#34;oe&#34;</span><span class="op" id="8287513">:</span>&nbsp;<span class="op" id="8287515">{</span><span class="string" id="8287516">&#34;utf8&#34;</span><span class="op" id="8287522">}</span><span class="op" id="8287523">}</span><span class="op" id="8287524">,</span>&nbsp;<span class="string" id="8287526">&#34;oe=utf8&amp;q=puppies&#34;</span><span class="op" id="8287545">}</span><span class="op" id="8287546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287549">{</span><span class="ident" id="8287550"><a href="/net/url/url.go.html#3586050">Values</a></span><span class="op" id="8287556">{</span><span class="string" id="8287557">&#34;q&#34;</span><span class="op" id="8287560">:</span>&nbsp;<span class="op" id="8287562">{</span><span class="string" id="8287563">&#34;dogs&#34;</span><span class="op" id="8287569">,</span>&nbsp;<span class="string" id="8287571">&#34;&amp;&#34;</span><span class="op" id="8287574">,</span>&nbsp;<span class="string" id="8287576">&#34;7&#34;</span><span class="op" id="8287579">}</span><span class="op" id="8287580">}</span><span class="op" id="8287581">,</span>&nbsp;<span class="string" id="8287583">&#34;q=dogs&amp;q=%26&amp;q=7&#34;</span><span class="op" id="8287601">}</span><span class="op" id="8287602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287605">{</span><span class="ident" id="8287606"><a href="/net/url/url.go.html#3586050">Values</a></span><span class="op" id="8287612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8287616">&#34;a&#34;</span><span class="op" id="8287619">:</span>&nbsp;<span class="op" id="8287621">{</span><span class="string" id="8287622">&#34;a1&#34;</span><span class="op" id="8287626">,</span>&nbsp;<span class="string" id="8287628">&#34;a2&#34;</span><span class="op" id="8287632">,</span>&nbsp;<span class="string" id="8287634">&#34;a3&#34;</span><span class="op" id="8287638">}</span><span class="op" id="8287639">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8287643">&#34;b&#34;</span><span class="op" id="8287646">:</span>&nbsp;<span class="op" id="8287648">{</span><span class="string" id="8287649">&#34;b1&#34;</span><span class="op" id="8287653">,</span>&nbsp;<span class="string" id="8287655">&#34;b2&#34;</span><span class="op" id="8287659">,</span>&nbsp;<span class="string" id="8287661">&#34;b3&#34;</span><span class="op" id="8287665">}</span><span class="op" id="8287666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8287670">&#34;c&#34;</span><span class="op" id="8287673">:</span>&nbsp;<span class="op" id="8287675">{</span><span class="string" id="8287676">&#34;c1&#34;</span><span class="op" id="8287680">,</span>&nbsp;<span class="string" id="8287682">&#34;c2&#34;</span><span class="op" id="8287686">,</span>&nbsp;<span class="string" id="8287688">&#34;c3&#34;</span><span class="op" id="8287692">}</span><span class="op" id="8287693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287696">}</span><span class="op" id="8287697">,</span>&nbsp;<span class="string" id="8287699">&#34;a=a1&amp;a=a2&amp;a=a3&amp;b=b1&amp;b=b2&amp;b=b3&amp;c=c1&amp;c=c2&amp;c=c3&#34;</span><span class="op" id="8287745">}</span><span class="op" id="8287746">,</span><br>
<span class="lineno"></span><span class="op" id="8287748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span><span class="keyword" id="8287751">func</span>&nbsp;<span class="ident" id="8287756">TestEncodeQuery</span><span class="op" id="8287771">(</span><span class="ident" id="8287772">t</span>&nbsp;<span class="op" id="8287774">*</span><span class="ident" id="8287775"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8287782">.</span><span class="ident" id="8287783">T</span><span class="op" id="8287784">)</span>&nbsp;<span class="op" id="8287786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287789">for</span>&nbsp;<span class="ident" id="8287793">_</span><span class="op" id="8287794">,</span>&nbsp;<span class="ident" id="8287796">tt</span>&nbsp;<span class="op" id="8287799">:=</span>&nbsp;<span class="keyword" id="8287802">range</span>&nbsp;<span class="ident" id="8287808"><a href="/net/url/url_test.go.html#8287432">encodeQueryTests</a></span>&nbsp;<span class="op" id="8287825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287829">if</span>&nbsp;<span class="ident" id="8287832">q</span>&nbsp;<span class="op" id="8287834">:=</span>&nbsp;<span class="ident" id="8287837"><a href="/net/url/url_test.go.html#8287796">tt</a></span><span class="op" id="8287839">.</span><span class="ident" id="8287840">m</span><span class="op" id="8287841">.</span><span class="ident" id="8287842">Encode</span><span class="op" id="8287848">(</span><span class="op" id="8287849">)</span><span class="op" id="8287850">;</span>&nbsp;<span class="ident" id="8287852"><a href="/net/url/url_test.go.html#8287832">q</a></span>&nbsp;<span class="op" id="8287854">!=</span>&nbsp;<span class="ident" id="8287857"><a href="/net/url/url_test.go.html#8287796">tt</a></span><span class="op" id="8287859">.</span><span class="ident" id="8287860">expected</span>&nbsp;<span class="op" id="8287869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287874"><a href="/net/url/url_test.go.html#8287772">t</a></span><span class="op" id="8287875">.</span><span class="ident" id="8287876">Errorf</span><span class="op" id="8287882">(</span><span class="string" id="8287883">`EncodeQuery(%+v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q`</span><span class="op" id="8287915">,</span>&nbsp;<span class="ident" id="8287917"><a href="/net/url/url_test.go.html#8287796">tt</a></span><span class="op" id="8287919">.</span><span class="ident" id="8287920">m</span><span class="op" id="8287921">,</span>&nbsp;<span class="ident" id="8287923"><a href="/net/url/url_test.go.html#8287832">q</a></span><span class="op" id="8287924">,</span>&nbsp;<span class="ident" id="8287926"><a href="/net/url/url_test.go.html#8287796">tt</a></span><span class="op" id="8287928">.</span><span class="ident" id="8287929">expected</span><span class="op" id="8287937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287941">}</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287944">}</span><br>
<span class="lineno"></span><span class="op" id="8287946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8287949">var</span>&nbsp;<span class="ident" id="8287953">resolvePathTests</span>&nbsp;<span class="op" id="8287970">=</span>&nbsp;<span class="op" id="8287972">[</span><span class="op" id="8287973">]</span><span class="keyword" id="8287974">struct</span>&nbsp;<span class="op" id="8287981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287984">base</span><span class="op" id="8287988">,</span>&nbsp;<span class="ident" id="8287990">ref</span><span class="op" id="8287993">,</span>&nbsp;<span class="ident" id="8287995">expected</span>&nbsp;<span class="builtintype" id="8288004">string</span><br>
<span class="lineno">570</span><span class="op" id="8288011">}</span><span class="op" id="8288012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288015">{</span><span class="string" id="8288016">&#34;a/b&#34;</span><span class="op" id="8288021">,</span>&nbsp;<span class="string" id="8288023">&#34;.&#34;</span><span class="op" id="8288026">,</span>&nbsp;<span class="string" id="8288028">&#34;/a/&#34;</span><span class="op" id="8288033">}</span><span class="op" id="8288034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288037">{</span><span class="string" id="8288038">&#34;a/b&#34;</span><span class="op" id="8288043">,</span>&nbsp;<span class="string" id="8288045">&#34;c&#34;</span><span class="op" id="8288048">,</span>&nbsp;<span class="string" id="8288050">&#34;/a/c&#34;</span><span class="op" id="8288056">}</span><span class="op" id="8288057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288060">{</span><span class="string" id="8288061">&#34;a/b&#34;</span><span class="op" id="8288066">,</span>&nbsp;<span class="string" id="8288068">&#34;..&#34;</span><span class="op" id="8288072">,</span>&nbsp;<span class="string" id="8288074">&#34;/&#34;</span><span class="op" id="8288077">}</span><span class="op" id="8288078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288081">{</span><span class="string" id="8288082">&#34;a/&#34;</span><span class="op" id="8288086">,</span>&nbsp;<span class="string" id="8288088">&#34;..&#34;</span><span class="op" id="8288092">,</span>&nbsp;<span class="string" id="8288094">&#34;/&#34;</span><span class="op" id="8288097">}</span><span class="op" id="8288098">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288101">{</span><span class="string" id="8288102">&#34;a/&#34;</span><span class="op" id="8288106">,</span>&nbsp;<span class="string" id="8288108">&#34;../..&#34;</span><span class="op" id="8288115">,</span>&nbsp;<span class="string" id="8288117">&#34;/&#34;</span><span class="op" id="8288120">}</span><span class="op" id="8288121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288124">{</span><span class="string" id="8288125">&#34;a/b/c&#34;</span><span class="op" id="8288132">,</span>&nbsp;<span class="string" id="8288134">&#34;..&#34;</span><span class="op" id="8288138">,</span>&nbsp;<span class="string" id="8288140">&#34;/a/&#34;</span><span class="op" id="8288145">}</span><span class="op" id="8288146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288149">{</span><span class="string" id="8288150">&#34;a/b/c&#34;</span><span class="op" id="8288157">,</span>&nbsp;<span class="string" id="8288159">&#34;../d&#34;</span><span class="op" id="8288165">,</span>&nbsp;<span class="string" id="8288167">&#34;/a/d&#34;</span><span class="op" id="8288173">}</span><span class="op" id="8288174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288177">{</span><span class="string" id="8288178">&#34;a/b/c&#34;</span><span class="op" id="8288185">,</span>&nbsp;<span class="string" id="8288187">&#34;.././d&#34;</span><span class="op" id="8288195">,</span>&nbsp;<span class="string" id="8288197">&#34;/a/d&#34;</span><span class="op" id="8288203">}</span><span class="op" id="8288204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288207">{</span><span class="string" id="8288208">&#34;a/b&#34;</span><span class="op" id="8288213">,</span>&nbsp;<span class="string" id="8288215">&#34;./..&#34;</span><span class="op" id="8288221">,</span>&nbsp;<span class="string" id="8288223">&#34;/&#34;</span><span class="op" id="8288226">}</span><span class="op" id="8288227">,</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288230">{</span><span class="string" id="8288231">&#34;a/./b&#34;</span><span class="op" id="8288238">,</span>&nbsp;<span class="string" id="8288240">&#34;.&#34;</span><span class="op" id="8288243">,</span>&nbsp;<span class="string" id="8288245">&#34;/a/&#34;</span><span class="op" id="8288250">}</span><span class="op" id="8288251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288254">{</span><span class="string" id="8288255">&#34;a/../&#34;</span><span class="op" id="8288262">,</span>&nbsp;<span class="string" id="8288264">&#34;.&#34;</span><span class="op" id="8288267">,</span>&nbsp;<span class="string" id="8288269">&#34;/&#34;</span><span class="op" id="8288272">}</span><span class="op" id="8288273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288276">{</span><span class="string" id="8288277">&#34;a/.././b&#34;</span><span class="op" id="8288287">,</span>&nbsp;<span class="string" id="8288289">&#34;c&#34;</span><span class="op" id="8288292">,</span>&nbsp;<span class="string" id="8288294">&#34;/c&#34;</span><span class="op" id="8288298">}</span><span class="op" id="8288299">,</span><br>
<span class="lineno"></span><span class="op" id="8288301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="8288304">func</span>&nbsp;<span class="ident" id="8288309">TestResolvePath</span><span class="op" id="8288324">(</span><span class="ident" id="8288325">t</span>&nbsp;<span class="op" id="8288327">*</span><span class="ident" id="8288328"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8288335">.</span><span class="ident" id="8288336">T</span><span class="op" id="8288337">)</span>&nbsp;<span class="op" id="8288339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8288342">for</span>&nbsp;<span class="ident" id="8288346">_</span><span class="op" id="8288347">,</span>&nbsp;<span class="ident" id="8288349">test</span>&nbsp;<span class="op" id="8288354">:=</span>&nbsp;<span class="keyword" id="8288357">range</span>&nbsp;<span class="ident" id="8288363"><a href="/net/url/url_test.go.html#8287953">resolvePathTests</a></span>&nbsp;<span class="op" id="8288380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288384">got</span>&nbsp;<span class="op" id="8288388">:=</span>&nbsp;<span class="ident" id="8288391"><a href="/net/url/url.go.html#3588429">resolvePath</a></span><span class="op" id="8288402">(</span><span class="ident" id="8288403"><a href="/net/url/url_test.go.html#8288349">test</a></span><span class="op" id="8288407">.</span><span class="ident" id="8288408">base</span><span class="op" id="8288412">,</span>&nbsp;<span class="ident" id="8288414"><a href="/net/url/url_test.go.html#8288349">test</a></span><span class="op" id="8288418">.</span><span class="ident" id="8288419">ref</span><span class="op" id="8288422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8288426">if</span>&nbsp;<span class="ident" id="8288429"><a href="/net/url/url_test.go.html#8288384">got</a></span>&nbsp;<span class="op" id="8288433">!=</span>&nbsp;<span class="ident" id="8288436"><a href="/net/url/url_test.go.html#8288349">test</a></span><span class="op" id="8288440">.</span><span class="ident" id="8288441">expected</span>&nbsp;<span class="op" id="8288450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288455"><a href="/net/url/url_test.go.html#8288325">t</a></span><span class="op" id="8288456">.</span><span class="ident" id="8288457">Errorf</span><span class="op" id="8288463">(</span><span class="string" id="8288464">&#34;For&nbsp;%q&nbsp;+&nbsp;%q&nbsp;got&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8288497">,</span>&nbsp;<span class="ident" id="8288499"><a href="/net/url/url_test.go.html#8288349">test</a></span><span class="op" id="8288503">.</span><span class="ident" id="8288504">base</span><span class="op" id="8288508">,</span>&nbsp;<span class="ident" id="8288510"><a href="/net/url/url_test.go.html#8288349">test</a></span><span class="op" id="8288514">.</span><span class="ident" id="8288515">ref</span><span class="op" id="8288518">,</span>&nbsp;<span class="ident" id="8288520"><a href="/net/url/url_test.go.html#8288384">got</a></span><span class="op" id="8288523">,</span>&nbsp;<span class="ident" id="8288525"><a href="/net/url/url_test.go.html#8288349">test</a></span><span class="op" id="8288529">.</span><span class="ident" id="8288530">expected</span><span class="op" id="8288538">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288545">}</span><br>
<span class="lineno"></span><span class="op" id="8288547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8288550">var</span>&nbsp;<span class="ident" id="8288554">resolveReferenceTests</span>&nbsp;<span class="op" id="8288576">=</span>&nbsp;<span class="op" id="8288578">[</span><span class="op" id="8288579">]</span><span class="keyword" id="8288580">struct</span>&nbsp;<span class="op" id="8288587">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288590">base</span><span class="op" id="8288594">,</span>&nbsp;<span class="ident" id="8288596">rel</span><span class="op" id="8288599">,</span>&nbsp;<span class="ident" id="8288601">expected</span>&nbsp;<span class="builtintype" id="8288610">string</span><br>
<span class="lineno"></span><span class="op" id="8288617">}</span><span class="op" id="8288618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8288621">//&nbsp;Absolute&nbsp;URL&nbsp;references</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288649">{</span><span class="string" id="8288650">&#34;http://foo.com?a=b&#34;</span><span class="op" id="8288670">,</span>&nbsp;<span class="string" id="8288672">&#34;https://bar.com/&#34;</span><span class="op" id="8288690">,</span>&nbsp;<span class="string" id="8288692">&#34;https://bar.com/&#34;</span><span class="op" id="8288710">}</span><span class="op" id="8288711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288714">{</span><span class="string" id="8288715">&#34;http://foo.com/&#34;</span><span class="op" id="8288732">,</span>&nbsp;<span class="string" id="8288734">&#34;https://bar.com/?a=b&#34;</span><span class="op" id="8288756">,</span>&nbsp;<span class="string" id="8288758">&#34;https://bar.com/?a=b&#34;</span><span class="op" id="8288780">}</span><span class="op" id="8288781">,</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288784">{</span><span class="string" id="8288785">&#34;http://foo.com/bar&#34;</span><span class="op" id="8288805">,</span>&nbsp;<span class="string" id="8288807">&#34;mailto:foo@example.com&#34;</span><span class="op" id="8288831">,</span>&nbsp;<span class="string" id="8288833">&#34;mailto:foo@example.com&#34;</span><span class="op" id="8288857">}</span><span class="op" id="8288858">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8288862">//&nbsp;Path-absolute&nbsp;references</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288891">{</span><span class="string" id="8288892">&#34;http://foo.com/bar&#34;</span><span class="op" id="8288912">,</span>&nbsp;<span class="string" id="8288914">&#34;/baz&#34;</span><span class="op" id="8288920">,</span>&nbsp;<span class="string" id="8288922">&#34;http://foo.com/baz&#34;</span><span class="op" id="8288942">}</span><span class="op" id="8288943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288946">{</span><span class="string" id="8288947">&#34;http://foo.com/bar?a=b#f&#34;</span><span class="op" id="8288973">,</span>&nbsp;<span class="string" id="8288975">&#34;/baz&#34;</span><span class="op" id="8288981">,</span>&nbsp;<span class="string" id="8288983">&#34;http://foo.com/baz&#34;</span><span class="op" id="8289003">}</span><span class="op" id="8289004">,</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289007">{</span><span class="string" id="8289008">&#34;http://foo.com/bar?a=b&#34;</span><span class="op" id="8289032">,</span>&nbsp;<span class="string" id="8289034">&#34;/baz?c=d&#34;</span><span class="op" id="8289044">,</span>&nbsp;<span class="string" id="8289046">&#34;http://foo.com/baz?c=d&#34;</span><span class="op" id="8289070">}</span><span class="op" id="8289071">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8289075">//&nbsp;Scheme-relative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289095">{</span><span class="string" id="8289096">&#34;https://foo.com/bar?a=b&#34;</span><span class="op" id="8289121">,</span>&nbsp;<span class="string" id="8289123">&#34;//bar.com/quux&#34;</span><span class="op" id="8289139">,</span>&nbsp;<span class="string" id="8289141">&#34;https://bar.com/quux&#34;</span><span class="op" id="8289163">}</span><span class="op" id="8289164">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8289168">//&nbsp;Path-relative&nbsp;references:</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8289199">//&nbsp;...&nbsp;current&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289225">{</span><span class="string" id="8289226">&#34;http://foo.com&#34;</span><span class="op" id="8289242">,</span>&nbsp;<span class="string" id="8289244">&#34;.&#34;</span><span class="op" id="8289247">,</span>&nbsp;<span class="string" id="8289249">&#34;http://foo.com/&#34;</span><span class="op" id="8289266">}</span><span class="op" id="8289267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289270">{</span><span class="string" id="8289271">&#34;http://foo.com/bar&#34;</span><span class="op" id="8289291">,</span>&nbsp;<span class="string" id="8289293">&#34;.&#34;</span><span class="op" id="8289296">,</span>&nbsp;<span class="string" id="8289298">&#34;http://foo.com/&#34;</span><span class="op" id="8289315">}</span><span class="op" id="8289316">,</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289319">{</span><span class="string" id="8289320">&#34;http://foo.com/bar/&#34;</span><span class="op" id="8289341">,</span>&nbsp;<span class="string" id="8289343">&#34;.&#34;</span><span class="op" id="8289346">,</span>&nbsp;<span class="string" id="8289348">&#34;http://foo.com/bar/&#34;</span><span class="op" id="8289369">}</span><span class="op" id="8289370">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8289374">//&nbsp;...&nbsp;going&nbsp;down</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289393">{</span><span class="string" id="8289394">&#34;http://foo.com&#34;</span><span class="op" id="8289410">,</span>&nbsp;<span class="string" id="8289412">&#34;bar&#34;</span><span class="op" id="8289417">,</span>&nbsp;<span class="string" id="8289419">&#34;http://foo.com/bar&#34;</span><span class="op" id="8289439">}</span><span class="op" id="8289440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289443">{</span><span class="string" id="8289444">&#34;http://foo.com/&#34;</span><span class="op" id="8289461">,</span>&nbsp;<span class="string" id="8289463">&#34;bar&#34;</span><span class="op" id="8289468">,</span>&nbsp;<span class="string" id="8289470">&#34;http://foo.com/bar&#34;</span><span class="op" id="8289490">}</span><span class="op" id="8289491">,</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289494">{</span><span class="string" id="8289495">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8289519">,</span>&nbsp;<span class="string" id="8289521">&#34;quux&#34;</span><span class="op" id="8289527">,</span>&nbsp;<span class="string" id="8289529">&#34;http://foo.com/bar/quux&#34;</span><span class="op" id="8289554">}</span><span class="op" id="8289555">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8289559">//&nbsp;...&nbsp;going&nbsp;up</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289576">{</span><span class="string" id="8289577">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8289601">,</span>&nbsp;<span class="string" id="8289603">&#34;../quux&#34;</span><span class="op" id="8289612">,</span>&nbsp;<span class="string" id="8289614">&#34;http://foo.com/quux&#34;</span><span class="op" id="8289635">}</span><span class="op" id="8289636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289639">{</span><span class="string" id="8289640">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8289664">,</span>&nbsp;<span class="string" id="8289666">&#34;../../../../../quux&#34;</span><span class="op" id="8289687">,</span>&nbsp;<span class="string" id="8289689">&#34;http://foo.com/quux&#34;</span><span class="op" id="8289710">}</span><span class="op" id="8289711">,</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289714">{</span><span class="string" id="8289715">&#34;http://foo.com/bar&#34;</span><span class="op" id="8289735">,</span>&nbsp;<span class="string" id="8289737">&#34;..&#34;</span><span class="op" id="8289741">,</span>&nbsp;<span class="string" id="8289743">&#34;http://foo.com/&#34;</span><span class="op" id="8289760">}</span><span class="op" id="8289761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289764">{</span><span class="string" id="8289765">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8289789">,</span>&nbsp;<span class="string" id="8289791">&#34;./..&#34;</span><span class="op" id="8289797">,</span>&nbsp;<span class="string" id="8289799">&#34;http://foo.com/&#34;</span><span class="op" id="8289816">}</span><span class="op" id="8289817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8289820">//&nbsp;&#34;..&#34;&nbsp;in&nbsp;the&nbsp;middle&nbsp;(issue&nbsp;3560)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289856">{</span><span class="string" id="8289857">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8289881">,</span>&nbsp;<span class="string" id="8289883">&#34;quux/dotdot/../tail&#34;</span><span class="op" id="8289904">,</span>&nbsp;<span class="string" id="8289906">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="8289936">}</span><span class="op" id="8289937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289940">{</span><span class="string" id="8289941">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8289965">,</span>&nbsp;<span class="string" id="8289967">&#34;quux/./dotdot/../tail&#34;</span><span class="op" id="8289990">,</span>&nbsp;<span class="string" id="8289992">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="8290022">}</span><span class="op" id="8290023">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290026">{</span><span class="string" id="8290027">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8290051">,</span>&nbsp;<span class="string" id="8290053">&#34;quux/./dotdot/.././tail&#34;</span><span class="op" id="8290078">,</span>&nbsp;<span class="string" id="8290080">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="8290110">}</span><span class="op" id="8290111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290114">{</span><span class="string" id="8290115">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8290139">,</span>&nbsp;<span class="string" id="8290141">&#34;quux/./dotdot/./../tail&#34;</span><span class="op" id="8290166">,</span>&nbsp;<span class="string" id="8290168">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="8290198">}</span><span class="op" id="8290199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290202">{</span><span class="string" id="8290203">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8290227">,</span>&nbsp;<span class="string" id="8290229">&#34;quux/./dotdot/dotdot/././../../tail&#34;</span><span class="op" id="8290266">,</span>&nbsp;<span class="string" id="8290268">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="8290298">}</span><span class="op" id="8290299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290302">{</span><span class="string" id="8290303">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8290327">,</span>&nbsp;<span class="string" id="8290329">&#34;quux/./dotdot/dotdot/./.././../tail&#34;</span><span class="op" id="8290366">,</span>&nbsp;<span class="string" id="8290368">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="8290398">}</span><span class="op" id="8290399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290402">{</span><span class="string" id="8290403">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8290427">,</span>&nbsp;<span class="string" id="8290429">&#34;quux/./dotdot/dotdot/dotdot/./../../.././././tail&#34;</span><span class="op" id="8290480">,</span>&nbsp;<span class="string" id="8290482">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="8290512">}</span><span class="op" id="8290513">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290516">{</span><span class="string" id="8290517">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="8290541">,</span>&nbsp;<span class="string" id="8290543">&#34;quux/./dotdot/../dotdot/../dot/./tail/..&#34;</span><span class="op" id="8290585">,</span>&nbsp;<span class="string" id="8290587">&#34;http://foo.com/bar/quux/dot/&#34;</span><span class="op" id="8290617">}</span><span class="op" id="8290618">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8290622">//&nbsp;Remove&nbsp;any&nbsp;dot-segments&nbsp;prior&nbsp;to&nbsp;forming&nbsp;the&nbsp;target&nbsp;URI.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8290683">//&nbsp;http://tools.ietf.org/html/rfc3986#section-5.2.4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290736">{</span><span class="string" id="8290737">&#34;http://foo.com/dot/./dotdot/../foo/bar&#34;</span><span class="op" id="8290777">,</span>&nbsp;<span class="string" id="8290779">&#34;../baz&#34;</span><span class="op" id="8290787">,</span>&nbsp;<span class="string" id="8290789">&#34;http://foo.com/dot/baz&#34;</span><span class="op" id="8290813">}</span><span class="op" id="8290814">,</span><br>
<span class="lineno">640</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8290818">//&nbsp;Triple&nbsp;dot&nbsp;isn&#39;t&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290847">{</span><span class="string" id="8290848">&#34;http://foo.com/bar&#34;</span><span class="op" id="8290868">,</span>&nbsp;<span class="string" id="8290870">&#34;...&#34;</span><span class="op" id="8290875">,</span>&nbsp;<span class="string" id="8290877">&#34;http://foo.com/...&#34;</span><span class="op" id="8290897">}</span><span class="op" id="8290898">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8290902">//&nbsp;Fragment</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290915">{</span><span class="string" id="8290916">&#34;http://foo.com/bar&#34;</span><span class="op" id="8290936">,</span>&nbsp;<span class="string" id="8290938">&#34;.#frag&#34;</span><span class="op" id="8290946">,</span>&nbsp;<span class="string" id="8290948">&#34;http://foo.com/#frag&#34;</span><span class="op" id="8290970">}</span><span class="op" id="8290971">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8290975">//&nbsp;RFC&nbsp;3986:&nbsp;Normal&nbsp;Examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8291005">//&nbsp;http://tools.ietf.org/html/rfc3986#section-5.4.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291058">{</span><span class="string" id="8291059">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291079">,</span>&nbsp;<span class="string" id="8291081">&#34;g:h&#34;</span><span class="op" id="8291086">,</span>&nbsp;<span class="string" id="8291088">&#34;g:h&#34;</span><span class="op" id="8291093">}</span><span class="op" id="8291094">,</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291097">{</span><span class="string" id="8291098">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291118">,</span>&nbsp;<span class="string" id="8291120">&#34;g&#34;</span><span class="op" id="8291123">,</span>&nbsp;<span class="string" id="8291125">&#34;http://a/b/c/g&#34;</span><span class="op" id="8291141">}</span><span class="op" id="8291142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291145">{</span><span class="string" id="8291146">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291166">,</span>&nbsp;<span class="string" id="8291168">&#34;./g&#34;</span><span class="op" id="8291173">,</span>&nbsp;<span class="string" id="8291175">&#34;http://a/b/c/g&#34;</span><span class="op" id="8291191">}</span><span class="op" id="8291192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291195">{</span><span class="string" id="8291196">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291216">,</span>&nbsp;<span class="string" id="8291218">&#34;g/&#34;</span><span class="op" id="8291222">,</span>&nbsp;<span class="string" id="8291224">&#34;http://a/b/c/g/&#34;</span><span class="op" id="8291241">}</span><span class="op" id="8291242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291245">{</span><span class="string" id="8291246">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291266">,</span>&nbsp;<span class="string" id="8291268">&#34;/g&#34;</span><span class="op" id="8291272">,</span>&nbsp;<span class="string" id="8291274">&#34;http://a/g&#34;</span><span class="op" id="8291286">}</span><span class="op" id="8291287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291290">{</span><span class="string" id="8291291">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291311">,</span>&nbsp;<span class="string" id="8291313">&#34;//g&#34;</span><span class="op" id="8291318">,</span>&nbsp;<span class="string" id="8291320">&#34;http://g&#34;</span><span class="op" id="8291330">}</span><span class="op" id="8291331">,</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291334">{</span><span class="string" id="8291335">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291355">,</span>&nbsp;<span class="string" id="8291357">&#34;?y&#34;</span><span class="op" id="8291361">,</span>&nbsp;<span class="string" id="8291363">&#34;http://a/b/c/d;p?y&#34;</span><span class="op" id="8291383">}</span><span class="op" id="8291384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291387">{</span><span class="string" id="8291388">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291408">,</span>&nbsp;<span class="string" id="8291410">&#34;g?y&#34;</span><span class="op" id="8291415">,</span>&nbsp;<span class="string" id="8291417">&#34;http://a/b/c/g?y&#34;</span><span class="op" id="8291435">}</span><span class="op" id="8291436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291439">{</span><span class="string" id="8291440">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291460">,</span>&nbsp;<span class="string" id="8291462">&#34;#s&#34;</span><span class="op" id="8291466">,</span>&nbsp;<span class="string" id="8291468">&#34;http://a/b/c/d;p?q#s&#34;</span><span class="op" id="8291490">}</span><span class="op" id="8291491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291494">{</span><span class="string" id="8291495">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291515">,</span>&nbsp;<span class="string" id="8291517">&#34;g#s&#34;</span><span class="op" id="8291522">,</span>&nbsp;<span class="string" id="8291524">&#34;http://a/b/c/g#s&#34;</span><span class="op" id="8291542">}</span><span class="op" id="8291543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291546">{</span><span class="string" id="8291547">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291567">,</span>&nbsp;<span class="string" id="8291569">&#34;g?y#s&#34;</span><span class="op" id="8291576">,</span>&nbsp;<span class="string" id="8291578">&#34;http://a/b/c/g?y#s&#34;</span><span class="op" id="8291598">}</span><span class="op" id="8291599">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291602">{</span><span class="string" id="8291603">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291623">,</span>&nbsp;<span class="string" id="8291625">&#34;;x&#34;</span><span class="op" id="8291629">,</span>&nbsp;<span class="string" id="8291631">&#34;http://a/b/c/;x&#34;</span><span class="op" id="8291648">}</span><span class="op" id="8291649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291652">{</span><span class="string" id="8291653">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291673">,</span>&nbsp;<span class="string" id="8291675">&#34;g;x&#34;</span><span class="op" id="8291680">,</span>&nbsp;<span class="string" id="8291682">&#34;http://a/b/c/g;x&#34;</span><span class="op" id="8291700">}</span><span class="op" id="8291701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291704">{</span><span class="string" id="8291705">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291725">,</span>&nbsp;<span class="string" id="8291727">&#34;g;x?y#s&#34;</span><span class="op" id="8291736">,</span>&nbsp;<span class="string" id="8291738">&#34;http://a/b/c/g;x?y#s&#34;</span><span class="op" id="8291760">}</span><span class="op" id="8291761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291764">{</span><span class="string" id="8291765">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291785">,</span>&nbsp;<span class="string" id="8291787">&#34;&#34;</span><span class="op" id="8291789">,</span>&nbsp;<span class="string" id="8291791">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291811">}</span><span class="op" id="8291812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291815">{</span><span class="string" id="8291816">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291836">,</span>&nbsp;<span class="string" id="8291838">&#34;.&#34;</span><span class="op" id="8291841">,</span>&nbsp;<span class="string" id="8291843">&#34;http://a/b/c/&#34;</span><span class="op" id="8291858">}</span><span class="op" id="8291859">,</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291862">{</span><span class="string" id="8291863">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291883">,</span>&nbsp;<span class="string" id="8291885">&#34;./&#34;</span><span class="op" id="8291889">,</span>&nbsp;<span class="string" id="8291891">&#34;http://a/b/c/&#34;</span><span class="op" id="8291906">}</span><span class="op" id="8291907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291910">{</span><span class="string" id="8291911">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291931">,</span>&nbsp;<span class="string" id="8291933">&#34;..&#34;</span><span class="op" id="8291937">,</span>&nbsp;<span class="string" id="8291939">&#34;http://a/b/&#34;</span><span class="op" id="8291952">}</span><span class="op" id="8291953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291956">{</span><span class="string" id="8291957">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8291977">,</span>&nbsp;<span class="string" id="8291979">&#34;../&#34;</span><span class="op" id="8291984">,</span>&nbsp;<span class="string" id="8291986">&#34;http://a/b/&#34;</span><span class="op" id="8291999">}</span><span class="op" id="8292000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292003">{</span><span class="string" id="8292004">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292024">,</span>&nbsp;<span class="string" id="8292026">&#34;../g&#34;</span><span class="op" id="8292032">,</span>&nbsp;<span class="string" id="8292034">&#34;http://a/b/g&#34;</span><span class="op" id="8292048">}</span><span class="op" id="8292049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292052">{</span><span class="string" id="8292053">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292073">,</span>&nbsp;<span class="string" id="8292075">&#34;../..&#34;</span><span class="op" id="8292082">,</span>&nbsp;<span class="string" id="8292084">&#34;http://a/&#34;</span><span class="op" id="8292095">}</span><span class="op" id="8292096">,</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292099">{</span><span class="string" id="8292100">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292120">,</span>&nbsp;<span class="string" id="8292122">&#34;../../&#34;</span><span class="op" id="8292130">,</span>&nbsp;<span class="string" id="8292132">&#34;http://a/&#34;</span><span class="op" id="8292143">}</span><span class="op" id="8292144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292147">{</span><span class="string" id="8292148">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292168">,</span>&nbsp;<span class="string" id="8292170">&#34;../../g&#34;</span><span class="op" id="8292179">,</span>&nbsp;<span class="string" id="8292181">&#34;http://a/g&#34;</span><span class="op" id="8292193">}</span><span class="op" id="8292194">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8292198">//&nbsp;RFC&nbsp;3986:&nbsp;Abnormal&nbsp;Examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8292230">//&nbsp;http://tools.ietf.org/html/rfc3986#section-5.4.2</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292283">{</span><span class="string" id="8292284">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292304">,</span>&nbsp;<span class="string" id="8292306">&#34;../../../g&#34;</span><span class="op" id="8292318">,</span>&nbsp;<span class="string" id="8292320">&#34;http://a/g&#34;</span><span class="op" id="8292332">}</span><span class="op" id="8292333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292336">{</span><span class="string" id="8292337">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292357">,</span>&nbsp;<span class="string" id="8292359">&#34;../../../../g&#34;</span><span class="op" id="8292374">,</span>&nbsp;<span class="string" id="8292376">&#34;http://a/g&#34;</span><span class="op" id="8292388">}</span><span class="op" id="8292389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292392">{</span><span class="string" id="8292393">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292413">,</span>&nbsp;<span class="string" id="8292415">&#34;/./g&#34;</span><span class="op" id="8292421">,</span>&nbsp;<span class="string" id="8292423">&#34;http://a/g&#34;</span><span class="op" id="8292435">}</span><span class="op" id="8292436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292439">{</span><span class="string" id="8292440">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292460">,</span>&nbsp;<span class="string" id="8292462">&#34;/../g&#34;</span><span class="op" id="8292469">,</span>&nbsp;<span class="string" id="8292471">&#34;http://a/g&#34;</span><span class="op" id="8292483">}</span><span class="op" id="8292484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292487">{</span><span class="string" id="8292488">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292508">,</span>&nbsp;<span class="string" id="8292510">&#34;g.&#34;</span><span class="op" id="8292514">,</span>&nbsp;<span class="string" id="8292516">&#34;http://a/b/c/g.&#34;</span><span class="op" id="8292533">}</span><span class="op" id="8292534">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292537">{</span><span class="string" id="8292538">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292558">,</span>&nbsp;<span class="string" id="8292560">&#34;.g&#34;</span><span class="op" id="8292564">,</span>&nbsp;<span class="string" id="8292566">&#34;http://a/b/c/.g&#34;</span><span class="op" id="8292583">}</span><span class="op" id="8292584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292587">{</span><span class="string" id="8292588">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292608">,</span>&nbsp;<span class="string" id="8292610">&#34;g..&#34;</span><span class="op" id="8292615">,</span>&nbsp;<span class="string" id="8292617">&#34;http://a/b/c/g..&#34;</span><span class="op" id="8292635">}</span><span class="op" id="8292636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292639">{</span><span class="string" id="8292640">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292660">,</span>&nbsp;<span class="string" id="8292662">&#34;..g&#34;</span><span class="op" id="8292667">,</span>&nbsp;<span class="string" id="8292669">&#34;http://a/b/c/..g&#34;</span><span class="op" id="8292687">}</span><span class="op" id="8292688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292691">{</span><span class="string" id="8292692">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292712">,</span>&nbsp;<span class="string" id="8292714">&#34;./../g&#34;</span><span class="op" id="8292722">,</span>&nbsp;<span class="string" id="8292724">&#34;http://a/b/g&#34;</span><span class="op" id="8292738">}</span><span class="op" id="8292739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292742">{</span><span class="string" id="8292743">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292763">,</span>&nbsp;<span class="string" id="8292765">&#34;./g/.&#34;</span><span class="op" id="8292772">,</span>&nbsp;<span class="string" id="8292774">&#34;http://a/b/c/g/&#34;</span><span class="op" id="8292791">}</span><span class="op" id="8292792">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292795">{</span><span class="string" id="8292796">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292816">,</span>&nbsp;<span class="string" id="8292818">&#34;g/./h&#34;</span><span class="op" id="8292825">,</span>&nbsp;<span class="string" id="8292827">&#34;http://a/b/c/g/h&#34;</span><span class="op" id="8292845">}</span><span class="op" id="8292846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292849">{</span><span class="string" id="8292850">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292870">,</span>&nbsp;<span class="string" id="8292872">&#34;g/../h&#34;</span><span class="op" id="8292880">,</span>&nbsp;<span class="string" id="8292882">&#34;http://a/b/c/h&#34;</span><span class="op" id="8292898">}</span><span class="op" id="8292899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292902">{</span><span class="string" id="8292903">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292923">,</span>&nbsp;<span class="string" id="8292925">&#34;g;x=1/./y&#34;</span><span class="op" id="8292936">,</span>&nbsp;<span class="string" id="8292938">&#34;http://a/b/c/g;x=1/y&#34;</span><span class="op" id="8292960">}</span><span class="op" id="8292961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292964">{</span><span class="string" id="8292965">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8292985">,</span>&nbsp;<span class="string" id="8292987">&#34;g;x=1/../y&#34;</span><span class="op" id="8292999">,</span>&nbsp;<span class="string" id="8293001">&#34;http://a/b/c/y&#34;</span><span class="op" id="8293017">}</span><span class="op" id="8293018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293021">{</span><span class="string" id="8293022">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8293042">,</span>&nbsp;<span class="string" id="8293044">&#34;g?y/./x&#34;</span><span class="op" id="8293053">,</span>&nbsp;<span class="string" id="8293055">&#34;http://a/b/c/g?y/./x&#34;</span><span class="op" id="8293077">}</span><span class="op" id="8293078">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293081">{</span><span class="string" id="8293082">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8293102">,</span>&nbsp;<span class="string" id="8293104">&#34;g?y/../x&#34;</span><span class="op" id="8293114">,</span>&nbsp;<span class="string" id="8293116">&#34;http://a/b/c/g?y/../x&#34;</span><span class="op" id="8293139">}</span><span class="op" id="8293140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293143">{</span><span class="string" id="8293144">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8293164">,</span>&nbsp;<span class="string" id="8293166">&#34;g#s/./x&#34;</span><span class="op" id="8293175">,</span>&nbsp;<span class="string" id="8293177">&#34;http://a/b/c/g#s/./x&#34;</span><span class="op" id="8293199">}</span><span class="op" id="8293200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293203">{</span><span class="string" id="8293204">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="8293224">,</span>&nbsp;<span class="string" id="8293226">&#34;g#s/../x&#34;</span><span class="op" id="8293236">,</span>&nbsp;<span class="string" id="8293238">&#34;http://a/b/c/g#s/../x&#34;</span><span class="op" id="8293261">}</span><span class="op" id="8293262">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8293266">//&nbsp;Extras.</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293278">{</span><span class="string" id="8293279">&#34;https://a/b/c/d;p?q&#34;</span><span class="op" id="8293300">,</span>&nbsp;<span class="string" id="8293302">&#34;//g?q&#34;</span><span class="op" id="8293309">,</span>&nbsp;<span class="string" id="8293311">&#34;https://g?q&#34;</span><span class="op" id="8293324">}</span><span class="op" id="8293325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293328">{</span><span class="string" id="8293329">&#34;https://a/b/c/d;p?q&#34;</span><span class="op" id="8293350">,</span>&nbsp;<span class="string" id="8293352">&#34;//g#s&#34;</span><span class="op" id="8293359">,</span>&nbsp;<span class="string" id="8293361">&#34;https://g#s&#34;</span><span class="op" id="8293374">}</span><span class="op" id="8293375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293378">{</span><span class="string" id="8293379">&#34;https://a/b/c/d;p?q&#34;</span><span class="op" id="8293400">,</span>&nbsp;<span class="string" id="8293402">&#34;//g/d/e/f?y#s&#34;</span><span class="op" id="8293417">,</span>&nbsp;<span class="string" id="8293419">&#34;https://g/d/e/f?y#s&#34;</span><span class="op" id="8293440">}</span><span class="op" id="8293441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293444">{</span><span class="string" id="8293445">&#34;https://a/b/c/d;p#s&#34;</span><span class="op" id="8293466">,</span>&nbsp;<span class="string" id="8293468">&#34;?y&#34;</span><span class="op" id="8293472">,</span>&nbsp;<span class="string" id="8293474">&#34;https://a/b/c/d;p?y&#34;</span><span class="op" id="8293495">}</span><span class="op" id="8293496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293499">{</span><span class="string" id="8293500">&#34;https://a/b/c/d;p?q#s&#34;</span><span class="op" id="8293523">,</span>&nbsp;<span class="string" id="8293525">&#34;?y&#34;</span><span class="op" id="8293529">,</span>&nbsp;<span class="string" id="8293531">&#34;https://a/b/c/d;p?y&#34;</span><span class="op" id="8293552">}</span><span class="op" id="8293553">,</span><br>
<span class="lineno">700</span><span class="op" id="8293555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8293558">func</span>&nbsp;<span class="ident" id="8293563">TestResolveReference</span><span class="op" id="8293583">(</span><span class="ident" id="8293584">t</span>&nbsp;<span class="op" id="8293586">*</span><span class="ident" id="8293587"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8293594">.</span><span class="ident" id="8293595">T</span><span class="op" id="8293596">)</span>&nbsp;<span class="op" id="8293598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293601">mustParse</span>&nbsp;<span class="op" id="8293611">:=</span>&nbsp;<span class="keyword" id="8293614">func</span><span class="op" id="8293618">(</span><span class="ident" id="8293619">url</span>&nbsp;<span class="builtintype" id="8293623">string</span><span class="op" id="8293629">)</span>&nbsp;<span class="op" id="8293631">*</span><span class="ident" id="8293632"><a href="/net/url/url.go.html#3578383">URL</a></span>&nbsp;<span class="op" id="8293636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293640">u</span><span class="op" id="8293641">,</span>&nbsp;<span class="ident" id="8293643">err</span>&nbsp;<span class="op" id="8293647">:=</span>&nbsp;<span class="ident" id="8293650"><a href="/net/url/url.go.html#3581358">Parse</a></span><span class="op" id="8293655">(</span><span class="ident" id="8293656"><a href="/net/url/url_test.go.html#8293619">url</a></span><span class="op" id="8293659">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293663">if</span>&nbsp;<span class="ident" id="8293666"><a href="/net/url/url_test.go.html#8293643">err</a></span>&nbsp;<span class="op" id="8293670">!=</span>&nbsp;<span class="ident" id="8293673">nil</span>&nbsp;<span class="op" id="8293677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293682"><a href="/net/url/url_test.go.html#8293584">t</a></span><span class="op" id="8293683">.</span><span class="ident" id="8293684">Fatalf</span><span class="op" id="8293690">(</span><span class="string" id="8293691">&#34;Expected&nbsp;URL&nbsp;to&nbsp;parse:&nbsp;%q,&nbsp;got&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8293733">,</span>&nbsp;<span class="ident" id="8293735"><a href="/net/url/url_test.go.html#8293619">url</a></span><span class="op" id="8293738">,</span>&nbsp;<span class="ident" id="8293740"><a href="/net/url/url_test.go.html#8293643">err</a></span><span class="op" id="8293743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293751">return</span>&nbsp;<span class="ident" id="8293758"><a href="/net/url/url_test.go.html#8293640">u</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293761">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293764">opaque</span>&nbsp;<span class="op" id="8293771">:=</span>&nbsp;<span class="op" id="8293774">&amp;</span><span class="ident" id="8293775"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8293778">{</span><span class="ident" id="8293779">Scheme</span><span class="op" id="8293785">:</span>&nbsp;<span class="string" id="8293787">&#34;scheme&#34;</span><span class="op" id="8293795">,</span>&nbsp;<span class="ident" id="8293797">Opaque</span><span class="op" id="8293803">:</span>&nbsp;<span class="string" id="8293805">&#34;opaque&#34;</span><span class="op" id="8293813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293816">for</span>&nbsp;<span class="ident" id="8293820">_</span><span class="op" id="8293821">,</span>&nbsp;<span class="ident" id="8293823">test</span>&nbsp;<span class="op" id="8293828">:=</span>&nbsp;<span class="keyword" id="8293831">range</span>&nbsp;<span class="ident" id="8293837"><a href="/net/url/url_test.go.html#8288554">resolveReferenceTests</a></span>&nbsp;<span class="op" id="8293859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293863">base</span>&nbsp;<span class="op" id="8293868">:=</span>&nbsp;<span class="ident" id="8293871"><a href="/net/url/url_test.go.html#8293601">mustParse</a></span><span class="op" id="8293880">(</span><span class="ident" id="8293881"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8293885">.</span><span class="ident" id="8293886">base</span><span class="op" id="8293890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293894">rel</span>&nbsp;<span class="op" id="8293898">:=</span>&nbsp;<span class="ident" id="8293901"><a href="/net/url/url_test.go.html#8293601">mustParse</a></span><span class="op" id="8293910">(</span><span class="ident" id="8293911"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8293915">.</span><span class="ident" id="8293916">rel</span><span class="op" id="8293919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293923">url</span>&nbsp;<span class="op" id="8293927">:=</span>&nbsp;<span class="ident" id="8293930"><a href="/net/url/url_test.go.html#8293863">base</a></span><span class="op" id="8293934">.</span><span class="ident" id="8293935">ResolveReference</span><span class="op" id="8293951">(</span><span class="ident" id="8293952"><a href="/net/url/url_test.go.html#8293894">rel</a></span><span class="op" id="8293955">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293959">if</span>&nbsp;<span class="ident" id="8293962"><a href="/net/url/url_test.go.html#8293923">url</a></span><span class="op" id="8293965">.</span><span class="ident" id="8293966">String</span><span class="op" id="8293972">(</span><span class="op" id="8293973">)</span>&nbsp;<span class="op" id="8293975">!=</span>&nbsp;<span class="ident" id="8293978"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8293982">.</span><span class="ident" id="8293983">expected</span>&nbsp;<span class="op" id="8293992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293997"><a href="/net/url/url_test.go.html#8293584">t</a></span><span class="op" id="8293998">.</span><span class="ident" id="8293999">Errorf</span><span class="op" id="8294005">(</span><span class="string" id="8294006">&#34;URL(%q).ResolveReference(%q)&nbsp;==&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8294050">,</span>&nbsp;<span class="ident" id="8294052"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8294056">.</span><span class="ident" id="8294057">base</span><span class="op" id="8294061">,</span>&nbsp;<span class="ident" id="8294063"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8294067">.</span><span class="ident" id="8294068">rel</span><span class="op" id="8294071">,</span>&nbsp;<span class="ident" id="8294073"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8294077">.</span><span class="ident" id="8294078">expected</span><span class="op" id="8294086">,</span>&nbsp;<span class="ident" id="8294088"><a href="/net/url/url_test.go.html#8293923">url</a></span><span class="op" id="8294091">.</span><span class="ident" id="8294092">String</span><span class="op" id="8294098">(</span><span class="op" id="8294099">)</span><span class="op" id="8294100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294108">//&nbsp;Ensure&nbsp;that&nbsp;new&nbsp;instances&nbsp;are&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8294153">if</span>&nbsp;<span class="ident" id="8294156"><a href="/net/url/url_test.go.html#8293863">base</a></span>&nbsp;<span class="op" id="8294161">==</span>&nbsp;<span class="ident" id="8294164"><a href="/net/url/url_test.go.html#8293923">url</a></span>&nbsp;<span class="op" id="8294168">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294173"><a href="/net/url/url_test.go.html#8293584">t</a></span><span class="op" id="8294174">.</span><span class="ident" id="8294175">Errorf</span><span class="op" id="8294181">(</span><span class="string" id="8294182">&#34;Expected&nbsp;URL.ResolveReference&nbsp;to&nbsp;return&nbsp;new&nbsp;URL&nbsp;instance.&#34;</span><span class="op" id="8294241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294249">//&nbsp;Test&nbsp;the&nbsp;convenience&nbsp;wrapper&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294288"><a href="/net/url/url_test.go.html#8293923">url</a></span><span class="op" id="8294291">,</span>&nbsp;<span class="ident" id="8294293">err</span>&nbsp;<span class="op" id="8294297">:=</span>&nbsp;<span class="ident" id="8294300"><a href="/net/url/url_test.go.html#8293863">base</a></span><span class="op" id="8294304">.</span><span class="ident" id="8294305">Parse</span><span class="op" id="8294310">(</span><span class="ident" id="8294311"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8294315">.</span><span class="ident" id="8294316">rel</span><span class="op" id="8294319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8294323">if</span>&nbsp;<span class="ident" id="8294326"><a href="/net/url/url_test.go.html#8294293">err</a></span>&nbsp;<span class="op" id="8294330">!=</span>&nbsp;<span class="ident" id="8294333">nil</span>&nbsp;<span class="op" id="8294337">{</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294342"><a href="/net/url/url_test.go.html#8293584">t</a></span><span class="op" id="8294343">.</span><span class="ident" id="8294344">Errorf</span><span class="op" id="8294350">(</span><span class="string" id="8294351">&#34;URL(%q).Parse(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8294381">,</span>&nbsp;<span class="ident" id="8294383"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8294387">.</span><span class="ident" id="8294388">base</span><span class="op" id="8294392">,</span>&nbsp;<span class="ident" id="8294394"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8294398">.</span><span class="ident" id="8294399">rel</span><span class="op" id="8294402">,</span>&nbsp;<span class="ident" id="8294404"><a href="/net/url/url_test.go.html#8294293">err</a></span><span class="op" id="8294407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294411">}</span>&nbsp;<span class="keyword" id="8294413">else</span>&nbsp;<span class="keyword" id="8294418">if</span>&nbsp;<span class="ident" id="8294421"><a href="/net/url/url_test.go.html#8293923">url</a></span><span class="op" id="8294424">.</span><span class="ident" id="8294425">String</span><span class="op" id="8294431">(</span><span class="op" id="8294432">)</span>&nbsp;<span class="op" id="8294434">!=</span>&nbsp;<span class="ident" id="8294437"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8294441">.</span><span class="ident" id="8294442">expected</span>&nbsp;<span class="op" id="8294451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294456"><a href="/net/url/url_test.go.html#8293584">t</a></span><span class="op" id="8294457">.</span><span class="ident" id="8294458">Errorf</span><span class="op" id="8294464">(</span><span class="string" id="8294465">&#34;URL(%q).Parse(%q)&nbsp;==&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8294498">,</span>&nbsp;<span class="ident" id="8294500"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8294504">.</span><span class="ident" id="8294505">base</span><span class="op" id="8294509">,</span>&nbsp;<span class="ident" id="8294511"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8294515">.</span><span class="ident" id="8294516">rel</span><span class="op" id="8294519">,</span>&nbsp;<span class="ident" id="8294521"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8294525">.</span><span class="ident" id="8294526">expected</span><span class="op" id="8294534">,</span>&nbsp;<span class="ident" id="8294536"><a href="/net/url/url_test.go.html#8293923">url</a></span><span class="op" id="8294539">.</span><span class="ident" id="8294540">String</span><span class="op" id="8294546">(</span><span class="op" id="8294547">)</span><span class="op" id="8294548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294552">}</span>&nbsp;<span class="keyword" id="8294554">else</span>&nbsp;<span class="keyword" id="8294559">if</span>&nbsp;<span class="ident" id="8294562"><a href="/net/url/url_test.go.html#8293863">base</a></span>&nbsp;<span class="op" id="8294567">==</span>&nbsp;<span class="ident" id="8294570"><a href="/net/url/url_test.go.html#8293923">url</a></span>&nbsp;<span class="op" id="8294574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294579">//&nbsp;Ensure&nbsp;that&nbsp;new&nbsp;instances&nbsp;are&nbsp;returned&nbsp;for&nbsp;the&nbsp;wrapper&nbsp;too.</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294645"><a href="/net/url/url_test.go.html#8293584">t</a></span><span class="op" id="8294646">.</span><span class="ident" id="8294647">Errorf</span><span class="op" id="8294653">(</span><span class="string" id="8294654">&#34;Expected&nbsp;URL.Parse&nbsp;to&nbsp;return&nbsp;new&nbsp;URL&nbsp;instance.&#34;</span><span class="op" id="8294702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294710">//&nbsp;Ensure&nbsp;Opaque&nbsp;resets&nbsp;the&nbsp;URL.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294745"><a href="/net/url/url_test.go.html#8293923">url</a></span>&nbsp;<span class="op" id="8294749">=</span>&nbsp;<span class="ident" id="8294751"><a href="/net/url/url_test.go.html#8293863">base</a></span><span class="op" id="8294755">.</span><span class="ident" id="8294756">ResolveReference</span><span class="op" id="8294772">(</span><span class="ident" id="8294773"><a href="/net/url/url_test.go.html#8293764">opaque</a></span><span class="op" id="8294779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8294783">if</span>&nbsp;<span class="op" id="8294786">*</span><span class="ident" id="8294787"><a href="/net/url/url_test.go.html#8293923">url</a></span>&nbsp;<span class="op" id="8294791">!=</span>&nbsp;<span class="op" id="8294794">*</span><span class="ident" id="8294795"><a href="/net/url/url_test.go.html#8293764">opaque</a></span>&nbsp;<span class="op" id="8294802">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294807"><a href="/net/url/url_test.go.html#8293584">t</a></span><span class="op" id="8294808">.</span><span class="ident" id="8294809">Errorf</span><span class="op" id="8294815">(</span><span class="string" id="8294816">&#34;ResolveReference&nbsp;failed&nbsp;to&nbsp;resolve&nbsp;opaque&nbsp;URL:&nbsp;want&nbsp;%#v,&nbsp;got&nbsp;%#v&#34;</span><span class="op" id="8294882">,</span>&nbsp;<span class="ident" id="8294884"><a href="/net/url/url_test.go.html#8293923">url</a></span><span class="op" id="8294887">,</span>&nbsp;<span class="ident" id="8294889"><a href="/net/url/url_test.go.html#8293764">opaque</a></span><span class="op" id="8294895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294903">//&nbsp;Test&nbsp;the&nbsp;convenience&nbsp;wrapper&nbsp;with&nbsp;an&nbsp;opaque&nbsp;URL&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294961"><a href="/net/url/url_test.go.html#8293923">url</a></span><span class="op" id="8294964">,</span>&nbsp;<span class="ident" id="8294966"><a href="/net/url/url_test.go.html#8294293">err</a></span>&nbsp;<span class="op" id="8294970">=</span>&nbsp;<span class="ident" id="8294972"><a href="/net/url/url_test.go.html#8293863">base</a></span><span class="op" id="8294976">.</span><span class="ident" id="8294977">Parse</span><span class="op" id="8294982">(</span><span class="string" id="8294983">&#34;scheme:opaque&#34;</span><span class="op" id="8294998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295002">if</span>&nbsp;<span class="ident" id="8295005"><a href="/net/url/url_test.go.html#8294293">err</a></span>&nbsp;<span class="op" id="8295009">!=</span>&nbsp;<span class="ident" id="8295012">nil</span>&nbsp;<span class="op" id="8295016">{</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295021"><a href="/net/url/url_test.go.html#8293584">t</a></span><span class="op" id="8295022">.</span><span class="ident" id="8295023">Errorf</span><span class="op" id="8295029">(</span><span class="string" id="8295030">`URL(%q).Parse(&#34;scheme:opaque&#34;)&nbsp;failed:&nbsp;%v`</span><span class="op" id="8295073">,</span>&nbsp;<span class="ident" id="8295075"><a href="/net/url/url_test.go.html#8293823">test</a></span><span class="op" id="8295079">.</span><span class="ident" id="8295080">base</span><span class="op" id="8295084">,</span>&nbsp;<span class="ident" id="8295086"><a href="/net/url/url_test.go.html#8294293">err</a></span><span class="op" id="8295089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295093">}</span>&nbsp;<span class="keyword" id="8295095">else</span>&nbsp;<span class="keyword" id="8295100">if</span>&nbsp;<span class="op" id="8295103">*</span><span class="ident" id="8295104"><a href="/net/url/url_test.go.html#8293923">url</a></span>&nbsp;<span class="op" id="8295108">!=</span>&nbsp;<span class="op" id="8295111">*</span><span class="ident" id="8295112"><a href="/net/url/url_test.go.html#8293764">opaque</a></span>&nbsp;<span class="op" id="8295119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295124"><a href="/net/url/url_test.go.html#8293584">t</a></span><span class="op" id="8295125">.</span><span class="ident" id="8295126">Errorf</span><span class="op" id="8295132">(</span><span class="string" id="8295133">&#34;Parse&nbsp;failed&nbsp;to&nbsp;resolve&nbsp;opaque&nbsp;URL:&nbsp;want&nbsp;%#v,&nbsp;got&nbsp;%#v&#34;</span><span class="op" id="8295188">,</span>&nbsp;<span class="ident" id="8295190"><a href="/net/url/url_test.go.html#8293923">url</a></span><span class="op" id="8295193">,</span>&nbsp;<span class="ident" id="8295195"><a href="/net/url/url_test.go.html#8293764">opaque</a></span><span class="op" id="8295201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295205">}</span>&nbsp;<span class="keyword" id="8295207">else</span>&nbsp;<span class="keyword" id="8295212">if</span>&nbsp;<span class="ident" id="8295215"><a href="/net/url/url_test.go.html#8293863">base</a></span>&nbsp;<span class="op" id="8295220">==</span>&nbsp;<span class="ident" id="8295223"><a href="/net/url/url_test.go.html#8293923">url</a></span>&nbsp;<span class="op" id="8295227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8295232">//&nbsp;Ensure&nbsp;that&nbsp;new&nbsp;instances&nbsp;are&nbsp;returned,&nbsp;again.</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295285"><a href="/net/url/url_test.go.html#8293584">t</a></span><span class="op" id="8295286">.</span><span class="ident" id="8295287">Errorf</span><span class="op" id="8295293">(</span><span class="string" id="8295294">&#34;Expected&nbsp;URL.Parse&nbsp;to&nbsp;return&nbsp;new&nbsp;URL&nbsp;instance.&#34;</span><span class="op" id="8295342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295349">}</span><br>
<span class="lineno"></span><span class="op" id="8295351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">750</span><span class="keyword" id="8295354">func</span>&nbsp;<span class="ident" id="8295359">TestQueryValues</span><span class="op" id="8295374">(</span><span class="ident" id="8295375">t</span>&nbsp;<span class="op" id="8295377">*</span><span class="ident" id="8295378"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8295385">.</span><span class="ident" id="8295386">T</span><span class="op" id="8295387">)</span>&nbsp;<span class="op" id="8295389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295392">u</span><span class="op" id="8295393">,</span>&nbsp;<span class="ident" id="8295395">_</span>&nbsp;<span class="op" id="8295397">:=</span>&nbsp;<span class="ident" id="8295400"><a href="/net/url/url.go.html#3581358">Parse</a></span><span class="op" id="8295405">(</span><span class="string" id="8295406">&#34;http://x.com?foo=bar&amp;bar=1&amp;bar=2&#34;</span><span class="op" id="8295440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295443">v</span>&nbsp;<span class="op" id="8295445">:=</span>&nbsp;<span class="ident" id="8295448"><a href="/net/url/url_test.go.html#8295392">u</a></span><span class="op" id="8295449">.</span><span class="ident" id="8295450">Query</span><span class="op" id="8295455">(</span><span class="op" id="8295456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295459">if</span>&nbsp;<span class="builtinfunc" id="8295462">len</span><span class="op" id="8295465">(</span><span class="ident" id="8295466"><a href="/net/url/url_test.go.html#8295443">v</a></span><span class="op" id="8295467">)</span>&nbsp;<span class="op" id="8295469">!=</span>&nbsp;<span class="num" id="8295472">2</span>&nbsp;<span class="op" id="8295474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295478"><a href="/net/url/url_test.go.html#8295375">t</a></span><span class="op" id="8295479">.</span><span class="ident" id="8295480">Errorf</span><span class="op" id="8295486">(</span><span class="string" id="8295487">&#34;got&nbsp;%d&nbsp;keys&nbsp;in&nbsp;Query&nbsp;values,&nbsp;want&nbsp;2&#34;</span><span class="op" id="8295524">,</span>&nbsp;<span class="builtinfunc" id="8295526">len</span><span class="op" id="8295529">(</span><span class="ident" id="8295530"><a href="/net/url/url_test.go.html#8295443">v</a></span><span class="op" id="8295531">)</span><span class="op" id="8295532">)</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295538">if</span>&nbsp;<span class="ident" id="8295541">g</span><span class="op" id="8295542">,</span>&nbsp;<span class="ident" id="8295544">e</span>&nbsp;<span class="op" id="8295546">:=</span>&nbsp;<span class="ident" id="8295549"><a href="/net/url/url_test.go.html#8295443">v</a></span><span class="op" id="8295550">.</span><span class="ident" id="8295551">Get</span><span class="op" id="8295554">(</span><span class="string" id="8295555">&#34;foo&#34;</span><span class="op" id="8295560">)</span><span class="op" id="8295561">,</span>&nbsp;<span class="string" id="8295563">&#34;bar&#34;</span><span class="op" id="8295568">;</span>&nbsp;<span class="ident" id="8295570"><a href="/net/url/url_test.go.html#8295541">g</a></span>&nbsp;<span class="op" id="8295572">!=</span>&nbsp;<span class="ident" id="8295575"><a href="/net/url/url_test.go.html#8295544">e</a></span>&nbsp;<span class="op" id="8295577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295581"><a href="/net/url/url_test.go.html#8295375">t</a></span><span class="op" id="8295582">.</span><span class="ident" id="8295583">Errorf</span><span class="op" id="8295589">(</span><span class="string" id="8295590">&#34;Get(foo)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8295614">,</span>&nbsp;<span class="ident" id="8295616"><a href="/net/url/url_test.go.html#8295541">g</a></span><span class="op" id="8295617">,</span>&nbsp;<span class="ident" id="8295619"><a href="/net/url/url_test.go.html#8295544">e</a></span><span class="op" id="8295620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8295626">//&nbsp;Case&nbsp;sensitive:</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295646">if</span>&nbsp;<span class="ident" id="8295649">g</span><span class="op" id="8295650">,</span>&nbsp;<span class="ident" id="8295652">e</span>&nbsp;<span class="op" id="8295654">:=</span>&nbsp;<span class="ident" id="8295657"><a href="/net/url/url_test.go.html#8295443">v</a></span><span class="op" id="8295658">.</span><span class="ident" id="8295659">Get</span><span class="op" id="8295662">(</span><span class="string" id="8295663">&#34;Foo&#34;</span><span class="op" id="8295668">)</span><span class="op" id="8295669">,</span>&nbsp;<span class="string" id="8295671">&#34;&#34;</span><span class="op" id="8295673">;</span>&nbsp;<span class="ident" id="8295675"><a href="/net/url/url_test.go.html#8295649">g</a></span>&nbsp;<span class="op" id="8295677">!=</span>&nbsp;<span class="ident" id="8295680"><a href="/net/url/url_test.go.html#8295652">e</a></span>&nbsp;<span class="op" id="8295682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295686"><a href="/net/url/url_test.go.html#8295375">t</a></span><span class="op" id="8295687">.</span><span class="ident" id="8295688">Errorf</span><span class="op" id="8295694">(</span><span class="string" id="8295695">&#34;Get(Foo)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8295719">,</span>&nbsp;<span class="ident" id="8295721"><a href="/net/url/url_test.go.html#8295649">g</a></span><span class="op" id="8295722">,</span>&nbsp;<span class="ident" id="8295724"><a href="/net/url/url_test.go.html#8295652">e</a></span><span class="op" id="8295725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295731">if</span>&nbsp;<span class="ident" id="8295734">g</span><span class="op" id="8295735">,</span>&nbsp;<span class="ident" id="8295737">e</span>&nbsp;<span class="op" id="8295739">:=</span>&nbsp;<span class="ident" id="8295742"><a href="/net/url/url_test.go.html#8295443">v</a></span><span class="op" id="8295743">.</span><span class="ident" id="8295744">Get</span><span class="op" id="8295747">(</span><span class="string" id="8295748">&#34;bar&#34;</span><span class="op" id="8295753">)</span><span class="op" id="8295754">,</span>&nbsp;<span class="string" id="8295756">&#34;1&#34;</span><span class="op" id="8295759">;</span>&nbsp;<span class="ident" id="8295761"><a href="/net/url/url_test.go.html#8295734">g</a></span>&nbsp;<span class="op" id="8295763">!=</span>&nbsp;<span class="ident" id="8295766"><a href="/net/url/url_test.go.html#8295737">e</a></span>&nbsp;<span class="op" id="8295768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295772"><a href="/net/url/url_test.go.html#8295375">t</a></span><span class="op" id="8295773">.</span><span class="ident" id="8295774">Errorf</span><span class="op" id="8295780">(</span><span class="string" id="8295781">&#34;Get(bar)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8295805">,</span>&nbsp;<span class="ident" id="8295807"><a href="/net/url/url_test.go.html#8295734">g</a></span><span class="op" id="8295808">,</span>&nbsp;<span class="ident" id="8295810"><a href="/net/url/url_test.go.html#8295737">e</a></span><span class="op" id="8295811">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295817">if</span>&nbsp;<span class="ident" id="8295820">g</span><span class="op" id="8295821">,</span>&nbsp;<span class="ident" id="8295823">e</span>&nbsp;<span class="op" id="8295825">:=</span>&nbsp;<span class="ident" id="8295828"><a href="/net/url/url_test.go.html#8295443">v</a></span><span class="op" id="8295829">.</span><span class="ident" id="8295830">Get</span><span class="op" id="8295833">(</span><span class="string" id="8295834">&#34;baz&#34;</span><span class="op" id="8295839">)</span><span class="op" id="8295840">,</span>&nbsp;<span class="string" id="8295842">&#34;&#34;</span><span class="op" id="8295844">;</span>&nbsp;<span class="ident" id="8295846"><a href="/net/url/url_test.go.html#8295820">g</a></span>&nbsp;<span class="op" id="8295848">!=</span>&nbsp;<span class="ident" id="8295851"><a href="/net/url/url_test.go.html#8295823">e</a></span>&nbsp;<span class="op" id="8295853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295857"><a href="/net/url/url_test.go.html#8295375">t</a></span><span class="op" id="8295858">.</span><span class="ident" id="8295859">Errorf</span><span class="op" id="8295865">(</span><span class="string" id="8295866">&#34;Get(baz)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8295890">,</span>&nbsp;<span class="ident" id="8295892"><a href="/net/url/url_test.go.html#8295820">g</a></span><span class="op" id="8295893">,</span>&nbsp;<span class="ident" id="8295895"><a href="/net/url/url_test.go.html#8295823">e</a></span><span class="op" id="8295896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295902"><a href="/net/url/url_test.go.html#8295443">v</a></span><span class="op" id="8295903">.</span><span class="ident" id="8295904">Del</span><span class="op" id="8295907">(</span><span class="string" id="8295908">&#34;bar&#34;</span><span class="op" id="8295913">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295916">if</span>&nbsp;<span class="ident" id="8295919">g</span><span class="op" id="8295920">,</span>&nbsp;<span class="ident" id="8295922">e</span>&nbsp;<span class="op" id="8295924">:=</span>&nbsp;<span class="ident" id="8295927"><a href="/net/url/url_test.go.html#8295443">v</a></span><span class="op" id="8295928">.</span><span class="ident" id="8295929">Get</span><span class="op" id="8295932">(</span><span class="string" id="8295933">&#34;bar&#34;</span><span class="op" id="8295938">)</span><span class="op" id="8295939">,</span>&nbsp;<span class="string" id="8295941">&#34;&#34;</span><span class="op" id="8295943">;</span>&nbsp;<span class="ident" id="8295945"><a href="/net/url/url_test.go.html#8295919">g</a></span>&nbsp;<span class="op" id="8295947">!=</span>&nbsp;<span class="ident" id="8295950"><a href="/net/url/url_test.go.html#8295922">e</a></span>&nbsp;<span class="op" id="8295952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295956"><a href="/net/url/url_test.go.html#8295375">t</a></span><span class="op" id="8295957">.</span><span class="ident" id="8295958">Errorf</span><span class="op" id="8295964">(</span><span class="string" id="8295965">&#34;second&nbsp;Get(bar)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8295996">,</span>&nbsp;<span class="ident" id="8295998"><a href="/net/url/url_test.go.html#8295919">g</a></span><span class="op" id="8295999">,</span>&nbsp;<span class="ident" id="8296001"><a href="/net/url/url_test.go.html#8295922">e</a></span><span class="op" id="8296002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296005">}</span><br>
<span class="lineno"></span><span class="op" id="8296007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">775</span><span class="keyword" id="8296010">type</span>&nbsp;<span class="ident" id="8296015">parseTest</span>&nbsp;<span class="keyword" id="8296025">struct</span>&nbsp;<span class="op" id="8296032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296035">query</span>&nbsp;<span class="builtintype" id="8296041">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296049">out</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8296055"><a href="/net/url/url.go.html#3586050">Values</a></span><br>
<span class="lineno"></span><span class="op" id="8296062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">780</span><span class="keyword" id="8296065">var</span>&nbsp;<span class="ident" id="8296069">parseTests</span>&nbsp;<span class="op" id="8296080">=</span>&nbsp;<span class="op" id="8296082">[</span><span class="op" id="8296083">]</span><span class="ident" id="8296084"><a href="/net/url/url_test.go.html#8296015">parseTest</a></span><span class="op" id="8296093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296100">query</span><span class="op" id="8296105">:</span>&nbsp;<span class="string" id="8296107">&#34;a=1&amp;b=2&#34;</span><span class="op" id="8296116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296120">out</span><span class="op" id="8296123">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8296127"><a href="/net/url/url.go.html#3586050">Values</a></span><span class="op" id="8296133">{</span><span class="string" id="8296134">&#34;a&#34;</span><span class="op" id="8296137">:</span>&nbsp;<span class="op" id="8296139">[</span><span class="op" id="8296140">]</span><span class="builtintype" id="8296141">string</span><span class="op" id="8296147">{</span><span class="string" id="8296148">&#34;1&#34;</span><span class="op" id="8296151">}</span><span class="op" id="8296152">,</span>&nbsp;<span class="string" id="8296154">&#34;b&#34;</span><span class="op" id="8296157">:</span>&nbsp;<span class="op" id="8296159">[</span><span class="op" id="8296160">]</span><span class="builtintype" id="8296161">string</span><span class="op" id="8296167">{</span><span class="string" id="8296168">&#34;2&#34;</span><span class="op" id="8296171">}</span><span class="op" id="8296172">}</span><span class="op" id="8296173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296176">}</span><span class="op" id="8296177">,</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296184">query</span><span class="op" id="8296189">:</span>&nbsp;<span class="string" id="8296191">&#34;a=1&amp;a=2&amp;a=banana&#34;</span><span class="op" id="8296209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296213">out</span><span class="op" id="8296216">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8296220"><a href="/net/url/url.go.html#3586050">Values</a></span><span class="op" id="8296226">{</span><span class="string" id="8296227">&#34;a&#34;</span><span class="op" id="8296230">:</span>&nbsp;<span class="op" id="8296232">[</span><span class="op" id="8296233">]</span><span class="builtintype" id="8296234">string</span><span class="op" id="8296240">{</span><span class="string" id="8296241">&#34;1&#34;</span><span class="op" id="8296244">,</span>&nbsp;<span class="string" id="8296246">&#34;2&#34;</span><span class="op" id="8296249">,</span>&nbsp;<span class="string" id="8296251">&#34;banana&#34;</span><span class="op" id="8296259">}</span><span class="op" id="8296260">}</span><span class="op" id="8296261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296264">}</span><span class="op" id="8296265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296268">{</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296272">query</span><span class="op" id="8296277">:</span>&nbsp;<span class="string" id="8296279">&#34;ascii=%3Ckey%3A+0x90%3E&#34;</span><span class="op" id="8296304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296308">out</span><span class="op" id="8296311">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8296315"><a href="/net/url/url.go.html#3586050">Values</a></span><span class="op" id="8296321">{</span><span class="string" id="8296322">&#34;ascii&#34;</span><span class="op" id="8296329">:</span>&nbsp;<span class="op" id="8296331">[</span><span class="op" id="8296332">]</span><span class="builtintype" id="8296333">string</span><span class="op" id="8296339">{</span><span class="string" id="8296340">&#34;&lt;key:&nbsp;0x90&gt;&#34;</span><span class="op" id="8296353">}</span><span class="op" id="8296354">}</span><span class="op" id="8296355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296358">}</span><span class="op" id="8296359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296366">query</span><span class="op" id="8296371">:</span>&nbsp;<span class="string" id="8296373">&#34;a=1;b=2&#34;</span><span class="op" id="8296382">,</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296386">out</span><span class="op" id="8296389">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8296393"><a href="/net/url/url.go.html#3586050">Values</a></span><span class="op" id="8296399">{</span><span class="string" id="8296400">&#34;a&#34;</span><span class="op" id="8296403">:</span>&nbsp;<span class="op" id="8296405">[</span><span class="op" id="8296406">]</span><span class="builtintype" id="8296407">string</span><span class="op" id="8296413">{</span><span class="string" id="8296414">&#34;1&#34;</span><span class="op" id="8296417">}</span><span class="op" id="8296418">,</span>&nbsp;<span class="string" id="8296420">&#34;b&#34;</span><span class="op" id="8296423">:</span>&nbsp;<span class="op" id="8296425">[</span><span class="op" id="8296426">]</span><span class="builtintype" id="8296427">string</span><span class="op" id="8296433">{</span><span class="string" id="8296434">&#34;2&#34;</span><span class="op" id="8296437">}</span><span class="op" id="8296438">}</span><span class="op" id="8296439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296442">}</span><span class="op" id="8296443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296450">query</span><span class="op" id="8296455">:</span>&nbsp;<span class="string" id="8296457">&#34;a=1&amp;a=2;a=banana&#34;</span><span class="op" id="8296475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296479">out</span><span class="op" id="8296482">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8296486"><a href="/net/url/url.go.html#3586050">Values</a></span><span class="op" id="8296492">{</span><span class="string" id="8296493">&#34;a&#34;</span><span class="op" id="8296496">:</span>&nbsp;<span class="op" id="8296498">[</span><span class="op" id="8296499">]</span><span class="builtintype" id="8296500">string</span><span class="op" id="8296506">{</span><span class="string" id="8296507">&#34;1&#34;</span><span class="op" id="8296510">,</span>&nbsp;<span class="string" id="8296512">&#34;2&#34;</span><span class="op" id="8296515">,</span>&nbsp;<span class="string" id="8296517">&#34;banana&#34;</span><span class="op" id="8296525">}</span><span class="op" id="8296526">}</span><span class="op" id="8296527">,</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296530">}</span><span class="op" id="8296531">,</span><br>
<span class="lineno"></span><span class="op" id="8296533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8296536">func</span>&nbsp;<span class="ident" id="8296541">TestParseQuery</span><span class="op" id="8296555">(</span><span class="ident" id="8296556">t</span>&nbsp;<span class="op" id="8296558">*</span><span class="ident" id="8296559"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8296566">.</span><span class="ident" id="8296567">T</span><span class="op" id="8296568">)</span>&nbsp;<span class="op" id="8296570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296573">for</span>&nbsp;<span class="ident" id="8296577">i</span><span class="op" id="8296578">,</span>&nbsp;<span class="ident" id="8296580">test</span>&nbsp;<span class="op" id="8296585">:=</span>&nbsp;<span class="keyword" id="8296588">range</span>&nbsp;<span class="ident" id="8296594"><a href="/net/url/url_test.go.html#8296069">parseTests</a></span>&nbsp;<span class="op" id="8296605">{</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296609">form</span><span class="op" id="8296613">,</span>&nbsp;<span class="ident" id="8296615">err</span>&nbsp;<span class="op" id="8296619">:=</span>&nbsp;<span class="ident" id="8296622"><a href="/net/url/url.go.html#3587097">ParseQuery</a></span><span class="op" id="8296632">(</span><span class="ident" id="8296633"><a href="/net/url/url_test.go.html#8296580">test</a></span><span class="op" id="8296637">.</span><span class="ident" id="8296638">query</span><span class="op" id="8296643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296647">if</span>&nbsp;<span class="ident" id="8296650"><a href="/net/url/url_test.go.html#8296615">err</a></span>&nbsp;<span class="op" id="8296654">!=</span>&nbsp;<span class="ident" id="8296657">nil</span>&nbsp;<span class="op" id="8296661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296666"><a href="/net/url/url_test.go.html#8296556">t</a></span><span class="op" id="8296667">.</span><span class="ident" id="8296668">Errorf</span><span class="op" id="8296674">(</span><span class="string" id="8296675">&#34;test&nbsp;%d:&nbsp;Unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8296706">,</span>&nbsp;<span class="ident" id="8296708"><a href="/net/url/url_test.go.html#8296577">i</a></span><span class="op" id="8296709">,</span>&nbsp;<span class="ident" id="8296711"><a href="/net/url/url_test.go.html#8296615">err</a></span><span class="op" id="8296714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296719">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296730">}</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296734">if</span>&nbsp;<span class="builtinfunc" id="8296737">len</span><span class="op" id="8296740">(</span><span class="ident" id="8296741"><a href="/net/url/url_test.go.html#8296609">form</a></span><span class="op" id="8296745">)</span>&nbsp;<span class="op" id="8296747">!=</span>&nbsp;<span class="builtinfunc" id="8296750">len</span><span class="op" id="8296753">(</span><span class="ident" id="8296754"><a href="/net/url/url_test.go.html#8296580">test</a></span><span class="op" id="8296758">.</span><span class="ident" id="8296759">out</span><span class="op" id="8296762">)</span>&nbsp;<span class="op" id="8296764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296769"><a href="/net/url/url_test.go.html#8296556">t</a></span><span class="op" id="8296770">.</span><span class="ident" id="8296771">Errorf</span><span class="op" id="8296777">(</span><span class="string" id="8296778">&#34;test&nbsp;%d:&nbsp;len(form)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8296812">,</span>&nbsp;<span class="ident" id="8296814"><a href="/net/url/url_test.go.html#8296577">i</a></span><span class="op" id="8296815">,</span>&nbsp;<span class="builtinfunc" id="8296817">len</span><span class="op" id="8296820">(</span><span class="ident" id="8296821"><a href="/net/url/url_test.go.html#8296609">form</a></span><span class="op" id="8296825">)</span><span class="op" id="8296826">,</span>&nbsp;<span class="builtinfunc" id="8296828">len</span><span class="op" id="8296831">(</span><span class="ident" id="8296832"><a href="/net/url/url_test.go.html#8296580">test</a></span><span class="op" id="8296836">.</span><span class="ident" id="8296837">out</span><span class="op" id="8296840">)</span><span class="op" id="8296841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296849">for</span>&nbsp;<span class="ident" id="8296853">k</span><span class="op" id="8296854">,</span>&nbsp;<span class="ident" id="8296856">evs</span>&nbsp;<span class="op" id="8296860">:=</span>&nbsp;<span class="keyword" id="8296863">range</span>&nbsp;<span class="ident" id="8296869"><a href="/net/url/url_test.go.html#8296580">test</a></span><span class="op" id="8296873">.</span><span class="ident" id="8296874">out</span>&nbsp;<span class="op" id="8296878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296883">vs</span><span class="op" id="8296885">,</span>&nbsp;<span class="ident" id="8296887">ok</span>&nbsp;<span class="op" id="8296890">:=</span>&nbsp;<span class="ident" id="8296893"><a href="/net/url/url_test.go.html#8296609">form</a></span><span class="op" id="8296897">[</span><span class="ident" id="8296898"><a href="/net/url/url_test.go.html#8296853">k</a></span><span class="op" id="8296899">]</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296904">if</span>&nbsp;<span class="op" id="8296907">!</span><span class="ident" id="8296908"><a href="/net/url/url_test.go.html#8296887">ok</a></span>&nbsp;<span class="op" id="8296911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296917"><a href="/net/url/url_test.go.html#8296556">t</a></span><span class="op" id="8296918">.</span><span class="ident" id="8296919">Errorf</span><span class="op" id="8296925">(</span><span class="string" id="8296926">&#34;test&nbsp;%d:&nbsp;Missing&nbsp;key&nbsp;%q&#34;</span><span class="op" id="8296951">,</span>&nbsp;<span class="ident" id="8296953"><a href="/net/url/url_test.go.html#8296577">i</a></span><span class="op" id="8296954">,</span>&nbsp;<span class="ident" id="8296956"><a href="/net/url/url_test.go.html#8296853">k</a></span><span class="op" id="8296957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296963">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296980">if</span>&nbsp;<span class="builtinfunc" id="8296983">len</span><span class="op" id="8296986">(</span><span class="ident" id="8296987"><a href="/net/url/url_test.go.html#8296883">vs</a></span><span class="op" id="8296989">)</span>&nbsp;<span class="op" id="8296991">!=</span>&nbsp;<span class="builtinfunc" id="8296994">len</span><span class="op" id="8296997">(</span><span class="ident" id="8296998"><a href="/net/url/url_test.go.html#8296856">evs</a></span><span class="op" id="8297001">)</span>&nbsp;<span class="op" id="8297003">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297009"><a href="/net/url/url_test.go.html#8296556">t</a></span><span class="op" id="8297010">.</span><span class="ident" id="8297011">Errorf</span><span class="op" id="8297017">(</span><span class="string" id="8297018">&#34;test&nbsp;%d:&nbsp;len(form[%q])&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8297056">,</span>&nbsp;<span class="ident" id="8297058"><a href="/net/url/url_test.go.html#8296577">i</a></span><span class="op" id="8297059">,</span>&nbsp;<span class="ident" id="8297061"><a href="/net/url/url_test.go.html#8296853">k</a></span><span class="op" id="8297062">,</span>&nbsp;<span class="builtinfunc" id="8297064">len</span><span class="op" id="8297067">(</span><span class="ident" id="8297068"><a href="/net/url/url_test.go.html#8296883">vs</a></span><span class="op" id="8297070">)</span><span class="op" id="8297071">,</span>&nbsp;<span class="builtinfunc" id="8297073">len</span><span class="op" id="8297076">(</span><span class="ident" id="8297077"><a href="/net/url/url_test.go.html#8296856">evs</a></span><span class="op" id="8297080">)</span><span class="op" id="8297081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297087">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297104">for</span>&nbsp;<span class="ident" id="8297108">j</span><span class="op" id="8297109">,</span>&nbsp;<span class="ident" id="8297111">ev</span>&nbsp;<span class="op" id="8297114">:=</span>&nbsp;<span class="keyword" id="8297117">range</span>&nbsp;<span class="ident" id="8297123"><a href="/net/url/url_test.go.html#8296856">evs</a></span>&nbsp;<span class="op" id="8297127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297133">if</span>&nbsp;<span class="ident" id="8297136">v</span>&nbsp;<span class="op" id="8297138">:=</span>&nbsp;<span class="ident" id="8297141"><a href="/net/url/url_test.go.html#8296883">vs</a></span><span class="op" id="8297143">[</span><span class="ident" id="8297144"><a href="/net/url/url_test.go.html#8297108">j</a></span><span class="op" id="8297145">]</span><span class="op" id="8297146">;</span>&nbsp;<span class="ident" id="8297148"><a href="/net/url/url_test.go.html#8297136">v</a></span>&nbsp;<span class="op" id="8297150">!=</span>&nbsp;<span class="ident" id="8297153"><a href="/net/url/url_test.go.html#8297111">ev</a></span>&nbsp;<span class="op" id="8297156">{</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297163"><a href="/net/url/url_test.go.html#8296556">t</a></span><span class="op" id="8297164">.</span><span class="ident" id="8297165">Errorf</span><span class="op" id="8297171">(</span><span class="string" id="8297172">&#34;test&nbsp;%d:&nbsp;form[%q][%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8297209">,</span>&nbsp;<span class="ident" id="8297211"><a href="/net/url/url_test.go.html#8296577">i</a></span><span class="op" id="8297212">,</span>&nbsp;<span class="ident" id="8297214"><a href="/net/url/url_test.go.html#8296853">k</a></span><span class="op" id="8297215">,</span>&nbsp;<span class="ident" id="8297217"><a href="/net/url/url_test.go.html#8297108">j</a></span><span class="op" id="8297218">,</span>&nbsp;<span class="ident" id="8297220"><a href="/net/url/url_test.go.html#8297136">v</a></span><span class="op" id="8297221">,</span>&nbsp;<span class="ident" id="8297223"><a href="/net/url/url_test.go.html#8297111">ev</a></span><span class="op" id="8297225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297243">}</span><br>
<span class="lineno">830</span><span class="op" id="8297245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8297248">type</span>&nbsp;<span class="ident" id="8297253">RequestURITest</span>&nbsp;<span class="keyword" id="8297268">struct</span>&nbsp;<span class="op" id="8297275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297278">url</span>&nbsp;<span class="op" id="8297282">*</span><span class="ident" id="8297283"><a href="/net/url/url.go.html#3578383">URL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297288">out</span>&nbsp;<span class="builtintype" id="8297292">string</span><br>
<span class="lineno">835</span><span class="op" id="8297299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8297302">var</span>&nbsp;<span class="ident" id="8297306">requritests</span>&nbsp;<span class="op" id="8297318">=</span>&nbsp;<span class="op" id="8297320">[</span><span class="op" id="8297321">]</span><span class="ident" id="8297322"><a href="/net/url/url_test.go.html#8297253">RequestURITest</a></span><span class="op" id="8297336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297343">&amp;</span><span class="ident" id="8297344"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8297347">{</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297352">Scheme</span><span class="op" id="8297358">:</span>&nbsp;<span class="string" id="8297360">&#34;http&#34;</span><span class="op" id="8297366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297371">Host</span><span class="op" id="8297375">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8297379">&#34;example.com&#34;</span><span class="op" id="8297392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297397">Path</span><span class="op" id="8297401">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8297405">&#34;&#34;</span><span class="op" id="8297407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297411">}</span><span class="op" id="8297412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8297416">&#34;/&#34;</span><span class="op" id="8297419">,</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297422">}</span><span class="op" id="8297423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297430">&amp;</span><span class="ident" id="8297431"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8297434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297439">Scheme</span><span class="op" id="8297445">:</span>&nbsp;<span class="string" id="8297447">&#34;http&#34;</span><span class="op" id="8297453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297458">Host</span><span class="op" id="8297462">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8297466">&#34;example.com&#34;</span><span class="op" id="8297479">,</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297484">Path</span><span class="op" id="8297488">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8297492">&#34;/a&nbsp;b&#34;</span><span class="op" id="8297498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297502">}</span><span class="op" id="8297503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8297507">&#34;/a%20b&#34;</span><span class="op" id="8297515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297518">}</span><span class="op" id="8297519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8297522">//&nbsp;golang.org/issue/4860&nbsp;variant&nbsp;1</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297562">&amp;</span><span class="ident" id="8297563"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8297566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297571">Scheme</span><span class="op" id="8297577">:</span>&nbsp;<span class="string" id="8297579">&#34;http&#34;</span><span class="op" id="8297585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297590">Host</span><span class="op" id="8297594">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8297598">&#34;example.com&#34;</span><span class="op" id="8297611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297616">Opaque</span><span class="op" id="8297622">:</span>&nbsp;<span class="string" id="8297624">&#34;/%2F/%2F/&#34;</span><span class="op" id="8297635">,</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297639">}</span><span class="op" id="8297640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8297644">&#34;/%2F/%2F/&#34;</span><span class="op" id="8297655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297658">}</span><span class="op" id="8297659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8297662">//&nbsp;golang.org/issue/4860&nbsp;variant&nbsp;2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297698">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297702">&amp;</span><span class="ident" id="8297703"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8297706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297711">Scheme</span><span class="op" id="8297717">:</span>&nbsp;<span class="string" id="8297719">&#34;http&#34;</span><span class="op" id="8297725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297730">Host</span><span class="op" id="8297734">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8297738">&#34;example.com&#34;</span><span class="op" id="8297751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297756">Opaque</span><span class="op" id="8297762">:</span>&nbsp;<span class="string" id="8297764">&#34;//other.example.com/%2F/%2F/&#34;</span><span class="op" id="8297794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297798">}</span><span class="op" id="8297799">,</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8297803">&#34;http://other.example.com/%2F/%2F/&#34;</span><span class="op" id="8297838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297841">}</span><span class="op" id="8297842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297849">&amp;</span><span class="ident" id="8297850"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8297853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297858">Scheme</span><span class="op" id="8297864">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8297868">&#34;http&#34;</span><span class="op" id="8297874">,</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297879">Host</span><span class="op" id="8297883">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8297889">&#34;example.com&#34;</span><span class="op" id="8297902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297907">Path</span><span class="op" id="8297911">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8297917">&#34;/a&nbsp;b&#34;</span><span class="op" id="8297923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297928">RawQuery</span><span class="op" id="8297936">:</span>&nbsp;<span class="string" id="8297938">&#34;q=go+language&#34;</span><span class="op" id="8297953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297957">}</span><span class="op" id="8297958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8297962">&#34;/a%20b?q=go+language&#34;</span><span class="op" id="8297984">,</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297987">}</span><span class="op" id="8297988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297995">&amp;</span><span class="ident" id="8297996"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8297999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298004">Scheme</span><span class="op" id="8298010">:</span>&nbsp;<span class="string" id="8298012">&#34;myschema&#34;</span><span class="op" id="8298022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298027">Opaque</span><span class="op" id="8298033">:</span>&nbsp;<span class="string" id="8298035">&#34;opaque&#34;</span><span class="op" id="8298043">,</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298047">}</span><span class="op" id="8298048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8298052">&#34;opaque&#34;</span><span class="op" id="8298060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298063">}</span><span class="op" id="8298064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298071">&amp;</span><span class="ident" id="8298072"><a href="/net/url/url.go.html#3578383">URL</a></span><span class="op" id="8298075">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298080">Scheme</span><span class="op" id="8298086">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8298090">&#34;myschema&#34;</span><span class="op" id="8298100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298105">Opaque</span><span class="op" id="8298111">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8298115">&#34;opaque&#34;</span><span class="op" id="8298123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298128">RawQuery</span><span class="op" id="8298136">:</span>&nbsp;<span class="string" id="8298138">&#34;q=go+language&#34;</span><span class="op" id="8298153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298157">}</span><span class="op" id="8298158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8298162">&#34;opaque?q=go+language&#34;</span><span class="op" id="8298184">,</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298187">}</span><span class="op" id="8298188">,</span><br>
<span class="lineno"></span><span class="op" id="8298190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8298193">func</span>&nbsp;<span class="ident" id="8298198">TestRequestURI</span><span class="op" id="8298212">(</span><span class="ident" id="8298213">t</span>&nbsp;<span class="op" id="8298215">*</span><span class="ident" id="8298216"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8298223">.</span><span class="ident" id="8298224">T</span><span class="op" id="8298225">)</span>&nbsp;<span class="op" id="8298227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298230">for</span>&nbsp;<span class="ident" id="8298234">_</span><span class="op" id="8298235">,</span>&nbsp;<span class="ident" id="8298237">tt</span>&nbsp;<span class="op" id="8298240">:=</span>&nbsp;<span class="keyword" id="8298243">range</span>&nbsp;<span class="ident" id="8298249"><a href="/net/url/url_test.go.html#8297306">requritests</a></span>&nbsp;<span class="op" id="8298261">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298265">s</span>&nbsp;<span class="op" id="8298267">:=</span>&nbsp;<span class="ident" id="8298270"><a href="/net/url/url_test.go.html#8298237">tt</a></span><span class="op" id="8298272">.</span><span class="ident" id="8298273">url</span><span class="op" id="8298276">.</span><span class="ident" id="8298277">RequestURI</span><span class="op" id="8298287">(</span><span class="op" id="8298288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298292">if</span>&nbsp;<span class="ident" id="8298295"><a href="/net/url/url_test.go.html#8298265">s</a></span>&nbsp;<span class="op" id="8298297">!=</span>&nbsp;<span class="ident" id="8298300"><a href="/net/url/url_test.go.html#8298237">tt</a></span><span class="op" id="8298302">.</span><span class="ident" id="8298303">out</span>&nbsp;<span class="op" id="8298307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298312"><a href="/net/url/url_test.go.html#8298213">t</a></span><span class="op" id="8298313">.</span><span class="ident" id="8298314">Errorf</span><span class="op" id="8298320">(</span><span class="string" id="8298321">&#34;%#v.RequestURI()&nbsp;==&nbsp;%q&nbsp;(expected&nbsp;%q)&#34;</span><span class="op" id="8298359">,</span>&nbsp;<span class="ident" id="8298361"><a href="/net/url/url_test.go.html#8298237">tt</a></span><span class="op" id="8298363">.</span><span class="ident" id="8298364">url</span><span class="op" id="8298367">,</span>&nbsp;<span class="ident" id="8298369"><a href="/net/url/url_test.go.html#8298265">s</a></span><span class="op" id="8298370">,</span>&nbsp;<span class="ident" id="8298372"><a href="/net/url/url_test.go.html#8298237">tt</a></span><span class="op" id="8298374">.</span><span class="ident" id="8298375">out</span><span class="op" id="8298378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298385">}</span><br>
<span class="lineno">905</span><span class="op" id="8298387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8298390">func</span>&nbsp;<span class="ident" id="8298395">TestParseFailure</span><span class="op" id="8298411">(</span><span class="ident" id="8298412">t</span>&nbsp;<span class="op" id="8298414">*</span><span class="ident" id="8298415"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8298422">.</span><span class="ident" id="8298423">T</span><span class="op" id="8298424">)</span>&nbsp;<span class="op" id="8298426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8298429">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;first&nbsp;parse&nbsp;error&nbsp;is&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298478">const</span>&nbsp;<span class="ident" id="8298484">url</span>&nbsp;<span class="op" id="8298488">=</span>&nbsp;<span class="string" id="8298490">&#34;%gh&amp;%ij&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298501">_</span><span class="op" id="8298502">,</span>&nbsp;<span class="ident" id="8298504">err</span>&nbsp;<span class="op" id="8298508">:=</span>&nbsp;<span class="ident" id="8298511"><a href="/net/url/url.go.html#3587097">ParseQuery</a></span><span class="op" id="8298521">(</span><span class="ident" id="8298522"><a href="/net/url/url_test.go.html#8298484">url</a></span><span class="op" id="8298525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298528">errStr</span>&nbsp;<span class="op" id="8298535">:=</span>&nbsp;<span class="ident" id="8298538"><a href="/net/url/url_test.go.html#8276900">fmt</a></span><span class="op" id="8298541">.</span><span class="ident" id="8298542">Sprint</span><span class="op" id="8298548">(</span><span class="ident" id="8298549"><a href="/net/url/url_test.go.html#8298504">err</a></span><span class="op" id="8298552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298555">if</span>&nbsp;<span class="op" id="8298558">!</span><span class="ident" id="8298559"><a href="/net/url/url_test.go.html#8276918">strings</a></span><span class="op" id="8298566">.</span><span class="ident" id="8298567">Contains</span><span class="op" id="8298575">(</span><span class="ident" id="8298576"><a href="/net/url/url_test.go.html#8298528">errStr</a></span><span class="op" id="8298582">,</span>&nbsp;<span class="string" id="8298584">&#34;%gh&#34;</span><span class="op" id="8298589">)</span>&nbsp;<span class="op" id="8298591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298595"><a href="/net/url/url_test.go.html#8298412">t</a></span><span class="op" id="8298596">.</span><span class="ident" id="8298597">Errorf</span><span class="op" id="8298603">(</span><span class="string" id="8298604">`ParseQuery(%q)&nbsp;returned&nbsp;error&nbsp;%q,&nbsp;want&nbsp;something&nbsp;containing&nbsp;%q&#34;`</span><span class="op" id="8298669">,</span>&nbsp;<span class="ident" id="8298671"><a href="/net/url/url_test.go.html#8298484">url</a></span><span class="op" id="8298674">,</span>&nbsp;<span class="ident" id="8298676"><a href="/net/url/url_test.go.html#8298528">errStr</a></span><span class="op" id="8298682">,</span>&nbsp;<span class="string" id="8298684">&#34;%gh&#34;</span><span class="op" id="8298689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298692">}</span><br>
<span class="lineno">915</span><span class="op" id="8298694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8298697">type</span>&nbsp;<span class="ident" id="8298702">shouldEscapeTest</span>&nbsp;<span class="keyword" id="8298719">struct</span>&nbsp;<span class="op" id="8298726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298729">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8298736">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298742">mode</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8298749"><a href="/net/url/url.go.html#3573773">encoding</a></span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298759">escape</span>&nbsp;<span class="builtintype" id="8298766">bool</span><br>
<span class="lineno"></span><span class="op" id="8298771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8298774">var</span>&nbsp;<span class="ident" id="8298778">shouldEscapeTests</span>&nbsp;<span class="op" id="8298796">=</span>&nbsp;<span class="op" id="8298798">[</span><span class="op" id="8298799">]</span><span class="ident" id="8298800"><a href="/net/url/url_test.go.html#8298702">shouldEscapeTest</a></span><span class="op" id="8298816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8298819">//&nbsp;Unreserved&nbsp;characters&nbsp;(§2.3)</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298853">{</span><span class="string" id="8298854">&#39;a&#39;</span><span class="op" id="8298857">,</span>&nbsp;<span class="ident" id="8298859"><a href="/net/url/url.go.html#3573796">encodePath</a></span><span class="op" id="8298869">,</span>&nbsp;<span class="builtintype" id="8298871">false</span><span class="op" id="8298876">}</span><span class="op" id="8298877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298880">{</span><span class="string" id="8298881">&#39;a&#39;</span><span class="op" id="8298884">,</span>&nbsp;<span class="ident" id="8298886"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8298904">,</span>&nbsp;<span class="builtintype" id="8298906">false</span><span class="op" id="8298911">}</span><span class="op" id="8298912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298915">{</span><span class="string" id="8298916">&#39;a&#39;</span><span class="op" id="8298919">,</span>&nbsp;<span class="ident" id="8298921"><a href="/net/url/url.go.html#3573848">encodeQueryComponent</a></span><span class="op" id="8298941">,</span>&nbsp;<span class="builtintype" id="8298943">false</span><span class="op" id="8298948">}</span><span class="op" id="8298949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298952">{</span><span class="string" id="8298953">&#39;a&#39;</span><span class="op" id="8298956">,</span>&nbsp;<span class="ident" id="8298958"><a href="/net/url/url.go.html#3573870">encodeFragment</a></span><span class="op" id="8298972">,</span>&nbsp;<span class="builtintype" id="8298974">false</span><span class="op" id="8298979">}</span><span class="op" id="8298980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298983">{</span><span class="string" id="8298984">&#39;z&#39;</span><span class="op" id="8298987">,</span>&nbsp;<span class="ident" id="8298989"><a href="/net/url/url.go.html#3573796">encodePath</a></span><span class="op" id="8298999">,</span>&nbsp;<span class="builtintype" id="8299001">false</span><span class="op" id="8299006">}</span><span class="op" id="8299007">,</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299010">{</span><span class="string" id="8299011">&#39;A&#39;</span><span class="op" id="8299014">,</span>&nbsp;<span class="ident" id="8299016"><a href="/net/url/url.go.html#3573796">encodePath</a></span><span class="op" id="8299026">,</span>&nbsp;<span class="builtintype" id="8299028">false</span><span class="op" id="8299033">}</span><span class="op" id="8299034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299037">{</span><span class="string" id="8299038">&#39;Z&#39;</span><span class="op" id="8299041">,</span>&nbsp;<span class="ident" id="8299043"><a href="/net/url/url.go.html#3573796">encodePath</a></span><span class="op" id="8299053">,</span>&nbsp;<span class="builtintype" id="8299055">false</span><span class="op" id="8299060">}</span><span class="op" id="8299061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299064">{</span><span class="string" id="8299065">&#39;0&#39;</span><span class="op" id="8299068">,</span>&nbsp;<span class="ident" id="8299070"><a href="/net/url/url.go.html#3573796">encodePath</a></span><span class="op" id="8299080">,</span>&nbsp;<span class="builtintype" id="8299082">false</span><span class="op" id="8299087">}</span><span class="op" id="8299088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299091">{</span><span class="string" id="8299092">&#39;9&#39;</span><span class="op" id="8299095">,</span>&nbsp;<span class="ident" id="8299097"><a href="/net/url/url.go.html#3573796">encodePath</a></span><span class="op" id="8299107">,</span>&nbsp;<span class="builtintype" id="8299109">false</span><span class="op" id="8299114">}</span><span class="op" id="8299115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299118">{</span><span class="string" id="8299119">&#39;-&#39;</span><span class="op" id="8299122">,</span>&nbsp;<span class="ident" id="8299124"><a href="/net/url/url.go.html#3573796">encodePath</a></span><span class="op" id="8299134">,</span>&nbsp;<span class="builtintype" id="8299136">false</span><span class="op" id="8299141">}</span><span class="op" id="8299142">,</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299145">{</span><span class="string" id="8299146">&#39;-&#39;</span><span class="op" id="8299149">,</span>&nbsp;<span class="ident" id="8299151"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299169">,</span>&nbsp;<span class="builtintype" id="8299171">false</span><span class="op" id="8299176">}</span><span class="op" id="8299177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299180">{</span><span class="string" id="8299181">&#39;-&#39;</span><span class="op" id="8299184">,</span>&nbsp;<span class="ident" id="8299186"><a href="/net/url/url.go.html#3573848">encodeQueryComponent</a></span><span class="op" id="8299206">,</span>&nbsp;<span class="builtintype" id="8299208">false</span><span class="op" id="8299213">}</span><span class="op" id="8299214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299217">{</span><span class="string" id="8299218">&#39;-&#39;</span><span class="op" id="8299221">,</span>&nbsp;<span class="ident" id="8299223"><a href="/net/url/url.go.html#3573870">encodeFragment</a></span><span class="op" id="8299237">,</span>&nbsp;<span class="builtintype" id="8299239">false</span><span class="op" id="8299244">}</span><span class="op" id="8299245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299248">{</span><span class="string" id="8299249">&#39;.&#39;</span><span class="op" id="8299252">,</span>&nbsp;<span class="ident" id="8299254"><a href="/net/url/url.go.html#3573796">encodePath</a></span><span class="op" id="8299264">,</span>&nbsp;<span class="builtintype" id="8299266">false</span><span class="op" id="8299271">}</span><span class="op" id="8299272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299275">{</span><span class="string" id="8299276">&#39;_&#39;</span><span class="op" id="8299279">,</span>&nbsp;<span class="ident" id="8299281"><a href="/net/url/url.go.html#3573796">encodePath</a></span><span class="op" id="8299291">,</span>&nbsp;<span class="builtintype" id="8299293">false</span><span class="op" id="8299298">}</span><span class="op" id="8299299">,</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299302">{</span><span class="string" id="8299303">&#39;~&#39;</span><span class="op" id="8299306">,</span>&nbsp;<span class="ident" id="8299308"><a href="/net/url/url.go.html#3573796">encodePath</a></span><span class="op" id="8299318">,</span>&nbsp;<span class="builtintype" id="8299320">false</span><span class="op" id="8299325">}</span><span class="op" id="8299326">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8299330">//&nbsp;User&nbsp;information&nbsp;(§3.2.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299361">{</span><span class="string" id="8299362">&#39;:&#39;</span><span class="op" id="8299365">,</span>&nbsp;<span class="ident" id="8299367"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299385">,</span>&nbsp;<span class="builtintype" id="8299387">true</span><span class="op" id="8299391">}</span><span class="op" id="8299392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299395">{</span><span class="string" id="8299396">&#39;/&#39;</span><span class="op" id="8299399">,</span>&nbsp;<span class="ident" id="8299401"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299419">,</span>&nbsp;<span class="builtintype" id="8299421">true</span><span class="op" id="8299425">}</span><span class="op" id="8299426">,</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299429">{</span><span class="string" id="8299430">&#39;?&#39;</span><span class="op" id="8299433">,</span>&nbsp;<span class="ident" id="8299435"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299453">,</span>&nbsp;<span class="builtintype" id="8299455">true</span><span class="op" id="8299459">}</span><span class="op" id="8299460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299463">{</span><span class="string" id="8299464">&#39;@&#39;</span><span class="op" id="8299467">,</span>&nbsp;<span class="ident" id="8299469"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299487">,</span>&nbsp;<span class="builtintype" id="8299489">true</span><span class="op" id="8299493">}</span><span class="op" id="8299494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299497">{</span><span class="string" id="8299498">&#39;$&#39;</span><span class="op" id="8299501">,</span>&nbsp;<span class="ident" id="8299503"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299521">,</span>&nbsp;<span class="builtintype" id="8299523">false</span><span class="op" id="8299528">}</span><span class="op" id="8299529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299532">{</span><span class="string" id="8299533">&#39;&amp;&#39;</span><span class="op" id="8299536">,</span>&nbsp;<span class="ident" id="8299538"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299556">,</span>&nbsp;<span class="builtintype" id="8299558">false</span><span class="op" id="8299563">}</span><span class="op" id="8299564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299567">{</span><span class="string" id="8299568">&#39;+&#39;</span><span class="op" id="8299571">,</span>&nbsp;<span class="ident" id="8299573"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299591">,</span>&nbsp;<span class="builtintype" id="8299593">false</span><span class="op" id="8299598">}</span><span class="op" id="8299599">,</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299602">{</span><span class="string" id="8299603">&#39;,&#39;</span><span class="op" id="8299606">,</span>&nbsp;<span class="ident" id="8299608"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299626">,</span>&nbsp;<span class="builtintype" id="8299628">false</span><span class="op" id="8299633">}</span><span class="op" id="8299634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299637">{</span><span class="string" id="8299638">&#39;;&#39;</span><span class="op" id="8299641">,</span>&nbsp;<span class="ident" id="8299643"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299661">,</span>&nbsp;<span class="builtintype" id="8299663">false</span><span class="op" id="8299668">}</span><span class="op" id="8299669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299672">{</span><span class="string" id="8299673">&#39;=&#39;</span><span class="op" id="8299676">,</span>&nbsp;<span class="ident" id="8299678"><a href="/net/url/url.go.html#3573828">encodeUserPassword</a></span><span class="op" id="8299696">,</span>&nbsp;<span class="builtintype" id="8299698">false</span><span class="op" id="8299703">}</span><span class="op" id="8299704">,</span><br>
<span class="lineno"></span><span class="op" id="8299706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">955</span><span class="keyword" id="8299709">func</span>&nbsp;<span class="ident" id="8299714">TestShouldEscape</span><span class="op" id="8299730">(</span><span class="ident" id="8299731">t</span>&nbsp;<span class="op" id="8299733">*</span><span class="ident" id="8299734"><a href="/net/url/url_test.go.html#8276929">testing</a></span><span class="op" id="8299741">.</span><span class="ident" id="8299742">T</span><span class="op" id="8299743">)</span>&nbsp;<span class="op" id="8299745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299748">for</span>&nbsp;<span class="ident" id="8299752">_</span><span class="op" id="8299753">,</span>&nbsp;<span class="ident" id="8299755">tt</span>&nbsp;<span class="op" id="8299758">:=</span>&nbsp;<span class="keyword" id="8299761">range</span>&nbsp;<span class="ident" id="8299767"><a href="/net/url/url_test.go.html#8298778">shouldEscapeTests</a></span>&nbsp;<span class="op" id="8299785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299789">if</span>&nbsp;<span class="ident" id="8299792"><a href="/net/url/url.go.html#3574134">shouldEscape</a></span><span class="op" id="8299804">(</span><span class="ident" id="8299805"><a href="/net/url/url_test.go.html#8299755">tt</a></span><span class="op" id="8299807">.</span><span class="ident" id="8299808">in</span><span class="op" id="8299810">,</span>&nbsp;<span class="ident" id="8299812"><a href="/net/url/url_test.go.html#8299755">tt</a></span><span class="op" id="8299814">.</span><span class="ident" id="8299815">mode</span><span class="op" id="8299819">)</span>&nbsp;<span class="op" id="8299821">!=</span>&nbsp;<span class="ident" id="8299824"><a href="/net/url/url_test.go.html#8299755">tt</a></span><span class="op" id="8299826">.</span><span class="ident" id="8299827">escape</span>&nbsp;<span class="op" id="8299834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299839"><a href="/net/url/url_test.go.html#8299731">t</a></span><span class="op" id="8299840">.</span><span class="ident" id="8299841">Errorf</span><span class="op" id="8299847">(</span><span class="string" id="8299848">&#34;shouldEscape(%q,&nbsp;%v)&nbsp;returned&nbsp;%v;&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="8299895">,</span>&nbsp;<span class="ident" id="8299897"><a href="/net/url/url_test.go.html#8299755">tt</a></span><span class="op" id="8299899">.</span><span class="ident" id="8299900">in</span><span class="op" id="8299902">,</span>&nbsp;<span class="ident" id="8299904"><a href="/net/url/url_test.go.html#8299755">tt</a></span><span class="op" id="8299906">.</span><span class="ident" id="8299907">mode</span><span class="op" id="8299911">,</span>&nbsp;<span class="op" id="8299913">!</span><span class="ident" id="8299914"><a href="/net/url/url_test.go.html#8299755">tt</a></span><span class="op" id="8299916">.</span><span class="ident" id="8299917">escape</span><span class="op" id="8299923">,</span>&nbsp;<span class="ident" id="8299925"><a href="/net/url/url_test.go.html#8299755">tt</a></span><span class="op" id="8299927">.</span><span class="ident" id="8299928">escape</span><span class="op" id="8299934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299938">}</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299941">}</span><br>
<span class="lineno"></span><span class="op" id="8299943">}</span>
</div>
</body>
</html>
