<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html" class="current">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3292320">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3292375">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3292429">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3292480">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3292540">package</span>&nbsp;<span class="ident" id="3292548">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3292558">import</span>&nbsp;<span class="op" id="3292565">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3292568">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3292575">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3292588">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="3292604">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3292607">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3292653">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="3292734">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="3292808">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="3292835">//&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="3292896">func</span>&nbsp;<span class="ident" id="3292901">Must</span><span class="op" id="3292905">(</span><span class="ident" id="3292906">t</span>&nbsp;<span class="op" id="3292908">*</span><span class="ident" id="3292909">Template</span><span class="op" id="3292917">,</span>&nbsp;<span class="ident" id="3292919">err</span>&nbsp;<span class="builtintype" id="3292923">error</span><span class="op" id="3292928">)</span>&nbsp;<span class="op" id="3292930">*</span><span class="ident" id="3292931">Template</span>&nbsp;<span class="op" id="3292940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3292943">if</span>&nbsp;<span class="ident" id="3292946">err</span>&nbsp;<span class="op" id="3292950">!=</span>&nbsp;<span class="builtintype" id="3292953">nil</span>&nbsp;<span class="op" id="3292957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3292961">panic</span><span class="op" id="3292966">(</span><span class="ident" id="3292967">err</span><span class="op" id="3292970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3292973">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3292976">return</span>&nbsp;<span class="ident" id="3292983">t</span><br>
<span class="lineno"></span><span class="op" id="3292985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3292988">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="3293066">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="3293145">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="3293218">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="3293290">func</span>&nbsp;<span class="ident" id="3293295">ParseFiles</span><span class="op" id="3293305">(</span><span class="ident" id="3293306">filenames</span>&nbsp;<span class="op" id="3293316">...</span><span class="builtintype" id="3293319">string</span><span class="op" id="3293325">)</span>&nbsp;<span class="op" id="3293327">(</span><span class="op" id="3293328">*</span><span class="ident" id="3293329">Template</span><span class="op" id="3293337">,</span>&nbsp;<span class="builtintype" id="3293339">error</span><span class="op" id="3293344">)</span>&nbsp;<span class="op" id="3293346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3293349">return</span>&nbsp;<span class="ident" id="3293356">parseFiles</span><span class="op" id="3293366">(</span><span class="builtintype" id="3293367">nil</span><span class="op" id="3293370">,</span>&nbsp;<span class="ident" id="3293372">filenames</span><span class="op" id="3293381">...</span><span class="op" id="3293384">)</span><br>
<span class="lineno"></span><span class="op" id="3293386">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3293389">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3293470">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="3293544">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="3293599">func</span>&nbsp;<span class="op" id="3293604">(</span><span class="ident" id="3293605">t</span>&nbsp;<span class="op" id="3293607">*</span><span class="ident" id="3293608">Template</span><span class="op" id="3293616">)</span>&nbsp;<span class="ident" id="3293618">ParseFiles</span><span class="op" id="3293628">(</span><span class="ident" id="3293629">filenames</span>&nbsp;<span class="op" id="3293639">...</span><span class="builtintype" id="3293642">string</span><span class="op" id="3293648">)</span>&nbsp;<span class="op" id="3293650">(</span><span class="op" id="3293651">*</span><span class="ident" id="3293652">Template</span><span class="op" id="3293660">,</span>&nbsp;<span class="builtintype" id="3293662">error</span><span class="op" id="3293667">)</span>&nbsp;<span class="op" id="3293669">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3293672">return</span>&nbsp;<span class="ident" id="3293679">parseFiles</span><span class="op" id="3293689">(</span><span class="ident" id="3293690">t</span><span class="op" id="3293691">,</span>&nbsp;<span class="ident" id="3293693">filenames</span><span class="op" id="3293702">...</span><span class="op" id="3293705">)</span><br>
<span class="lineno"></span><span class="op" id="3293707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3293710">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="3293783">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="3293838">func</span>&nbsp;<span class="ident" id="3293843">parseFiles</span><span class="op" id="3293853">(</span><span class="ident" id="3293854">t</span>&nbsp;<span class="op" id="3293856">*</span><span class="ident" id="3293857">Template</span><span class="op" id="3293865">,</span>&nbsp;<span class="ident" id="3293867">filenames</span>&nbsp;<span class="op" id="3293877">...</span><span class="builtintype" id="3293880">string</span><span class="op" id="3293886">)</span>&nbsp;<span class="op" id="3293888">(</span><span class="op" id="3293889">*</span><span class="ident" id="3293890">Template</span><span class="op" id="3293898">,</span>&nbsp;<span class="builtintype" id="3293900">error</span><span class="op" id="3293905">)</span>&nbsp;<span class="op" id="3293907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3293910">if</span>&nbsp;<span class="builtinfunc" id="3293913">len</span><span class="op" id="3293916">(</span><span class="ident" id="3293917">filenames</span><span class="op" id="3293926">)</span>&nbsp;<span class="op" id="3293928">==</span>&nbsp;<span class="num" id="3293931">0</span>&nbsp;<span class="op" id="3293933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3293937">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3293983">return</span>&nbsp;<span class="builtintype" id="3293990">nil</span><span class="op" id="3293993">,</span>&nbsp;<span class="ident" id="3293995">fmt</span><span class="op" id="3293998">.</span><span class="ident" id="3293999">Errorf</span><span class="op" id="3294005">(</span><span class="string" id="3294006">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="3294054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3294057">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3294060">for</span>&nbsp;<span class="ident" id="3294064">_</span><span class="op" id="3294065">,</span>&nbsp;<span class="ident" id="3294067">filename</span>&nbsp;<span class="op" id="3294076">:=</span>&nbsp;<span class="keyword" id="3294079">range</span>&nbsp;<span class="ident" id="3294085">filenames</span>&nbsp;<span class="op" id="3294095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3294099">b</span><span class="op" id="3294100">,</span>&nbsp;<span class="ident" id="3294102">err</span>&nbsp;<span class="op" id="3294106">:=</span>&nbsp;<span class="ident" id="3294109">ioutil</span><span class="op" id="3294115">.</span><span class="ident" id="3294116">ReadFile</span><span class="op" id="3294124">(</span><span class="ident" id="3294125">filename</span><span class="op" id="3294133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3294137">if</span>&nbsp;<span class="ident" id="3294140">err</span>&nbsp;<span class="op" id="3294144">!=</span>&nbsp;<span class="builtintype" id="3294147">nil</span>&nbsp;<span class="op" id="3294151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3294156">return</span>&nbsp;<span class="builtintype" id="3294163">nil</span><span class="op" id="3294166">,</span>&nbsp;<span class="ident" id="3294168">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3294174">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3294178">s</span>&nbsp;<span class="op" id="3294180">:=</span>&nbsp;<span class="builtintype" id="3294183">string</span><span class="op" id="3294189">(</span><span class="ident" id="3294190">b</span><span class="op" id="3294191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3294195">name</span>&nbsp;<span class="op" id="3294200">:=</span>&nbsp;<span class="ident" id="3294203">filepath</span><span class="op" id="3294211">.</span><span class="ident" id="3294212">Base</span><span class="op" id="3294216">(</span><span class="ident" id="3294217">filename</span><span class="op" id="3294225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3294229">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3294294">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3294357">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3294427">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3294478">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3294532">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3294598">var</span>&nbsp;<span class="ident" id="3294602">tmpl</span>&nbsp;<span class="op" id="3294607">*</span><span class="ident" id="3294608">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3294619">if</span>&nbsp;<span class="ident" id="3294622">t</span>&nbsp;<span class="op" id="3294624">==</span>&nbsp;<span class="builtintype" id="3294627">nil</span>&nbsp;<span class="op" id="3294631">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3294636">t</span>&nbsp;<span class="op" id="3294638">=</span>&nbsp;<span class="ident" id="3294640">New</span><span class="op" id="3294643">(</span><span class="ident" id="3294644">name</span><span class="op" id="3294648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3294652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3294656">if</span>&nbsp;<span class="ident" id="3294659">name</span>&nbsp;<span class="op" id="3294664">==</span>&nbsp;<span class="ident" id="3294667">t</span><span class="op" id="3294668">.</span><span class="ident" id="3294669">Name</span><span class="op" id="3294673">(</span><span class="op" id="3294674">)</span>&nbsp;<span class="op" id="3294676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3294681">tmpl</span>&nbsp;<span class="op" id="3294686">=</span>&nbsp;<span class="ident" id="3294688">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3294692">}</span>&nbsp;<span class="keyword" id="3294694">else</span>&nbsp;<span class="op" id="3294699">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3294704">tmpl</span>&nbsp;<span class="op" id="3294709">=</span>&nbsp;<span class="ident" id="3294711">t</span><span class="op" id="3294712">.</span><span class="ident" id="3294713">New</span><span class="op" id="3294716">(</span><span class="ident" id="3294717">name</span><span class="op" id="3294721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3294725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3294729">_</span><span class="op" id="3294730">,</span>&nbsp;<span class="ident" id="3294732">err</span>&nbsp;<span class="op" id="3294736">=</span>&nbsp;<span class="ident" id="3294738">tmpl</span><span class="op" id="3294742">.</span><span class="ident" id="3294743">Parse</span><span class="op" id="3294748">(</span><span class="ident" id="3294749">s</span><span class="op" id="3294750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3294754">if</span>&nbsp;<span class="ident" id="3294757">err</span>&nbsp;<span class="op" id="3294761">!=</span>&nbsp;<span class="builtintype" id="3294764">nil</span>&nbsp;<span class="op" id="3294768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3294773">return</span>&nbsp;<span class="builtintype" id="3294780">nil</span><span class="op" id="3294783">,</span>&nbsp;<span class="ident" id="3294785">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3294791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3294794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3294797">return</span>&nbsp;<span class="ident" id="3294804">t</span><span class="op" id="3294805">,</span>&nbsp;<span class="builtintype" id="3294807">nil</span><br>
<span class="lineno"></span><span class="op" id="3294811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="3294814">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3294895">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3294971">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3295047">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="3295120">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="3295181">func</span>&nbsp;<span class="ident" id="3295186">ParseGlob</span><span class="op" id="3295195">(</span><span class="ident" id="3295196">pattern</span>&nbsp;<span class="builtintype" id="3295204">string</span><span class="op" id="3295210">)</span>&nbsp;<span class="op" id="3295212">(</span><span class="op" id="3295213">*</span><span class="ident" id="3295214">Template</span><span class="op" id="3295222">,</span>&nbsp;<span class="builtintype" id="3295224">error</span><span class="op" id="3295229">)</span>&nbsp;<span class="op" id="3295231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3295234">return</span>&nbsp;<span class="ident" id="3295241">parseGlob</span><span class="op" id="3295250">(</span><span class="builtintype" id="3295251">nil</span><span class="op" id="3295254">,</span>&nbsp;<span class="ident" id="3295256">pattern</span><span class="op" id="3295263">)</span><br>
<span class="lineno"></span><span class="op" id="3295265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3295268">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="3295344">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3295417">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3295494">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3295570">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="3295582">func</span>&nbsp;<span class="op" id="3295587">(</span><span class="ident" id="3295588">t</span>&nbsp;<span class="op" id="3295590">*</span><span class="ident" id="3295591">Template</span><span class="op" id="3295599">)</span>&nbsp;<span class="ident" id="3295601">ParseGlob</span><span class="op" id="3295610">(</span><span class="ident" id="3295611">pattern</span>&nbsp;<span class="builtintype" id="3295619">string</span><span class="op" id="3295625">)</span>&nbsp;<span class="op" id="3295627">(</span><span class="op" id="3295628">*</span><span class="ident" id="3295629">Template</span><span class="op" id="3295637">,</span>&nbsp;<span class="builtintype" id="3295639">error</span><span class="op" id="3295644">)</span>&nbsp;<span class="op" id="3295646">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3295649">return</span>&nbsp;<span class="ident" id="3295656">parseGlob</span><span class="op" id="3295665">(</span><span class="ident" id="3295666">t</span><span class="op" id="3295667">,</span>&nbsp;<span class="ident" id="3295669">pattern</span><span class="op" id="3295676">)</span><br>
<span class="lineno"></span><span class="op" id="3295678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3295681">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="3295754">func</span>&nbsp;<span class="ident" id="3295759">parseGlob</span><span class="op" id="3295768">(</span><span class="ident" id="3295769">t</span>&nbsp;<span class="op" id="3295771">*</span><span class="ident" id="3295772">Template</span><span class="op" id="3295780">,</span>&nbsp;<span class="ident" id="3295782">pattern</span>&nbsp;<span class="builtintype" id="3295790">string</span><span class="op" id="3295796">)</span>&nbsp;<span class="op" id="3295798">(</span><span class="op" id="3295799">*</span><span class="ident" id="3295800">Template</span><span class="op" id="3295808">,</span>&nbsp;<span class="builtintype" id="3295810">error</span><span class="op" id="3295815">)</span>&nbsp;<span class="op" id="3295817">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3295820">filenames</span><span class="op" id="3295829">,</span>&nbsp;<span class="ident" id="3295831">err</span>&nbsp;<span class="op" id="3295835">:=</span>&nbsp;<span class="ident" id="3295838">filepath</span><span class="op" id="3295846">.</span><span class="ident" id="3295847">Glob</span><span class="op" id="3295851">(</span><span class="ident" id="3295852">pattern</span><span class="op" id="3295859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3295862">if</span>&nbsp;<span class="ident" id="3295865">err</span>&nbsp;<span class="op" id="3295869">!=</span>&nbsp;<span class="builtintype" id="3295872">nil</span>&nbsp;<span class="op" id="3295876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3295880">return</span>&nbsp;<span class="builtintype" id="3295887">nil</span><span class="op" id="3295890">,</span>&nbsp;<span class="ident" id="3295892">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3295897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3295900">if</span>&nbsp;<span class="builtinfunc" id="3295903">len</span><span class="op" id="3295906">(</span><span class="ident" id="3295907">filenames</span><span class="op" id="3295916">)</span>&nbsp;<span class="op" id="3295918">==</span>&nbsp;<span class="num" id="3295921">0</span>&nbsp;<span class="op" id="3295923">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3295927">return</span>&nbsp;<span class="builtintype" id="3295934">nil</span><span class="op" id="3295937">,</span>&nbsp;<span class="ident" id="3295939">fmt</span><span class="op" id="3295942">.</span><span class="ident" id="3295943">Errorf</span><span class="op" id="3295949">(</span><span class="string" id="3295950">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="3295991">,</span>&nbsp;<span class="ident" id="3295993">pattern</span><span class="op" id="3296000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3296003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3296006">return</span>&nbsp;<span class="ident" id="3296013">parseFiles</span><span class="op" id="3296023">(</span><span class="ident" id="3296024">t</span><span class="op" id="3296025">,</span>&nbsp;<span class="ident" id="3296027">filenames</span><span class="op" id="3296036">...</span><span class="op" id="3296039">)</span><br>
<span class="lineno"></span><span class="op" id="3296041">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
