<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3038866">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3038921">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3038975">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3039026">package</span>&nbsp;<span class="ident" id="3039034">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3039039">import</span>&nbsp;<span class="op" id="3039046">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3039049">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3039057">&#34;strconv&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3039068">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3039083">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3039086">const</span>&nbsp;<span class="op" id="3039092">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3039095">//&nbsp;%b&nbsp;of&nbsp;an&nbsp;int64,&nbsp;plus&nbsp;a&nbsp;sign.</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3039128">//&nbsp;Hex&nbsp;can&nbsp;add&nbsp;0x&nbsp;and&nbsp;we&nbsp;handle&nbsp;it&nbsp;specially.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039175">nByte</span>&nbsp;<span class="op" id="3039181">=</span>&nbsp;<span class="num" id="3039183">65</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039188">ldigits</span>&nbsp;<span class="op" id="3039196">=</span>&nbsp;<span class="string" id="3039198">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039218">udigits</span>&nbsp;<span class="op" id="3039226">=</span>&nbsp;<span class="string" id="3039228">&#34;0123456789ABCDEF&#34;</span><br>
<span class="lineno">20</span><span class="op" id="3039247">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3039250">const</span>&nbsp;<span class="op" id="3039256">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039259">signed</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3039268">=</span>&nbsp;<span class="builtintype" id="3039270">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039276">unsigned</span>&nbsp;<span class="op" id="3039285">=</span>&nbsp;<span class="builtintype" id="3039287">false</span><br>
<span class="lineno">25</span><span class="op" id="3039293">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3039296">var</span>&nbsp;<span class="ident" id="3039300">padZeroBytes</span>&nbsp;<span class="op" id="3039313">=</span>&nbsp;<span class="builtinfunc" id="3039315">make</span><span class="op" id="3039319">(</span><span class="op" id="3039320">[</span><span class="op" id="3039321">]</span><span class="builtintype" id="3039322">byte</span><span class="op" id="3039326">,</span>&nbsp;<span class="ident" id="3039328"><a href="/fmt/format.go.html#3039175">nByte</a></span><span class="op" id="3039333">)</span><br>
<span class="lineno"></span><span class="keyword" id="3039335">var</span>&nbsp;<span class="ident" id="3039339">padSpaceBytes</span>&nbsp;<span class="op" id="3039353">=</span>&nbsp;<span class="builtinfunc" id="3039355">make</span><span class="op" id="3039359">(</span><span class="op" id="3039360">[</span><span class="op" id="3039361">]</span><span class="builtintype" id="3039362">byte</span><span class="op" id="3039366">,</span>&nbsp;<span class="ident" id="3039368"><a href="/fmt/format.go.html#3039175">nByte</a></span><span class="op" id="3039373">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="3039376">func</span>&nbsp;<span class="ident" id="3039381">init</span><span class="op" id="3039385">(</span><span class="op" id="3039386">)</span>&nbsp;<span class="op" id="3039388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3039391">for</span>&nbsp;<span class="ident" id="3039395">i</span>&nbsp;<span class="op" id="3039397">:=</span>&nbsp;<span class="num" id="3039400">0</span><span class="op" id="3039401">;</span>&nbsp;<span class="ident" id="3039403"><a href="/fmt/format.go.html#3039395">i</a></span>&nbsp;<span class="op" id="3039405">&lt;</span>&nbsp;<span class="ident" id="3039407"><a href="/fmt/format.go.html#3039175">nByte</a></span><span class="op" id="3039412">;</span>&nbsp;<span class="ident" id="3039414"><a href="/fmt/format.go.html#3039395">i</a></span><span class="op" id="3039415">++</span>&nbsp;<span class="op" id="3039418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039422"><a href="/fmt/format.go.html#3039300">padZeroBytes</a></span><span class="op" id="3039434">[</span><span class="ident" id="3039435"><a href="/fmt/format.go.html#3039395">i</a></span><span class="op" id="3039436">]</span>&nbsp;<span class="op" id="3039438">=</span>&nbsp;<span class="string" id="3039440">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039446"><a href="/fmt/format.go.html#3039339">padSpaceBytes</a></span><span class="op" id="3039459">[</span><span class="ident" id="3039460"><a href="/fmt/format.go.html#3039395">i</a></span><span class="op" id="3039461">]</span>&nbsp;<span class="op" id="3039463">=</span>&nbsp;<span class="string" id="3039465">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3039470">}</span><br>
<span class="lineno">35</span><span class="op" id="3039472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3039475">//&nbsp;flags&nbsp;placed&nbsp;in&nbsp;a&nbsp;separate&nbsp;struct&nbsp;for&nbsp;easy&nbsp;clearing.</span><br>
<span class="lineno"></span><span class="keyword" id="3039531">type</span>&nbsp;<span class="ident" id="3039536">fmtFlags</span>&nbsp;<span class="keyword" id="3039545">struct</span>&nbsp;<span class="op" id="3039552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039555">widPresent</span>&nbsp;&nbsp;<span class="builtintype" id="3039567">bool</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039573">precPresent</span>&nbsp;<span class="builtintype" id="3039585">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039591">minus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3039603">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039609">plus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3039621">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039627">sharp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3039639">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039645">space</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3039657">bool</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039663">unicode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3039675">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039681">uniQuote</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3039693">bool</span>&nbsp;<span class="comment" id="3039698">//&nbsp;Use&nbsp;&#39;x&#39;=&nbsp;prefix&nbsp;for&nbsp;%U&nbsp;if&nbsp;printable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039739">zero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3039751">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3039758">//&nbsp;For&nbsp;the&nbsp;formats&nbsp;%+v&nbsp;%#v,&nbsp;we&nbsp;set&nbsp;the&nbsp;plusV/sharpV&nbsp;flags</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3039817">//&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus/sharp&nbsp;flags&nbsp;since&nbsp;%+v&nbsp;and&nbsp;%#v&nbsp;are&nbsp;in&nbsp;effect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3039884">//&nbsp;different,&nbsp;flagless&nbsp;formats&nbsp;set&nbsp;at&nbsp;the&nbsp;top&nbsp;level.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039938">plusV</span>&nbsp;&nbsp;<span class="builtintype" id="3039945">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3039951">sharpV</span>&nbsp;<span class="builtintype" id="3039958">bool</span><br>
<span class="lineno"></span><span class="op" id="3039963">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="3039966">//&nbsp;A&nbsp;fmt&nbsp;is&nbsp;the&nbsp;raw&nbsp;formatter&nbsp;used&nbsp;by&nbsp;Printf&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="3040016">//&nbsp;It&nbsp;prints&nbsp;into&nbsp;a&nbsp;buffer&nbsp;that&nbsp;must&nbsp;be&nbsp;set&nbsp;up&nbsp;separately.</span><br>
<span class="lineno"></span><span class="keyword" id="3040075">type</span>&nbsp;<span class="ident" id="3040080">fmt</span>&nbsp;<span class="keyword" id="3040084">struct</span>&nbsp;<span class="op" id="3040091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040094">intbuf</span>&nbsp;<span class="op" id="3040101">[</span><span class="ident" id="3040102"><a href="/fmt/format.go.html#3039175">nByte</a></span><span class="op" id="3040107">]</span><span class="builtintype" id="3040108">byte</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040114">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3040121">*</span><span class="ident" id="3040122"><a href="/fmt/print.go.html#3053682">buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3040130">//&nbsp;width,&nbsp;precision</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040151">wid</span>&nbsp;&nbsp;<span class="builtintype" id="3040156">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040161">prec</span>&nbsp;<span class="builtintype" id="3040166">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040171"><a href="/fmt/format.go.html#3039536">fmtFlags</a></span><br>
<span class="lineno">65</span><span class="op" id="3040180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3040183">func</span>&nbsp;<span class="op" id="3040188">(</span><span class="ident" id="3040189">f</span>&nbsp;<span class="op" id="3040191">*</span><span class="ident" id="3040192"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3040195">)</span>&nbsp;<span class="ident" id="3040197">clearflags</span><span class="op" id="3040207">(</span><span class="op" id="3040208">)</span>&nbsp;<span class="op" id="3040210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040213"><a href="/fmt/format.go.html#3040189">f</a></span><span class="op" id="3040214">.</span><span class="ident" id="3040215">fmtFlags</span>&nbsp;<span class="op" id="3040224">=</span>&nbsp;<span class="ident" id="3040226"><a href="/fmt/format.go.html#3039536">fmtFlags</a></span><span class="op" id="3040234">{</span><span class="op" id="3040235">}</span><br>
<span class="lineno"></span><span class="op" id="3040237">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="3040240">func</span>&nbsp;<span class="op" id="3040245">(</span><span class="ident" id="3040246">f</span>&nbsp;<span class="op" id="3040248">*</span><span class="ident" id="3040249"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3040252">)</span>&nbsp;<span class="ident" id="3040254">init</span><span class="op" id="3040258">(</span><span class="ident" id="3040259">buf</span>&nbsp;<span class="op" id="3040263">*</span><span class="ident" id="3040264"><a href="/fmt/print.go.html#3053682">buffer</a></span><span class="op" id="3040270">)</span>&nbsp;<span class="op" id="3040272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040275"><a href="/fmt/format.go.html#3040246">f</a></span><span class="op" id="3040276">.</span><span class="ident" id="3040277">buf</span>&nbsp;<span class="op" id="3040281">=</span>&nbsp;<span class="ident" id="3040283"><a href="/fmt/format.go.html#3040259">buf</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040288"><a href="/fmt/format.go.html#3040246">f</a></span><span class="op" id="3040289">.</span><span class="ident" id="3040290">clearflags</span><span class="op" id="3040300">(</span><span class="op" id="3040301">)</span><br>
<span class="lineno"></span><span class="op" id="3040303">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="3040306">//&nbsp;computePadding&nbsp;computes&nbsp;left&nbsp;and&nbsp;right&nbsp;padding&nbsp;widths&nbsp;(only&nbsp;one&nbsp;will&nbsp;be&nbsp;non-zero).</span><br>
<span class="lineno"></span><span class="keyword" id="3040392">func</span>&nbsp;<span class="op" id="3040397">(</span><span class="ident" id="3040398">f</span>&nbsp;<span class="op" id="3040400">*</span><span class="ident" id="3040401"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3040404">)</span>&nbsp;<span class="ident" id="3040406">computePadding</span><span class="op" id="3040420">(</span><span class="ident" id="3040421">width</span>&nbsp;<span class="builtintype" id="3040427">int</span><span class="op" id="3040430">)</span>&nbsp;<span class="op" id="3040432">(</span><span class="ident" id="3040433">padding</span>&nbsp;<span class="op" id="3040441">[</span><span class="op" id="3040442">]</span><span class="builtintype" id="3040443">byte</span><span class="op" id="3040447">,</span>&nbsp;<span class="ident" id="3040449">leftWidth</span><span class="op" id="3040458">,</span>&nbsp;<span class="ident" id="3040460">rightWidth</span>&nbsp;<span class="builtintype" id="3040471">int</span><span class="op" id="3040474">)</span>&nbsp;<span class="op" id="3040476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040479">left</span>&nbsp;<span class="op" id="3040484">:=</span>&nbsp;<span class="op" id="3040487">!</span><span class="ident" id="3040488"><a href="/fmt/format.go.html#3040398">f</a></span><span class="op" id="3040489">.</span><span class="ident" id="3040490">minus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040497">w</span>&nbsp;<span class="op" id="3040499">:=</span>&nbsp;<span class="ident" id="3040502"><a href="/fmt/format.go.html#3040398">f</a></span><span class="op" id="3040503">.</span><span class="ident" id="3040504">wid</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3040509">if</span>&nbsp;<span class="ident" id="3040512"><a href="/fmt/format.go.html#3040497">w</a></span>&nbsp;<span class="op" id="3040514">&lt;</span>&nbsp;<span class="num" id="3040516">0</span>&nbsp;<span class="op" id="3040518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040522"><a href="/fmt/format.go.html#3040479">left</a></span>&nbsp;<span class="op" id="3040527">=</span>&nbsp;<span class="builtintype" id="3040529">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040537"><a href="/fmt/format.go.html#3040497">w</a></span>&nbsp;<span class="op" id="3040539">=</span>&nbsp;<span class="op" id="3040541">-</span><span class="ident" id="3040542"><a href="/fmt/format.go.html#3040497">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3040545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040548"><a href="/fmt/format.go.html#3040497">w</a></span>&nbsp;<span class="op" id="3040550">-=</span>&nbsp;<span class="ident" id="3040553"><a href="/fmt/format.go.html#3040421">width</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3040560">if</span>&nbsp;<span class="ident" id="3040563"><a href="/fmt/format.go.html#3040497">w</a></span>&nbsp;<span class="op" id="3040565">&gt;</span>&nbsp;<span class="num" id="3040567">0</span>&nbsp;<span class="op" id="3040569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3040573">if</span>&nbsp;<span class="ident" id="3040576"><a href="/fmt/format.go.html#3040479">left</a></span>&nbsp;<span class="op" id="3040581">&amp;&amp;</span>&nbsp;<span class="ident" id="3040584"><a href="/fmt/format.go.html#3040398">f</a></span><span class="op" id="3040585">.</span><span class="ident" id="3040586">zero</span>&nbsp;<span class="op" id="3040591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3040596">return</span>&nbsp;<span class="ident" id="3040603"><a href="/fmt/format.go.html#3039300">padZeroBytes</a></span><span class="op" id="3040615">,</span>&nbsp;<span class="ident" id="3040617"><a href="/fmt/format.go.html#3040497">w</a></span><span class="op" id="3040618">,</span>&nbsp;<span class="num" id="3040620">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3040624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3040628">if</span>&nbsp;<span class="ident" id="3040631"><a href="/fmt/format.go.html#3040479">left</a></span>&nbsp;<span class="op" id="3040636">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3040641">return</span>&nbsp;<span class="ident" id="3040648"><a href="/fmt/format.go.html#3039339">padSpaceBytes</a></span><span class="op" id="3040661">,</span>&nbsp;<span class="ident" id="3040663"><a href="/fmt/format.go.html#3040497">w</a></span><span class="op" id="3040664">,</span>&nbsp;<span class="num" id="3040666">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3040670">}</span>&nbsp;<span class="keyword" id="3040672">else</span>&nbsp;<span class="op" id="3040677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3040682">//&nbsp;can&#39;t&nbsp;be&nbsp;zero&nbsp;padding&nbsp;on&nbsp;the&nbsp;right</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3040723">return</span>&nbsp;<span class="ident" id="3040730"><a href="/fmt/format.go.html#3039339">padSpaceBytes</a></span><span class="op" id="3040743">,</span>&nbsp;<span class="num" id="3040745">0</span><span class="op" id="3040746">,</span>&nbsp;<span class="ident" id="3040748"><a href="/fmt/format.go.html#3040497">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3040752">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3040755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3040758">return</span><br>
<span class="lineno"></span><span class="op" id="3040765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3040768">//&nbsp;writePadding&nbsp;generates&nbsp;n&nbsp;bytes&nbsp;of&nbsp;padding.</span><br>
<span class="lineno">100</span><span class="keyword" id="3040814">func</span>&nbsp;<span class="op" id="3040819">(</span><span class="ident" id="3040820">f</span>&nbsp;<span class="op" id="3040822">*</span><span class="ident" id="3040823"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3040826">)</span>&nbsp;<span class="ident" id="3040828">writePadding</span><span class="op" id="3040840">(</span><span class="ident" id="3040841">n</span>&nbsp;<span class="builtintype" id="3040843">int</span><span class="op" id="3040846">,</span>&nbsp;<span class="ident" id="3040848">padding</span>&nbsp;<span class="op" id="3040856">[</span><span class="op" id="3040857">]</span><span class="builtintype" id="3040858">byte</span><span class="op" id="3040862">)</span>&nbsp;<span class="op" id="3040864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3040867">for</span>&nbsp;<span class="ident" id="3040871"><a href="/fmt/format.go.html#3040841">n</a></span>&nbsp;<span class="op" id="3040873">&gt;</span>&nbsp;<span class="num" id="3040875">0</span>&nbsp;<span class="op" id="3040877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040881">m</span>&nbsp;<span class="op" id="3040883">:=</span>&nbsp;<span class="ident" id="3040886"><a href="/fmt/format.go.html#3040841">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3040890">if</span>&nbsp;<span class="ident" id="3040893"><a href="/fmt/format.go.html#3040881">m</a></span>&nbsp;<span class="op" id="3040895">&gt;</span>&nbsp;<span class="ident" id="3040897"><a href="/fmt/format.go.html#3039175">nByte</a></span>&nbsp;<span class="op" id="3040903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040908"><a href="/fmt/format.go.html#3040881">m</a></span>&nbsp;<span class="op" id="3040910">=</span>&nbsp;<span class="ident" id="3040912"><a href="/fmt/format.go.html#3039175">nByte</a></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3040920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040924"><a href="/fmt/format.go.html#3040820">f</a></span><span class="op" id="3040925">.</span><span class="ident" id="3040926">buf</span><span class="op" id="3040929">.</span><span class="ident" id="3040930">Write</span><span class="op" id="3040935">(</span><span class="ident" id="3040936"><a href="/fmt/format.go.html#3040848">padding</a></span><span class="op" id="3040943">[</span><span class="num" id="3040944">0</span><span class="op" id="3040945">:</span><span class="ident" id="3040946"><a href="/fmt/format.go.html#3040881">m</a></span><span class="op" id="3040947">]</span><span class="op" id="3040948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040952"><a href="/fmt/format.go.html#3040841">n</a></span>&nbsp;<span class="op" id="3040954">-=</span>&nbsp;<span class="ident" id="3040957"><a href="/fmt/format.go.html#3040881">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3040960">}</span><br>
<span class="lineno"></span><span class="op" id="3040962">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="3040965">//&nbsp;pad&nbsp;appends&nbsp;b&nbsp;to&nbsp;f.buf,&nbsp;padded&nbsp;on&nbsp;left&nbsp;(w&nbsp;&gt;&nbsp;0)&nbsp;or&nbsp;right&nbsp;(w&nbsp;&lt;&nbsp;0&nbsp;or&nbsp;f.minus).</span><br>
<span class="lineno"></span><span class="keyword" id="3041044">func</span>&nbsp;<span class="op" id="3041049">(</span><span class="ident" id="3041050">f</span>&nbsp;<span class="op" id="3041052">*</span><span class="ident" id="3041053"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3041056">)</span>&nbsp;<span class="ident" id="3041058">pad</span><span class="op" id="3041061">(</span><span class="ident" id="3041062">b</span>&nbsp;<span class="op" id="3041064">[</span><span class="op" id="3041065">]</span><span class="builtintype" id="3041066">byte</span><span class="op" id="3041070">)</span>&nbsp;<span class="op" id="3041072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041075">if</span>&nbsp;<span class="op" id="3041078">!</span><span class="ident" id="3041079"><a href="/fmt/format.go.html#3041050">f</a></span><span class="op" id="3041080">.</span><span class="ident" id="3041081">widPresent</span>&nbsp;<span class="op" id="3041092">||</span>&nbsp;<span class="ident" id="3041095"><a href="/fmt/format.go.html#3041050">f</a></span><span class="op" id="3041096">.</span><span class="ident" id="3041097">wid</span>&nbsp;<span class="op" id="3041101">==</span>&nbsp;<span class="num" id="3041104">0</span>&nbsp;<span class="op" id="3041106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041110"><a href="/fmt/format.go.html#3041050">f</a></span><span class="op" id="3041111">.</span><span class="ident" id="3041112">buf</span><span class="op" id="3041115">.</span><span class="ident" id="3041116">Write</span><span class="op" id="3041121">(</span><span class="ident" id="3041122"><a href="/fmt/format.go.html#3041062">b</a></span><span class="op" id="3041123">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041127">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3041135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041138">padding</span><span class="op" id="3041145">,</span>&nbsp;<span class="ident" id="3041147">left</span><span class="op" id="3041151">,</span>&nbsp;<span class="ident" id="3041153">right</span>&nbsp;<span class="op" id="3041159">:=</span>&nbsp;<span class="ident" id="3041162"><a href="/fmt/format.go.html#3041050">f</a></span><span class="op" id="3041163">.</span><span class="ident" id="3041164">computePadding</span><span class="op" id="3041178">(</span><span class="ident" id="3041179"><a href="/fmt/format.go.html#3039068">utf8</a></span><span class="op" id="3041183">.</span><span class="ident" id="3041184">RuneCount</span><span class="op" id="3041193">(</span><span class="ident" id="3041194"><a href="/fmt/format.go.html#3041062">b</a></span><span class="op" id="3041195">)</span><span class="op" id="3041196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041199">if</span>&nbsp;<span class="ident" id="3041202"><a href="/fmt/format.go.html#3041147">left</a></span>&nbsp;<span class="op" id="3041207">&gt;</span>&nbsp;<span class="num" id="3041209">0</span>&nbsp;<span class="op" id="3041211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041215"><a href="/fmt/format.go.html#3041050">f</a></span><span class="op" id="3041216">.</span><span class="ident" id="3041217">writePadding</span><span class="op" id="3041229">(</span><span class="ident" id="3041230"><a href="/fmt/format.go.html#3041147">left</a></span><span class="op" id="3041234">,</span>&nbsp;<span class="ident" id="3041236"><a href="/fmt/format.go.html#3041138">padding</a></span><span class="op" id="3041243">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3041246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041249"><a href="/fmt/format.go.html#3041050">f</a></span><span class="op" id="3041250">.</span><span class="ident" id="3041251">buf</span><span class="op" id="3041254">.</span><span class="ident" id="3041255">Write</span><span class="op" id="3041260">(</span><span class="ident" id="3041261"><a href="/fmt/format.go.html#3041062">b</a></span><span class="op" id="3041262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041265">if</span>&nbsp;<span class="ident" id="3041268"><a href="/fmt/format.go.html#3041153">right</a></span>&nbsp;<span class="op" id="3041274">&gt;</span>&nbsp;<span class="num" id="3041276">0</span>&nbsp;<span class="op" id="3041278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041282"><a href="/fmt/format.go.html#3041050">f</a></span><span class="op" id="3041283">.</span><span class="ident" id="3041284">writePadding</span><span class="op" id="3041296">(</span><span class="ident" id="3041297"><a href="/fmt/format.go.html#3041153">right</a></span><span class="op" id="3041302">,</span>&nbsp;<span class="ident" id="3041304"><a href="/fmt/format.go.html#3041138">padding</a></span><span class="op" id="3041311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3041314">}</span><br>
<span class="lineno">125</span><span class="op" id="3041316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3041319">//&nbsp;padString&nbsp;appends&nbsp;s&nbsp;to&nbsp;buf,&nbsp;padded&nbsp;on&nbsp;left&nbsp;(w&nbsp;&gt;&nbsp;0)&nbsp;or&nbsp;right&nbsp;(w&nbsp;&lt;&nbsp;0&nbsp;or&nbsp;f.minus).</span><br>
<span class="lineno"></span><span class="keyword" id="3041402">func</span>&nbsp;<span class="op" id="3041407">(</span><span class="ident" id="3041408">f</span>&nbsp;<span class="op" id="3041410">*</span><span class="ident" id="3041411"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3041414">)</span>&nbsp;<span class="ident" id="3041416">padString</span><span class="op" id="3041425">(</span><span class="ident" id="3041426">s</span>&nbsp;<span class="builtintype" id="3041428">string</span><span class="op" id="3041434">)</span>&nbsp;<span class="op" id="3041436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041439">if</span>&nbsp;<span class="op" id="3041442">!</span><span class="ident" id="3041443"><a href="/fmt/format.go.html#3041408">f</a></span><span class="op" id="3041444">.</span><span class="ident" id="3041445">widPresent</span>&nbsp;<span class="op" id="3041456">||</span>&nbsp;<span class="ident" id="3041459"><a href="/fmt/format.go.html#3041408">f</a></span><span class="op" id="3041460">.</span><span class="ident" id="3041461">wid</span>&nbsp;<span class="op" id="3041465">==</span>&nbsp;<span class="num" id="3041468">0</span>&nbsp;<span class="op" id="3041470">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041474"><a href="/fmt/format.go.html#3041408">f</a></span><span class="op" id="3041475">.</span><span class="ident" id="3041476">buf</span><span class="op" id="3041479">.</span><span class="ident" id="3041480">WriteString</span><span class="op" id="3041491">(</span><span class="ident" id="3041492"><a href="/fmt/format.go.html#3041426">s</a></span><span class="op" id="3041493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041497">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3041505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041508">padding</span><span class="op" id="3041515">,</span>&nbsp;<span class="ident" id="3041517">left</span><span class="op" id="3041521">,</span>&nbsp;<span class="ident" id="3041523">right</span>&nbsp;<span class="op" id="3041529">:=</span>&nbsp;<span class="ident" id="3041532"><a href="/fmt/format.go.html#3041408">f</a></span><span class="op" id="3041533">.</span><span class="ident" id="3041534">computePadding</span><span class="op" id="3041548">(</span><span class="ident" id="3041549"><a href="/fmt/format.go.html#3039068">utf8</a></span><span class="op" id="3041553">.</span><span class="ident" id="3041554">RuneCountInString</span><span class="op" id="3041571">(</span><span class="ident" id="3041572"><a href="/fmt/format.go.html#3041426">s</a></span><span class="op" id="3041573">)</span><span class="op" id="3041574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041577">if</span>&nbsp;<span class="ident" id="3041580"><a href="/fmt/format.go.html#3041517">left</a></span>&nbsp;<span class="op" id="3041585">&gt;</span>&nbsp;<span class="num" id="3041587">0</span>&nbsp;<span class="op" id="3041589">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041593"><a href="/fmt/format.go.html#3041408">f</a></span><span class="op" id="3041594">.</span><span class="ident" id="3041595">writePadding</span><span class="op" id="3041607">(</span><span class="ident" id="3041608"><a href="/fmt/format.go.html#3041517">left</a></span><span class="op" id="3041612">,</span>&nbsp;<span class="ident" id="3041614"><a href="/fmt/format.go.html#3041508">padding</a></span><span class="op" id="3041621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3041624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041627"><a href="/fmt/format.go.html#3041408">f</a></span><span class="op" id="3041628">.</span><span class="ident" id="3041629">buf</span><span class="op" id="3041632">.</span><span class="ident" id="3041633">WriteString</span><span class="op" id="3041644">(</span><span class="ident" id="3041645"><a href="/fmt/format.go.html#3041426">s</a></span><span class="op" id="3041646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041649">if</span>&nbsp;<span class="ident" id="3041652"><a href="/fmt/format.go.html#3041523">right</a></span>&nbsp;<span class="op" id="3041658">&gt;</span>&nbsp;<span class="num" id="3041660">0</span>&nbsp;<span class="op" id="3041662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041666"><a href="/fmt/format.go.html#3041408">f</a></span><span class="op" id="3041667">.</span><span class="ident" id="3041668">writePadding</span><span class="op" id="3041680">(</span><span class="ident" id="3041681"><a href="/fmt/format.go.html#3041523">right</a></span><span class="op" id="3041686">,</span>&nbsp;<span class="ident" id="3041688"><a href="/fmt/format.go.html#3041508">padding</a></span><span class="op" id="3041695">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3041698">}</span><br>
<span class="lineno"></span><span class="op" id="3041700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3041703">var</span>&nbsp;<span class="op" id="3041707">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041710">trueBytes</span>&nbsp;&nbsp;<span class="op" id="3041721">=</span>&nbsp;<span class="op" id="3041723">[</span><span class="op" id="3041724">]</span><span class="builtintype" id="3041725">byte</span><span class="op" id="3041729">(</span><span class="string" id="3041730">&#34;true&#34;</span><span class="op" id="3041736">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041739">falseBytes</span>&nbsp;<span class="op" id="3041750">=</span>&nbsp;<span class="op" id="3041752">[</span><span class="op" id="3041753">]</span><span class="builtintype" id="3041754">byte</span><span class="op" id="3041758">(</span><span class="string" id="3041759">&#34;false&#34;</span><span class="op" id="3041766">)</span><br>
<span class="lineno"></span><span class="op" id="3041768">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3041771">//&nbsp;fmt_boolean&nbsp;formats&nbsp;a&nbsp;boolean.</span><br>
<span class="lineno"></span><span class="keyword" id="3041805">func</span>&nbsp;<span class="op" id="3041810">(</span><span class="ident" id="3041811">f</span>&nbsp;<span class="op" id="3041813">*</span><span class="ident" id="3041814"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3041817">)</span>&nbsp;<span class="ident" id="3041819">fmt_boolean</span><span class="op" id="3041830">(</span><span class="ident" id="3041831">v</span>&nbsp;<span class="builtintype" id="3041833">bool</span><span class="op" id="3041837">)</span>&nbsp;<span class="op" id="3041839">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041842">if</span>&nbsp;<span class="ident" id="3041845"><a href="/fmt/format.go.html#3041831">v</a></span>&nbsp;<span class="op" id="3041847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041851"><a href="/fmt/format.go.html#3041811">f</a></span><span class="op" id="3041852">.</span><span class="ident" id="3041853">pad</span><span class="op" id="3041856">(</span><span class="ident" id="3041857"><a href="/fmt/format.go.html#3041710">trueBytes</a></span><span class="op" id="3041866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3041869">}</span>&nbsp;<span class="keyword" id="3041871">else</span>&nbsp;<span class="op" id="3041876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041880"><a href="/fmt/format.go.html#3041811">f</a></span><span class="op" id="3041881">.</span><span class="ident" id="3041882">pad</span><span class="op" id="3041885">(</span><span class="ident" id="3041886"><a href="/fmt/format.go.html#3041739">falseBytes</a></span><span class="op" id="3041896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3041899">}</span><br>
<span class="lineno">155</span><span class="op" id="3041901">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3041904">//&nbsp;integer;&nbsp;interprets&nbsp;prec&nbsp;but&nbsp;not&nbsp;wid.&nbsp;&nbsp;Once&nbsp;formatted,&nbsp;result&nbsp;is&nbsp;sent&nbsp;to&nbsp;pad()</span><br>
<span class="lineno"></span><span class="comment" id="3041986">//&nbsp;and&nbsp;then&nbsp;flags&nbsp;are&nbsp;cleared.</span><br>
<span class="lineno"></span><span class="keyword" id="3042017">func</span>&nbsp;<span class="op" id="3042022">(</span><span class="ident" id="3042023">f</span>&nbsp;<span class="op" id="3042025">*</span><span class="ident" id="3042026"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3042029">)</span>&nbsp;<span class="ident" id="3042031">integer</span><span class="op" id="3042038">(</span><span class="ident" id="3042039">a</span>&nbsp;<span class="ident" id="3042041">int64</span><span class="op" id="3042046">,</span>&nbsp;<span class="ident" id="3042048">base</span>&nbsp;<span class="ident" id="3042053">uint64</span><span class="op" id="3042059">,</span>&nbsp;<span class="ident" id="3042061">signedness</span>&nbsp;<span class="builtintype" id="3042072">bool</span><span class="op" id="3042076">,</span>&nbsp;<span class="ident" id="3042078">digits</span>&nbsp;<span class="builtintype" id="3042085">string</span><span class="op" id="3042091">)</span>&nbsp;<span class="op" id="3042093">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042096">//&nbsp;precision&nbsp;of&nbsp;0&nbsp;and&nbsp;value&nbsp;of&nbsp;0&nbsp;means&nbsp;&#34;print&nbsp;nothing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042152">if</span>&nbsp;<span class="ident" id="3042155"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042156">.</span><span class="ident" id="3042157">precPresent</span>&nbsp;<span class="op" id="3042169">&amp;&amp;</span>&nbsp;<span class="ident" id="3042172"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042173">.</span><span class="ident" id="3042174">prec</span>&nbsp;<span class="op" id="3042179">==</span>&nbsp;<span class="num" id="3042182">0</span>&nbsp;<span class="op" id="3042184">&amp;&amp;</span>&nbsp;<span class="ident" id="3042187"><a href="/fmt/format.go.html#3042039">a</a></span>&nbsp;<span class="op" id="3042189">==</span>&nbsp;<span class="num" id="3042192">0</span>&nbsp;<span class="op" id="3042194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042198">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042210">var</span>&nbsp;<span class="ident" id="3042214">buf</span>&nbsp;<span class="op" id="3042218">[</span><span class="op" id="3042219">]</span><span class="builtintype" id="3042220">byte</span>&nbsp;<span class="op" id="3042225">=</span>&nbsp;<span class="ident" id="3042227"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042228">.</span><span class="ident" id="3042229">intbuf</span><span class="op" id="3042235">[</span><span class="num" id="3042236">0</span><span class="op" id="3042237">:</span><span class="op" id="3042238">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042241">if</span>&nbsp;<span class="ident" id="3042244"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042245">.</span><span class="ident" id="3042246">widPresent</span>&nbsp;<span class="op" id="3042257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042261">width</span>&nbsp;<span class="op" id="3042267">:=</span>&nbsp;<span class="ident" id="3042270"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042271">.</span><span class="ident" id="3042272">wid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042278">if</span>&nbsp;<span class="ident" id="3042281"><a href="/fmt/format.go.html#3042048">base</a></span>&nbsp;<span class="op" id="3042286">==</span>&nbsp;<span class="num" id="3042289">16</span>&nbsp;<span class="op" id="3042292">&amp;&amp;</span>&nbsp;<span class="ident" id="3042295"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042296">.</span><span class="ident" id="3042297">sharp</span>&nbsp;<span class="op" id="3042303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042308">//&nbsp;Also&nbsp;adds&nbsp;&#34;0x&#34;.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042330"><a href="/fmt/format.go.html#3042261">width</a></span>&nbsp;<span class="op" id="3042336">+=</span>&nbsp;<span class="num" id="3042339">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042347">if</span>&nbsp;<span class="ident" id="3042350"><a href="/fmt/format.go.html#3042261">width</a></span>&nbsp;<span class="op" id="3042356">&gt;</span>&nbsp;<span class="ident" id="3042358"><a href="/fmt/format.go.html#3039175">nByte</a></span>&nbsp;<span class="op" id="3042364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042369">//&nbsp;We&#39;re&nbsp;going&nbsp;to&nbsp;need&nbsp;a&nbsp;bigger&nbsp;boat.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042410"><a href="/fmt/format.go.html#3042214">buf</a></span>&nbsp;<span class="op" id="3042414">=</span>&nbsp;<span class="builtinfunc" id="3042416">make</span><span class="op" id="3042420">(</span><span class="op" id="3042421">[</span><span class="op" id="3042422">]</span><span class="builtintype" id="3042423">byte</span><span class="op" id="3042427">,</span>&nbsp;<span class="ident" id="3042429"><a href="/fmt/format.go.html#3042261">width</a></span><span class="op" id="3042434">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042445">negative</span>&nbsp;<span class="op" id="3042454">:=</span>&nbsp;<span class="ident" id="3042457"><a href="/fmt/format.go.html#3042061">signedness</a></span>&nbsp;<span class="op" id="3042468">==</span>&nbsp;<span class="ident" id="3042471"><a href="/fmt/format.go.html#3039259">signed</a></span>&nbsp;<span class="op" id="3042478">&amp;&amp;</span>&nbsp;<span class="ident" id="3042481"><a href="/fmt/format.go.html#3042039">a</a></span>&nbsp;<span class="op" id="3042483">&lt;</span>&nbsp;<span class="num" id="3042485">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042488">if</span>&nbsp;<span class="ident" id="3042491"><a href="/fmt/format.go.html#3042445">negative</a></span>&nbsp;<span class="op" id="3042500">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042504"><a href="/fmt/format.go.html#3042039">a</a></span>&nbsp;<span class="op" id="3042506">=</span>&nbsp;<span class="op" id="3042508">-</span><span class="ident" id="3042509"><a href="/fmt/format.go.html#3042039">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042516">//&nbsp;two&nbsp;ways&nbsp;to&nbsp;ask&nbsp;for&nbsp;extra&nbsp;leading&nbsp;zero&nbsp;digits:&nbsp;%.3d&nbsp;or&nbsp;%03d.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042581">//&nbsp;apparently&nbsp;the&nbsp;first&nbsp;cancels&nbsp;the&nbsp;second.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042626">prec</span>&nbsp;<span class="op" id="3042631">:=</span>&nbsp;<span class="num" id="3042634">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042637">if</span>&nbsp;<span class="ident" id="3042640"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042641">.</span><span class="ident" id="3042642">precPresent</span>&nbsp;<span class="op" id="3042654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042658"><a href="/fmt/format.go.html#3042626">prec</a></span>&nbsp;<span class="op" id="3042663">=</span>&nbsp;<span class="ident" id="3042665"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042666">.</span><span class="ident" id="3042667">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042674"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042675">.</span><span class="ident" id="3042676">zero</span>&nbsp;<span class="op" id="3042681">=</span>&nbsp;<span class="builtintype" id="3042683">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042690">}</span>&nbsp;<span class="keyword" id="3042692">else</span>&nbsp;<span class="keyword" id="3042697">if</span>&nbsp;<span class="ident" id="3042700"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042701">.</span><span class="ident" id="3042702">zero</span>&nbsp;<span class="op" id="3042707">&amp;&amp;</span>&nbsp;<span class="ident" id="3042710"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042711">.</span><span class="ident" id="3042712">widPresent</span>&nbsp;<span class="op" id="3042723">&amp;&amp;</span>&nbsp;<span class="op" id="3042726">!</span><span class="ident" id="3042727"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042728">.</span><span class="ident" id="3042729">minus</span>&nbsp;<span class="op" id="3042735">&amp;&amp;</span>&nbsp;<span class="ident" id="3042738"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042739">.</span><span class="ident" id="3042740">wid</span>&nbsp;<span class="op" id="3042744">&gt;</span>&nbsp;<span class="num" id="3042746">0</span>&nbsp;<span class="op" id="3042748">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042752"><a href="/fmt/format.go.html#3042626">prec</a></span>&nbsp;<span class="op" id="3042757">=</span>&nbsp;<span class="ident" id="3042759"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042760">.</span><span class="ident" id="3042761">wid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042767">if</span>&nbsp;<span class="ident" id="3042770"><a href="/fmt/format.go.html#3042445">negative</a></span>&nbsp;<span class="op" id="3042779">||</span>&nbsp;<span class="ident" id="3042782"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042783">.</span><span class="ident" id="3042784">plus</span>&nbsp;<span class="op" id="3042789">||</span>&nbsp;<span class="ident" id="3042792"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3042793">.</span><span class="ident" id="3042794">space</span>&nbsp;<span class="op" id="3042800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042805"><a href="/fmt/format.go.html#3042626">prec</a></span><span class="op" id="3042809">--</span>&nbsp;<span class="comment" id="3042812">//&nbsp;leave&nbsp;room&nbsp;for&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042840">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042844">//&nbsp;format&nbsp;a&nbsp;into&nbsp;buf,&nbsp;ending&nbsp;at&nbsp;buf[i].&nbsp;&nbsp;(printing&nbsp;is&nbsp;easier&nbsp;right-to-left.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042922">//&nbsp;a&nbsp;is&nbsp;made&nbsp;into&nbsp;unsigned&nbsp;ua.&nbsp;&nbsp;we&nbsp;could&nbsp;make&nbsp;things</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042976">//&nbsp;marginally&nbsp;faster&nbsp;by&nbsp;splitting&nbsp;the&nbsp;32-bit&nbsp;case&nbsp;out&nbsp;into&nbsp;a&nbsp;separate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3043047">//&nbsp;block&nbsp;but&nbsp;it&#39;s&nbsp;not&nbsp;worth&nbsp;the&nbsp;duplication,&nbsp;so&nbsp;ua&nbsp;has&nbsp;64&nbsp;bits.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043112">i</span>&nbsp;<span class="op" id="3043114">:=</span>&nbsp;<span class="builtinfunc" id="3043117">len</span><span class="op" id="3043120">(</span><span class="ident" id="3043121"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043127">ua</span>&nbsp;<span class="op" id="3043130">:=</span>&nbsp;<span class="ident" id="3043133">uint64</span><span class="op" id="3043139">(</span><span class="ident" id="3043140"><a href="/fmt/format.go.html#3042039">a</a></span><span class="op" id="3043141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3043144">//&nbsp;use&nbsp;constants&nbsp;for&nbsp;the&nbsp;division&nbsp;and&nbsp;modulo&nbsp;for&nbsp;more&nbsp;efficient&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3043215">//&nbsp;switch&nbsp;cases&nbsp;ordered&nbsp;by&nbsp;popularity.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043255">switch</span>&nbsp;<span class="ident" id="3043262"><a href="/fmt/format.go.html#3042048">base</a></span>&nbsp;<span class="op" id="3043267">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043270">case</span>&nbsp;<span class="num" id="3043275">10</span><span class="op" id="3043277">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043281">for</span>&nbsp;<span class="ident" id="3043285"><a href="/fmt/format.go.html#3043127">ua</a></span>&nbsp;<span class="op" id="3043288">&gt;=</span>&nbsp;<span class="num" id="3043291">10</span>&nbsp;<span class="op" id="3043294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043299"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043300">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043306">next</span>&nbsp;<span class="op" id="3043311">:=</span>&nbsp;<span class="ident" id="3043314"><a href="/fmt/format.go.html#3043127">ua</a></span>&nbsp;<span class="op" id="3043317">/</span>&nbsp;<span class="num" id="3043319">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043325"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043328">[</span><span class="ident" id="3043329"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043330">]</span>&nbsp;<span class="op" id="3043332">=</span>&nbsp;<span class="builtintype" id="3043334">byte</span><span class="op" id="3043338">(</span><span class="string" id="3043339">&#39;0&#39;</span>&nbsp;<span class="op" id="3043343">+</span>&nbsp;<span class="ident" id="3043345"><a href="/fmt/format.go.html#3043127">ua</a></span>&nbsp;<span class="op" id="3043348">-</span>&nbsp;<span class="ident" id="3043350"><a href="/fmt/format.go.html#3043306">next</a></span><span class="op" id="3043354">*</span><span class="num" id="3043355">10</span><span class="op" id="3043357">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043362"><a href="/fmt/format.go.html#3043127">ua</a></span>&nbsp;<span class="op" id="3043365">=</span>&nbsp;<span class="ident" id="3043367"><a href="/fmt/format.go.html#3043306">next</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043377">case</span>&nbsp;<span class="num" id="3043382">16</span><span class="op" id="3043384">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043388">for</span>&nbsp;<span class="ident" id="3043392"><a href="/fmt/format.go.html#3043127">ua</a></span>&nbsp;<span class="op" id="3043395">&gt;=</span>&nbsp;<span class="num" id="3043398">16</span>&nbsp;<span class="op" id="3043401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043406"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043407">--</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043413"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043416">[</span><span class="ident" id="3043417"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043418">]</span>&nbsp;<span class="op" id="3043420">=</span>&nbsp;<span class="ident" id="3043422"><a href="/fmt/format.go.html#3042078">digits</a></span><span class="op" id="3043428">[</span><span class="ident" id="3043429"><a href="/fmt/format.go.html#3043127">ua</a></span><span class="op" id="3043431">&amp;</span><span class="num" id="3043432">0xF</span><span class="op" id="3043435">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043440"><a href="/fmt/format.go.html#3043127">ua</a></span>&nbsp;<span class="op" id="3043443">&gt;&gt;=</span>&nbsp;<span class="num" id="3043447">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043454">case</span>&nbsp;<span class="num" id="3043459">8</span><span class="op" id="3043460">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043464">for</span>&nbsp;<span class="ident" id="3043468"><a href="/fmt/format.go.html#3043127">ua</a></span>&nbsp;<span class="op" id="3043471">&gt;=</span>&nbsp;<span class="num" id="3043474">8</span>&nbsp;<span class="op" id="3043476">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043481"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043482">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043488"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043491">[</span><span class="ident" id="3043492"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043493">]</span>&nbsp;<span class="op" id="3043495">=</span>&nbsp;<span class="builtintype" id="3043497">byte</span><span class="op" id="3043501">(</span><span class="string" id="3043502">&#39;0&#39;</span>&nbsp;<span class="op" id="3043506">+</span>&nbsp;<span class="ident" id="3043508"><a href="/fmt/format.go.html#3043127">ua</a></span><span class="op" id="3043510">&amp;</span><span class="num" id="3043511">7</span><span class="op" id="3043512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043517"><a href="/fmt/format.go.html#3043127">ua</a></span>&nbsp;<span class="op" id="3043520">&gt;&gt;=</span>&nbsp;<span class="num" id="3043524">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043531">case</span>&nbsp;<span class="num" id="3043536">2</span><span class="op" id="3043537">:</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043541">for</span>&nbsp;<span class="ident" id="3043545"><a href="/fmt/format.go.html#3043127">ua</a></span>&nbsp;<span class="op" id="3043548">&gt;=</span>&nbsp;<span class="num" id="3043551">2</span>&nbsp;<span class="op" id="3043553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043558"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043559">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043565"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043568">[</span><span class="ident" id="3043569"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043570">]</span>&nbsp;<span class="op" id="3043572">=</span>&nbsp;<span class="builtintype" id="3043574">byte</span><span class="op" id="3043578">(</span><span class="string" id="3043579">&#39;0&#39;</span>&nbsp;<span class="op" id="3043583">+</span>&nbsp;<span class="ident" id="3043585"><a href="/fmt/format.go.html#3043127">ua</a></span><span class="op" id="3043587">&amp;</span><span class="num" id="3043588">1</span><span class="op" id="3043589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043594"><a href="/fmt/format.go.html#3043127">ua</a></span>&nbsp;<span class="op" id="3043597">&gt;&gt;=</span>&nbsp;<span class="num" id="3043601">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043605">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043608">default</span><span class="op" id="3043615">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3043619">panic</span><span class="op" id="3043624">(</span><span class="string" id="3043625">&#34;fmt:&nbsp;unknown&nbsp;base;&nbsp;can&#39;t&nbsp;happen&#34;</span><span class="op" id="3043658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043664"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043665">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043669"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043672">[</span><span class="ident" id="3043673"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043674">]</span>&nbsp;<span class="op" id="3043676">=</span>&nbsp;<span class="ident" id="3043678"><a href="/fmt/format.go.html#3042078">digits</a></span><span class="op" id="3043684">[</span><span class="ident" id="3043685"><a href="/fmt/format.go.html#3043127">ua</a></span><span class="op" id="3043687">]</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043690">for</span>&nbsp;<span class="ident" id="3043694"><a href="/fmt/format.go.html#3043112">i</a></span>&nbsp;<span class="op" id="3043696">&gt;</span>&nbsp;<span class="num" id="3043698">0</span>&nbsp;<span class="op" id="3043700">&amp;&amp;</span>&nbsp;<span class="ident" id="3043703"><a href="/fmt/format.go.html#3042626">prec</a></span>&nbsp;<span class="op" id="3043708">&gt;</span>&nbsp;<span class="builtinfunc" id="3043710">len</span><span class="op" id="3043713">(</span><span class="ident" id="3043714"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043717">)</span><span class="op" id="3043718">-</span><span class="ident" id="3043719"><a href="/fmt/format.go.html#3043112">i</a></span>&nbsp;<span class="op" id="3043721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043725"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043726">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043731"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043734">[</span><span class="ident" id="3043735"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043736">]</span>&nbsp;<span class="op" id="3043738">=</span>&nbsp;<span class="string" id="3043740">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3043749">//&nbsp;Various&nbsp;prefixes:&nbsp;0x,&nbsp;-,&nbsp;etc.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043783">if</span>&nbsp;<span class="ident" id="3043786"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3043787">.</span><span class="ident" id="3043788">sharp</span>&nbsp;<span class="op" id="3043794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043798">switch</span>&nbsp;<span class="ident" id="3043805"><a href="/fmt/format.go.html#3042048">base</a></span>&nbsp;<span class="op" id="3043810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043814">case</span>&nbsp;<span class="num" id="3043819">8</span><span class="op" id="3043820">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043825">if</span>&nbsp;<span class="ident" id="3043828"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043831">[</span><span class="ident" id="3043832"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043833">]</span>&nbsp;<span class="op" id="3043835">!=</span>&nbsp;<span class="string" id="3043838">&#39;0&#39;</span>&nbsp;<span class="op" id="3043842">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043848"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043849">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043856"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043859">[</span><span class="ident" id="3043860"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043861">]</span>&nbsp;<span class="op" id="3043863">=</span>&nbsp;<span class="string" id="3043865">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043876">case</span>&nbsp;<span class="num" id="3043881">16</span><span class="op" id="3043883">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043888"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043889">--</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043895"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043898">[</span><span class="ident" id="3043899"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043900">]</span>&nbsp;<span class="op" id="3043902">=</span>&nbsp;<span class="string" id="3043904">&#39;x&#39;</span>&nbsp;<span class="op" id="3043908">+</span>&nbsp;<span class="ident" id="3043910"><a href="/fmt/format.go.html#3042078">digits</a></span><span class="op" id="3043916">[</span><span class="num" id="3043917">10</span><span class="op" id="3043919">]</span>&nbsp;<span class="op" id="3043921">-</span>&nbsp;<span class="string" id="3043923">&#39;a&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043930"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043931">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043937"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043940">[</span><span class="ident" id="3043941"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043942">]</span>&nbsp;<span class="op" id="3043944">=</span>&nbsp;<span class="string" id="3043946">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043955">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043958">if</span>&nbsp;<span class="ident" id="3043961"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3043962">.</span><span class="ident" id="3043963">unicode</span>&nbsp;<span class="op" id="3043971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043975"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043976">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043981"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3043984">[</span><span class="ident" id="3043985"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043986">]</span>&nbsp;<span class="op" id="3043988">=</span>&nbsp;<span class="string" id="3043990">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043996"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3043997">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044002"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044005">[</span><span class="ident" id="3044006"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3044007">]</span>&nbsp;<span class="op" id="3044009">=</span>&nbsp;<span class="string" id="3044011">&#39;U&#39;</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044020">if</span>&nbsp;<span class="ident" id="3044023"><a href="/fmt/format.go.html#3042445">negative</a></span>&nbsp;<span class="op" id="3044032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044036"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3044037">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044042"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044045">[</span><span class="ident" id="3044046"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3044047">]</span>&nbsp;<span class="op" id="3044049">=</span>&nbsp;<span class="string" id="3044051">&#39;-&#39;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044056">}</span>&nbsp;<span class="keyword" id="3044058">else</span>&nbsp;<span class="keyword" id="3044063">if</span>&nbsp;<span class="ident" id="3044066"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3044067">.</span><span class="ident" id="3044068">plus</span>&nbsp;<span class="op" id="3044073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044077"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3044078">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044083"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044086">[</span><span class="ident" id="3044087"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3044088">]</span>&nbsp;<span class="op" id="3044090">=</span>&nbsp;<span class="string" id="3044092">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044097">}</span>&nbsp;<span class="keyword" id="3044099">else</span>&nbsp;<span class="keyword" id="3044104">if</span>&nbsp;<span class="ident" id="3044107"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3044108">.</span><span class="ident" id="3044109">space</span>&nbsp;<span class="op" id="3044115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044119"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3044120">--</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044125"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044128">[</span><span class="ident" id="3044129"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3044130">]</span>&nbsp;<span class="op" id="3044132">=</span>&nbsp;<span class="string" id="3044134">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3044143">//&nbsp;If&nbsp;we&nbsp;want&nbsp;a&nbsp;quoted&nbsp;char&nbsp;for&nbsp;%#U,&nbsp;move&nbsp;the&nbsp;data&nbsp;up&nbsp;to&nbsp;make&nbsp;room.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044212">if</span>&nbsp;<span class="ident" id="3044215"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3044216">.</span><span class="ident" id="3044217">unicode</span>&nbsp;<span class="op" id="3044225">&amp;&amp;</span>&nbsp;<span class="ident" id="3044228"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3044229">.</span><span class="ident" id="3044230">uniQuote</span>&nbsp;<span class="op" id="3044239">&amp;&amp;</span>&nbsp;<span class="ident" id="3044242"><a href="/fmt/format.go.html#3042039">a</a></span>&nbsp;<span class="op" id="3044244">&gt;=</span>&nbsp;<span class="num" id="3044247">0</span>&nbsp;<span class="op" id="3044249">&amp;&amp;</span>&nbsp;<span class="ident" id="3044252"><a href="/fmt/format.go.html#3042039">a</a></span>&nbsp;<span class="op" id="3044254">&lt;=</span>&nbsp;<span class="ident" id="3044257"><a href="/fmt/format.go.html#3039068">utf8</a></span><span class="op" id="3044261">.</span><span class="ident" id="3044262">MaxRune</span>&nbsp;<span class="op" id="3044270">&amp;&amp;</span>&nbsp;<span class="ident" id="3044273"><a href="/fmt/format.go.html#3039057">strconv</a></span><span class="op" id="3044280">.</span><span class="ident" id="3044281">IsPrint</span><span class="op" id="3044288">(</span><span class="builtintype" id="3044289">rune</span><span class="op" id="3044293">(</span><span class="ident" id="3044294"><a href="/fmt/format.go.html#3042039">a</a></span><span class="op" id="3044295">)</span><span class="op" id="3044296">)</span>&nbsp;<span class="op" id="3044298">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044302">runeWidth</span>&nbsp;<span class="op" id="3044312">:=</span>&nbsp;<span class="ident" id="3044315"><a href="/fmt/format.go.html#3039068">utf8</a></span><span class="op" id="3044319">.</span><span class="ident" id="3044320">RuneLen</span><span class="op" id="3044327">(</span><span class="builtintype" id="3044328">rune</span><span class="op" id="3044332">(</span><span class="ident" id="3044333"><a href="/fmt/format.go.html#3042039">a</a></span><span class="op" id="3044334">)</span><span class="op" id="3044335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044339">width</span>&nbsp;<span class="op" id="3044345">:=</span>&nbsp;<span class="num" id="3044348">1</span>&nbsp;<span class="op" id="3044350">+</span>&nbsp;<span class="num" id="3044352">1</span>&nbsp;<span class="op" id="3044354">+</span>&nbsp;<span class="ident" id="3044356"><a href="/fmt/format.go.html#3044302">runeWidth</a></span>&nbsp;<span class="op" id="3044366">+</span>&nbsp;<span class="num" id="3044368">1</span>&nbsp;<span class="comment" id="3044370">//&nbsp;space,&nbsp;quote,&nbsp;rune,&nbsp;quote</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3044401">copy</span><span class="op" id="3044405">(</span><span class="ident" id="3044406"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044409">[</span><span class="ident" id="3044410"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3044411">-</span><span class="ident" id="3044412"><a href="/fmt/format.go.html#3044339">width</a></span><span class="op" id="3044417">:</span><span class="op" id="3044418">]</span><span class="op" id="3044419">,</span>&nbsp;<span class="ident" id="3044421"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044424">[</span><span class="ident" id="3044425"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3044426">:</span><span class="op" id="3044427">]</span><span class="op" id="3044428">)</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3044432">//&nbsp;guaranteed&nbsp;to&nbsp;have&nbsp;enough&nbsp;room.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044469"><a href="/fmt/format.go.html#3043112">i</a></span>&nbsp;<span class="op" id="3044471">-=</span>&nbsp;<span class="ident" id="3044474"><a href="/fmt/format.go.html#3044339">width</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3044482">//&nbsp;Now&nbsp;put&nbsp;&#34;&nbsp;&#39;x&#39;&#34;&nbsp;at&nbsp;the&nbsp;end.</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044514">j</span>&nbsp;<span class="op" id="3044516">:=</span>&nbsp;<span class="builtinfunc" id="3044519">len</span><span class="op" id="3044522">(</span><span class="ident" id="3044523"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044526">)</span>&nbsp;<span class="op" id="3044528">-</span>&nbsp;<span class="ident" id="3044530"><a href="/fmt/format.go.html#3044339">width</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044538"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044541">[</span><span class="ident" id="3044542"><a href="/fmt/format.go.html#3044514">j</a></span><span class="op" id="3044543">]</span>&nbsp;<span class="op" id="3044545">=</span>&nbsp;<span class="string" id="3044547">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044553"><a href="/fmt/format.go.html#3044514">j</a></span><span class="op" id="3044554">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044559"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044562">[</span><span class="ident" id="3044563"><a href="/fmt/format.go.html#3044514">j</a></span><span class="op" id="3044564">]</span>&nbsp;<span class="op" id="3044566">=</span>&nbsp;<span class="string" id="3044568">&#39;\&#39;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044575"><a href="/fmt/format.go.html#3044514">j</a></span><span class="op" id="3044576">++</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044581"><a href="/fmt/format.go.html#3039068">utf8</a></span><span class="op" id="3044585">.</span><span class="ident" id="3044586">EncodeRune</span><span class="op" id="3044596">(</span><span class="ident" id="3044597"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044600">[</span><span class="ident" id="3044601"><a href="/fmt/format.go.html#3044514">j</a></span><span class="op" id="3044602">:</span><span class="op" id="3044603">]</span><span class="op" id="3044604">,</span>&nbsp;<span class="builtintype" id="3044606">rune</span><span class="op" id="3044610">(</span><span class="ident" id="3044611"><a href="/fmt/format.go.html#3042039">a</a></span><span class="op" id="3044612">)</span><span class="op" id="3044613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044617"><a href="/fmt/format.go.html#3044514">j</a></span>&nbsp;<span class="op" id="3044619">+=</span>&nbsp;<span class="ident" id="3044622"><a href="/fmt/format.go.html#3044302">runeWidth</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044634"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044637">[</span><span class="ident" id="3044638"><a href="/fmt/format.go.html#3044514">j</a></span><span class="op" id="3044639">]</span>&nbsp;<span class="op" id="3044641">=</span>&nbsp;<span class="string" id="3044643">&#39;\&#39;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044653"><a href="/fmt/format.go.html#3042023">f</a></span><span class="op" id="3044654">.</span><span class="ident" id="3044655">pad</span><span class="op" id="3044658">(</span><span class="ident" id="3044659"><a href="/fmt/format.go.html#3042214">buf</a></span><span class="op" id="3044662">[</span><span class="ident" id="3044663"><a href="/fmt/format.go.html#3043112">i</a></span><span class="op" id="3044664">:</span><span class="op" id="3044665">]</span><span class="op" id="3044666">)</span><br>
<span class="lineno"></span><span class="op" id="3044668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3044671">//&nbsp;truncate&nbsp;truncates&nbsp;the&nbsp;string&nbsp;to&nbsp;the&nbsp;specified&nbsp;precision,&nbsp;if&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="3044744">func</span>&nbsp;<span class="op" id="3044749">(</span><span class="ident" id="3044750">f</span>&nbsp;<span class="op" id="3044752">*</span><span class="ident" id="3044753"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3044756">)</span>&nbsp;<span class="ident" id="3044758">truncate</span><span class="op" id="3044766">(</span><span class="ident" id="3044767">s</span>&nbsp;<span class="builtintype" id="3044769">string</span><span class="op" id="3044775">)</span>&nbsp;<span class="builtintype" id="3044777">string</span>&nbsp;<span class="op" id="3044784">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044787">if</span>&nbsp;<span class="ident" id="3044790"><a href="/fmt/format.go.html#3044750">f</a></span><span class="op" id="3044791">.</span><span class="ident" id="3044792">precPresent</span>&nbsp;<span class="op" id="3044804">&amp;&amp;</span>&nbsp;<span class="ident" id="3044807"><a href="/fmt/format.go.html#3044750">f</a></span><span class="op" id="3044808">.</span><span class="ident" id="3044809">prec</span>&nbsp;<span class="op" id="3044814">&lt;</span>&nbsp;<span class="ident" id="3044816"><a href="/fmt/format.go.html#3039068">utf8</a></span><span class="op" id="3044820">.</span><span class="ident" id="3044821">RuneCountInString</span><span class="op" id="3044838">(</span><span class="ident" id="3044839"><a href="/fmt/format.go.html#3044767">s</a></span><span class="op" id="3044840">)</span>&nbsp;<span class="op" id="3044842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044846">n</span>&nbsp;<span class="op" id="3044848">:=</span>&nbsp;<span class="ident" id="3044851"><a href="/fmt/format.go.html#3044750">f</a></span><span class="op" id="3044852">.</span><span class="ident" id="3044853">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044860">for</span>&nbsp;<span class="ident" id="3044864">i</span>&nbsp;<span class="op" id="3044866">:=</span>&nbsp;<span class="keyword" id="3044869">range</span>&nbsp;<span class="ident" id="3044875"><a href="/fmt/format.go.html#3044767">s</a></span>&nbsp;<span class="op" id="3044877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044882">if</span>&nbsp;<span class="ident" id="3044885"><a href="/fmt/format.go.html#3044846">n</a></span>&nbsp;<span class="op" id="3044887">==</span>&nbsp;<span class="num" id="3044890">0</span>&nbsp;<span class="op" id="3044892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044898"><a href="/fmt/format.go.html#3044767">s</a></span>&nbsp;<span class="op" id="3044900">=</span>&nbsp;<span class="ident" id="3044902"><a href="/fmt/format.go.html#3044767">s</a></span><span class="op" id="3044903">[</span><span class="op" id="3044904">:</span><span class="ident" id="3044905"><a href="/fmt/format.go.html#3044864">i</a></span><span class="op" id="3044906">]</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044912">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044926"><a href="/fmt/format.go.html#3044846">n</a></span><span class="op" id="3044927">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044935">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044938">return</span>&nbsp;<span class="ident" id="3044945"><a href="/fmt/format.go.html#3044767">s</a></span><br>
<span class="lineno"></span><span class="op" id="3044947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3044950">//&nbsp;fmt_s&nbsp;formats&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3044977">func</span>&nbsp;<span class="op" id="3044982">(</span><span class="ident" id="3044983">f</span>&nbsp;<span class="op" id="3044985">*</span><span class="ident" id="3044986"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3044989">)</span>&nbsp;<span class="ident" id="3044991">fmt_s</span><span class="op" id="3044996">(</span><span class="ident" id="3044997">s</span>&nbsp;<span class="builtintype" id="3044999">string</span><span class="op" id="3045005">)</span>&nbsp;<span class="op" id="3045007">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045010"><a href="/fmt/format.go.html#3044997">s</a></span>&nbsp;<span class="op" id="3045012">=</span>&nbsp;<span class="ident" id="3045014"><a href="/fmt/format.go.html#3044983">f</a></span><span class="op" id="3045015">.</span><span class="ident" id="3045016">truncate</span><span class="op" id="3045024">(</span><span class="ident" id="3045025"><a href="/fmt/format.go.html#3044997">s</a></span><span class="op" id="3045026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045029"><a href="/fmt/format.go.html#3044983">f</a></span><span class="op" id="3045030">.</span><span class="ident" id="3045031">padString</span><span class="op" id="3045040">(</span><span class="ident" id="3045041"><a href="/fmt/format.go.html#3044997">s</a></span><span class="op" id="3045042">)</span><br>
<span class="lineno"></span><span class="op" id="3045044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3045047">//&nbsp;fmt_sbx&nbsp;formats&nbsp;a&nbsp;string&nbsp;or&nbsp;byte&nbsp;slice&nbsp;as&nbsp;a&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;its&nbsp;bytes.</span><br>
<span class="lineno">315</span><span class="keyword" id="3045129">func</span>&nbsp;<span class="op" id="3045134">(</span><span class="ident" id="3045135">f</span>&nbsp;<span class="op" id="3045137">*</span><span class="ident" id="3045138"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3045141">)</span>&nbsp;<span class="ident" id="3045143">fmt_sbx</span><span class="op" id="3045150">(</span><span class="ident" id="3045151">s</span>&nbsp;<span class="builtintype" id="3045153">string</span><span class="op" id="3045159">,</span>&nbsp;<span class="ident" id="3045161">b</span>&nbsp;<span class="op" id="3045163">[</span><span class="op" id="3045164">]</span><span class="builtintype" id="3045165">byte</span><span class="op" id="3045169">,</span>&nbsp;<span class="ident" id="3045171">digits</span>&nbsp;<span class="builtintype" id="3045178">string</span><span class="op" id="3045184">)</span>&nbsp;<span class="op" id="3045186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045189">n</span>&nbsp;<span class="op" id="3045191">:=</span>&nbsp;<span class="builtinfunc" id="3045194">len</span><span class="op" id="3045197">(</span><span class="ident" id="3045198"><a href="/fmt/format.go.html#3045161">b</a></span><span class="op" id="3045199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045202">if</span>&nbsp;<span class="ident" id="3045205"><a href="/fmt/format.go.html#3045161">b</a></span>&nbsp;<span class="op" id="3045207">==</span>&nbsp;<span class="ident" id="3045210">nil</span>&nbsp;<span class="op" id="3045214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045218"><a href="/fmt/format.go.html#3045189">n</a></span>&nbsp;<span class="op" id="3045220">=</span>&nbsp;<span class="builtinfunc" id="3045222">len</span><span class="op" id="3045225">(</span><span class="ident" id="3045226"><a href="/fmt/format.go.html#3045151">s</a></span><span class="op" id="3045227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045230">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045233">x</span>&nbsp;<span class="op" id="3045235">:=</span>&nbsp;<span class="ident" id="3045238"><a href="/fmt/format.go.html#3045171">digits</a></span><span class="op" id="3045244">[</span><span class="num" id="3045245">10</span><span class="op" id="3045247">]</span>&nbsp;<span class="op" id="3045249">-</span>&nbsp;<span class="string" id="3045251">&#39;a&#39;</span>&nbsp;<span class="op" id="3045255">+</span>&nbsp;<span class="string" id="3045257">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3045262">//&nbsp;TODO:&nbsp;Avoid&nbsp;buffer&nbsp;by&nbsp;pre-padding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045301">var</span>&nbsp;<span class="ident" id="3045305">buf</span>&nbsp;<span class="op" id="3045309">[</span><span class="op" id="3045310">]</span><span class="builtintype" id="3045311">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045317">for</span>&nbsp;<span class="ident" id="3045321">i</span>&nbsp;<span class="op" id="3045323">:=</span>&nbsp;<span class="num" id="3045326">0</span><span class="op" id="3045327">;</span>&nbsp;<span class="ident" id="3045329"><a href="/fmt/format.go.html#3045321">i</a></span>&nbsp;<span class="op" id="3045331">&lt;</span>&nbsp;<span class="ident" id="3045333"><a href="/fmt/format.go.html#3045189">n</a></span><span class="op" id="3045334">;</span>&nbsp;<span class="ident" id="3045336"><a href="/fmt/format.go.html#3045321">i</a></span><span class="op" id="3045337">++</span>&nbsp;<span class="op" id="3045340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045344">if</span>&nbsp;<span class="ident" id="3045347"><a href="/fmt/format.go.html#3045321">i</a></span>&nbsp;<span class="op" id="3045349">&gt;</span>&nbsp;<span class="num" id="3045351">0</span>&nbsp;<span class="op" id="3045353">&amp;&amp;</span>&nbsp;<span class="ident" id="3045356"><a href="/fmt/format.go.html#3045135">f</a></span><span class="op" id="3045357">.</span><span class="ident" id="3045358">space</span>&nbsp;<span class="op" id="3045364">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045369"><a href="/fmt/format.go.html#3045305">buf</a></span>&nbsp;<span class="op" id="3045373">=</span>&nbsp;<span class="builtinfunc" id="3045375">append</span><span class="op" id="3045381">(</span><span class="ident" id="3045382"><a href="/fmt/format.go.html#3045305">buf</a></span><span class="op" id="3045385">,</span>&nbsp;<span class="string" id="3045387">&#39;&nbsp;&#39;</span><span class="op" id="3045390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045398">if</span>&nbsp;<span class="ident" id="3045401"><a href="/fmt/format.go.html#3045135">f</a></span><span class="op" id="3045402">.</span><span class="ident" id="3045403">sharp</span>&nbsp;<span class="op" id="3045409">&amp;&amp;</span>&nbsp;<span class="op" id="3045412">(</span><span class="ident" id="3045413"><a href="/fmt/format.go.html#3045135">f</a></span><span class="op" id="3045414">.</span><span class="ident" id="3045415">space</span>&nbsp;<span class="op" id="3045421">||</span>&nbsp;<span class="ident" id="3045424"><a href="/fmt/format.go.html#3045321">i</a></span>&nbsp;<span class="op" id="3045426">==</span>&nbsp;<span class="num" id="3045429">0</span><span class="op" id="3045430">)</span>&nbsp;<span class="op" id="3045432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045437"><a href="/fmt/format.go.html#3045305">buf</a></span>&nbsp;<span class="op" id="3045441">=</span>&nbsp;<span class="builtinfunc" id="3045443">append</span><span class="op" id="3045449">(</span><span class="ident" id="3045450"><a href="/fmt/format.go.html#3045305">buf</a></span><span class="op" id="3045453">,</span>&nbsp;<span class="string" id="3045455">&#39;0&#39;</span><span class="op" id="3045458">,</span>&nbsp;<span class="ident" id="3045460"><a href="/fmt/format.go.html#3045233">x</a></span><span class="op" id="3045461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045465">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045469">var</span>&nbsp;<span class="ident" id="3045473">c</span>&nbsp;<span class="builtintype" id="3045475">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045482">if</span>&nbsp;<span class="ident" id="3045485"><a href="/fmt/format.go.html#3045161">b</a></span>&nbsp;<span class="op" id="3045487">==</span>&nbsp;<span class="ident" id="3045490">nil</span>&nbsp;<span class="op" id="3045494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045499"><a href="/fmt/format.go.html#3045473">c</a></span>&nbsp;<span class="op" id="3045501">=</span>&nbsp;<span class="ident" id="3045503"><a href="/fmt/format.go.html#3045151">s</a></span><span class="op" id="3045504">[</span><span class="ident" id="3045505"><a href="/fmt/format.go.html#3045321">i</a></span><span class="op" id="3045506">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045510">}</span>&nbsp;<span class="keyword" id="3045512">else</span>&nbsp;<span class="op" id="3045517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045522"><a href="/fmt/format.go.html#3045473">c</a></span>&nbsp;<span class="op" id="3045524">=</span>&nbsp;<span class="ident" id="3045526"><a href="/fmt/format.go.html#3045161">b</a></span><span class="op" id="3045527">[</span><span class="ident" id="3045528"><a href="/fmt/format.go.html#3045321">i</a></span><span class="op" id="3045529">]</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045537"><a href="/fmt/format.go.html#3045305">buf</a></span>&nbsp;<span class="op" id="3045541">=</span>&nbsp;<span class="builtinfunc" id="3045543">append</span><span class="op" id="3045549">(</span><span class="ident" id="3045550"><a href="/fmt/format.go.html#3045305">buf</a></span><span class="op" id="3045553">,</span>&nbsp;<span class="ident" id="3045555"><a href="/fmt/format.go.html#3045171">digits</a></span><span class="op" id="3045561">[</span><span class="ident" id="3045562"><a href="/fmt/format.go.html#3045473">c</a></span><span class="op" id="3045563">&gt;&gt;</span><span class="num" id="3045565">4</span><span class="op" id="3045566">]</span><span class="op" id="3045567">,</span>&nbsp;<span class="ident" id="3045569"><a href="/fmt/format.go.html#3045171">digits</a></span><span class="op" id="3045575">[</span><span class="ident" id="3045576"><a href="/fmt/format.go.html#3045473">c</a></span><span class="op" id="3045577">&amp;</span><span class="num" id="3045578">0xF</span><span class="op" id="3045581">]</span><span class="op" id="3045582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045588"><a href="/fmt/format.go.html#3045135">f</a></span><span class="op" id="3045589">.</span><span class="ident" id="3045590">pad</span><span class="op" id="3045593">(</span><span class="ident" id="3045594"><a href="/fmt/format.go.html#3045305">buf</a></span><span class="op" id="3045597">)</span><br>
<span class="lineno"></span><span class="op" id="3045599">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="3045602">//&nbsp;fmt_sx&nbsp;formats&nbsp;a&nbsp;string&nbsp;as&nbsp;a&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;its&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="3045669">func</span>&nbsp;<span class="op" id="3045674">(</span><span class="ident" id="3045675">f</span>&nbsp;<span class="op" id="3045677">*</span><span class="ident" id="3045678"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3045681">)</span>&nbsp;<span class="ident" id="3045683">fmt_sx</span><span class="op" id="3045689">(</span><span class="ident" id="3045690">s</span><span class="op" id="3045691">,</span>&nbsp;<span class="ident" id="3045693">digits</span>&nbsp;<span class="builtintype" id="3045700">string</span><span class="op" id="3045706">)</span>&nbsp;<span class="op" id="3045708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045711">if</span>&nbsp;<span class="ident" id="3045714"><a href="/fmt/format.go.html#3045675">f</a></span><span class="op" id="3045715">.</span><span class="ident" id="3045716">precPresent</span>&nbsp;<span class="op" id="3045728">&amp;&amp;</span>&nbsp;<span class="ident" id="3045731"><a href="/fmt/format.go.html#3045675">f</a></span><span class="op" id="3045732">.</span><span class="ident" id="3045733">prec</span>&nbsp;<span class="op" id="3045738">&lt;</span>&nbsp;<span class="builtinfunc" id="3045740">len</span><span class="op" id="3045743">(</span><span class="ident" id="3045744"><a href="/fmt/format.go.html#3045690">s</a></span><span class="op" id="3045745">)</span>&nbsp;<span class="op" id="3045747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045751"><a href="/fmt/format.go.html#3045690">s</a></span>&nbsp;<span class="op" id="3045753">=</span>&nbsp;<span class="ident" id="3045755"><a href="/fmt/format.go.html#3045690">s</a></span><span class="op" id="3045756">[</span><span class="op" id="3045757">:</span><span class="ident" id="3045758"><a href="/fmt/format.go.html#3045675">f</a></span><span class="op" id="3045759">.</span><span class="ident" id="3045760">prec</span><span class="op" id="3045764">]</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045770"><a href="/fmt/format.go.html#3045675">f</a></span><span class="op" id="3045771">.</span><span class="ident" id="3045772">fmt_sbx</span><span class="op" id="3045779">(</span><span class="ident" id="3045780"><a href="/fmt/format.go.html#3045690">s</a></span><span class="op" id="3045781">,</span>&nbsp;<span class="ident" id="3045783">nil</span><span class="op" id="3045786">,</span>&nbsp;<span class="ident" id="3045788"><a href="/fmt/format.go.html#3045693">digits</a></span><span class="op" id="3045794">)</span><br>
<span class="lineno"></span><span class="op" id="3045796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3045799">//&nbsp;fmt_bx&nbsp;formats&nbsp;a&nbsp;byte&nbsp;slice&nbsp;as&nbsp;a&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;its&nbsp;bytes.</span><br>
<span class="lineno">350</span><span class="keyword" id="3045870">func</span>&nbsp;<span class="op" id="3045875">(</span><span class="ident" id="3045876">f</span>&nbsp;<span class="op" id="3045878">*</span><span class="ident" id="3045879"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3045882">)</span>&nbsp;<span class="ident" id="3045884">fmt_bx</span><span class="op" id="3045890">(</span><span class="ident" id="3045891">b</span>&nbsp;<span class="op" id="3045893">[</span><span class="op" id="3045894">]</span><span class="builtintype" id="3045895">byte</span><span class="op" id="3045899">,</span>&nbsp;<span class="ident" id="3045901">digits</span>&nbsp;<span class="builtintype" id="3045908">string</span><span class="op" id="3045914">)</span>&nbsp;<span class="op" id="3045916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045919">if</span>&nbsp;<span class="ident" id="3045922"><a href="/fmt/format.go.html#3045876">f</a></span><span class="op" id="3045923">.</span><span class="ident" id="3045924">precPresent</span>&nbsp;<span class="op" id="3045936">&amp;&amp;</span>&nbsp;<span class="ident" id="3045939"><a href="/fmt/format.go.html#3045876">f</a></span><span class="op" id="3045940">.</span><span class="ident" id="3045941">prec</span>&nbsp;<span class="op" id="3045946">&lt;</span>&nbsp;<span class="builtinfunc" id="3045948">len</span><span class="op" id="3045951">(</span><span class="ident" id="3045952"><a href="/fmt/format.go.html#3045891">b</a></span><span class="op" id="3045953">)</span>&nbsp;<span class="op" id="3045955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045959"><a href="/fmt/format.go.html#3045891">b</a></span>&nbsp;<span class="op" id="3045961">=</span>&nbsp;<span class="ident" id="3045963"><a href="/fmt/format.go.html#3045891">b</a></span><span class="op" id="3045964">[</span><span class="op" id="3045965">:</span><span class="ident" id="3045966"><a href="/fmt/format.go.html#3045876">f</a></span><span class="op" id="3045967">.</span><span class="ident" id="3045968">prec</span><span class="op" id="3045972">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045978"><a href="/fmt/format.go.html#3045876">f</a></span><span class="op" id="3045979">.</span><span class="ident" id="3045980">fmt_sbx</span><span class="op" id="3045987">(</span><span class="string" id="3045988">&#34;&#34;</span><span class="op" id="3045990">,</span>&nbsp;<span class="ident" id="3045992"><a href="/fmt/format.go.html#3045891">b</a></span><span class="op" id="3045993">,</span>&nbsp;<span class="ident" id="3045995"><a href="/fmt/format.go.html#3045901">digits</a></span><span class="op" id="3046001">)</span><br>
<span class="lineno">355</span><span class="op" id="3046003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3046006">//&nbsp;fmt_q&nbsp;formats&nbsp;a&nbsp;string&nbsp;as&nbsp;a&nbsp;double-quoted,&nbsp;escaped&nbsp;Go&nbsp;string&nbsp;constant.</span><br>
<span class="lineno"></span><span class="keyword" id="3046080">func</span>&nbsp;<span class="op" id="3046085">(</span><span class="ident" id="3046086">f</span>&nbsp;<span class="op" id="3046088">*</span><span class="ident" id="3046089"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3046092">)</span>&nbsp;<span class="ident" id="3046094">fmt_q</span><span class="op" id="3046099">(</span><span class="ident" id="3046100">s</span>&nbsp;<span class="builtintype" id="3046102">string</span><span class="op" id="3046108">)</span>&nbsp;<span class="op" id="3046110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046113"><a href="/fmt/format.go.html#3046100">s</a></span>&nbsp;<span class="op" id="3046115">=</span>&nbsp;<span class="ident" id="3046117"><a href="/fmt/format.go.html#3046086">f</a></span><span class="op" id="3046118">.</span><span class="ident" id="3046119">truncate</span><span class="op" id="3046127">(</span><span class="ident" id="3046128"><a href="/fmt/format.go.html#3046100">s</a></span><span class="op" id="3046129">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046132">var</span>&nbsp;<span class="ident" id="3046136">quoted</span>&nbsp;<span class="builtintype" id="3046143">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046151">if</span>&nbsp;<span class="ident" id="3046154"><a href="/fmt/format.go.html#3046086">f</a></span><span class="op" id="3046155">.</span><span class="ident" id="3046156">sharp</span>&nbsp;<span class="op" id="3046162">&amp;&amp;</span>&nbsp;<span class="ident" id="3046165"><a href="/fmt/format.go.html#3039057">strconv</a></span><span class="op" id="3046172">.</span><span class="ident" id="3046173">CanBackquote</span><span class="op" id="3046185">(</span><span class="ident" id="3046186"><a href="/fmt/format.go.html#3046100">s</a></span><span class="op" id="3046187">)</span>&nbsp;<span class="op" id="3046189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046193"><a href="/fmt/format.go.html#3046136">quoted</a></span>&nbsp;<span class="op" id="3046200">=</span>&nbsp;<span class="string" id="3046202">&#34;`&#34;</span>&nbsp;<span class="op" id="3046206">+</span>&nbsp;<span class="ident" id="3046208"><a href="/fmt/format.go.html#3046100">s</a></span>&nbsp;<span class="op" id="3046210">+</span>&nbsp;<span class="string" id="3046212">&#34;`&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046217">}</span>&nbsp;<span class="keyword" id="3046219">else</span>&nbsp;<span class="op" id="3046224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046228">if</span>&nbsp;<span class="ident" id="3046231"><a href="/fmt/format.go.html#3046086">f</a></span><span class="op" id="3046232">.</span><span class="ident" id="3046233">plus</span>&nbsp;<span class="op" id="3046238">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046243"><a href="/fmt/format.go.html#3046136">quoted</a></span>&nbsp;<span class="op" id="3046250">=</span>&nbsp;<span class="ident" id="3046252"><a href="/fmt/format.go.html#3039057">strconv</a></span><span class="op" id="3046259">.</span><span class="ident" id="3046260">QuoteToASCII</span><span class="op" id="3046272">(</span><span class="ident" id="3046273"><a href="/fmt/format.go.html#3046100">s</a></span><span class="op" id="3046274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046278">}</span>&nbsp;<span class="keyword" id="3046280">else</span>&nbsp;<span class="op" id="3046285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046290"><a href="/fmt/format.go.html#3046136">quoted</a></span>&nbsp;<span class="op" id="3046297">=</span>&nbsp;<span class="ident" id="3046299"><a href="/fmt/format.go.html#3039057">strconv</a></span><span class="op" id="3046306">.</span><span class="ident" id="3046307">Quote</span><span class="op" id="3046312">(</span><span class="ident" id="3046313"><a href="/fmt/format.go.html#3046100">s</a></span><span class="op" id="3046314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046321">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046324"><a href="/fmt/format.go.html#3046086">f</a></span><span class="op" id="3046325">.</span><span class="ident" id="3046326">padString</span><span class="op" id="3046335">(</span><span class="ident" id="3046336"><a href="/fmt/format.go.html#3046136">quoted</a></span><span class="op" id="3046342">)</span><br>
<span class="lineno"></span><span class="op" id="3046344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3046347">//&nbsp;fmt_qc&nbsp;formats&nbsp;the&nbsp;integer&nbsp;as&nbsp;a&nbsp;single-quoted,&nbsp;escaped&nbsp;Go&nbsp;character&nbsp;constant.</span><br>
<span class="lineno"></span><span class="comment" id="3046428">//&nbsp;If&nbsp;the&nbsp;character&nbsp;is&nbsp;not&nbsp;valid&nbsp;Unicode,&nbsp;it&nbsp;will&nbsp;print&nbsp;&#39;\ufffd&#39;.</span><br>
<span class="lineno">375</span><span class="keyword" id="3046494">func</span>&nbsp;<span class="op" id="3046499">(</span><span class="ident" id="3046500">f</span>&nbsp;<span class="op" id="3046502">*</span><span class="ident" id="3046503"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3046506">)</span>&nbsp;<span class="ident" id="3046508">fmt_qc</span><span class="op" id="3046514">(</span><span class="ident" id="3046515">c</span>&nbsp;<span class="ident" id="3046517">int64</span><span class="op" id="3046522">)</span>&nbsp;<span class="op" id="3046524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046527">var</span>&nbsp;<span class="ident" id="3046531">quoted</span>&nbsp;<span class="op" id="3046538">[</span><span class="op" id="3046539">]</span><span class="builtintype" id="3046540">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046546">if</span>&nbsp;<span class="ident" id="3046549"><a href="/fmt/format.go.html#3046500">f</a></span><span class="op" id="3046550">.</span><span class="ident" id="3046551">plus</span>&nbsp;<span class="op" id="3046556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046560"><a href="/fmt/format.go.html#3046531">quoted</a></span>&nbsp;<span class="op" id="3046567">=</span>&nbsp;<span class="ident" id="3046569"><a href="/fmt/format.go.html#3039057">strconv</a></span><span class="op" id="3046576">.</span><span class="ident" id="3046577">AppendQuoteRuneToASCII</span><span class="op" id="3046599">(</span><span class="ident" id="3046600"><a href="/fmt/format.go.html#3046500">f</a></span><span class="op" id="3046601">.</span><span class="ident" id="3046602">intbuf</span><span class="op" id="3046608">[</span><span class="num" id="3046609">0</span><span class="op" id="3046610">:</span><span class="num" id="3046611">0</span><span class="op" id="3046612">]</span><span class="op" id="3046613">,</span>&nbsp;<span class="builtintype" id="3046615">rune</span><span class="op" id="3046619">(</span><span class="ident" id="3046620"><a href="/fmt/format.go.html#3046515">c</a></span><span class="op" id="3046621">)</span><span class="op" id="3046622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046625">}</span>&nbsp;<span class="keyword" id="3046627">else</span>&nbsp;<span class="op" id="3046632">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046636"><a href="/fmt/format.go.html#3046531">quoted</a></span>&nbsp;<span class="op" id="3046643">=</span>&nbsp;<span class="ident" id="3046645"><a href="/fmt/format.go.html#3039057">strconv</a></span><span class="op" id="3046652">.</span><span class="ident" id="3046653">AppendQuoteRune</span><span class="op" id="3046668">(</span><span class="ident" id="3046669"><a href="/fmt/format.go.html#3046500">f</a></span><span class="op" id="3046670">.</span><span class="ident" id="3046671">intbuf</span><span class="op" id="3046677">[</span><span class="num" id="3046678">0</span><span class="op" id="3046679">:</span><span class="num" id="3046680">0</span><span class="op" id="3046681">]</span><span class="op" id="3046682">,</span>&nbsp;<span class="builtintype" id="3046684">rune</span><span class="op" id="3046688">(</span><span class="ident" id="3046689"><a href="/fmt/format.go.html#3046515">c</a></span><span class="op" id="3046690">)</span><span class="op" id="3046691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046697"><a href="/fmt/format.go.html#3046500">f</a></span><span class="op" id="3046698">.</span><span class="ident" id="3046699">pad</span><span class="op" id="3046702">(</span><span class="ident" id="3046703"><a href="/fmt/format.go.html#3046531">quoted</a></span><span class="op" id="3046709">)</span><br>
<span class="lineno"></span><span class="op" id="3046711">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span><span class="comment" id="3046714">//&nbsp;floating-point</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3046733">func</span>&nbsp;<span class="ident" id="3046738">doPrec</span><span class="op" id="3046744">(</span><span class="ident" id="3046745">f</span>&nbsp;<span class="op" id="3046747">*</span><span class="ident" id="3046748"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3046751">,</span>&nbsp;<span class="ident" id="3046753">def</span>&nbsp;<span class="builtintype" id="3046757">int</span><span class="op" id="3046760">)</span>&nbsp;<span class="builtintype" id="3046762">int</span>&nbsp;<span class="op" id="3046766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046769">if</span>&nbsp;<span class="ident" id="3046772"><a href="/fmt/format.go.html#3046745">f</a></span><span class="op" id="3046773">.</span><span class="ident" id="3046774">precPresent</span>&nbsp;<span class="op" id="3046786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046790">return</span>&nbsp;<span class="ident" id="3046797"><a href="/fmt/format.go.html#3046745">f</a></span><span class="op" id="3046798">.</span><span class="ident" id="3046799">prec</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046808">return</span>&nbsp;<span class="ident" id="3046815"><a href="/fmt/format.go.html#3046753">def</a></span><br>
<span class="lineno"></span><span class="op" id="3046819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3046822">//&nbsp;formatFloat&nbsp;formats&nbsp;a&nbsp;float64;&nbsp;it&nbsp;is&nbsp;an&nbsp;efficient&nbsp;equivalent&nbsp;to&nbsp;&nbsp;f.pad(strconv.FormatFloat()...).</span><br>
<span class="lineno">395</span><span class="keyword" id="3046923">func</span>&nbsp;<span class="op" id="3046928">(</span><span class="ident" id="3046929">f</span>&nbsp;<span class="op" id="3046931">*</span><span class="ident" id="3046932"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3046935">)</span>&nbsp;<span class="ident" id="3046937">formatFloat</span><span class="op" id="3046948">(</span><span class="ident" id="3046949">v</span>&nbsp;<span class="builtintype" id="3046951">float64</span><span class="op" id="3046958">,</span>&nbsp;<span class="ident" id="3046960">verb</span>&nbsp;<span class="builtintype" id="3046965">byte</span><span class="op" id="3046969">,</span>&nbsp;<span class="ident" id="3046971">prec</span><span class="op" id="3046975">,</span>&nbsp;<span class="ident" id="3046977">n</span>&nbsp;<span class="builtintype" id="3046979">int</span><span class="op" id="3046982">)</span>&nbsp;<span class="op" id="3046984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3046987">//&nbsp;Format&nbsp;number,&nbsp;reserving&nbsp;space&nbsp;for&nbsp;leading&nbsp;+&nbsp;sign&nbsp;if&nbsp;needed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047052">num</span>&nbsp;<span class="op" id="3047056">:=</span>&nbsp;<span class="ident" id="3047059"><a href="/fmt/format.go.html#3039057">strconv</a></span><span class="op" id="3047066">.</span><span class="ident" id="3047067">AppendFloat</span><span class="op" id="3047078">(</span><span class="ident" id="3047079"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047080">.</span><span class="ident" id="3047081">intbuf</span><span class="op" id="3047087">[</span><span class="num" id="3047088">0</span><span class="op" id="3047089">:</span><span class="num" id="3047090">1</span><span class="op" id="3047091">]</span><span class="op" id="3047092">,</span>&nbsp;<span class="ident" id="3047094"><a href="/fmt/format.go.html#3046949">v</a></span><span class="op" id="3047095">,</span>&nbsp;<span class="ident" id="3047097"><a href="/fmt/format.go.html#3046960">verb</a></span><span class="op" id="3047101">,</span>&nbsp;<span class="ident" id="3047103"><a href="/fmt/format.go.html#3046971">prec</a></span><span class="op" id="3047107">,</span>&nbsp;<span class="ident" id="3047109"><a href="/fmt/format.go.html#3046977">n</a></span><span class="op" id="3047110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047113">if</span>&nbsp;<span class="ident" id="3047116"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3047119">[</span><span class="num" id="3047120">1</span><span class="op" id="3047121">]</span>&nbsp;<span class="op" id="3047123">==</span>&nbsp;<span class="string" id="3047126">&#39;-&#39;</span>&nbsp;<span class="op" id="3047130">||</span>&nbsp;<span class="ident" id="3047133"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3047136">[</span><span class="num" id="3047137">1</span><span class="op" id="3047138">]</span>&nbsp;<span class="op" id="3047140">==</span>&nbsp;<span class="string" id="3047143">&#39;+&#39;</span>&nbsp;<span class="op" id="3047147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047151"><a href="/fmt/format.go.html#3047052">num</a></span>&nbsp;<span class="op" id="3047155">=</span>&nbsp;<span class="ident" id="3047157"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3047160">[</span><span class="num" id="3047161">1</span><span class="op" id="3047162">:</span><span class="op" id="3047163">]</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047166">}</span>&nbsp;<span class="keyword" id="3047168">else</span>&nbsp;<span class="op" id="3047173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047177"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3047180">[</span><span class="num" id="3047181">0</span><span class="op" id="3047182">]</span>&nbsp;<span class="op" id="3047184">=</span>&nbsp;<span class="string" id="3047186">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3047194">//&nbsp;Special&nbsp;handling&nbsp;for&nbsp;infinity,&nbsp;which&nbsp;doesn&#39;t&nbsp;look&nbsp;like&nbsp;a&nbsp;number&nbsp;so&nbsp;shouldn&#39;t&nbsp;be&nbsp;padded&nbsp;with&nbsp;zeros.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047297">if</span>&nbsp;<span class="ident" id="3047300"><a href="/fmt/format.go.html#3039049">math</a></span><span class="op" id="3047304">.</span><span class="ident" id="3047305">IsInf</span><span class="op" id="3047310">(</span><span class="ident" id="3047311"><a href="/fmt/format.go.html#3046949">v</a></span><span class="op" id="3047312">,</span>&nbsp;<span class="num" id="3047314">0</span><span class="op" id="3047315">)</span>&nbsp;<span class="op" id="3047317">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047321">if</span>&nbsp;<span class="ident" id="3047324"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047325">.</span><span class="ident" id="3047326">zero</span>&nbsp;<span class="op" id="3047331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047336">defer</span>&nbsp;<span class="keyword" id="3047342">func</span><span class="op" id="3047346">(</span><span class="op" id="3047347">)</span>&nbsp;<span class="op" id="3047349">{</span>&nbsp;<span class="ident" id="3047351"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047352">.</span><span class="ident" id="3047353">zero</span>&nbsp;<span class="op" id="3047358">=</span>&nbsp;<span class="builtintype" id="3047360">true</span>&nbsp;<span class="op" id="3047365">}</span><span class="op" id="3047366">(</span><span class="op" id="3047367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047372"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047373">.</span><span class="ident" id="3047374">zero</span>&nbsp;<span class="op" id="3047379">=</span>&nbsp;<span class="builtintype" id="3047381">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047392">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3047395">//&nbsp;num&nbsp;is&nbsp;now&nbsp;a&nbsp;signed&nbsp;version&nbsp;of&nbsp;the&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3047442">//&nbsp;If&nbsp;we&#39;re&nbsp;zero&nbsp;padding,&nbsp;want&nbsp;the&nbsp;sign&nbsp;before&nbsp;the&nbsp;leading&nbsp;zeros.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3047509">//&nbsp;Achieve&nbsp;this&nbsp;by&nbsp;writing&nbsp;the&nbsp;sign&nbsp;out&nbsp;and&nbsp;then&nbsp;padding&nbsp;the&nbsp;unsigned&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047588">if</span>&nbsp;<span class="ident" id="3047591"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047592">.</span><span class="ident" id="3047593">zero</span>&nbsp;<span class="op" id="3047598">&amp;&amp;</span>&nbsp;<span class="ident" id="3047601"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047602">.</span><span class="ident" id="3047603">widPresent</span>&nbsp;<span class="op" id="3047614">&amp;&amp;</span>&nbsp;<span class="ident" id="3047617"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047618">.</span><span class="ident" id="3047619">wid</span>&nbsp;<span class="op" id="3047623">&gt;</span>&nbsp;<span class="builtinfunc" id="3047625">len</span><span class="op" id="3047628">(</span><span class="ident" id="3047629"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3047632">)</span>&nbsp;<span class="op" id="3047634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047638">if</span>&nbsp;<span class="ident" id="3047641"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047642">.</span><span class="ident" id="3047643">space</span>&nbsp;<span class="op" id="3047649">&amp;&amp;</span>&nbsp;<span class="ident" id="3047652"><a href="/fmt/format.go.html#3046949">v</a></span>&nbsp;<span class="op" id="3047654">&gt;=</span>&nbsp;<span class="num" id="3047657">0</span>&nbsp;<span class="op" id="3047659">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047664"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047665">.</span><span class="ident" id="3047666">buf</span><span class="op" id="3047669">.</span><span class="ident" id="3047670">WriteByte</span><span class="op" id="3047679">(</span><span class="string" id="3047680">&#39;&nbsp;&#39;</span><span class="op" id="3047683">)</span>&nbsp;<span class="comment" id="3047685">//&nbsp;This&nbsp;is&nbsp;what&nbsp;C&nbsp;does:&nbsp;even&nbsp;with&nbsp;zero,&nbsp;f.space&nbsp;means&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047749"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047750">.</span><span class="ident" id="3047751">wid</span><span class="op" id="3047754">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047759">}</span>&nbsp;<span class="keyword" id="3047761">else</span>&nbsp;<span class="keyword" id="3047766">if</span>&nbsp;<span class="ident" id="3047769"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047770">.</span><span class="ident" id="3047771">plus</span>&nbsp;<span class="op" id="3047776">||</span>&nbsp;<span class="ident" id="3047779"><a href="/fmt/format.go.html#3046949">v</a></span>&nbsp;<span class="op" id="3047781">&lt;</span>&nbsp;<span class="num" id="3047783">0</span>&nbsp;<span class="op" id="3047785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047790"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047791">.</span><span class="ident" id="3047792">buf</span><span class="op" id="3047795">.</span><span class="ident" id="3047796">WriteByte</span><span class="op" id="3047805">(</span><span class="ident" id="3047806"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3047809">[</span><span class="num" id="3047810">0</span><span class="op" id="3047811">]</span><span class="op" id="3047812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047817"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047818">.</span><span class="ident" id="3047819">wid</span><span class="op" id="3047822">--</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047831"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047832">.</span><span class="ident" id="3047833">pad</span><span class="op" id="3047836">(</span><span class="ident" id="3047837"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3047840">[</span><span class="num" id="3047841">1</span><span class="op" id="3047842">:</span><span class="op" id="3047843">]</span><span class="op" id="3047844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047848">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3047859">//&nbsp;f.space&nbsp;says&nbsp;to&nbsp;replace&nbsp;a&nbsp;leading&nbsp;+&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047913">if</span>&nbsp;<span class="ident" id="3047916"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047917">.</span><span class="ident" id="3047918">space</span>&nbsp;<span class="op" id="3047924">&amp;&amp;</span>&nbsp;<span class="ident" id="3047927"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3047930">[</span><span class="num" id="3047931">0</span><span class="op" id="3047932">]</span>&nbsp;<span class="op" id="3047934">==</span>&nbsp;<span class="string" id="3047937">&#39;+&#39;</span>&nbsp;<span class="op" id="3047941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047945"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3047948">[</span><span class="num" id="3047949">0</span><span class="op" id="3047950">]</span>&nbsp;<span class="op" id="3047952">=</span>&nbsp;<span class="string" id="3047954">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047960"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3047961">.</span><span class="ident" id="3047962">pad</span><span class="op" id="3047965">(</span><span class="ident" id="3047966"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3047969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047973">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047981">}</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3047984">//&nbsp;Now&nbsp;we&nbsp;know&nbsp;the&nbsp;sign&nbsp;is&nbsp;attached&nbsp;directly&nbsp;to&nbsp;the&nbsp;number,&nbsp;if&nbsp;present&nbsp;at&nbsp;all.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3048064">//&nbsp;We&nbsp;want&nbsp;a&nbsp;sign&nbsp;if&nbsp;asked&nbsp;for,&nbsp;if&nbsp;it&#39;s&nbsp;negative,&nbsp;or&nbsp;if&nbsp;it&#39;s&nbsp;infinity&nbsp;(+Inf&nbsp;vs.&nbsp;-Inf).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048152">if</span>&nbsp;<span class="ident" id="3048155"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3048156">.</span><span class="ident" id="3048157">plus</span>&nbsp;<span class="op" id="3048162">||</span>&nbsp;<span class="ident" id="3048165"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3048168">[</span><span class="num" id="3048169">0</span><span class="op" id="3048170">]</span>&nbsp;<span class="op" id="3048172">==</span>&nbsp;<span class="string" id="3048175">&#39;-&#39;</span>&nbsp;<span class="op" id="3048179">||</span>&nbsp;<span class="ident" id="3048182"><a href="/fmt/format.go.html#3039049">math</a></span><span class="op" id="3048186">.</span><span class="ident" id="3048187">IsInf</span><span class="op" id="3048192">(</span><span class="ident" id="3048193"><a href="/fmt/format.go.html#3046949">v</a></span><span class="op" id="3048194">,</span>&nbsp;<span class="num" id="3048196">0</span><span class="op" id="3048197">)</span>&nbsp;<span class="op" id="3048199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3048203"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3048204">.</span><span class="ident" id="3048205">pad</span><span class="op" id="3048208">(</span><span class="ident" id="3048209"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3048212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048216">return</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3048224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3048227">//&nbsp;No&nbsp;sign&nbsp;to&nbsp;show&nbsp;and&nbsp;the&nbsp;number&nbsp;is&nbsp;positive;&nbsp;just&nbsp;print&nbsp;the&nbsp;unsigned&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3048307"><a href="/fmt/format.go.html#3046929">f</a></span><span class="op" id="3048308">.</span><span class="ident" id="3048309">pad</span><span class="op" id="3048312">(</span><span class="ident" id="3048313"><a href="/fmt/format.go.html#3047052">num</a></span><span class="op" id="3048316">[</span><span class="num" id="3048317">1</span><span class="op" id="3048318">:</span><span class="op" id="3048319">]</span><span class="op" id="3048320">)</span><br>
<span class="lineno"></span><span class="op" id="3048322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span><span class="comment" id="3048325">//&nbsp;fmt_e64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23e+12.</span><br>
<span class="lineno"></span><span class="keyword" id="3048377">func</span>&nbsp;<span class="op" id="3048382">(</span><span class="ident" id="3048383">f</span>&nbsp;<span class="op" id="3048385">*</span><span class="ident" id="3048386"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3048389">)</span>&nbsp;<span class="ident" id="3048391">fmt_e64</span><span class="op" id="3048398">(</span><span class="ident" id="3048399">v</span>&nbsp;<span class="builtintype" id="3048401">float64</span><span class="op" id="3048408">)</span>&nbsp;<span class="op" id="3048410">{</span>&nbsp;<span class="ident" id="3048412"><a href="/fmt/format.go.html#3048383">f</a></span><span class="op" id="3048413">.</span><span class="ident" id="3048414">formatFloat</span><span class="op" id="3048425">(</span><span class="ident" id="3048426"><a href="/fmt/format.go.html#3048399">v</a></span><span class="op" id="3048427">,</span>&nbsp;<span class="string" id="3048429">&#39;e&#39;</span><span class="op" id="3048432">,</span>&nbsp;<span class="ident" id="3048434"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3048440">(</span><span class="ident" id="3048441"><a href="/fmt/format.go.html#3048383">f</a></span><span class="op" id="3048442">,</span>&nbsp;<span class="num" id="3048444">6</span><span class="op" id="3048445">)</span><span class="op" id="3048446">,</span>&nbsp;<span class="num" id="3048448">64</span><span class="op" id="3048450">)</span>&nbsp;<span class="op" id="3048452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3048455">//&nbsp;fmt_E64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23E+12.</span><br>
<span class="lineno"></span><span class="keyword" id="3048507">func</span>&nbsp;<span class="op" id="3048512">(</span><span class="ident" id="3048513">f</span>&nbsp;<span class="op" id="3048515">*</span><span class="ident" id="3048516"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3048519">)</span>&nbsp;<span class="ident" id="3048521">fmt_E64</span><span class="op" id="3048528">(</span><span class="ident" id="3048529">v</span>&nbsp;<span class="builtintype" id="3048531">float64</span><span class="op" id="3048538">)</span>&nbsp;<span class="op" id="3048540">{</span>&nbsp;<span class="ident" id="3048542"><a href="/fmt/format.go.html#3048513">f</a></span><span class="op" id="3048543">.</span><span class="ident" id="3048544">formatFloat</span><span class="op" id="3048555">(</span><span class="ident" id="3048556"><a href="/fmt/format.go.html#3048529">v</a></span><span class="op" id="3048557">,</span>&nbsp;<span class="string" id="3048559">&#39;E&#39;</span><span class="op" id="3048562">,</span>&nbsp;<span class="ident" id="3048564"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3048570">(</span><span class="ident" id="3048571"><a href="/fmt/format.go.html#3048513">f</a></span><span class="op" id="3048572">,</span>&nbsp;<span class="num" id="3048574">6</span><span class="op" id="3048575">)</span><span class="op" id="3048576">,</span>&nbsp;<span class="num" id="3048578">64</span><span class="op" id="3048580">)</span>&nbsp;<span class="op" id="3048582">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span><span class="comment" id="3048585">//&nbsp;fmt_f64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23.</span><br>
<span class="lineno"></span><span class="keyword" id="3048633">func</span>&nbsp;<span class="op" id="3048638">(</span><span class="ident" id="3048639">f</span>&nbsp;<span class="op" id="3048641">*</span><span class="ident" id="3048642"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3048645">)</span>&nbsp;<span class="ident" id="3048647">fmt_f64</span><span class="op" id="3048654">(</span><span class="ident" id="3048655">v</span>&nbsp;<span class="builtintype" id="3048657">float64</span><span class="op" id="3048664">)</span>&nbsp;<span class="op" id="3048666">{</span>&nbsp;<span class="ident" id="3048668"><a href="/fmt/format.go.html#3048639">f</a></span><span class="op" id="3048669">.</span><span class="ident" id="3048670">formatFloat</span><span class="op" id="3048681">(</span><span class="ident" id="3048682"><a href="/fmt/format.go.html#3048655">v</a></span><span class="op" id="3048683">,</span>&nbsp;<span class="string" id="3048685">&#39;f&#39;</span><span class="op" id="3048688">,</span>&nbsp;<span class="ident" id="3048690"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3048696">(</span><span class="ident" id="3048697"><a href="/fmt/format.go.html#3048639">f</a></span><span class="op" id="3048698">,</span>&nbsp;<span class="num" id="3048700">6</span><span class="op" id="3048701">)</span><span class="op" id="3048702">,</span>&nbsp;<span class="num" id="3048704">64</span><span class="op" id="3048706">)</span>&nbsp;<span class="op" id="3048708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3048711">//&nbsp;fmt_g64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;&#39;f&#39;&nbsp;or&nbsp;&#39;e&#39;&nbsp;form&nbsp;according&nbsp;to&nbsp;size.</span><br>
<span class="lineno">450</span><span class="keyword" id="3048782">func</span>&nbsp;<span class="op" id="3048787">(</span><span class="ident" id="3048788">f</span>&nbsp;<span class="op" id="3048790">*</span><span class="ident" id="3048791"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3048794">)</span>&nbsp;<span class="ident" id="3048796">fmt_g64</span><span class="op" id="3048803">(</span><span class="ident" id="3048804">v</span>&nbsp;<span class="builtintype" id="3048806">float64</span><span class="op" id="3048813">)</span>&nbsp;<span class="op" id="3048815">{</span>&nbsp;<span class="ident" id="3048817"><a href="/fmt/format.go.html#3048788">f</a></span><span class="op" id="3048818">.</span><span class="ident" id="3048819">formatFloat</span><span class="op" id="3048830">(</span><span class="ident" id="3048831"><a href="/fmt/format.go.html#3048804">v</a></span><span class="op" id="3048832">,</span>&nbsp;<span class="string" id="3048834">&#39;g&#39;</span><span class="op" id="3048837">,</span>&nbsp;<span class="ident" id="3048839"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3048845">(</span><span class="ident" id="3048846"><a href="/fmt/format.go.html#3048788">f</a></span><span class="op" id="3048847">,</span>&nbsp;<span class="op" id="3048849">-</span><span class="num" id="3048850">1</span><span class="op" id="3048851">)</span><span class="op" id="3048852">,</span>&nbsp;<span class="num" id="3048854">64</span><span class="op" id="3048856">)</span>&nbsp;<span class="op" id="3048858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3048861">//&nbsp;fmt_G64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;&#39;f&#39;&nbsp;or&nbsp;&#39;E&#39;&nbsp;form&nbsp;according&nbsp;to&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="3048932">func</span>&nbsp;<span class="op" id="3048937">(</span><span class="ident" id="3048938">f</span>&nbsp;<span class="op" id="3048940">*</span><span class="ident" id="3048941"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3048944">)</span>&nbsp;<span class="ident" id="3048946">fmt_G64</span><span class="op" id="3048953">(</span><span class="ident" id="3048954">v</span>&nbsp;<span class="builtintype" id="3048956">float64</span><span class="op" id="3048963">)</span>&nbsp;<span class="op" id="3048965">{</span>&nbsp;<span class="ident" id="3048967"><a href="/fmt/format.go.html#3048938">f</a></span><span class="op" id="3048968">.</span><span class="ident" id="3048969">formatFloat</span><span class="op" id="3048980">(</span><span class="ident" id="3048981"><a href="/fmt/format.go.html#3048954">v</a></span><span class="op" id="3048982">,</span>&nbsp;<span class="string" id="3048984">&#39;G&#39;</span><span class="op" id="3048987">,</span>&nbsp;<span class="ident" id="3048989"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3048995">(</span><span class="ident" id="3048996"><a href="/fmt/format.go.html#3048938">f</a></span><span class="op" id="3048997">,</span>&nbsp;<span class="op" id="3048999">-</span><span class="num" id="3049000">1</span><span class="op" id="3049001">)</span><span class="op" id="3049002">,</span>&nbsp;<span class="num" id="3049004">64</span><span class="op" id="3049006">)</span>&nbsp;<span class="op" id="3049008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="comment" id="3049011">//&nbsp;fmt_fb64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;form&nbsp;-123p3&nbsp;(exponent&nbsp;is&nbsp;power&nbsp;of&nbsp;2).</span><br>
<span class="lineno"></span><span class="keyword" id="3049086">func</span>&nbsp;<span class="op" id="3049091">(</span><span class="ident" id="3049092">f</span>&nbsp;<span class="op" id="3049094">*</span><span class="ident" id="3049095"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3049098">)</span>&nbsp;<span class="ident" id="3049100">fmt_fb64</span><span class="op" id="3049108">(</span><span class="ident" id="3049109">v</span>&nbsp;<span class="builtintype" id="3049111">float64</span><span class="op" id="3049118">)</span>&nbsp;<span class="op" id="3049120">{</span>&nbsp;<span class="ident" id="3049122"><a href="/fmt/format.go.html#3049092">f</a></span><span class="op" id="3049123">.</span><span class="ident" id="3049124">formatFloat</span><span class="op" id="3049135">(</span><span class="ident" id="3049136"><a href="/fmt/format.go.html#3049109">v</a></span><span class="op" id="3049137">,</span>&nbsp;<span class="string" id="3049139">&#39;b&#39;</span><span class="op" id="3049142">,</span>&nbsp;<span class="num" id="3049144">0</span><span class="op" id="3049145">,</span>&nbsp;<span class="num" id="3049147">64</span><span class="op" id="3049149">)</span>&nbsp;<span class="op" id="3049151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3049154">//&nbsp;float32</span><br>
<span class="lineno"></span><span class="comment" id="3049165">//&nbsp;cannot&nbsp;defer&nbsp;to&nbsp;float64&nbsp;versions</span><br>
<span class="lineno">460</span><span class="comment" id="3049201">//&nbsp;because&nbsp;it&nbsp;will&nbsp;get&nbsp;rounding&nbsp;wrong&nbsp;in&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3049257">//&nbsp;fmt_e32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23e+12.</span><br>
<span class="lineno"></span><span class="keyword" id="3049309">func</span>&nbsp;<span class="op" id="3049314">(</span><span class="ident" id="3049315">f</span>&nbsp;<span class="op" id="3049317">*</span><span class="ident" id="3049318"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3049321">)</span>&nbsp;<span class="ident" id="3049323">fmt_e32</span><span class="op" id="3049330">(</span><span class="ident" id="3049331">v</span>&nbsp;<span class="builtintype" id="3049333">float32</span><span class="op" id="3049340">)</span>&nbsp;<span class="op" id="3049342">{</span>&nbsp;<span class="ident" id="3049344"><a href="/fmt/format.go.html#3049315">f</a></span><span class="op" id="3049345">.</span><span class="ident" id="3049346">formatFloat</span><span class="op" id="3049357">(</span><span class="builtintype" id="3049358">float64</span><span class="op" id="3049365">(</span><span class="ident" id="3049366"><a href="/fmt/format.go.html#3049331">v</a></span><span class="op" id="3049367">)</span><span class="op" id="3049368">,</span>&nbsp;<span class="string" id="3049370">&#39;e&#39;</span><span class="op" id="3049373">,</span>&nbsp;<span class="ident" id="3049375"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3049381">(</span><span class="ident" id="3049382"><a href="/fmt/format.go.html#3049315">f</a></span><span class="op" id="3049383">,</span>&nbsp;<span class="num" id="3049385">6</span><span class="op" id="3049386">)</span><span class="op" id="3049387">,</span>&nbsp;<span class="num" id="3049389">32</span><span class="op" id="3049391">)</span>&nbsp;<span class="op" id="3049393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="comment" id="3049396">//&nbsp;fmt_E32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23E+12.</span><br>
<span class="lineno"></span><span class="keyword" id="3049448">func</span>&nbsp;<span class="op" id="3049453">(</span><span class="ident" id="3049454">f</span>&nbsp;<span class="op" id="3049456">*</span><span class="ident" id="3049457"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3049460">)</span>&nbsp;<span class="ident" id="3049462">fmt_E32</span><span class="op" id="3049469">(</span><span class="ident" id="3049470">v</span>&nbsp;<span class="builtintype" id="3049472">float32</span><span class="op" id="3049479">)</span>&nbsp;<span class="op" id="3049481">{</span>&nbsp;<span class="ident" id="3049483"><a href="/fmt/format.go.html#3049454">f</a></span><span class="op" id="3049484">.</span><span class="ident" id="3049485">formatFloat</span><span class="op" id="3049496">(</span><span class="builtintype" id="3049497">float64</span><span class="op" id="3049504">(</span><span class="ident" id="3049505"><a href="/fmt/format.go.html#3049470">v</a></span><span class="op" id="3049506">)</span><span class="op" id="3049507">,</span>&nbsp;<span class="string" id="3049509">&#39;E&#39;</span><span class="op" id="3049512">,</span>&nbsp;<span class="ident" id="3049514"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3049520">(</span><span class="ident" id="3049521"><a href="/fmt/format.go.html#3049454">f</a></span><span class="op" id="3049522">,</span>&nbsp;<span class="num" id="3049524">6</span><span class="op" id="3049525">)</span><span class="op" id="3049526">,</span>&nbsp;<span class="num" id="3049528">32</span><span class="op" id="3049530">)</span>&nbsp;<span class="op" id="3049532">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3049535">//&nbsp;fmt_f32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23.</span><br>
<span class="lineno"></span><span class="keyword" id="3049583">func</span>&nbsp;<span class="op" id="3049588">(</span><span class="ident" id="3049589">f</span>&nbsp;<span class="op" id="3049591">*</span><span class="ident" id="3049592"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3049595">)</span>&nbsp;<span class="ident" id="3049597">fmt_f32</span><span class="op" id="3049604">(</span><span class="ident" id="3049605">v</span>&nbsp;<span class="builtintype" id="3049607">float32</span><span class="op" id="3049614">)</span>&nbsp;<span class="op" id="3049616">{</span>&nbsp;<span class="ident" id="3049618"><a href="/fmt/format.go.html#3049589">f</a></span><span class="op" id="3049619">.</span><span class="ident" id="3049620">formatFloat</span><span class="op" id="3049631">(</span><span class="builtintype" id="3049632">float64</span><span class="op" id="3049639">(</span><span class="ident" id="3049640"><a href="/fmt/format.go.html#3049605">v</a></span><span class="op" id="3049641">)</span><span class="op" id="3049642">,</span>&nbsp;<span class="string" id="3049644">&#39;f&#39;</span><span class="op" id="3049647">,</span>&nbsp;<span class="ident" id="3049649"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3049655">(</span><span class="ident" id="3049656"><a href="/fmt/format.go.html#3049589">f</a></span><span class="op" id="3049657">,</span>&nbsp;<span class="num" id="3049659">6</span><span class="op" id="3049660">)</span><span class="op" id="3049661">,</span>&nbsp;<span class="num" id="3049663">32</span><span class="op" id="3049665">)</span>&nbsp;<span class="op" id="3049667">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="3049670">//&nbsp;fmt_g32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;&#39;f&#39;&nbsp;or&nbsp;&#39;e&#39;&nbsp;form&nbsp;according&nbsp;to&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="3049741">func</span>&nbsp;<span class="op" id="3049746">(</span><span class="ident" id="3049747">f</span>&nbsp;<span class="op" id="3049749">*</span><span class="ident" id="3049750"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3049753">)</span>&nbsp;<span class="ident" id="3049755">fmt_g32</span><span class="op" id="3049762">(</span><span class="ident" id="3049763">v</span>&nbsp;<span class="builtintype" id="3049765">float32</span><span class="op" id="3049772">)</span>&nbsp;<span class="op" id="3049774">{</span>&nbsp;<span class="ident" id="3049776"><a href="/fmt/format.go.html#3049747">f</a></span><span class="op" id="3049777">.</span><span class="ident" id="3049778">formatFloat</span><span class="op" id="3049789">(</span><span class="builtintype" id="3049790">float64</span><span class="op" id="3049797">(</span><span class="ident" id="3049798"><a href="/fmt/format.go.html#3049763">v</a></span><span class="op" id="3049799">)</span><span class="op" id="3049800">,</span>&nbsp;<span class="string" id="3049802">&#39;g&#39;</span><span class="op" id="3049805">,</span>&nbsp;<span class="ident" id="3049807"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3049813">(</span><span class="ident" id="3049814"><a href="/fmt/format.go.html#3049747">f</a></span><span class="op" id="3049815">,</span>&nbsp;<span class="op" id="3049817">-</span><span class="num" id="3049818">1</span><span class="op" id="3049819">)</span><span class="op" id="3049820">,</span>&nbsp;<span class="num" id="3049822">32</span><span class="op" id="3049824">)</span>&nbsp;<span class="op" id="3049826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3049829">//&nbsp;fmt_G32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;&#39;f&#39;&nbsp;or&nbsp;&#39;E&#39;&nbsp;form&nbsp;according&nbsp;to&nbsp;size.</span><br>
<span class="lineno">475</span><span class="keyword" id="3049900">func</span>&nbsp;<span class="op" id="3049905">(</span><span class="ident" id="3049906">f</span>&nbsp;<span class="op" id="3049908">*</span><span class="ident" id="3049909"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3049912">)</span>&nbsp;<span class="ident" id="3049914">fmt_G32</span><span class="op" id="3049921">(</span><span class="ident" id="3049922">v</span>&nbsp;<span class="builtintype" id="3049924">float32</span><span class="op" id="3049931">)</span>&nbsp;<span class="op" id="3049933">{</span>&nbsp;<span class="ident" id="3049935"><a href="/fmt/format.go.html#3049906">f</a></span><span class="op" id="3049936">.</span><span class="ident" id="3049937">formatFloat</span><span class="op" id="3049948">(</span><span class="builtintype" id="3049949">float64</span><span class="op" id="3049956">(</span><span class="ident" id="3049957"><a href="/fmt/format.go.html#3049922">v</a></span><span class="op" id="3049958">)</span><span class="op" id="3049959">,</span>&nbsp;<span class="string" id="3049961">&#39;G&#39;</span><span class="op" id="3049964">,</span>&nbsp;<span class="ident" id="3049966"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3049972">(</span><span class="ident" id="3049973"><a href="/fmt/format.go.html#3049906">f</a></span><span class="op" id="3049974">,</span>&nbsp;<span class="op" id="3049976">-</span><span class="num" id="3049977">1</span><span class="op" id="3049978">)</span><span class="op" id="3049979">,</span>&nbsp;<span class="num" id="3049981">32</span><span class="op" id="3049983">)</span>&nbsp;<span class="op" id="3049985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3049988">//&nbsp;fmt_fb32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;form&nbsp;-123p3&nbsp;(exponent&nbsp;is&nbsp;power&nbsp;of&nbsp;2).</span><br>
<span class="lineno"></span><span class="keyword" id="3050063">func</span>&nbsp;<span class="op" id="3050068">(</span><span class="ident" id="3050069">f</span>&nbsp;<span class="op" id="3050071">*</span><span class="ident" id="3050072"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3050075">)</span>&nbsp;<span class="ident" id="3050077">fmt_fb32</span><span class="op" id="3050085">(</span><span class="ident" id="3050086">v</span>&nbsp;<span class="builtintype" id="3050088">float32</span><span class="op" id="3050095">)</span>&nbsp;<span class="op" id="3050097">{</span>&nbsp;<span class="ident" id="3050099"><a href="/fmt/format.go.html#3050069">f</a></span><span class="op" id="3050100">.</span><span class="ident" id="3050101">formatFloat</span><span class="op" id="3050112">(</span><span class="builtintype" id="3050113">float64</span><span class="op" id="3050120">(</span><span class="ident" id="3050121"><a href="/fmt/format.go.html#3050086">v</a></span><span class="op" id="3050122">)</span><span class="op" id="3050123">,</span>&nbsp;<span class="string" id="3050125">&#39;b&#39;</span><span class="op" id="3050128">,</span>&nbsp;<span class="num" id="3050130">0</span><span class="op" id="3050131">,</span>&nbsp;<span class="num" id="3050133">32</span><span class="op" id="3050135">)</span>&nbsp;<span class="op" id="3050137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="comment" id="3050140">//&nbsp;fmt_c64&nbsp;formats&nbsp;a&nbsp;complex64&nbsp;according&nbsp;to&nbsp;the&nbsp;verb.</span><br>
<span class="lineno"></span><span class="keyword" id="3050194">func</span>&nbsp;<span class="op" id="3050199">(</span><span class="ident" id="3050200">f</span>&nbsp;<span class="op" id="3050202">*</span><span class="ident" id="3050203"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3050206">)</span>&nbsp;<span class="ident" id="3050208">fmt_c64</span><span class="op" id="3050215">(</span><span class="ident" id="3050216">v</span>&nbsp;<span class="builtintype" id="3050218">complex64</span><span class="op" id="3050227">,</span>&nbsp;<span class="ident" id="3050229">verb</span>&nbsp;<span class="builtintype" id="3050234">rune</span><span class="op" id="3050238">)</span>&nbsp;<span class="op" id="3050240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050243"><a href="/fmt/format.go.html#3050200">f</a></span><span class="op" id="3050244">.</span><span class="ident" id="3050245">fmt_complex</span><span class="op" id="3050256">(</span><span class="builtintype" id="3050257">float64</span><span class="op" id="3050264">(</span><span class="builtinfunc" id="3050265">real</span><span class="op" id="3050269">(</span><span class="ident" id="3050270"><a href="/fmt/format.go.html#3050216">v</a></span><span class="op" id="3050271">)</span><span class="op" id="3050272">)</span><span class="op" id="3050273">,</span>&nbsp;<span class="builtintype" id="3050275">float64</span><span class="op" id="3050282">(</span><span class="builtinfunc" id="3050283">imag</span><span class="op" id="3050287">(</span><span class="ident" id="3050288"><a href="/fmt/format.go.html#3050216">v</a></span><span class="op" id="3050289">)</span><span class="op" id="3050290">)</span><span class="op" id="3050291">,</span>&nbsp;<span class="num" id="3050293">32</span><span class="op" id="3050295">,</span>&nbsp;<span class="ident" id="3050297"><a href="/fmt/format.go.html#3050229">verb</a></span><span class="op" id="3050301">)</span><br>
<span class="lineno"></span><span class="op" id="3050303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">485</span><span class="comment" id="3050306">//&nbsp;fmt_c128&nbsp;formats&nbsp;a&nbsp;complex128&nbsp;according&nbsp;to&nbsp;the&nbsp;verb.</span><br>
<span class="lineno"></span><span class="keyword" id="3050362">func</span>&nbsp;<span class="op" id="3050367">(</span><span class="ident" id="3050368">f</span>&nbsp;<span class="op" id="3050370">*</span><span class="ident" id="3050371"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3050374">)</span>&nbsp;<span class="ident" id="3050376">fmt_c128</span><span class="op" id="3050384">(</span><span class="ident" id="3050385">v</span>&nbsp;<span class="builtintype" id="3050387">complex128</span><span class="op" id="3050397">,</span>&nbsp;<span class="ident" id="3050399">verb</span>&nbsp;<span class="builtintype" id="3050404">rune</span><span class="op" id="3050408">)</span>&nbsp;<span class="op" id="3050410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050413"><a href="/fmt/format.go.html#3050368">f</a></span><span class="op" id="3050414">.</span><span class="ident" id="3050415">fmt_complex</span><span class="op" id="3050426">(</span><span class="builtinfunc" id="3050427">real</span><span class="op" id="3050431">(</span><span class="ident" id="3050432"><a href="/fmt/format.go.html#3050385">v</a></span><span class="op" id="3050433">)</span><span class="op" id="3050434">,</span>&nbsp;<span class="builtinfunc" id="3050436">imag</span><span class="op" id="3050440">(</span><span class="ident" id="3050441"><a href="/fmt/format.go.html#3050385">v</a></span><span class="op" id="3050442">)</span><span class="op" id="3050443">,</span>&nbsp;<span class="num" id="3050445">64</span><span class="op" id="3050447">,</span>&nbsp;<span class="ident" id="3050449"><a href="/fmt/format.go.html#3050399">verb</a></span><span class="op" id="3050453">)</span><br>
<span class="lineno"></span><span class="op" id="3050455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="3050458">//&nbsp;fmt_complex&nbsp;formats&nbsp;a&nbsp;complex&nbsp;number&nbsp;as&nbsp;(r+ji).</span><br>
<span class="lineno"></span><span class="keyword" id="3050509">func</span>&nbsp;<span class="op" id="3050514">(</span><span class="ident" id="3050515">f</span>&nbsp;<span class="op" id="3050517">*</span><span class="ident" id="3050518"><a href="/fmt/format.go.html#3040080">fmt</a></span><span class="op" id="3050521">)</span>&nbsp;<span class="ident" id="3050523">fmt_complex</span><span class="op" id="3050534">(</span><span class="ident" id="3050535">r</span><span class="op" id="3050536">,</span>&nbsp;<span class="ident" id="3050538">j</span>&nbsp;<span class="builtintype" id="3050540">float64</span><span class="op" id="3050547">,</span>&nbsp;<span class="ident" id="3050549">size</span>&nbsp;<span class="builtintype" id="3050554">int</span><span class="op" id="3050557">,</span>&nbsp;<span class="ident" id="3050559">verb</span>&nbsp;<span class="builtintype" id="3050564">rune</span><span class="op" id="3050568">)</span>&nbsp;<span class="op" id="3050570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050573"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050574">.</span><span class="ident" id="3050575">buf</span><span class="op" id="3050578">.</span><span class="ident" id="3050579">WriteByte</span><span class="op" id="3050588">(</span><span class="string" id="3050589">&#39;(&#39;</span><span class="op" id="3050592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050595">oldPlus</span>&nbsp;<span class="op" id="3050603">:=</span>&nbsp;<span class="ident" id="3050606"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050607">.</span><span class="ident" id="3050608">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050614">oldSpace</span>&nbsp;<span class="op" id="3050623">:=</span>&nbsp;<span class="ident" id="3050626"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050627">.</span><span class="ident" id="3050628">space</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050635">oldWid</span>&nbsp;<span class="op" id="3050642">:=</span>&nbsp;<span class="ident" id="3050645"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050646">.</span><span class="ident" id="3050647">wid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050652">for</span>&nbsp;<span class="ident" id="3050656">i</span>&nbsp;<span class="op" id="3050658">:=</span>&nbsp;<span class="num" id="3050661">0</span><span class="op" id="3050662">;</span>&nbsp;<span class="op" id="3050664">;</span>&nbsp;<span class="ident" id="3050666"><a href="/fmt/format.go.html#3050656">i</a></span><span class="op" id="3050667">++</span>&nbsp;<span class="op" id="3050670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050674">switch</span>&nbsp;<span class="ident" id="3050681"><a href="/fmt/format.go.html#3050559">verb</a></span>&nbsp;<span class="op" id="3050686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050690">case</span>&nbsp;<span class="string" id="3050695">&#39;b&#39;</span><span class="op" id="3050698">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050703"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050704">.</span><span class="ident" id="3050705">formatFloat</span><span class="op" id="3050716">(</span><span class="ident" id="3050717"><a href="/fmt/format.go.html#3050535">r</a></span><span class="op" id="3050718">,</span>&nbsp;<span class="string" id="3050720">&#39;b&#39;</span><span class="op" id="3050723">,</span>&nbsp;<span class="num" id="3050725">0</span><span class="op" id="3050726">,</span>&nbsp;<span class="ident" id="3050728"><a href="/fmt/format.go.html#3050549">size</a></span><span class="op" id="3050732">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050736">case</span>&nbsp;<span class="string" id="3050741">&#39;e&#39;</span><span class="op" id="3050744">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050749"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050750">.</span><span class="ident" id="3050751">formatFloat</span><span class="op" id="3050762">(</span><span class="ident" id="3050763"><a href="/fmt/format.go.html#3050535">r</a></span><span class="op" id="3050764">,</span>&nbsp;<span class="string" id="3050766">&#39;e&#39;</span><span class="op" id="3050769">,</span>&nbsp;<span class="ident" id="3050771"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3050777">(</span><span class="ident" id="3050778"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050779">,</span>&nbsp;<span class="num" id="3050781">6</span><span class="op" id="3050782">)</span><span class="op" id="3050783">,</span>&nbsp;<span class="ident" id="3050785"><a href="/fmt/format.go.html#3050549">size</a></span><span class="op" id="3050789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050793">case</span>&nbsp;<span class="string" id="3050798">&#39;E&#39;</span><span class="op" id="3050801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050806"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050807">.</span><span class="ident" id="3050808">formatFloat</span><span class="op" id="3050819">(</span><span class="ident" id="3050820"><a href="/fmt/format.go.html#3050535">r</a></span><span class="op" id="3050821">,</span>&nbsp;<span class="string" id="3050823">&#39;E&#39;</span><span class="op" id="3050826">,</span>&nbsp;<span class="ident" id="3050828"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3050834">(</span><span class="ident" id="3050835"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050836">,</span>&nbsp;<span class="num" id="3050838">6</span><span class="op" id="3050839">)</span><span class="op" id="3050840">,</span>&nbsp;<span class="ident" id="3050842"><a href="/fmt/format.go.html#3050549">size</a></span><span class="op" id="3050846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050850">case</span>&nbsp;<span class="string" id="3050855">&#39;f&#39;</span><span class="op" id="3050858">,</span>&nbsp;<span class="string" id="3050860">&#39;F&#39;</span><span class="op" id="3050863">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050868"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050869">.</span><span class="ident" id="3050870">formatFloat</span><span class="op" id="3050881">(</span><span class="ident" id="3050882"><a href="/fmt/format.go.html#3050535">r</a></span><span class="op" id="3050883">,</span>&nbsp;<span class="string" id="3050885">&#39;f&#39;</span><span class="op" id="3050888">,</span>&nbsp;<span class="ident" id="3050890"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3050896">(</span><span class="ident" id="3050897"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050898">,</span>&nbsp;<span class="num" id="3050900">6</span><span class="op" id="3050901">)</span><span class="op" id="3050902">,</span>&nbsp;<span class="ident" id="3050904"><a href="/fmt/format.go.html#3050549">size</a></span><span class="op" id="3050908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050912">case</span>&nbsp;<span class="string" id="3050917">&#39;g&#39;</span><span class="op" id="3050920">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050925"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050926">.</span><span class="ident" id="3050927">formatFloat</span><span class="op" id="3050938">(</span><span class="ident" id="3050939"><a href="/fmt/format.go.html#3050535">r</a></span><span class="op" id="3050940">,</span>&nbsp;<span class="string" id="3050942">&#39;g&#39;</span><span class="op" id="3050945">,</span>&nbsp;<span class="ident" id="3050947"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3050953">(</span><span class="ident" id="3050954"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050955">,</span>&nbsp;<span class="op" id="3050957">-</span><span class="num" id="3050958">1</span><span class="op" id="3050959">)</span><span class="op" id="3050960">,</span>&nbsp;<span class="ident" id="3050962"><a href="/fmt/format.go.html#3050549">size</a></span><span class="op" id="3050966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050970">case</span>&nbsp;<span class="string" id="3050975">&#39;G&#39;</span><span class="op" id="3050978">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050983"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3050984">.</span><span class="ident" id="3050985">formatFloat</span><span class="op" id="3050996">(</span><span class="ident" id="3050997"><a href="/fmt/format.go.html#3050535">r</a></span><span class="op" id="3050998">,</span>&nbsp;<span class="string" id="3051000">&#39;G&#39;</span><span class="op" id="3051003">,</span>&nbsp;<span class="ident" id="3051005"><a href="/fmt/format.go.html#3046738">doPrec</a></span><span class="op" id="3051011">(</span><span class="ident" id="3051012"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3051013">,</span>&nbsp;<span class="op" id="3051015">-</span><span class="num" id="3051016">1</span><span class="op" id="3051017">)</span><span class="op" id="3051018">,</span>&nbsp;<span class="ident" id="3051020"><a href="/fmt/format.go.html#3050549">size</a></span><span class="op" id="3051024">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3051028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051032">if</span>&nbsp;<span class="ident" id="3051035"><a href="/fmt/format.go.html#3050656">i</a></span>&nbsp;<span class="op" id="3051037">!=</span>&nbsp;<span class="num" id="3051040">0</span>&nbsp;<span class="op" id="3051042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051047">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3051055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3051059">//&nbsp;Imaginary&nbsp;part&nbsp;always&nbsp;has&nbsp;a&nbsp;sign.</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051098"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3051099">.</span><span class="ident" id="3051100">plus</span>&nbsp;<span class="op" id="3051105">=</span>&nbsp;<span class="builtintype" id="3051107">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051114"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3051115">.</span><span class="ident" id="3051116">space</span>&nbsp;<span class="op" id="3051122">=</span>&nbsp;<span class="builtintype" id="3051124">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051132"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3051133">.</span><span class="ident" id="3051134">wid</span>&nbsp;<span class="op" id="3051138">=</span>&nbsp;<span class="ident" id="3051140"><a href="/fmt/format.go.html#3050635">oldWid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051149"><a href="/fmt/format.go.html#3050535">r</a></span>&nbsp;<span class="op" id="3051151">=</span>&nbsp;<span class="ident" id="3051153"><a href="/fmt/format.go.html#3050538">j</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3051156">}</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051159"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3051160">.</span><span class="ident" id="3051161">space</span>&nbsp;<span class="op" id="3051167">=</span>&nbsp;<span class="ident" id="3051169"><a href="/fmt/format.go.html#3050614">oldSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051179"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3051180">.</span><span class="ident" id="3051181">plus</span>&nbsp;<span class="op" id="3051186">=</span>&nbsp;<span class="ident" id="3051188"><a href="/fmt/format.go.html#3050595">oldPlus</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051197"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3051198">.</span><span class="ident" id="3051199">wid</span>&nbsp;<span class="op" id="3051203">=</span>&nbsp;<span class="ident" id="3051205"><a href="/fmt/format.go.html#3050635">oldWid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051213"><a href="/fmt/format.go.html#3050515">f</a></span><span class="op" id="3051214">.</span><span class="ident" id="3051215">buf</span><span class="op" id="3051218">.</span><span class="ident" id="3051219">Write</span><span class="op" id="3051224">(</span><span class="ident" id="3051225"><a href="/fmt/print.go.html#3051960">irparenBytes</a></span><span class="op" id="3051237">)</span><br>
<span class="lineno"></span><span class="op" id="3051239">}</span>
</div>
</body>
</html>
