<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8164158">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8164213">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8164267">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8164318">package</span>&nbsp;<span class="ident" id="8164326">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8164332">import</span>&nbsp;<span class="op" id="8164339">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8164342">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8164351">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8164366">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8164376">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8164379">const</span>&nbsp;<span class="op" id="8164385">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8164388">dstw</span><span class="op" id="8164392">,</span>&nbsp;<span class="ident" id="8164394">dsth</span>&nbsp;<span class="op" id="8164399">=</span>&nbsp;<span class="num" id="8164401">640</span><span class="op" id="8164404">,</span>&nbsp;<span class="num" id="8164406">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8164411">srcw</span><span class="op" id="8164415">,</span>&nbsp;<span class="ident" id="8164417">srch</span>&nbsp;<span class="op" id="8164422">=</span>&nbsp;<span class="num" id="8164424">400</span><span class="op" id="8164427">,</span>&nbsp;<span class="num" id="8164429">300</span><br>
<span class="lineno"></span><span class="op" id="8164433">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8164436">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8164510">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="8164572">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="8164638">func</span>&nbsp;<span class="ident" id="8164643">bench</span><span class="op" id="8164648">(</span><span class="ident" id="8164649">b</span>&nbsp;<span class="op" id="8164651">*</span><span class="ident" id="8164652">testing</span><span class="op" id="8164659">.</span><span class="ident" id="8164660">B</span><span class="op" id="8164661">,</span>&nbsp;<span class="ident" id="8164663">dcm</span><span class="op" id="8164666">,</span>&nbsp;<span class="ident" id="8164668">scm</span><span class="op" id="8164671">,</span>&nbsp;<span class="ident" id="8164673">mcm</span>&nbsp;<span class="ident" id="8164677">color</span><span class="op" id="8164682">.</span><span class="ident" id="8164683">Model</span><span class="op" id="8164688">,</span>&nbsp;<span class="ident" id="8164690">op</span>&nbsp;<span class="ident" id="8164693">Op</span><span class="op" id="8164695">)</span>&nbsp;<span class="op" id="8164697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8164700">b</span><span class="op" id="8164701">.</span><span class="ident" id="8164702">StopTimer</span><span class="op" id="8164711">(</span><span class="op" id="8164712">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8164716">var</span>&nbsp;<span class="ident" id="8164720">dst</span>&nbsp;<span class="ident" id="8164724">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8164731">switch</span>&nbsp;<span class="ident" id="8164738">dcm</span>&nbsp;<span class="op" id="8164742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8164745">case</span>&nbsp;<span class="ident" id="8164750">color</span><span class="op" id="8164755">.</span><span class="ident" id="8164756">RGBAModel</span><span class="op" id="8164765">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8164769">dst1</span>&nbsp;<span class="op" id="8164774">:=</span>&nbsp;<span class="ident" id="8164777">image</span><span class="op" id="8164782">.</span><span class="ident" id="8164783">NewRGBA</span><span class="op" id="8164790">(</span><span class="ident" id="8164791">image</span><span class="op" id="8164796">.</span><span class="ident" id="8164797">Rect</span><span class="op" id="8164801">(</span><span class="num" id="8164802">0</span><span class="op" id="8164803">,</span>&nbsp;<span class="num" id="8164805">0</span><span class="op" id="8164806">,</span>&nbsp;<span class="ident" id="8164808">dstw</span><span class="op" id="8164812">,</span>&nbsp;<span class="ident" id="8164814">dsth</span><span class="op" id="8164818">)</span><span class="op" id="8164819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8164823">for</span>&nbsp;<span class="ident" id="8164827">y</span>&nbsp;<span class="op" id="8164829">:=</span>&nbsp;<span class="num" id="8164832">0</span><span class="op" id="8164833">;</span>&nbsp;<span class="ident" id="8164835">y</span>&nbsp;<span class="op" id="8164837">&lt;</span>&nbsp;<span class="ident" id="8164839">dsth</span><span class="op" id="8164843">;</span>&nbsp;<span class="ident" id="8164845">y</span><span class="op" id="8164846">++</span>&nbsp;<span class="op" id="8164849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8164854">for</span>&nbsp;<span class="ident" id="8164858">x</span>&nbsp;<span class="op" id="8164860">:=</span>&nbsp;<span class="num" id="8164863">0</span><span class="op" id="8164864">;</span>&nbsp;<span class="ident" id="8164866">x</span>&nbsp;<span class="op" id="8164868">&lt;</span>&nbsp;<span class="ident" id="8164870">dstw</span><span class="op" id="8164874">;</span>&nbsp;<span class="ident" id="8164876">x</span><span class="op" id="8164877">++</span>&nbsp;<span class="op" id="8164880">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8164886">dst1</span><span class="op" id="8164890">.</span><span class="ident" id="8164891">SetRGBA</span><span class="op" id="8164898">(</span><span class="ident" id="8164899">x</span><span class="op" id="8164900">,</span>&nbsp;<span class="ident" id="8164902">y</span><span class="op" id="8164903">,</span>&nbsp;<span class="ident" id="8164905">color</span><span class="op" id="8164910">.</span><span class="ident" id="8164911">RGBA</span><span class="op" id="8164915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8164922">uint8</span><span class="op" id="8164927">(</span><span class="num" id="8164928">5</span>&nbsp;<span class="op" id="8164930">*</span>&nbsp;<span class="ident" id="8164932">x</span>&nbsp;<span class="op" id="8164934">%</span>&nbsp;<span class="num" id="8164936">0x100</span><span class="op" id="8164941">)</span><span class="op" id="8164942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8164949">uint8</span><span class="op" id="8164954">(</span><span class="num" id="8164955">7</span>&nbsp;<span class="op" id="8164957">*</span>&nbsp;<span class="ident" id="8164959">y</span>&nbsp;<span class="op" id="8164961">%</span>&nbsp;<span class="num" id="8164963">0x100</span><span class="op" id="8164968">)</span><span class="op" id="8164969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8164976">uint8</span><span class="op" id="8164981">(</span><span class="op" id="8164982">(</span><span class="num" id="8164983">7</span><span class="op" id="8164984">*</span><span class="ident" id="8164985">x</span>&nbsp;<span class="op" id="8164987">+</span>&nbsp;<span class="num" id="8164989">5</span><span class="op" id="8164990">*</span><span class="ident" id="8164991">y</span><span class="op" id="8164992">)</span>&nbsp;<span class="op" id="8164994">%</span>&nbsp;<span class="num" id="8164996">0x100</span><span class="op" id="8165001">)</span><span class="op" id="8165002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8165009">0xff</span><span class="op" id="8165013">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8165019">}</span><span class="op" id="8165020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8165025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8165029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165033">dst</span>&nbsp;<span class="op" id="8165037">=</span>&nbsp;<span class="ident" id="8165039">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165045">case</span>&nbsp;<span class="ident" id="8165050">color</span><span class="op" id="8165055">.</span><span class="ident" id="8165056">RGBA64Model</span><span class="op" id="8165067">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165071">dst1</span>&nbsp;<span class="op" id="8165076">:=</span>&nbsp;<span class="ident" id="8165079">image</span><span class="op" id="8165084">.</span><span class="ident" id="8165085">NewRGBA64</span><span class="op" id="8165094">(</span><span class="ident" id="8165095">image</span><span class="op" id="8165100">.</span><span class="ident" id="8165101">Rect</span><span class="op" id="8165105">(</span><span class="num" id="8165106">0</span><span class="op" id="8165107">,</span>&nbsp;<span class="num" id="8165109">0</span><span class="op" id="8165110">,</span>&nbsp;<span class="ident" id="8165112">dstw</span><span class="op" id="8165116">,</span>&nbsp;<span class="ident" id="8165118">dsth</span><span class="op" id="8165122">)</span><span class="op" id="8165123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165127">for</span>&nbsp;<span class="ident" id="8165131">y</span>&nbsp;<span class="op" id="8165133">:=</span>&nbsp;<span class="num" id="8165136">0</span><span class="op" id="8165137">;</span>&nbsp;<span class="ident" id="8165139">y</span>&nbsp;<span class="op" id="8165141">&lt;</span>&nbsp;<span class="ident" id="8165143">dsth</span><span class="op" id="8165147">;</span>&nbsp;<span class="ident" id="8165149">y</span><span class="op" id="8165150">++</span>&nbsp;<span class="op" id="8165153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165158">for</span>&nbsp;<span class="ident" id="8165162">x</span>&nbsp;<span class="op" id="8165164">:=</span>&nbsp;<span class="num" id="8165167">0</span><span class="op" id="8165168">;</span>&nbsp;<span class="ident" id="8165170">x</span>&nbsp;<span class="op" id="8165172">&lt;</span>&nbsp;<span class="ident" id="8165174">dstw</span><span class="op" id="8165178">;</span>&nbsp;<span class="ident" id="8165180">x</span><span class="op" id="8165181">++</span>&nbsp;<span class="op" id="8165184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165190">dst1</span><span class="op" id="8165194">.</span><span class="ident" id="8165195">SetRGBA64</span><span class="op" id="8165204">(</span><span class="ident" id="8165205">x</span><span class="op" id="8165206">,</span>&nbsp;<span class="ident" id="8165208">y</span><span class="op" id="8165209">,</span>&nbsp;<span class="ident" id="8165211">color</span><span class="op" id="8165216">.</span><span class="ident" id="8165217">RGBA64</span><span class="op" id="8165223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8165230">uint16</span><span class="op" id="8165236">(</span><span class="num" id="8165237">53</span>&nbsp;<span class="op" id="8165240">*</span>&nbsp;<span class="ident" id="8165242">x</span>&nbsp;<span class="op" id="8165244">%</span>&nbsp;<span class="num" id="8165246">0x10000</span><span class="op" id="8165253">)</span><span class="op" id="8165254">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8165261">uint16</span><span class="op" id="8165267">(</span><span class="num" id="8165268">59</span>&nbsp;<span class="op" id="8165271">*</span>&nbsp;<span class="ident" id="8165273">y</span>&nbsp;<span class="op" id="8165275">%</span>&nbsp;<span class="num" id="8165277">0x10000</span><span class="op" id="8165284">)</span><span class="op" id="8165285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8165292">uint16</span><span class="op" id="8165298">(</span><span class="op" id="8165299">(</span><span class="num" id="8165300">59</span><span class="op" id="8165302">*</span><span class="ident" id="8165303">x</span>&nbsp;<span class="op" id="8165305">+</span>&nbsp;<span class="num" id="8165307">53</span><span class="op" id="8165309">*</span><span class="ident" id="8165310">y</span><span class="op" id="8165311">)</span>&nbsp;<span class="op" id="8165313">%</span>&nbsp;<span class="num" id="8165315">0x10000</span><span class="op" id="8165322">)</span><span class="op" id="8165323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8165330">0xffff</span><span class="op" id="8165336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8165342">}</span><span class="op" id="8165343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8165348">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8165352">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165356">dst</span>&nbsp;<span class="op" id="8165360">=</span>&nbsp;<span class="ident" id="8165362">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165368">default</span><span class="op" id="8165375">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165379">b</span><span class="op" id="8165380">.</span><span class="ident" id="8165381">Fatal</span><span class="op" id="8165386">(</span><span class="string" id="8165387">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="8165420">,</span>&nbsp;<span class="ident" id="8165422">dcm</span><span class="op" id="8165425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8165428">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165432">var</span>&nbsp;<span class="ident" id="8165436">src</span>&nbsp;<span class="ident" id="8165440">image</span><span class="op" id="8165445">.</span><span class="ident" id="8165446">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165453">switch</span>&nbsp;<span class="ident" id="8165460">scm</span>&nbsp;<span class="op" id="8165464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165467">case</span>&nbsp;<span class="ident" id="8165472">nil</span><span class="op" id="8165475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165479">src</span>&nbsp;<span class="op" id="8165483">=</span>&nbsp;<span class="op" id="8165485">&amp;</span><span class="ident" id="8165486">image</span><span class="op" id="8165491">.</span><span class="ident" id="8165492">Uniform</span><span class="op" id="8165499">{</span><span class="ident" id="8165500">C</span><span class="op" id="8165501">:</span>&nbsp;<span class="ident" id="8165503">color</span><span class="op" id="8165508">.</span><span class="ident" id="8165509">RGBA</span><span class="op" id="8165513">{</span><span class="num" id="8165514">0x11</span><span class="op" id="8165518">,</span>&nbsp;<span class="num" id="8165520">0x22</span><span class="op" id="8165524">,</span>&nbsp;<span class="num" id="8165526">0x33</span><span class="op" id="8165530">,</span>&nbsp;<span class="num" id="8165532">0xff</span><span class="op" id="8165536">}</span><span class="op" id="8165537">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165540">case</span>&nbsp;<span class="ident" id="8165545">color</span><span class="op" id="8165550">.</span><span class="ident" id="8165551">RGBAModel</span><span class="op" id="8165560">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165564">src1</span>&nbsp;<span class="op" id="8165569">:=</span>&nbsp;<span class="ident" id="8165572">image</span><span class="op" id="8165577">.</span><span class="ident" id="8165578">NewRGBA</span><span class="op" id="8165585">(</span><span class="ident" id="8165586">image</span><span class="op" id="8165591">.</span><span class="ident" id="8165592">Rect</span><span class="op" id="8165596">(</span><span class="num" id="8165597">0</span><span class="op" id="8165598">,</span>&nbsp;<span class="num" id="8165600">0</span><span class="op" id="8165601">,</span>&nbsp;<span class="ident" id="8165603">srcw</span><span class="op" id="8165607">,</span>&nbsp;<span class="ident" id="8165609">srch</span><span class="op" id="8165613">)</span><span class="op" id="8165614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165618">for</span>&nbsp;<span class="ident" id="8165622">y</span>&nbsp;<span class="op" id="8165624">:=</span>&nbsp;<span class="num" id="8165627">0</span><span class="op" id="8165628">;</span>&nbsp;<span class="ident" id="8165630">y</span>&nbsp;<span class="op" id="8165632">&lt;</span>&nbsp;<span class="ident" id="8165634">srch</span><span class="op" id="8165638">;</span>&nbsp;<span class="ident" id="8165640">y</span><span class="op" id="8165641">++</span>&nbsp;<span class="op" id="8165644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165649">for</span>&nbsp;<span class="ident" id="8165653">x</span>&nbsp;<span class="op" id="8165655">:=</span>&nbsp;<span class="num" id="8165658">0</span><span class="op" id="8165659">;</span>&nbsp;<span class="ident" id="8165661">x</span>&nbsp;<span class="op" id="8165663">&lt;</span>&nbsp;<span class="ident" id="8165665">srcw</span><span class="op" id="8165669">;</span>&nbsp;<span class="ident" id="8165671">x</span><span class="op" id="8165672">++</span>&nbsp;<span class="op" id="8165675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165681">src1</span><span class="op" id="8165685">.</span><span class="ident" id="8165686">SetRGBA</span><span class="op" id="8165693">(</span><span class="ident" id="8165694">x</span><span class="op" id="8165695">,</span>&nbsp;<span class="ident" id="8165697">y</span><span class="op" id="8165698">,</span>&nbsp;<span class="ident" id="8165700">color</span><span class="op" id="8165705">.</span><span class="ident" id="8165706">RGBA</span><span class="op" id="8165710">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8165717">uint8</span><span class="op" id="8165722">(</span><span class="num" id="8165723">13</span>&nbsp;<span class="op" id="8165726">*</span>&nbsp;<span class="ident" id="8165728">x</span>&nbsp;<span class="op" id="8165730">%</span>&nbsp;<span class="num" id="8165732">0x80</span><span class="op" id="8165736">)</span><span class="op" id="8165737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8165744">uint8</span><span class="op" id="8165749">(</span><span class="num" id="8165750">11</span>&nbsp;<span class="op" id="8165753">*</span>&nbsp;<span class="ident" id="8165755">y</span>&nbsp;<span class="op" id="8165757">%</span>&nbsp;<span class="num" id="8165759">0x80</span><span class="op" id="8165763">)</span><span class="op" id="8165764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8165771">uint8</span><span class="op" id="8165776">(</span><span class="op" id="8165777">(</span><span class="num" id="8165778">11</span><span class="op" id="8165780">*</span><span class="ident" id="8165781">x</span>&nbsp;<span class="op" id="8165783">+</span>&nbsp;<span class="num" id="8165785">13</span><span class="op" id="8165787">*</span><span class="ident" id="8165788">y</span><span class="op" id="8165789">)</span>&nbsp;<span class="op" id="8165791">%</span>&nbsp;<span class="num" id="8165793">0x80</span><span class="op" id="8165797">)</span><span class="op" id="8165798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8165805">0x7f</span><span class="op" id="8165809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8165815">}</span><span class="op" id="8165816">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8165821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8165825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165829">src</span>&nbsp;<span class="op" id="8165833">=</span>&nbsp;<span class="ident" id="8165835">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165841">case</span>&nbsp;<span class="ident" id="8165846">color</span><span class="op" id="8165851">.</span><span class="ident" id="8165852">RGBA64Model</span><span class="op" id="8165863">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165867">src1</span>&nbsp;<span class="op" id="8165872">:=</span>&nbsp;<span class="ident" id="8165875">image</span><span class="op" id="8165880">.</span><span class="ident" id="8165881">NewRGBA64</span><span class="op" id="8165890">(</span><span class="ident" id="8165891">image</span><span class="op" id="8165896">.</span><span class="ident" id="8165897">Rect</span><span class="op" id="8165901">(</span><span class="num" id="8165902">0</span><span class="op" id="8165903">,</span>&nbsp;<span class="num" id="8165905">0</span><span class="op" id="8165906">,</span>&nbsp;<span class="ident" id="8165908">srcw</span><span class="op" id="8165912">,</span>&nbsp;<span class="ident" id="8165914">srch</span><span class="op" id="8165918">)</span><span class="op" id="8165919">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165923">for</span>&nbsp;<span class="ident" id="8165927">y</span>&nbsp;<span class="op" id="8165929">:=</span>&nbsp;<span class="num" id="8165932">0</span><span class="op" id="8165933">;</span>&nbsp;<span class="ident" id="8165935">y</span>&nbsp;<span class="op" id="8165937">&lt;</span>&nbsp;<span class="ident" id="8165939">srch</span><span class="op" id="8165943">;</span>&nbsp;<span class="ident" id="8165945">y</span><span class="op" id="8165946">++</span>&nbsp;<span class="op" id="8165949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8165954">for</span>&nbsp;<span class="ident" id="8165958">x</span>&nbsp;<span class="op" id="8165960">:=</span>&nbsp;<span class="num" id="8165963">0</span><span class="op" id="8165964">;</span>&nbsp;<span class="ident" id="8165966">x</span>&nbsp;<span class="op" id="8165968">&lt;</span>&nbsp;<span class="ident" id="8165970">srcw</span><span class="op" id="8165974">;</span>&nbsp;<span class="ident" id="8165976">x</span><span class="op" id="8165977">++</span>&nbsp;<span class="op" id="8165980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8165986">src1</span><span class="op" id="8165990">.</span><span class="ident" id="8165991">SetRGBA64</span><span class="op" id="8166000">(</span><span class="ident" id="8166001">x</span><span class="op" id="8166002">,</span>&nbsp;<span class="ident" id="8166004">y</span><span class="op" id="8166005">,</span>&nbsp;<span class="ident" id="8166007">color</span><span class="op" id="8166012">.</span><span class="ident" id="8166013">RGBA64</span><span class="op" id="8166019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8166026">uint16</span><span class="op" id="8166032">(</span><span class="num" id="8166033">103</span>&nbsp;<span class="op" id="8166037">*</span>&nbsp;<span class="ident" id="8166039">x</span>&nbsp;<span class="op" id="8166041">%</span>&nbsp;<span class="num" id="8166043">0x8000</span><span class="op" id="8166049">)</span><span class="op" id="8166050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8166057">uint16</span><span class="op" id="8166063">(</span><span class="num" id="8166064">101</span>&nbsp;<span class="op" id="8166068">*</span>&nbsp;<span class="ident" id="8166070">y</span>&nbsp;<span class="op" id="8166072">%</span>&nbsp;<span class="num" id="8166074">0x8000</span><span class="op" id="8166080">)</span><span class="op" id="8166081">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8166088">uint16</span><span class="op" id="8166094">(</span><span class="op" id="8166095">(</span><span class="num" id="8166096">101</span><span class="op" id="8166099">*</span><span class="ident" id="8166100">x</span>&nbsp;<span class="op" id="8166102">+</span>&nbsp;<span class="num" id="8166104">103</span><span class="op" id="8166107">*</span><span class="ident" id="8166108">y</span><span class="op" id="8166109">)</span>&nbsp;<span class="op" id="8166111">%</span>&nbsp;<span class="num" id="8166113">0x8000</span><span class="op" id="8166119">)</span><span class="op" id="8166120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8166127">0x7fff</span><span class="op" id="8166133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8166139">}</span><span class="op" id="8166140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8166145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8166149">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166153">src</span>&nbsp;<span class="op" id="8166157">=</span>&nbsp;<span class="ident" id="8166159">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8166165">case</span>&nbsp;<span class="ident" id="8166170">color</span><span class="op" id="8166175">.</span><span class="ident" id="8166176">NRGBAModel</span><span class="op" id="8166186">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166190">src1</span>&nbsp;<span class="op" id="8166195">:=</span>&nbsp;<span class="ident" id="8166198">image</span><span class="op" id="8166203">.</span><span class="ident" id="8166204">NewNRGBA</span><span class="op" id="8166212">(</span><span class="ident" id="8166213">image</span><span class="op" id="8166218">.</span><span class="ident" id="8166219">Rect</span><span class="op" id="8166223">(</span><span class="num" id="8166224">0</span><span class="op" id="8166225">,</span>&nbsp;<span class="num" id="8166227">0</span><span class="op" id="8166228">,</span>&nbsp;<span class="ident" id="8166230">srcw</span><span class="op" id="8166234">,</span>&nbsp;<span class="ident" id="8166236">srch</span><span class="op" id="8166240">)</span><span class="op" id="8166241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8166245">for</span>&nbsp;<span class="ident" id="8166249">y</span>&nbsp;<span class="op" id="8166251">:=</span>&nbsp;<span class="num" id="8166254">0</span><span class="op" id="8166255">;</span>&nbsp;<span class="ident" id="8166257">y</span>&nbsp;<span class="op" id="8166259">&lt;</span>&nbsp;<span class="ident" id="8166261">srch</span><span class="op" id="8166265">;</span>&nbsp;<span class="ident" id="8166267">y</span><span class="op" id="8166268">++</span>&nbsp;<span class="op" id="8166271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8166276">for</span>&nbsp;<span class="ident" id="8166280">x</span>&nbsp;<span class="op" id="8166282">:=</span>&nbsp;<span class="num" id="8166285">0</span><span class="op" id="8166286">;</span>&nbsp;<span class="ident" id="8166288">x</span>&nbsp;<span class="op" id="8166290">&lt;</span>&nbsp;<span class="ident" id="8166292">srcw</span><span class="op" id="8166296">;</span>&nbsp;<span class="ident" id="8166298">x</span><span class="op" id="8166299">++</span>&nbsp;<span class="op" id="8166302">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166308">src1</span><span class="op" id="8166312">.</span><span class="ident" id="8166313">SetNRGBA</span><span class="op" id="8166321">(</span><span class="ident" id="8166322">x</span><span class="op" id="8166323">,</span>&nbsp;<span class="ident" id="8166325">y</span><span class="op" id="8166326">,</span>&nbsp;<span class="ident" id="8166328">color</span><span class="op" id="8166333">.</span><span class="ident" id="8166334">NRGBA</span><span class="op" id="8166339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8166346">uint8</span><span class="op" id="8166351">(</span><span class="num" id="8166352">13</span>&nbsp;<span class="op" id="8166355">*</span>&nbsp;<span class="ident" id="8166357">x</span>&nbsp;<span class="op" id="8166359">%</span>&nbsp;<span class="num" id="8166361">0x100</span><span class="op" id="8166366">)</span><span class="op" id="8166367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8166374">uint8</span><span class="op" id="8166379">(</span><span class="num" id="8166380">11</span>&nbsp;<span class="op" id="8166383">*</span>&nbsp;<span class="ident" id="8166385">y</span>&nbsp;<span class="op" id="8166387">%</span>&nbsp;<span class="num" id="8166389">0x100</span><span class="op" id="8166394">)</span><span class="op" id="8166395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8166402">uint8</span><span class="op" id="8166407">(</span><span class="op" id="8166408">(</span><span class="num" id="8166409">11</span><span class="op" id="8166411">*</span><span class="ident" id="8166412">x</span>&nbsp;<span class="op" id="8166414">+</span>&nbsp;<span class="num" id="8166416">13</span><span class="op" id="8166418">*</span><span class="ident" id="8166419">y</span><span class="op" id="8166420">)</span>&nbsp;<span class="op" id="8166422">%</span>&nbsp;<span class="num" id="8166424">0x100</span><span class="op" id="8166429">)</span><span class="op" id="8166430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8166437">0x7f</span><span class="op" id="8166441">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8166447">}</span><span class="op" id="8166448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8166453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8166457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166461">src</span>&nbsp;<span class="op" id="8166465">=</span>&nbsp;<span class="ident" id="8166467">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8166473">case</span>&nbsp;<span class="ident" id="8166478">color</span><span class="op" id="8166483">.</span><span class="ident" id="8166484">YCbCrModel</span><span class="op" id="8166494">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166498">yy</span>&nbsp;<span class="op" id="8166501">:=</span>&nbsp;<span class="builtinfunc" id="8166504">make</span><span class="op" id="8166508">(</span><span class="op" id="8166509">[</span><span class="op" id="8166510">]</span><span class="builtintype" id="8166511">uint8</span><span class="op" id="8166516">,</span>&nbsp;<span class="ident" id="8166518">srcw</span><span class="op" id="8166522">*</span><span class="ident" id="8166523">srch</span><span class="op" id="8166527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166531">cb</span>&nbsp;<span class="op" id="8166534">:=</span>&nbsp;<span class="builtinfunc" id="8166537">make</span><span class="op" id="8166541">(</span><span class="op" id="8166542">[</span><span class="op" id="8166543">]</span><span class="builtintype" id="8166544">uint8</span><span class="op" id="8166549">,</span>&nbsp;<span class="ident" id="8166551">srcw</span><span class="op" id="8166555">*</span><span class="ident" id="8166556">srch</span><span class="op" id="8166560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166564">cr</span>&nbsp;<span class="op" id="8166567">:=</span>&nbsp;<span class="builtinfunc" id="8166570">make</span><span class="op" id="8166574">(</span><span class="op" id="8166575">[</span><span class="op" id="8166576">]</span><span class="builtintype" id="8166577">uint8</span><span class="op" id="8166582">,</span>&nbsp;<span class="ident" id="8166584">srcw</span><span class="op" id="8166588">*</span><span class="ident" id="8166589">srch</span><span class="op" id="8166593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8166597">for</span>&nbsp;<span class="ident" id="8166601">i</span>&nbsp;<span class="op" id="8166603">:=</span>&nbsp;<span class="keyword" id="8166606">range</span>&nbsp;<span class="ident" id="8166612">yy</span>&nbsp;<span class="op" id="8166615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166620">yy</span><span class="op" id="8166622">[</span><span class="ident" id="8166623">i</span><span class="op" id="8166624">]</span>&nbsp;<span class="op" id="8166626">=</span>&nbsp;<span class="builtintype" id="8166628">uint8</span><span class="op" id="8166633">(</span><span class="num" id="8166634">3</span>&nbsp;<span class="op" id="8166636">*</span>&nbsp;<span class="ident" id="8166638">i</span>&nbsp;<span class="op" id="8166640">%</span>&nbsp;<span class="num" id="8166642">0x100</span><span class="op" id="8166647">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166652">cb</span><span class="op" id="8166654">[</span><span class="ident" id="8166655">i</span><span class="op" id="8166656">]</span>&nbsp;<span class="op" id="8166658">=</span>&nbsp;<span class="builtintype" id="8166660">uint8</span><span class="op" id="8166665">(</span><span class="num" id="8166666">5</span>&nbsp;<span class="op" id="8166668">*</span>&nbsp;<span class="ident" id="8166670">i</span>&nbsp;<span class="op" id="8166672">%</span>&nbsp;<span class="num" id="8166674">0x100</span><span class="op" id="8166679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166684">cr</span><span class="op" id="8166686">[</span><span class="ident" id="8166687">i</span><span class="op" id="8166688">]</span>&nbsp;<span class="op" id="8166690">=</span>&nbsp;<span class="builtintype" id="8166692">uint8</span><span class="op" id="8166697">(</span><span class="num" id="8166698">7</span>&nbsp;<span class="op" id="8166700">*</span>&nbsp;<span class="ident" id="8166702">i</span>&nbsp;<span class="op" id="8166704">%</span>&nbsp;<span class="num" id="8166706">0x100</span><span class="op" id="8166711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8166715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166719">src</span>&nbsp;<span class="op" id="8166723">=</span>&nbsp;<span class="op" id="8166725">&amp;</span><span class="ident" id="8166726">image</span><span class="op" id="8166731">.</span><span class="ident" id="8166732">YCbCr</span><span class="op" id="8166737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166742">Y</span><span class="op" id="8166743">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166758">yy</span><span class="op" id="8166760">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166765">Cb</span><span class="op" id="8166767">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166781">cb</span><span class="op" id="8166783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166788">Cr</span><span class="op" id="8166790">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166804">cr</span><span class="op" id="8166806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166811">YStride</span><span class="op" id="8166818">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166827">srcw</span><span class="op" id="8166831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166836">CStride</span><span class="op" id="8166843">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166852">srcw</span><span class="op" id="8166856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166861">SubsampleRatio</span><span class="op" id="8166875">:</span>&nbsp;<span class="ident" id="8166877">image</span><span class="op" id="8166882">.</span><span class="ident" id="8166883">YCbCrSubsampleRatio444</span><span class="op" id="8166905">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166910">Rect</span><span class="op" id="8166914">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8166926">image</span><span class="op" id="8166931">.</span><span class="ident" id="8166932">Rect</span><span class="op" id="8166936">(</span><span class="num" id="8166937">0</span><span class="op" id="8166938">,</span>&nbsp;<span class="num" id="8166940">0</span><span class="op" id="8166941">,</span>&nbsp;<span class="ident" id="8166943">srcw</span><span class="op" id="8166947">,</span>&nbsp;<span class="ident" id="8166949">srch</span><span class="op" id="8166953">)</span><span class="op" id="8166954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8166958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8166961">default</span><span class="op" id="8166968">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8166972">b</span><span class="op" id="8166973">.</span><span class="ident" id="8166974">Fatal</span><span class="op" id="8166979">(</span><span class="string" id="8166980">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="8167008">,</span>&nbsp;<span class="ident" id="8167010">scm</span><span class="op" id="8167013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8167016">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8167020">var</span>&nbsp;<span class="ident" id="8167024">mask</span>&nbsp;<span class="ident" id="8167029">image</span><span class="op" id="8167034">.</span><span class="ident" id="8167035">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8167042">switch</span>&nbsp;<span class="ident" id="8167049">mcm</span>&nbsp;<span class="op" id="8167053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8167056">case</span>&nbsp;<span class="ident" id="8167061">nil</span><span class="op" id="8167064">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8167068">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8167079">case</span>&nbsp;<span class="ident" id="8167084">color</span><span class="op" id="8167089">.</span><span class="ident" id="8167090">AlphaModel</span><span class="op" id="8167100">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167104">mask1</span>&nbsp;<span class="op" id="8167110">:=</span>&nbsp;<span class="ident" id="8167113">image</span><span class="op" id="8167118">.</span><span class="ident" id="8167119">NewAlpha</span><span class="op" id="8167127">(</span><span class="ident" id="8167128">image</span><span class="op" id="8167133">.</span><span class="ident" id="8167134">Rect</span><span class="op" id="8167138">(</span><span class="num" id="8167139">0</span><span class="op" id="8167140">,</span>&nbsp;<span class="num" id="8167142">0</span><span class="op" id="8167143">,</span>&nbsp;<span class="ident" id="8167145">srcw</span><span class="op" id="8167149">,</span>&nbsp;<span class="ident" id="8167151">srch</span><span class="op" id="8167155">)</span><span class="op" id="8167156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8167160">for</span>&nbsp;<span class="ident" id="8167164">y</span>&nbsp;<span class="op" id="8167166">:=</span>&nbsp;<span class="num" id="8167169">0</span><span class="op" id="8167170">;</span>&nbsp;<span class="ident" id="8167172">y</span>&nbsp;<span class="op" id="8167174">&lt;</span>&nbsp;<span class="ident" id="8167176">srch</span><span class="op" id="8167180">;</span>&nbsp;<span class="ident" id="8167182">y</span><span class="op" id="8167183">++</span>&nbsp;<span class="op" id="8167186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8167191">for</span>&nbsp;<span class="ident" id="8167195">x</span>&nbsp;<span class="op" id="8167197">:=</span>&nbsp;<span class="num" id="8167200">0</span><span class="op" id="8167201">;</span>&nbsp;<span class="ident" id="8167203">x</span>&nbsp;<span class="op" id="8167205">&lt;</span>&nbsp;<span class="ident" id="8167207">srcw</span><span class="op" id="8167211">;</span>&nbsp;<span class="ident" id="8167213">x</span><span class="op" id="8167214">++</span>&nbsp;<span class="op" id="8167217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167223">a</span>&nbsp;<span class="op" id="8167225">:=</span>&nbsp;<span class="builtintype" id="8167228">uint8</span><span class="op" id="8167233">(</span><span class="op" id="8167234">(</span><span class="num" id="8167235">23</span><span class="op" id="8167237">*</span><span class="ident" id="8167238">x</span>&nbsp;<span class="op" id="8167240">+</span>&nbsp;<span class="num" id="8167242">29</span><span class="op" id="8167244">*</span><span class="ident" id="8167245">y</span><span class="op" id="8167246">)</span>&nbsp;<span class="op" id="8167248">%</span>&nbsp;<span class="num" id="8167250">0x100</span><span class="op" id="8167255">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8167261">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8167307">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8167358">if</span>&nbsp;<span class="ident" id="8167361">a</span>&nbsp;<span class="op" id="8167363">&gt;=</span>&nbsp;<span class="num" id="8167366">0xc0</span>&nbsp;<span class="op" id="8167371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167378">mask1</span><span class="op" id="8167383">.</span><span class="ident" id="8167384">SetAlpha</span><span class="op" id="8167392">(</span><span class="ident" id="8167393">x</span><span class="op" id="8167394">,</span>&nbsp;<span class="ident" id="8167396">y</span><span class="op" id="8167397">,</span>&nbsp;<span class="ident" id="8167399">color</span><span class="op" id="8167404">.</span><span class="ident" id="8167405">Alpha</span><span class="op" id="8167410">{</span><span class="ident" id="8167411">a</span><span class="op" id="8167412">}</span><span class="op" id="8167413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8167419">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8167424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8167428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167432">mask</span>&nbsp;<span class="op" id="8167437">=</span>&nbsp;<span class="ident" id="8167439">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8167446">default</span><span class="op" id="8167453">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167457">b</span><span class="op" id="8167458">.</span><span class="ident" id="8167459">Fatal</span><span class="op" id="8167464">(</span><span class="string" id="8167465">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="8167491">,</span>&nbsp;<span class="ident" id="8167493">mcm</span><span class="op" id="8167496">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8167499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167503">b</span><span class="op" id="8167504">.</span><span class="ident" id="8167505">StartTimer</span><span class="op" id="8167515">(</span><span class="op" id="8167516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8167519">for</span>&nbsp;<span class="ident" id="8167523">i</span>&nbsp;<span class="op" id="8167525">:=</span>&nbsp;<span class="num" id="8167528">0</span><span class="op" id="8167529">;</span>&nbsp;<span class="ident" id="8167531">i</span>&nbsp;<span class="op" id="8167533">&lt;</span>&nbsp;<span class="ident" id="8167535">b</span><span class="op" id="8167536">.</span><span class="ident" id="8167537">N</span><span class="op" id="8167538">;</span>&nbsp;<span class="ident" id="8167540">i</span><span class="op" id="8167541">++</span>&nbsp;<span class="op" id="8167544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8167548">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167601">x</span>&nbsp;<span class="op" id="8167603">:=</span>&nbsp;<span class="num" id="8167606">3</span>&nbsp;<span class="op" id="8167608">*</span>&nbsp;<span class="ident" id="8167610">i</span>&nbsp;<span class="op" id="8167612">%</span>&nbsp;<span class="op" id="8167614">(</span><span class="ident" id="8167615">dstw</span>&nbsp;<span class="op" id="8167620">-</span>&nbsp;<span class="ident" id="8167622">srcw</span><span class="op" id="8167626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167630">y</span>&nbsp;<span class="op" id="8167632">:=</span>&nbsp;<span class="num" id="8167635">7</span>&nbsp;<span class="op" id="8167637">*</span>&nbsp;<span class="ident" id="8167639">i</span>&nbsp;<span class="op" id="8167641">%</span>&nbsp;<span class="op" id="8167643">(</span><span class="ident" id="8167644">dsth</span>&nbsp;<span class="op" id="8167649">-</span>&nbsp;<span class="ident" id="8167651">srch</span><span class="op" id="8167655">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167660">DrawMask</span><span class="op" id="8167668">(</span><span class="ident" id="8167669">dst</span><span class="op" id="8167672">,</span>&nbsp;<span class="ident" id="8167674">dst</span><span class="op" id="8167677">.</span><span class="ident" id="8167678">Bounds</span><span class="op" id="8167684">(</span><span class="op" id="8167685">)</span><span class="op" id="8167686">.</span><span class="ident" id="8167687">Add</span><span class="op" id="8167690">(</span><span class="ident" id="8167691">image</span><span class="op" id="8167696">.</span><span class="ident" id="8167697">Pt</span><span class="op" id="8167699">(</span><span class="ident" id="8167700">x</span><span class="op" id="8167701">,</span>&nbsp;<span class="ident" id="8167703">y</span><span class="op" id="8167704">)</span><span class="op" id="8167705">)</span><span class="op" id="8167706">,</span>&nbsp;<span class="ident" id="8167708">src</span><span class="op" id="8167711">,</span>&nbsp;<span class="ident" id="8167713">image</span><span class="op" id="8167718">.</span><span class="ident" id="8167719">ZP</span><span class="op" id="8167721">,</span>&nbsp;<span class="ident" id="8167723">mask</span><span class="op" id="8167727">,</span>&nbsp;<span class="ident" id="8167729">image</span><span class="op" id="8167734">.</span><span class="ident" id="8167735">ZP</span><span class="op" id="8167737">,</span>&nbsp;<span class="ident" id="8167739">op</span><span class="op" id="8167741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8167744">}</span><br>
<span class="lineno">150</span><span class="op" id="8167746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8167749">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8167830">func</span>&nbsp;<span class="ident" id="8167835">BenchmarkFillOver</span><span class="op" id="8167852">(</span><span class="ident" id="8167853">b</span>&nbsp;<span class="op" id="8167855">*</span><span class="ident" id="8167856">testing</span><span class="op" id="8167863">.</span><span class="ident" id="8167864">B</span><span class="op" id="8167865">)</span>&nbsp;<span class="op" id="8167867">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167870">bench</span><span class="op" id="8167875">(</span><span class="ident" id="8167876">b</span><span class="op" id="8167877">,</span>&nbsp;<span class="ident" id="8167879">color</span><span class="op" id="8167884">.</span><span class="ident" id="8167885">RGBAModel</span><span class="op" id="8167894">,</span>&nbsp;<span class="ident" id="8167896">nil</span><span class="op" id="8167899">,</span>&nbsp;<span class="ident" id="8167901">nil</span><span class="op" id="8167904">,</span>&nbsp;<span class="ident" id="8167906">Over</span><span class="op" id="8167910">)</span><br>
<span class="lineno"></span><span class="op" id="8167912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8167915">func</span>&nbsp;<span class="ident" id="8167920">BenchmarkFillSrc</span><span class="op" id="8167936">(</span><span class="ident" id="8167937">b</span>&nbsp;<span class="op" id="8167939">*</span><span class="ident" id="8167940">testing</span><span class="op" id="8167947">.</span><span class="ident" id="8167948">B</span><span class="op" id="8167949">)</span>&nbsp;<span class="op" id="8167951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8167954">bench</span><span class="op" id="8167959">(</span><span class="ident" id="8167960">b</span><span class="op" id="8167961">,</span>&nbsp;<span class="ident" id="8167963">color</span><span class="op" id="8167968">.</span><span class="ident" id="8167969">RGBAModel</span><span class="op" id="8167978">,</span>&nbsp;<span class="ident" id="8167980">nil</span><span class="op" id="8167983">,</span>&nbsp;<span class="ident" id="8167985">nil</span><span class="op" id="8167988">,</span>&nbsp;<span class="ident" id="8167990">Src</span><span class="op" id="8167993">)</span><br>
<span class="lineno">160</span><span class="op" id="8167995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8167998">func</span>&nbsp;<span class="ident" id="8168003">BenchmarkCopyOver</span><span class="op" id="8168020">(</span><span class="ident" id="8168021">b</span>&nbsp;<span class="op" id="8168023">*</span><span class="ident" id="8168024">testing</span><span class="op" id="8168031">.</span><span class="ident" id="8168032">B</span><span class="op" id="8168033">)</span>&nbsp;<span class="op" id="8168035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8168038">bench</span><span class="op" id="8168043">(</span><span class="ident" id="8168044">b</span><span class="op" id="8168045">,</span>&nbsp;<span class="ident" id="8168047">color</span><span class="op" id="8168052">.</span><span class="ident" id="8168053">RGBAModel</span><span class="op" id="8168062">,</span>&nbsp;<span class="ident" id="8168064">color</span><span class="op" id="8168069">.</span><span class="ident" id="8168070">RGBAModel</span><span class="op" id="8168079">,</span>&nbsp;<span class="ident" id="8168081">nil</span><span class="op" id="8168084">,</span>&nbsp;<span class="ident" id="8168086">Over</span><span class="op" id="8168090">)</span><br>
<span class="lineno"></span><span class="op" id="8168092">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="8168095">func</span>&nbsp;<span class="ident" id="8168100">BenchmarkCopySrc</span><span class="op" id="8168116">(</span><span class="ident" id="8168117">b</span>&nbsp;<span class="op" id="8168119">*</span><span class="ident" id="8168120">testing</span><span class="op" id="8168127">.</span><span class="ident" id="8168128">B</span><span class="op" id="8168129">)</span>&nbsp;<span class="op" id="8168131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8168134">bench</span><span class="op" id="8168139">(</span><span class="ident" id="8168140">b</span><span class="op" id="8168141">,</span>&nbsp;<span class="ident" id="8168143">color</span><span class="op" id="8168148">.</span><span class="ident" id="8168149">RGBAModel</span><span class="op" id="8168158">,</span>&nbsp;<span class="ident" id="8168160">color</span><span class="op" id="8168165">.</span><span class="ident" id="8168166">RGBAModel</span><span class="op" id="8168175">,</span>&nbsp;<span class="ident" id="8168177">nil</span><span class="op" id="8168180">,</span>&nbsp;<span class="ident" id="8168182">Src</span><span class="op" id="8168185">)</span><br>
<span class="lineno"></span><span class="op" id="8168187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="8168190">func</span>&nbsp;<span class="ident" id="8168195">BenchmarkNRGBAOver</span><span class="op" id="8168213">(</span><span class="ident" id="8168214">b</span>&nbsp;<span class="op" id="8168216">*</span><span class="ident" id="8168217">testing</span><span class="op" id="8168224">.</span><span class="ident" id="8168225">B</span><span class="op" id="8168226">)</span>&nbsp;<span class="op" id="8168228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8168231">bench</span><span class="op" id="8168236">(</span><span class="ident" id="8168237">b</span><span class="op" id="8168238">,</span>&nbsp;<span class="ident" id="8168240">color</span><span class="op" id="8168245">.</span><span class="ident" id="8168246">RGBAModel</span><span class="op" id="8168255">,</span>&nbsp;<span class="ident" id="8168257">color</span><span class="op" id="8168262">.</span><span class="ident" id="8168263">NRGBAModel</span><span class="op" id="8168273">,</span>&nbsp;<span class="ident" id="8168275">nil</span><span class="op" id="8168278">,</span>&nbsp;<span class="ident" id="8168280">Over</span><span class="op" id="8168284">)</span><br>
<span class="lineno"></span><span class="op" id="8168286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8168289">func</span>&nbsp;<span class="ident" id="8168294">BenchmarkNRGBASrc</span><span class="op" id="8168311">(</span><span class="ident" id="8168312">b</span>&nbsp;<span class="op" id="8168314">*</span><span class="ident" id="8168315">testing</span><span class="op" id="8168322">.</span><span class="ident" id="8168323">B</span><span class="op" id="8168324">)</span>&nbsp;<span class="op" id="8168326">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8168329">bench</span><span class="op" id="8168334">(</span><span class="ident" id="8168335">b</span><span class="op" id="8168336">,</span>&nbsp;<span class="ident" id="8168338">color</span><span class="op" id="8168343">.</span><span class="ident" id="8168344">RGBAModel</span><span class="op" id="8168353">,</span>&nbsp;<span class="ident" id="8168355">color</span><span class="op" id="8168360">.</span><span class="ident" id="8168361">NRGBAModel</span><span class="op" id="8168371">,</span>&nbsp;<span class="ident" id="8168373">nil</span><span class="op" id="8168376">,</span>&nbsp;<span class="ident" id="8168378">Src</span><span class="op" id="8168381">)</span><br>
<span class="lineno"></span><span class="op" id="8168383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8168386">func</span>&nbsp;<span class="ident" id="8168391">BenchmarkYCbCr</span><span class="op" id="8168405">(</span><span class="ident" id="8168406">b</span>&nbsp;<span class="op" id="8168408">*</span><span class="ident" id="8168409">testing</span><span class="op" id="8168416">.</span><span class="ident" id="8168417">B</span><span class="op" id="8168418">)</span>&nbsp;<span class="op" id="8168420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8168423">bench</span><span class="op" id="8168428">(</span><span class="ident" id="8168429">b</span><span class="op" id="8168430">,</span>&nbsp;<span class="ident" id="8168432">color</span><span class="op" id="8168437">.</span><span class="ident" id="8168438">RGBAModel</span><span class="op" id="8168447">,</span>&nbsp;<span class="ident" id="8168449">color</span><span class="op" id="8168454">.</span><span class="ident" id="8168455">YCbCrModel</span><span class="op" id="8168465">,</span>&nbsp;<span class="ident" id="8168467">nil</span><span class="op" id="8168470">,</span>&nbsp;<span class="ident" id="8168472">Over</span><span class="op" id="8168476">)</span><br>
<span class="lineno">180</span><span class="op" id="8168478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8168481">func</span>&nbsp;<span class="ident" id="8168486">BenchmarkGlyphOver</span><span class="op" id="8168504">(</span><span class="ident" id="8168505">b</span>&nbsp;<span class="op" id="8168507">*</span><span class="ident" id="8168508">testing</span><span class="op" id="8168515">.</span><span class="ident" id="8168516">B</span><span class="op" id="8168517">)</span>&nbsp;<span class="op" id="8168519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8168522">bench</span><span class="op" id="8168527">(</span><span class="ident" id="8168528">b</span><span class="op" id="8168529">,</span>&nbsp;<span class="ident" id="8168531">color</span><span class="op" id="8168536">.</span><span class="ident" id="8168537">RGBAModel</span><span class="op" id="8168546">,</span>&nbsp;<span class="ident" id="8168548">nil</span><span class="op" id="8168551">,</span>&nbsp;<span class="ident" id="8168553">color</span><span class="op" id="8168558">.</span><span class="ident" id="8168559">AlphaModel</span><span class="op" id="8168569">,</span>&nbsp;<span class="ident" id="8168571">Over</span><span class="op" id="8168575">)</span><br>
<span class="lineno"></span><span class="op" id="8168577">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="8168580">func</span>&nbsp;<span class="ident" id="8168585">BenchmarkRGBA</span><span class="op" id="8168598">(</span><span class="ident" id="8168599">b</span>&nbsp;<span class="op" id="8168601">*</span><span class="ident" id="8168602">testing</span><span class="op" id="8168609">.</span><span class="ident" id="8168610">B</span><span class="op" id="8168611">)</span>&nbsp;<span class="op" id="8168613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8168616">bench</span><span class="op" id="8168621">(</span><span class="ident" id="8168622">b</span><span class="op" id="8168623">,</span>&nbsp;<span class="ident" id="8168625">color</span><span class="op" id="8168630">.</span><span class="ident" id="8168631">RGBAModel</span><span class="op" id="8168640">,</span>&nbsp;<span class="ident" id="8168642">color</span><span class="op" id="8168647">.</span><span class="ident" id="8168648">RGBA64Model</span><span class="op" id="8168659">,</span>&nbsp;<span class="ident" id="8168661">nil</span><span class="op" id="8168664">,</span>&nbsp;<span class="ident" id="8168666">Src</span><span class="op" id="8168669">)</span><br>
<span class="lineno"></span><span class="op" id="8168671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="8168674">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8168750">func</span>&nbsp;<span class="ident" id="8168755">BenchmarkGenericOver</span><span class="op" id="8168775">(</span><span class="ident" id="8168776">b</span>&nbsp;<span class="op" id="8168778">*</span><span class="ident" id="8168779">testing</span><span class="op" id="8168786">.</span><span class="ident" id="8168787">B</span><span class="op" id="8168788">)</span>&nbsp;<span class="op" id="8168790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8168793">bench</span><span class="op" id="8168798">(</span><span class="ident" id="8168799">b</span><span class="op" id="8168800">,</span>&nbsp;<span class="ident" id="8168802">color</span><span class="op" id="8168807">.</span><span class="ident" id="8168808">RGBA64Model</span><span class="op" id="8168819">,</span>&nbsp;<span class="ident" id="8168821">color</span><span class="op" id="8168826">.</span><span class="ident" id="8168827">RGBA64Model</span><span class="op" id="8168838">,</span>&nbsp;<span class="ident" id="8168840">nil</span><span class="op" id="8168843">,</span>&nbsp;<span class="ident" id="8168845">Over</span><span class="op" id="8168849">)</span><br>
<span class="lineno"></span><span class="op" id="8168851">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="8168854">func</span>&nbsp;<span class="ident" id="8168859">BenchmarkGenericMaskOver</span><span class="op" id="8168883">(</span><span class="ident" id="8168884">b</span>&nbsp;<span class="op" id="8168886">*</span><span class="ident" id="8168887">testing</span><span class="op" id="8168894">.</span><span class="ident" id="8168895">B</span><span class="op" id="8168896">)</span>&nbsp;<span class="op" id="8168898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8168901">bench</span><span class="op" id="8168906">(</span><span class="ident" id="8168907">b</span><span class="op" id="8168908">,</span>&nbsp;<span class="ident" id="8168910">color</span><span class="op" id="8168915">.</span><span class="ident" id="8168916">RGBA64Model</span><span class="op" id="8168927">,</span>&nbsp;<span class="ident" id="8168929">color</span><span class="op" id="8168934">.</span><span class="ident" id="8168935">RGBA64Model</span><span class="op" id="8168946">,</span>&nbsp;<span class="ident" id="8168948">color</span><span class="op" id="8168953">.</span><span class="ident" id="8168954">AlphaModel</span><span class="op" id="8168964">,</span>&nbsp;<span class="ident" id="8168966">Over</span><span class="op" id="8168970">)</span><br>
<span class="lineno"></span><span class="op" id="8168972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="8168975">func</span>&nbsp;<span class="ident" id="8168980">BenchmarkGenericSrc</span><span class="op" id="8168999">(</span><span class="ident" id="8169000">b</span>&nbsp;<span class="op" id="8169002">*</span><span class="ident" id="8169003">testing</span><span class="op" id="8169010">.</span><span class="ident" id="8169011">B</span><span class="op" id="8169012">)</span>&nbsp;<span class="op" id="8169014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8169017">bench</span><span class="op" id="8169022">(</span><span class="ident" id="8169023">b</span><span class="op" id="8169024">,</span>&nbsp;<span class="ident" id="8169026">color</span><span class="op" id="8169031">.</span><span class="ident" id="8169032">RGBA64Model</span><span class="op" id="8169043">,</span>&nbsp;<span class="ident" id="8169045">color</span><span class="op" id="8169050">.</span><span class="ident" id="8169051">RGBA64Model</span><span class="op" id="8169062">,</span>&nbsp;<span class="ident" id="8169064">nil</span><span class="op" id="8169067">,</span>&nbsp;<span class="ident" id="8169069">Src</span><span class="op" id="8169072">)</span><br>
<span class="lineno"></span><span class="op" id="8169074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8169077">func</span>&nbsp;<span class="ident" id="8169082">BenchmarkGenericMaskSrc</span><span class="op" id="8169105">(</span><span class="ident" id="8169106">b</span>&nbsp;<span class="op" id="8169108">*</span><span class="ident" id="8169109">testing</span><span class="op" id="8169116">.</span><span class="ident" id="8169117">B</span><span class="op" id="8169118">)</span>&nbsp;<span class="op" id="8169120">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8169123">bench</span><span class="op" id="8169128">(</span><span class="ident" id="8169129">b</span><span class="op" id="8169130">,</span>&nbsp;<span class="ident" id="8169132">color</span><span class="op" id="8169137">.</span><span class="ident" id="8169138">RGBA64Model</span><span class="op" id="8169149">,</span>&nbsp;<span class="ident" id="8169151">color</span><span class="op" id="8169156">.</span><span class="ident" id="8169157">RGBA64Model</span><span class="op" id="8169168">,</span>&nbsp;<span class="ident" id="8169170">color</span><span class="op" id="8169175">.</span><span class="ident" id="8169176">AlphaModel</span><span class="op" id="8169186">,</span>&nbsp;<span class="ident" id="8169188">Src</span><span class="op" id="8169191">)</span><br>
<span class="lineno"></span><span class="op" id="8169193">}</span>
</div>
</body>
</html>
