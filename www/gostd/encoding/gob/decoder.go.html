<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3953564">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3953619">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3953673">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3953724">package</span>&nbsp;<span class="ident" id="3953732">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3953737">import</span>&nbsp;<span class="op" id="3953744">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3953747">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3953756">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3953766">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3953772">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3953783">&#34;sync&#34;</span><br>
<span class="lineno"></span><span class="op" id="3953790">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3953793">//&nbsp;tooBig&nbsp;provides&nbsp;a&nbsp;sanity&nbsp;check&nbsp;for&nbsp;sizes;&nbsp;used&nbsp;in&nbsp;several&nbsp;places.</span><br>
<span class="lineno"></span><span class="comment" id="3953862">//&nbsp;Upper&nbsp;limit&nbsp;of&nbsp;1GB,&nbsp;allowing&nbsp;room&nbsp;to&nbsp;grow&nbsp;a&nbsp;little&nbsp;without&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="comment" id="3953934">//&nbsp;TODO:&nbsp;make&nbsp;this&nbsp;adjustable?</span><br>
<span class="lineno"></span><span class="keyword" id="3953965">const</span>&nbsp;<span class="ident" id="3953971">tooBig</span>&nbsp;<span class="op" id="3953978">=</span>&nbsp;<span class="num" id="3953980">1</span>&nbsp;<span class="op" id="3953982">&lt;&lt;</span>&nbsp;<span class="num" id="3953985">30</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="3953989">//&nbsp;A&nbsp;Decoder&nbsp;manages&nbsp;the&nbsp;receipt&nbsp;of&nbsp;type&nbsp;and&nbsp;data&nbsp;information&nbsp;read&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3954065">//&nbsp;remote&nbsp;side&nbsp;of&nbsp;a&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="3954097">type</span>&nbsp;<span class="ident" id="3954102">Decoder</span>&nbsp;<span class="keyword" id="3954110">struct</span>&nbsp;<span class="op" id="3954117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954120">mutex</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3954133">sync</span><span class="op" id="3954137">.</span><span class="ident" id="3954138">Mutex</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3954173">//&nbsp;each&nbsp;item&nbsp;must&nbsp;be&nbsp;received&nbsp;atomically</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954215">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3954228">io</span><span class="op" id="3954230">.</span><span class="ident" id="3954231">Reader</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3954268">//&nbsp;source&nbsp;of&nbsp;the&nbsp;data</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954291">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3954304">decBuffer</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3954344">//&nbsp;buffer&nbsp;for&nbsp;more&nbsp;efficient&nbsp;i/o&nbsp;from&nbsp;r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954385">wireType</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3954398">map</span><span class="op" id="3954401">[</span><span class="ident" id="3954402">typeId</span><span class="op" id="3954408">]</span><span class="op" id="3954409">*</span><span class="ident" id="3954410">wireType</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3954438">//&nbsp;map&nbsp;from&nbsp;remote&nbsp;ID&nbsp;to&nbsp;local&nbsp;description</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954482">decoderCache</span>&nbsp;<span class="keyword" id="3954495">map</span><span class="op" id="3954498">[</span><span class="ident" id="3954499">reflect</span><span class="op" id="3954506">.</span><span class="ident" id="3954507">Type</span><span class="op" id="3954511">]</span><span class="keyword" id="3954512">map</span><span class="op" id="3954515">[</span><span class="ident" id="3954516">typeId</span><span class="op" id="3954522">]</span><span class="op" id="3954523">*</span><span class="op" id="3954524">*</span><span class="ident" id="3954525">decEngine</span>&nbsp;<span class="comment" id="3954535">//&nbsp;cache&nbsp;of&nbsp;compiled&nbsp;engines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954565">ignorerCache</span>&nbsp;<span class="keyword" id="3954578">map</span><span class="op" id="3954581">[</span><span class="ident" id="3954582">typeId</span><span class="op" id="3954588">]</span><span class="op" id="3954589">*</span><span class="op" id="3954590">*</span><span class="ident" id="3954591">decEngine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3954618">//&nbsp;ditto&nbsp;for&nbsp;ignored&nbsp;objects</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954648">freeList</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3954661">*</span><span class="ident" id="3954662">decoderState</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3954701">//&nbsp;list&nbsp;of&nbsp;free&nbsp;decoderStates;&nbsp;avoids&nbsp;reallocation</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954753">countBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3954766">[</span><span class="op" id="3954767">]</span><span class="builtintype" id="3954768">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3954806">//&nbsp;used&nbsp;for&nbsp;decoding&nbsp;integers&nbsp;while&nbsp;parsing&nbsp;messages</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954860">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3954873">error</span><br>
<span class="lineno"></span><span class="op" id="3954879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3954882">//&nbsp;NewDecoder&nbsp;returns&nbsp;a&nbsp;new&nbsp;decoder&nbsp;that&nbsp;reads&nbsp;from&nbsp;the&nbsp;io.Reader.</span><br>
<span class="lineno">35</span><span class="comment" id="3954949">//&nbsp;If&nbsp;r&nbsp;does&nbsp;not&nbsp;also&nbsp;implement&nbsp;io.ByteReader,&nbsp;it&nbsp;will&nbsp;be&nbsp;wrapped&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3955020">//&nbsp;bufio.Reader.</span><br>
<span class="lineno"></span><span class="keyword" id="3955037">func</span>&nbsp;<span class="ident" id="3955042">NewDecoder</span><span class="op" id="3955052">(</span><span class="ident" id="3955053">r</span>&nbsp;<span class="ident" id="3955055">io</span><span class="op" id="3955057">.</span><span class="ident" id="3955058">Reader</span><span class="op" id="3955064">)</span>&nbsp;<span class="op" id="3955066">*</span><span class="ident" id="3955067">Decoder</span>&nbsp;<span class="op" id="3955075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955078">dec</span>&nbsp;<span class="op" id="3955082">:=</span>&nbsp;<span class="builtinfunc" id="3955085">new</span><span class="op" id="3955088">(</span><span class="ident" id="3955089">Decoder</span><span class="op" id="3955096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3955099">//&nbsp;We&nbsp;use&nbsp;the&nbsp;ability&nbsp;to&nbsp;read&nbsp;bytes&nbsp;as&nbsp;a&nbsp;plausible&nbsp;surrogate&nbsp;for&nbsp;buffering.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955176">if</span>&nbsp;<span class="ident" id="3955179">_</span><span class="op" id="3955180">,</span>&nbsp;<span class="ident" id="3955182">ok</span>&nbsp;<span class="op" id="3955185">:=</span>&nbsp;<span class="ident" id="3955188">r</span><span class="op" id="3955189">.</span><span class="op" id="3955190">(</span><span class="ident" id="3955191">io</span><span class="op" id="3955193">.</span><span class="ident" id="3955194">ByteReader</span><span class="op" id="3955204">)</span><span class="op" id="3955205">;</span>&nbsp;<span class="op" id="3955207">!</span><span class="ident" id="3955208">ok</span>&nbsp;<span class="op" id="3955211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955215">r</span>&nbsp;<span class="op" id="3955217">=</span>&nbsp;<span class="ident" id="3955219">bufio</span><span class="op" id="3955224">.</span><span class="ident" id="3955225">NewReader</span><span class="op" id="3955234">(</span><span class="ident" id="3955235">r</span><span class="op" id="3955236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3955239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955242">dec</span><span class="op" id="3955245">.</span><span class="ident" id="3955246">r</span>&nbsp;<span class="op" id="3955248">=</span>&nbsp;<span class="ident" id="3955250">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955253">dec</span><span class="op" id="3955256">.</span><span class="ident" id="3955257">wireType</span>&nbsp;<span class="op" id="3955266">=</span>&nbsp;<span class="builtinfunc" id="3955268">make</span><span class="op" id="3955272">(</span><span class="keyword" id="3955273">map</span><span class="op" id="3955276">[</span><span class="ident" id="3955277">typeId</span><span class="op" id="3955283">]</span><span class="op" id="3955284">*</span><span class="ident" id="3955285">wireType</span><span class="op" id="3955293">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955296">dec</span><span class="op" id="3955299">.</span><span class="ident" id="3955300">decoderCache</span>&nbsp;<span class="op" id="3955313">=</span>&nbsp;<span class="builtinfunc" id="3955315">make</span><span class="op" id="3955319">(</span><span class="keyword" id="3955320">map</span><span class="op" id="3955323">[</span><span class="ident" id="3955324">reflect</span><span class="op" id="3955331">.</span><span class="ident" id="3955332">Type</span><span class="op" id="3955336">]</span><span class="keyword" id="3955337">map</span><span class="op" id="3955340">[</span><span class="ident" id="3955341">typeId</span><span class="op" id="3955347">]</span><span class="op" id="3955348">*</span><span class="op" id="3955349">*</span><span class="ident" id="3955350">decEngine</span><span class="op" id="3955359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955362">dec</span><span class="op" id="3955365">.</span><span class="ident" id="3955366">ignorerCache</span>&nbsp;<span class="op" id="3955379">=</span>&nbsp;<span class="builtinfunc" id="3955381">make</span><span class="op" id="3955385">(</span><span class="keyword" id="3955386">map</span><span class="op" id="3955389">[</span><span class="ident" id="3955390">typeId</span><span class="op" id="3955396">]</span><span class="op" id="3955397">*</span><span class="op" id="3955398">*</span><span class="ident" id="3955399">decEngine</span><span class="op" id="3955408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955411">dec</span><span class="op" id="3955414">.</span><span class="ident" id="3955415">countBuf</span>&nbsp;<span class="op" id="3955424">=</span>&nbsp;<span class="builtinfunc" id="3955426">make</span><span class="op" id="3955430">(</span><span class="op" id="3955431">[</span><span class="op" id="3955432">]</span><span class="builtintype" id="3955433">byte</span><span class="op" id="3955437">,</span>&nbsp;<span class="num" id="3955439">9</span><span class="op" id="3955440">)</span>&nbsp;<span class="comment" id="3955442">//&nbsp;counts&nbsp;may&nbsp;be&nbsp;uint64s&nbsp;(unlikely!),&nbsp;require&nbsp;9&nbsp;bytes</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955498">return</span>&nbsp;<span class="ident" id="3955505">dec</span><br>
<span class="lineno">50</span><span class="op" id="3955509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3955512">//&nbsp;recvType&nbsp;loads&nbsp;the&nbsp;definition&nbsp;of&nbsp;a&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="3955556">func</span>&nbsp;<span class="op" id="3955561">(</span><span class="ident" id="3955562">dec</span>&nbsp;<span class="op" id="3955566">*</span><span class="ident" id="3955567">Decoder</span><span class="op" id="3955574">)</span>&nbsp;<span class="ident" id="3955576">recvType</span><span class="op" id="3955584">(</span><span class="ident" id="3955585">id</span>&nbsp;<span class="ident" id="3955588">typeId</span><span class="op" id="3955594">)</span>&nbsp;<span class="op" id="3955596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3955599">//&nbsp;Have&nbsp;we&nbsp;already&nbsp;seen&nbsp;this&nbsp;type?&nbsp;&nbsp;That&#39;s&nbsp;an&nbsp;error</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955652">if</span>&nbsp;<span class="ident" id="3955655">id</span>&nbsp;<span class="op" id="3955658">&lt;</span>&nbsp;<span class="ident" id="3955660">firstUserId</span>&nbsp;<span class="op" id="3955672">||</span>&nbsp;<span class="ident" id="3955675">dec</span><span class="op" id="3955678">.</span><span class="ident" id="3955679">wireType</span><span class="op" id="3955687">[</span><span class="ident" id="3955688">id</span><span class="op" id="3955690">]</span>&nbsp;<span class="op" id="3955692">!=</span>&nbsp;<span class="ident" id="3955695">nil</span>&nbsp;<span class="op" id="3955699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955703">dec</span><span class="op" id="3955706">.</span><span class="ident" id="3955707">err</span>&nbsp;<span class="op" id="3955711">=</span>&nbsp;<span class="ident" id="3955713">errors</span><span class="op" id="3955719">.</span><span class="ident" id="3955720">New</span><span class="op" id="3955723">(</span><span class="string" id="3955724">&#34;gob:&nbsp;duplicate&nbsp;type&nbsp;received&#34;</span><span class="op" id="3955754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955758">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3955766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3955770">//&nbsp;Type:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955780">wire</span>&nbsp;<span class="op" id="3955785">:=</span>&nbsp;<span class="builtinfunc" id="3955788">new</span><span class="op" id="3955791">(</span><span class="ident" id="3955792">wireType</span><span class="op" id="3955800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955803">dec</span><span class="op" id="3955806">.</span><span class="ident" id="3955807">decodeValue</span><span class="op" id="3955818">(</span><span class="ident" id="3955819">tWireType</span><span class="op" id="3955828">,</span>&nbsp;<span class="ident" id="3955830">reflect</span><span class="op" id="3955837">.</span><span class="ident" id="3955838">ValueOf</span><span class="op" id="3955845">(</span><span class="ident" id="3955846">wire</span><span class="op" id="3955850">)</span><span class="op" id="3955851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955854">if</span>&nbsp;<span class="ident" id="3955857">dec</span><span class="op" id="3955860">.</span><span class="ident" id="3955861">err</span>&nbsp;<span class="op" id="3955865">!=</span>&nbsp;<span class="ident" id="3955868">nil</span>&nbsp;<span class="op" id="3955872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955876">return</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3955884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3955887">//&nbsp;Remember&nbsp;we&#39;ve&nbsp;seen&nbsp;this&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955922">dec</span><span class="op" id="3955925">.</span><span class="ident" id="3955926">wireType</span><span class="op" id="3955934">[</span><span class="ident" id="3955935">id</span><span class="op" id="3955937">]</span>&nbsp;<span class="op" id="3955939">=</span>&nbsp;<span class="ident" id="3955941">wire</span><br>
<span class="lineno"></span><span class="op" id="3955946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="3955949">var</span>&nbsp;<span class="ident" id="3955953">errBadCount</span>&nbsp;<span class="op" id="3955965">=</span>&nbsp;<span class="ident" id="3955967">errors</span><span class="op" id="3955973">.</span><span class="ident" id="3955974">New</span><span class="op" id="3955977">(</span><span class="string" id="3955978">&#34;invalid&nbsp;message&nbsp;length&#34;</span><span class="op" id="3956002">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3956005">//&nbsp;recvMessage&nbsp;reads&nbsp;the&nbsp;next&nbsp;count-delimited&nbsp;item&nbsp;from&nbsp;the&nbsp;input.&nbsp;It&nbsp;is&nbsp;the&nbsp;converse</span><br>
<span class="lineno"></span><span class="comment" id="3956091">//&nbsp;of&nbsp;Encoder.writeMessage.&nbsp;It&nbsp;returns&nbsp;false&nbsp;on&nbsp;EOF&nbsp;or&nbsp;other&nbsp;error&nbsp;reading&nbsp;the&nbsp;message.</span><br>
<span class="lineno"></span><span class="keyword" id="3956179">func</span>&nbsp;<span class="op" id="3956184">(</span><span class="ident" id="3956185">dec</span>&nbsp;<span class="op" id="3956189">*</span><span class="ident" id="3956190">Decoder</span><span class="op" id="3956197">)</span>&nbsp;<span class="ident" id="3956199">recvMessage</span><span class="op" id="3956210">(</span><span class="op" id="3956211">)</span>&nbsp;<span class="builtintype" id="3956213">bool</span>&nbsp;<span class="op" id="3956218">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3956221">//&nbsp;Read&nbsp;a&nbsp;count.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956239">nbytes</span><span class="op" id="3956245">,</span>&nbsp;<span class="ident" id="3956247">_</span><span class="op" id="3956248">,</span>&nbsp;<span class="ident" id="3956250">err</span>&nbsp;<span class="op" id="3956254">:=</span>&nbsp;<span class="ident" id="3956257">decodeUintReader</span><span class="op" id="3956273">(</span><span class="ident" id="3956274">dec</span><span class="op" id="3956277">.</span><span class="ident" id="3956278">r</span><span class="op" id="3956279">,</span>&nbsp;<span class="ident" id="3956281">dec</span><span class="op" id="3956284">.</span><span class="ident" id="3956285">countBuf</span><span class="op" id="3956293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956296">if</span>&nbsp;<span class="ident" id="3956299">err</span>&nbsp;<span class="op" id="3956303">!=</span>&nbsp;<span class="ident" id="3956306">nil</span>&nbsp;<span class="op" id="3956310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956314">dec</span><span class="op" id="3956317">.</span><span class="ident" id="3956318">err</span>&nbsp;<span class="op" id="3956322">=</span>&nbsp;<span class="ident" id="3956324">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956330">return</span>&nbsp;<span class="builtintype" id="3956337">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3956344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956347">if</span>&nbsp;<span class="ident" id="3956350">nbytes</span>&nbsp;<span class="op" id="3956357">&gt;=</span>&nbsp;<span class="ident" id="3956360">tooBig</span>&nbsp;<span class="op" id="3956367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956371">dec</span><span class="op" id="3956374">.</span><span class="ident" id="3956375">err</span>&nbsp;<span class="op" id="3956379">=</span>&nbsp;<span class="ident" id="3956381">errBadCount</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956395">return</span>&nbsp;<span class="builtintype" id="3956402">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3956409">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956412">dec</span><span class="op" id="3956415">.</span><span class="ident" id="3956416">readMessage</span><span class="op" id="3956427">(</span><span class="builtintype" id="3956428">int</span><span class="op" id="3956431">(</span><span class="ident" id="3956432">nbytes</span><span class="op" id="3956438">)</span><span class="op" id="3956439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956442">return</span>&nbsp;<span class="ident" id="3956449">dec</span><span class="op" id="3956452">.</span><span class="ident" id="3956453">err</span>&nbsp;<span class="op" id="3956457">==</span>&nbsp;<span class="ident" id="3956460">nil</span><br>
<span class="lineno"></span><span class="op" id="3956464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3956467">//&nbsp;readMessage&nbsp;reads&nbsp;the&nbsp;next&nbsp;nbytes&nbsp;bytes&nbsp;from&nbsp;the&nbsp;input.</span><br>
<span class="lineno">90</span><span class="keyword" id="3956526">func</span>&nbsp;<span class="op" id="3956531">(</span><span class="ident" id="3956532">dec</span>&nbsp;<span class="op" id="3956536">*</span><span class="ident" id="3956537">Decoder</span><span class="op" id="3956544">)</span>&nbsp;<span class="ident" id="3956546">readMessage</span><span class="op" id="3956557">(</span><span class="ident" id="3956558">nbytes</span>&nbsp;<span class="builtintype" id="3956565">int</span><span class="op" id="3956568">)</span>&nbsp;<span class="op" id="3956570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956573">if</span>&nbsp;<span class="ident" id="3956576">dec</span><span class="op" id="3956579">.</span><span class="ident" id="3956580">buf</span><span class="op" id="3956583">.</span><span class="ident" id="3956584">Len</span><span class="op" id="3956587">(</span><span class="op" id="3956588">)</span>&nbsp;<span class="op" id="3956590">!=</span>&nbsp;<span class="num" id="3956593">0</span>&nbsp;<span class="op" id="3956595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3956599">//&nbsp;The&nbsp;buffer&nbsp;should&nbsp;always&nbsp;be&nbsp;empty&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3956643">panic</span><span class="op" id="3956648">(</span><span class="string" id="3956649">&#34;non-empty&nbsp;decoder&nbsp;buffer&#34;</span><span class="op" id="3956675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3956678">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3956681">//&nbsp;Read&nbsp;the&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956699">dec</span><span class="op" id="3956702">.</span><span class="ident" id="3956703">buf</span><span class="op" id="3956706">.</span><span class="ident" id="3956707">Size</span><span class="op" id="3956711">(</span><span class="ident" id="3956712">nbytes</span><span class="op" id="3956718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956721">_</span><span class="op" id="3956722">,</span>&nbsp;<span class="ident" id="3956724">dec</span><span class="op" id="3956727">.</span><span class="ident" id="3956728">err</span>&nbsp;<span class="op" id="3956732">=</span>&nbsp;<span class="ident" id="3956734">io</span><span class="op" id="3956736">.</span><span class="ident" id="3956737">ReadFull</span><span class="op" id="3956745">(</span><span class="ident" id="3956746">dec</span><span class="op" id="3956749">.</span><span class="ident" id="3956750">r</span><span class="op" id="3956751">,</span>&nbsp;<span class="ident" id="3956753">dec</span><span class="op" id="3956756">.</span><span class="ident" id="3956757">buf</span><span class="op" id="3956760">.</span><span class="ident" id="3956761">Bytes</span><span class="op" id="3956766">(</span><span class="op" id="3956767">)</span><span class="op" id="3956768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956771">if</span>&nbsp;<span class="ident" id="3956774">dec</span><span class="op" id="3956777">.</span><span class="ident" id="3956778">err</span>&nbsp;<span class="op" id="3956782">!=</span>&nbsp;<span class="ident" id="3956785">nil</span>&nbsp;<span class="op" id="3956789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956793">if</span>&nbsp;<span class="ident" id="3956796">dec</span><span class="op" id="3956799">.</span><span class="ident" id="3956800">err</span>&nbsp;<span class="op" id="3956804">==</span>&nbsp;<span class="ident" id="3956807">io</span><span class="op" id="3956809">.</span><span class="ident" id="3956810">EOF</span>&nbsp;<span class="op" id="3956814">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956819">dec</span><span class="op" id="3956822">.</span><span class="ident" id="3956823">err</span>&nbsp;<span class="op" id="3956827">=</span>&nbsp;<span class="ident" id="3956829">io</span><span class="op" id="3956831">.</span><span class="ident" id="3956832">ErrUnexpectedEOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3956851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3956854">}</span><br>
<span class="lineno"></span><span class="op" id="3956856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3956859">//&nbsp;toInt&nbsp;turns&nbsp;an&nbsp;encoded&nbsp;uint64&nbsp;into&nbsp;an&nbsp;int,&nbsp;according&nbsp;to&nbsp;the&nbsp;marshaling&nbsp;rules.</span><br>
<span class="lineno"></span><span class="keyword" id="3956940">func</span>&nbsp;<span class="ident" id="3956945">toInt</span><span class="op" id="3956950">(</span><span class="ident" id="3956951">x</span>&nbsp;<span class="ident" id="3956953">uint64</span><span class="op" id="3956959">)</span>&nbsp;<span class="ident" id="3956961">int64</span>&nbsp;<span class="op" id="3956967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956970">i</span>&nbsp;<span class="op" id="3956972">:=</span>&nbsp;<span class="ident" id="3956975">int64</span><span class="op" id="3956980">(</span><span class="ident" id="3956981">x</span>&nbsp;<span class="op" id="3956983">&gt;&gt;</span>&nbsp;<span class="num" id="3956986">1</span><span class="op" id="3956987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956990">if</span>&nbsp;<span class="ident" id="3956993">x</span><span class="op" id="3956994">&amp;</span><span class="num" id="3956995">1</span>&nbsp;<span class="op" id="3956997">!=</span>&nbsp;<span class="num" id="3957000">0</span>&nbsp;<span class="op" id="3957002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957006">i</span>&nbsp;<span class="op" id="3957008">=</span>&nbsp;<span class="op" id="3957010">^</span><span class="ident" id="3957011">i</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957017">return</span>&nbsp;<span class="ident" id="3957024">i</span><br>
<span class="lineno"></span><span class="op" id="3957026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3957029">func</span>&nbsp;<span class="op" id="3957034">(</span><span class="ident" id="3957035">dec</span>&nbsp;<span class="op" id="3957039">*</span><span class="ident" id="3957040">Decoder</span><span class="op" id="3957047">)</span>&nbsp;<span class="ident" id="3957049">nextInt</span><span class="op" id="3957056">(</span><span class="op" id="3957057">)</span>&nbsp;<span class="ident" id="3957059">int64</span>&nbsp;<span class="op" id="3957065">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957068">n</span><span class="op" id="3957069">,</span>&nbsp;<span class="ident" id="3957071">_</span><span class="op" id="3957072">,</span>&nbsp;<span class="ident" id="3957074">err</span>&nbsp;<span class="op" id="3957078">:=</span>&nbsp;<span class="ident" id="3957081">decodeUintReader</span><span class="op" id="3957097">(</span><span class="op" id="3957098">&amp;</span><span class="ident" id="3957099">dec</span><span class="op" id="3957102">.</span><span class="ident" id="3957103">buf</span><span class="op" id="3957106">,</span>&nbsp;<span class="ident" id="3957108">dec</span><span class="op" id="3957111">.</span><span class="ident" id="3957112">countBuf</span><span class="op" id="3957120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957123">if</span>&nbsp;<span class="ident" id="3957126">err</span>&nbsp;<span class="op" id="3957130">!=</span>&nbsp;<span class="ident" id="3957133">nil</span>&nbsp;<span class="op" id="3957137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957141">dec</span><span class="op" id="3957144">.</span><span class="ident" id="3957145">err</span>&nbsp;<span class="op" id="3957149">=</span>&nbsp;<span class="ident" id="3957151">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957159">return</span>&nbsp;<span class="ident" id="3957166">toInt</span><span class="op" id="3957171">(</span><span class="ident" id="3957172">n</span><span class="op" id="3957173">)</span><br>
<span class="lineno">120</span><span class="op" id="3957175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3957178">func</span>&nbsp;<span class="op" id="3957183">(</span><span class="ident" id="3957184">dec</span>&nbsp;<span class="op" id="3957188">*</span><span class="ident" id="3957189">Decoder</span><span class="op" id="3957196">)</span>&nbsp;<span class="ident" id="3957198">nextUint</span><span class="op" id="3957206">(</span><span class="op" id="3957207">)</span>&nbsp;<span class="ident" id="3957209">uint64</span>&nbsp;<span class="op" id="3957216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957219">n</span><span class="op" id="3957220">,</span>&nbsp;<span class="ident" id="3957222">_</span><span class="op" id="3957223">,</span>&nbsp;<span class="ident" id="3957225">err</span>&nbsp;<span class="op" id="3957229">:=</span>&nbsp;<span class="ident" id="3957232">decodeUintReader</span><span class="op" id="3957248">(</span><span class="op" id="3957249">&amp;</span><span class="ident" id="3957250">dec</span><span class="op" id="3957253">.</span><span class="ident" id="3957254">buf</span><span class="op" id="3957257">,</span>&nbsp;<span class="ident" id="3957259">dec</span><span class="op" id="3957262">.</span><span class="ident" id="3957263">countBuf</span><span class="op" id="3957271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957274">if</span>&nbsp;<span class="ident" id="3957277">err</span>&nbsp;<span class="op" id="3957281">!=</span>&nbsp;<span class="ident" id="3957284">nil</span>&nbsp;<span class="op" id="3957288">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957292">dec</span><span class="op" id="3957295">.</span><span class="ident" id="3957296">err</span>&nbsp;<span class="op" id="3957300">=</span>&nbsp;<span class="ident" id="3957302">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957310">return</span>&nbsp;<span class="ident" id="3957317">n</span><br>
<span class="lineno"></span><span class="op" id="3957319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3957322">//&nbsp;decodeTypeSequence&nbsp;parses:</span><br>
<span class="lineno"></span><span class="comment" id="3957352">//&nbsp;TypeSequence</span><br>
<span class="lineno"></span><span class="comment" id="3957368">//&nbsp;&nbsp;&nbsp;&nbsp(TypeDefinition&nbsp;DelimitedTypeDefinition*)?</span><br>
<span class="lineno"></span><span class="comment" id="3957414">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;type&nbsp;id&nbsp;of&nbsp;the&nbsp;next&nbsp;value.&nbsp;&nbsp;It&nbsp;returns&nbsp;-1&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="3957478">//&nbsp;EOF.&nbsp;&nbsp;Upon&nbsp;return,&nbsp;the&nbsp;remainder&nbsp;of&nbsp;dec.buf&nbsp;is&nbsp;the&nbsp;value&nbsp;to&nbsp;be</span><br>
<span class="lineno">135</span><span class="comment" id="3957544">//&nbsp;decoded.&nbsp;&nbsp;If&nbsp;this&nbsp;is&nbsp;an&nbsp;interface&nbsp;value,&nbsp;it&nbsp;can&nbsp;be&nbsp;ignored&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="3957609">//&nbsp;resetting&nbsp;that&nbsp;buffer.</span><br>
<span class="lineno"></span><span class="keyword" id="3957635">func</span>&nbsp;<span class="op" id="3957640">(</span><span class="ident" id="3957641">dec</span>&nbsp;<span class="op" id="3957645">*</span><span class="ident" id="3957646">Decoder</span><span class="op" id="3957653">)</span>&nbsp;<span class="ident" id="3957655">decodeTypeSequence</span><span class="op" id="3957673">(</span><span class="ident" id="3957674">isInterface</span>&nbsp;<span class="builtintype" id="3957686">bool</span><span class="op" id="3957690">)</span>&nbsp;<span class="ident" id="3957692">typeId</span>&nbsp;<span class="op" id="3957699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957702">for</span>&nbsp;<span class="ident" id="3957706">dec</span><span class="op" id="3957709">.</span><span class="ident" id="3957710">err</span>&nbsp;<span class="op" id="3957714">==</span>&nbsp;<span class="ident" id="3957717">nil</span>&nbsp;<span class="op" id="3957721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957725">if</span>&nbsp;<span class="ident" id="3957728">dec</span><span class="op" id="3957731">.</span><span class="ident" id="3957732">buf</span><span class="op" id="3957735">.</span><span class="ident" id="3957736">Len</span><span class="op" id="3957739">(</span><span class="op" id="3957740">)</span>&nbsp;<span class="op" id="3957742">==</span>&nbsp;<span class="num" id="3957745">0</span>&nbsp;<span class="op" id="3957747">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957752">if</span>&nbsp;<span class="op" id="3957755">!</span><span class="ident" id="3957756">dec</span><span class="op" id="3957759">.</span><span class="ident" id="3957760">recvMessage</span><span class="op" id="3957771">(</span><span class="op" id="3957772">)</span>&nbsp;<span class="op" id="3957774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957780">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3957797">//&nbsp;Receive&nbsp;a&nbsp;type&nbsp;id.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957821">id</span>&nbsp;<span class="op" id="3957824">:=</span>&nbsp;<span class="ident" id="3957827">typeId</span><span class="op" id="3957833">(</span><span class="ident" id="3957834">dec</span><span class="op" id="3957837">.</span><span class="ident" id="3957838">nextInt</span><span class="op" id="3957845">(</span><span class="op" id="3957846">)</span><span class="op" id="3957847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957851">if</span>&nbsp;<span class="ident" id="3957854">id</span>&nbsp;<span class="op" id="3957857">&gt;=</span>&nbsp;<span class="num" id="3957860">0</span>&nbsp;<span class="op" id="3957862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3957867">//&nbsp;Value&nbsp;follows.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957888">return</span>&nbsp;<span class="ident" id="3957895">id</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957900">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3957904">//&nbsp;Type&nbsp;definition&nbsp;for&nbsp;(-id)&nbsp;follows.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957944">dec</span><span class="op" id="3957947">.</span><span class="ident" id="3957948">recvType</span><span class="op" id="3957956">(</span><span class="op" id="3957957">-</span><span class="ident" id="3957958">id</span><span class="op" id="3957960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3957964">//&nbsp;When&nbsp;decoding&nbsp;an&nbsp;interface,&nbsp;after&nbsp;a&nbsp;type&nbsp;there&nbsp;may&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3958025">//&nbsp;DelimitedValue&nbsp;still&nbsp;in&nbsp;the&nbsp;buffer.&nbsp;&nbsp;Skip&nbsp;its&nbsp;count.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3958083">//&nbsp;(Alternatively,&nbsp;the&nbsp;buffer&nbsp;is&nbsp;empty&nbsp;and&nbsp;the&nbsp;byte&nbsp;count</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3958143">//&nbsp;will&nbsp;be&nbsp;absorbed&nbsp;by&nbsp;recvMessage.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958182">if</span>&nbsp;<span class="ident" id="3958185">dec</span><span class="op" id="3958188">.</span><span class="ident" id="3958189">buf</span><span class="op" id="3958192">.</span><span class="ident" id="3958193">Len</span><span class="op" id="3958196">(</span><span class="op" id="3958197">)</span>&nbsp;<span class="op" id="3958199">&gt;</span>&nbsp;<span class="num" id="3958201">0</span>&nbsp;<span class="op" id="3958203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958208">if</span>&nbsp;<span class="op" id="3958211">!</span><span class="ident" id="3958212">isInterface</span>&nbsp;<span class="op" id="3958224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3958230">dec</span><span class="op" id="3958233">.</span><span class="ident" id="3958234">err</span>&nbsp;<span class="op" id="3958238">=</span>&nbsp;<span class="ident" id="3958240">errors</span><span class="op" id="3958246">.</span><span class="ident" id="3958247">New</span><span class="op" id="3958250">(</span><span class="string" id="3958251">&#34;extra&nbsp;data&nbsp;in&nbsp;buffer&#34;</span><span class="op" id="3958273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958279">break</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3958288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3958293">dec</span><span class="op" id="3958296">.</span><span class="ident" id="3958297">nextUint</span><span class="op" id="3958305">(</span><span class="op" id="3958306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3958310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3958313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958316">return</span>&nbsp;<span class="op" id="3958323">-</span><span class="num" id="3958324">1</span><br>
<span class="lineno">165</span><span class="op" id="3958326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3958329">//&nbsp;Decode&nbsp;reads&nbsp;the&nbsp;next&nbsp;value&nbsp;from&nbsp;the&nbsp;input&nbsp;stream&nbsp;and&nbsp;stores</span><br>
<span class="lineno"></span><span class="comment" id="3958393">//&nbsp;it&nbsp;in&nbsp;the&nbsp;data&nbsp;represented&nbsp;by&nbsp;the&nbsp;empty&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="3958453">//&nbsp;If&nbsp;e&nbsp;is&nbsp;nil,&nbsp;the&nbsp;value&nbsp;will&nbsp;be&nbsp;discarded.&nbsp;Otherwise,</span><br>
<span class="lineno">170</span><span class="comment" id="3958509">//&nbsp;the&nbsp;value&nbsp;underlying&nbsp;e&nbsp;must&nbsp;be&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3958560">//&nbsp;correct&nbsp;type&nbsp;for&nbsp;the&nbsp;next&nbsp;data&nbsp;item&nbsp;received.</span><br>
<span class="lineno"></span><span class="comment" id="3958609">//&nbsp;If&nbsp;the&nbsp;input&nbsp;is&nbsp;at&nbsp;EOF,&nbsp;Decode&nbsp;returns&nbsp;io.EOF&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3958662">//&nbsp;does&nbsp;not&nbsp;modify&nbsp;e.</span><br>
<span class="lineno"></span><span class="keyword" id="3958684">func</span>&nbsp;<span class="op" id="3958689">(</span><span class="ident" id="3958690">dec</span>&nbsp;<span class="op" id="3958694">*</span><span class="ident" id="3958695">Decoder</span><span class="op" id="3958702">)</span>&nbsp;<span class="ident" id="3958704">Decode</span><span class="op" id="3958710">(</span><span class="ident" id="3958711">e</span>&nbsp;<span class="keyword" id="3958713">interface</span><span class="op" id="3958722">{</span><span class="op" id="3958723">}</span><span class="op" id="3958724">)</span>&nbsp;<span class="builtintype" id="3958726">error</span>&nbsp;<span class="op" id="3958732">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958735">if</span>&nbsp;<span class="ident" id="3958738">e</span>&nbsp;<span class="op" id="3958740">==</span>&nbsp;<span class="ident" id="3958743">nil</span>&nbsp;<span class="op" id="3958747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958751">return</span>&nbsp;<span class="ident" id="3958758">dec</span><span class="op" id="3958761">.</span><span class="ident" id="3958762">DecodeValue</span><span class="op" id="3958773">(</span><span class="ident" id="3958774">reflect</span><span class="op" id="3958781">.</span><span class="ident" id="3958782">Value</span><span class="op" id="3958787">{</span><span class="op" id="3958788">}</span><span class="op" id="3958789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3958792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3958795">value</span>&nbsp;<span class="op" id="3958801">:=</span>&nbsp;<span class="ident" id="3958804">reflect</span><span class="op" id="3958811">.</span><span class="ident" id="3958812">ValueOf</span><span class="op" id="3958819">(</span><span class="ident" id="3958820">e</span><span class="op" id="3958821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3958824">//&nbsp;If&nbsp;e&nbsp;represents&nbsp;a&nbsp;value&nbsp;as&nbsp;opposed&nbsp;to&nbsp;a&nbsp;pointer,&nbsp;the&nbsp;answer&nbsp;won&#39;t</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3958894">//&nbsp;get&nbsp;back&nbsp;to&nbsp;the&nbsp;caller.&nbsp;&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958949">if</span>&nbsp;<span class="ident" id="3958952">value</span><span class="op" id="3958957">.</span><span class="ident" id="3958958">Type</span><span class="op" id="3958962">(</span><span class="op" id="3958963">)</span><span class="op" id="3958964">.</span><span class="ident" id="3958965">Kind</span><span class="op" id="3958969">(</span><span class="op" id="3958970">)</span>&nbsp;<span class="op" id="3958972">!=</span>&nbsp;<span class="ident" id="3958975">reflect</span><span class="op" id="3958982">.</span><span class="ident" id="3958983">Ptr</span>&nbsp;<span class="op" id="3958987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3958991">dec</span><span class="op" id="3958994">.</span><span class="ident" id="3958995">err</span>&nbsp;<span class="op" id="3958999">=</span>&nbsp;<span class="ident" id="3959001">errors</span><span class="op" id="3959007">.</span><span class="ident" id="3959008">New</span><span class="op" id="3959011">(</span><span class="string" id="3959012">&#34;gob:&nbsp;attempt&nbsp;to&nbsp;decode&nbsp;into&nbsp;a&nbsp;non-pointer&#34;</span><span class="op" id="3959055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959059">return</span>&nbsp;<span class="ident" id="3959066">dec</span><span class="op" id="3959069">.</span><span class="ident" id="3959070">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3959075">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959078">return</span>&nbsp;<span class="ident" id="3959085">dec</span><span class="op" id="3959088">.</span><span class="ident" id="3959089">DecodeValue</span><span class="op" id="3959100">(</span><span class="ident" id="3959101">value</span><span class="op" id="3959106">)</span><br>
<span class="lineno"></span><span class="op" id="3959108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3959111">//&nbsp;DecodeValue&nbsp;reads&nbsp;the&nbsp;next&nbsp;value&nbsp;from&nbsp;the&nbsp;input&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="3959170">//&nbsp;If&nbsp;v&nbsp;is&nbsp;the&nbsp;zero&nbsp;reflect.Value&nbsp;(v.Kind()&nbsp;==&nbsp;Invalid),&nbsp;DecodeValue&nbsp;discards&nbsp;the&nbsp;value.</span><br>
<span class="lineno">190</span><span class="comment" id="3959259">//&nbsp;Otherwise,&nbsp;it&nbsp;stores&nbsp;the&nbsp;value&nbsp;into&nbsp;v.&nbsp;&nbsp;In&nbsp;that&nbsp;case,&nbsp;v&nbsp;must&nbsp;represent</span><br>
<span class="lineno"></span><span class="comment" id="3959333">//&nbsp;a&nbsp;non-nil&nbsp;pointer&nbsp;to&nbsp;data&nbsp;or&nbsp;be&nbsp;an&nbsp;assignable&nbsp;reflect.Value&nbsp;(v.CanSet())</span><br>
<span class="lineno"></span><span class="comment" id="3959409">//&nbsp;If&nbsp;the&nbsp;input&nbsp;is&nbsp;at&nbsp;EOF,&nbsp;DecodeValue&nbsp;returns&nbsp;io.EOF&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3959467">//&nbsp;does&nbsp;not&nbsp;modify&nbsp;v.</span><br>
<span class="lineno"></span><span class="keyword" id="3959489">func</span>&nbsp;<span class="op" id="3959494">(</span><span class="ident" id="3959495">dec</span>&nbsp;<span class="op" id="3959499">*</span><span class="ident" id="3959500">Decoder</span><span class="op" id="3959507">)</span>&nbsp;<span class="ident" id="3959509">DecodeValue</span><span class="op" id="3959520">(</span><span class="ident" id="3959521">v</span>&nbsp;<span class="ident" id="3959523">reflect</span><span class="op" id="3959530">.</span><span class="ident" id="3959531">Value</span><span class="op" id="3959536">)</span>&nbsp;<span class="builtintype" id="3959538">error</span>&nbsp;<span class="op" id="3959544">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959547">if</span>&nbsp;<span class="ident" id="3959550">v</span><span class="op" id="3959551">.</span><span class="ident" id="3959552">IsValid</span><span class="op" id="3959559">(</span><span class="op" id="3959560">)</span>&nbsp;<span class="op" id="3959562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959566">if</span>&nbsp;<span class="ident" id="3959569">v</span><span class="op" id="3959570">.</span><span class="ident" id="3959571">Kind</span><span class="op" id="3959575">(</span><span class="op" id="3959576">)</span>&nbsp;<span class="op" id="3959578">==</span>&nbsp;<span class="ident" id="3959581">reflect</span><span class="op" id="3959588">.</span><span class="ident" id="3959589">Ptr</span>&nbsp;<span class="op" id="3959593">&amp;&amp;</span>&nbsp;<span class="op" id="3959596">!</span><span class="ident" id="3959597">v</span><span class="op" id="3959598">.</span><span class="ident" id="3959599">IsNil</span><span class="op" id="3959604">(</span><span class="op" id="3959605">)</span>&nbsp;<span class="op" id="3959607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3959612">//&nbsp;That&#39;s&nbsp;okay,&nbsp;we&#39;ll&nbsp;store&nbsp;through&nbsp;the&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3959663">}</span>&nbsp;<span class="keyword" id="3959665">else</span>&nbsp;<span class="keyword" id="3959670">if</span>&nbsp;<span class="op" id="3959673">!</span><span class="ident" id="3959674">v</span><span class="op" id="3959675">.</span><span class="ident" id="3959676">CanSet</span><span class="op" id="3959682">(</span><span class="op" id="3959683">)</span>&nbsp;<span class="op" id="3959685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959690">return</span>&nbsp;<span class="ident" id="3959697">errors</span><span class="op" id="3959703">.</span><span class="ident" id="3959704">New</span><span class="op" id="3959707">(</span><span class="string" id="3959708">&#34;gob:&nbsp;DecodeValue&nbsp;of&nbsp;unassignable&nbsp;value&#34;</span><span class="op" id="3959748">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3959752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3959755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3959758">//&nbsp;Make&nbsp;sure&nbsp;we&#39;re&nbsp;single-threaded&nbsp;through&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959808">dec</span><span class="op" id="3959811">.</span><span class="ident" id="3959812">mutex</span><span class="op" id="3959817">.</span><span class="ident" id="3959818">Lock</span><span class="op" id="3959822">(</span><span class="op" id="3959823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959826">defer</span>&nbsp;<span class="ident" id="3959832">dec</span><span class="op" id="3959835">.</span><span class="ident" id="3959836">mutex</span><span class="op" id="3959841">.</span><span class="ident" id="3959842">Unlock</span><span class="op" id="3959848">(</span><span class="op" id="3959849">)</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959853">dec</span><span class="op" id="3959856">.</span><span class="ident" id="3959857">buf</span><span class="op" id="3959860">.</span><span class="ident" id="3959861">Reset</span><span class="op" id="3959866">(</span><span class="op" id="3959867">)</span>&nbsp;<span class="comment" id="3959869">//&nbsp;In&nbsp;case&nbsp;data&nbsp;lingers&nbsp;from&nbsp;previous&nbsp;invocation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959920">dec</span><span class="op" id="3959923">.</span><span class="ident" id="3959924">err</span>&nbsp;<span class="op" id="3959928">=</span>&nbsp;<span class="ident" id="3959930">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959935">id</span>&nbsp;<span class="op" id="3959938">:=</span>&nbsp;<span class="ident" id="3959941">dec</span><span class="op" id="3959944">.</span><span class="ident" id="3959945">decodeTypeSequence</span><span class="op" id="3959963">(</span><span class="builtintype" id="3959964">false</span><span class="op" id="3959969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959972">if</span>&nbsp;<span class="ident" id="3959975">dec</span><span class="op" id="3959978">.</span><span class="ident" id="3959979">err</span>&nbsp;<span class="op" id="3959983">==</span>&nbsp;<span class="ident" id="3959986">nil</span>&nbsp;<span class="op" id="3959990">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959994">dec</span><span class="op" id="3959997">.</span><span class="ident" id="3959998">decodeValue</span><span class="op" id="3960009">(</span><span class="ident" id="3960010">id</span><span class="op" id="3960012">,</span>&nbsp;<span class="ident" id="3960014">v</span><span class="op" id="3960015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3960018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960021">return</span>&nbsp;<span class="ident" id="3960028">dec</span><span class="op" id="3960031">.</span><span class="ident" id="3960032">err</span><br>
<span class="lineno"></span><span class="op" id="3960036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="3960039">//&nbsp;If&nbsp;debug.go&nbsp;is&nbsp;compiled&nbsp;into&nbsp;the&nbsp;program&nbsp;,&nbsp;debugFunc&nbsp;prints&nbsp;a&nbsp;human-readable</span><br>
<span class="lineno"></span><span class="comment" id="3960119">//&nbsp;representation&nbsp;of&nbsp;the&nbsp;gob&nbsp;data&nbsp;read&nbsp;from&nbsp;r&nbsp;by&nbsp;calling&nbsp;that&nbsp;file&#39;s&nbsp;Debug&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="3960204">//&nbsp;Otherwise&nbsp;it&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="3960228">var</span>&nbsp;<span class="ident" id="3960232">debugFunc</span>&nbsp;<span class="keyword" id="3960242">func</span><span class="op" id="3960246">(</span><span class="ident" id="3960247">io</span><span class="op" id="3960249">.</span><span class="ident" id="3960250">Reader</span><span class="op" id="3960256">)</span>
</div>
</body>
</html>
