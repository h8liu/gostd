<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7473154">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7473209">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7473263">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7473314">package</span>&nbsp;<span class="ident" id="7473322">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7473328">import</span>&nbsp;<span class="op" id="7473335">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7473338">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7473347">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7473353">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7473364">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7473374">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7473377">func</span>&nbsp;<span class="ident" id="7473382">TestBodyReadBadTrailer</span><span class="op" id="7473404">(</span><span class="ident" id="7473405">t</span>&nbsp;<span class="op" id="7473407">*</span><span class="ident" id="7473408"><a href="/net/http/transfer_test.go.html#7473364">testing</a></span><span class="op" id="7473415">.</span><span class="ident" id="7473416">T</span><span class="op" id="7473417">)</span>&nbsp;<span class="op" id="7473419">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473422">b</span>&nbsp;<span class="op" id="7473424">:=</span>&nbsp;<span class="op" id="7473427">&amp;</span><span class="ident" id="7473428"><a href="/net/http/transfer.go.html#3910302">body</a></span><span class="op" id="7473432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473436">src</span><span class="op" id="7473439">:</span>&nbsp;<span class="ident" id="7473441"><a href="/net/http/transfer_test.go.html#7473353">strings</a></span><span class="op" id="7473448">.</span><span class="ident" id="7473449">NewReader</span><span class="op" id="7473458">(</span><span class="string" id="7473459">&#34;foobar&#34;</span><span class="op" id="7473467">)</span><span class="op" id="7473468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473472">hdr</span><span class="op" id="7473475">:</span>&nbsp;<span class="ident" id="7473477">true</span><span class="op" id="7473481">,</span>&nbsp;<span class="comment" id="7473483">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473514">r</span><span class="op" id="7473515">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7473519"><a href="/net/http/transfer_test.go.html#7473338">bufio</a></span><span class="op" id="7473524">.</span><span class="ident" id="7473525">NewReader</span><span class="op" id="7473534">(</span><span class="ident" id="7473535"><a href="/net/http/transfer_test.go.html#7473353">strings</a></span><span class="op" id="7473542">.</span><span class="ident" id="7473543">NewReader</span><span class="op" id="7473552">(</span><span class="string" id="7473553">&#34;&#34;</span><span class="op" id="7473555">)</span><span class="op" id="7473556">)</span><span class="op" id="7473557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473560">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473563">buf</span>&nbsp;<span class="op" id="7473567">:=</span>&nbsp;<span class="builtinfunc" id="7473570">make</span><span class="op" id="7473574">(</span><span class="op" id="7473575">[</span><span class="op" id="7473576">]</span><span class="builtintype" id="7473577">byte</span><span class="op" id="7473581">,</span>&nbsp;<span class="num" id="7473583">7</span><span class="op" id="7473584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473587">n</span><span class="op" id="7473588">,</span>&nbsp;<span class="ident" id="7473590">err</span>&nbsp;<span class="op" id="7473594">:=</span>&nbsp;<span class="ident" id="7473597"><a href="/net/http/transfer_test.go.html#7473422">b</a></span><span class="op" id="7473598">.</span><span class="ident" id="7473599">Read</span><span class="op" id="7473603">(</span><span class="ident" id="7473604"><a href="/net/http/transfer_test.go.html#7473563">buf</a></span><span class="op" id="7473607">[</span><span class="op" id="7473608">:</span><span class="num" id="7473609">3</span><span class="op" id="7473610">]</span><span class="op" id="7473611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473614">got</span>&nbsp;<span class="op" id="7473618">:=</span>&nbsp;<span class="builtintype" id="7473621">string</span><span class="op" id="7473627">(</span><span class="ident" id="7473628"><a href="/net/http/transfer_test.go.html#7473563">buf</a></span><span class="op" id="7473631">[</span><span class="op" id="7473632">:</span><span class="ident" id="7473633"><a href="/net/http/transfer_test.go.html#7473587">n</a></span><span class="op" id="7473634">]</span><span class="op" id="7473635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473638">if</span>&nbsp;<span class="ident" id="7473641"><a href="/net/http/transfer_test.go.html#7473614">got</a></span>&nbsp;<span class="op" id="7473645">!=</span>&nbsp;<span class="string" id="7473648">&#34;foo&#34;</span>&nbsp;<span class="op" id="7473654">||</span>&nbsp;<span class="ident" id="7473657"><a href="/net/http/transfer_test.go.html#7473590">err</a></span>&nbsp;<span class="op" id="7473661">!=</span>&nbsp;<span class="ident" id="7473664">nil</span>&nbsp;<span class="op" id="7473668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473672"><a href="/net/http/transfer_test.go.html#7473405">t</a></span><span class="op" id="7473673">.</span><span class="ident" id="7473674">Fatalf</span><span class="op" id="7473680">(</span><span class="string" id="7473681">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="7473723">,</span>&nbsp;<span class="ident" id="7473725"><a href="/net/http/transfer_test.go.html#7473587">n</a></span><span class="op" id="7473726">,</span>&nbsp;<span class="ident" id="7473728"><a href="/net/http/transfer_test.go.html#7473614">got</a></span><span class="op" id="7473731">,</span>&nbsp;<span class="ident" id="7473733"><a href="/net/http/transfer_test.go.html#7473590">err</a></span><span class="op" id="7473736">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473743"><a href="/net/http/transfer_test.go.html#7473587">n</a></span><span class="op" id="7473744">,</span>&nbsp;<span class="ident" id="7473746"><a href="/net/http/transfer_test.go.html#7473590">err</a></span>&nbsp;<span class="op" id="7473750">=</span>&nbsp;<span class="ident" id="7473752"><a href="/net/http/transfer_test.go.html#7473422">b</a></span><span class="op" id="7473753">.</span><span class="ident" id="7473754">Read</span><span class="op" id="7473758">(</span><span class="ident" id="7473759"><a href="/net/http/transfer_test.go.html#7473563">buf</a></span><span class="op" id="7473762">[</span><span class="op" id="7473763">:</span><span class="op" id="7473764">]</span><span class="op" id="7473765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473768"><a href="/net/http/transfer_test.go.html#7473614">got</a></span>&nbsp;<span class="op" id="7473772">=</span>&nbsp;<span class="builtintype" id="7473774">string</span><span class="op" id="7473780">(</span><span class="ident" id="7473781"><a href="/net/http/transfer_test.go.html#7473563">buf</a></span><span class="op" id="7473784">[</span><span class="op" id="7473785">:</span><span class="ident" id="7473786"><a href="/net/http/transfer_test.go.html#7473587">n</a></span><span class="op" id="7473787">]</span><span class="op" id="7473788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473791">if</span>&nbsp;<span class="ident" id="7473794"><a href="/net/http/transfer_test.go.html#7473614">got</a></span>&nbsp;<span class="op" id="7473798">!=</span>&nbsp;<span class="string" id="7473801">&#34;bar&#34;</span>&nbsp;<span class="op" id="7473807">||</span>&nbsp;<span class="ident" id="7473810"><a href="/net/http/transfer_test.go.html#7473590">err</a></span>&nbsp;<span class="op" id="7473814">!=</span>&nbsp;<span class="ident" id="7473817">nil</span>&nbsp;<span class="op" id="7473821">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473825"><a href="/net/http/transfer_test.go.html#7473405">t</a></span><span class="op" id="7473826">.</span><span class="ident" id="7473827">Fatalf</span><span class="op" id="7473833">(</span><span class="string" id="7473834">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="7473877">,</span>&nbsp;<span class="ident" id="7473879"><a href="/net/http/transfer_test.go.html#7473587">n</a></span><span class="op" id="7473880">,</span>&nbsp;<span class="ident" id="7473882"><a href="/net/http/transfer_test.go.html#7473614">got</a></span><span class="op" id="7473885">,</span>&nbsp;<span class="ident" id="7473887"><a href="/net/http/transfer_test.go.html#7473590">err</a></span><span class="op" id="7473890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473897"><a href="/net/http/transfer_test.go.html#7473587">n</a></span><span class="op" id="7473898">,</span>&nbsp;<span class="ident" id="7473900"><a href="/net/http/transfer_test.go.html#7473590">err</a></span>&nbsp;<span class="op" id="7473904">=</span>&nbsp;<span class="ident" id="7473906"><a href="/net/http/transfer_test.go.html#7473422">b</a></span><span class="op" id="7473907">.</span><span class="ident" id="7473908">Read</span><span class="op" id="7473912">(</span><span class="ident" id="7473913"><a href="/net/http/transfer_test.go.html#7473563">buf</a></span><span class="op" id="7473916">[</span><span class="op" id="7473917">:</span><span class="op" id="7473918">]</span><span class="op" id="7473919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473922"><a href="/net/http/transfer_test.go.html#7473614">got</a></span>&nbsp;<span class="op" id="7473926">=</span>&nbsp;<span class="builtintype" id="7473928">string</span><span class="op" id="7473934">(</span><span class="ident" id="7473935"><a href="/net/http/transfer_test.go.html#7473563">buf</a></span><span class="op" id="7473938">[</span><span class="op" id="7473939">:</span><span class="ident" id="7473940"><a href="/net/http/transfer_test.go.html#7473587">n</a></span><span class="op" id="7473941">]</span><span class="op" id="7473942">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473945">if</span>&nbsp;<span class="ident" id="7473948"><a href="/net/http/transfer_test.go.html#7473590">err</a></span>&nbsp;<span class="op" id="7473952">==</span>&nbsp;<span class="ident" id="7473955">nil</span>&nbsp;<span class="op" id="7473959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473963"><a href="/net/http/transfer_test.go.html#7473405">t</a></span><span class="op" id="7473964">.</span><span class="ident" id="7473965">Errorf</span><span class="op" id="7473971">(</span><span class="string" id="7473972">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="7474038">,</span>&nbsp;<span class="ident" id="7474040"><a href="/net/http/transfer_test.go.html#7473614">got</a></span><span class="op" id="7474043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474046">}</span><br>
<span class="lineno"></span><span class="op" id="7474048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7474051">func</span>&nbsp;<span class="ident" id="7474056">TestFinalChunkedBodyReadEOF</span><span class="op" id="7474083">(</span><span class="ident" id="7474084">t</span>&nbsp;<span class="op" id="7474086">*</span><span class="ident" id="7474087"><a href="/net/http/transfer_test.go.html#7473364">testing</a></span><span class="op" id="7474094">.</span><span class="ident" id="7474095">T</span><span class="op" id="7474096">)</span>&nbsp;<span class="op" id="7474098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474101">res</span><span class="op" id="7474104">,</span>&nbsp;<span class="ident" id="7474106">err</span>&nbsp;<span class="op" id="7474110">:=</span>&nbsp;<span class="ident" id="7474113"><a href="/net/http/response.go.html#3820176">ReadResponse</a></span><span class="op" id="7474125">(</span><span class="ident" id="7474126"><a href="/net/http/transfer_test.go.html#7473338">bufio</a></span><span class="op" id="7474131">.</span><span class="ident" id="7474132">NewReader</span><span class="op" id="7474141">(</span><span class="ident" id="7474142"><a href="/net/http/transfer_test.go.html#7473353">strings</a></span><span class="op" id="7474149">.</span><span class="ident" id="7474150">NewReader</span><span class="op" id="7474159">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7474163">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="7474184">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7474189">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="7474221">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7474226">&#34;\r\n&#34;</span><span class="op" id="7474232">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7474237">&#34;0a\r\n&#34;</span><span class="op" id="7474245">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7474250">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="7474267">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7474272">&#34;09\r\n&#34;</span><span class="op" id="7474280">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7474285">&#34;continued\r\n&#34;</span><span class="op" id="7474300">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7474305">&#34;0\r\n&#34;</span><span class="op" id="7474312">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7474317">&#34;\r\n&#34;</span><span class="op" id="7474323">)</span><span class="op" id="7474324">)</span><span class="op" id="7474325">,</span>&nbsp;<span class="ident" id="7474327">nil</span><span class="op" id="7474330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474333">if</span>&nbsp;<span class="ident" id="7474336"><a href="/net/http/transfer_test.go.html#7474106">err</a></span>&nbsp;<span class="op" id="7474340">!=</span>&nbsp;<span class="ident" id="7474343">nil</span>&nbsp;<span class="op" id="7474347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474351"><a href="/net/http/transfer_test.go.html#7474084">t</a></span><span class="op" id="7474352">.</span><span class="ident" id="7474353">Fatal</span><span class="op" id="7474358">(</span><span class="ident" id="7474359"><a href="/net/http/transfer_test.go.html#7474106">err</a></span><span class="op" id="7474362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474368">want</span>&nbsp;<span class="op" id="7474373">:=</span>&nbsp;<span class="string" id="7474376">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474400">buf</span>&nbsp;<span class="op" id="7474404">:=</span>&nbsp;<span class="builtinfunc" id="7474407">make</span><span class="op" id="7474411">(</span><span class="op" id="7474412">[</span><span class="op" id="7474413">]</span><span class="builtintype" id="7474414">byte</span><span class="op" id="7474418">,</span>&nbsp;<span class="builtinfunc" id="7474420">len</span><span class="op" id="7474423">(</span><span class="ident" id="7474424"><a href="/net/http/transfer_test.go.html#7474368">want</a></span><span class="op" id="7474428">)</span><span class="op" id="7474429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474432">n</span><span class="op" id="7474433">,</span>&nbsp;<span class="ident" id="7474435"><a href="/net/http/transfer_test.go.html#7474106">err</a></span>&nbsp;<span class="op" id="7474439">:=</span>&nbsp;<span class="ident" id="7474442"><a href="/net/http/transfer_test.go.html#7474101">res</a></span><span class="op" id="7474445">.</span><span class="ident" id="7474446">Body</span><span class="op" id="7474450">.</span><span class="ident" id="7474451">Read</span><span class="op" id="7474455">(</span><span class="ident" id="7474456"><a href="/net/http/transfer_test.go.html#7474400">buf</a></span><span class="op" id="7474459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474462">if</span>&nbsp;<span class="ident" id="7474465"><a href="/net/http/transfer_test.go.html#7474432">n</a></span>&nbsp;<span class="op" id="7474467">!=</span>&nbsp;<span class="builtinfunc" id="7474470">len</span><span class="op" id="7474473">(</span><span class="ident" id="7474474"><a href="/net/http/transfer_test.go.html#7474368">want</a></span><span class="op" id="7474478">)</span>&nbsp;<span class="op" id="7474480">||</span>&nbsp;<span class="ident" id="7474483"><a href="/net/http/transfer_test.go.html#7474106">err</a></span>&nbsp;<span class="op" id="7474487">!=</span>&nbsp;<span class="ident" id="7474490"><a href="/net/http/transfer_test.go.html#7473347">io</a></span><span class="op" id="7474492">.</span><span class="ident" id="7474493">EOF</span>&nbsp;<span class="op" id="7474497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474501"><a href="/net/http/transfer_test.go.html#7474084">t</a></span><span class="op" id="7474502">.</span><span class="ident" id="7474503">Logf</span><span class="op" id="7474507">(</span><span class="string" id="7474508">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="7474520">,</span>&nbsp;<span class="ident" id="7474522"><a href="/net/http/transfer_test.go.html#7474101">res</a></span><span class="op" id="7474525">.</span><span class="ident" id="7474526">Body</span><span class="op" id="7474530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474534"><a href="/net/http/transfer_test.go.html#7474084">t</a></span><span class="op" id="7474535">.</span><span class="ident" id="7474536">Errorf</span><span class="op" id="7474542">(</span><span class="string" id="7474543">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="7474572">,</span>&nbsp;<span class="ident" id="7474574"><a href="/net/http/transfer_test.go.html#7474432">n</a></span><span class="op" id="7474575">,</span>&nbsp;<span class="ident" id="7474577"><a href="/net/http/transfer_test.go.html#7474106">err</a></span><span class="op" id="7474580">,</span>&nbsp;<span class="builtinfunc" id="7474582">len</span><span class="op" id="7474585">(</span><span class="ident" id="7474586"><a href="/net/http/transfer_test.go.html#7474368">want</a></span><span class="op" id="7474590">)</span><span class="op" id="7474591">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474597">if</span>&nbsp;<span class="builtintype" id="7474600">string</span><span class="op" id="7474606">(</span><span class="ident" id="7474607"><a href="/net/http/transfer_test.go.html#7474400">buf</a></span><span class="op" id="7474610">)</span>&nbsp;<span class="op" id="7474612">!=</span>&nbsp;<span class="ident" id="7474615"><a href="/net/http/transfer_test.go.html#7474368">want</a></span>&nbsp;<span class="op" id="7474620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474624"><a href="/net/http/transfer_test.go.html#7474084">t</a></span><span class="op" id="7474625">.</span><span class="ident" id="7474626">Errorf</span><span class="op" id="7474632">(</span><span class="string" id="7474633">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7474652">,</span>&nbsp;<span class="ident" id="7474654"><a href="/net/http/transfer_test.go.html#7474400">buf</a></span><span class="op" id="7474657">,</span>&nbsp;<span class="ident" id="7474659"><a href="/net/http/transfer_test.go.html#7474368">want</a></span><span class="op" id="7474663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474666">}</span><br>
<span class="lineno"></span><span class="op" id="7474668">}</span>
</div>
</body>
</html>
