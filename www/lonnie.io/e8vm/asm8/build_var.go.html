<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6033050">package</span>&nbsp;<span class="ident" id="6033058">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6033064">import</span>&nbsp;<span class="op" id="6033071">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6033074">&#34;lonnie.io/e8vm/link8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="6033097">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6033100">func</span>&nbsp;<span class="ident" id="6033105">varSize</span><span class="op" id="6033112">(</span><span class="ident" id="6033113">v</span>&nbsp;<span class="op" id="6033115">*</span><span class="ident" id="6033116"><a href="/lonnie.io/e8vm/asm8/var_decl.go.html#6066922">varDecl</a></span><span class="op" id="6033123">)</span>&nbsp;<span class="builtintype" id="6033125">int</span>&nbsp;<span class="op" id="6033129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6033132">ret</span>&nbsp;<span class="op" id="6033136">:=</span>&nbsp;<span class="num" id="6033139">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033142">for</span>&nbsp;<span class="ident" id="6033146">_</span><span class="op" id="6033147">,</span>&nbsp;<span class="ident" id="6033149">stmt</span>&nbsp;<span class="op" id="6033154">:=</span>&nbsp;<span class="keyword" id="6033157">range</span>&nbsp;<span class="ident" id="6033163"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033113">v</a></span><span class="op" id="6033164">.</span><span class="ident" id="6033165">stmts</span>&nbsp;<span class="op" id="6033171">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6033175"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033132">ret</a></span>&nbsp;<span class="op" id="6033179">+=</span>&nbsp;<span class="builtinfunc" id="6033182">len</span><span class="op" id="6033185">(</span><span class="ident" id="6033186"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033149">stmt</a></span><span class="op" id="6033190">.</span><span class="ident" id="6033191">data</span><span class="op" id="6033195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6033198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033202">return</span>&nbsp;<span class="ident" id="6033209"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033132">ret</a></span><br>
<span class="lineno"></span><span class="op" id="6033213">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6033216">func</span>&nbsp;<span class="ident" id="6033221">varAlign</span><span class="op" id="6033229">(</span><span class="ident" id="6033230">v</span>&nbsp;<span class="op" id="6033232">*</span><span class="ident" id="6033233"><a href="/lonnie.io/e8vm/asm8/var_decl.go.html#6066922">varDecl</a></span><span class="op" id="6033240">)</span>&nbsp;<span class="builtintype" id="6033242">uint32</span>&nbsp;<span class="op" id="6033249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033252">for</span>&nbsp;<span class="ident" id="6033256">_</span><span class="op" id="6033257">,</span>&nbsp;<span class="ident" id="6033259">stmt</span>&nbsp;<span class="op" id="6033264">:=</span>&nbsp;<span class="keyword" id="6033267">range</span>&nbsp;<span class="ident" id="6033273"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033230">v</a></span><span class="op" id="6033274">.</span><span class="ident" id="6033275">stmts</span>&nbsp;<span class="op" id="6033281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033285">if</span>&nbsp;<span class="ident" id="6033288"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033259">stmt</a></span><span class="op" id="6033292">.</span><span class="ident" id="6033293">align</span>&nbsp;<span class="op" id="6033299">==</span>&nbsp;<span class="num" id="6033302">4</span>&nbsp;<span class="op" id="6033304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033309">return</span>&nbsp;<span class="num" id="6033316">4</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6033320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6033323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033326">return</span>&nbsp;<span class="num" id="6033333">1</span><br>
<span class="lineno"></span><span class="op" id="6033335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6033338">func</span>&nbsp;<span class="ident" id="6033343">buildVar</span><span class="op" id="6033351">(</span><span class="ident" id="6033352">b</span>&nbsp;<span class="op" id="6033354">*</span><span class="ident" id="6033355"><a href="/lonnie.io/e8vm/asm8/builder.go.html#6033886">builder</a></span><span class="op" id="6033362">,</span>&nbsp;<span class="ident" id="6033364">v</span>&nbsp;<span class="op" id="6033366">*</span><span class="ident" id="6033367"><a href="/lonnie.io/e8vm/asm8/var_decl.go.html#6066922">varDecl</a></span><span class="op" id="6033374">)</span>&nbsp;<span class="op" id="6033376">*</span><span class="ident" id="6033377"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033074">link8</a></span><span class="op" id="6033382">.</span><span class="ident" id="6033383">Var</span>&nbsp;<span class="op" id="6033387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033390">if</span>&nbsp;<span class="ident" id="6033393"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033105">varSize</a></span><span class="op" id="6033400">(</span><span class="ident" id="6033401"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033364">v</a></span><span class="op" id="6033402">)</span>&nbsp;<span class="op" id="6033404">==</span>&nbsp;<span class="num" id="6033407">0</span>&nbsp;<span class="op" id="6033409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6033413"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033352">b</a></span><span class="op" id="6033414">.</span><span class="ident" id="6033415">err</span><span class="op" id="6033418">(</span><span class="ident" id="6033419"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033364">v</a></span><span class="op" id="6033420">.</span><span class="ident" id="6033421">name</span><span class="op" id="6033425">.</span><span class="ident" id="6033426">Pos</span><span class="op" id="6033429">,</span>&nbsp;<span class="string" id="6033431">&#34;var&nbsp;%q&nbsp;has&nbsp;no&nbsp;data&#34;</span><span class="op" id="6033451">,</span>&nbsp;<span class="ident" id="6033453"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033364">v</a></span><span class="op" id="6033454">.</span><span class="ident" id="6033455">name</span><span class="op" id="6033459">.</span><span class="ident" id="6033460">Lit</span><span class="op" id="6033463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033467">return</span>&nbsp;<span class="ident" id="6033474">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6033479">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6033483">ret</span>&nbsp;<span class="op" id="6033487">:=</span>&nbsp;<span class="ident" id="6033490"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033074">link8</a></span><span class="op" id="6033495">.</span><span class="ident" id="6033496">NewVar</span><span class="op" id="6033502">(</span><span class="ident" id="6033503"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033221">varAlign</a></span><span class="op" id="6033511">(</span><span class="ident" id="6033512"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033364">v</a></span><span class="op" id="6033513">)</span><span class="op" id="6033514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033517">for</span>&nbsp;<span class="ident" id="6033521">_</span><span class="op" id="6033522">,</span>&nbsp;<span class="ident" id="6033524">stmt</span>&nbsp;<span class="op" id="6033529">:=</span>&nbsp;<span class="keyword" id="6033532">range</span>&nbsp;<span class="ident" id="6033538"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033364">v</a></span><span class="op" id="6033539">.</span><span class="ident" id="6033540">stmts</span>&nbsp;<span class="op" id="6033546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6033550">n</span>&nbsp;<span class="op" id="6033552">:=</span>&nbsp;<span class="ident" id="6033555"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033483">ret</a></span><span class="op" id="6033558">.</span><span class="ident" id="6033559">Size</span><span class="op" id="6033563">(</span><span class="op" id="6033564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033568">if</span>&nbsp;<span class="ident" id="6033571"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033524">stmt</a></span><span class="op" id="6033575">.</span><span class="ident" id="6033576">align</span>&nbsp;<span class="op" id="6033582">==</span>&nbsp;<span class="num" id="6033585">4</span>&nbsp;<span class="op" id="6033587">&amp;&amp;</span>&nbsp;<span class="ident" id="6033590"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033550">n</a></span><span class="op" id="6033591">%</span><span class="num" id="6033592">4</span>&nbsp;<span class="op" id="6033594">!=</span>&nbsp;<span class="num" id="6033597">0</span>&nbsp;<span class="op" id="6033599">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6033604"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033483">ret</a></span><span class="op" id="6033607">.</span><span class="ident" id="6033608">Pad</span><span class="op" id="6033611">(</span><span class="num" id="6033612">4</span>&nbsp;<span class="op" id="6033614">-</span>&nbsp;<span class="ident" id="6033616"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033550">n</a></span><span class="op" id="6033617">%</span><span class="num" id="6033618">4</span><span class="op" id="6033619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6033623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6033628"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033483">ret</a></span><span class="op" id="6033631">.</span><span class="ident" id="6033632">Write</span><span class="op" id="6033637">(</span><span class="ident" id="6033638"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033524">stmt</a></span><span class="op" id="6033642">.</span><span class="ident" id="6033643">data</span><span class="op" id="6033647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6033650">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033654">if</span>&nbsp;<span class="ident" id="6033657"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033483">ret</a></span><span class="op" id="6033660">.</span><span class="ident" id="6033661">TooLarge</span><span class="op" id="6033669">(</span><span class="op" id="6033670">)</span>&nbsp;<span class="op" id="6033672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6033676"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033352">b</a></span><span class="op" id="6033677">.</span><span class="ident" id="6033678">err</span><span class="op" id="6033681">(</span><span class="ident" id="6033682"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033364">v</a></span><span class="op" id="6033683">.</span><span class="ident" id="6033684">name</span><span class="op" id="6033688">.</span><span class="ident" id="6033689">Pos</span><span class="op" id="6033692">,</span>&nbsp;<span class="string" id="6033694">&#34;var&nbsp;%q&nbsp;too&nbsp;large&#34;</span><span class="op" id="6033712">,</span>&nbsp;<span class="ident" id="6033714"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033364">v</a></span><span class="op" id="6033715">.</span><span class="ident" id="6033716">name</span><span class="op" id="6033720">.</span><span class="ident" id="6033721">Lit</span><span class="op" id="6033724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033728">return</span>&nbsp;<span class="ident" id="6033735">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6033740">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6033744">return</span>&nbsp;<span class="ident" id="6033751"><a href="/lonnie.io/e8vm/asm8/build_var.go.html#6033483">ret</a></span><br>
<span class="lineno"></span><span class="op" id="6033755">}</span>
</div>
</body>
</html>
