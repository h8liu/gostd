<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7091560">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7091616">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7091670">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7091721">package</span>&nbsp;<span class="ident" id="7091729">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7091738">//&nbsp;MakeRO&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;v&nbsp;with&nbsp;the&nbsp;read-only&nbsp;flag&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="7091797">func</span>&nbsp;<span class="ident" id="7091802">MakeRO</span><span class="op" id="7091808">(</span><span class="ident" id="7091809">v</span>&nbsp;<span class="ident" id="7091811">Value</span><span class="op" id="7091816">)</span>&nbsp;<span class="ident" id="7091818">Value</span>&nbsp;<span class="op" id="7091824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091827">v</span><span class="op" id="7091828">.</span><span class="ident" id="7091829">flag</span>&nbsp;<span class="op" id="7091834">|=</span>&nbsp;<span class="ident" id="7091837">flagRO</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091845">return</span>&nbsp;<span class="ident" id="7091852">v</span><br>
<span class="lineno"></span><span class="op" id="7091854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7091857">//&nbsp;IsRO&nbsp;reports&nbsp;whether&nbsp;v&#39;s&nbsp;read-only&nbsp;flag&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="7091908">func</span>&nbsp;<span class="ident" id="7091913">IsRO</span><span class="op" id="7091917">(</span><span class="ident" id="7091918">v</span>&nbsp;<span class="ident" id="7091920">Value</span><span class="op" id="7091925">)</span>&nbsp;<span class="builtintype" id="7091927">bool</span>&nbsp;<span class="op" id="7091932">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091935">return</span>&nbsp;<span class="ident" id="7091942">v</span><span class="op" id="7091943">.</span><span class="ident" id="7091944">flag</span><span class="op" id="7091948">&amp;</span><span class="ident" id="7091949">flagRO</span>&nbsp;<span class="op" id="7091956">!=</span>&nbsp;<span class="num" id="7091959">0</span><br>
<span class="lineno"></span><span class="op" id="7091961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7091964">var</span>&nbsp;<span class="ident" id="7091968">ArrayOf</span>&nbsp;<span class="op" id="7091976">=</span>&nbsp;<span class="ident" id="7091978">arrayOf</span><br>
<span class="lineno"></span><span class="keyword" id="7091986">var</span>&nbsp;<span class="ident" id="7091990">CallGC</span>&nbsp;<span class="op" id="7091997">=</span>&nbsp;<span class="op" id="7091999">&amp;</span><span class="ident" id="7092000">callGC</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7092008">const</span>&nbsp;<span class="ident" id="7092014">PtrSize</span>&nbsp;<span class="op" id="7092022">=</span>&nbsp;<span class="ident" id="7092024">ptrSize</span><br>
<span class="lineno"></span><span class="keyword" id="7092032">const</span>&nbsp;<span class="ident" id="7092038">BitsPointer</span>&nbsp;<span class="op" id="7092050">=</span>&nbsp;<span class="ident" id="7092052">bitsPointer</span><br>
<span class="lineno"></span><span class="keyword" id="7092064">const</span>&nbsp;<span class="ident" id="7092070">BitsScalar</span>&nbsp;<span class="op" id="7092081">=</span>&nbsp;<span class="ident" id="7092083">bitsScalar</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7092095">func</span>&nbsp;<span class="ident" id="7092100">FuncLayout</span><span class="op" id="7092110">(</span><span class="ident" id="7092111">t</span>&nbsp;<span class="ident" id="7092113">Type</span><span class="op" id="7092117">,</span>&nbsp;<span class="ident" id="7092119">rcvr</span>&nbsp;<span class="ident" id="7092124">Type</span><span class="op" id="7092128">)</span>&nbsp;<span class="op" id="7092130">(</span><span class="ident" id="7092131">frametype</span>&nbsp;<span class="ident" id="7092141">Type</span><span class="op" id="7092145">,</span>&nbsp;<span class="ident" id="7092147">argSize</span><span class="op" id="7092154">,</span>&nbsp;<span class="ident" id="7092156">retOffset</span>&nbsp;<span class="builtintype" id="7092166">uintptr</span><span class="op" id="7092173">,</span>&nbsp;<span class="ident" id="7092175">stack</span>&nbsp;<span class="op" id="7092181">[</span><span class="op" id="7092182">]</span><span class="builtintype" id="7092183">byte</span><span class="op" id="7092187">)</span>&nbsp;<span class="op" id="7092189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092192">var</span>&nbsp;<span class="ident" id="7092196">ft</span>&nbsp;<span class="op" id="7092199">*</span><span class="ident" id="7092200">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092207">var</span>&nbsp;<span class="ident" id="7092211">s</span>&nbsp;<span class="op" id="7092213">*</span><span class="ident" id="7092214">bitVector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092225">if</span>&nbsp;<span class="ident" id="7092228">rcvr</span>&nbsp;<span class="op" id="7092233">!=</span>&nbsp;<span class="ident" id="7092236">nil</span>&nbsp;<span class="op" id="7092240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092244">ft</span><span class="op" id="7092246">,</span>&nbsp;<span class="ident" id="7092248">argSize</span><span class="op" id="7092255">,</span>&nbsp;<span class="ident" id="7092257">retOffset</span><span class="op" id="7092266">,</span>&nbsp;<span class="ident" id="7092268">s</span>&nbsp;<span class="op" id="7092270">=</span>&nbsp;<span class="ident" id="7092272">funcLayout</span><span class="op" id="7092282">(</span><span class="ident" id="7092283">t</span><span class="op" id="7092284">.</span><span class="op" id="7092285">(</span><span class="op" id="7092286">*</span><span class="ident" id="7092287">rtype</span><span class="op" id="7092292">)</span><span class="op" id="7092293">,</span>&nbsp;<span class="ident" id="7092295">rcvr</span><span class="op" id="7092299">.</span><span class="op" id="7092300">(</span><span class="op" id="7092301">*</span><span class="ident" id="7092302">rtype</span><span class="op" id="7092307">)</span><span class="op" id="7092308">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092311">}</span>&nbsp;<span class="keyword" id="7092313">else</span>&nbsp;<span class="op" id="7092318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092322">ft</span><span class="op" id="7092324">,</span>&nbsp;<span class="ident" id="7092326">argSize</span><span class="op" id="7092333">,</span>&nbsp;<span class="ident" id="7092335">retOffset</span><span class="op" id="7092344">,</span>&nbsp;<span class="ident" id="7092346">s</span>&nbsp;<span class="op" id="7092348">=</span>&nbsp;<span class="ident" id="7092350">funcLayout</span><span class="op" id="7092360">(</span><span class="ident" id="7092361">t</span><span class="op" id="7092362">.</span><span class="op" id="7092363">(</span><span class="op" id="7092364">*</span><span class="ident" id="7092365">rtype</span><span class="op" id="7092370">)</span><span class="op" id="7092371">,</span>&nbsp;<span class="ident" id="7092373">nil</span><span class="op" id="7092376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092382">frametype</span>&nbsp;<span class="op" id="7092392">=</span>&nbsp;<span class="ident" id="7092394">ft</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092398">for</span>&nbsp;<span class="ident" id="7092402">i</span>&nbsp;<span class="op" id="7092404">:=</span>&nbsp;<span class="builtintype" id="7092407">uint32</span><span class="op" id="7092413">(</span><span class="num" id="7092414">0</span><span class="op" id="7092415">)</span><span class="op" id="7092416">;</span>&nbsp;<span class="ident" id="7092418">i</span>&nbsp;<span class="op" id="7092420">&lt;</span>&nbsp;<span class="ident" id="7092422">s</span><span class="op" id="7092423">.</span><span class="ident" id="7092424">n</span><span class="op" id="7092425">;</span>&nbsp;<span class="ident" id="7092427">i</span>&nbsp;<span class="op" id="7092429">+=</span>&nbsp;<span class="num" id="7092432">2</span>&nbsp;<span class="op" id="7092434">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092438">stack</span>&nbsp;<span class="op" id="7092444">=</span>&nbsp;<span class="builtinfunc" id="7092446">append</span><span class="op" id="7092452">(</span><span class="ident" id="7092453">stack</span><span class="op" id="7092458">,</span>&nbsp;<span class="ident" id="7092460">s</span><span class="op" id="7092461">.</span><span class="ident" id="7092462">data</span><span class="op" id="7092466">[</span><span class="ident" id="7092467">i</span><span class="op" id="7092468">/</span><span class="num" id="7092469">8</span><span class="op" id="7092470">]</span><span class="op" id="7092471">&gt;&gt;</span><span class="op" id="7092473">(</span><span class="ident" id="7092474">i</span><span class="op" id="7092475">%</span><span class="num" id="7092476">8</span><span class="op" id="7092477">)</span><span class="op" id="7092478">&amp;</span><span class="num" id="7092479">3</span><span class="op" id="7092480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092486">return</span><br>
<span class="lineno"></span><span class="op" id="7092493">}</span>
</div>
</body>
</html>
