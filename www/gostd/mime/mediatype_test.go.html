<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime</h2>
<ul>
<li><a href="/gostd/mime/grammar.go.html">grammar.go</a></li>
<li><a href="/gostd/mime/mediatype.go.html">mediatype.go</a></li>
<li><a href="/gostd/mime/mediatype_test.go.html" class="current">mediatype_test.go</a></li>
<li><a href="/gostd/mime/type.go.html">type.go</a></li>
<li><a href="/gostd/mime/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/mime/type_unix.go.html">type_unix.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6404841">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6404896">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6404950">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6405001">package</span>&nbsp;<span class="ident" id="6405009">mime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6405015">import</span>&nbsp;<span class="op" id="6405022">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6405025">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6405036">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6405046">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6405049">func</span>&nbsp;<span class="ident" id="6405054">TestConsumeToken</span><span class="op" id="6405070">(</span><span class="ident" id="6405071">t</span>&nbsp;<span class="op" id="6405073">*</span><span class="ident" id="6405074"><a href="/gostd/mime/mediatype_test.go.html#6405036">testing</a></span><span class="op" id="6405081">.</span><span class="ident" id="6405082"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6405083">)</span>&nbsp;<span class="op" id="6405085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6405088">tests</span>&nbsp;<span class="op" id="6405094">:=</span>&nbsp;<span class="op" id="6405097">[</span><span class="op" id="6405098">...</span><span class="op" id="6405101">]</span><span class="op" id="6405102">[</span><span class="num" id="6405103">3</span><span class="op" id="6405104">]</span><span class="builtintype" id="6405105">string</span><span class="op" id="6405111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405115">{</span><span class="string" id="6405116">&#34;foo&nbsp;bar&#34;</span><span class="op" id="6405125">,</span>&nbsp;<span class="string" id="6405127">&#34;foo&#34;</span><span class="op" id="6405132">,</span>&nbsp;<span class="string" id="6405134">&#34;&nbsp;bar&#34;</span><span class="op" id="6405140">}</span><span class="op" id="6405141">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405145">{</span><span class="string" id="6405146">&#34;bar&#34;</span><span class="op" id="6405151">,</span>&nbsp;<span class="string" id="6405153">&#34;bar&#34;</span><span class="op" id="6405158">,</span>&nbsp;<span class="string" id="6405160">&#34;&#34;</span><span class="op" id="6405162">}</span><span class="op" id="6405163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405167">{</span><span class="string" id="6405168">&#34;&#34;</span><span class="op" id="6405170">,</span>&nbsp;<span class="string" id="6405172">&#34;&#34;</span><span class="op" id="6405174">,</span>&nbsp;<span class="string" id="6405176">&#34;&#34;</span><span class="op" id="6405178">}</span><span class="op" id="6405179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405183">{</span><span class="string" id="6405184">&#34;&nbsp;foo&#34;</span><span class="op" id="6405190">,</span>&nbsp;<span class="string" id="6405192">&#34;&#34;</span><span class="op" id="6405194">,</span>&nbsp;<span class="string" id="6405196">&#34;&nbsp;foo&#34;</span><span class="op" id="6405202">}</span><span class="op" id="6405203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6405209">for</span>&nbsp;<span class="ident" id="6405213">_</span><span class="op" id="6405214">,</span>&nbsp;<span class="ident" id="6405216">test</span>&nbsp;<span class="op" id="6405221">:=</span>&nbsp;<span class="keyword" id="6405224">range</span>&nbsp;<span class="ident" id="6405230"><a href="/gostd/mime/mediatype_test.go.html#6405088">tests</a></span>&nbsp;<span class="op" id="6405236">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6405240">token</span><span class="op" id="6405245">,</span>&nbsp;<span class="ident" id="6405247">rest</span>&nbsp;<span class="op" id="6405252">:=</span>&nbsp;<span class="ident" id="6405255"><a href="/gostd/mime/mediatype.go.html#4300162">consumeToken</a></span><span class="op" id="6405267">(</span><span class="ident" id="6405268"><a href="/gostd/mime/mediatype_test.go.html#6405216">test</a></span><span class="op" id="6405272">[</span><span class="num" id="6405273">0</span><span class="op" id="6405274">]</span><span class="op" id="6405275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6405279">expectedToken</span>&nbsp;<span class="op" id="6405293">:=</span>&nbsp;<span class="ident" id="6405296"><a href="/gostd/mime/mediatype_test.go.html#6405216">test</a></span><span class="op" id="6405300">[</span><span class="num" id="6405301">1</span><span class="op" id="6405302">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6405306">expectedRest</span>&nbsp;<span class="op" id="6405319">:=</span>&nbsp;<span class="ident" id="6405322"><a href="/gostd/mime/mediatype_test.go.html#6405216">test</a></span><span class="op" id="6405326">[</span><span class="num" id="6405327">2</span><span class="op" id="6405328">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6405332">if</span>&nbsp;<span class="ident" id="6405335"><a href="/gostd/mime/mediatype_test.go.html#6405240">token</a></span>&nbsp;<span class="op" id="6405341">!=</span>&nbsp;<span class="ident" id="6405344"><a href="/gostd/mime/mediatype_test.go.html#6405279">expectedToken</a></span>&nbsp;<span class="op" id="6405358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6405363"><a href="/gostd/mime/mediatype_test.go.html#6405071">t</a></span><span class="op" id="6405364">.</span><span class="ident" id="6405365"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6405371">(</span><span class="string" id="6405372">&#34;expected&nbsp;to&nbsp;consume&nbsp;token&nbsp;&#39;%s&#39;,&nbsp;not&nbsp;&#39;%s&#39;&nbsp;from&nbsp;&#39;%s&#39;&#34;</span><span class="op" id="6405424">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6405430"><a href="/gostd/mime/mediatype_test.go.html#6405279">expectedToken</a></span><span class="op" id="6405443">,</span>&nbsp;<span class="ident" id="6405445"><a href="/gostd/mime/mediatype_test.go.html#6405240">token</a></span><span class="op" id="6405450">,</span>&nbsp;<span class="ident" id="6405452"><a href="/gostd/mime/mediatype_test.go.html#6405216">test</a></span><span class="op" id="6405456">[</span><span class="num" id="6405457">0</span><span class="op" id="6405458">]</span><span class="op" id="6405459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405463">}</span>&nbsp;<span class="keyword" id="6405465">else</span>&nbsp;<span class="keyword" id="6405470">if</span>&nbsp;<span class="ident" id="6405473"><a href="/gostd/mime/mediatype_test.go.html#6405247">rest</a></span>&nbsp;<span class="op" id="6405478">!=</span>&nbsp;<span class="ident" id="6405481"><a href="/gostd/mime/mediatype_test.go.html#6405306">expectedRest</a></span>&nbsp;<span class="op" id="6405494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6405499"><a href="/gostd/mime/mediatype_test.go.html#6405071">t</a></span><span class="op" id="6405500">.</span><span class="ident" id="6405501"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6405507">(</span><span class="string" id="6405508">&#34;expected&nbsp;to&nbsp;have&nbsp;left&nbsp;&#39;%s&#39;,&nbsp;not&nbsp;&#39;%s&#39;&nbsp;after&nbsp;reading&nbsp;token&nbsp;&#39;%s&#39;&nbsp;from&nbsp;&#39;%s&#39;&#34;</span><span class="op" id="6405581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6405587"><a href="/gostd/mime/mediatype_test.go.html#6405306">expectedRest</a></span><span class="op" id="6405599">,</span>&nbsp;<span class="ident" id="6405601"><a href="/gostd/mime/mediatype_test.go.html#6405247">rest</a></span><span class="op" id="6405605">,</span>&nbsp;<span class="ident" id="6405607"><a href="/gostd/mime/mediatype_test.go.html#6405240">token</a></span><span class="op" id="6405612">,</span>&nbsp;<span class="ident" id="6405614"><a href="/gostd/mime/mediatype_test.go.html#6405216">test</a></span><span class="op" id="6405618">[</span><span class="num" id="6405619">0</span><span class="op" id="6405620">]</span><span class="op" id="6405621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405625">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405628">}</span><br>
<span class="lineno"></span><span class="op" id="6405630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6405633">func</span>&nbsp;<span class="ident" id="6405638">TestConsumeValue</span><span class="op" id="6405654">(</span><span class="ident" id="6405655">t</span>&nbsp;<span class="op" id="6405657">*</span><span class="ident" id="6405658"><a href="/gostd/mime/mediatype_test.go.html#6405036">testing</a></span><span class="op" id="6405665">.</span><span class="ident" id="6405666"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6405667">)</span>&nbsp;<span class="op" id="6405669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6405672">tests</span>&nbsp;<span class="op" id="6405678">:=</span>&nbsp;<span class="op" id="6405681">[</span><span class="op" id="6405682">...</span><span class="op" id="6405685">]</span><span class="op" id="6405686">[</span><span class="num" id="6405687">3</span><span class="op" id="6405688">]</span><span class="builtintype" id="6405689">string</span><span class="op" id="6405695">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405699">{</span><span class="string" id="6405700">&#34;foo&nbsp;bar&#34;</span><span class="op" id="6405709">,</span>&nbsp;<span class="string" id="6405711">&#34;foo&#34;</span><span class="op" id="6405716">,</span>&nbsp;<span class="string" id="6405718">&#34;&nbsp;bar&#34;</span><span class="op" id="6405724">}</span><span class="op" id="6405725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405729">{</span><span class="string" id="6405730">&#34;bar&#34;</span><span class="op" id="6405735">,</span>&nbsp;<span class="string" id="6405737">&#34;bar&#34;</span><span class="op" id="6405742">,</span>&nbsp;<span class="string" id="6405744">&#34;&#34;</span><span class="op" id="6405746">}</span><span class="op" id="6405747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405751">{</span><span class="string" id="6405752">&#34;&nbsp;bar&nbsp;&#34;</span><span class="op" id="6405759">,</span>&nbsp;<span class="string" id="6405761">&#34;&#34;</span><span class="op" id="6405763">,</span>&nbsp;<span class="string" id="6405765">&#34;&nbsp;bar&nbsp;&#34;</span><span class="op" id="6405772">}</span><span class="op" id="6405773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405777">{</span><span class="string" id="6405778">`&#34;My&nbsp;value&#34;end`</span><span class="op" id="6405793">,</span>&nbsp;<span class="string" id="6405795">&#34;My&nbsp;value&#34;</span><span class="op" id="6405805">,</span>&nbsp;<span class="string" id="6405807">&#34;end&#34;</span><span class="op" id="6405812">}</span><span class="op" id="6405813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405817">{</span><span class="string" id="6405818">`&#34;My&nbsp;value&#34;&nbsp;end`</span><span class="op" id="6405834">,</span>&nbsp;<span class="string" id="6405836">&#34;My&nbsp;value&#34;</span><span class="op" id="6405846">,</span>&nbsp;<span class="string" id="6405848">&#34;&nbsp;end&#34;</span><span class="op" id="6405854">}</span><span class="op" id="6405855">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405859">{</span><span class="string" id="6405860">`&#34;\\&#34;&nbsp;rest`</span><span class="op" id="6405871">,</span>&nbsp;<span class="string" id="6405873">&#34;\\&#34;</span><span class="op" id="6405877">,</span>&nbsp;<span class="string" id="6405879">&#34;&nbsp;rest&#34;</span><span class="op" id="6405886">}</span><span class="op" id="6405887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405891">{</span><span class="string" id="6405892">`&#34;My&nbsp;\&#34;&nbsp;value&#34;end`</span><span class="op" id="6405910">,</span>&nbsp;<span class="string" id="6405912">&#34;My&nbsp;\&#34;&nbsp;value&#34;</span><span class="op" id="6405925">,</span>&nbsp;<span class="string" id="6405927">&#34;end&#34;</span><span class="op" id="6405932">}</span><span class="op" id="6405933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405937">{</span><span class="string" id="6405938">`&#34;\&#34;&nbsp;rest`</span><span class="op" id="6405948">,</span>&nbsp;<span class="string" id="6405950">&#34;&#34;</span><span class="op" id="6405952">,</span>&nbsp;<span class="string" id="6405954">`&#34;\&#34;&nbsp;rest`</span><span class="op" id="6405964">}</span><span class="op" id="6405965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6405968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6405971">for</span>&nbsp;<span class="ident" id="6405975">_</span><span class="op" id="6405976">,</span>&nbsp;<span class="ident" id="6405978">test</span>&nbsp;<span class="op" id="6405983">:=</span>&nbsp;<span class="keyword" id="6405986">range</span>&nbsp;<span class="ident" id="6405992"><a href="/gostd/mime/mediatype_test.go.html#6405672">tests</a></span>&nbsp;<span class="op" id="6405998">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6406002">value</span><span class="op" id="6406007">,</span>&nbsp;<span class="ident" id="6406009">rest</span>&nbsp;<span class="op" id="6406014">:=</span>&nbsp;<span class="ident" id="6406017"><a href="/gostd/mime/mediatype.go.html#4300641">consumeValue</a></span><span class="op" id="6406029">(</span><span class="ident" id="6406030"><a href="/gostd/mime/mediatype_test.go.html#6405978">test</a></span><span class="op" id="6406034">[</span><span class="num" id="6406035">0</span><span class="op" id="6406036">]</span><span class="op" id="6406037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6406041">expectedValue</span>&nbsp;<span class="op" id="6406055">:=</span>&nbsp;<span class="ident" id="6406058"><a href="/gostd/mime/mediatype_test.go.html#6405978">test</a></span><span class="op" id="6406062">[</span><span class="num" id="6406063">1</span><span class="op" id="6406064">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6406068">expectedRest</span>&nbsp;<span class="op" id="6406081">:=</span>&nbsp;<span class="ident" id="6406084"><a href="/gostd/mime/mediatype_test.go.html#6405978">test</a></span><span class="op" id="6406088">[</span><span class="num" id="6406089">2</span><span class="op" id="6406090">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6406094">if</span>&nbsp;<span class="ident" id="6406097"><a href="/gostd/mime/mediatype_test.go.html#6406002">value</a></span>&nbsp;<span class="op" id="6406103">!=</span>&nbsp;<span class="ident" id="6406106"><a href="/gostd/mime/mediatype_test.go.html#6406041">expectedValue</a></span>&nbsp;<span class="op" id="6406120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6406125"><a href="/gostd/mime/mediatype_test.go.html#6405655">t</a></span><span class="op" id="6406126">.</span><span class="ident" id="6406127"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6406133">(</span><span class="string" id="6406134">&#34;expected&nbsp;to&nbsp;consume&nbsp;value&nbsp;[%s],&nbsp;not&nbsp;[%s]&nbsp;from&nbsp;[%s]&#34;</span><span class="op" id="6406186">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6406192"><a href="/gostd/mime/mediatype_test.go.html#6406041">expectedValue</a></span><span class="op" id="6406205">,</span>&nbsp;<span class="ident" id="6406207"><a href="/gostd/mime/mediatype_test.go.html#6406002">value</a></span><span class="op" id="6406212">,</span>&nbsp;<span class="ident" id="6406214"><a href="/gostd/mime/mediatype_test.go.html#6405978">test</a></span><span class="op" id="6406218">[</span><span class="num" id="6406219">0</span><span class="op" id="6406220">]</span><span class="op" id="6406221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406225">}</span>&nbsp;<span class="keyword" id="6406227">else</span>&nbsp;<span class="keyword" id="6406232">if</span>&nbsp;<span class="ident" id="6406235"><a href="/gostd/mime/mediatype_test.go.html#6406009">rest</a></span>&nbsp;<span class="op" id="6406240">!=</span>&nbsp;<span class="ident" id="6406243"><a href="/gostd/mime/mediatype_test.go.html#6406068">expectedRest</a></span>&nbsp;<span class="op" id="6406256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6406261"><a href="/gostd/mime/mediatype_test.go.html#6405655">t</a></span><span class="op" id="6406262">.</span><span class="ident" id="6406263"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6406269">(</span><span class="string" id="6406270">&#34;expected&nbsp;to&nbsp;have&nbsp;left&nbsp;[%s],&nbsp;not&nbsp;[%s]&nbsp;after&nbsp;reading&nbsp;value&nbsp;[%s]&nbsp;from&nbsp;[%s]&#34;</span><span class="op" id="6406343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6406349"><a href="/gostd/mime/mediatype_test.go.html#6406068">expectedRest</a></span><span class="op" id="6406361">,</span>&nbsp;<span class="ident" id="6406363"><a href="/gostd/mime/mediatype_test.go.html#6406009">rest</a></span><span class="op" id="6406367">,</span>&nbsp;<span class="ident" id="6406369"><a href="/gostd/mime/mediatype_test.go.html#6406002">value</a></span><span class="op" id="6406374">,</span>&nbsp;<span class="ident" id="6406376"><a href="/gostd/mime/mediatype_test.go.html#6405978">test</a></span><span class="op" id="6406380">[</span><span class="num" id="6406381">0</span><span class="op" id="6406382">]</span><span class="op" id="6406383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406387">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406390">}</span><br>
<span class="lineno"></span><span class="op" id="6406392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6406395">func</span>&nbsp;<span class="ident" id="6406400">TestConsumeMediaParam</span><span class="op" id="6406421">(</span><span class="ident" id="6406422">t</span>&nbsp;<span class="op" id="6406424">*</span><span class="ident" id="6406425"><a href="/gostd/mime/mediatype_test.go.html#6405036">testing</a></span><span class="op" id="6406432">.</span><span class="ident" id="6406433"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6406434">)</span>&nbsp;<span class="op" id="6406436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6406439">tests</span>&nbsp;<span class="op" id="6406445">:=</span>&nbsp;<span class="op" id="6406448">[</span><span class="op" id="6406449">...</span><span class="op" id="6406452">]</span><span class="op" id="6406453">[</span><span class="num" id="6406454">4</span><span class="op" id="6406455">]</span><span class="builtintype" id="6406456">string</span><span class="op" id="6406462">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406466">{</span><span class="string" id="6406467">&#34;&nbsp;;&nbsp;foo=bar&#34;</span><span class="op" id="6406479">,</span>&nbsp;<span class="string" id="6406481">&#34;foo&#34;</span><span class="op" id="6406486">,</span>&nbsp;<span class="string" id="6406488">&#34;bar&#34;</span><span class="op" id="6406493">,</span>&nbsp;<span class="string" id="6406495">&#34;&#34;</span><span class="op" id="6406497">}</span><span class="op" id="6406498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406502">{</span><span class="string" id="6406503">&#34;;&nbsp;foo=bar&#34;</span><span class="op" id="6406514">,</span>&nbsp;<span class="string" id="6406516">&#34;foo&#34;</span><span class="op" id="6406521">,</span>&nbsp;<span class="string" id="6406523">&#34;bar&#34;</span><span class="op" id="6406528">,</span>&nbsp;<span class="string" id="6406530">&#34;&#34;</span><span class="op" id="6406532">}</span><span class="op" id="6406533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406537">{</span><span class="string" id="6406538">&#34;;foo=bar&#34;</span><span class="op" id="6406548">,</span>&nbsp;<span class="string" id="6406550">&#34;foo&#34;</span><span class="op" id="6406555">,</span>&nbsp;<span class="string" id="6406557">&#34;bar&#34;</span><span class="op" id="6406562">,</span>&nbsp;<span class="string" id="6406564">&#34;&#34;</span><span class="op" id="6406566">}</span><span class="op" id="6406567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406571">{</span><span class="string" id="6406572">&#34;;FOO=bar&#34;</span><span class="op" id="6406582">,</span>&nbsp;<span class="string" id="6406584">&#34;foo&#34;</span><span class="op" id="6406589">,</span>&nbsp;<span class="string" id="6406591">&#34;bar&#34;</span><span class="op" id="6406596">,</span>&nbsp;<span class="string" id="6406598">&#34;&#34;</span><span class="op" id="6406600">}</span><span class="op" id="6406601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406605">{</span><span class="string" id="6406606">`;foo=&#34;bar&#34;`</span><span class="op" id="6406618">,</span>&nbsp;<span class="string" id="6406620">&#34;foo&#34;</span><span class="op" id="6406625">,</span>&nbsp;<span class="string" id="6406627">&#34;bar&#34;</span><span class="op" id="6406632">,</span>&nbsp;<span class="string" id="6406634">&#34;&#34;</span><span class="op" id="6406636">}</span><span class="op" id="6406637">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406641">{</span><span class="string" id="6406642">`;foo=&#34;bar&#34;;&nbsp;`</span><span class="op" id="6406656">,</span>&nbsp;<span class="string" id="6406658">&#34;foo&#34;</span><span class="op" id="6406663">,</span>&nbsp;<span class="string" id="6406665">&#34;bar&#34;</span><span class="op" id="6406670">,</span>&nbsp;<span class="string" id="6406672">&#34;;&nbsp;&#34;</span><span class="op" id="6406676">}</span><span class="op" id="6406677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406681">{</span><span class="string" id="6406682">`;foo=&#34;bar&#34;;&nbsp;foo=baz`</span><span class="op" id="6406703">,</span>&nbsp;<span class="string" id="6406705">&#34;foo&#34;</span><span class="op" id="6406710">,</span>&nbsp;<span class="string" id="6406712">&#34;bar&#34;</span><span class="op" id="6406717">,</span>&nbsp;<span class="string" id="6406719">&#34;;&nbsp;foo=baz&#34;</span><span class="op" id="6406730">}</span><span class="op" id="6406731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406735">{</span><span class="string" id="6406736">`&nbsp;;&nbsp;boundary=----CUT;`</span><span class="op" id="6406758">,</span>&nbsp;<span class="string" id="6406760">&#34;boundary&#34;</span><span class="op" id="6406770">,</span>&nbsp;<span class="string" id="6406772">&#34;----CUT&#34;</span><span class="op" id="6406781">,</span>&nbsp;<span class="string" id="6406783">&#34;;&#34;</span><span class="op" id="6406786">}</span><span class="op" id="6406787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406791">{</span><span class="string" id="6406792">`&nbsp;;&nbsp;key=value;&nbsp;&nbsp;blah=&#34;value&#34;;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="6406833">,</span>&nbsp;<span class="string" id="6406835">&#34;key&#34;</span><span class="op" id="6406840">,</span>&nbsp;<span class="string" id="6406842">&#34;value&#34;</span><span class="op" id="6406849">,</span>&nbsp;<span class="string" id="6406851">`;&nbsp;&nbsp;blah=&#34;value&#34;;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="6406880">}</span><span class="op" id="6406881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406885">{</span><span class="string" id="6406886">`;&nbsp;&nbsp;blah=&#34;value&#34;;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="6406915">,</span>&nbsp;<span class="string" id="6406917">&#34;blah&#34;</span><span class="op" id="6406923">,</span>&nbsp;<span class="string" id="6406925">&#34;value&#34;</span><span class="op" id="6406932">,</span>&nbsp;<span class="string" id="6406934">`;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="6406948">}</span><span class="op" id="6406949">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406953">{</span><span class="string" id="6406954">`;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="6406968">,</span>&nbsp;<span class="string" id="6406970">&#34;name&#34;</span><span class="op" id="6406976">,</span>&nbsp;<span class="string" id="6406978">&#34;foo&#34;</span><span class="op" id="6406983">,</span>&nbsp;<span class="string" id="6406985">`&nbsp;`</span><span class="op" id="6406988">}</span><span class="op" id="6406989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6406992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6406995">for</span>&nbsp;<span class="ident" id="6406999">_</span><span class="op" id="6407000">,</span>&nbsp;<span class="ident" id="6407002">test</span>&nbsp;<span class="op" id="6407007">:=</span>&nbsp;<span class="keyword" id="6407010">range</span>&nbsp;<span class="ident" id="6407016"><a href="/gostd/mime/mediatype_test.go.html#6406439">tests</a></span>&nbsp;<span class="op" id="6407022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407026">param</span><span class="op" id="6407031">,</span>&nbsp;<span class="ident" id="6407033">value</span><span class="op" id="6407038">,</span>&nbsp;<span class="ident" id="6407040">rest</span>&nbsp;<span class="op" id="6407045">:=</span>&nbsp;<span class="ident" id="6407048"><a href="/gostd/mime/mediatype.go.html#4301275">consumeMediaParam</a></span><span class="op" id="6407065">(</span><span class="ident" id="6407066"><a href="/gostd/mime/mediatype_test.go.html#6407002">test</a></span><span class="op" id="6407070">[</span><span class="num" id="6407071">0</span><span class="op" id="6407072">]</span><span class="op" id="6407073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407077">expectedParam</span>&nbsp;<span class="op" id="6407091">:=</span>&nbsp;<span class="ident" id="6407094"><a href="/gostd/mime/mediatype_test.go.html#6407002">test</a></span><span class="op" id="6407098">[</span><span class="num" id="6407099">1</span><span class="op" id="6407100">]</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407104">expectedValue</span>&nbsp;<span class="op" id="6407118">:=</span>&nbsp;<span class="ident" id="6407121"><a href="/gostd/mime/mediatype_test.go.html#6407002">test</a></span><span class="op" id="6407125">[</span><span class="num" id="6407126">2</span><span class="op" id="6407127">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407131">expectedRest</span>&nbsp;<span class="op" id="6407144">:=</span>&nbsp;<span class="ident" id="6407147"><a href="/gostd/mime/mediatype_test.go.html#6407002">test</a></span><span class="op" id="6407151">[</span><span class="num" id="6407152">3</span><span class="op" id="6407153">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6407157">if</span>&nbsp;<span class="ident" id="6407160"><a href="/gostd/mime/mediatype_test.go.html#6407026">param</a></span>&nbsp;<span class="op" id="6407166">!=</span>&nbsp;<span class="ident" id="6407169"><a href="/gostd/mime/mediatype_test.go.html#6407077">expectedParam</a></span>&nbsp;<span class="op" id="6407183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407188"><a href="/gostd/mime/mediatype_test.go.html#6406422">t</a></span><span class="op" id="6407189">.</span><span class="ident" id="6407190"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6407196">(</span><span class="string" id="6407197">&#34;expected&nbsp;to&nbsp;consume&nbsp;param&nbsp;[%s],&nbsp;not&nbsp;[%s]&nbsp;from&nbsp;[%s]&#34;</span><span class="op" id="6407249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407255"><a href="/gostd/mime/mediatype_test.go.html#6407077">expectedParam</a></span><span class="op" id="6407268">,</span>&nbsp;<span class="ident" id="6407270"><a href="/gostd/mime/mediatype_test.go.html#6407026">param</a></span><span class="op" id="6407275">,</span>&nbsp;<span class="ident" id="6407277"><a href="/gostd/mime/mediatype_test.go.html#6407002">test</a></span><span class="op" id="6407281">[</span><span class="num" id="6407282">0</span><span class="op" id="6407283">]</span><span class="op" id="6407284">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6407288">}</span>&nbsp;<span class="keyword" id="6407290">else</span>&nbsp;<span class="keyword" id="6407295">if</span>&nbsp;<span class="ident" id="6407298"><a href="/gostd/mime/mediatype_test.go.html#6407033">value</a></span>&nbsp;<span class="op" id="6407304">!=</span>&nbsp;<span class="ident" id="6407307"><a href="/gostd/mime/mediatype_test.go.html#6407104">expectedValue</a></span>&nbsp;<span class="op" id="6407321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407326"><a href="/gostd/mime/mediatype_test.go.html#6406422">t</a></span><span class="op" id="6407327">.</span><span class="ident" id="6407328"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6407334">(</span><span class="string" id="6407335">&#34;expected&nbsp;to&nbsp;consume&nbsp;value&nbsp;[%s],&nbsp;not&nbsp;[%s]&nbsp;from&nbsp;[%s]&#34;</span><span class="op" id="6407387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407393"><a href="/gostd/mime/mediatype_test.go.html#6407104">expectedValue</a></span><span class="op" id="6407406">,</span>&nbsp;<span class="ident" id="6407408"><a href="/gostd/mime/mediatype_test.go.html#6407033">value</a></span><span class="op" id="6407413">,</span>&nbsp;<span class="ident" id="6407415"><a href="/gostd/mime/mediatype_test.go.html#6407002">test</a></span><span class="op" id="6407419">[</span><span class="num" id="6407420">0</span><span class="op" id="6407421">]</span><span class="op" id="6407422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6407426">}</span>&nbsp;<span class="keyword" id="6407428">else</span>&nbsp;<span class="keyword" id="6407433">if</span>&nbsp;<span class="ident" id="6407436"><a href="/gostd/mime/mediatype_test.go.html#6407040">rest</a></span>&nbsp;<span class="op" id="6407441">!=</span>&nbsp;<span class="ident" id="6407444"><a href="/gostd/mime/mediatype_test.go.html#6407131">expectedRest</a></span>&nbsp;<span class="op" id="6407457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407462"><a href="/gostd/mime/mediatype_test.go.html#6406422">t</a></span><span class="op" id="6407463">.</span><span class="ident" id="6407464"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6407470">(</span><span class="string" id="6407471">&#34;expected&nbsp;to&nbsp;have&nbsp;left&nbsp;[%s],&nbsp;not&nbsp;[%s]&nbsp;after&nbsp;reading&nbsp;[%s/%s]&nbsp;from&nbsp;[%s]&#34;</span><span class="op" id="6407541">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407547"><a href="/gostd/mime/mediatype_test.go.html#6407131">expectedRest</a></span><span class="op" id="6407559">,</span>&nbsp;<span class="ident" id="6407561"><a href="/gostd/mime/mediatype_test.go.html#6407040">rest</a></span><span class="op" id="6407565">,</span>&nbsp;<span class="ident" id="6407567"><a href="/gostd/mime/mediatype_test.go.html#6407026">param</a></span><span class="op" id="6407572">,</span>&nbsp;<span class="ident" id="6407574"><a href="/gostd/mime/mediatype_test.go.html#6407033">value</a></span><span class="op" id="6407579">,</span>&nbsp;<span class="ident" id="6407581"><a href="/gostd/mime/mediatype_test.go.html#6407002">test</a></span><span class="op" id="6407585">[</span><span class="num" id="6407586">0</span><span class="op" id="6407587">]</span><span class="op" id="6407588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6407592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6407595">}</span><br>
<span class="lineno"></span><span class="op" id="6407597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6407600">type</span>&nbsp;<span class="ident" id="6407605">mediaTypeTest</span>&nbsp;<span class="keyword" id="6407619">struct</span>&nbsp;<span class="op" id="6407626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407629">in</span>&nbsp;<span class="builtintype" id="6407632">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407640">t</span>&nbsp;&nbsp;<span class="builtintype" id="6407643">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407651">p</span>&nbsp;&nbsp;<span class="keyword" id="6407654">map</span><span class="op" id="6407657">[</span><span class="builtintype" id="6407658">string</span><span class="op" id="6407664">]</span><span class="builtintype" id="6407665">string</span><br>
<span class="lineno"></span><span class="op" id="6407672">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="6407675">func</span>&nbsp;<span class="ident" id="6407680">TestParseMediaType</span><span class="op" id="6407698">(</span><span class="ident" id="6407699">t</span>&nbsp;<span class="op" id="6407701">*</span><span class="ident" id="6407702"><a href="/gostd/mime/mediatype_test.go.html#6405036">testing</a></span><span class="op" id="6407709">.</span><span class="ident" id="6407710"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6407711">)</span>&nbsp;<span class="op" id="6407713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6407716">//&nbsp;Convenience&nbsp;map&nbsp;initializer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407748">m</span>&nbsp;<span class="op" id="6407750">:=</span>&nbsp;<span class="keyword" id="6407753">func</span><span class="op" id="6407757">(</span><span class="ident" id="6407758">s</span>&nbsp;<span class="op" id="6407760">...</span><span class="builtintype" id="6407763">string</span><span class="op" id="6407769">)</span>&nbsp;<span class="keyword" id="6407771">map</span><span class="op" id="6407774">[</span><span class="builtintype" id="6407775">string</span><span class="op" id="6407781">]</span><span class="builtintype" id="6407782">string</span>&nbsp;<span class="op" id="6407789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407793">sm</span>&nbsp;<span class="op" id="6407796">:=</span>&nbsp;<span class="builtinfunc" id="6407799">make</span><span class="op" id="6407803">(</span><span class="keyword" id="6407804">map</span><span class="op" id="6407807">[</span><span class="builtintype" id="6407808">string</span><span class="op" id="6407814">]</span><span class="builtintype" id="6407815">string</span><span class="op" id="6407821">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6407825">for</span>&nbsp;<span class="ident" id="6407829">i</span>&nbsp;<span class="op" id="6407831">:=</span>&nbsp;<span class="num" id="6407834">0</span><span class="op" id="6407835">;</span>&nbsp;<span class="ident" id="6407837"><a href="/gostd/mime/mediatype_test.go.html#6407829">i</a></span>&nbsp;<span class="op" id="6407839">&lt;</span>&nbsp;<span class="builtinfunc" id="6407841">len</span><span class="op" id="6407844">(</span><span class="ident" id="6407845"><a href="/gostd/mime/mediatype_test.go.html#6407758">s</a></span><span class="op" id="6407846">)</span><span class="op" id="6407847">;</span>&nbsp;<span class="ident" id="6407849"><a href="/gostd/mime/mediatype_test.go.html#6407829">i</a></span>&nbsp;<span class="op" id="6407851">+=</span>&nbsp;<span class="num" id="6407854">2</span>&nbsp;<span class="op" id="6407856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407861"><a href="/gostd/mime/mediatype_test.go.html#6407793">sm</a></span><span class="op" id="6407863">[</span><span class="ident" id="6407864"><a href="/gostd/mime/mediatype_test.go.html#6407758">s</a></span><span class="op" id="6407865">[</span><span class="ident" id="6407866"><a href="/gostd/mime/mediatype_test.go.html#6407829">i</a></span><span class="op" id="6407867">]</span><span class="op" id="6407868">]</span>&nbsp;<span class="op" id="6407870">=</span>&nbsp;<span class="ident" id="6407872"><a href="/gostd/mime/mediatype_test.go.html#6407758">s</a></span><span class="op" id="6407873">[</span><span class="ident" id="6407874"><a href="/gostd/mime/mediatype_test.go.html#6407829">i</a></span><span class="op" id="6407875">+</span><span class="num" id="6407876">1</span><span class="op" id="6407877">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6407881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6407885">return</span>&nbsp;<span class="ident" id="6407892"><a href="/gostd/mime/mediatype_test.go.html#6407793">sm</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6407896">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407900">nameFoo</span>&nbsp;<span class="op" id="6407908">:=</span>&nbsp;<span class="keyword" id="6407911">map</span><span class="op" id="6407914">[</span><span class="builtintype" id="6407915">string</span><span class="op" id="6407921">]</span><span class="builtintype" id="6407922">string</span><span class="op" id="6407928">{</span><span class="string" id="6407929">&#34;name&#34;</span><span class="op" id="6407935">:</span>&nbsp;<span class="string" id="6407937">&#34;foo&#34;</span><span class="op" id="6407942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6407945">tests</span>&nbsp;<span class="op" id="6407951">:=</span>&nbsp;<span class="op" id="6407954">[</span><span class="op" id="6407955">]</span><span class="ident" id="6407956"><a href="/gostd/mime/mediatype_test.go.html#6407605">mediaTypeTest</a></span><span class="op" id="6407969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6407973">{</span><span class="string" id="6407974">`form-data;&nbsp;name=&#34;foo&#34;`</span><span class="op" id="6407997">,</span>&nbsp;<span class="string" id="6407999">&#34;form-data&#34;</span><span class="op" id="6408010">,</span>&nbsp;<span class="ident" id="6408012"><a href="/gostd/mime/mediatype_test.go.html#6407900">nameFoo</a></span><span class="op" id="6408019">}</span><span class="op" id="6408020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6408024">{</span><span class="string" id="6408025">`&nbsp;form-data&nbsp;;&nbsp;name=foo`</span><span class="op" id="6408048">,</span>&nbsp;<span class="string" id="6408050">&#34;form-data&#34;</span><span class="op" id="6408061">,</span>&nbsp;<span class="ident" id="6408063"><a href="/gostd/mime/mediatype_test.go.html#6407900">nameFoo</a></span><span class="op" id="6408070">}</span><span class="op" id="6408071">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6408075">{</span><span class="string" id="6408076">`FORM-DATA;name=&#34;foo&#34;`</span><span class="op" id="6408098">,</span>&nbsp;<span class="string" id="6408100">&#34;form-data&#34;</span><span class="op" id="6408111">,</span>&nbsp;<span class="ident" id="6408113"><a href="/gostd/mime/mediatype_test.go.html#6407900">nameFoo</a></span><span class="op" id="6408120">}</span><span class="op" id="6408121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6408125">{</span><span class="string" id="6408126">`&nbsp;FORM-DATA&nbsp;;&nbsp;name=&#34;foo&#34;`</span><span class="op" id="6408151">,</span>&nbsp;<span class="string" id="6408153">&#34;form-data&#34;</span><span class="op" id="6408164">,</span>&nbsp;<span class="ident" id="6408166"><a href="/gostd/mime/mediatype_test.go.html#6407900">nameFoo</a></span><span class="op" id="6408173">}</span><span class="op" id="6408174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6408178">{</span><span class="string" id="6408179">`&nbsp;FORM-DATA&nbsp;;&nbsp;name=&#34;foo&#34;`</span><span class="op" id="6408204">,</span>&nbsp;<span class="string" id="6408206">&#34;form-data&#34;</span><span class="op" id="6408217">,</span>&nbsp;<span class="ident" id="6408219"><a href="/gostd/mime/mediatype_test.go.html#6407900">nameFoo</a></span><span class="op" id="6408226">}</span><span class="op" id="6408227">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6408232">{</span><span class="string" id="6408233">`form-data;&nbsp;key=value;&nbsp;&nbsp;blah=&#34;value&#34;;name=&#34;foo&#34;&nbsp;`</span><span class="op" id="6408282">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6408287">&#34;form-data&#34;</span><span class="op" id="6408298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6408303"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6408304">(</span><span class="string" id="6408305">&#34;key&#34;</span><span class="op" id="6408310">,</span>&nbsp;<span class="string" id="6408312">&#34;value&#34;</span><span class="op" id="6408319">,</span>&nbsp;<span class="string" id="6408321">&#34;blah&#34;</span><span class="op" id="6408327">,</span>&nbsp;<span class="string" id="6408329">&#34;value&#34;</span><span class="op" id="6408336">,</span>&nbsp;<span class="string" id="6408338">&#34;name&#34;</span><span class="op" id="6408344">,</span>&nbsp;<span class="string" id="6408346">&#34;foo&#34;</span><span class="op" id="6408351">)</span><span class="op" id="6408352">}</span><span class="op" id="6408353">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6408358">{</span><span class="string" id="6408359">`foo;&nbsp;key=val1;&nbsp;key=the-key-appears-again-which-is-bogus`</span><span class="op" id="6408416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6408421">&#34;&#34;</span><span class="op" id="6408423">,</span>&nbsp;<span class="ident" id="6408425"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6408426">(</span><span class="op" id="6408427">)</span><span class="op" id="6408428">}</span><span class="op" id="6408429">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6408434">//&nbsp;From&nbsp;RFC&nbsp;2231:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6408454">{</span><span class="string" id="6408455">`application/x-stuff;&nbsp;title*=us-ascii&#39;en-us&#39;This%20is%20%2A%2A%2Afun%2A%2A%2A`</span><span class="op" id="6408533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6408538">&#34;application/x-stuff&#34;</span><span class="op" id="6408559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6408564"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6408565">(</span><span class="string" id="6408566">&#34;title&#34;</span><span class="op" id="6408573">,</span>&nbsp;<span class="string" id="6408575">&#34;This&nbsp;is&nbsp;***fun***&#34;</span><span class="op" id="6408594">)</span><span class="op" id="6408595">}</span><span class="op" id="6408596">,</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6408601">{</span><span class="string" id="6408602">`message/external-body;&nbsp;access-type=URL;&nbsp;`</span>&nbsp;<span class="op" id="6408645">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6408650">`URL*0=&#34;ftp://&#34;;`</span>&nbsp;<span class="op" id="6408668">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6408673">`URL*1=&#34;cs.utk.edu/pub/moore/bulk-mailer/bulk-mailer.tar&#34;`</span><span class="op" id="6408731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6408736">&#34;message/external-body&#34;</span><span class="op" id="6408759">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6408764"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6408765">(</span><span class="string" id="6408766">&#34;access-type&#34;</span><span class="op" id="6408779">,</span>&nbsp;<span class="string" id="6408781">&#34;URL&#34;</span><span class="op" id="6408786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6408792">&#34;url&#34;</span><span class="op" id="6408797">,</span>&nbsp;<span class="string" id="6408799">&#34;ftp://cs.utk.edu/pub/moore/bulk-mailer/bulk-mailer.tar&#34;</span><span class="op" id="6408855">)</span><span class="op" id="6408856">}</span><span class="op" id="6408857">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6408862">{</span><span class="string" id="6408863">`application/x-stuff;&nbsp;`</span>&nbsp;<span class="op" id="6408887">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6408892">`title*0*=us-ascii&#39;en&#39;This%20is%20even%20more%20;&nbsp;`</span>&nbsp;<span class="op" id="6408944">+</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6408949">`title*1*=%2A%2A%2Afun%2A%2A%2A%20;&nbsp;`</span>&nbsp;<span class="op" id="6408987">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6408992">`title*2=&#34;isn&#39;t&nbsp;it!&#34;`</span><span class="op" id="6409013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6409018">&#34;application/x-stuff&#34;</span><span class="op" id="6409039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6409044"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6409045">(</span><span class="string" id="6409046">&#34;title&#34;</span><span class="op" id="6409053">,</span>&nbsp;<span class="string" id="6409055">&#34;This&nbsp;is&nbsp;even&nbsp;more&nbsp;***fun***&nbsp;isn&#39;t&nbsp;it!&#34;</span><span class="op" id="6409094">)</span><span class="op" id="6409095">}</span><span class="op" id="6409096">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6409101">//&nbsp;Tests&nbsp;from&nbsp;http://greenbytes.de/tech/tc2231/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6409151">//&nbsp;TODO(bradfitz):&nbsp;add&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;tests&nbsp;from&nbsp;that&nbsp;site.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6409214">{</span><span class="string" id="6409215">`attachment;&nbsp;filename=&#34;f\oo.html&#34;`</span><span class="op" id="6409249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6409254">&#34;attachment&#34;</span><span class="op" id="6409266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6409271"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6409272">(</span><span class="string" id="6409273">&#34;filename&#34;</span><span class="op" id="6409283">,</span>&nbsp;<span class="string" id="6409285">&#34;foo.html&#34;</span><span class="op" id="6409295">)</span><span class="op" id="6409296">}</span><span class="op" id="6409297">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6409301">{</span><span class="string" id="6409302">`attachment;&nbsp;filename=&#34;\&#34;quoting\&#34;&nbsp;tested.html&#34;`</span><span class="op" id="6409350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6409355">&#34;attachment&#34;</span><span class="op" id="6409367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6409372"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6409373">(</span><span class="string" id="6409374">&#34;filename&#34;</span><span class="op" id="6409384">,</span>&nbsp;<span class="string" id="6409386">`&#34;quoting&#34;&nbsp;tested.html`</span><span class="op" id="6409409">)</span><span class="op" id="6409410">}</span><span class="op" id="6409411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6409415">{</span><span class="string" id="6409416">`attachment;&nbsp;filename=&#34;Here&#39;s&nbsp;a&nbsp;semicolon;.html&#34;`</span><span class="op" id="6409465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6409470">&#34;attachment&#34;</span><span class="op" id="6409482">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6409487"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6409488">(</span><span class="string" id="6409489">&#34;filename&#34;</span><span class="op" id="6409499">,</span>&nbsp;<span class="string" id="6409501">&#34;Here&#39;s&nbsp;a&nbsp;semicolon;.html&#34;</span><span class="op" id="6409527">)</span><span class="op" id="6409528">}</span><span class="op" id="6409529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6409533">{</span><span class="string" id="6409534">`attachment;&nbsp;foo=&#34;\&#34;\\&#34;;filename=&#34;foo.html&#34;`</span><span class="op" id="6409578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6409583">&#34;attachment&#34;</span><span class="op" id="6409595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6409600"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6409601">(</span><span class="string" id="6409602">&#34;foo&#34;</span><span class="op" id="6409607">,</span>&nbsp;<span class="string" id="6409609">&#34;\&#34;\\&#34;</span><span class="op" id="6409615">,</span>&nbsp;<span class="string" id="6409617">&#34;filename&#34;</span><span class="op" id="6409627">,</span>&nbsp;<span class="string" id="6409629">&#34;foo.html&#34;</span><span class="op" id="6409639">)</span><span class="op" id="6409640">}</span><span class="op" id="6409641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6409645">{</span><span class="string" id="6409646">`attachment;&nbsp;filename=foo.html`</span><span class="op" id="6409677">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6409682">&#34;attachment&#34;</span><span class="op" id="6409694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6409699"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6409700">(</span><span class="string" id="6409701">&#34;filename&#34;</span><span class="op" id="6409711">,</span>&nbsp;<span class="string" id="6409713">&#34;foo.html&#34;</span><span class="op" id="6409723">)</span><span class="op" id="6409724">}</span><span class="op" id="6409725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6409729">{</span><span class="string" id="6409730">`attachment;&nbsp;filename=foo.html&nbsp;;`</span><span class="op" id="6409763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6409768">&#34;attachment&#34;</span><span class="op" id="6409780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6409785"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6409786">(</span><span class="string" id="6409787">&#34;filename&#34;</span><span class="op" id="6409797">,</span>&nbsp;<span class="string" id="6409799">&#34;foo.html&#34;</span><span class="op" id="6409809">)</span><span class="op" id="6409810">}</span><span class="op" id="6409811">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6409815">{</span><span class="string" id="6409816">`attachment;&nbsp;filename=&#39;foo.html&#39;`</span><span class="op" id="6409849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6409854">&#34;attachment&#34;</span><span class="op" id="6409866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6409871"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6409872">(</span><span class="string" id="6409873">&#34;filename&#34;</span><span class="op" id="6409883">,</span>&nbsp;<span class="string" id="6409885">&#34;foo.html&#34;</span><span class="op" id="6409895">)</span><span class="op" id="6409896">}</span><span class="op" id="6409897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6409901">{</span><span class="string" id="6409902">`attachment;&nbsp;filename=&#34;foo-%41.html&#34;`</span><span class="op" id="6409939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6409944">&#34;attachment&#34;</span><span class="op" id="6409956">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6409961"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6409962">(</span><span class="string" id="6409963">&#34;filename&#34;</span><span class="op" id="6409973">,</span>&nbsp;<span class="string" id="6409975">&#34;foo-%41.html&#34;</span><span class="op" id="6409989">)</span><span class="op" id="6409990">}</span><span class="op" id="6409991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6409995">{</span><span class="string" id="6409996">`attachment;&nbsp;filename=&#34;foo-%\41.html&#34;`</span><span class="op" id="6410034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410039">&#34;attachment&#34;</span><span class="op" id="6410051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6410056"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410057">(</span><span class="string" id="6410058">&#34;filename&#34;</span><span class="op" id="6410068">,</span>&nbsp;<span class="string" id="6410070">&#34;foo-%41.html&#34;</span><span class="op" id="6410084">)</span><span class="op" id="6410085">}</span><span class="op" id="6410086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410090">{</span><span class="string" id="6410091">`filename=foo.html`</span><span class="op" id="6410110">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410115">&#34;&#34;</span><span class="op" id="6410117">,</span>&nbsp;<span class="ident" id="6410119"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410120">(</span><span class="op" id="6410121">)</span><span class="op" id="6410122">}</span><span class="op" id="6410123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410127">{</span><span class="string" id="6410128">`x=y;&nbsp;filename=foo.html`</span><span class="op" id="6410152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410157">&#34;&#34;</span><span class="op" id="6410159">,</span>&nbsp;<span class="ident" id="6410161"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410162">(</span><span class="op" id="6410163">)</span><span class="op" id="6410164">}</span><span class="op" id="6410165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410169">{</span><span class="string" id="6410170">`&#34;foo;&nbsp;filename=bar;baz&#34;;&nbsp;filename=qux`</span><span class="op" id="6410209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410214">&#34;&#34;</span><span class="op" id="6410216">,</span>&nbsp;<span class="ident" id="6410218"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410219">(</span><span class="op" id="6410220">)</span><span class="op" id="6410221">}</span><span class="op" id="6410222">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410226">{</span><span class="string" id="6410227">`inline;&nbsp;attachment;&nbsp;filename=foo.html`</span><span class="op" id="6410266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410271">&#34;&#34;</span><span class="op" id="6410273">,</span>&nbsp;<span class="ident" id="6410275"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410276">(</span><span class="op" id="6410277">)</span><span class="op" id="6410278">}</span><span class="op" id="6410279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410283">{</span><span class="string" id="6410284">`attachment;&nbsp;filename=&#34;foo.html&#34;.txt`</span><span class="op" id="6410321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410326">&#34;&#34;</span><span class="op" id="6410328">,</span>&nbsp;<span class="ident" id="6410330"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410331">(</span><span class="op" id="6410332">)</span><span class="op" id="6410333">}</span><span class="op" id="6410334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410338">{</span><span class="string" id="6410339">`attachment;&nbsp;filename=&#34;bar`</span><span class="op" id="6410366">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410371">&#34;&#34;</span><span class="op" id="6410373">,</span>&nbsp;<span class="ident" id="6410375"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410376">(</span><span class="op" id="6410377">)</span><span class="op" id="6410378">}</span><span class="op" id="6410379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410383">{</span><span class="string" id="6410384">`attachment;&nbsp;creation-date=&#34;Wed,&nbsp;12&nbsp;Feb&nbsp;1997&nbsp;16:29:51&nbsp;-0500&#34;`</span><span class="op" id="6410445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410450">&#34;attachment&#34;</span><span class="op" id="6410462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6410467"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410468">(</span><span class="string" id="6410469">&#34;creation-date&#34;</span><span class="op" id="6410484">,</span>&nbsp;<span class="string" id="6410486">&#34;Wed,&nbsp;12&nbsp;Feb&nbsp;1997&nbsp;16:29:51&nbsp;-0500&#34;</span><span class="op" id="6410519">)</span><span class="op" id="6410520">}</span><span class="op" id="6410521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410525">{</span><span class="string" id="6410526">`foobar`</span><span class="op" id="6410534">,</span>&nbsp;<span class="string" id="6410536">&#34;foobar&#34;</span><span class="op" id="6410544">,</span>&nbsp;<span class="ident" id="6410546"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410547">(</span><span class="op" id="6410548">)</span><span class="op" id="6410549">}</span><span class="op" id="6410550">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410554">{</span><span class="string" id="6410555">`attachment;&nbsp;filename*&nbsp;=UTF-8&#39;&#39;foo-%c3%a4.html`</span><span class="op" id="6410602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410607">&#34;attachment&#34;</span><span class="op" id="6410619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6410624"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410625">(</span><span class="string" id="6410626">&#34;filename&#34;</span><span class="op" id="6410636">,</span>&nbsp;<span class="string" id="6410638">&#34;foo-ä.html&#34;</span><span class="op" id="6410651">)</span><span class="op" id="6410652">}</span><span class="op" id="6410653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410657">{</span><span class="string" id="6410658">`attachment;&nbsp;filename*=UTF-8&#39;&#39;A-%2541.html`</span><span class="op" id="6410701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410706">&#34;attachment&#34;</span><span class="op" id="6410718">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6410723"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410724">(</span><span class="string" id="6410725">&#34;filename&#34;</span><span class="op" id="6410735">,</span>&nbsp;<span class="string" id="6410737">&#34;A-%41.html&#34;</span><span class="op" id="6410749">)</span><span class="op" id="6410750">}</span><span class="op" id="6410751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410755">{</span><span class="string" id="6410756">`attachment;&nbsp;filename*0=&#34;foo.&#34;;&nbsp;filename*1=&#34;html&#34;`</span><span class="op" id="6410806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410811">&#34;attachment&#34;</span><span class="op" id="6410823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6410828"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410829">(</span><span class="string" id="6410830">&#34;filename&#34;</span><span class="op" id="6410840">,</span>&nbsp;<span class="string" id="6410842">&#34;foo.html&#34;</span><span class="op" id="6410852">)</span><span class="op" id="6410853">}</span><span class="op" id="6410854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410858">{</span><span class="string" id="6410859">`attachment;&nbsp;filename*0*=UTF-8&#39;&#39;foo-%c3%a4;&nbsp;filename*1=&#34;.html&#34;`</span><span class="op" id="6410922">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6410927">&#34;attachment&#34;</span><span class="op" id="6410939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6410944"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6410945">(</span><span class="string" id="6410946">&#34;filename&#34;</span><span class="op" id="6410956">,</span>&nbsp;<span class="string" id="6410958">&#34;foo-ä.html&#34;</span><span class="op" id="6410971">)</span><span class="op" id="6410972">}</span><span class="op" id="6410973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6410977">{</span><span class="string" id="6410978">`attachment;&nbsp;filename*0=&#34;foo&#34;;&nbsp;filename*01=&#34;bar&#34;`</span><span class="op" id="6411027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6411032">&#34;attachment&#34;</span><span class="op" id="6411044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411049"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6411050">(</span><span class="string" id="6411051">&#34;filename&#34;</span><span class="op" id="6411061">,</span>&nbsp;<span class="string" id="6411063">&#34;foo&#34;</span><span class="op" id="6411068">)</span><span class="op" id="6411069">}</span><span class="op" id="6411070">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411074">{</span><span class="string" id="6411075">`attachment;&nbsp;filename*0=&#34;foo&#34;;&nbsp;filename*2=&#34;bar&#34;`</span><span class="op" id="6411123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6411128">&#34;attachment&#34;</span><span class="op" id="6411140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411145"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6411146">(</span><span class="string" id="6411147">&#34;filename&#34;</span><span class="op" id="6411157">,</span>&nbsp;<span class="string" id="6411159">&#34;foo&#34;</span><span class="op" id="6411164">)</span><span class="op" id="6411165">}</span><span class="op" id="6411166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411170">{</span><span class="string" id="6411171">`attachment;&nbsp;filename*1=&#34;foo&#34;;&nbsp;filename*2=&#34;bar&#34;`</span><span class="op" id="6411219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6411224">&#34;attachment&#34;</span><span class="op" id="6411236">,</span>&nbsp;<span class="ident" id="6411238"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6411239">(</span><span class="op" id="6411240">)</span><span class="op" id="6411241">}</span><span class="op" id="6411242">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411246">{</span><span class="string" id="6411247">`attachment;&nbsp;filename*1=&#34;bar&#34;;&nbsp;filename*0=&#34;foo&#34;`</span><span class="op" id="6411295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6411300">&#34;attachment&#34;</span><span class="op" id="6411312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411317"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6411318">(</span><span class="string" id="6411319">&#34;filename&#34;</span><span class="op" id="6411329">,</span>&nbsp;<span class="string" id="6411331">&#34;foobar&#34;</span><span class="op" id="6411339">)</span><span class="op" id="6411340">}</span><span class="op" id="6411341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411345">{</span><span class="string" id="6411346">`attachment;&nbsp;filename=&#34;foo-ae.html&#34;;&nbsp;filename*=UTF-8&#39;&#39;foo-%c3%a4.html`</span><span class="op" id="6411416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6411421">&#34;attachment&#34;</span><span class="op" id="6411433">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411438"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6411439">(</span><span class="string" id="6411440">&#34;filename&#34;</span><span class="op" id="6411450">,</span>&nbsp;<span class="string" id="6411452">&#34;foo-ä.html&#34;</span><span class="op" id="6411465">)</span><span class="op" id="6411466">}</span><span class="op" id="6411467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411471">{</span><span class="string" id="6411472">`attachment;&nbsp;filename*=UTF-8&#39;&#39;foo-%c3%a4.html;&nbsp;filename=&#34;foo-ae.html&#34;`</span><span class="op" id="6411542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6411547">&#34;attachment&#34;</span><span class="op" id="6411559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411564"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6411565">(</span><span class="string" id="6411566">&#34;filename&#34;</span><span class="op" id="6411576">,</span>&nbsp;<span class="string" id="6411578">&#34;foo-ä.html&#34;</span><span class="op" id="6411591">)</span><span class="op" id="6411592">}</span><span class="op" id="6411593">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6411598">//&nbsp;Browsers&nbsp;also&nbsp;just&nbsp;send&nbsp;UTF-8&nbsp;directly&nbsp;without&nbsp;RFC&nbsp;2231,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6411660">//&nbsp;at&nbsp;least&nbsp;when&nbsp;the&nbsp;source&nbsp;page&nbsp;is&nbsp;served&nbsp;with&nbsp;UTF-8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411717">{</span><span class="string" id="6411718">`form-data;&nbsp;firstname=&#34;Брэд&#34;;&nbsp;lastname=&#34;Фицпатрик&#34;`</span><span class="op" id="6411782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6411787">&#34;form-data&#34;</span><span class="op" id="6411798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411803"><a href="/gostd/mime/mediatype_test.go.html#6407748">m</a></span><span class="op" id="6411804">(</span><span class="string" id="6411805">&#34;firstname&#34;</span><span class="op" id="6411816">,</span>&nbsp;<span class="string" id="6411818">&#34;Брэд&#34;</span><span class="op" id="6411828">,</span>&nbsp;<span class="string" id="6411830">&#34;lastname&#34;</span><span class="op" id="6411840">,</span>&nbsp;<span class="string" id="6411842">&#34;Фицпатрик&#34;</span><span class="op" id="6411862">)</span><span class="op" id="6411863">}</span><span class="op" id="6411864">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6411870">for</span>&nbsp;<span class="ident" id="6411874">_</span><span class="op" id="6411875">,</span>&nbsp;<span class="ident" id="6411877">test</span>&nbsp;<span class="op" id="6411882">:=</span>&nbsp;<span class="keyword" id="6411885">range</span>&nbsp;<span class="ident" id="6411891"><a href="/gostd/mime/mediatype_test.go.html#6407945">tests</a></span>&nbsp;<span class="op" id="6411897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411901">mt</span><span class="op" id="6411903">,</span>&nbsp;<span class="ident" id="6411905">params</span><span class="op" id="6411911">,</span>&nbsp;<span class="ident" id="6411913">err</span>&nbsp;<span class="op" id="6411917">:=</span>&nbsp;<span class="ident" id="6411920"><a href="/gostd/mime/mediatype.go.html#4297159">ParseMediaType</a></span><span class="op" id="6411934">(</span><span class="ident" id="6411935"><a href="/gostd/mime/mediatype_test.go.html#6411877">test</a></span><span class="op" id="6411939">.</span><span class="ident" id="6411940"><a href="/gostd/mime/mediatype_test.go.html#6407629">in</a></span><span class="op" id="6411942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6411946">if</span>&nbsp;<span class="ident" id="6411949"><a href="/gostd/mime/mediatype_test.go.html#6411913">err</a></span>&nbsp;<span class="op" id="6411953">!=</span>&nbsp;<span class="builtintype" id="6411956">nil</span>&nbsp;<span class="op" id="6411960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6411965">if</span>&nbsp;<span class="ident" id="6411968"><a href="/gostd/mime/mediatype_test.go.html#6411877">test</a></span><span class="op" id="6411972">.</span><span class="ident" id="6411973"><a href="/gostd/mime/mediatype_test.go.html#6407640">t</a></span>&nbsp;<span class="op" id="6411975">!=</span>&nbsp;<span class="string" id="6411978">&#34;&#34;</span>&nbsp;<span class="op" id="6411981">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411987"><a href="/gostd/mime/mediatype_test.go.html#6407699">t</a></span><span class="op" id="6411988">.</span><span class="ident" id="6411989"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6411995">(</span><span class="string" id="6411996">&#34;for&nbsp;input&nbsp;%q,&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6412032">,</span>&nbsp;<span class="ident" id="6412034"><a href="/gostd/mime/mediatype_test.go.html#6411877">test</a></span><span class="op" id="6412038">.</span><span class="ident" id="6412039"><a href="/gostd/mime/mediatype_test.go.html#6407629">in</a></span><span class="op" id="6412041">,</span>&nbsp;<span class="ident" id="6412043"><a href="/gostd/mime/mediatype_test.go.html#6411913">err</a></span><span class="op" id="6412046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412052">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412069">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412080">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412084">if</span>&nbsp;<span class="ident" id="6412087">g</span><span class="op" id="6412088">,</span>&nbsp;<span class="ident" id="6412090">e</span>&nbsp;<span class="op" id="6412092">:=</span>&nbsp;<span class="ident" id="6412095"><a href="/gostd/mime/mediatype_test.go.html#6411901">mt</a></span><span class="op" id="6412097">,</span>&nbsp;<span class="ident" id="6412099"><a href="/gostd/mime/mediatype_test.go.html#6411877">test</a></span><span class="op" id="6412103">.</span><span class="ident" id="6412104"><a href="/gostd/mime/mediatype_test.go.html#6407640">t</a></span><span class="op" id="6412105">;</span>&nbsp;<span class="ident" id="6412107"><a href="/gostd/mime/mediatype_test.go.html#6412087">g</a></span>&nbsp;<span class="op" id="6412109">!=</span>&nbsp;<span class="ident" id="6412112"><a href="/gostd/mime/mediatype_test.go.html#6412090">e</a></span>&nbsp;<span class="op" id="6412114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412119"><a href="/gostd/mime/mediatype_test.go.html#6407699">t</a></span><span class="op" id="6412120">.</span><span class="ident" id="6412121"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6412127">(</span><span class="string" id="6412128">&#34;for&nbsp;input&nbsp;%q,&nbsp;expected&nbsp;type&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6412168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412174"><a href="/gostd/mime/mediatype_test.go.html#6411877">test</a></span><span class="op" id="6412178">.</span><span class="ident" id="6412179"><a href="/gostd/mime/mediatype_test.go.html#6407629">in</a></span><span class="op" id="6412181">,</span>&nbsp;<span class="ident" id="6412183"><a href="/gostd/mime/mediatype_test.go.html#6412090">e</a></span><span class="op" id="6412184">,</span>&nbsp;<span class="ident" id="6412186"><a href="/gostd/mime/mediatype_test.go.html#6412087">g</a></span><span class="op" id="6412187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412192">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412203">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412207">if</span>&nbsp;<span class="builtinfunc" id="6412210">len</span><span class="op" id="6412213">(</span><span class="ident" id="6412214"><a href="/gostd/mime/mediatype_test.go.html#6411905">params</a></span><span class="op" id="6412220">)</span>&nbsp;<span class="op" id="6412222">==</span>&nbsp;<span class="num" id="6412225">0</span>&nbsp;<span class="op" id="6412227">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6412230">len</span><span class="op" id="6412233">(</span><span class="ident" id="6412234"><a href="/gostd/mime/mediatype_test.go.html#6411877">test</a></span><span class="op" id="6412238">.</span><span class="ident" id="6412239"><a href="/gostd/mime/mediatype_test.go.html#6407651">p</a></span><span class="op" id="6412240">)</span>&nbsp;<span class="op" id="6412242">==</span>&nbsp;<span class="num" id="6412245">0</span>&nbsp;<span class="op" id="6412247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412252">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412267">if</span>&nbsp;<span class="op" id="6412270">!</span><span class="ident" id="6412271"><a href="/gostd/mime/mediatype_test.go.html#6405025">reflect</a></span><span class="op" id="6412278">.</span><span class="ident" id="6412279"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="6412288">(</span><span class="ident" id="6412289"><a href="/gostd/mime/mediatype_test.go.html#6411905">params</a></span><span class="op" id="6412295">,</span>&nbsp;<span class="ident" id="6412297"><a href="/gostd/mime/mediatype_test.go.html#6411877">test</a></span><span class="op" id="6412301">.</span><span class="ident" id="6412302"><a href="/gostd/mime/mediatype_test.go.html#6407651">p</a></span><span class="op" id="6412303">)</span>&nbsp;<span class="op" id="6412305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412310"><a href="/gostd/mime/mediatype_test.go.html#6407699">t</a></span><span class="op" id="6412311">.</span><span class="ident" id="6412312"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6412318">(</span><span class="string" id="6412319">&#34;for&nbsp;input&nbsp;%q,&nbsp;wrong&nbsp;params.\n&#34;</span><span class="op" id="6412350">+</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6412356">&#34;expected:&nbsp;%#v\n&#34;</span><span class="op" id="6412373">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6412379">&#34;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;got:&nbsp;%#v&#34;</span><span class="op" id="6412394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412400"><a href="/gostd/mime/mediatype_test.go.html#6411877">test</a></span><span class="op" id="6412404">.</span><span class="ident" id="6412405"><a href="/gostd/mime/mediatype_test.go.html#6407629">in</a></span><span class="op" id="6412407">,</span>&nbsp;<span class="ident" id="6412409"><a href="/gostd/mime/mediatype_test.go.html#6411877">test</a></span><span class="op" id="6412413">.</span><span class="ident" id="6412414"><a href="/gostd/mime/mediatype_test.go.html#6407651">p</a></span><span class="op" id="6412415">,</span>&nbsp;<span class="ident" id="6412417"><a href="/gostd/mime/mediatype_test.go.html#6411905">params</a></span><span class="op" id="6412423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412430">}</span><br>
<span class="lineno">245</span><span class="op" id="6412432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6412435">type</span>&nbsp;<span class="ident" id="6412440">badMediaTypeTest</span>&nbsp;<span class="keyword" id="6412457">struct</span>&nbsp;<span class="op" id="6412464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412467">in</span>&nbsp;&nbsp;<span class="builtintype" id="6412471">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412479">err</span>&nbsp;<span class="builtintype" id="6412483">string</span><br>
<span class="lineno">250</span><span class="op" id="6412490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6412493">var</span>&nbsp;<span class="ident" id="6412497">badMediaTypeTests</span>&nbsp;<span class="op" id="6412515">=</span>&nbsp;<span class="op" id="6412517">[</span><span class="op" id="6412518">]</span><span class="ident" id="6412519"><a href="/gostd/mime/mediatype_test.go.html#6412440">badMediaTypeTest</a></span><span class="op" id="6412535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412538">{</span><span class="string" id="6412539">&#34;bogus&nbsp;;=========&#34;</span><span class="op" id="6412557">,</span>&nbsp;<span class="string" id="6412559">&#34;mime:&nbsp;invalid&nbsp;media&nbsp;parameter&#34;</span><span class="op" id="6412590">}</span><span class="op" id="6412591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412594">{</span><span class="string" id="6412595">&#34;bogus/&lt;script&gt;alert&lt;/script&gt;&#34;</span><span class="op" id="6412625">,</span>&nbsp;<span class="string" id="6412627">&#34;mime:&nbsp;expected&nbsp;token&nbsp;after&nbsp;slash&#34;</span><span class="op" id="6412661">}</span><span class="op" id="6412662">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412665">{</span><span class="string" id="6412666">&#34;bogus/bogus&lt;script&gt;alert&lt;/script&gt;&#34;</span><span class="op" id="6412701">,</span>&nbsp;<span class="string" id="6412703">&#34;mime:&nbsp;unexpected&nbsp;content&nbsp;after&nbsp;media&nbsp;subtype&#34;</span><span class="op" id="6412749">}</span><span class="op" id="6412750">,</span><br>
<span class="lineno"></span><span class="op" id="6412752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6412755">func</span>&nbsp;<span class="ident" id="6412760">TestParseMediaTypeBogus</span><span class="op" id="6412783">(</span><span class="ident" id="6412784">t</span>&nbsp;<span class="op" id="6412786">*</span><span class="ident" id="6412787"><a href="/gostd/mime/mediatype_test.go.html#6405036">testing</a></span><span class="op" id="6412794">.</span><span class="ident" id="6412795"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6412796">)</span>&nbsp;<span class="op" id="6412798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412801">for</span>&nbsp;<span class="ident" id="6412805">_</span><span class="op" id="6412806">,</span>&nbsp;<span class="ident" id="6412808">tt</span>&nbsp;<span class="op" id="6412811">:=</span>&nbsp;<span class="keyword" id="6412814">range</span>&nbsp;<span class="ident" id="6412820"><a href="/gostd/mime/mediatype_test.go.html#6412497">badMediaTypeTests</a></span>&nbsp;<span class="op" id="6412838">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412842">mt</span><span class="op" id="6412844">,</span>&nbsp;<span class="ident" id="6412846">params</span><span class="op" id="6412852">,</span>&nbsp;<span class="ident" id="6412854">err</span>&nbsp;<span class="op" id="6412858">:=</span>&nbsp;<span class="ident" id="6412861"><a href="/gostd/mime/mediatype.go.html#4297159">ParseMediaType</a></span><span class="op" id="6412875">(</span><span class="ident" id="6412876"><a href="/gostd/mime/mediatype_test.go.html#6412808">tt</a></span><span class="op" id="6412878">.</span><span class="ident" id="6412879"><a href="/gostd/mime/mediatype_test.go.html#6412467">in</a></span><span class="op" id="6412881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412885">if</span>&nbsp;<span class="ident" id="6412888"><a href="/gostd/mime/mediatype_test.go.html#6412854">err</a></span>&nbsp;<span class="op" id="6412892">==</span>&nbsp;<span class="builtintype" id="6412895">nil</span>&nbsp;<span class="op" id="6412899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412904"><a href="/gostd/mime/mediatype_test.go.html#6412784">t</a></span><span class="op" id="6412905">.</span><span class="ident" id="6412906"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6412912">(</span><span class="string" id="6412913">&#34;ParseMediaType(%q)&nbsp;=&nbsp;nil&nbsp;error;&nbsp;want&nbsp;parse&nbsp;error&#34;</span><span class="op" id="6412963">,</span>&nbsp;<span class="ident" id="6412965"><a href="/gostd/mime/mediatype_test.go.html#6412808">tt</a></span><span class="op" id="6412967">.</span><span class="ident" id="6412968"><a href="/gostd/mime/mediatype_test.go.html#6412467">in</a></span><span class="op" id="6412970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412975">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412986">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412990">if</span>&nbsp;<span class="ident" id="6412993"><a href="/gostd/mime/mediatype_test.go.html#6412854">err</a></span><span class="op" id="6412996">.</span><span class="ident" id="6412997">Error</span><span class="op" id="6413002">(</span><span class="op" id="6413003">)</span>&nbsp;<span class="op" id="6413005">!=</span>&nbsp;<span class="ident" id="6413008"><a href="/gostd/mime/mediatype_test.go.html#6412808">tt</a></span><span class="op" id="6413010">.</span><span class="ident" id="6413011"><a href="/gostd/mime/mediatype_test.go.html#6412479">err</a></span>&nbsp;<span class="op" id="6413015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413020"><a href="/gostd/mime/mediatype_test.go.html#6412784">t</a></span><span class="op" id="6413021">.</span><span class="ident" id="6413022"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6413028">(</span><span class="string" id="6413029">&#34;ParseMediaType(%q)&nbsp;=&nbsp;err&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6413067">,</span>&nbsp;<span class="ident" id="6413069"><a href="/gostd/mime/mediatype_test.go.html#6412808">tt</a></span><span class="op" id="6413071">.</span><span class="ident" id="6413072"><a href="/gostd/mime/mediatype_test.go.html#6412467">in</a></span><span class="op" id="6413074">,</span>&nbsp;<span class="ident" id="6413076"><a href="/gostd/mime/mediatype_test.go.html#6412854">err</a></span><span class="op" id="6413079">.</span><span class="ident" id="6413080">Error</span><span class="op" id="6413085">(</span><span class="op" id="6413086">)</span><span class="op" id="6413087">,</span>&nbsp;<span class="ident" id="6413089"><a href="/gostd/mime/mediatype_test.go.html#6412808">tt</a></span><span class="op" id="6413091">.</span><span class="ident" id="6413092"><a href="/gostd/mime/mediatype_test.go.html#6412479">err</a></span><span class="op" id="6413095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6413103">if</span>&nbsp;<span class="ident" id="6413106"><a href="/gostd/mime/mediatype_test.go.html#6412846">params</a></span>&nbsp;<span class="op" id="6413113">!=</span>&nbsp;<span class="builtintype" id="6413116">nil</span>&nbsp;<span class="op" id="6413120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413125"><a href="/gostd/mime/mediatype_test.go.html#6412784">t</a></span><span class="op" id="6413126">.</span><span class="ident" id="6413127"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6413133">(</span><span class="string" id="6413134">&#34;ParseMediaType(%q):&nbsp;got&nbsp;non-nil&nbsp;params&nbsp;on&nbsp;error&#34;</span><span class="op" id="6413183">,</span>&nbsp;<span class="ident" id="6413185"><a href="/gostd/mime/mediatype_test.go.html#6412808">tt</a></span><span class="op" id="6413187">.</span><span class="ident" id="6413188"><a href="/gostd/mime/mediatype_test.go.html#6412467">in</a></span><span class="op" id="6413190">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6413198">if</span>&nbsp;<span class="ident" id="6413201"><a href="/gostd/mime/mediatype_test.go.html#6412842">mt</a></span>&nbsp;<span class="op" id="6413204">!=</span>&nbsp;<span class="string" id="6413207">&#34;&#34;</span>&nbsp;<span class="op" id="6413210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413215"><a href="/gostd/mime/mediatype_test.go.html#6412784">t</a></span><span class="op" id="6413216">.</span><span class="ident" id="6413217"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6413223">(</span><span class="string" id="6413224">&#34;ParseMediaType(%q):&nbsp;got&nbsp;non-empty&nbsp;media&nbsp;type&nbsp;string&nbsp;on&nbsp;error&#34;</span><span class="op" id="6413286">,</span>&nbsp;<span class="ident" id="6413288"><a href="/gostd/mime/mediatype_test.go.html#6412808">tt</a></span><span class="op" id="6413290">.</span><span class="ident" id="6413291"><a href="/gostd/mime/mediatype_test.go.html#6412467">in</a></span><span class="op" id="6413293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413300">}</span><br>
<span class="lineno">275</span><span class="op" id="6413302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6413305">type</span>&nbsp;<span class="ident" id="6413310">formatTest</span>&nbsp;<span class="keyword" id="6413321">struct</span>&nbsp;<span class="op" id="6413328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413331">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6413338">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413346">params</span>&nbsp;<span class="keyword" id="6413353">map</span><span class="op" id="6413356">[</span><span class="builtintype" id="6413357">string</span><span class="op" id="6413363">]</span><span class="builtintype" id="6413364">string</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413372">want</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6413379">string</span><br>
<span class="lineno"></span><span class="op" id="6413386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6413389">var</span>&nbsp;<span class="ident" id="6413393">formatTests</span>&nbsp;<span class="op" id="6413405">=</span>&nbsp;<span class="op" id="6413407">[</span><span class="op" id="6413408">]</span><span class="ident" id="6413409"><a href="/gostd/mime/mediatype_test.go.html#6413310">formatTest</a></span><span class="op" id="6413419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413422">{</span><span class="string" id="6413423">&#34;noslash&#34;</span><span class="op" id="6413432">,</span>&nbsp;<span class="builtintype" id="6413434">nil</span><span class="op" id="6413437">,</span>&nbsp;<span class="string" id="6413439">&#34;&#34;</span><span class="op" id="6413441">}</span><span class="op" id="6413442">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413445">{</span><span class="string" id="6413446">&#34;foo&nbsp;bar/baz&#34;</span><span class="op" id="6413459">,</span>&nbsp;<span class="builtintype" id="6413461">nil</span><span class="op" id="6413464">,</span>&nbsp;<span class="string" id="6413466">&#34;&#34;</span><span class="op" id="6413468">}</span><span class="op" id="6413469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413472">{</span><span class="string" id="6413473">&#34;foo/bar&nbsp;baz&#34;</span><span class="op" id="6413486">,</span>&nbsp;<span class="builtintype" id="6413488">nil</span><span class="op" id="6413491">,</span>&nbsp;<span class="string" id="6413493">&#34;&#34;</span><span class="op" id="6413495">}</span><span class="op" id="6413496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413499">{</span><span class="string" id="6413500">&#34;foo/BAR&#34;</span><span class="op" id="6413509">,</span>&nbsp;<span class="builtintype" id="6413511">nil</span><span class="op" id="6413514">,</span>&nbsp;<span class="string" id="6413516">&#34;foo/bar&#34;</span><span class="op" id="6413525">}</span><span class="op" id="6413526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413529">{</span><span class="string" id="6413530">&#34;foo/BAR&#34;</span><span class="op" id="6413539">,</span>&nbsp;<span class="keyword" id="6413541">map</span><span class="op" id="6413544">[</span><span class="builtintype" id="6413545">string</span><span class="op" id="6413551">]</span><span class="builtintype" id="6413552">string</span><span class="op" id="6413558">{</span><span class="string" id="6413559">&#34;X&#34;</span><span class="op" id="6413562">:</span>&nbsp;<span class="string" id="6413564">&#34;Y&#34;</span><span class="op" id="6413567">}</span><span class="op" id="6413568">,</span>&nbsp;<span class="string" id="6413570">&#34;foo/bar;&nbsp;x=Y&#34;</span><span class="op" id="6413584">}</span><span class="op" id="6413585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413588">{</span><span class="string" id="6413589">&#34;foo/BAR&#34;</span><span class="op" id="6413598">,</span>&nbsp;<span class="keyword" id="6413600">map</span><span class="op" id="6413603">[</span><span class="builtintype" id="6413604">string</span><span class="op" id="6413610">]</span><span class="builtintype" id="6413611">string</span><span class="op" id="6413617">{</span><span class="string" id="6413618">&#34;space&#34;</span><span class="op" id="6413625">:</span>&nbsp;<span class="string" id="6413627">&#34;With&nbsp;space&#34;</span><span class="op" id="6413639">}</span><span class="op" id="6413640">,</span>&nbsp;<span class="string" id="6413642">`foo/bar;&nbsp;space=&#34;With&nbsp;space&#34;`</span><span class="op" id="6413671">}</span><span class="op" id="6413672">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413675">{</span><span class="string" id="6413676">&#34;foo/BAR&#34;</span><span class="op" id="6413685">,</span>&nbsp;<span class="keyword" id="6413687">map</span><span class="op" id="6413690">[</span><span class="builtintype" id="6413691">string</span><span class="op" id="6413697">]</span><span class="builtintype" id="6413698">string</span><span class="op" id="6413704">{</span><span class="string" id="6413705">&#34;quote&#34;</span><span class="op" id="6413712">:</span>&nbsp;<span class="string" id="6413714">`With&nbsp;&#34;quote`</span><span class="op" id="6413727">}</span><span class="op" id="6413728">,</span>&nbsp;<span class="string" id="6413730">`foo/bar;&nbsp;quote=&#34;With&nbsp;\&#34;quote&#34;`</span><span class="op" id="6413761">}</span><span class="op" id="6413762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413765">{</span><span class="string" id="6413766">&#34;foo/BAR&#34;</span><span class="op" id="6413775">,</span>&nbsp;<span class="keyword" id="6413777">map</span><span class="op" id="6413780">[</span><span class="builtintype" id="6413781">string</span><span class="op" id="6413787">]</span><span class="builtintype" id="6413788">string</span><span class="op" id="6413794">{</span><span class="string" id="6413795">&#34;bslash&#34;</span><span class="op" id="6413803">:</span>&nbsp;<span class="string" id="6413805">`With&nbsp;\backslash`</span><span class="op" id="6413822">}</span><span class="op" id="6413823">,</span>&nbsp;<span class="string" id="6413825">`foo/bar;&nbsp;bslash=&#34;With&nbsp;\\backslash&#34;`</span><span class="op" id="6413861">}</span><span class="op" id="6413862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413865">{</span><span class="string" id="6413866">&#34;foo/BAR&#34;</span><span class="op" id="6413875">,</span>&nbsp;<span class="keyword" id="6413877">map</span><span class="op" id="6413880">[</span><span class="builtintype" id="6413881">string</span><span class="op" id="6413887">]</span><span class="builtintype" id="6413888">string</span><span class="op" id="6413894">{</span><span class="string" id="6413895">&#34;both&#34;</span><span class="op" id="6413901">:</span>&nbsp;<span class="string" id="6413903">`With&nbsp;\backslash&nbsp;and&nbsp;&#34;quote`</span><span class="op" id="6413931">}</span><span class="op" id="6413932">,</span>&nbsp;<span class="string" id="6413934">`foo/bar;&nbsp;both=&#34;With&nbsp;\\backslash&nbsp;and&nbsp;\&#34;quote&#34;`</span><span class="op" id="6413980">}</span><span class="op" id="6413981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413984">{</span><span class="string" id="6413985">&#34;foo/BAR&#34;</span><span class="op" id="6413994">,</span>&nbsp;<span class="keyword" id="6413996">map</span><span class="op" id="6413999">[</span><span class="builtintype" id="6414000">string</span><span class="op" id="6414006">]</span><span class="builtintype" id="6414007">string</span><span class="op" id="6414013">{</span><span class="string" id="6414014">&#34;&#34;</span><span class="op" id="6414016">:</span>&nbsp;<span class="string" id="6414018">&#34;empty&nbsp;attribute&#34;</span><span class="op" id="6414035">}</span><span class="op" id="6414036">,</span>&nbsp;<span class="string" id="6414038">&#34;&#34;</span><span class="op" id="6414040">}</span><span class="op" id="6414041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6414044">{</span><span class="string" id="6414045">&#34;foo/BAR&#34;</span><span class="op" id="6414054">,</span>&nbsp;<span class="keyword" id="6414056">map</span><span class="op" id="6414059">[</span><span class="builtintype" id="6414060">string</span><span class="op" id="6414066">]</span><span class="builtintype" id="6414067">string</span><span class="op" id="6414073">{</span><span class="string" id="6414074">&#34;bad&nbsp;attribute&#34;</span><span class="op" id="6414089">:</span>&nbsp;<span class="string" id="6414091">&#34;baz&#34;</span><span class="op" id="6414096">}</span><span class="op" id="6414097">,</span>&nbsp;<span class="string" id="6414099">&#34;&#34;</span><span class="op" id="6414101">}</span><span class="op" id="6414102">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6414105">{</span><span class="string" id="6414106">&#34;foo/BAR&#34;</span><span class="op" id="6414115">,</span>&nbsp;<span class="keyword" id="6414117">map</span><span class="op" id="6414120">[</span><span class="builtintype" id="6414121">string</span><span class="op" id="6414127">]</span><span class="builtintype" id="6414128">string</span><span class="op" id="6414134">{</span><span class="string" id="6414135">&#34;nonascii&#34;</span><span class="op" id="6414145">:</span>&nbsp;<span class="string" id="6414147">&#34;not&nbsp;an&nbsp;ascii&nbsp;character:&nbsp;ä&#34;</span><span class="op" id="6414175">}</span><span class="op" id="6414176">,</span>&nbsp;<span class="string" id="6414178">&#34;&#34;</span><span class="op" id="6414180">}</span><span class="op" id="6414181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6414184">{</span><span class="string" id="6414185">&#34;foo/bar&#34;</span><span class="op" id="6414194">,</span>&nbsp;<span class="keyword" id="6414196">map</span><span class="op" id="6414199">[</span><span class="builtintype" id="6414200">string</span><span class="op" id="6414206">]</span><span class="builtintype" id="6414207">string</span><span class="op" id="6414213">{</span><span class="string" id="6414214">&#34;a&#34;</span><span class="op" id="6414217">:</span>&nbsp;<span class="string" id="6414219">&#34;av&#34;</span><span class="op" id="6414223">,</span>&nbsp;<span class="string" id="6414225">&#34;b&#34;</span><span class="op" id="6414228">:</span>&nbsp;<span class="string" id="6414230">&#34;bv&#34;</span><span class="op" id="6414234">,</span>&nbsp;<span class="string" id="6414236">&#34;c&#34;</span><span class="op" id="6414239">:</span>&nbsp;<span class="string" id="6414241">&#34;cv&#34;</span><span class="op" id="6414245">}</span><span class="op" id="6414246">,</span>&nbsp;<span class="string" id="6414248">&#34;foo/bar;&nbsp;a=av;&nbsp;b=bv;&nbsp;c=cv&#34;</span><span class="op" id="6414275">}</span><span class="op" id="6414276">,</span><br>
<span class="lineno"></span><span class="op" id="6414278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6414281">func</span>&nbsp;<span class="ident" id="6414286">TestFormatMediaType</span><span class="op" id="6414305">(</span><span class="ident" id="6414306">t</span>&nbsp;<span class="op" id="6414308">*</span><span class="ident" id="6414309"><a href="/gostd/mime/mediatype_test.go.html#6405036">testing</a></span><span class="op" id="6414316">.</span><span class="ident" id="6414317"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6414318">)</span>&nbsp;<span class="op" id="6414320">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6414323">for</span>&nbsp;<span class="ident" id="6414327">i</span><span class="op" id="6414328">,</span>&nbsp;<span class="ident" id="6414330">tt</span>&nbsp;<span class="op" id="6414333">:=</span>&nbsp;<span class="keyword" id="6414336">range</span>&nbsp;<span class="ident" id="6414342"><a href="/gostd/mime/mediatype_test.go.html#6413393">formatTests</a></span>&nbsp;<span class="op" id="6414354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6414358">got</span>&nbsp;<span class="op" id="6414362">:=</span>&nbsp;<span class="ident" id="6414365"><a href="/gostd/mime/mediatype.go.html#4295186">FormatMediaType</a></span><span class="op" id="6414380">(</span><span class="ident" id="6414381"><a href="/gostd/mime/mediatype_test.go.html#6414330">tt</a></span><span class="op" id="6414383">.</span><span class="ident" id="6414384"><a href="/gostd/mime/mediatype_test.go.html#6413331">typ</a></span><span class="op" id="6414387">,</span>&nbsp;<span class="ident" id="6414389"><a href="/gostd/mime/mediatype_test.go.html#6414330">tt</a></span><span class="op" id="6414391">.</span><span class="ident" id="6414392"><a href="/gostd/mime/mediatype_test.go.html#6413346">params</a></span><span class="op" id="6414398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6414402">if</span>&nbsp;<span class="ident" id="6414405"><a href="/gostd/mime/mediatype_test.go.html#6414358">got</a></span>&nbsp;<span class="op" id="6414409">!=</span>&nbsp;<span class="ident" id="6414412"><a href="/gostd/mime/mediatype_test.go.html#6414330">tt</a></span><span class="op" id="6414414">.</span><span class="ident" id="6414415"><a href="/gostd/mime/mediatype_test.go.html#6413372">want</a></span>&nbsp;<span class="op" id="6414420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6414425"><a href="/gostd/mime/mediatype_test.go.html#6414306">t</a></span><span class="op" id="6414426">.</span><span class="ident" id="6414427"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6414433">(</span><span class="string" id="6414434">&#34;%d.&nbsp;FormatMediaType(%q,&nbsp;%v)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6414477">,</span>&nbsp;<span class="ident" id="6414479"><a href="/gostd/mime/mediatype_test.go.html#6414327">i</a></span><span class="op" id="6414480">,</span>&nbsp;<span class="ident" id="6414482"><a href="/gostd/mime/mediatype_test.go.html#6414330">tt</a></span><span class="op" id="6414484">.</span><span class="ident" id="6414485"><a href="/gostd/mime/mediatype_test.go.html#6413331">typ</a></span><span class="op" id="6414488">,</span>&nbsp;<span class="ident" id="6414490"><a href="/gostd/mime/mediatype_test.go.html#6414330">tt</a></span><span class="op" id="6414492">.</span><span class="ident" id="6414493"><a href="/gostd/mime/mediatype_test.go.html#6413346">params</a></span><span class="op" id="6414499">,</span>&nbsp;<span class="ident" id="6414501"><a href="/gostd/mime/mediatype_test.go.html#6414358">got</a></span><span class="op" id="6414504">,</span>&nbsp;<span class="ident" id="6414506"><a href="/gostd/mime/mediatype_test.go.html#6414330">tt</a></span><span class="op" id="6414508">.</span><span class="ident" id="6414509"><a href="/gostd/mime/mediatype_test.go.html#6413372">want</a></span><span class="op" id="6414513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6414517">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6414520">}</span><br>
<span class="lineno"></span><span class="op" id="6414522">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
