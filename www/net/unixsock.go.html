<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3471168">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3471224">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3471278">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3471329">package</span>&nbsp;<span class="ident" id="3471337">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3471342">//&nbsp;UnixAddr&nbsp;represents&nbsp;the&nbsp;address&nbsp;of&nbsp;a&nbsp;Unix&nbsp;domain&nbsp;socket&nbsp;end&nbsp;point.</span><br>
<span class="lineno"></span><span class="keyword" id="3471412">type</span>&nbsp;<span class="ident" id="3471417">UnixAddr</span>&nbsp;<span class="keyword" id="3471426">struct</span>&nbsp;<span class="op" id="3471433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3471436">Name</span>&nbsp;<span class="builtintype" id="3471441">string</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3471449">Net</span>&nbsp;&nbsp;<span class="builtintype" id="3471454">string</span><br>
<span class="lineno"></span><span class="op" id="3471461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3471464">//&nbsp;Network&nbsp;returns&nbsp;the&nbsp;address&#39;s&nbsp;network&nbsp;name,&nbsp;&#34;unix&#34;,&nbsp;&#34;unixgram&#34;&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3471533">//&nbsp;&#34;unixpacket&#34;.</span><br>
<span class="lineno">15</span><span class="keyword" id="3471550">func</span>&nbsp;<span class="op" id="3471555">(</span><span class="ident" id="3471556">a</span>&nbsp;<span class="op" id="3471558">*</span><span class="ident" id="3471559">UnixAddr</span><span class="op" id="3471567">)</span>&nbsp;<span class="ident" id="3471569">Network</span><span class="op" id="3471576">(</span><span class="op" id="3471577">)</span>&nbsp;<span class="builtintype" id="3471579">string</span>&nbsp;<span class="op" id="3471586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3471589">return</span>&nbsp;<span class="ident" id="3471596">a</span><span class="op" id="3471597">.</span><span class="ident" id="3471598">Net</span><br>
<span class="lineno"></span><span class="op" id="3471602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3471605">func</span>&nbsp;<span class="op" id="3471610">(</span><span class="ident" id="3471611">a</span>&nbsp;<span class="op" id="3471613">*</span><span class="ident" id="3471614">UnixAddr</span><span class="op" id="3471622">)</span>&nbsp;<span class="ident" id="3471624">String</span><span class="op" id="3471630">(</span><span class="op" id="3471631">)</span>&nbsp;<span class="builtintype" id="3471633">string</span>&nbsp;<span class="op" id="3471640">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3471643">if</span>&nbsp;<span class="ident" id="3471646">a</span>&nbsp;<span class="op" id="3471648">==</span>&nbsp;<span class="ident" id="3471651">nil</span>&nbsp;<span class="op" id="3471655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3471659">return</span>&nbsp;<span class="string" id="3471666">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3471675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3471678">return</span>&nbsp;<span class="ident" id="3471685">a</span><span class="op" id="3471686">.</span><span class="ident" id="3471687">Name</span><br>
<span class="lineno"></span><span class="op" id="3471692">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3471695">func</span>&nbsp;<span class="op" id="3471700">(</span><span class="ident" id="3471701">a</span>&nbsp;<span class="op" id="3471703">*</span><span class="ident" id="3471704">UnixAddr</span><span class="op" id="3471712">)</span>&nbsp;<span class="ident" id="3471714">toAddr</span><span class="op" id="3471720">(</span><span class="op" id="3471721">)</span>&nbsp;<span class="ident" id="3471723">Addr</span>&nbsp;<span class="op" id="3471728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3471731">if</span>&nbsp;<span class="ident" id="3471734">a</span>&nbsp;<span class="op" id="3471736">==</span>&nbsp;<span class="ident" id="3471739">nil</span>&nbsp;<span class="op" id="3471743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3471747">return</span>&nbsp;<span class="ident" id="3471754">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3471759">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3471762">return</span>&nbsp;<span class="ident" id="3471769">a</span><br>
<span class="lineno"></span><span class="op" id="3471771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3471774">//&nbsp;ResolveUnixAddr&nbsp;parses&nbsp;addr&nbsp;as&nbsp;a&nbsp;Unix&nbsp;domain&nbsp;socket&nbsp;address.</span><br>
<span class="lineno"></span><span class="comment" id="3471838">//&nbsp;The&nbsp;string&nbsp;net&nbsp;gives&nbsp;the&nbsp;network&nbsp;name,&nbsp;&#34;unix&#34;,&nbsp;&#34;unixgram&#34;&nbsp;or</span><br>
<span class="lineno">35</span><span class="comment" id="3471902">//&nbsp;&#34;unixpacket&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3471919">func</span>&nbsp;<span class="ident" id="3471924">ResolveUnixAddr</span><span class="op" id="3471939">(</span><span class="ident" id="3471940">net</span><span class="op" id="3471943">,</span>&nbsp;<span class="ident" id="3471945">addr</span>&nbsp;<span class="builtintype" id="3471950">string</span><span class="op" id="3471956">)</span>&nbsp;<span class="op" id="3471958">(</span><span class="op" id="3471959">*</span><span class="ident" id="3471960">UnixAddr</span><span class="op" id="3471968">,</span>&nbsp;<span class="builtintype" id="3471970">error</span><span class="op" id="3471975">)</span>&nbsp;<span class="op" id="3471977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3471980">switch</span>&nbsp;<span class="ident" id="3471987">net</span>&nbsp;<span class="op" id="3471991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3471994">case</span>&nbsp;<span class="string" id="3471999">&#34;unix&#34;</span><span class="op" id="3472005">,</span>&nbsp;<span class="string" id="3472007">&#34;unixgram&#34;</span><span class="op" id="3472017">,</span>&nbsp;<span class="string" id="3472019">&#34;unixpacket&#34;</span><span class="op" id="3472031">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3472035">return</span>&nbsp;<span class="op" id="3472042">&amp;</span><span class="ident" id="3472043">UnixAddr</span><span class="op" id="3472051">{</span><span class="ident" id="3472052">Name</span><span class="op" id="3472056">:</span>&nbsp;<span class="ident" id="3472058">addr</span><span class="op" id="3472062">,</span>&nbsp;<span class="ident" id="3472064">Net</span><span class="op" id="3472067">:</span>&nbsp;<span class="ident" id="3472069">net</span><span class="op" id="3472072">}</span><span class="op" id="3472073">,</span>&nbsp;<span class="ident" id="3472075">nil</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3472080">default</span><span class="op" id="3472087">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3472091">return</span>&nbsp;<span class="ident" id="3472098">nil</span><span class="op" id="3472101">,</span>&nbsp;<span class="ident" id="3472103">UnknownNetworkError</span><span class="op" id="3472122">(</span><span class="ident" id="3472123">net</span><span class="op" id="3472126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3472129">}</span><br>
<span class="lineno"></span><span class="op" id="3472131">}</span>
</div>
</body>
</html>
