<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html" class="current">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7531920">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7531975">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7532029">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7532080">package</span>&nbsp;<span class="ident" id="7532088">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7532094">import</span>&nbsp;<span class="op" id="7532101">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7532104">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7532113">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7532119">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7532130">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7532140">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7532143">func</span>&nbsp;<span class="ident" id="7532148">TestBodyReadBadTrailer</span><span class="op" id="7532170">(</span><span class="ident" id="7532171">t</span>&nbsp;<span class="op" id="7532173">*</span><span class="ident" id="7532174">testing</span><span class="op" id="7532181">.</span><span class="ident" id="7532182">T</span><span class="op" id="7532183">)</span>&nbsp;<span class="op" id="7532185">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532188">b</span>&nbsp;<span class="op" id="7532190">:=</span>&nbsp;<span class="op" id="7532193">&amp;</span><span class="ident" id="7532194">body</span><span class="op" id="7532198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532202">src</span><span class="op" id="7532205">:</span>&nbsp;<span class="ident" id="7532207">strings</span><span class="op" id="7532214">.</span><span class="ident" id="7532215">NewReader</span><span class="op" id="7532224">(</span><span class="string" id="7532225">&#34;foobar&#34;</span><span class="op" id="7532233">)</span><span class="op" id="7532234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532238">hdr</span><span class="op" id="7532241">:</span>&nbsp;<span class="builtintype" id="7532243">true</span><span class="op" id="7532247">,</span>&nbsp;<span class="comment" id="7532249">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532280">r</span><span class="op" id="7532281">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7532285">bufio</span><span class="op" id="7532290">.</span><span class="ident" id="7532291">NewReader</span><span class="op" id="7532300">(</span><span class="ident" id="7532301">strings</span><span class="op" id="7532308">.</span><span class="ident" id="7532309">NewReader</span><span class="op" id="7532318">(</span><span class="string" id="7532319">&#34;&#34;</span><span class="op" id="7532321">)</span><span class="op" id="7532322">)</span><span class="op" id="7532323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7532326">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532329">buf</span>&nbsp;<span class="op" id="7532333">:=</span>&nbsp;<span class="builtinfunc" id="7532336">make</span><span class="op" id="7532340">(</span><span class="op" id="7532341">[</span><span class="op" id="7532342">]</span><span class="builtintype" id="7532343">byte</span><span class="op" id="7532347">,</span>&nbsp;<span class="num" id="7532349">7</span><span class="op" id="7532350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532353">n</span><span class="op" id="7532354">,</span>&nbsp;<span class="ident" id="7532356">err</span>&nbsp;<span class="op" id="7532360">:=</span>&nbsp;<span class="ident" id="7532363">b</span><span class="op" id="7532364">.</span><span class="ident" id="7532365">Read</span><span class="op" id="7532369">(</span><span class="ident" id="7532370">buf</span><span class="op" id="7532373">[</span><span class="op" id="7532374">:</span><span class="num" id="7532375">3</span><span class="op" id="7532376">]</span><span class="op" id="7532377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532380">got</span>&nbsp;<span class="op" id="7532384">:=</span>&nbsp;<span class="builtintype" id="7532387">string</span><span class="op" id="7532393">(</span><span class="ident" id="7532394">buf</span><span class="op" id="7532397">[</span><span class="op" id="7532398">:</span><span class="ident" id="7532399">n</span><span class="op" id="7532400">]</span><span class="op" id="7532401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7532404">if</span>&nbsp;<span class="ident" id="7532407">got</span>&nbsp;<span class="op" id="7532411">!=</span>&nbsp;<span class="string" id="7532414">&#34;foo&#34;</span>&nbsp;<span class="op" id="7532420">||</span>&nbsp;<span class="ident" id="7532423">err</span>&nbsp;<span class="op" id="7532427">!=</span>&nbsp;<span class="builtintype" id="7532430">nil</span>&nbsp;<span class="op" id="7532434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532438">t</span><span class="op" id="7532439">.</span><span class="ident" id="7532440">Fatalf</span><span class="op" id="7532446">(</span><span class="string" id="7532447">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="7532489">,</span>&nbsp;<span class="ident" id="7532491">n</span><span class="op" id="7532492">,</span>&nbsp;<span class="ident" id="7532494">got</span><span class="op" id="7532497">,</span>&nbsp;<span class="ident" id="7532499">err</span><span class="op" id="7532502">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7532505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532509">n</span><span class="op" id="7532510">,</span>&nbsp;<span class="ident" id="7532512">err</span>&nbsp;<span class="op" id="7532516">=</span>&nbsp;<span class="ident" id="7532518">b</span><span class="op" id="7532519">.</span><span class="ident" id="7532520">Read</span><span class="op" id="7532524">(</span><span class="ident" id="7532525">buf</span><span class="op" id="7532528">[</span><span class="op" id="7532529">:</span><span class="op" id="7532530">]</span><span class="op" id="7532531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532534">got</span>&nbsp;<span class="op" id="7532538">=</span>&nbsp;<span class="builtintype" id="7532540">string</span><span class="op" id="7532546">(</span><span class="ident" id="7532547">buf</span><span class="op" id="7532550">[</span><span class="op" id="7532551">:</span><span class="ident" id="7532552">n</span><span class="op" id="7532553">]</span><span class="op" id="7532554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7532557">if</span>&nbsp;<span class="ident" id="7532560">got</span>&nbsp;<span class="op" id="7532564">!=</span>&nbsp;<span class="string" id="7532567">&#34;bar&#34;</span>&nbsp;<span class="op" id="7532573">||</span>&nbsp;<span class="ident" id="7532576">err</span>&nbsp;<span class="op" id="7532580">!=</span>&nbsp;<span class="builtintype" id="7532583">nil</span>&nbsp;<span class="op" id="7532587">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532591">t</span><span class="op" id="7532592">.</span><span class="ident" id="7532593">Fatalf</span><span class="op" id="7532599">(</span><span class="string" id="7532600">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="7532643">,</span>&nbsp;<span class="ident" id="7532645">n</span><span class="op" id="7532646">,</span>&nbsp;<span class="ident" id="7532648">got</span><span class="op" id="7532651">,</span>&nbsp;<span class="ident" id="7532653">err</span><span class="op" id="7532656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7532659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532663">n</span><span class="op" id="7532664">,</span>&nbsp;<span class="ident" id="7532666">err</span>&nbsp;<span class="op" id="7532670">=</span>&nbsp;<span class="ident" id="7532672">b</span><span class="op" id="7532673">.</span><span class="ident" id="7532674">Read</span><span class="op" id="7532678">(</span><span class="ident" id="7532679">buf</span><span class="op" id="7532682">[</span><span class="op" id="7532683">:</span><span class="op" id="7532684">]</span><span class="op" id="7532685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532688">got</span>&nbsp;<span class="op" id="7532692">=</span>&nbsp;<span class="builtintype" id="7532694">string</span><span class="op" id="7532700">(</span><span class="ident" id="7532701">buf</span><span class="op" id="7532704">[</span><span class="op" id="7532705">:</span><span class="ident" id="7532706">n</span><span class="op" id="7532707">]</span><span class="op" id="7532708">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7532711">if</span>&nbsp;<span class="ident" id="7532714">err</span>&nbsp;<span class="op" id="7532718">==</span>&nbsp;<span class="builtintype" id="7532721">nil</span>&nbsp;<span class="op" id="7532725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532729">t</span><span class="op" id="7532730">.</span><span class="ident" id="7532731">Errorf</span><span class="op" id="7532737">(</span><span class="string" id="7532738">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="7532804">,</span>&nbsp;<span class="ident" id="7532806">got</span><span class="op" id="7532809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7532812">}</span><br>
<span class="lineno"></span><span class="op" id="7532814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7532817">func</span>&nbsp;<span class="ident" id="7532822">TestFinalChunkedBodyReadEOF</span><span class="op" id="7532849">(</span><span class="ident" id="7532850">t</span>&nbsp;<span class="op" id="7532852">*</span><span class="ident" id="7532853">testing</span><span class="op" id="7532860">.</span><span class="ident" id="7532861">T</span><span class="op" id="7532862">)</span>&nbsp;<span class="op" id="7532864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7532867">res</span><span class="op" id="7532870">,</span>&nbsp;<span class="ident" id="7532872">err</span>&nbsp;<span class="op" id="7532876">:=</span>&nbsp;<span class="ident" id="7532879">ReadResponse</span><span class="op" id="7532891">(</span><span class="ident" id="7532892">bufio</span><span class="op" id="7532897">.</span><span class="ident" id="7532898">NewReader</span><span class="op" id="7532907">(</span><span class="ident" id="7532908">strings</span><span class="op" id="7532915">.</span><span class="ident" id="7532916">NewReader</span><span class="op" id="7532925">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7532929">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="7532950">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7532955">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="7532987">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7532992">&#34;\r\n&#34;</span><span class="op" id="7532998">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7533003">&#34;0a\r\n&#34;</span><span class="op" id="7533011">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7533016">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="7533033">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7533038">&#34;09\r\n&#34;</span><span class="op" id="7533046">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7533051">&#34;continued\r\n&#34;</span><span class="op" id="7533066">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7533071">&#34;0\r\n&#34;</span><span class="op" id="7533078">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7533083">&#34;\r\n&#34;</span><span class="op" id="7533089">)</span><span class="op" id="7533090">)</span><span class="op" id="7533091">,</span>&nbsp;<span class="builtintype" id="7533093">nil</span><span class="op" id="7533096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7533099">if</span>&nbsp;<span class="ident" id="7533102">err</span>&nbsp;<span class="op" id="7533106">!=</span>&nbsp;<span class="builtintype" id="7533109">nil</span>&nbsp;<span class="op" id="7533113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7533117">t</span><span class="op" id="7533118">.</span><span class="ident" id="7533119">Fatal</span><span class="op" id="7533124">(</span><span class="ident" id="7533125">err</span><span class="op" id="7533128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7533131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7533134">want</span>&nbsp;<span class="op" id="7533139">:=</span>&nbsp;<span class="string" id="7533142">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7533166">buf</span>&nbsp;<span class="op" id="7533170">:=</span>&nbsp;<span class="builtinfunc" id="7533173">make</span><span class="op" id="7533177">(</span><span class="op" id="7533178">[</span><span class="op" id="7533179">]</span><span class="builtintype" id="7533180">byte</span><span class="op" id="7533184">,</span>&nbsp;<span class="builtinfunc" id="7533186">len</span><span class="op" id="7533189">(</span><span class="ident" id="7533190">want</span><span class="op" id="7533194">)</span><span class="op" id="7533195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7533198">n</span><span class="op" id="7533199">,</span>&nbsp;<span class="ident" id="7533201">err</span>&nbsp;<span class="op" id="7533205">:=</span>&nbsp;<span class="ident" id="7533208">res</span><span class="op" id="7533211">.</span><span class="ident" id="7533212">Body</span><span class="op" id="7533216">.</span><span class="ident" id="7533217">Read</span><span class="op" id="7533221">(</span><span class="ident" id="7533222">buf</span><span class="op" id="7533225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7533228">if</span>&nbsp;<span class="ident" id="7533231">n</span>&nbsp;<span class="op" id="7533233">!=</span>&nbsp;<span class="builtinfunc" id="7533236">len</span><span class="op" id="7533239">(</span><span class="ident" id="7533240">want</span><span class="op" id="7533244">)</span>&nbsp;<span class="op" id="7533246">||</span>&nbsp;<span class="ident" id="7533249">err</span>&nbsp;<span class="op" id="7533253">!=</span>&nbsp;<span class="ident" id="7533256">io</span><span class="op" id="7533258">.</span><span class="ident" id="7533259">EOF</span>&nbsp;<span class="op" id="7533263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7533267">t</span><span class="op" id="7533268">.</span><span class="ident" id="7533269">Logf</span><span class="op" id="7533273">(</span><span class="string" id="7533274">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="7533286">,</span>&nbsp;<span class="ident" id="7533288">res</span><span class="op" id="7533291">.</span><span class="ident" id="7533292">Body</span><span class="op" id="7533296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7533300">t</span><span class="op" id="7533301">.</span><span class="ident" id="7533302">Errorf</span><span class="op" id="7533308">(</span><span class="string" id="7533309">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="7533338">,</span>&nbsp;<span class="ident" id="7533340">n</span><span class="op" id="7533341">,</span>&nbsp;<span class="ident" id="7533343">err</span><span class="op" id="7533346">,</span>&nbsp;<span class="builtinfunc" id="7533348">len</span><span class="op" id="7533351">(</span><span class="ident" id="7533352">want</span><span class="op" id="7533356">)</span><span class="op" id="7533357">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7533360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7533363">if</span>&nbsp;<span class="builtintype" id="7533366">string</span><span class="op" id="7533372">(</span><span class="ident" id="7533373">buf</span><span class="op" id="7533376">)</span>&nbsp;<span class="op" id="7533378">!=</span>&nbsp;<span class="ident" id="7533381">want</span>&nbsp;<span class="op" id="7533386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7533390">t</span><span class="op" id="7533391">.</span><span class="ident" id="7533392">Errorf</span><span class="op" id="7533398">(</span><span class="string" id="7533399">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7533418">,</span>&nbsp;<span class="ident" id="7533420">buf</span><span class="op" id="7533423">,</span>&nbsp;<span class="ident" id="7533425">want</span><span class="op" id="7533429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7533432">}</span><br>
<span class="lineno"></span><span class="op" id="7533434">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
