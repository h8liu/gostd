<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4698486">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4698541">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4698595">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4698646">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4698706">package</span>&nbsp;<span class="ident" id="4698714">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4698724">import</span>&nbsp;<span class="op" id="4698731">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4698734">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4698741">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4698754">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="4698770">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="4698773">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4698819">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="4698900">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="4698974">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="4699001">//&nbsp;&nbsp;&nbsp;&nbspvar&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="4699062">func</span>&nbsp;<span class="ident" id="4699067">Must</span><span class="op" id="4699071">(</span><span class="ident" id="4699072">t</span>&nbsp;<span class="op" id="4699074">*</span><span class="ident" id="4699075">Template</span><span class="op" id="4699083">,</span>&nbsp;<span class="ident" id="4699085">err</span>&nbsp;<span class="builtintype" id="4699089">error</span><span class="op" id="4699094">)</span>&nbsp;<span class="op" id="4699096">*</span><span class="ident" id="4699097">Template</span>&nbsp;<span class="op" id="4699106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699109">if</span>&nbsp;<span class="ident" id="4699112">err</span>&nbsp;<span class="op" id="4699116">!=</span>&nbsp;<span class="ident" id="4699119">nil</span>&nbsp;<span class="op" id="4699123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4699127">panic</span><span class="op" id="4699132">(</span><span class="ident" id="4699133">err</span><span class="op" id="4699136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4699139">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699142">return</span>&nbsp;<span class="ident" id="4699149">t</span><br>
<span class="lineno"></span><span class="op" id="4699151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4699154">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="4699232">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="4699311">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="4699384">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4699456">func</span>&nbsp;<span class="ident" id="4699461">ParseFiles</span><span class="op" id="4699471">(</span><span class="ident" id="4699472">filenames</span>&nbsp;<span class="op" id="4699482">...</span><span class="builtintype" id="4699485">string</span><span class="op" id="4699491">)</span>&nbsp;<span class="op" id="4699493">(</span><span class="op" id="4699494">*</span><span class="ident" id="4699495">Template</span><span class="op" id="4699503">,</span>&nbsp;<span class="builtintype" id="4699505">error</span><span class="op" id="4699510">)</span>&nbsp;<span class="op" id="4699512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699515">return</span>&nbsp;<span class="ident" id="4699522">parseFiles</span><span class="op" id="4699532">(</span><span class="ident" id="4699533">nil</span><span class="op" id="4699536">,</span>&nbsp;<span class="ident" id="4699538">filenames</span><span class="op" id="4699547">...</span><span class="op" id="4699550">)</span><br>
<span class="lineno"></span><span class="op" id="4699552">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4699555">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="4699636">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="4699710">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="4699765">func</span>&nbsp;<span class="op" id="4699770">(</span><span class="ident" id="4699771">t</span>&nbsp;<span class="op" id="4699773">*</span><span class="ident" id="4699774">Template</span><span class="op" id="4699782">)</span>&nbsp;<span class="ident" id="4699784">ParseFiles</span><span class="op" id="4699794">(</span><span class="ident" id="4699795">filenames</span>&nbsp;<span class="op" id="4699805">...</span><span class="builtintype" id="4699808">string</span><span class="op" id="4699814">)</span>&nbsp;<span class="op" id="4699816">(</span><span class="op" id="4699817">*</span><span class="ident" id="4699818">Template</span><span class="op" id="4699826">,</span>&nbsp;<span class="builtintype" id="4699828">error</span><span class="op" id="4699833">)</span>&nbsp;<span class="op" id="4699835">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699838">return</span>&nbsp;<span class="ident" id="4699845">parseFiles</span><span class="op" id="4699855">(</span><span class="ident" id="4699856">t</span><span class="op" id="4699857">,</span>&nbsp;<span class="ident" id="4699859">filenames</span><span class="op" id="4699868">...</span><span class="op" id="4699871">)</span><br>
<span class="lineno"></span><span class="op" id="4699873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4699876">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="4699949">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="4700004">func</span>&nbsp;<span class="ident" id="4700009">parseFiles</span><span class="op" id="4700019">(</span><span class="ident" id="4700020">t</span>&nbsp;<span class="op" id="4700022">*</span><span class="ident" id="4700023">Template</span><span class="op" id="4700031">,</span>&nbsp;<span class="ident" id="4700033">filenames</span>&nbsp;<span class="op" id="4700043">...</span><span class="builtintype" id="4700046">string</span><span class="op" id="4700052">)</span>&nbsp;<span class="op" id="4700054">(</span><span class="op" id="4700055">*</span><span class="ident" id="4700056">Template</span><span class="op" id="4700064">,</span>&nbsp;<span class="builtintype" id="4700066">error</span><span class="op" id="4700071">)</span>&nbsp;<span class="op" id="4700073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700076">if</span>&nbsp;<span class="builtinfunc" id="4700079">len</span><span class="op" id="4700082">(</span><span class="ident" id="4700083">filenames</span><span class="op" id="4700092">)</span>&nbsp;<span class="op" id="4700094">==</span>&nbsp;<span class="num" id="4700097">0</span>&nbsp;<span class="op" id="4700099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4700103">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700149">return</span>&nbsp;<span class="ident" id="4700156">nil</span><span class="op" id="4700159">,</span>&nbsp;<span class="ident" id="4700161">fmt</span><span class="op" id="4700164">.</span><span class="ident" id="4700165">Errorf</span><span class="op" id="4700171">(</span><span class="string" id="4700172">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="4700220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700223">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700226">for</span>&nbsp;<span class="ident" id="4700230">_</span><span class="op" id="4700231">,</span>&nbsp;<span class="ident" id="4700233">filename</span>&nbsp;<span class="op" id="4700242">:=</span>&nbsp;<span class="keyword" id="4700245">range</span>&nbsp;<span class="ident" id="4700251">filenames</span>&nbsp;<span class="op" id="4700261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700265">b</span><span class="op" id="4700266">,</span>&nbsp;<span class="ident" id="4700268">err</span>&nbsp;<span class="op" id="4700272">:=</span>&nbsp;<span class="ident" id="4700275">ioutil</span><span class="op" id="4700281">.</span><span class="ident" id="4700282">ReadFile</span><span class="op" id="4700290">(</span><span class="ident" id="4700291">filename</span><span class="op" id="4700299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700303">if</span>&nbsp;<span class="ident" id="4700306">err</span>&nbsp;<span class="op" id="4700310">!=</span>&nbsp;<span class="ident" id="4700313">nil</span>&nbsp;<span class="op" id="4700317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700322">return</span>&nbsp;<span class="ident" id="4700329">nil</span><span class="op" id="4700332">,</span>&nbsp;<span class="ident" id="4700334">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700340">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700344">s</span>&nbsp;<span class="op" id="4700346">:=</span>&nbsp;<span class="builtintype" id="4700349">string</span><span class="op" id="4700355">(</span><span class="ident" id="4700356">b</span><span class="op" id="4700357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700361">name</span>&nbsp;<span class="op" id="4700366">:=</span>&nbsp;<span class="ident" id="4700369">filepath</span><span class="op" id="4700377">.</span><span class="ident" id="4700378">Base</span><span class="op" id="4700382">(</span><span class="ident" id="4700383">filename</span><span class="op" id="4700391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4700395">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4700460">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4700523">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4700593">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4700644">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4700698">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700764">var</span>&nbsp;<span class="ident" id="4700768">tmpl</span>&nbsp;<span class="op" id="4700773">*</span><span class="ident" id="4700774">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700785">if</span>&nbsp;<span class="ident" id="4700788">t</span>&nbsp;<span class="op" id="4700790">==</span>&nbsp;<span class="ident" id="4700793">nil</span>&nbsp;<span class="op" id="4700797">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700802">t</span>&nbsp;<span class="op" id="4700804">=</span>&nbsp;<span class="ident" id="4700806">New</span><span class="op" id="4700809">(</span><span class="ident" id="4700810">name</span><span class="op" id="4700814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700822">if</span>&nbsp;<span class="ident" id="4700825">name</span>&nbsp;<span class="op" id="4700830">==</span>&nbsp;<span class="ident" id="4700833">t</span><span class="op" id="4700834">.</span><span class="ident" id="4700835">Name</span><span class="op" id="4700839">(</span><span class="op" id="4700840">)</span>&nbsp;<span class="op" id="4700842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700847">tmpl</span>&nbsp;<span class="op" id="4700852">=</span>&nbsp;<span class="ident" id="4700854">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700858">}</span>&nbsp;<span class="keyword" id="4700860">else</span>&nbsp;<span class="op" id="4700865">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700870">tmpl</span>&nbsp;<span class="op" id="4700875">=</span>&nbsp;<span class="ident" id="4700877">t</span><span class="op" id="4700878">.</span><span class="ident" id="4700879">New</span><span class="op" id="4700882">(</span><span class="ident" id="4700883">name</span><span class="op" id="4700887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700895">_</span><span class="op" id="4700896">,</span>&nbsp;<span class="ident" id="4700898">err</span>&nbsp;<span class="op" id="4700902">=</span>&nbsp;<span class="ident" id="4700904">tmpl</span><span class="op" id="4700908">.</span><span class="ident" id="4700909">Parse</span><span class="op" id="4700914">(</span><span class="ident" id="4700915">s</span><span class="op" id="4700916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700920">if</span>&nbsp;<span class="ident" id="4700923">err</span>&nbsp;<span class="op" id="4700927">!=</span>&nbsp;<span class="ident" id="4700930">nil</span>&nbsp;<span class="op" id="4700934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700939">return</span>&nbsp;<span class="ident" id="4700946">nil</span><span class="op" id="4700949">,</span>&nbsp;<span class="ident" id="4700951">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700963">return</span>&nbsp;<span class="ident" id="4700970">t</span><span class="op" id="4700971">,</span>&nbsp;<span class="ident" id="4700973">nil</span><br>
<span class="lineno"></span><span class="op" id="4700977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="4700980">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4701061">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="4701137">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4701213">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="4701286">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="4701347">func</span>&nbsp;<span class="ident" id="4701352">ParseGlob</span><span class="op" id="4701361">(</span><span class="ident" id="4701362">pattern</span>&nbsp;<span class="builtintype" id="4701370">string</span><span class="op" id="4701376">)</span>&nbsp;<span class="op" id="4701378">(</span><span class="op" id="4701379">*</span><span class="ident" id="4701380">Template</span><span class="op" id="4701388">,</span>&nbsp;<span class="builtintype" id="4701390">error</span><span class="op" id="4701395">)</span>&nbsp;<span class="op" id="4701397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701400">return</span>&nbsp;<span class="ident" id="4701407">parseGlob</span><span class="op" id="4701416">(</span><span class="ident" id="4701417">nil</span><span class="op" id="4701420">,</span>&nbsp;<span class="ident" id="4701422">pattern</span><span class="op" id="4701429">)</span><br>
<span class="lineno"></span><span class="op" id="4701431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4701434">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="4701510">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4701583">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4701660">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4701736">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="4701748">func</span>&nbsp;<span class="op" id="4701753">(</span><span class="ident" id="4701754">t</span>&nbsp;<span class="op" id="4701756">*</span><span class="ident" id="4701757">Template</span><span class="op" id="4701765">)</span>&nbsp;<span class="ident" id="4701767">ParseGlob</span><span class="op" id="4701776">(</span><span class="ident" id="4701777">pattern</span>&nbsp;<span class="builtintype" id="4701785">string</span><span class="op" id="4701791">)</span>&nbsp;<span class="op" id="4701793">(</span><span class="op" id="4701794">*</span><span class="ident" id="4701795">Template</span><span class="op" id="4701803">,</span>&nbsp;<span class="builtintype" id="4701805">error</span><span class="op" id="4701810">)</span>&nbsp;<span class="op" id="4701812">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701815">return</span>&nbsp;<span class="ident" id="4701822">parseGlob</span><span class="op" id="4701831">(</span><span class="ident" id="4701832">t</span><span class="op" id="4701833">,</span>&nbsp;<span class="ident" id="4701835">pattern</span><span class="op" id="4701842">)</span><br>
<span class="lineno"></span><span class="op" id="4701844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4701847">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="4701920">func</span>&nbsp;<span class="ident" id="4701925">parseGlob</span><span class="op" id="4701934">(</span><span class="ident" id="4701935">t</span>&nbsp;<span class="op" id="4701937">*</span><span class="ident" id="4701938">Template</span><span class="op" id="4701946">,</span>&nbsp;<span class="ident" id="4701948">pattern</span>&nbsp;<span class="builtintype" id="4701956">string</span><span class="op" id="4701962">)</span>&nbsp;<span class="op" id="4701964">(</span><span class="op" id="4701965">*</span><span class="ident" id="4701966">Template</span><span class="op" id="4701974">,</span>&nbsp;<span class="builtintype" id="4701976">error</span><span class="op" id="4701981">)</span>&nbsp;<span class="op" id="4701983">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4701986">filenames</span><span class="op" id="4701995">,</span>&nbsp;<span class="ident" id="4701997">err</span>&nbsp;<span class="op" id="4702001">:=</span>&nbsp;<span class="ident" id="4702004">filepath</span><span class="op" id="4702012">.</span><span class="ident" id="4702013">Glob</span><span class="op" id="4702017">(</span><span class="ident" id="4702018">pattern</span><span class="op" id="4702025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702028">if</span>&nbsp;<span class="ident" id="4702031">err</span>&nbsp;<span class="op" id="4702035">!=</span>&nbsp;<span class="ident" id="4702038">nil</span>&nbsp;<span class="op" id="4702042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702046">return</span>&nbsp;<span class="ident" id="4702053">nil</span><span class="op" id="4702056">,</span>&nbsp;<span class="ident" id="4702058">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4702063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702066">if</span>&nbsp;<span class="builtinfunc" id="4702069">len</span><span class="op" id="4702072">(</span><span class="ident" id="4702073">filenames</span><span class="op" id="4702082">)</span>&nbsp;<span class="op" id="4702084">==</span>&nbsp;<span class="num" id="4702087">0</span>&nbsp;<span class="op" id="4702089">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702093">return</span>&nbsp;<span class="ident" id="4702100">nil</span><span class="op" id="4702103">,</span>&nbsp;<span class="ident" id="4702105">fmt</span><span class="op" id="4702108">.</span><span class="ident" id="4702109">Errorf</span><span class="op" id="4702115">(</span><span class="string" id="4702116">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="4702157">,</span>&nbsp;<span class="ident" id="4702159">pattern</span><span class="op" id="4702166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4702169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702172">return</span>&nbsp;<span class="ident" id="4702179">parseFiles</span><span class="op" id="4702189">(</span><span class="ident" id="4702190">t</span><span class="op" id="4702191">,</span>&nbsp;<span class="ident" id="4702193">filenames</span><span class="op" id="4702202">...</span><span class="op" id="4702205">)</span><br>
<span class="lineno"></span><span class="op" id="4702207">}</span>
</div>
</body>
</html>
