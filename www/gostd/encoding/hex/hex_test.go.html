<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html" class="current">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8045680">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8045735">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8045789">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8045840">package</span>&nbsp;<span class="ident" id="8045848">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8045853">import</span>&nbsp;<span class="op" id="8045860">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8045863">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8045872">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8045882">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8045885">type</span>&nbsp;<span class="ident" id="8045890">encDecTest</span>&nbsp;<span class="keyword" id="8045901">struct</span>&nbsp;<span class="op" id="8045908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8045911">enc</span>&nbsp;<span class="builtintype" id="8045915">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8045923">dec</span>&nbsp;<span class="op" id="8045927">[</span><span class="op" id="8045928">]</span><span class="builtintype" id="8045929">byte</span><br>
<span class="lineno">15</span><span class="op" id="8045934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8045937">var</span>&nbsp;<span class="ident" id="8045941">encDecTests</span>&nbsp;<span class="op" id="8045953">=</span>&nbsp;<span class="op" id="8045955">[</span><span class="op" id="8045956">]</span><span class="ident" id="8045957">encDecTest</span><span class="op" id="8045967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8045970">{</span><span class="string" id="8045971">&#34;&#34;</span><span class="op" id="8045973">,</span>&nbsp;<span class="op" id="8045975">[</span><span class="op" id="8045976">]</span><span class="builtintype" id="8045977">byte</span><span class="op" id="8045981">{</span><span class="op" id="8045982">}</span><span class="op" id="8045983">}</span><span class="op" id="8045984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8045987">{</span><span class="string" id="8045988">&#34;0001020304050607&#34;</span><span class="op" id="8046006">,</span>&nbsp;<span class="op" id="8046008">[</span><span class="op" id="8046009">]</span><span class="builtintype" id="8046010">byte</span><span class="op" id="8046014">{</span><span class="num" id="8046015">0</span><span class="op" id="8046016">,</span>&nbsp;<span class="num" id="8046018">1</span><span class="op" id="8046019">,</span>&nbsp;<span class="num" id="8046021">2</span><span class="op" id="8046022">,</span>&nbsp;<span class="num" id="8046024">3</span><span class="op" id="8046025">,</span>&nbsp;<span class="num" id="8046027">4</span><span class="op" id="8046028">,</span>&nbsp;<span class="num" id="8046030">5</span><span class="op" id="8046031">,</span>&nbsp;<span class="num" id="8046033">6</span><span class="op" id="8046034">,</span>&nbsp;<span class="num" id="8046036">7</span><span class="op" id="8046037">}</span><span class="op" id="8046038">}</span><span class="op" id="8046039">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8046042">{</span><span class="string" id="8046043">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="8046061">,</span>&nbsp;<span class="op" id="8046063">[</span><span class="op" id="8046064">]</span><span class="builtintype" id="8046065">byte</span><span class="op" id="8046069">{</span><span class="num" id="8046070">8</span><span class="op" id="8046071">,</span>&nbsp;<span class="num" id="8046073">9</span><span class="op" id="8046074">,</span>&nbsp;<span class="num" id="8046076">10</span><span class="op" id="8046078">,</span>&nbsp;<span class="num" id="8046080">11</span><span class="op" id="8046082">,</span>&nbsp;<span class="num" id="8046084">12</span><span class="op" id="8046086">,</span>&nbsp;<span class="num" id="8046088">13</span><span class="op" id="8046090">,</span>&nbsp;<span class="num" id="8046092">14</span><span class="op" id="8046094">,</span>&nbsp;<span class="num" id="8046096">15</span><span class="op" id="8046098">}</span><span class="op" id="8046099">}</span><span class="op" id="8046100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8046103">{</span><span class="string" id="8046104">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="8046122">,</span>&nbsp;<span class="op" id="8046124">[</span><span class="op" id="8046125">]</span><span class="builtintype" id="8046126">byte</span><span class="op" id="8046130">{</span><span class="num" id="8046131">0xf0</span><span class="op" id="8046135">,</span>&nbsp;<span class="num" id="8046137">0xf1</span><span class="op" id="8046141">,</span>&nbsp;<span class="num" id="8046143">0xf2</span><span class="op" id="8046147">,</span>&nbsp;<span class="num" id="8046149">0xf3</span><span class="op" id="8046153">,</span>&nbsp;<span class="num" id="8046155">0xf4</span><span class="op" id="8046159">,</span>&nbsp;<span class="num" id="8046161">0xf5</span><span class="op" id="8046165">,</span>&nbsp;<span class="num" id="8046167">0xf6</span><span class="op" id="8046171">,</span>&nbsp;<span class="num" id="8046173">0xf7</span><span class="op" id="8046177">}</span><span class="op" id="8046178">}</span><span class="op" id="8046179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8046182">{</span><span class="string" id="8046183">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="8046201">,</span>&nbsp;<span class="op" id="8046203">[</span><span class="op" id="8046204">]</span><span class="builtintype" id="8046205">byte</span><span class="op" id="8046209">{</span><span class="num" id="8046210">0xf8</span><span class="op" id="8046214">,</span>&nbsp;<span class="num" id="8046216">0xf9</span><span class="op" id="8046220">,</span>&nbsp;<span class="num" id="8046222">0xfa</span><span class="op" id="8046226">,</span>&nbsp;<span class="num" id="8046228">0xfb</span><span class="op" id="8046232">,</span>&nbsp;<span class="num" id="8046234">0xfc</span><span class="op" id="8046238">,</span>&nbsp;<span class="num" id="8046240">0xfd</span><span class="op" id="8046244">,</span>&nbsp;<span class="num" id="8046246">0xfe</span><span class="op" id="8046250">,</span>&nbsp;<span class="num" id="8046252">0xff</span><span class="op" id="8046256">}</span><span class="op" id="8046257">}</span><span class="op" id="8046258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8046261">{</span><span class="string" id="8046262">&#34;67&#34;</span><span class="op" id="8046266">,</span>&nbsp;<span class="op" id="8046268">[</span><span class="op" id="8046269">]</span><span class="builtintype" id="8046270">byte</span><span class="op" id="8046274">{</span><span class="string" id="8046275">&#39;g&#39;</span><span class="op" id="8046278">}</span><span class="op" id="8046279">}</span><span class="op" id="8046280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8046283">{</span><span class="string" id="8046284">&#34;e3a1&#34;</span><span class="op" id="8046290">,</span>&nbsp;<span class="op" id="8046292">[</span><span class="op" id="8046293">]</span><span class="builtintype" id="8046294">byte</span><span class="op" id="8046298">{</span><span class="num" id="8046299">0xe3</span><span class="op" id="8046303">,</span>&nbsp;<span class="num" id="8046305">0xa1</span><span class="op" id="8046309">}</span><span class="op" id="8046310">}</span><span class="op" id="8046311">,</span><br>
<span class="lineno">25</span><span class="op" id="8046313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8046316">func</span>&nbsp;<span class="ident" id="8046321">TestEncode</span><span class="op" id="8046331">(</span><span class="ident" id="8046332">t</span>&nbsp;<span class="op" id="8046334">*</span><span class="ident" id="8046335">testing</span><span class="op" id="8046342">.</span><span class="ident" id="8046343">T</span><span class="op" id="8046344">)</span>&nbsp;<span class="op" id="8046346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8046349">for</span>&nbsp;<span class="ident" id="8046353">i</span><span class="op" id="8046354">,</span>&nbsp;<span class="ident" id="8046356">test</span>&nbsp;<span class="op" id="8046361">:=</span>&nbsp;<span class="keyword" id="8046364">range</span>&nbsp;<span class="ident" id="8046370">encDecTests</span>&nbsp;<span class="op" id="8046382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8046386">dst</span>&nbsp;<span class="op" id="8046390">:=</span>&nbsp;<span class="builtinfunc" id="8046393">make</span><span class="op" id="8046397">(</span><span class="op" id="8046398">[</span><span class="op" id="8046399">]</span><span class="builtintype" id="8046400">byte</span><span class="op" id="8046404">,</span>&nbsp;<span class="ident" id="8046406">EncodedLen</span><span class="op" id="8046416">(</span><span class="builtinfunc" id="8046417">len</span><span class="op" id="8046420">(</span><span class="ident" id="8046421">test</span><span class="op" id="8046425">.</span><span class="ident" id="8046426">dec</span><span class="op" id="8046429">)</span><span class="op" id="8046430">)</span><span class="op" id="8046431">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8046435">n</span>&nbsp;<span class="op" id="8046437">:=</span>&nbsp;<span class="ident" id="8046440">Encode</span><span class="op" id="8046446">(</span><span class="ident" id="8046447">dst</span><span class="op" id="8046450">,</span>&nbsp;<span class="ident" id="8046452">test</span><span class="op" id="8046456">.</span><span class="ident" id="8046457">dec</span><span class="op" id="8046460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8046464">if</span>&nbsp;<span class="ident" id="8046467">n</span>&nbsp;<span class="op" id="8046469">!=</span>&nbsp;<span class="builtinfunc" id="8046472">len</span><span class="op" id="8046475">(</span><span class="ident" id="8046476">dst</span><span class="op" id="8046479">)</span>&nbsp;<span class="op" id="8046481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8046486">t</span><span class="op" id="8046487">.</span><span class="ident" id="8046488">Errorf</span><span class="op" id="8046494">(</span><span class="string" id="8046495">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="8046536">,</span>&nbsp;<span class="ident" id="8046538">i</span><span class="op" id="8046539">,</span>&nbsp;<span class="ident" id="8046541">n</span><span class="op" id="8046542">,</span>&nbsp;<span class="builtinfunc" id="8046544">len</span><span class="op" id="8046547">(</span><span class="ident" id="8046548">dst</span><span class="op" id="8046551">)</span><span class="op" id="8046552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8046556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8046560">if</span>&nbsp;<span class="builtintype" id="8046563">string</span><span class="op" id="8046569">(</span><span class="ident" id="8046570">dst</span><span class="op" id="8046573">)</span>&nbsp;<span class="op" id="8046575">!=</span>&nbsp;<span class="ident" id="8046578">test</span><span class="op" id="8046582">.</span><span class="ident" id="8046583">enc</span>&nbsp;<span class="op" id="8046587">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8046592">t</span><span class="op" id="8046593">.</span><span class="ident" id="8046594">Errorf</span><span class="op" id="8046600">(</span><span class="string" id="8046601">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="8046626">,</span>&nbsp;<span class="ident" id="8046628">i</span><span class="op" id="8046629">,</span>&nbsp;<span class="ident" id="8046631">dst</span><span class="op" id="8046634">,</span>&nbsp;<span class="ident" id="8046636">test</span><span class="op" id="8046640">.</span><span class="ident" id="8046641">enc</span><span class="op" id="8046644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8046648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8046651">}</span><br>
<span class="lineno"></span><span class="op" id="8046653">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8046656">func</span>&nbsp;<span class="ident" id="8046661">TestDecode</span><span class="op" id="8046671">(</span><span class="ident" id="8046672">t</span>&nbsp;<span class="op" id="8046674">*</span><span class="ident" id="8046675">testing</span><span class="op" id="8046682">.</span><span class="ident" id="8046683">T</span><span class="op" id="8046684">)</span>&nbsp;<span class="op" id="8046686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8046689">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8046743">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8046777">decTests</span>&nbsp;<span class="op" id="8046786">:=</span>&nbsp;<span class="builtinfunc" id="8046789">append</span><span class="op" id="8046795">(</span><span class="ident" id="8046796">encDecTests</span><span class="op" id="8046807">,</span>&nbsp;<span class="ident" id="8046809">encDecTest</span><span class="op" id="8046819">{</span><span class="string" id="8046820">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="8046838">,</span>&nbsp;<span class="op" id="8046840">[</span><span class="op" id="8046841">]</span><span class="builtintype" id="8046842">byte</span><span class="op" id="8046846">{</span><span class="num" id="8046847">0xf8</span><span class="op" id="8046851">,</span>&nbsp;<span class="num" id="8046853">0xf9</span><span class="op" id="8046857">,</span>&nbsp;<span class="num" id="8046859">0xfa</span><span class="op" id="8046863">,</span>&nbsp;<span class="num" id="8046865">0xfb</span><span class="op" id="8046869">,</span>&nbsp;<span class="num" id="8046871">0xfc</span><span class="op" id="8046875">,</span>&nbsp;<span class="num" id="8046877">0xfd</span><span class="op" id="8046881">,</span>&nbsp;<span class="num" id="8046883">0xfe</span><span class="op" id="8046887">,</span>&nbsp;<span class="num" id="8046889">0xff</span><span class="op" id="8046893">}</span><span class="op" id="8046894">}</span><span class="op" id="8046895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8046898">for</span>&nbsp;<span class="ident" id="8046902">i</span><span class="op" id="8046903">,</span>&nbsp;<span class="ident" id="8046905">test</span>&nbsp;<span class="op" id="8046910">:=</span>&nbsp;<span class="keyword" id="8046913">range</span>&nbsp;<span class="ident" id="8046919">decTests</span>&nbsp;<span class="op" id="8046928">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8046932">dst</span>&nbsp;<span class="op" id="8046936">:=</span>&nbsp;<span class="builtinfunc" id="8046939">make</span><span class="op" id="8046943">(</span><span class="op" id="8046944">[</span><span class="op" id="8046945">]</span><span class="builtintype" id="8046946">byte</span><span class="op" id="8046950">,</span>&nbsp;<span class="ident" id="8046952">DecodedLen</span><span class="op" id="8046962">(</span><span class="builtinfunc" id="8046963">len</span><span class="op" id="8046966">(</span><span class="ident" id="8046967">test</span><span class="op" id="8046971">.</span><span class="ident" id="8046972">enc</span><span class="op" id="8046975">)</span><span class="op" id="8046976">)</span><span class="op" id="8046977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8046981">n</span><span class="op" id="8046982">,</span>&nbsp;<span class="ident" id="8046984">err</span>&nbsp;<span class="op" id="8046988">:=</span>&nbsp;<span class="ident" id="8046991">Decode</span><span class="op" id="8046997">(</span><span class="ident" id="8046998">dst</span><span class="op" id="8047001">,</span>&nbsp;<span class="op" id="8047003">[</span><span class="op" id="8047004">]</span><span class="builtintype" id="8047005">byte</span><span class="op" id="8047009">(</span><span class="ident" id="8047010">test</span><span class="op" id="8047014">.</span><span class="ident" id="8047015">enc</span><span class="op" id="8047018">)</span><span class="op" id="8047019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8047023">if</span>&nbsp;<span class="ident" id="8047026">err</span>&nbsp;<span class="op" id="8047030">!=</span>&nbsp;<span class="builtintype" id="8047033">nil</span>&nbsp;<span class="op" id="8047037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8047042">t</span><span class="op" id="8047043">.</span><span class="ident" id="8047044">Errorf</span><span class="op" id="8047050">(</span><span class="string" id="8047051">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="8047090">,</span>&nbsp;<span class="ident" id="8047092">i</span><span class="op" id="8047093">,</span>&nbsp;<span class="ident" id="8047095">n</span><span class="op" id="8047096">,</span>&nbsp;<span class="builtinfunc" id="8047098">len</span><span class="op" id="8047101">(</span><span class="ident" id="8047102">dst</span><span class="op" id="8047105">)</span><span class="op" id="8047106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047110">}</span>&nbsp;<span class="keyword" id="8047112">else</span>&nbsp;<span class="keyword" id="8047117">if</span>&nbsp;<span class="op" id="8047120">!</span><span class="ident" id="8047121">bytes</span><span class="op" id="8047126">.</span><span class="ident" id="8047127">Equal</span><span class="op" id="8047132">(</span><span class="ident" id="8047133">dst</span><span class="op" id="8047136">,</span>&nbsp;<span class="ident" id="8047138">test</span><span class="op" id="8047142">.</span><span class="ident" id="8047143">dec</span><span class="op" id="8047146">)</span>&nbsp;<span class="op" id="8047148">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8047153">t</span><span class="op" id="8047154">.</span><span class="ident" id="8047155">Errorf</span><span class="op" id="8047161">(</span><span class="string" id="8047162">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="8047187">,</span>&nbsp;<span class="ident" id="8047189">i</span><span class="op" id="8047190">,</span>&nbsp;<span class="ident" id="8047192">dst</span><span class="op" id="8047195">,</span>&nbsp;<span class="ident" id="8047197">test</span><span class="op" id="8047201">.</span><span class="ident" id="8047202">dec</span><span class="op" id="8047205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047212">}</span><br>
<span class="lineno"></span><span class="op" id="8047214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="8047217">func</span>&nbsp;<span class="ident" id="8047222">TestEncodeToString</span><span class="op" id="8047240">(</span><span class="ident" id="8047241">t</span>&nbsp;<span class="op" id="8047243">*</span><span class="ident" id="8047244">testing</span><span class="op" id="8047251">.</span><span class="ident" id="8047252">T</span><span class="op" id="8047253">)</span>&nbsp;<span class="op" id="8047255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8047258">for</span>&nbsp;<span class="ident" id="8047262">i</span><span class="op" id="8047263">,</span>&nbsp;<span class="ident" id="8047265">test</span>&nbsp;<span class="op" id="8047270">:=</span>&nbsp;<span class="keyword" id="8047273">range</span>&nbsp;<span class="ident" id="8047279">encDecTests</span>&nbsp;<span class="op" id="8047291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8047295">s</span>&nbsp;<span class="op" id="8047297">:=</span>&nbsp;<span class="ident" id="8047300">EncodeToString</span><span class="op" id="8047314">(</span><span class="ident" id="8047315">test</span><span class="op" id="8047319">.</span><span class="ident" id="8047320">dec</span><span class="op" id="8047323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8047327">if</span>&nbsp;<span class="ident" id="8047330">s</span>&nbsp;<span class="op" id="8047332">!=</span>&nbsp;<span class="ident" id="8047335">test</span><span class="op" id="8047339">.</span><span class="ident" id="8047340">enc</span>&nbsp;<span class="op" id="8047344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8047349">t</span><span class="op" id="8047350">.</span><span class="ident" id="8047351">Errorf</span><span class="op" id="8047357">(</span><span class="string" id="8047358">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="8047378">,</span>&nbsp;<span class="ident" id="8047380">i</span><span class="op" id="8047381">,</span>&nbsp;<span class="ident" id="8047383">s</span><span class="op" id="8047384">,</span>&nbsp;<span class="ident" id="8047386">test</span><span class="op" id="8047390">.</span><span class="ident" id="8047391">enc</span><span class="op" id="8047394">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047401">}</span><br>
<span class="lineno"></span><span class="op" id="8047403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8047406">func</span>&nbsp;<span class="ident" id="8047411">TestDecodeString</span><span class="op" id="8047427">(</span><span class="ident" id="8047428">t</span>&nbsp;<span class="op" id="8047430">*</span><span class="ident" id="8047431">testing</span><span class="op" id="8047438">.</span><span class="ident" id="8047439">T</span><span class="op" id="8047440">)</span>&nbsp;<span class="op" id="8047442">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8047445">for</span>&nbsp;<span class="ident" id="8047449">i</span><span class="op" id="8047450">,</span>&nbsp;<span class="ident" id="8047452">test</span>&nbsp;<span class="op" id="8047457">:=</span>&nbsp;<span class="keyword" id="8047460">range</span>&nbsp;<span class="ident" id="8047466">encDecTests</span>&nbsp;<span class="op" id="8047478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8047482">dst</span><span class="op" id="8047485">,</span>&nbsp;<span class="ident" id="8047487">err</span>&nbsp;<span class="op" id="8047491">:=</span>&nbsp;<span class="ident" id="8047494">DecodeString</span><span class="op" id="8047506">(</span><span class="ident" id="8047507">test</span><span class="op" id="8047511">.</span><span class="ident" id="8047512">enc</span><span class="op" id="8047515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8047519">if</span>&nbsp;<span class="ident" id="8047522">err</span>&nbsp;<span class="op" id="8047526">!=</span>&nbsp;<span class="builtintype" id="8047529">nil</span>&nbsp;<span class="op" id="8047533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8047538">t</span><span class="op" id="8047539">.</span><span class="ident" id="8047540">Errorf</span><span class="op" id="8047546">(</span><span class="string" id="8047547">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="8047578">,</span>&nbsp;<span class="ident" id="8047580">i</span><span class="op" id="8047581">,</span>&nbsp;<span class="ident" id="8047583">err</span><span class="op" id="8047586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8047591">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8047606">if</span>&nbsp;<span class="op" id="8047609">!</span><span class="ident" id="8047610">bytes</span><span class="op" id="8047615">.</span><span class="ident" id="8047616">Equal</span><span class="op" id="8047621">(</span><span class="ident" id="8047622">dst</span><span class="op" id="8047625">,</span>&nbsp;<span class="ident" id="8047627">test</span><span class="op" id="8047631">.</span><span class="ident" id="8047632">dec</span><span class="op" id="8047635">)</span>&nbsp;<span class="op" id="8047637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8047642">t</span><span class="op" id="8047643">.</span><span class="ident" id="8047644">Errorf</span><span class="op" id="8047650">(</span><span class="string" id="8047651">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="8047676">,</span>&nbsp;<span class="ident" id="8047678">i</span><span class="op" id="8047679">,</span>&nbsp;<span class="ident" id="8047681">dst</span><span class="op" id="8047684">,</span>&nbsp;<span class="ident" id="8047686">test</span><span class="op" id="8047690">.</span><span class="ident" id="8047691">dec</span><span class="op" id="8047694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047701">}</span><br>
<span class="lineno">75</span><span class="op" id="8047703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8047706">type</span>&nbsp;<span class="ident" id="8047711">errTest</span>&nbsp;<span class="keyword" id="8047719">struct</span>&nbsp;<span class="op" id="8047726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8047729">in</span>&nbsp;&nbsp;<span class="builtintype" id="8047733">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8047741">err</span>&nbsp;<span class="builtintype" id="8047745">string</span><br>
<span class="lineno">80</span><span class="op" id="8047752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8047755">var</span>&nbsp;<span class="ident" id="8047759">errTests</span>&nbsp;<span class="op" id="8047768">=</span>&nbsp;<span class="op" id="8047770">[</span><span class="op" id="8047771">]</span><span class="ident" id="8047772">errTest</span><span class="op" id="8047779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047782">{</span><span class="string" id="8047783">&#34;0&#34;</span><span class="op" id="8047786">,</span>&nbsp;<span class="string" id="8047788">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="8047825">}</span><span class="op" id="8047826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047829">{</span><span class="string" id="8047830">&#34;0g&#34;</span><span class="op" id="8047834">,</span>&nbsp;<span class="string" id="8047836">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="8047876">}</span><span class="op" id="8047877">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047880">{</span><span class="string" id="8047881">&#34;00gg&#34;</span><span class="op" id="8047887">,</span>&nbsp;<span class="string" id="8047889">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="8047929">}</span><span class="op" id="8047930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047933">{</span><span class="string" id="8047934">&#34;0\x01&#34;</span><span class="op" id="8047941">,</span>&nbsp;<span class="string" id="8047943">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="8047979">}</span><span class="op" id="8047980">,</span><br>
<span class="lineno"></span><span class="op" id="8047982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8047985">func</span>&nbsp;<span class="ident" id="8047990">TestInvalidErr</span><span class="op" id="8048004">(</span><span class="ident" id="8048005">t</span>&nbsp;<span class="op" id="8048007">*</span><span class="ident" id="8048008">testing</span><span class="op" id="8048015">.</span><span class="ident" id="8048016">T</span><span class="op" id="8048017">)</span>&nbsp;<span class="op" id="8048019">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048022">for</span>&nbsp;<span class="ident" id="8048026">i</span><span class="op" id="8048027">,</span>&nbsp;<span class="ident" id="8048029">test</span>&nbsp;<span class="op" id="8048034">:=</span>&nbsp;<span class="keyword" id="8048037">range</span>&nbsp;<span class="ident" id="8048043">errTests</span>&nbsp;<span class="op" id="8048052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048056">dst</span>&nbsp;<span class="op" id="8048060">:=</span>&nbsp;<span class="builtinfunc" id="8048063">make</span><span class="op" id="8048067">(</span><span class="op" id="8048068">[</span><span class="op" id="8048069">]</span><span class="builtintype" id="8048070">byte</span><span class="op" id="8048074">,</span>&nbsp;<span class="ident" id="8048076">DecodedLen</span><span class="op" id="8048086">(</span><span class="builtinfunc" id="8048087">len</span><span class="op" id="8048090">(</span><span class="ident" id="8048091">test</span><span class="op" id="8048095">.</span><span class="ident" id="8048096">in</span><span class="op" id="8048098">)</span><span class="op" id="8048099">)</span><span class="op" id="8048100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048104">_</span><span class="op" id="8048105">,</span>&nbsp;<span class="ident" id="8048107">err</span>&nbsp;<span class="op" id="8048111">:=</span>&nbsp;<span class="ident" id="8048114">Decode</span><span class="op" id="8048120">(</span><span class="ident" id="8048121">dst</span><span class="op" id="8048124">,</span>&nbsp;<span class="op" id="8048126">[</span><span class="op" id="8048127">]</span><span class="builtintype" id="8048128">byte</span><span class="op" id="8048132">(</span><span class="ident" id="8048133">test</span><span class="op" id="8048137">.</span><span class="ident" id="8048138">in</span><span class="op" id="8048140">)</span><span class="op" id="8048141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048145">if</span>&nbsp;<span class="ident" id="8048148">err</span>&nbsp;<span class="op" id="8048152">==</span>&nbsp;<span class="builtintype" id="8048155">nil</span>&nbsp;<span class="op" id="8048159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048164">t</span><span class="op" id="8048165">.</span><span class="ident" id="8048166">Errorf</span><span class="op" id="8048172">(</span><span class="string" id="8048173">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8048204">,</span>&nbsp;<span class="ident" id="8048206">i</span><span class="op" id="8048207">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8048211">}</span>&nbsp;<span class="keyword" id="8048213">else</span>&nbsp;<span class="keyword" id="8048218">if</span>&nbsp;<span class="ident" id="8048221">err</span><span class="op" id="8048224">.</span><span class="ident" id="8048225">Error</span><span class="op" id="8048230">(</span><span class="op" id="8048231">)</span>&nbsp;<span class="op" id="8048233">!=</span>&nbsp;<span class="ident" id="8048236">test</span><span class="op" id="8048240">.</span><span class="ident" id="8048241">err</span>&nbsp;<span class="op" id="8048245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048250">t</span><span class="op" id="8048251">.</span><span class="ident" id="8048252">Errorf</span><span class="op" id="8048258">(</span><span class="string" id="8048259">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="8048282">,</span>&nbsp;<span class="ident" id="8048284">i</span><span class="op" id="8048285">,</span>&nbsp;<span class="ident" id="8048287">err</span><span class="op" id="8048290">,</span>&nbsp;<span class="ident" id="8048292">test</span><span class="op" id="8048296">.</span><span class="ident" id="8048297">err</span><span class="op" id="8048300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8048304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8048307">}</span><br>
<span class="lineno"></span><span class="op" id="8048309">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="8048312">func</span>&nbsp;<span class="ident" id="8048317">TestInvalidStringErr</span><span class="op" id="8048337">(</span><span class="ident" id="8048338">t</span>&nbsp;<span class="op" id="8048340">*</span><span class="ident" id="8048341">testing</span><span class="op" id="8048348">.</span><span class="ident" id="8048349">T</span><span class="op" id="8048350">)</span>&nbsp;<span class="op" id="8048352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048355">for</span>&nbsp;<span class="ident" id="8048359">i</span><span class="op" id="8048360">,</span>&nbsp;<span class="ident" id="8048362">test</span>&nbsp;<span class="op" id="8048367">:=</span>&nbsp;<span class="keyword" id="8048370">range</span>&nbsp;<span class="ident" id="8048376">errTests</span>&nbsp;<span class="op" id="8048385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048389">_</span><span class="op" id="8048390">,</span>&nbsp;<span class="ident" id="8048392">err</span>&nbsp;<span class="op" id="8048396">:=</span>&nbsp;<span class="ident" id="8048399">DecodeString</span><span class="op" id="8048411">(</span><span class="ident" id="8048412">test</span><span class="op" id="8048416">.</span><span class="ident" id="8048417">in</span><span class="op" id="8048419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048423">if</span>&nbsp;<span class="ident" id="8048426">err</span>&nbsp;<span class="op" id="8048430">==</span>&nbsp;<span class="builtintype" id="8048433">nil</span>&nbsp;<span class="op" id="8048437">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048442">t</span><span class="op" id="8048443">.</span><span class="ident" id="8048444">Errorf</span><span class="op" id="8048450">(</span><span class="string" id="8048451">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8048482">,</span>&nbsp;<span class="ident" id="8048484">i</span><span class="op" id="8048485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8048489">}</span>&nbsp;<span class="keyword" id="8048491">else</span>&nbsp;<span class="keyword" id="8048496">if</span>&nbsp;<span class="ident" id="8048499">err</span><span class="op" id="8048502">.</span><span class="ident" id="8048503">Error</span><span class="op" id="8048508">(</span><span class="op" id="8048509">)</span>&nbsp;<span class="op" id="8048511">!=</span>&nbsp;<span class="ident" id="8048514">test</span><span class="op" id="8048518">.</span><span class="ident" id="8048519">err</span>&nbsp;<span class="op" id="8048523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048528">t</span><span class="op" id="8048529">.</span><span class="ident" id="8048530">Errorf</span><span class="op" id="8048536">(</span><span class="string" id="8048537">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="8048560">,</span>&nbsp;<span class="ident" id="8048562">i</span><span class="op" id="8048563">,</span>&nbsp;<span class="ident" id="8048565">err</span><span class="op" id="8048568">,</span>&nbsp;<span class="ident" id="8048570">test</span><span class="op" id="8048574">.</span><span class="ident" id="8048575">err</span><span class="op" id="8048578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8048582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8048585">}</span><br>
<span class="lineno">110</span><span class="op" id="8048587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8048590">func</span>&nbsp;<span class="ident" id="8048595">TestDumper</span><span class="op" id="8048605">(</span><span class="ident" id="8048606">t</span>&nbsp;<span class="op" id="8048608">*</span><span class="ident" id="8048609">testing</span><span class="op" id="8048616">.</span><span class="ident" id="8048617">T</span><span class="op" id="8048618">)</span>&nbsp;<span class="op" id="8048620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048623">var</span>&nbsp;<span class="ident" id="8048627">in</span>&nbsp;<span class="op" id="8048630">[</span><span class="num" id="8048631">40</span><span class="op" id="8048633">]</span><span class="builtintype" id="8048634">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048640">for</span>&nbsp;<span class="ident" id="8048644">i</span>&nbsp;<span class="op" id="8048646">:=</span>&nbsp;<span class="keyword" id="8048649">range</span>&nbsp;<span class="ident" id="8048655">in</span>&nbsp;<span class="op" id="8048658">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048662">in</span><span class="op" id="8048664">[</span><span class="ident" id="8048665">i</span><span class="op" id="8048666">]</span>&nbsp;<span class="op" id="8048668">=</span>&nbsp;<span class="builtintype" id="8048670">byte</span><span class="op" id="8048674">(</span><span class="ident" id="8048675">i</span>&nbsp;<span class="op" id="8048677">+</span>&nbsp;<span class="num" id="8048679">30</span><span class="op" id="8048681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8048684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048688">for</span>&nbsp;<span class="ident" id="8048692">stride</span>&nbsp;<span class="op" id="8048699">:=</span>&nbsp;<span class="num" id="8048702">1</span><span class="op" id="8048703">;</span>&nbsp;<span class="ident" id="8048705">stride</span>&nbsp;<span class="op" id="8048712">&lt;</span>&nbsp;<span class="builtinfunc" id="8048714">len</span><span class="op" id="8048717">(</span><span class="ident" id="8048718">in</span><span class="op" id="8048720">)</span><span class="op" id="8048721">;</span>&nbsp;<span class="ident" id="8048723">stride</span><span class="op" id="8048729">++</span>&nbsp;<span class="op" id="8048732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048736">var</span>&nbsp;<span class="ident" id="8048740">out</span>&nbsp;<span class="ident" id="8048744">bytes</span><span class="op" id="8048749">.</span><span class="ident" id="8048750">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048759">dumper</span>&nbsp;<span class="op" id="8048766">:=</span>&nbsp;<span class="ident" id="8048769">Dumper</span><span class="op" id="8048775">(</span><span class="op" id="8048776">&amp;</span><span class="ident" id="8048777">out</span><span class="op" id="8048780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048784">done</span>&nbsp;<span class="op" id="8048789">:=</span>&nbsp;<span class="num" id="8048792">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048796">for</span>&nbsp;<span class="ident" id="8048800">done</span>&nbsp;<span class="op" id="8048805">&lt;</span>&nbsp;<span class="builtinfunc" id="8048807">len</span><span class="op" id="8048810">(</span><span class="ident" id="8048811">in</span><span class="op" id="8048813">)</span>&nbsp;<span class="op" id="8048815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048820">todo</span>&nbsp;<span class="op" id="8048825">:=</span>&nbsp;<span class="ident" id="8048828">done</span>&nbsp;<span class="op" id="8048833">+</span>&nbsp;<span class="ident" id="8048835">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048845">if</span>&nbsp;<span class="ident" id="8048848">todo</span>&nbsp;<span class="op" id="8048853">&gt;</span>&nbsp;<span class="builtinfunc" id="8048855">len</span><span class="op" id="8048858">(</span><span class="ident" id="8048859">in</span><span class="op" id="8048861">)</span>&nbsp;<span class="op" id="8048863">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048869">todo</span>&nbsp;<span class="op" id="8048874">=</span>&nbsp;<span class="builtinfunc" id="8048876">len</span><span class="op" id="8048879">(</span><span class="ident" id="8048880">in</span><span class="op" id="8048882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8048887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048892">dumper</span><span class="op" id="8048898">.</span><span class="ident" id="8048899">Write</span><span class="op" id="8048904">(</span><span class="ident" id="8048905">in</span><span class="op" id="8048907">[</span><span class="ident" id="8048908">done</span><span class="op" id="8048912">:</span><span class="ident" id="8048913">todo</span><span class="op" id="8048917">]</span><span class="op" id="8048918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048923">done</span>&nbsp;<span class="op" id="8048928">=</span>&nbsp;<span class="ident" id="8048930">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8048937">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8048942">dumper</span><span class="op" id="8048948">.</span><span class="ident" id="8048949">Close</span><span class="op" id="8048954">(</span><span class="op" id="8048955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8048959">if</span>&nbsp;<span class="op" id="8048962">!</span><span class="ident" id="8048963">bytes</span><span class="op" id="8048968">.</span><span class="ident" id="8048969">Equal</span><span class="op" id="8048974">(</span><span class="ident" id="8048975">out</span><span class="op" id="8048978">.</span><span class="ident" id="8048979">Bytes</span><span class="op" id="8048984">(</span><span class="op" id="8048985">)</span><span class="op" id="8048986">,</span>&nbsp;<span class="ident" id="8048988">expectedHexDump</span><span class="op" id="8049003">)</span>&nbsp;<span class="op" id="8049005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8049010">t</span><span class="op" id="8049011">.</span><span class="ident" id="8049012">Errorf</span><span class="op" id="8049018">(</span><span class="string" id="8049019">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="8049059">,</span>&nbsp;<span class="ident" id="8049061">stride</span><span class="op" id="8049067">,</span>&nbsp;<span class="ident" id="8049069">out</span><span class="op" id="8049072">.</span><span class="ident" id="8049073">Bytes</span><span class="op" id="8049078">(</span><span class="op" id="8049079">)</span><span class="op" id="8049080">,</span>&nbsp;<span class="ident" id="8049082">expectedHexDump</span><span class="op" id="8049097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8049101">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8049104">}</span><br>
<span class="lineno"></span><span class="op" id="8049106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8049109">func</span>&nbsp;<span class="ident" id="8049114">TestDump</span><span class="op" id="8049122">(</span><span class="ident" id="8049123">t</span>&nbsp;<span class="op" id="8049125">*</span><span class="ident" id="8049126">testing</span><span class="op" id="8049133">.</span><span class="ident" id="8049134">T</span><span class="op" id="8049135">)</span>&nbsp;<span class="op" id="8049137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8049140">var</span>&nbsp;<span class="ident" id="8049144">in</span>&nbsp;<span class="op" id="8049147">[</span><span class="num" id="8049148">40</span><span class="op" id="8049150">]</span><span class="builtintype" id="8049151">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8049157">for</span>&nbsp;<span class="ident" id="8049161">i</span>&nbsp;<span class="op" id="8049163">:=</span>&nbsp;<span class="keyword" id="8049166">range</span>&nbsp;<span class="ident" id="8049172">in</span>&nbsp;<span class="op" id="8049175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8049179">in</span><span class="op" id="8049181">[</span><span class="ident" id="8049182">i</span><span class="op" id="8049183">]</span>&nbsp;<span class="op" id="8049185">=</span>&nbsp;<span class="builtintype" id="8049187">byte</span><span class="op" id="8049191">(</span><span class="ident" id="8049192">i</span>&nbsp;<span class="op" id="8049194">+</span>&nbsp;<span class="num" id="8049196">30</span><span class="op" id="8049198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8049201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8049205">out</span>&nbsp;<span class="op" id="8049209">:=</span>&nbsp;<span class="op" id="8049212">[</span><span class="op" id="8049213">]</span><span class="builtintype" id="8049214">byte</span><span class="op" id="8049218">(</span><span class="ident" id="8049219">Dump</span><span class="op" id="8049223">(</span><span class="ident" id="8049224">in</span><span class="op" id="8049226">[</span><span class="op" id="8049227">:</span><span class="op" id="8049228">]</span><span class="op" id="8049229">)</span><span class="op" id="8049230">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8049233">if</span>&nbsp;<span class="op" id="8049236">!</span><span class="ident" id="8049237">bytes</span><span class="op" id="8049242">.</span><span class="ident" id="8049243">Equal</span><span class="op" id="8049248">(</span><span class="ident" id="8049249">out</span><span class="op" id="8049252">,</span>&nbsp;<span class="ident" id="8049254">expectedHexDump</span><span class="op" id="8049269">)</span>&nbsp;<span class="op" id="8049271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8049275">t</span><span class="op" id="8049276">.</span><span class="ident" id="8049277">Errorf</span><span class="op" id="8049283">(</span><span class="string" id="8049284">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="8049305">,</span>&nbsp;<span class="ident" id="8049307">out</span><span class="op" id="8049310">,</span>&nbsp;<span class="ident" id="8049312">expectedHexDump</span><span class="op" id="8049327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8049330">}</span><br>
<span class="lineno"></span><span class="op" id="8049332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="8049335">var</span>&nbsp;<span class="ident" id="8049339">expectedHexDump</span>&nbsp;<span class="op" id="8049355">=</span>&nbsp;<span class="op" id="8049357">[</span><span class="op" id="8049358">]</span><span class="builtintype" id="8049359">byte</span><span class="op" id="8049363">(</span><span class="string" id="8049364">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="8049595">)</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
