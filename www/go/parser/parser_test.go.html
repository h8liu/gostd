<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6725776">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6725831">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6725885">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6725936">package</span>&nbsp;<span class="ident" id="6725944">parser</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6725952">import</span>&nbsp;<span class="op" id="6725959">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6725962">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6725971">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6725978">&#34;go/ast&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6725988">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6726000">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6726006">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6726017">&#34;testing&#34;</span><br>
<span class="lineno">15</span><span class="op" id="6726027">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6726030">var</span>&nbsp;<span class="ident" id="6726034">fset</span>&nbsp;<span class="op" id="6726039">=</span>&nbsp;<span class="ident" id="6726041"><a href="/go/parser/parser_test.go.html#6725988">token</a></span><span class="op" id="6726046">.</span><span class="ident" id="6726047">NewFileSet</span><span class="op" id="6726057">(</span><span class="op" id="6726058">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6726061">var</span>&nbsp;<span class="ident" id="6726065">validFiles</span>&nbsp;<span class="op" id="6726076">=</span>&nbsp;<span class="op" id="6726078">[</span><span class="op" id="6726079">]</span><span class="builtintype" id="6726080">string</span><span class="op" id="6726086">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6726089">&#34;parser.go&#34;</span><span class="op" id="6726100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6726103">&#34;parser_test.go&#34;</span><span class="op" id="6726119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6726122">&#34;error_test.go&#34;</span><span class="op" id="6726137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6726140">&#34;short_test.go&#34;</span><span class="op" id="6726155">,</span><br>
<span class="lineno"></span><span class="op" id="6726157">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6726160">func</span>&nbsp;<span class="ident" id="6726165">TestParse</span><span class="op" id="6726174">(</span><span class="ident" id="6726175">t</span>&nbsp;<span class="op" id="6726177">*</span><span class="ident" id="6726178"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6726185">.</span><span class="ident" id="6726186">T</span><span class="op" id="6726187">)</span>&nbsp;<span class="op" id="6726189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726192">for</span>&nbsp;<span class="ident" id="6726196">_</span><span class="op" id="6726197">,</span>&nbsp;<span class="ident" id="6726199">filename</span>&nbsp;<span class="op" id="6726208">:=</span>&nbsp;<span class="keyword" id="6726211">range</span>&nbsp;<span class="ident" id="6726217"><a href="/go/parser/parser_test.go.html#6726065">validFiles</a></span>&nbsp;<span class="op" id="6726228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726232">_</span><span class="op" id="6726233">,</span>&nbsp;<span class="ident" id="6726235">err</span>&nbsp;<span class="op" id="6726239">:=</span>&nbsp;<span class="ident" id="6726242"><a href="/go/parser/interface.go.html#6034508">ParseFile</a></span><span class="op" id="6726251">(</span><span class="ident" id="6726252"><a href="/go/parser/parser_test.go.html#6726034">fset</a></span><span class="op" id="6726256">,</span>&nbsp;<span class="ident" id="6726258"><a href="/go/parser/parser_test.go.html#6726199">filename</a></span><span class="op" id="6726266">,</span>&nbsp;<span class="ident" id="6726268">nil</span><span class="op" id="6726271">,</span>&nbsp;<span class="ident" id="6726273"><a href="/go/parser/interface.go.html#6033188">DeclarationErrors</a></span><span class="op" id="6726290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726294">if</span>&nbsp;<span class="ident" id="6726297"><a href="/go/parser/parser_test.go.html#6726235">err</a></span>&nbsp;<span class="op" id="6726301">!=</span>&nbsp;<span class="ident" id="6726304">nil</span>&nbsp;<span class="op" id="6726308">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726313"><a href="/go/parser/parser_test.go.html#6726175">t</a></span><span class="op" id="6726314">.</span><span class="ident" id="6726315">Fatalf</span><span class="op" id="6726321">(</span><span class="string" id="6726322">&#34;ParseFile(%s):&nbsp;%v&#34;</span><span class="op" id="6726341">,</span>&nbsp;<span class="ident" id="6726343"><a href="/go/parser/parser_test.go.html#6726199">filename</a></span><span class="op" id="6726351">,</span>&nbsp;<span class="ident" id="6726353"><a href="/go/parser/parser_test.go.html#6726235">err</a></span><span class="op" id="6726356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726363">}</span><br>
<span class="lineno"></span><span class="op" id="6726365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="6726368">func</span>&nbsp;<span class="ident" id="6726373">nameFilter</span><span class="op" id="6726383">(</span><span class="ident" id="6726384">filename</span>&nbsp;<span class="builtintype" id="6726393">string</span><span class="op" id="6726399">)</span>&nbsp;<span class="builtintype" id="6726401">bool</span>&nbsp;<span class="op" id="6726406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726409">switch</span>&nbsp;<span class="ident" id="6726416"><a href="/go/parser/parser_test.go.html#6726384">filename</a></span>&nbsp;<span class="op" id="6726425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726428">case</span>&nbsp;<span class="string" id="6726433">&#34;parser.go&#34;</span><span class="op" id="6726444">,</span>&nbsp;<span class="string" id="6726446">&#34;interface.go&#34;</span><span class="op" id="6726460">,</span>&nbsp;<span class="string" id="6726462">&#34;parser_test.go&#34;</span><span class="op" id="6726478">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726482">return</span>&nbsp;<span class="ident" id="6726489">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726495">case</span>&nbsp;<span class="string" id="6726500">&#34;parser.go.orig&#34;</span><span class="op" id="6726516">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726520">return</span>&nbsp;<span class="ident" id="6726527">true</span>&nbsp;<span class="comment" id="6726532">//&nbsp;permit&nbsp;but&nbsp;should&nbsp;be&nbsp;ignored&nbsp;by&nbsp;ParseDir</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726580">return</span>&nbsp;<span class="ident" id="6726587">false</span><br>
<span class="lineno"></span><span class="op" id="6726593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="6726596">func</span>&nbsp;<span class="ident" id="6726601">dirFilter</span><span class="op" id="6726610">(</span><span class="ident" id="6726611">f</span>&nbsp;<span class="ident" id="6726613"><a href="/go/parser/parser_test.go.html#6726000">os</a></span><span class="op" id="6726615">.</span><span class="ident" id="6726616">FileInfo</span><span class="op" id="6726624">)</span>&nbsp;<span class="builtintype" id="6726626">bool</span>&nbsp;<span class="op" id="6726631">{</span>&nbsp;<span class="keyword" id="6726633">return</span>&nbsp;<span class="ident" id="6726640"><a href="/go/parser/parser_test.go.html#6726373">nameFilter</a></span><span class="op" id="6726650">(</span><span class="ident" id="6726651"><a href="/go/parser/parser_test.go.html#6726611">f</a></span><span class="op" id="6726652">.</span><span class="ident" id="6726653">Name</span><span class="op" id="6726657">(</span><span class="op" id="6726658">)</span><span class="op" id="6726659">)</span>&nbsp;<span class="op" id="6726661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6726664">func</span>&nbsp;<span class="ident" id="6726669">TestParseDir</span><span class="op" id="6726681">(</span><span class="ident" id="6726682">t</span>&nbsp;<span class="op" id="6726684">*</span><span class="ident" id="6726685"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6726692">.</span><span class="ident" id="6726693">T</span><span class="op" id="6726694">)</span>&nbsp;<span class="op" id="6726696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726699">path</span>&nbsp;<span class="op" id="6726704">:=</span>&nbsp;<span class="string" id="6726707">&#34;.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726712">pkgs</span><span class="op" id="6726716">,</span>&nbsp;<span class="ident" id="6726718">err</span>&nbsp;<span class="op" id="6726722">:=</span>&nbsp;<span class="ident" id="6726725"><a href="/go/parser/interface.go.html#6035821">ParseDir</a></span><span class="op" id="6726733">(</span><span class="ident" id="6726734"><a href="/go/parser/parser_test.go.html#6726034">fset</a></span><span class="op" id="6726738">,</span>&nbsp;<span class="ident" id="6726740"><a href="/go/parser/parser_test.go.html#6726699">path</a></span><span class="op" id="6726744">,</span>&nbsp;<span class="ident" id="6726746"><a href="/go/parser/parser_test.go.html#6726601">dirFilter</a></span><span class="op" id="6726755">,</span>&nbsp;<span class="num" id="6726757">0</span><span class="op" id="6726758">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726761">if</span>&nbsp;<span class="ident" id="6726764"><a href="/go/parser/parser_test.go.html#6726718">err</a></span>&nbsp;<span class="op" id="6726768">!=</span>&nbsp;<span class="ident" id="6726771">nil</span>&nbsp;<span class="op" id="6726775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726779"><a href="/go/parser/parser_test.go.html#6726682">t</a></span><span class="op" id="6726780">.</span><span class="ident" id="6726781">Fatalf</span><span class="op" id="6726787">(</span><span class="string" id="6726788">&#34;ParseDir(%s):&nbsp;%v&#34;</span><span class="op" id="6726806">,</span>&nbsp;<span class="ident" id="6726808"><a href="/go/parser/parser_test.go.html#6726699">path</a></span><span class="op" id="6726812">,</span>&nbsp;<span class="ident" id="6726814"><a href="/go/parser/parser_test.go.html#6726718">err</a></span><span class="op" id="6726817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726823">if</span>&nbsp;<span class="ident" id="6726826">n</span>&nbsp;<span class="op" id="6726828">:=</span>&nbsp;<span class="builtinfunc" id="6726831">len</span><span class="op" id="6726834">(</span><span class="ident" id="6726835"><a href="/go/parser/parser_test.go.html#6726712">pkgs</a></span><span class="op" id="6726839">)</span><span class="op" id="6726840">;</span>&nbsp;<span class="ident" id="6726842"><a href="/go/parser/parser_test.go.html#6726826">n</a></span>&nbsp;<span class="op" id="6726844">!=</span>&nbsp;<span class="num" id="6726847">1</span>&nbsp;<span class="op" id="6726849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726853"><a href="/go/parser/parser_test.go.html#6726682">t</a></span><span class="op" id="6726854">.</span><span class="ident" id="6726855">Errorf</span><span class="op" id="6726861">(</span><span class="string" id="6726862">&#34;got&nbsp;%d&nbsp;packages;&nbsp;want&nbsp;1&#34;</span><span class="op" id="6726887">,</span>&nbsp;<span class="ident" id="6726889"><a href="/go/parser/parser_test.go.html#6726826">n</a></span><span class="op" id="6726890">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726896">pkg</span>&nbsp;<span class="op" id="6726900">:=</span>&nbsp;<span class="ident" id="6726903"><a href="/go/parser/parser_test.go.html#6726712">pkgs</a></span><span class="op" id="6726907">[</span><span class="string" id="6726908">&#34;parser&#34;</span><span class="op" id="6726916">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726919">if</span>&nbsp;<span class="ident" id="6726922"><a href="/go/parser/parser_test.go.html#6726896">pkg</a></span>&nbsp;<span class="op" id="6726926">==</span>&nbsp;<span class="ident" id="6726929">nil</span>&nbsp;<span class="op" id="6726933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6726937"><a href="/go/parser/parser_test.go.html#6726682">t</a></span><span class="op" id="6726938">.</span><span class="ident" id="6726939">Errorf</span><span class="op" id="6726945">(</span><span class="string" id="6726946">`package&nbsp;&#34;parser&#34;&nbsp;not&nbsp;found`</span><span class="op" id="6726974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726978">return</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6726986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6726989">if</span>&nbsp;<span class="ident" id="6726992">n</span>&nbsp;<span class="op" id="6726994">:=</span>&nbsp;<span class="builtinfunc" id="6726997">len</span><span class="op" id="6727000">(</span><span class="ident" id="6727001"><a href="/go/parser/parser_test.go.html#6726896">pkg</a></span><span class="op" id="6727004">.</span><span class="ident" id="6727005">Files</span><span class="op" id="6727010">)</span><span class="op" id="6727011">;</span>&nbsp;<span class="ident" id="6727013"><a href="/go/parser/parser_test.go.html#6726992">n</a></span>&nbsp;<span class="op" id="6727015">!=</span>&nbsp;<span class="num" id="6727018">3</span>&nbsp;<span class="op" id="6727020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727024"><a href="/go/parser/parser_test.go.html#6726682">t</a></span><span class="op" id="6727025">.</span><span class="ident" id="6727026">Errorf</span><span class="op" id="6727032">(</span><span class="string" id="6727033">&#34;got&nbsp;%d&nbsp;package&nbsp;files;&nbsp;want&nbsp;3&#34;</span><span class="op" id="6727063">,</span>&nbsp;<span class="ident" id="6727065"><a href="/go/parser/parser_test.go.html#6726992">n</a></span><span class="op" id="6727066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727072">for</span>&nbsp;<span class="ident" id="6727076">filename</span>&nbsp;<span class="op" id="6727085">:=</span>&nbsp;<span class="keyword" id="6727088">range</span>&nbsp;<span class="ident" id="6727094"><a href="/go/parser/parser_test.go.html#6726896">pkg</a></span><span class="op" id="6727097">.</span><span class="ident" id="6727098">Files</span>&nbsp;<span class="op" id="6727104">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727108">if</span>&nbsp;<span class="op" id="6727111">!</span><span class="ident" id="6727112"><a href="/go/parser/parser_test.go.html#6726373">nameFilter</a></span><span class="op" id="6727122">(</span><span class="ident" id="6727123"><a href="/go/parser/parser_test.go.html#6727076">filename</a></span><span class="op" id="6727131">)</span>&nbsp;<span class="op" id="6727133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727138"><a href="/go/parser/parser_test.go.html#6726682">t</a></span><span class="op" id="6727139">.</span><span class="ident" id="6727140">Errorf</span><span class="op" id="6727146">(</span><span class="string" id="6727147">&#34;unexpected&nbsp;package&nbsp;file:&nbsp;%s&#34;</span><span class="op" id="6727176">,</span>&nbsp;<span class="ident" id="6727178"><a href="/go/parser/parser_test.go.html#6727076">filename</a></span><span class="op" id="6727186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727193">}</span><br>
<span class="lineno"></span><span class="op" id="6727195">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="6727198">func</span>&nbsp;<span class="ident" id="6727203">TestParseExpr</span><span class="op" id="6727216">(</span><span class="ident" id="6727217">t</span>&nbsp;<span class="op" id="6727219">*</span><span class="ident" id="6727220"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6727227">.</span><span class="ident" id="6727228">T</span><span class="op" id="6727229">)</span>&nbsp;<span class="op" id="6727231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727234">//&nbsp;just&nbsp;kicking&nbsp;the&nbsp;tires:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727262">//&nbsp;a&nbsp;valid&nbsp;arithmetic&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727296">src</span>&nbsp;<span class="op" id="6727300">:=</span>&nbsp;<span class="string" id="6727303">&#34;a&nbsp;+&nbsp;b&#34;</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727312">x</span><span class="op" id="6727313">,</span>&nbsp;<span class="ident" id="6727315">err</span>&nbsp;<span class="op" id="6727319">:=</span>&nbsp;<span class="ident" id="6727322"><a href="/go/parser/interface.go.html#6036855">ParseExpr</a></span><span class="op" id="6727331">(</span><span class="ident" id="6727332"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6727335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727338">if</span>&nbsp;<span class="ident" id="6727341"><a href="/go/parser/parser_test.go.html#6727315">err</a></span>&nbsp;<span class="op" id="6727345">!=</span>&nbsp;<span class="ident" id="6727348">nil</span>&nbsp;<span class="op" id="6727352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727356"><a href="/go/parser/parser_test.go.html#6727217">t</a></span><span class="op" id="6727357">.</span><span class="ident" id="6727358">Errorf</span><span class="op" id="6727364">(</span><span class="string" id="6727365">&#34;ParseExpr(%q):&nbsp;%v&#34;</span><span class="op" id="6727384">,</span>&nbsp;<span class="ident" id="6727386"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6727389">,</span>&nbsp;<span class="ident" id="6727391"><a href="/go/parser/parser_test.go.html#6727315">err</a></span><span class="op" id="6727394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727400">//&nbsp;sanity&nbsp;check</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727417">if</span>&nbsp;<span class="ident" id="6727420">_</span><span class="op" id="6727421">,</span>&nbsp;<span class="ident" id="6727423">ok</span>&nbsp;<span class="op" id="6727426">:=</span>&nbsp;<span class="ident" id="6727429"><a href="/go/parser/parser_test.go.html#6727312">x</a></span><span class="op" id="6727430">.</span><span class="op" id="6727431">(</span><span class="op" id="6727432">*</span><span class="ident" id="6727433"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6727436">.</span><span class="ident" id="6727437">BinaryExpr</span><span class="op" id="6727447">)</span><span class="op" id="6727448">;</span>&nbsp;<span class="op" id="6727450">!</span><span class="ident" id="6727451"><a href="/go/parser/parser_test.go.html#6727423">ok</a></span>&nbsp;<span class="op" id="6727454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727458"><a href="/go/parser/parser_test.go.html#6727217">t</a></span><span class="op" id="6727459">.</span><span class="ident" id="6727460">Errorf</span><span class="op" id="6727466">(</span><span class="string" id="6727467">&#34;ParseExpr(%q):&nbsp;got&nbsp;%T,&nbsp;want&nbsp;*ast.BinaryExpr&#34;</span><span class="op" id="6727512">,</span>&nbsp;<span class="ident" id="6727514"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6727517">,</span>&nbsp;<span class="ident" id="6727519"><a href="/go/parser/parser_test.go.html#6727312">x</a></span><span class="op" id="6727520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727527">//&nbsp;a&nbsp;valid&nbsp;type&nbsp;expression</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727555"><a href="/go/parser/parser_test.go.html#6727296">src</a></span>&nbsp;<span class="op" id="6727559">=</span>&nbsp;<span class="string" id="6727561">&#34;struct{x&nbsp;*int}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727579"><a href="/go/parser/parser_test.go.html#6727312">x</a></span><span class="op" id="6727580">,</span>&nbsp;<span class="ident" id="6727582"><a href="/go/parser/parser_test.go.html#6727315">err</a></span>&nbsp;<span class="op" id="6727586">=</span>&nbsp;<span class="ident" id="6727588"><a href="/go/parser/interface.go.html#6036855">ParseExpr</a></span><span class="op" id="6727597">(</span><span class="ident" id="6727598"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6727601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727604">if</span>&nbsp;<span class="ident" id="6727607"><a href="/go/parser/parser_test.go.html#6727315">err</a></span>&nbsp;<span class="op" id="6727611">!=</span>&nbsp;<span class="ident" id="6727614">nil</span>&nbsp;<span class="op" id="6727618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727622"><a href="/go/parser/parser_test.go.html#6727217">t</a></span><span class="op" id="6727623">.</span><span class="ident" id="6727624">Errorf</span><span class="op" id="6727630">(</span><span class="string" id="6727631">&#34;ParseExpr(%q):&nbsp;%v&#34;</span><span class="op" id="6727650">,</span>&nbsp;<span class="ident" id="6727652"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6727655">,</span>&nbsp;<span class="ident" id="6727657"><a href="/go/parser/parser_test.go.html#6727315">err</a></span><span class="op" id="6727660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727663">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727666">//&nbsp;sanity&nbsp;check</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727683">if</span>&nbsp;<span class="ident" id="6727686">_</span><span class="op" id="6727687">,</span>&nbsp;<span class="ident" id="6727689">ok</span>&nbsp;<span class="op" id="6727692">:=</span>&nbsp;<span class="ident" id="6727695"><a href="/go/parser/parser_test.go.html#6727312">x</a></span><span class="op" id="6727696">.</span><span class="op" id="6727697">(</span><span class="op" id="6727698">*</span><span class="ident" id="6727699"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6727702">.</span><span class="ident" id="6727703">StructType</span><span class="op" id="6727713">)</span><span class="op" id="6727714">;</span>&nbsp;<span class="op" id="6727716">!</span><span class="ident" id="6727717"><a href="/go/parser/parser_test.go.html#6727689">ok</a></span>&nbsp;<span class="op" id="6727720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727724"><a href="/go/parser/parser_test.go.html#6727217">t</a></span><span class="op" id="6727725">.</span><span class="ident" id="6727726">Errorf</span><span class="op" id="6727732">(</span><span class="string" id="6727733">&#34;ParseExpr(%q):&nbsp;got&nbsp;%T,&nbsp;want&nbsp;*ast.StructType&#34;</span><span class="op" id="6727778">,</span>&nbsp;<span class="ident" id="6727780"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6727783">,</span>&nbsp;<span class="ident" id="6727785"><a href="/go/parser/parser_test.go.html#6727312">x</a></span><span class="op" id="6727786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727793">//&nbsp;an&nbsp;invalid&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727819"><a href="/go/parser/parser_test.go.html#6727296">src</a></span>&nbsp;<span class="op" id="6727823">=</span>&nbsp;<span class="string" id="6727825">&#34;a&nbsp;+&nbsp;*&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6727834">if</span>&nbsp;<span class="ident" id="6727837">_</span><span class="op" id="6727838">,</span>&nbsp;<span class="ident" id="6727840">err</span>&nbsp;<span class="op" id="6727844">:=</span>&nbsp;<span class="ident" id="6727847"><a href="/go/parser/interface.go.html#6036855">ParseExpr</a></span><span class="op" id="6727856">(</span><span class="ident" id="6727857"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6727860">)</span><span class="op" id="6727861">;</span>&nbsp;<span class="ident" id="6727863"><a href="/go/parser/parser_test.go.html#6727840">err</a></span>&nbsp;<span class="op" id="6727867">==</span>&nbsp;<span class="ident" id="6727870">nil</span>&nbsp;<span class="op" id="6727874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727878"><a href="/go/parser/parser_test.go.html#6727217">t</a></span><span class="op" id="6727879">.</span><span class="ident" id="6727880">Errorf</span><span class="op" id="6727886">(</span><span class="string" id="6727887">&#34;ParseExpr(%q):&nbsp;got&nbsp;no&nbsp;error&#34;</span><span class="op" id="6727916">,</span>&nbsp;<span class="ident" id="6727918"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6727921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6727924">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6727928">//&nbsp;a&nbsp;valid&nbsp;expression&nbsp;followed&nbsp;by&nbsp;extra&nbsp;tokens&nbsp;is&nbsp;invalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6727987"><a href="/go/parser/parser_test.go.html#6727296">src</a></span>&nbsp;<span class="op" id="6727991">=</span>&nbsp;<span class="string" id="6727993">&#34;a[i]&nbsp;:=&nbsp;x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728006">if</span>&nbsp;<span class="ident" id="6728009">_</span><span class="op" id="6728010">,</span>&nbsp;<span class="ident" id="6728012">err</span>&nbsp;<span class="op" id="6728016">:=</span>&nbsp;<span class="ident" id="6728019"><a href="/go/parser/interface.go.html#6036855">ParseExpr</a></span><span class="op" id="6728028">(</span><span class="ident" id="6728029"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6728032">)</span><span class="op" id="6728033">;</span>&nbsp;<span class="ident" id="6728035"><a href="/go/parser/parser_test.go.html#6728012">err</a></span>&nbsp;<span class="op" id="6728039">==</span>&nbsp;<span class="ident" id="6728042">nil</span>&nbsp;<span class="op" id="6728046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728050"><a href="/go/parser/parser_test.go.html#6727217">t</a></span><span class="op" id="6728051">.</span><span class="ident" id="6728052">Errorf</span><span class="op" id="6728058">(</span><span class="string" id="6728059">&#34;ParseExpr(%q):&nbsp;got&nbsp;no&nbsp;error&#34;</span><span class="op" id="6728088">,</span>&nbsp;<span class="ident" id="6728090"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6728093">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6728100">//&nbsp;a&nbsp;semicolon&nbsp;is&nbsp;not&nbsp;permitted&nbsp;unless&nbsp;automatically&nbsp;inserted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728163"><a href="/go/parser/parser_test.go.html#6727296">src</a></span>&nbsp;<span class="op" id="6728167">=</span>&nbsp;<span class="string" id="6728169">&#34;a&nbsp;+&nbsp;b\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728180">if</span>&nbsp;<span class="ident" id="6728183">_</span><span class="op" id="6728184">,</span>&nbsp;<span class="ident" id="6728186">err</span>&nbsp;<span class="op" id="6728190">:=</span>&nbsp;<span class="ident" id="6728193"><a href="/go/parser/interface.go.html#6036855">ParseExpr</a></span><span class="op" id="6728202">(</span><span class="ident" id="6728203"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6728206">)</span><span class="op" id="6728207">;</span>&nbsp;<span class="ident" id="6728209"><a href="/go/parser/parser_test.go.html#6728186">err</a></span>&nbsp;<span class="op" id="6728213">!=</span>&nbsp;<span class="ident" id="6728216">nil</span>&nbsp;<span class="op" id="6728220">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728224"><a href="/go/parser/parser_test.go.html#6727217">t</a></span><span class="op" id="6728225">.</span><span class="ident" id="6728226">Errorf</span><span class="op" id="6728232">(</span><span class="string" id="6728233">&#34;ParseExpr(%q):&nbsp;got&nbsp;error&nbsp;%s&#34;</span><span class="op" id="6728262">,</span>&nbsp;<span class="ident" id="6728264"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6728267">,</span>&nbsp;<span class="ident" id="6728269"><a href="/go/parser/parser_test.go.html#6728186">err</a></span><span class="op" id="6728272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728278"><a href="/go/parser/parser_test.go.html#6727296">src</a></span>&nbsp;<span class="op" id="6728282">=</span>&nbsp;<span class="string" id="6728284">&#34;a&nbsp;+&nbsp;b;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728294">if</span>&nbsp;<span class="ident" id="6728297">_</span><span class="op" id="6728298">,</span>&nbsp;<span class="ident" id="6728300">err</span>&nbsp;<span class="op" id="6728304">:=</span>&nbsp;<span class="ident" id="6728307"><a href="/go/parser/interface.go.html#6036855">ParseExpr</a></span><span class="op" id="6728316">(</span><span class="ident" id="6728317"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6728320">)</span><span class="op" id="6728321">;</span>&nbsp;<span class="ident" id="6728323"><a href="/go/parser/parser_test.go.html#6728300">err</a></span>&nbsp;<span class="op" id="6728327">==</span>&nbsp;<span class="ident" id="6728330">nil</span>&nbsp;<span class="op" id="6728334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728338"><a href="/go/parser/parser_test.go.html#6727217">t</a></span><span class="op" id="6728339">.</span><span class="ident" id="6728340">Errorf</span><span class="op" id="6728346">(</span><span class="string" id="6728347">&#34;ParseExpr(%q):&nbsp;got&nbsp;no&nbsp;error&#34;</span><span class="op" id="6728376">,</span>&nbsp;<span class="ident" id="6728378"><a href="/go/parser/parser_test.go.html#6727296">src</a></span><span class="op" id="6728381">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6728388">//&nbsp;various&nbsp;other&nbsp;stuff&nbsp;following&nbsp;a&nbsp;valid&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728441">const</span>&nbsp;<span class="ident" id="6728447">validExpr</span>&nbsp;<span class="op" id="6728457">=</span>&nbsp;<span class="string" id="6728459">&#34;a&nbsp;+&nbsp;b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728468">const</span>&nbsp;<span class="ident" id="6728474">anything</span>&nbsp;<span class="op" id="6728483">=</span>&nbsp;<span class="string" id="6728485">&#34;dh3*#D)#_&#34;</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728498">for</span>&nbsp;<span class="ident" id="6728502">_</span><span class="op" id="6728503">,</span>&nbsp;<span class="ident" id="6728505">c</span>&nbsp;<span class="op" id="6728507">:=</span>&nbsp;<span class="keyword" id="6728510">range</span>&nbsp;<span class="string" id="6728516">&#34;!)]};,&#34;</span>&nbsp;<span class="op" id="6728525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728529">src</span>&nbsp;<span class="op" id="6728533">:=</span>&nbsp;<span class="ident" id="6728536"><a href="/go/parser/parser_test.go.html#6728447">validExpr</a></span>&nbsp;<span class="op" id="6728546">+</span>&nbsp;<span class="builtintype" id="6728548">string</span><span class="op" id="6728554">(</span><span class="ident" id="6728555"><a href="/go/parser/parser_test.go.html#6728505">c</a></span><span class="op" id="6728556">)</span>&nbsp;<span class="op" id="6728558">+</span>&nbsp;<span class="ident" id="6728560"><a href="/go/parser/parser_test.go.html#6728474">anything</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728571">if</span>&nbsp;<span class="ident" id="6728574">_</span><span class="op" id="6728575">,</span>&nbsp;<span class="ident" id="6728577">err</span>&nbsp;<span class="op" id="6728581">:=</span>&nbsp;<span class="ident" id="6728584"><a href="/go/parser/interface.go.html#6036855">ParseExpr</a></span><span class="op" id="6728593">(</span><span class="ident" id="6728594"><a href="/go/parser/parser_test.go.html#6728529">src</a></span><span class="op" id="6728597">)</span><span class="op" id="6728598">;</span>&nbsp;<span class="ident" id="6728600"><a href="/go/parser/parser_test.go.html#6728577">err</a></span>&nbsp;<span class="op" id="6728604">==</span>&nbsp;<span class="ident" id="6728607">nil</span>&nbsp;<span class="op" id="6728611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728616"><a href="/go/parser/parser_test.go.html#6727217">t</a></span><span class="op" id="6728617">.</span><span class="ident" id="6728618">Errorf</span><span class="op" id="6728624">(</span><span class="string" id="6728625">&#34;ParseExpr(%q):&nbsp;got&nbsp;no&nbsp;error&#34;</span><span class="op" id="6728654">,</span>&nbsp;<span class="ident" id="6728656"><a href="/go/parser/parser_test.go.html#6728529">src</a></span><span class="op" id="6728659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728663">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6728670">//&nbsp;ParseExpr&nbsp;must&nbsp;not&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728699">for</span>&nbsp;<span class="ident" id="6728703">_</span><span class="op" id="6728704">,</span>&nbsp;<span class="ident" id="6728706">src</span>&nbsp;<span class="op" id="6728710">:=</span>&nbsp;<span class="keyword" id="6728713">range</span>&nbsp;<span class="ident" id="6728719"><a href="/go/parser/short_test.go.html#6737226">valids</a></span>&nbsp;<span class="op" id="6728726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728730"><a href="/go/parser/interface.go.html#6036855">ParseExpr</a></span><span class="op" id="6728739">(</span><span class="ident" id="6728740"><a href="/go/parser/parser_test.go.html#6728706">src</a></span><span class="op" id="6728743">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728746">}</span><br>
<span class="lineno"></span><span class="op" id="6728748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6728751">func</span>&nbsp;<span class="ident" id="6728756">TestColonEqualsScope</span><span class="op" id="6728776">(</span><span class="ident" id="6728777">t</span>&nbsp;<span class="op" id="6728779">*</span><span class="ident" id="6728780"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6728787">.</span><span class="ident" id="6728788">T</span><span class="op" id="6728789">)</span>&nbsp;<span class="op" id="6728791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728794">f</span><span class="op" id="6728795">,</span>&nbsp;<span class="ident" id="6728797">err</span>&nbsp;<span class="op" id="6728801">:=</span>&nbsp;<span class="ident" id="6728804"><a href="/go/parser/interface.go.html#6034508">ParseFile</a></span><span class="op" id="6728813">(</span><span class="ident" id="6728814"><a href="/go/parser/parser_test.go.html#6726034">fset</a></span><span class="op" id="6728818">,</span>&nbsp;<span class="string" id="6728820">&#34;&#34;</span><span class="op" id="6728822">,</span>&nbsp;<span class="string" id="6728824">`package&nbsp;p;&nbsp;func&nbsp;f()&nbsp;{&nbsp;x,&nbsp;y,&nbsp;z&nbsp;:=&nbsp;x,&nbsp;y,&nbsp;z&nbsp;}`</span><span class="op" id="6728868">,</span>&nbsp;<span class="num" id="6728870">0</span><span class="op" id="6728871">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6728874">if</span>&nbsp;<span class="ident" id="6728877"><a href="/go/parser/parser_test.go.html#6728797">err</a></span>&nbsp;<span class="op" id="6728881">!=</span>&nbsp;<span class="ident" id="6728884">nil</span>&nbsp;<span class="op" id="6728888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728892"><a href="/go/parser/parser_test.go.html#6728777">t</a></span><span class="op" id="6728893">.</span><span class="ident" id="6728894">Fatal</span><span class="op" id="6728899">(</span><span class="ident" id="6728900"><a href="/go/parser/parser_test.go.html#6728797">err</a></span><span class="op" id="6728903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6728906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6728910">//&nbsp;RHS&nbsp;refers&nbsp;to&nbsp;undefined&nbsp;globals;&nbsp;LHS&nbsp;does&nbsp;not.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6728961">as</span>&nbsp;<span class="op" id="6728964">:=</span>&nbsp;<span class="ident" id="6728967"><a href="/go/parser/parser_test.go.html#6728794">f</a></span><span class="op" id="6728968">.</span><span class="ident" id="6728969">Decls</span><span class="op" id="6728974">[</span><span class="num" id="6728975">0</span><span class="op" id="6728976">]</span><span class="op" id="6728977">.</span><span class="op" id="6728978">(</span><span class="op" id="6728979">*</span><span class="ident" id="6728980"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6728983">.</span><span class="ident" id="6728984">FuncDecl</span><span class="op" id="6728992">)</span><span class="op" id="6728993">.</span><span class="ident" id="6728994">Body</span><span class="op" id="6728998">.</span><span class="ident" id="6728999">List</span><span class="op" id="6729003">[</span><span class="num" id="6729004">0</span><span class="op" id="6729005">]</span><span class="op" id="6729006">.</span><span class="op" id="6729007">(</span><span class="op" id="6729008">*</span><span class="ident" id="6729009"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6729012">.</span><span class="ident" id="6729013">AssignStmt</span><span class="op" id="6729023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729026">for</span>&nbsp;<span class="ident" id="6729030">_</span><span class="op" id="6729031">,</span>&nbsp;<span class="ident" id="6729033">v</span>&nbsp;<span class="op" id="6729035">:=</span>&nbsp;<span class="keyword" id="6729038">range</span>&nbsp;<span class="ident" id="6729044"><a href="/go/parser/parser_test.go.html#6728961">as</a></span><span class="op" id="6729046">.</span><span class="ident" id="6729047">Rhs</span>&nbsp;<span class="op" id="6729051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729055">id</span>&nbsp;<span class="op" id="6729058">:=</span>&nbsp;<span class="ident" id="6729061"><a href="/go/parser/parser_test.go.html#6729033">v</a></span><span class="op" id="6729062">.</span><span class="op" id="6729063">(</span><span class="op" id="6729064">*</span><span class="ident" id="6729065"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6729068">.</span><span class="ident" id="6729069">Ident</span><span class="op" id="6729074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729078">if</span>&nbsp;<span class="ident" id="6729081"><a href="/go/parser/parser_test.go.html#6729055">id</a></span><span class="op" id="6729083">.</span><span class="ident" id="6729084">Obj</span>&nbsp;<span class="op" id="6729088">!=</span>&nbsp;<span class="ident" id="6729091">nil</span>&nbsp;<span class="op" id="6729095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729100"><a href="/go/parser/parser_test.go.html#6728777">t</a></span><span class="op" id="6729101">.</span><span class="ident" id="6729102">Errorf</span><span class="op" id="6729108">(</span><span class="string" id="6729109">&#34;rhs&nbsp;%s&nbsp;has&nbsp;Obj,&nbsp;should&nbsp;not&#34;</span><span class="op" id="6729137">,</span>&nbsp;<span class="ident" id="6729139"><a href="/go/parser/parser_test.go.html#6729055">id</a></span><span class="op" id="6729141">.</span><span class="ident" id="6729142">Name</span><span class="op" id="6729146">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729156">for</span>&nbsp;<span class="ident" id="6729160">_</span><span class="op" id="6729161">,</span>&nbsp;<span class="ident" id="6729163">v</span>&nbsp;<span class="op" id="6729165">:=</span>&nbsp;<span class="keyword" id="6729168">range</span>&nbsp;<span class="ident" id="6729174"><a href="/go/parser/parser_test.go.html#6728961">as</a></span><span class="op" id="6729176">.</span><span class="ident" id="6729177">Lhs</span>&nbsp;<span class="op" id="6729181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729185">id</span>&nbsp;<span class="op" id="6729188">:=</span>&nbsp;<span class="ident" id="6729191"><a href="/go/parser/parser_test.go.html#6729163">v</a></span><span class="op" id="6729192">.</span><span class="op" id="6729193">(</span><span class="op" id="6729194">*</span><span class="ident" id="6729195"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6729198">.</span><span class="ident" id="6729199">Ident</span><span class="op" id="6729204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729208">if</span>&nbsp;<span class="ident" id="6729211"><a href="/go/parser/parser_test.go.html#6729185">id</a></span><span class="op" id="6729213">.</span><span class="ident" id="6729214">Obj</span>&nbsp;<span class="op" id="6729218">==</span>&nbsp;<span class="ident" id="6729221">nil</span>&nbsp;<span class="op" id="6729225">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729230"><a href="/go/parser/parser_test.go.html#6728777">t</a></span><span class="op" id="6729231">.</span><span class="ident" id="6729232">Errorf</span><span class="op" id="6729238">(</span><span class="string" id="6729239">&#34;lhs&nbsp;%s&nbsp;does&nbsp;not&nbsp;have&nbsp;Obj,&nbsp;should&#34;</span><span class="op" id="6729273">,</span>&nbsp;<span class="ident" id="6729275"><a href="/go/parser/parser_test.go.html#6729185">id</a></span><span class="op" id="6729277">.</span><span class="ident" id="6729278">Name</span><span class="op" id="6729282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729289">}</span><br>
<span class="lineno"></span><span class="op" id="6729291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="6729294">func</span>&nbsp;<span class="ident" id="6729299">TestVarScope</span><span class="op" id="6729311">(</span><span class="ident" id="6729312">t</span>&nbsp;<span class="op" id="6729314">*</span><span class="ident" id="6729315"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6729322">.</span><span class="ident" id="6729323">T</span><span class="op" id="6729324">)</span>&nbsp;<span class="op" id="6729326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729329">f</span><span class="op" id="6729330">,</span>&nbsp;<span class="ident" id="6729332">err</span>&nbsp;<span class="op" id="6729336">:=</span>&nbsp;<span class="ident" id="6729339"><a href="/go/parser/interface.go.html#6034508">ParseFile</a></span><span class="op" id="6729348">(</span><span class="ident" id="6729349"><a href="/go/parser/parser_test.go.html#6726034">fset</a></span><span class="op" id="6729353">,</span>&nbsp;<span class="string" id="6729355">&#34;&#34;</span><span class="op" id="6729357">,</span>&nbsp;<span class="string" id="6729359">`package&nbsp;p;&nbsp;func&nbsp;f()&nbsp;{&nbsp;var&nbsp;x,&nbsp;y,&nbsp;z&nbsp;=&nbsp;x,&nbsp;y,&nbsp;z&nbsp;}`</span><span class="op" id="6729406">,</span>&nbsp;<span class="num" id="6729408">0</span><span class="op" id="6729409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729412">if</span>&nbsp;<span class="ident" id="6729415"><a href="/go/parser/parser_test.go.html#6729332">err</a></span>&nbsp;<span class="op" id="6729419">!=</span>&nbsp;<span class="ident" id="6729422">nil</span>&nbsp;<span class="op" id="6729426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729430"><a href="/go/parser/parser_test.go.html#6729312">t</a></span><span class="op" id="6729431">.</span><span class="ident" id="6729432">Fatal</span><span class="op" id="6729437">(</span><span class="ident" id="6729438"><a href="/go/parser/parser_test.go.html#6729332">err</a></span><span class="op" id="6729441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729444">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6729448">//&nbsp;RHS&nbsp;refers&nbsp;to&nbsp;undefined&nbsp;globals;&nbsp;LHS&nbsp;does&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729499">as</span>&nbsp;<span class="op" id="6729502">:=</span>&nbsp;<span class="ident" id="6729505"><a href="/go/parser/parser_test.go.html#6729329">f</a></span><span class="op" id="6729506">.</span><span class="ident" id="6729507">Decls</span><span class="op" id="6729512">[</span><span class="num" id="6729513">0</span><span class="op" id="6729514">]</span><span class="op" id="6729515">.</span><span class="op" id="6729516">(</span><span class="op" id="6729517">*</span><span class="ident" id="6729518"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6729521">.</span><span class="ident" id="6729522">FuncDecl</span><span class="op" id="6729530">)</span><span class="op" id="6729531">.</span><span class="ident" id="6729532">Body</span><span class="op" id="6729536">.</span><span class="ident" id="6729537">List</span><span class="op" id="6729541">[</span><span class="num" id="6729542">0</span><span class="op" id="6729543">]</span><span class="op" id="6729544">.</span><span class="op" id="6729545">(</span><span class="op" id="6729546">*</span><span class="ident" id="6729547"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6729550">.</span><span class="ident" id="6729551">DeclStmt</span><span class="op" id="6729559">)</span><span class="op" id="6729560">.</span><span class="ident" id="6729561">Decl</span><span class="op" id="6729565">.</span><span class="op" id="6729566">(</span><span class="op" id="6729567">*</span><span class="ident" id="6729568"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6729571">.</span><span class="ident" id="6729572">GenDecl</span><span class="op" id="6729579">)</span><span class="op" id="6729580">.</span><span class="ident" id="6729581">Specs</span><span class="op" id="6729586">[</span><span class="num" id="6729587">0</span><span class="op" id="6729588">]</span><span class="op" id="6729589">.</span><span class="op" id="6729590">(</span><span class="op" id="6729591">*</span><span class="ident" id="6729592"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6729595">.</span><span class="ident" id="6729596">ValueSpec</span><span class="op" id="6729605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729608">for</span>&nbsp;<span class="ident" id="6729612">_</span><span class="op" id="6729613">,</span>&nbsp;<span class="ident" id="6729615">v</span>&nbsp;<span class="op" id="6729617">:=</span>&nbsp;<span class="keyword" id="6729620">range</span>&nbsp;<span class="ident" id="6729626"><a href="/go/parser/parser_test.go.html#6729499">as</a></span><span class="op" id="6729628">.</span><span class="ident" id="6729629">Values</span>&nbsp;<span class="op" id="6729636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729640">id</span>&nbsp;<span class="op" id="6729643">:=</span>&nbsp;<span class="ident" id="6729646"><a href="/go/parser/parser_test.go.html#6729615">v</a></span><span class="op" id="6729647">.</span><span class="op" id="6729648">(</span><span class="op" id="6729649">*</span><span class="ident" id="6729650"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6729653">.</span><span class="ident" id="6729654">Ident</span><span class="op" id="6729659">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729663">if</span>&nbsp;<span class="ident" id="6729666"><a href="/go/parser/parser_test.go.html#6729640">id</a></span><span class="op" id="6729668">.</span><span class="ident" id="6729669">Obj</span>&nbsp;<span class="op" id="6729673">!=</span>&nbsp;<span class="ident" id="6729676">nil</span>&nbsp;<span class="op" id="6729680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729685"><a href="/go/parser/parser_test.go.html#6729312">t</a></span><span class="op" id="6729686">.</span><span class="ident" id="6729687">Errorf</span><span class="op" id="6729693">(</span><span class="string" id="6729694">&#34;rhs&nbsp;%s&nbsp;has&nbsp;Obj,&nbsp;should&nbsp;not&#34;</span><span class="op" id="6729722">,</span>&nbsp;<span class="ident" id="6729724"><a href="/go/parser/parser_test.go.html#6729640">id</a></span><span class="op" id="6729726">.</span><span class="ident" id="6729727">Name</span><span class="op" id="6729731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729741">for</span>&nbsp;<span class="ident" id="6729745">_</span><span class="op" id="6729746">,</span>&nbsp;<span class="ident" id="6729748">id</span>&nbsp;<span class="op" id="6729751">:=</span>&nbsp;<span class="keyword" id="6729754">range</span>&nbsp;<span class="ident" id="6729760"><a href="/go/parser/parser_test.go.html#6729499">as</a></span><span class="op" id="6729762">.</span><span class="ident" id="6729763">Names</span>&nbsp;<span class="op" id="6729769">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729773">if</span>&nbsp;<span class="ident" id="6729776"><a href="/go/parser/parser_test.go.html#6729748">id</a></span><span class="op" id="6729778">.</span><span class="ident" id="6729779">Obj</span>&nbsp;<span class="op" id="6729783">==</span>&nbsp;<span class="ident" id="6729786">nil</span>&nbsp;<span class="op" id="6729790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729795"><a href="/go/parser/parser_test.go.html#6729312">t</a></span><span class="op" id="6729796">.</span><span class="ident" id="6729797">Errorf</span><span class="op" id="6729803">(</span><span class="string" id="6729804">&#34;lhs&nbsp;%s&nbsp;does&nbsp;not&nbsp;have&nbsp;Obj,&nbsp;should&#34;</span><span class="op" id="6729838">,</span>&nbsp;<span class="ident" id="6729840"><a href="/go/parser/parser_test.go.html#6729748">id</a></span><span class="op" id="6729842">.</span><span class="ident" id="6729843">Name</span><span class="op" id="6729847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729854">}</span><br>
<span class="lineno"></span><span class="op" id="6729856">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="6729859">func</span>&nbsp;<span class="ident" id="6729864">TestObjects</span><span class="op" id="6729875">(</span><span class="ident" id="6729876">t</span>&nbsp;<span class="op" id="6729878">*</span><span class="ident" id="6729879"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6729886">.</span><span class="ident" id="6729887">T</span><span class="op" id="6729888">)</span>&nbsp;<span class="op" id="6729890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729893">const</span>&nbsp;<span class="ident" id="6729899">src</span>&nbsp;<span class="op" id="6729903">=</span>&nbsp;<span class="string" id="6729905">`<br>
<span class="lineno"></span>package&nbsp;p<br>
<span class="lineno"></span>import&nbsp;fmt&nbsp;&#34;fmt&#34;<br>
<span class="lineno">180</span>const&nbsp;pi&nbsp;=&nbsp;3.14<br>
<span class="lineno"></span>type&nbsp;T&nbsp;struct{}<br>
<span class="lineno"></span>var&nbsp;x&nbsp;int<br>
<span class="lineno"></span>func&nbsp;f()&nbsp;{&nbsp;L:&nbsp;}<br>
<span class="lineno"></span>`</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729996">f</span><span class="op" id="6729997">,</span>&nbsp;<span class="ident" id="6729999">err</span>&nbsp;<span class="op" id="6730003">:=</span>&nbsp;<span class="ident" id="6730006"><a href="/go/parser/interface.go.html#6034508">ParseFile</a></span><span class="op" id="6730015">(</span><span class="ident" id="6730016"><a href="/go/parser/parser_test.go.html#6726034">fset</a></span><span class="op" id="6730020">,</span>&nbsp;<span class="string" id="6730022">&#34;&#34;</span><span class="op" id="6730024">,</span>&nbsp;<span class="ident" id="6730026"><a href="/go/parser/parser_test.go.html#6729899">src</a></span><span class="op" id="6730029">,</span>&nbsp;<span class="num" id="6730031">0</span><span class="op" id="6730032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730035">if</span>&nbsp;<span class="ident" id="6730038"><a href="/go/parser/parser_test.go.html#6729999">err</a></span>&nbsp;<span class="op" id="6730042">!=</span>&nbsp;<span class="ident" id="6730045">nil</span>&nbsp;<span class="op" id="6730049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730053"><a href="/go/parser/parser_test.go.html#6729876">t</a></span><span class="op" id="6730054">.</span><span class="ident" id="6730055">Fatal</span><span class="op" id="6730060">(</span><span class="ident" id="6730061"><a href="/go/parser/parser_test.go.html#6729999">err</a></span><span class="op" id="6730064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730067">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730071">objects</span>&nbsp;<span class="op" id="6730079">:=</span>&nbsp;<span class="keyword" id="6730082">map</span><span class="op" id="6730085">[</span><span class="builtintype" id="6730086">string</span><span class="op" id="6730092">]</span><span class="ident" id="6730093"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730096">.</span><span class="ident" id="6730097">ObjKind</span><span class="op" id="6730104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6730108">&#34;p&#34;</span><span class="op" id="6730111">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6730115"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730118">.</span><span class="ident" id="6730119">Bad</span><span class="op" id="6730122">,</span>&nbsp;<span class="comment" id="6730124">//&nbsp;not&nbsp;in&nbsp;a&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6730144">&#34;fmt&#34;</span><span class="op" id="6730149">:</span>&nbsp;<span class="ident" id="6730151"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730154">.</span><span class="ident" id="6730155">Bad</span><span class="op" id="6730158">,</span>&nbsp;<span class="comment" id="6730160">//&nbsp;not&nbsp;resolved&nbsp;yet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6730182">&#34;pi&#34;</span><span class="op" id="6730186">:</span>&nbsp;&nbsp;<span class="ident" id="6730189"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730192">.</span><span class="ident" id="6730193">Con</span><span class="op" id="6730196">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6730200">&#34;T&#34;</span><span class="op" id="6730203">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6730207"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730210">.</span><span class="ident" id="6730211">Typ</span><span class="op" id="6730214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6730218">&#34;x&#34;</span><span class="op" id="6730221">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6730225"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730228">.</span><span class="ident" id="6730229">Var</span><span class="op" id="6730232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6730236">&#34;int&#34;</span><span class="op" id="6730241">:</span>&nbsp;<span class="ident" id="6730243"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730246">.</span><span class="ident" id="6730247">Bad</span><span class="op" id="6730250">,</span>&nbsp;<span class="comment" id="6730252">//&nbsp;not&nbsp;resolved&nbsp;yet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6730274">&#34;f&#34;</span><span class="op" id="6730277">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6730281"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730284">.</span><span class="ident" id="6730285">Fun</span><span class="op" id="6730288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6730292">&#34;L&#34;</span><span class="op" id="6730295">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6730299"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730302">.</span><span class="ident" id="6730303">Lbl</span><span class="op" id="6730306">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730313"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730316">.</span><span class="ident" id="6730317">Inspect</span><span class="op" id="6730324">(</span><span class="ident" id="6730325"><a href="/go/parser/parser_test.go.html#6729996">f</a></span><span class="op" id="6730326">,</span>&nbsp;<span class="keyword" id="6730328">func</span><span class="op" id="6730332">(</span><span class="ident" id="6730333">n</span>&nbsp;<span class="ident" id="6730335"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730338">.</span><span class="ident" id="6730339">Node</span><span class="op" id="6730343">)</span>&nbsp;<span class="builtintype" id="6730345">bool</span>&nbsp;<span class="op" id="6730350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730354">if</span>&nbsp;<span class="ident" id="6730357">ident</span><span class="op" id="6730362">,</span>&nbsp;<span class="ident" id="6730364">ok</span>&nbsp;<span class="op" id="6730367">:=</span>&nbsp;<span class="ident" id="6730370"><a href="/go/parser/parser_test.go.html#6730333">n</a></span><span class="op" id="6730371">.</span><span class="op" id="6730372">(</span><span class="op" id="6730373">*</span><span class="ident" id="6730374"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730377">.</span><span class="ident" id="6730378">Ident</span><span class="op" id="6730383">)</span><span class="op" id="6730384">;</span>&nbsp;<span class="ident" id="6730386"><a href="/go/parser/parser_test.go.html#6730364">ok</a></span>&nbsp;<span class="op" id="6730389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730394">obj</span>&nbsp;<span class="op" id="6730398">:=</span>&nbsp;<span class="ident" id="6730401"><a href="/go/parser/parser_test.go.html#6730357">ident</a></span><span class="op" id="6730406">.</span><span class="ident" id="6730407">Obj</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730414">if</span>&nbsp;<span class="ident" id="6730417"><a href="/go/parser/parser_test.go.html#6730394">obj</a></span>&nbsp;<span class="op" id="6730421">==</span>&nbsp;<span class="ident" id="6730424">nil</span>&nbsp;<span class="op" id="6730428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730434">if</span>&nbsp;<span class="ident" id="6730437"><a href="/go/parser/parser_test.go.html#6730071">objects</a></span><span class="op" id="6730444">[</span><span class="ident" id="6730445"><a href="/go/parser/parser_test.go.html#6730357">ident</a></span><span class="op" id="6730450">.</span><span class="ident" id="6730451">Name</span><span class="op" id="6730455">]</span>&nbsp;<span class="op" id="6730457">!=</span>&nbsp;<span class="ident" id="6730460"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6730463">.</span><span class="ident" id="6730464">Bad</span>&nbsp;<span class="op" id="6730468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730475"><a href="/go/parser/parser_test.go.html#6729876">t</a></span><span class="op" id="6730476">.</span><span class="ident" id="6730477">Errorf</span><span class="op" id="6730483">(</span><span class="string" id="6730484">&#34;no&nbsp;object&nbsp;for&nbsp;%s&#34;</span><span class="op" id="6730502">,</span>&nbsp;<span class="ident" id="6730504"><a href="/go/parser/parser_test.go.html#6730357">ident</a></span><span class="op" id="6730509">.</span><span class="ident" id="6730510">Name</span><span class="op" id="6730514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730526">return</span>&nbsp;<span class="ident" id="6730533">true</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730546">if</span>&nbsp;<span class="ident" id="6730549"><a href="/go/parser/parser_test.go.html#6730394">obj</a></span><span class="op" id="6730552">.</span><span class="ident" id="6730553">Name</span>&nbsp;<span class="op" id="6730558">!=</span>&nbsp;<span class="ident" id="6730561"><a href="/go/parser/parser_test.go.html#6730357">ident</a></span><span class="op" id="6730566">.</span><span class="ident" id="6730567">Name</span>&nbsp;<span class="op" id="6730572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730578"><a href="/go/parser/parser_test.go.html#6729876">t</a></span><span class="op" id="6730579">.</span><span class="ident" id="6730580">Errorf</span><span class="op" id="6730586">(</span><span class="string" id="6730587">&#34;names&nbsp;don&#39;t&nbsp;match:&nbsp;obj.Name&nbsp;=&nbsp;%s,&nbsp;ident.Name&nbsp;=&nbsp;%s&#34;</span><span class="op" id="6730638">,</span>&nbsp;<span class="ident" id="6730640"><a href="/go/parser/parser_test.go.html#6730394">obj</a></span><span class="op" id="6730643">.</span><span class="ident" id="6730644">Name</span><span class="op" id="6730648">,</span>&nbsp;<span class="ident" id="6730650"><a href="/go/parser/parser_test.go.html#6730357">ident</a></span><span class="op" id="6730655">.</span><span class="ident" id="6730656">Name</span><span class="op" id="6730660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730670">kind</span>&nbsp;<span class="op" id="6730675">:=</span>&nbsp;<span class="ident" id="6730678"><a href="/go/parser/parser_test.go.html#6730071">objects</a></span><span class="op" id="6730685">[</span><span class="ident" id="6730686"><a href="/go/parser/parser_test.go.html#6730357">ident</a></span><span class="op" id="6730691">.</span><span class="ident" id="6730692">Name</span><span class="op" id="6730696">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730701">if</span>&nbsp;<span class="ident" id="6730704"><a href="/go/parser/parser_test.go.html#6730394">obj</a></span><span class="op" id="6730707">.</span><span class="ident" id="6730708">Kind</span>&nbsp;<span class="op" id="6730713">!=</span>&nbsp;<span class="ident" id="6730716"><a href="/go/parser/parser_test.go.html#6730670">kind</a></span>&nbsp;<span class="op" id="6730721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730727"><a href="/go/parser/parser_test.go.html#6729876">t</a></span><span class="op" id="6730728">.</span><span class="ident" id="6730729">Errorf</span><span class="op" id="6730735">(</span><span class="string" id="6730736">&#34;%s:&nbsp;obj.Kind&nbsp;=&nbsp;%s;&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6730764">,</span>&nbsp;<span class="ident" id="6730766"><a href="/go/parser/parser_test.go.html#6730357">ident</a></span><span class="op" id="6730771">.</span><span class="ident" id="6730772">Name</span><span class="op" id="6730776">,</span>&nbsp;<span class="ident" id="6730778"><a href="/go/parser/parser_test.go.html#6730394">obj</a></span><span class="op" id="6730781">.</span><span class="ident" id="6730782">Kind</span><span class="op" id="6730786">,</span>&nbsp;<span class="ident" id="6730788"><a href="/go/parser/parser_test.go.html#6730670">kind</a></span><span class="op" id="6730792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6730805">return</span>&nbsp;<span class="ident" id="6730812">true</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6730818">}</span><span class="op" id="6730819">)</span><br>
<span class="lineno"></span><span class="op" id="6730821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6730824">func</span>&nbsp;<span class="ident" id="6730829">TestUnresolved</span><span class="op" id="6730843">(</span><span class="ident" id="6730844">t</span>&nbsp;<span class="op" id="6730846">*</span><span class="ident" id="6730847"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6730854">.</span><span class="ident" id="6730855">T</span><span class="op" id="6730856">)</span>&nbsp;<span class="op" id="6730858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6730861">f</span><span class="op" id="6730862">,</span>&nbsp;<span class="ident" id="6730864">err</span>&nbsp;<span class="op" id="6730868">:=</span>&nbsp;<span class="ident" id="6730871"><a href="/go/parser/interface.go.html#6034508">ParseFile</a></span><span class="op" id="6730880">(</span><span class="ident" id="6730881"><a href="/go/parser/parser_test.go.html#6726034">fset</a></span><span class="op" id="6730885">,</span>&nbsp;<span class="string" id="6730887">&#34;&#34;</span><span class="op" id="6730889">,</span>&nbsp;<span class="string" id="6730891">`<br>
<span class="lineno">225</span>package&nbsp;p<br>
<span class="lineno"></span>//<br>
<span class="lineno"></span>func&nbsp;f1a(int)<br>
<span class="lineno"></span>func&nbsp;f2a(byte,&nbsp;int,&nbsp;float)<br>
<span class="lineno"></span>func&nbsp;f3a(a,&nbsp;b&nbsp;int,&nbsp;c&nbsp;float)<br>
<span class="lineno">230</span>func&nbsp;f4a(...complex)<br>
<span class="lineno"></span>func&nbsp;f5a(a&nbsp;s1a,&nbsp;b&nbsp;...complex)<br>
<span class="lineno"></span>//<br>
<span class="lineno"></span>func&nbsp;f1b(*int)<br>
<span class="lineno"></span>func&nbsp;f2b([]byte,&nbsp;(int),&nbsp;*float)<br>
<span class="lineno">235</span>func&nbsp;f3b(a,&nbsp;b&nbsp;*int,&nbsp;c&nbsp;[]float)<br>
<span class="lineno"></span>func&nbsp;f4b(...*complex)<br>
<span class="lineno"></span>func&nbsp;f5b(a&nbsp;s1a,&nbsp;b&nbsp;...[]complex)<br>
<span class="lineno"></span>//<br>
<span class="lineno"></span>type&nbsp;s1a&nbsp;struct&nbsp;{&nbsp;int&nbsp;}<br>
<span class="lineno">240</span>type&nbsp;s2a&nbsp;struct&nbsp;{&nbsp;byte;&nbsp;int;&nbsp;s1a&nbsp;}<br>
<span class="lineno"></span>type&nbsp;s3a&nbsp;struct&nbsp;{&nbsp;a,&nbsp;b&nbsp;int;&nbsp;c&nbsp;float&nbsp;}<br>
<span class="lineno"></span>//<br>
<span class="lineno"></span>type&nbsp;s1b&nbsp;struct&nbsp;{&nbsp;*int&nbsp;}<br>
<span class="lineno"></span>type&nbsp;s2b&nbsp;struct&nbsp;{&nbsp;byte;&nbsp;int;&nbsp;*float&nbsp;}<br>
<span class="lineno">245</span>type&nbsp;s3b&nbsp;struct&nbsp;{&nbsp;a,&nbsp;b&nbsp;*s3b;&nbsp;c&nbsp;[]float&nbsp;}<br>
<span class="lineno"></span>`</span><span class="op" id="6731369">,</span>&nbsp;<span class="num" id="6731371">0</span><span class="op" id="6731372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731375">if</span>&nbsp;<span class="ident" id="6731378"><a href="/go/parser/parser_test.go.html#6730864">err</a></span>&nbsp;<span class="op" id="6731382">!=</span>&nbsp;<span class="ident" id="6731385">nil</span>&nbsp;<span class="op" id="6731389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731393"><a href="/go/parser/parser_test.go.html#6730844">t</a></span><span class="op" id="6731394">.</span><span class="ident" id="6731395">Fatal</span><span class="op" id="6731400">(</span><span class="ident" id="6731401"><a href="/go/parser/parser_test.go.html#6730864">err</a></span><span class="op" id="6731404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731407">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731411">want</span>&nbsp;<span class="op" id="6731416">:=</span>&nbsp;<span class="string" id="6731419">&#34;int&nbsp;&#34;</span>&nbsp;<span class="op" id="6731426">+</span>&nbsp;<span class="comment" id="6731428">//&nbsp;f1a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731437">&#34;byte&nbsp;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="6731455">+</span>&nbsp;<span class="comment" id="6731457">//&nbsp;f2a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731466">&#34;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="6731479">+</span>&nbsp;<span class="comment" id="6731481">//&nbsp;f3a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731490">&#34;complex&nbsp;&#34;</span>&nbsp;<span class="op" id="6731501">+</span>&nbsp;<span class="comment" id="6731503">//&nbsp;f4a</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731512">&#34;complex&nbsp;&#34;</span>&nbsp;<span class="op" id="6731523">+</span>&nbsp;<span class="comment" id="6731525">//&nbsp;f5a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6731534">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731539">&#34;int&nbsp;&#34;</span>&nbsp;<span class="op" id="6731546">+</span>&nbsp;<span class="comment" id="6731548">//&nbsp;f1b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731557">&#34;byte&nbsp;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="6731575">+</span>&nbsp;<span class="comment" id="6731577">//&nbsp;f2b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731586">&#34;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="6731599">+</span>&nbsp;<span class="comment" id="6731601">//&nbsp;f3b</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731610">&#34;complex&nbsp;&#34;</span>&nbsp;<span class="op" id="6731621">+</span>&nbsp;<span class="comment" id="6731623">//&nbsp;f4b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731632">&#34;complex&nbsp;&#34;</span>&nbsp;<span class="op" id="6731643">+</span>&nbsp;<span class="comment" id="6731645">//&nbsp;f5b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6731654">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731659">&#34;int&nbsp;&#34;</span>&nbsp;<span class="op" id="6731666">+</span>&nbsp;<span class="comment" id="6731668">//&nbsp;s1a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731677">&#34;byte&nbsp;int&nbsp;&#34;</span>&nbsp;<span class="op" id="6731689">+</span>&nbsp;<span class="comment" id="6731691">//&nbsp;s2a</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731700">&#34;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="6731713">+</span>&nbsp;<span class="comment" id="6731715">//&nbsp;s3a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6731724">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731729">&#34;int&nbsp;&#34;</span>&nbsp;<span class="op" id="6731736">+</span>&nbsp;<span class="comment" id="6731738">//&nbsp;s1a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731747">&#34;byte&nbsp;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="6731765">+</span>&nbsp;<span class="comment" id="6731767">//&nbsp;s2a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6731776">&#34;float&nbsp;&#34;</span>&nbsp;<span class="comment" id="6731785">//&nbsp;s3a</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6731794">//&nbsp;collect&nbsp;unresolved&nbsp;identifiers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731829">var</span>&nbsp;<span class="ident" id="6731833">buf</span>&nbsp;<span class="ident" id="6731837"><a href="/go/parser/parser_test.go.html#6725962">bytes</a></span><span class="op" id="6731842">.</span><span class="ident" id="6731843">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731851">for</span>&nbsp;<span class="ident" id="6731855">_</span><span class="op" id="6731856">,</span>&nbsp;<span class="ident" id="6731858">u</span>&nbsp;<span class="op" id="6731860">:=</span>&nbsp;<span class="keyword" id="6731863">range</span>&nbsp;<span class="ident" id="6731869"><a href="/go/parser/parser_test.go.html#6730861">f</a></span><span class="op" id="6731870">.</span><span class="ident" id="6731871">Unresolved</span>&nbsp;<span class="op" id="6731882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731886"><a href="/go/parser/parser_test.go.html#6731833">buf</a></span><span class="op" id="6731889">.</span><span class="ident" id="6731890">WriteString</span><span class="op" id="6731901">(</span><span class="ident" id="6731902"><a href="/go/parser/parser_test.go.html#6731858">u</a></span><span class="op" id="6731903">.</span><span class="ident" id="6731904">Name</span><span class="op" id="6731908">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731912"><a href="/go/parser/parser_test.go.html#6731833">buf</a></span><span class="op" id="6731915">.</span><span class="ident" id="6731916">WriteByte</span><span class="op" id="6731925">(</span><span class="string" id="6731926">&#39;&nbsp;&#39;</span><span class="op" id="6731929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6731932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731935">got</span>&nbsp;<span class="op" id="6731939">:=</span>&nbsp;<span class="ident" id="6731942"><a href="/go/parser/parser_test.go.html#6731833">buf</a></span><span class="op" id="6731945">.</span><span class="ident" id="6731946">String</span><span class="op" id="6731952">(</span><span class="op" id="6731953">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6731957">if</span>&nbsp;<span class="ident" id="6731960"><a href="/go/parser/parser_test.go.html#6731935">got</a></span>&nbsp;<span class="op" id="6731964">!=</span>&nbsp;<span class="ident" id="6731967"><a href="/go/parser/parser_test.go.html#6731411">want</a></span>&nbsp;<span class="op" id="6731972">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6731976"><a href="/go/parser/parser_test.go.html#6730844">t</a></span><span class="op" id="6731977">.</span><span class="ident" id="6731978">Errorf</span><span class="op" id="6731984">(</span><span class="string" id="6731985">&#34;\ngot:&nbsp;&nbsp;%s\nwant:&nbsp;%s&#34;</span><span class="op" id="6732007">,</span>&nbsp;<span class="ident" id="6732009"><a href="/go/parser/parser_test.go.html#6731935">got</a></span><span class="op" id="6732012">,</span>&nbsp;<span class="ident" id="6732014"><a href="/go/parser/parser_test.go.html#6731411">want</a></span><span class="op" id="6732018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6732021">}</span><br>
<span class="lineno"></span><span class="op" id="6732023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6732026">var</span>&nbsp;<span class="ident" id="6732030">imports</span>&nbsp;<span class="op" id="6732038">=</span>&nbsp;<span class="keyword" id="6732040">map</span><span class="op" id="6732043">[</span><span class="builtintype" id="6732044">string</span><span class="op" id="6732050">]</span><span class="builtintype" id="6732051">bool</span><span class="op" id="6732055">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732058">`&#34;a&#34;`</span><span class="op" id="6732063">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732072">true</span><span class="op" id="6732076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732079">&#34;`a`&#34;</span><span class="op" id="6732084">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732093">true</span><span class="op" id="6732097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732100">`&#34;a/b&#34;`</span><span class="op" id="6732107">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732114">true</span><span class="op" id="6732118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732121">`&#34;a.b&#34;`</span><span class="op" id="6732128">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732135">true</span><span class="op" id="6732139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732142">`&#34;m\x61th&#34;`</span><span class="op" id="6732153">:</span>&nbsp;&nbsp;<span class="ident" id="6732156">true</span><span class="op" id="6732160">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732163">`&#34;greek/&#34;`</span><span class="op" id="6732177">:</span>&nbsp;<span class="ident" id="6732179">true</span><span class="op" id="6732183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732186">`&#34;&#34;`</span><span class="op" id="6732190">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732200">false</span><span class="op" id="6732205">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732209">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;pairs&nbsp;tests&nbsp;both&nbsp;``&nbsp;vs&nbsp;&#34;&#34;&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732261">//&nbsp;and&nbsp;also&nbsp;use&nbsp;of&nbsp;invalid&nbsp;characters&nbsp;spelled&nbsp;out&nbsp;as</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732315">//&nbsp;escape&nbsp;sequences&nbsp;and&nbsp;written&nbsp;directly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732358">//&nbsp;For&nbsp;example&nbsp;`&#34;\x00&#34;`&nbsp;tests&nbsp;import&nbsp;&#34;\x00&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6732403">//&nbsp;while&nbsp;&#34;`\x00`&#34;&nbsp;tests&nbsp;import&nbsp;`&lt;actual-NUL-byte&gt;`.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732456">`&#34;\x00&#34;`</span><span class="op" id="6732464">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732470">false</span><span class="op" id="6732475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732478">&#34;`\x00`&#34;</span><span class="op" id="6732486">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732492">false</span><span class="op" id="6732497">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732500">`&#34;\x7f&#34;`</span><span class="op" id="6732508">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732514">false</span><span class="op" id="6732519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732522">&#34;`\x7f`&#34;</span><span class="op" id="6732530">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732536">false</span><span class="op" id="6732541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732544">`&#34;a!&#34;`</span><span class="op" id="6732550">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732558">false</span><span class="op" id="6732563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732566">&#34;`a!`&#34;</span><span class="op" id="6732572">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732580">false</span><span class="op" id="6732585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732588">`&#34;a&nbsp;b&#34;`</span><span class="op" id="6732595">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732602">false</span><span class="op" id="6732607">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732610">&#34;`a&nbsp;b`&#34;</span><span class="op" id="6732617">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732624">false</span><span class="op" id="6732629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732632">`&#34;a\\b&#34;`</span><span class="op" id="6732640">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732646">false</span><span class="op" id="6732651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732654">&#34;`a\\b`&#34;</span><span class="op" id="6732662">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732668">false</span><span class="op" id="6732673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732676">&#34;\&#34;`a`\&#34;&#34;</span><span class="op" id="6732685">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732690">false</span><span class="op" id="6732695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732698">&#34;`\&#34;a\&#34;`&#34;</span><span class="op" id="6732707">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732712">false</span><span class="op" id="6732717">,</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732720">`&#34;\x80\x80&#34;`</span><span class="op" id="6732732">:</span>&nbsp;<span class="ident" id="6732734">false</span><span class="op" id="6732739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732742">&#34;`\x80\x80`&#34;</span><span class="op" id="6732754">:</span>&nbsp;<span class="ident" id="6732756">false</span><span class="op" id="6732761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732764">`&#34;\xFFFD&#34;`</span><span class="op" id="6732774">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6732778">false</span><span class="op" id="6732783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732786">&#34;`\xFFFD`&#34;</span><span class="op" id="6732796">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6732800">false</span><span class="op" id="6732805">,</span><br>
<span class="lineno"></span><span class="op" id="6732807">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span><span class="keyword" id="6732810">func</span>&nbsp;<span class="ident" id="6732815">TestImports</span><span class="op" id="6732826">(</span><span class="ident" id="6732827">t</span>&nbsp;<span class="op" id="6732829">*</span><span class="ident" id="6732830"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6732837">.</span><span class="ident" id="6732838">T</span><span class="op" id="6732839">)</span>&nbsp;<span class="op" id="6732841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732844">for</span>&nbsp;<span class="ident" id="6732848">path</span><span class="op" id="6732852">,</span>&nbsp;<span class="ident" id="6732854">isValid</span>&nbsp;<span class="op" id="6732862">:=</span>&nbsp;<span class="keyword" id="6732865">range</span>&nbsp;<span class="ident" id="6732871"><a href="/go/parser/parser_test.go.html#6732030">imports</a></span>&nbsp;<span class="op" id="6732879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732883">src</span>&nbsp;<span class="op" id="6732887">:=</span>&nbsp;<span class="ident" id="6732890"><a href="/go/parser/parser_test.go.html#6725971">fmt</a></span><span class="op" id="6732893">.</span><span class="ident" id="6732894">Sprintf</span><span class="op" id="6732901">(</span><span class="string" id="6732902">&#34;package&nbsp;p;&nbsp;import&nbsp;%s&#34;</span><span class="op" id="6732924">,</span>&nbsp;<span class="ident" id="6732926"><a href="/go/parser/parser_test.go.html#6732848">path</a></span><span class="op" id="6732930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6732934">_</span><span class="op" id="6732935">,</span>&nbsp;<span class="ident" id="6732937">err</span>&nbsp;<span class="op" id="6732941">:=</span>&nbsp;<span class="ident" id="6732944"><a href="/go/parser/interface.go.html#6034508">ParseFile</a></span><span class="op" id="6732953">(</span><span class="ident" id="6732954"><a href="/go/parser/parser_test.go.html#6726034">fset</a></span><span class="op" id="6732958">,</span>&nbsp;<span class="string" id="6732960">&#34;&#34;</span><span class="op" id="6732962">,</span>&nbsp;<span class="ident" id="6732964"><a href="/go/parser/parser_test.go.html#6732883">src</a></span><span class="op" id="6732967">,</span>&nbsp;<span class="num" id="6732969">0</span><span class="op" id="6732970">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732974">switch</span>&nbsp;<span class="op" id="6732981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6732985">case</span>&nbsp;<span class="ident" id="6732990"><a href="/go/parser/parser_test.go.html#6732937">err</a></span>&nbsp;<span class="op" id="6732994">!=</span>&nbsp;<span class="ident" id="6732997">nil</span>&nbsp;<span class="op" id="6733001">&amp;&amp;</span>&nbsp;<span class="ident" id="6733004"><a href="/go/parser/parser_test.go.html#6732854">isValid</a></span><span class="op" id="6733011">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733016"><a href="/go/parser/parser_test.go.html#6732827">t</a></span><span class="op" id="6733017">.</span><span class="ident" id="6733018">Errorf</span><span class="op" id="6733024">(</span><span class="string" id="6733025">&#34;ParseFile(%s):&nbsp;got&nbsp;%v;&nbsp;expected&nbsp;no&nbsp;error&#34;</span><span class="op" id="6733067">,</span>&nbsp;<span class="ident" id="6733069"><a href="/go/parser/parser_test.go.html#6732883">src</a></span><span class="op" id="6733072">,</span>&nbsp;<span class="ident" id="6733074"><a href="/go/parser/parser_test.go.html#6732937">err</a></span><span class="op" id="6733077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733081">case</span>&nbsp;<span class="ident" id="6733086"><a href="/go/parser/parser_test.go.html#6732937">err</a></span>&nbsp;<span class="op" id="6733090">==</span>&nbsp;<span class="ident" id="6733093">nil</span>&nbsp;<span class="op" id="6733097">&amp;&amp;</span>&nbsp;<span class="op" id="6733100">!</span><span class="ident" id="6733101"><a href="/go/parser/parser_test.go.html#6732854">isValid</a></span><span class="op" id="6733108">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733113"><a href="/go/parser/parser_test.go.html#6732827">t</a></span><span class="op" id="6733114">.</span><span class="ident" id="6733115">Errorf</span><span class="op" id="6733121">(</span><span class="string" id="6733122">&#34;ParseFile(%s):&nbsp;got&nbsp;no&nbsp;error;&nbsp;expected&nbsp;one&#34;</span><span class="op" id="6733165">,</span>&nbsp;<span class="ident" id="6733167"><a href="/go/parser/parser_test.go.html#6732883">src</a></span><span class="op" id="6733170">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733177">}</span><br>
<span class="lineno"></span><span class="op" id="6733179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6733182">func</span>&nbsp;<span class="ident" id="6733187">TestCommentGroups</span><span class="op" id="6733204">(</span><span class="ident" id="6733205">t</span>&nbsp;<span class="op" id="6733207">*</span><span class="ident" id="6733208"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6733215">.</span><span class="ident" id="6733216">T</span><span class="op" id="6733217">)</span>&nbsp;<span class="op" id="6733219">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733222">f</span><span class="op" id="6733223">,</span>&nbsp;<span class="ident" id="6733225">err</span>&nbsp;<span class="op" id="6733229">:=</span>&nbsp;<span class="ident" id="6733232"><a href="/go/parser/interface.go.html#6034508">ParseFile</a></span><span class="op" id="6733241">(</span><span class="ident" id="6733242"><a href="/go/parser/parser_test.go.html#6726034">fset</a></span><span class="op" id="6733246">,</span>&nbsp;<span class="string" id="6733248">&#34;&#34;</span><span class="op" id="6733250">,</span>&nbsp;<span class="string" id="6733252">`<br>
<span class="lineno"></span>package&nbsp;p&nbsp;/*&nbsp;1a&nbsp;*/&nbsp;/*&nbsp;1b&nbsp;*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;1c&nbsp;*/&nbsp;//&nbsp;1d<br>
<span class="lineno"></span>/*&nbsp;2a<br>
<span class="lineno"></span>*/<br>
<span class="lineno"></span>//&nbsp;2b<br>
<span class="lineno">335</span>const&nbsp;pi&nbsp;=&nbsp;3.1415<br>
<span class="lineno"></span>/*&nbsp;3a&nbsp;*/&nbsp;//&nbsp;3b<br>
<span class="lineno"></span>/*&nbsp;3c&nbsp;*/&nbsp;const&nbsp;e&nbsp;=&nbsp;2.7182<br>
<span class="lineno"></span><br>
<span class="lineno"></span>//&nbsp;Example&nbsp;from&nbsp;issue&nbsp;3139<br>
<span class="lineno">340</span>func&nbsp;ExampleCount()&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspfmt.Println(strings.Count(&#34;cheese&#34;,&nbsp;&#34;e&#34;))<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspfmt.Println(strings.Count(&#34;five&#34;,&nbsp;&#34;&#34;))&nbsp;//&nbsp;before&nbsp;&amp;&nbsp;after&nbsp;each&nbsp;rune<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;Output:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;3<br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;5<br>
<span class="lineno"></span>}<br>
<span class="lineno"></span>`</span><span class="op" id="6733564">,</span>&nbsp;<span class="ident" id="6733566"><a href="/go/parser/interface.go.html#6033015">ParseComments</a></span><span class="op" id="6733579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733582">if</span>&nbsp;<span class="ident" id="6733585"><a href="/go/parser/parser_test.go.html#6733225">err</a></span>&nbsp;<span class="op" id="6733589">!=</span>&nbsp;<span class="ident" id="6733592">nil</span>&nbsp;<span class="op" id="6733596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733600"><a href="/go/parser/parser_test.go.html#6733205">t</a></span><span class="op" id="6733601">.</span><span class="ident" id="6733602">Fatal</span><span class="op" id="6733607">(</span><span class="ident" id="6733608"><a href="/go/parser/parser_test.go.html#6733225">err</a></span><span class="op" id="6733611">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733617">expected</span>&nbsp;<span class="op" id="6733626">:=</span>&nbsp;<span class="op" id="6733629">[</span><span class="op" id="6733630">]</span><span class="op" id="6733631">[</span><span class="op" id="6733632">]</span><span class="builtintype" id="6733633">string</span><span class="op" id="6733639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733643">{</span><span class="string" id="6733644">&#34;/*&nbsp;1a&nbsp;*/&#34;</span><span class="op" id="6733654">,</span>&nbsp;<span class="string" id="6733656">&#34;/*&nbsp;1b&nbsp;*/&#34;</span><span class="op" id="6733666">,</span>&nbsp;<span class="string" id="6733668">&#34;/*&nbsp;1c&nbsp;*/&#34;</span><span class="op" id="6733678">,</span>&nbsp;<span class="string" id="6733680">&#34;//&nbsp;1d&#34;</span><span class="op" id="6733687">}</span><span class="op" id="6733688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733692">{</span><span class="string" id="6733693">&#34;/*&nbsp;2a\n*/&#34;</span><span class="op" id="6733704">,</span>&nbsp;<span class="string" id="6733706">&#34;//&nbsp;2b&#34;</span><span class="op" id="6733713">}</span><span class="op" id="6733714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733718">{</span><span class="string" id="6733719">&#34;/*&nbsp;3a&nbsp;*/&#34;</span><span class="op" id="6733729">,</span>&nbsp;<span class="string" id="6733731">&#34;//&nbsp;3b&#34;</span><span class="op" id="6733738">,</span>&nbsp;<span class="string" id="6733740">&#34;/*&nbsp;3c&nbsp;*/&#34;</span><span class="op" id="6733750">}</span><span class="op" id="6733751">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733755">{</span><span class="string" id="6733756">&#34;//&nbsp;Example&nbsp;from&nbsp;issue&nbsp;3139&#34;</span><span class="op" id="6733784">}</span><span class="op" id="6733785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733789">{</span><span class="string" id="6733790">&#34;//&nbsp;before&nbsp;&amp;&nbsp;after&nbsp;each&nbsp;rune&#34;</span><span class="op" id="6733819">}</span><span class="op" id="6733820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733824">{</span><span class="string" id="6733825">&#34;//&nbsp;Output:&#34;</span><span class="op" id="6733837">,</span>&nbsp;<span class="string" id="6733839">&#34;//&nbsp;3&#34;</span><span class="op" id="6733845">,</span>&nbsp;<span class="string" id="6733847">&#34;//&nbsp;5&#34;</span><span class="op" id="6733853">}</span><span class="op" id="6733854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733860">if</span>&nbsp;<span class="builtinfunc" id="6733863">len</span><span class="op" id="6733866">(</span><span class="ident" id="6733867"><a href="/go/parser/parser_test.go.html#6733222">f</a></span><span class="op" id="6733868">.</span><span class="ident" id="6733869">Comments</span><span class="op" id="6733877">)</span>&nbsp;<span class="op" id="6733879">!=</span>&nbsp;<span class="builtinfunc" id="6733882">len</span><span class="op" id="6733885">(</span><span class="ident" id="6733886"><a href="/go/parser/parser_test.go.html#6733617">expected</a></span><span class="op" id="6733894">)</span>&nbsp;<span class="op" id="6733896">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733900"><a href="/go/parser/parser_test.go.html#6733205">t</a></span><span class="op" id="6733901">.</span><span class="ident" id="6733902">Fatalf</span><span class="op" id="6733908">(</span><span class="string" id="6733909">&#34;got&nbsp;%d&nbsp;comment&nbsp;groups;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6733945">,</span>&nbsp;<span class="builtinfunc" id="6733947">len</span><span class="op" id="6733950">(</span><span class="ident" id="6733951"><a href="/go/parser/parser_test.go.html#6733222">f</a></span><span class="op" id="6733952">.</span><span class="ident" id="6733953">Comments</span><span class="op" id="6733961">)</span><span class="op" id="6733962">,</span>&nbsp;<span class="builtinfunc" id="6733964">len</span><span class="op" id="6733967">(</span><span class="ident" id="6733968"><a href="/go/parser/parser_test.go.html#6733617">expected</a></span><span class="op" id="6733976">)</span><span class="op" id="6733977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733983">for</span>&nbsp;<span class="ident" id="6733987">i</span><span class="op" id="6733988">,</span>&nbsp;<span class="ident" id="6733990">exp</span>&nbsp;<span class="op" id="6733994">:=</span>&nbsp;<span class="keyword" id="6733997">range</span>&nbsp;<span class="ident" id="6734003"><a href="/go/parser/parser_test.go.html#6733617">expected</a></span>&nbsp;<span class="op" id="6734012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734016">got</span>&nbsp;<span class="op" id="6734020">:=</span>&nbsp;<span class="ident" id="6734023"><a href="/go/parser/parser_test.go.html#6733222">f</a></span><span class="op" id="6734024">.</span><span class="ident" id="6734025">Comments</span><span class="op" id="6734033">[</span><span class="ident" id="6734034"><a href="/go/parser/parser_test.go.html#6733987">i</a></span><span class="op" id="6734035">]</span><span class="op" id="6734036">.</span><span class="ident" id="6734037">List</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734044">if</span>&nbsp;<span class="builtinfunc" id="6734047">len</span><span class="op" id="6734050">(</span><span class="ident" id="6734051"><a href="/go/parser/parser_test.go.html#6734016">got</a></span><span class="op" id="6734054">)</span>&nbsp;<span class="op" id="6734056">!=</span>&nbsp;<span class="builtinfunc" id="6734059">len</span><span class="op" id="6734062">(</span><span class="ident" id="6734063"><a href="/go/parser/parser_test.go.html#6733990">exp</a></span><span class="op" id="6734066">)</span>&nbsp;<span class="op" id="6734068">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734073"><a href="/go/parser/parser_test.go.html#6733205">t</a></span><span class="op" id="6734074">.</span><span class="ident" id="6734075">Errorf</span><span class="op" id="6734081">(</span><span class="string" id="6734082">&#34;got&nbsp;%d&nbsp;comments&nbsp;in&nbsp;group&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6734124">,</span>&nbsp;<span class="builtinfunc" id="6734126">len</span><span class="op" id="6734129">(</span><span class="ident" id="6734130"><a href="/go/parser/parser_test.go.html#6734016">got</a></span><span class="op" id="6734133">)</span><span class="op" id="6734134">,</span>&nbsp;<span class="ident" id="6734136"><a href="/go/parser/parser_test.go.html#6733987">i</a></span><span class="op" id="6734137">,</span>&nbsp;<span class="builtinfunc" id="6734139">len</span><span class="op" id="6734142">(</span><span class="ident" id="6734143"><a href="/go/parser/parser_test.go.html#6733990">exp</a></span><span class="op" id="6734146">)</span><span class="op" id="6734147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734152">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734167">for</span>&nbsp;<span class="ident" id="6734171">j</span><span class="op" id="6734172">,</span>&nbsp;<span class="ident" id="6734174">exp</span>&nbsp;<span class="op" id="6734178">:=</span>&nbsp;<span class="keyword" id="6734181">range</span>&nbsp;<span class="ident" id="6734187"><a href="/go/parser/parser_test.go.html#6733990">exp</a></span>&nbsp;<span class="op" id="6734191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734196">got</span>&nbsp;<span class="op" id="6734200">:=</span>&nbsp;<span class="ident" id="6734203"><a href="/go/parser/parser_test.go.html#6734016">got</a></span><span class="op" id="6734206">[</span><span class="ident" id="6734207"><a href="/go/parser/parser_test.go.html#6734171">j</a></span><span class="op" id="6734208">]</span><span class="op" id="6734209">.</span><span class="ident" id="6734210">Text</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734218">if</span>&nbsp;<span class="ident" id="6734221"><a href="/go/parser/parser_test.go.html#6734196">got</a></span>&nbsp;<span class="op" id="6734225">!=</span>&nbsp;<span class="ident" id="6734228"><a href="/go/parser/parser_test.go.html#6734174">exp</a></span>&nbsp;<span class="op" id="6734232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734238"><a href="/go/parser/parser_test.go.html#6733205">t</a></span><span class="op" id="6734239">.</span><span class="ident" id="6734240">Errorf</span><span class="op" id="6734246">(</span><span class="string" id="6734247">&#34;got&nbsp;%q&nbsp;in&nbsp;group&nbsp;%d;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6734280">,</span>&nbsp;<span class="ident" id="6734282"><a href="/go/parser/parser_test.go.html#6734196">got</a></span><span class="op" id="6734285">,</span>&nbsp;<span class="ident" id="6734287"><a href="/go/parser/parser_test.go.html#6733987">i</a></span><span class="op" id="6734288">,</span>&nbsp;<span class="ident" id="6734290"><a href="/go/parser/parser_test.go.html#6734174">exp</a></span><span class="op" id="6734293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734305">}</span><br>
<span class="lineno">375</span><span class="op" id="6734307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6734310">func</span>&nbsp;<span class="ident" id="6734315">getField</span><span class="op" id="6734323">(</span><span class="ident" id="6734324">file</span>&nbsp;<span class="op" id="6734329">*</span><span class="ident" id="6734330"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6734333">.</span><span class="ident" id="6734334">File</span><span class="op" id="6734338">,</span>&nbsp;<span class="ident" id="6734340">fieldname</span>&nbsp;<span class="builtintype" id="6734350">string</span><span class="op" id="6734356">)</span>&nbsp;<span class="op" id="6734358">*</span><span class="ident" id="6734359"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6734362">.</span><span class="ident" id="6734363">Field</span>&nbsp;<span class="op" id="6734369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734372">parts</span>&nbsp;<span class="op" id="6734378">:=</span>&nbsp;<span class="ident" id="6734381"><a href="/go/parser/parser_test.go.html#6726006">strings</a></span><span class="op" id="6734388">.</span><span class="ident" id="6734389">Split</span><span class="op" id="6734394">(</span><span class="ident" id="6734395"><a href="/go/parser/parser_test.go.html#6734340">fieldname</a></span><span class="op" id="6734404">,</span>&nbsp;<span class="string" id="6734406">&#34;.&#34;</span><span class="op" id="6734409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734412">for</span>&nbsp;<span class="ident" id="6734416">_</span><span class="op" id="6734417">,</span>&nbsp;<span class="ident" id="6734419">d</span>&nbsp;<span class="op" id="6734421">:=</span>&nbsp;<span class="keyword" id="6734424">range</span>&nbsp;<span class="ident" id="6734430"><a href="/go/parser/parser_test.go.html#6734324">file</a></span><span class="op" id="6734434">.</span><span class="ident" id="6734435">Decls</span>&nbsp;<span class="op" id="6734441">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734445">if</span>&nbsp;<span class="ident" id="6734448">d</span><span class="op" id="6734449">,</span>&nbsp;<span class="ident" id="6734451">ok</span>&nbsp;<span class="op" id="6734454">:=</span>&nbsp;<span class="ident" id="6734457"><a href="/go/parser/parser_test.go.html#6734419">d</a></span><span class="op" id="6734458">.</span><span class="op" id="6734459">(</span><span class="op" id="6734460">*</span><span class="ident" id="6734461"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6734464">.</span><span class="ident" id="6734465">GenDecl</span><span class="op" id="6734472">)</span><span class="op" id="6734473">;</span>&nbsp;<span class="ident" id="6734475"><a href="/go/parser/parser_test.go.html#6734451">ok</a></span>&nbsp;<span class="op" id="6734478">&amp;&amp;</span>&nbsp;<span class="ident" id="6734481"><a href="/go/parser/parser_test.go.html#6734448">d</a></span><span class="op" id="6734482">.</span><span class="ident" id="6734483">Tok</span>&nbsp;<span class="op" id="6734487">==</span>&nbsp;<span class="ident" id="6734490"><a href="/go/parser/parser_test.go.html#6725988">token</a></span><span class="op" id="6734495">.</span><span class="ident" id="6734496">TYPE</span>&nbsp;<span class="op" id="6734501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734506">for</span>&nbsp;<span class="ident" id="6734510">_</span><span class="op" id="6734511">,</span>&nbsp;<span class="ident" id="6734513">s</span>&nbsp;<span class="op" id="6734515">:=</span>&nbsp;<span class="keyword" id="6734518">range</span>&nbsp;<span class="ident" id="6734524"><a href="/go/parser/parser_test.go.html#6734448">d</a></span><span class="op" id="6734525">.</span><span class="ident" id="6734526">Specs</span>&nbsp;<span class="op" id="6734532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734538">if</span>&nbsp;<span class="ident" id="6734541">s</span><span class="op" id="6734542">,</span>&nbsp;<span class="ident" id="6734544">ok</span>&nbsp;<span class="op" id="6734547">:=</span>&nbsp;<span class="ident" id="6734550"><a href="/go/parser/parser_test.go.html#6734513">s</a></span><span class="op" id="6734551">.</span><span class="op" id="6734552">(</span><span class="op" id="6734553">*</span><span class="ident" id="6734554"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6734557">.</span><span class="ident" id="6734558">TypeSpec</span><span class="op" id="6734566">)</span><span class="op" id="6734567">;</span>&nbsp;<span class="ident" id="6734569"><a href="/go/parser/parser_test.go.html#6734544">ok</a></span>&nbsp;<span class="op" id="6734572">&amp;&amp;</span>&nbsp;<span class="ident" id="6734575"><a href="/go/parser/parser_test.go.html#6734541">s</a></span><span class="op" id="6734576">.</span><span class="ident" id="6734577">Name</span><span class="op" id="6734581">.</span><span class="ident" id="6734582">Name</span>&nbsp;<span class="op" id="6734587">==</span>&nbsp;<span class="ident" id="6734590"><a href="/go/parser/parser_test.go.html#6734372">parts</a></span><span class="op" id="6734595">[</span><span class="num" id="6734596">0</span><span class="op" id="6734597">]</span>&nbsp;<span class="op" id="6734599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734606">if</span>&nbsp;<span class="ident" id="6734609">s</span><span class="op" id="6734610">,</span>&nbsp;<span class="ident" id="6734612">ok</span>&nbsp;<span class="op" id="6734615">:=</span>&nbsp;<span class="ident" id="6734618"><a href="/go/parser/parser_test.go.html#6734541">s</a></span><span class="op" id="6734619">.</span><span class="ident" id="6734620">Type</span><span class="op" id="6734624">.</span><span class="op" id="6734625">(</span><span class="op" id="6734626">*</span><span class="ident" id="6734627"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6734630">.</span><span class="ident" id="6734631">StructType</span><span class="op" id="6734641">)</span><span class="op" id="6734642">;</span>&nbsp;<span class="ident" id="6734644"><a href="/go/parser/parser_test.go.html#6734612">ok</a></span>&nbsp;<span class="op" id="6734647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734655">for</span>&nbsp;<span class="ident" id="6734659">_</span><span class="op" id="6734660">,</span>&nbsp;<span class="ident" id="6734662">f</span>&nbsp;<span class="op" id="6734664">:=</span>&nbsp;<span class="keyword" id="6734667">range</span>&nbsp;<span class="ident" id="6734673"><a href="/go/parser/parser_test.go.html#6734609">s</a></span><span class="op" id="6734674">.</span><span class="ident" id="6734675">Fields</span><span class="op" id="6734681">.</span><span class="ident" id="6734682">List</span>&nbsp;<span class="op" id="6734687">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734696">for</span>&nbsp;<span class="ident" id="6734700">_</span><span class="op" id="6734701">,</span>&nbsp;<span class="ident" id="6734703">name</span>&nbsp;<span class="op" id="6734708">:=</span>&nbsp;<span class="keyword" id="6734711">range</span>&nbsp;<span class="ident" id="6734717"><a href="/go/parser/parser_test.go.html#6734662">f</a></span><span class="op" id="6734718">.</span><span class="ident" id="6734719">Names</span>&nbsp;<span class="op" id="6734725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734735">if</span>&nbsp;<span class="ident" id="6734738"><a href="/go/parser/parser_test.go.html#6734703">name</a></span><span class="op" id="6734742">.</span><span class="ident" id="6734743">Name</span>&nbsp;<span class="op" id="6734748">==</span>&nbsp;<span class="ident" id="6734751"><a href="/go/parser/parser_test.go.html#6734372">parts</a></span><span class="op" id="6734756">[</span><span class="num" id="6734757">1</span><span class="op" id="6734758">]</span>&nbsp;<span class="op" id="6734760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734771">return</span>&nbsp;<span class="ident" id="6734778"><a href="/go/parser/parser_test.go.html#6734662">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734797">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734827">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734833">return</span>&nbsp;<span class="ident" id="6734840">nil</span><br>
<span class="lineno"></span><span class="op" id="6734844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6734847">//&nbsp;Don&#39;t&nbsp;use&nbsp;ast.CommentGroup.Text()&nbsp;-&nbsp;we&nbsp;want&nbsp;to&nbsp;see&nbsp;exact&nbsp;comment&nbsp;text.</span><br>
<span class="lineno">400</span><span class="keyword" id="6734921">func</span>&nbsp;<span class="ident" id="6734926">commentText</span><span class="op" id="6734937">(</span><span class="ident" id="6734938">c</span>&nbsp;<span class="op" id="6734940">*</span><span class="ident" id="6734941"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6734944">.</span><span class="ident" id="6734945">CommentGroup</span><span class="op" id="6734957">)</span>&nbsp;<span class="builtintype" id="6734959">string</span>&nbsp;<span class="op" id="6734966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734969">var</span>&nbsp;<span class="ident" id="6734973">buf</span>&nbsp;<span class="ident" id="6734977"><a href="/go/parser/parser_test.go.html#6725962">bytes</a></span><span class="op" id="6734982">.</span><span class="ident" id="6734983">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734991">if</span>&nbsp;<span class="ident" id="6734994"><a href="/go/parser/parser_test.go.html#6734938">c</a></span>&nbsp;<span class="op" id="6734996">!=</span>&nbsp;<span class="ident" id="6734999">nil</span>&nbsp;<span class="op" id="6735003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735007">for</span>&nbsp;<span class="ident" id="6735011">_</span><span class="op" id="6735012">,</span>&nbsp;<span class="ident" id="6735014">c</span>&nbsp;<span class="op" id="6735016">:=</span>&nbsp;<span class="keyword" id="6735019">range</span>&nbsp;<span class="ident" id="6735025"><a href="/go/parser/parser_test.go.html#6734938">c</a></span><span class="op" id="6735026">.</span><span class="ident" id="6735027">List</span>&nbsp;<span class="op" id="6735032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735037"><a href="/go/parser/parser_test.go.html#6734973">buf</a></span><span class="op" id="6735040">.</span><span class="ident" id="6735041">WriteString</span><span class="op" id="6735052">(</span><span class="ident" id="6735053"><a href="/go/parser/parser_test.go.html#6735014">c</a></span><span class="op" id="6735054">.</span><span class="ident" id="6735055">Text</span><span class="op" id="6735059">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6735063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6735066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735069">return</span>&nbsp;<span class="ident" id="6735076"><a href="/go/parser/parser_test.go.html#6734973">buf</a></span><span class="op" id="6735079">.</span><span class="ident" id="6735080">String</span><span class="op" id="6735086">(</span><span class="op" id="6735087">)</span><br>
<span class="lineno"></span><span class="op" id="6735089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="6735092">func</span>&nbsp;<span class="ident" id="6735097">checkFieldComments</span><span class="op" id="6735115">(</span><span class="ident" id="6735116">t</span>&nbsp;<span class="op" id="6735118">*</span><span class="ident" id="6735119"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6735126">.</span><span class="ident" id="6735127">T</span><span class="op" id="6735128">,</span>&nbsp;<span class="ident" id="6735130">file</span>&nbsp;<span class="op" id="6735135">*</span><span class="ident" id="6735136"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6735139">.</span><span class="ident" id="6735140">File</span><span class="op" id="6735144">,</span>&nbsp;<span class="ident" id="6735146">fieldname</span><span class="op" id="6735155">,</span>&nbsp;<span class="ident" id="6735157">lead</span><span class="op" id="6735161">,</span>&nbsp;<span class="ident" id="6735163">line</span>&nbsp;<span class="builtintype" id="6735168">string</span><span class="op" id="6735174">)</span>&nbsp;<span class="op" id="6735176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735179">f</span>&nbsp;<span class="op" id="6735181">:=</span>&nbsp;<span class="ident" id="6735184"><a href="/go/parser/parser_test.go.html#6734315">getField</a></span><span class="op" id="6735192">(</span><span class="ident" id="6735193"><a href="/go/parser/parser_test.go.html#6735130">file</a></span><span class="op" id="6735197">,</span>&nbsp;<span class="ident" id="6735199"><a href="/go/parser/parser_test.go.html#6735146">fieldname</a></span><span class="op" id="6735208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735211">if</span>&nbsp;<span class="ident" id="6735214"><a href="/go/parser/parser_test.go.html#6735179">f</a></span>&nbsp;<span class="op" id="6735216">==</span>&nbsp;<span class="ident" id="6735219">nil</span>&nbsp;<span class="op" id="6735223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735227"><a href="/go/parser/parser_test.go.html#6735116">t</a></span><span class="op" id="6735228">.</span><span class="ident" id="6735229">Fatalf</span><span class="op" id="6735235">(</span><span class="string" id="6735236">&#34;field&nbsp;not&nbsp;found:&nbsp;%s&#34;</span><span class="op" id="6735257">,</span>&nbsp;<span class="ident" id="6735259"><a href="/go/parser/parser_test.go.html#6735146">fieldname</a></span><span class="op" id="6735268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6735271">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735274">if</span>&nbsp;<span class="ident" id="6735277">got</span>&nbsp;<span class="op" id="6735281">:=</span>&nbsp;<span class="ident" id="6735284"><a href="/go/parser/parser_test.go.html#6734926">commentText</a></span><span class="op" id="6735295">(</span><span class="ident" id="6735296"><a href="/go/parser/parser_test.go.html#6735179">f</a></span><span class="op" id="6735297">.</span><span class="ident" id="6735298">Doc</span><span class="op" id="6735301">)</span><span class="op" id="6735302">;</span>&nbsp;<span class="ident" id="6735304"><a href="/go/parser/parser_test.go.html#6735277">got</a></span>&nbsp;<span class="op" id="6735308">!=</span>&nbsp;<span class="ident" id="6735311"><a href="/go/parser/parser_test.go.html#6735157">lead</a></span>&nbsp;<span class="op" id="6735316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735320"><a href="/go/parser/parser_test.go.html#6735116">t</a></span><span class="op" id="6735321">.</span><span class="ident" id="6735322">Errorf</span><span class="op" id="6735328">(</span><span class="string" id="6735329">&#34;got&nbsp;lead&nbsp;comment&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6735363">,</span>&nbsp;<span class="ident" id="6735365"><a href="/go/parser/parser_test.go.html#6735277">got</a></span><span class="op" id="6735368">,</span>&nbsp;<span class="ident" id="6735370"><a href="/go/parser/parser_test.go.html#6735157">lead</a></span><span class="op" id="6735374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6735377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735380">if</span>&nbsp;<span class="ident" id="6735383">got</span>&nbsp;<span class="op" id="6735387">:=</span>&nbsp;<span class="ident" id="6735390"><a href="/go/parser/parser_test.go.html#6734926">commentText</a></span><span class="op" id="6735401">(</span><span class="ident" id="6735402"><a href="/go/parser/parser_test.go.html#6735179">f</a></span><span class="op" id="6735403">.</span><span class="ident" id="6735404">Comment</span><span class="op" id="6735411">)</span><span class="op" id="6735412">;</span>&nbsp;<span class="ident" id="6735414"><a href="/go/parser/parser_test.go.html#6735383">got</a></span>&nbsp;<span class="op" id="6735418">!=</span>&nbsp;<span class="ident" id="6735421"><a href="/go/parser/parser_test.go.html#6735163">line</a></span>&nbsp;<span class="op" id="6735426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735430"><a href="/go/parser/parser_test.go.html#6735116">t</a></span><span class="op" id="6735431">.</span><span class="ident" id="6735432">Errorf</span><span class="op" id="6735438">(</span><span class="string" id="6735439">&#34;got&nbsp;line&nbsp;comment&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6735473">,</span>&nbsp;<span class="ident" id="6735475"><a href="/go/parser/parser_test.go.html#6735383">got</a></span><span class="op" id="6735478">,</span>&nbsp;<span class="ident" id="6735480"><a href="/go/parser/parser_test.go.html#6735163">line</a></span><span class="op" id="6735484">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6735487">}</span><br>
<span class="lineno"></span><span class="op" id="6735489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6735492">func</span>&nbsp;<span class="ident" id="6735497">TestLeadAndLineComments</span><span class="op" id="6735520">(</span><span class="ident" id="6735521">t</span>&nbsp;<span class="op" id="6735523">*</span><span class="ident" id="6735524"><a href="/go/parser/parser_test.go.html#6726017">testing</a></span><span class="op" id="6735531">.</span><span class="ident" id="6735532">T</span><span class="op" id="6735533">)</span>&nbsp;<span class="op" id="6735535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735538">f</span><span class="op" id="6735539">,</span>&nbsp;<span class="ident" id="6735541">err</span>&nbsp;<span class="op" id="6735545">:=</span>&nbsp;<span class="ident" id="6735548"><a href="/go/parser/interface.go.html#6034508">ParseFile</a></span><span class="op" id="6735557">(</span><span class="ident" id="6735558"><a href="/go/parser/parser_test.go.html#6726034">fset</a></span><span class="op" id="6735562">,</span>&nbsp;<span class="string" id="6735564">&#34;&#34;</span><span class="op" id="6735566">,</span>&nbsp;<span class="string" id="6735568">`<br>
<span class="lineno">425</span>package&nbsp;p<br>
<span class="lineno"></span>type&nbsp;T&nbsp;struct&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;F1&nbsp;lead&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspF1&nbsp;int&nbsp;&nbsp;/*&nbsp;F1&nbsp;*/&nbsp;//&nbsp;line&nbsp;comment<br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;F2&nbsp;lead<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspF2&nbsp;int&nbsp;&nbsp;//&nbsp;F2&nbsp;line&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;f3&nbsp;lead&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspf3&nbsp;int&nbsp;&nbsp;//&nbsp;f3&nbsp;line&nbsp;comment<br>
<span class="lineno">435</span>}<br>
<span class="lineno"></span>`</span><span class="op" id="6735760">,</span>&nbsp;<span class="ident" id="6735762"><a href="/go/parser/interface.go.html#6033015">ParseComments</a></span><span class="op" id="6735775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6735778">if</span>&nbsp;<span class="ident" id="6735781"><a href="/go/parser/parser_test.go.html#6735541">err</a></span>&nbsp;<span class="op" id="6735785">!=</span>&nbsp;<span class="ident" id="6735788">nil</span>&nbsp;<span class="op" id="6735792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735796"><a href="/go/parser/parser_test.go.html#6735521">t</a></span><span class="op" id="6735797">.</span><span class="ident" id="6735798">Fatal</span><span class="op" id="6735803">(</span><span class="ident" id="6735804"><a href="/go/parser/parser_test.go.html#6735541">err</a></span><span class="op" id="6735807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6735810">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735813"><a href="/go/parser/parser_test.go.html#6735097">checkFieldComments</a></span><span class="op" id="6735831">(</span><span class="ident" id="6735832"><a href="/go/parser/parser_test.go.html#6735521">t</a></span><span class="op" id="6735833">,</span>&nbsp;<span class="ident" id="6735835"><a href="/go/parser/parser_test.go.html#6735538">f</a></span><span class="op" id="6735836">,</span>&nbsp;<span class="string" id="6735838">&#34;T.F1&#34;</span><span class="op" id="6735844">,</span>&nbsp;<span class="string" id="6735846">&#34;/*&nbsp;F1&nbsp;lead&nbsp;comment&nbsp;*///&#34;</span><span class="op" id="6735871">,</span>&nbsp;<span class="string" id="6735873">&#34;/*&nbsp;F1&nbsp;*///&nbsp;line&nbsp;comment&#34;</span><span class="op" id="6735898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735901"><a href="/go/parser/parser_test.go.html#6735097">checkFieldComments</a></span><span class="op" id="6735919">(</span><span class="ident" id="6735920"><a href="/go/parser/parser_test.go.html#6735521">t</a></span><span class="op" id="6735921">,</span>&nbsp;<span class="ident" id="6735923"><a href="/go/parser/parser_test.go.html#6735538">f</a></span><span class="op" id="6735924">,</span>&nbsp;<span class="string" id="6735926">&#34;T.F2&#34;</span><span class="op" id="6735932">,</span>&nbsp;<span class="string" id="6735934">&#34;//&nbsp;F2&nbsp;lead//&nbsp;comment&#34;</span><span class="op" id="6735956">,</span>&nbsp;<span class="string" id="6735958">&#34;//&nbsp;F2&nbsp;line&nbsp;comment&#34;</span><span class="op" id="6735978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6735981"><a href="/go/parser/parser_test.go.html#6735097">checkFieldComments</a></span><span class="op" id="6735999">(</span><span class="ident" id="6736000"><a href="/go/parser/parser_test.go.html#6735521">t</a></span><span class="op" id="6736001">,</span>&nbsp;<span class="ident" id="6736003"><a href="/go/parser/parser_test.go.html#6735538">f</a></span><span class="op" id="6736004">,</span>&nbsp;<span class="string" id="6736006">&#34;T.f3&#34;</span><span class="op" id="6736012">,</span>&nbsp;<span class="string" id="6736014">&#34;//&nbsp;f3&nbsp;lead&nbsp;comment&#34;</span><span class="op" id="6736034">,</span>&nbsp;<span class="string" id="6736036">&#34;//&nbsp;f3&nbsp;line&nbsp;comment&#34;</span><span class="op" id="6736056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736059"><a href="/go/parser/parser_test.go.html#6725978">ast</a></span><span class="op" id="6736062">.</span><span class="ident" id="6736063">FileExports</span><span class="op" id="6736074">(</span><span class="ident" id="6736075"><a href="/go/parser/parser_test.go.html#6735538">f</a></span><span class="op" id="6736076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736079"><a href="/go/parser/parser_test.go.html#6735097">checkFieldComments</a></span><span class="op" id="6736097">(</span><span class="ident" id="6736098"><a href="/go/parser/parser_test.go.html#6735521">t</a></span><span class="op" id="6736099">,</span>&nbsp;<span class="ident" id="6736101"><a href="/go/parser/parser_test.go.html#6735538">f</a></span><span class="op" id="6736102">,</span>&nbsp;<span class="string" id="6736104">&#34;T.F1&#34;</span><span class="op" id="6736110">,</span>&nbsp;<span class="string" id="6736112">&#34;/*&nbsp;F1&nbsp;lead&nbsp;comment&nbsp;*///&#34;</span><span class="op" id="6736137">,</span>&nbsp;<span class="string" id="6736139">&#34;/*&nbsp;F1&nbsp;*///&nbsp;line&nbsp;comment&#34;</span><span class="op" id="6736164">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736167"><a href="/go/parser/parser_test.go.html#6735097">checkFieldComments</a></span><span class="op" id="6736185">(</span><span class="ident" id="6736186"><a href="/go/parser/parser_test.go.html#6735521">t</a></span><span class="op" id="6736187">,</span>&nbsp;<span class="ident" id="6736189"><a href="/go/parser/parser_test.go.html#6735538">f</a></span><span class="op" id="6736190">,</span>&nbsp;<span class="string" id="6736192">&#34;T.F2&#34;</span><span class="op" id="6736198">,</span>&nbsp;<span class="string" id="6736200">&#34;//&nbsp;F2&nbsp;lead//&nbsp;comment&#34;</span><span class="op" id="6736222">,</span>&nbsp;<span class="string" id="6736224">&#34;//&nbsp;F2&nbsp;line&nbsp;comment&#34;</span><span class="op" id="6736244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6736247">if</span>&nbsp;<span class="ident" id="6736250"><a href="/go/parser/parser_test.go.html#6734315">getField</a></span><span class="op" id="6736258">(</span><span class="ident" id="6736259"><a href="/go/parser/parser_test.go.html#6735538">f</a></span><span class="op" id="6736260">,</span>&nbsp;<span class="string" id="6736262">&#34;T.f3&#34;</span><span class="op" id="6736268">)</span>&nbsp;<span class="op" id="6736270">!=</span>&nbsp;<span class="ident" id="6736273">nil</span>&nbsp;<span class="op" id="6736277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6736281"><a href="/go/parser/parser_test.go.html#6735521">t</a></span><span class="op" id="6736282">.</span><span class="ident" id="6736283">Error</span><span class="op" id="6736288">(</span><span class="string" id="6736289">&#34;not&nbsp;expected&nbsp;to&nbsp;find&nbsp;T.f3&#34;</span><span class="op" id="6736316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6736319">}</span><br>
<span class="lineno"></span><span class="op" id="6736321">}</span>
</div>
</body>
</html>
