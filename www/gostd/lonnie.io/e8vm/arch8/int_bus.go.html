<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/arch8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/arch8/console.go.html">console.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/cpu.go.html">cpu.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/cpu_test.go.html">cpu_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/device.go.html">device.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/exception.go.html">exception.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_all.go.html">inst_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_br.go.html">inst_br.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_br_test.go.html">inst_br_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_imm.go.html">inst_imm.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_imm_test.go.html">inst_imm_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_jmp.go.html">inst_jmp.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_reg.go.html">inst_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_reg_test.go.html">inst_reg_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_sys.go.html">inst_sys.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/int_bus.go.html">int_bus.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/interrupt.go.html">interrupt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/interrupt_test.go.html">interrupt_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/machine.go.html">machine.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/multi_core.go.html">multi_core.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page.go.html">page.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_table.go.html">page_table.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_table_test.go.html">page_table_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_test.go.html">page_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/phy_memory.go.html">phy_memory.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/phy_memory_test.go.html">phy_memory_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/regs.go.html">regs.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/regs_test.go.html">regs_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/run_image.go.html">run_image.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/serial.go.html">serial.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/ticker.go.html">ticker.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/virt_memory.go.html">virt_memory.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/virt_memory_test.go.html">virt_memory_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="3574360">package</span>&nbsp;<span class="ident" id="3574368">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3574375">//&nbsp;IntBus&nbsp;is&nbsp;an&nbsp;interrupt&nbsp;bus&nbsp;for&nbsp;device</span><br>
<span class="lineno"></span><span class="keyword" id="3574416">type</span>&nbsp;<span class="ident" id="3574421">intBus</span>&nbsp;<span class="keyword" id="3574428">interface</span>&nbsp;<span class="op" id="3574438">{</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574441">Ncore</span><span class="op" id="3574446">(</span><span class="op" id="3574447">)</span>&nbsp;<span class="builtintype" id="3574449">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574455">Interrupt</span><span class="op" id="3574464">(</span><span class="ident" id="3574465">code</span>&nbsp;<span class="builtintype" id="3574470">byte</span><span class="op" id="3574474">,</span>&nbsp;<span class="ident" id="3574476">core</span>&nbsp;<span class="builtintype" id="3574481">byte</span><span class="op" id="3574485">)</span><br>
<span class="lineno"></span><span class="op" id="3574487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3574490">//&nbsp;IntAllCores&nbsp;generates&nbsp;a&nbsp;interrupt&nbsp;to&nbsp;all&nbsp;cores&nbsp;on&nbsp;the&nbsp;bus.</span><br>
<span class="lineno">10</span><span class="keyword" id="3574552">func</span>&nbsp;<span class="ident" id="3574557">intAllCores</span><span class="op" id="3574568">(</span><span class="ident" id="3574569">bus</span>&nbsp;<span class="ident" id="3574573">intBus</span><span class="op" id="3574579">,</span>&nbsp;<span class="ident" id="3574581">code</span>&nbsp;<span class="builtintype" id="3574586">byte</span><span class="op" id="3574590">)</span>&nbsp;<span class="op" id="3574592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574595">ncore</span>&nbsp;<span class="op" id="3574601">:=</span>&nbsp;<span class="ident" id="3574604">bus</span><span class="op" id="3574607">.</span><span class="ident" id="3574608">Ncore</span><span class="op" id="3574613">(</span><span class="op" id="3574614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574617">for</span>&nbsp;<span class="ident" id="3574621">i</span>&nbsp;<span class="op" id="3574623">:=</span>&nbsp;<span class="builtintype" id="3574626">byte</span><span class="op" id="3574630">(</span><span class="num" id="3574631">0</span><span class="op" id="3574632">)</span><span class="op" id="3574633">;</span>&nbsp;<span class="ident" id="3574635">i</span>&nbsp;<span class="op" id="3574637">&lt;</span>&nbsp;<span class="ident" id="3574639">ncore</span><span class="op" id="3574644">;</span>&nbsp;<span class="ident" id="3574646">i</span><span class="op" id="3574647">++</span>&nbsp;<span class="op" id="3574650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574654">bus</span><span class="op" id="3574657">.</span><span class="ident" id="3574658">Interrupt</span><span class="op" id="3574667">(</span><span class="ident" id="3574668">code</span><span class="op" id="3574672">,</span>&nbsp;<span class="ident" id="3574674">i</span><span class="op" id="3574675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3574678">}</span><br>
<span class="lineno">15</span><span class="op" id="3574680">}</span>
</div>
</body>
</html>
