<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6777579">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6777634">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6777688">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6777739">package</span>&nbsp;<span class="ident" id="6777747">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6777752">import</span>&nbsp;<span class="op" id="6777759">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6777762">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6777771">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6777790">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6777798">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6777808">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6777811">type</span>&nbsp;<span class="ident" id="6777816">golden</span>&nbsp;<span class="keyword" id="6777823">struct</span>&nbsp;<span class="op" id="6777830">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6777833">sum</span>&nbsp;&nbsp;<span class="op" id="6777838">[</span><span class="op" id="6777839">]</span><span class="builtintype" id="6777840">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6777846">text</span>&nbsp;<span class="builtintype" id="6777851">string</span><br>
<span class="lineno"></span><span class="op" id="6777858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6777861">var</span>&nbsp;<span class="ident" id="6777865">golden32</span>&nbsp;<span class="op" id="6777874">=</span>&nbsp;<span class="op" id="6777876">[</span><span class="op" id="6777877">]</span><span class="ident" id="6777878">golden</span><span class="op" id="6777884">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6777887">{</span><span class="op" id="6777888">[</span><span class="op" id="6777889">]</span><span class="builtintype" id="6777890">byte</span><span class="op" id="6777894">{</span><span class="num" id="6777895">0x81</span><span class="op" id="6777899">,</span>&nbsp;<span class="num" id="6777901">0x1c</span><span class="op" id="6777905">,</span>&nbsp;<span class="num" id="6777907">0x9d</span><span class="op" id="6777911">,</span>&nbsp;<span class="num" id="6777913">0xc5</span><span class="op" id="6777917">}</span><span class="op" id="6777918">,</span>&nbsp;<span class="string" id="6777920">&#34;&#34;</span><span class="op" id="6777922">}</span><span class="op" id="6777923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6777926">{</span><span class="op" id="6777927">[</span><span class="op" id="6777928">]</span><span class="builtintype" id="6777929">byte</span><span class="op" id="6777933">{</span><span class="num" id="6777934">0x05</span><span class="op" id="6777938">,</span>&nbsp;<span class="num" id="6777940">0x0c</span><span class="op" id="6777944">,</span>&nbsp;<span class="num" id="6777946">0x5d</span><span class="op" id="6777950">,</span>&nbsp;<span class="num" id="6777952">0x7e</span><span class="op" id="6777956">}</span><span class="op" id="6777957">,</span>&nbsp;<span class="string" id="6777959">&#34;a&#34;</span><span class="op" id="6777962">}</span><span class="op" id="6777963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6777966">{</span><span class="op" id="6777967">[</span><span class="op" id="6777968">]</span><span class="builtintype" id="6777969">byte</span><span class="op" id="6777973">{</span><span class="num" id="6777974">0x70</span><span class="op" id="6777978">,</span>&nbsp;<span class="num" id="6777980">0x77</span><span class="op" id="6777984">,</span>&nbsp;<span class="num" id="6777986">0x2d</span><span class="op" id="6777990">,</span>&nbsp;<span class="num" id="6777992">0x38</span><span class="op" id="6777996">}</span><span class="op" id="6777997">,</span>&nbsp;<span class="string" id="6777999">&#34;ab&#34;</span><span class="op" id="6778003">}</span><span class="op" id="6778004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778007">{</span><span class="op" id="6778008">[</span><span class="op" id="6778009">]</span><span class="builtintype" id="6778010">byte</span><span class="op" id="6778014">{</span><span class="num" id="6778015">0x43</span><span class="op" id="6778019">,</span>&nbsp;<span class="num" id="6778021">0x9c</span><span class="op" id="6778025">,</span>&nbsp;<span class="num" id="6778027">0x2f</span><span class="op" id="6778031">,</span>&nbsp;<span class="num" id="6778033">0x4b</span><span class="op" id="6778037">}</span><span class="op" id="6778038">,</span>&nbsp;<span class="string" id="6778040">&#34;abc&#34;</span><span class="op" id="6778045">}</span><span class="op" id="6778046">,</span><br>
<span class="lineno"></span><span class="op" id="6778048">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6778051">var</span>&nbsp;<span class="ident" id="6778055">golden32a</span>&nbsp;<span class="op" id="6778065">=</span>&nbsp;<span class="op" id="6778067">[</span><span class="op" id="6778068">]</span><span class="ident" id="6778069">golden</span><span class="op" id="6778075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778078">{</span><span class="op" id="6778079">[</span><span class="op" id="6778080">]</span><span class="builtintype" id="6778081">byte</span><span class="op" id="6778085">{</span><span class="num" id="6778086">0x81</span><span class="op" id="6778090">,</span>&nbsp;<span class="num" id="6778092">0x1c</span><span class="op" id="6778096">,</span>&nbsp;<span class="num" id="6778098">0x9d</span><span class="op" id="6778102">,</span>&nbsp;<span class="num" id="6778104">0xc5</span><span class="op" id="6778108">}</span><span class="op" id="6778109">,</span>&nbsp;<span class="string" id="6778111">&#34;&#34;</span><span class="op" id="6778113">}</span><span class="op" id="6778114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778117">{</span><span class="op" id="6778118">[</span><span class="op" id="6778119">]</span><span class="builtintype" id="6778120">byte</span><span class="op" id="6778124">{</span><span class="num" id="6778125">0xe4</span><span class="op" id="6778129">,</span>&nbsp;<span class="num" id="6778131">0x0c</span><span class="op" id="6778135">,</span>&nbsp;<span class="num" id="6778137">0x29</span><span class="op" id="6778141">,</span>&nbsp;<span class="num" id="6778143">0x2c</span><span class="op" id="6778147">}</span><span class="op" id="6778148">,</span>&nbsp;<span class="string" id="6778150">&#34;a&#34;</span><span class="op" id="6778153">}</span><span class="op" id="6778154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778157">{</span><span class="op" id="6778158">[</span><span class="op" id="6778159">]</span><span class="builtintype" id="6778160">byte</span><span class="op" id="6778164">{</span><span class="num" id="6778165">0x4d</span><span class="op" id="6778169">,</span>&nbsp;<span class="num" id="6778171">0x25</span><span class="op" id="6778175">,</span>&nbsp;<span class="num" id="6778177">0x05</span><span class="op" id="6778181">,</span>&nbsp;<span class="num" id="6778183">0xca</span><span class="op" id="6778187">}</span><span class="op" id="6778188">,</span>&nbsp;<span class="string" id="6778190">&#34;ab&#34;</span><span class="op" id="6778194">}</span><span class="op" id="6778195">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778198">{</span><span class="op" id="6778199">[</span><span class="op" id="6778200">]</span><span class="builtintype" id="6778201">byte</span><span class="op" id="6778205">{</span><span class="num" id="6778206">0x1a</span><span class="op" id="6778210">,</span>&nbsp;<span class="num" id="6778212">0x47</span><span class="op" id="6778216">,</span>&nbsp;<span class="num" id="6778218">0xe9</span><span class="op" id="6778222">,</span>&nbsp;<span class="num" id="6778224">0x0b</span><span class="op" id="6778228">}</span><span class="op" id="6778229">,</span>&nbsp;<span class="string" id="6778231">&#34;abc&#34;</span><span class="op" id="6778236">}</span><span class="op" id="6778237">,</span><br>
<span class="lineno"></span><span class="op" id="6778239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6778242">var</span>&nbsp;<span class="ident" id="6778246">golden64</span>&nbsp;<span class="op" id="6778255">=</span>&nbsp;<span class="op" id="6778257">[</span><span class="op" id="6778258">]</span><span class="ident" id="6778259">golden</span><span class="op" id="6778265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778268">{</span><span class="op" id="6778269">[</span><span class="op" id="6778270">]</span><span class="builtintype" id="6778271">byte</span><span class="op" id="6778275">{</span><span class="num" id="6778276">0xcb</span><span class="op" id="6778280">,</span>&nbsp;<span class="num" id="6778282">0xf2</span><span class="op" id="6778286">,</span>&nbsp;<span class="num" id="6778288">0x9c</span><span class="op" id="6778292">,</span>&nbsp;<span class="num" id="6778294">0xe4</span><span class="op" id="6778298">,</span>&nbsp;<span class="num" id="6778300">0x84</span><span class="op" id="6778304">,</span>&nbsp;<span class="num" id="6778306">0x22</span><span class="op" id="6778310">,</span>&nbsp;<span class="num" id="6778312">0x23</span><span class="op" id="6778316">,</span>&nbsp;<span class="num" id="6778318">0x25</span><span class="op" id="6778322">}</span><span class="op" id="6778323">,</span>&nbsp;<span class="string" id="6778325">&#34;&#34;</span><span class="op" id="6778327">}</span><span class="op" id="6778328">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778331">{</span><span class="op" id="6778332">[</span><span class="op" id="6778333">]</span><span class="builtintype" id="6778334">byte</span><span class="op" id="6778338">{</span><span class="num" id="6778339">0xaf</span><span class="op" id="6778343">,</span>&nbsp;<span class="num" id="6778345">0x63</span><span class="op" id="6778349">,</span>&nbsp;<span class="num" id="6778351">0xbd</span><span class="op" id="6778355">,</span>&nbsp;<span class="num" id="6778357">0x4c</span><span class="op" id="6778361">,</span>&nbsp;<span class="num" id="6778363">0x86</span><span class="op" id="6778367">,</span>&nbsp;<span class="num" id="6778369">0x01</span><span class="op" id="6778373">,</span>&nbsp;<span class="num" id="6778375">0xb7</span><span class="op" id="6778379">,</span>&nbsp;<span class="num" id="6778381">0xbe</span><span class="op" id="6778385">}</span><span class="op" id="6778386">,</span>&nbsp;<span class="string" id="6778388">&#34;a&#34;</span><span class="op" id="6778391">}</span><span class="op" id="6778392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778395">{</span><span class="op" id="6778396">[</span><span class="op" id="6778397">]</span><span class="builtintype" id="6778398">byte</span><span class="op" id="6778402">{</span><span class="num" id="6778403">0x08</span><span class="op" id="6778407">,</span>&nbsp;<span class="num" id="6778409">0x32</span><span class="op" id="6778413">,</span>&nbsp;<span class="num" id="6778415">0x67</span><span class="op" id="6778419">,</span>&nbsp;<span class="num" id="6778421">0x07</span><span class="op" id="6778425">,</span>&nbsp;<span class="num" id="6778427">0xb4</span><span class="op" id="6778431">,</span>&nbsp;<span class="num" id="6778433">0xeb</span><span class="op" id="6778437">,</span>&nbsp;<span class="num" id="6778439">0x37</span><span class="op" id="6778443">,</span>&nbsp;<span class="num" id="6778445">0xb8</span><span class="op" id="6778449">}</span><span class="op" id="6778450">,</span>&nbsp;<span class="string" id="6778452">&#34;ab&#34;</span><span class="op" id="6778456">}</span><span class="op" id="6778457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778460">{</span><span class="op" id="6778461">[</span><span class="op" id="6778462">]</span><span class="builtintype" id="6778463">byte</span><span class="op" id="6778467">{</span><span class="num" id="6778468">0xd8</span><span class="op" id="6778472">,</span>&nbsp;<span class="num" id="6778474">0xdc</span><span class="op" id="6778478">,</span>&nbsp;<span class="num" id="6778480">0xca</span><span class="op" id="6778484">,</span>&nbsp;<span class="num" id="6778486">0x18</span><span class="op" id="6778490">,</span>&nbsp;<span class="num" id="6778492">0x6b</span><span class="op" id="6778496">,</span>&nbsp;<span class="num" id="6778498">0xaf</span><span class="op" id="6778502">,</span>&nbsp;<span class="num" id="6778504">0xad</span><span class="op" id="6778508">,</span>&nbsp;<span class="num" id="6778510">0xcb</span><span class="op" id="6778514">}</span><span class="op" id="6778515">,</span>&nbsp;<span class="string" id="6778517">&#34;abc&#34;</span><span class="op" id="6778522">}</span><span class="op" id="6778523">,</span><br>
<span class="lineno"></span><span class="op" id="6778525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6778528">var</span>&nbsp;<span class="ident" id="6778532">golden64a</span>&nbsp;<span class="op" id="6778542">=</span>&nbsp;<span class="op" id="6778544">[</span><span class="op" id="6778545">]</span><span class="ident" id="6778546">golden</span><span class="op" id="6778552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778555">{</span><span class="op" id="6778556">[</span><span class="op" id="6778557">]</span><span class="builtintype" id="6778558">byte</span><span class="op" id="6778562">{</span><span class="num" id="6778563">0xcb</span><span class="op" id="6778567">,</span>&nbsp;<span class="num" id="6778569">0xf2</span><span class="op" id="6778573">,</span>&nbsp;<span class="num" id="6778575">0x9c</span><span class="op" id="6778579">,</span>&nbsp;<span class="num" id="6778581">0xe4</span><span class="op" id="6778585">,</span>&nbsp;<span class="num" id="6778587">0x84</span><span class="op" id="6778591">,</span>&nbsp;<span class="num" id="6778593">0x22</span><span class="op" id="6778597">,</span>&nbsp;<span class="num" id="6778599">0x23</span><span class="op" id="6778603">,</span>&nbsp;<span class="num" id="6778605">0x25</span><span class="op" id="6778609">}</span><span class="op" id="6778610">,</span>&nbsp;<span class="string" id="6778612">&#34;&#34;</span><span class="op" id="6778614">}</span><span class="op" id="6778615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778618">{</span><span class="op" id="6778619">[</span><span class="op" id="6778620">]</span><span class="builtintype" id="6778621">byte</span><span class="op" id="6778625">{</span><span class="num" id="6778626">0xaf</span><span class="op" id="6778630">,</span>&nbsp;<span class="num" id="6778632">0x63</span><span class="op" id="6778636">,</span>&nbsp;<span class="num" id="6778638">0xdc</span><span class="op" id="6778642">,</span>&nbsp;<span class="num" id="6778644">0x4c</span><span class="op" id="6778648">,</span>&nbsp;<span class="num" id="6778650">0x86</span><span class="op" id="6778654">,</span>&nbsp;<span class="num" id="6778656">0x01</span><span class="op" id="6778660">,</span>&nbsp;<span class="num" id="6778662">0xec</span><span class="op" id="6778666">,</span>&nbsp;<span class="num" id="6778668">0x8c</span><span class="op" id="6778672">}</span><span class="op" id="6778673">,</span>&nbsp;<span class="string" id="6778675">&#34;a&#34;</span><span class="op" id="6778678">}</span><span class="op" id="6778679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778682">{</span><span class="op" id="6778683">[</span><span class="op" id="6778684">]</span><span class="builtintype" id="6778685">byte</span><span class="op" id="6778689">{</span><span class="num" id="6778690">0x08</span><span class="op" id="6778694">,</span>&nbsp;<span class="num" id="6778696">0x9c</span><span class="op" id="6778700">,</span>&nbsp;<span class="num" id="6778702">0x44</span><span class="op" id="6778706">,</span>&nbsp;<span class="num" id="6778708">0x07</span><span class="op" id="6778712">,</span>&nbsp;<span class="num" id="6778714">0xb5</span><span class="op" id="6778718">,</span>&nbsp;<span class="num" id="6778720">0x45</span><span class="op" id="6778724">,</span>&nbsp;<span class="num" id="6778726">0x98</span><span class="op" id="6778730">,</span>&nbsp;<span class="num" id="6778732">0x6a</span><span class="op" id="6778736">}</span><span class="op" id="6778737">,</span>&nbsp;<span class="string" id="6778739">&#34;ab&#34;</span><span class="op" id="6778743">}</span><span class="op" id="6778744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6778747">{</span><span class="op" id="6778748">[</span><span class="op" id="6778749">]</span><span class="builtintype" id="6778750">byte</span><span class="op" id="6778754">{</span><span class="num" id="6778755">0xe7</span><span class="op" id="6778759">,</span>&nbsp;<span class="num" id="6778761">0x1f</span><span class="op" id="6778765">,</span>&nbsp;<span class="num" id="6778767">0xa2</span><span class="op" id="6778771">,</span>&nbsp;<span class="num" id="6778773">0x19</span><span class="op" id="6778777">,</span>&nbsp;<span class="num" id="6778779">0x05</span><span class="op" id="6778783">,</span>&nbsp;<span class="num" id="6778785">0x41</span><span class="op" id="6778789">,</span>&nbsp;<span class="num" id="6778791">0x57</span><span class="op" id="6778795">,</span>&nbsp;<span class="num" id="6778797">0x4b</span><span class="op" id="6778801">}</span><span class="op" id="6778802">,</span>&nbsp;<span class="string" id="6778804">&#34;abc&#34;</span><span class="op" id="6778809">}</span><span class="op" id="6778810">,</span><br>
<span class="lineno">45</span><span class="op" id="6778812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6778815">func</span>&nbsp;<span class="ident" id="6778820">TestGolden32</span><span class="op" id="6778832">(</span><span class="ident" id="6778833">t</span>&nbsp;<span class="op" id="6778835">*</span><span class="ident" id="6778836">testing</span><span class="op" id="6778843">.</span><span class="ident" id="6778844">T</span><span class="op" id="6778845">)</span>&nbsp;<span class="op" id="6778847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6778850">testGolden</span><span class="op" id="6778860">(</span><span class="ident" id="6778861">t</span><span class="op" id="6778862">,</span>&nbsp;<span class="ident" id="6778864">New32</span><span class="op" id="6778869">(</span><span class="op" id="6778870">)</span><span class="op" id="6778871">,</span>&nbsp;<span class="ident" id="6778873">golden32</span><span class="op" id="6778881">)</span><br>
<span class="lineno"></span><span class="op" id="6778883">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6778886">func</span>&nbsp;<span class="ident" id="6778891">TestGolden32a</span><span class="op" id="6778904">(</span><span class="ident" id="6778905">t</span>&nbsp;<span class="op" id="6778907">*</span><span class="ident" id="6778908">testing</span><span class="op" id="6778915">.</span><span class="ident" id="6778916">T</span><span class="op" id="6778917">)</span>&nbsp;<span class="op" id="6778919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6778922">testGolden</span><span class="op" id="6778932">(</span><span class="ident" id="6778933">t</span><span class="op" id="6778934">,</span>&nbsp;<span class="ident" id="6778936">New32a</span><span class="op" id="6778942">(</span><span class="op" id="6778943">)</span><span class="op" id="6778944">,</span>&nbsp;<span class="ident" id="6778946">golden32a</span><span class="op" id="6778955">)</span><br>
<span class="lineno"></span><span class="op" id="6778957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="6778960">func</span>&nbsp;<span class="ident" id="6778965">TestGolden64</span><span class="op" id="6778977">(</span><span class="ident" id="6778978">t</span>&nbsp;<span class="op" id="6778980">*</span><span class="ident" id="6778981">testing</span><span class="op" id="6778988">.</span><span class="ident" id="6778989">T</span><span class="op" id="6778990">)</span>&nbsp;<span class="op" id="6778992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6778995">testGolden</span><span class="op" id="6779005">(</span><span class="ident" id="6779006">t</span><span class="op" id="6779007">,</span>&nbsp;<span class="ident" id="6779009">New64</span><span class="op" id="6779014">(</span><span class="op" id="6779015">)</span><span class="op" id="6779016">,</span>&nbsp;<span class="ident" id="6779018">golden64</span><span class="op" id="6779026">)</span><br>
<span class="lineno"></span><span class="op" id="6779028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6779031">func</span>&nbsp;<span class="ident" id="6779036">TestGolden64a</span><span class="op" id="6779049">(</span><span class="ident" id="6779050">t</span>&nbsp;<span class="op" id="6779052">*</span><span class="ident" id="6779053">testing</span><span class="op" id="6779060">.</span><span class="ident" id="6779061">T</span><span class="op" id="6779062">)</span>&nbsp;<span class="op" id="6779064">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779067">testGolden</span><span class="op" id="6779077">(</span><span class="ident" id="6779078">t</span><span class="op" id="6779079">,</span>&nbsp;<span class="ident" id="6779081">New64a</span><span class="op" id="6779087">(</span><span class="op" id="6779088">)</span><span class="op" id="6779089">,</span>&nbsp;<span class="ident" id="6779091">golden64a</span><span class="op" id="6779100">)</span><br>
<span class="lineno"></span><span class="op" id="6779102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6779105">func</span>&nbsp;<span class="ident" id="6779110">testGolden</span><span class="op" id="6779120">(</span><span class="ident" id="6779121">t</span>&nbsp;<span class="op" id="6779123">*</span><span class="ident" id="6779124">testing</span><span class="op" id="6779131">.</span><span class="ident" id="6779132">T</span><span class="op" id="6779133">,</span>&nbsp;<span class="ident" id="6779135">hash</span>&nbsp;<span class="ident" id="6779140">hash</span><span class="op" id="6779144">.</span><span class="ident" id="6779145">Hash</span><span class="op" id="6779149">,</span>&nbsp;<span class="ident" id="6779151">gold</span>&nbsp;<span class="op" id="6779156">[</span><span class="op" id="6779157">]</span><span class="ident" id="6779158">golden</span><span class="op" id="6779164">)</span>&nbsp;<span class="op" id="6779166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779169">for</span>&nbsp;<span class="ident" id="6779173">_</span><span class="op" id="6779174">,</span>&nbsp;<span class="ident" id="6779176">g</span>&nbsp;<span class="op" id="6779178">:=</span>&nbsp;<span class="keyword" id="6779181">range</span>&nbsp;<span class="ident" id="6779187">gold</span>&nbsp;<span class="op" id="6779192">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779196">hash</span><span class="op" id="6779200">.</span><span class="ident" id="6779201">Reset</span><span class="op" id="6779206">(</span><span class="op" id="6779207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779211">done</span><span class="op" id="6779215">,</span>&nbsp;<span class="builtintype" id="6779217">error</span>&nbsp;<span class="op" id="6779223">:=</span>&nbsp;<span class="ident" id="6779226">hash</span><span class="op" id="6779230">.</span><span class="ident" id="6779231">Write</span><span class="op" id="6779236">(</span><span class="op" id="6779237">[</span><span class="op" id="6779238">]</span><span class="builtintype" id="6779239">byte</span><span class="op" id="6779243">(</span><span class="ident" id="6779244">g</span><span class="op" id="6779245">.</span><span class="ident" id="6779246">text</span><span class="op" id="6779250">)</span><span class="op" id="6779251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779255">if</span>&nbsp;<span class="builtintype" id="6779258">error</span>&nbsp;<span class="op" id="6779264">!=</span>&nbsp;<span class="ident" id="6779267">nil</span>&nbsp;<span class="op" id="6779271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779276">t</span><span class="op" id="6779277">.</span><span class="ident" id="6779278">Fatalf</span><span class="op" id="6779284">(</span><span class="string" id="6779285">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="6779302">,</span>&nbsp;<span class="builtintype" id="6779304">error</span><span class="op" id="6779309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6779313">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779317">if</span>&nbsp;<span class="ident" id="6779320">done</span>&nbsp;<span class="op" id="6779325">!=</span>&nbsp;<span class="builtinfunc" id="6779328">len</span><span class="op" id="6779331">(</span><span class="ident" id="6779332">g</span><span class="op" id="6779333">.</span><span class="ident" id="6779334">text</span><span class="op" id="6779338">)</span>&nbsp;<span class="op" id="6779340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779345">t</span><span class="op" id="6779346">.</span><span class="ident" id="6779347">Fatalf</span><span class="op" id="6779353">(</span><span class="string" id="6779354">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="6779385">,</span>&nbsp;<span class="ident" id="6779387">done</span><span class="op" id="6779391">,</span>&nbsp;<span class="builtinfunc" id="6779393">len</span><span class="op" id="6779396">(</span><span class="ident" id="6779397">g</span><span class="op" id="6779398">.</span><span class="ident" id="6779399">text</span><span class="op" id="6779403">)</span><span class="op" id="6779404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6779408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779412">if</span>&nbsp;<span class="ident" id="6779415">actual</span>&nbsp;<span class="op" id="6779422">:=</span>&nbsp;<span class="ident" id="6779425">hash</span><span class="op" id="6779429">.</span><span class="ident" id="6779430">Sum</span><span class="op" id="6779433">(</span><span class="ident" id="6779434">nil</span><span class="op" id="6779437">)</span><span class="op" id="6779438">;</span>&nbsp;<span class="op" id="6779440">!</span><span class="ident" id="6779441">bytes</span><span class="op" id="6779446">.</span><span class="ident" id="6779447">Equal</span><span class="op" id="6779452">(</span><span class="ident" id="6779453">g</span><span class="op" id="6779454">.</span><span class="ident" id="6779455">sum</span><span class="op" id="6779458">,</span>&nbsp;<span class="ident" id="6779460">actual</span><span class="op" id="6779466">)</span>&nbsp;<span class="op" id="6779468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779473">t</span><span class="op" id="6779474">.</span><span class="ident" id="6779475">Errorf</span><span class="op" id="6779481">(</span><span class="string" id="6779482">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6779509">,</span>&nbsp;<span class="ident" id="6779511">g</span><span class="op" id="6779512">.</span><span class="ident" id="6779513">text</span><span class="op" id="6779517">,</span>&nbsp;<span class="ident" id="6779519">actual</span><span class="op" id="6779525">,</span>&nbsp;<span class="ident" id="6779527">g</span><span class="op" id="6779528">.</span><span class="ident" id="6779529">sum</span><span class="op" id="6779532">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6779536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6779539">}</span><br>
<span class="lineno"></span><span class="op" id="6779541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6779544">func</span>&nbsp;<span class="ident" id="6779549">TestIntegrity32</span><span class="op" id="6779564">(</span><span class="ident" id="6779565">t</span>&nbsp;<span class="op" id="6779567">*</span><span class="ident" id="6779568">testing</span><span class="op" id="6779575">.</span><span class="ident" id="6779576">T</span><span class="op" id="6779577">)</span>&nbsp;<span class="op" id="6779579">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779582">testIntegrity</span><span class="op" id="6779595">(</span><span class="ident" id="6779596">t</span><span class="op" id="6779597">,</span>&nbsp;<span class="ident" id="6779599">New32</span><span class="op" id="6779604">(</span><span class="op" id="6779605">)</span><span class="op" id="6779606">)</span><br>
<span class="lineno"></span><span class="op" id="6779608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6779611">func</span>&nbsp;<span class="ident" id="6779616">TestIntegrity32a</span><span class="op" id="6779632">(</span><span class="ident" id="6779633">t</span>&nbsp;<span class="op" id="6779635">*</span><span class="ident" id="6779636">testing</span><span class="op" id="6779643">.</span><span class="ident" id="6779644">T</span><span class="op" id="6779645">)</span>&nbsp;<span class="op" id="6779647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779650">testIntegrity</span><span class="op" id="6779663">(</span><span class="ident" id="6779664">t</span><span class="op" id="6779665">,</span>&nbsp;<span class="ident" id="6779667">New32a</span><span class="op" id="6779673">(</span><span class="op" id="6779674">)</span><span class="op" id="6779675">)</span><br>
<span class="lineno">85</span><span class="op" id="6779677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6779680">func</span>&nbsp;<span class="ident" id="6779685">TestIntegrity64</span><span class="op" id="6779700">(</span><span class="ident" id="6779701">t</span>&nbsp;<span class="op" id="6779703">*</span><span class="ident" id="6779704">testing</span><span class="op" id="6779711">.</span><span class="ident" id="6779712">T</span><span class="op" id="6779713">)</span>&nbsp;<span class="op" id="6779715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779718">testIntegrity</span><span class="op" id="6779731">(</span><span class="ident" id="6779732">t</span><span class="op" id="6779733">,</span>&nbsp;<span class="ident" id="6779735">New64</span><span class="op" id="6779740">(</span><span class="op" id="6779741">)</span><span class="op" id="6779742">)</span><br>
<span class="lineno"></span><span class="op" id="6779744">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="6779747">func</span>&nbsp;<span class="ident" id="6779752">TestIntegrity64a</span><span class="op" id="6779768">(</span><span class="ident" id="6779769">t</span>&nbsp;<span class="op" id="6779771">*</span><span class="ident" id="6779772">testing</span><span class="op" id="6779779">.</span><span class="ident" id="6779780">T</span><span class="op" id="6779781">)</span>&nbsp;<span class="op" id="6779783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779786">testIntegrity</span><span class="op" id="6779799">(</span><span class="ident" id="6779800">t</span><span class="op" id="6779801">,</span>&nbsp;<span class="ident" id="6779803">New64a</span><span class="op" id="6779809">(</span><span class="op" id="6779810">)</span><span class="op" id="6779811">)</span><br>
<span class="lineno"></span><span class="op" id="6779813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6779816">func</span>&nbsp;<span class="ident" id="6779821">testIntegrity</span><span class="op" id="6779834">(</span><span class="ident" id="6779835">t</span>&nbsp;<span class="op" id="6779837">*</span><span class="ident" id="6779838">testing</span><span class="op" id="6779845">.</span><span class="ident" id="6779846">T</span><span class="op" id="6779847">,</span>&nbsp;<span class="ident" id="6779849">h</span>&nbsp;<span class="ident" id="6779851">hash</span><span class="op" id="6779855">.</span><span class="ident" id="6779856">Hash</span><span class="op" id="6779860">)</span>&nbsp;<span class="op" id="6779862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779865">data</span>&nbsp;<span class="op" id="6779870">:=</span>&nbsp;<span class="op" id="6779873">[</span><span class="op" id="6779874">]</span><span class="builtintype" id="6779875">byte</span><span class="op" id="6779879">{</span><span class="string" id="6779880">&#39;1&#39;</span><span class="op" id="6779883">,</span>&nbsp;<span class="string" id="6779885">&#39;2&#39;</span><span class="op" id="6779888">,</span>&nbsp;<span class="num" id="6779890">3</span><span class="op" id="6779891">,</span>&nbsp;<span class="num" id="6779893">4</span><span class="op" id="6779894">,</span>&nbsp;<span class="num" id="6779896">5</span><span class="op" id="6779897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779900">h</span><span class="op" id="6779901">.</span><span class="ident" id="6779902">Write</span><span class="op" id="6779907">(</span><span class="ident" id="6779908">data</span><span class="op" id="6779912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779915">sum</span>&nbsp;<span class="op" id="6779919">:=</span>&nbsp;<span class="ident" id="6779922">h</span><span class="op" id="6779923">.</span><span class="ident" id="6779924">Sum</span><span class="op" id="6779927">(</span><span class="ident" id="6779928">nil</span><span class="op" id="6779931">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779935">if</span>&nbsp;<span class="ident" id="6779938">size</span>&nbsp;<span class="op" id="6779943">:=</span>&nbsp;<span class="ident" id="6779946">h</span><span class="op" id="6779947">.</span><span class="ident" id="6779948">Size</span><span class="op" id="6779952">(</span><span class="op" id="6779953">)</span><span class="op" id="6779954">;</span>&nbsp;<span class="ident" id="6779956">size</span>&nbsp;<span class="op" id="6779961">!=</span>&nbsp;<span class="builtinfunc" id="6779964">len</span><span class="op" id="6779967">(</span><span class="ident" id="6779968">sum</span><span class="op" id="6779971">)</span>&nbsp;<span class="op" id="6779973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779977">t</span><span class="op" id="6779978">.</span><span class="ident" id="6779979">Fatalf</span><span class="op" id="6779985">(</span><span class="string" id="6779986">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="6780015">,</span>&nbsp;<span class="ident" id="6780017">size</span><span class="op" id="6780021">,</span>&nbsp;<span class="builtinfunc" id="6780023">len</span><span class="op" id="6780026">(</span><span class="ident" id="6780027">sum</span><span class="op" id="6780030">)</span><span class="op" id="6780031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780038">if</span>&nbsp;<span class="ident" id="6780041">a</span>&nbsp;<span class="op" id="6780043">:=</span>&nbsp;<span class="ident" id="6780046">h</span><span class="op" id="6780047">.</span><span class="ident" id="6780048">Sum</span><span class="op" id="6780051">(</span><span class="ident" id="6780052">nil</span><span class="op" id="6780055">)</span><span class="op" id="6780056">;</span>&nbsp;<span class="op" id="6780058">!</span><span class="ident" id="6780059">bytes</span><span class="op" id="6780064">.</span><span class="ident" id="6780065">Equal</span><span class="op" id="6780070">(</span><span class="ident" id="6780071">sum</span><span class="op" id="6780074">,</span>&nbsp;<span class="ident" id="6780076">a</span><span class="op" id="6780077">)</span>&nbsp;<span class="op" id="6780079">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780083">t</span><span class="op" id="6780084">.</span><span class="ident" id="6780085">Fatalf</span><span class="op" id="6780091">(</span><span class="string" id="6780092">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="6780129">,</span>&nbsp;<span class="ident" id="6780131">sum</span><span class="op" id="6780134">,</span>&nbsp;<span class="ident" id="6780136">a</span><span class="op" id="6780137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780144">h</span><span class="op" id="6780145">.</span><span class="ident" id="6780146">Reset</span><span class="op" id="6780151">(</span><span class="op" id="6780152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780155">h</span><span class="op" id="6780156">.</span><span class="ident" id="6780157">Write</span><span class="op" id="6780162">(</span><span class="ident" id="6780163">data</span><span class="op" id="6780167">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780170">if</span>&nbsp;<span class="ident" id="6780173">a</span>&nbsp;<span class="op" id="6780175">:=</span>&nbsp;<span class="ident" id="6780178">h</span><span class="op" id="6780179">.</span><span class="ident" id="6780180">Sum</span><span class="op" id="6780183">(</span><span class="ident" id="6780184">nil</span><span class="op" id="6780187">)</span><span class="op" id="6780188">;</span>&nbsp;<span class="op" id="6780190">!</span><span class="ident" id="6780191">bytes</span><span class="op" id="6780196">.</span><span class="ident" id="6780197">Equal</span><span class="op" id="6780202">(</span><span class="ident" id="6780203">sum</span><span class="op" id="6780206">,</span>&nbsp;<span class="ident" id="6780208">a</span><span class="op" id="6780209">)</span>&nbsp;<span class="op" id="6780211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780215">t</span><span class="op" id="6780216">.</span><span class="ident" id="6780217">Fatalf</span><span class="op" id="6780223">(</span><span class="string" id="6780224">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="6780266">,</span>&nbsp;<span class="ident" id="6780268">sum</span><span class="op" id="6780271">,</span>&nbsp;<span class="ident" id="6780273">a</span><span class="op" id="6780274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780281">h</span><span class="op" id="6780282">.</span><span class="ident" id="6780283">Reset</span><span class="op" id="6780288">(</span><span class="op" id="6780289">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780292">h</span><span class="op" id="6780293">.</span><span class="ident" id="6780294">Write</span><span class="op" id="6780299">(</span><span class="ident" id="6780300">data</span><span class="op" id="6780304">[</span><span class="op" id="6780305">:</span><span class="num" id="6780306">2</span><span class="op" id="6780307">]</span><span class="op" id="6780308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780311">h</span><span class="op" id="6780312">.</span><span class="ident" id="6780313">Write</span><span class="op" id="6780318">(</span><span class="ident" id="6780319">data</span><span class="op" id="6780323">[</span><span class="num" id="6780324">2</span><span class="op" id="6780325">:</span><span class="op" id="6780326">]</span><span class="op" id="6780327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780330">if</span>&nbsp;<span class="ident" id="6780333">a</span>&nbsp;<span class="op" id="6780335">:=</span>&nbsp;<span class="ident" id="6780338">h</span><span class="op" id="6780339">.</span><span class="ident" id="6780340">Sum</span><span class="op" id="6780343">(</span><span class="ident" id="6780344">nil</span><span class="op" id="6780347">)</span><span class="op" id="6780348">;</span>&nbsp;<span class="op" id="6780350">!</span><span class="ident" id="6780351">bytes</span><span class="op" id="6780356">.</span><span class="ident" id="6780357">Equal</span><span class="op" id="6780362">(</span><span class="ident" id="6780363">sum</span><span class="op" id="6780366">,</span>&nbsp;<span class="ident" id="6780368">a</span><span class="op" id="6780369">)</span>&nbsp;<span class="op" id="6780371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780375">t</span><span class="op" id="6780376">.</span><span class="ident" id="6780377">Fatalf</span><span class="op" id="6780383">(</span><span class="string" id="6780384">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="6780433">,</span>&nbsp;<span class="ident" id="6780435">sum</span><span class="op" id="6780438">,</span>&nbsp;<span class="ident" id="6780440">a</span><span class="op" id="6780441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780444">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780448">switch</span>&nbsp;<span class="ident" id="6780455">h</span><span class="op" id="6780456">.</span><span class="ident" id="6780457">Size</span><span class="op" id="6780461">(</span><span class="op" id="6780462">)</span>&nbsp;<span class="op" id="6780464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780467">case</span>&nbsp;<span class="num" id="6780472">4</span><span class="op" id="6780473">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780477">sum32</span>&nbsp;<span class="op" id="6780483">:=</span>&nbsp;<span class="ident" id="6780486">h</span><span class="op" id="6780487">.</span><span class="op" id="6780488">(</span><span class="ident" id="6780489">hash</span><span class="op" id="6780493">.</span><span class="ident" id="6780494">Hash32</span><span class="op" id="6780500">)</span><span class="op" id="6780501">.</span><span class="ident" id="6780502">Sum32</span><span class="op" id="6780507">(</span><span class="op" id="6780508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780512">if</span>&nbsp;<span class="ident" id="6780515">sum32</span>&nbsp;<span class="op" id="6780521">!=</span>&nbsp;<span class="ident" id="6780524">binary</span><span class="op" id="6780530">.</span><span class="ident" id="6780531">BigEndian</span><span class="op" id="6780540">.</span><span class="ident" id="6780541">Uint32</span><span class="op" id="6780547">(</span><span class="ident" id="6780548">sum</span><span class="op" id="6780551">)</span>&nbsp;<span class="op" id="6780553">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780558">t</span><span class="op" id="6780559">.</span><span class="ident" id="6780560">Fatalf</span><span class="op" id="6780566">(</span><span class="string" id="6780567">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="6780597">,</span>&nbsp;<span class="ident" id="6780599">sum</span><span class="op" id="6780602">,</span>&nbsp;<span class="ident" id="6780604">sum32</span><span class="op" id="6780609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780616">case</span>&nbsp;<span class="num" id="6780621">8</span><span class="op" id="6780622">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780626">sum64</span>&nbsp;<span class="op" id="6780632">:=</span>&nbsp;<span class="ident" id="6780635">h</span><span class="op" id="6780636">.</span><span class="op" id="6780637">(</span><span class="ident" id="6780638">hash</span><span class="op" id="6780642">.</span><span class="ident" id="6780643">Hash64</span><span class="op" id="6780649">)</span><span class="op" id="6780650">.</span><span class="ident" id="6780651">Sum64</span><span class="op" id="6780656">(</span><span class="op" id="6780657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780661">if</span>&nbsp;<span class="ident" id="6780664">sum64</span>&nbsp;<span class="op" id="6780670">!=</span>&nbsp;<span class="ident" id="6780673">binary</span><span class="op" id="6780679">.</span><span class="ident" id="6780680">BigEndian</span><span class="op" id="6780689">.</span><span class="ident" id="6780690">Uint64</span><span class="op" id="6780696">(</span><span class="ident" id="6780697">sum</span><span class="op" id="6780700">)</span>&nbsp;<span class="op" id="6780702">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780707">t</span><span class="op" id="6780708">.</span><span class="ident" id="6780709">Fatalf</span><span class="op" id="6780715">(</span><span class="string" id="6780716">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="6780746">,</span>&nbsp;<span class="ident" id="6780748">sum</span><span class="op" id="6780751">,</span>&nbsp;<span class="ident" id="6780753">sum64</span><span class="op" id="6780758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780765">}</span><br>
<span class="lineno"></span><span class="op" id="6780767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="6780770">func</span>&nbsp;<span class="ident" id="6780775">BenchmarkFnv32KB</span><span class="op" id="6780791">(</span><span class="ident" id="6780792">b</span>&nbsp;<span class="op" id="6780794">*</span><span class="ident" id="6780795">testing</span><span class="op" id="6780802">.</span><span class="ident" id="6780803">B</span><span class="op" id="6780804">)</span>&nbsp;<span class="op" id="6780806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780809">benchmarkKB</span><span class="op" id="6780820">(</span><span class="ident" id="6780821">b</span><span class="op" id="6780822">,</span>&nbsp;<span class="ident" id="6780824">New32</span><span class="op" id="6780829">(</span><span class="op" id="6780830">)</span><span class="op" id="6780831">)</span><br>
<span class="lineno"></span><span class="op" id="6780833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6780836">func</span>&nbsp;<span class="ident" id="6780841">BenchmarkFnv32aKB</span><span class="op" id="6780858">(</span><span class="ident" id="6780859">b</span>&nbsp;<span class="op" id="6780861">*</span><span class="ident" id="6780862">testing</span><span class="op" id="6780869">.</span><span class="ident" id="6780870">B</span><span class="op" id="6780871">)</span>&nbsp;<span class="op" id="6780873">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780876">benchmarkKB</span><span class="op" id="6780887">(</span><span class="ident" id="6780888">b</span><span class="op" id="6780889">,</span>&nbsp;<span class="ident" id="6780891">New32a</span><span class="op" id="6780897">(</span><span class="op" id="6780898">)</span><span class="op" id="6780899">)</span><br>
<span class="lineno"></span><span class="op" id="6780901">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6780904">func</span>&nbsp;<span class="ident" id="6780909">BenchmarkFnv64KB</span><span class="op" id="6780925">(</span><span class="ident" id="6780926">b</span>&nbsp;<span class="op" id="6780928">*</span><span class="ident" id="6780929">testing</span><span class="op" id="6780936">.</span><span class="ident" id="6780937">B</span><span class="op" id="6780938">)</span>&nbsp;<span class="op" id="6780940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780943">benchmarkKB</span><span class="op" id="6780954">(</span><span class="ident" id="6780955">b</span><span class="op" id="6780956">,</span>&nbsp;<span class="ident" id="6780958">New64</span><span class="op" id="6780963">(</span><span class="op" id="6780964">)</span><span class="op" id="6780965">)</span><br>
<span class="lineno">145</span><span class="op" id="6780967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6780970">func</span>&nbsp;<span class="ident" id="6780975">BenchmarkFnv64aKB</span><span class="op" id="6780992">(</span><span class="ident" id="6780993">b</span>&nbsp;<span class="op" id="6780995">*</span><span class="ident" id="6780996">testing</span><span class="op" id="6781003">.</span><span class="ident" id="6781004">B</span><span class="op" id="6781005">)</span>&nbsp;<span class="op" id="6781007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781010">benchmarkKB</span><span class="op" id="6781021">(</span><span class="ident" id="6781022">b</span><span class="op" id="6781023">,</span>&nbsp;<span class="ident" id="6781025">New64a</span><span class="op" id="6781031">(</span><span class="op" id="6781032">)</span><span class="op" id="6781033">)</span><br>
<span class="lineno"></span><span class="op" id="6781035">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="6781038">func</span>&nbsp;<span class="ident" id="6781043">benchmarkKB</span><span class="op" id="6781054">(</span><span class="ident" id="6781055">b</span>&nbsp;<span class="op" id="6781057">*</span><span class="ident" id="6781058">testing</span><span class="op" id="6781065">.</span><span class="ident" id="6781066">B</span><span class="op" id="6781067">,</span>&nbsp;<span class="ident" id="6781069">h</span>&nbsp;<span class="ident" id="6781071">hash</span><span class="op" id="6781075">.</span><span class="ident" id="6781076">Hash</span><span class="op" id="6781080">)</span>&nbsp;<span class="op" id="6781082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781085">b</span><span class="op" id="6781086">.</span><span class="ident" id="6781087">SetBytes</span><span class="op" id="6781095">(</span><span class="num" id="6781096">1024</span><span class="op" id="6781100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781103">data</span>&nbsp;<span class="op" id="6781108">:=</span>&nbsp;<span class="builtinfunc" id="6781111">make</span><span class="op" id="6781115">(</span><span class="op" id="6781116">[</span><span class="op" id="6781117">]</span><span class="builtintype" id="6781118">byte</span><span class="op" id="6781122">,</span>&nbsp;<span class="num" id="6781124">1024</span><span class="op" id="6781128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781131">for</span>&nbsp;<span class="ident" id="6781135">i</span>&nbsp;<span class="op" id="6781137">:=</span>&nbsp;<span class="keyword" id="6781140">range</span>&nbsp;<span class="ident" id="6781146">data</span>&nbsp;<span class="op" id="6781151">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781155">data</span><span class="op" id="6781159">[</span><span class="ident" id="6781160">i</span><span class="op" id="6781161">]</span>&nbsp;<span class="op" id="6781163">=</span>&nbsp;<span class="builtintype" id="6781165">byte</span><span class="op" id="6781169">(</span><span class="ident" id="6781170">i</span><span class="op" id="6781171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781177">in</span>&nbsp;<span class="op" id="6781180">:=</span>&nbsp;<span class="builtinfunc" id="6781183">make</span><span class="op" id="6781187">(</span><span class="op" id="6781188">[</span><span class="op" id="6781189">]</span><span class="builtintype" id="6781190">byte</span><span class="op" id="6781194">,</span>&nbsp;<span class="num" id="6781196">0</span><span class="op" id="6781197">,</span>&nbsp;<span class="ident" id="6781199">h</span><span class="op" id="6781200">.</span><span class="ident" id="6781201">Size</span><span class="op" id="6781205">(</span><span class="op" id="6781206">)</span><span class="op" id="6781207">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781211">b</span><span class="op" id="6781212">.</span><span class="ident" id="6781213">ResetTimer</span><span class="op" id="6781223">(</span><span class="op" id="6781224">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781227">for</span>&nbsp;<span class="ident" id="6781231">i</span>&nbsp;<span class="op" id="6781233">:=</span>&nbsp;<span class="num" id="6781236">0</span><span class="op" id="6781237">;</span>&nbsp;<span class="ident" id="6781239">i</span>&nbsp;<span class="op" id="6781241">&lt;</span>&nbsp;<span class="ident" id="6781243">b</span><span class="op" id="6781244">.</span><span class="ident" id="6781245">N</span><span class="op" id="6781246">;</span>&nbsp;<span class="ident" id="6781248">i</span><span class="op" id="6781249">++</span>&nbsp;<span class="op" id="6781252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781256">h</span><span class="op" id="6781257">.</span><span class="ident" id="6781258">Reset</span><span class="op" id="6781263">(</span><span class="op" id="6781264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781268">h</span><span class="op" id="6781269">.</span><span class="ident" id="6781270">Write</span><span class="op" id="6781275">(</span><span class="ident" id="6781276">data</span><span class="op" id="6781280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781284">h</span><span class="op" id="6781285">.</span><span class="ident" id="6781286">Sum</span><span class="op" id="6781289">(</span><span class="ident" id="6781290">in</span><span class="op" id="6781292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781295">}</span><br>
<span class="lineno">165</span><span class="op" id="6781297">}</span>
</div>
</body>
</html>
