<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5583009">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5583065">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5583119">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5583170">//&nbsp;DWARF&nbsp;type&nbsp;information&nbsp;structures.</span><br>
<span class="lineno"></span><span class="comment" id="5583208">//&nbsp;The&nbsp;format&nbsp;is&nbsp;heavily&nbsp;biased&nbsp;toward&nbsp;C,&nbsp;but&nbsp;for&nbsp;simplicity</span><br>
<span class="lineno"></span><span class="comment" id="5583269">//&nbsp;the&nbsp;String&nbsp;methods&nbsp;use&nbsp;a&nbsp;pseudo-Go&nbsp;syntax.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5583316">package</span>&nbsp;<span class="ident" id="5583324">dwarf</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5583331">import</span>&nbsp;<span class="string" id="5583338">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5583349">//&nbsp;A&nbsp;Type&nbsp;conventionally&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;to&nbsp;any&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5583409">//&nbsp;specific&nbsp;Type&nbsp;structures&nbsp;(CharType,&nbsp;StructType,&nbsp;etc.).</span><br>
<span class="lineno">15</span><span class="keyword" id="5583467">type</span>&nbsp;<span class="ident" id="5583472">Type</span>&nbsp;<span class="keyword" id="5583477">interface</span>&nbsp;<span class="op" id="5583487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5583490">Common</span><span class="op" id="5583496">(</span><span class="op" id="5583497">)</span>&nbsp;<span class="op" id="5583499">*</span><span class="ident" id="5583500">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5583512">String</span><span class="op" id="5583518">(</span><span class="op" id="5583519">)</span>&nbsp;<span class="builtintype" id="5583521">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5583529">Size</span><span class="op" id="5583533">(</span><span class="op" id="5583534">)</span>&nbsp;<span class="ident" id="5583536">int64</span><br>
<span class="lineno"></span><span class="op" id="5583542">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="5583545">//&nbsp;A&nbsp;CommonType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;multiple&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="5583600">//&nbsp;If&nbsp;a&nbsp;field&nbsp;is&nbsp;not&nbsp;known&nbsp;or&nbsp;not&nbsp;applicable&nbsp;for&nbsp;a&nbsp;given&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="5583663">//&nbsp;the&nbsp;zero&nbsp;value&nbsp;is&nbsp;used.</span><br>
<span class="lineno"></span><span class="keyword" id="5583690">type</span>&nbsp;<span class="ident" id="5583695">CommonType</span>&nbsp;<span class="keyword" id="5583706">struct</span>&nbsp;<span class="op" id="5583713">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5583716">ByteSize</span>&nbsp;<span class="ident" id="5583725">int64</span>&nbsp;&nbsp;<span class="comment" id="5583732">//&nbsp;size&nbsp;of&nbsp;value&nbsp;of&nbsp;this&nbsp;type,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5583773">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5583782">string</span>&nbsp;<span class="comment" id="5583789">//&nbsp;name&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="5583831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5583834">func</span>&nbsp;<span class="op" id="5583839">(</span><span class="ident" id="5583840">c</span>&nbsp;<span class="op" id="5583842">*</span><span class="ident" id="5583843">CommonType</span><span class="op" id="5583853">)</span>&nbsp;<span class="ident" id="5583855">Common</span><span class="op" id="5583861">(</span><span class="op" id="5583862">)</span>&nbsp;<span class="op" id="5583864">*</span><span class="ident" id="5583865">CommonType</span>&nbsp;<span class="op" id="5583876">{</span>&nbsp;<span class="keyword" id="5583878">return</span>&nbsp;<span class="ident" id="5583885">c</span>&nbsp;<span class="op" id="5583887">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="5583890">func</span>&nbsp;<span class="op" id="5583895">(</span><span class="ident" id="5583896">c</span>&nbsp;<span class="op" id="5583898">*</span><span class="ident" id="5583899">CommonType</span><span class="op" id="5583909">)</span>&nbsp;<span class="ident" id="5583911">Size</span><span class="op" id="5583915">(</span><span class="op" id="5583916">)</span>&nbsp;<span class="ident" id="5583918">int64</span>&nbsp;<span class="op" id="5583924">{</span>&nbsp;<span class="keyword" id="5583926">return</span>&nbsp;<span class="ident" id="5583933">c</span><span class="op" id="5583934">.</span><span class="ident" id="5583935">ByteSize</span>&nbsp;<span class="op" id="5583944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5583947">//&nbsp;Basic&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="5583963">//&nbsp;A&nbsp;BasicType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;all&nbsp;basic&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5584018">type</span>&nbsp;<span class="ident" id="5584023">BasicType</span>&nbsp;<span class="keyword" id="5584033">struct</span>&nbsp;<span class="op" id="5584040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584043">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584055">BitSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5584065">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584072">BitOffset</span>&nbsp;<span class="ident" id="5584082">int64</span><br>
<span class="lineno">40</span><span class="op" id="5584088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5584091">func</span>&nbsp;<span class="op" id="5584096">(</span><span class="ident" id="5584097">b</span>&nbsp;<span class="op" id="5584099">*</span><span class="ident" id="5584100">BasicType</span><span class="op" id="5584109">)</span>&nbsp;<span class="ident" id="5584111">Basic</span><span class="op" id="5584116">(</span><span class="op" id="5584117">)</span>&nbsp;<span class="op" id="5584119">*</span><span class="ident" id="5584120">BasicType</span>&nbsp;<span class="op" id="5584130">{</span>&nbsp;<span class="keyword" id="5584132">return</span>&nbsp;<span class="ident" id="5584139">b</span>&nbsp;<span class="op" id="5584141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5584144">func</span>&nbsp;<span class="op" id="5584149">(</span><span class="ident" id="5584150">t</span>&nbsp;<span class="op" id="5584152">*</span><span class="ident" id="5584153">BasicType</span><span class="op" id="5584162">)</span>&nbsp;<span class="ident" id="5584164">String</span><span class="op" id="5584170">(</span><span class="op" id="5584171">)</span>&nbsp;<span class="builtintype" id="5584173">string</span>&nbsp;<span class="op" id="5584180">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5584183">if</span>&nbsp;<span class="ident" id="5584186">t</span><span class="op" id="5584187">.</span><span class="ident" id="5584188">Name</span>&nbsp;<span class="op" id="5584193">!=</span>&nbsp;<span class="string" id="5584196">&#34;&#34;</span>&nbsp;<span class="op" id="5584199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5584203">return</span>&nbsp;<span class="ident" id="5584210">t</span><span class="op" id="5584211">.</span><span class="ident" id="5584212">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5584218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5584221">return</span>&nbsp;<span class="string" id="5584228">&#34;?&#34;</span><br>
<span class="lineno"></span><span class="op" id="5584232">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="5584235">//&nbsp;A&nbsp;CharType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5584285">type</span>&nbsp;<span class="ident" id="5584290">CharType</span>&nbsp;<span class="keyword" id="5584299">struct</span>&nbsp;<span class="op" id="5584306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584309">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5584319">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="5584322">//&nbsp;A&nbsp;UcharType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5584376">type</span>&nbsp;<span class="ident" id="5584381">UcharType</span>&nbsp;<span class="keyword" id="5584391">struct</span>&nbsp;<span class="op" id="5584398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584401">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5584411">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5584414">//&nbsp;An&nbsp;IntType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5584462">type</span>&nbsp;<span class="ident" id="5584467">IntType</span>&nbsp;<span class="keyword" id="5584475">struct</span>&nbsp;<span class="op" id="5584482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584485">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5584495">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="5584498">//&nbsp;A&nbsp;UintType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5584549">type</span>&nbsp;<span class="ident" id="5584554">UintType</span>&nbsp;<span class="keyword" id="5584563">struct</span>&nbsp;<span class="op" id="5584570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584573">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5584583">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="5584586">//&nbsp;A&nbsp;FloatType&nbsp;represents&nbsp;a&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5584635">type</span>&nbsp;<span class="ident" id="5584640">FloatType</span>&nbsp;<span class="keyword" id="5584650">struct</span>&nbsp;<span class="op" id="5584657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584660">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5584670">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="5584673">//&nbsp;A&nbsp;ComplexType&nbsp;represents&nbsp;a&nbsp;complex&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5584732">type</span>&nbsp;<span class="ident" id="5584737">ComplexType</span>&nbsp;<span class="keyword" id="5584749">struct</span>&nbsp;<span class="op" id="5584756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584759">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5584769">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="5584772">//&nbsp;A&nbsp;BoolType&nbsp;represents&nbsp;a&nbsp;boolean&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5584813">type</span>&nbsp;<span class="ident" id="5584818">BoolType</span>&nbsp;<span class="keyword" id="5584827">struct</span>&nbsp;<span class="op" id="5584834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584837">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5584847">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="5584850">//&nbsp;An&nbsp;AddrType&nbsp;represents&nbsp;a&nbsp;machine&nbsp;address&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5584900">type</span>&nbsp;<span class="ident" id="5584905">AddrType</span>&nbsp;<span class="keyword" id="5584914">struct</span>&nbsp;<span class="op" id="5584921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5584924">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5584934">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="5584937">//&nbsp;An&nbsp;UnspecifiedType&nbsp;represents&nbsp;an&nbsp;implicit,&nbsp;unknown,&nbsp;ambiguous&nbsp;or&nbsp;nonexistent&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5585023">type</span>&nbsp;<span class="ident" id="5585028">UnspecifiedType</span>&nbsp;<span class="keyword" id="5585044">struct</span>&nbsp;<span class="op" id="5585051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5585054">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5585064">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5585067">//&nbsp;qualifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5585082">//&nbsp;A&nbsp;QualType&nbsp;represents&nbsp;a&nbsp;type&nbsp;that&nbsp;has&nbsp;the&nbsp;C/C++&nbsp;&#34;const&#34;,&nbsp;&#34;restrict&#34;,&nbsp;or&nbsp;&#34;volatile&#34;&nbsp;qualifier.</span><br>
<span class="lineno"></span><span class="keyword" id="5585179">type</span>&nbsp;<span class="ident" id="5585184">QualType</span>&nbsp;<span class="keyword" id="5585193">struct</span>&nbsp;<span class="op" id="5585200">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5585203">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5585215">Qual</span>&nbsp;<span class="builtintype" id="5585220">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5585228">Type</span>&nbsp;<span class="ident" id="5585233">Type</span><br>
<span class="lineno"></span><span class="op" id="5585238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5585241">func</span>&nbsp;<span class="op" id="5585246">(</span><span class="ident" id="5585247">t</span>&nbsp;<span class="op" id="5585249">*</span><span class="ident" id="5585250">QualType</span><span class="op" id="5585258">)</span>&nbsp;<span class="ident" id="5585260">String</span><span class="op" id="5585266">(</span><span class="op" id="5585267">)</span>&nbsp;<span class="builtintype" id="5585269">string</span>&nbsp;<span class="op" id="5585276">{</span>&nbsp;<span class="keyword" id="5585278">return</span>&nbsp;<span class="ident" id="5585285">t</span><span class="op" id="5585286">.</span><span class="ident" id="5585287">Qual</span>&nbsp;<span class="op" id="5585292">+</span>&nbsp;<span class="string" id="5585294">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5585298">+</span>&nbsp;<span class="ident" id="5585300">t</span><span class="op" id="5585301">.</span><span class="ident" id="5585302">Type</span><span class="op" id="5585306">.</span><span class="ident" id="5585307">String</span><span class="op" id="5585313">(</span><span class="op" id="5585314">)</span>&nbsp;<span class="op" id="5585316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5585319">func</span>&nbsp;<span class="op" id="5585324">(</span><span class="ident" id="5585325">t</span>&nbsp;<span class="op" id="5585327">*</span><span class="ident" id="5585328">QualType</span><span class="op" id="5585336">)</span>&nbsp;<span class="ident" id="5585338">Size</span><span class="op" id="5585342">(</span><span class="op" id="5585343">)</span>&nbsp;<span class="ident" id="5585345">int64</span>&nbsp;<span class="op" id="5585351">{</span>&nbsp;<span class="keyword" id="5585353">return</span>&nbsp;<span class="ident" id="5585360">t</span><span class="op" id="5585361">.</span><span class="ident" id="5585362">Type</span><span class="op" id="5585366">.</span><span class="ident" id="5585367">Size</span><span class="op" id="5585371">(</span><span class="op" id="5585372">)</span>&nbsp;<span class="op" id="5585374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5585377">//&nbsp;An&nbsp;ArrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;size&nbsp;array&nbsp;type.</span><br>
<span class="lineno">110</span><span class="keyword" id="5585429">type</span>&nbsp;<span class="ident" id="5585434">ArrayType</span>&nbsp;<span class="keyword" id="5585444">struct</span>&nbsp;<span class="op" id="5585451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5585454">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5585466">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585480">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5585486">StrideBitSize</span>&nbsp;<span class="ident" id="5585500">int64</span>&nbsp;<span class="comment" id="5585506">//&nbsp;if&nbsp;&gt;&nbsp;0,&nbsp;number&nbsp;of&nbsp;bits&nbsp;to&nbsp;hold&nbsp;each&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5585554">Count</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585568">int64</span>&nbsp;<span class="comment" id="5585574">//&nbsp;if&nbsp;==&nbsp;-1,&nbsp;an&nbsp;incomplete&nbsp;array,&nbsp;like&nbsp;char&nbsp;x[].</span><br>
<span class="lineno">115</span><span class="op" id="5585623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5585626">func</span>&nbsp;<span class="op" id="5585631">(</span><span class="ident" id="5585632">t</span>&nbsp;<span class="op" id="5585634">*</span><span class="ident" id="5585635">ArrayType</span><span class="op" id="5585644">)</span>&nbsp;<span class="ident" id="5585646">String</span><span class="op" id="5585652">(</span><span class="op" id="5585653">)</span>&nbsp;<span class="builtintype" id="5585655">string</span>&nbsp;<span class="op" id="5585662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5585665">return</span>&nbsp;<span class="string" id="5585672">&#34;[&#34;</span>&nbsp;<span class="op" id="5585676">+</span>&nbsp;<span class="ident" id="5585678">strconv</span><span class="op" id="5585685">.</span><span class="ident" id="5585686">FormatInt</span><span class="op" id="5585695">(</span><span class="ident" id="5585696">t</span><span class="op" id="5585697">.</span><span class="ident" id="5585698">Count</span><span class="op" id="5585703">,</span>&nbsp;<span class="num" id="5585705">10</span><span class="op" id="5585707">)</span>&nbsp;<span class="op" id="5585709">+</span>&nbsp;<span class="string" id="5585711">&#34;]&#34;</span>&nbsp;<span class="op" id="5585715">+</span>&nbsp;<span class="ident" id="5585717">t</span><span class="op" id="5585718">.</span><span class="ident" id="5585719">Type</span><span class="op" id="5585723">.</span><span class="ident" id="5585724">String</span><span class="op" id="5585730">(</span><span class="op" id="5585731">)</span><br>
<span class="lineno"></span><span class="op" id="5585733">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="5585736">func</span>&nbsp;<span class="op" id="5585741">(</span><span class="ident" id="5585742">t</span>&nbsp;<span class="op" id="5585744">*</span><span class="ident" id="5585745">ArrayType</span><span class="op" id="5585754">)</span>&nbsp;<span class="ident" id="5585756">Size</span><span class="op" id="5585760">(</span><span class="op" id="5585761">)</span>&nbsp;<span class="ident" id="5585763">int64</span>&nbsp;<span class="op" id="5585769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5585772">if</span>&nbsp;<span class="ident" id="5585775">t</span><span class="op" id="5585776">.</span><span class="ident" id="5585777">Count</span>&nbsp;<span class="op" id="5585783">==</span>&nbsp;<span class="op" id="5585786">-</span><span class="num" id="5585787">1</span>&nbsp;<span class="op" id="5585789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5585793">return</span>&nbsp;<span class="num" id="5585800">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5585803">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5585806">return</span>&nbsp;<span class="ident" id="5585813">t</span><span class="op" id="5585814">.</span><span class="ident" id="5585815">Count</span>&nbsp;<span class="op" id="5585821">*</span>&nbsp;<span class="ident" id="5585823">t</span><span class="op" id="5585824">.</span><span class="ident" id="5585825">Type</span><span class="op" id="5585829">.</span><span class="ident" id="5585830">Size</span><span class="op" id="5585834">(</span><span class="op" id="5585835">)</span><br>
<span class="lineno"></span><span class="op" id="5585837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5585840">//&nbsp;A&nbsp;VoidType&nbsp;represents&nbsp;the&nbsp;C&nbsp;void&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5585882">type</span>&nbsp;<span class="ident" id="5585887">VoidType</span>&nbsp;<span class="keyword" id="5585896">struct</span>&nbsp;<span class="op" id="5585903">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5585906">CommonType</span><br>
<span class="lineno"></span><span class="op" id="5585917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5585920">func</span>&nbsp;<span class="op" id="5585925">(</span><span class="ident" id="5585926">t</span>&nbsp;<span class="op" id="5585928">*</span><span class="ident" id="5585929">VoidType</span><span class="op" id="5585937">)</span>&nbsp;<span class="ident" id="5585939">String</span><span class="op" id="5585945">(</span><span class="op" id="5585946">)</span>&nbsp;<span class="builtintype" id="5585948">string</span>&nbsp;<span class="op" id="5585955">{</span>&nbsp;<span class="keyword" id="5585957">return</span>&nbsp;<span class="string" id="5585964">&#34;void&#34;</span>&nbsp;<span class="op" id="5585971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="5585974">//&nbsp;A&nbsp;PtrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5586014">type</span>&nbsp;<span class="ident" id="5586019">PtrType</span>&nbsp;<span class="keyword" id="5586027">struct</span>&nbsp;<span class="op" id="5586034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586037">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586049">Type</span>&nbsp;<span class="ident" id="5586054">Type</span><br>
<span class="lineno"></span><span class="op" id="5586059">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="5586062">func</span>&nbsp;<span class="op" id="5586067">(</span><span class="ident" id="5586068">t</span>&nbsp;<span class="op" id="5586070">*</span><span class="ident" id="5586071">PtrType</span><span class="op" id="5586078">)</span>&nbsp;<span class="ident" id="5586080">String</span><span class="op" id="5586086">(</span><span class="op" id="5586087">)</span>&nbsp;<span class="builtintype" id="5586089">string</span>&nbsp;<span class="op" id="5586096">{</span>&nbsp;<span class="keyword" id="5586098">return</span>&nbsp;<span class="string" id="5586105">&#34;*&#34;</span>&nbsp;<span class="op" id="5586109">+</span>&nbsp;<span class="ident" id="5586111">t</span><span class="op" id="5586112">.</span><span class="ident" id="5586113">Type</span><span class="op" id="5586117">.</span><span class="ident" id="5586118">String</span><span class="op" id="5586124">(</span><span class="op" id="5586125">)</span>&nbsp;<span class="op" id="5586127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5586130">//&nbsp;A&nbsp;StructType&nbsp;represents&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5586193">type</span>&nbsp;<span class="ident" id="5586198">StructType</span>&nbsp;<span class="keyword" id="5586209">struct</span>&nbsp;<span class="op" id="5586216">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586219">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586231">StructName</span>&nbsp;<span class="builtintype" id="5586242">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586250">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5586261">string</span>&nbsp;<span class="comment" id="5586268">//&nbsp;&#34;struct&#34;,&nbsp;&#34;union&#34;,&nbsp;or&nbsp;&#34;class&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586303">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5586314">[</span><span class="op" id="5586315">]</span><span class="op" id="5586316">*</span><span class="ident" id="5586317">StructField</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586330">Incomplete</span>&nbsp;<span class="builtintype" id="5586341">bool</span>&nbsp;<span class="comment" id="5586346">//&nbsp;if&nbsp;true,&nbsp;struct,&nbsp;union,&nbsp;class&nbsp;is&nbsp;declared&nbsp;but&nbsp;not&nbsp;defined</span><br>
<span class="lineno">150</span><span class="op" id="5586407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5586410">//&nbsp;A&nbsp;StructField&nbsp;represents&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5586485">type</span>&nbsp;<span class="ident" id="5586490">StructField</span>&nbsp;<span class="keyword" id="5586502">struct</span>&nbsp;<span class="op" id="5586509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586512">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5586523">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586531">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5586542">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586548">ByteOffset</span>&nbsp;<span class="ident" id="5586559">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586566">ByteSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5586577">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586584">BitOffset</span>&nbsp;&nbsp;<span class="ident" id="5586595">int64</span>&nbsp;<span class="comment" id="5586601">//&nbsp;within&nbsp;the&nbsp;ByteSize&nbsp;bytes&nbsp;at&nbsp;ByteOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586645">BitSize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5586656">int64</span>&nbsp;<span class="comment" id="5586662">//&nbsp;zero&nbsp;if&nbsp;not&nbsp;a&nbsp;bit&nbsp;field</span><br>
<span class="lineno">160</span><span class="op" id="5586689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5586692">func</span>&nbsp;<span class="op" id="5586697">(</span><span class="ident" id="5586698">t</span>&nbsp;<span class="op" id="5586700">*</span><span class="ident" id="5586701">StructType</span><span class="op" id="5586711">)</span>&nbsp;<span class="ident" id="5586713">String</span><span class="op" id="5586719">(</span><span class="op" id="5586720">)</span>&nbsp;<span class="builtintype" id="5586722">string</span>&nbsp;<span class="op" id="5586729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5586732">if</span>&nbsp;<span class="ident" id="5586735">t</span><span class="op" id="5586736">.</span><span class="ident" id="5586737">StructName</span>&nbsp;<span class="op" id="5586748">!=</span>&nbsp;<span class="string" id="5586751">&#34;&#34;</span>&nbsp;<span class="op" id="5586754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5586758">return</span>&nbsp;<span class="ident" id="5586765">t</span><span class="op" id="5586766">.</span><span class="ident" id="5586767">Kind</span>&nbsp;<span class="op" id="5586772">+</span>&nbsp;<span class="string" id="5586774">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5586778">+</span>&nbsp;<span class="ident" id="5586780">t</span><span class="op" id="5586781">.</span><span class="ident" id="5586782">StructName</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5586794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5586797">return</span>&nbsp;<span class="ident" id="5586804">t</span><span class="op" id="5586805">.</span><span class="ident" id="5586806">Defn</span><span class="op" id="5586810">(</span><span class="op" id="5586811">)</span><br>
<span class="lineno"></span><span class="op" id="5586813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5586816">func</span>&nbsp;<span class="op" id="5586821">(</span><span class="ident" id="5586822">t</span>&nbsp;<span class="op" id="5586824">*</span><span class="ident" id="5586825">StructType</span><span class="op" id="5586835">)</span>&nbsp;<span class="ident" id="5586837">Defn</span><span class="op" id="5586841">(</span><span class="op" id="5586842">)</span>&nbsp;<span class="builtintype" id="5586844">string</span>&nbsp;<span class="op" id="5586851">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586854">s</span>&nbsp;<span class="op" id="5586856">:=</span>&nbsp;<span class="ident" id="5586859">t</span><span class="op" id="5586860">.</span><span class="ident" id="5586861">Kind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5586867">if</span>&nbsp;<span class="ident" id="5586870">t</span><span class="op" id="5586871">.</span><span class="ident" id="5586872">StructName</span>&nbsp;<span class="op" id="5586883">!=</span>&nbsp;<span class="string" id="5586886">&#34;&#34;</span>&nbsp;<span class="op" id="5586889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586893">s</span>&nbsp;<span class="op" id="5586895">+=</span>&nbsp;<span class="string" id="5586898">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5586902">+</span>&nbsp;<span class="ident" id="5586904">t</span><span class="op" id="5586905">.</span><span class="ident" id="5586906">StructName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5586918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5586921">if</span>&nbsp;<span class="ident" id="5586924">t</span><span class="op" id="5586925">.</span><span class="ident" id="5586926">Incomplete</span>&nbsp;<span class="op" id="5586937">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586941">s</span>&nbsp;<span class="op" id="5586943">+=</span>&nbsp;<span class="string" id="5586946">&#34;&nbsp;/*incomplete*/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5586966">return</span>&nbsp;<span class="ident" id="5586973">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5586976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5586979">s</span>&nbsp;<span class="op" id="5586981">+=</span>&nbsp;<span class="string" id="5586984">&#34;&nbsp;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5586990">for</span>&nbsp;<span class="ident" id="5586994">i</span><span class="op" id="5586995">,</span>&nbsp;<span class="ident" id="5586997">f</span>&nbsp;<span class="op" id="5586999">:=</span>&nbsp;<span class="keyword" id="5587002">range</span>&nbsp;<span class="ident" id="5587008">t</span><span class="op" id="5587009">.</span><span class="ident" id="5587010">Field</span>&nbsp;<span class="op" id="5587016">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5587020">if</span>&nbsp;<span class="ident" id="5587023">i</span>&nbsp;<span class="op" id="5587025">&gt;</span>&nbsp;<span class="num" id="5587027">0</span>&nbsp;<span class="op" id="5587029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587034">s</span>&nbsp;<span class="op" id="5587036">+=</span>&nbsp;<span class="string" id="5587039">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5587046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587050">s</span>&nbsp;<span class="op" id="5587052">+=</span>&nbsp;<span class="ident" id="5587055">f</span><span class="op" id="5587056">.</span><span class="ident" id="5587057">Name</span>&nbsp;<span class="op" id="5587062">+</span>&nbsp;<span class="string" id="5587064">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5587068">+</span>&nbsp;<span class="ident" id="5587070">f</span><span class="op" id="5587071">.</span><span class="ident" id="5587072">Type</span><span class="op" id="5587076">.</span><span class="ident" id="5587077">String</span><span class="op" id="5587083">(</span><span class="op" id="5587084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587088">s</span>&nbsp;<span class="op" id="5587090">+=</span>&nbsp;<span class="string" id="5587093">&#34;@&#34;</span>&nbsp;<span class="op" id="5587097">+</span>&nbsp;<span class="ident" id="5587099">strconv</span><span class="op" id="5587106">.</span><span class="ident" id="5587107">FormatInt</span><span class="op" id="5587116">(</span><span class="ident" id="5587117">f</span><span class="op" id="5587118">.</span><span class="ident" id="5587119">ByteOffset</span><span class="op" id="5587129">,</span>&nbsp;<span class="num" id="5587131">10</span><span class="op" id="5587133">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5587137">if</span>&nbsp;<span class="ident" id="5587140">f</span><span class="op" id="5587141">.</span><span class="ident" id="5587142">BitSize</span>&nbsp;<span class="op" id="5587150">&gt;</span>&nbsp;<span class="num" id="5587152">0</span>&nbsp;<span class="op" id="5587154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587159">s</span>&nbsp;<span class="op" id="5587161">+=</span>&nbsp;<span class="string" id="5587164">&#34;&nbsp;:&nbsp;&#34;</span>&nbsp;<span class="op" id="5587170">+</span>&nbsp;<span class="ident" id="5587172">strconv</span><span class="op" id="5587179">.</span><span class="ident" id="5587180">FormatInt</span><span class="op" id="5587189">(</span><span class="ident" id="5587190">f</span><span class="op" id="5587191">.</span><span class="ident" id="5587192">BitSize</span><span class="op" id="5587199">,</span>&nbsp;<span class="num" id="5587201">10</span><span class="op" id="5587203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587208">s</span>&nbsp;<span class="op" id="5587210">+=</span>&nbsp;<span class="string" id="5587213">&#34;@&#34;</span>&nbsp;<span class="op" id="5587217">+</span>&nbsp;<span class="ident" id="5587219">strconv</span><span class="op" id="5587226">.</span><span class="ident" id="5587227">FormatInt</span><span class="op" id="5587236">(</span><span class="ident" id="5587237">f</span><span class="op" id="5587238">.</span><span class="ident" id="5587239">BitOffset</span><span class="op" id="5587248">,</span>&nbsp;<span class="num" id="5587250">10</span><span class="op" id="5587252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5587256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5587259">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587262">s</span>&nbsp;<span class="op" id="5587264">+=</span>&nbsp;<span class="string" id="5587267">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5587272">return</span>&nbsp;<span class="ident" id="5587279">s</span><br>
<span class="lineno"></span><span class="op" id="5587281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5587284">//&nbsp;An&nbsp;EnumType&nbsp;represents&nbsp;an&nbsp;enumerated&nbsp;type.</span><br>
<span class="lineno">195</span><span class="comment" id="5587330">//&nbsp;The&nbsp;only&nbsp;indication&nbsp;of&nbsp;its&nbsp;native&nbsp;integer&nbsp;type&nbsp;is&nbsp;its&nbsp;ByteSize</span><br>
<span class="lineno"></span><span class="comment" id="5587396">//&nbsp;(inside&nbsp;CommonType).</span><br>
<span class="lineno"></span><span class="keyword" id="5587420">type</span>&nbsp;<span class="ident" id="5587425">EnumType</span>&nbsp;<span class="keyword" id="5587434">struct</span>&nbsp;<span class="op" id="5587441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587444">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587456">EnumName</span>&nbsp;<span class="builtintype" id="5587465">string</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587473">Val</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5587482">[</span><span class="op" id="5587483">]</span><span class="op" id="5587484">*</span><span class="ident" id="5587485">EnumValue</span><br>
<span class="lineno"></span><span class="op" id="5587495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5587498">//&nbsp;An&nbsp;EnumValue&nbsp;represents&nbsp;a&nbsp;single&nbsp;enumeration&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5587553">type</span>&nbsp;<span class="ident" id="5587558">EnumValue</span>&nbsp;<span class="keyword" id="5587568">struct</span>&nbsp;<span class="op" id="5587575">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587578">Name</span>&nbsp;<span class="builtintype" id="5587583">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587591">Val</span>&nbsp;&nbsp;<span class="ident" id="5587596">int64</span><br>
<span class="lineno"></span><span class="op" id="5587602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5587605">func</span>&nbsp;<span class="op" id="5587610">(</span><span class="ident" id="5587611">t</span>&nbsp;<span class="op" id="5587613">*</span><span class="ident" id="5587614">EnumType</span><span class="op" id="5587622">)</span>&nbsp;<span class="ident" id="5587624">String</span><span class="op" id="5587630">(</span><span class="op" id="5587631">)</span>&nbsp;<span class="builtintype" id="5587633">string</span>&nbsp;<span class="op" id="5587640">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587643">s</span>&nbsp;<span class="op" id="5587645">:=</span>&nbsp;<span class="string" id="5587648">&#34;enum&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5587656">if</span>&nbsp;<span class="ident" id="5587659">t</span><span class="op" id="5587660">.</span><span class="ident" id="5587661">EnumName</span>&nbsp;<span class="op" id="5587670">!=</span>&nbsp;<span class="string" id="5587673">&#34;&#34;</span>&nbsp;<span class="op" id="5587676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587680">s</span>&nbsp;<span class="op" id="5587682">+=</span>&nbsp;<span class="string" id="5587685">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5587689">+</span>&nbsp;<span class="ident" id="5587691">t</span><span class="op" id="5587692">.</span><span class="ident" id="5587693">EnumName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5587703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587706">s</span>&nbsp;<span class="op" id="5587708">+=</span>&nbsp;<span class="string" id="5587711">&#34;&nbsp;{&#34;</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5587717">for</span>&nbsp;<span class="ident" id="5587721">i</span><span class="op" id="5587722">,</span>&nbsp;<span class="ident" id="5587724">v</span>&nbsp;<span class="op" id="5587726">:=</span>&nbsp;<span class="keyword" id="5587729">range</span>&nbsp;<span class="ident" id="5587735">t</span><span class="op" id="5587736">.</span><span class="ident" id="5587737">Val</span>&nbsp;<span class="op" id="5587741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5587745">if</span>&nbsp;<span class="ident" id="5587748">i</span>&nbsp;<span class="op" id="5587750">&gt;</span>&nbsp;<span class="num" id="5587752">0</span>&nbsp;<span class="op" id="5587754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587759">s</span>&nbsp;<span class="op" id="5587761">+=</span>&nbsp;<span class="string" id="5587764">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5587771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587775">s</span>&nbsp;<span class="op" id="5587777">+=</span>&nbsp;<span class="ident" id="5587780">v</span><span class="op" id="5587781">.</span><span class="ident" id="5587782">Name</span>&nbsp;<span class="op" id="5587787">+</span>&nbsp;<span class="string" id="5587789">&#34;=&#34;</span>&nbsp;<span class="op" id="5587793">+</span>&nbsp;<span class="ident" id="5587795">strconv</span><span class="op" id="5587802">.</span><span class="ident" id="5587803">FormatInt</span><span class="op" id="5587812">(</span><span class="ident" id="5587813">v</span><span class="op" id="5587814">.</span><span class="ident" id="5587815">Val</span><span class="op" id="5587818">,</span>&nbsp;<span class="num" id="5587820">10</span><span class="op" id="5587822">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5587825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587828">s</span>&nbsp;<span class="op" id="5587830">+=</span>&nbsp;<span class="string" id="5587833">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5587838">return</span>&nbsp;<span class="ident" id="5587845">s</span><br>
<span class="lineno"></span><span class="op" id="5587847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="5587850">//&nbsp;A&nbsp;FuncType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5587892">type</span>&nbsp;<span class="ident" id="5587897">FuncType</span>&nbsp;<span class="keyword" id="5587906">struct</span>&nbsp;<span class="op" id="5587913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587916">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587928">ReturnType</span>&nbsp;<span class="ident" id="5587939">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5587945">ParamType</span>&nbsp;&nbsp;<span class="op" id="5587956">[</span><span class="op" id="5587957">]</span><span class="ident" id="5587958">Type</span><br>
<span class="lineno">230</span><span class="op" id="5587963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5587966">func</span>&nbsp;<span class="op" id="5587971">(</span><span class="ident" id="5587972">t</span>&nbsp;<span class="op" id="5587974">*</span><span class="ident" id="5587975">FuncType</span><span class="op" id="5587983">)</span>&nbsp;<span class="ident" id="5587985">String</span><span class="op" id="5587991">(</span><span class="op" id="5587992">)</span>&nbsp;<span class="builtintype" id="5587994">string</span>&nbsp;<span class="op" id="5588001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588004">s</span>&nbsp;<span class="op" id="5588006">:=</span>&nbsp;<span class="string" id="5588009">&#34;func(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5588018">for</span>&nbsp;<span class="ident" id="5588022">i</span><span class="op" id="5588023">,</span>&nbsp;<span class="ident" id="5588025">t</span>&nbsp;<span class="op" id="5588027">:=</span>&nbsp;<span class="keyword" id="5588030">range</span>&nbsp;<span class="ident" id="5588036">t</span><span class="op" id="5588037">.</span><span class="ident" id="5588038">ParamType</span>&nbsp;<span class="op" id="5588048">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5588052">if</span>&nbsp;<span class="ident" id="5588055">i</span>&nbsp;<span class="op" id="5588057">&gt;</span>&nbsp;<span class="num" id="5588059">0</span>&nbsp;<span class="op" id="5588061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588066">s</span>&nbsp;<span class="op" id="5588068">+=</span>&nbsp;<span class="string" id="5588071">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5588078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588082">s</span>&nbsp;<span class="op" id="5588084">+=</span>&nbsp;<span class="ident" id="5588087">t</span><span class="op" id="5588088">.</span><span class="ident" id="5588089">String</span><span class="op" id="5588095">(</span><span class="op" id="5588096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5588099">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588102">s</span>&nbsp;<span class="op" id="5588104">+=</span>&nbsp;<span class="string" id="5588107">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5588112">if</span>&nbsp;<span class="ident" id="5588115">t</span><span class="op" id="5588116">.</span><span class="ident" id="5588117">ReturnType</span>&nbsp;<span class="op" id="5588128">!=</span>&nbsp;<span class="ident" id="5588131">nil</span>&nbsp;<span class="op" id="5588135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588139">s</span>&nbsp;<span class="op" id="5588141">+=</span>&nbsp;<span class="string" id="5588144">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5588148">+</span>&nbsp;<span class="ident" id="5588150">t</span><span class="op" id="5588151">.</span><span class="ident" id="5588152">ReturnType</span><span class="op" id="5588162">.</span><span class="ident" id="5588163">String</span><span class="op" id="5588169">(</span><span class="op" id="5588170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5588173">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5588176">return</span>&nbsp;<span class="ident" id="5588183">s</span><br>
<span class="lineno">245</span><span class="op" id="5588185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5588188">//&nbsp;A&nbsp;DotDotDotType&nbsp;represents&nbsp;the&nbsp;variadic&nbsp;...&nbsp;function&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="5588255">type</span>&nbsp;<span class="ident" id="5588260">DotDotDotType</span>&nbsp;<span class="keyword" id="5588274">struct</span>&nbsp;<span class="op" id="5588281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588284">CommonType</span><br>
<span class="lineno">250</span><span class="op" id="5588295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5588298">func</span>&nbsp;<span class="op" id="5588303">(</span><span class="ident" id="5588304">t</span>&nbsp;<span class="op" id="5588306">*</span><span class="ident" id="5588307">DotDotDotType</span><span class="op" id="5588320">)</span>&nbsp;<span class="ident" id="5588322">String</span><span class="op" id="5588328">(</span><span class="op" id="5588329">)</span>&nbsp;<span class="builtintype" id="5588331">string</span>&nbsp;<span class="op" id="5588338">{</span>&nbsp;<span class="keyword" id="5588340">return</span>&nbsp;<span class="string" id="5588347">&#34;...&#34;</span>&nbsp;<span class="op" id="5588353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5588356">//&nbsp;A&nbsp;TypedefType&nbsp;represents&nbsp;a&nbsp;named&nbsp;type.</span><br>
<span class="lineno">255</span><span class="keyword" id="5588398">type</span>&nbsp;<span class="ident" id="5588403">TypedefType</span>&nbsp;<span class="keyword" id="5588415">struct</span>&nbsp;<span class="op" id="5588422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588425">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588437">Type</span>&nbsp;<span class="ident" id="5588442">Type</span><br>
<span class="lineno"></span><span class="op" id="5588447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="5588450">func</span>&nbsp;<span class="op" id="5588455">(</span><span class="ident" id="5588456">t</span>&nbsp;<span class="op" id="5588458">*</span><span class="ident" id="5588459">TypedefType</span><span class="op" id="5588470">)</span>&nbsp;<span class="ident" id="5588472">String</span><span class="op" id="5588478">(</span><span class="op" id="5588479">)</span>&nbsp;<span class="builtintype" id="5588481">string</span>&nbsp;<span class="op" id="5588488">{</span>&nbsp;<span class="keyword" id="5588490">return</span>&nbsp;<span class="ident" id="5588497">t</span><span class="op" id="5588498">.</span><span class="ident" id="5588499">Name</span>&nbsp;<span class="op" id="5588504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5588507">func</span>&nbsp;<span class="op" id="5588512">(</span><span class="ident" id="5588513">t</span>&nbsp;<span class="op" id="5588515">*</span><span class="ident" id="5588516">TypedefType</span><span class="op" id="5588527">)</span>&nbsp;<span class="ident" id="5588529">Size</span><span class="op" id="5588533">(</span><span class="op" id="5588534">)</span>&nbsp;<span class="ident" id="5588536">int64</span>&nbsp;<span class="op" id="5588542">{</span>&nbsp;<span class="keyword" id="5588544">return</span>&nbsp;<span class="ident" id="5588551">t</span><span class="op" id="5588552">.</span><span class="ident" id="5588553">Type</span><span class="op" id="5588557">.</span><span class="ident" id="5588558">Size</span><span class="op" id="5588562">(</span><span class="op" id="5588563">)</span>&nbsp;<span class="op" id="5588565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5588568">//&nbsp;typeReader&nbsp;is&nbsp;used&nbsp;to&nbsp;read&nbsp;from&nbsp;either&nbsp;the&nbsp;info&nbsp;section&nbsp;or&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="5588634">//&nbsp;types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5588652">type</span>&nbsp;<span class="ident" id="5588657">typeReader</span>&nbsp;<span class="keyword" id="5588668">interface</span>&nbsp;<span class="op" id="5588678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588681">Seek</span><span class="op" id="5588685">(</span><span class="ident" id="5588686">Offset</span><span class="op" id="5588692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588695">Next</span><span class="op" id="5588699">(</span><span class="op" id="5588700">)</span>&nbsp;<span class="op" id="5588702">(</span><span class="op" id="5588703">*</span><span class="ident" id="5588704">Entry</span><span class="op" id="5588709">,</span>&nbsp;<span class="builtintype" id="5588711">error</span><span class="op" id="5588716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588719">clone</span><span class="op" id="5588724">(</span><span class="op" id="5588725">)</span>&nbsp;<span class="ident" id="5588727">typeReader</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5588739">offset</span><span class="op" id="5588745">(</span><span class="op" id="5588746">)</span>&nbsp;<span class="ident" id="5588748">Offset</span><br>
<span class="lineno"></span><span class="op" id="5588755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5588758">//&nbsp;Type&nbsp;reads&nbsp;the&nbsp;type&nbsp;at&nbsp;off&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5588819">func</span>&nbsp;<span class="op" id="5588824">(</span><span class="ident" id="5588825">d</span>&nbsp;<span class="op" id="5588827">*</span><span class="ident" id="5588828">Data</span><span class="op" id="5588832">)</span>&nbsp;<span class="ident" id="5588834">Type</span><span class="op" id="5588838">(</span><span class="ident" id="5588839">off</span>&nbsp;<span class="ident" id="5588843">Offset</span><span class="op" id="5588849">)</span>&nbsp;<span class="op" id="5588851">(</span><span class="ident" id="5588852">Type</span><span class="op" id="5588856">,</span>&nbsp;<span class="builtintype" id="5588858">error</span><span class="op" id="5588863">)</span>&nbsp;<span class="op" id="5588865">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5588868">return</span>&nbsp;<span class="ident" id="5588875">d</span><span class="op" id="5588876">.</span><span class="ident" id="5588877">readType</span><span class="op" id="5588885">(</span><span class="string" id="5588886">&#34;info&#34;</span><span class="op" id="5588892">,</span>&nbsp;<span class="ident" id="5588894">d</span><span class="op" id="5588895">.</span><span class="ident" id="5588896">Reader</span><span class="op" id="5588902">(</span><span class="op" id="5588903">)</span><span class="op" id="5588904">,</span>&nbsp;<span class="ident" id="5588906">off</span><span class="op" id="5588909">,</span>&nbsp;<span class="ident" id="5588911">d</span><span class="op" id="5588912">.</span><span class="ident" id="5588913">typeCache</span><span class="op" id="5588922">)</span><br>
<span class="lineno"></span><span class="op" id="5588924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5588927">//&nbsp;readType&nbsp;reads&nbsp;a&nbsp;type&nbsp;from&nbsp;r&nbsp;at&nbsp;off&nbsp;of&nbsp;name&nbsp;using&nbsp;and&nbsp;updating&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5588995">//&nbsp;type&nbsp;cache.</span><br>
<span class="lineno">280</span><span class="keyword" id="5589010">func</span>&nbsp;<span class="op" id="5589015">(</span><span class="ident" id="5589016">d</span>&nbsp;<span class="op" id="5589018">*</span><span class="ident" id="5589019">Data</span><span class="op" id="5589023">)</span>&nbsp;<span class="ident" id="5589025">readType</span><span class="op" id="5589033">(</span><span class="ident" id="5589034">name</span>&nbsp;<span class="builtintype" id="5589039">string</span><span class="op" id="5589045">,</span>&nbsp;<span class="ident" id="5589047">r</span>&nbsp;<span class="ident" id="5589049">typeReader</span><span class="op" id="5589059">,</span>&nbsp;<span class="ident" id="5589061">off</span>&nbsp;<span class="ident" id="5589065">Offset</span><span class="op" id="5589071">,</span>&nbsp;<span class="ident" id="5589073">typeCache</span>&nbsp;<span class="keyword" id="5589083">map</span><span class="op" id="5589086">[</span><span class="ident" id="5589087">Offset</span><span class="op" id="5589093">]</span><span class="ident" id="5589094">Type</span><span class="op" id="5589098">)</span>&nbsp;<span class="op" id="5589100">(</span><span class="ident" id="5589101">Type</span><span class="op" id="5589105">,</span>&nbsp;<span class="builtintype" id="5589107">error</span><span class="op" id="5589112">)</span>&nbsp;<span class="op" id="5589114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589117">if</span>&nbsp;<span class="ident" id="5589120">t</span><span class="op" id="5589121">,</span>&nbsp;<span class="ident" id="5589123">ok</span>&nbsp;<span class="op" id="5589126">:=</span>&nbsp;<span class="ident" id="5589129">typeCache</span><span class="op" id="5589138">[</span><span class="ident" id="5589139">off</span><span class="op" id="5589142">]</span><span class="op" id="5589143">;</span>&nbsp;<span class="ident" id="5589145">ok</span>&nbsp;<span class="op" id="5589148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589152">return</span>&nbsp;<span class="ident" id="5589159">t</span><span class="op" id="5589160">,</span>&nbsp;<span class="ident" id="5589162">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5589167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5589170">r</span><span class="op" id="5589171">.</span><span class="ident" id="5589172">Seek</span><span class="op" id="5589176">(</span><span class="ident" id="5589177">off</span><span class="op" id="5589180">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5589183">e</span><span class="op" id="5589184">,</span>&nbsp;<span class="ident" id="5589186">err</span>&nbsp;<span class="op" id="5589190">:=</span>&nbsp;<span class="ident" id="5589193">r</span><span class="op" id="5589194">.</span><span class="ident" id="5589195">Next</span><span class="op" id="5589199">(</span><span class="op" id="5589200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589203">if</span>&nbsp;<span class="ident" id="5589206">err</span>&nbsp;<span class="op" id="5589210">!=</span>&nbsp;<span class="ident" id="5589213">nil</span>&nbsp;<span class="op" id="5589217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589221">return</span>&nbsp;<span class="ident" id="5589228">nil</span><span class="op" id="5589231">,</span>&nbsp;<span class="ident" id="5589233">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5589238">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589241">if</span>&nbsp;<span class="ident" id="5589244">e</span>&nbsp;<span class="op" id="5589246">==</span>&nbsp;<span class="ident" id="5589249">nil</span>&nbsp;<span class="op" id="5589253">||</span>&nbsp;<span class="ident" id="5589256">e</span><span class="op" id="5589257">.</span><span class="ident" id="5589258">Offset</span>&nbsp;<span class="op" id="5589265">!=</span>&nbsp;<span class="ident" id="5589268">off</span>&nbsp;<span class="op" id="5589272">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589276">return</span>&nbsp;<span class="ident" id="5589283">nil</span><span class="op" id="5589286">,</span>&nbsp;<span class="ident" id="5589288">DecodeError</span><span class="op" id="5589299">{</span><span class="ident" id="5589300">name</span><span class="op" id="5589304">,</span>&nbsp;<span class="ident" id="5589306">off</span><span class="op" id="5589309">,</span>&nbsp;<span class="string" id="5589311">&#34;no&nbsp;type&nbsp;at&nbsp;offset&#34;</span><span class="op" id="5589330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5589333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5589337">//&nbsp;Parse&nbsp;type&nbsp;from&nbsp;Entry.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5589364">//&nbsp;Must&nbsp;always&nbsp;set&nbsp;typeCache[off]&nbsp;before&nbsp;calling</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5589414">//&nbsp;d.Type&nbsp;recursively,&nbsp;to&nbsp;handle&nbsp;circular&nbsp;types&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589474">var</span>&nbsp;<span class="ident" id="5589478">typ</span>&nbsp;<span class="ident" id="5589482">Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5589489">nextDepth</span>&nbsp;<span class="op" id="5589499">:=</span>&nbsp;<span class="num" id="5589502">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5589506">//&nbsp;Get&nbsp;next&nbsp;child;&nbsp;set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5589552">next</span>&nbsp;<span class="op" id="5589557">:=</span>&nbsp;<span class="keyword" id="5589560">func</span><span class="op" id="5589564">(</span><span class="op" id="5589565">)</span>&nbsp;<span class="op" id="5589567">*</span><span class="ident" id="5589568">Entry</span>&nbsp;<span class="op" id="5589574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589578">if</span>&nbsp;<span class="op" id="5589581">!</span><span class="ident" id="5589582">e</span><span class="op" id="5589583">.</span><span class="ident" id="5589584">Children</span>&nbsp;<span class="op" id="5589593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589598">return</span>&nbsp;<span class="ident" id="5589605">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5589611">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5589615">//&nbsp;Only&nbsp;return&nbsp;direct&nbsp;children.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5589649">//&nbsp;Skip&nbsp;over&nbsp;composite&nbsp;entries&nbsp;that&nbsp;happen&nbsp;to&nbsp;be&nbsp;nested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5589707">//&nbsp;inside&nbsp;this&nbsp;one.&nbsp;Most&nbsp;DWARF&nbsp;generators&nbsp;wouldn&#39;t&nbsp;generate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5589769">//&nbsp;such&nbsp;a&nbsp;thing,&nbsp;but&nbsp;clang&nbsp;does.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5589804">//&nbsp;See&nbsp;golang.org/issue/6472.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589836">for</span>&nbsp;<span class="op" id="5589840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5589845">kid</span><span class="op" id="5589848">,</span>&nbsp;<span class="ident" id="5589850">err1</span>&nbsp;<span class="op" id="5589855">:=</span>&nbsp;<span class="ident" id="5589858">r</span><span class="op" id="5589859">.</span><span class="ident" id="5589860">Next</span><span class="op" id="5589864">(</span><span class="op" id="5589865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589870">if</span>&nbsp;<span class="ident" id="5589873">err1</span>&nbsp;<span class="op" id="5589878">!=</span>&nbsp;<span class="ident" id="5589881">nil</span>&nbsp;<span class="op" id="5589885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5589891">err</span>&nbsp;<span class="op" id="5589895">=</span>&nbsp;<span class="ident" id="5589897">err1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589906">return</span>&nbsp;<span class="ident" id="5589913">nil</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5589920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5589925">if</span>&nbsp;<span class="ident" id="5589928">kid</span>&nbsp;<span class="op" id="5589932">==</span>&nbsp;<span class="ident" id="5589935">nil</span>&nbsp;<span class="op" id="5589939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5589945">err</span>&nbsp;<span class="op" id="5589949">=</span>&nbsp;<span class="ident" id="5589951">DecodeError</span><span class="op" id="5589962">{</span><span class="ident" id="5589963">name</span><span class="op" id="5589967">,</span>&nbsp;<span class="ident" id="5589969">r</span><span class="op" id="5589970">.</span><span class="ident" id="5589971">offset</span><span class="op" id="5589977">(</span><span class="op" id="5589978">)</span><span class="op" id="5589979">,</span>&nbsp;<span class="string" id="5589981">&#34;unexpected&nbsp;end&nbsp;of&nbsp;DWARF&nbsp;entries&#34;</span><span class="op" id="5590014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590020">return</span>&nbsp;<span class="ident" id="5590027">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590034">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590039">if</span>&nbsp;<span class="ident" id="5590042">kid</span><span class="op" id="5590045">.</span><span class="ident" id="5590046">Tag</span>&nbsp;<span class="op" id="5590050">==</span>&nbsp;<span class="num" id="5590053">0</span>&nbsp;<span class="op" id="5590055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590061">if</span>&nbsp;<span class="ident" id="5590064">nextDepth</span>&nbsp;<span class="op" id="5590074">&gt;</span>&nbsp;<span class="num" id="5590076">0</span>&nbsp;<span class="op" id="5590078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5590085">nextDepth</span><span class="op" id="5590094">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590102">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590115">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590121">return</span>&nbsp;<span class="ident" id="5590128">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590140">if</span>&nbsp;<span class="ident" id="5590143">kid</span><span class="op" id="5590146">.</span><span class="ident" id="5590147">Children</span>&nbsp;<span class="op" id="5590156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5590162">nextDepth</span><span class="op" id="5590171">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590177">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590182">if</span>&nbsp;<span class="ident" id="5590185">nextDepth</span>&nbsp;<span class="op" id="5590195">&gt;</span>&nbsp;<span class="num" id="5590197">0</span>&nbsp;<span class="op" id="5590199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590205">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590222">return</span>&nbsp;<span class="ident" id="5590229">kid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590235">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5590242">//&nbsp;Get&nbsp;Type&nbsp;referred&nbsp;to&nbsp;by&nbsp;Entry&#39;s&nbsp;AttrType&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5590294">//&nbsp;Set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.&nbsp;&nbsp;Not&nbsp;having&nbsp;a&nbsp;type&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5590356">typeOf</span>&nbsp;<span class="op" id="5590363">:=</span>&nbsp;<span class="keyword" id="5590366">func</span><span class="op" id="5590370">(</span><span class="ident" id="5590371">e</span>&nbsp;<span class="op" id="5590373">*</span><span class="ident" id="5590374">Entry</span><span class="op" id="5590379">)</span>&nbsp;<span class="ident" id="5590381">Type</span>&nbsp;<span class="op" id="5590386">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5590390">tval</span>&nbsp;<span class="op" id="5590395">:=</span>&nbsp;<span class="ident" id="5590398">e</span><span class="op" id="5590399">.</span><span class="ident" id="5590400">Val</span><span class="op" id="5590403">(</span><span class="ident" id="5590404">AttrType</span><span class="op" id="5590412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590416">var</span>&nbsp;<span class="ident" id="5590420">t</span>&nbsp;<span class="ident" id="5590422">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590429">switch</span>&nbsp;<span class="ident" id="5590436">toff</span>&nbsp;<span class="op" id="5590441">:=</span>&nbsp;<span class="ident" id="5590444">tval</span><span class="op" id="5590448">.</span><span class="op" id="5590449">(</span><span class="keyword" id="5590450">type</span><span class="op" id="5590454">)</span>&nbsp;<span class="op" id="5590456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590460">case</span>&nbsp;<span class="ident" id="5590465">Offset</span><span class="op" id="5590471">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590476">if</span>&nbsp;<span class="ident" id="5590479">t</span><span class="op" id="5590480">,</span>&nbsp;<span class="ident" id="5590482">err</span>&nbsp;<span class="op" id="5590486">=</span>&nbsp;<span class="ident" id="5590488">d</span><span class="op" id="5590489">.</span><span class="ident" id="5590490">readType</span><span class="op" id="5590498">(</span><span class="ident" id="5590499">name</span><span class="op" id="5590503">,</span>&nbsp;<span class="ident" id="5590505">r</span><span class="op" id="5590506">.</span><span class="ident" id="5590507">clone</span><span class="op" id="5590512">(</span><span class="op" id="5590513">)</span><span class="op" id="5590514">,</span>&nbsp;<span class="ident" id="5590516">toff</span><span class="op" id="5590520">,</span>&nbsp;<span class="ident" id="5590522">typeCache</span><span class="op" id="5590531">)</span><span class="op" id="5590532">;</span>&nbsp;<span class="ident" id="5590534">err</span>&nbsp;<span class="op" id="5590538">!=</span>&nbsp;<span class="ident" id="5590541">nil</span>&nbsp;<span class="op" id="5590545">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590551">return</span>&nbsp;<span class="ident" id="5590558">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590569">case</span>&nbsp;<span class="ident" id="5590574">uint64</span><span class="op" id="5590580">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590585">if</span>&nbsp;<span class="ident" id="5590588">t</span><span class="op" id="5590589">,</span>&nbsp;<span class="ident" id="5590591">err</span>&nbsp;<span class="op" id="5590595">=</span>&nbsp;<span class="ident" id="5590597">d</span><span class="op" id="5590598">.</span><span class="ident" id="5590599">sigToType</span><span class="op" id="5590608">(</span><span class="ident" id="5590609">toff</span><span class="op" id="5590613">)</span><span class="op" id="5590614">;</span>&nbsp;<span class="ident" id="5590616">err</span>&nbsp;<span class="op" id="5590620">!=</span>&nbsp;<span class="ident" id="5590623">nil</span>&nbsp;<span class="op" id="5590627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590633">return</span>&nbsp;<span class="ident" id="5590640">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590651">default</span><span class="op" id="5590658">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5590663">//&nbsp;It&nbsp;appears&nbsp;that&nbsp;no&nbsp;Type&nbsp;means&nbsp;&#34;void&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590707">return</span>&nbsp;<span class="builtinfunc" id="5590714">new</span><span class="op" id="5590717">(</span><span class="ident" id="5590718">VoidType</span><span class="op" id="5590726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590730">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590734">return</span>&nbsp;<span class="ident" id="5590741">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5590744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590748">switch</span>&nbsp;<span class="ident" id="5590755">e</span><span class="op" id="5590756">.</span><span class="ident" id="5590757">Tag</span>&nbsp;<span class="op" id="5590761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5590764">case</span>&nbsp;<span class="ident" id="5590769">TagArrayType</span><span class="op" id="5590781">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5590785">//&nbsp;Multi-dimensional&nbsp;array.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.4)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5590833">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5590850">//&nbsp;&nbsp;&nbsp;&nbspAttrType:subtype&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5590883">//&nbsp;&nbsp;&nbsp;&nbspAttrStrideSize:&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5590946">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;entire&nbsp;array</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5590986">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5591001">//&nbsp;&nbsp;&nbsp;&nbspTagSubrangeType&nbsp;or&nbsp;TagEnumerationType&nbsp;giving&nbsp;one&nbsp;dimension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5591066">//&nbsp;&nbsp;&nbsp;&nbspdimensions&nbsp;are&nbsp;in&nbsp;left&nbsp;to&nbsp;right&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591110">t</span>&nbsp;<span class="op" id="5591112">:=</span>&nbsp;<span class="builtinfunc" id="5591115">new</span><span class="op" id="5591118">(</span><span class="ident" id="5591119">ArrayType</span><span class="op" id="5591128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591132">typ</span>&nbsp;<span class="op" id="5591136">=</span>&nbsp;<span class="ident" id="5591138">t</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591142">typeCache</span><span class="op" id="5591151">[</span><span class="ident" id="5591152">off</span><span class="op" id="5591155">]</span>&nbsp;<span class="op" id="5591157">=</span>&nbsp;<span class="ident" id="5591159">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591163">if</span>&nbsp;<span class="ident" id="5591166">t</span><span class="op" id="5591167">.</span><span class="ident" id="5591168">Type</span>&nbsp;<span class="op" id="5591173">=</span>&nbsp;<span class="ident" id="5591175">typeOf</span><span class="op" id="5591181">(</span><span class="ident" id="5591182">e</span><span class="op" id="5591183">)</span><span class="op" id="5591184">;</span>&nbsp;<span class="ident" id="5591186">err</span>&nbsp;<span class="op" id="5591190">!=</span>&nbsp;<span class="ident" id="5591193">nil</span>&nbsp;<span class="op" id="5591197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591202">goto</span>&nbsp;<span class="ident" id="5591207">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5591215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591219">t</span><span class="op" id="5591220">.</span><span class="ident" id="5591221">StrideBitSize</span><span class="op" id="5591234">,</span>&nbsp;<span class="ident" id="5591236">_</span>&nbsp;<span class="op" id="5591238">=</span>&nbsp;<span class="ident" id="5591240">e</span><span class="op" id="5591241">.</span><span class="ident" id="5591242">Val</span><span class="op" id="5591245">(</span><span class="ident" id="5591246">AttrStrideSize</span><span class="op" id="5591260">)</span><span class="op" id="5591261">.</span><span class="op" id="5591262">(</span><span class="ident" id="5591263">int64</span><span class="op" id="5591268">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5591273">//&nbsp;Accumulate&nbsp;dimensions,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591301">var</span>&nbsp;<span class="ident" id="5591305">dims</span>&nbsp;<span class="op" id="5591310">[</span><span class="op" id="5591311">]</span><span class="ident" id="5591312">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591320">for</span>&nbsp;<span class="ident" id="5591324">kid</span>&nbsp;<span class="op" id="5591328">:=</span>&nbsp;<span class="ident" id="5591331">next</span><span class="op" id="5591335">(</span><span class="op" id="5591336">)</span><span class="op" id="5591337">;</span>&nbsp;<span class="ident" id="5591339">kid</span>&nbsp;<span class="op" id="5591343">!=</span>&nbsp;<span class="ident" id="5591346">nil</span><span class="op" id="5591349">;</span>&nbsp;<span class="ident" id="5591351">kid</span>&nbsp;<span class="op" id="5591355">=</span>&nbsp;<span class="ident" id="5591357">next</span><span class="op" id="5591361">(</span><span class="op" id="5591362">)</span>&nbsp;<span class="op" id="5591364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5591369">//&nbsp;TODO(rsc):&nbsp;Can&nbsp;also&nbsp;be&nbsp;TagEnumerationType</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5591417">//&nbsp;but&nbsp;haven&#39;t&nbsp;seen&nbsp;that&nbsp;in&nbsp;the&nbsp;wild&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591462">switch</span>&nbsp;<span class="ident" id="5591469">kid</span><span class="op" id="5591472">.</span><span class="ident" id="5591473">Tag</span>&nbsp;<span class="op" id="5591477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591482">case</span>&nbsp;<span class="ident" id="5591487">TagSubrangeType</span><span class="op" id="5591502">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591508">count</span><span class="op" id="5591513">,</span>&nbsp;<span class="ident" id="5591515">ok</span>&nbsp;<span class="op" id="5591518">:=</span>&nbsp;<span class="ident" id="5591521">kid</span><span class="op" id="5591524">.</span><span class="ident" id="5591525">Val</span><span class="op" id="5591528">(</span><span class="ident" id="5591529">AttrCount</span><span class="op" id="5591538">)</span><span class="op" id="5591539">.</span><span class="op" id="5591540">(</span><span class="ident" id="5591541">int64</span><span class="op" id="5591546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591552">if</span>&nbsp;<span class="op" id="5591555">!</span><span class="ident" id="5591556">ok</span>&nbsp;<span class="op" id="5591559">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5591566">//&nbsp;Old&nbsp;binaries&nbsp;may&nbsp;have&nbsp;an&nbsp;upper&nbsp;bound&nbsp;instead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591620">count</span><span class="op" id="5591625">,</span>&nbsp;<span class="ident" id="5591627">ok</span>&nbsp;<span class="op" id="5591630">=</span>&nbsp;<span class="ident" id="5591632">kid</span><span class="op" id="5591635">.</span><span class="ident" id="5591636">Val</span><span class="op" id="5591639">(</span><span class="ident" id="5591640">AttrUpperBound</span><span class="op" id="5591654">)</span><span class="op" id="5591655">.</span><span class="op" id="5591656">(</span><span class="ident" id="5591657">int64</span><span class="op" id="5591662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591669">if</span>&nbsp;<span class="ident" id="5591672">ok</span>&nbsp;<span class="op" id="5591675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591683">count</span><span class="op" id="5591688">++</span>&nbsp;<span class="comment" id="5591691">//&nbsp;Length&nbsp;is&nbsp;one&nbsp;more&nbsp;than&nbsp;upper&nbsp;bound.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5591736">}</span>&nbsp;<span class="keyword" id="5591738">else</span>&nbsp;<span class="keyword" id="5591743">if</span>&nbsp;<span class="builtinfunc" id="5591746">len</span><span class="op" id="5591749">(</span><span class="ident" id="5591750">dims</span><span class="op" id="5591754">)</span>&nbsp;<span class="op" id="5591756">==</span>&nbsp;<span class="num" id="5591759">0</span>&nbsp;<span class="op" id="5591761">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591769">count</span>&nbsp;<span class="op" id="5591775">=</span>&nbsp;<span class="op" id="5591777">-</span><span class="num" id="5591778">1</span>&nbsp;<span class="comment" id="5591780">//&nbsp;As&nbsp;in&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5591799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5591805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591811">dims</span>&nbsp;<span class="op" id="5591816">=</span>&nbsp;<span class="builtinfunc" id="5591818">append</span><span class="op" id="5591824">(</span><span class="ident" id="5591825">dims</span><span class="op" id="5591829">,</span>&nbsp;<span class="ident" id="5591831">count</span><span class="op" id="5591836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591841">case</span>&nbsp;<span class="ident" id="5591846">TagEnumerationType</span><span class="op" id="5591864">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591870">err</span>&nbsp;<span class="op" id="5591874">=</span>&nbsp;<span class="ident" id="5591876">DecodeError</span><span class="op" id="5591887">{</span><span class="ident" id="5591888">name</span><span class="op" id="5591892">,</span>&nbsp;<span class="ident" id="5591894">kid</span><span class="op" id="5591897">.</span><span class="ident" id="5591898">Offset</span><span class="op" id="5591904">,</span>&nbsp;<span class="string" id="5591906">&#34;cannot&nbsp;handle&nbsp;enumeration&nbsp;type&nbsp;as&nbsp;array&nbsp;bound&#34;</span><span class="op" id="5591953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591959">goto</span>&nbsp;<span class="ident" id="5591964">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5591973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5591977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591981">if</span>&nbsp;<span class="builtinfunc" id="5591984">len</span><span class="op" id="5591987">(</span><span class="ident" id="5591988">dims</span><span class="op" id="5591992">)</span>&nbsp;<span class="op" id="5591994">==</span>&nbsp;<span class="num" id="5591997">0</span>&nbsp;<span class="op" id="5591999">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5592004">//&nbsp;LLVM&nbsp;generates&nbsp;this&nbsp;for&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592039">dims</span>&nbsp;<span class="op" id="5592044">=</span>&nbsp;<span class="op" id="5592046">[</span><span class="op" id="5592047">]</span><span class="ident" id="5592048">int64</span><span class="op" id="5592053">{</span><span class="op" id="5592054">-</span><span class="num" id="5592055">1</span><span class="op" id="5592056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5592060">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592065">t</span><span class="op" id="5592066">.</span><span class="ident" id="5592067">Count</span>&nbsp;<span class="op" id="5592073">=</span>&nbsp;<span class="ident" id="5592075">dims</span><span class="op" id="5592079">[</span><span class="num" id="5592080">0</span><span class="op" id="5592081">]</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592085">for</span>&nbsp;<span class="ident" id="5592089">i</span>&nbsp;<span class="op" id="5592091">:=</span>&nbsp;<span class="builtinfunc" id="5592094">len</span><span class="op" id="5592097">(</span><span class="ident" id="5592098">dims</span><span class="op" id="5592102">)</span>&nbsp;<span class="op" id="5592104">-</span>&nbsp;<span class="num" id="5592106">1</span><span class="op" id="5592107">;</span>&nbsp;<span class="ident" id="5592109">i</span>&nbsp;<span class="op" id="5592111">&gt;=</span>&nbsp;<span class="num" id="5592114">1</span><span class="op" id="5592115">;</span>&nbsp;<span class="ident" id="5592117">i</span><span class="op" id="5592118">--</span>&nbsp;<span class="op" id="5592121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592126">t</span><span class="op" id="5592127">.</span><span class="ident" id="5592128">Type</span>&nbsp;<span class="op" id="5592133">=</span>&nbsp;<span class="op" id="5592135">&amp;</span><span class="ident" id="5592136">ArrayType</span><span class="op" id="5592145">{</span><span class="ident" id="5592146">Type</span><span class="op" id="5592150">:</span>&nbsp;<span class="ident" id="5592152">t</span><span class="op" id="5592153">.</span><span class="ident" id="5592154">Type</span><span class="op" id="5592158">,</span>&nbsp;<span class="ident" id="5592160">Count</span><span class="op" id="5592165">:</span>&nbsp;<span class="ident" id="5592167">dims</span><span class="op" id="5592171">[</span><span class="ident" id="5592172">i</span><span class="op" id="5592173">]</span><span class="op" id="5592174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5592178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592182">case</span>&nbsp;<span class="ident" id="5592187">TagBaseType</span><span class="op" id="5592198">:</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5592202">//&nbsp;Basic&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5592237">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5592254">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;base&nbsp;type&nbsp;in&nbsp;programming&nbsp;language&nbsp;of&nbsp;the&nbsp;compilation&nbsp;unit&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5592346">//&nbsp;&nbsp;&nbsp;&nbspAttrEncoding:&nbsp;encoding&nbsp;value&nbsp;for&nbsp;type&nbsp;(encFloat&nbsp;etc)&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5592415">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes&nbsp;[required]</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5592467">//&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;size&nbsp;in&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5592520">//&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;bit&nbsp;offset&nbsp;of&nbsp;high&nbsp;order&nbsp;bit&nbsp;in&nbsp;the&nbsp;AttrByteSize&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592613">name</span><span class="op" id="5592617">,</span>&nbsp;<span class="ident" id="5592619">_</span>&nbsp;<span class="op" id="5592621">:=</span>&nbsp;<span class="ident" id="5592624">e</span><span class="op" id="5592625">.</span><span class="ident" id="5592626">Val</span><span class="op" id="5592629">(</span><span class="ident" id="5592630">AttrName</span><span class="op" id="5592638">)</span><span class="op" id="5592639">.</span><span class="op" id="5592640">(</span><span class="builtintype" id="5592641">string</span><span class="op" id="5592647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592651">enc</span><span class="op" id="5592654">,</span>&nbsp;<span class="ident" id="5592656">ok</span>&nbsp;<span class="op" id="5592659">:=</span>&nbsp;<span class="ident" id="5592662">e</span><span class="op" id="5592663">.</span><span class="ident" id="5592664">Val</span><span class="op" id="5592667">(</span><span class="ident" id="5592668">AttrEncoding</span><span class="op" id="5592680">)</span><span class="op" id="5592681">.</span><span class="op" id="5592682">(</span><span class="ident" id="5592683">int64</span><span class="op" id="5592688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592692">if</span>&nbsp;<span class="op" id="5592695">!</span><span class="ident" id="5592696">ok</span>&nbsp;<span class="op" id="5592699">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592704">err</span>&nbsp;<span class="op" id="5592708">=</span>&nbsp;<span class="ident" id="5592710">DecodeError</span><span class="op" id="5592721">{</span><span class="ident" id="5592722">name</span><span class="op" id="5592726">,</span>&nbsp;<span class="ident" id="5592728">e</span><span class="op" id="5592729">.</span><span class="ident" id="5592730">Offset</span><span class="op" id="5592736">,</span>&nbsp;<span class="string" id="5592738">&#34;missing&nbsp;encoding&nbsp;attribute&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="5592772">+</span>&nbsp;<span class="ident" id="5592774">name</span><span class="op" id="5592778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592783">goto</span>&nbsp;<span class="ident" id="5592788">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5592796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592800">switch</span>&nbsp;<span class="ident" id="5592807">enc</span>&nbsp;<span class="op" id="5592811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592815">default</span><span class="op" id="5592822">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592827">err</span>&nbsp;<span class="op" id="5592831">=</span>&nbsp;<span class="ident" id="5592833">DecodeError</span><span class="op" id="5592844">{</span><span class="ident" id="5592845">name</span><span class="op" id="5592849">,</span>&nbsp;<span class="ident" id="5592851">e</span><span class="op" id="5592852">.</span><span class="ident" id="5592853">Offset</span><span class="op" id="5592859">,</span>&nbsp;<span class="string" id="5592861">&#34;unrecognized&nbsp;encoding&nbsp;attribute&nbsp;value&#34;</span><span class="op" id="5592900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592905">goto</span>&nbsp;<span class="ident" id="5592910">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592919">case</span>&nbsp;<span class="ident" id="5592924">encAddress</span><span class="op" id="5592934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592939">typ</span>&nbsp;<span class="op" id="5592943">=</span>&nbsp;<span class="builtinfunc" id="5592945">new</span><span class="op" id="5592948">(</span><span class="ident" id="5592949">AddrType</span><span class="op" id="5592957">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592961">case</span>&nbsp;<span class="ident" id="5592966">encBoolean</span><span class="op" id="5592976">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592981">typ</span>&nbsp;<span class="op" id="5592985">=</span>&nbsp;<span class="builtinfunc" id="5592987">new</span><span class="op" id="5592990">(</span><span class="ident" id="5592991">BoolType</span><span class="op" id="5592999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593003">case</span>&nbsp;<span class="ident" id="5593008">encComplexFloat</span><span class="op" id="5593023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593028">typ</span>&nbsp;<span class="op" id="5593032">=</span>&nbsp;<span class="builtinfunc" id="5593034">new</span><span class="op" id="5593037">(</span><span class="ident" id="5593038">ComplexType</span><span class="op" id="5593049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593054">if</span>&nbsp;<span class="ident" id="5593057">name</span>&nbsp;<span class="op" id="5593062">==</span>&nbsp;<span class="string" id="5593065">&#34;complex&#34;</span>&nbsp;<span class="op" id="5593075">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5593081">//&nbsp;clang&nbsp;writes&nbsp;out&nbsp;&#39;complex&#39;&nbsp;instead&nbsp;of&nbsp;&#39;complex&nbsp;float&#39;&nbsp;or&nbsp;&#39;complex&nbsp;double&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5593163">//&nbsp;clang&nbsp;also&nbsp;writes&nbsp;out&nbsp;a&nbsp;byte&nbsp;size&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;to&nbsp;distinguish.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5593236">//&nbsp;See&nbsp;issue&nbsp;8694.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593259">switch</span>&nbsp;<span class="ident" id="5593266">byteSize</span><span class="op" id="5593274">,</span>&nbsp;<span class="ident" id="5593276">_</span>&nbsp;<span class="op" id="5593278">:=</span>&nbsp;<span class="ident" id="5593281">e</span><span class="op" id="5593282">.</span><span class="ident" id="5593283">Val</span><span class="op" id="5593286">(</span><span class="ident" id="5593287">AttrByteSize</span><span class="op" id="5593299">)</span><span class="op" id="5593300">.</span><span class="op" id="5593301">(</span><span class="ident" id="5593302">int64</span><span class="op" id="5593307">)</span><span class="op" id="5593308">;</span>&nbsp;<span class="ident" id="5593310">byteSize</span>&nbsp;<span class="op" id="5593319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593325">case</span>&nbsp;<span class="num" id="5593330">8</span><span class="op" id="5593331">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593338">name</span>&nbsp;<span class="op" id="5593343">=</span>&nbsp;<span class="string" id="5593345">&#34;complex&nbsp;float&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593365">case</span>&nbsp;<span class="num" id="5593370">16</span><span class="op" id="5593372">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593379">name</span>&nbsp;<span class="op" id="5593384">=</span>&nbsp;<span class="string" id="5593386">&#34;complex&nbsp;double&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5593407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5593412">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593416">case</span>&nbsp;<span class="ident" id="5593421">encFloat</span><span class="op" id="5593429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593434">typ</span>&nbsp;<span class="op" id="5593438">=</span>&nbsp;<span class="builtinfunc" id="5593440">new</span><span class="op" id="5593443">(</span><span class="ident" id="5593444">FloatType</span><span class="op" id="5593453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593457">case</span>&nbsp;<span class="ident" id="5593462">encSigned</span><span class="op" id="5593471">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593476">typ</span>&nbsp;<span class="op" id="5593480">=</span>&nbsp;<span class="builtinfunc" id="5593482">new</span><span class="op" id="5593485">(</span><span class="ident" id="5593486">IntType</span><span class="op" id="5593493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593497">case</span>&nbsp;<span class="ident" id="5593502">encUnsigned</span><span class="op" id="5593513">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593518">typ</span>&nbsp;<span class="op" id="5593522">=</span>&nbsp;<span class="builtinfunc" id="5593524">new</span><span class="op" id="5593527">(</span><span class="ident" id="5593528">UintType</span><span class="op" id="5593536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593540">case</span>&nbsp;<span class="ident" id="5593545">encSignedChar</span><span class="op" id="5593558">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593563">typ</span>&nbsp;<span class="op" id="5593567">=</span>&nbsp;<span class="builtinfunc" id="5593569">new</span><span class="op" id="5593572">(</span><span class="ident" id="5593573">CharType</span><span class="op" id="5593581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593585">case</span>&nbsp;<span class="ident" id="5593590">encUnsignedChar</span><span class="op" id="5593605">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593610">typ</span>&nbsp;<span class="op" id="5593614">=</span>&nbsp;<span class="builtinfunc" id="5593616">new</span><span class="op" id="5593619">(</span><span class="ident" id="5593620">UcharType</span><span class="op" id="5593629">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5593633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593637">typeCache</span><span class="op" id="5593646">[</span><span class="ident" id="5593647">off</span><span class="op" id="5593650">]</span>&nbsp;<span class="op" id="5593652">=</span>&nbsp;<span class="ident" id="5593654">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593660">t</span>&nbsp;<span class="op" id="5593662">:=</span>&nbsp;<span class="ident" id="5593665">typ</span><span class="op" id="5593668">.</span><span class="op" id="5593669">(</span><span class="keyword" id="5593670">interface</span>&nbsp;<span class="op" id="5593680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593685">Basic</span><span class="op" id="5593690">(</span><span class="op" id="5593691">)</span>&nbsp;<span class="op" id="5593693">*</span><span class="ident" id="5593694">BasicType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5593706">}</span><span class="op" id="5593707">)</span><span class="op" id="5593708">.</span><span class="ident" id="5593709">Basic</span><span class="op" id="5593714">(</span><span class="op" id="5593715">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593719">t</span><span class="op" id="5593720">.</span><span class="ident" id="5593721">Name</span>&nbsp;<span class="op" id="5593726">=</span>&nbsp;<span class="ident" id="5593728">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593735">t</span><span class="op" id="5593736">.</span><span class="ident" id="5593737">BitSize</span><span class="op" id="5593744">,</span>&nbsp;<span class="ident" id="5593746">_</span>&nbsp;<span class="op" id="5593748">=</span>&nbsp;<span class="ident" id="5593750">e</span><span class="op" id="5593751">.</span><span class="ident" id="5593752">Val</span><span class="op" id="5593755">(</span><span class="ident" id="5593756">AttrBitSize</span><span class="op" id="5593767">)</span><span class="op" id="5593768">.</span><span class="op" id="5593769">(</span><span class="ident" id="5593770">int64</span><span class="op" id="5593775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5593779">t</span><span class="op" id="5593780">.</span><span class="ident" id="5593781">BitOffset</span><span class="op" id="5593790">,</span>&nbsp;<span class="ident" id="5593792">_</span>&nbsp;<span class="op" id="5593794">=</span>&nbsp;<span class="ident" id="5593796">e</span><span class="op" id="5593797">.</span><span class="ident" id="5593798">Val</span><span class="op" id="5593801">(</span><span class="ident" id="5593802">AttrBitOffset</span><span class="op" id="5593815">)</span><span class="op" id="5593816">.</span><span class="op" id="5593817">(</span><span class="ident" id="5593818">int64</span><span class="op" id="5593823">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5593827">case</span>&nbsp;<span class="ident" id="5593832">TagClassType</span><span class="op" id="5593844">,</span>&nbsp;<span class="ident" id="5593846">TagStructType</span><span class="op" id="5593859">,</span>&nbsp;<span class="ident" id="5593861">TagUnionType</span><span class="op" id="5593873">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5593877">//&nbsp;Structure,&nbsp;union,&nbsp;or&nbsp;class&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.5)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5593933">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5593950">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5593997">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;byte&nbsp;size&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5594037">//&nbsp;&nbsp;&nbsp;&nbspAttrDeclaration:&nbsp;if&nbsp;true,&nbsp;struct/union/class&nbsp;is&nbsp;incomplete</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5594101">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5594116">//&nbsp;&nbsp;&nbsp;&nbspTagMember&nbsp;to&nbsp;describe&nbsp;one&nbsp;member.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5594155">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5594197">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5594239">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5594273">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;bit&nbsp;offset&nbsp;within&nbsp;bytes&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5594333">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;bit&nbsp;size&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5594376">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrDataMemberLoc:&nbsp;location&nbsp;within&nbsp;struct&nbsp;[required&nbsp;for&nbsp;struct,&nbsp;class]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5594453">//&nbsp;There&nbsp;is&nbsp;much&nbsp;more&nbsp;to&nbsp;handle&nbsp;C++,&nbsp;all&nbsp;ignored&nbsp;for&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5594513">t</span>&nbsp;<span class="op" id="5594515">:=</span>&nbsp;<span class="builtinfunc" id="5594518">new</span><span class="op" id="5594521">(</span><span class="ident" id="5594522">StructType</span><span class="op" id="5594532">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5594536">typ</span>&nbsp;<span class="op" id="5594540">=</span>&nbsp;<span class="ident" id="5594542">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5594546">typeCache</span><span class="op" id="5594555">[</span><span class="ident" id="5594556">off</span><span class="op" id="5594559">]</span>&nbsp;<span class="op" id="5594561">=</span>&nbsp;<span class="ident" id="5594563">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5594567">switch</span>&nbsp;<span class="ident" id="5594574">e</span><span class="op" id="5594575">.</span><span class="ident" id="5594576">Tag</span>&nbsp;<span class="op" id="5594580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5594584">case</span>&nbsp;<span class="ident" id="5594589">TagClassType</span><span class="op" id="5594601">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5594606">t</span><span class="op" id="5594607">.</span><span class="ident" id="5594608">Kind</span>&nbsp;<span class="op" id="5594613">=</span>&nbsp;<span class="string" id="5594615">&#34;class&#34;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5594625">case</span>&nbsp;<span class="ident" id="5594630">TagStructType</span><span class="op" id="5594643">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5594648">t</span><span class="op" id="5594649">.</span><span class="ident" id="5594650">Kind</span>&nbsp;<span class="op" id="5594655">=</span>&nbsp;<span class="string" id="5594657">&#34;struct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5594668">case</span>&nbsp;<span class="ident" id="5594673">TagUnionType</span><span class="op" id="5594685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5594690">t</span><span class="op" id="5594691">.</span><span class="ident" id="5594692">Kind</span>&nbsp;<span class="op" id="5594697">=</span>&nbsp;<span class="string" id="5594699">&#34;union&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5594709">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5594713">t</span><span class="op" id="5594714">.</span><span class="ident" id="5594715">StructName</span><span class="op" id="5594725">,</span>&nbsp;<span class="ident" id="5594727">_</span>&nbsp;<span class="op" id="5594729">=</span>&nbsp;<span class="ident" id="5594731">e</span><span class="op" id="5594732">.</span><span class="ident" id="5594733">Val</span><span class="op" id="5594736">(</span><span class="ident" id="5594737">AttrName</span><span class="op" id="5594745">)</span><span class="op" id="5594746">.</span><span class="op" id="5594747">(</span><span class="builtintype" id="5594748">string</span><span class="op" id="5594754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5594758">t</span><span class="op" id="5594759">.</span><span class="ident" id="5594760">Incomplete</span>&nbsp;<span class="op" id="5594771">=</span>&nbsp;<span class="ident" id="5594773">e</span><span class="op" id="5594774">.</span><span class="ident" id="5594775">Val</span><span class="op" id="5594778">(</span><span class="ident" id="5594779">AttrDeclaration</span><span class="op" id="5594794">)</span>&nbsp;<span class="op" id="5594796">!=</span>&nbsp;<span class="ident" id="5594799">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5594805">t</span><span class="op" id="5594806">.</span><span class="ident" id="5594807">Field</span>&nbsp;<span class="op" id="5594813">=</span>&nbsp;<span class="builtinfunc" id="5594815">make</span><span class="op" id="5594819">(</span><span class="op" id="5594820">[</span><span class="op" id="5594821">]</span><span class="op" id="5594822">*</span><span class="ident" id="5594823">StructField</span><span class="op" id="5594834">,</span>&nbsp;<span class="num" id="5594836">0</span><span class="op" id="5594837">,</span>&nbsp;<span class="num" id="5594839">8</span><span class="op" id="5594840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5594844">var</span>&nbsp;<span class="ident" id="5594848">lastFieldType</span>&nbsp;<span class="op" id="5594862">*</span><span class="ident" id="5594863">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5594870">var</span>&nbsp;<span class="ident" id="5594874">lastFieldBitOffset</span>&nbsp;<span class="ident" id="5594893">int64</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5594901">for</span>&nbsp;<span class="ident" id="5594905">kid</span>&nbsp;<span class="op" id="5594909">:=</span>&nbsp;<span class="ident" id="5594912">next</span><span class="op" id="5594916">(</span><span class="op" id="5594917">)</span><span class="op" id="5594918">;</span>&nbsp;<span class="ident" id="5594920">kid</span>&nbsp;<span class="op" id="5594924">!=</span>&nbsp;<span class="ident" id="5594927">nil</span><span class="op" id="5594930">;</span>&nbsp;<span class="ident" id="5594932">kid</span>&nbsp;<span class="op" id="5594936">=</span>&nbsp;<span class="ident" id="5594938">next</span><span class="op" id="5594942">(</span><span class="op" id="5594943">)</span>&nbsp;<span class="op" id="5594945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5594950">if</span>&nbsp;<span class="ident" id="5594953">kid</span><span class="op" id="5594956">.</span><span class="ident" id="5594957">Tag</span>&nbsp;<span class="op" id="5594961">==</span>&nbsp;<span class="ident" id="5594964">TagMember</span>&nbsp;<span class="op" id="5594974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5594980">f</span>&nbsp;<span class="op" id="5594982">:=</span>&nbsp;<span class="builtinfunc" id="5594985">new</span><span class="op" id="5594988">(</span><span class="ident" id="5594989">StructField</span><span class="op" id="5595000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595006">if</span>&nbsp;<span class="ident" id="5595009">f</span><span class="op" id="5595010">.</span><span class="ident" id="5595011">Type</span>&nbsp;<span class="op" id="5595016">=</span>&nbsp;<span class="ident" id="5595018">typeOf</span><span class="op" id="5595024">(</span><span class="ident" id="5595025">kid</span><span class="op" id="5595028">)</span><span class="op" id="5595029">;</span>&nbsp;<span class="ident" id="5595031">err</span>&nbsp;<span class="op" id="5595035">!=</span>&nbsp;<span class="ident" id="5595038">nil</span>&nbsp;<span class="op" id="5595042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595049">goto</span>&nbsp;<span class="ident" id="5595054">Error</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5595064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595070">switch</span>&nbsp;<span class="ident" id="5595077">loc</span>&nbsp;<span class="op" id="5595081">:=</span>&nbsp;<span class="ident" id="5595084">kid</span><span class="op" id="5595087">.</span><span class="ident" id="5595088">Val</span><span class="op" id="5595091">(</span><span class="ident" id="5595092">AttrDataMemberLoc</span><span class="op" id="5595109">)</span><span class="op" id="5595110">.</span><span class="op" id="5595111">(</span><span class="keyword" id="5595112">type</span><span class="op" id="5595116">)</span>&nbsp;<span class="op" id="5595118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595124">case</span>&nbsp;<span class="op" id="5595129">[</span><span class="op" id="5595130">]</span><span class="builtintype" id="5595131">byte</span><span class="op" id="5595135">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5595142">//&nbsp;TODO:&nbsp;Should&nbsp;have&nbsp;original&nbsp;compilation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5595189">//&nbsp;unit&nbsp;here,&nbsp;not&nbsp;unknownFormat.</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595227">b</span>&nbsp;<span class="op" id="5595229">:=</span>&nbsp;<span class="ident" id="5595232">makeBuf</span><span class="op" id="5595239">(</span><span class="ident" id="5595240">d</span><span class="op" id="5595241">,</span>&nbsp;<span class="ident" id="5595243">unknownFormat</span><span class="op" id="5595256">{</span><span class="op" id="5595257">}</span><span class="op" id="5595258">,</span>&nbsp;<span class="string" id="5595260">&#34;location&#34;</span><span class="op" id="5595270">,</span>&nbsp;<span class="num" id="5595272">0</span><span class="op" id="5595273">,</span>&nbsp;<span class="ident" id="5595275">loc</span><span class="op" id="5595278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595285">if</span>&nbsp;<span class="ident" id="5595288">b</span><span class="op" id="5595289">.</span><span class="builtintype" id="5595290">uint8</span><span class="op" id="5595295">(</span><span class="op" id="5595296">)</span>&nbsp;<span class="op" id="5595298">!=</span>&nbsp;<span class="ident" id="5595301">opPlusUconst</span>&nbsp;<span class="op" id="5595314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595322">err</span>&nbsp;<span class="op" id="5595326">=</span>&nbsp;<span class="ident" id="5595328">DecodeError</span><span class="op" id="5595339">{</span><span class="ident" id="5595340">name</span><span class="op" id="5595344">,</span>&nbsp;<span class="ident" id="5595346">kid</span><span class="op" id="5595349">.</span><span class="ident" id="5595350">Offset</span><span class="op" id="5595356">,</span>&nbsp;<span class="string" id="5595358">&#34;unexpected&nbsp;opcode&#34;</span><span class="op" id="5595377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595385">goto</span>&nbsp;<span class="ident" id="5595390">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5595401">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595408">f</span><span class="op" id="5595409">.</span><span class="ident" id="5595410">ByteOffset</span>&nbsp;<span class="op" id="5595421">=</span>&nbsp;<span class="ident" id="5595423">int64</span><span class="op" id="5595428">(</span><span class="ident" id="5595429">b</span><span class="op" id="5595430">.</span><span class="builtintype" id="5595431">uint</span><span class="op" id="5595435">(</span><span class="op" id="5595436">)</span><span class="op" id="5595437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595444">if</span>&nbsp;<span class="ident" id="5595447">b</span><span class="op" id="5595448">.</span><span class="ident" id="5595449">err</span>&nbsp;<span class="op" id="5595453">!=</span>&nbsp;<span class="ident" id="5595456">nil</span>&nbsp;<span class="op" id="5595460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595468">err</span>&nbsp;<span class="op" id="5595472">=</span>&nbsp;<span class="ident" id="5595474">b</span><span class="op" id="5595475">.</span><span class="ident" id="5595476">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595486">goto</span>&nbsp;<span class="ident" id="5595491">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5595502">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595508">case</span>&nbsp;<span class="ident" id="5595513">int64</span><span class="op" id="5595518">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595525">f</span><span class="op" id="5595526">.</span><span class="ident" id="5595527">ByteOffset</span>&nbsp;<span class="op" id="5595538">=</span>&nbsp;<span class="ident" id="5595540">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5595548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595555">haveBitOffset</span>&nbsp;<span class="op" id="5595569">:=</span>&nbsp;<span class="builtintype" id="5595572">false</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595582">f</span><span class="op" id="5595583">.</span><span class="ident" id="5595584">Name</span><span class="op" id="5595588">,</span>&nbsp;<span class="ident" id="5595590">_</span>&nbsp;<span class="op" id="5595592">=</span>&nbsp;<span class="ident" id="5595594">kid</span><span class="op" id="5595597">.</span><span class="ident" id="5595598">Val</span><span class="op" id="5595601">(</span><span class="ident" id="5595602">AttrName</span><span class="op" id="5595610">)</span><span class="op" id="5595611">.</span><span class="op" id="5595612">(</span><span class="builtintype" id="5595613">string</span><span class="op" id="5595619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595625">f</span><span class="op" id="5595626">.</span><span class="ident" id="5595627">ByteSize</span><span class="op" id="5595635">,</span>&nbsp;<span class="ident" id="5595637">_</span>&nbsp;<span class="op" id="5595639">=</span>&nbsp;<span class="ident" id="5595641">kid</span><span class="op" id="5595644">.</span><span class="ident" id="5595645">Val</span><span class="op" id="5595648">(</span><span class="ident" id="5595649">AttrByteSize</span><span class="op" id="5595661">)</span><span class="op" id="5595662">.</span><span class="op" id="5595663">(</span><span class="ident" id="5595664">int64</span><span class="op" id="5595669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595675">f</span><span class="op" id="5595676">.</span><span class="ident" id="5595677">BitOffset</span><span class="op" id="5595686">,</span>&nbsp;<span class="ident" id="5595688">haveBitOffset</span>&nbsp;<span class="op" id="5595702">=</span>&nbsp;<span class="ident" id="5595704">kid</span><span class="op" id="5595707">.</span><span class="ident" id="5595708">Val</span><span class="op" id="5595711">(</span><span class="ident" id="5595712">AttrBitOffset</span><span class="op" id="5595725">)</span><span class="op" id="5595726">.</span><span class="op" id="5595727">(</span><span class="ident" id="5595728">int64</span><span class="op" id="5595733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595739">f</span><span class="op" id="5595740">.</span><span class="ident" id="5595741">BitSize</span><span class="op" id="5595748">,</span>&nbsp;<span class="ident" id="5595750">_</span>&nbsp;<span class="op" id="5595752">=</span>&nbsp;<span class="ident" id="5595754">kid</span><span class="op" id="5595757">.</span><span class="ident" id="5595758">Val</span><span class="op" id="5595761">(</span><span class="ident" id="5595762">AttrBitSize</span><span class="op" id="5595773">)</span><span class="op" id="5595774">.</span><span class="op" id="5595775">(</span><span class="ident" id="5595776">int64</span><span class="op" id="5595781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595787">t</span><span class="op" id="5595788">.</span><span class="ident" id="5595789">Field</span>&nbsp;<span class="op" id="5595795">=</span>&nbsp;<span class="builtinfunc" id="5595797">append</span><span class="op" id="5595803">(</span><span class="ident" id="5595804">t</span><span class="op" id="5595805">.</span><span class="ident" id="5595806">Field</span><span class="op" id="5595811">,</span>&nbsp;<span class="ident" id="5595813">f</span><span class="op" id="5595814">)</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595821">bito</span>&nbsp;<span class="op" id="5595826">:=</span>&nbsp;<span class="ident" id="5595829">f</span><span class="op" id="5595830">.</span><span class="ident" id="5595831">BitOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595845">if</span>&nbsp;<span class="op" id="5595848">!</span><span class="ident" id="5595849">haveBitOffset</span>&nbsp;<span class="op" id="5595863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5595870">bito</span>&nbsp;<span class="op" id="5595875">=</span>&nbsp;<span class="ident" id="5595877">f</span><span class="op" id="5595878">.</span><span class="ident" id="5595879">ByteOffset</span>&nbsp;<span class="op" id="5595890">*</span>&nbsp;<span class="num" id="5595892">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5595898">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5595904">if</span>&nbsp;<span class="ident" id="5595907">bito</span>&nbsp;<span class="op" id="5595912">==</span>&nbsp;<span class="ident" id="5595915">lastFieldBitOffset</span>&nbsp;<span class="op" id="5595934">&amp;&amp;</span>&nbsp;<span class="ident" id="5595937">t</span><span class="op" id="5595938">.</span><span class="ident" id="5595939">Kind</span>&nbsp;<span class="op" id="5595944">!=</span>&nbsp;<span class="string" id="5595947">&#34;union&#34;</span>&nbsp;<span class="op" id="5595955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5595962">//&nbsp;Last&nbsp;field&nbsp;was&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596016">//&nbsp;(DWARF&nbsp;writes&nbsp;out&nbsp;0-length&nbsp;arrays&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;1-length&nbsp;arrays.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596092">zeroArray</span><span class="op" id="5596101">(</span><span class="ident" id="5596102">lastFieldType</span><span class="op" id="5596115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5596121">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596127">lastFieldType</span>&nbsp;<span class="op" id="5596141">=</span>&nbsp;<span class="op" id="5596143">&amp;</span><span class="ident" id="5596144">f</span><span class="op" id="5596145">.</span><span class="ident" id="5596146">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596155">lastFieldBitOffset</span>&nbsp;<span class="op" id="5596174">=</span>&nbsp;<span class="ident" id="5596176">bito</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5596184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5596188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5596192">if</span>&nbsp;<span class="ident" id="5596195">t</span><span class="op" id="5596196">.</span><span class="ident" id="5596197">Kind</span>&nbsp;<span class="op" id="5596202">!=</span>&nbsp;<span class="string" id="5596205">&#34;union&#34;</span>&nbsp;<span class="op" id="5596213">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596218">b</span><span class="op" id="5596219">,</span>&nbsp;<span class="ident" id="5596221">ok</span>&nbsp;<span class="op" id="5596224">:=</span>&nbsp;<span class="ident" id="5596227">e</span><span class="op" id="5596228">.</span><span class="ident" id="5596229">Val</span><span class="op" id="5596232">(</span><span class="ident" id="5596233">AttrByteSize</span><span class="op" id="5596245">)</span><span class="op" id="5596246">.</span><span class="op" id="5596247">(</span><span class="ident" id="5596248">int64</span><span class="op" id="5596253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5596258">if</span>&nbsp;<span class="ident" id="5596261">ok</span>&nbsp;<span class="op" id="5596264">&amp;&amp;</span>&nbsp;<span class="ident" id="5596267">b</span><span class="op" id="5596268">*</span><span class="num" id="5596269">8</span>&nbsp;<span class="op" id="5596271">==</span>&nbsp;<span class="ident" id="5596274">lastFieldBitOffset</span>&nbsp;<span class="op" id="5596293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596299">//&nbsp;Final&nbsp;field&nbsp;must&nbsp;be&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596357">zeroArray</span><span class="op" id="5596366">(</span><span class="ident" id="5596367">lastFieldType</span><span class="op" id="5596380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5596385">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5596389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5596393">case</span>&nbsp;<span class="ident" id="5596398">TagConstType</span><span class="op" id="5596410">,</span>&nbsp;<span class="ident" id="5596412">TagVolatileType</span><span class="op" id="5596427">,</span>&nbsp;<span class="ident" id="5596429">TagRestrictType</span><span class="op" id="5596444">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596448">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596484">//&nbsp;Attributes:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596501">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596524">t</span>&nbsp;<span class="op" id="5596526">:=</span>&nbsp;<span class="builtinfunc" id="5596529">new</span><span class="op" id="5596532">(</span><span class="ident" id="5596533">QualType</span><span class="op" id="5596541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596545">typ</span>&nbsp;<span class="op" id="5596549">=</span>&nbsp;<span class="ident" id="5596551">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596555">typeCache</span><span class="op" id="5596564">[</span><span class="ident" id="5596565">off</span><span class="op" id="5596568">]</span>&nbsp;<span class="op" id="5596570">=</span>&nbsp;<span class="ident" id="5596572">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5596576">if</span>&nbsp;<span class="ident" id="5596579">t</span><span class="op" id="5596580">.</span><span class="ident" id="5596581">Type</span>&nbsp;<span class="op" id="5596586">=</span>&nbsp;<span class="ident" id="5596588">typeOf</span><span class="op" id="5596594">(</span><span class="ident" id="5596595">e</span><span class="op" id="5596596">)</span><span class="op" id="5596597">;</span>&nbsp;<span class="ident" id="5596599">err</span>&nbsp;<span class="op" id="5596603">!=</span>&nbsp;<span class="ident" id="5596606">nil</span>&nbsp;<span class="op" id="5596610">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5596615">goto</span>&nbsp;<span class="ident" id="5596620">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5596628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5596632">switch</span>&nbsp;<span class="ident" id="5596639">e</span><span class="op" id="5596640">.</span><span class="ident" id="5596641">Tag</span>&nbsp;<span class="op" id="5596645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5596649">case</span>&nbsp;<span class="ident" id="5596654">TagConstType</span><span class="op" id="5596666">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596671">t</span><span class="op" id="5596672">.</span><span class="ident" id="5596673">Qual</span>&nbsp;<span class="op" id="5596678">=</span>&nbsp;<span class="string" id="5596680">&#34;const&#34;</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5596690">case</span>&nbsp;<span class="ident" id="5596695">TagRestrictType</span><span class="op" id="5596710">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596715">t</span><span class="op" id="5596716">.</span><span class="ident" id="5596717">Qual</span>&nbsp;<span class="op" id="5596722">=</span>&nbsp;<span class="string" id="5596724">&#34;restrict&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5596737">case</span>&nbsp;<span class="ident" id="5596742">TagVolatileType</span><span class="op" id="5596757">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5596762">t</span><span class="op" id="5596763">.</span><span class="ident" id="5596764">Qual</span>&nbsp;<span class="op" id="5596769">=</span>&nbsp;<span class="string" id="5596771">&#34;volatile&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5596784">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5596788">case</span>&nbsp;<span class="ident" id="5596793">TagEnumerationType</span><span class="op" id="5596811">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596815">//&nbsp;Enumeration&nbsp;type&nbsp;(DWARF&nbsp;v2&nbsp;§5.6)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596854">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596871">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;enum&nbsp;name&nbsp;if&nbsp;any</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596903">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;bytes&nbsp;required&nbsp;to&nbsp;represent&nbsp;largest&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596964">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596979">//&nbsp;&nbsp;&nbsp;&nbspTagEnumerator:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5596999">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5597032">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrConstValue:&nbsp;value&nbsp;of&nbsp;constant</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597072">t</span>&nbsp;<span class="op" id="5597074">:=</span>&nbsp;<span class="builtinfunc" id="5597077">new</span><span class="op" id="5597080">(</span><span class="ident" id="5597081">EnumType</span><span class="op" id="5597089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597093">typ</span>&nbsp;<span class="op" id="5597097">=</span>&nbsp;<span class="ident" id="5597099">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597103">typeCache</span><span class="op" id="5597112">[</span><span class="ident" id="5597113">off</span><span class="op" id="5597116">]</span>&nbsp;<span class="op" id="5597118">=</span>&nbsp;<span class="ident" id="5597120">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597124">t</span><span class="op" id="5597125">.</span><span class="ident" id="5597126">EnumName</span><span class="op" id="5597134">,</span>&nbsp;<span class="ident" id="5597136">_</span>&nbsp;<span class="op" id="5597138">=</span>&nbsp;<span class="ident" id="5597140">e</span><span class="op" id="5597141">.</span><span class="ident" id="5597142">Val</span><span class="op" id="5597145">(</span><span class="ident" id="5597146">AttrName</span><span class="op" id="5597154">)</span><span class="op" id="5597155">.</span><span class="op" id="5597156">(</span><span class="builtintype" id="5597157">string</span><span class="op" id="5597163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597167">t</span><span class="op" id="5597168">.</span><span class="ident" id="5597169">Val</span>&nbsp;<span class="op" id="5597173">=</span>&nbsp;<span class="builtinfunc" id="5597175">make</span><span class="op" id="5597179">(</span><span class="op" id="5597180">[</span><span class="op" id="5597181">]</span><span class="op" id="5597182">*</span><span class="ident" id="5597183">EnumValue</span><span class="op" id="5597192">,</span>&nbsp;<span class="num" id="5597194">0</span><span class="op" id="5597195">,</span>&nbsp;<span class="num" id="5597197">8</span><span class="op" id="5597198">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5597202">for</span>&nbsp;<span class="ident" id="5597206">kid</span>&nbsp;<span class="op" id="5597210">:=</span>&nbsp;<span class="ident" id="5597213">next</span><span class="op" id="5597217">(</span><span class="op" id="5597218">)</span><span class="op" id="5597219">;</span>&nbsp;<span class="ident" id="5597221">kid</span>&nbsp;<span class="op" id="5597225">!=</span>&nbsp;<span class="ident" id="5597228">nil</span><span class="op" id="5597231">;</span>&nbsp;<span class="ident" id="5597233">kid</span>&nbsp;<span class="op" id="5597237">=</span>&nbsp;<span class="ident" id="5597239">next</span><span class="op" id="5597243">(</span><span class="op" id="5597244">)</span>&nbsp;<span class="op" id="5597246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5597251">if</span>&nbsp;<span class="ident" id="5597254">kid</span><span class="op" id="5597257">.</span><span class="ident" id="5597258">Tag</span>&nbsp;<span class="op" id="5597262">==</span>&nbsp;<span class="ident" id="5597265">TagEnumerator</span>&nbsp;<span class="op" id="5597279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597285">f</span>&nbsp;<span class="op" id="5597287">:=</span>&nbsp;<span class="builtinfunc" id="5597290">new</span><span class="op" id="5597293">(</span><span class="ident" id="5597294">EnumValue</span><span class="op" id="5597303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597309">f</span><span class="op" id="5597310">.</span><span class="ident" id="5597311">Name</span><span class="op" id="5597315">,</span>&nbsp;<span class="ident" id="5597317">_</span>&nbsp;<span class="op" id="5597319">=</span>&nbsp;<span class="ident" id="5597321">kid</span><span class="op" id="5597324">.</span><span class="ident" id="5597325">Val</span><span class="op" id="5597328">(</span><span class="ident" id="5597329">AttrName</span><span class="op" id="5597337">)</span><span class="op" id="5597338">.</span><span class="op" id="5597339">(</span><span class="builtintype" id="5597340">string</span><span class="op" id="5597346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597352">f</span><span class="op" id="5597353">.</span><span class="ident" id="5597354">Val</span><span class="op" id="5597357">,</span>&nbsp;<span class="ident" id="5597359">_</span>&nbsp;<span class="op" id="5597361">=</span>&nbsp;<span class="ident" id="5597363">kid</span><span class="op" id="5597366">.</span><span class="ident" id="5597367">Val</span><span class="op" id="5597370">(</span><span class="ident" id="5597371">AttrConstValue</span><span class="op" id="5597385">)</span><span class="op" id="5597386">.</span><span class="op" id="5597387">(</span><span class="ident" id="5597388">int64</span><span class="op" id="5597393">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597399">n</span>&nbsp;<span class="op" id="5597401">:=</span>&nbsp;<span class="builtinfunc" id="5597404">len</span><span class="op" id="5597407">(</span><span class="ident" id="5597408">t</span><span class="op" id="5597409">.</span><span class="ident" id="5597410">Val</span><span class="op" id="5597413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5597419">if</span>&nbsp;<span class="ident" id="5597422">n</span>&nbsp;<span class="op" id="5597424">&gt;=</span>&nbsp;<span class="builtinfunc" id="5597427">cap</span><span class="op" id="5597430">(</span><span class="ident" id="5597431">t</span><span class="op" id="5597432">.</span><span class="ident" id="5597433">Val</span><span class="op" id="5597436">)</span>&nbsp;<span class="op" id="5597438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597445">val</span>&nbsp;<span class="op" id="5597449">:=</span>&nbsp;<span class="builtinfunc" id="5597452">make</span><span class="op" id="5597456">(</span><span class="op" id="5597457">[</span><span class="op" id="5597458">]</span><span class="op" id="5597459">*</span><span class="ident" id="5597460">EnumValue</span><span class="op" id="5597469">,</span>&nbsp;<span class="ident" id="5597471">n</span><span class="op" id="5597472">,</span>&nbsp;<span class="ident" id="5597474">n</span><span class="op" id="5597475">*</span><span class="num" id="5597476">2</span><span class="op" id="5597477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5597484">copy</span><span class="op" id="5597488">(</span><span class="ident" id="5597489">val</span><span class="op" id="5597492">,</span>&nbsp;<span class="ident" id="5597494">t</span><span class="op" id="5597495">.</span><span class="ident" id="5597496">Val</span><span class="op" id="5597499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597506">t</span><span class="op" id="5597507">.</span><span class="ident" id="5597508">Val</span>&nbsp;<span class="op" id="5597512">=</span>&nbsp;<span class="ident" id="5597514">val</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5597522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597528">t</span><span class="op" id="5597529">.</span><span class="ident" id="5597530">Val</span>&nbsp;<span class="op" id="5597534">=</span>&nbsp;<span class="ident" id="5597536">t</span><span class="op" id="5597537">.</span><span class="ident" id="5597538">Val</span><span class="op" id="5597541">[</span><span class="num" id="5597542">0</span>&nbsp;<span class="op" id="5597544">:</span>&nbsp;<span class="ident" id="5597546">n</span><span class="op" id="5597547">+</span><span class="num" id="5597548">1</span><span class="op" id="5597549">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597555">t</span><span class="op" id="5597556">.</span><span class="ident" id="5597557">Val</span><span class="op" id="5597560">[</span><span class="ident" id="5597561">n</span><span class="op" id="5597562">]</span>&nbsp;<span class="op" id="5597564">=</span>&nbsp;<span class="ident" id="5597566">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5597571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5597575">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5597579">case</span>&nbsp;<span class="ident" id="5597584">TagPointerType</span><span class="op" id="5597598">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5597602">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5597638">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5597655">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype&nbsp;[not&nbsp;required!&nbsp;&nbsp;void*&nbsp;has&nbsp;no&nbsp;AttrType]</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5597717">//&nbsp;&nbsp;&nbsp;&nbspAttrAddrClass:&nbsp;address&nbsp;class&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597761">t</span>&nbsp;<span class="op" id="5597763">:=</span>&nbsp;<span class="builtinfunc" id="5597766">new</span><span class="op" id="5597769">(</span><span class="ident" id="5597770">PtrType</span><span class="op" id="5597777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597781">typ</span>&nbsp;<span class="op" id="5597785">=</span>&nbsp;<span class="ident" id="5597787">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597791">typeCache</span><span class="op" id="5597800">[</span><span class="ident" id="5597801">off</span><span class="op" id="5597804">]</span>&nbsp;<span class="op" id="5597806">=</span>&nbsp;<span class="ident" id="5597808">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5597812">if</span>&nbsp;<span class="ident" id="5597815">e</span><span class="op" id="5597816">.</span><span class="ident" id="5597817">Val</span><span class="op" id="5597820">(</span><span class="ident" id="5597821">AttrType</span><span class="op" id="5597829">)</span>&nbsp;<span class="op" id="5597831">==</span>&nbsp;<span class="ident" id="5597834">nil</span>&nbsp;<span class="op" id="5597838">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597843">t</span><span class="op" id="5597844">.</span><span class="ident" id="5597845">Type</span>&nbsp;<span class="op" id="5597850">=</span>&nbsp;<span class="op" id="5597852">&amp;</span><span class="ident" id="5597853">VoidType</span><span class="op" id="5597861">{</span><span class="op" id="5597862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5597867">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5597875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5597879">t</span><span class="op" id="5597880">.</span><span class="ident" id="5597881">Type</span>&nbsp;<span class="op" id="5597886">=</span>&nbsp;<span class="ident" id="5597888">typeOf</span><span class="op" id="5597894">(</span><span class="ident" id="5597895">e</span><span class="op" id="5597896">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5597900">case</span>&nbsp;<span class="ident" id="5597905">TagSubroutineType</span><span class="op" id="5597922">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5597926">//&nbsp;Subroutine&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5597966">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5597983">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;return&nbsp;value&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5598026">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;possible&nbsp;name&nbsp;of&nbsp;type&nbsp;[ignored]</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5598073">//&nbsp;&nbsp;&nbsp;&nbspAttrPrototyped:&nbsp;whether&nbsp;used&nbsp;ANSI&nbsp;C&nbsp;prototype&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5598134">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5598149">//&nbsp;&nbsp;&nbsp;&nbspTagFormalParameter:&nbsp;typed&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5598190">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5598224">//&nbsp;&nbsp;&nbsp;&nbspTagUnspecifiedParameter:&nbsp;final&nbsp;...</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598264">t</span>&nbsp;<span class="op" id="5598266">:=</span>&nbsp;<span class="builtinfunc" id="5598269">new</span><span class="op" id="5598272">(</span><span class="ident" id="5598273">FuncType</span><span class="op" id="5598281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598285">typ</span>&nbsp;<span class="op" id="5598289">=</span>&nbsp;<span class="ident" id="5598291">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598295">typeCache</span><span class="op" id="5598304">[</span><span class="ident" id="5598305">off</span><span class="op" id="5598308">]</span>&nbsp;<span class="op" id="5598310">=</span>&nbsp;<span class="ident" id="5598312">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598316">if</span>&nbsp;<span class="ident" id="5598319">t</span><span class="op" id="5598320">.</span><span class="ident" id="5598321">ReturnType</span>&nbsp;<span class="op" id="5598332">=</span>&nbsp;<span class="ident" id="5598334">typeOf</span><span class="op" id="5598340">(</span><span class="ident" id="5598341">e</span><span class="op" id="5598342">)</span><span class="op" id="5598343">;</span>&nbsp;<span class="ident" id="5598345">err</span>&nbsp;<span class="op" id="5598349">!=</span>&nbsp;<span class="ident" id="5598352">nil</span>&nbsp;<span class="op" id="5598356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598361">goto</span>&nbsp;<span class="ident" id="5598366">Error</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5598374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598378">t</span><span class="op" id="5598379">.</span><span class="ident" id="5598380">ParamType</span>&nbsp;<span class="op" id="5598390">=</span>&nbsp;<span class="builtinfunc" id="5598392">make</span><span class="op" id="5598396">(</span><span class="op" id="5598397">[</span><span class="op" id="5598398">]</span><span class="ident" id="5598399">Type</span><span class="op" id="5598403">,</span>&nbsp;<span class="num" id="5598405">0</span><span class="op" id="5598406">,</span>&nbsp;<span class="num" id="5598408">8</span><span class="op" id="5598409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598413">for</span>&nbsp;<span class="ident" id="5598417">kid</span>&nbsp;<span class="op" id="5598421">:=</span>&nbsp;<span class="ident" id="5598424">next</span><span class="op" id="5598428">(</span><span class="op" id="5598429">)</span><span class="op" id="5598430">;</span>&nbsp;<span class="ident" id="5598432">kid</span>&nbsp;<span class="op" id="5598436">!=</span>&nbsp;<span class="ident" id="5598439">nil</span><span class="op" id="5598442">;</span>&nbsp;<span class="ident" id="5598444">kid</span>&nbsp;<span class="op" id="5598448">=</span>&nbsp;<span class="ident" id="5598450">next</span><span class="op" id="5598454">(</span><span class="op" id="5598455">)</span>&nbsp;<span class="op" id="5598457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598462">var</span>&nbsp;<span class="ident" id="5598466">tkid</span>&nbsp;<span class="ident" id="5598471">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598479">switch</span>&nbsp;<span class="ident" id="5598486">kid</span><span class="op" id="5598489">.</span><span class="ident" id="5598490">Tag</span>&nbsp;<span class="op" id="5598494">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598499">default</span><span class="op" id="5598506">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598512">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598524">case</span>&nbsp;<span class="ident" id="5598529">TagFormalParameter</span><span class="op" id="5598547">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598553">if</span>&nbsp;<span class="ident" id="5598556">tkid</span>&nbsp;<span class="op" id="5598561">=</span>&nbsp;<span class="ident" id="5598563">typeOf</span><span class="op" id="5598569">(</span><span class="ident" id="5598570">kid</span><span class="op" id="5598573">)</span><span class="op" id="5598574">;</span>&nbsp;<span class="ident" id="5598576">err</span>&nbsp;<span class="op" id="5598580">!=</span>&nbsp;<span class="ident" id="5598583">nil</span>&nbsp;<span class="op" id="5598587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598594">goto</span>&nbsp;<span class="ident" id="5598599">Error</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5598609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598614">case</span>&nbsp;<span class="ident" id="5598619">TagUnspecifiedParameters</span><span class="op" id="5598643">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598649">tkid</span>&nbsp;<span class="op" id="5598654">=</span>&nbsp;<span class="op" id="5598656">&amp;</span><span class="ident" id="5598657">DotDotDotType</span><span class="op" id="5598670">{</span><span class="op" id="5598671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5598676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598681">t</span><span class="op" id="5598682">.</span><span class="ident" id="5598683">ParamType</span>&nbsp;<span class="op" id="5598693">=</span>&nbsp;<span class="builtinfunc" id="5598695">append</span><span class="op" id="5598701">(</span><span class="ident" id="5598702">t</span><span class="op" id="5598703">.</span><span class="ident" id="5598704">ParamType</span><span class="op" id="5598713">,</span>&nbsp;<span class="ident" id="5598715">tkid</span><span class="op" id="5598719">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5598723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598727">case</span>&nbsp;<span class="ident" id="5598732">TagTypedef</span><span class="op" id="5598742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5598746">//&nbsp;Typedef&nbsp;(DWARF&nbsp;v2&nbsp;§5.3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5598776">//&nbsp;Attributes:</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5598793">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5598824">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;definition&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598866">t</span>&nbsp;<span class="op" id="5598868">:=</span>&nbsp;<span class="builtinfunc" id="5598871">new</span><span class="op" id="5598874">(</span><span class="ident" id="5598875">TypedefType</span><span class="op" id="5598886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598890">typ</span>&nbsp;<span class="op" id="5598894">=</span>&nbsp;<span class="ident" id="5598896">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598900">typeCache</span><span class="op" id="5598909">[</span><span class="ident" id="5598910">off</span><span class="op" id="5598913">]</span>&nbsp;<span class="op" id="5598915">=</span>&nbsp;<span class="ident" id="5598917">t</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598921">t</span><span class="op" id="5598922">.</span><span class="ident" id="5598923">Name</span><span class="op" id="5598927">,</span>&nbsp;<span class="ident" id="5598929">_</span>&nbsp;<span class="op" id="5598931">=</span>&nbsp;<span class="ident" id="5598933">e</span><span class="op" id="5598934">.</span><span class="ident" id="5598935">Val</span><span class="op" id="5598938">(</span><span class="ident" id="5598939">AttrName</span><span class="op" id="5598947">)</span><span class="op" id="5598948">.</span><span class="op" id="5598949">(</span><span class="builtintype" id="5598950">string</span><span class="op" id="5598956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5598960">t</span><span class="op" id="5598961">.</span><span class="ident" id="5598962">Type</span>&nbsp;<span class="op" id="5598967">=</span>&nbsp;<span class="ident" id="5598969">typeOf</span><span class="op" id="5598975">(</span><span class="ident" id="5598976">e</span><span class="op" id="5598977">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5598981">case</span>&nbsp;<span class="ident" id="5598986">TagUnspecifiedType</span><span class="op" id="5599004">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5599008">//&nbsp;Unspecified&nbsp;type&nbsp;(DWARF&nbsp;v3&nbsp;§5.2)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5599047">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5599064">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5599084">t</span>&nbsp;<span class="op" id="5599086">:=</span>&nbsp;<span class="builtinfunc" id="5599089">new</span><span class="op" id="5599092">(</span><span class="ident" id="5599093">UnspecifiedType</span><span class="op" id="5599108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5599112">typ</span>&nbsp;<span class="op" id="5599116">=</span>&nbsp;<span class="ident" id="5599118">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5599122">typeCache</span><span class="op" id="5599131">[</span><span class="ident" id="5599132">off</span><span class="op" id="5599135">]</span>&nbsp;<span class="op" id="5599137">=</span>&nbsp;<span class="ident" id="5599139">t</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5599143">t</span><span class="op" id="5599144">.</span><span class="ident" id="5599145">Name</span><span class="op" id="5599149">,</span>&nbsp;<span class="ident" id="5599151">_</span>&nbsp;<span class="op" id="5599153">=</span>&nbsp;<span class="ident" id="5599155">e</span><span class="op" id="5599156">.</span><span class="ident" id="5599157">Val</span><span class="op" id="5599160">(</span><span class="ident" id="5599161">AttrName</span><span class="op" id="5599169">)</span><span class="op" id="5599170">.</span><span class="op" id="5599171">(</span><span class="builtintype" id="5599172">string</span><span class="op" id="5599178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5599181">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5599185">if</span>&nbsp;<span class="ident" id="5599188">err</span>&nbsp;<span class="op" id="5599192">!=</span>&nbsp;<span class="ident" id="5599195">nil</span>&nbsp;<span class="op" id="5599199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5599203">goto</span>&nbsp;<span class="ident" id="5599208">Error</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5599215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5599219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5599223">b</span><span class="op" id="5599224">,</span>&nbsp;<span class="ident" id="5599226">ok</span>&nbsp;<span class="op" id="5599229">:=</span>&nbsp;<span class="ident" id="5599232">e</span><span class="op" id="5599233">.</span><span class="ident" id="5599234">Val</span><span class="op" id="5599237">(</span><span class="ident" id="5599238">AttrByteSize</span><span class="op" id="5599250">)</span><span class="op" id="5599251">.</span><span class="op" id="5599252">(</span><span class="ident" id="5599253">int64</span><span class="op" id="5599258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5599262">if</span>&nbsp;<span class="op" id="5599265">!</span><span class="ident" id="5599266">ok</span>&nbsp;<span class="op" id="5599269">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5599274">b</span>&nbsp;<span class="op" id="5599276">=</span>&nbsp;<span class="op" id="5599278">-</span><span class="num" id="5599279">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5599283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5599287">typ</span><span class="op" id="5599290">.</span><span class="ident" id="5599291">Common</span><span class="op" id="5599297">(</span><span class="op" id="5599298">)</span><span class="op" id="5599299">.</span><span class="ident" id="5599300">ByteSize</span>&nbsp;<span class="op" id="5599309">=</span>&nbsp;<span class="ident" id="5599311">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5599314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5599317">return</span>&nbsp;<span class="ident" id="5599324">typ</span><span class="op" id="5599327">,</span>&nbsp;<span class="ident" id="5599329">nil</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="ident" id="5599334">Error</span><span class="op" id="5599339">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5599342">//&nbsp;If&nbsp;the&nbsp;parse&nbsp;fails,&nbsp;take&nbsp;the&nbsp;type&nbsp;out&nbsp;of&nbsp;the&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5599397">//&nbsp;so&nbsp;that&nbsp;the&nbsp;next&nbsp;call&nbsp;with&nbsp;this&nbsp;offset&nbsp;doesn&#39;t&nbsp;hit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5599452">//&nbsp;the&nbsp;cache&nbsp;and&nbsp;return&nbsp;success.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5599486">delete</span><span class="op" id="5599492">(</span><span class="ident" id="5599493">typeCache</span><span class="op" id="5599502">,</span>&nbsp;<span class="ident" id="5599504">off</span><span class="op" id="5599507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5599510">return</span>&nbsp;<span class="ident" id="5599517">nil</span><span class="op" id="5599520">,</span>&nbsp;<span class="ident" id="5599522">err</span><br>
<span class="lineno"></span><span class="op" id="5599526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5599529">func</span>&nbsp;<span class="ident" id="5599534">zeroArray</span><span class="op" id="5599543">(</span><span class="ident" id="5599544">t</span>&nbsp;<span class="op" id="5599546">*</span><span class="ident" id="5599547">Type</span><span class="op" id="5599551">)</span>&nbsp;<span class="op" id="5599553">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5599556">if</span>&nbsp;<span class="ident" id="5599559">t</span>&nbsp;<span class="op" id="5599561">==</span>&nbsp;<span class="ident" id="5599564">nil</span>&nbsp;<span class="op" id="5599568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5599572">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5599580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5599583">at</span><span class="op" id="5599585">,</span>&nbsp;<span class="ident" id="5599587">ok</span>&nbsp;<span class="op" id="5599590">:=</span>&nbsp;<span class="op" id="5599593">(</span><span class="op" id="5599594">*</span><span class="ident" id="5599595">t</span><span class="op" id="5599596">)</span><span class="op" id="5599597">.</span><span class="op" id="5599598">(</span><span class="op" id="5599599">*</span><span class="ident" id="5599600">ArrayType</span><span class="op" id="5599609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5599612">if</span>&nbsp;<span class="op" id="5599615">!</span><span class="ident" id="5599616">ok</span>&nbsp;<span class="op" id="5599619">||</span>&nbsp;<span class="ident" id="5599622">at</span><span class="op" id="5599624">.</span><span class="ident" id="5599625">Type</span><span class="op" id="5599629">.</span><span class="ident" id="5599630">Size</span><span class="op" id="5599634">(</span><span class="op" id="5599635">)</span>&nbsp;<span class="op" id="5599637">==</span>&nbsp;<span class="num" id="5599640">0</span>&nbsp;<span class="op" id="5599642">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5599646">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5599654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5599657">//&nbsp;Make&nbsp;a&nbsp;copy&nbsp;to&nbsp;avoid&nbsp;invalidating&nbsp;typeCache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5599706">tt</span>&nbsp;<span class="op" id="5599709">:=</span>&nbsp;<span class="op" id="5599712">*</span><span class="ident" id="5599713">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5599717">tt</span><span class="op" id="5599719">.</span><span class="ident" id="5599720">Count</span>&nbsp;<span class="op" id="5599726">=</span>&nbsp;<span class="num" id="5599728">0</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5599731">*</span><span class="ident" id="5599732">t</span>&nbsp;<span class="op" id="5599734">=</span>&nbsp;<span class="op" id="5599736">&amp;</span><span class="ident" id="5599737">tt</span><br>
<span class="lineno"></span><span class="op" id="5599740">}</span>
</div>
</body>
</html>
