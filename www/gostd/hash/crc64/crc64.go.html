<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc64</h2>
<ul>
<li><a href="/gostd/hash/crc64/crc64.go.html" class="current">crc64.go</a></li>
<li><a href="/gostd/hash/crc64/crc64_test.go.html">crc64_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5551132">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5551187">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5551241">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5551292">//&nbsp;Package&nbsp;crc64&nbsp;implements&nbsp;the&nbsp;64-bit&nbsp;cyclic&nbsp;redundancy&nbsp;check,&nbsp;or&nbsp;CRC-64,</span><br>
<span class="lineno"></span><span class="comment" id="5551367">//&nbsp;checksum.&nbsp;See&nbsp;http://en.wikipedia.org/wiki/Cyclic_redundancy_check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="5551441">//&nbsp;information.</span><br>
<span class="lineno"></span><span class="keyword" id="5551457">package</span>&nbsp;<span class="ident" id="5551465">crc64</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5551472">import</span>&nbsp;<span class="string" id="5551479">&#34;hash&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5551487">//&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;CRC-64&nbsp;checksum&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="5551530">const</span>&nbsp;<span class="ident" id="5551536">Size</span>&nbsp;<span class="op" id="5551541">=</span>&nbsp;<span class="num" id="5551543">8</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5551546">//&nbsp;Predefined&nbsp;polynomials.</span><br>
<span class="lineno"></span><span class="keyword" id="5551573">const</span>&nbsp;<span class="op" id="5551579">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5551582">//&nbsp;The&nbsp;ISO&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ISO&nbsp;3309&nbsp;and&nbsp;used&nbsp;in&nbsp;HDLC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5551644">ISO</span>&nbsp;<span class="op" id="5551648">=</span>&nbsp;<span class="num" id="5551650">0xD800000000000000</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5551671">//&nbsp;The&nbsp;ECMA&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ECMA&nbsp;182.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5551717">ECMA</span>&nbsp;<span class="op" id="5551722">=</span>&nbsp;<span class="num" id="5551724">0xC96C5795D7870F42</span><br>
<span class="lineno"></span><span class="op" id="5551743">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5551746">//&nbsp;Table&nbsp;is&nbsp;a&nbsp;256-word&nbsp;table&nbsp;representing&nbsp;the&nbsp;polynomial&nbsp;for&nbsp;efficient&nbsp;processing.</span><br>
<span class="lineno">25</span><span class="keyword" id="5551829">type</span>&nbsp;<span class="ident" id="5551834">Table</span>&nbsp;<span class="op" id="5551840">[</span><span class="num" id="5551841">256</span><span class="op" id="5551844">]</span><span class="ident" id="5551845">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5551853">//&nbsp;MakeTable&nbsp;returns&nbsp;the&nbsp;Table&nbsp;constructed&nbsp;from&nbsp;the&nbsp;specified&nbsp;polynomial.</span><br>
<span class="lineno"></span><span class="keyword" id="5551927">func</span>&nbsp;<span class="ident" id="5551932">MakeTable</span><span class="op" id="5551941">(</span><span class="ident" id="5551942">poly</span>&nbsp;<span class="ident" id="5551947">uint64</span><span class="op" id="5551953">)</span>&nbsp;<span class="op" id="5551955">*</span><span class="ident" id="5551956">Table</span>&nbsp;<span class="op" id="5551962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5551965">t</span>&nbsp;<span class="op" id="5551967">:=</span>&nbsp;<span class="builtinfunc" id="5551970">new</span><span class="op" id="5551973">(</span><span class="ident" id="5551974">Table</span><span class="op" id="5551979">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5551982">for</span>&nbsp;<span class="ident" id="5551986">i</span>&nbsp;<span class="op" id="5551988">:=</span>&nbsp;<span class="num" id="5551991">0</span><span class="op" id="5551992">;</span>&nbsp;<span class="ident" id="5551994">i</span>&nbsp;<span class="op" id="5551996">&lt;</span>&nbsp;<span class="num" id="5551998">256</span><span class="op" id="5552001">;</span>&nbsp;<span class="ident" id="5552003">i</span><span class="op" id="5552004">++</span>&nbsp;<span class="op" id="5552007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552011">crc</span>&nbsp;<span class="op" id="5552015">:=</span>&nbsp;<span class="ident" id="5552018">uint64</span><span class="op" id="5552024">(</span><span class="ident" id="5552025">i</span><span class="op" id="5552026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5552030">for</span>&nbsp;<span class="ident" id="5552034">j</span>&nbsp;<span class="op" id="5552036">:=</span>&nbsp;<span class="num" id="5552039">0</span><span class="op" id="5552040">;</span>&nbsp;<span class="ident" id="5552042">j</span>&nbsp;<span class="op" id="5552044">&lt;</span>&nbsp;<span class="num" id="5552046">8</span><span class="op" id="5552047">;</span>&nbsp;<span class="ident" id="5552049">j</span><span class="op" id="5552050">++</span>&nbsp;<span class="op" id="5552053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5552058">if</span>&nbsp;<span class="ident" id="5552061">crc</span><span class="op" id="5552064">&amp;</span><span class="num" id="5552065">1</span>&nbsp;<span class="op" id="5552067">==</span>&nbsp;<span class="num" id="5552070">1</span>&nbsp;<span class="op" id="5552072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552078">crc</span>&nbsp;<span class="op" id="5552082">=</span>&nbsp;<span class="op" id="5552084">(</span><span class="ident" id="5552085">crc</span>&nbsp;<span class="op" id="5552089">&gt;&gt;</span>&nbsp;<span class="num" id="5552092">1</span><span class="op" id="5552093">)</span>&nbsp;<span class="op" id="5552095">^</span>&nbsp;<span class="ident" id="5552097">poly</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5552105">}</span>&nbsp;<span class="keyword" id="5552107">else</span>&nbsp;<span class="op" id="5552112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552118">crc</span>&nbsp;<span class="op" id="5552122">&gt;&gt;=</span>&nbsp;<span class="num" id="5552126">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5552131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5552135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552139">t</span><span class="op" id="5552140">[</span><span class="ident" id="5552141">i</span><span class="op" id="5552142">]</span>&nbsp;<span class="op" id="5552144">=</span>&nbsp;<span class="ident" id="5552146">crc</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5552151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5552154">return</span>&nbsp;<span class="ident" id="5552161">t</span><br>
<span class="lineno"></span><span class="op" id="5552163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5552166">//&nbsp;digest&nbsp;represents&nbsp;the&nbsp;partial&nbsp;evaluation&nbsp;of&nbsp;a&nbsp;checksum.</span><br>
<span class="lineno">45</span><span class="keyword" id="5552225">type</span>&nbsp;<span class="ident" id="5552230">digest</span>&nbsp;<span class="keyword" id="5552237">struct</span>&nbsp;<span class="op" id="5552244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552247">crc</span>&nbsp;<span class="ident" id="5552251">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552259">tab</span>&nbsp;<span class="op" id="5552263">*</span><span class="ident" id="5552264">Table</span><br>
<span class="lineno"></span><span class="op" id="5552270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5552273">//&nbsp;New&nbsp;creates&nbsp;a&nbsp;new&nbsp;hash.Hash64&nbsp;computing&nbsp;the&nbsp;CRC-64&nbsp;checksum</span><br>
<span class="lineno"></span><span class="comment" id="5552336">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5552386">func</span>&nbsp;<span class="ident" id="5552391">New</span><span class="op" id="5552394">(</span><span class="ident" id="5552395">tab</span>&nbsp;<span class="op" id="5552399">*</span><span class="ident" id="5552400">Table</span><span class="op" id="5552405">)</span>&nbsp;<span class="ident" id="5552407">hash</span><span class="op" id="5552411">.</span><span class="ident" id="5552412">Hash64</span>&nbsp;<span class="op" id="5552419">{</span>&nbsp;<span class="keyword" id="5552421">return</span>&nbsp;<span class="op" id="5552428">&amp;</span><span class="ident" id="5552429">digest</span><span class="op" id="5552435">{</span><span class="num" id="5552436">0</span><span class="op" id="5552437">,</span>&nbsp;<span class="ident" id="5552439">tab</span><span class="op" id="5552442">}</span>&nbsp;<span class="op" id="5552444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5552447">func</span>&nbsp;<span class="op" id="5552452">(</span><span class="ident" id="5552453">d</span>&nbsp;<span class="op" id="5552455">*</span><span class="ident" id="5552456">digest</span><span class="op" id="5552462">)</span>&nbsp;<span class="ident" id="5552464">Size</span><span class="op" id="5552468">(</span><span class="op" id="5552469">)</span>&nbsp;<span class="builtintype" id="5552471">int</span>&nbsp;<span class="op" id="5552475">{</span>&nbsp;<span class="keyword" id="5552477">return</span>&nbsp;<span class="ident" id="5552484">Size</span>&nbsp;<span class="op" id="5552489">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5552492">func</span>&nbsp;<span class="op" id="5552497">(</span><span class="ident" id="5552498">d</span>&nbsp;<span class="op" id="5552500">*</span><span class="ident" id="5552501">digest</span><span class="op" id="5552507">)</span>&nbsp;<span class="ident" id="5552509">BlockSize</span><span class="op" id="5552518">(</span><span class="op" id="5552519">)</span>&nbsp;<span class="builtintype" id="5552521">int</span>&nbsp;<span class="op" id="5552525">{</span>&nbsp;<span class="keyword" id="5552527">return</span>&nbsp;<span class="num" id="5552534">1</span>&nbsp;<span class="op" id="5552536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5552539">func</span>&nbsp;<span class="op" id="5552544">(</span><span class="ident" id="5552545">d</span>&nbsp;<span class="op" id="5552547">*</span><span class="ident" id="5552548">digest</span><span class="op" id="5552554">)</span>&nbsp;<span class="ident" id="5552556">Reset</span><span class="op" id="5552561">(</span><span class="op" id="5552562">)</span>&nbsp;<span class="op" id="5552564">{</span>&nbsp;<span class="ident" id="5552566">d</span><span class="op" id="5552567">.</span><span class="ident" id="5552568">crc</span>&nbsp;<span class="op" id="5552572">=</span>&nbsp;<span class="num" id="5552574">0</span>&nbsp;<span class="op" id="5552576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5552579">func</span>&nbsp;<span class="ident" id="5552584">update</span><span class="op" id="5552590">(</span><span class="ident" id="5552591">crc</span>&nbsp;<span class="ident" id="5552595">uint64</span><span class="op" id="5552601">,</span>&nbsp;<span class="ident" id="5552603">tab</span>&nbsp;<span class="op" id="5552607">*</span><span class="ident" id="5552608">Table</span><span class="op" id="5552613">,</span>&nbsp;<span class="ident" id="5552615">p</span>&nbsp;<span class="op" id="5552617">[</span><span class="op" id="5552618">]</span><span class="builtintype" id="5552619">byte</span><span class="op" id="5552623">)</span>&nbsp;<span class="ident" id="5552625">uint64</span>&nbsp;<span class="op" id="5552632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552635">crc</span>&nbsp;<span class="op" id="5552639">=</span>&nbsp;<span class="op" id="5552641">^</span><span class="ident" id="5552642">crc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5552647">for</span>&nbsp;<span class="ident" id="5552651">_</span><span class="op" id="5552652">,</span>&nbsp;<span class="ident" id="5552654">v</span>&nbsp;<span class="op" id="5552656">:=</span>&nbsp;<span class="keyword" id="5552659">range</span>&nbsp;<span class="ident" id="5552665">p</span>&nbsp;<span class="op" id="5552667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552671">crc</span>&nbsp;<span class="op" id="5552675">=</span>&nbsp;<span class="ident" id="5552677">tab</span><span class="op" id="5552680">[</span><span class="builtintype" id="5552681">byte</span><span class="op" id="5552685">(</span><span class="ident" id="5552686">crc</span><span class="op" id="5552689">)</span><span class="op" id="5552690">^</span><span class="ident" id="5552691">v</span><span class="op" id="5552692">]</span>&nbsp;<span class="op" id="5552694">^</span>&nbsp;<span class="op" id="5552696">(</span><span class="ident" id="5552697">crc</span>&nbsp;<span class="op" id="5552701">&gt;&gt;</span>&nbsp;<span class="num" id="5552704">8</span><span class="op" id="5552705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5552708">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5552711">return</span>&nbsp;<span class="op" id="5552718">^</span><span class="ident" id="5552719">crc</span><br>
<span class="lineno"></span><span class="op" id="5552723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5552726">//&nbsp;Update&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;adding&nbsp;the&nbsp;bytes&nbsp;in&nbsp;p&nbsp;to&nbsp;the&nbsp;crc.</span><br>
<span class="lineno"></span><span class="keyword" id="5552792">func</span>&nbsp;<span class="ident" id="5552797">Update</span><span class="op" id="5552803">(</span><span class="ident" id="5552804">crc</span>&nbsp;<span class="ident" id="5552808">uint64</span><span class="op" id="5552814">,</span>&nbsp;<span class="ident" id="5552816">tab</span>&nbsp;<span class="op" id="5552820">*</span><span class="ident" id="5552821">Table</span><span class="op" id="5552826">,</span>&nbsp;<span class="ident" id="5552828">p</span>&nbsp;<span class="op" id="5552830">[</span><span class="op" id="5552831">]</span><span class="builtintype" id="5552832">byte</span><span class="op" id="5552836">)</span>&nbsp;<span class="ident" id="5552838">uint64</span>&nbsp;<span class="op" id="5552845">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5552848">return</span>&nbsp;<span class="ident" id="5552855">update</span><span class="op" id="5552861">(</span><span class="ident" id="5552862">crc</span><span class="op" id="5552865">,</span>&nbsp;<span class="ident" id="5552867">tab</span><span class="op" id="5552870">,</span>&nbsp;<span class="ident" id="5552872">p</span><span class="op" id="5552873">)</span><br>
<span class="lineno"></span><span class="op" id="5552875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5552878">func</span>&nbsp;<span class="op" id="5552883">(</span><span class="ident" id="5552884">d</span>&nbsp;<span class="op" id="5552886">*</span><span class="ident" id="5552887">digest</span><span class="op" id="5552893">)</span>&nbsp;<span class="ident" id="5552895">Write</span><span class="op" id="5552900">(</span><span class="ident" id="5552901">p</span>&nbsp;<span class="op" id="5552903">[</span><span class="op" id="5552904">]</span><span class="builtintype" id="5552905">byte</span><span class="op" id="5552909">)</span>&nbsp;<span class="op" id="5552911">(</span><span class="ident" id="5552912">n</span>&nbsp;<span class="builtintype" id="5552914">int</span><span class="op" id="5552917">,</span>&nbsp;<span class="ident" id="5552919">err</span>&nbsp;<span class="builtintype" id="5552923">error</span><span class="op" id="5552928">)</span>&nbsp;<span class="op" id="5552930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552933">d</span><span class="op" id="5552934">.</span><span class="ident" id="5552935">crc</span>&nbsp;<span class="op" id="5552939">=</span>&nbsp;<span class="ident" id="5552941">update</span><span class="op" id="5552947">(</span><span class="ident" id="5552948">d</span><span class="op" id="5552949">.</span><span class="ident" id="5552950">crc</span><span class="op" id="5552953">,</span>&nbsp;<span class="ident" id="5552955">d</span><span class="op" id="5552956">.</span><span class="ident" id="5552957">tab</span><span class="op" id="5552960">,</span>&nbsp;<span class="ident" id="5552962">p</span><span class="op" id="5552963">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5552966">return</span>&nbsp;<span class="builtinfunc" id="5552973">len</span><span class="op" id="5552976">(</span><span class="ident" id="5552977">p</span><span class="op" id="5552978">)</span><span class="op" id="5552979">,</span>&nbsp;<span class="ident" id="5552981">nil</span><br>
<span class="lineno"></span><span class="op" id="5552985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5552988">func</span>&nbsp;<span class="op" id="5552993">(</span><span class="ident" id="5552994">d</span>&nbsp;<span class="op" id="5552996">*</span><span class="ident" id="5552997">digest</span><span class="op" id="5553003">)</span>&nbsp;<span class="ident" id="5553005">Sum64</span><span class="op" id="5553010">(</span><span class="op" id="5553011">)</span>&nbsp;<span class="ident" id="5553013">uint64</span>&nbsp;<span class="op" id="5553020">{</span>&nbsp;<span class="keyword" id="5553022">return</span>&nbsp;<span class="ident" id="5553029">d</span><span class="op" id="5553030">.</span><span class="ident" id="5553031">crc</span>&nbsp;<span class="op" id="5553035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5553038">func</span>&nbsp;<span class="op" id="5553043">(</span><span class="ident" id="5553044">d</span>&nbsp;<span class="op" id="5553046">*</span><span class="ident" id="5553047">digest</span><span class="op" id="5553053">)</span>&nbsp;<span class="ident" id="5553055">Sum</span><span class="op" id="5553058">(</span><span class="ident" id="5553059">in</span>&nbsp;<span class="op" id="5553062">[</span><span class="op" id="5553063">]</span><span class="builtintype" id="5553064">byte</span><span class="op" id="5553068">)</span>&nbsp;<span class="op" id="5553070">[</span><span class="op" id="5553071">]</span><span class="builtintype" id="5553072">byte</span>&nbsp;<span class="op" id="5553077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553080">s</span>&nbsp;<span class="op" id="5553082">:=</span>&nbsp;<span class="ident" id="5553085">d</span><span class="op" id="5553086">.</span><span class="ident" id="5553087">Sum64</span><span class="op" id="5553092">(</span><span class="op" id="5553093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5553096">return</span>&nbsp;<span class="builtinfunc" id="5553103">append</span><span class="op" id="5553109">(</span><span class="ident" id="5553110">in</span><span class="op" id="5553112">,</span>&nbsp;<span class="builtintype" id="5553114">byte</span><span class="op" id="5553118">(</span><span class="ident" id="5553119">s</span><span class="op" id="5553120">&gt;&gt;</span><span class="num" id="5553122">56</span><span class="op" id="5553124">)</span><span class="op" id="5553125">,</span>&nbsp;<span class="builtintype" id="5553127">byte</span><span class="op" id="5553131">(</span><span class="ident" id="5553132">s</span><span class="op" id="5553133">&gt;&gt;</span><span class="num" id="5553135">48</span><span class="op" id="5553137">)</span><span class="op" id="5553138">,</span>&nbsp;<span class="builtintype" id="5553140">byte</span><span class="op" id="5553144">(</span><span class="ident" id="5553145">s</span><span class="op" id="5553146">&gt;&gt;</span><span class="num" id="5553148">40</span><span class="op" id="5553150">)</span><span class="op" id="5553151">,</span>&nbsp;<span class="builtintype" id="5553153">byte</span><span class="op" id="5553157">(</span><span class="ident" id="5553158">s</span><span class="op" id="5553159">&gt;&gt;</span><span class="num" id="5553161">32</span><span class="op" id="5553163">)</span><span class="op" id="5553164">,</span>&nbsp;<span class="builtintype" id="5553166">byte</span><span class="op" id="5553170">(</span><span class="ident" id="5553171">s</span><span class="op" id="5553172">&gt;&gt;</span><span class="num" id="5553174">24</span><span class="op" id="5553176">)</span><span class="op" id="5553177">,</span>&nbsp;<span class="builtintype" id="5553179">byte</span><span class="op" id="5553183">(</span><span class="ident" id="5553184">s</span><span class="op" id="5553185">&gt;&gt;</span><span class="num" id="5553187">16</span><span class="op" id="5553189">)</span><span class="op" id="5553190">,</span>&nbsp;<span class="builtintype" id="5553192">byte</span><span class="op" id="5553196">(</span><span class="ident" id="5553197">s</span><span class="op" id="5553198">&gt;&gt;</span><span class="num" id="5553200">8</span><span class="op" id="5553201">)</span><span class="op" id="5553202">,</span>&nbsp;<span class="builtintype" id="5553204">byte</span><span class="op" id="5553208">(</span><span class="ident" id="5553209">s</span><span class="op" id="5553210">)</span><span class="op" id="5553211">)</span><br>
<span class="lineno"></span><span class="op" id="5553213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="5553216">//&nbsp;Checksum&nbsp;returns&nbsp;the&nbsp;CRC-64&nbsp;checksum&nbsp;of&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="5553264">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5553314">func</span>&nbsp;<span class="ident" id="5553319">Checksum</span><span class="op" id="5553327">(</span><span class="ident" id="5553328">data</span>&nbsp;<span class="op" id="5553333">[</span><span class="op" id="5553334">]</span><span class="builtintype" id="5553335">byte</span><span class="op" id="5553339">,</span>&nbsp;<span class="ident" id="5553341">tab</span>&nbsp;<span class="op" id="5553345">*</span><span class="ident" id="5553346">Table</span><span class="op" id="5553351">)</span>&nbsp;<span class="ident" id="5553353">uint64</span>&nbsp;<span class="op" id="5553360">{</span>&nbsp;<span class="keyword" id="5553362">return</span>&nbsp;<span class="ident" id="5553369">update</span><span class="op" id="5553375">(</span><span class="num" id="5553376">0</span><span class="op" id="5553377">,</span>&nbsp;<span class="ident" id="5553379">tab</span><span class="op" id="5553382">,</span>&nbsp;<span class="ident" id="5553384">data</span><span class="op" id="5553388">)</span>&nbsp;<span class="op" id="5553390">}</span>
</div>
</body>
</html>
