<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6714388">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6714443">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6714497">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6714548">package</span>&nbsp;<span class="ident" id="6714556">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6714563">import</span>&nbsp;<span class="op" id="6714570">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6714573">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6714588">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6714598">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6714601">type</span>&nbsp;<span class="ident" id="6714606">image</span>&nbsp;<span class="keyword" id="6714612">interface</span>&nbsp;<span class="op" id="6714622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714625"><a href="/image/image.go.html#5457152">Image</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714632">Opaque</span><span class="op" id="6714638">(</span><span class="op" id="6714639">)</span>&nbsp;<span class="builtintype" id="6714641">bool</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714647">Set</span><span class="op" id="6714650">(</span><span class="builtintype" id="6714651">int</span><span class="op" id="6714654">,</span>&nbsp;<span class="builtintype" id="6714656">int</span><span class="op" id="6714659">,</span>&nbsp;<span class="ident" id="6714661"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6714666">.</span><span class="ident" id="6714667">Color</span><span class="op" id="6714672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714675">SubImage</span><span class="op" id="6714683">(</span><span class="ident" id="6714684"><a href="/image/geom.go.html#5452241">Rectangle</a></span><span class="op" id="6714693">)</span>&nbsp;<span class="ident" id="6714695"><a href="/image/image.go.html#5457152">Image</a></span><br>
<span class="lineno"></span><span class="op" id="6714701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6714704">func</span>&nbsp;<span class="ident" id="6714709">cmp</span><span class="op" id="6714712">(</span><span class="ident" id="6714713">t</span>&nbsp;<span class="op" id="6714715">*</span><span class="ident" id="6714716"><a href="/image/image_test.go.html#6714588">testing</a></span><span class="op" id="6714723">.</span><span class="ident" id="6714724">T</span><span class="op" id="6714725">,</span>&nbsp;<span class="ident" id="6714727">cm</span>&nbsp;<span class="ident" id="6714730"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6714735">.</span><span class="ident" id="6714736">Model</span><span class="op" id="6714741">,</span>&nbsp;<span class="ident" id="6714743">c0</span><span class="op" id="6714745">,</span>&nbsp;<span class="ident" id="6714747">c1</span>&nbsp;<span class="ident" id="6714750"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6714755">.</span><span class="ident" id="6714756">Color</span><span class="op" id="6714761">)</span>&nbsp;<span class="builtintype" id="6714763">bool</span>&nbsp;<span class="op" id="6714768">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714771">r0</span><span class="op" id="6714773">,</span>&nbsp;<span class="ident" id="6714775">g0</span><span class="op" id="6714777">,</span>&nbsp;<span class="ident" id="6714779">b0</span><span class="op" id="6714781">,</span>&nbsp;<span class="ident" id="6714783">a0</span>&nbsp;<span class="op" id="6714786">:=</span>&nbsp;<span class="ident" id="6714789"><a href="/image/image_test.go.html#6714727">cm</a></span><span class="op" id="6714791">.</span><span class="ident" id="6714792">Convert</span><span class="op" id="6714799">(</span><span class="ident" id="6714800"><a href="/image/image_test.go.html#6714743">c0</a></span><span class="op" id="6714802">)</span><span class="op" id="6714803">.</span><span class="ident" id="6714804">RGBA</span><span class="op" id="6714808">(</span><span class="op" id="6714809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714812">r1</span><span class="op" id="6714814">,</span>&nbsp;<span class="ident" id="6714816">g1</span><span class="op" id="6714818">,</span>&nbsp;<span class="ident" id="6714820">b1</span><span class="op" id="6714822">,</span>&nbsp;<span class="ident" id="6714824">a1</span>&nbsp;<span class="op" id="6714827">:=</span>&nbsp;<span class="ident" id="6714830"><a href="/image/image_test.go.html#6714727">cm</a></span><span class="op" id="6714832">.</span><span class="ident" id="6714833">Convert</span><span class="op" id="6714840">(</span><span class="ident" id="6714841"><a href="/image/image_test.go.html#6714747">c1</a></span><span class="op" id="6714843">)</span><span class="op" id="6714844">.</span><span class="ident" id="6714845">RGBA</span><span class="op" id="6714849">(</span><span class="op" id="6714850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6714853">return</span>&nbsp;<span class="ident" id="6714860"><a href="/image/image_test.go.html#6714771">r0</a></span>&nbsp;<span class="op" id="6714863">==</span>&nbsp;<span class="ident" id="6714866"><a href="/image/image_test.go.html#6714812">r1</a></span>&nbsp;<span class="op" id="6714869">&amp;&amp;</span>&nbsp;<span class="ident" id="6714872"><a href="/image/image_test.go.html#6714775">g0</a></span>&nbsp;<span class="op" id="6714875">==</span>&nbsp;<span class="ident" id="6714878"><a href="/image/image_test.go.html#6714816">g1</a></span>&nbsp;<span class="op" id="6714881">&amp;&amp;</span>&nbsp;<span class="ident" id="6714884"><a href="/image/image_test.go.html#6714779">b0</a></span>&nbsp;<span class="op" id="6714887">==</span>&nbsp;<span class="ident" id="6714890"><a href="/image/image_test.go.html#6714820">b1</a></span>&nbsp;<span class="op" id="6714893">&amp;&amp;</span>&nbsp;<span class="ident" id="6714896"><a href="/image/image_test.go.html#6714783">a0</a></span>&nbsp;<span class="op" id="6714899">==</span>&nbsp;<span class="ident" id="6714902"><a href="/image/image_test.go.html#6714824">a1</a></span><br>
<span class="lineno"></span><span class="op" id="6714905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6714908">func</span>&nbsp;<span class="ident" id="6714913">TestImage</span><span class="op" id="6714922">(</span><span class="ident" id="6714923">t</span>&nbsp;<span class="op" id="6714925">*</span><span class="ident" id="6714926"><a href="/image/image_test.go.html#6714588">testing</a></span><span class="op" id="6714933">.</span><span class="ident" id="6714934">T</span><span class="op" id="6714935">)</span>&nbsp;<span class="op" id="6714937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714940">testImage</span>&nbsp;<span class="op" id="6714950">:=</span>&nbsp;<span class="op" id="6714953">[</span><span class="op" id="6714954">]</span><span class="ident" id="6714955"><a href="/image/image_test.go.html#6714606">image</a></span><span class="op" id="6714960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714964"><a href="/image/image.go.html#5460471">NewRGBA</a></span><span class="op" id="6714971">(</span><span class="ident" id="6714972"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6714976">(</span><span class="num" id="6714977">0</span><span class="op" id="6714978">,</span>&nbsp;<span class="num" id="6714980">0</span><span class="op" id="6714981">,</span>&nbsp;<span class="num" id="6714983">10</span><span class="op" id="6714985">,</span>&nbsp;<span class="num" id="6714987">10</span><span class="op" id="6714989">)</span><span class="op" id="6714990">)</span><span class="op" id="6714991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714995"><a href="/image/image.go.html#5463513">NewRGBA64</a></span><span class="op" id="6715004">(</span><span class="ident" id="6715005"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715009">(</span><span class="num" id="6715010">0</span><span class="op" id="6715011">,</span>&nbsp;<span class="num" id="6715013">0</span><span class="op" id="6715014">,</span>&nbsp;<span class="num" id="6715016">10</span><span class="op" id="6715018">,</span>&nbsp;<span class="num" id="6715020">10</span><span class="op" id="6715022">)</span><span class="op" id="6715023">)</span><span class="op" id="6715024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715028"><a href="/image/image.go.html#5466049">NewNRGBA</a></span><span class="op" id="6715036">(</span><span class="ident" id="6715037"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715041">(</span><span class="num" id="6715042">0</span><span class="op" id="6715043">,</span>&nbsp;<span class="num" id="6715045">0</span><span class="op" id="6715046">,</span>&nbsp;<span class="num" id="6715048">10</span><span class="op" id="6715050">,</span>&nbsp;<span class="num" id="6715052">10</span><span class="op" id="6715054">)</span><span class="op" id="6715055">)</span><span class="op" id="6715056">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715060"><a href="/image/image.go.html#5469120">NewNRGBA64</a></span><span class="op" id="6715070">(</span><span class="ident" id="6715071"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715075">(</span><span class="num" id="6715076">0</span><span class="op" id="6715077">,</span>&nbsp;<span class="num" id="6715079">0</span><span class="op" id="6715080">,</span>&nbsp;<span class="num" id="6715082">10</span><span class="op" id="6715084">,</span>&nbsp;<span class="num" id="6715086">10</span><span class="op" id="6715088">)</span><span class="op" id="6715089">)</span><span class="op" id="6715090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715094"><a href="/image/image.go.html#5471487">NewAlpha</a></span><span class="op" id="6715102">(</span><span class="ident" id="6715103"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715107">(</span><span class="num" id="6715108">0</span><span class="op" id="6715109">,</span>&nbsp;<span class="num" id="6715111">0</span><span class="op" id="6715112">,</span>&nbsp;<span class="num" id="6715114">10</span><span class="op" id="6715116">,</span>&nbsp;<span class="num" id="6715118">10</span><span class="op" id="6715120">)</span><span class="op" id="6715121">)</span><span class="op" id="6715122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715126"><a href="/image/image.go.html#5474073">NewAlpha16</a></span><span class="op" id="6715136">(</span><span class="ident" id="6715137"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715141">(</span><span class="num" id="6715142">0</span><span class="op" id="6715143">,</span>&nbsp;<span class="num" id="6715145">0</span><span class="op" id="6715146">,</span>&nbsp;<span class="num" id="6715148">10</span><span class="op" id="6715150">,</span>&nbsp;<span class="num" id="6715152">10</span><span class="op" id="6715154">)</span><span class="op" id="6715155">)</span><span class="op" id="6715156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715160"><a href="/image/image.go.html#5476184">NewGray</a></span><span class="op" id="6715167">(</span><span class="ident" id="6715168"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715172">(</span><span class="num" id="6715173">0</span><span class="op" id="6715174">,</span>&nbsp;<span class="num" id="6715176">0</span><span class="op" id="6715177">,</span>&nbsp;<span class="num" id="6715179">10</span><span class="op" id="6715181">,</span>&nbsp;<span class="num" id="6715183">10</span><span class="op" id="6715185">)</span><span class="op" id="6715186">)</span><span class="op" id="6715187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715191"><a href="/image/image.go.html#5478482">NewGray16</a></span><span class="op" id="6715200">(</span><span class="ident" id="6715201"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715205">(</span><span class="num" id="6715206">0</span><span class="op" id="6715207">,</span>&nbsp;<span class="num" id="6715209">0</span><span class="op" id="6715210">,</span>&nbsp;<span class="num" id="6715212">10</span><span class="op" id="6715214">,</span>&nbsp;<span class="num" id="6715216">10</span><span class="op" id="6715218">)</span><span class="op" id="6715219">)</span><span class="op" id="6715220">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715224"><a href="/image/image.go.html#5481215">NewPaletted</a></span><span class="op" id="6715235">(</span><span class="ident" id="6715236"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715240">(</span><span class="num" id="6715241">0</span><span class="op" id="6715242">,</span>&nbsp;<span class="num" id="6715244">0</span><span class="op" id="6715245">,</span>&nbsp;<span class="num" id="6715247">10</span><span class="op" id="6715249">,</span>&nbsp;<span class="num" id="6715251">10</span><span class="op" id="6715253">)</span><span class="op" id="6715254">,</span>&nbsp;<span class="ident" id="6715256"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6715261">.</span><span class="ident" id="6715262">Palette</span><span class="op" id="6715269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715274"><a href="/image/names.go.html#5481778">Transparent</a></span><span class="op" id="6715285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715290"><a href="/image/names.go.html#5481867">Opaque</a></span><span class="op" id="6715296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715300">}</span><span class="op" id="6715301">)</span><span class="op" id="6715302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715305">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715308">for</span>&nbsp;<span class="ident" id="6715312">_</span><span class="op" id="6715313">,</span>&nbsp;<span class="ident" id="6715315">m</span>&nbsp;<span class="op" id="6715317">:=</span>&nbsp;<span class="keyword" id="6715320">range</span>&nbsp;<span class="ident" id="6715326"><a href="/image/image_test.go.html#6714940">testImage</a></span>&nbsp;<span class="op" id="6715336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715340">if</span>&nbsp;<span class="op" id="6715343">!</span><span class="ident" id="6715344"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715348">(</span><span class="num" id="6715349">0</span><span class="op" id="6715350">,</span>&nbsp;<span class="num" id="6715352">0</span><span class="op" id="6715353">,</span>&nbsp;<span class="num" id="6715355">10</span><span class="op" id="6715357">,</span>&nbsp;<span class="num" id="6715359">10</span><span class="op" id="6715361">)</span><span class="op" id="6715362">.</span><span class="ident" id="6715363">Eq</span><span class="op" id="6715365">(</span><span class="ident" id="6715366"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715367">.</span><span class="ident" id="6715368">Bounds</span><span class="op" id="6715374">(</span><span class="op" id="6715375">)</span><span class="op" id="6715376">)</span>&nbsp;<span class="op" id="6715378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715383"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6715384">.</span><span class="ident" id="6715385">Errorf</span><span class="op" id="6715391">(</span><span class="string" id="6715392">&#34;%T:&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6715420">,</span>&nbsp;<span class="ident" id="6715422"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715423">,</span>&nbsp;<span class="ident" id="6715425"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715429">(</span><span class="num" id="6715430">0</span><span class="op" id="6715431">,</span>&nbsp;<span class="num" id="6715433">0</span><span class="op" id="6715434">,</span>&nbsp;<span class="num" id="6715436">10</span><span class="op" id="6715438">,</span>&nbsp;<span class="num" id="6715440">10</span><span class="op" id="6715442">)</span><span class="op" id="6715443">,</span>&nbsp;<span class="ident" id="6715445"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715446">.</span><span class="ident" id="6715447">Bounds</span><span class="op" id="6715453">(</span><span class="op" id="6715454">)</span><span class="op" id="6715455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715460">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715471">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715475">if</span>&nbsp;<span class="op" id="6715478">!</span><span class="ident" id="6715479"><a href="/image/image_test.go.html#6714709">cmp</a></span><span class="op" id="6715482">(</span><span class="ident" id="6715483"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6715484">,</span>&nbsp;<span class="ident" id="6715486"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715487">.</span><span class="ident" id="6715488">ColorModel</span><span class="op" id="6715498">(</span><span class="op" id="6715499">)</span><span class="op" id="6715500">,</span>&nbsp;<span class="ident" id="6715502"><a href="/image/names.go.html#5481778">Transparent</a></span><span class="op" id="6715513">,</span>&nbsp;<span class="ident" id="6715515"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715516">.</span><span class="ident" id="6715517">At</span><span class="op" id="6715519">(</span><span class="num" id="6715520">6</span><span class="op" id="6715521">,</span>&nbsp;<span class="num" id="6715523">3</span><span class="op" id="6715524">)</span><span class="op" id="6715525">)</span>&nbsp;<span class="op" id="6715527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715532"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6715533">.</span><span class="ident" id="6715534">Errorf</span><span class="op" id="6715540">(</span><span class="string" id="6715541">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6715583">,</span>&nbsp;<span class="ident" id="6715585"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715586">,</span>&nbsp;<span class="ident" id="6715588"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715589">.</span><span class="ident" id="6715590">At</span><span class="op" id="6715592">(</span><span class="num" id="6715593">6</span><span class="op" id="6715594">,</span>&nbsp;<span class="num" id="6715596">3</span><span class="op" id="6715597">)</span><span class="op" id="6715598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715603">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715618"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715619">.</span><span class="ident" id="6715620">Set</span><span class="op" id="6715623">(</span><span class="num" id="6715624">6</span><span class="op" id="6715625">,</span>&nbsp;<span class="num" id="6715627">3</span><span class="op" id="6715628">,</span>&nbsp;<span class="ident" id="6715630"><a href="/image/names.go.html#5481867">Opaque</a></span><span class="op" id="6715636">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715640">if</span>&nbsp;<span class="op" id="6715643">!</span><span class="ident" id="6715644"><a href="/image/image_test.go.html#6714709">cmp</a></span><span class="op" id="6715647">(</span><span class="ident" id="6715648"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6715649">,</span>&nbsp;<span class="ident" id="6715651"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715652">.</span><span class="ident" id="6715653">ColorModel</span><span class="op" id="6715663">(</span><span class="op" id="6715664">)</span><span class="op" id="6715665">,</span>&nbsp;<span class="ident" id="6715667"><a href="/image/names.go.html#5481867">Opaque</a></span><span class="op" id="6715673">,</span>&nbsp;<span class="ident" id="6715675"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715676">.</span><span class="ident" id="6715677">At</span><span class="op" id="6715679">(</span><span class="num" id="6715680">6</span><span class="op" id="6715681">,</span>&nbsp;<span class="num" id="6715683">3</span><span class="op" id="6715684">)</span><span class="op" id="6715685">)</span>&nbsp;<span class="op" id="6715687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715692"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6715693">.</span><span class="ident" id="6715694">Errorf</span><span class="op" id="6715700">(</span><span class="string" id="6715701">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6715747">,</span>&nbsp;<span class="ident" id="6715749"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715750">,</span>&nbsp;<span class="ident" id="6715752"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715753">.</span><span class="ident" id="6715754">At</span><span class="op" id="6715756">(</span><span class="num" id="6715757">6</span><span class="op" id="6715758">,</span>&nbsp;<span class="num" id="6715760">3</span><span class="op" id="6715761">)</span><span class="op" id="6715762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715767">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715782">if</span>&nbsp;<span class="op" id="6715785">!</span><span class="ident" id="6715786"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715787">.</span><span class="ident" id="6715788">SubImage</span><span class="op" id="6715796">(</span><span class="ident" id="6715797"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715801">(</span><span class="num" id="6715802">6</span><span class="op" id="6715803">,</span>&nbsp;<span class="num" id="6715805">3</span><span class="op" id="6715806">,</span>&nbsp;<span class="num" id="6715808">7</span><span class="op" id="6715809">,</span>&nbsp;<span class="num" id="6715811">4</span><span class="op" id="6715812">)</span><span class="op" id="6715813">)</span><span class="op" id="6715814">.</span><span class="op" id="6715815">(</span><span class="ident" id="6715816"><a href="/image/image_test.go.html#6714606">image</a></span><span class="op" id="6715821">)</span><span class="op" id="6715822">.</span><span class="ident" id="6715823">Opaque</span><span class="op" id="6715829">(</span><span class="op" id="6715830">)</span>&nbsp;<span class="op" id="6715832">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715837"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6715838">.</span><span class="ident" id="6715839">Errorf</span><span class="op" id="6715845">(</span><span class="string" id="6715846">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3)&nbsp;was&nbsp;not&nbsp;opaque&#34;</span><span class="op" id="6715876">,</span>&nbsp;<span class="ident" id="6715878"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715884">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715899"><a href="/image/image_test.go.html#6715315">m</a></span>&nbsp;<span class="op" id="6715901">=</span>&nbsp;<span class="ident" id="6715903"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715904">.</span><span class="ident" id="6715905">SubImage</span><span class="op" id="6715913">(</span><span class="ident" id="6715914"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715918">(</span><span class="num" id="6715919">3</span><span class="op" id="6715920">,</span>&nbsp;<span class="num" id="6715922">2</span><span class="op" id="6715923">,</span>&nbsp;<span class="num" id="6715925">9</span><span class="op" id="6715926">,</span>&nbsp;<span class="num" id="6715928">8</span><span class="op" id="6715929">)</span><span class="op" id="6715930">)</span><span class="op" id="6715931">.</span><span class="op" id="6715932">(</span><span class="ident" id="6715933"><a href="/image/image_test.go.html#6714606">image</a></span><span class="op" id="6715938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715942">if</span>&nbsp;<span class="op" id="6715945">!</span><span class="ident" id="6715946"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6715950">(</span><span class="num" id="6715951">3</span><span class="op" id="6715952">,</span>&nbsp;<span class="num" id="6715954">2</span><span class="op" id="6715955">,</span>&nbsp;<span class="num" id="6715957">9</span><span class="op" id="6715958">,</span>&nbsp;<span class="num" id="6715960">8</span><span class="op" id="6715961">)</span><span class="op" id="6715962">.</span><span class="ident" id="6715963">Eq</span><span class="op" id="6715965">(</span><span class="ident" id="6715966"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6715967">.</span><span class="ident" id="6715968">Bounds</span><span class="op" id="6715974">(</span><span class="op" id="6715975">)</span><span class="op" id="6715976">)</span>&nbsp;<span class="op" id="6715978">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715983"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6715984">.</span><span class="ident" id="6715985">Errorf</span><span class="op" id="6715991">(</span><span class="string" id="6715992">&#34;%T:&nbsp;sub-image&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6716030">,</span>&nbsp;<span class="ident" id="6716032"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716033">,</span>&nbsp;<span class="ident" id="6716035"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6716039">(</span><span class="num" id="6716040">3</span><span class="op" id="6716041">,</span>&nbsp;<span class="num" id="6716043">2</span><span class="op" id="6716044">,</span>&nbsp;<span class="num" id="6716046">9</span><span class="op" id="6716047">,</span>&nbsp;<span class="num" id="6716049">8</span><span class="op" id="6716050">)</span><span class="op" id="6716051">,</span>&nbsp;<span class="ident" id="6716053"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716054">.</span><span class="ident" id="6716055">Bounds</span><span class="op" id="6716061">(</span><span class="op" id="6716062">)</span><span class="op" id="6716063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716068">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716083">if</span>&nbsp;<span class="op" id="6716086">!</span><span class="ident" id="6716087"><a href="/image/image_test.go.html#6714709">cmp</a></span><span class="op" id="6716090">(</span><span class="ident" id="6716091"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6716092">,</span>&nbsp;<span class="ident" id="6716094"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716095">.</span><span class="ident" id="6716096">ColorModel</span><span class="op" id="6716106">(</span><span class="op" id="6716107">)</span><span class="op" id="6716108">,</span>&nbsp;<span class="ident" id="6716110"><a href="/image/names.go.html#5481867">Opaque</a></span><span class="op" id="6716116">,</span>&nbsp;<span class="ident" id="6716118"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716119">.</span><span class="ident" id="6716120">At</span><span class="op" id="6716122">(</span><span class="num" id="6716123">6</span><span class="op" id="6716124">,</span>&nbsp;<span class="num" id="6716126">3</span><span class="op" id="6716127">)</span><span class="op" id="6716128">)</span>&nbsp;<span class="op" id="6716130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716135"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6716136">.</span><span class="ident" id="6716137">Errorf</span><span class="op" id="6716143">(</span><span class="string" id="6716144">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6716200">,</span>&nbsp;<span class="ident" id="6716202"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716203">,</span>&nbsp;<span class="ident" id="6716205"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716206">.</span><span class="ident" id="6716207">At</span><span class="op" id="6716209">(</span><span class="num" id="6716210">6</span><span class="op" id="6716211">,</span>&nbsp;<span class="num" id="6716213">3</span><span class="op" id="6716214">)</span><span class="op" id="6716215">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716220">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716235">if</span>&nbsp;<span class="op" id="6716238">!</span><span class="ident" id="6716239"><a href="/image/image_test.go.html#6714709">cmp</a></span><span class="op" id="6716242">(</span><span class="ident" id="6716243"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6716244">,</span>&nbsp;<span class="ident" id="6716246"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716247">.</span><span class="ident" id="6716248">ColorModel</span><span class="op" id="6716258">(</span><span class="op" id="6716259">)</span><span class="op" id="6716260">,</span>&nbsp;<span class="ident" id="6716262"><a href="/image/names.go.html#5481778">Transparent</a></span><span class="op" id="6716273">,</span>&nbsp;<span class="ident" id="6716275"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716276">.</span><span class="ident" id="6716277">At</span><span class="op" id="6716279">(</span><span class="num" id="6716280">3</span><span class="op" id="6716281">,</span>&nbsp;<span class="num" id="6716283">3</span><span class="op" id="6716284">)</span><span class="op" id="6716285">)</span>&nbsp;<span class="op" id="6716287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716292"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6716293">.</span><span class="ident" id="6716294">Errorf</span><span class="op" id="6716300">(</span><span class="string" id="6716301">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6716353">,</span>&nbsp;<span class="ident" id="6716355"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716356">,</span>&nbsp;<span class="ident" id="6716358"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716359">.</span><span class="ident" id="6716360">At</span><span class="op" id="6716362">(</span><span class="num" id="6716363">3</span><span class="op" id="6716364">,</span>&nbsp;<span class="num" id="6716366">3</span><span class="op" id="6716367">)</span><span class="op" id="6716368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716373">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716388"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716389">.</span><span class="ident" id="6716390">Set</span><span class="op" id="6716393">(</span><span class="num" id="6716394">3</span><span class="op" id="6716395">,</span>&nbsp;<span class="num" id="6716397">3</span><span class="op" id="6716398">,</span>&nbsp;<span class="ident" id="6716400"><a href="/image/names.go.html#5481867">Opaque</a></span><span class="op" id="6716406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716410">if</span>&nbsp;<span class="op" id="6716413">!</span><span class="ident" id="6716414"><a href="/image/image_test.go.html#6714709">cmp</a></span><span class="op" id="6716417">(</span><span class="ident" id="6716418"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6716419">,</span>&nbsp;<span class="ident" id="6716421"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716422">.</span><span class="ident" id="6716423">ColorModel</span><span class="op" id="6716433">(</span><span class="op" id="6716434">)</span><span class="op" id="6716435">,</span>&nbsp;<span class="ident" id="6716437"><a href="/image/names.go.html#5481867">Opaque</a></span><span class="op" id="6716443">,</span>&nbsp;<span class="ident" id="6716445"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716446">.</span><span class="ident" id="6716447">At</span><span class="op" id="6716449">(</span><span class="num" id="6716450">3</span><span class="op" id="6716451">,</span>&nbsp;<span class="num" id="6716453">3</span><span class="op" id="6716454">)</span><span class="op" id="6716455">)</span>&nbsp;<span class="op" id="6716457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716462"><a href="/image/image_test.go.html#6714923">t</a></span><span class="op" id="6716463">.</span><span class="ident" id="6716464">Errorf</span><span class="op" id="6716470">(</span><span class="string" id="6716471">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6716527">,</span>&nbsp;<span class="ident" id="6716529"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716530">,</span>&nbsp;<span class="ident" id="6716532"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716533">.</span><span class="ident" id="6716534">At</span><span class="op" id="6716536">(</span><span class="num" id="6716537">3</span><span class="op" id="6716538">,</span>&nbsp;<span class="num" id="6716540">3</span><span class="op" id="6716541">)</span><span class="op" id="6716542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716547">continue</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6716562">//&nbsp;Test&nbsp;that&nbsp;taking&nbsp;an&nbsp;empty&nbsp;sub-image&nbsp;starting&nbsp;at&nbsp;a&nbsp;corner&nbsp;does&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716640"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716641">.</span><span class="ident" id="6716642">SubImage</span><span class="op" id="6716650">(</span><span class="ident" id="6716651"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6716655">(</span><span class="num" id="6716656">0</span><span class="op" id="6716657">,</span>&nbsp;<span class="num" id="6716659">0</span><span class="op" id="6716660">,</span>&nbsp;<span class="num" id="6716662">0</span><span class="op" id="6716663">,</span>&nbsp;<span class="num" id="6716665">0</span><span class="op" id="6716666">)</span><span class="op" id="6716667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716671"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716672">.</span><span class="ident" id="6716673">SubImage</span><span class="op" id="6716681">(</span><span class="ident" id="6716682"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6716686">(</span><span class="num" id="6716687">10</span><span class="op" id="6716689">,</span>&nbsp;<span class="num" id="6716691">0</span><span class="op" id="6716692">,</span>&nbsp;<span class="num" id="6716694">10</span><span class="op" id="6716696">,</span>&nbsp;<span class="num" id="6716698">0</span><span class="op" id="6716699">)</span><span class="op" id="6716700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716704"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716705">.</span><span class="ident" id="6716706">SubImage</span><span class="op" id="6716714">(</span><span class="ident" id="6716715"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6716719">(</span><span class="num" id="6716720">0</span><span class="op" id="6716721">,</span>&nbsp;<span class="num" id="6716723">10</span><span class="op" id="6716725">,</span>&nbsp;<span class="num" id="6716727">0</span><span class="op" id="6716728">,</span>&nbsp;<span class="num" id="6716730">10</span><span class="op" id="6716732">)</span><span class="op" id="6716733">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716737"><a href="/image/image_test.go.html#6715315">m</a></span><span class="op" id="6716738">.</span><span class="ident" id="6716739">SubImage</span><span class="op" id="6716747">(</span><span class="ident" id="6716748"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6716752">(</span><span class="num" id="6716753">10</span><span class="op" id="6716755">,</span>&nbsp;<span class="num" id="6716757">10</span><span class="op" id="6716759">,</span>&nbsp;<span class="num" id="6716761">10</span><span class="op" id="6716763">,</span>&nbsp;<span class="num" id="6716765">10</span><span class="op" id="6716767">)</span><span class="op" id="6716768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716771">}</span><br>
<span class="lineno"></span><span class="op" id="6716773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6716776">func</span>&nbsp;<span class="ident" id="6716781">Test16BitsPerColorChannel</span><span class="op" id="6716806">(</span><span class="ident" id="6716807">t</span>&nbsp;<span class="op" id="6716809">*</span><span class="ident" id="6716810"><a href="/image/image_test.go.html#6714588">testing</a></span><span class="op" id="6716817">.</span><span class="ident" id="6716818">T</span><span class="op" id="6716819">)</span>&nbsp;<span class="op" id="6716821">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716824">testColorModel</span>&nbsp;<span class="op" id="6716839">:=</span>&nbsp;<span class="op" id="6716842">[</span><span class="op" id="6716843">]</span><span class="ident" id="6716844"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6716849">.</span><span class="ident" id="6716850">Model</span><span class="op" id="6716855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716859"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6716864">.</span><span class="ident" id="6716865">RGBA64Model</span><span class="op" id="6716876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716880"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6716885">.</span><span class="ident" id="6716886">NRGBA64Model</span><span class="op" id="6716898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716902"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6716907">.</span><span class="ident" id="6716908">Alpha16Model</span><span class="op" id="6716920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716924"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6716929">.</span><span class="ident" id="6716930">Gray16Model</span><span class="op" id="6716941">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716947">for</span>&nbsp;<span class="ident" id="6716951">_</span><span class="op" id="6716952">,</span>&nbsp;<span class="ident" id="6716954">cm</span>&nbsp;<span class="op" id="6716957">:=</span>&nbsp;<span class="keyword" id="6716960">range</span>&nbsp;<span class="ident" id="6716966"><a href="/image/image_test.go.html#6716824">testColorModel</a></span>&nbsp;<span class="op" id="6716981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716985">c</span>&nbsp;<span class="op" id="6716987">:=</span>&nbsp;<span class="ident" id="6716990"><a href="/image/image_test.go.html#6716954">cm</a></span><span class="op" id="6716992">.</span><span class="ident" id="6716993">Convert</span><span class="op" id="6717000">(</span><span class="ident" id="6717001"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6717006">.</span><span class="ident" id="6717007">RGBA64</span><span class="op" id="6717013">{</span><span class="num" id="6717014">0x1234</span><span class="op" id="6717020">,</span>&nbsp;<span class="num" id="6717022">0x1234</span><span class="op" id="6717028">,</span>&nbsp;<span class="num" id="6717030">0x1234</span><span class="op" id="6717036">,</span>&nbsp;<span class="num" id="6717038">0x1234</span><span class="op" id="6717044">}</span><span class="op" id="6717045">)</span>&nbsp;<span class="comment" id="6717047">//&nbsp;Premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717073">r</span><span class="op" id="6717074">,</span>&nbsp;<span class="ident" id="6717076">_</span><span class="op" id="6717077">,</span>&nbsp;<span class="ident" id="6717079">_</span><span class="op" id="6717080">,</span>&nbsp;<span class="ident" id="6717082">_</span>&nbsp;<span class="op" id="6717084">:=</span>&nbsp;<span class="ident" id="6717087"><a href="/image/image_test.go.html#6716985">c</a></span><span class="op" id="6717088">.</span><span class="ident" id="6717089">RGBA</span><span class="op" id="6717093">(</span><span class="op" id="6717094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717098">if</span>&nbsp;<span class="ident" id="6717101"><a href="/image/image_test.go.html#6717073">r</a></span>&nbsp;<span class="op" id="6717103">!=</span>&nbsp;<span class="num" id="6717106">0x1234</span>&nbsp;<span class="op" id="6717113">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717118"><a href="/image/image_test.go.html#6716807">t</a></span><span class="op" id="6717119">.</span><span class="ident" id="6717120">Errorf</span><span class="op" id="6717126">(</span><span class="string" id="6717127">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="6717165">,</span>&nbsp;<span class="ident" id="6717167"><a href="/image/image_test.go.html#6716985">c</a></span><span class="op" id="6717168">,</span>&nbsp;<span class="num" id="6717170">0x1234</span><span class="op" id="6717176">,</span>&nbsp;<span class="ident" id="6717178"><a href="/image/image_test.go.html#6717073">r</a></span><span class="op" id="6717179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717184">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717201">testImage</span>&nbsp;<span class="op" id="6717211">:=</span>&nbsp;<span class="op" id="6717214">[</span><span class="op" id="6717215">]</span><span class="ident" id="6717216"><a href="/image/image_test.go.html#6714606">image</a></span><span class="op" id="6717221">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717225"><a href="/image/image.go.html#5463513">NewRGBA64</a></span><span class="op" id="6717234">(</span><span class="ident" id="6717235"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6717239">(</span><span class="num" id="6717240">0</span><span class="op" id="6717241">,</span>&nbsp;<span class="num" id="6717243">0</span><span class="op" id="6717244">,</span>&nbsp;<span class="num" id="6717246">10</span><span class="op" id="6717248">,</span>&nbsp;<span class="num" id="6717250">10</span><span class="op" id="6717252">)</span><span class="op" id="6717253">)</span><span class="op" id="6717254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717258"><a href="/image/image.go.html#5469120">NewNRGBA64</a></span><span class="op" id="6717268">(</span><span class="ident" id="6717269"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6717273">(</span><span class="num" id="6717274">0</span><span class="op" id="6717275">,</span>&nbsp;<span class="num" id="6717277">0</span><span class="op" id="6717278">,</span>&nbsp;<span class="num" id="6717280">10</span><span class="op" id="6717282">,</span>&nbsp;<span class="num" id="6717284">10</span><span class="op" id="6717286">)</span><span class="op" id="6717287">)</span><span class="op" id="6717288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717292"><a href="/image/image.go.html#5474073">NewAlpha16</a></span><span class="op" id="6717302">(</span><span class="ident" id="6717303"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6717307">(</span><span class="num" id="6717308">0</span><span class="op" id="6717309">,</span>&nbsp;<span class="num" id="6717311">0</span><span class="op" id="6717312">,</span>&nbsp;<span class="num" id="6717314">10</span><span class="op" id="6717316">,</span>&nbsp;<span class="num" id="6717318">10</span><span class="op" id="6717320">)</span><span class="op" id="6717321">)</span><span class="op" id="6717322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717326"><a href="/image/image.go.html#5478482">NewGray16</a></span><span class="op" id="6717335">(</span><span class="ident" id="6717336"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6717340">(</span><span class="num" id="6717341">0</span><span class="op" id="6717342">,</span>&nbsp;<span class="num" id="6717344">0</span><span class="op" id="6717345">,</span>&nbsp;<span class="num" id="6717347">10</span><span class="op" id="6717349">,</span>&nbsp;<span class="num" id="6717351">10</span><span class="op" id="6717353">)</span><span class="op" id="6717354">)</span><span class="op" id="6717355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717358">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717361">for</span>&nbsp;<span class="ident" id="6717365">_</span><span class="op" id="6717366">,</span>&nbsp;<span class="ident" id="6717368">m</span>&nbsp;<span class="op" id="6717370">:=</span>&nbsp;<span class="keyword" id="6717373">range</span>&nbsp;<span class="ident" id="6717379"><a href="/image/image_test.go.html#6717201">testImage</a></span>&nbsp;<span class="op" id="6717389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717393"><a href="/image/image_test.go.html#6717368">m</a></span><span class="op" id="6717394">.</span><span class="ident" id="6717395">Set</span><span class="op" id="6717398">(</span><span class="num" id="6717399">1</span><span class="op" id="6717400">,</span>&nbsp;<span class="num" id="6717402">2</span><span class="op" id="6717403">,</span>&nbsp;<span class="ident" id="6717405"><a href="/image/image_test.go.html#6714573">color</a></span><span class="op" id="6717410">.</span><span class="ident" id="6717411">NRGBA64</span><span class="op" id="6717418">{</span><span class="num" id="6717419">0xffff</span><span class="op" id="6717425">,</span>&nbsp;<span class="num" id="6717427">0xffff</span><span class="op" id="6717433">,</span>&nbsp;<span class="num" id="6717435">0xffff</span><span class="op" id="6717441">,</span>&nbsp;<span class="num" id="6717443">0x1357</span><span class="op" id="6717449">}</span><span class="op" id="6717450">)</span>&nbsp;<span class="comment" id="6717452">//&nbsp;Non-premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717482">r</span><span class="op" id="6717483">,</span>&nbsp;<span class="ident" id="6717485">_</span><span class="op" id="6717486">,</span>&nbsp;<span class="ident" id="6717488">_</span><span class="op" id="6717489">,</span>&nbsp;<span class="ident" id="6717491">_</span>&nbsp;<span class="op" id="6717493">:=</span>&nbsp;<span class="ident" id="6717496"><a href="/image/image_test.go.html#6717368">m</a></span><span class="op" id="6717497">.</span><span class="ident" id="6717498">At</span><span class="op" id="6717500">(</span><span class="num" id="6717501">1</span><span class="op" id="6717502">,</span>&nbsp;<span class="num" id="6717504">2</span><span class="op" id="6717505">)</span><span class="op" id="6717506">.</span><span class="ident" id="6717507">RGBA</span><span class="op" id="6717511">(</span><span class="op" id="6717512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717516">if</span>&nbsp;<span class="ident" id="6717519"><a href="/image/image_test.go.html#6717482">r</a></span>&nbsp;<span class="op" id="6717521">!=</span>&nbsp;<span class="num" id="6717524">0x1357</span>&nbsp;<span class="op" id="6717531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717536"><a href="/image/image_test.go.html#6716807">t</a></span><span class="op" id="6717537">.</span><span class="ident" id="6717538">Errorf</span><span class="op" id="6717544">(</span><span class="string" id="6717545">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="6717583">,</span>&nbsp;<span class="ident" id="6717585"><a href="/image/image_test.go.html#6717368">m</a></span><span class="op" id="6717586">,</span>&nbsp;<span class="num" id="6717588">0x1357</span><span class="op" id="6717594">,</span>&nbsp;<span class="ident" id="6717596"><a href="/image/image_test.go.html#6717482">r</a></span><span class="op" id="6717597">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717602">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717616">}</span><br>
<span class="lineno"></span><span class="op" id="6717618">}</span>
</div>
</body>
</html>
