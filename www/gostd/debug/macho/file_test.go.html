<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/macho</h2>
<ul>
<li><a href="/gostd/debug/macho/fat.go.html">fat.go</a></li>
<li><a href="/gostd/debug/macho/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/macho/file_test.go.html" class="current">file_test.go</a></li>
<li><a href="/gostd/debug/macho/macho.go.html">macho.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6455247">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6455303">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6455357">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6455408">package</span>&nbsp;<span class="ident" id="6455416">macho</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6455423">import</span>&nbsp;<span class="op" id="6455430">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6455433">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6455444">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6455454">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6455457">type</span>&nbsp;<span class="ident" id="6455462">fileTest</span>&nbsp;<span class="keyword" id="6455471">struct</span>&nbsp;<span class="op" id="6455478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6455481">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6455490">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6455498">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6455507">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6455519">segments</span>&nbsp;<span class="op" id="6455528">[</span><span class="op" id="6455529">]</span><span class="op" id="6455530">*</span><span class="ident" id="6455531">SegmentHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6455546">sections</span>&nbsp;<span class="op" id="6455555">[</span><span class="op" id="6455556">]</span><span class="op" id="6455557">*</span><span class="ident" id="6455558">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="6455572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6455575">var</span>&nbsp;<span class="ident" id="6455579">fileTests</span>&nbsp;<span class="op" id="6455589">=</span>&nbsp;<span class="op" id="6455591">[</span><span class="op" id="6455592">]</span><span class="ident" id="6455593">fileTest</span><span class="op" id="6455601">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6455604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6455608">&#34;testdata/gcc-386-darwin-exec&#34;</span><span class="op" id="6455638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6455642">FileHeader</span><span class="op" id="6455652">{</span><span class="num" id="6455653">0xfeedface</span><span class="op" id="6455663">,</span>&nbsp;<span class="ident" id="6455665">Cpu386</span><span class="op" id="6455671">,</span>&nbsp;<span class="num" id="6455673">0x3</span><span class="op" id="6455676">,</span>&nbsp;<span class="num" id="6455678">0x2</span><span class="op" id="6455681">,</span>&nbsp;<span class="num" id="6455683">0xc</span><span class="op" id="6455686">,</span>&nbsp;<span class="num" id="6455688">0x3c0</span><span class="op" id="6455693">,</span>&nbsp;<span class="num" id="6455695">0x85</span><span class="op" id="6455699">}</span><span class="op" id="6455700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6455704">[</span><span class="op" id="6455705">]</span><span class="op" id="6455706">*</span><span class="ident" id="6455707">SegmentHeader</span><span class="op" id="6455720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6455725">{</span><span class="ident" id="6455726">LoadCmdSegment</span><span class="op" id="6455740">,</span>&nbsp;<span class="num" id="6455742">0x38</span><span class="op" id="6455746">,</span>&nbsp;<span class="string" id="6455748">&#34;__PAGEZERO&#34;</span><span class="op" id="6455760">,</span>&nbsp;<span class="num" id="6455762">0x0</span><span class="op" id="6455765">,</span>&nbsp;<span class="num" id="6455767">0x1000</span><span class="op" id="6455773">,</span>&nbsp;<span class="num" id="6455775">0x0</span><span class="op" id="6455778">,</span>&nbsp;<span class="num" id="6455780">0x0</span><span class="op" id="6455783">,</span>&nbsp;<span class="num" id="6455785">0x0</span><span class="op" id="6455788">,</span>&nbsp;<span class="num" id="6455790">0x0</span><span class="op" id="6455793">,</span>&nbsp;<span class="num" id="6455795">0x0</span><span class="op" id="6455798">,</span>&nbsp;<span class="num" id="6455800">0x0</span><span class="op" id="6455803">}</span><span class="op" id="6455804">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6455809">{</span><span class="ident" id="6455810">LoadCmdSegment</span><span class="op" id="6455824">,</span>&nbsp;<span class="num" id="6455826">0xc0</span><span class="op" id="6455830">,</span>&nbsp;<span class="string" id="6455832">&#34;__TEXT&#34;</span><span class="op" id="6455840">,</span>&nbsp;<span class="num" id="6455842">0x1000</span><span class="op" id="6455848">,</span>&nbsp;<span class="num" id="6455850">0x1000</span><span class="op" id="6455856">,</span>&nbsp;<span class="num" id="6455858">0x0</span><span class="op" id="6455861">,</span>&nbsp;<span class="num" id="6455863">0x1000</span><span class="op" id="6455869">,</span>&nbsp;<span class="num" id="6455871">0x7</span><span class="op" id="6455874">,</span>&nbsp;<span class="num" id="6455876">0x5</span><span class="op" id="6455879">,</span>&nbsp;<span class="num" id="6455881">0x2</span><span class="op" id="6455884">,</span>&nbsp;<span class="num" id="6455886">0x0</span><span class="op" id="6455889">}</span><span class="op" id="6455890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6455895">{</span><span class="ident" id="6455896">LoadCmdSegment</span><span class="op" id="6455910">,</span>&nbsp;<span class="num" id="6455912">0xc0</span><span class="op" id="6455916">,</span>&nbsp;<span class="string" id="6455918">&#34;__DATA&#34;</span><span class="op" id="6455926">,</span>&nbsp;<span class="num" id="6455928">0x2000</span><span class="op" id="6455934">,</span>&nbsp;<span class="num" id="6455936">0x1000</span><span class="op" id="6455942">,</span>&nbsp;<span class="num" id="6455944">0x1000</span><span class="op" id="6455950">,</span>&nbsp;<span class="num" id="6455952">0x1000</span><span class="op" id="6455958">,</span>&nbsp;<span class="num" id="6455960">0x7</span><span class="op" id="6455963">,</span>&nbsp;<span class="num" id="6455965">0x3</span><span class="op" id="6455968">,</span>&nbsp;<span class="num" id="6455970">0x2</span><span class="op" id="6455973">,</span>&nbsp;<span class="num" id="6455975">0x0</span><span class="op" id="6455978">}</span><span class="op" id="6455979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6455984">{</span><span class="ident" id="6455985">LoadCmdSegment</span><span class="op" id="6455999">,</span>&nbsp;<span class="num" id="6456001">0x7c</span><span class="op" id="6456005">,</span>&nbsp;<span class="string" id="6456007">&#34;__IMPORT&#34;</span><span class="op" id="6456017">,</span>&nbsp;<span class="num" id="6456019">0x3000</span><span class="op" id="6456025">,</span>&nbsp;<span class="num" id="6456027">0x1000</span><span class="op" id="6456033">,</span>&nbsp;<span class="num" id="6456035">0x2000</span><span class="op" id="6456041">,</span>&nbsp;<span class="num" id="6456043">0x1000</span><span class="op" id="6456049">,</span>&nbsp;<span class="num" id="6456051">0x7</span><span class="op" id="6456054">,</span>&nbsp;<span class="num" id="6456056">0x7</span><span class="op" id="6456059">,</span>&nbsp;<span class="num" id="6456061">0x1</span><span class="op" id="6456064">,</span>&nbsp;<span class="num" id="6456066">0x0</span><span class="op" id="6456069">}</span><span class="op" id="6456070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456075">{</span><span class="ident" id="6456076">LoadCmdSegment</span><span class="op" id="6456090">,</span>&nbsp;<span class="num" id="6456092">0x38</span><span class="op" id="6456096">,</span>&nbsp;<span class="string" id="6456098">&#34;__LINKEDIT&#34;</span><span class="op" id="6456110">,</span>&nbsp;<span class="num" id="6456112">0x4000</span><span class="op" id="6456118">,</span>&nbsp;<span class="num" id="6456120">0x1000</span><span class="op" id="6456126">,</span>&nbsp;<span class="num" id="6456128">0x3000</span><span class="op" id="6456134">,</span>&nbsp;<span class="num" id="6456136">0x12c</span><span class="op" id="6456141">,</span>&nbsp;<span class="num" id="6456143">0x7</span><span class="op" id="6456146">,</span>&nbsp;<span class="num" id="6456148">0x1</span><span class="op" id="6456151">,</span>&nbsp;<span class="num" id="6456153">0x0</span><span class="op" id="6456156">,</span>&nbsp;<span class="num" id="6456158">0x0</span><span class="op" id="6456161">}</span><span class="op" id="6456162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6456167">nil</span><span class="op" id="6456170">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6456175">nil</span><span class="op" id="6456178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6456183">nil</span><span class="op" id="6456186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6456191">nil</span><span class="op" id="6456194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6456199">nil</span><span class="op" id="6456202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6456207">nil</span><span class="op" id="6456210">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6456215">nil</span><span class="op" id="6456218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456222">}</span><span class="op" id="6456223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456227">[</span><span class="op" id="6456228">]</span><span class="op" id="6456229">*</span><span class="ident" id="6456230">SectionHeader</span><span class="op" id="6456243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456248">{</span><span class="string" id="6456249">&#34;__text&#34;</span><span class="op" id="6456257">,</span>&nbsp;<span class="string" id="6456259">&#34;__TEXT&#34;</span><span class="op" id="6456267">,</span>&nbsp;<span class="num" id="6456269">0x1f68</span><span class="op" id="6456275">,</span>&nbsp;<span class="num" id="6456277">0x88</span><span class="op" id="6456281">,</span>&nbsp;<span class="num" id="6456283">0xf68</span><span class="op" id="6456288">,</span>&nbsp;<span class="num" id="6456290">0x2</span><span class="op" id="6456293">,</span>&nbsp;<span class="num" id="6456295">0x0</span><span class="op" id="6456298">,</span>&nbsp;<span class="num" id="6456300">0x0</span><span class="op" id="6456303">,</span>&nbsp;<span class="num" id="6456305">0x80000400</span><span class="op" id="6456315">}</span><span class="op" id="6456316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456321">{</span><span class="string" id="6456322">&#34;__cstring&#34;</span><span class="op" id="6456333">,</span>&nbsp;<span class="string" id="6456335">&#34;__TEXT&#34;</span><span class="op" id="6456343">,</span>&nbsp;<span class="num" id="6456345">0x1ff0</span><span class="op" id="6456351">,</span>&nbsp;<span class="num" id="6456353">0xd</span><span class="op" id="6456356">,</span>&nbsp;<span class="num" id="6456358">0xff0</span><span class="op" id="6456363">,</span>&nbsp;<span class="num" id="6456365">0x0</span><span class="op" id="6456368">,</span>&nbsp;<span class="num" id="6456370">0x0</span><span class="op" id="6456373">,</span>&nbsp;<span class="num" id="6456375">0x0</span><span class="op" id="6456378">,</span>&nbsp;<span class="num" id="6456380">0x2</span><span class="op" id="6456383">}</span><span class="op" id="6456384">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456389">{</span><span class="string" id="6456390">&#34;__data&#34;</span><span class="op" id="6456398">,</span>&nbsp;<span class="string" id="6456400">&#34;__DATA&#34;</span><span class="op" id="6456408">,</span>&nbsp;<span class="num" id="6456410">0x2000</span><span class="op" id="6456416">,</span>&nbsp;<span class="num" id="6456418">0x14</span><span class="op" id="6456422">,</span>&nbsp;<span class="num" id="6456424">0x1000</span><span class="op" id="6456430">,</span>&nbsp;<span class="num" id="6456432">0x2</span><span class="op" id="6456435">,</span>&nbsp;<span class="num" id="6456437">0x0</span><span class="op" id="6456440">,</span>&nbsp;<span class="num" id="6456442">0x0</span><span class="op" id="6456445">,</span>&nbsp;<span class="num" id="6456447">0x0</span><span class="op" id="6456450">}</span><span class="op" id="6456451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456456">{</span><span class="string" id="6456457">&#34;__dyld&#34;</span><span class="op" id="6456465">,</span>&nbsp;<span class="string" id="6456467">&#34;__DATA&#34;</span><span class="op" id="6456475">,</span>&nbsp;<span class="num" id="6456477">0x2014</span><span class="op" id="6456483">,</span>&nbsp;<span class="num" id="6456485">0x1c</span><span class="op" id="6456489">,</span>&nbsp;<span class="num" id="6456491">0x1014</span><span class="op" id="6456497">,</span>&nbsp;<span class="num" id="6456499">0x2</span><span class="op" id="6456502">,</span>&nbsp;<span class="num" id="6456504">0x0</span><span class="op" id="6456507">,</span>&nbsp;<span class="num" id="6456509">0x0</span><span class="op" id="6456512">,</span>&nbsp;<span class="num" id="6456514">0x0</span><span class="op" id="6456517">}</span><span class="op" id="6456518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456523">{</span><span class="string" id="6456524">&#34;__jump_table&#34;</span><span class="op" id="6456538">,</span>&nbsp;<span class="string" id="6456540">&#34;__IMPORT&#34;</span><span class="op" id="6456550">,</span>&nbsp;<span class="num" id="6456552">0x3000</span><span class="op" id="6456558">,</span>&nbsp;<span class="num" id="6456560">0xa</span><span class="op" id="6456563">,</span>&nbsp;<span class="num" id="6456565">0x2000</span><span class="op" id="6456571">,</span>&nbsp;<span class="num" id="6456573">0x6</span><span class="op" id="6456576">,</span>&nbsp;<span class="num" id="6456578">0x0</span><span class="op" id="6456581">,</span>&nbsp;<span class="num" id="6456583">0x0</span><span class="op" id="6456586">,</span>&nbsp;<span class="num" id="6456588">0x4000008</span><span class="op" id="6456597">}</span><span class="op" id="6456598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456602">}</span><span class="op" id="6456603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456606">}</span><span class="op" id="6456607">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6456614">&#34;testdata/gcc-amd64-darwin-exec&#34;</span><span class="op" id="6456646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6456650">FileHeader</span><span class="op" id="6456660">{</span><span class="num" id="6456661">0xfeedfacf</span><span class="op" id="6456671">,</span>&nbsp;<span class="ident" id="6456673">CpuAmd64</span><span class="op" id="6456681">,</span>&nbsp;<span class="num" id="6456683">0x80000003</span><span class="op" id="6456693">,</span>&nbsp;<span class="num" id="6456695">0x2</span><span class="op" id="6456698">,</span>&nbsp;<span class="num" id="6456700">0xb</span><span class="op" id="6456703">,</span>&nbsp;<span class="num" id="6456705">0x568</span><span class="op" id="6456710">,</span>&nbsp;<span class="num" id="6456712">0x85</span><span class="op" id="6456716">}</span><span class="op" id="6456717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456721">[</span><span class="op" id="6456722">]</span><span class="op" id="6456723">*</span><span class="ident" id="6456724">SegmentHeader</span><span class="op" id="6456737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456742">{</span><span class="ident" id="6456743">LoadCmdSegment64</span><span class="op" id="6456759">,</span>&nbsp;<span class="num" id="6456761">0x48</span><span class="op" id="6456765">,</span>&nbsp;<span class="string" id="6456767">&#34;__PAGEZERO&#34;</span><span class="op" id="6456779">,</span>&nbsp;<span class="num" id="6456781">0x0</span><span class="op" id="6456784">,</span>&nbsp;<span class="num" id="6456786">0x100000000</span><span class="op" id="6456797">,</span>&nbsp;<span class="num" id="6456799">0x0</span><span class="op" id="6456802">,</span>&nbsp;<span class="num" id="6456804">0x0</span><span class="op" id="6456807">,</span>&nbsp;<span class="num" id="6456809">0x0</span><span class="op" id="6456812">,</span>&nbsp;<span class="num" id="6456814">0x0</span><span class="op" id="6456817">,</span>&nbsp;<span class="num" id="6456819">0x0</span><span class="op" id="6456822">,</span>&nbsp;<span class="num" id="6456824">0x0</span><span class="op" id="6456827">}</span><span class="op" id="6456828">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456833">{</span><span class="ident" id="6456834">LoadCmdSegment64</span><span class="op" id="6456850">,</span>&nbsp;<span class="num" id="6456852">0x1d8</span><span class="op" id="6456857">,</span>&nbsp;<span class="string" id="6456859">&#34;__TEXT&#34;</span><span class="op" id="6456867">,</span>&nbsp;<span class="num" id="6456869">0x100000000</span><span class="op" id="6456880">,</span>&nbsp;<span class="num" id="6456882">0x1000</span><span class="op" id="6456888">,</span>&nbsp;<span class="num" id="6456890">0x0</span><span class="op" id="6456893">,</span>&nbsp;<span class="num" id="6456895">0x1000</span><span class="op" id="6456901">,</span>&nbsp;<span class="num" id="6456903">0x7</span><span class="op" id="6456906">,</span>&nbsp;<span class="num" id="6456908">0x5</span><span class="op" id="6456911">,</span>&nbsp;<span class="num" id="6456913">0x5</span><span class="op" id="6456916">,</span>&nbsp;<span class="num" id="6456918">0x0</span><span class="op" id="6456921">}</span><span class="op" id="6456922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6456927">{</span><span class="ident" id="6456928">LoadCmdSegment64</span><span class="op" id="6456944">,</span>&nbsp;<span class="num" id="6456946">0x138</span><span class="op" id="6456951">,</span>&nbsp;<span class="string" id="6456953">&#34;__DATA&#34;</span><span class="op" id="6456961">,</span>&nbsp;<span class="num" id="6456963">0x100001000</span><span class="op" id="6456974">,</span>&nbsp;<span class="num" id="6456976">0x1000</span><span class="op" id="6456982">,</span>&nbsp;<span class="num" id="6456984">0x1000</span><span class="op" id="6456990">,</span>&nbsp;<span class="num" id="6456992">0x1000</span><span class="op" id="6456998">,</span>&nbsp;<span class="num" id="6457000">0x7</span><span class="op" id="6457003">,</span>&nbsp;<span class="num" id="6457005">0x3</span><span class="op" id="6457008">,</span>&nbsp;<span class="num" id="6457010">0x3</span><span class="op" id="6457013">,</span>&nbsp;<span class="num" id="6457015">0x0</span><span class="op" id="6457018">}</span><span class="op" id="6457019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457024">{</span><span class="ident" id="6457025">LoadCmdSegment64</span><span class="op" id="6457041">,</span>&nbsp;<span class="num" id="6457043">0x48</span><span class="op" id="6457047">,</span>&nbsp;<span class="string" id="6457049">&#34;__LINKEDIT&#34;</span><span class="op" id="6457061">,</span>&nbsp;<span class="num" id="6457063">0x100002000</span><span class="op" id="6457074">,</span>&nbsp;<span class="num" id="6457076">0x1000</span><span class="op" id="6457082">,</span>&nbsp;<span class="num" id="6457084">0x2000</span><span class="op" id="6457090">,</span>&nbsp;<span class="num" id="6457092">0x140</span><span class="op" id="6457097">,</span>&nbsp;<span class="num" id="6457099">0x7</span><span class="op" id="6457102">,</span>&nbsp;<span class="num" id="6457104">0x1</span><span class="op" id="6457107">,</span>&nbsp;<span class="num" id="6457109">0x0</span><span class="op" id="6457112">,</span>&nbsp;<span class="num" id="6457114">0x0</span><span class="op" id="6457117">}</span><span class="op" id="6457118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6457123">nil</span><span class="op" id="6457126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6457131">nil</span><span class="op" id="6457134">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6457139">nil</span><span class="op" id="6457142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6457147">nil</span><span class="op" id="6457150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6457155">nil</span><span class="op" id="6457158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6457163">nil</span><span class="op" id="6457166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6457171">nil</span><span class="op" id="6457174">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457178">}</span><span class="op" id="6457179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457183">[</span><span class="op" id="6457184">]</span><span class="op" id="6457185">*</span><span class="ident" id="6457186">SectionHeader</span><span class="op" id="6457199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457204">{</span><span class="string" id="6457205">&#34;__text&#34;</span><span class="op" id="6457213">,</span>&nbsp;<span class="string" id="6457215">&#34;__TEXT&#34;</span><span class="op" id="6457223">,</span>&nbsp;<span class="num" id="6457225">0x100000f14</span><span class="op" id="6457236">,</span>&nbsp;<span class="num" id="6457238">0x6d</span><span class="op" id="6457242">,</span>&nbsp;<span class="num" id="6457244">0xf14</span><span class="op" id="6457249">,</span>&nbsp;<span class="num" id="6457251">0x2</span><span class="op" id="6457254">,</span>&nbsp;<span class="num" id="6457256">0x0</span><span class="op" id="6457259">,</span>&nbsp;<span class="num" id="6457261">0x0</span><span class="op" id="6457264">,</span>&nbsp;<span class="num" id="6457266">0x80000400</span><span class="op" id="6457276">}</span><span class="op" id="6457277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457282">{</span><span class="string" id="6457283">&#34;__symbol_stub1&#34;</span><span class="op" id="6457299">,</span>&nbsp;<span class="string" id="6457301">&#34;__TEXT&#34;</span><span class="op" id="6457309">,</span>&nbsp;<span class="num" id="6457311">0x100000f81</span><span class="op" id="6457322">,</span>&nbsp;<span class="num" id="6457324">0xc</span><span class="op" id="6457327">,</span>&nbsp;<span class="num" id="6457329">0xf81</span><span class="op" id="6457334">,</span>&nbsp;<span class="num" id="6457336">0x0</span><span class="op" id="6457339">,</span>&nbsp;<span class="num" id="6457341">0x0</span><span class="op" id="6457344">,</span>&nbsp;<span class="num" id="6457346">0x0</span><span class="op" id="6457349">,</span>&nbsp;<span class="num" id="6457351">0x80000408</span><span class="op" id="6457361">}</span><span class="op" id="6457362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457367">{</span><span class="string" id="6457368">&#34;__stub_helper&#34;</span><span class="op" id="6457383">,</span>&nbsp;<span class="string" id="6457385">&#34;__TEXT&#34;</span><span class="op" id="6457393">,</span>&nbsp;<span class="num" id="6457395">0x100000f90</span><span class="op" id="6457406">,</span>&nbsp;<span class="num" id="6457408">0x18</span><span class="op" id="6457412">,</span>&nbsp;<span class="num" id="6457414">0xf90</span><span class="op" id="6457419">,</span>&nbsp;<span class="num" id="6457421">0x2</span><span class="op" id="6457424">,</span>&nbsp;<span class="num" id="6457426">0x0</span><span class="op" id="6457429">,</span>&nbsp;<span class="num" id="6457431">0x0</span><span class="op" id="6457434">,</span>&nbsp;<span class="num" id="6457436">0x0</span><span class="op" id="6457439">}</span><span class="op" id="6457440">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457445">{</span><span class="string" id="6457446">&#34;__cstring&#34;</span><span class="op" id="6457457">,</span>&nbsp;<span class="string" id="6457459">&#34;__TEXT&#34;</span><span class="op" id="6457467">,</span>&nbsp;<span class="num" id="6457469">0x100000fa8</span><span class="op" id="6457480">,</span>&nbsp;<span class="num" id="6457482">0xd</span><span class="op" id="6457485">,</span>&nbsp;<span class="num" id="6457487">0xfa8</span><span class="op" id="6457492">,</span>&nbsp;<span class="num" id="6457494">0x0</span><span class="op" id="6457497">,</span>&nbsp;<span class="num" id="6457499">0x0</span><span class="op" id="6457502">,</span>&nbsp;<span class="num" id="6457504">0x0</span><span class="op" id="6457507">,</span>&nbsp;<span class="num" id="6457509">0x2</span><span class="op" id="6457512">}</span><span class="op" id="6457513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457518">{</span><span class="string" id="6457519">&#34;__eh_frame&#34;</span><span class="op" id="6457531">,</span>&nbsp;<span class="string" id="6457533">&#34;__TEXT&#34;</span><span class="op" id="6457541">,</span>&nbsp;<span class="num" id="6457543">0x100000fb8</span><span class="op" id="6457554">,</span>&nbsp;<span class="num" id="6457556">0x48</span><span class="op" id="6457560">,</span>&nbsp;<span class="num" id="6457562">0xfb8</span><span class="op" id="6457567">,</span>&nbsp;<span class="num" id="6457569">0x3</span><span class="op" id="6457572">,</span>&nbsp;<span class="num" id="6457574">0x0</span><span class="op" id="6457577">,</span>&nbsp;<span class="num" id="6457579">0x0</span><span class="op" id="6457582">,</span>&nbsp;<span class="num" id="6457584">0x6000000b</span><span class="op" id="6457594">}</span><span class="op" id="6457595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457600">{</span><span class="string" id="6457601">&#34;__data&#34;</span><span class="op" id="6457609">,</span>&nbsp;<span class="string" id="6457611">&#34;__DATA&#34;</span><span class="op" id="6457619">,</span>&nbsp;<span class="num" id="6457621">0x100001000</span><span class="op" id="6457632">,</span>&nbsp;<span class="num" id="6457634">0x1c</span><span class="op" id="6457638">,</span>&nbsp;<span class="num" id="6457640">0x1000</span><span class="op" id="6457646">,</span>&nbsp;<span class="num" id="6457648">0x3</span><span class="op" id="6457651">,</span>&nbsp;<span class="num" id="6457653">0x0</span><span class="op" id="6457656">,</span>&nbsp;<span class="num" id="6457658">0x0</span><span class="op" id="6457661">,</span>&nbsp;<span class="num" id="6457663">0x0</span><span class="op" id="6457666">}</span><span class="op" id="6457667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457672">{</span><span class="string" id="6457673">&#34;__dyld&#34;</span><span class="op" id="6457681">,</span>&nbsp;<span class="string" id="6457683">&#34;__DATA&#34;</span><span class="op" id="6457691">,</span>&nbsp;<span class="num" id="6457693">0x100001020</span><span class="op" id="6457704">,</span>&nbsp;<span class="num" id="6457706">0x38</span><span class="op" id="6457710">,</span>&nbsp;<span class="num" id="6457712">0x1020</span><span class="op" id="6457718">,</span>&nbsp;<span class="num" id="6457720">0x3</span><span class="op" id="6457723">,</span>&nbsp;<span class="num" id="6457725">0x0</span><span class="op" id="6457728">,</span>&nbsp;<span class="num" id="6457730">0x0</span><span class="op" id="6457733">,</span>&nbsp;<span class="num" id="6457735">0x0</span><span class="op" id="6457738">}</span><span class="op" id="6457739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457744">{</span><span class="string" id="6457745">&#34;__la_symbol_ptr&#34;</span><span class="op" id="6457762">,</span>&nbsp;<span class="string" id="6457764">&#34;__DATA&#34;</span><span class="op" id="6457772">,</span>&nbsp;<span class="num" id="6457774">0x100001058</span><span class="op" id="6457785">,</span>&nbsp;<span class="num" id="6457787">0x10</span><span class="op" id="6457791">,</span>&nbsp;<span class="num" id="6457793">0x1058</span><span class="op" id="6457799">,</span>&nbsp;<span class="num" id="6457801">0x2</span><span class="op" id="6457804">,</span>&nbsp;<span class="num" id="6457806">0x0</span><span class="op" id="6457809">,</span>&nbsp;<span class="num" id="6457811">0x0</span><span class="op" id="6457814">,</span>&nbsp;<span class="num" id="6457816">0x7</span><span class="op" id="6457819">}</span><span class="op" id="6457820">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457824">}</span><span class="op" id="6457825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457828">}</span><span class="op" id="6457829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6457836">&#34;testdata/gcc-amd64-darwin-exec-debug&#34;</span><span class="op" id="6457874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6457878">FileHeader</span><span class="op" id="6457888">{</span><span class="num" id="6457889">0xfeedfacf</span><span class="op" id="6457899">,</span>&nbsp;<span class="ident" id="6457901">CpuAmd64</span><span class="op" id="6457909">,</span>&nbsp;<span class="num" id="6457911">0x80000003</span><span class="op" id="6457921">,</span>&nbsp;<span class="num" id="6457923">0xa</span><span class="op" id="6457926">,</span>&nbsp;<span class="num" id="6457928">0x4</span><span class="op" id="6457931">,</span>&nbsp;<span class="num" id="6457933">0x5a0</span><span class="op" id="6457938">,</span>&nbsp;<span class="num" id="6457940">0</span><span class="op" id="6457941">}</span><span class="op" id="6457942">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457946">[</span><span class="op" id="6457947">]</span><span class="op" id="6457948">*</span><span class="ident" id="6457949">SegmentHeader</span><span class="op" id="6457962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6457967">nil</span><span class="op" id="6457970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6457975">{</span><span class="ident" id="6457976">LoadCmdSegment64</span><span class="op" id="6457992">,</span>&nbsp;<span class="num" id="6457994">0x1d8</span><span class="op" id="6457999">,</span>&nbsp;<span class="string" id="6458001">&#34;__TEXT&#34;</span><span class="op" id="6458009">,</span>&nbsp;<span class="num" id="6458011">0x100000000</span><span class="op" id="6458022">,</span>&nbsp;<span class="num" id="6458024">0x1000</span><span class="op" id="6458030">,</span>&nbsp;<span class="num" id="6458032">0x0</span><span class="op" id="6458035">,</span>&nbsp;<span class="num" id="6458037">0x0</span><span class="op" id="6458040">,</span>&nbsp;<span class="num" id="6458042">0x7</span><span class="op" id="6458045">,</span>&nbsp;<span class="num" id="6458047">0x5</span><span class="op" id="6458050">,</span>&nbsp;<span class="num" id="6458052">0x5</span><span class="op" id="6458055">,</span>&nbsp;<span class="num" id="6458057">0x0</span><span class="op" id="6458060">}</span><span class="op" id="6458061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458066">{</span><span class="ident" id="6458067">LoadCmdSegment64</span><span class="op" id="6458083">,</span>&nbsp;<span class="num" id="6458085">0x138</span><span class="op" id="6458090">,</span>&nbsp;<span class="string" id="6458092">&#34;__DATA&#34;</span><span class="op" id="6458100">,</span>&nbsp;<span class="num" id="6458102">0x100001000</span><span class="op" id="6458113">,</span>&nbsp;<span class="num" id="6458115">0x1000</span><span class="op" id="6458121">,</span>&nbsp;<span class="num" id="6458123">0x0</span><span class="op" id="6458126">,</span>&nbsp;<span class="num" id="6458128">0x0</span><span class="op" id="6458131">,</span>&nbsp;<span class="num" id="6458133">0x7</span><span class="op" id="6458136">,</span>&nbsp;<span class="num" id="6458138">0x3</span><span class="op" id="6458141">,</span>&nbsp;<span class="num" id="6458143">0x3</span><span class="op" id="6458146">,</span>&nbsp;<span class="num" id="6458148">0x0</span><span class="op" id="6458151">}</span><span class="op" id="6458152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458157">{</span><span class="ident" id="6458158">LoadCmdSegment64</span><span class="op" id="6458174">,</span>&nbsp;<span class="num" id="6458176">0x278</span><span class="op" id="6458181">,</span>&nbsp;<span class="string" id="6458183">&#34;__DWARF&#34;</span><span class="op" id="6458192">,</span>&nbsp;<span class="num" id="6458194">0x100002000</span><span class="op" id="6458205">,</span>&nbsp;<span class="num" id="6458207">0x1000</span><span class="op" id="6458213">,</span>&nbsp;<span class="num" id="6458215">0x1000</span><span class="op" id="6458221">,</span>&nbsp;<span class="num" id="6458223">0x1bc</span><span class="op" id="6458228">,</span>&nbsp;<span class="num" id="6458230">0x7</span><span class="op" id="6458233">,</span>&nbsp;<span class="num" id="6458235">0x3</span><span class="op" id="6458238">,</span>&nbsp;<span class="num" id="6458240">0x7</span><span class="op" id="6458243">,</span>&nbsp;<span class="num" id="6458245">0x0</span><span class="op" id="6458248">}</span><span class="op" id="6458249">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458253">}</span><span class="op" id="6458254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458258">[</span><span class="op" id="6458259">]</span><span class="op" id="6458260">*</span><span class="ident" id="6458261">SectionHeader</span><span class="op" id="6458274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458279">{</span><span class="string" id="6458280">&#34;__text&#34;</span><span class="op" id="6458288">,</span>&nbsp;<span class="string" id="6458290">&#34;__TEXT&#34;</span><span class="op" id="6458298">,</span>&nbsp;<span class="num" id="6458300">0x100000f14</span><span class="op" id="6458311">,</span>&nbsp;<span class="num" id="6458313">0x0</span><span class="op" id="6458316">,</span>&nbsp;<span class="num" id="6458318">0x0</span><span class="op" id="6458321">,</span>&nbsp;<span class="num" id="6458323">0x2</span><span class="op" id="6458326">,</span>&nbsp;<span class="num" id="6458328">0x0</span><span class="op" id="6458331">,</span>&nbsp;<span class="num" id="6458333">0x0</span><span class="op" id="6458336">,</span>&nbsp;<span class="num" id="6458338">0x80000400</span><span class="op" id="6458348">}</span><span class="op" id="6458349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458354">{</span><span class="string" id="6458355">&#34;__symbol_stub1&#34;</span><span class="op" id="6458371">,</span>&nbsp;<span class="string" id="6458373">&#34;__TEXT&#34;</span><span class="op" id="6458381">,</span>&nbsp;<span class="num" id="6458383">0x100000f81</span><span class="op" id="6458394">,</span>&nbsp;<span class="num" id="6458396">0x0</span><span class="op" id="6458399">,</span>&nbsp;<span class="num" id="6458401">0x0</span><span class="op" id="6458404">,</span>&nbsp;<span class="num" id="6458406">0x0</span><span class="op" id="6458409">,</span>&nbsp;<span class="num" id="6458411">0x0</span><span class="op" id="6458414">,</span>&nbsp;<span class="num" id="6458416">0x0</span><span class="op" id="6458419">,</span>&nbsp;<span class="num" id="6458421">0x80000408</span><span class="op" id="6458431">}</span><span class="op" id="6458432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458437">{</span><span class="string" id="6458438">&#34;__stub_helper&#34;</span><span class="op" id="6458453">,</span>&nbsp;<span class="string" id="6458455">&#34;__TEXT&#34;</span><span class="op" id="6458463">,</span>&nbsp;<span class="num" id="6458465">0x100000f90</span><span class="op" id="6458476">,</span>&nbsp;<span class="num" id="6458478">0x0</span><span class="op" id="6458481">,</span>&nbsp;<span class="num" id="6458483">0x0</span><span class="op" id="6458486">,</span>&nbsp;<span class="num" id="6458488">0x2</span><span class="op" id="6458491">,</span>&nbsp;<span class="num" id="6458493">0x0</span><span class="op" id="6458496">,</span>&nbsp;<span class="num" id="6458498">0x0</span><span class="op" id="6458501">,</span>&nbsp;<span class="num" id="6458503">0x0</span><span class="op" id="6458506">}</span><span class="op" id="6458507">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458512">{</span><span class="string" id="6458513">&#34;__cstring&#34;</span><span class="op" id="6458524">,</span>&nbsp;<span class="string" id="6458526">&#34;__TEXT&#34;</span><span class="op" id="6458534">,</span>&nbsp;<span class="num" id="6458536">0x100000fa8</span><span class="op" id="6458547">,</span>&nbsp;<span class="num" id="6458549">0x0</span><span class="op" id="6458552">,</span>&nbsp;<span class="num" id="6458554">0x0</span><span class="op" id="6458557">,</span>&nbsp;<span class="num" id="6458559">0x0</span><span class="op" id="6458562">,</span>&nbsp;<span class="num" id="6458564">0x0</span><span class="op" id="6458567">,</span>&nbsp;<span class="num" id="6458569">0x0</span><span class="op" id="6458572">,</span>&nbsp;<span class="num" id="6458574">0x2</span><span class="op" id="6458577">}</span><span class="op" id="6458578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458583">{</span><span class="string" id="6458584">&#34;__eh_frame&#34;</span><span class="op" id="6458596">,</span>&nbsp;<span class="string" id="6458598">&#34;__TEXT&#34;</span><span class="op" id="6458606">,</span>&nbsp;<span class="num" id="6458608">0x100000fb8</span><span class="op" id="6458619">,</span>&nbsp;<span class="num" id="6458621">0x0</span><span class="op" id="6458624">,</span>&nbsp;<span class="num" id="6458626">0x0</span><span class="op" id="6458629">,</span>&nbsp;<span class="num" id="6458631">0x3</span><span class="op" id="6458634">,</span>&nbsp;<span class="num" id="6458636">0x0</span><span class="op" id="6458639">,</span>&nbsp;<span class="num" id="6458641">0x0</span><span class="op" id="6458644">,</span>&nbsp;<span class="num" id="6458646">0x6000000b</span><span class="op" id="6458656">}</span><span class="op" id="6458657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458662">{</span><span class="string" id="6458663">&#34;__data&#34;</span><span class="op" id="6458671">,</span>&nbsp;<span class="string" id="6458673">&#34;__DATA&#34;</span><span class="op" id="6458681">,</span>&nbsp;<span class="num" id="6458683">0x100001000</span><span class="op" id="6458694">,</span>&nbsp;<span class="num" id="6458696">0x0</span><span class="op" id="6458699">,</span>&nbsp;<span class="num" id="6458701">0x0</span><span class="op" id="6458704">,</span>&nbsp;<span class="num" id="6458706">0x3</span><span class="op" id="6458709">,</span>&nbsp;<span class="num" id="6458711">0x0</span><span class="op" id="6458714">,</span>&nbsp;<span class="num" id="6458716">0x0</span><span class="op" id="6458719">,</span>&nbsp;<span class="num" id="6458721">0x0</span><span class="op" id="6458724">}</span><span class="op" id="6458725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458730">{</span><span class="string" id="6458731">&#34;__dyld&#34;</span><span class="op" id="6458739">,</span>&nbsp;<span class="string" id="6458741">&#34;__DATA&#34;</span><span class="op" id="6458749">,</span>&nbsp;<span class="num" id="6458751">0x100001020</span><span class="op" id="6458762">,</span>&nbsp;<span class="num" id="6458764">0x0</span><span class="op" id="6458767">,</span>&nbsp;<span class="num" id="6458769">0x0</span><span class="op" id="6458772">,</span>&nbsp;<span class="num" id="6458774">0x3</span><span class="op" id="6458777">,</span>&nbsp;<span class="num" id="6458779">0x0</span><span class="op" id="6458782">,</span>&nbsp;<span class="num" id="6458784">0x0</span><span class="op" id="6458787">,</span>&nbsp;<span class="num" id="6458789">0x0</span><span class="op" id="6458792">}</span><span class="op" id="6458793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458798">{</span><span class="string" id="6458799">&#34;__la_symbol_ptr&#34;</span><span class="op" id="6458816">,</span>&nbsp;<span class="string" id="6458818">&#34;__DATA&#34;</span><span class="op" id="6458826">,</span>&nbsp;<span class="num" id="6458828">0x100001058</span><span class="op" id="6458839">,</span>&nbsp;<span class="num" id="6458841">0x0</span><span class="op" id="6458844">,</span>&nbsp;<span class="num" id="6458846">0x0</span><span class="op" id="6458849">,</span>&nbsp;<span class="num" id="6458851">0x2</span><span class="op" id="6458854">,</span>&nbsp;<span class="num" id="6458856">0x0</span><span class="op" id="6458859">,</span>&nbsp;<span class="num" id="6458861">0x0</span><span class="op" id="6458864">,</span>&nbsp;<span class="num" id="6458866">0x7</span><span class="op" id="6458869">}</span><span class="op" id="6458870">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458875">{</span><span class="string" id="6458876">&#34;__debug_abbrev&#34;</span><span class="op" id="6458892">,</span>&nbsp;<span class="string" id="6458894">&#34;__DWARF&#34;</span><span class="op" id="6458903">,</span>&nbsp;<span class="num" id="6458905">0x100002000</span><span class="op" id="6458916">,</span>&nbsp;<span class="num" id="6458918">0x36</span><span class="op" id="6458922">,</span>&nbsp;<span class="num" id="6458924">0x1000</span><span class="op" id="6458930">,</span>&nbsp;<span class="num" id="6458932">0x0</span><span class="op" id="6458935">,</span>&nbsp;<span class="num" id="6458937">0x0</span><span class="op" id="6458940">,</span>&nbsp;<span class="num" id="6458942">0x0</span><span class="op" id="6458945">,</span>&nbsp;<span class="num" id="6458947">0x0</span><span class="op" id="6458950">}</span><span class="op" id="6458951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6458956">{</span><span class="string" id="6458957">&#34;__debug_aranges&#34;</span><span class="op" id="6458974">,</span>&nbsp;<span class="string" id="6458976">&#34;__DWARF&#34;</span><span class="op" id="6458985">,</span>&nbsp;<span class="num" id="6458987">0x100002036</span><span class="op" id="6458998">,</span>&nbsp;<span class="num" id="6459000">0x30</span><span class="op" id="6459004">,</span>&nbsp;<span class="num" id="6459006">0x1036</span><span class="op" id="6459012">,</span>&nbsp;<span class="num" id="6459014">0x0</span><span class="op" id="6459017">,</span>&nbsp;<span class="num" id="6459019">0x0</span><span class="op" id="6459022">,</span>&nbsp;<span class="num" id="6459024">0x0</span><span class="op" id="6459027">,</span>&nbsp;<span class="num" id="6459029">0x0</span><span class="op" id="6459032">}</span><span class="op" id="6459033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459038">{</span><span class="string" id="6459039">&#34;__debug_frame&#34;</span><span class="op" id="6459054">,</span>&nbsp;<span class="string" id="6459056">&#34;__DWARF&#34;</span><span class="op" id="6459065">,</span>&nbsp;<span class="num" id="6459067">0x100002066</span><span class="op" id="6459078">,</span>&nbsp;<span class="num" id="6459080">0x40</span><span class="op" id="6459084">,</span>&nbsp;<span class="num" id="6459086">0x1066</span><span class="op" id="6459092">,</span>&nbsp;<span class="num" id="6459094">0x0</span><span class="op" id="6459097">,</span>&nbsp;<span class="num" id="6459099">0x0</span><span class="op" id="6459102">,</span>&nbsp;<span class="num" id="6459104">0x0</span><span class="op" id="6459107">,</span>&nbsp;<span class="num" id="6459109">0x0</span><span class="op" id="6459112">}</span><span class="op" id="6459113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459118">{</span><span class="string" id="6459119">&#34;__debug_info&#34;</span><span class="op" id="6459133">,</span>&nbsp;<span class="string" id="6459135">&#34;__DWARF&#34;</span><span class="op" id="6459144">,</span>&nbsp;<span class="num" id="6459146">0x1000020a6</span><span class="op" id="6459157">,</span>&nbsp;<span class="num" id="6459159">0x54</span><span class="op" id="6459163">,</span>&nbsp;<span class="num" id="6459165">0x10a6</span><span class="op" id="6459171">,</span>&nbsp;<span class="num" id="6459173">0x0</span><span class="op" id="6459176">,</span>&nbsp;<span class="num" id="6459178">0x0</span><span class="op" id="6459181">,</span>&nbsp;<span class="num" id="6459183">0x0</span><span class="op" id="6459186">,</span>&nbsp;<span class="num" id="6459188">0x0</span><span class="op" id="6459191">}</span><span class="op" id="6459192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459197">{</span><span class="string" id="6459198">&#34;__debug_line&#34;</span><span class="op" id="6459212">,</span>&nbsp;<span class="string" id="6459214">&#34;__DWARF&#34;</span><span class="op" id="6459223">,</span>&nbsp;<span class="num" id="6459225">0x1000020fa</span><span class="op" id="6459236">,</span>&nbsp;<span class="num" id="6459238">0x47</span><span class="op" id="6459242">,</span>&nbsp;<span class="num" id="6459244">0x10fa</span><span class="op" id="6459250">,</span>&nbsp;<span class="num" id="6459252">0x0</span><span class="op" id="6459255">,</span>&nbsp;<span class="num" id="6459257">0x0</span><span class="op" id="6459260">,</span>&nbsp;<span class="num" id="6459262">0x0</span><span class="op" id="6459265">,</span>&nbsp;<span class="num" id="6459267">0x0</span><span class="op" id="6459270">}</span><span class="op" id="6459271">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459276">{</span><span class="string" id="6459277">&#34;__debug_pubnames&#34;</span><span class="op" id="6459295">,</span>&nbsp;<span class="string" id="6459297">&#34;__DWARF&#34;</span><span class="op" id="6459306">,</span>&nbsp;<span class="num" id="6459308">0x100002141</span><span class="op" id="6459319">,</span>&nbsp;<span class="num" id="6459321">0x1b</span><span class="op" id="6459325">,</span>&nbsp;<span class="num" id="6459327">0x1141</span><span class="op" id="6459333">,</span>&nbsp;<span class="num" id="6459335">0x0</span><span class="op" id="6459338">,</span>&nbsp;<span class="num" id="6459340">0x0</span><span class="op" id="6459343">,</span>&nbsp;<span class="num" id="6459345">0x0</span><span class="op" id="6459348">,</span>&nbsp;<span class="num" id="6459350">0x0</span><span class="op" id="6459353">}</span><span class="op" id="6459354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459359">{</span><span class="string" id="6459360">&#34;__debug_str&#34;</span><span class="op" id="6459373">,</span>&nbsp;<span class="string" id="6459375">&#34;__DWARF&#34;</span><span class="op" id="6459384">,</span>&nbsp;<span class="num" id="6459386">0x10000215c</span><span class="op" id="6459397">,</span>&nbsp;<span class="num" id="6459399">0x60</span><span class="op" id="6459403">,</span>&nbsp;<span class="num" id="6459405">0x115c</span><span class="op" id="6459411">,</span>&nbsp;<span class="num" id="6459413">0x0</span><span class="op" id="6459416">,</span>&nbsp;<span class="num" id="6459418">0x0</span><span class="op" id="6459421">,</span>&nbsp;<span class="num" id="6459423">0x0</span><span class="op" id="6459426">,</span>&nbsp;<span class="num" id="6459428">0x0</span><span class="op" id="6459431">}</span><span class="op" id="6459432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459436">}</span><span class="op" id="6459437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459440">}</span><span class="op" id="6459441">,</span><br>
<span class="lineno"></span><span class="op" id="6459443">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="6459446">func</span>&nbsp;<span class="ident" id="6459451">TestOpen</span><span class="op" id="6459459">(</span><span class="ident" id="6459460">t</span>&nbsp;<span class="op" id="6459462">*</span><span class="ident" id="6459463">testing</span><span class="op" id="6459470">.</span><span class="ident" id="6459471">T</span><span class="op" id="6459472">)</span>&nbsp;<span class="op" id="6459474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459477">for</span>&nbsp;<span class="ident" id="6459481">i</span>&nbsp;<span class="op" id="6459483">:=</span>&nbsp;<span class="keyword" id="6459486">range</span>&nbsp;<span class="ident" id="6459492">fileTests</span>&nbsp;<span class="op" id="6459502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6459506">tt</span>&nbsp;<span class="op" id="6459509">:=</span>&nbsp;<span class="op" id="6459512">&amp;</span><span class="ident" id="6459513">fileTests</span><span class="op" id="6459522">[</span><span class="ident" id="6459523">i</span><span class="op" id="6459524">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6459529">f</span><span class="op" id="6459530">,</span>&nbsp;<span class="ident" id="6459532">err</span>&nbsp;<span class="op" id="6459536">:=</span>&nbsp;<span class="ident" id="6459539">Open</span><span class="op" id="6459543">(</span><span class="ident" id="6459544">tt</span><span class="op" id="6459546">.</span><span class="ident" id="6459547">file</span><span class="op" id="6459551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459555">if</span>&nbsp;<span class="ident" id="6459558">err</span>&nbsp;<span class="op" id="6459562">!=</span>&nbsp;<span class="ident" id="6459565">nil</span>&nbsp;<span class="op" id="6459569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6459574">t</span><span class="op" id="6459575">.</span><span class="ident" id="6459576">Error</span><span class="op" id="6459581">(</span><span class="ident" id="6459582">err</span><span class="op" id="6459585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459590">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459601">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459605">if</span>&nbsp;<span class="op" id="6459608">!</span><span class="ident" id="6459609">reflect</span><span class="op" id="6459616">.</span><span class="ident" id="6459617">DeepEqual</span><span class="op" id="6459626">(</span><span class="ident" id="6459627">f</span><span class="op" id="6459628">.</span><span class="ident" id="6459629">FileHeader</span><span class="op" id="6459639">,</span>&nbsp;<span class="ident" id="6459641">tt</span><span class="op" id="6459643">.</span><span class="ident" id="6459644">hdr</span><span class="op" id="6459647">)</span>&nbsp;<span class="op" id="6459649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6459654">t</span><span class="op" id="6459655">.</span><span class="ident" id="6459656">Errorf</span><span class="op" id="6459662">(</span><span class="string" id="6459663">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="6459699">,</span>&nbsp;<span class="ident" id="6459701">tt</span><span class="op" id="6459703">.</span><span class="ident" id="6459704">file</span><span class="op" id="6459708">,</span>&nbsp;<span class="ident" id="6459710">f</span><span class="op" id="6459711">.</span><span class="ident" id="6459712">FileHeader</span><span class="op" id="6459722">,</span>&nbsp;<span class="ident" id="6459724">tt</span><span class="op" id="6459726">.</span><span class="ident" id="6459727">hdr</span><span class="op" id="6459730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459735">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459750">for</span>&nbsp;<span class="ident" id="6459754">i</span><span class="op" id="6459755">,</span>&nbsp;<span class="ident" id="6459757">l</span>&nbsp;<span class="op" id="6459759">:=</span>&nbsp;<span class="keyword" id="6459762">range</span>&nbsp;<span class="ident" id="6459768">f</span><span class="op" id="6459769">.</span><span class="ident" id="6459770">Loads</span>&nbsp;<span class="op" id="6459776">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459781">if</span>&nbsp;<span class="ident" id="6459784">i</span>&nbsp;<span class="op" id="6459786">&gt;=</span>&nbsp;<span class="builtinfunc" id="6459789">len</span><span class="op" id="6459792">(</span><span class="ident" id="6459793">tt</span><span class="op" id="6459795">.</span><span class="ident" id="6459796">segments</span><span class="op" id="6459804">)</span>&nbsp;<span class="op" id="6459806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459812">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6459826">sh</span>&nbsp;<span class="op" id="6459829">:=</span>&nbsp;<span class="ident" id="6459832">tt</span><span class="op" id="6459834">.</span><span class="ident" id="6459835">segments</span><span class="op" id="6459843">[</span><span class="ident" id="6459844">i</span><span class="op" id="6459845">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6459850">s</span><span class="op" id="6459851">,</span>&nbsp;<span class="ident" id="6459853">ok</span>&nbsp;<span class="op" id="6459856">:=</span>&nbsp;<span class="ident" id="6459859">l</span><span class="op" id="6459860">.</span><span class="op" id="6459861">(</span><span class="op" id="6459862">*</span><span class="ident" id="6459863">Segment</span><span class="op" id="6459870">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459875">if</span>&nbsp;<span class="ident" id="6459878">sh</span>&nbsp;<span class="op" id="6459881">==</span>&nbsp;<span class="ident" id="6459884">nil</span>&nbsp;<span class="op" id="6459888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459894">if</span>&nbsp;<span class="ident" id="6459897">ok</span>&nbsp;<span class="op" id="6459900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6459907">t</span><span class="op" id="6459908">.</span><span class="ident" id="6459909">Errorf</span><span class="op" id="6459915">(</span><span class="string" id="6459916">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:&nbsp;skipping&nbsp;%#v\n&#34;</span><span class="op" id="6459953">,</span>&nbsp;<span class="ident" id="6459955">tt</span><span class="op" id="6459957">.</span><span class="ident" id="6459958">file</span><span class="op" id="6459962">,</span>&nbsp;<span class="ident" id="6459964">i</span><span class="op" id="6459965">,</span>&nbsp;<span class="op" id="6459967">&amp;</span><span class="ident" id="6459968">s</span><span class="op" id="6459969">.</span><span class="ident" id="6459970">SegmentHeader</span><span class="op" id="6459983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6459989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6459995">continue</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6460007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6460012">if</span>&nbsp;<span class="op" id="6460015">!</span><span class="ident" id="6460016">ok</span>&nbsp;<span class="op" id="6460019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460025">t</span><span class="op" id="6460026">.</span><span class="ident" id="6460027">Errorf</span><span class="op" id="6460033">(</span><span class="string" id="6460034">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:&nbsp;not&nbsp;*Segment\n&#34;</span><span class="op" id="6460071">,</span>&nbsp;<span class="ident" id="6460073">tt</span><span class="op" id="6460075">.</span><span class="ident" id="6460076">file</span><span class="op" id="6460080">,</span>&nbsp;<span class="ident" id="6460082">i</span><span class="op" id="6460083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6460089">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6460101">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460106">have</span>&nbsp;<span class="op" id="6460111">:=</span>&nbsp;<span class="op" id="6460114">&amp;</span><span class="ident" id="6460115">s</span><span class="op" id="6460116">.</span><span class="ident" id="6460117">SegmentHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460134">want</span>&nbsp;<span class="op" id="6460139">:=</span>&nbsp;<span class="ident" id="6460142">sh</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6460148">if</span>&nbsp;<span class="op" id="6460151">!</span><span class="ident" id="6460152">reflect</span><span class="op" id="6460159">.</span><span class="ident" id="6460160">DeepEqual</span><span class="op" id="6460169">(</span><span class="ident" id="6460170">have</span><span class="op" id="6460174">,</span>&nbsp;<span class="ident" id="6460176">want</span><span class="op" id="6460180">)</span>&nbsp;<span class="op" id="6460182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460188">t</span><span class="op" id="6460189">.</span><span class="ident" id="6460190">Errorf</span><span class="op" id="6460196">(</span><span class="string" id="6460197">&#34;open&nbsp;%s,&nbsp;segment&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="6460245">,</span>&nbsp;<span class="ident" id="6460247">tt</span><span class="op" id="6460249">.</span><span class="ident" id="6460250">file</span><span class="op" id="6460254">,</span>&nbsp;<span class="ident" id="6460256">i</span><span class="op" id="6460257">,</span>&nbsp;<span class="ident" id="6460259">have</span><span class="op" id="6460263">,</span>&nbsp;<span class="ident" id="6460265">want</span><span class="op" id="6460269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6460274">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6460278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460282">tn</span>&nbsp;<span class="op" id="6460285">:=</span>&nbsp;<span class="builtinfunc" id="6460288">len</span><span class="op" id="6460291">(</span><span class="ident" id="6460292">tt</span><span class="op" id="6460294">.</span><span class="ident" id="6460295">segments</span><span class="op" id="6460303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460307">fn</span>&nbsp;<span class="op" id="6460310">:=</span>&nbsp;<span class="builtinfunc" id="6460313">len</span><span class="op" id="6460316">(</span><span class="ident" id="6460317">f</span><span class="op" id="6460318">.</span><span class="ident" id="6460319">Loads</span><span class="op" id="6460324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6460328">if</span>&nbsp;<span class="ident" id="6460331">tn</span>&nbsp;<span class="op" id="6460334">!=</span>&nbsp;<span class="ident" id="6460337">fn</span>&nbsp;<span class="op" id="6460340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460345">t</span><span class="op" id="6460346">.</span><span class="ident" id="6460347">Errorf</span><span class="op" id="6460353">(</span><span class="string" id="6460354">&#34;open&nbsp;%s:&nbsp;len(Loads)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6460389">,</span>&nbsp;<span class="ident" id="6460391">tt</span><span class="op" id="6460393">.</span><span class="ident" id="6460394">file</span><span class="op" id="6460398">,</span>&nbsp;<span class="ident" id="6460400">fn</span><span class="op" id="6460402">,</span>&nbsp;<span class="ident" id="6460404">tn</span><span class="op" id="6460406">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6460410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6460415">for</span>&nbsp;<span class="ident" id="6460419">i</span><span class="op" id="6460420">,</span>&nbsp;<span class="ident" id="6460422">sh</span>&nbsp;<span class="op" id="6460425">:=</span>&nbsp;<span class="keyword" id="6460428">range</span>&nbsp;<span class="ident" id="6460434">f</span><span class="op" id="6460435">.</span><span class="ident" id="6460436">Sections</span>&nbsp;<span class="op" id="6460445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6460450">if</span>&nbsp;<span class="ident" id="6460453">i</span>&nbsp;<span class="op" id="6460455">&gt;=</span>&nbsp;<span class="builtinfunc" id="6460458">len</span><span class="op" id="6460461">(</span><span class="ident" id="6460462">tt</span><span class="op" id="6460464">.</span><span class="ident" id="6460465">sections</span><span class="op" id="6460473">)</span>&nbsp;<span class="op" id="6460475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6460481">break</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6460490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460495">have</span>&nbsp;<span class="op" id="6460500">:=</span>&nbsp;<span class="op" id="6460503">&amp;</span><span class="ident" id="6460504">sh</span><span class="op" id="6460506">.</span><span class="ident" id="6460507">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460524">want</span>&nbsp;<span class="op" id="6460529">:=</span>&nbsp;<span class="ident" id="6460532">tt</span><span class="op" id="6460534">.</span><span class="ident" id="6460535">sections</span><span class="op" id="6460543">[</span><span class="ident" id="6460544">i</span><span class="op" id="6460545">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6460550">if</span>&nbsp;<span class="op" id="6460553">!</span><span class="ident" id="6460554">reflect</span><span class="op" id="6460561">.</span><span class="ident" id="6460562">DeepEqual</span><span class="op" id="6460571">(</span><span class="ident" id="6460572">have</span><span class="op" id="6460576">,</span>&nbsp;<span class="ident" id="6460578">want</span><span class="op" id="6460582">)</span>&nbsp;<span class="op" id="6460584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460590">t</span><span class="op" id="6460591">.</span><span class="ident" id="6460592">Errorf</span><span class="op" id="6460598">(</span><span class="string" id="6460599">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="6460647">,</span>&nbsp;<span class="ident" id="6460649">tt</span><span class="op" id="6460651">.</span><span class="ident" id="6460652">file</span><span class="op" id="6460656">,</span>&nbsp;<span class="ident" id="6460658">i</span><span class="op" id="6460659">,</span>&nbsp;<span class="ident" id="6460661">have</span><span class="op" id="6460665">,</span>&nbsp;<span class="ident" id="6460667">want</span><span class="op" id="6460671">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6460676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6460680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460684">tn</span>&nbsp;<span class="op" id="6460687">=</span>&nbsp;<span class="builtinfunc" id="6460689">len</span><span class="op" id="6460692">(</span><span class="ident" id="6460693">tt</span><span class="op" id="6460695">.</span><span class="ident" id="6460696">sections</span><span class="op" id="6460704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460708">fn</span>&nbsp;<span class="op" id="6460711">=</span>&nbsp;<span class="builtinfunc" id="6460713">len</span><span class="op" id="6460716">(</span><span class="ident" id="6460717">f</span><span class="op" id="6460718">.</span><span class="ident" id="6460719">Sections</span><span class="op" id="6460727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6460731">if</span>&nbsp;<span class="ident" id="6460734">tn</span>&nbsp;<span class="op" id="6460737">!=</span>&nbsp;<span class="ident" id="6460740">fn</span>&nbsp;<span class="op" id="6460743">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460748">t</span><span class="op" id="6460749">.</span><span class="ident" id="6460750">Errorf</span><span class="op" id="6460756">(</span><span class="string" id="6460757">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6460795">,</span>&nbsp;<span class="ident" id="6460797">tt</span><span class="op" id="6460799">.</span><span class="ident" id="6460800">file</span><span class="op" id="6460804">,</span>&nbsp;<span class="ident" id="6460806">fn</span><span class="op" id="6460808">,</span>&nbsp;<span class="ident" id="6460810">tn</span><span class="op" id="6460812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6460816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6460820">}</span><br>
<span class="lineno"></span><span class="op" id="6460822">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="keyword" id="6460825">func</span>&nbsp;<span class="ident" id="6460830">TestOpenFailure</span><span class="op" id="6460845">(</span><span class="ident" id="6460846">t</span>&nbsp;<span class="op" id="6460848">*</span><span class="ident" id="6460849">testing</span><span class="op" id="6460856">.</span><span class="ident" id="6460857">T</span><span class="op" id="6460858">)</span>&nbsp;<span class="op" id="6460860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460863">filename</span>&nbsp;<span class="op" id="6460872">:=</span>&nbsp;<span class="string" id="6460875">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6460888">//&nbsp;not&nbsp;a&nbsp;Mach-O&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460910">_</span><span class="op" id="6460911">,</span>&nbsp;<span class="ident" id="6460913">err</span>&nbsp;<span class="op" id="6460917">:=</span>&nbsp;<span class="ident" id="6460920">Open</span><span class="op" id="6460924">(</span><span class="ident" id="6460925">filename</span><span class="op" id="6460933">)</span>&nbsp;<span class="comment" id="6460935">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6460951">if</span>&nbsp;<span class="ident" id="6460954">err</span>&nbsp;<span class="op" id="6460958">==</span>&nbsp;<span class="ident" id="6460961">nil</span>&nbsp;<span class="op" id="6460965">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6460969">t</span><span class="op" id="6460970">.</span><span class="ident" id="6460971">Errorf</span><span class="op" id="6460977">(</span><span class="string" id="6460978">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="6461011">,</span>&nbsp;<span class="ident" id="6461013">filename</span><span class="op" id="6461021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6461024">}</span><br>
<span class="lineno"></span><span class="op" id="6461026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6461029">func</span>&nbsp;<span class="ident" id="6461034">TestOpenFat</span><span class="op" id="6461045">(</span><span class="ident" id="6461046">t</span>&nbsp;<span class="op" id="6461048">*</span><span class="ident" id="6461049">testing</span><span class="op" id="6461056">.</span><span class="ident" id="6461057">T</span><span class="op" id="6461058">)</span>&nbsp;<span class="op" id="6461060">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6461063">ff</span><span class="op" id="6461065">,</span>&nbsp;<span class="ident" id="6461067">err</span>&nbsp;<span class="op" id="6461071">:=</span>&nbsp;<span class="ident" id="6461074">OpenFat</span><span class="op" id="6461081">(</span><span class="string" id="6461082">&#34;testdata/fat-gcc-386-amd64-darwin-exec&#34;</span><span class="op" id="6461122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6461125">if</span>&nbsp;<span class="ident" id="6461128">err</span>&nbsp;<span class="op" id="6461132">!=</span>&nbsp;<span class="ident" id="6461135">nil</span>&nbsp;<span class="op" id="6461139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6461143">t</span><span class="op" id="6461144">.</span><span class="ident" id="6461145">Fatal</span><span class="op" id="6461150">(</span><span class="ident" id="6461151">err</span><span class="op" id="6461154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6461157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6461161">if</span>&nbsp;<span class="ident" id="6461164">ff</span><span class="op" id="6461166">.</span><span class="ident" id="6461167">Magic</span>&nbsp;<span class="op" id="6461173">!=</span>&nbsp;<span class="ident" id="6461176">MagicFat</span>&nbsp;<span class="op" id="6461185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6461189">t</span><span class="op" id="6461190">.</span><span class="ident" id="6461191">Errorf</span><span class="op" id="6461197">(</span><span class="string" id="6461198">&#34;OpenFat:&nbsp;got&nbsp;magic&nbsp;number&nbsp;%#x,&nbsp;want&nbsp;%#x&#34;</span><span class="op" id="6461239">,</span>&nbsp;<span class="ident" id="6461241">ff</span><span class="op" id="6461243">.</span><span class="ident" id="6461244">Magic</span><span class="op" id="6461249">,</span>&nbsp;<span class="ident" id="6461251">MagicFat</span><span class="op" id="6461259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6461262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6461265">if</span>&nbsp;<span class="builtinfunc" id="6461268">len</span><span class="op" id="6461271">(</span><span class="ident" id="6461272">ff</span><span class="op" id="6461274">.</span><span class="ident" id="6461275">Arches</span><span class="op" id="6461281">)</span>&nbsp;<span class="op" id="6461283">!=</span>&nbsp;<span class="num" id="6461286">2</span>&nbsp;<span class="op" id="6461288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6461292">t</span><span class="op" id="6461293">.</span><span class="ident" id="6461294">Errorf</span><span class="op" id="6461300">(</span><span class="string" id="6461301">&#34;OpenFat:&nbsp;got&nbsp;%d&nbsp;architectures,&nbsp;want&nbsp;2&#34;</span><span class="op" id="6461340">,</span>&nbsp;<span class="builtinfunc" id="6461342">len</span><span class="op" id="6461345">(</span><span class="ident" id="6461346">ff</span><span class="op" id="6461348">.</span><span class="ident" id="6461349">Arches</span><span class="op" id="6461355">)</span><span class="op" id="6461356">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6461359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6461363">for</span>&nbsp;<span class="ident" id="6461367">i</span>&nbsp;<span class="op" id="6461369">:=</span>&nbsp;<span class="keyword" id="6461372">range</span>&nbsp;<span class="ident" id="6461378">ff</span><span class="op" id="6461380">.</span><span class="ident" id="6461381">Arches</span>&nbsp;<span class="op" id="6461388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6461392">arch</span>&nbsp;<span class="op" id="6461397">:=</span>&nbsp;<span class="op" id="6461400">&amp;</span><span class="ident" id="6461401">ff</span><span class="op" id="6461403">.</span><span class="ident" id="6461404">Arches</span><span class="op" id="6461410">[</span><span class="ident" id="6461411">i</span><span class="op" id="6461412">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6461416">ftArch</span>&nbsp;<span class="op" id="6461423">:=</span>&nbsp;<span class="op" id="6461426">&amp;</span><span class="ident" id="6461427">fileTests</span><span class="op" id="6461436">[</span><span class="ident" id="6461437">i</span><span class="op" id="6461438">]</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6461443">if</span>&nbsp;<span class="ident" id="6461446">arch</span><span class="op" id="6461450">.</span><span class="ident" id="6461451">Cpu</span>&nbsp;<span class="op" id="6461455">!=</span>&nbsp;<span class="ident" id="6461458">ftArch</span><span class="op" id="6461464">.</span><span class="ident" id="6461465">hdr</span><span class="op" id="6461468">.</span><span class="ident" id="6461469">Cpu</span>&nbsp;<span class="op" id="6461473">||</span>&nbsp;<span class="ident" id="6461476">arch</span><span class="op" id="6461480">.</span><span class="ident" id="6461481">SubCpu</span>&nbsp;<span class="op" id="6461488">!=</span>&nbsp;<span class="ident" id="6461491">ftArch</span><span class="op" id="6461497">.</span><span class="ident" id="6461498">hdr</span><span class="op" id="6461501">.</span><span class="ident" id="6461502">SubCpu</span>&nbsp;<span class="op" id="6461509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6461514">t</span><span class="op" id="6461515">.</span><span class="ident" id="6461516">Errorf</span><span class="op" id="6461522">(</span><span class="string" id="6461523">&#34;OpenFat:&nbsp;architecture&nbsp;#%d&nbsp;got&nbsp;cpu=%#x&nbsp;subtype=%#x,&nbsp;expected&nbsp;cpu=%#x,&nbsp;subtype=%#x&#34;</span><span class="op" id="6461605">,</span>&nbsp;<span class="ident" id="6461607">i</span><span class="op" id="6461608">,</span>&nbsp;<span class="ident" id="6461610">arch</span><span class="op" id="6461614">.</span><span class="ident" id="6461615">Cpu</span><span class="op" id="6461618">,</span>&nbsp;<span class="ident" id="6461620">arch</span><span class="op" id="6461624">.</span><span class="ident" id="6461625">SubCpu</span><span class="op" id="6461631">,</span>&nbsp;<span class="ident" id="6461633">ftArch</span><span class="op" id="6461639">.</span><span class="ident" id="6461640">hdr</span><span class="op" id="6461643">.</span><span class="ident" id="6461644">Cpu</span><span class="op" id="6461647">,</span>&nbsp;<span class="ident" id="6461649">ftArch</span><span class="op" id="6461655">.</span><span class="ident" id="6461656">hdr</span><span class="op" id="6461659">.</span><span class="ident" id="6461660">SubCpu</span><span class="op" id="6461666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6461670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6461675">if</span>&nbsp;<span class="op" id="6461678">!</span><span class="ident" id="6461679">reflect</span><span class="op" id="6461686">.</span><span class="ident" id="6461687">DeepEqual</span><span class="op" id="6461696">(</span><span class="ident" id="6461697">arch</span><span class="op" id="6461701">.</span><span class="ident" id="6461702">FileHeader</span><span class="op" id="6461712">,</span>&nbsp;<span class="ident" id="6461714">ftArch</span><span class="op" id="6461720">.</span><span class="ident" id="6461721">hdr</span><span class="op" id="6461724">)</span>&nbsp;<span class="op" id="6461726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6461731">t</span><span class="op" id="6461732">.</span><span class="ident" id="6461733">Errorf</span><span class="op" id="6461739">(</span><span class="string" id="6461740">&#34;OpenFat&nbsp;header:\n\tgot&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="6461782">,</span>&nbsp;<span class="ident" id="6461784">arch</span><span class="op" id="6461788">.</span><span class="ident" id="6461789">FileHeader</span><span class="op" id="6461799">,</span>&nbsp;<span class="ident" id="6461801">ftArch</span><span class="op" id="6461807">.</span><span class="ident" id="6461808">hdr</span><span class="op" id="6461811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6461815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6461818">}</span><br>
<span class="lineno"></span><span class="op" id="6461820">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="6461823">func</span>&nbsp;<span class="ident" id="6461828">TestOpenFatFailure</span><span class="op" id="6461846">(</span><span class="ident" id="6461847">t</span>&nbsp;<span class="op" id="6461849">*</span><span class="ident" id="6461850">testing</span><span class="op" id="6461857">.</span><span class="ident" id="6461858">T</span><span class="op" id="6461859">)</span>&nbsp;<span class="op" id="6461861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6461864">filename</span>&nbsp;<span class="op" id="6461873">:=</span>&nbsp;<span class="string" id="6461876">&#34;file.go&#34;</span>&nbsp;<span class="comment" id="6461886">//&nbsp;not&nbsp;a&nbsp;Mach-O&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6461908">if</span>&nbsp;<span class="ident" id="6461911">_</span><span class="op" id="6461912">,</span>&nbsp;<span class="ident" id="6461914">err</span>&nbsp;<span class="op" id="6461918">:=</span>&nbsp;<span class="ident" id="6461921">OpenFat</span><span class="op" id="6461928">(</span><span class="ident" id="6461929">filename</span><span class="op" id="6461937">)</span><span class="op" id="6461938">;</span>&nbsp;<span class="ident" id="6461940">err</span>&nbsp;<span class="op" id="6461944">==</span>&nbsp;<span class="ident" id="6461947">nil</span>&nbsp;<span class="op" id="6461951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6461955">t</span><span class="op" id="6461956">.</span><span class="ident" id="6461957">Errorf</span><span class="op" id="6461963">(</span><span class="string" id="6461964">&#34;OpenFat&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="6462000">,</span>&nbsp;<span class="ident" id="6462002">filename</span><span class="op" id="6462010">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6462013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6462017">filename</span>&nbsp;<span class="op" id="6462026">=</span>&nbsp;<span class="string" id="6462028">&#34;testdata/gcc-386-darwin-exec&#34;</span>&nbsp;<span class="comment" id="6462059">//&nbsp;not&nbsp;a&nbsp;fat&nbsp;Mach-O</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6462080">ff</span><span class="op" id="6462082">,</span>&nbsp;<span class="ident" id="6462084">err</span>&nbsp;<span class="op" id="6462088">:=</span>&nbsp;<span class="ident" id="6462091">OpenFat</span><span class="op" id="6462098">(</span><span class="ident" id="6462099">filename</span><span class="op" id="6462107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6462110">if</span>&nbsp;<span class="ident" id="6462113">err</span>&nbsp;<span class="op" id="6462117">!=</span>&nbsp;<span class="ident" id="6462120">ErrNotFat</span>&nbsp;<span class="op" id="6462130">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6462134">t</span><span class="op" id="6462135">.</span><span class="ident" id="6462136">Errorf</span><span class="op" id="6462142">(</span><span class="string" id="6462143">&#34;OpenFat&nbsp;%s:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;ErrNotFat&#34;</span><span class="op" id="6462179">,</span>&nbsp;<span class="ident" id="6462181">filename</span><span class="op" id="6462189">,</span>&nbsp;<span class="ident" id="6462191">err</span><span class="op" id="6462194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6462197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6462200">if</span>&nbsp;<span class="ident" id="6462203">ff</span>&nbsp;<span class="op" id="6462206">!=</span>&nbsp;<span class="ident" id="6462209">nil</span>&nbsp;<span class="op" id="6462213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6462217">t</span><span class="op" id="6462218">.</span><span class="ident" id="6462219">Errorf</span><span class="op" id="6462225">(</span><span class="string" id="6462226">&#34;OpenFat&nbsp;%s:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="6462256">,</span>&nbsp;<span class="ident" id="6462258">filename</span><span class="op" id="6462266">,</span>&nbsp;<span class="ident" id="6462268">ff</span><span class="op" id="6462270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6462273">}</span><br>
<span class="lineno">210</span><span class="op" id="6462275">}</span>
</div>
</body>
</html>
