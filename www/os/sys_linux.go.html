<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2470159">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2470214">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2470268">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2470319">//&nbsp;Linux-specific</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2470338">package</span>&nbsp;<span class="ident" id="2470346">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2470350">func</span>&nbsp;<span class="ident" id="2470355">hostname</span><span class="op" id="2470363">(</span><span class="op" id="2470364">)</span>&nbsp;<span class="op" id="2470366">(</span><span class="ident" id="2470367">name</span>&nbsp;<span class="builtintype" id="2470372">string</span><span class="op" id="2470378">,</span>&nbsp;<span class="ident" id="2470380">err</span>&nbsp;<span class="builtintype" id="2470384">error</span><span class="op" id="2470389">)</span>&nbsp;<span class="op" id="2470391">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470394">f</span><span class="op" id="2470395">,</span>&nbsp;<span class="ident" id="2470397"><a href="/os/sys_linux.go.html#2470380">err</a></span>&nbsp;<span class="op" id="2470401">:=</span>&nbsp;<span class="ident" id="2470404"><a href="/os/file.go.html#2445816">Open</a></span><span class="op" id="2470408">(</span><span class="string" id="2470409">&#34;/proc/sys/kernel/hostname&#34;</span><span class="op" id="2470436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470439">if</span>&nbsp;<span class="ident" id="2470442"><a href="/os/sys_linux.go.html#2470380">err</a></span>&nbsp;<span class="op" id="2470446">!=</span>&nbsp;<span class="ident" id="2470449">nil</span>&nbsp;<span class="op" id="2470453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470457">return</span>&nbsp;<span class="string" id="2470464">&#34;&#34;</span><span class="op" id="2470466">,</span>&nbsp;<span class="ident" id="2470468"><a href="/os/sys_linux.go.html#2470380">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2470473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470476">defer</span>&nbsp;<span class="ident" id="2470482"><a href="/os/sys_linux.go.html#2470394">f</a></span><span class="op" id="2470483">.</span><span class="ident" id="2470484">Close</span><span class="op" id="2470489">(</span><span class="op" id="2470490">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470494">var</span>&nbsp;<span class="ident" id="2470498">buf</span>&nbsp;<span class="op" id="2470502">[</span><span class="num" id="2470503">512</span><span class="op" id="2470506">]</span><span class="builtintype" id="2470507">byte</span>&nbsp;<span class="comment" id="2470512">//&nbsp;Enough&nbsp;for&nbsp;a&nbsp;DNS&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470539">n</span><span class="op" id="2470540">,</span>&nbsp;<span class="ident" id="2470542"><a href="/os/sys_linux.go.html#2470380">err</a></span>&nbsp;<span class="op" id="2470546">:=</span>&nbsp;<span class="ident" id="2470549"><a href="/os/sys_linux.go.html#2470394">f</a></span><span class="op" id="2470550">.</span><span class="ident" id="2470551">Read</span><span class="op" id="2470555">(</span><span class="ident" id="2470556"><a href="/os/sys_linux.go.html#2470498">buf</a></span><span class="op" id="2470559">[</span><span class="num" id="2470560">0</span><span class="op" id="2470561">:</span><span class="op" id="2470562">]</span><span class="op" id="2470563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470566">if</span>&nbsp;<span class="ident" id="2470569"><a href="/os/sys_linux.go.html#2470380">err</a></span>&nbsp;<span class="op" id="2470573">!=</span>&nbsp;<span class="ident" id="2470576">nil</span>&nbsp;<span class="op" id="2470580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470584">return</span>&nbsp;<span class="string" id="2470591">&#34;&#34;</span><span class="op" id="2470593">,</span>&nbsp;<span class="ident" id="2470595"><a href="/os/sys_linux.go.html#2470380">err</a></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2470600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470604">if</span>&nbsp;<span class="ident" id="2470607"><a href="/os/sys_linux.go.html#2470539">n</a></span>&nbsp;<span class="op" id="2470609">&gt;</span>&nbsp;<span class="num" id="2470611">0</span>&nbsp;<span class="op" id="2470613">&amp;&amp;</span>&nbsp;<span class="ident" id="2470616"><a href="/os/sys_linux.go.html#2470498">buf</a></span><span class="op" id="2470619">[</span><span class="ident" id="2470620"><a href="/os/sys_linux.go.html#2470539">n</a></span><span class="op" id="2470621">-</span><span class="num" id="2470622">1</span><span class="op" id="2470623">]</span>&nbsp;<span class="op" id="2470625">==</span>&nbsp;<span class="string" id="2470628">&#39;\n&#39;</span>&nbsp;<span class="op" id="2470633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470637"><a href="/os/sys_linux.go.html#2470539">n</a></span><span class="op" id="2470638">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2470642">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470645">return</span>&nbsp;<span class="builtintype" id="2470652">string</span><span class="op" id="2470658">(</span><span class="ident" id="2470659"><a href="/os/sys_linux.go.html#2470498">buf</a></span><span class="op" id="2470662">[</span><span class="num" id="2470663">0</span><span class="op" id="2470664">:</span><span class="ident" id="2470665"><a href="/os/sys_linux.go.html#2470539">n</a></span><span class="op" id="2470666">]</span><span class="op" id="2470667">)</span><span class="op" id="2470668">,</span>&nbsp;<span class="ident" id="2470670">nil</span><br>
<span class="lineno"></span><span class="op" id="2470674">}</span>
</div>
</body>
</html>
