<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/macho</h2>
<ul>
<li><a href="/gostd/debug/macho/fat.go.html">fat.go</a></li>
<li><a href="/gostd/debug/macho/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/macho/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/macho/macho.go.html">macho.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6381867">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6381923">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6381977">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6382028">package</span>&nbsp;<span class="ident" id="6382036">macho</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6382043">import</span>&nbsp;<span class="op" id="6382050">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6382053">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6382072">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6382079">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6382085">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="6382090">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6382093">//&nbsp;A&nbsp;FatFile&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;universal&nbsp;binary&nbsp;that&nbsp;contains&nbsp;at&nbsp;least&nbsp;one&nbsp;architecture.</span><br>
<span class="lineno">15</span><span class="keyword" id="6382176">type</span>&nbsp;<span class="ident" id="6382181">FatFile</span>&nbsp;<span class="keyword" id="6382189">struct</span>&nbsp;<span class="op" id="6382196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6382199">Magic</span>&nbsp;&nbsp;<span class="builtintype" id="6382206">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6382214">Arches</span>&nbsp;<span class="op" id="6382221">[</span><span class="op" id="6382222">]</span><span class="ident" id="6382223">FatArch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6382232">closer</span>&nbsp;<span class="ident" id="6382239">io</span><span class="op" id="6382241">.</span><span class="ident" id="6382242">Closer</span><br>
<span class="lineno"></span><span class="op" id="6382249">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6382252">//&nbsp;A&nbsp;FatArchHeader&nbsp;represents&nbsp;a&nbsp;fat&nbsp;header&nbsp;for&nbsp;a&nbsp;specific&nbsp;image&nbsp;architecture.</span><br>
<span class="lineno"></span><span class="keyword" id="6382330">type</span>&nbsp;<span class="ident" id="6382335">FatArchHeader</span>&nbsp;<span class="keyword" id="6382349">struct</span>&nbsp;<span class="op" id="6382356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6382359">Cpu</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6382366">Cpu</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6382371">SubCpu</span>&nbsp;<span class="builtintype" id="6382378">uint32</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6382386">Offset</span>&nbsp;<span class="builtintype" id="6382393">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6382401">Size</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6382408">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6382416">Align</span>&nbsp;&nbsp;<span class="builtintype" id="6382423">uint32</span><br>
<span class="lineno"></span><span class="op" id="6382430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="6382433">const</span>&nbsp;<span class="ident" id="6382439">fatArchHeaderSize</span>&nbsp;<span class="op" id="6382457">=</span>&nbsp;<span class="num" id="6382459">5</span>&nbsp;<span class="op" id="6382461">*</span>&nbsp;<span class="num" id="6382463">4</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6382466">//&nbsp;A&nbsp;FatArch&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;File&nbsp;inside&nbsp;a&nbsp;FatFile.</span><br>
<span class="lineno"></span><span class="keyword" id="6382514">type</span>&nbsp;<span class="ident" id="6382519">FatArch</span>&nbsp;<span class="keyword" id="6382527">struct</span>&nbsp;<span class="op" id="6382534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6382537">FatArchHeader</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6382552">*</span><span class="ident" id="6382553">File</span><br>
<span class="lineno"></span><span class="op" id="6382558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6382561">//&nbsp;ErrNotFat&nbsp;is&nbsp;returned&nbsp;from&nbsp;NewFatFile&nbsp;or&nbsp;OpenFat&nbsp;when&nbsp;the&nbsp;file&nbsp;is&nbsp;not&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6382636">//&nbsp;universal&nbsp;binary&nbsp;but&nbsp;may&nbsp;be&nbsp;a&nbsp;thin&nbsp;binary,&nbsp;based&nbsp;on&nbsp;its&nbsp;magic&nbsp;number.</span><br>
<span class="lineno">40</span><span class="keyword" id="6382709">var</span>&nbsp;<span class="ident" id="6382713">ErrNotFat</span>&nbsp;<span class="op" id="6382723">=</span>&nbsp;<span class="op" id="6382725">&amp;</span><span class="ident" id="6382726">FormatError</span><span class="op" id="6382737">{</span><span class="num" id="6382738">0</span><span class="op" id="6382739">,</span>&nbsp;<span class="string" id="6382741">&#34;not&nbsp;a&nbsp;fat&nbsp;Mach-O&nbsp;file&#34;</span><span class="op" id="6382764">,</span>&nbsp;<span class="ident" id="6382766">nil</span><span class="op" id="6382769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6382772">//&nbsp;NewFatFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;FatFile&nbsp;for&nbsp;accessing&nbsp;all&nbsp;the&nbsp;Mach-O&nbsp;images&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6382849">//&nbsp;universal&nbsp;binary.&nbsp;The&nbsp;Mach-O&nbsp;binary&nbsp;is&nbsp;expected&nbsp;to&nbsp;start&nbsp;at&nbsp;position&nbsp;0&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6382926">//&nbsp;the&nbsp;ReaderAt.</span><br>
<span class="lineno">45</span><span class="keyword" id="6382943">func</span>&nbsp;<span class="ident" id="6382948">NewFatFile</span><span class="op" id="6382958">(</span><span class="ident" id="6382959">r</span>&nbsp;<span class="ident" id="6382961">io</span><span class="op" id="6382963">.</span><span class="ident" id="6382964">ReaderAt</span><span class="op" id="6382972">)</span>&nbsp;<span class="op" id="6382974">(</span><span class="op" id="6382975">*</span><span class="ident" id="6382976">FatFile</span><span class="op" id="6382983">,</span>&nbsp;<span class="builtintype" id="6382985">error</span><span class="op" id="6382990">)</span>&nbsp;<span class="op" id="6382992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6382995">var</span>&nbsp;<span class="ident" id="6382999">ff</span>&nbsp;<span class="ident" id="6383002">FatFile</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6383011">sr</span>&nbsp;<span class="op" id="6383014">:=</span>&nbsp;<span class="ident" id="6383017">io</span><span class="op" id="6383019">.</span><span class="ident" id="6383020">NewSectionReader</span><span class="op" id="6383036">(</span><span class="ident" id="6383037">r</span><span class="op" id="6383038">,</span>&nbsp;<span class="num" id="6383040">0</span><span class="op" id="6383041">,</span>&nbsp;<span class="num" id="6383043">1</span><span class="op" id="6383044">&lt;&lt;</span><span class="num" id="6383046">63</span><span class="op" id="6383048">-</span><span class="num" id="6383049">1</span><span class="op" id="6383050">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6383054">//&nbsp;Read&nbsp;the&nbsp;fat_header&nbsp;struct,&nbsp;which&nbsp;is&nbsp;always&nbsp;in&nbsp;big&nbsp;endian.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6383117">//&nbsp;Start&nbsp;with&nbsp;the&nbsp;magic&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6383150">err</span>&nbsp;<span class="op" id="6383154">:=</span>&nbsp;<span class="ident" id="6383157">binary</span><span class="op" id="6383163">.</span><span class="ident" id="6383164">Read</span><span class="op" id="6383168">(</span><span class="ident" id="6383169">sr</span><span class="op" id="6383171">,</span>&nbsp;<span class="ident" id="6383173">binary</span><span class="op" id="6383179">.</span><span class="ident" id="6383180">BigEndian</span><span class="op" id="6383189">,</span>&nbsp;<span class="op" id="6383191">&amp;</span><span class="ident" id="6383192">ff</span><span class="op" id="6383194">.</span><span class="ident" id="6383195">Magic</span><span class="op" id="6383200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383203">if</span>&nbsp;<span class="ident" id="6383206">err</span>&nbsp;<span class="op" id="6383210">!=</span>&nbsp;<span class="ident" id="6383213">nil</span>&nbsp;<span class="op" id="6383217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383221">return</span>&nbsp;<span class="ident" id="6383228">nil</span><span class="op" id="6383231">,</span>&nbsp;<span class="op" id="6383233">&amp;</span><span class="ident" id="6383234">FormatError</span><span class="op" id="6383245">{</span><span class="num" id="6383246">0</span><span class="op" id="6383247">,</span>&nbsp;<span class="string" id="6383249">&#34;error&nbsp;reading&nbsp;magic&nbsp;number&#34;</span><span class="op" id="6383277">,</span>&nbsp;<span class="ident" id="6383279">nil</span><span class="op" id="6383282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6383285">}</span>&nbsp;<span class="keyword" id="6383287">else</span>&nbsp;<span class="keyword" id="6383292">if</span>&nbsp;<span class="ident" id="6383295">ff</span><span class="op" id="6383297">.</span><span class="ident" id="6383298">Magic</span>&nbsp;<span class="op" id="6383304">!=</span>&nbsp;<span class="ident" id="6383307">MagicFat</span>&nbsp;<span class="op" id="6383316">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6383320">//&nbsp;See&nbsp;if&nbsp;this&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;file&nbsp;via&nbsp;its&nbsp;magic&nbsp;number.&nbsp;The&nbsp;magic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6383386">//&nbsp;must&nbsp;be&nbsp;converted&nbsp;to&nbsp;little&nbsp;endian&nbsp;first&nbsp;though.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383440">var</span>&nbsp;<span class="ident" id="6383444">buf</span>&nbsp;<span class="op" id="6383448">[</span><span class="num" id="6383449">4</span><span class="op" id="6383450">]</span><span class="builtintype" id="6383451">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6383458">binary</span><span class="op" id="6383464">.</span><span class="ident" id="6383465">BigEndian</span><span class="op" id="6383474">.</span><span class="ident" id="6383475">PutUint32</span><span class="op" id="6383484">(</span><span class="ident" id="6383485">buf</span><span class="op" id="6383488">[</span><span class="op" id="6383489">:</span><span class="op" id="6383490">]</span><span class="op" id="6383491">,</span>&nbsp;<span class="ident" id="6383493">ff</span><span class="op" id="6383495">.</span><span class="ident" id="6383496">Magic</span><span class="op" id="6383501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6383505">leMagic</span>&nbsp;<span class="op" id="6383513">:=</span>&nbsp;<span class="ident" id="6383516">binary</span><span class="op" id="6383522">.</span><span class="ident" id="6383523">LittleEndian</span><span class="op" id="6383535">.</span><span class="ident" id="6383536">Uint32</span><span class="op" id="6383542">(</span><span class="ident" id="6383543">buf</span><span class="op" id="6383546">[</span><span class="op" id="6383547">:</span><span class="op" id="6383548">]</span><span class="op" id="6383549">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383553">if</span>&nbsp;<span class="ident" id="6383556">leMagic</span>&nbsp;<span class="op" id="6383564">==</span>&nbsp;<span class="ident" id="6383567">Magic32</span>&nbsp;<span class="op" id="6383575">||</span>&nbsp;<span class="ident" id="6383578">leMagic</span>&nbsp;<span class="op" id="6383586">==</span>&nbsp;<span class="ident" id="6383589">Magic64</span>&nbsp;<span class="op" id="6383597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383602">return</span>&nbsp;<span class="ident" id="6383609">nil</span><span class="op" id="6383612">,</span>&nbsp;<span class="ident" id="6383614">ErrNotFat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6383626">}</span>&nbsp;<span class="keyword" id="6383628">else</span>&nbsp;<span class="op" id="6383633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383638">return</span>&nbsp;<span class="ident" id="6383645">nil</span><span class="op" id="6383648">,</span>&nbsp;<span class="op" id="6383650">&amp;</span><span class="ident" id="6383651">FormatError</span><span class="op" id="6383662">{</span><span class="num" id="6383663">0</span><span class="op" id="6383664">,</span>&nbsp;<span class="string" id="6383666">&#34;invalid&nbsp;magic&nbsp;number&#34;</span><span class="op" id="6383688">,</span>&nbsp;<span class="ident" id="6383690">nil</span><span class="op" id="6383693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6383697">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6383700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6383703">offset</span>&nbsp;<span class="op" id="6383710">:=</span>&nbsp;<span class="ident" id="6383713">int64</span><span class="op" id="6383718">(</span><span class="num" id="6383719">4</span><span class="op" id="6383720">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6383724">//&nbsp;Read&nbsp;the&nbsp;number&nbsp;of&nbsp;FatArchHeaders&nbsp;that&nbsp;come&nbsp;after&nbsp;the&nbsp;fat_header.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383794">var</span>&nbsp;<span class="ident" id="6383798">narch</span>&nbsp;<span class="builtintype" id="6383804">uint32</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6383812">err</span>&nbsp;<span class="op" id="6383816">=</span>&nbsp;<span class="ident" id="6383818">binary</span><span class="op" id="6383824">.</span><span class="ident" id="6383825">Read</span><span class="op" id="6383829">(</span><span class="ident" id="6383830">sr</span><span class="op" id="6383832">,</span>&nbsp;<span class="ident" id="6383834">binary</span><span class="op" id="6383840">.</span><span class="ident" id="6383841">BigEndian</span><span class="op" id="6383850">,</span>&nbsp;<span class="op" id="6383852">&amp;</span><span class="ident" id="6383853">narch</span><span class="op" id="6383858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383861">if</span>&nbsp;<span class="ident" id="6383864">err</span>&nbsp;<span class="op" id="6383868">!=</span>&nbsp;<span class="ident" id="6383871">nil</span>&nbsp;<span class="op" id="6383875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383879">return</span>&nbsp;<span class="ident" id="6383886">nil</span><span class="op" id="6383889">,</span>&nbsp;<span class="op" id="6383891">&amp;</span><span class="ident" id="6383892">FormatError</span><span class="op" id="6383903">{</span><span class="ident" id="6383904">offset</span><span class="op" id="6383910">,</span>&nbsp;<span class="string" id="6383912">&#34;invalid&nbsp;fat_header&#34;</span><span class="op" id="6383932">,</span>&nbsp;<span class="ident" id="6383934">nil</span><span class="op" id="6383937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6383940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6383943">offset</span>&nbsp;<span class="op" id="6383950">+=</span>&nbsp;<span class="num" id="6383953">4</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383957">if</span>&nbsp;<span class="ident" id="6383960">narch</span>&nbsp;<span class="op" id="6383966">&lt;</span>&nbsp;<span class="num" id="6383968">1</span>&nbsp;<span class="op" id="6383970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6383974">return</span>&nbsp;<span class="ident" id="6383981">nil</span><span class="op" id="6383984">,</span>&nbsp;<span class="op" id="6383986">&amp;</span><span class="ident" id="6383987">FormatError</span><span class="op" id="6383998">{</span><span class="ident" id="6383999">offset</span><span class="op" id="6384005">,</span>&nbsp;<span class="string" id="6384007">&#34;file&nbsp;contains&nbsp;no&nbsp;images&#34;</span><span class="op" id="6384032">,</span>&nbsp;<span class="ident" id="6384034">nil</span><span class="op" id="6384037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6384040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6384044">//&nbsp;Combine&nbsp;the&nbsp;Cpu&nbsp;and&nbsp;SubCpu&nbsp;(both&nbsp;uint32)&nbsp;into&nbsp;a&nbsp;uint64&nbsp;to&nbsp;make&nbsp;sure</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6384116">//&nbsp;there&nbsp;are&nbsp;not&nbsp;duplicate&nbsp;architectures.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6384159">seenArches</span>&nbsp;<span class="op" id="6384170">:=</span>&nbsp;<span class="builtinfunc" id="6384173">make</span><span class="op" id="6384177">(</span><span class="keyword" id="6384178">map</span><span class="op" id="6384181">[</span><span class="ident" id="6384182">uint64</span><span class="op" id="6384188">]</span><span class="builtintype" id="6384189">bool</span><span class="op" id="6384193">,</span>&nbsp;<span class="ident" id="6384195">narch</span><span class="op" id="6384200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6384203">//&nbsp;Make&nbsp;sure&nbsp;that&nbsp;all&nbsp;images&nbsp;are&nbsp;for&nbsp;the&nbsp;same&nbsp;MH_&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6384260">var</span>&nbsp;<span class="ident" id="6384264">machoType</span>&nbsp;<span class="ident" id="6384274">Type</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6384281">//&nbsp;Following&nbsp;the&nbsp;fat_header&nbsp;comes&nbsp;narch&nbsp;fat_arch&nbsp;structs&nbsp;that&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6384350">//&nbsp;Mach-O&nbsp;images&nbsp;further&nbsp;in&nbsp;the&nbsp;file.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6384389">ff</span><span class="op" id="6384391">.</span><span class="ident" id="6384392">Arches</span>&nbsp;<span class="op" id="6384399">=</span>&nbsp;<span class="builtinfunc" id="6384401">make</span><span class="op" id="6384405">(</span><span class="op" id="6384406">[</span><span class="op" id="6384407">]</span><span class="ident" id="6384408">FatArch</span><span class="op" id="6384415">,</span>&nbsp;<span class="ident" id="6384417">narch</span><span class="op" id="6384422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6384425">for</span>&nbsp;<span class="ident" id="6384429">i</span>&nbsp;<span class="op" id="6384431">:=</span>&nbsp;<span class="builtintype" id="6384434">uint32</span><span class="op" id="6384440">(</span><span class="num" id="6384441">0</span><span class="op" id="6384442">)</span><span class="op" id="6384443">;</span>&nbsp;<span class="ident" id="6384445">i</span>&nbsp;<span class="op" id="6384447">&lt;</span>&nbsp;<span class="ident" id="6384449">narch</span><span class="op" id="6384454">;</span>&nbsp;<span class="ident" id="6384456">i</span><span class="op" id="6384457">++</span>&nbsp;<span class="op" id="6384460">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6384464">fa</span>&nbsp;<span class="op" id="6384467">:=</span>&nbsp;<span class="op" id="6384470">&amp;</span><span class="ident" id="6384471">ff</span><span class="op" id="6384473">.</span><span class="ident" id="6384474">Arches</span><span class="op" id="6384480">[</span><span class="ident" id="6384481">i</span><span class="op" id="6384482">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6384486">err</span>&nbsp;<span class="op" id="6384490">=</span>&nbsp;<span class="ident" id="6384492">binary</span><span class="op" id="6384498">.</span><span class="ident" id="6384499">Read</span><span class="op" id="6384503">(</span><span class="ident" id="6384504">sr</span><span class="op" id="6384506">,</span>&nbsp;<span class="ident" id="6384508">binary</span><span class="op" id="6384514">.</span><span class="ident" id="6384515">BigEndian</span><span class="op" id="6384524">,</span>&nbsp;<span class="op" id="6384526">&amp;</span><span class="ident" id="6384527">fa</span><span class="op" id="6384529">.</span><span class="ident" id="6384530">FatArchHeader</span><span class="op" id="6384543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6384547">if</span>&nbsp;<span class="ident" id="6384550">err</span>&nbsp;<span class="op" id="6384554">!=</span>&nbsp;<span class="ident" id="6384557">nil</span>&nbsp;<span class="op" id="6384561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6384566">return</span>&nbsp;<span class="ident" id="6384573">nil</span><span class="op" id="6384576">,</span>&nbsp;<span class="op" id="6384578">&amp;</span><span class="ident" id="6384579">FormatError</span><span class="op" id="6384590">{</span><span class="ident" id="6384591">offset</span><span class="op" id="6384597">,</span>&nbsp;<span class="string" id="6384599">&#34;invalid&nbsp;fat_arch&nbsp;header&#34;</span><span class="op" id="6384624">,</span>&nbsp;<span class="ident" id="6384626">nil</span><span class="op" id="6384629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6384633">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6384637">offset</span>&nbsp;<span class="op" id="6384644">+=</span>&nbsp;<span class="ident" id="6384647">fatArchHeaderSize</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6384668">fr</span>&nbsp;<span class="op" id="6384671">:=</span>&nbsp;<span class="ident" id="6384674">io</span><span class="op" id="6384676">.</span><span class="ident" id="6384677">NewSectionReader</span><span class="op" id="6384693">(</span><span class="ident" id="6384694">r</span><span class="op" id="6384695">,</span>&nbsp;<span class="ident" id="6384697">int64</span><span class="op" id="6384702">(</span><span class="ident" id="6384703">fa</span><span class="op" id="6384705">.</span><span class="ident" id="6384706">Offset</span><span class="op" id="6384712">)</span><span class="op" id="6384713">,</span>&nbsp;<span class="ident" id="6384715">int64</span><span class="op" id="6384720">(</span><span class="ident" id="6384721">fa</span><span class="op" id="6384723">.</span><span class="ident" id="6384724">Size</span><span class="op" id="6384728">)</span><span class="op" id="6384729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6384733">fa</span><span class="op" id="6384735">.</span><span class="ident" id="6384736">File</span><span class="op" id="6384740">,</span>&nbsp;<span class="ident" id="6384742">err</span>&nbsp;<span class="op" id="6384746">=</span>&nbsp;<span class="ident" id="6384748">NewFile</span><span class="op" id="6384755">(</span><span class="ident" id="6384756">fr</span><span class="op" id="6384758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6384762">if</span>&nbsp;<span class="ident" id="6384765">err</span>&nbsp;<span class="op" id="6384769">!=</span>&nbsp;<span class="ident" id="6384772">nil</span>&nbsp;<span class="op" id="6384776">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6384781">return</span>&nbsp;<span class="ident" id="6384788">nil</span><span class="op" id="6384791">,</span>&nbsp;<span class="ident" id="6384793">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6384799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6384804">//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;architecture&nbsp;for&nbsp;this&nbsp;image&nbsp;is&nbsp;not&nbsp;duplicate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6384869">seenArch</span>&nbsp;<span class="op" id="6384878">:=</span>&nbsp;<span class="op" id="6384881">(</span><span class="ident" id="6384882">uint64</span><span class="op" id="6384888">(</span><span class="ident" id="6384889">fa</span><span class="op" id="6384891">.</span><span class="ident" id="6384892">Cpu</span><span class="op" id="6384895">)</span>&nbsp;<span class="op" id="6384897">&lt;&lt;</span>&nbsp;<span class="num" id="6384900">32</span><span class="op" id="6384902">)</span>&nbsp;<span class="op" id="6384904">|</span>&nbsp;<span class="ident" id="6384906">uint64</span><span class="op" id="6384912">(</span><span class="ident" id="6384913">fa</span><span class="op" id="6384915">.</span><span class="ident" id="6384916">SubCpu</span><span class="op" id="6384922">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6384926">if</span>&nbsp;<span class="ident" id="6384929">o</span><span class="op" id="6384930">,</span>&nbsp;<span class="ident" id="6384932">k</span>&nbsp;<span class="op" id="6384934">:=</span>&nbsp;<span class="ident" id="6384937">seenArches</span><span class="op" id="6384947">[</span><span class="ident" id="6384948">seenArch</span><span class="op" id="6384956">]</span><span class="op" id="6384957">;</span>&nbsp;<span class="ident" id="6384959">o</span>&nbsp;<span class="op" id="6384961">||</span>&nbsp;<span class="ident" id="6384964">k</span>&nbsp;<span class="op" id="6384966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6384971">return</span>&nbsp;<span class="ident" id="6384978">nil</span><span class="op" id="6384981">,</span>&nbsp;<span class="op" id="6384983">&amp;</span><span class="ident" id="6384984">FormatError</span><span class="op" id="6384995">{</span><span class="ident" id="6384996">offset</span><span class="op" id="6385002">,</span>&nbsp;<span class="ident" id="6385004">fmt</span><span class="op" id="6385007">.</span><span class="ident" id="6385008">Sprintf</span><span class="op" id="6385015">(</span><span class="string" id="6385016">&#34;duplicate&nbsp;architecture&nbsp;cpu=%v,&nbsp;subcpu=%#x&#34;</span><span class="op" id="6385059">,</span>&nbsp;<span class="ident" id="6385061">fa</span><span class="op" id="6385063">.</span><span class="ident" id="6385064">Cpu</span><span class="op" id="6385067">,</span>&nbsp;<span class="ident" id="6385069">fa</span><span class="op" id="6385071">.</span><span class="ident" id="6385072">SubCpu</span><span class="op" id="6385078">)</span><span class="op" id="6385079">,</span>&nbsp;<span class="ident" id="6385081">nil</span><span class="op" id="6385084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6385088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6385092">seenArches</span><span class="op" id="6385102">[</span><span class="ident" id="6385103">seenArch</span><span class="op" id="6385111">]</span>&nbsp;<span class="op" id="6385113">=</span>&nbsp;<span class="builtintype" id="6385115">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6385123">//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;Mach-O&nbsp;type&nbsp;matches&nbsp;that&nbsp;of&nbsp;the&nbsp;first&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385187">if</span>&nbsp;<span class="ident" id="6385190">i</span>&nbsp;<span class="op" id="6385192">==</span>&nbsp;<span class="num" id="6385195">0</span>&nbsp;<span class="op" id="6385197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6385202">machoType</span>&nbsp;<span class="op" id="6385212">=</span>&nbsp;<span class="ident" id="6385214">fa</span><span class="op" id="6385216">.</span><span class="ident" id="6385217">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6385224">}</span>&nbsp;<span class="keyword" id="6385226">else</span>&nbsp;<span class="op" id="6385231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385236">if</span>&nbsp;<span class="ident" id="6385239">fa</span><span class="op" id="6385241">.</span><span class="ident" id="6385242">Type</span>&nbsp;<span class="op" id="6385247">!=</span>&nbsp;<span class="ident" id="6385250">machoType</span>&nbsp;<span class="op" id="6385260">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385266">return</span>&nbsp;<span class="ident" id="6385273">nil</span><span class="op" id="6385276">,</span>&nbsp;<span class="op" id="6385278">&amp;</span><span class="ident" id="6385279">FormatError</span><span class="op" id="6385290">{</span><span class="ident" id="6385291">offset</span><span class="op" id="6385297">,</span>&nbsp;<span class="ident" id="6385299">fmt</span><span class="op" id="6385302">.</span><span class="ident" id="6385303">Sprintf</span><span class="op" id="6385310">(</span><span class="string" id="6385311">&#34;Mach-O&nbsp;type&nbsp;for&nbsp;architecture&nbsp;#%d&nbsp;(type=%#x)&nbsp;does&nbsp;not&nbsp;match&nbsp;first&nbsp;(type=%#x)&#34;</span><span class="op" id="6385388">,</span>&nbsp;<span class="ident" id="6385390">i</span><span class="op" id="6385391">,</span>&nbsp;<span class="ident" id="6385393">fa</span><span class="op" id="6385395">.</span><span class="ident" id="6385396">Type</span><span class="op" id="6385400">,</span>&nbsp;<span class="ident" id="6385402">machoType</span><span class="op" id="6385411">)</span><span class="op" id="6385412">,</span>&nbsp;<span class="ident" id="6385414">nil</span><span class="op" id="6385417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6385422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6385426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6385429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385433">return</span>&nbsp;<span class="op" id="6385440">&amp;</span><span class="ident" id="6385441">ff</span><span class="op" id="6385443">,</span>&nbsp;<span class="ident" id="6385445">nil</span><br>
<span class="lineno"></span><span class="op" id="6385449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6385452">//&nbsp;OpenFat&nbsp;opens&nbsp;the&nbsp;named&nbsp;file&nbsp;using&nbsp;os.Open&nbsp;and&nbsp;prepares&nbsp;it&nbsp;for&nbsp;use&nbsp;as&nbsp;a&nbsp;Mach-O</span><br>
<span class="lineno"></span><span class="comment" id="6385534">//&nbsp;universal&nbsp;binary.</span><br>
<span class="lineno">125</span><span class="keyword" id="6385555">func</span>&nbsp;<span class="ident" id="6385560">OpenFat</span><span class="op" id="6385567">(</span><span class="ident" id="6385568">name</span>&nbsp;<span class="builtintype" id="6385573">string</span><span class="op" id="6385579">)</span>&nbsp;<span class="op" id="6385581">(</span><span class="ident" id="6385582">ff</span>&nbsp;<span class="op" id="6385585">*</span><span class="ident" id="6385586">FatFile</span><span class="op" id="6385593">,</span>&nbsp;<span class="ident" id="6385595">err</span>&nbsp;<span class="builtintype" id="6385599">error</span><span class="op" id="6385604">)</span>&nbsp;<span class="op" id="6385606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6385609">f</span><span class="op" id="6385610">,</span>&nbsp;<span class="ident" id="6385612">err</span>&nbsp;<span class="op" id="6385616">:=</span>&nbsp;<span class="ident" id="6385619">os</span><span class="op" id="6385621">.</span><span class="ident" id="6385622">Open</span><span class="op" id="6385626">(</span><span class="ident" id="6385627">name</span><span class="op" id="6385631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385634">if</span>&nbsp;<span class="ident" id="6385637">err</span>&nbsp;<span class="op" id="6385641">!=</span>&nbsp;<span class="ident" id="6385644">nil</span>&nbsp;<span class="op" id="6385648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385652">return</span>&nbsp;<span class="ident" id="6385659">nil</span><span class="op" id="6385662">,</span>&nbsp;<span class="ident" id="6385664">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6385669">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6385672">ff</span><span class="op" id="6385674">,</span>&nbsp;<span class="ident" id="6385676">err</span>&nbsp;<span class="op" id="6385680">=</span>&nbsp;<span class="ident" id="6385682">NewFatFile</span><span class="op" id="6385692">(</span><span class="ident" id="6385693">f</span><span class="op" id="6385694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385697">if</span>&nbsp;<span class="ident" id="6385700">err</span>&nbsp;<span class="op" id="6385704">!=</span>&nbsp;<span class="ident" id="6385707">nil</span>&nbsp;<span class="op" id="6385711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6385715">f</span><span class="op" id="6385716">.</span><span class="ident" id="6385717">Close</span><span class="op" id="6385722">(</span><span class="op" id="6385723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385727">return</span>&nbsp;<span class="ident" id="6385734">nil</span><span class="op" id="6385737">,</span>&nbsp;<span class="ident" id="6385739">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6385744">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6385747">ff</span><span class="op" id="6385749">.</span><span class="ident" id="6385750">closer</span>&nbsp;<span class="op" id="6385757">=</span>&nbsp;<span class="ident" id="6385759">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385762">return</span><br>
<span class="lineno"></span><span class="op" id="6385769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6385772">func</span>&nbsp;<span class="op" id="6385777">(</span><span class="ident" id="6385778">ff</span>&nbsp;<span class="op" id="6385781">*</span><span class="ident" id="6385782">FatFile</span><span class="op" id="6385789">)</span>&nbsp;<span class="ident" id="6385791">Close</span><span class="op" id="6385796">(</span><span class="op" id="6385797">)</span>&nbsp;<span class="builtintype" id="6385799">error</span>&nbsp;<span class="op" id="6385805">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385808">var</span>&nbsp;<span class="ident" id="6385812">err</span>&nbsp;<span class="builtintype" id="6385816">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385823">if</span>&nbsp;<span class="ident" id="6385826">ff</span><span class="op" id="6385828">.</span><span class="ident" id="6385829">closer</span>&nbsp;<span class="op" id="6385836">!=</span>&nbsp;<span class="ident" id="6385839">nil</span>&nbsp;<span class="op" id="6385843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6385847">err</span>&nbsp;<span class="op" id="6385851">=</span>&nbsp;<span class="ident" id="6385853">ff</span><span class="op" id="6385855">.</span><span class="ident" id="6385856">closer</span><span class="op" id="6385862">.</span><span class="ident" id="6385863">Close</span><span class="op" id="6385868">(</span><span class="op" id="6385869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6385873">ff</span><span class="op" id="6385875">.</span><span class="ident" id="6385876">closer</span>&nbsp;<span class="op" id="6385883">=</span>&nbsp;<span class="ident" id="6385885">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6385890">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6385893">return</span>&nbsp;<span class="ident" id="6385900">err</span><br>
<span class="lineno"></span><span class="op" id="6385904">}</span>
</div>
</body>
</html>
