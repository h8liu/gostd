<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5113508">package</span>&nbsp;<span class="ident" id="5113516">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5113522">import</span>&nbsp;<span class="op" id="5113529">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5113532">&#34;io&#34;</span><br>
<span class="lineno">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5113539">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno"></span><span class="op" id="5113561">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5113564">//&nbsp;Parser&nbsp;parses&nbsp;a&nbsp;file&nbsp;input&nbsp;stream&nbsp;into&nbsp;top-level&nbsp;syntax&nbsp;blocks.</span><br>
<span class="lineno">10</span><span class="keyword" id="5113631">type</span>&nbsp;<span class="ident" id="5113636">parser</span>&nbsp;<span class="keyword" id="5113643">struct</span>&nbsp;<span class="op" id="5113650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5113653">x</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113658">*</span><span class="ident" id="5113659">stmtLexer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5113670">errs</span>&nbsp;<span class="op" id="5113675">*</span><span class="ident" id="5113676">lex8</span><span class="op" id="5113680">.</span><span class="ident" id="5113681">ErrorList</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5113693">t</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113699">*</span><span class="ident" id="5113700">lex8</span><span class="op" id="5113704">.</span><span class="ident" id="5113705">Token</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5113712">inErr</span>&nbsp;<span class="builtintype" id="5113718">bool</span><br>
<span class="lineno"></span><span class="op" id="5113723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5113726">func</span>&nbsp;<span class="ident" id="5113731">newParser</span><span class="op" id="5113740">(</span><span class="ident" id="5113741">file</span>&nbsp;<span class="builtintype" id="5113746">string</span><span class="op" id="5113752">,</span>&nbsp;<span class="ident" id="5113754">r</span>&nbsp;<span class="ident" id="5113756">io</span><span class="op" id="5113758">.</span><span class="ident" id="5113759">ReadCloser</span><span class="op" id="5113769">)</span>&nbsp;<span class="op" id="5113771">*</span><span class="ident" id="5113772">parser</span>&nbsp;<span class="op" id="5113779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5113782">ret</span>&nbsp;<span class="op" id="5113786">:=</span>&nbsp;<span class="builtinfunc" id="5113789">new</span><span class="op" id="5113792">(</span><span class="ident" id="5113793">parser</span><span class="op" id="5113799">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5113802">ret</span><span class="op" id="5113805">.</span><span class="ident" id="5113806">x</span>&nbsp;<span class="op" id="5113808">=</span>&nbsp;<span class="ident" id="5113810">newStmtLexer</span><span class="op" id="5113822">(</span><span class="ident" id="5113823">file</span><span class="op" id="5113827">,</span>&nbsp;<span class="ident" id="5113829">r</span><span class="op" id="5113830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5113833">ret</span><span class="op" id="5113836">.</span><span class="ident" id="5113837">errs</span>&nbsp;<span class="op" id="5113842">=</span>&nbsp;<span class="ident" id="5113844">lex8</span><span class="op" id="5113848">.</span><span class="ident" id="5113849">NewErrList</span><span class="op" id="5113859">(</span><span class="op" id="5113860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5113863">ret</span><span class="op" id="5113866">.</span><span class="ident" id="5113867">next</span><span class="op" id="5113871">(</span><span class="op" id="5113872">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5113876">return</span>&nbsp;<span class="ident" id="5113883">ret</span><br>
<span class="lineno">25</span><span class="op" id="5113887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5113890">func</span>&nbsp;<span class="op" id="5113895">(</span><span class="ident" id="5113896">p</span>&nbsp;<span class="op" id="5113898">*</span><span class="ident" id="5113899">parser</span><span class="op" id="5113905">)</span>&nbsp;<span class="ident" id="5113907">err</span><span class="op" id="5113910">(</span><span class="ident" id="5113911">pos</span>&nbsp;<span class="op" id="5113915">*</span><span class="ident" id="5113916">lex8</span><span class="op" id="5113920">.</span><span class="ident" id="5113921">Pos</span><span class="op" id="5113924">,</span>&nbsp;<span class="ident" id="5113926">f</span>&nbsp;<span class="builtintype" id="5113928">string</span><span class="op" id="5113934">,</span>&nbsp;<span class="ident" id="5113936">args</span>&nbsp;<span class="op" id="5113941">...</span><span class="keyword" id="5113944">interface</span><span class="op" id="5113953">{</span><span class="op" id="5113954">}</span><span class="op" id="5113955">)</span>&nbsp;<span class="op" id="5113957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5113960">p</span><span class="op" id="5113961">.</span><span class="ident" id="5113962">inErr</span>&nbsp;<span class="op" id="5113968">=</span>&nbsp;<span class="builtintype" id="5113970">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5113976">p</span><span class="op" id="5113977">.</span><span class="ident" id="5113978">errs</span><span class="op" id="5113982">.</span><span class="ident" id="5113983">Addf</span><span class="op" id="5113987">(</span><span class="ident" id="5113988">pos</span><span class="op" id="5113991">,</span>&nbsp;<span class="ident" id="5113993">f</span><span class="op" id="5113994">,</span>&nbsp;<span class="ident" id="5113996">args</span><span class="op" id="5114000">...</span><span class="op" id="5114003">)</span><br>
<span class="lineno">30</span><span class="op" id="5114005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5114008">func</span>&nbsp;<span class="op" id="5114013">(</span><span class="ident" id="5114014">p</span>&nbsp;<span class="op" id="5114016">*</span><span class="ident" id="5114017">parser</span><span class="op" id="5114023">)</span>&nbsp;<span class="ident" id="5114025">see</span><span class="op" id="5114028">(</span><span class="ident" id="5114029">t</span>&nbsp;<span class="builtintype" id="5114031">int</span><span class="op" id="5114034">)</span>&nbsp;<span class="builtintype" id="5114036">bool</span>&nbsp;<span class="op" id="5114041">{</span>&nbsp;<span class="keyword" id="5114043">return</span>&nbsp;<span class="ident" id="5114050">p</span><span class="op" id="5114051">.</span><span class="ident" id="5114052">t</span><span class="op" id="5114053">.</span><span class="ident" id="5114054">Type</span>&nbsp;<span class="op" id="5114059">==</span>&nbsp;<span class="ident" id="5114062">t</span>&nbsp;<span class="op" id="5114064">}</span><br>
<span class="lineno"></span><span class="keyword" id="5114066">func</span>&nbsp;<span class="op" id="5114071">(</span><span class="ident" id="5114072">p</span>&nbsp;<span class="op" id="5114074">*</span><span class="ident" id="5114075">parser</span><span class="op" id="5114081">)</span>&nbsp;<span class="ident" id="5114083">seeKeyword</span><span class="op" id="5114093">(</span><span class="ident" id="5114094">kw</span>&nbsp;<span class="builtintype" id="5114097">string</span><span class="op" id="5114103">)</span>&nbsp;<span class="builtintype" id="5114105">bool</span>&nbsp;<span class="op" id="5114110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114113">return</span>&nbsp;<span class="ident" id="5114120">p</span><span class="op" id="5114121">.</span><span class="ident" id="5114122">see</span><span class="op" id="5114125">(</span><span class="ident" id="5114126">Keyword</span><span class="op" id="5114133">)</span>&nbsp;<span class="op" id="5114135">&amp;&amp;</span>&nbsp;<span class="ident" id="5114138">p</span><span class="op" id="5114139">.</span><span class="ident" id="5114140">t</span><span class="op" id="5114141">.</span><span class="ident" id="5114142">Lit</span>&nbsp;<span class="op" id="5114146">==</span>&nbsp;<span class="ident" id="5114149">kw</span><br>
<span class="lineno">35</span><span class="op" id="5114152">}</span><br>
<span class="lineno"></span><span class="keyword" id="5114154">func</span>&nbsp;<span class="op" id="5114159">(</span><span class="ident" id="5114160">p</span>&nbsp;<span class="op" id="5114162">*</span><span class="ident" id="5114163">parser</span><span class="op" id="5114169">)</span>&nbsp;<span class="ident" id="5114171">clearErr</span><span class="op" id="5114179">(</span><span class="op" id="5114180">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114191">{</span>&nbsp;<span class="ident" id="5114193">p</span><span class="op" id="5114194">.</span><span class="ident" id="5114195">inErr</span>&nbsp;<span class="op" id="5114201">=</span>&nbsp;<span class="builtintype" id="5114203">false</span>&nbsp;<span class="op" id="5114209">}</span><br>
<span class="lineno"></span><span class="keyword" id="5114211">func</span>&nbsp;<span class="op" id="5114216">(</span><span class="ident" id="5114217">p</span>&nbsp;<span class="op" id="5114219">*</span><span class="ident" id="5114220">parser</span><span class="op" id="5114226">)</span>&nbsp;<span class="ident" id="5114228">hasErr</span><span class="op" id="5114234">(</span><span class="op" id="5114235">)</span>&nbsp;<span class="builtintype" id="5114237">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114248">{</span>&nbsp;<span class="keyword" id="5114250">return</span>&nbsp;<span class="ident" id="5114257">p</span><span class="op" id="5114258">.</span><span class="ident" id="5114259">inErr</span>&nbsp;<span class="op" id="5114265">}</span><br>
<span class="lineno"></span><span class="keyword" id="5114267">func</span>&nbsp;<span class="op" id="5114272">(</span><span class="ident" id="5114273">p</span>&nbsp;<span class="op" id="5114275">*</span><span class="ident" id="5114276">parser</span><span class="op" id="5114282">)</span>&nbsp;<span class="ident" id="5114284">token</span><span class="op" id="5114289">(</span><span class="op" id="5114290">)</span>&nbsp;<span class="op" id="5114292">*</span><span class="ident" id="5114293">lex8</span><span class="op" id="5114297">.</span><span class="ident" id="5114298">Token</span>&nbsp;<span class="op" id="5114304">{</span>&nbsp;<span class="keyword" id="5114306">return</span>&nbsp;<span class="ident" id="5114313">p</span><span class="op" id="5114314">.</span><span class="ident" id="5114315">t</span>&nbsp;<span class="op" id="5114317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="5114320">func</span>&nbsp;<span class="op" id="5114325">(</span><span class="ident" id="5114326">p</span>&nbsp;<span class="op" id="5114328">*</span><span class="ident" id="5114329">parser</span><span class="op" id="5114335">)</span>&nbsp;<span class="ident" id="5114337">next</span><span class="op" id="5114341">(</span><span class="op" id="5114342">)</span>&nbsp;<span class="op" id="5114344">*</span><span class="ident" id="5114345">lex8</span><span class="op" id="5114349">.</span><span class="ident" id="5114350">Token</span>&nbsp;<span class="op" id="5114356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5114359">p</span><span class="op" id="5114360">.</span><span class="ident" id="5114361">t</span>&nbsp;<span class="op" id="5114363">=</span>&nbsp;<span class="ident" id="5114365">p</span><span class="op" id="5114366">.</span><span class="ident" id="5114367">x</span><span class="op" id="5114368">.</span><span class="ident" id="5114369">Token</span><span class="op" id="5114374">(</span><span class="op" id="5114375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114378">return</span>&nbsp;<span class="ident" id="5114385">p</span><span class="op" id="5114386">.</span><span class="ident" id="5114387">t</span><br>
<span class="lineno"></span><span class="op" id="5114389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="5114392">func</span>&nbsp;<span class="ident" id="5114397">typeStr</span><span class="op" id="5114404">(</span><span class="ident" id="5114405">t</span>&nbsp;<span class="builtintype" id="5114407">int</span><span class="op" id="5114410">)</span>&nbsp;<span class="builtintype" id="5114412">string</span>&nbsp;<span class="op" id="5114419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114422">switch</span>&nbsp;<span class="ident" id="5114429">t</span>&nbsp;<span class="op" id="5114431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114434">case</span>&nbsp;<span class="ident" id="5114439">lex8</span><span class="op" id="5114443">.</span><span class="ident" id="5114444">EOF</span><span class="op" id="5114447">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114451">return</span>&nbsp;<span class="string" id="5114458">&#34;eof&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114465">case</span>&nbsp;<span class="ident" id="5114470">Comment</span><span class="op" id="5114477">:</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114481">return</span>&nbsp;<span class="string" id="5114488">&#34;comment&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114499">case</span>&nbsp;<span class="ident" id="5114504">Keyword</span><span class="op" id="5114511">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114515">return</span>&nbsp;<span class="string" id="5114522">&#34;keyword&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114533">case</span>&nbsp;<span class="ident" id="5114538">Operand</span><span class="op" id="5114545">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114549">return</span>&nbsp;<span class="string" id="5114556">&#34;operand&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114567">case</span>&nbsp;<span class="ident" id="5114572">String</span><span class="op" id="5114578">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114582">return</span>&nbsp;<span class="string" id="5114589">&#34;string&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114599">case</span>&nbsp;<span class="ident" id="5114604">Lbrace</span><span class="op" id="5114610">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114614">return</span>&nbsp;<span class="string" id="5114621">&#34;&#39;{&#39;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114628">case</span>&nbsp;<span class="ident" id="5114633">Rbrace</span><span class="op" id="5114639">:</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114643">return</span>&nbsp;<span class="string" id="5114650">&#34;&#39;}&#39;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114657">case</span>&nbsp;<span class="ident" id="5114662">Semi</span><span class="op" id="5114666">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114670">return</span>&nbsp;<span class="string" id="5114677">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114682">case</span>&nbsp;<span class="ident" id="5114687">Endl</span><span class="op" id="5114691">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114695">return</span>&nbsp;<span class="string" id="5114702">&#34;end-line&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114714">case</span>&nbsp;<span class="ident" id="5114719">lex8</span><span class="op" id="5114723">.</span><span class="ident" id="5114724">Illegal</span><span class="op" id="5114731">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114735">return</span>&nbsp;<span class="string" id="5114742">&#34;illegal&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5114753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114757">return</span>&nbsp;<span class="string" id="5114764">&#34;unknown&#34;</span><br>
<span class="lineno">70</span><span class="op" id="5114774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5114777">func</span>&nbsp;<span class="op" id="5114782">(</span><span class="ident" id="5114783">p</span>&nbsp;<span class="op" id="5114785">*</span><span class="ident" id="5114786">parser</span><span class="op" id="5114792">)</span>&nbsp;<span class="ident" id="5114794">expectKeyword</span><span class="op" id="5114807">(</span><span class="ident" id="5114808">lit</span>&nbsp;<span class="builtintype" id="5114812">string</span><span class="op" id="5114818">)</span>&nbsp;<span class="op" id="5114820">*</span><span class="ident" id="5114821">lex8</span><span class="op" id="5114825">.</span><span class="ident" id="5114826">Token</span>&nbsp;<span class="op" id="5114832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114835">if</span>&nbsp;<span class="ident" id="5114838">p</span><span class="op" id="5114839">.</span><span class="ident" id="5114840">inErr</span>&nbsp;<span class="op" id="5114846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114850">return</span>&nbsp;<span class="ident" id="5114857">nil</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5114862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114866">if</span>&nbsp;<span class="ident" id="5114869">p</span><span class="op" id="5114870">.</span><span class="ident" id="5114871">t</span><span class="op" id="5114872">.</span><span class="ident" id="5114873">Type</span>&nbsp;<span class="op" id="5114878">!=</span>&nbsp;<span class="ident" id="5114881">Keyword</span>&nbsp;<span class="op" id="5114889">||</span>&nbsp;<span class="ident" id="5114892">p</span><span class="op" id="5114893">.</span><span class="ident" id="5114894">t</span><span class="op" id="5114895">.</span><span class="ident" id="5114896">Lit</span>&nbsp;<span class="op" id="5114900">!=</span>&nbsp;<span class="ident" id="5114903">lit</span>&nbsp;<span class="op" id="5114907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5114911">p</span><span class="op" id="5114912">.</span><span class="ident" id="5114913">err</span><span class="op" id="5114916">(</span><span class="ident" id="5114917">p</span><span class="op" id="5114918">.</span><span class="ident" id="5114919">t</span><span class="op" id="5114920">.</span><span class="ident" id="5114921">Pos</span><span class="op" id="5114924">,</span>&nbsp;<span class="string" id="5114926">&#34;expect&nbsp;keyword&nbsp;%s,&nbsp;got&nbsp;%s&#34;</span><span class="op" id="5114953">,</span>&nbsp;<span class="ident" id="5114955">lit</span><span class="op" id="5114958">,</span>&nbsp;<span class="ident" id="5114960">typeStr</span><span class="op" id="5114967">(</span><span class="ident" id="5114968">p</span><span class="op" id="5114969">.</span><span class="ident" id="5114970">t</span><span class="op" id="5114971">.</span><span class="ident" id="5114972">Type</span><span class="op" id="5114976">)</span><span class="op" id="5114977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5114981">return</span>&nbsp;<span class="ident" id="5114988">nil</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5114993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5114997">ret</span>&nbsp;<span class="op" id="5115001">:=</span>&nbsp;<span class="ident" id="5115004">p</span><span class="op" id="5115005">.</span><span class="ident" id="5115006">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5115009">p</span><span class="op" id="5115010">.</span><span class="ident" id="5115011">next</span><span class="op" id="5115015">(</span><span class="op" id="5115016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115019">return</span>&nbsp;<span class="ident" id="5115026">ret</span><br>
<span class="lineno">85</span><span class="op" id="5115030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5115033">func</span>&nbsp;<span class="op" id="5115038">(</span><span class="ident" id="5115039">p</span>&nbsp;<span class="op" id="5115041">*</span><span class="ident" id="5115042">parser</span><span class="op" id="5115048">)</span>&nbsp;<span class="ident" id="5115050">expect</span><span class="op" id="5115056">(</span><span class="ident" id="5115057">t</span>&nbsp;<span class="builtintype" id="5115059">int</span><span class="op" id="5115062">)</span>&nbsp;<span class="op" id="5115064">*</span><span class="ident" id="5115065">lex8</span><span class="op" id="5115069">.</span><span class="ident" id="5115070">Token</span>&nbsp;<span class="op" id="5115076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115079">if</span>&nbsp;<span class="ident" id="5115082">p</span><span class="op" id="5115083">.</span><span class="ident" id="5115084">inErr</span>&nbsp;<span class="op" id="5115090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115094">return</span>&nbsp;<span class="ident" id="5115101">nil</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5115106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115110">if</span>&nbsp;<span class="ident" id="5115113">p</span><span class="op" id="5115114">.</span><span class="ident" id="5115115">t</span><span class="op" id="5115116">.</span><span class="ident" id="5115117">Type</span>&nbsp;<span class="op" id="5115122">!=</span>&nbsp;<span class="ident" id="5115125">t</span>&nbsp;<span class="op" id="5115127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5115131">p</span><span class="op" id="5115132">.</span><span class="ident" id="5115133">err</span><span class="op" id="5115136">(</span><span class="ident" id="5115137">p</span><span class="op" id="5115138">.</span><span class="ident" id="5115139">t</span><span class="op" id="5115140">.</span><span class="ident" id="5115141">Pos</span><span class="op" id="5115144">,</span>&nbsp;<span class="string" id="5115146">&#34;expect&nbsp;%s,&nbsp;got&nbsp;%s&#34;</span><span class="op" id="5115165">,</span>&nbsp;<span class="ident" id="5115167">typeStr</span><span class="op" id="5115174">(</span><span class="ident" id="5115175">t</span><span class="op" id="5115176">)</span><span class="op" id="5115177">,</span>&nbsp;<span class="ident" id="5115179">typeStr</span><span class="op" id="5115186">(</span><span class="ident" id="5115187">p</span><span class="op" id="5115188">.</span><span class="ident" id="5115189">t</span><span class="op" id="5115190">.</span><span class="ident" id="5115191">Type</span><span class="op" id="5115195">)</span><span class="op" id="5115196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115200">return</span>&nbsp;<span class="ident" id="5115207">nil</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5115212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5115216">ret</span>&nbsp;<span class="op" id="5115220">:=</span>&nbsp;<span class="ident" id="5115223">p</span><span class="op" id="5115224">.</span><span class="ident" id="5115225">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5115228">p</span><span class="op" id="5115229">.</span><span class="ident" id="5115230">next</span><span class="op" id="5115234">(</span><span class="op" id="5115235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115238">return</span>&nbsp;<span class="ident" id="5115245">ret</span><br>
<span class="lineno">100</span><span class="op" id="5115249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5115252">func</span>&nbsp;<span class="op" id="5115257">(</span><span class="ident" id="5115258">p</span>&nbsp;<span class="op" id="5115260">*</span><span class="ident" id="5115261">parser</span><span class="op" id="5115267">)</span>&nbsp;<span class="ident" id="5115269">acceptType</span><span class="op" id="5115279">(</span><span class="ident" id="5115280">t</span>&nbsp;<span class="builtintype" id="5115282">int</span><span class="op" id="5115285">)</span>&nbsp;<span class="builtintype" id="5115287">bool</span>&nbsp;<span class="op" id="5115292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115295">if</span>&nbsp;<span class="ident" id="5115298">p</span><span class="op" id="5115299">.</span><span class="ident" id="5115300">t</span><span class="op" id="5115301">.</span><span class="ident" id="5115302">Type</span>&nbsp;<span class="op" id="5115307">!=</span>&nbsp;<span class="ident" id="5115310">t</span>&nbsp;<span class="op" id="5115312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115316">return</span>&nbsp;<span class="builtintype" id="5115323">false</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5115330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5115333">p</span><span class="op" id="5115334">.</span><span class="ident" id="5115335">next</span><span class="op" id="5115339">(</span><span class="op" id="5115340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115343">return</span>&nbsp;<span class="builtintype" id="5115350">true</span><br>
<span class="lineno"></span><span class="op" id="5115355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="5115358">func</span>&nbsp;<span class="op" id="5115363">(</span><span class="ident" id="5115364">p</span>&nbsp;<span class="op" id="5115366">*</span><span class="ident" id="5115367">parser</span><span class="op" id="5115373">)</span>&nbsp;<span class="ident" id="5115375">skipStmt</span><span class="op" id="5115383">(</span><span class="op" id="5115384">)</span>&nbsp;<span class="op" id="5115386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115389">for</span>&nbsp;<span class="op" id="5115393">!</span><span class="op" id="5115394">(</span><span class="ident" id="5115395">p</span><span class="op" id="5115396">.</span><span class="ident" id="5115397">see</span><span class="op" id="5115400">(</span><span class="ident" id="5115401">Semi</span><span class="op" id="5115405">)</span>&nbsp;<span class="op" id="5115407">||</span>&nbsp;<span class="ident" id="5115410">p</span><span class="op" id="5115411">.</span><span class="ident" id="5115412">see</span><span class="op" id="5115415">(</span><span class="ident" id="5115416">lex8</span><span class="op" id="5115420">.</span><span class="ident" id="5115421">EOF</span><span class="op" id="5115424">)</span><span class="op" id="5115425">)</span>&nbsp;<span class="op" id="5115427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5115431">p</span><span class="op" id="5115432">.</span><span class="ident" id="5115433">next</span><span class="op" id="5115437">(</span><span class="op" id="5115438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5115441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115445">if</span>&nbsp;<span class="ident" id="5115448">p</span><span class="op" id="5115449">.</span><span class="ident" id="5115450">see</span><span class="op" id="5115453">(</span><span class="ident" id="5115454">Semi</span><span class="op" id="5115458">)</span>&nbsp;<span class="op" id="5115460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5115464">p</span><span class="op" id="5115465">.</span><span class="ident" id="5115466">next</span><span class="op" id="5115470">(</span><span class="op" id="5115471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5115474">}</span><br>
<span class="lineno"></span><span class="op" id="5115476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="5115479">func</span>&nbsp;<span class="op" id="5115484">(</span><span class="ident" id="5115485">p</span>&nbsp;<span class="op" id="5115487">*</span><span class="ident" id="5115488">parser</span><span class="op" id="5115494">)</span>&nbsp;<span class="ident" id="5115496">skipErrStmt</span><span class="op" id="5115507">(</span><span class="op" id="5115508">)</span>&nbsp;<span class="builtintype" id="5115510">bool</span>&nbsp;<span class="op" id="5115515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115518">if</span>&nbsp;<span class="op" id="5115521">!</span><span class="ident" id="5115522">p</span><span class="op" id="5115523">.</span><span class="ident" id="5115524">inErr</span>&nbsp;<span class="op" id="5115530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115534">return</span>&nbsp;<span class="builtintype" id="5115541">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5115548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5115552">p</span><span class="op" id="5115553">.</span><span class="ident" id="5115554">skipStmt</span><span class="op" id="5115562">(</span><span class="op" id="5115563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5115566">p</span><span class="op" id="5115567">.</span><span class="ident" id="5115568">clearErr</span><span class="op" id="5115576">(</span><span class="op" id="5115577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115580">return</span>&nbsp;<span class="builtintype" id="5115587">true</span><br>
<span class="lineno"></span><span class="op" id="5115592">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="5115595">//&nbsp;Errs&nbsp;returns&nbsp;the&nbsp;parsing&nbsp;errors</span><br>
<span class="lineno"></span><span class="keyword" id="5115630">func</span>&nbsp;<span class="op" id="5115635">(</span><span class="ident" id="5115636">p</span>&nbsp;<span class="op" id="5115638">*</span><span class="ident" id="5115639">parser</span><span class="op" id="5115645">)</span>&nbsp;<span class="ident" id="5115647">Errs</span><span class="op" id="5115651">(</span><span class="op" id="5115652">)</span>&nbsp;<span class="op" id="5115654">[</span><span class="op" id="5115655">]</span><span class="op" id="5115656">*</span><span class="ident" id="5115657">lex8</span><span class="op" id="5115661">.</span><span class="ident" id="5115662">Error</span>&nbsp;<span class="op" id="5115668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5115671">ret</span>&nbsp;<span class="op" id="5115675">:=</span>&nbsp;<span class="ident" id="5115678">p</span><span class="op" id="5115679">.</span><span class="ident" id="5115680">x</span><span class="op" id="5115681">.</span><span class="ident" id="5115682">Errs</span><span class="op" id="5115686">(</span><span class="op" id="5115687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115690">if</span>&nbsp;<span class="ident" id="5115693">ret</span>&nbsp;<span class="op" id="5115697">!=</span>&nbsp;<span class="ident" id="5115700">nil</span>&nbsp;<span class="op" id="5115704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115708">return</span>&nbsp;<span class="ident" id="5115715">ret</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5115720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5115723">return</span>&nbsp;<span class="ident" id="5115730">p</span><span class="op" id="5115731">.</span><span class="ident" id="5115732">errs</span><span class="op" id="5115736">.</span><span class="ident" id="5115737">Errs</span><br>
<span class="lineno"></span><span class="op" id="5115742">}</span>
</div>
</body>
</html>
