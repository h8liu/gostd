<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html" class="current">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6691161">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6691216">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6691270">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6691321">package</span>&nbsp;<span class="ident" id="6691329">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6691334">import</span>&nbsp;<span class="op" id="6691341">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6691344">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6691355">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6691366">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6691376">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6691379">var</span>&nbsp;<span class="ident" id="6691383">parseIPTests</span>&nbsp;<span class="op" id="6691396">=</span>&nbsp;<span class="op" id="6691398">[</span><span class="op" id="6691399">]</span><span class="keyword" id="6691400">struct</span>&nbsp;<span class="op" id="6691407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691410">in</span>&nbsp;&nbsp;<span class="builtintype" id="6691414">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691422">out</span>&nbsp;<span class="ident" id="6691426">IP</span><br>
<span class="lineno"></span><span class="op" id="6691429">}</span><span class="op" id="6691430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691433">{</span><span class="string" id="6691434">&#34;127.0.1.2&#34;</span><span class="op" id="6691445">,</span>&nbsp;<span class="ident" id="6691447">IPv4</span><span class="op" id="6691451">(</span><span class="num" id="6691452">127</span><span class="op" id="6691455">,</span>&nbsp;<span class="num" id="6691457">0</span><span class="op" id="6691458">,</span>&nbsp;<span class="num" id="6691460">1</span><span class="op" id="6691461">,</span>&nbsp;<span class="num" id="6691463">2</span><span class="op" id="6691464">)</span><span class="op" id="6691465">}</span><span class="op" id="6691466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691469">{</span><span class="string" id="6691470">&#34;127.0.0.1&#34;</span><span class="op" id="6691481">,</span>&nbsp;<span class="ident" id="6691483">IPv4</span><span class="op" id="6691487">(</span><span class="num" id="6691488">127</span><span class="op" id="6691491">,</span>&nbsp;<span class="num" id="6691493">0</span><span class="op" id="6691494">,</span>&nbsp;<span class="num" id="6691496">0</span><span class="op" id="6691497">,</span>&nbsp;<span class="num" id="6691499">1</span><span class="op" id="6691500">)</span><span class="op" id="6691501">}</span><span class="op" id="6691502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691505">{</span><span class="string" id="6691506">&#34;127.0.0.256&#34;</span><span class="op" id="6691519">,</span>&nbsp;<span class="builtintype" id="6691521">nil</span><span class="op" id="6691524">}</span><span class="op" id="6691525">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691528">{</span><span class="string" id="6691529">&#34;abc&#34;</span><span class="op" id="6691534">,</span>&nbsp;<span class="builtintype" id="6691536">nil</span><span class="op" id="6691539">}</span><span class="op" id="6691540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691543">{</span><span class="string" id="6691544">&#34;123:&#34;</span><span class="op" id="6691550">,</span>&nbsp;<span class="builtintype" id="6691552">nil</span><span class="op" id="6691555">}</span><span class="op" id="6691556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691559">{</span><span class="string" id="6691560">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="6691578">,</span>&nbsp;<span class="ident" id="6691580">IPv4</span><span class="op" id="6691584">(</span><span class="num" id="6691585">127</span><span class="op" id="6691588">,</span>&nbsp;<span class="num" id="6691590">0</span><span class="op" id="6691591">,</span>&nbsp;<span class="num" id="6691593">0</span><span class="op" id="6691594">,</span>&nbsp;<span class="num" id="6691596">1</span><span class="op" id="6691597">)</span><span class="op" id="6691598">}</span><span class="op" id="6691599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691602">{</span><span class="string" id="6691603">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="6691625">,</span>&nbsp;<span class="ident" id="6691627">IP</span><span class="op" id="6691629">{</span><span class="num" id="6691630">0x20</span><span class="op" id="6691634">,</span>&nbsp;<span class="num" id="6691636">0x01</span><span class="op" id="6691640">,</span>&nbsp;<span class="num" id="6691642">0x48</span><span class="op" id="6691646">,</span>&nbsp;<span class="num" id="6691648">0x60</span><span class="op" id="6691652">,</span>&nbsp;<span class="num" id="6691654">0</span><span class="op" id="6691655">,</span>&nbsp;<span class="num" id="6691657">0</span><span class="op" id="6691658">,</span>&nbsp;<span class="num" id="6691660">0x20</span><span class="op" id="6691664">,</span>&nbsp;<span class="num" id="6691666">0x01</span><span class="op" id="6691670">,</span>&nbsp;<span class="num" id="6691672">0</span><span class="op" id="6691673">,</span>&nbsp;<span class="num" id="6691675">0</span><span class="op" id="6691676">,</span>&nbsp;<span class="num" id="6691678">0</span><span class="op" id="6691679">,</span>&nbsp;<span class="num" id="6691681">0</span><span class="op" id="6691682">,</span>&nbsp;<span class="num" id="6691684">0</span><span class="op" id="6691685">,</span>&nbsp;<span class="num" id="6691687">0</span><span class="op" id="6691688">,</span>&nbsp;<span class="num" id="6691690">0x00</span><span class="op" id="6691694">,</span>&nbsp;<span class="num" id="6691696">0x68</span><span class="op" id="6691700">}</span><span class="op" id="6691701">}</span><span class="op" id="6691702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691705">{</span><span class="string" id="6691706">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="6691724">,</span>&nbsp;<span class="ident" id="6691726">IPv4</span><span class="op" id="6691730">(</span><span class="num" id="6691731">74</span><span class="op" id="6691733">,</span>&nbsp;<span class="num" id="6691735">125</span><span class="op" id="6691738">,</span>&nbsp;<span class="num" id="6691740">19</span><span class="op" id="6691742">,</span>&nbsp;<span class="num" id="6691744">99</span><span class="op" id="6691746">)</span><span class="op" id="6691747">}</span><span class="op" id="6691748">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691751">{</span><span class="string" id="6691752">&#34;fe80::1%lo0&#34;</span><span class="op" id="6691765">,</span>&nbsp;<span class="builtintype" id="6691767">nil</span><span class="op" id="6691770">}</span><span class="op" id="6691771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691774">{</span><span class="string" id="6691775">&#34;fe80::1%911&#34;</span><span class="op" id="6691788">,</span>&nbsp;<span class="builtintype" id="6691790">nil</span><span class="op" id="6691793">}</span><span class="op" id="6691794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691797">{</span><span class="string" id="6691798">&#34;&#34;</span><span class="op" id="6691800">,</span>&nbsp;<span class="builtintype" id="6691802">nil</span><span class="op" id="6691805">}</span><span class="op" id="6691806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691809">{</span><span class="string" id="6691810">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="6691836">,</span>&nbsp;<span class="builtintype" id="6691838">nil</span><span class="op" id="6691841">}</span><span class="op" id="6691842">,</span>&nbsp;<span class="comment" id="6691844">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="6691858">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="6691861">func</span>&nbsp;<span class="ident" id="6691866">TestParseIP</span><span class="op" id="6691877">(</span><span class="ident" id="6691878">t</span>&nbsp;<span class="op" id="6691880">*</span><span class="ident" id="6691881">testing</span><span class="op" id="6691888">.</span><span class="ident" id="6691889">T</span><span class="op" id="6691890">)</span>&nbsp;<span class="op" id="6691892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6691895">for</span>&nbsp;<span class="ident" id="6691899">_</span><span class="op" id="6691900">,</span>&nbsp;<span class="ident" id="6691902">tt</span>&nbsp;<span class="op" id="6691905">:=</span>&nbsp;<span class="keyword" id="6691908">range</span>&nbsp;<span class="ident" id="6691914">parseIPTests</span>&nbsp;<span class="op" id="6691927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6691931">if</span>&nbsp;<span class="ident" id="6691934">out</span>&nbsp;<span class="op" id="6691938">:=</span>&nbsp;<span class="ident" id="6691941">ParseIP</span><span class="op" id="6691948">(</span><span class="ident" id="6691949">tt</span><span class="op" id="6691951">.</span><span class="ident" id="6691952">in</span><span class="op" id="6691954">)</span><span class="op" id="6691955">;</span>&nbsp;<span class="op" id="6691957">!</span><span class="ident" id="6691958">reflect</span><span class="op" id="6691965">.</span><span class="ident" id="6691966">DeepEqual</span><span class="op" id="6691975">(</span><span class="ident" id="6691976">out</span><span class="op" id="6691979">,</span>&nbsp;<span class="ident" id="6691981">tt</span><span class="op" id="6691983">.</span><span class="ident" id="6691984">out</span><span class="op" id="6691987">)</span>&nbsp;<span class="op" id="6691989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691994">t</span><span class="op" id="6691995">.</span><span class="ident" id="6691996">Errorf</span><span class="op" id="6692002">(</span><span class="string" id="6692003">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6692030">,</span>&nbsp;<span class="ident" id="6692032">tt</span><span class="op" id="6692034">.</span><span class="ident" id="6692035">in</span><span class="op" id="6692037">,</span>&nbsp;<span class="ident" id="6692039">out</span><span class="op" id="6692042">,</span>&nbsp;<span class="ident" id="6692044">tt</span><span class="op" id="6692046">.</span><span class="ident" id="6692047">out</span><span class="op" id="6692050">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692058">if</span>&nbsp;<span class="ident" id="6692061">tt</span><span class="op" id="6692063">.</span><span class="ident" id="6692064">in</span>&nbsp;<span class="op" id="6692067">==</span>&nbsp;<span class="string" id="6692070">&#34;&#34;</span>&nbsp;<span class="op" id="6692073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6692078">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692120">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692131">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692135">var</span>&nbsp;<span class="ident" id="6692139">out</span>&nbsp;<span class="ident" id="6692143">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692148">if</span>&nbsp;<span class="ident" id="6692151">err</span>&nbsp;<span class="op" id="6692155">:=</span>&nbsp;<span class="ident" id="6692158">out</span><span class="op" id="6692161">.</span><span class="ident" id="6692162">UnmarshalText</span><span class="op" id="6692175">(</span><span class="op" id="6692176">[</span><span class="op" id="6692177">]</span><span class="builtintype" id="6692178">byte</span><span class="op" id="6692182">(</span><span class="ident" id="6692183">tt</span><span class="op" id="6692185">.</span><span class="ident" id="6692186">in</span><span class="op" id="6692188">)</span><span class="op" id="6692189">)</span><span class="op" id="6692190">;</span>&nbsp;<span class="op" id="6692192">!</span><span class="ident" id="6692193">reflect</span><span class="op" id="6692200">.</span><span class="ident" id="6692201">DeepEqual</span><span class="op" id="6692210">(</span><span class="ident" id="6692211">out</span><span class="op" id="6692214">,</span>&nbsp;<span class="ident" id="6692216">tt</span><span class="op" id="6692218">.</span><span class="ident" id="6692219">out</span><span class="op" id="6692222">)</span>&nbsp;<span class="op" id="6692224">||</span>&nbsp;<span class="op" id="6692227">(</span><span class="ident" id="6692228">tt</span><span class="op" id="6692230">.</span><span class="ident" id="6692231">out</span>&nbsp;<span class="op" id="6692235">==</span>&nbsp;<span class="builtintype" id="6692238">nil</span><span class="op" id="6692241">)</span>&nbsp;<span class="op" id="6692243">!=</span>&nbsp;<span class="op" id="6692246">(</span><span class="ident" id="6692247">err</span>&nbsp;<span class="op" id="6692251">!=</span>&nbsp;<span class="builtintype" id="6692254">nil</span><span class="op" id="6692257">)</span>&nbsp;<span class="op" id="6692259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6692264">t</span><span class="op" id="6692265">.</span><span class="ident" id="6692266">Errorf</span><span class="op" id="6692272">(</span><span class="string" id="6692273">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6692313">,</span>&nbsp;<span class="ident" id="6692315">tt</span><span class="op" id="6692317">.</span><span class="ident" id="6692318">in</span><span class="op" id="6692320">,</span>&nbsp;<span class="ident" id="6692322">out</span><span class="op" id="6692325">,</span>&nbsp;<span class="ident" id="6692327">err</span><span class="op" id="6692330">,</span>&nbsp;<span class="ident" id="6692332">tt</span><span class="op" id="6692334">.</span><span class="ident" id="6692335">out</span><span class="op" id="6692338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692345">}</span><br>
<span class="lineno">45</span><span class="op" id="6692347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6692350">func</span>&nbsp;<span class="ident" id="6692355">BenchmarkParseIP</span><span class="op" id="6692371">(</span><span class="ident" id="6692372">b</span>&nbsp;<span class="op" id="6692374">*</span><span class="ident" id="6692375">testing</span><span class="op" id="6692382">.</span><span class="ident" id="6692383">B</span><span class="op" id="6692384">)</span>&nbsp;<span class="op" id="6692386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692389">for</span>&nbsp;<span class="ident" id="6692393">i</span>&nbsp;<span class="op" id="6692395">:=</span>&nbsp;<span class="num" id="6692398">0</span><span class="op" id="6692399">;</span>&nbsp;<span class="ident" id="6692401">i</span>&nbsp;<span class="op" id="6692403">&lt;</span>&nbsp;<span class="ident" id="6692405">b</span><span class="op" id="6692406">.</span><span class="ident" id="6692407">N</span><span class="op" id="6692408">;</span>&nbsp;<span class="ident" id="6692410">i</span><span class="op" id="6692411">++</span>&nbsp;<span class="op" id="6692414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692418">for</span>&nbsp;<span class="ident" id="6692422">_</span><span class="op" id="6692423">,</span>&nbsp;<span class="ident" id="6692425">tt</span>&nbsp;<span class="op" id="6692428">:=</span>&nbsp;<span class="keyword" id="6692431">range</span>&nbsp;<span class="ident" id="6692437">parseIPTests</span>&nbsp;<span class="op" id="6692450">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6692455">ParseIP</span><span class="op" id="6692462">(</span><span class="ident" id="6692463">tt</span><span class="op" id="6692465">.</span><span class="ident" id="6692466">in</span><span class="op" id="6692468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692475">}</span><br>
<span class="lineno"></span><span class="op" id="6692477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="6692480">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="6692494">func</span>&nbsp;<span class="ident" id="6692499">TestMarshalEmptyIP</span><span class="op" id="6692517">(</span><span class="ident" id="6692518">t</span>&nbsp;<span class="op" id="6692520">*</span><span class="ident" id="6692521">testing</span><span class="op" id="6692528">.</span><span class="ident" id="6692529">T</span><span class="op" id="6692530">)</span>&nbsp;<span class="op" id="6692532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692535">for</span>&nbsp;<span class="ident" id="6692539">_</span><span class="op" id="6692540">,</span>&nbsp;<span class="ident" id="6692542">in</span>&nbsp;<span class="op" id="6692545">:=</span>&nbsp;<span class="keyword" id="6692548">range</span>&nbsp;<span class="op" id="6692554">[</span><span class="op" id="6692555">]</span><span class="op" id="6692556">[</span><span class="op" id="6692557">]</span><span class="builtintype" id="6692558">byte</span><span class="op" id="6692562">{</span><span class="builtintype" id="6692563">nil</span><span class="op" id="6692566">,</span>&nbsp;<span class="op" id="6692568">[</span><span class="op" id="6692569">]</span><span class="builtintype" id="6692570">byte</span><span class="op" id="6692574">(</span><span class="string" id="6692575">&#34;&#34;</span><span class="op" id="6692577">)</span><span class="op" id="6692578">}</span>&nbsp;<span class="op" id="6692580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692584">var</span>&nbsp;<span class="ident" id="6692588">out</span>&nbsp;<span class="op" id="6692592">=</span>&nbsp;<span class="ident" id="6692594">IP</span><span class="op" id="6692596">{</span><span class="num" id="6692597">1</span><span class="op" id="6692598">,</span>&nbsp;<span class="num" id="6692600">2</span><span class="op" id="6692601">,</span>&nbsp;<span class="num" id="6692603">3</span><span class="op" id="6692604">,</span>&nbsp;<span class="num" id="6692606">4</span><span class="op" id="6692607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692611">if</span>&nbsp;<span class="ident" id="6692614">err</span>&nbsp;<span class="op" id="6692618">:=</span>&nbsp;<span class="ident" id="6692621">out</span><span class="op" id="6692624">.</span><span class="ident" id="6692625">UnmarshalText</span><span class="op" id="6692638">(</span><span class="ident" id="6692639">in</span><span class="op" id="6692641">)</span><span class="op" id="6692642">;</span>&nbsp;<span class="ident" id="6692644">err</span>&nbsp;<span class="op" id="6692648">!=</span>&nbsp;<span class="builtintype" id="6692651">nil</span>&nbsp;<span class="op" id="6692655">||</span>&nbsp;<span class="ident" id="6692658">out</span>&nbsp;<span class="op" id="6692662">!=</span>&nbsp;<span class="builtintype" id="6692665">nil</span>&nbsp;<span class="op" id="6692669">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6692674">t</span><span class="op" id="6692675">.</span><span class="ident" id="6692676">Errorf</span><span class="op" id="6692682">(</span><span class="string" id="6692683">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="6692726">,</span>&nbsp;<span class="ident" id="6692728">in</span><span class="op" id="6692730">,</span>&nbsp;<span class="ident" id="6692732">out</span><span class="op" id="6692735">,</span>&nbsp;<span class="ident" id="6692737">err</span><span class="op" id="6692740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692750">var</span>&nbsp;<span class="ident" id="6692754">ip</span>&nbsp;<span class="ident" id="6692757">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6692761">got</span><span class="op" id="6692764">,</span>&nbsp;<span class="ident" id="6692766">err</span>&nbsp;<span class="op" id="6692770">:=</span>&nbsp;<span class="ident" id="6692773">ip</span><span class="op" id="6692775">.</span><span class="ident" id="6692776">MarshalText</span><span class="op" id="6692787">(</span><span class="op" id="6692788">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692791">if</span>&nbsp;<span class="ident" id="6692794">err</span>&nbsp;<span class="op" id="6692798">!=</span>&nbsp;<span class="builtintype" id="6692801">nil</span>&nbsp;<span class="op" id="6692805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6692809">t</span><span class="op" id="6692810">.</span><span class="ident" id="6692811">Fatal</span><span class="op" id="6692816">(</span><span class="ident" id="6692817">err</span><span class="op" id="6692820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6692826">if</span>&nbsp;<span class="op" id="6692829">!</span><span class="ident" id="6692830">reflect</span><span class="op" id="6692837">.</span><span class="ident" id="6692838">DeepEqual</span><span class="op" id="6692847">(</span><span class="ident" id="6692848">got</span><span class="op" id="6692851">,</span>&nbsp;<span class="op" id="6692853">[</span><span class="op" id="6692854">]</span><span class="builtintype" id="6692855">byte</span><span class="op" id="6692859">(</span><span class="string" id="6692860">&#34;&#34;</span><span class="op" id="6692862">)</span><span class="op" id="6692863">)</span>&nbsp;<span class="op" id="6692865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6692869">t</span><span class="op" id="6692870">.</span><span class="ident" id="6692871">Errorf</span><span class="op" id="6692877">(</span><span class="string" id="6692878">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="6692904">,</span>&nbsp;<span class="ident" id="6692906">got</span><span class="op" id="6692909">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692912">}</span><br>
<span class="lineno"></span><span class="op" id="6692914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6692917">var</span>&nbsp;<span class="ident" id="6692921">ipStringTests</span>&nbsp;<span class="op" id="6692935">=</span>&nbsp;<span class="op" id="6692937">[</span><span class="op" id="6692938">]</span><span class="keyword" id="6692939">struct</span>&nbsp;<span class="op" id="6692946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6692949">in</span>&nbsp;&nbsp;<span class="ident" id="6692953">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6692957">out</span>&nbsp;<span class="builtintype" id="6692961">string</span>&nbsp;<span class="comment" id="6692968">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="6692984">}</span><span class="op" id="6692985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692988">{</span><span class="ident" id="6692989">IP</span><span class="op" id="6692991">{</span><span class="num" id="6692992">0x20</span><span class="op" id="6692996">,</span>&nbsp;<span class="num" id="6692998">0x1</span><span class="op" id="6693001">,</span>&nbsp;<span class="num" id="6693003">0xd</span><span class="op" id="6693006">,</span>&nbsp;<span class="num" id="6693008">0xb8</span><span class="op" id="6693012">,</span>&nbsp;<span class="num" id="6693014">0</span><span class="op" id="6693015">,</span>&nbsp;<span class="num" id="6693017">0</span><span class="op" id="6693018">,</span>&nbsp;<span class="num" id="6693020">0</span><span class="op" id="6693021">,</span>&nbsp;<span class="num" id="6693023">0</span><span class="op" id="6693024">,</span>&nbsp;<span class="num" id="6693026">0</span><span class="op" id="6693027">,</span>&nbsp;<span class="num" id="6693029">0</span><span class="op" id="6693030">,</span>&nbsp;<span class="num" id="6693032">0x1</span><span class="op" id="6693035">,</span>&nbsp;<span class="num" id="6693037">0x23</span><span class="op" id="6693041">,</span>&nbsp;<span class="num" id="6693043">0</span><span class="op" id="6693044">,</span>&nbsp;<span class="num" id="6693046">0x12</span><span class="op" id="6693050">,</span>&nbsp;<span class="num" id="6693052">0</span><span class="op" id="6693053">,</span>&nbsp;<span class="num" id="6693055">0x1</span><span class="op" id="6693058">}</span><span class="op" id="6693059">,</span>&nbsp;<span class="string" id="6693061">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="6693081">}</span><span class="op" id="6693082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693085">{</span><span class="ident" id="6693086">IP</span><span class="op" id="6693088">{</span><span class="num" id="6693089">0x20</span><span class="op" id="6693093">,</span>&nbsp;<span class="num" id="6693095">0x1</span><span class="op" id="6693098">,</span>&nbsp;<span class="num" id="6693100">0xd</span><span class="op" id="6693103">,</span>&nbsp;<span class="num" id="6693105">0xb8</span><span class="op" id="6693109">,</span>&nbsp;<span class="num" id="6693111">0</span><span class="op" id="6693112">,</span>&nbsp;<span class="num" id="6693114">0</span><span class="op" id="6693115">,</span>&nbsp;<span class="num" id="6693117">0</span><span class="op" id="6693118">,</span>&nbsp;<span class="num" id="6693120">0</span><span class="op" id="6693121">,</span>&nbsp;<span class="num" id="6693123">0</span><span class="op" id="6693124">,</span>&nbsp;<span class="num" id="6693126">0</span><span class="op" id="6693127">,</span>&nbsp;<span class="num" id="6693129">0</span><span class="op" id="6693130">,</span>&nbsp;<span class="num" id="6693132">0</span><span class="op" id="6693133">,</span>&nbsp;<span class="num" id="6693135">0</span><span class="op" id="6693136">,</span>&nbsp;<span class="num" id="6693138">0</span><span class="op" id="6693139">,</span>&nbsp;<span class="num" id="6693141">0</span><span class="op" id="6693142">,</span>&nbsp;<span class="num" id="6693144">0x1</span><span class="op" id="6693147">}</span><span class="op" id="6693148">,</span>&nbsp;<span class="string" id="6693150">&#34;2001:db8::1&#34;</span><span class="op" id="6693163">}</span><span class="op" id="6693164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693167">{</span><span class="ident" id="6693168">IP</span><span class="op" id="6693170">{</span><span class="num" id="6693171">0x20</span><span class="op" id="6693175">,</span>&nbsp;<span class="num" id="6693177">0x1</span><span class="op" id="6693180">,</span>&nbsp;<span class="num" id="6693182">0xd</span><span class="op" id="6693185">,</span>&nbsp;<span class="num" id="6693187">0xb8</span><span class="op" id="6693191">,</span>&nbsp;<span class="num" id="6693193">0</span><span class="op" id="6693194">,</span>&nbsp;<span class="num" id="6693196">0</span><span class="op" id="6693197">,</span>&nbsp;<span class="num" id="6693199">0</span><span class="op" id="6693200">,</span>&nbsp;<span class="num" id="6693202">0x1</span><span class="op" id="6693205">,</span>&nbsp;<span class="num" id="6693207">0</span><span class="op" id="6693208">,</span>&nbsp;<span class="num" id="6693210">0</span><span class="op" id="6693211">,</span>&nbsp;<span class="num" id="6693213">0</span><span class="op" id="6693214">,</span>&nbsp;<span class="num" id="6693216">0x1</span><span class="op" id="6693219">,</span>&nbsp;<span class="num" id="6693221">0</span><span class="op" id="6693222">,</span>&nbsp;<span class="num" id="6693224">0</span><span class="op" id="6693225">,</span>&nbsp;<span class="num" id="6693227">0</span><span class="op" id="6693228">,</span>&nbsp;<span class="num" id="6693230">0x1</span><span class="op" id="6693233">}</span><span class="op" id="6693234">,</span>&nbsp;<span class="string" id="6693236">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="6693258">}</span><span class="op" id="6693259">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693262">{</span><span class="ident" id="6693263">IP</span><span class="op" id="6693265">{</span><span class="num" id="6693266">0x20</span><span class="op" id="6693270">,</span>&nbsp;<span class="num" id="6693272">0x1</span><span class="op" id="6693275">,</span>&nbsp;<span class="num" id="6693277">0xd</span><span class="op" id="6693280">,</span>&nbsp;<span class="num" id="6693282">0xb8</span><span class="op" id="6693286">,</span>&nbsp;<span class="num" id="6693288">0</span><span class="op" id="6693289">,</span>&nbsp;<span class="num" id="6693291">0x1</span><span class="op" id="6693294">,</span>&nbsp;<span class="num" id="6693296">0</span><span class="op" id="6693297">,</span>&nbsp;<span class="num" id="6693299">0</span><span class="op" id="6693300">,</span>&nbsp;<span class="num" id="6693302">0</span><span class="op" id="6693303">,</span>&nbsp;<span class="num" id="6693305">0x1</span><span class="op" id="6693308">,</span>&nbsp;<span class="num" id="6693310">0</span><span class="op" id="6693311">,</span>&nbsp;<span class="num" id="6693313">0</span><span class="op" id="6693314">,</span>&nbsp;<span class="num" id="6693316">0</span><span class="op" id="6693317">,</span>&nbsp;<span class="num" id="6693319">0x1</span><span class="op" id="6693322">,</span>&nbsp;<span class="num" id="6693324">0</span><span class="op" id="6693325">,</span>&nbsp;<span class="num" id="6693327">0</span><span class="op" id="6693328">}</span><span class="op" id="6693329">,</span>&nbsp;<span class="string" id="6693331">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="6693353">}</span><span class="op" id="6693354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693357">{</span><span class="ident" id="6693358">IP</span><span class="op" id="6693360">{</span><span class="num" id="6693361">0x20</span><span class="op" id="6693365">,</span>&nbsp;<span class="num" id="6693367">0x1</span><span class="op" id="6693370">,</span>&nbsp;<span class="num" id="6693372">0</span><span class="op" id="6693373">,</span>&nbsp;<span class="num" id="6693375">0</span><span class="op" id="6693376">,</span>&nbsp;<span class="num" id="6693378">0</span><span class="op" id="6693379">,</span>&nbsp;<span class="num" id="6693381">0</span><span class="op" id="6693382">,</span>&nbsp;<span class="num" id="6693384">0</span><span class="op" id="6693385">,</span>&nbsp;<span class="num" id="6693387">0</span><span class="op" id="6693388">,</span>&nbsp;<span class="num" id="6693390">0</span><span class="op" id="6693391">,</span>&nbsp;<span class="num" id="6693393">0x1</span><span class="op" id="6693396">,</span>&nbsp;<span class="num" id="6693398">0</span><span class="op" id="6693399">,</span>&nbsp;<span class="num" id="6693401">0</span><span class="op" id="6693402">,</span>&nbsp;<span class="num" id="6693404">0</span><span class="op" id="6693405">,</span>&nbsp;<span class="num" id="6693407">0</span><span class="op" id="6693408">,</span>&nbsp;<span class="num" id="6693410">0</span><span class="op" id="6693411">,</span>&nbsp;<span class="num" id="6693413">0x1</span><span class="op" id="6693416">}</span><span class="op" id="6693417">,</span>&nbsp;<span class="string" id="6693419">&#34;2001::1:0:0:1&#34;</span><span class="op" id="6693434">}</span><span class="op" id="6693435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693438">{</span><span class="ident" id="6693439">IP</span><span class="op" id="6693441">{</span><span class="num" id="6693442">0x20</span><span class="op" id="6693446">,</span>&nbsp;<span class="num" id="6693448">0x1</span><span class="op" id="6693451">,</span>&nbsp;<span class="num" id="6693453">0xd</span><span class="op" id="6693456">,</span>&nbsp;<span class="num" id="6693458">0xb8</span><span class="op" id="6693462">,</span>&nbsp;<span class="num" id="6693464">0</span><span class="op" id="6693465">,</span>&nbsp;<span class="num" id="6693467">0</span><span class="op" id="6693468">,</span>&nbsp;<span class="num" id="6693470">0</span><span class="op" id="6693471">,</span>&nbsp;<span class="num" id="6693473">0</span><span class="op" id="6693474">,</span>&nbsp;<span class="num" id="6693476">0</span><span class="op" id="6693477">,</span>&nbsp;<span class="num" id="6693479">0x1</span><span class="op" id="6693482">,</span>&nbsp;<span class="num" id="6693484">0</span><span class="op" id="6693485">,</span>&nbsp;<span class="num" id="6693487">0</span><span class="op" id="6693488">,</span>&nbsp;<span class="num" id="6693490">0</span><span class="op" id="6693491">,</span>&nbsp;<span class="num" id="6693493">0</span><span class="op" id="6693494">,</span>&nbsp;<span class="num" id="6693496">0</span><span class="op" id="6693497">,</span>&nbsp;<span class="num" id="6693499">0</span><span class="op" id="6693500">}</span><span class="op" id="6693501">,</span>&nbsp;<span class="string" id="6693503">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="6693521">}</span><span class="op" id="6693522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693525">{</span><span class="ident" id="6693526">IP</span><span class="op" id="6693528">{</span><span class="num" id="6693529">0x20</span><span class="op" id="6693533">,</span>&nbsp;<span class="num" id="6693535">0x1</span><span class="op" id="6693538">,</span>&nbsp;<span class="num" id="6693540">0xd</span><span class="op" id="6693543">,</span>&nbsp;<span class="num" id="6693545">0xb8</span><span class="op" id="6693549">,</span>&nbsp;<span class="num" id="6693551">0</span><span class="op" id="6693552">,</span>&nbsp;<span class="num" id="6693554">0</span><span class="op" id="6693555">,</span>&nbsp;<span class="num" id="6693557">0</span><span class="op" id="6693558">,</span>&nbsp;<span class="num" id="6693560">0</span><span class="op" id="6693561">,</span>&nbsp;<span class="num" id="6693563">0</span><span class="op" id="6693564">,</span>&nbsp;<span class="num" id="6693566">0x1</span><span class="op" id="6693569">,</span>&nbsp;<span class="num" id="6693571">0</span><span class="op" id="6693572">,</span>&nbsp;<span class="num" id="6693574">0</span><span class="op" id="6693575">,</span>&nbsp;<span class="num" id="6693577">0</span><span class="op" id="6693578">,</span>&nbsp;<span class="num" id="6693580">0</span><span class="op" id="6693581">,</span>&nbsp;<span class="num" id="6693583">0</span><span class="op" id="6693584">,</span>&nbsp;<span class="num" id="6693586">0x1</span><span class="op" id="6693589">}</span><span class="op" id="6693590">,</span>&nbsp;<span class="string" id="6693592">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="6693611">}</span><span class="op" id="6693612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693615">{</span><span class="ident" id="6693616">IP</span><span class="op" id="6693618">{</span><span class="num" id="6693619">0x20</span><span class="op" id="6693623">,</span>&nbsp;<span class="num" id="6693625">0x1</span><span class="op" id="6693628">,</span>&nbsp;<span class="num" id="6693630">0xD</span><span class="op" id="6693633">,</span>&nbsp;<span class="num" id="6693635">0xB8</span><span class="op" id="6693639">,</span>&nbsp;<span class="num" id="6693641">0</span><span class="op" id="6693642">,</span>&nbsp;<span class="num" id="6693644">0</span><span class="op" id="6693645">,</span>&nbsp;<span class="num" id="6693647">0</span><span class="op" id="6693648">,</span>&nbsp;<span class="num" id="6693650">0</span><span class="op" id="6693651">,</span>&nbsp;<span class="num" id="6693653">0</span><span class="op" id="6693654">,</span>&nbsp;<span class="num" id="6693656">0xA</span><span class="op" id="6693659">,</span>&nbsp;<span class="num" id="6693661">0</span><span class="op" id="6693662">,</span>&nbsp;<span class="num" id="6693664">0xB</span><span class="op" id="6693667">,</span>&nbsp;<span class="num" id="6693669">0</span><span class="op" id="6693670">,</span>&nbsp;<span class="num" id="6693672">0xC</span><span class="op" id="6693675">,</span>&nbsp;<span class="num" id="6693677">0</span><span class="op" id="6693678">,</span>&nbsp;<span class="num" id="6693680">0xD</span><span class="op" id="6693683">}</span><span class="op" id="6693684">,</span>&nbsp;<span class="string" id="6693686">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="6693705">}</span><span class="op" id="6693706">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693709">{</span><span class="ident" id="6693710">IPv4</span><span class="op" id="6693714">(</span><span class="num" id="6693715">192</span><span class="op" id="6693718">,</span>&nbsp;<span class="num" id="6693720">168</span><span class="op" id="6693723">,</span>&nbsp;<span class="num" id="6693725">0</span><span class="op" id="6693726">,</span>&nbsp;<span class="num" id="6693728">1</span><span class="op" id="6693729">)</span><span class="op" id="6693730">,</span>&nbsp;<span class="string" id="6693732">&#34;192.168.0.1&#34;</span><span class="op" id="6693745">}</span><span class="op" id="6693746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693749">{</span><span class="builtintype" id="6693750">nil</span><span class="op" id="6693753">,</span>&nbsp;<span class="string" id="6693755">&#34;&#34;</span><span class="op" id="6693757">}</span><span class="op" id="6693758">,</span><br>
<span class="lineno"></span><span class="op" id="6693760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6693763">func</span>&nbsp;<span class="ident" id="6693768">TestIPString</span><span class="op" id="6693780">(</span><span class="ident" id="6693781">t</span>&nbsp;<span class="op" id="6693783">*</span><span class="ident" id="6693784">testing</span><span class="op" id="6693791">.</span><span class="ident" id="6693792">T</span><span class="op" id="6693793">)</span>&nbsp;<span class="op" id="6693795">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6693798">for</span>&nbsp;<span class="ident" id="6693802">_</span><span class="op" id="6693803">,</span>&nbsp;<span class="ident" id="6693805">tt</span>&nbsp;<span class="op" id="6693808">:=</span>&nbsp;<span class="keyword" id="6693811">range</span>&nbsp;<span class="ident" id="6693817">ipStringTests</span>&nbsp;<span class="op" id="6693831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6693835">if</span>&nbsp;<span class="ident" id="6693838">tt</span><span class="op" id="6693840">.</span><span class="ident" id="6693841">in</span>&nbsp;<span class="op" id="6693844">!=</span>&nbsp;<span class="builtintype" id="6693847">nil</span>&nbsp;<span class="op" id="6693851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6693856">if</span>&nbsp;<span class="ident" id="6693859">out</span>&nbsp;<span class="op" id="6693863">:=</span>&nbsp;<span class="ident" id="6693866">tt</span><span class="op" id="6693868">.</span><span class="ident" id="6693869">in</span><span class="op" id="6693871">.</span><span class="ident" id="6693872">String</span><span class="op" id="6693878">(</span><span class="op" id="6693879">)</span><span class="op" id="6693880">;</span>&nbsp;<span class="ident" id="6693882">out</span>&nbsp;<span class="op" id="6693886">!=</span>&nbsp;<span class="ident" id="6693889">tt</span><span class="op" id="6693891">.</span><span class="ident" id="6693892">out</span>&nbsp;<span class="op" id="6693896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6693902">t</span><span class="op" id="6693903">.</span><span class="ident" id="6693904">Errorf</span><span class="op" id="6693910">(</span><span class="string" id="6693911">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6693940">,</span>&nbsp;<span class="ident" id="6693942">tt</span><span class="op" id="6693944">.</span><span class="ident" id="6693945">in</span><span class="op" id="6693947">,</span>&nbsp;<span class="ident" id="6693949">out</span><span class="op" id="6693952">,</span>&nbsp;<span class="ident" id="6693954">tt</span><span class="op" id="6693956">.</span><span class="ident" id="6693957">out</span><span class="op" id="6693960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693965">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6693973">if</span>&nbsp;<span class="ident" id="6693976">out</span><span class="op" id="6693979">,</span>&nbsp;<span class="ident" id="6693981">err</span>&nbsp;<span class="op" id="6693985">:=</span>&nbsp;<span class="ident" id="6693988">tt</span><span class="op" id="6693990">.</span><span class="ident" id="6693991">in</span><span class="op" id="6693993">.</span><span class="ident" id="6693994">MarshalText</span><span class="op" id="6694005">(</span><span class="op" id="6694006">)</span><span class="op" id="6694007">;</span>&nbsp;<span class="builtintype" id="6694009">string</span><span class="op" id="6694015">(</span><span class="ident" id="6694016">out</span><span class="op" id="6694019">)</span>&nbsp;<span class="op" id="6694021">!=</span>&nbsp;<span class="ident" id="6694024">tt</span><span class="op" id="6694026">.</span><span class="ident" id="6694027">out</span>&nbsp;<span class="op" id="6694031">||</span>&nbsp;<span class="ident" id="6694034">err</span>&nbsp;<span class="op" id="6694038">!=</span>&nbsp;<span class="builtintype" id="6694041">nil</span>&nbsp;<span class="op" id="6694045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6694050">t</span><span class="op" id="6694051">.</span><span class="ident" id="6694052">Errorf</span><span class="op" id="6694058">(</span><span class="string" id="6694059">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="6694102">,</span>&nbsp;<span class="ident" id="6694104">tt</span><span class="op" id="6694106">.</span><span class="ident" id="6694107">in</span><span class="op" id="6694109">,</span>&nbsp;<span class="ident" id="6694111">out</span><span class="op" id="6694114">,</span>&nbsp;<span class="ident" id="6694116">err</span><span class="op" id="6694119">,</span>&nbsp;<span class="ident" id="6694121">tt</span><span class="op" id="6694123">.</span><span class="ident" id="6694124">out</span><span class="op" id="6694127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694134">}</span><br>
<span class="lineno">100</span><span class="op" id="6694136">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6694139">func</span>&nbsp;<span class="ident" id="6694144">BenchmarkIPString</span><span class="op" id="6694161">(</span><span class="ident" id="6694162">b</span>&nbsp;<span class="op" id="6694164">*</span><span class="ident" id="6694165">testing</span><span class="op" id="6694172">.</span><span class="ident" id="6694173">B</span><span class="op" id="6694174">)</span>&nbsp;<span class="op" id="6694176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6694179">for</span>&nbsp;<span class="ident" id="6694183">i</span>&nbsp;<span class="op" id="6694185">:=</span>&nbsp;<span class="num" id="6694188">0</span><span class="op" id="6694189">;</span>&nbsp;<span class="ident" id="6694191">i</span>&nbsp;<span class="op" id="6694193">&lt;</span>&nbsp;<span class="ident" id="6694195">b</span><span class="op" id="6694196">.</span><span class="ident" id="6694197">N</span><span class="op" id="6694198">;</span>&nbsp;<span class="ident" id="6694200">i</span><span class="op" id="6694201">++</span>&nbsp;<span class="op" id="6694204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6694208">for</span>&nbsp;<span class="ident" id="6694212">_</span><span class="op" id="6694213">,</span>&nbsp;<span class="ident" id="6694215">tt</span>&nbsp;<span class="op" id="6694218">:=</span>&nbsp;<span class="keyword" id="6694221">range</span>&nbsp;<span class="ident" id="6694227">ipStringTests</span>&nbsp;<span class="op" id="6694241">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6694246">if</span>&nbsp;<span class="ident" id="6694249">tt</span><span class="op" id="6694251">.</span><span class="ident" id="6694252">in</span>&nbsp;<span class="op" id="6694255">!=</span>&nbsp;<span class="builtintype" id="6694258">nil</span>&nbsp;<span class="op" id="6694262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6694268">tt</span><span class="op" id="6694270">.</span><span class="ident" id="6694271">in</span><span class="op" id="6694273">.</span><span class="ident" id="6694274">String</span><span class="op" id="6694280">(</span><span class="op" id="6694281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694293">}</span><br>
<span class="lineno">110</span><span class="op" id="6694295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6694298">var</span>&nbsp;<span class="ident" id="6694302">ipMaskTests</span>&nbsp;<span class="op" id="6694314">=</span>&nbsp;<span class="op" id="6694316">[</span><span class="op" id="6694317">]</span><span class="keyword" id="6694318">struct</span>&nbsp;<span class="op" id="6694325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6694328">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6694333">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6694337">mask</span>&nbsp;<span class="ident" id="6694342">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6694350">out</span>&nbsp;&nbsp;<span class="ident" id="6694355">IP</span><br>
<span class="lineno"></span><span class="op" id="6694358">}</span><span class="op" id="6694359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694362">{</span><span class="ident" id="6694363">IPv4</span><span class="op" id="6694367">(</span><span class="num" id="6694368">192</span><span class="op" id="6694371">,</span>&nbsp;<span class="num" id="6694373">168</span><span class="op" id="6694376">,</span>&nbsp;<span class="num" id="6694378">1</span><span class="op" id="6694379">,</span>&nbsp;<span class="num" id="6694381">127</span><span class="op" id="6694384">)</span><span class="op" id="6694385">,</span>&nbsp;<span class="ident" id="6694387">IPv4Mask</span><span class="op" id="6694395">(</span><span class="num" id="6694396">255</span><span class="op" id="6694399">,</span>&nbsp;<span class="num" id="6694401">255</span><span class="op" id="6694404">,</span>&nbsp;<span class="num" id="6694406">255</span><span class="op" id="6694409">,</span>&nbsp;<span class="num" id="6694411">128</span><span class="op" id="6694414">)</span><span class="op" id="6694415">,</span>&nbsp;<span class="ident" id="6694417">IPv4</span><span class="op" id="6694421">(</span><span class="num" id="6694422">192</span><span class="op" id="6694425">,</span>&nbsp;<span class="num" id="6694427">168</span><span class="op" id="6694430">,</span>&nbsp;<span class="num" id="6694432">1</span><span class="op" id="6694433">,</span>&nbsp;<span class="num" id="6694435">0</span><span class="op" id="6694436">)</span><span class="op" id="6694437">}</span><span class="op" id="6694438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694441">{</span><span class="ident" id="6694442">IPv4</span><span class="op" id="6694446">(</span><span class="num" id="6694447">192</span><span class="op" id="6694450">,</span>&nbsp;<span class="num" id="6694452">168</span><span class="op" id="6694455">,</span>&nbsp;<span class="num" id="6694457">1</span><span class="op" id="6694458">,</span>&nbsp;<span class="num" id="6694460">127</span><span class="op" id="6694463">)</span><span class="op" id="6694464">,</span>&nbsp;<span class="ident" id="6694466">IPMask</span><span class="op" id="6694472">(</span><span class="ident" id="6694473">ParseIP</span><span class="op" id="6694480">(</span><span class="string" id="6694481">&#34;255.255.255.192&#34;</span><span class="op" id="6694498">)</span><span class="op" id="6694499">)</span><span class="op" id="6694500">,</span>&nbsp;<span class="ident" id="6694502">IPv4</span><span class="op" id="6694506">(</span><span class="num" id="6694507">192</span><span class="op" id="6694510">,</span>&nbsp;<span class="num" id="6694512">168</span><span class="op" id="6694515">,</span>&nbsp;<span class="num" id="6694517">1</span><span class="op" id="6694518">,</span>&nbsp;<span class="num" id="6694520">64</span><span class="op" id="6694522">)</span><span class="op" id="6694523">}</span><span class="op" id="6694524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694527">{</span><span class="ident" id="6694528">IPv4</span><span class="op" id="6694532">(</span><span class="num" id="6694533">192</span><span class="op" id="6694536">,</span>&nbsp;<span class="num" id="6694538">168</span><span class="op" id="6694541">,</span>&nbsp;<span class="num" id="6694543">1</span><span class="op" id="6694544">,</span>&nbsp;<span class="num" id="6694546">127</span><span class="op" id="6694549">)</span><span class="op" id="6694550">,</span>&nbsp;<span class="ident" id="6694552">IPMask</span><span class="op" id="6694558">(</span><span class="ident" id="6694559">ParseIP</span><span class="op" id="6694566">(</span><span class="string" id="6694567">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="6694608">)</span><span class="op" id="6694609">)</span><span class="op" id="6694610">,</span>&nbsp;<span class="ident" id="6694612">IPv4</span><span class="op" id="6694616">(</span><span class="num" id="6694617">192</span><span class="op" id="6694620">,</span>&nbsp;<span class="num" id="6694622">168</span><span class="op" id="6694625">,</span>&nbsp;<span class="num" id="6694627">1</span><span class="op" id="6694628">,</span>&nbsp;<span class="num" id="6694630">96</span><span class="op" id="6694632">)</span><span class="op" id="6694633">}</span><span class="op" id="6694634">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694637">{</span><span class="ident" id="6694638">IPv4</span><span class="op" id="6694642">(</span><span class="num" id="6694643">192</span><span class="op" id="6694646">,</span>&nbsp;<span class="num" id="6694648">168</span><span class="op" id="6694651">,</span>&nbsp;<span class="num" id="6694653">1</span><span class="op" id="6694654">,</span>&nbsp;<span class="num" id="6694656">127</span><span class="op" id="6694659">)</span><span class="op" id="6694660">,</span>&nbsp;<span class="ident" id="6694662">IPv4Mask</span><span class="op" id="6694670">(</span><span class="num" id="6694671">255</span><span class="op" id="6694674">,</span>&nbsp;<span class="num" id="6694676">0</span><span class="op" id="6694677">,</span>&nbsp;<span class="num" id="6694679">255</span><span class="op" id="6694682">,</span>&nbsp;<span class="num" id="6694684">0</span><span class="op" id="6694685">)</span><span class="op" id="6694686">,</span>&nbsp;<span class="ident" id="6694688">IPv4</span><span class="op" id="6694692">(</span><span class="num" id="6694693">192</span><span class="op" id="6694696">,</span>&nbsp;<span class="num" id="6694698">0</span><span class="op" id="6694699">,</span>&nbsp;<span class="num" id="6694701">1</span><span class="op" id="6694702">,</span>&nbsp;<span class="num" id="6694704">0</span><span class="op" id="6694705">)</span><span class="op" id="6694706">}</span><span class="op" id="6694707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694710">{</span><span class="ident" id="6694711">ParseIP</span><span class="op" id="6694718">(</span><span class="string" id="6694719">&#34;2001:db8::1&#34;</span><span class="op" id="6694732">)</span><span class="op" id="6694733">,</span>&nbsp;<span class="ident" id="6694735">IPMask</span><span class="op" id="6694741">(</span><span class="ident" id="6694742">ParseIP</span><span class="op" id="6694749">(</span><span class="string" id="6694750">&#34;ffff:ff80::&#34;</span><span class="op" id="6694763">)</span><span class="op" id="6694764">)</span><span class="op" id="6694765">,</span>&nbsp;<span class="ident" id="6694767">ParseIP</span><span class="op" id="6694774">(</span><span class="string" id="6694775">&#34;2001:d80::&#34;</span><span class="op" id="6694787">)</span><span class="op" id="6694788">}</span><span class="op" id="6694789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694792">{</span><span class="ident" id="6694793">ParseIP</span><span class="op" id="6694800">(</span><span class="string" id="6694801">&#34;2001:db8::1&#34;</span><span class="op" id="6694814">)</span><span class="op" id="6694815">,</span>&nbsp;<span class="ident" id="6694817">IPMask</span><span class="op" id="6694823">(</span><span class="ident" id="6694824">ParseIP</span><span class="op" id="6694831">(</span><span class="string" id="6694832">&#34;f0f0:0f0f::&#34;</span><span class="op" id="6694845">)</span><span class="op" id="6694846">)</span><span class="op" id="6694847">,</span>&nbsp;<span class="ident" id="6694849">ParseIP</span><span class="op" id="6694856">(</span><span class="string" id="6694857">&#34;2000:d08::&#34;</span><span class="op" id="6694869">)</span><span class="op" id="6694870">}</span><span class="op" id="6694871">,</span><br>
<span class="lineno"></span><span class="op" id="6694873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6694876">func</span>&nbsp;<span class="ident" id="6694881">TestIPMask</span><span class="op" id="6694891">(</span><span class="ident" id="6694892">t</span>&nbsp;<span class="op" id="6694894">*</span><span class="ident" id="6694895">testing</span><span class="op" id="6694902">.</span><span class="ident" id="6694903">T</span><span class="op" id="6694904">)</span>&nbsp;<span class="op" id="6694906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6694909">for</span>&nbsp;<span class="ident" id="6694913">_</span><span class="op" id="6694914">,</span>&nbsp;<span class="ident" id="6694916">tt</span>&nbsp;<span class="op" id="6694919">:=</span>&nbsp;<span class="keyword" id="6694922">range</span>&nbsp;<span class="ident" id="6694928">ipMaskTests</span>&nbsp;<span class="op" id="6694940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6694944">if</span>&nbsp;<span class="ident" id="6694947">out</span>&nbsp;<span class="op" id="6694951">:=</span>&nbsp;<span class="ident" id="6694954">tt</span><span class="op" id="6694956">.</span><span class="ident" id="6694957">in</span><span class="op" id="6694959">.</span><span class="ident" id="6694960">Mask</span><span class="op" id="6694964">(</span><span class="ident" id="6694965">tt</span><span class="op" id="6694967">.</span><span class="ident" id="6694968">mask</span><span class="op" id="6694972">)</span><span class="op" id="6694973">;</span>&nbsp;<span class="ident" id="6694975">out</span>&nbsp;<span class="op" id="6694979">==</span>&nbsp;<span class="builtintype" id="6694982">nil</span>&nbsp;<span class="op" id="6694986">||</span>&nbsp;<span class="op" id="6694989">!</span><span class="ident" id="6694990">tt</span><span class="op" id="6694992">.</span><span class="ident" id="6694993">out</span><span class="op" id="6694996">.</span><span class="ident" id="6694997">Equal</span><span class="op" id="6695002">(</span><span class="ident" id="6695003">out</span><span class="op" id="6695006">)</span>&nbsp;<span class="op" id="6695008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6695013">t</span><span class="op" id="6695014">.</span><span class="ident" id="6695015">Errorf</span><span class="op" id="6695021">(</span><span class="string" id="6695022">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6695053">,</span>&nbsp;<span class="ident" id="6695055">tt</span><span class="op" id="6695057">.</span><span class="ident" id="6695058">in</span><span class="op" id="6695060">,</span>&nbsp;<span class="ident" id="6695062">tt</span><span class="op" id="6695064">.</span><span class="ident" id="6695065">mask</span><span class="op" id="6695069">,</span>&nbsp;<span class="ident" id="6695071">out</span><span class="op" id="6695074">,</span>&nbsp;<span class="ident" id="6695076">tt</span><span class="op" id="6695078">.</span><span class="ident" id="6695079">out</span><span class="op" id="6695082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695086">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695089">}</span><br>
<span class="lineno"></span><span class="op" id="6695091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6695094">var</span>&nbsp;<span class="ident" id="6695098">ipMaskStringTests</span>&nbsp;<span class="op" id="6695116">=</span>&nbsp;<span class="op" id="6695118">[</span><span class="op" id="6695119">]</span><span class="keyword" id="6695120">struct</span>&nbsp;<span class="op" id="6695127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6695130">in</span>&nbsp;&nbsp;<span class="ident" id="6695134">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6695142">out</span>&nbsp;<span class="builtintype" id="6695146">string</span><br>
<span class="lineno"></span><span class="op" id="6695153">}</span><span class="op" id="6695154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695157">{</span><span class="ident" id="6695158">IPv4Mask</span><span class="op" id="6695166">(</span><span class="num" id="6695167">255</span><span class="op" id="6695170">,</span>&nbsp;<span class="num" id="6695172">255</span><span class="op" id="6695175">,</span>&nbsp;<span class="num" id="6695177">255</span><span class="op" id="6695180">,</span>&nbsp;<span class="num" id="6695182">240</span><span class="op" id="6695185">)</span><span class="op" id="6695186">,</span>&nbsp;<span class="string" id="6695188">&#34;fffffff0&#34;</span><span class="op" id="6695198">}</span><span class="op" id="6695199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695202">{</span><span class="ident" id="6695203">IPv4Mask</span><span class="op" id="6695211">(</span><span class="num" id="6695212">255</span><span class="op" id="6695215">,</span>&nbsp;<span class="num" id="6695217">0</span><span class="op" id="6695218">,</span>&nbsp;<span class="num" id="6695220">128</span><span class="op" id="6695223">,</span>&nbsp;<span class="num" id="6695225">0</span><span class="op" id="6695226">)</span><span class="op" id="6695227">,</span>&nbsp;<span class="string" id="6695229">&#34;ff008000&#34;</span><span class="op" id="6695239">}</span><span class="op" id="6695240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695243">{</span><span class="ident" id="6695244">IPMask</span><span class="op" id="6695250">(</span><span class="ident" id="6695251">ParseIP</span><span class="op" id="6695258">(</span><span class="string" id="6695259">&#34;ffff:ff80::&#34;</span><span class="op" id="6695272">)</span><span class="op" id="6695273">)</span><span class="op" id="6695274">,</span>&nbsp;<span class="string" id="6695276">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="6695310">}</span><span class="op" id="6695311">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695314">{</span><span class="ident" id="6695315">IPMask</span><span class="op" id="6695321">(</span><span class="ident" id="6695322">ParseIP</span><span class="op" id="6695329">(</span><span class="string" id="6695330">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="6695349">)</span><span class="op" id="6695350">)</span><span class="op" id="6695351">,</span>&nbsp;<span class="string" id="6695353">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="6695387">}</span><span class="op" id="6695388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695391">{</span><span class="builtintype" id="6695392">nil</span><span class="op" id="6695395">,</span>&nbsp;<span class="string" id="6695397">&#34;&lt;nil&gt;&#34;</span><span class="op" id="6695404">}</span><span class="op" id="6695405">,</span><br>
<span class="lineno"></span><span class="op" id="6695407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6695410">func</span>&nbsp;<span class="ident" id="6695415">TestIPMaskString</span><span class="op" id="6695431">(</span><span class="ident" id="6695432">t</span>&nbsp;<span class="op" id="6695434">*</span><span class="ident" id="6695435">testing</span><span class="op" id="6695442">.</span><span class="ident" id="6695443">T</span><span class="op" id="6695444">)</span>&nbsp;<span class="op" id="6695446">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6695449">for</span>&nbsp;<span class="ident" id="6695453">_</span><span class="op" id="6695454">,</span>&nbsp;<span class="ident" id="6695456">tt</span>&nbsp;<span class="op" id="6695459">:=</span>&nbsp;<span class="keyword" id="6695462">range</span>&nbsp;<span class="ident" id="6695468">ipMaskStringTests</span>&nbsp;<span class="op" id="6695486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6695490">if</span>&nbsp;<span class="ident" id="6695493">out</span>&nbsp;<span class="op" id="6695497">:=</span>&nbsp;<span class="ident" id="6695500">tt</span><span class="op" id="6695502">.</span><span class="ident" id="6695503">in</span><span class="op" id="6695505">.</span><span class="ident" id="6695506">String</span><span class="op" id="6695512">(</span><span class="op" id="6695513">)</span><span class="op" id="6695514">;</span>&nbsp;<span class="ident" id="6695516">out</span>&nbsp;<span class="op" id="6695520">!=</span>&nbsp;<span class="ident" id="6695523">tt</span><span class="op" id="6695525">.</span><span class="ident" id="6695526">out</span>&nbsp;<span class="op" id="6695530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6695535">t</span><span class="op" id="6695536">.</span><span class="ident" id="6695537">Errorf</span><span class="op" id="6695543">(</span><span class="string" id="6695544">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6695577">,</span>&nbsp;<span class="ident" id="6695579">tt</span><span class="op" id="6695581">.</span><span class="ident" id="6695582">in</span><span class="op" id="6695584">,</span>&nbsp;<span class="ident" id="6695586">out</span><span class="op" id="6695589">,</span>&nbsp;<span class="ident" id="6695591">tt</span><span class="op" id="6695593">.</span><span class="ident" id="6695594">out</span><span class="op" id="6695597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695604">}</span><br>
<span class="lineno">150</span><span class="op" id="6695606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6695609">func</span>&nbsp;<span class="ident" id="6695614">BenchmarkIPMaskString</span><span class="op" id="6695635">(</span><span class="ident" id="6695636">b</span>&nbsp;<span class="op" id="6695638">*</span><span class="ident" id="6695639">testing</span><span class="op" id="6695646">.</span><span class="ident" id="6695647">B</span><span class="op" id="6695648">)</span>&nbsp;<span class="op" id="6695650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6695653">for</span>&nbsp;<span class="ident" id="6695657">i</span>&nbsp;<span class="op" id="6695659">:=</span>&nbsp;<span class="num" id="6695662">0</span><span class="op" id="6695663">;</span>&nbsp;<span class="ident" id="6695665">i</span>&nbsp;<span class="op" id="6695667">&lt;</span>&nbsp;<span class="ident" id="6695669">b</span><span class="op" id="6695670">.</span><span class="ident" id="6695671">N</span><span class="op" id="6695672">;</span>&nbsp;<span class="ident" id="6695674">i</span><span class="op" id="6695675">++</span>&nbsp;<span class="op" id="6695678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6695682">for</span>&nbsp;<span class="ident" id="6695686">_</span><span class="op" id="6695687">,</span>&nbsp;<span class="ident" id="6695689">tt</span>&nbsp;<span class="op" id="6695692">:=</span>&nbsp;<span class="keyword" id="6695695">range</span>&nbsp;<span class="ident" id="6695701">ipMaskStringTests</span>&nbsp;<span class="op" id="6695719">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6695724">tt</span><span class="op" id="6695726">.</span><span class="ident" id="6695727">in</span><span class="op" id="6695729">.</span><span class="ident" id="6695730">String</span><span class="op" id="6695736">(</span><span class="op" id="6695737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695744">}</span><br>
<span class="lineno"></span><span class="op" id="6695746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6695749">var</span>&nbsp;<span class="ident" id="6695753">parseCIDRTests</span>&nbsp;<span class="op" id="6695768">=</span>&nbsp;<span class="op" id="6695770">[</span><span class="op" id="6695771">]</span><span class="keyword" id="6695772">struct</span>&nbsp;<span class="op" id="6695779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6695782">in</span>&nbsp;&nbsp;<span class="builtintype" id="6695786">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6695794">ip</span>&nbsp;&nbsp;<span class="ident" id="6695798">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6695802">net</span>&nbsp;<span class="op" id="6695806">*</span><span class="ident" id="6695807">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6695814">err</span>&nbsp;<span class="builtintype" id="6695818">error</span><br>
<span class="lineno">165</span><span class="op" id="6695824">}</span><span class="op" id="6695825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695828">{</span><span class="string" id="6695829">&#34;135.104.0.0/32&#34;</span><span class="op" id="6695845">,</span>&nbsp;<span class="ident" id="6695847">IPv4</span><span class="op" id="6695851">(</span><span class="num" id="6695852">135</span><span class="op" id="6695855">,</span>&nbsp;<span class="num" id="6695857">104</span><span class="op" id="6695860">,</span>&nbsp;<span class="num" id="6695862">0</span><span class="op" id="6695863">,</span>&nbsp;<span class="num" id="6695865">0</span><span class="op" id="6695866">)</span><span class="op" id="6695867">,</span>&nbsp;<span class="op" id="6695869">&amp;</span><span class="ident" id="6695870">IPNet</span><span class="op" id="6695875">{</span><span class="ident" id="6695876">IP</span><span class="op" id="6695878">:</span>&nbsp;<span class="ident" id="6695880">IPv4</span><span class="op" id="6695884">(</span><span class="num" id="6695885">135</span><span class="op" id="6695888">,</span>&nbsp;<span class="num" id="6695890">104</span><span class="op" id="6695893">,</span>&nbsp;<span class="num" id="6695895">0</span><span class="op" id="6695896">,</span>&nbsp;<span class="num" id="6695898">0</span><span class="op" id="6695899">)</span><span class="op" id="6695900">,</span>&nbsp;<span class="ident" id="6695902">Mask</span><span class="op" id="6695906">:</span>&nbsp;<span class="ident" id="6695908">IPv4Mask</span><span class="op" id="6695916">(</span><span class="num" id="6695917">255</span><span class="op" id="6695920">,</span>&nbsp;<span class="num" id="6695922">255</span><span class="op" id="6695925">,</span>&nbsp;<span class="num" id="6695927">255</span><span class="op" id="6695930">,</span>&nbsp;<span class="num" id="6695932">255</span><span class="op" id="6695935">)</span><span class="op" id="6695936">}</span><span class="op" id="6695937">,</span>&nbsp;<span class="builtintype" id="6695939">nil</span><span class="op" id="6695942">}</span><span class="op" id="6695943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6695946">{</span><span class="string" id="6695947">&#34;0.0.0.0/24&#34;</span><span class="op" id="6695959">,</span>&nbsp;<span class="ident" id="6695961">IPv4</span><span class="op" id="6695965">(</span><span class="num" id="6695966">0</span><span class="op" id="6695967">,</span>&nbsp;<span class="num" id="6695969">0</span><span class="op" id="6695970">,</span>&nbsp;<span class="num" id="6695972">0</span><span class="op" id="6695973">,</span>&nbsp;<span class="num" id="6695975">0</span><span class="op" id="6695976">)</span><span class="op" id="6695977">,</span>&nbsp;<span class="op" id="6695979">&amp;</span><span class="ident" id="6695980">IPNet</span><span class="op" id="6695985">{</span><span class="ident" id="6695986">IP</span><span class="op" id="6695988">:</span>&nbsp;<span class="ident" id="6695990">IPv4</span><span class="op" id="6695994">(</span><span class="num" id="6695995">0</span><span class="op" id="6695996">,</span>&nbsp;<span class="num" id="6695998">0</span><span class="op" id="6695999">,</span>&nbsp;<span class="num" id="6696001">0</span><span class="op" id="6696002">,</span>&nbsp;<span class="num" id="6696004">0</span><span class="op" id="6696005">)</span><span class="op" id="6696006">,</span>&nbsp;<span class="ident" id="6696008">Mask</span><span class="op" id="6696012">:</span>&nbsp;<span class="ident" id="6696014">IPv4Mask</span><span class="op" id="6696022">(</span><span class="num" id="6696023">255</span><span class="op" id="6696026">,</span>&nbsp;<span class="num" id="6696028">255</span><span class="op" id="6696031">,</span>&nbsp;<span class="num" id="6696033">255</span><span class="op" id="6696036">,</span>&nbsp;<span class="num" id="6696038">0</span><span class="op" id="6696039">)</span><span class="op" id="6696040">}</span><span class="op" id="6696041">,</span>&nbsp;<span class="builtintype" id="6696043">nil</span><span class="op" id="6696046">}</span><span class="op" id="6696047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6696050">{</span><span class="string" id="6696051">&#34;135.104.0.0/24&#34;</span><span class="op" id="6696067">,</span>&nbsp;<span class="ident" id="6696069">IPv4</span><span class="op" id="6696073">(</span><span class="num" id="6696074">135</span><span class="op" id="6696077">,</span>&nbsp;<span class="num" id="6696079">104</span><span class="op" id="6696082">,</span>&nbsp;<span class="num" id="6696084">0</span><span class="op" id="6696085">,</span>&nbsp;<span class="num" id="6696087">0</span><span class="op" id="6696088">)</span><span class="op" id="6696089">,</span>&nbsp;<span class="op" id="6696091">&amp;</span><span class="ident" id="6696092">IPNet</span><span class="op" id="6696097">{</span><span class="ident" id="6696098">IP</span><span class="op" id="6696100">:</span>&nbsp;<span class="ident" id="6696102">IPv4</span><span class="op" id="6696106">(</span><span class="num" id="6696107">135</span><span class="op" id="6696110">,</span>&nbsp;<span class="num" id="6696112">104</span><span class="op" id="6696115">,</span>&nbsp;<span class="num" id="6696117">0</span><span class="op" id="6696118">,</span>&nbsp;<span class="num" id="6696120">0</span><span class="op" id="6696121">)</span><span class="op" id="6696122">,</span>&nbsp;<span class="ident" id="6696124">Mask</span><span class="op" id="6696128">:</span>&nbsp;<span class="ident" id="6696130">IPv4Mask</span><span class="op" id="6696138">(</span><span class="num" id="6696139">255</span><span class="op" id="6696142">,</span>&nbsp;<span class="num" id="6696144">255</span><span class="op" id="6696147">,</span>&nbsp;<span class="num" id="6696149">255</span><span class="op" id="6696152">,</span>&nbsp;<span class="num" id="6696154">0</span><span class="op" id="6696155">)</span><span class="op" id="6696156">}</span><span class="op" id="6696157">,</span>&nbsp;<span class="builtintype" id="6696159">nil</span><span class="op" id="6696162">}</span><span class="op" id="6696163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6696166">{</span><span class="string" id="6696167">&#34;135.104.0.1/32&#34;</span><span class="op" id="6696183">,</span>&nbsp;<span class="ident" id="6696185">IPv4</span><span class="op" id="6696189">(</span><span class="num" id="6696190">135</span><span class="op" id="6696193">,</span>&nbsp;<span class="num" id="6696195">104</span><span class="op" id="6696198">,</span>&nbsp;<span class="num" id="6696200">0</span><span class="op" id="6696201">,</span>&nbsp;<span class="num" id="6696203">1</span><span class="op" id="6696204">)</span><span class="op" id="6696205">,</span>&nbsp;<span class="op" id="6696207">&amp;</span><span class="ident" id="6696208">IPNet</span><span class="op" id="6696213">{</span><span class="ident" id="6696214">IP</span><span class="op" id="6696216">:</span>&nbsp;<span class="ident" id="6696218">IPv4</span><span class="op" id="6696222">(</span><span class="num" id="6696223">135</span><span class="op" id="6696226">,</span>&nbsp;<span class="num" id="6696228">104</span><span class="op" id="6696231">,</span>&nbsp;<span class="num" id="6696233">0</span><span class="op" id="6696234">,</span>&nbsp;<span class="num" id="6696236">1</span><span class="op" id="6696237">)</span><span class="op" id="6696238">,</span>&nbsp;<span class="ident" id="6696240">Mask</span><span class="op" id="6696244">:</span>&nbsp;<span class="ident" id="6696246">IPv4Mask</span><span class="op" id="6696254">(</span><span class="num" id="6696255">255</span><span class="op" id="6696258">,</span>&nbsp;<span class="num" id="6696260">255</span><span class="op" id="6696263">,</span>&nbsp;<span class="num" id="6696265">255</span><span class="op" id="6696268">,</span>&nbsp;<span class="num" id="6696270">255</span><span class="op" id="6696273">)</span><span class="op" id="6696274">}</span><span class="op" id="6696275">,</span>&nbsp;<span class="builtintype" id="6696277">nil</span><span class="op" id="6696280">}</span><span class="op" id="6696281">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6696284">{</span><span class="string" id="6696285">&#34;135.104.0.1/24&#34;</span><span class="op" id="6696301">,</span>&nbsp;<span class="ident" id="6696303">IPv4</span><span class="op" id="6696307">(</span><span class="num" id="6696308">135</span><span class="op" id="6696311">,</span>&nbsp;<span class="num" id="6696313">104</span><span class="op" id="6696316">,</span>&nbsp;<span class="num" id="6696318">0</span><span class="op" id="6696319">,</span>&nbsp;<span class="num" id="6696321">1</span><span class="op" id="6696322">)</span><span class="op" id="6696323">,</span>&nbsp;<span class="op" id="6696325">&amp;</span><span class="ident" id="6696326">IPNet</span><span class="op" id="6696331">{</span><span class="ident" id="6696332">IP</span><span class="op" id="6696334">:</span>&nbsp;<span class="ident" id="6696336">IPv4</span><span class="op" id="6696340">(</span><span class="num" id="6696341">135</span><span class="op" id="6696344">,</span>&nbsp;<span class="num" id="6696346">104</span><span class="op" id="6696349">,</span>&nbsp;<span class="num" id="6696351">0</span><span class="op" id="6696352">,</span>&nbsp;<span class="num" id="6696354">0</span><span class="op" id="6696355">)</span><span class="op" id="6696356">,</span>&nbsp;<span class="ident" id="6696358">Mask</span><span class="op" id="6696362">:</span>&nbsp;<span class="ident" id="6696364">IPv4Mask</span><span class="op" id="6696372">(</span><span class="num" id="6696373">255</span><span class="op" id="6696376">,</span>&nbsp;<span class="num" id="6696378">255</span><span class="op" id="6696381">,</span>&nbsp;<span class="num" id="6696383">255</span><span class="op" id="6696386">,</span>&nbsp;<span class="num" id="6696388">0</span><span class="op" id="6696389">)</span><span class="op" id="6696390">}</span><span class="op" id="6696391">,</span>&nbsp;<span class="builtintype" id="6696393">nil</span><span class="op" id="6696396">}</span><span class="op" id="6696397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6696400">{</span><span class="string" id="6696401">&#34;::1/128&#34;</span><span class="op" id="6696410">,</span>&nbsp;<span class="ident" id="6696412">ParseIP</span><span class="op" id="6696419">(</span><span class="string" id="6696420">&#34;::1&#34;</span><span class="op" id="6696425">)</span><span class="op" id="6696426">,</span>&nbsp;<span class="op" id="6696428">&amp;</span><span class="ident" id="6696429">IPNet</span><span class="op" id="6696434">{</span><span class="ident" id="6696435">IP</span><span class="op" id="6696437">:</span>&nbsp;<span class="ident" id="6696439">ParseIP</span><span class="op" id="6696446">(</span><span class="string" id="6696447">&#34;::1&#34;</span><span class="op" id="6696452">)</span><span class="op" id="6696453">,</span>&nbsp;<span class="ident" id="6696455">Mask</span><span class="op" id="6696459">:</span>&nbsp;<span class="ident" id="6696461">IPMask</span><span class="op" id="6696467">(</span><span class="ident" id="6696468">ParseIP</span><span class="op" id="6696475">(</span><span class="string" id="6696476">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="6696517">)</span><span class="op" id="6696518">)</span><span class="op" id="6696519">}</span><span class="op" id="6696520">,</span>&nbsp;<span class="builtintype" id="6696522">nil</span><span class="op" id="6696525">}</span><span class="op" id="6696526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6696529">{</span><span class="string" id="6696530">&#34;abcd:2345::/127&#34;</span><span class="op" id="6696547">,</span>&nbsp;<span class="ident" id="6696549">ParseIP</span><span class="op" id="6696556">(</span><span class="string" id="6696557">&#34;abcd:2345::&#34;</span><span class="op" id="6696570">)</span><span class="op" id="6696571">,</span>&nbsp;<span class="op" id="6696573">&amp;</span><span class="ident" id="6696574">IPNet</span><span class="op" id="6696579">{</span><span class="ident" id="6696580">IP</span><span class="op" id="6696582">:</span>&nbsp;<span class="ident" id="6696584">ParseIP</span><span class="op" id="6696591">(</span><span class="string" id="6696592">&#34;abcd:2345::&#34;</span><span class="op" id="6696605">)</span><span class="op" id="6696606">,</span>&nbsp;<span class="ident" id="6696608">Mask</span><span class="op" id="6696612">:</span>&nbsp;<span class="ident" id="6696614">IPMask</span><span class="op" id="6696620">(</span><span class="ident" id="6696621">ParseIP</span><span class="op" id="6696628">(</span><span class="string" id="6696629">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="6696670">)</span><span class="op" id="6696671">)</span><span class="op" id="6696672">}</span><span class="op" id="6696673">,</span>&nbsp;<span class="builtintype" id="6696675">nil</span><span class="op" id="6696678">}</span><span class="op" id="6696679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6696682">{</span><span class="string" id="6696683">&#34;abcd:2345::/65&#34;</span><span class="op" id="6696699">,</span>&nbsp;<span class="ident" id="6696701">ParseIP</span><span class="op" id="6696708">(</span><span class="string" id="6696709">&#34;abcd:2345::&#34;</span><span class="op" id="6696722">)</span><span class="op" id="6696723">,</span>&nbsp;<span class="op" id="6696725">&amp;</span><span class="ident" id="6696726">IPNet</span><span class="op" id="6696731">{</span><span class="ident" id="6696732">IP</span><span class="op" id="6696734">:</span>&nbsp;<span class="ident" id="6696736">ParseIP</span><span class="op" id="6696743">(</span><span class="string" id="6696744">&#34;abcd:2345::&#34;</span><span class="op" id="6696757">)</span><span class="op" id="6696758">,</span>&nbsp;<span class="ident" id="6696760">Mask</span><span class="op" id="6696764">:</span>&nbsp;<span class="ident" id="6696766">IPMask</span><span class="op" id="6696772">(</span><span class="ident" id="6696773">ParseIP</span><span class="op" id="6696780">(</span><span class="string" id="6696781">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="6696809">)</span><span class="op" id="6696810">)</span><span class="op" id="6696811">}</span><span class="op" id="6696812">,</span>&nbsp;<span class="builtintype" id="6696814">nil</span><span class="op" id="6696817">}</span><span class="op" id="6696818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6696821">{</span><span class="string" id="6696822">&#34;abcd:2345::/64&#34;</span><span class="op" id="6696838">,</span>&nbsp;<span class="ident" id="6696840">ParseIP</span><span class="op" id="6696847">(</span><span class="string" id="6696848">&#34;abcd:2345::&#34;</span><span class="op" id="6696861">)</span><span class="op" id="6696862">,</span>&nbsp;<span class="op" id="6696864">&amp;</span><span class="ident" id="6696865">IPNet</span><span class="op" id="6696870">{</span><span class="ident" id="6696871">IP</span><span class="op" id="6696873">:</span>&nbsp;<span class="ident" id="6696875">ParseIP</span><span class="op" id="6696882">(</span><span class="string" id="6696883">&#34;abcd:2345::&#34;</span><span class="op" id="6696896">)</span><span class="op" id="6696897">,</span>&nbsp;<span class="ident" id="6696899">Mask</span><span class="op" id="6696903">:</span>&nbsp;<span class="ident" id="6696905">IPMask</span><span class="op" id="6696911">(</span><span class="ident" id="6696912">ParseIP</span><span class="op" id="6696919">(</span><span class="string" id="6696920">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="6696943">)</span><span class="op" id="6696944">)</span><span class="op" id="6696945">}</span><span class="op" id="6696946">,</span>&nbsp;<span class="builtintype" id="6696948">nil</span><span class="op" id="6696951">}</span><span class="op" id="6696952">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6696955">{</span><span class="string" id="6696956">&#34;abcd:2345::/63&#34;</span><span class="op" id="6696972">,</span>&nbsp;<span class="ident" id="6696974">ParseIP</span><span class="op" id="6696981">(</span><span class="string" id="6696982">&#34;abcd:2345::&#34;</span><span class="op" id="6696995">)</span><span class="op" id="6696996">,</span>&nbsp;<span class="op" id="6696998">&amp;</span><span class="ident" id="6696999">IPNet</span><span class="op" id="6697004">{</span><span class="ident" id="6697005">IP</span><span class="op" id="6697007">:</span>&nbsp;<span class="ident" id="6697009">ParseIP</span><span class="op" id="6697016">(</span><span class="string" id="6697017">&#34;abcd:2345::&#34;</span><span class="op" id="6697030">)</span><span class="op" id="6697031">,</span>&nbsp;<span class="ident" id="6697033">Mask</span><span class="op" id="6697037">:</span>&nbsp;<span class="ident" id="6697039">IPMask</span><span class="op" id="6697045">(</span><span class="ident" id="6697046">ParseIP</span><span class="op" id="6697053">(</span><span class="string" id="6697054">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="6697077">)</span><span class="op" id="6697078">)</span><span class="op" id="6697079">}</span><span class="op" id="6697080">,</span>&nbsp;<span class="builtintype" id="6697082">nil</span><span class="op" id="6697085">}</span><span class="op" id="6697086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6697089">{</span><span class="string" id="6697090">&#34;abcd:2345::/33&#34;</span><span class="op" id="6697106">,</span>&nbsp;<span class="ident" id="6697108">ParseIP</span><span class="op" id="6697115">(</span><span class="string" id="6697116">&#34;abcd:2345::&#34;</span><span class="op" id="6697129">)</span><span class="op" id="6697130">,</span>&nbsp;<span class="op" id="6697132">&amp;</span><span class="ident" id="6697133">IPNet</span><span class="op" id="6697138">{</span><span class="ident" id="6697139">IP</span><span class="op" id="6697141">:</span>&nbsp;<span class="ident" id="6697143">ParseIP</span><span class="op" id="6697150">(</span><span class="string" id="6697151">&#34;abcd:2345::&#34;</span><span class="op" id="6697164">)</span><span class="op" id="6697165">,</span>&nbsp;<span class="ident" id="6697167">Mask</span><span class="op" id="6697171">:</span>&nbsp;<span class="ident" id="6697173">IPMask</span><span class="op" id="6697179">(</span><span class="ident" id="6697180">ParseIP</span><span class="op" id="6697187">(</span><span class="string" id="6697188">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="6697206">)</span><span class="op" id="6697207">)</span><span class="op" id="6697208">}</span><span class="op" id="6697209">,</span>&nbsp;<span class="builtintype" id="6697211">nil</span><span class="op" id="6697214">}</span><span class="op" id="6697215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6697218">{</span><span class="string" id="6697219">&#34;abcd:2345::/32&#34;</span><span class="op" id="6697235">,</span>&nbsp;<span class="ident" id="6697237">ParseIP</span><span class="op" id="6697244">(</span><span class="string" id="6697245">&#34;abcd:2345::&#34;</span><span class="op" id="6697258">)</span><span class="op" id="6697259">,</span>&nbsp;<span class="op" id="6697261">&amp;</span><span class="ident" id="6697262">IPNet</span><span class="op" id="6697267">{</span><span class="ident" id="6697268">IP</span><span class="op" id="6697270">:</span>&nbsp;<span class="ident" id="6697272">ParseIP</span><span class="op" id="6697279">(</span><span class="string" id="6697280">&#34;abcd:2345::&#34;</span><span class="op" id="6697293">)</span><span class="op" id="6697294">,</span>&nbsp;<span class="ident" id="6697296">Mask</span><span class="op" id="6697300">:</span>&nbsp;<span class="ident" id="6697302">IPMask</span><span class="op" id="6697308">(</span><span class="ident" id="6697309">ParseIP</span><span class="op" id="6697316">(</span><span class="string" id="6697317">&#34;ffff:ffff::&#34;</span><span class="op" id="6697330">)</span><span class="op" id="6697331">)</span><span class="op" id="6697332">}</span><span class="op" id="6697333">,</span>&nbsp;<span class="builtintype" id="6697335">nil</span><span class="op" id="6697338">}</span><span class="op" id="6697339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6697342">{</span><span class="string" id="6697343">&#34;abcd:2344::/31&#34;</span><span class="op" id="6697359">,</span>&nbsp;<span class="ident" id="6697361">ParseIP</span><span class="op" id="6697368">(</span><span class="string" id="6697369">&#34;abcd:2344::&#34;</span><span class="op" id="6697382">)</span><span class="op" id="6697383">,</span>&nbsp;<span class="op" id="6697385">&amp;</span><span class="ident" id="6697386">IPNet</span><span class="op" id="6697391">{</span><span class="ident" id="6697392">IP</span><span class="op" id="6697394">:</span>&nbsp;<span class="ident" id="6697396">ParseIP</span><span class="op" id="6697403">(</span><span class="string" id="6697404">&#34;abcd:2344::&#34;</span><span class="op" id="6697417">)</span><span class="op" id="6697418">,</span>&nbsp;<span class="ident" id="6697420">Mask</span><span class="op" id="6697424">:</span>&nbsp;<span class="ident" id="6697426">IPMask</span><span class="op" id="6697432">(</span><span class="ident" id="6697433">ParseIP</span><span class="op" id="6697440">(</span><span class="string" id="6697441">&#34;ffff:fffe::&#34;</span><span class="op" id="6697454">)</span><span class="op" id="6697455">)</span><span class="op" id="6697456">}</span><span class="op" id="6697457">,</span>&nbsp;<span class="builtintype" id="6697459">nil</span><span class="op" id="6697462">}</span><span class="op" id="6697463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6697466">{</span><span class="string" id="6697467">&#34;abcd:2300::/24&#34;</span><span class="op" id="6697483">,</span>&nbsp;<span class="ident" id="6697485">ParseIP</span><span class="op" id="6697492">(</span><span class="string" id="6697493">&#34;abcd:2300::&#34;</span><span class="op" id="6697506">)</span><span class="op" id="6697507">,</span>&nbsp;<span class="op" id="6697509">&amp;</span><span class="ident" id="6697510">IPNet</span><span class="op" id="6697515">{</span><span class="ident" id="6697516">IP</span><span class="op" id="6697518">:</span>&nbsp;<span class="ident" id="6697520">ParseIP</span><span class="op" id="6697527">(</span><span class="string" id="6697528">&#34;abcd:2300::&#34;</span><span class="op" id="6697541">)</span><span class="op" id="6697542">,</span>&nbsp;<span class="ident" id="6697544">Mask</span><span class="op" id="6697548">:</span>&nbsp;<span class="ident" id="6697550">IPMask</span><span class="op" id="6697556">(</span><span class="ident" id="6697557">ParseIP</span><span class="op" id="6697564">(</span><span class="string" id="6697565">&#34;ffff:ff00::&#34;</span><span class="op" id="6697578">)</span><span class="op" id="6697579">)</span><span class="op" id="6697580">}</span><span class="op" id="6697581">,</span>&nbsp;<span class="builtintype" id="6697583">nil</span><span class="op" id="6697586">}</span><span class="op" id="6697587">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6697590">{</span><span class="string" id="6697591">&#34;abcd:2345::/24&#34;</span><span class="op" id="6697607">,</span>&nbsp;<span class="ident" id="6697609">ParseIP</span><span class="op" id="6697616">(</span><span class="string" id="6697617">&#34;abcd:2345::&#34;</span><span class="op" id="6697630">)</span><span class="op" id="6697631">,</span>&nbsp;<span class="op" id="6697633">&amp;</span><span class="ident" id="6697634">IPNet</span><span class="op" id="6697639">{</span><span class="ident" id="6697640">IP</span><span class="op" id="6697642">:</span>&nbsp;<span class="ident" id="6697644">ParseIP</span><span class="op" id="6697651">(</span><span class="string" id="6697652">&#34;abcd:2300::&#34;</span><span class="op" id="6697665">)</span><span class="op" id="6697666">,</span>&nbsp;<span class="ident" id="6697668">Mask</span><span class="op" id="6697672">:</span>&nbsp;<span class="ident" id="6697674">IPMask</span><span class="op" id="6697680">(</span><span class="ident" id="6697681">ParseIP</span><span class="op" id="6697688">(</span><span class="string" id="6697689">&#34;ffff:ff00::&#34;</span><span class="op" id="6697702">)</span><span class="op" id="6697703">)</span><span class="op" id="6697704">}</span><span class="op" id="6697705">,</span>&nbsp;<span class="builtintype" id="6697707">nil</span><span class="op" id="6697710">}</span><span class="op" id="6697711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6697714">{</span><span class="string" id="6697715">&#34;2001:DB8::/48&#34;</span><span class="op" id="6697730">,</span>&nbsp;<span class="ident" id="6697732">ParseIP</span><span class="op" id="6697739">(</span><span class="string" id="6697740">&#34;2001:DB8::&#34;</span><span class="op" id="6697752">)</span><span class="op" id="6697753">,</span>&nbsp;<span class="op" id="6697755">&amp;</span><span class="ident" id="6697756">IPNet</span><span class="op" id="6697761">{</span><span class="ident" id="6697762">IP</span><span class="op" id="6697764">:</span>&nbsp;<span class="ident" id="6697766">ParseIP</span><span class="op" id="6697773">(</span><span class="string" id="6697774">&#34;2001:DB8::&#34;</span><span class="op" id="6697786">)</span><span class="op" id="6697787">,</span>&nbsp;<span class="ident" id="6697789">Mask</span><span class="op" id="6697793">:</span>&nbsp;<span class="ident" id="6697795">IPMask</span><span class="op" id="6697801">(</span><span class="ident" id="6697802">ParseIP</span><span class="op" id="6697809">(</span><span class="string" id="6697810">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="6697828">)</span><span class="op" id="6697829">)</span><span class="op" id="6697830">}</span><span class="op" id="6697831">,</span>&nbsp;<span class="builtintype" id="6697833">nil</span><span class="op" id="6697836">}</span><span class="op" id="6697837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6697840">{</span><span class="string" id="6697841">&#34;2001:DB8::1/48&#34;</span><span class="op" id="6697857">,</span>&nbsp;<span class="ident" id="6697859">ParseIP</span><span class="op" id="6697866">(</span><span class="string" id="6697867">&#34;2001:DB8::1&#34;</span><span class="op" id="6697880">)</span><span class="op" id="6697881">,</span>&nbsp;<span class="op" id="6697883">&amp;</span><span class="ident" id="6697884">IPNet</span><span class="op" id="6697889">{</span><span class="ident" id="6697890">IP</span><span class="op" id="6697892">:</span>&nbsp;<span class="ident" id="6697894">ParseIP</span><span class="op" id="6697901">(</span><span class="string" id="6697902">&#34;2001:DB8::&#34;</span><span class="op" id="6697914">)</span><span class="op" id="6697915">,</span>&nbsp;<span class="ident" id="6697917">Mask</span><span class="op" id="6697921">:</span>&nbsp;<span class="ident" id="6697923">IPMask</span><span class="op" id="6697929">(</span><span class="ident" id="6697930">ParseIP</span><span class="op" id="6697937">(</span><span class="string" id="6697938">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="6697956">)</span><span class="op" id="6697957">)</span><span class="op" id="6697958">}</span><span class="op" id="6697959">,</span>&nbsp;<span class="builtintype" id="6697961">nil</span><span class="op" id="6697964">}</span><span class="op" id="6697965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6697968">{</span><span class="string" id="6697969">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="6697996">,</span>&nbsp;<span class="builtintype" id="6697998">nil</span><span class="op" id="6698001">,</span>&nbsp;<span class="builtintype" id="6698003">nil</span><span class="op" id="6698006">,</span>&nbsp;<span class="op" id="6698008">&amp;</span><span class="ident" id="6698009">ParseError</span><span class="op" id="6698019">{</span><span class="string" id="6698020">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6698034">,</span>&nbsp;<span class="string" id="6698036">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="6698063">}</span><span class="op" id="6698064">}</span><span class="op" id="6698065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698068">{</span><span class="string" id="6698069">&#34;192.168.1.1/35&#34;</span><span class="op" id="6698085">,</span>&nbsp;<span class="builtintype" id="6698087">nil</span><span class="op" id="6698090">,</span>&nbsp;<span class="builtintype" id="6698092">nil</span><span class="op" id="6698095">,</span>&nbsp;<span class="op" id="6698097">&amp;</span><span class="ident" id="6698098">ParseError</span><span class="op" id="6698108">{</span><span class="string" id="6698109">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6698123">,</span>&nbsp;<span class="string" id="6698125">&#34;192.168.1.1/35&#34;</span><span class="op" id="6698141">}</span><span class="op" id="6698142">}</span><span class="op" id="6698143">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698146">{</span><span class="string" id="6698147">&#34;2001:db8::1/-1&#34;</span><span class="op" id="6698163">,</span>&nbsp;<span class="builtintype" id="6698165">nil</span><span class="op" id="6698168">,</span>&nbsp;<span class="builtintype" id="6698170">nil</span><span class="op" id="6698173">,</span>&nbsp;<span class="op" id="6698175">&amp;</span><span class="ident" id="6698176">ParseError</span><span class="op" id="6698186">{</span><span class="string" id="6698187">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6698201">,</span>&nbsp;<span class="string" id="6698203">&#34;2001:db8::1/-1&#34;</span><span class="op" id="6698219">}</span><span class="op" id="6698220">}</span><span class="op" id="6698221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698224">{</span><span class="string" id="6698225">&#34;&#34;</span><span class="op" id="6698227">,</span>&nbsp;<span class="builtintype" id="6698229">nil</span><span class="op" id="6698232">,</span>&nbsp;<span class="builtintype" id="6698234">nil</span><span class="op" id="6698237">,</span>&nbsp;<span class="op" id="6698239">&amp;</span><span class="ident" id="6698240">ParseError</span><span class="op" id="6698250">{</span><span class="string" id="6698251">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6698265">,</span>&nbsp;<span class="string" id="6698267">&#34;&#34;</span><span class="op" id="6698269">}</span><span class="op" id="6698270">}</span><span class="op" id="6698271">,</span><br>
<span class="lineno"></span><span class="op" id="6698273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6698276">func</span>&nbsp;<span class="ident" id="6698281">TestParseCIDR</span><span class="op" id="6698294">(</span><span class="ident" id="6698295">t</span>&nbsp;<span class="op" id="6698297">*</span><span class="ident" id="6698298">testing</span><span class="op" id="6698305">.</span><span class="ident" id="6698306">T</span><span class="op" id="6698307">)</span>&nbsp;<span class="op" id="6698309">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698312">for</span>&nbsp;<span class="ident" id="6698316">_</span><span class="op" id="6698317">,</span>&nbsp;<span class="ident" id="6698319">tt</span>&nbsp;<span class="op" id="6698322">:=</span>&nbsp;<span class="keyword" id="6698325">range</span>&nbsp;<span class="ident" id="6698331">parseCIDRTests</span>&nbsp;<span class="op" id="6698346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698350">ip</span><span class="op" id="6698352">,</span>&nbsp;<span class="ident" id="6698354">net</span><span class="op" id="6698357">,</span>&nbsp;<span class="ident" id="6698359">err</span>&nbsp;<span class="op" id="6698363">:=</span>&nbsp;<span class="ident" id="6698366">ParseCIDR</span><span class="op" id="6698375">(</span><span class="ident" id="6698376">tt</span><span class="op" id="6698378">.</span><span class="ident" id="6698379">in</span><span class="op" id="6698381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698385">if</span>&nbsp;<span class="op" id="6698388">!</span><span class="ident" id="6698389">reflect</span><span class="op" id="6698396">.</span><span class="ident" id="6698397">DeepEqual</span><span class="op" id="6698406">(</span><span class="ident" id="6698407">err</span><span class="op" id="6698410">,</span>&nbsp;<span class="ident" id="6698412">tt</span><span class="op" id="6698414">.</span><span class="ident" id="6698415">err</span><span class="op" id="6698418">)</span>&nbsp;<span class="op" id="6698420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698425">t</span><span class="op" id="6698426">.</span><span class="ident" id="6698427">Errorf</span><span class="op" id="6698433">(</span><span class="string" id="6698434">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6698471">,</span>&nbsp;<span class="ident" id="6698473">tt</span><span class="op" id="6698475">.</span><span class="ident" id="6698476">in</span><span class="op" id="6698478">,</span>&nbsp;<span class="ident" id="6698480">ip</span><span class="op" id="6698482">,</span>&nbsp;<span class="ident" id="6698484">net</span><span class="op" id="6698487">,</span>&nbsp;<span class="ident" id="6698489">tt</span><span class="op" id="6698491">.</span><span class="ident" id="6698492">ip</span><span class="op" id="6698494">,</span>&nbsp;<span class="ident" id="6698496">tt</span><span class="op" id="6698498">.</span><span class="ident" id="6698499">net</span><span class="op" id="6698502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698506">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698510">if</span>&nbsp;<span class="ident" id="6698513">err</span>&nbsp;<span class="op" id="6698517">==</span>&nbsp;<span class="builtintype" id="6698520">nil</span>&nbsp;<span class="op" id="6698524">&amp;&amp;</span>&nbsp;<span class="op" id="6698527">(</span><span class="op" id="6698528">!</span><span class="ident" id="6698529">tt</span><span class="op" id="6698531">.</span><span class="ident" id="6698532">ip</span><span class="op" id="6698534">.</span><span class="ident" id="6698535">Equal</span><span class="op" id="6698540">(</span><span class="ident" id="6698541">ip</span><span class="op" id="6698543">)</span>&nbsp;<span class="op" id="6698545">||</span>&nbsp;<span class="op" id="6698548">!</span><span class="ident" id="6698549">tt</span><span class="op" id="6698551">.</span><span class="ident" id="6698552">net</span><span class="op" id="6698555">.</span><span class="ident" id="6698556">IP</span><span class="op" id="6698558">.</span><span class="ident" id="6698559">Equal</span><span class="op" id="6698564">(</span><span class="ident" id="6698565">net</span><span class="op" id="6698568">.</span><span class="ident" id="6698569">IP</span><span class="op" id="6698571">)</span>&nbsp;<span class="op" id="6698573">||</span>&nbsp;<span class="op" id="6698576">!</span><span class="ident" id="6698577">reflect</span><span class="op" id="6698584">.</span><span class="ident" id="6698585">DeepEqual</span><span class="op" id="6698594">(</span><span class="ident" id="6698595">net</span><span class="op" id="6698598">.</span><span class="ident" id="6698599">Mask</span><span class="op" id="6698603">,</span>&nbsp;<span class="ident" id="6698605">tt</span><span class="op" id="6698607">.</span><span class="ident" id="6698608">net</span><span class="op" id="6698611">.</span><span class="ident" id="6698612">Mask</span><span class="op" id="6698616">)</span><span class="op" id="6698617">)</span>&nbsp;<span class="op" id="6698619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698624">t</span><span class="op" id="6698625">.</span><span class="ident" id="6698626">Errorf</span><span class="op" id="6698632">(</span><span class="string" id="6698633">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="6698682">,</span>&nbsp;<span class="ident" id="6698684">tt</span><span class="op" id="6698686">.</span><span class="ident" id="6698687">in</span><span class="op" id="6698689">,</span>&nbsp;<span class="ident" id="6698691">ip</span><span class="op" id="6698693">,</span>&nbsp;<span class="ident" id="6698695">net</span><span class="op" id="6698698">.</span><span class="ident" id="6698699">IP</span><span class="op" id="6698701">,</span>&nbsp;<span class="ident" id="6698703">net</span><span class="op" id="6698706">.</span><span class="ident" id="6698707">Mask</span><span class="op" id="6698711">,</span>&nbsp;<span class="ident" id="6698713">tt</span><span class="op" id="6698715">.</span><span class="ident" id="6698716">ip</span><span class="op" id="6698718">,</span>&nbsp;<span class="ident" id="6698720">tt</span><span class="op" id="6698722">.</span><span class="ident" id="6698723">net</span><span class="op" id="6698726">.</span><span class="ident" id="6698727">IP</span><span class="op" id="6698729">,</span>&nbsp;<span class="ident" id="6698731">tt</span><span class="op" id="6698733">.</span><span class="ident" id="6698734">net</span><span class="op" id="6698737">.</span><span class="ident" id="6698738">Mask</span><span class="op" id="6698742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698749">}</span><br>
<span class="lineno"></span><span class="op" id="6698751">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6698754">var</span>&nbsp;<span class="ident" id="6698758">ipNetContainsTests</span>&nbsp;<span class="op" id="6698777">=</span>&nbsp;<span class="op" id="6698779">[</span><span class="op" id="6698780">]</span><span class="keyword" id="6698781">struct</span>&nbsp;<span class="op" id="6698788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698791">ip</span>&nbsp;&nbsp;<span class="ident" id="6698795">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698799">net</span>&nbsp;<span class="op" id="6698803">*</span><span class="ident" id="6698804">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698811">ok</span>&nbsp;&nbsp;<span class="builtintype" id="6698815">bool</span><br>
<span class="lineno">205</span><span class="op" id="6698820">}</span><span class="op" id="6698821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698824">{</span><span class="ident" id="6698825">IPv4</span><span class="op" id="6698829">(</span><span class="num" id="6698830">172</span><span class="op" id="6698833">,</span>&nbsp;<span class="num" id="6698835">16</span><span class="op" id="6698837">,</span>&nbsp;<span class="num" id="6698839">1</span><span class="op" id="6698840">,</span>&nbsp;<span class="num" id="6698842">1</span><span class="op" id="6698843">)</span><span class="op" id="6698844">,</span>&nbsp;<span class="op" id="6698846">&amp;</span><span class="ident" id="6698847">IPNet</span><span class="op" id="6698852">{</span><span class="ident" id="6698853">IP</span><span class="op" id="6698855">:</span>&nbsp;<span class="ident" id="6698857">IPv4</span><span class="op" id="6698861">(</span><span class="num" id="6698862">172</span><span class="op" id="6698865">,</span>&nbsp;<span class="num" id="6698867">16</span><span class="op" id="6698869">,</span>&nbsp;<span class="num" id="6698871">0</span><span class="op" id="6698872">,</span>&nbsp;<span class="num" id="6698874">0</span><span class="op" id="6698875">)</span><span class="op" id="6698876">,</span>&nbsp;<span class="ident" id="6698878">Mask</span><span class="op" id="6698882">:</span>&nbsp;<span class="ident" id="6698884">CIDRMask</span><span class="op" id="6698892">(</span><span class="num" id="6698893">12</span><span class="op" id="6698895">,</span>&nbsp;<span class="num" id="6698897">32</span><span class="op" id="6698899">)</span><span class="op" id="6698900">}</span><span class="op" id="6698901">,</span>&nbsp;<span class="builtintype" id="6698903">true</span><span class="op" id="6698907">}</span><span class="op" id="6698908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698911">{</span><span class="ident" id="6698912">IPv4</span><span class="op" id="6698916">(</span><span class="num" id="6698917">172</span><span class="op" id="6698920">,</span>&nbsp;<span class="num" id="6698922">24</span><span class="op" id="6698924">,</span>&nbsp;<span class="num" id="6698926">0</span><span class="op" id="6698927">,</span>&nbsp;<span class="num" id="6698929">1</span><span class="op" id="6698930">)</span><span class="op" id="6698931">,</span>&nbsp;<span class="op" id="6698933">&amp;</span><span class="ident" id="6698934">IPNet</span><span class="op" id="6698939">{</span><span class="ident" id="6698940">IP</span><span class="op" id="6698942">:</span>&nbsp;<span class="ident" id="6698944">IPv4</span><span class="op" id="6698948">(</span><span class="num" id="6698949">172</span><span class="op" id="6698952">,</span>&nbsp;<span class="num" id="6698954">16</span><span class="op" id="6698956">,</span>&nbsp;<span class="num" id="6698958">0</span><span class="op" id="6698959">,</span>&nbsp;<span class="num" id="6698961">0</span><span class="op" id="6698962">)</span><span class="op" id="6698963">,</span>&nbsp;<span class="ident" id="6698965">Mask</span><span class="op" id="6698969">:</span>&nbsp;<span class="ident" id="6698971">CIDRMask</span><span class="op" id="6698979">(</span><span class="num" id="6698980">13</span><span class="op" id="6698982">,</span>&nbsp;<span class="num" id="6698984">32</span><span class="op" id="6698986">)</span><span class="op" id="6698987">}</span><span class="op" id="6698988">,</span>&nbsp;<span class="builtintype" id="6698990">false</span><span class="op" id="6698995">}</span><span class="op" id="6698996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698999">{</span><span class="ident" id="6699000">IPv4</span><span class="op" id="6699004">(</span><span class="num" id="6699005">192</span><span class="op" id="6699008">,</span>&nbsp;<span class="num" id="6699010">168</span><span class="op" id="6699013">,</span>&nbsp;<span class="num" id="6699015">0</span><span class="op" id="6699016">,</span>&nbsp;<span class="num" id="6699018">3</span><span class="op" id="6699019">)</span><span class="op" id="6699020">,</span>&nbsp;<span class="op" id="6699022">&amp;</span><span class="ident" id="6699023">IPNet</span><span class="op" id="6699028">{</span><span class="ident" id="6699029">IP</span><span class="op" id="6699031">:</span>&nbsp;<span class="ident" id="6699033">IPv4</span><span class="op" id="6699037">(</span><span class="num" id="6699038">192</span><span class="op" id="6699041">,</span>&nbsp;<span class="num" id="6699043">168</span><span class="op" id="6699046">,</span>&nbsp;<span class="num" id="6699048">0</span><span class="op" id="6699049">,</span>&nbsp;<span class="num" id="6699051">0</span><span class="op" id="6699052">)</span><span class="op" id="6699053">,</span>&nbsp;<span class="ident" id="6699055">Mask</span><span class="op" id="6699059">:</span>&nbsp;<span class="ident" id="6699061">IPv4Mask</span><span class="op" id="6699069">(</span><span class="num" id="6699070">0</span><span class="op" id="6699071">,</span>&nbsp;<span class="num" id="6699073">0</span><span class="op" id="6699074">,</span>&nbsp;<span class="num" id="6699076">255</span><span class="op" id="6699079">,</span>&nbsp;<span class="num" id="6699081">252</span><span class="op" id="6699084">)</span><span class="op" id="6699085">}</span><span class="op" id="6699086">,</span>&nbsp;<span class="builtintype" id="6699088">true</span><span class="op" id="6699092">}</span><span class="op" id="6699093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699096">{</span><span class="ident" id="6699097">IPv4</span><span class="op" id="6699101">(</span><span class="num" id="6699102">192</span><span class="op" id="6699105">,</span>&nbsp;<span class="num" id="6699107">168</span><span class="op" id="6699110">,</span>&nbsp;<span class="num" id="6699112">0</span><span class="op" id="6699113">,</span>&nbsp;<span class="num" id="6699115">4</span><span class="op" id="6699116">)</span><span class="op" id="6699117">,</span>&nbsp;<span class="op" id="6699119">&amp;</span><span class="ident" id="6699120">IPNet</span><span class="op" id="6699125">{</span><span class="ident" id="6699126">IP</span><span class="op" id="6699128">:</span>&nbsp;<span class="ident" id="6699130">IPv4</span><span class="op" id="6699134">(</span><span class="num" id="6699135">192</span><span class="op" id="6699138">,</span>&nbsp;<span class="num" id="6699140">168</span><span class="op" id="6699143">,</span>&nbsp;<span class="num" id="6699145">0</span><span class="op" id="6699146">,</span>&nbsp;<span class="num" id="6699148">0</span><span class="op" id="6699149">)</span><span class="op" id="6699150">,</span>&nbsp;<span class="ident" id="6699152">Mask</span><span class="op" id="6699156">:</span>&nbsp;<span class="ident" id="6699158">IPv4Mask</span><span class="op" id="6699166">(</span><span class="num" id="6699167">0</span><span class="op" id="6699168">,</span>&nbsp;<span class="num" id="6699170">255</span><span class="op" id="6699173">,</span>&nbsp;<span class="num" id="6699175">0</span><span class="op" id="6699176">,</span>&nbsp;<span class="num" id="6699178">252</span><span class="op" id="6699181">)</span><span class="op" id="6699182">}</span><span class="op" id="6699183">,</span>&nbsp;<span class="builtintype" id="6699185">false</span><span class="op" id="6699190">}</span><span class="op" id="6699191">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699194">{</span><span class="ident" id="6699195">ParseIP</span><span class="op" id="6699202">(</span><span class="string" id="6699203">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6699220">)</span><span class="op" id="6699221">,</span>&nbsp;<span class="op" id="6699223">&amp;</span><span class="ident" id="6699224">IPNet</span><span class="op" id="6699229">{</span><span class="ident" id="6699230">IP</span><span class="op" id="6699232">:</span>&nbsp;<span class="ident" id="6699234">ParseIP</span><span class="op" id="6699241">(</span><span class="string" id="6699242">&#34;2001:db8:1::&#34;</span><span class="op" id="6699256">)</span><span class="op" id="6699257">,</span>&nbsp;<span class="ident" id="6699259">Mask</span><span class="op" id="6699263">:</span>&nbsp;<span class="ident" id="6699265">CIDRMask</span><span class="op" id="6699273">(</span><span class="num" id="6699274">47</span><span class="op" id="6699276">,</span>&nbsp;<span class="num" id="6699278">128</span><span class="op" id="6699281">)</span><span class="op" id="6699282">}</span><span class="op" id="6699283">,</span>&nbsp;<span class="builtintype" id="6699285">true</span><span class="op" id="6699289">}</span><span class="op" id="6699290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699293">{</span><span class="ident" id="6699294">ParseIP</span><span class="op" id="6699301">(</span><span class="string" id="6699302">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6699319">)</span><span class="op" id="6699320">,</span>&nbsp;<span class="op" id="6699322">&amp;</span><span class="ident" id="6699323">IPNet</span><span class="op" id="6699328">{</span><span class="ident" id="6699329">IP</span><span class="op" id="6699331">:</span>&nbsp;<span class="ident" id="6699333">ParseIP</span><span class="op" id="6699340">(</span><span class="string" id="6699341">&#34;2001:db8:2::&#34;</span><span class="op" id="6699355">)</span><span class="op" id="6699356">,</span>&nbsp;<span class="ident" id="6699358">Mask</span><span class="op" id="6699362">:</span>&nbsp;<span class="ident" id="6699364">CIDRMask</span><span class="op" id="6699372">(</span><span class="num" id="6699373">47</span><span class="op" id="6699375">,</span>&nbsp;<span class="num" id="6699377">128</span><span class="op" id="6699380">)</span><span class="op" id="6699381">}</span><span class="op" id="6699382">,</span>&nbsp;<span class="builtintype" id="6699384">false</span><span class="op" id="6699389">}</span><span class="op" id="6699390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699393">{</span><span class="ident" id="6699394">ParseIP</span><span class="op" id="6699401">(</span><span class="string" id="6699402">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6699419">)</span><span class="op" id="6699420">,</span>&nbsp;<span class="op" id="6699422">&amp;</span><span class="ident" id="6699423">IPNet</span><span class="op" id="6699428">{</span><span class="ident" id="6699429">IP</span><span class="op" id="6699431">:</span>&nbsp;<span class="ident" id="6699433">ParseIP</span><span class="op" id="6699440">(</span><span class="string" id="6699441">&#34;2001:db8:1::&#34;</span><span class="op" id="6699455">)</span><span class="op" id="6699456">,</span>&nbsp;<span class="ident" id="6699458">Mask</span><span class="op" id="6699462">:</span>&nbsp;<span class="ident" id="6699464">IPMask</span><span class="op" id="6699470">(</span><span class="ident" id="6699471">ParseIP</span><span class="op" id="6699478">(</span><span class="string" id="6699479">&#34;ffff:0:ffff::&#34;</span><span class="op" id="6699494">)</span><span class="op" id="6699495">)</span><span class="op" id="6699496">}</span><span class="op" id="6699497">,</span>&nbsp;<span class="builtintype" id="6699499">true</span><span class="op" id="6699503">}</span><span class="op" id="6699504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699507">{</span><span class="ident" id="6699508">ParseIP</span><span class="op" id="6699515">(</span><span class="string" id="6699516">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6699533">)</span><span class="op" id="6699534">,</span>&nbsp;<span class="op" id="6699536">&amp;</span><span class="ident" id="6699537">IPNet</span><span class="op" id="6699542">{</span><span class="ident" id="6699543">IP</span><span class="op" id="6699545">:</span>&nbsp;<span class="ident" id="6699547">ParseIP</span><span class="op" id="6699554">(</span><span class="string" id="6699555">&#34;2001:db8:1::&#34;</span><span class="op" id="6699569">)</span><span class="op" id="6699570">,</span>&nbsp;<span class="ident" id="6699572">Mask</span><span class="op" id="6699576">:</span>&nbsp;<span class="ident" id="6699578">IPMask</span><span class="op" id="6699584">(</span><span class="ident" id="6699585">ParseIP</span><span class="op" id="6699592">(</span><span class="string" id="6699593">&#34;0:0:0:ffff::&#34;</span><span class="op" id="6699607">)</span><span class="op" id="6699608">)</span><span class="op" id="6699609">}</span><span class="op" id="6699610">,</span>&nbsp;<span class="builtintype" id="6699612">false</span><span class="op" id="6699617">}</span><span class="op" id="6699618">,</span><br>
<span class="lineno"></span><span class="op" id="6699620">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="6699623">func</span>&nbsp;<span class="ident" id="6699628">TestIPNetContains</span><span class="op" id="6699645">(</span><span class="ident" id="6699646">t</span>&nbsp;<span class="op" id="6699648">*</span><span class="ident" id="6699649">testing</span><span class="op" id="6699656">.</span><span class="ident" id="6699657">T</span><span class="op" id="6699658">)</span>&nbsp;<span class="op" id="6699660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6699663">for</span>&nbsp;<span class="ident" id="6699667">_</span><span class="op" id="6699668">,</span>&nbsp;<span class="ident" id="6699670">tt</span>&nbsp;<span class="op" id="6699673">:=</span>&nbsp;<span class="keyword" id="6699676">range</span>&nbsp;<span class="ident" id="6699682">ipNetContainsTests</span>&nbsp;<span class="op" id="6699701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6699705">if</span>&nbsp;<span class="ident" id="6699708">ok</span>&nbsp;<span class="op" id="6699711">:=</span>&nbsp;<span class="ident" id="6699714">tt</span><span class="op" id="6699716">.</span><span class="ident" id="6699717">net</span><span class="op" id="6699720">.</span><span class="ident" id="6699721">Contains</span><span class="op" id="6699729">(</span><span class="ident" id="6699730">tt</span><span class="op" id="6699732">.</span><span class="ident" id="6699733">ip</span><span class="op" id="6699735">)</span><span class="op" id="6699736">;</span>&nbsp;<span class="ident" id="6699738">ok</span>&nbsp;<span class="op" id="6699741">!=</span>&nbsp;<span class="ident" id="6699744">tt</span><span class="op" id="6699746">.</span><span class="ident" id="6699747">ok</span>&nbsp;<span class="op" id="6699750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6699755">t</span><span class="op" id="6699756">.</span><span class="ident" id="6699757">Errorf</span><span class="op" id="6699763">(</span><span class="string" id="6699764">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6699802">,</span>&nbsp;<span class="ident" id="6699804">tt</span><span class="op" id="6699806">.</span><span class="ident" id="6699807">net</span><span class="op" id="6699810">,</span>&nbsp;<span class="ident" id="6699812">tt</span><span class="op" id="6699814">.</span><span class="ident" id="6699815">ip</span><span class="op" id="6699817">,</span>&nbsp;<span class="ident" id="6699819">ok</span><span class="op" id="6699821">,</span>&nbsp;<span class="ident" id="6699823">tt</span><span class="op" id="6699825">.</span><span class="ident" id="6699826">ok</span><span class="op" id="6699828">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699835">}</span><br>
<span class="lineno"></span><span class="op" id="6699837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6699840">var</span>&nbsp;<span class="ident" id="6699844">ipNetStringTests</span>&nbsp;<span class="op" id="6699861">=</span>&nbsp;<span class="op" id="6699863">[</span><span class="op" id="6699864">]</span><span class="keyword" id="6699865">struct</span>&nbsp;<span class="op" id="6699872">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6699875">in</span>&nbsp;&nbsp;<span class="op" id="6699879">*</span><span class="ident" id="6699880">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6699887">out</span>&nbsp;<span class="builtintype" id="6699891">string</span><br>
<span class="lineno"></span><span class="op" id="6699898">}</span><span class="op" id="6699899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699902">{</span><span class="op" id="6699903">&amp;</span><span class="ident" id="6699904">IPNet</span><span class="op" id="6699909">{</span><span class="ident" id="6699910">IP</span><span class="op" id="6699912">:</span>&nbsp;<span class="ident" id="6699914">IPv4</span><span class="op" id="6699918">(</span><span class="num" id="6699919">192</span><span class="op" id="6699922">,</span>&nbsp;<span class="num" id="6699924">168</span><span class="op" id="6699927">,</span>&nbsp;<span class="num" id="6699929">1</span><span class="op" id="6699930">,</span>&nbsp;<span class="num" id="6699932">0</span><span class="op" id="6699933">)</span><span class="op" id="6699934">,</span>&nbsp;<span class="ident" id="6699936">Mask</span><span class="op" id="6699940">:</span>&nbsp;<span class="ident" id="6699942">CIDRMask</span><span class="op" id="6699950">(</span><span class="num" id="6699951">26</span><span class="op" id="6699953">,</span>&nbsp;<span class="num" id="6699955">32</span><span class="op" id="6699957">)</span><span class="op" id="6699958">}</span><span class="op" id="6699959">,</span>&nbsp;<span class="string" id="6699961">&#34;192.168.1.0/26&#34;</span><span class="op" id="6699977">}</span><span class="op" id="6699978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699981">{</span><span class="op" id="6699982">&amp;</span><span class="ident" id="6699983">IPNet</span><span class="op" id="6699988">{</span><span class="ident" id="6699989">IP</span><span class="op" id="6699991">:</span>&nbsp;<span class="ident" id="6699993">IPv4</span><span class="op" id="6699997">(</span><span class="num" id="6699998">192</span><span class="op" id="6700001">,</span>&nbsp;<span class="num" id="6700003">168</span><span class="op" id="6700006">,</span>&nbsp;<span class="num" id="6700008">1</span><span class="op" id="6700009">,</span>&nbsp;<span class="num" id="6700011">0</span><span class="op" id="6700012">)</span><span class="op" id="6700013">,</span>&nbsp;<span class="ident" id="6700015">Mask</span><span class="op" id="6700019">:</span>&nbsp;<span class="ident" id="6700021">IPv4Mask</span><span class="op" id="6700029">(</span><span class="num" id="6700030">255</span><span class="op" id="6700033">,</span>&nbsp;<span class="num" id="6700035">0</span><span class="op" id="6700036">,</span>&nbsp;<span class="num" id="6700038">255</span><span class="op" id="6700041">,</span>&nbsp;<span class="num" id="6700043">0</span><span class="op" id="6700044">)</span><span class="op" id="6700045">}</span><span class="op" id="6700046">,</span>&nbsp;<span class="string" id="6700048">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="6700070">}</span><span class="op" id="6700071">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700074">{</span><span class="op" id="6700075">&amp;</span><span class="ident" id="6700076">IPNet</span><span class="op" id="6700081">{</span><span class="ident" id="6700082">IP</span><span class="op" id="6700084">:</span>&nbsp;<span class="ident" id="6700086">ParseIP</span><span class="op" id="6700093">(</span><span class="string" id="6700094">&#34;2001:db8::&#34;</span><span class="op" id="6700106">)</span><span class="op" id="6700107">,</span>&nbsp;<span class="ident" id="6700109">Mask</span><span class="op" id="6700113">:</span>&nbsp;<span class="ident" id="6700115">CIDRMask</span><span class="op" id="6700123">(</span><span class="num" id="6700124">55</span><span class="op" id="6700126">,</span>&nbsp;<span class="num" id="6700128">128</span><span class="op" id="6700131">)</span><span class="op" id="6700132">}</span><span class="op" id="6700133">,</span>&nbsp;<span class="string" id="6700135">&#34;2001:db8::/55&#34;</span><span class="op" id="6700150">}</span><span class="op" id="6700151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700154">{</span><span class="op" id="6700155">&amp;</span><span class="ident" id="6700156">IPNet</span><span class="op" id="6700161">{</span><span class="ident" id="6700162">IP</span><span class="op" id="6700164">:</span>&nbsp;<span class="ident" id="6700166">ParseIP</span><span class="op" id="6700173">(</span><span class="string" id="6700174">&#34;2001:db8::&#34;</span><span class="op" id="6700186">)</span><span class="op" id="6700187">,</span>&nbsp;<span class="ident" id="6700189">Mask</span><span class="op" id="6700193">:</span>&nbsp;<span class="ident" id="6700195">IPMask</span><span class="op" id="6700201">(</span><span class="ident" id="6700202">ParseIP</span><span class="op" id="6700209">(</span><span class="string" id="6700210">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="6700230">)</span><span class="op" id="6700231">)</span><span class="op" id="6700232">}</span><span class="op" id="6700233">,</span>&nbsp;<span class="string" id="6700235">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="6700280">}</span><span class="op" id="6700281">,</span><br>
<span class="lineno"></span><span class="op" id="6700283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6700286">func</span>&nbsp;<span class="ident" id="6700291">TestIPNetString</span><span class="op" id="6700306">(</span><span class="ident" id="6700307">t</span>&nbsp;<span class="op" id="6700309">*</span><span class="ident" id="6700310">testing</span><span class="op" id="6700317">.</span><span class="ident" id="6700318">T</span><span class="op" id="6700319">)</span>&nbsp;<span class="op" id="6700321">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6700324">for</span>&nbsp;<span class="ident" id="6700328">_</span><span class="op" id="6700329">,</span>&nbsp;<span class="ident" id="6700331">tt</span>&nbsp;<span class="op" id="6700334">:=</span>&nbsp;<span class="keyword" id="6700337">range</span>&nbsp;<span class="ident" id="6700343">ipNetStringTests</span>&nbsp;<span class="op" id="6700360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6700364">if</span>&nbsp;<span class="ident" id="6700367">out</span>&nbsp;<span class="op" id="6700371">:=</span>&nbsp;<span class="ident" id="6700374">tt</span><span class="op" id="6700376">.</span><span class="ident" id="6700377">in</span><span class="op" id="6700379">.</span><span class="ident" id="6700380">String</span><span class="op" id="6700386">(</span><span class="op" id="6700387">)</span><span class="op" id="6700388">;</span>&nbsp;<span class="ident" id="6700390">out</span>&nbsp;<span class="op" id="6700394">!=</span>&nbsp;<span class="ident" id="6700397">tt</span><span class="op" id="6700399">.</span><span class="ident" id="6700400">out</span>&nbsp;<span class="op" id="6700404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6700409">t</span><span class="op" id="6700410">.</span><span class="ident" id="6700411">Errorf</span><span class="op" id="6700417">(</span><span class="string" id="6700418">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6700450">,</span>&nbsp;<span class="ident" id="6700452">tt</span><span class="op" id="6700454">.</span><span class="ident" id="6700455">in</span><span class="op" id="6700457">,</span>&nbsp;<span class="ident" id="6700459">out</span><span class="op" id="6700462">,</span>&nbsp;<span class="ident" id="6700464">tt</span><span class="op" id="6700466">.</span><span class="ident" id="6700467">out</span><span class="op" id="6700470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700477">}</span><br>
<span class="lineno">240</span><span class="op" id="6700479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6700482">var</span>&nbsp;<span class="ident" id="6700486">cidrMaskTests</span>&nbsp;<span class="op" id="6700500">=</span>&nbsp;<span class="op" id="6700502">[</span><span class="op" id="6700503">]</span><span class="keyword" id="6700504">struct</span>&nbsp;<span class="op" id="6700511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6700514">ones</span>&nbsp;<span class="builtintype" id="6700519">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6700524">bits</span>&nbsp;<span class="builtintype" id="6700529">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6700534">out</span>&nbsp;&nbsp;<span class="ident" id="6700539">IPMask</span><br>
<span class="lineno"></span><span class="op" id="6700546">}</span><span class="op" id="6700547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700550">{</span><span class="num" id="6700551">0</span><span class="op" id="6700552">,</span>&nbsp;<span class="num" id="6700554">32</span><span class="op" id="6700556">,</span>&nbsp;<span class="ident" id="6700558">IPv4Mask</span><span class="op" id="6700566">(</span><span class="num" id="6700567">0</span><span class="op" id="6700568">,</span>&nbsp;<span class="num" id="6700570">0</span><span class="op" id="6700571">,</span>&nbsp;<span class="num" id="6700573">0</span><span class="op" id="6700574">,</span>&nbsp;<span class="num" id="6700576">0</span><span class="op" id="6700577">)</span><span class="op" id="6700578">}</span><span class="op" id="6700579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700582">{</span><span class="num" id="6700583">12</span><span class="op" id="6700585">,</span>&nbsp;<span class="num" id="6700587">32</span><span class="op" id="6700589">,</span>&nbsp;<span class="ident" id="6700591">IPv4Mask</span><span class="op" id="6700599">(</span><span class="num" id="6700600">255</span><span class="op" id="6700603">,</span>&nbsp;<span class="num" id="6700605">240</span><span class="op" id="6700608">,</span>&nbsp;<span class="num" id="6700610">0</span><span class="op" id="6700611">,</span>&nbsp;<span class="num" id="6700613">0</span><span class="op" id="6700614">)</span><span class="op" id="6700615">}</span><span class="op" id="6700616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700619">{</span><span class="num" id="6700620">24</span><span class="op" id="6700622">,</span>&nbsp;<span class="num" id="6700624">32</span><span class="op" id="6700626">,</span>&nbsp;<span class="ident" id="6700628">IPv4Mask</span><span class="op" id="6700636">(</span><span class="num" id="6700637">255</span><span class="op" id="6700640">,</span>&nbsp;<span class="num" id="6700642">255</span><span class="op" id="6700645">,</span>&nbsp;<span class="num" id="6700647">255</span><span class="op" id="6700650">,</span>&nbsp;<span class="num" id="6700652">0</span><span class="op" id="6700653">)</span><span class="op" id="6700654">}</span><span class="op" id="6700655">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700658">{</span><span class="num" id="6700659">32</span><span class="op" id="6700661">,</span>&nbsp;<span class="num" id="6700663">32</span><span class="op" id="6700665">,</span>&nbsp;<span class="ident" id="6700667">IPv4Mask</span><span class="op" id="6700675">(</span><span class="num" id="6700676">255</span><span class="op" id="6700679">,</span>&nbsp;<span class="num" id="6700681">255</span><span class="op" id="6700684">,</span>&nbsp;<span class="num" id="6700686">255</span><span class="op" id="6700689">,</span>&nbsp;<span class="num" id="6700691">255</span><span class="op" id="6700694">)</span><span class="op" id="6700695">}</span><span class="op" id="6700696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700699">{</span><span class="num" id="6700700">0</span><span class="op" id="6700701">,</span>&nbsp;<span class="num" id="6700703">128</span><span class="op" id="6700706">,</span>&nbsp;<span class="ident" id="6700708">IPMask</span><span class="op" id="6700714">{</span><span class="num" id="6700715">0</span><span class="op" id="6700716">,</span>&nbsp;<span class="num" id="6700718">0</span><span class="op" id="6700719">,</span>&nbsp;<span class="num" id="6700721">0</span><span class="op" id="6700722">,</span>&nbsp;<span class="num" id="6700724">0</span><span class="op" id="6700725">,</span>&nbsp;<span class="num" id="6700727">0</span><span class="op" id="6700728">,</span>&nbsp;<span class="num" id="6700730">0</span><span class="op" id="6700731">,</span>&nbsp;<span class="num" id="6700733">0</span><span class="op" id="6700734">,</span>&nbsp;<span class="num" id="6700736">0</span><span class="op" id="6700737">,</span>&nbsp;<span class="num" id="6700739">0</span><span class="op" id="6700740">,</span>&nbsp;<span class="num" id="6700742">0</span><span class="op" id="6700743">,</span>&nbsp;<span class="num" id="6700745">0</span><span class="op" id="6700746">,</span>&nbsp;<span class="num" id="6700748">0</span><span class="op" id="6700749">,</span>&nbsp;<span class="num" id="6700751">0</span><span class="op" id="6700752">,</span>&nbsp;<span class="num" id="6700754">0</span><span class="op" id="6700755">,</span>&nbsp;<span class="num" id="6700757">0</span><span class="op" id="6700758">,</span>&nbsp;<span class="num" id="6700760">0</span><span class="op" id="6700761">}</span><span class="op" id="6700762">}</span><span class="op" id="6700763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700766">{</span><span class="num" id="6700767">4</span><span class="op" id="6700768">,</span>&nbsp;<span class="num" id="6700770">128</span><span class="op" id="6700773">,</span>&nbsp;<span class="ident" id="6700775">IPMask</span><span class="op" id="6700781">{</span><span class="num" id="6700782">0xf0</span><span class="op" id="6700786">,</span>&nbsp;<span class="num" id="6700788">0</span><span class="op" id="6700789">,</span>&nbsp;<span class="num" id="6700791">0</span><span class="op" id="6700792">,</span>&nbsp;<span class="num" id="6700794">0</span><span class="op" id="6700795">,</span>&nbsp;<span class="num" id="6700797">0</span><span class="op" id="6700798">,</span>&nbsp;<span class="num" id="6700800">0</span><span class="op" id="6700801">,</span>&nbsp;<span class="num" id="6700803">0</span><span class="op" id="6700804">,</span>&nbsp;<span class="num" id="6700806">0</span><span class="op" id="6700807">,</span>&nbsp;<span class="num" id="6700809">0</span><span class="op" id="6700810">,</span>&nbsp;<span class="num" id="6700812">0</span><span class="op" id="6700813">,</span>&nbsp;<span class="num" id="6700815">0</span><span class="op" id="6700816">,</span>&nbsp;<span class="num" id="6700818">0</span><span class="op" id="6700819">,</span>&nbsp;<span class="num" id="6700821">0</span><span class="op" id="6700822">,</span>&nbsp;<span class="num" id="6700824">0</span><span class="op" id="6700825">,</span>&nbsp;<span class="num" id="6700827">0</span><span class="op" id="6700828">,</span>&nbsp;<span class="num" id="6700830">0</span><span class="op" id="6700831">}</span><span class="op" id="6700832">}</span><span class="op" id="6700833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700836">{</span><span class="num" id="6700837">48</span><span class="op" id="6700839">,</span>&nbsp;<span class="num" id="6700841">128</span><span class="op" id="6700844">,</span>&nbsp;<span class="ident" id="6700846">IPMask</span><span class="op" id="6700852">{</span><span class="num" id="6700853">0xff</span><span class="op" id="6700857">,</span>&nbsp;<span class="num" id="6700859">0xff</span><span class="op" id="6700863">,</span>&nbsp;<span class="num" id="6700865">0xff</span><span class="op" id="6700869">,</span>&nbsp;<span class="num" id="6700871">0xff</span><span class="op" id="6700875">,</span>&nbsp;<span class="num" id="6700877">0xff</span><span class="op" id="6700881">,</span>&nbsp;<span class="num" id="6700883">0xff</span><span class="op" id="6700887">,</span>&nbsp;<span class="num" id="6700889">0</span><span class="op" id="6700890">,</span>&nbsp;<span class="num" id="6700892">0</span><span class="op" id="6700893">,</span>&nbsp;<span class="num" id="6700895">0</span><span class="op" id="6700896">,</span>&nbsp;<span class="num" id="6700898">0</span><span class="op" id="6700899">,</span>&nbsp;<span class="num" id="6700901">0</span><span class="op" id="6700902">,</span>&nbsp;<span class="num" id="6700904">0</span><span class="op" id="6700905">,</span>&nbsp;<span class="num" id="6700907">0</span><span class="op" id="6700908">,</span>&nbsp;<span class="num" id="6700910">0</span><span class="op" id="6700911">,</span>&nbsp;<span class="num" id="6700913">0</span><span class="op" id="6700914">,</span>&nbsp;<span class="num" id="6700916">0</span><span class="op" id="6700917">}</span><span class="op" id="6700918">}</span><span class="op" id="6700919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700922">{</span><span class="num" id="6700923">128</span><span class="op" id="6700926">,</span>&nbsp;<span class="num" id="6700928">128</span><span class="op" id="6700931">,</span>&nbsp;<span class="ident" id="6700933">IPMask</span><span class="op" id="6700939">{</span><span class="num" id="6700940">0xff</span><span class="op" id="6700944">,</span>&nbsp;<span class="num" id="6700946">0xff</span><span class="op" id="6700950">,</span>&nbsp;<span class="num" id="6700952">0xff</span><span class="op" id="6700956">,</span>&nbsp;<span class="num" id="6700958">0xff</span><span class="op" id="6700962">,</span>&nbsp;<span class="num" id="6700964">0xff</span><span class="op" id="6700968">,</span>&nbsp;<span class="num" id="6700970">0xff</span><span class="op" id="6700974">,</span>&nbsp;<span class="num" id="6700976">0xff</span><span class="op" id="6700980">,</span>&nbsp;<span class="num" id="6700982">0xff</span><span class="op" id="6700986">,</span>&nbsp;<span class="num" id="6700988">0xff</span><span class="op" id="6700992">,</span>&nbsp;<span class="num" id="6700994">0xff</span><span class="op" id="6700998">,</span>&nbsp;<span class="num" id="6701000">0xff</span><span class="op" id="6701004">,</span>&nbsp;<span class="num" id="6701006">0xff</span><span class="op" id="6701010">,</span>&nbsp;<span class="num" id="6701012">0xff</span><span class="op" id="6701016">,</span>&nbsp;<span class="num" id="6701018">0xff</span><span class="op" id="6701022">,</span>&nbsp;<span class="num" id="6701024">0xff</span><span class="op" id="6701028">,</span>&nbsp;<span class="num" id="6701030">0xff</span><span class="op" id="6701034">}</span><span class="op" id="6701035">}</span><span class="op" id="6701036">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701039">{</span><span class="num" id="6701040">33</span><span class="op" id="6701042">,</span>&nbsp;<span class="num" id="6701044">32</span><span class="op" id="6701046">,</span>&nbsp;<span class="builtintype" id="6701048">nil</span><span class="op" id="6701051">}</span><span class="op" id="6701052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701055">{</span><span class="num" id="6701056">32</span><span class="op" id="6701058">,</span>&nbsp;<span class="num" id="6701060">33</span><span class="op" id="6701062">,</span>&nbsp;<span class="builtintype" id="6701064">nil</span><span class="op" id="6701067">}</span><span class="op" id="6701068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701071">{</span><span class="op" id="6701072">-</span><span class="num" id="6701073">1</span><span class="op" id="6701074">,</span>&nbsp;<span class="num" id="6701076">128</span><span class="op" id="6701079">,</span>&nbsp;<span class="builtintype" id="6701081">nil</span><span class="op" id="6701084">}</span><span class="op" id="6701085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701088">{</span><span class="num" id="6701089">128</span><span class="op" id="6701092">,</span>&nbsp;<span class="op" id="6701094">-</span><span class="num" id="6701095">1</span><span class="op" id="6701096">,</span>&nbsp;<span class="builtintype" id="6701098">nil</span><span class="op" id="6701101">}</span><span class="op" id="6701102">,</span><br>
<span class="lineno"></span><span class="op" id="6701104">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="6701107">func</span>&nbsp;<span class="ident" id="6701112">TestCIDRMask</span><span class="op" id="6701124">(</span><span class="ident" id="6701125">t</span>&nbsp;<span class="op" id="6701127">*</span><span class="ident" id="6701128">testing</span><span class="op" id="6701135">.</span><span class="ident" id="6701136">T</span><span class="op" id="6701137">)</span>&nbsp;<span class="op" id="6701139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6701142">for</span>&nbsp;<span class="ident" id="6701146">_</span><span class="op" id="6701147">,</span>&nbsp;<span class="ident" id="6701149">tt</span>&nbsp;<span class="op" id="6701152">:=</span>&nbsp;<span class="keyword" id="6701155">range</span>&nbsp;<span class="ident" id="6701161">cidrMaskTests</span>&nbsp;<span class="op" id="6701175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6701179">if</span>&nbsp;<span class="ident" id="6701182">out</span>&nbsp;<span class="op" id="6701186">:=</span>&nbsp;<span class="ident" id="6701189">CIDRMask</span><span class="op" id="6701197">(</span><span class="ident" id="6701198">tt</span><span class="op" id="6701200">.</span><span class="ident" id="6701201">ones</span><span class="op" id="6701205">,</span>&nbsp;<span class="ident" id="6701207">tt</span><span class="op" id="6701209">.</span><span class="ident" id="6701210">bits</span><span class="op" id="6701214">)</span><span class="op" id="6701215">;</span>&nbsp;<span class="op" id="6701217">!</span><span class="ident" id="6701218">reflect</span><span class="op" id="6701225">.</span><span class="ident" id="6701226">DeepEqual</span><span class="op" id="6701235">(</span><span class="ident" id="6701236">out</span><span class="op" id="6701239">,</span>&nbsp;<span class="ident" id="6701241">tt</span><span class="op" id="6701243">.</span><span class="ident" id="6701244">out</span><span class="op" id="6701247">)</span>&nbsp;<span class="op" id="6701249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701254">t</span><span class="op" id="6701255">.</span><span class="ident" id="6701256">Errorf</span><span class="op" id="6701262">(</span><span class="string" id="6701263">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6701295">,</span>&nbsp;<span class="ident" id="6701297">tt</span><span class="op" id="6701299">.</span><span class="ident" id="6701300">ones</span><span class="op" id="6701304">,</span>&nbsp;<span class="ident" id="6701306">tt</span><span class="op" id="6701308">.</span><span class="ident" id="6701309">bits</span><span class="op" id="6701313">,</span>&nbsp;<span class="ident" id="6701315">out</span><span class="op" id="6701318">,</span>&nbsp;<span class="ident" id="6701320">tt</span><span class="op" id="6701322">.</span><span class="ident" id="6701323">out</span><span class="op" id="6701326">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701333">}</span><br>
<span class="lineno"></span><span class="op" id="6701335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6701338">var</span>&nbsp;<span class="op" id="6701342">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701345">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701360">=</span>&nbsp;<span class="ident" id="6701362">IP</span><span class="op" id="6701364">{</span><span class="num" id="6701365">192</span><span class="op" id="6701368">,</span>&nbsp;<span class="num" id="6701370">168</span><span class="op" id="6701373">,</span>&nbsp;<span class="num" id="6701375">0</span><span class="op" id="6701376">,</span>&nbsp;<span class="num" id="6701378">1</span><span class="op" id="6701379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701382">v4mappedv6addr</span>&nbsp;<span class="op" id="6701397">=</span>&nbsp;<span class="ident" id="6701399">IP</span><span class="op" id="6701401">{</span><span class="num" id="6701402">0</span><span class="op" id="6701403">,</span>&nbsp;<span class="num" id="6701405">0</span><span class="op" id="6701406">,</span>&nbsp;<span class="num" id="6701408">0</span><span class="op" id="6701409">,</span>&nbsp;<span class="num" id="6701411">0</span><span class="op" id="6701412">,</span>&nbsp;<span class="num" id="6701414">0</span><span class="op" id="6701415">,</span>&nbsp;<span class="num" id="6701417">0</span><span class="op" id="6701418">,</span>&nbsp;<span class="num" id="6701420">0</span><span class="op" id="6701421">,</span>&nbsp;<span class="num" id="6701423">0</span><span class="op" id="6701424">,</span>&nbsp;<span class="num" id="6701426">0</span><span class="op" id="6701427">,</span>&nbsp;<span class="num" id="6701429">0</span><span class="op" id="6701430">,</span>&nbsp;<span class="num" id="6701432">0xff</span><span class="op" id="6701436">,</span>&nbsp;<span class="num" id="6701438">0xff</span><span class="op" id="6701442">,</span>&nbsp;<span class="num" id="6701444">192</span><span class="op" id="6701447">,</span>&nbsp;<span class="num" id="6701449">168</span><span class="op" id="6701452">,</span>&nbsp;<span class="num" id="6701454">0</span><span class="op" id="6701455">,</span>&nbsp;<span class="num" id="6701457">1</span><span class="op" id="6701458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701461">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701476">=</span>&nbsp;<span class="ident" id="6701478">IP</span><span class="op" id="6701480">{</span><span class="num" id="6701481">0x20</span><span class="op" id="6701485">,</span>&nbsp;<span class="num" id="6701487">0x1</span><span class="op" id="6701490">,</span>&nbsp;<span class="num" id="6701492">0xd</span><span class="op" id="6701495">,</span>&nbsp;<span class="num" id="6701497">0xb8</span><span class="op" id="6701501">,</span>&nbsp;<span class="num" id="6701503">0</span><span class="op" id="6701504">,</span>&nbsp;<span class="num" id="6701506">0</span><span class="op" id="6701507">,</span>&nbsp;<span class="num" id="6701509">0</span><span class="op" id="6701510">,</span>&nbsp;<span class="num" id="6701512">0</span><span class="op" id="6701513">,</span>&nbsp;<span class="num" id="6701515">0</span><span class="op" id="6701516">,</span>&nbsp;<span class="num" id="6701518">0</span><span class="op" id="6701519">,</span>&nbsp;<span class="num" id="6701521">0x1</span><span class="op" id="6701524">,</span>&nbsp;<span class="num" id="6701526">0x23</span><span class="op" id="6701530">,</span>&nbsp;<span class="num" id="6701532">0</span><span class="op" id="6701533">,</span>&nbsp;<span class="num" id="6701535">0x12</span><span class="op" id="6701539">,</span>&nbsp;<span class="num" id="6701541">0</span><span class="op" id="6701542">,</span>&nbsp;<span class="num" id="6701544">0x1</span><span class="op" id="6701547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701550">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701565">=</span>&nbsp;<span class="ident" id="6701567">IPMask</span><span class="op" id="6701573">{</span><span class="num" id="6701574">255</span><span class="op" id="6701577">,</span>&nbsp;<span class="num" id="6701579">255</span><span class="op" id="6701582">,</span>&nbsp;<span class="num" id="6701584">255</span><span class="op" id="6701587">,</span>&nbsp;<span class="num" id="6701589">0</span><span class="op" id="6701590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701593">v4mappedv6mask</span>&nbsp;<span class="op" id="6701608">=</span>&nbsp;<span class="ident" id="6701610">IPMask</span><span class="op" id="6701616">{</span><span class="num" id="6701617">0xff</span><span class="op" id="6701621">,</span>&nbsp;<span class="num" id="6701623">0xff</span><span class="op" id="6701627">,</span>&nbsp;<span class="num" id="6701629">0xff</span><span class="op" id="6701633">,</span>&nbsp;<span class="num" id="6701635">0xff</span><span class="op" id="6701639">,</span>&nbsp;<span class="num" id="6701641">0xff</span><span class="op" id="6701645">,</span>&nbsp;<span class="num" id="6701647">0xff</span><span class="op" id="6701651">,</span>&nbsp;<span class="num" id="6701653">0xff</span><span class="op" id="6701657">,</span>&nbsp;<span class="num" id="6701659">0xff</span><span class="op" id="6701663">,</span>&nbsp;<span class="num" id="6701665">0xff</span><span class="op" id="6701669">,</span>&nbsp;<span class="num" id="6701671">0xff</span><span class="op" id="6701675">,</span>&nbsp;<span class="num" id="6701677">0xff</span><span class="op" id="6701681">,</span>&nbsp;<span class="num" id="6701683">0xff</span><span class="op" id="6701687">,</span>&nbsp;<span class="num" id="6701689">255</span><span class="op" id="6701692">,</span>&nbsp;<span class="num" id="6701694">255</span><span class="op" id="6701697">,</span>&nbsp;<span class="num" id="6701699">255</span><span class="op" id="6701702">,</span>&nbsp;<span class="num" id="6701704">0</span><span class="op" id="6701705">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701708">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701723">=</span>&nbsp;<span class="ident" id="6701725">IPMask</span><span class="op" id="6701731">{</span><span class="num" id="6701732">0xff</span><span class="op" id="6701736">,</span>&nbsp;<span class="num" id="6701738">0xff</span><span class="op" id="6701742">,</span>&nbsp;<span class="num" id="6701744">0xff</span><span class="op" id="6701748">,</span>&nbsp;<span class="num" id="6701750">0xff</span><span class="op" id="6701754">,</span>&nbsp;<span class="num" id="6701756">0xff</span><span class="op" id="6701760">,</span>&nbsp;<span class="num" id="6701762">0xff</span><span class="op" id="6701766">,</span>&nbsp;<span class="num" id="6701768">0xff</span><span class="op" id="6701772">,</span>&nbsp;<span class="num" id="6701774">0xff</span><span class="op" id="6701778">,</span>&nbsp;<span class="num" id="6701780">0</span><span class="op" id="6701781">,</span>&nbsp;<span class="num" id="6701783">0</span><span class="op" id="6701784">,</span>&nbsp;<span class="num" id="6701786">0</span><span class="op" id="6701787">,</span>&nbsp;<span class="num" id="6701789">0</span><span class="op" id="6701790">,</span>&nbsp;<span class="num" id="6701792">0</span><span class="op" id="6701793">,</span>&nbsp;<span class="num" id="6701795">0</span><span class="op" id="6701796">,</span>&nbsp;<span class="num" id="6701798">0</span><span class="op" id="6701799">,</span>&nbsp;<span class="num" id="6701801">0</span><span class="op" id="6701802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701805">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701820">=</span>&nbsp;<span class="ident" id="6701822">IP</span><span class="op" id="6701824">{</span><span class="num" id="6701825">192</span><span class="op" id="6701828">,</span>&nbsp;<span class="num" id="6701830">168</span><span class="op" id="6701833">,</span>&nbsp;<span class="num" id="6701835">0</span><span class="op" id="6701836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701839">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701854">=</span>&nbsp;<span class="ident" id="6701856">IPMask</span><span class="op" id="6701862">{</span><span class="num" id="6701863">255</span><span class="op" id="6701866">,</span>&nbsp;<span class="num" id="6701868">255</span><span class="op" id="6701871">,</span>&nbsp;<span class="num" id="6701873">0</span><span class="op" id="6701874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701877">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701892">=</span>&nbsp;<span class="ident" id="6701894">IPMask</span><span class="op" id="6701900">{</span><span class="num" id="6701901">0</span><span class="op" id="6701902">,</span>&nbsp;<span class="num" id="6701904">0</span><span class="op" id="6701905">,</span>&nbsp;<span class="num" id="6701907">0</span><span class="op" id="6701908">,</span>&nbsp;<span class="num" id="6701910">0</span><span class="op" id="6701911">}</span><br>
<span class="lineno"></span><span class="op" id="6701913">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6701916">var</span>&nbsp;<span class="ident" id="6701920">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="6701946">=</span>&nbsp;<span class="op" id="6701948">[</span><span class="op" id="6701949">]</span><span class="keyword" id="6701950">struct</span>&nbsp;<span class="op" id="6701957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701960">in</span>&nbsp;&nbsp;<span class="ident" id="6701964">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6701971">out</span>&nbsp;<span class="ident" id="6701975">IPNet</span><br>
<span class="lineno"></span><span class="op" id="6701981">}</span><span class="op" id="6701982">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701985">{</span><span class="ident" id="6701986">IPNet</span><span class="op" id="6701991">{</span><span class="ident" id="6701992">IP</span><span class="op" id="6701994">:</span>&nbsp;<span class="ident" id="6701996">v4addr</span><span class="op" id="6702002">,</span>&nbsp;<span class="ident" id="6702004">Mask</span><span class="op" id="6702008">:</span>&nbsp;<span class="ident" id="6702010">v4mask</span><span class="op" id="6702016">}</span><span class="op" id="6702017">,</span>&nbsp;<span class="ident" id="6702019">IPNet</span><span class="op" id="6702024">{</span><span class="ident" id="6702025">IP</span><span class="op" id="6702027">:</span>&nbsp;<span class="ident" id="6702029">v4addr</span><span class="op" id="6702035">,</span>&nbsp;<span class="ident" id="6702037">Mask</span><span class="op" id="6702041">:</span>&nbsp;<span class="ident" id="6702043">v4mask</span><span class="op" id="6702049">}</span><span class="op" id="6702050">}</span><span class="op" id="6702051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702054">{</span><span class="ident" id="6702055">IPNet</span><span class="op" id="6702060">{</span><span class="ident" id="6702061">IP</span><span class="op" id="6702063">:</span>&nbsp;<span class="ident" id="6702065">v4addr</span><span class="op" id="6702071">,</span>&nbsp;<span class="ident" id="6702073">Mask</span><span class="op" id="6702077">:</span>&nbsp;<span class="ident" id="6702079">v4mappedv6mask</span><span class="op" id="6702093">}</span><span class="op" id="6702094">,</span>&nbsp;<span class="ident" id="6702096">IPNet</span><span class="op" id="6702101">{</span><span class="ident" id="6702102">IP</span><span class="op" id="6702104">:</span>&nbsp;<span class="ident" id="6702106">v4addr</span><span class="op" id="6702112">,</span>&nbsp;<span class="ident" id="6702114">Mask</span><span class="op" id="6702118">:</span>&nbsp;<span class="ident" id="6702120">v4mask</span><span class="op" id="6702126">}</span><span class="op" id="6702127">}</span><span class="op" id="6702128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702131">{</span><span class="ident" id="6702132">IPNet</span><span class="op" id="6702137">{</span><span class="ident" id="6702138">IP</span><span class="op" id="6702140">:</span>&nbsp;<span class="ident" id="6702142">v4mappedv6addr</span><span class="op" id="6702156">,</span>&nbsp;<span class="ident" id="6702158">Mask</span><span class="op" id="6702162">:</span>&nbsp;<span class="ident" id="6702164">v4mappedv6mask</span><span class="op" id="6702178">}</span><span class="op" id="6702179">,</span>&nbsp;<span class="ident" id="6702181">IPNet</span><span class="op" id="6702186">{</span><span class="ident" id="6702187">IP</span><span class="op" id="6702189">:</span>&nbsp;<span class="ident" id="6702191">v4addr</span><span class="op" id="6702197">,</span>&nbsp;<span class="ident" id="6702199">Mask</span><span class="op" id="6702203">:</span>&nbsp;<span class="ident" id="6702205">v4mask</span><span class="op" id="6702211">}</span><span class="op" id="6702212">}</span><span class="op" id="6702213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702216">{</span><span class="ident" id="6702217">IPNet</span><span class="op" id="6702222">{</span><span class="ident" id="6702223">IP</span><span class="op" id="6702225">:</span>&nbsp;<span class="ident" id="6702227">v4mappedv6addr</span><span class="op" id="6702241">,</span>&nbsp;<span class="ident" id="6702243">Mask</span><span class="op" id="6702247">:</span>&nbsp;<span class="ident" id="6702249">v6mask</span><span class="op" id="6702255">}</span><span class="op" id="6702256">,</span>&nbsp;<span class="ident" id="6702258">IPNet</span><span class="op" id="6702263">{</span><span class="ident" id="6702264">IP</span><span class="op" id="6702266">:</span>&nbsp;<span class="ident" id="6702268">v4addr</span><span class="op" id="6702274">,</span>&nbsp;<span class="ident" id="6702276">Mask</span><span class="op" id="6702280">:</span>&nbsp;<span class="ident" id="6702282">v4maskzero</span><span class="op" id="6702292">}</span><span class="op" id="6702293">}</span><span class="op" id="6702294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702297">{</span><span class="ident" id="6702298">IPNet</span><span class="op" id="6702303">{</span><span class="ident" id="6702304">IP</span><span class="op" id="6702306">:</span>&nbsp;<span class="ident" id="6702308">v4addr</span><span class="op" id="6702314">,</span>&nbsp;<span class="ident" id="6702316">Mask</span><span class="op" id="6702320">:</span>&nbsp;<span class="ident" id="6702322">v6mask</span><span class="op" id="6702328">}</span><span class="op" id="6702329">,</span>&nbsp;<span class="ident" id="6702331">IPNet</span><span class="op" id="6702336">{</span><span class="ident" id="6702337">IP</span><span class="op" id="6702339">:</span>&nbsp;<span class="ident" id="6702341">v4addr</span><span class="op" id="6702347">,</span>&nbsp;<span class="ident" id="6702349">Mask</span><span class="op" id="6702353">:</span>&nbsp;<span class="ident" id="6702355">v4maskzero</span><span class="op" id="6702365">}</span><span class="op" id="6702366">}</span><span class="op" id="6702367">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702370">{</span><span class="ident" id="6702371">IPNet</span><span class="op" id="6702376">{</span><span class="ident" id="6702377">IP</span><span class="op" id="6702379">:</span>&nbsp;<span class="ident" id="6702381">v6addr</span><span class="op" id="6702387">,</span>&nbsp;<span class="ident" id="6702389">Mask</span><span class="op" id="6702393">:</span>&nbsp;<span class="ident" id="6702395">v6mask</span><span class="op" id="6702401">}</span><span class="op" id="6702402">,</span>&nbsp;<span class="ident" id="6702404">IPNet</span><span class="op" id="6702409">{</span><span class="ident" id="6702410">IP</span><span class="op" id="6702412">:</span>&nbsp;<span class="ident" id="6702414">v6addr</span><span class="op" id="6702420">,</span>&nbsp;<span class="ident" id="6702422">Mask</span><span class="op" id="6702426">:</span>&nbsp;<span class="ident" id="6702428">v6mask</span><span class="op" id="6702434">}</span><span class="op" id="6702435">}</span><span class="op" id="6702436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702439">{</span><span class="ident" id="6702440">IPNet</span><span class="op" id="6702445">{</span><span class="ident" id="6702446">IP</span><span class="op" id="6702448">:</span>&nbsp;<span class="ident" id="6702450">v6addr</span><span class="op" id="6702456">,</span>&nbsp;<span class="ident" id="6702458">Mask</span><span class="op" id="6702462">:</span>&nbsp;<span class="ident" id="6702464">v4mappedv6mask</span><span class="op" id="6702478">}</span><span class="op" id="6702479">,</span>&nbsp;<span class="ident" id="6702481">IPNet</span><span class="op" id="6702486">{</span><span class="ident" id="6702487">IP</span><span class="op" id="6702489">:</span>&nbsp;<span class="ident" id="6702491">v6addr</span><span class="op" id="6702497">,</span>&nbsp;<span class="ident" id="6702499">Mask</span><span class="op" id="6702503">:</span>&nbsp;<span class="ident" id="6702505">v4mappedv6mask</span><span class="op" id="6702519">}</span><span class="op" id="6702520">}</span><span class="op" id="6702521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702524">{</span><span class="ident" id="6702525">in</span><span class="op" id="6702527">:</span>&nbsp;<span class="ident" id="6702529">IPNet</span><span class="op" id="6702534">{</span><span class="ident" id="6702535">IP</span><span class="op" id="6702537">:</span>&nbsp;<span class="ident" id="6702539">v6addr</span><span class="op" id="6702545">,</span>&nbsp;<span class="ident" id="6702547">Mask</span><span class="op" id="6702551">:</span>&nbsp;<span class="ident" id="6702553">v4mask</span><span class="op" id="6702559">}</span><span class="op" id="6702560">}</span><span class="op" id="6702561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702564">{</span><span class="ident" id="6702565">in</span><span class="op" id="6702567">:</span>&nbsp;<span class="ident" id="6702569">IPNet</span><span class="op" id="6702574">{</span><span class="ident" id="6702575">IP</span><span class="op" id="6702577">:</span>&nbsp;<span class="ident" id="6702579">v4addr</span><span class="op" id="6702585">,</span>&nbsp;<span class="ident" id="6702587">Mask</span><span class="op" id="6702591">:</span>&nbsp;<span class="ident" id="6702593">badmask</span><span class="op" id="6702600">}</span><span class="op" id="6702601">}</span><span class="op" id="6702602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702605">{</span><span class="ident" id="6702606">in</span><span class="op" id="6702608">:</span>&nbsp;<span class="ident" id="6702610">IPNet</span><span class="op" id="6702615">{</span><span class="ident" id="6702616">IP</span><span class="op" id="6702618">:</span>&nbsp;<span class="ident" id="6702620">v4mappedv6addr</span><span class="op" id="6702634">,</span>&nbsp;<span class="ident" id="6702636">Mask</span><span class="op" id="6702640">:</span>&nbsp;<span class="ident" id="6702642">badmask</span><span class="op" id="6702649">}</span><span class="op" id="6702650">}</span><span class="op" id="6702651">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702654">{</span><span class="ident" id="6702655">in</span><span class="op" id="6702657">:</span>&nbsp;<span class="ident" id="6702659">IPNet</span><span class="op" id="6702664">{</span><span class="ident" id="6702665">IP</span><span class="op" id="6702667">:</span>&nbsp;<span class="ident" id="6702669">v6addr</span><span class="op" id="6702675">,</span>&nbsp;<span class="ident" id="6702677">Mask</span><span class="op" id="6702681">:</span>&nbsp;<span class="ident" id="6702683">badmask</span><span class="op" id="6702690">}</span><span class="op" id="6702691">}</span><span class="op" id="6702692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702695">{</span><span class="ident" id="6702696">in</span><span class="op" id="6702698">:</span>&nbsp;<span class="ident" id="6702700">IPNet</span><span class="op" id="6702705">{</span><span class="ident" id="6702706">IP</span><span class="op" id="6702708">:</span>&nbsp;<span class="ident" id="6702710">badaddr</span><span class="op" id="6702717">,</span>&nbsp;<span class="ident" id="6702719">Mask</span><span class="op" id="6702723">:</span>&nbsp;<span class="ident" id="6702725">v4mask</span><span class="op" id="6702731">}</span><span class="op" id="6702732">}</span><span class="op" id="6702733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702736">{</span><span class="ident" id="6702737">in</span><span class="op" id="6702739">:</span>&nbsp;<span class="ident" id="6702741">IPNet</span><span class="op" id="6702746">{</span><span class="ident" id="6702747">IP</span><span class="op" id="6702749">:</span>&nbsp;<span class="ident" id="6702751">badaddr</span><span class="op" id="6702758">,</span>&nbsp;<span class="ident" id="6702760">Mask</span><span class="op" id="6702764">:</span>&nbsp;<span class="ident" id="6702766">v4mappedv6mask</span><span class="op" id="6702780">}</span><span class="op" id="6702781">}</span><span class="op" id="6702782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702785">{</span><span class="ident" id="6702786">in</span><span class="op" id="6702788">:</span>&nbsp;<span class="ident" id="6702790">IPNet</span><span class="op" id="6702795">{</span><span class="ident" id="6702796">IP</span><span class="op" id="6702798">:</span>&nbsp;<span class="ident" id="6702800">badaddr</span><span class="op" id="6702807">,</span>&nbsp;<span class="ident" id="6702809">Mask</span><span class="op" id="6702813">:</span>&nbsp;<span class="ident" id="6702815">v6mask</span><span class="op" id="6702821">}</span><span class="op" id="6702822">}</span><span class="op" id="6702823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702826">{</span><span class="ident" id="6702827">in</span><span class="op" id="6702829">:</span>&nbsp;<span class="ident" id="6702831">IPNet</span><span class="op" id="6702836">{</span><span class="ident" id="6702837">IP</span><span class="op" id="6702839">:</span>&nbsp;<span class="ident" id="6702841">badaddr</span><span class="op" id="6702848">,</span>&nbsp;<span class="ident" id="6702850">Mask</span><span class="op" id="6702854">:</span>&nbsp;<span class="ident" id="6702856">badmask</span><span class="op" id="6702863">}</span><span class="op" id="6702864">}</span><span class="op" id="6702865">,</span><br>
<span class="lineno">300</span><span class="op" id="6702867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702870">func</span>&nbsp;<span class="ident" id="6702875">TestNetworkNumberAndMask</span><span class="op" id="6702899">(</span><span class="ident" id="6702900">t</span>&nbsp;<span class="op" id="6702902">*</span><span class="ident" id="6702903">testing</span><span class="op" id="6702910">.</span><span class="ident" id="6702911">T</span><span class="op" id="6702912">)</span>&nbsp;<span class="op" id="6702914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6702917">for</span>&nbsp;<span class="ident" id="6702921">_</span><span class="op" id="6702922">,</span>&nbsp;<span class="ident" id="6702924">tt</span>&nbsp;<span class="op" id="6702927">:=</span>&nbsp;<span class="keyword" id="6702930">range</span>&nbsp;<span class="ident" id="6702936">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="6702962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6702966">ip</span><span class="op" id="6702968">,</span>&nbsp;<span class="ident" id="6702970">m</span>&nbsp;<span class="op" id="6702972">:=</span>&nbsp;<span class="ident" id="6702975">networkNumberAndMask</span><span class="op" id="6702995">(</span><span class="op" id="6702996">&amp;</span><span class="ident" id="6702997">tt</span><span class="op" id="6702999">.</span><span class="ident" id="6703000">in</span><span class="op" id="6703002">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703006">out</span>&nbsp;<span class="op" id="6703010">:=</span>&nbsp;<span class="op" id="6703013">&amp;</span><span class="ident" id="6703014">IPNet</span><span class="op" id="6703019">{</span><span class="ident" id="6703020">IP</span><span class="op" id="6703022">:</span>&nbsp;<span class="ident" id="6703024">ip</span><span class="op" id="6703026">,</span>&nbsp;<span class="ident" id="6703028">Mask</span><span class="op" id="6703032">:</span>&nbsp;<span class="ident" id="6703034">m</span><span class="op" id="6703035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6703039">if</span>&nbsp;<span class="op" id="6703042">!</span><span class="ident" id="6703043">reflect</span><span class="op" id="6703050">.</span><span class="ident" id="6703051">DeepEqual</span><span class="op" id="6703060">(</span><span class="op" id="6703061">&amp;</span><span class="ident" id="6703062">tt</span><span class="op" id="6703064">.</span><span class="ident" id="6703065">out</span><span class="op" id="6703068">,</span>&nbsp;<span class="ident" id="6703070">out</span><span class="op" id="6703073">)</span>&nbsp;<span class="op" id="6703075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703080">t</span><span class="op" id="6703081">.</span><span class="ident" id="6703082">Errorf</span><span class="op" id="6703088">(</span><span class="string" id="6703089">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6703129">,</span>&nbsp;<span class="ident" id="6703131">tt</span><span class="op" id="6703133">.</span><span class="ident" id="6703134">in</span><span class="op" id="6703136">,</span>&nbsp;<span class="ident" id="6703138">out</span><span class="op" id="6703141">,</span>&nbsp;<span class="op" id="6703143">&amp;</span><span class="ident" id="6703144">tt</span><span class="op" id="6703146">.</span><span class="ident" id="6703147">out</span><span class="op" id="6703150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703157">}</span><br>
<span class="lineno">310</span><span class="op" id="6703159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6703162">var</span>&nbsp;<span class="ident" id="6703166">splitJoinTests</span>&nbsp;<span class="op" id="6703181">=</span>&nbsp;<span class="op" id="6703183">[</span><span class="op" id="6703184">]</span><span class="keyword" id="6703185">struct</span>&nbsp;<span class="op" id="6703192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703195">host</span>&nbsp;<span class="builtintype" id="6703200">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703208">port</span>&nbsp;<span class="builtintype" id="6703213">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703221">join</span>&nbsp;<span class="builtintype" id="6703226">string</span><br>
<span class="lineno"></span><span class="op" id="6703233">}</span><span class="op" id="6703234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703237">{</span><span class="string" id="6703238">&#34;www.google.com&#34;</span><span class="op" id="6703254">,</span>&nbsp;<span class="string" id="6703256">&#34;80&#34;</span><span class="op" id="6703260">,</span>&nbsp;<span class="string" id="6703262">&#34;www.google.com:80&#34;</span><span class="op" id="6703281">}</span><span class="op" id="6703282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703285">{</span><span class="string" id="6703286">&#34;127.0.0.1&#34;</span><span class="op" id="6703297">,</span>&nbsp;<span class="string" id="6703299">&#34;1234&#34;</span><span class="op" id="6703305">,</span>&nbsp;<span class="string" id="6703307">&#34;127.0.0.1:1234&#34;</span><span class="op" id="6703323">}</span><span class="op" id="6703324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703327">{</span><span class="string" id="6703328">&#34;::1&#34;</span><span class="op" id="6703333">,</span>&nbsp;<span class="string" id="6703335">&#34;80&#34;</span><span class="op" id="6703339">,</span>&nbsp;<span class="string" id="6703341">&#34;[::1]:80&#34;</span><span class="op" id="6703351">}</span><span class="op" id="6703352">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703355">{</span><span class="string" id="6703356">&#34;fe80::1%lo0&#34;</span><span class="op" id="6703369">,</span>&nbsp;<span class="string" id="6703371">&#34;80&#34;</span><span class="op" id="6703375">,</span>&nbsp;<span class="string" id="6703377">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="6703395">}</span><span class="op" id="6703396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703399">{</span><span class="string" id="6703400">&#34;localhost%lo0&#34;</span><span class="op" id="6703415">,</span>&nbsp;<span class="string" id="6703417">&#34;80&#34;</span><span class="op" id="6703421">,</span>&nbsp;<span class="string" id="6703423">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="6703443">}</span><span class="op" id="6703444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703447">{</span><span class="string" id="6703448">&#34;&#34;</span><span class="op" id="6703450">,</span>&nbsp;<span class="string" id="6703452">&#34;0&#34;</span><span class="op" id="6703455">,</span>&nbsp;<span class="string" id="6703457">&#34;:0&#34;</span><span class="op" id="6703461">}</span><span class="op" id="6703462">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703466">{</span><span class="string" id="6703467">&#34;google.com&#34;</span><span class="op" id="6703479">,</span>&nbsp;<span class="string" id="6703481">&#34;https%foo&#34;</span><span class="op" id="6703492">,</span>&nbsp;<span class="string" id="6703494">&#34;google.com:https%foo&#34;</span><span class="op" id="6703516">}</span><span class="op" id="6703517">,</span>&nbsp;<span class="comment" id="6703519">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703539">{</span><span class="string" id="6703540">&#34;127.0.0.1&#34;</span><span class="op" id="6703551">,</span>&nbsp;<span class="string" id="6703553">&#34;&#34;</span><span class="op" id="6703555">,</span>&nbsp;<span class="string" id="6703557">&#34;127.0.0.1:&#34;</span><span class="op" id="6703569">}</span><span class="op" id="6703570">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6703592">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703613">{</span><span class="string" id="6703614">&#34;www.google.com&#34;</span><span class="op" id="6703630">,</span>&nbsp;<span class="string" id="6703632">&#34;&#34;</span><span class="op" id="6703634">,</span>&nbsp;<span class="string" id="6703636">&#34;www.google.com:&#34;</span><span class="op" id="6703653">}</span><span class="op" id="6703654">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6703666">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="6703686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6703689">var</span>&nbsp;<span class="ident" id="6703693">splitFailureTests</span>&nbsp;<span class="op" id="6703711">=</span>&nbsp;<span class="op" id="6703713">[</span><span class="op" id="6703714">]</span><span class="keyword" id="6703715">struct</span>&nbsp;<span class="op" id="6703722">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703725">hostPort</span>&nbsp;<span class="builtintype" id="6703734">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703742">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6703751">string</span><br>
<span class="lineno"></span><span class="op" id="6703758">}</span><span class="op" id="6703759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703762">{</span><span class="string" id="6703763">&#34;www.google.com&#34;</span><span class="op" id="6703779">,</span>&nbsp;<span class="string" id="6703781">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6703806">}</span><span class="op" id="6703807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703810">{</span><span class="string" id="6703811">&#34;127.0.0.1&#34;</span><span class="op" id="6703822">,</span>&nbsp;<span class="string" id="6703824">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6703849">}</span><span class="op" id="6703850">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703853">{</span><span class="string" id="6703854">&#34;[::1]&#34;</span><span class="op" id="6703861">,</span>&nbsp;<span class="string" id="6703863">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6703888">}</span><span class="op" id="6703889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703892">{</span><span class="string" id="6703893">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="6703908">,</span>&nbsp;<span class="string" id="6703910">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6703935">}</span><span class="op" id="6703936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703939">{</span><span class="string" id="6703940">&#34;[localhost%lo0]&#34;</span><span class="op" id="6703957">,</span>&nbsp;<span class="string" id="6703959">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6703984">}</span><span class="op" id="6703985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703988">{</span><span class="string" id="6703989">&#34;localhost%lo0&#34;</span><span class="op" id="6704004">,</span>&nbsp;<span class="string" id="6704006">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704031">}</span><span class="op" id="6704032">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704036">{</span><span class="string" id="6704037">&#34;::1&#34;</span><span class="op" id="6704042">,</span>&nbsp;<span class="string" id="6704044">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704072">}</span><span class="op" id="6704073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704076">{</span><span class="string" id="6704077">&#34;fe80::1%lo0&#34;</span><span class="op" id="6704090">,</span>&nbsp;<span class="string" id="6704092">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704120">}</span><span class="op" id="6704121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704124">{</span><span class="string" id="6704125">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="6704141">,</span>&nbsp;<span class="string" id="6704143">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704171">}</span><span class="op" id="6704172">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704176">{</span><span class="string" id="6704177">&#34;localhost%lo0:80&#34;</span><span class="op" id="6704195">,</span>&nbsp;<span class="string" id="6704197">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704226">}</span><span class="op" id="6704227">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6704231">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704274">{</span><span class="string" id="6704275">&#34;[foo:bar]&#34;</span><span class="op" id="6704286">,</span>&nbsp;<span class="string" id="6704288">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704313">}</span><span class="op" id="6704314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704317">{</span><span class="string" id="6704318">&#34;[foo:bar]baz&#34;</span><span class="op" id="6704332">,</span>&nbsp;<span class="string" id="6704334">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704359">}</span><span class="op" id="6704360">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704363">{</span><span class="string" id="6704364">&#34;[foo]bar:baz&#34;</span><span class="op" id="6704378">,</span>&nbsp;<span class="string" id="6704380">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704405">}</span><span class="op" id="6704406">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704410">{</span><span class="string" id="6704411">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="6704428">,</span>&nbsp;<span class="string" id="6704430">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704458">}</span><span class="op" id="6704459">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704463">{</span><span class="string" id="6704464">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="6704480">,</span>&nbsp;<span class="string" id="6704482">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704509">}</span><span class="op" id="6704510">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704513">{</span><span class="string" id="6704514">&#34;foo[bar]:baz&#34;</span><span class="op" id="6704528">,</span>&nbsp;<span class="string" id="6704530">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704557">}</span><span class="op" id="6704558">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704562">{</span><span class="string" id="6704563">&#34;foo]bar:baz&#34;</span><span class="op" id="6704576">,</span>&nbsp;<span class="string" id="6704578">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6704605">}</span><span class="op" id="6704606">,</span><br>
<span class="lineno"></span><span class="op" id="6704608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="6704611">func</span>&nbsp;<span class="ident" id="6704616">TestSplitHostPort</span><span class="op" id="6704633">(</span><span class="ident" id="6704634">t</span>&nbsp;<span class="op" id="6704636">*</span><span class="ident" id="6704637">testing</span><span class="op" id="6704644">.</span><span class="ident" id="6704645">T</span><span class="op" id="6704646">)</span>&nbsp;<span class="op" id="6704648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704651">for</span>&nbsp;<span class="ident" id="6704655">_</span><span class="op" id="6704656">,</span>&nbsp;<span class="ident" id="6704658">tt</span>&nbsp;<span class="op" id="6704661">:=</span>&nbsp;<span class="keyword" id="6704664">range</span>&nbsp;<span class="ident" id="6704670">splitJoinTests</span>&nbsp;<span class="op" id="6704685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704689">if</span>&nbsp;<span class="ident" id="6704692">host</span><span class="op" id="6704696">,</span>&nbsp;<span class="ident" id="6704698">port</span><span class="op" id="6704702">,</span>&nbsp;<span class="ident" id="6704704">err</span>&nbsp;<span class="op" id="6704708">:=</span>&nbsp;<span class="ident" id="6704711">SplitHostPort</span><span class="op" id="6704724">(</span><span class="ident" id="6704725">tt</span><span class="op" id="6704727">.</span><span class="ident" id="6704728">join</span><span class="op" id="6704732">)</span><span class="op" id="6704733">;</span>&nbsp;<span class="ident" id="6704735">host</span>&nbsp;<span class="op" id="6704740">!=</span>&nbsp;<span class="ident" id="6704743">tt</span><span class="op" id="6704745">.</span><span class="ident" id="6704746">host</span>&nbsp;<span class="op" id="6704751">||</span>&nbsp;<span class="ident" id="6704754">port</span>&nbsp;<span class="op" id="6704759">!=</span>&nbsp;<span class="ident" id="6704762">tt</span><span class="op" id="6704764">.</span><span class="ident" id="6704765">port</span>&nbsp;<span class="op" id="6704770">||</span>&nbsp;<span class="ident" id="6704773">err</span>&nbsp;<span class="op" id="6704777">!=</span>&nbsp;<span class="builtintype" id="6704780">nil</span>&nbsp;<span class="op" id="6704784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704789">t</span><span class="op" id="6704790">.</span><span class="ident" id="6704791">Errorf</span><span class="op" id="6704797">(</span><span class="string" id="6704798">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="6704848">,</span>&nbsp;<span class="ident" id="6704850">tt</span><span class="op" id="6704852">.</span><span class="ident" id="6704853">join</span><span class="op" id="6704857">,</span>&nbsp;<span class="ident" id="6704859">host</span><span class="op" id="6704863">,</span>&nbsp;<span class="ident" id="6704865">port</span><span class="op" id="6704869">,</span>&nbsp;<span class="ident" id="6704871">err</span><span class="op" id="6704874">,</span>&nbsp;<span class="ident" id="6704876">tt</span><span class="op" id="6704878">.</span><span class="ident" id="6704879">host</span><span class="op" id="6704883">,</span>&nbsp;<span class="ident" id="6704885">tt</span><span class="op" id="6704887">.</span><span class="ident" id="6704888">port</span><span class="op" id="6704892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704896">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704902">for</span>&nbsp;<span class="ident" id="6704906">_</span><span class="op" id="6704907">,</span>&nbsp;<span class="ident" id="6704909">tt</span>&nbsp;<span class="op" id="6704912">:=</span>&nbsp;<span class="keyword" id="6704915">range</span>&nbsp;<span class="ident" id="6704921">splitFailureTests</span>&nbsp;<span class="op" id="6704939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704943">if</span>&nbsp;<span class="ident" id="6704946">_</span><span class="op" id="6704947">,</span>&nbsp;<span class="ident" id="6704949">_</span><span class="op" id="6704950">,</span>&nbsp;<span class="ident" id="6704952">err</span>&nbsp;<span class="op" id="6704956">:=</span>&nbsp;<span class="ident" id="6704959">SplitHostPort</span><span class="op" id="6704972">(</span><span class="ident" id="6704973">tt</span><span class="op" id="6704975">.</span><span class="ident" id="6704976">hostPort</span><span class="op" id="6704984">)</span><span class="op" id="6704985">;</span>&nbsp;<span class="ident" id="6704987">err</span>&nbsp;<span class="op" id="6704991">==</span>&nbsp;<span class="builtintype" id="6704994">nil</span>&nbsp;<span class="op" id="6704998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705003">t</span><span class="op" id="6705004">.</span><span class="ident" id="6705005">Errorf</span><span class="op" id="6705011">(</span><span class="string" id="6705012">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="6705050">,</span>&nbsp;<span class="ident" id="6705052">tt</span><span class="op" id="6705054">.</span><span class="ident" id="6705055">hostPort</span><span class="op" id="6705063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705067">}</span>&nbsp;<span class="keyword" id="6705069">else</span>&nbsp;<span class="op" id="6705074">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705079">e</span>&nbsp;<span class="op" id="6705081">:=</span>&nbsp;<span class="ident" id="6705084">err</span><span class="op" id="6705087">.</span><span class="op" id="6705088">(</span><span class="op" id="6705089">*</span><span class="ident" id="6705090">AddrError</span><span class="op" id="6705099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705104">if</span>&nbsp;<span class="ident" id="6705107">e</span><span class="op" id="6705108">.</span><span class="ident" id="6705109">Err</span>&nbsp;<span class="op" id="6705113">!=</span>&nbsp;<span class="ident" id="6705116">tt</span><span class="op" id="6705118">.</span><span class="ident" id="6705119">err</span>&nbsp;<span class="op" id="6705123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705129">t</span><span class="op" id="6705130">.</span><span class="ident" id="6705131">Errorf</span><span class="op" id="6705137">(</span><span class="string" id="6705138">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6705177">,</span>&nbsp;<span class="ident" id="6705179">tt</span><span class="op" id="6705181">.</span><span class="ident" id="6705182">hostPort</span><span class="op" id="6705190">,</span>&nbsp;<span class="ident" id="6705192">e</span><span class="op" id="6705193">.</span><span class="ident" id="6705194">Err</span><span class="op" id="6705197">,</span>&nbsp;<span class="ident" id="6705199">tt</span><span class="op" id="6705201">.</span><span class="ident" id="6705202">err</span><span class="op" id="6705205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705214">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705217">}</span><br>
<span class="lineno"></span><span class="op" id="6705219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6705222">func</span>&nbsp;<span class="ident" id="6705227">TestJoinHostPort</span><span class="op" id="6705243">(</span><span class="ident" id="6705244">t</span>&nbsp;<span class="op" id="6705246">*</span><span class="ident" id="6705247">testing</span><span class="op" id="6705254">.</span><span class="ident" id="6705255">T</span><span class="op" id="6705256">)</span>&nbsp;<span class="op" id="6705258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705261">for</span>&nbsp;<span class="ident" id="6705265">_</span><span class="op" id="6705266">,</span>&nbsp;<span class="ident" id="6705268">tt</span>&nbsp;<span class="op" id="6705271">:=</span>&nbsp;<span class="keyword" id="6705274">range</span>&nbsp;<span class="ident" id="6705280">splitJoinTests</span>&nbsp;<span class="op" id="6705295">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705299">if</span>&nbsp;<span class="ident" id="6705302">join</span>&nbsp;<span class="op" id="6705307">:=</span>&nbsp;<span class="ident" id="6705310">JoinHostPort</span><span class="op" id="6705322">(</span><span class="ident" id="6705323">tt</span><span class="op" id="6705325">.</span><span class="ident" id="6705326">host</span><span class="op" id="6705330">,</span>&nbsp;<span class="ident" id="6705332">tt</span><span class="op" id="6705334">.</span><span class="ident" id="6705335">port</span><span class="op" id="6705339">)</span><span class="op" id="6705340">;</span>&nbsp;<span class="ident" id="6705342">join</span>&nbsp;<span class="op" id="6705347">!=</span>&nbsp;<span class="ident" id="6705350">tt</span><span class="op" id="6705352">.</span><span class="ident" id="6705353">join</span>&nbsp;<span class="op" id="6705358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705363">t</span><span class="op" id="6705364">.</span><span class="ident" id="6705365">Errorf</span><span class="op" id="6705371">(</span><span class="string" id="6705372">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6705408">,</span>&nbsp;<span class="ident" id="6705410">tt</span><span class="op" id="6705412">.</span><span class="ident" id="6705413">host</span><span class="op" id="6705417">,</span>&nbsp;<span class="ident" id="6705419">tt</span><span class="op" id="6705421">.</span><span class="ident" id="6705422">port</span><span class="op" id="6705426">,</span>&nbsp;<span class="ident" id="6705428">join</span><span class="op" id="6705432">,</span>&nbsp;<span class="ident" id="6705434">tt</span><span class="op" id="6705436">.</span><span class="ident" id="6705437">join</span><span class="op" id="6705441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705448">}</span><br>
<span class="lineno"></span><span class="op" id="6705450">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="6705453">var</span>&nbsp;<span class="ident" id="6705457">ipAddrFamilyTests</span>&nbsp;<span class="op" id="6705475">=</span>&nbsp;<span class="op" id="6705477">[</span><span class="op" id="6705478">]</span><span class="keyword" id="6705479">struct</span>&nbsp;<span class="op" id="6705486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705489">in</span>&nbsp;&nbsp;<span class="ident" id="6705493">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705497">af4</span>&nbsp;<span class="builtintype" id="6705501">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705507">af6</span>&nbsp;<span class="builtintype" id="6705511">bool</span><br>
<span class="lineno">390</span><span class="op" id="6705516">}</span><span class="op" id="6705517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705520">{</span><span class="ident" id="6705521">IPv4bcast</span><span class="op" id="6705530">,</span>&nbsp;<span class="builtintype" id="6705532">true</span><span class="op" id="6705536">,</span>&nbsp;<span class="builtintype" id="6705538">false</span><span class="op" id="6705543">}</span><span class="op" id="6705544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705547">{</span><span class="ident" id="6705548">IPv4allsys</span><span class="op" id="6705558">,</span>&nbsp;<span class="builtintype" id="6705560">true</span><span class="op" id="6705564">,</span>&nbsp;<span class="builtintype" id="6705566">false</span><span class="op" id="6705571">}</span><span class="op" id="6705572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705575">{</span><span class="ident" id="6705576">IPv4allrouter</span><span class="op" id="6705589">,</span>&nbsp;<span class="builtintype" id="6705591">true</span><span class="op" id="6705595">,</span>&nbsp;<span class="builtintype" id="6705597">false</span><span class="op" id="6705602">}</span><span class="op" id="6705603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705606">{</span><span class="ident" id="6705607">IPv4zero</span><span class="op" id="6705615">,</span>&nbsp;<span class="builtintype" id="6705617">true</span><span class="op" id="6705621">,</span>&nbsp;<span class="builtintype" id="6705623">false</span><span class="op" id="6705628">}</span><span class="op" id="6705629">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705632">{</span><span class="ident" id="6705633">IPv4</span><span class="op" id="6705637">(</span><span class="num" id="6705638">224</span><span class="op" id="6705641">,</span>&nbsp;<span class="num" id="6705643">0</span><span class="op" id="6705644">,</span>&nbsp;<span class="num" id="6705646">0</span><span class="op" id="6705647">,</span>&nbsp;<span class="num" id="6705649">1</span><span class="op" id="6705650">)</span><span class="op" id="6705651">,</span>&nbsp;<span class="builtintype" id="6705653">true</span><span class="op" id="6705657">,</span>&nbsp;<span class="builtintype" id="6705659">false</span><span class="op" id="6705664">}</span><span class="op" id="6705665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705668">{</span><span class="ident" id="6705669">IPv4</span><span class="op" id="6705673">(</span><span class="num" id="6705674">127</span><span class="op" id="6705677">,</span>&nbsp;<span class="num" id="6705679">0</span><span class="op" id="6705680">,</span>&nbsp;<span class="num" id="6705682">0</span><span class="op" id="6705683">,</span>&nbsp;<span class="num" id="6705685">1</span><span class="op" id="6705686">)</span><span class="op" id="6705687">,</span>&nbsp;<span class="builtintype" id="6705689">true</span><span class="op" id="6705693">,</span>&nbsp;<span class="builtintype" id="6705695">false</span><span class="op" id="6705700">}</span><span class="op" id="6705701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705704">{</span><span class="ident" id="6705705">IPv4</span><span class="op" id="6705709">(</span><span class="num" id="6705710">240</span><span class="op" id="6705713">,</span>&nbsp;<span class="num" id="6705715">0</span><span class="op" id="6705716">,</span>&nbsp;<span class="num" id="6705718">0</span><span class="op" id="6705719">,</span>&nbsp;<span class="num" id="6705721">1</span><span class="op" id="6705722">)</span><span class="op" id="6705723">,</span>&nbsp;<span class="builtintype" id="6705725">true</span><span class="op" id="6705729">,</span>&nbsp;<span class="builtintype" id="6705731">false</span><span class="op" id="6705736">}</span><span class="op" id="6705737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705740">{</span><span class="ident" id="6705741">IPv6unspecified</span><span class="op" id="6705756">,</span>&nbsp;<span class="builtintype" id="6705758">false</span><span class="op" id="6705763">,</span>&nbsp;<span class="builtintype" id="6705765">true</span><span class="op" id="6705769">}</span><span class="op" id="6705770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705773">{</span><span class="ident" id="6705774">IPv6loopback</span><span class="op" id="6705786">,</span>&nbsp;<span class="builtintype" id="6705788">false</span><span class="op" id="6705793">,</span>&nbsp;<span class="builtintype" id="6705795">true</span><span class="op" id="6705799">}</span><span class="op" id="6705800">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705803">{</span><span class="ident" id="6705804">IPv6interfacelocalallnodes</span><span class="op" id="6705830">,</span>&nbsp;<span class="builtintype" id="6705832">false</span><span class="op" id="6705837">,</span>&nbsp;<span class="builtintype" id="6705839">true</span><span class="op" id="6705843">}</span><span class="op" id="6705844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705847">{</span><span class="ident" id="6705848">IPv6linklocalallnodes</span><span class="op" id="6705869">,</span>&nbsp;<span class="builtintype" id="6705871">false</span><span class="op" id="6705876">,</span>&nbsp;<span class="builtintype" id="6705878">true</span><span class="op" id="6705882">}</span><span class="op" id="6705883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705886">{</span><span class="ident" id="6705887">IPv6linklocalallrouters</span><span class="op" id="6705910">,</span>&nbsp;<span class="builtintype" id="6705912">false</span><span class="op" id="6705917">,</span>&nbsp;<span class="builtintype" id="6705919">true</span><span class="op" id="6705923">}</span><span class="op" id="6705924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705927">{</span><span class="ident" id="6705928">ParseIP</span><span class="op" id="6705935">(</span><span class="string" id="6705936">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="6705951">)</span><span class="op" id="6705952">,</span>&nbsp;<span class="builtintype" id="6705954">false</span><span class="op" id="6705959">,</span>&nbsp;<span class="builtintype" id="6705961">true</span><span class="op" id="6705965">}</span><span class="op" id="6705966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705969">{</span><span class="ident" id="6705970">ParseIP</span><span class="op" id="6705977">(</span><span class="string" id="6705978">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="6705993">)</span><span class="op" id="6705994">,</span>&nbsp;<span class="builtintype" id="6705996">false</span><span class="op" id="6706001">,</span>&nbsp;<span class="builtintype" id="6706003">true</span><span class="op" id="6706007">}</span><span class="op" id="6706008">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706011">{</span><span class="ident" id="6706012">ParseIP</span><span class="op" id="6706019">(</span><span class="string" id="6706020">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="6706040">)</span><span class="op" id="6706041">,</span>&nbsp;<span class="builtintype" id="6706043">false</span><span class="op" id="6706048">,</span>&nbsp;<span class="builtintype" id="6706050">true</span><span class="op" id="6706054">}</span><span class="op" id="6706055">,</span><br>
<span class="lineno"></span><span class="op" id="6706057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6706060">func</span>&nbsp;<span class="ident" id="6706065">TestIPAddrFamily</span><span class="op" id="6706081">(</span><span class="ident" id="6706082">t</span>&nbsp;<span class="op" id="6706084">*</span><span class="ident" id="6706085">testing</span><span class="op" id="6706092">.</span><span class="ident" id="6706093">T</span><span class="op" id="6706094">)</span>&nbsp;<span class="op" id="6706096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6706099">for</span>&nbsp;<span class="ident" id="6706103">_</span><span class="op" id="6706104">,</span>&nbsp;<span class="ident" id="6706106">tt</span>&nbsp;<span class="op" id="6706109">:=</span>&nbsp;<span class="keyword" id="6706112">range</span>&nbsp;<span class="ident" id="6706118">ipAddrFamilyTests</span>&nbsp;<span class="op" id="6706136">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6706140">if</span>&nbsp;<span class="ident" id="6706143">af</span>&nbsp;<span class="op" id="6706146">:=</span>&nbsp;<span class="ident" id="6706149">tt</span><span class="op" id="6706151">.</span><span class="ident" id="6706152">in</span><span class="op" id="6706154">.</span><span class="ident" id="6706155">To4</span><span class="op" id="6706158">(</span><span class="op" id="6706159">)</span>&nbsp;<span class="op" id="6706161">!=</span>&nbsp;<span class="builtintype" id="6706164">nil</span><span class="op" id="6706167">;</span>&nbsp;<span class="ident" id="6706169">af</span>&nbsp;<span class="op" id="6706172">!=</span>&nbsp;<span class="ident" id="6706175">tt</span><span class="op" id="6706177">.</span><span class="ident" id="6706178">af4</span>&nbsp;<span class="op" id="6706182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706187">t</span><span class="op" id="6706188">.</span><span class="ident" id="6706189">Errorf</span><span class="op" id="6706195">(</span><span class="string" id="6706196">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6706248">,</span>&nbsp;<span class="ident" id="6706250">tt</span><span class="op" id="6706252">.</span><span class="ident" id="6706253">in</span><span class="op" id="6706255">,</span>&nbsp;<span class="ident" id="6706257">af</span><span class="op" id="6706259">,</span>&nbsp;<span class="ident" id="6706261">tt</span><span class="op" id="6706263">.</span><span class="ident" id="6706264">af4</span><span class="op" id="6706267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6706275">if</span>&nbsp;<span class="ident" id="6706278">af</span>&nbsp;<span class="op" id="6706281">:=</span>&nbsp;<span class="builtinfunc" id="6706284">len</span><span class="op" id="6706287">(</span><span class="ident" id="6706288">tt</span><span class="op" id="6706290">.</span><span class="ident" id="6706291">in</span><span class="op" id="6706293">)</span>&nbsp;<span class="op" id="6706295">==</span>&nbsp;<span class="ident" id="6706298">IPv6len</span>&nbsp;<span class="op" id="6706306">&amp;&amp;</span>&nbsp;<span class="ident" id="6706309">tt</span><span class="op" id="6706311">.</span><span class="ident" id="6706312">in</span><span class="op" id="6706314">.</span><span class="ident" id="6706315">To4</span><span class="op" id="6706318">(</span><span class="op" id="6706319">)</span>&nbsp;<span class="op" id="6706321">==</span>&nbsp;<span class="builtintype" id="6706324">nil</span><span class="op" id="6706327">;</span>&nbsp;<span class="ident" id="6706329">af</span>&nbsp;<span class="op" id="6706332">!=</span>&nbsp;<span class="ident" id="6706335">tt</span><span class="op" id="6706337">.</span><span class="ident" id="6706338">af6</span>&nbsp;<span class="op" id="6706342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706347">t</span><span class="op" id="6706348">.</span><span class="ident" id="6706349">Errorf</span><span class="op" id="6706355">(</span><span class="string" id="6706356">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6706408">,</span>&nbsp;<span class="ident" id="6706410">tt</span><span class="op" id="6706412">.</span><span class="ident" id="6706413">in</span><span class="op" id="6706415">,</span>&nbsp;<span class="ident" id="6706417">af</span><span class="op" id="6706419">,</span>&nbsp;<span class="ident" id="6706421">tt</span><span class="op" id="6706423">.</span><span class="ident" id="6706424">af6</span><span class="op" id="6706427">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706434">}</span><br>
<span class="lineno"></span><span class="op" id="6706436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6706439">var</span>&nbsp;<span class="ident" id="6706443">ipAddrScopeTests</span>&nbsp;<span class="op" id="6706460">=</span>&nbsp;<span class="op" id="6706462">[</span><span class="op" id="6706463">]</span><span class="keyword" id="6706464">struct</span>&nbsp;<span class="op" id="6706471">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706474">scope</span>&nbsp;<span class="keyword" id="6706480">func</span><span class="op" id="6706484">(</span><span class="ident" id="6706485">IP</span><span class="op" id="6706487">)</span>&nbsp;<span class="builtintype" id="6706489">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706495">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706501">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706505">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6706511">bool</span><br>
<span class="lineno"></span><span class="op" id="6706516">}</span><span class="op" id="6706517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706520">{</span><span class="ident" id="6706521">IP</span><span class="op" id="6706523">.</span><span class="ident" id="6706524">IsUnspecified</span><span class="op" id="6706537">,</span>&nbsp;<span class="ident" id="6706539">IPv4zero</span><span class="op" id="6706547">,</span>&nbsp;<span class="builtintype" id="6706549">true</span><span class="op" id="6706553">}</span><span class="op" id="6706554">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706557">{</span><span class="ident" id="6706558">IP</span><span class="op" id="6706560">.</span><span class="ident" id="6706561">IsUnspecified</span><span class="op" id="6706574">,</span>&nbsp;<span class="ident" id="6706576">IPv4</span><span class="op" id="6706580">(</span><span class="num" id="6706581">127</span><span class="op" id="6706584">,</span>&nbsp;<span class="num" id="6706586">0</span><span class="op" id="6706587">,</span>&nbsp;<span class="num" id="6706589">0</span><span class="op" id="6706590">,</span>&nbsp;<span class="num" id="6706592">1</span><span class="op" id="6706593">)</span><span class="op" id="6706594">,</span>&nbsp;<span class="builtintype" id="6706596">false</span><span class="op" id="6706601">}</span><span class="op" id="6706602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706605">{</span><span class="ident" id="6706606">IP</span><span class="op" id="6706608">.</span><span class="ident" id="6706609">IsUnspecified</span><span class="op" id="6706622">,</span>&nbsp;<span class="ident" id="6706624">IPv6unspecified</span><span class="op" id="6706639">,</span>&nbsp;<span class="builtintype" id="6706641">true</span><span class="op" id="6706645">}</span><span class="op" id="6706646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706649">{</span><span class="ident" id="6706650">IP</span><span class="op" id="6706652">.</span><span class="ident" id="6706653">IsUnspecified</span><span class="op" id="6706666">,</span>&nbsp;<span class="ident" id="6706668">IPv6interfacelocalallnodes</span><span class="op" id="6706694">,</span>&nbsp;<span class="builtintype" id="6706696">false</span><span class="op" id="6706701">}</span><span class="op" id="6706702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706705">{</span><span class="ident" id="6706706">IP</span><span class="op" id="6706708">.</span><span class="ident" id="6706709">IsLoopback</span><span class="op" id="6706719">,</span>&nbsp;<span class="ident" id="6706721">IPv4</span><span class="op" id="6706725">(</span><span class="num" id="6706726">127</span><span class="op" id="6706729">,</span>&nbsp;<span class="num" id="6706731">0</span><span class="op" id="6706732">,</span>&nbsp;<span class="num" id="6706734">0</span><span class="op" id="6706735">,</span>&nbsp;<span class="num" id="6706737">1</span><span class="op" id="6706738">)</span><span class="op" id="6706739">,</span>&nbsp;<span class="builtintype" id="6706741">true</span><span class="op" id="6706745">}</span><span class="op" id="6706746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706749">{</span><span class="ident" id="6706750">IP</span><span class="op" id="6706752">.</span><span class="ident" id="6706753">IsLoopback</span><span class="op" id="6706763">,</span>&nbsp;<span class="ident" id="6706765">IPv4</span><span class="op" id="6706769">(</span><span class="num" id="6706770">127</span><span class="op" id="6706773">,</span>&nbsp;<span class="num" id="6706775">255</span><span class="op" id="6706778">,</span>&nbsp;<span class="num" id="6706780">255</span><span class="op" id="6706783">,</span>&nbsp;<span class="num" id="6706785">254</span><span class="op" id="6706788">)</span><span class="op" id="6706789">,</span>&nbsp;<span class="builtintype" id="6706791">true</span><span class="op" id="6706795">}</span><span class="op" id="6706796">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706799">{</span><span class="ident" id="6706800">IP</span><span class="op" id="6706802">.</span><span class="ident" id="6706803">IsLoopback</span><span class="op" id="6706813">,</span>&nbsp;<span class="ident" id="6706815">IPv4</span><span class="op" id="6706819">(</span><span class="num" id="6706820">128</span><span class="op" id="6706823">,</span>&nbsp;<span class="num" id="6706825">1</span><span class="op" id="6706826">,</span>&nbsp;<span class="num" id="6706828">2</span><span class="op" id="6706829">,</span>&nbsp;<span class="num" id="6706831">3</span><span class="op" id="6706832">)</span><span class="op" id="6706833">,</span>&nbsp;<span class="builtintype" id="6706835">false</span><span class="op" id="6706840">}</span><span class="op" id="6706841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706844">{</span><span class="ident" id="6706845">IP</span><span class="op" id="6706847">.</span><span class="ident" id="6706848">IsLoopback</span><span class="op" id="6706858">,</span>&nbsp;<span class="ident" id="6706860">IPv6loopback</span><span class="op" id="6706872">,</span>&nbsp;<span class="builtintype" id="6706874">true</span><span class="op" id="6706878">}</span><span class="op" id="6706879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706882">{</span><span class="ident" id="6706883">IP</span><span class="op" id="6706885">.</span><span class="ident" id="6706886">IsLoopback</span><span class="op" id="6706896">,</span>&nbsp;<span class="ident" id="6706898">IPv6linklocalallrouters</span><span class="op" id="6706921">,</span>&nbsp;<span class="builtintype" id="6706923">false</span><span class="op" id="6706928">}</span><span class="op" id="6706929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706932">{</span><span class="ident" id="6706933">IP</span><span class="op" id="6706935">.</span><span class="ident" id="6706936">IsMulticast</span><span class="op" id="6706947">,</span>&nbsp;<span class="ident" id="6706949">IPv4</span><span class="op" id="6706953">(</span><span class="num" id="6706954">224</span><span class="op" id="6706957">,</span>&nbsp;<span class="num" id="6706959">0</span><span class="op" id="6706960">,</span>&nbsp;<span class="num" id="6706962">0</span><span class="op" id="6706963">,</span>&nbsp;<span class="num" id="6706965">0</span><span class="op" id="6706966">)</span><span class="op" id="6706967">,</span>&nbsp;<span class="builtintype" id="6706969">true</span><span class="op" id="6706973">}</span><span class="op" id="6706974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706977">{</span><span class="ident" id="6706978">IP</span><span class="op" id="6706980">.</span><span class="ident" id="6706981">IsMulticast</span><span class="op" id="6706992">,</span>&nbsp;<span class="ident" id="6706994">IPv4</span><span class="op" id="6706998">(</span><span class="num" id="6706999">239</span><span class="op" id="6707002">,</span>&nbsp;<span class="num" id="6707004">0</span><span class="op" id="6707005">,</span>&nbsp;<span class="num" id="6707007">0</span><span class="op" id="6707008">,</span>&nbsp;<span class="num" id="6707010">0</span><span class="op" id="6707011">)</span><span class="op" id="6707012">,</span>&nbsp;<span class="builtintype" id="6707014">true</span><span class="op" id="6707018">}</span><span class="op" id="6707019">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707022">{</span><span class="ident" id="6707023">IP</span><span class="op" id="6707025">.</span><span class="ident" id="6707026">IsMulticast</span><span class="op" id="6707037">,</span>&nbsp;<span class="ident" id="6707039">IPv4</span><span class="op" id="6707043">(</span><span class="num" id="6707044">240</span><span class="op" id="6707047">,</span>&nbsp;<span class="num" id="6707049">0</span><span class="op" id="6707050">,</span>&nbsp;<span class="num" id="6707052">0</span><span class="op" id="6707053">,</span>&nbsp;<span class="num" id="6707055">0</span><span class="op" id="6707056">)</span><span class="op" id="6707057">,</span>&nbsp;<span class="builtintype" id="6707059">false</span><span class="op" id="6707064">}</span><span class="op" id="6707065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707068">{</span><span class="ident" id="6707069">IP</span><span class="op" id="6707071">.</span><span class="ident" id="6707072">IsMulticast</span><span class="op" id="6707083">,</span>&nbsp;<span class="ident" id="6707085">IPv6linklocalallnodes</span><span class="op" id="6707106">,</span>&nbsp;<span class="builtintype" id="6707108">true</span><span class="op" id="6707112">}</span><span class="op" id="6707113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707116">{</span><span class="ident" id="6707117">IP</span><span class="op" id="6707119">.</span><span class="ident" id="6707120">IsMulticast</span><span class="op" id="6707131">,</span>&nbsp;<span class="ident" id="6707133">IP</span><span class="op" id="6707135">{</span><span class="num" id="6707136">0xff</span><span class="op" id="6707140">,</span>&nbsp;<span class="num" id="6707142">0x05</span><span class="op" id="6707146">,</span>&nbsp;<span class="num" id="6707148">0</span><span class="op" id="6707149">,</span>&nbsp;<span class="num" id="6707151">0</span><span class="op" id="6707152">,</span>&nbsp;<span class="num" id="6707154">0</span><span class="op" id="6707155">,</span>&nbsp;<span class="num" id="6707157">0</span><span class="op" id="6707158">,</span>&nbsp;<span class="num" id="6707160">0</span><span class="op" id="6707161">,</span>&nbsp;<span class="num" id="6707163">0</span><span class="op" id="6707164">,</span>&nbsp;<span class="num" id="6707166">0</span><span class="op" id="6707167">,</span>&nbsp;<span class="num" id="6707169">0</span><span class="op" id="6707170">,</span>&nbsp;<span class="num" id="6707172">0</span><span class="op" id="6707173">,</span>&nbsp;<span class="num" id="6707175">0</span><span class="op" id="6707176">,</span>&nbsp;<span class="num" id="6707178">0</span><span class="op" id="6707179">,</span>&nbsp;<span class="num" id="6707181">0</span><span class="op" id="6707182">,</span>&nbsp;<span class="num" id="6707184">0</span><span class="op" id="6707185">,</span>&nbsp;<span class="num" id="6707187">0</span><span class="op" id="6707188">}</span><span class="op" id="6707189">,</span>&nbsp;<span class="builtintype" id="6707191">true</span><span class="op" id="6707195">}</span><span class="op" id="6707196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707199">{</span><span class="ident" id="6707200">IP</span><span class="op" id="6707202">.</span><span class="ident" id="6707203">IsMulticast</span><span class="op" id="6707214">,</span>&nbsp;<span class="ident" id="6707216">IP</span><span class="op" id="6707218">{</span><span class="num" id="6707219">0xfe</span><span class="op" id="6707223">,</span>&nbsp;<span class="num" id="6707225">0x80</span><span class="op" id="6707229">,</span>&nbsp;<span class="num" id="6707231">0</span><span class="op" id="6707232">,</span>&nbsp;<span class="num" id="6707234">0</span><span class="op" id="6707235">,</span>&nbsp;<span class="num" id="6707237">0</span><span class="op" id="6707238">,</span>&nbsp;<span class="num" id="6707240">0</span><span class="op" id="6707241">,</span>&nbsp;<span class="num" id="6707243">0</span><span class="op" id="6707244">,</span>&nbsp;<span class="num" id="6707246">0</span><span class="op" id="6707247">,</span>&nbsp;<span class="num" id="6707249">0</span><span class="op" id="6707250">,</span>&nbsp;<span class="num" id="6707252">0</span><span class="op" id="6707253">,</span>&nbsp;<span class="num" id="6707255">0</span><span class="op" id="6707256">,</span>&nbsp;<span class="num" id="6707258">0</span><span class="op" id="6707259">,</span>&nbsp;<span class="num" id="6707261">0</span><span class="op" id="6707262">,</span>&nbsp;<span class="num" id="6707264">0</span><span class="op" id="6707265">,</span>&nbsp;<span class="num" id="6707267">0</span><span class="op" id="6707268">,</span>&nbsp;<span class="num" id="6707270">0</span><span class="op" id="6707271">}</span><span class="op" id="6707272">,</span>&nbsp;<span class="builtintype" id="6707274">false</span><span class="op" id="6707279">}</span><span class="op" id="6707280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707283">{</span><span class="ident" id="6707284">IP</span><span class="op" id="6707286">.</span><span class="ident" id="6707287">IsLinkLocalMulticast</span><span class="op" id="6707307">,</span>&nbsp;<span class="ident" id="6707309">IPv4</span><span class="op" id="6707313">(</span><span class="num" id="6707314">224</span><span class="op" id="6707317">,</span>&nbsp;<span class="num" id="6707319">0</span><span class="op" id="6707320">,</span>&nbsp;<span class="num" id="6707322">0</span><span class="op" id="6707323">,</span>&nbsp;<span class="num" id="6707325">0</span><span class="op" id="6707326">)</span><span class="op" id="6707327">,</span>&nbsp;<span class="builtintype" id="6707329">true</span><span class="op" id="6707333">}</span><span class="op" id="6707334">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707337">{</span><span class="ident" id="6707338">IP</span><span class="op" id="6707340">.</span><span class="ident" id="6707341">IsLinkLocalMulticast</span><span class="op" id="6707361">,</span>&nbsp;<span class="ident" id="6707363">IPv4</span><span class="op" id="6707367">(</span><span class="num" id="6707368">239</span><span class="op" id="6707371">,</span>&nbsp;<span class="num" id="6707373">0</span><span class="op" id="6707374">,</span>&nbsp;<span class="num" id="6707376">0</span><span class="op" id="6707377">,</span>&nbsp;<span class="num" id="6707379">0</span><span class="op" id="6707380">)</span><span class="op" id="6707381">,</span>&nbsp;<span class="builtintype" id="6707383">false</span><span class="op" id="6707388">}</span><span class="op" id="6707389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707392">{</span><span class="ident" id="6707393">IP</span><span class="op" id="6707395">.</span><span class="ident" id="6707396">IsLinkLocalMulticast</span><span class="op" id="6707416">,</span>&nbsp;<span class="ident" id="6707418">IPv6linklocalallrouters</span><span class="op" id="6707441">,</span>&nbsp;<span class="builtintype" id="6707443">true</span><span class="op" id="6707447">}</span><span class="op" id="6707448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707451">{</span><span class="ident" id="6707452">IP</span><span class="op" id="6707454">.</span><span class="ident" id="6707455">IsLinkLocalMulticast</span><span class="op" id="6707475">,</span>&nbsp;<span class="ident" id="6707477">IP</span><span class="op" id="6707479">{</span><span class="num" id="6707480">0xff</span><span class="op" id="6707484">,</span>&nbsp;<span class="num" id="6707486">0x05</span><span class="op" id="6707490">,</span>&nbsp;<span class="num" id="6707492">0</span><span class="op" id="6707493">,</span>&nbsp;<span class="num" id="6707495">0</span><span class="op" id="6707496">,</span>&nbsp;<span class="num" id="6707498">0</span><span class="op" id="6707499">,</span>&nbsp;<span class="num" id="6707501">0</span><span class="op" id="6707502">,</span>&nbsp;<span class="num" id="6707504">0</span><span class="op" id="6707505">,</span>&nbsp;<span class="num" id="6707507">0</span><span class="op" id="6707508">,</span>&nbsp;<span class="num" id="6707510">0</span><span class="op" id="6707511">,</span>&nbsp;<span class="num" id="6707513">0</span><span class="op" id="6707514">,</span>&nbsp;<span class="num" id="6707516">0</span><span class="op" id="6707517">,</span>&nbsp;<span class="num" id="6707519">0</span><span class="op" id="6707520">,</span>&nbsp;<span class="num" id="6707522">0</span><span class="op" id="6707523">,</span>&nbsp;<span class="num" id="6707525">0</span><span class="op" id="6707526">,</span>&nbsp;<span class="num" id="6707528">0</span><span class="op" id="6707529">,</span>&nbsp;<span class="num" id="6707531">0</span><span class="op" id="6707532">}</span><span class="op" id="6707533">,</span>&nbsp;<span class="builtintype" id="6707535">false</span><span class="op" id="6707540">}</span><span class="op" id="6707541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707544">{</span><span class="ident" id="6707545">IP</span><span class="op" id="6707547">.</span><span class="ident" id="6707548">IsLinkLocalUnicast</span><span class="op" id="6707566">,</span>&nbsp;<span class="ident" id="6707568">IPv4</span><span class="op" id="6707572">(</span><span class="num" id="6707573">169</span><span class="op" id="6707576">,</span>&nbsp;<span class="num" id="6707578">254</span><span class="op" id="6707581">,</span>&nbsp;<span class="num" id="6707583">0</span><span class="op" id="6707584">,</span>&nbsp;<span class="num" id="6707586">0</span><span class="op" id="6707587">)</span><span class="op" id="6707588">,</span>&nbsp;<span class="builtintype" id="6707590">true</span><span class="op" id="6707594">}</span><span class="op" id="6707595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707598">{</span><span class="ident" id="6707599">IP</span><span class="op" id="6707601">.</span><span class="ident" id="6707602">IsLinkLocalUnicast</span><span class="op" id="6707620">,</span>&nbsp;<span class="ident" id="6707622">IPv4</span><span class="op" id="6707626">(</span><span class="num" id="6707627">169</span><span class="op" id="6707630">,</span>&nbsp;<span class="num" id="6707632">255</span><span class="op" id="6707635">,</span>&nbsp;<span class="num" id="6707637">0</span><span class="op" id="6707638">,</span>&nbsp;<span class="num" id="6707640">0</span><span class="op" id="6707641">)</span><span class="op" id="6707642">,</span>&nbsp;<span class="builtintype" id="6707644">false</span><span class="op" id="6707649">}</span><span class="op" id="6707650">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707653">{</span><span class="ident" id="6707654">IP</span><span class="op" id="6707656">.</span><span class="ident" id="6707657">IsLinkLocalUnicast</span><span class="op" id="6707675">,</span>&nbsp;<span class="ident" id="6707677">IP</span><span class="op" id="6707679">{</span><span class="num" id="6707680">0xfe</span><span class="op" id="6707684">,</span>&nbsp;<span class="num" id="6707686">0x80</span><span class="op" id="6707690">,</span>&nbsp;<span class="num" id="6707692">0</span><span class="op" id="6707693">,</span>&nbsp;<span class="num" id="6707695">0</span><span class="op" id="6707696">,</span>&nbsp;<span class="num" id="6707698">0</span><span class="op" id="6707699">,</span>&nbsp;<span class="num" id="6707701">0</span><span class="op" id="6707702">,</span>&nbsp;<span class="num" id="6707704">0</span><span class="op" id="6707705">,</span>&nbsp;<span class="num" id="6707707">0</span><span class="op" id="6707708">,</span>&nbsp;<span class="num" id="6707710">0</span><span class="op" id="6707711">,</span>&nbsp;<span class="num" id="6707713">0</span><span class="op" id="6707714">,</span>&nbsp;<span class="num" id="6707716">0</span><span class="op" id="6707717">,</span>&nbsp;<span class="num" id="6707719">0</span><span class="op" id="6707720">,</span>&nbsp;<span class="num" id="6707722">0</span><span class="op" id="6707723">,</span>&nbsp;<span class="num" id="6707725">0</span><span class="op" id="6707726">,</span>&nbsp;<span class="num" id="6707728">0</span><span class="op" id="6707729">,</span>&nbsp;<span class="num" id="6707731">0</span><span class="op" id="6707732">}</span><span class="op" id="6707733">,</span>&nbsp;<span class="builtintype" id="6707735">true</span><span class="op" id="6707739">}</span><span class="op" id="6707740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707743">{</span><span class="ident" id="6707744">IP</span><span class="op" id="6707746">.</span><span class="ident" id="6707747">IsLinkLocalUnicast</span><span class="op" id="6707765">,</span>&nbsp;<span class="ident" id="6707767">IP</span><span class="op" id="6707769">{</span><span class="num" id="6707770">0xfe</span><span class="op" id="6707774">,</span>&nbsp;<span class="num" id="6707776">0xc0</span><span class="op" id="6707780">,</span>&nbsp;<span class="num" id="6707782">0</span><span class="op" id="6707783">,</span>&nbsp;<span class="num" id="6707785">0</span><span class="op" id="6707786">,</span>&nbsp;<span class="num" id="6707788">0</span><span class="op" id="6707789">,</span>&nbsp;<span class="num" id="6707791">0</span><span class="op" id="6707792">,</span>&nbsp;<span class="num" id="6707794">0</span><span class="op" id="6707795">,</span>&nbsp;<span class="num" id="6707797">0</span><span class="op" id="6707798">,</span>&nbsp;<span class="num" id="6707800">0</span><span class="op" id="6707801">,</span>&nbsp;<span class="num" id="6707803">0</span><span class="op" id="6707804">,</span>&nbsp;<span class="num" id="6707806">0</span><span class="op" id="6707807">,</span>&nbsp;<span class="num" id="6707809">0</span><span class="op" id="6707810">,</span>&nbsp;<span class="num" id="6707812">0</span><span class="op" id="6707813">,</span>&nbsp;<span class="num" id="6707815">0</span><span class="op" id="6707816">,</span>&nbsp;<span class="num" id="6707818">0</span><span class="op" id="6707819">,</span>&nbsp;<span class="num" id="6707821">0</span><span class="op" id="6707822">}</span><span class="op" id="6707823">,</span>&nbsp;<span class="builtintype" id="6707825">false</span><span class="op" id="6707830">}</span><span class="op" id="6707831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707834">{</span><span class="ident" id="6707835">IP</span><span class="op" id="6707837">.</span><span class="ident" id="6707838">IsGlobalUnicast</span><span class="op" id="6707853">,</span>&nbsp;<span class="ident" id="6707855">IPv4</span><span class="op" id="6707859">(</span><span class="num" id="6707860">240</span><span class="op" id="6707863">,</span>&nbsp;<span class="num" id="6707865">0</span><span class="op" id="6707866">,</span>&nbsp;<span class="num" id="6707868">0</span><span class="op" id="6707869">,</span>&nbsp;<span class="num" id="6707871">0</span><span class="op" id="6707872">)</span><span class="op" id="6707873">,</span>&nbsp;<span class="builtintype" id="6707875">true</span><span class="op" id="6707879">}</span><span class="op" id="6707880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707883">{</span><span class="ident" id="6707884">IP</span><span class="op" id="6707886">.</span><span class="ident" id="6707887">IsGlobalUnicast</span><span class="op" id="6707902">,</span>&nbsp;<span class="ident" id="6707904">IPv4</span><span class="op" id="6707908">(</span><span class="num" id="6707909">232</span><span class="op" id="6707912">,</span>&nbsp;<span class="num" id="6707914">0</span><span class="op" id="6707915">,</span>&nbsp;<span class="num" id="6707917">0</span><span class="op" id="6707918">,</span>&nbsp;<span class="num" id="6707920">0</span><span class="op" id="6707921">)</span><span class="op" id="6707922">,</span>&nbsp;<span class="builtintype" id="6707924">false</span><span class="op" id="6707929">}</span><span class="op" id="6707930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707933">{</span><span class="ident" id="6707934">IP</span><span class="op" id="6707936">.</span><span class="ident" id="6707937">IsGlobalUnicast</span><span class="op" id="6707952">,</span>&nbsp;<span class="ident" id="6707954">IPv4</span><span class="op" id="6707958">(</span><span class="num" id="6707959">169</span><span class="op" id="6707962">,</span>&nbsp;<span class="num" id="6707964">254</span><span class="op" id="6707967">,</span>&nbsp;<span class="num" id="6707969">0</span><span class="op" id="6707970">,</span>&nbsp;<span class="num" id="6707972">0</span><span class="op" id="6707973">)</span><span class="op" id="6707974">,</span>&nbsp;<span class="builtintype" id="6707976">false</span><span class="op" id="6707981">}</span><span class="op" id="6707982">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6707985">{</span><span class="ident" id="6707986">IP</span><span class="op" id="6707988">.</span><span class="ident" id="6707989">IsGlobalUnicast</span><span class="op" id="6708004">,</span>&nbsp;<span class="ident" id="6708006">IP</span><span class="op" id="6708008">{</span><span class="num" id="6708009">0x20</span><span class="op" id="6708013">,</span>&nbsp;<span class="num" id="6708015">0x1</span><span class="op" id="6708018">,</span>&nbsp;<span class="num" id="6708020">0xd</span><span class="op" id="6708023">,</span>&nbsp;<span class="num" id="6708025">0xb8</span><span class="op" id="6708029">,</span>&nbsp;<span class="num" id="6708031">0</span><span class="op" id="6708032">,</span>&nbsp;<span class="num" id="6708034">0</span><span class="op" id="6708035">,</span>&nbsp;<span class="num" id="6708037">0</span><span class="op" id="6708038">,</span>&nbsp;<span class="num" id="6708040">0</span><span class="op" id="6708041">,</span>&nbsp;<span class="num" id="6708043">0</span><span class="op" id="6708044">,</span>&nbsp;<span class="num" id="6708046">0</span><span class="op" id="6708047">,</span>&nbsp;<span class="num" id="6708049">0x1</span><span class="op" id="6708052">,</span>&nbsp;<span class="num" id="6708054">0x23</span><span class="op" id="6708058">,</span>&nbsp;<span class="num" id="6708060">0</span><span class="op" id="6708061">,</span>&nbsp;<span class="num" id="6708063">0x12</span><span class="op" id="6708067">,</span>&nbsp;<span class="num" id="6708069">0</span><span class="op" id="6708070">,</span>&nbsp;<span class="num" id="6708072">0x1</span><span class="op" id="6708075">}</span><span class="op" id="6708076">,</span>&nbsp;<span class="builtintype" id="6708078">true</span><span class="op" id="6708082">}</span><span class="op" id="6708083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708086">{</span><span class="ident" id="6708087">IP</span><span class="op" id="6708089">.</span><span class="ident" id="6708090">IsGlobalUnicast</span><span class="op" id="6708105">,</span>&nbsp;<span class="ident" id="6708107">IP</span><span class="op" id="6708109">{</span><span class="num" id="6708110">0xfe</span><span class="op" id="6708114">,</span>&nbsp;<span class="num" id="6708116">0x80</span><span class="op" id="6708120">,</span>&nbsp;<span class="num" id="6708122">0</span><span class="op" id="6708123">,</span>&nbsp;<span class="num" id="6708125">0</span><span class="op" id="6708126">,</span>&nbsp;<span class="num" id="6708128">0</span><span class="op" id="6708129">,</span>&nbsp;<span class="num" id="6708131">0</span><span class="op" id="6708132">,</span>&nbsp;<span class="num" id="6708134">0</span><span class="op" id="6708135">,</span>&nbsp;<span class="num" id="6708137">0</span><span class="op" id="6708138">,</span>&nbsp;<span class="num" id="6708140">0</span><span class="op" id="6708141">,</span>&nbsp;<span class="num" id="6708143">0</span><span class="op" id="6708144">,</span>&nbsp;<span class="num" id="6708146">0</span><span class="op" id="6708147">,</span>&nbsp;<span class="num" id="6708149">0</span><span class="op" id="6708150">,</span>&nbsp;<span class="num" id="6708152">0</span><span class="op" id="6708153">,</span>&nbsp;<span class="num" id="6708155">0</span><span class="op" id="6708156">,</span>&nbsp;<span class="num" id="6708158">0</span><span class="op" id="6708159">,</span>&nbsp;<span class="num" id="6708161">0</span><span class="op" id="6708162">}</span><span class="op" id="6708163">,</span>&nbsp;<span class="builtintype" id="6708165">false</span><span class="op" id="6708170">}</span><span class="op" id="6708171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708174">{</span><span class="ident" id="6708175">IP</span><span class="op" id="6708177">.</span><span class="ident" id="6708178">IsGlobalUnicast</span><span class="op" id="6708193">,</span>&nbsp;<span class="ident" id="6708195">IP</span><span class="op" id="6708197">{</span><span class="num" id="6708198">0xff</span><span class="op" id="6708202">,</span>&nbsp;<span class="num" id="6708204">0x05</span><span class="op" id="6708208">,</span>&nbsp;<span class="num" id="6708210">0</span><span class="op" id="6708211">,</span>&nbsp;<span class="num" id="6708213">0</span><span class="op" id="6708214">,</span>&nbsp;<span class="num" id="6708216">0</span><span class="op" id="6708217">,</span>&nbsp;<span class="num" id="6708219">0</span><span class="op" id="6708220">,</span>&nbsp;<span class="num" id="6708222">0</span><span class="op" id="6708223">,</span>&nbsp;<span class="num" id="6708225">0</span><span class="op" id="6708226">,</span>&nbsp;<span class="num" id="6708228">0</span><span class="op" id="6708229">,</span>&nbsp;<span class="num" id="6708231">0</span><span class="op" id="6708232">,</span>&nbsp;<span class="num" id="6708234">0</span><span class="op" id="6708235">,</span>&nbsp;<span class="num" id="6708237">0</span><span class="op" id="6708238">,</span>&nbsp;<span class="num" id="6708240">0</span><span class="op" id="6708241">,</span>&nbsp;<span class="num" id="6708243">0</span><span class="op" id="6708244">,</span>&nbsp;<span class="num" id="6708246">0</span><span class="op" id="6708247">,</span>&nbsp;<span class="num" id="6708249">0</span><span class="op" id="6708250">}</span><span class="op" id="6708251">,</span>&nbsp;<span class="builtintype" id="6708253">false</span><span class="op" id="6708258">}</span><span class="op" id="6708259">,</span><br>
<span class="lineno"></span><span class="op" id="6708261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="6708264">func</span>&nbsp;<span class="ident" id="6708269">name</span><span class="op" id="6708273">(</span><span class="ident" id="6708274">f</span>&nbsp;<span class="keyword" id="6708276">interface</span><span class="op" id="6708285">{</span><span class="op" id="6708286">}</span><span class="op" id="6708287">)</span>&nbsp;<span class="builtintype" id="6708289">string</span>&nbsp;<span class="op" id="6708296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708299">return</span>&nbsp;<span class="ident" id="6708306">runtime</span><span class="op" id="6708313">.</span><span class="ident" id="6708314">FuncForPC</span><span class="op" id="6708323">(</span><span class="ident" id="6708324">reflect</span><span class="op" id="6708331">.</span><span class="ident" id="6708332">ValueOf</span><span class="op" id="6708339">(</span><span class="ident" id="6708340">f</span><span class="op" id="6708341">)</span><span class="op" id="6708342">.</span><span class="ident" id="6708343">Pointer</span><span class="op" id="6708350">(</span><span class="op" id="6708351">)</span><span class="op" id="6708352">)</span><span class="op" id="6708353">.</span><span class="ident" id="6708354">Name</span><span class="op" id="6708358">(</span><span class="op" id="6708359">)</span><br>
<span class="lineno"></span><span class="op" id="6708361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6708364">func</span>&nbsp;<span class="ident" id="6708369">TestIPAddrScope</span><span class="op" id="6708384">(</span><span class="ident" id="6708385">t</span>&nbsp;<span class="op" id="6708387">*</span><span class="ident" id="6708388">testing</span><span class="op" id="6708395">.</span><span class="ident" id="6708396">T</span><span class="op" id="6708397">)</span>&nbsp;<span class="op" id="6708399">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708402">for</span>&nbsp;<span class="ident" id="6708406">_</span><span class="op" id="6708407">,</span>&nbsp;<span class="ident" id="6708409">tt</span>&nbsp;<span class="op" id="6708412">:=</span>&nbsp;<span class="keyword" id="6708415">range</span>&nbsp;<span class="ident" id="6708421">ipAddrScopeTests</span>&nbsp;<span class="op" id="6708438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708442">if</span>&nbsp;<span class="ident" id="6708445">ok</span>&nbsp;<span class="op" id="6708448">:=</span>&nbsp;<span class="ident" id="6708451">tt</span><span class="op" id="6708453">.</span><span class="ident" id="6708454">scope</span><span class="op" id="6708459">(</span><span class="ident" id="6708460">tt</span><span class="op" id="6708462">.</span><span class="ident" id="6708463">in</span><span class="op" id="6708465">)</span><span class="op" id="6708466">;</span>&nbsp;<span class="ident" id="6708468">ok</span>&nbsp;<span class="op" id="6708471">!=</span>&nbsp;<span class="ident" id="6708474">tt</span><span class="op" id="6708476">.</span><span class="ident" id="6708477">ok</span>&nbsp;<span class="op" id="6708480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708485">t</span><span class="op" id="6708486">.</span><span class="ident" id="6708487">Errorf</span><span class="op" id="6708493">(</span><span class="string" id="6708494">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6708516">,</span>&nbsp;<span class="ident" id="6708518">name</span><span class="op" id="6708522">(</span><span class="ident" id="6708523">tt</span><span class="op" id="6708525">.</span><span class="ident" id="6708526">scope</span><span class="op" id="6708531">)</span><span class="op" id="6708532">,</span>&nbsp;<span class="ident" id="6708534">tt</span><span class="op" id="6708536">.</span><span class="ident" id="6708537">in</span><span class="op" id="6708539">,</span>&nbsp;<span class="ident" id="6708541">ok</span><span class="op" id="6708543">,</span>&nbsp;<span class="ident" id="6708545">tt</span><span class="op" id="6708547">.</span><span class="ident" id="6708548">ok</span><span class="op" id="6708550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708557">}</span><br>
<span class="lineno">465</span><span class="op" id="6708559">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
