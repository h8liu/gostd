<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8664092">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8664147">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8664201">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8664252">package</span>&nbsp;<span class="ident" id="8664260">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8664269">import</span>&nbsp;<span class="op" id="8664276">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8664279">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8664288">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8664295">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8664301">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8664312">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8664323">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="8664338">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="8664341">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="8664416">type</span>&nbsp;<span class="ident" id="8664421">StringReader</span>&nbsp;<span class="keyword" id="8664434">struct</span>&nbsp;<span class="op" id="8664441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664444">data</span>&nbsp;<span class="op" id="8664449">[</span><span class="op" id="8664450">]</span><span class="builtintype" id="8664451">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664459">step</span>&nbsp;<span class="builtintype" id="8664464">int</span><br>
<span class="lineno">20</span><span class="op" id="8664468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8664471">func</span>&nbsp;<span class="op" id="8664476">(</span><span class="ident" id="8664477">r</span>&nbsp;<span class="op" id="8664479">*</span><span class="ident" id="8664480">StringReader</span><span class="op" id="8664492">)</span>&nbsp;<span class="ident" id="8664494">Read</span><span class="op" id="8664498">(</span><span class="ident" id="8664499">p</span>&nbsp;<span class="op" id="8664501">[</span><span class="op" id="8664502">]</span><span class="builtintype" id="8664503">byte</span><span class="op" id="8664507">)</span>&nbsp;<span class="op" id="8664509">(</span><span class="ident" id="8664510">n</span>&nbsp;<span class="builtintype" id="8664512">int</span><span class="op" id="8664515">,</span>&nbsp;<span class="ident" id="8664517">err</span>&nbsp;<span class="builtintype" id="8664521">error</span><span class="op" id="8664526">)</span>&nbsp;<span class="op" id="8664528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8664531">if</span>&nbsp;<span class="ident" id="8664534">r</span><span class="op" id="8664535">.</span><span class="ident" id="8664536">step</span>&nbsp;<span class="op" id="8664541">&lt;</span>&nbsp;<span class="builtinfunc" id="8664543">len</span><span class="op" id="8664546">(</span><span class="ident" id="8664547">r</span><span class="op" id="8664548">.</span><span class="ident" id="8664549">data</span><span class="op" id="8664553">)</span>&nbsp;<span class="op" id="8664555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664559">s</span>&nbsp;<span class="op" id="8664561">:=</span>&nbsp;<span class="ident" id="8664564">r</span><span class="op" id="8664565">.</span><span class="ident" id="8664566">data</span><span class="op" id="8664570">[</span><span class="ident" id="8664571">r</span><span class="op" id="8664572">.</span><span class="ident" id="8664573">step</span><span class="op" id="8664577">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664581">n</span>&nbsp;<span class="op" id="8664583">=</span>&nbsp;<span class="builtinfunc" id="8664585">copy</span><span class="op" id="8664589">(</span><span class="ident" id="8664590">p</span><span class="op" id="8664591">,</span>&nbsp;<span class="ident" id="8664593">s</span><span class="op" id="8664594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664598">r</span><span class="op" id="8664599">.</span><span class="ident" id="8664600">step</span><span class="op" id="8664604">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8664608">}</span>&nbsp;<span class="keyword" id="8664610">else</span>&nbsp;<span class="op" id="8664615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664619">err</span>&nbsp;<span class="op" id="8664623">=</span>&nbsp;<span class="ident" id="8664625">io</span><span class="op" id="8664627">.</span><span class="ident" id="8664628">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8664633">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8664636">return</span><br>
<span class="lineno"></span><span class="op" id="8664643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8664646">func</span>&nbsp;<span class="ident" id="8664651">readRuneSegments</span><span class="op" id="8664667">(</span><span class="ident" id="8664668">t</span>&nbsp;<span class="op" id="8664670">*</span><span class="ident" id="8664671">testing</span><span class="op" id="8664678">.</span><span class="ident" id="8664679">T</span><span class="op" id="8664680">,</span>&nbsp;<span class="ident" id="8664682">segments</span>&nbsp;<span class="op" id="8664691">[</span><span class="op" id="8664692">]</span><span class="builtintype" id="8664693">string</span><span class="op" id="8664699">)</span>&nbsp;<span class="op" id="8664701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664704">got</span>&nbsp;<span class="op" id="8664708">:=</span>&nbsp;<span class="string" id="8664711">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664715">want</span>&nbsp;<span class="op" id="8664720">:=</span>&nbsp;<span class="ident" id="8664723">strings</span><span class="op" id="8664730">.</span><span class="ident" id="8664731">Join</span><span class="op" id="8664735">(</span><span class="ident" id="8664736">segments</span><span class="op" id="8664744">,</span>&nbsp;<span class="string" id="8664746">&#34;&#34;</span><span class="op" id="8664748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664751">s</span>&nbsp;<span class="op" id="8664753">:=</span>&nbsp;<span class="builtinfunc" id="8664756">new</span><span class="op" id="8664759">(</span><span class="ident" id="8664760">Scanner</span><span class="op" id="8664767">)</span><span class="op" id="8664768">.</span><span class="ident" id="8664769">Init</span><span class="op" id="8664773">(</span><span class="op" id="8664774">&amp;</span><span class="ident" id="8664775">StringReader</span><span class="op" id="8664787">{</span><span class="ident" id="8664788">data</span><span class="op" id="8664792">:</span>&nbsp;<span class="ident" id="8664794">segments</span><span class="op" id="8664802">}</span><span class="op" id="8664803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8664806">for</span>&nbsp;<span class="op" id="8664810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664814">ch</span>&nbsp;<span class="op" id="8664817">:=</span>&nbsp;<span class="ident" id="8664820">s</span><span class="op" id="8664821">.</span><span class="ident" id="8664822">Next</span><span class="op" id="8664826">(</span><span class="op" id="8664827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8664831">if</span>&nbsp;<span class="ident" id="8664834">ch</span>&nbsp;<span class="op" id="8664837">==</span>&nbsp;<span class="ident" id="8664840">EOF</span>&nbsp;<span class="op" id="8664844">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8664849">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8664857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664861">got</span>&nbsp;<span class="op" id="8664865">+=</span>&nbsp;<span class="builtintype" id="8664868">string</span><span class="op" id="8664874">(</span><span class="ident" id="8664875">ch</span><span class="op" id="8664877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8664880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8664883">if</span>&nbsp;<span class="ident" id="8664886">got</span>&nbsp;<span class="op" id="8664890">!=</span>&nbsp;<span class="ident" id="8664893">want</span>&nbsp;<span class="op" id="8664898">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664902">t</span><span class="op" id="8664903">.</span><span class="ident" id="8664904">Errorf</span><span class="op" id="8664910">(</span><span class="string" id="8664911">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="8664939">,</span>&nbsp;<span class="ident" id="8664941">segments</span><span class="op" id="8664949">,</span>&nbsp;<span class="ident" id="8664951">got</span><span class="op" id="8664954">,</span>&nbsp;<span class="ident" id="8664956">want</span><span class="op" id="8664960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8664963">}</span><br>
<span class="lineno"></span><span class="op" id="8664965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8664968">var</span>&nbsp;<span class="ident" id="8664972">segmentList</span>&nbsp;<span class="op" id="8664984">=</span>&nbsp;<span class="op" id="8664986">[</span><span class="op" id="8664987">]</span><span class="op" id="8664988">[</span><span class="op" id="8664989">]</span><span class="builtintype" id="8664990">string</span><span class="op" id="8664996">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8664999">{</span><span class="op" id="8665000">}</span><span class="op" id="8665001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665004">{</span><span class="string" id="8665005">&#34;&#34;</span><span class="op" id="8665007">}</span><span class="op" id="8665008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665011">{</span><span class="string" id="8665012">&#34;日&#34;</span><span class="op" id="8665017">,</span>&nbsp;<span class="string" id="8665019">&#34;本語&#34;</span><span class="op" id="8665027">}</span><span class="op" id="8665028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665031">{</span><span class="string" id="8665032">&#34;\u65e5&#34;</span><span class="op" id="8665040">,</span>&nbsp;<span class="string" id="8665042">&#34;\u672c&#34;</span><span class="op" id="8665050">,</span>&nbsp;<span class="string" id="8665052">&#34;\u8a9e&#34;</span><span class="op" id="8665060">}</span><span class="op" id="8665061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665064">{</span><span class="string" id="8665065">&#34;\U000065e5&#34;</span><span class="op" id="8665077">,</span>&nbsp;<span class="string" id="8665079">&#34;&nbsp;&#34;</span><span class="op" id="8665082">,</span>&nbsp;<span class="string" id="8665084">&#34;\U0000672c&#34;</span><span class="op" id="8665096">,</span>&nbsp;<span class="string" id="8665098">&#34;\U00008a9e&#34;</span><span class="op" id="8665110">}</span><span class="op" id="8665111">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665114">{</span><span class="string" id="8665115">&#34;\xe6&#34;</span><span class="op" id="8665121">,</span>&nbsp;<span class="string" id="8665123">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="8665137">,</span>&nbsp;<span class="string" id="8665139">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="8665161">}</span><span class="op" id="8665162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665165">{</span><span class="string" id="8665166">&#34;Hello&#34;</span><span class="op" id="8665173">,</span>&nbsp;<span class="string" id="8665175">&#34;,&nbsp;&#34;</span><span class="op" id="8665179">,</span>&nbsp;<span class="string" id="8665181">&#34;World&#34;</span><span class="op" id="8665188">,</span>&nbsp;<span class="string" id="8665190">&#34;!&#34;</span><span class="op" id="8665193">}</span><span class="op" id="8665194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665197">{</span><span class="string" id="8665198">&#34;Hello&#34;</span><span class="op" id="8665205">,</span>&nbsp;<span class="string" id="8665207">&#34;,&nbsp;&#34;</span><span class="op" id="8665211">,</span>&nbsp;<span class="string" id="8665213">&#34;&#34;</span><span class="op" id="8665215">,</span>&nbsp;<span class="string" id="8665217">&#34;World&#34;</span><span class="op" id="8665224">,</span>&nbsp;<span class="string" id="8665226">&#34;!&#34;</span><span class="op" id="8665229">}</span><span class="op" id="8665230">,</span><br>
<span class="lineno"></span><span class="op" id="8665232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8665235">func</span>&nbsp;<span class="ident" id="8665240">TestNext</span><span class="op" id="8665248">(</span><span class="ident" id="8665249">t</span>&nbsp;<span class="op" id="8665251">*</span><span class="ident" id="8665252">testing</span><span class="op" id="8665259">.</span><span class="ident" id="8665260">T</span><span class="op" id="8665261">)</span>&nbsp;<span class="op" id="8665263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8665266">for</span>&nbsp;<span class="ident" id="8665270">_</span><span class="op" id="8665271">,</span>&nbsp;<span class="ident" id="8665273">s</span>&nbsp;<span class="op" id="8665275">:=</span>&nbsp;<span class="keyword" id="8665278">range</span>&nbsp;<span class="ident" id="8665284">segmentList</span>&nbsp;<span class="op" id="8665296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665300">readRuneSegments</span><span class="op" id="8665316">(</span><span class="ident" id="8665317">t</span><span class="op" id="8665318">,</span>&nbsp;<span class="ident" id="8665320">s</span><span class="op" id="8665321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665324">}</span><br>
<span class="lineno"></span><span class="op" id="8665326">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8665329">type</span>&nbsp;<span class="ident" id="8665334">token</span>&nbsp;<span class="keyword" id="8665340">struct</span>&nbsp;<span class="op" id="8665347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665350">tok</span>&nbsp;&nbsp;<span class="builtintype" id="8665355">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665361">text</span>&nbsp;<span class="builtintype" id="8665366">string</span><br>
<span class="lineno"></span><span class="op" id="8665373">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8665376">var</span>&nbsp;<span class="ident" id="8665380">f100</span>&nbsp;<span class="op" id="8665385">=</span>&nbsp;<span class="string" id="8665387">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8665491">var</span>&nbsp;<span class="ident" id="8665495">tokenList</span>&nbsp;<span class="op" id="8665505">=</span>&nbsp;<span class="op" id="8665507">[</span><span class="op" id="8665508">]</span><span class="ident" id="8665509">token</span><span class="op" id="8665514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665517">{</span><span class="ident" id="8665518">Comment</span><span class="op" id="8665525">,</span>&nbsp;<span class="string" id="8665527">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="8665545">}</span><span class="op" id="8665546">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665549">{</span><span class="ident" id="8665550">Comment</span><span class="op" id="8665557">,</span>&nbsp;<span class="string" id="8665559">&#34;//&#34;</span><span class="op" id="8665563">}</span><span class="op" id="8665564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665567">{</span><span class="ident" id="8665568">Comment</span><span class="op" id="8665575">,</span>&nbsp;<span class="string" id="8665577">&#34;////&#34;</span><span class="op" id="8665583">}</span><span class="op" id="8665584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665587">{</span><span class="ident" id="8665588">Comment</span><span class="op" id="8665595">,</span>&nbsp;<span class="string" id="8665597">&#34;//&nbsp;comment&#34;</span><span class="op" id="8665609">}</span><span class="op" id="8665610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665613">{</span><span class="ident" id="8665614">Comment</span><span class="op" id="8665621">,</span>&nbsp;<span class="string" id="8665623">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8665641">}</span><span class="op" id="8665642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665645">{</span><span class="ident" id="8665646">Comment</span><span class="op" id="8665653">,</span>&nbsp;<span class="string" id="8665655">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="8665673">}</span><span class="op" id="8665674">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665677">{</span><span class="ident" id="8665678">Comment</span><span class="op" id="8665685">,</span>&nbsp;<span class="string" id="8665687">&#34;//&#34;</span>&nbsp;<span class="op" id="8665692">+</span>&nbsp;<span class="ident" id="8665694">f100</span><span class="op" id="8665698">}</span><span class="op" id="8665699">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665703">{</span><span class="ident" id="8665704">Comment</span><span class="op" id="8665711">,</span>&nbsp;<span class="string" id="8665713">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="8665734">}</span><span class="op" id="8665735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665738">{</span><span class="ident" id="8665739">Comment</span><span class="op" id="8665746">,</span>&nbsp;<span class="string" id="8665748">&#34;/**/&#34;</span><span class="op" id="8665754">}</span><span class="op" id="8665755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665758">{</span><span class="ident" id="8665759">Comment</span><span class="op" id="8665766">,</span>&nbsp;<span class="string" id="8665768">&#34;/***/&#34;</span><span class="op" id="8665775">}</span><span class="op" id="8665776">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665779">{</span><span class="ident" id="8665780">Comment</span><span class="op" id="8665787">,</span>&nbsp;<span class="string" id="8665789">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8665804">}</span><span class="op" id="8665805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665808">{</span><span class="ident" id="8665809">Comment</span><span class="op" id="8665816">,</span>&nbsp;<span class="string" id="8665818">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8665836">}</span><span class="op" id="8665837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665840">{</span><span class="ident" id="8665841">Comment</span><span class="op" id="8665848">,</span>&nbsp;<span class="string" id="8665850">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8665868">}</span><span class="op" id="8665869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665872">{</span><span class="ident" id="8665873">Comment</span><span class="op" id="8665880">,</span>&nbsp;<span class="string" id="8665882">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="8665900">}</span><span class="op" id="8665901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665904">{</span><span class="ident" id="8665905">Comment</span><span class="op" id="8665912">,</span>&nbsp;<span class="string" id="8665914">&#34;/*&#34;</span>&nbsp;<span class="op" id="8665919">+</span>&nbsp;<span class="ident" id="8665921">f100</span>&nbsp;<span class="op" id="8665926">+</span>&nbsp;<span class="string" id="8665928">&#34;*/&#34;</span><span class="op" id="8665932">}</span><span class="op" id="8665933">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665937">{</span><span class="ident" id="8665938">Comment</span><span class="op" id="8665945">,</span>&nbsp;<span class="string" id="8665947">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="8665963">}</span><span class="op" id="8665964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665967">{</span><span class="ident" id="8665968">Ident</span><span class="op" id="8665973">,</span>&nbsp;<span class="string" id="8665975">&#34;a&#34;</span><span class="op" id="8665978">}</span><span class="op" id="8665979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665982">{</span><span class="ident" id="8665983">Ident</span><span class="op" id="8665988">,</span>&nbsp;<span class="string" id="8665990">&#34;a0&#34;</span><span class="op" id="8665994">}</span><span class="op" id="8665995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665998">{</span><span class="ident" id="8665999">Ident</span><span class="op" id="8666004">,</span>&nbsp;<span class="string" id="8666006">&#34;foobar&#34;</span><span class="op" id="8666014">}</span><span class="op" id="8666015">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666018">{</span><span class="ident" id="8666019">Ident</span><span class="op" id="8666024">,</span>&nbsp;<span class="string" id="8666026">&#34;abc123&#34;</span><span class="op" id="8666034">}</span><span class="op" id="8666035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666038">{</span><span class="ident" id="8666039">Ident</span><span class="op" id="8666044">,</span>&nbsp;<span class="string" id="8666046">&#34;LGTM&#34;</span><span class="op" id="8666052">}</span><span class="op" id="8666053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666056">{</span><span class="ident" id="8666057">Ident</span><span class="op" id="8666062">,</span>&nbsp;<span class="string" id="8666064">&#34;_&#34;</span><span class="op" id="8666067">}</span><span class="op" id="8666068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666071">{</span><span class="ident" id="8666072">Ident</span><span class="op" id="8666077">,</span>&nbsp;<span class="string" id="8666079">&#34;_abc123&#34;</span><span class="op" id="8666088">}</span><span class="op" id="8666089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666092">{</span><span class="ident" id="8666093">Ident</span><span class="op" id="8666098">,</span>&nbsp;<span class="string" id="8666100">&#34;abc123_&#34;</span><span class="op" id="8666109">}</span><span class="op" id="8666110">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666113">{</span><span class="ident" id="8666114">Ident</span><span class="op" id="8666119">,</span>&nbsp;<span class="string" id="8666121">&#34;_abc_123_&#34;</span><span class="op" id="8666132">}</span><span class="op" id="8666133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666136">{</span><span class="ident" id="8666137">Ident</span><span class="op" id="8666142">,</span>&nbsp;<span class="string" id="8666144">&#34;_äöü&#34;</span><span class="op" id="8666153">}</span><span class="op" id="8666154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666157">{</span><span class="ident" id="8666158">Ident</span><span class="op" id="8666163">,</span>&nbsp;<span class="string" id="8666165">&#34;_本&#34;</span><span class="op" id="8666171">}</span><span class="op" id="8666172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666175">{</span><span class="ident" id="8666176">Ident</span><span class="op" id="8666181">,</span>&nbsp;<span class="string" id="8666183">&#34;äöü&#34;</span><span class="op" id="8666191">}</span><span class="op" id="8666192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666195">{</span><span class="ident" id="8666196">Ident</span><span class="op" id="8666201">,</span>&nbsp;<span class="string" id="8666203">&#34;本&#34;</span><span class="op" id="8666208">}</span><span class="op" id="8666209">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666212">{</span><span class="ident" id="8666213">Ident</span><span class="op" id="8666218">,</span>&nbsp;<span class="string" id="8666220">&#34;a۰۱۸&#34;</span><span class="op" id="8666229">}</span><span class="op" id="8666230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666233">{</span><span class="ident" id="8666234">Ident</span><span class="op" id="8666239">,</span>&nbsp;<span class="string" id="8666241">&#34;foo६४&#34;</span><span class="op" id="8666252">}</span><span class="op" id="8666253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666256">{</span><span class="ident" id="8666257">Ident</span><span class="op" id="8666262">,</span>&nbsp;<span class="string" id="8666264">&#34;bar９８７６&#34;</span><span class="op" id="8666281">}</span><span class="op" id="8666282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666285">{</span><span class="ident" id="8666286">Ident</span><span class="op" id="8666291">,</span>&nbsp;<span class="ident" id="8666293">f100</span><span class="op" id="8666297">}</span><span class="op" id="8666298">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666302">{</span><span class="ident" id="8666303">Comment</span><span class="op" id="8666310">,</span>&nbsp;<span class="string" id="8666312">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="8666329">}</span><span class="op" id="8666330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666333">{</span><span class="ident" id="8666334">Int</span><span class="op" id="8666337">,</span>&nbsp;<span class="string" id="8666339">&#34;0&#34;</span><span class="op" id="8666342">}</span><span class="op" id="8666343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666346">{</span><span class="ident" id="8666347">Int</span><span class="op" id="8666350">,</span>&nbsp;<span class="string" id="8666352">&#34;1&#34;</span><span class="op" id="8666355">}</span><span class="op" id="8666356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666359">{</span><span class="ident" id="8666360">Int</span><span class="op" id="8666363">,</span>&nbsp;<span class="string" id="8666365">&#34;9&#34;</span><span class="op" id="8666368">}</span><span class="op" id="8666369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666372">{</span><span class="ident" id="8666373">Int</span><span class="op" id="8666376">,</span>&nbsp;<span class="string" id="8666378">&#34;42&#34;</span><span class="op" id="8666382">}</span><span class="op" id="8666383">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666386">{</span><span class="ident" id="8666387">Int</span><span class="op" id="8666390">,</span>&nbsp;<span class="string" id="8666392">&#34;1234567890&#34;</span><span class="op" id="8666404">}</span><span class="op" id="8666405">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666409">{</span><span class="ident" id="8666410">Comment</span><span class="op" id="8666417">,</span>&nbsp;<span class="string" id="8666419">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="8666434">}</span><span class="op" id="8666435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666438">{</span><span class="ident" id="8666439">Int</span><span class="op" id="8666442">,</span>&nbsp;<span class="string" id="8666444">&#34;00&#34;</span><span class="op" id="8666448">}</span><span class="op" id="8666449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666452">{</span><span class="ident" id="8666453">Int</span><span class="op" id="8666456">,</span>&nbsp;<span class="string" id="8666458">&#34;01&#34;</span><span class="op" id="8666462">}</span><span class="op" id="8666463">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666466">{</span><span class="ident" id="8666467">Int</span><span class="op" id="8666470">,</span>&nbsp;<span class="string" id="8666472">&#34;07&#34;</span><span class="op" id="8666476">}</span><span class="op" id="8666477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666480">{</span><span class="ident" id="8666481">Int</span><span class="op" id="8666484">,</span>&nbsp;<span class="string" id="8666486">&#34;042&#34;</span><span class="op" id="8666491">}</span><span class="op" id="8666492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666495">{</span><span class="ident" id="8666496">Int</span><span class="op" id="8666499">,</span>&nbsp;<span class="string" id="8666501">&#34;01234567&#34;</span><span class="op" id="8666511">}</span><span class="op" id="8666512">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666516">{</span><span class="ident" id="8666517">Comment</span><span class="op" id="8666524">,</span>&nbsp;<span class="string" id="8666526">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="8666547">}</span><span class="op" id="8666548">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666551">{</span><span class="ident" id="8666552">Int</span><span class="op" id="8666555">,</span>&nbsp;<span class="string" id="8666557">&#34;0x0&#34;</span><span class="op" id="8666562">}</span><span class="op" id="8666563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666566">{</span><span class="ident" id="8666567">Int</span><span class="op" id="8666570">,</span>&nbsp;<span class="string" id="8666572">&#34;0x1&#34;</span><span class="op" id="8666577">}</span><span class="op" id="8666578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666581">{</span><span class="ident" id="8666582">Int</span><span class="op" id="8666585">,</span>&nbsp;<span class="string" id="8666587">&#34;0xf&#34;</span><span class="op" id="8666592">}</span><span class="op" id="8666593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666596">{</span><span class="ident" id="8666597">Int</span><span class="op" id="8666600">,</span>&nbsp;<span class="string" id="8666602">&#34;0x42&#34;</span><span class="op" id="8666608">}</span><span class="op" id="8666609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666612">{</span><span class="ident" id="8666613">Int</span><span class="op" id="8666616">,</span>&nbsp;<span class="string" id="8666618">&#34;0x123456789abcDEF&#34;</span><span class="op" id="8666637">}</span><span class="op" id="8666638">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666641">{</span><span class="ident" id="8666642">Int</span><span class="op" id="8666645">,</span>&nbsp;<span class="string" id="8666647">&#34;0x&#34;</span>&nbsp;<span class="op" id="8666652">+</span>&nbsp;<span class="ident" id="8666654">f100</span><span class="op" id="8666658">}</span><span class="op" id="8666659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666662">{</span><span class="ident" id="8666663">Int</span><span class="op" id="8666666">,</span>&nbsp;<span class="string" id="8666668">&#34;0X0&#34;</span><span class="op" id="8666673">}</span><span class="op" id="8666674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666677">{</span><span class="ident" id="8666678">Int</span><span class="op" id="8666681">,</span>&nbsp;<span class="string" id="8666683">&#34;0X1&#34;</span><span class="op" id="8666688">}</span><span class="op" id="8666689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666692">{</span><span class="ident" id="8666693">Int</span><span class="op" id="8666696">,</span>&nbsp;<span class="string" id="8666698">&#34;0XF&#34;</span><span class="op" id="8666703">}</span><span class="op" id="8666704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666707">{</span><span class="ident" id="8666708">Int</span><span class="op" id="8666711">,</span>&nbsp;<span class="string" id="8666713">&#34;0X42&#34;</span><span class="op" id="8666719">}</span><span class="op" id="8666720">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666723">{</span><span class="ident" id="8666724">Int</span><span class="op" id="8666727">,</span>&nbsp;<span class="string" id="8666729">&#34;0X123456789abcDEF&#34;</span><span class="op" id="8666748">}</span><span class="op" id="8666749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666752">{</span><span class="ident" id="8666753">Int</span><span class="op" id="8666756">,</span>&nbsp;<span class="string" id="8666758">&#34;0X&#34;</span>&nbsp;<span class="op" id="8666763">+</span>&nbsp;<span class="ident" id="8666765">f100</span><span class="op" id="8666769">}</span><span class="op" id="8666770">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666774">{</span><span class="ident" id="8666775">Comment</span><span class="op" id="8666782">,</span>&nbsp;<span class="string" id="8666784">&#34;//&nbsp;floats&#34;</span><span class="op" id="8666795">}</span><span class="op" id="8666796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666799">{</span><span class="ident" id="8666800">Float</span><span class="op" id="8666805">,</span>&nbsp;<span class="string" id="8666807">&#34;0.&#34;</span><span class="op" id="8666811">}</span><span class="op" id="8666812">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666815">{</span><span class="ident" id="8666816">Float</span><span class="op" id="8666821">,</span>&nbsp;<span class="string" id="8666823">&#34;1.&#34;</span><span class="op" id="8666827">}</span><span class="op" id="8666828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666831">{</span><span class="ident" id="8666832">Float</span><span class="op" id="8666837">,</span>&nbsp;<span class="string" id="8666839">&#34;42.&#34;</span><span class="op" id="8666844">}</span><span class="op" id="8666845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666848">{</span><span class="ident" id="8666849">Float</span><span class="op" id="8666854">,</span>&nbsp;<span class="string" id="8666856">&#34;01234567890.&#34;</span><span class="op" id="8666870">}</span><span class="op" id="8666871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666874">{</span><span class="ident" id="8666875">Float</span><span class="op" id="8666880">,</span>&nbsp;<span class="string" id="8666882">&#34;.0&#34;</span><span class="op" id="8666886">}</span><span class="op" id="8666887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666890">{</span><span class="ident" id="8666891">Float</span><span class="op" id="8666896">,</span>&nbsp;<span class="string" id="8666898">&#34;.1&#34;</span><span class="op" id="8666902">}</span><span class="op" id="8666903">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666906">{</span><span class="ident" id="8666907">Float</span><span class="op" id="8666912">,</span>&nbsp;<span class="string" id="8666914">&#34;.42&#34;</span><span class="op" id="8666919">}</span><span class="op" id="8666920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666923">{</span><span class="ident" id="8666924">Float</span><span class="op" id="8666929">,</span>&nbsp;<span class="string" id="8666931">&#34;.0123456789&#34;</span><span class="op" id="8666944">}</span><span class="op" id="8666945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666948">{</span><span class="ident" id="8666949">Float</span><span class="op" id="8666954">,</span>&nbsp;<span class="string" id="8666956">&#34;0.0&#34;</span><span class="op" id="8666961">}</span><span class="op" id="8666962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666965">{</span><span class="ident" id="8666966">Float</span><span class="op" id="8666971">,</span>&nbsp;<span class="string" id="8666973">&#34;1.0&#34;</span><span class="op" id="8666978">}</span><span class="op" id="8666979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666982">{</span><span class="ident" id="8666983">Float</span><span class="op" id="8666988">,</span>&nbsp;<span class="string" id="8666990">&#34;42.0&#34;</span><span class="op" id="8666996">}</span><span class="op" id="8666997">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667000">{</span><span class="ident" id="8667001">Float</span><span class="op" id="8667006">,</span>&nbsp;<span class="string" id="8667008">&#34;01234567890.0&#34;</span><span class="op" id="8667023">}</span><span class="op" id="8667024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667027">{</span><span class="ident" id="8667028">Float</span><span class="op" id="8667033">,</span>&nbsp;<span class="string" id="8667035">&#34;0e0&#34;</span><span class="op" id="8667040">}</span><span class="op" id="8667041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667044">{</span><span class="ident" id="8667045">Float</span><span class="op" id="8667050">,</span>&nbsp;<span class="string" id="8667052">&#34;1e0&#34;</span><span class="op" id="8667057">}</span><span class="op" id="8667058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667061">{</span><span class="ident" id="8667062">Float</span><span class="op" id="8667067">,</span>&nbsp;<span class="string" id="8667069">&#34;42e0&#34;</span><span class="op" id="8667075">}</span><span class="op" id="8667076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667079">{</span><span class="ident" id="8667080">Float</span><span class="op" id="8667085">,</span>&nbsp;<span class="string" id="8667087">&#34;01234567890e0&#34;</span><span class="op" id="8667102">}</span><span class="op" id="8667103">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667106">{</span><span class="ident" id="8667107">Float</span><span class="op" id="8667112">,</span>&nbsp;<span class="string" id="8667114">&#34;0E0&#34;</span><span class="op" id="8667119">}</span><span class="op" id="8667120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667123">{</span><span class="ident" id="8667124">Float</span><span class="op" id="8667129">,</span>&nbsp;<span class="string" id="8667131">&#34;1E0&#34;</span><span class="op" id="8667136">}</span><span class="op" id="8667137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667140">{</span><span class="ident" id="8667141">Float</span><span class="op" id="8667146">,</span>&nbsp;<span class="string" id="8667148">&#34;42E0&#34;</span><span class="op" id="8667154">}</span><span class="op" id="8667155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667158">{</span><span class="ident" id="8667159">Float</span><span class="op" id="8667164">,</span>&nbsp;<span class="string" id="8667166">&#34;01234567890E0&#34;</span><span class="op" id="8667181">}</span><span class="op" id="8667182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667185">{</span><span class="ident" id="8667186">Float</span><span class="op" id="8667191">,</span>&nbsp;<span class="string" id="8667193">&#34;0e+10&#34;</span><span class="op" id="8667200">}</span><span class="op" id="8667201">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667204">{</span><span class="ident" id="8667205">Float</span><span class="op" id="8667210">,</span>&nbsp;<span class="string" id="8667212">&#34;1e-10&#34;</span><span class="op" id="8667219">}</span><span class="op" id="8667220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667223">{</span><span class="ident" id="8667224">Float</span><span class="op" id="8667229">,</span>&nbsp;<span class="string" id="8667231">&#34;42e+10&#34;</span><span class="op" id="8667239">}</span><span class="op" id="8667240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667243">{</span><span class="ident" id="8667244">Float</span><span class="op" id="8667249">,</span>&nbsp;<span class="string" id="8667251">&#34;01234567890e-10&#34;</span><span class="op" id="8667268">}</span><span class="op" id="8667269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667272">{</span><span class="ident" id="8667273">Float</span><span class="op" id="8667278">,</span>&nbsp;<span class="string" id="8667280">&#34;0E+10&#34;</span><span class="op" id="8667287">}</span><span class="op" id="8667288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667291">{</span><span class="ident" id="8667292">Float</span><span class="op" id="8667297">,</span>&nbsp;<span class="string" id="8667299">&#34;1E-10&#34;</span><span class="op" id="8667306">}</span><span class="op" id="8667307">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667310">{</span><span class="ident" id="8667311">Float</span><span class="op" id="8667316">,</span>&nbsp;<span class="string" id="8667318">&#34;42E+10&#34;</span><span class="op" id="8667326">}</span><span class="op" id="8667327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667330">{</span><span class="ident" id="8667331">Float</span><span class="op" id="8667336">,</span>&nbsp;<span class="string" id="8667338">&#34;01234567890E-10&#34;</span><span class="op" id="8667355">}</span><span class="op" id="8667356">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667360">{</span><span class="ident" id="8667361">Comment</span><span class="op" id="8667368">,</span>&nbsp;<span class="string" id="8667370">&#34;//&nbsp;chars&#34;</span><span class="op" id="8667380">}</span><span class="op" id="8667381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667384">{</span><span class="ident" id="8667385">Char</span><span class="op" id="8667389">,</span>&nbsp;<span class="string" id="8667391">`&#39;&nbsp;&#39;`</span><span class="op" id="8667396">}</span><span class="op" id="8667397">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667400">{</span><span class="ident" id="8667401">Char</span><span class="op" id="8667405">,</span>&nbsp;<span class="string" id="8667407">`&#39;a&#39;`</span><span class="op" id="8667412">}</span><span class="op" id="8667413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667416">{</span><span class="ident" id="8667417">Char</span><span class="op" id="8667421">,</span>&nbsp;<span class="string" id="8667423">`&#39;本&#39;`</span><span class="op" id="8667430">}</span><span class="op" id="8667431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667434">{</span><span class="ident" id="8667435">Char</span><span class="op" id="8667439">,</span>&nbsp;<span class="string" id="8667441">`&#39;\a&#39;`</span><span class="op" id="8667447">}</span><span class="op" id="8667448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667451">{</span><span class="ident" id="8667452">Char</span><span class="op" id="8667456">,</span>&nbsp;<span class="string" id="8667458">`&#39;\b&#39;`</span><span class="op" id="8667464">}</span><span class="op" id="8667465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667468">{</span><span class="ident" id="8667469">Char</span><span class="op" id="8667473">,</span>&nbsp;<span class="string" id="8667475">`&#39;\f&#39;`</span><span class="op" id="8667481">}</span><span class="op" id="8667482">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667485">{</span><span class="ident" id="8667486">Char</span><span class="op" id="8667490">,</span>&nbsp;<span class="string" id="8667492">`&#39;\n&#39;`</span><span class="op" id="8667498">}</span><span class="op" id="8667499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667502">{</span><span class="ident" id="8667503">Char</span><span class="op" id="8667507">,</span>&nbsp;<span class="string" id="8667509">`&#39;\r&#39;`</span><span class="op" id="8667515">}</span><span class="op" id="8667516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667519">{</span><span class="ident" id="8667520">Char</span><span class="op" id="8667524">,</span>&nbsp;<span class="string" id="8667526">`&#39;\t&#39;`</span><span class="op" id="8667532">}</span><span class="op" id="8667533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667536">{</span><span class="ident" id="8667537">Char</span><span class="op" id="8667541">,</span>&nbsp;<span class="string" id="8667543">`&#39;\v&#39;`</span><span class="op" id="8667549">}</span><span class="op" id="8667550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667553">{</span><span class="ident" id="8667554">Char</span><span class="op" id="8667558">,</span>&nbsp;<span class="string" id="8667560">`&#39;\&#39;&#39;`</span><span class="op" id="8667566">}</span><span class="op" id="8667567">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667570">{</span><span class="ident" id="8667571">Char</span><span class="op" id="8667575">,</span>&nbsp;<span class="string" id="8667577">`&#39;\000&#39;`</span><span class="op" id="8667585">}</span><span class="op" id="8667586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667589">{</span><span class="ident" id="8667590">Char</span><span class="op" id="8667594">,</span>&nbsp;<span class="string" id="8667596">`&#39;\777&#39;`</span><span class="op" id="8667604">}</span><span class="op" id="8667605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667608">{</span><span class="ident" id="8667609">Char</span><span class="op" id="8667613">,</span>&nbsp;<span class="string" id="8667615">`&#39;\x00&#39;`</span><span class="op" id="8667623">}</span><span class="op" id="8667624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667627">{</span><span class="ident" id="8667628">Char</span><span class="op" id="8667632">,</span>&nbsp;<span class="string" id="8667634">`&#39;\xff&#39;`</span><span class="op" id="8667642">}</span><span class="op" id="8667643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667646">{</span><span class="ident" id="8667647">Char</span><span class="op" id="8667651">,</span>&nbsp;<span class="string" id="8667653">`&#39;\u0000&#39;`</span><span class="op" id="8667663">}</span><span class="op" id="8667664">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667667">{</span><span class="ident" id="8667668">Char</span><span class="op" id="8667672">,</span>&nbsp;<span class="string" id="8667674">`&#39;\ufA16&#39;`</span><span class="op" id="8667684">}</span><span class="op" id="8667685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667688">{</span><span class="ident" id="8667689">Char</span><span class="op" id="8667693">,</span>&nbsp;<span class="string" id="8667695">`&#39;\U00000000&#39;`</span><span class="op" id="8667709">}</span><span class="op" id="8667710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667713">{</span><span class="ident" id="8667714">Char</span><span class="op" id="8667718">,</span>&nbsp;<span class="string" id="8667720">`&#39;\U0000ffAB&#39;`</span><span class="op" id="8667734">}</span><span class="op" id="8667735">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667739">{</span><span class="ident" id="8667740">Comment</span><span class="op" id="8667747">,</span>&nbsp;<span class="string" id="8667749">&#34;//&nbsp;strings&#34;</span><span class="op" id="8667761">}</span><span class="op" id="8667762">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667765">{</span><span class="ident" id="8667766">String</span><span class="op" id="8667772">,</span>&nbsp;<span class="string" id="8667774">`&#34;&nbsp;&#34;`</span><span class="op" id="8667779">}</span><span class="op" id="8667780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667783">{</span><span class="ident" id="8667784">String</span><span class="op" id="8667790">,</span>&nbsp;<span class="string" id="8667792">`&#34;a&#34;`</span><span class="op" id="8667797">}</span><span class="op" id="8667798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667801">{</span><span class="ident" id="8667802">String</span><span class="op" id="8667808">,</span>&nbsp;<span class="string" id="8667810">`&#34;本&#34;`</span><span class="op" id="8667817">}</span><span class="op" id="8667818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667821">{</span><span class="ident" id="8667822">String</span><span class="op" id="8667828">,</span>&nbsp;<span class="string" id="8667830">`&#34;\a&#34;`</span><span class="op" id="8667836">}</span><span class="op" id="8667837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667840">{</span><span class="ident" id="8667841">String</span><span class="op" id="8667847">,</span>&nbsp;<span class="string" id="8667849">`&#34;\b&#34;`</span><span class="op" id="8667855">}</span><span class="op" id="8667856">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667859">{</span><span class="ident" id="8667860">String</span><span class="op" id="8667866">,</span>&nbsp;<span class="string" id="8667868">`&#34;\f&#34;`</span><span class="op" id="8667874">}</span><span class="op" id="8667875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667878">{</span><span class="ident" id="8667879">String</span><span class="op" id="8667885">,</span>&nbsp;<span class="string" id="8667887">`&#34;\n&#34;`</span><span class="op" id="8667893">}</span><span class="op" id="8667894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667897">{</span><span class="ident" id="8667898">String</span><span class="op" id="8667904">,</span>&nbsp;<span class="string" id="8667906">`&#34;\r&#34;`</span><span class="op" id="8667912">}</span><span class="op" id="8667913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667916">{</span><span class="ident" id="8667917">String</span><span class="op" id="8667923">,</span>&nbsp;<span class="string" id="8667925">`&#34;\t&#34;`</span><span class="op" id="8667931">}</span><span class="op" id="8667932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667935">{</span><span class="ident" id="8667936">String</span><span class="op" id="8667942">,</span>&nbsp;<span class="string" id="8667944">`&#34;\v&#34;`</span><span class="op" id="8667950">}</span><span class="op" id="8667951">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667954">{</span><span class="ident" id="8667955">String</span><span class="op" id="8667961">,</span>&nbsp;<span class="string" id="8667963">`&#34;\&#34;&#34;`</span><span class="op" id="8667969">}</span><span class="op" id="8667970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667973">{</span><span class="ident" id="8667974">String</span><span class="op" id="8667980">,</span>&nbsp;<span class="string" id="8667982">`&#34;\000&#34;`</span><span class="op" id="8667990">}</span><span class="op" id="8667991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667994">{</span><span class="ident" id="8667995">String</span><span class="op" id="8668001">,</span>&nbsp;<span class="string" id="8668003">`&#34;\777&#34;`</span><span class="op" id="8668011">}</span><span class="op" id="8668012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668015">{</span><span class="ident" id="8668016">String</span><span class="op" id="8668022">,</span>&nbsp;<span class="string" id="8668024">`&#34;\x00&#34;`</span><span class="op" id="8668032">}</span><span class="op" id="8668033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668036">{</span><span class="ident" id="8668037">String</span><span class="op" id="8668043">,</span>&nbsp;<span class="string" id="8668045">`&#34;\xff&#34;`</span><span class="op" id="8668053">}</span><span class="op" id="8668054">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668057">{</span><span class="ident" id="8668058">String</span><span class="op" id="8668064">,</span>&nbsp;<span class="string" id="8668066">`&#34;\u0000&#34;`</span><span class="op" id="8668076">}</span><span class="op" id="8668077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668080">{</span><span class="ident" id="8668081">String</span><span class="op" id="8668087">,</span>&nbsp;<span class="string" id="8668089">`&#34;\ufA16&#34;`</span><span class="op" id="8668099">}</span><span class="op" id="8668100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668103">{</span><span class="ident" id="8668104">String</span><span class="op" id="8668110">,</span>&nbsp;<span class="string" id="8668112">`&#34;\U00000000&#34;`</span><span class="op" id="8668126">}</span><span class="op" id="8668127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668130">{</span><span class="ident" id="8668131">String</span><span class="op" id="8668137">,</span>&nbsp;<span class="string" id="8668139">`&#34;\U0000ffAB&#34;`</span><span class="op" id="8668153">}</span><span class="op" id="8668154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668157">{</span><span class="ident" id="8668158">String</span><span class="op" id="8668164">,</span>&nbsp;<span class="string" id="8668166">`&#34;`</span>&nbsp;<span class="op" id="8668170">+</span>&nbsp;<span class="ident" id="8668172">f100</span>&nbsp;<span class="op" id="8668177">+</span>&nbsp;<span class="string" id="8668179">`&#34;`</span><span class="op" id="8668182">}</span><span class="op" id="8668183">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668187">{</span><span class="ident" id="8668188">Comment</span><span class="op" id="8668195">,</span>&nbsp;<span class="string" id="8668197">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="8668213">}</span><span class="op" id="8668214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668217">{</span><span class="ident" id="8668218">String</span><span class="op" id="8668224">,</span>&nbsp;<span class="string" id="8668226">&#34;``&#34;</span><span class="op" id="8668230">}</span><span class="op" id="8668231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668234">{</span><span class="ident" id="8668235">String</span><span class="op" id="8668241">,</span>&nbsp;<span class="string" id="8668243">&#34;`\\`&#34;</span><span class="op" id="8668249">}</span><span class="op" id="8668250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668253">{</span><span class="ident" id="8668254">String</span><span class="op" id="8668260">,</span>&nbsp;<span class="string" id="8668262">&#34;`&#34;</span>&nbsp;<span class="op" id="8668266">+</span>&nbsp;<span class="string" id="8668268">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="8668291">+</span>&nbsp;<span class="string" id="8668293">&#34;`&#34;</span><span class="op" id="8668296">}</span><span class="op" id="8668297">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668300">{</span><span class="ident" id="8668301">String</span><span class="op" id="8668307">,</span>&nbsp;<span class="string" id="8668309">&#34;`&#34;</span>&nbsp;<span class="op" id="8668313">+</span>&nbsp;<span class="ident" id="8668315">f100</span>&nbsp;<span class="op" id="8668320">+</span>&nbsp;<span class="string" id="8668322">&#34;`&#34;</span><span class="op" id="8668325">}</span><span class="op" id="8668326">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668330">{</span><span class="ident" id="8668331">Comment</span><span class="op" id="8668338">,</span>&nbsp;<span class="string" id="8668340">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="8668366">}</span><span class="op" id="8668367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8668370">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668403">{</span><span class="string" id="8668404">&#39;\x01&#39;</span><span class="op" id="8668410">,</span>&nbsp;<span class="string" id="8668412">&#34;\x01&#34;</span><span class="op" id="8668418">}</span><span class="op" id="8668419">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668422">{</span><span class="string" id="8668423">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8668427">-</span>&nbsp;<span class="num" id="8668429">1</span><span class="op" id="8668430">,</span>&nbsp;<span class="builtintype" id="8668432">string</span><span class="op" id="8668438">(</span><span class="string" id="8668439">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8668443">-</span>&nbsp;<span class="num" id="8668445">1</span><span class="op" id="8668446">)</span><span class="op" id="8668447">}</span><span class="op" id="8668448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668451">{</span><span class="string" id="8668452">&#39;+&#39;</span><span class="op" id="8668455">,</span>&nbsp;<span class="string" id="8668457">&#34;+&#34;</span><span class="op" id="8668460">}</span><span class="op" id="8668461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668464">{</span><span class="string" id="8668465">&#39;/&#39;</span><span class="op" id="8668468">,</span>&nbsp;<span class="string" id="8668470">&#34;/&#34;</span><span class="op" id="8668473">}</span><span class="op" id="8668474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668477">{</span><span class="string" id="8668478">&#39;.&#39;</span><span class="op" id="8668481">,</span>&nbsp;<span class="string" id="8668483">&#34;.&#34;</span><span class="op" id="8668486">}</span><span class="op" id="8668487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668490">{</span><span class="string" id="8668491">&#39;~&#39;</span><span class="op" id="8668494">,</span>&nbsp;<span class="string" id="8668496">&#34;~&#34;</span><span class="op" id="8668499">}</span><span class="op" id="8668500">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668503">{</span><span class="string" id="8668504">&#39;(&#39;</span><span class="op" id="8668507">,</span>&nbsp;<span class="string" id="8668509">&#34;(&#34;</span><span class="op" id="8668512">}</span><span class="op" id="8668513">,</span><br>
<span class="lineno"></span><span class="op" id="8668515">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8668518">func</span>&nbsp;<span class="ident" id="8668523">makeSource</span><span class="op" id="8668533">(</span><span class="ident" id="8668534">pattern</span>&nbsp;<span class="builtintype" id="8668542">string</span><span class="op" id="8668548">)</span>&nbsp;<span class="op" id="8668550">*</span><span class="ident" id="8668551">bytes</span><span class="op" id="8668556">.</span><span class="ident" id="8668557">Buffer</span>&nbsp;<span class="op" id="8668564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668567">var</span>&nbsp;<span class="ident" id="8668571">buf</span>&nbsp;<span class="ident" id="8668575">bytes</span><span class="op" id="8668580">.</span><span class="ident" id="8668581">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668589">for</span>&nbsp;<span class="ident" id="8668593">_</span><span class="op" id="8668594">,</span>&nbsp;<span class="ident" id="8668596">k</span>&nbsp;<span class="op" id="8668598">:=</span>&nbsp;<span class="keyword" id="8668601">range</span>&nbsp;<span class="ident" id="8668607">tokenList</span>&nbsp;<span class="op" id="8668617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8668621">fmt</span><span class="op" id="8668624">.</span><span class="ident" id="8668625">Fprintf</span><span class="op" id="8668632">(</span><span class="op" id="8668633">&amp;</span><span class="ident" id="8668634">buf</span><span class="op" id="8668637">,</span>&nbsp;<span class="ident" id="8668639">pattern</span><span class="op" id="8668646">,</span>&nbsp;<span class="ident" id="8668648">k</span><span class="op" id="8668649">.</span><span class="ident" id="8668650">text</span><span class="op" id="8668654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668660">return</span>&nbsp;<span class="op" id="8668667">&amp;</span><span class="ident" id="8668668">buf</span><br>
<span class="lineno"></span><span class="op" id="8668672">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="8668675">func</span>&nbsp;<span class="ident" id="8668680">checkTok</span><span class="op" id="8668688">(</span><span class="ident" id="8668689">t</span>&nbsp;<span class="op" id="8668691">*</span><span class="ident" id="8668692">testing</span><span class="op" id="8668699">.</span><span class="ident" id="8668700">T</span><span class="op" id="8668701">,</span>&nbsp;<span class="ident" id="8668703">s</span>&nbsp;<span class="op" id="8668705">*</span><span class="ident" id="8668706">Scanner</span><span class="op" id="8668713">,</span>&nbsp;<span class="ident" id="8668715">line</span>&nbsp;<span class="builtintype" id="8668720">int</span><span class="op" id="8668723">,</span>&nbsp;<span class="ident" id="8668725">got</span><span class="op" id="8668728">,</span>&nbsp;<span class="ident" id="8668730">want</span>&nbsp;<span class="builtintype" id="8668735">rune</span><span class="op" id="8668739">,</span>&nbsp;<span class="ident" id="8668741">text</span>&nbsp;<span class="builtintype" id="8668746">string</span><span class="op" id="8668752">)</span>&nbsp;<span class="op" id="8668754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668757">if</span>&nbsp;<span class="ident" id="8668760">got</span>&nbsp;<span class="op" id="8668764">!=</span>&nbsp;<span class="ident" id="8668767">want</span>&nbsp;<span class="op" id="8668772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8668776">t</span><span class="op" id="8668777">.</span><span class="ident" id="8668778">Fatalf</span><span class="op" id="8668784">(</span><span class="string" id="8668785">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8668811">,</span>&nbsp;<span class="ident" id="8668813">TokenString</span><span class="op" id="8668824">(</span><span class="ident" id="8668825">got</span><span class="op" id="8668828">)</span><span class="op" id="8668829">,</span>&nbsp;<span class="ident" id="8668831">TokenString</span><span class="op" id="8668842">(</span><span class="ident" id="8668843">want</span><span class="op" id="8668847">)</span><span class="op" id="8668848">,</span>&nbsp;<span class="ident" id="8668850">text</span><span class="op" id="8668854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668857">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668860">if</span>&nbsp;<span class="ident" id="8668863">s</span><span class="op" id="8668864">.</span><span class="ident" id="8668865">Line</span>&nbsp;<span class="op" id="8668870">!=</span>&nbsp;<span class="ident" id="8668873">line</span>&nbsp;<span class="op" id="8668878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8668882">t</span><span class="op" id="8668883">.</span><span class="ident" id="8668884">Errorf</span><span class="op" id="8668890">(</span><span class="string" id="8668891">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8668918">,</span>&nbsp;<span class="ident" id="8668920">s</span><span class="op" id="8668921">.</span><span class="ident" id="8668922">Line</span><span class="op" id="8668926">,</span>&nbsp;<span class="ident" id="8668928">line</span><span class="op" id="8668932">,</span>&nbsp;<span class="ident" id="8668934">text</span><span class="op" id="8668938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8668944">stext</span>&nbsp;<span class="op" id="8668950">:=</span>&nbsp;<span class="ident" id="8668953">s</span><span class="op" id="8668954">.</span><span class="ident" id="8668955">TokenText</span><span class="op" id="8668964">(</span><span class="op" id="8668965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668968">if</span>&nbsp;<span class="ident" id="8668971">stext</span>&nbsp;<span class="op" id="8668977">!=</span>&nbsp;<span class="ident" id="8668980">text</span>&nbsp;<span class="op" id="8668985">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8668989">t</span><span class="op" id="8668990">.</span><span class="ident" id="8668991">Errorf</span><span class="op" id="8668997">(</span><span class="string" id="8668998">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8669018">,</span>&nbsp;<span class="ident" id="8669020">stext</span><span class="op" id="8669025">,</span>&nbsp;<span class="ident" id="8669027">text</span><span class="op" id="8669031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669034">}</span>&nbsp;<span class="keyword" id="8669036">else</span>&nbsp;<span class="op" id="8669041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8669045">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669088">stext</span>&nbsp;<span class="op" id="8669094">=</span>&nbsp;<span class="ident" id="8669096">s</span><span class="op" id="8669097">.</span><span class="ident" id="8669098">TokenText</span><span class="op" id="8669107">(</span><span class="op" id="8669108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669112">if</span>&nbsp;<span class="ident" id="8669115">stext</span>&nbsp;<span class="op" id="8669121">!=</span>&nbsp;<span class="ident" id="8669124">text</span>&nbsp;<span class="op" id="8669129">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669134">t</span><span class="op" id="8669135">.</span><span class="ident" id="8669136">Errorf</span><span class="op" id="8669142">(</span><span class="string" id="8669143">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="8669183">,</span>&nbsp;<span class="ident" id="8669185">stext</span><span class="op" id="8669190">,</span>&nbsp;<span class="ident" id="8669192">text</span><span class="op" id="8669196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669203">}</span><br>
<span class="lineno"></span><span class="op" id="8669205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="8669208">func</span>&nbsp;<span class="ident" id="8669213">countNewlines</span><span class="op" id="8669226">(</span><span class="ident" id="8669227">s</span>&nbsp;<span class="builtintype" id="8669229">string</span><span class="op" id="8669235">)</span>&nbsp;<span class="builtintype" id="8669237">int</span>&nbsp;<span class="op" id="8669241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669244">n</span>&nbsp;<span class="op" id="8669246">:=</span>&nbsp;<span class="num" id="8669249">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669252">for</span>&nbsp;<span class="ident" id="8669256">_</span><span class="op" id="8669257">,</span>&nbsp;<span class="ident" id="8669259">ch</span>&nbsp;<span class="op" id="8669262">:=</span>&nbsp;<span class="keyword" id="8669265">range</span>&nbsp;<span class="ident" id="8669271">s</span>&nbsp;<span class="op" id="8669273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669277">if</span>&nbsp;<span class="ident" id="8669280">ch</span>&nbsp;<span class="op" id="8669283">==</span>&nbsp;<span class="string" id="8669286">&#39;\n&#39;</span>&nbsp;<span class="op" id="8669291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669296">n</span><span class="op" id="8669297">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669308">return</span>&nbsp;<span class="ident" id="8669315">n</span><br>
<span class="lineno"></span><span class="op" id="8669317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="8669320">func</span>&nbsp;<span class="ident" id="8669325">testScan</span><span class="op" id="8669333">(</span><span class="ident" id="8669334">t</span>&nbsp;<span class="op" id="8669336">*</span><span class="ident" id="8669337">testing</span><span class="op" id="8669344">.</span><span class="ident" id="8669345">T</span><span class="op" id="8669346">,</span>&nbsp;<span class="ident" id="8669348">mode</span>&nbsp;<span class="builtintype" id="8669353">uint</span><span class="op" id="8669357">)</span>&nbsp;<span class="op" id="8669359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669362">s</span>&nbsp;<span class="op" id="8669364">:=</span>&nbsp;<span class="builtinfunc" id="8669367">new</span><span class="op" id="8669370">(</span><span class="ident" id="8669371">Scanner</span><span class="op" id="8669378">)</span><span class="op" id="8669379">.</span><span class="ident" id="8669380">Init</span><span class="op" id="8669384">(</span><span class="ident" id="8669385">makeSource</span><span class="op" id="8669395">(</span><span class="string" id="8669396">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="8669405">)</span><span class="op" id="8669406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669409">s</span><span class="op" id="8669410">.</span><span class="ident" id="8669411">Mode</span>&nbsp;<span class="op" id="8669416">=</span>&nbsp;<span class="ident" id="8669418">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669424">tok</span>&nbsp;<span class="op" id="8669428">:=</span>&nbsp;<span class="ident" id="8669431">s</span><span class="op" id="8669432">.</span><span class="ident" id="8669433">Scan</span><span class="op" id="8669437">(</span><span class="op" id="8669438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669441">line</span>&nbsp;<span class="op" id="8669446">:=</span>&nbsp;<span class="num" id="8669449">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669452">for</span>&nbsp;<span class="ident" id="8669456">_</span><span class="op" id="8669457">,</span>&nbsp;<span class="ident" id="8669459">k</span>&nbsp;<span class="op" id="8669461">:=</span>&nbsp;<span class="keyword" id="8669464">range</span>&nbsp;<span class="ident" id="8669470">tokenList</span>&nbsp;<span class="op" id="8669480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669484">if</span>&nbsp;<span class="ident" id="8669487">mode</span><span class="op" id="8669491">&amp;</span><span class="ident" id="8669492">SkipComments</span>&nbsp;<span class="op" id="8669505">==</span>&nbsp;<span class="num" id="8669508">0</span>&nbsp;<span class="op" id="8669510">||</span>&nbsp;<span class="ident" id="8669513">k</span><span class="op" id="8669514">.</span><span class="ident" id="8669515">tok</span>&nbsp;<span class="op" id="8669519">!=</span>&nbsp;<span class="ident" id="8669522">Comment</span>&nbsp;<span class="op" id="8669530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669535">checkTok</span><span class="op" id="8669543">(</span><span class="ident" id="8669544">t</span><span class="op" id="8669545">,</span>&nbsp;<span class="ident" id="8669547">s</span><span class="op" id="8669548">,</span>&nbsp;<span class="ident" id="8669550">line</span><span class="op" id="8669554">,</span>&nbsp;<span class="ident" id="8669556">tok</span><span class="op" id="8669559">,</span>&nbsp;<span class="ident" id="8669561">k</span><span class="op" id="8669562">.</span><span class="ident" id="8669563">tok</span><span class="op" id="8669566">,</span>&nbsp;<span class="ident" id="8669568">k</span><span class="op" id="8669569">.</span><span class="ident" id="8669570">text</span><span class="op" id="8669574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669579">tok</span>&nbsp;<span class="op" id="8669583">=</span>&nbsp;<span class="ident" id="8669585">s</span><span class="op" id="8669586">.</span><span class="ident" id="8669587">Scan</span><span class="op" id="8669591">(</span><span class="op" id="8669592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669596">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669600">line</span>&nbsp;<span class="op" id="8669605">+=</span>&nbsp;<span class="ident" id="8669608">countNewlines</span><span class="op" id="8669621">(</span><span class="ident" id="8669622">k</span><span class="op" id="8669623">.</span><span class="ident" id="8669624">text</span><span class="op" id="8669628">)</span>&nbsp;<span class="op" id="8669630">+</span>&nbsp;<span class="num" id="8669632">1</span>&nbsp;<span class="comment" id="8669634">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669669">checkTok</span><span class="op" id="8669677">(</span><span class="ident" id="8669678">t</span><span class="op" id="8669679">,</span>&nbsp;<span class="ident" id="8669681">s</span><span class="op" id="8669682">,</span>&nbsp;<span class="ident" id="8669684">line</span><span class="op" id="8669688">,</span>&nbsp;<span class="ident" id="8669690">tok</span><span class="op" id="8669693">,</span>&nbsp;<span class="ident" id="8669695">EOF</span><span class="op" id="8669698">,</span>&nbsp;<span class="string" id="8669700">&#34;&#34;</span><span class="op" id="8669702">)</span><br>
<span class="lineno"></span><span class="op" id="8669704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="8669707">func</span>&nbsp;<span class="ident" id="8669712">TestScan</span><span class="op" id="8669720">(</span><span class="ident" id="8669721">t</span>&nbsp;<span class="op" id="8669723">*</span><span class="ident" id="8669724">testing</span><span class="op" id="8669731">.</span><span class="ident" id="8669732">T</span><span class="op" id="8669733">)</span>&nbsp;<span class="op" id="8669735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669738">testScan</span><span class="op" id="8669746">(</span><span class="ident" id="8669747">t</span><span class="op" id="8669748">,</span>&nbsp;<span class="ident" id="8669750">GoTokens</span><span class="op" id="8669758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669761">testScan</span><span class="op" id="8669769">(</span><span class="ident" id="8669770">t</span><span class="op" id="8669771">,</span>&nbsp;<span class="ident" id="8669773">GoTokens</span><span class="op" id="8669781">&amp;^</span><span class="ident" id="8669783">SkipComments</span><span class="op" id="8669795">)</span><br>
<span class="lineno"></span><span class="op" id="8669797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="8669800">func</span>&nbsp;<span class="ident" id="8669805">TestPosition</span><span class="op" id="8669817">(</span><span class="ident" id="8669818">t</span>&nbsp;<span class="op" id="8669820">*</span><span class="ident" id="8669821">testing</span><span class="op" id="8669828">.</span><span class="ident" id="8669829">T</span><span class="op" id="8669830">)</span>&nbsp;<span class="op" id="8669832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669835">src</span>&nbsp;<span class="op" id="8669839">:=</span>&nbsp;<span class="ident" id="8669842">makeSource</span><span class="op" id="8669852">(</span><span class="string" id="8669853">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="8669867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669870">s</span>&nbsp;<span class="op" id="8669872">:=</span>&nbsp;<span class="builtinfunc" id="8669875">new</span><span class="op" id="8669878">(</span><span class="ident" id="8669879">Scanner</span><span class="op" id="8669886">)</span><span class="op" id="8669887">.</span><span class="ident" id="8669888">Init</span><span class="op" id="8669892">(</span><span class="ident" id="8669893">src</span><span class="op" id="8669896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669899">s</span><span class="op" id="8669900">.</span><span class="ident" id="8669901">Mode</span>&nbsp;<span class="op" id="8669906">=</span>&nbsp;<span class="ident" id="8669908">GoTokens</span>&nbsp;<span class="op" id="8669917">&amp;^</span>&nbsp;<span class="ident" id="8669920">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669934">s</span><span class="op" id="8669935">.</span><span class="ident" id="8669936">Scan</span><span class="op" id="8669940">(</span><span class="op" id="8669941">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669944">pos</span>&nbsp;<span class="op" id="8669948">:=</span>&nbsp;<span class="ident" id="8669951">Position</span><span class="op" id="8669959">{</span><span class="string" id="8669960">&#34;&#34;</span><span class="op" id="8669962">,</span>&nbsp;<span class="num" id="8669964">4</span><span class="op" id="8669965">,</span>&nbsp;<span class="num" id="8669967">1</span><span class="op" id="8669968">,</span>&nbsp;<span class="num" id="8669970">5</span><span class="op" id="8669971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669974">for</span>&nbsp;<span class="ident" id="8669978">_</span><span class="op" id="8669979">,</span>&nbsp;<span class="ident" id="8669981">k</span>&nbsp;<span class="op" id="8669983">:=</span>&nbsp;<span class="keyword" id="8669986">range</span>&nbsp;<span class="ident" id="8669992">tokenList</span>&nbsp;<span class="op" id="8670002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670006">if</span>&nbsp;<span class="ident" id="8670009">s</span><span class="op" id="8670010">.</span><span class="ident" id="8670011">Offset</span>&nbsp;<span class="op" id="8670018">!=</span>&nbsp;<span class="ident" id="8670021">pos</span><span class="op" id="8670024">.</span><span class="ident" id="8670025">Offset</span>&nbsp;<span class="op" id="8670032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670037">t</span><span class="op" id="8670038">.</span><span class="ident" id="8670039">Errorf</span><span class="op" id="8670045">(</span><span class="string" id="8670046">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8670075">,</span>&nbsp;<span class="ident" id="8670077">s</span><span class="op" id="8670078">.</span><span class="ident" id="8670079">Offset</span><span class="op" id="8670085">,</span>&nbsp;<span class="ident" id="8670087">pos</span><span class="op" id="8670090">.</span><span class="ident" id="8670091">Offset</span><span class="op" id="8670097">,</span>&nbsp;<span class="ident" id="8670099">k</span><span class="op" id="8670100">.</span><span class="ident" id="8670101">text</span><span class="op" id="8670105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670109">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670113">if</span>&nbsp;<span class="ident" id="8670116">s</span><span class="op" id="8670117">.</span><span class="ident" id="8670118">Line</span>&nbsp;<span class="op" id="8670123">!=</span>&nbsp;<span class="ident" id="8670126">pos</span><span class="op" id="8670129">.</span><span class="ident" id="8670130">Line</span>&nbsp;<span class="op" id="8670135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670140">t</span><span class="op" id="8670141">.</span><span class="ident" id="8670142">Errorf</span><span class="op" id="8670148">(</span><span class="string" id="8670149">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8670176">,</span>&nbsp;<span class="ident" id="8670178">s</span><span class="op" id="8670179">.</span><span class="ident" id="8670180">Line</span><span class="op" id="8670184">,</span>&nbsp;<span class="ident" id="8670186">pos</span><span class="op" id="8670189">.</span><span class="ident" id="8670190">Line</span><span class="op" id="8670194">,</span>&nbsp;<span class="ident" id="8670196">k</span><span class="op" id="8670197">.</span><span class="ident" id="8670198">text</span><span class="op" id="8670202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670210">if</span>&nbsp;<span class="ident" id="8670213">s</span><span class="op" id="8670214">.</span><span class="ident" id="8670215">Column</span>&nbsp;<span class="op" id="8670222">!=</span>&nbsp;<span class="ident" id="8670225">pos</span><span class="op" id="8670228">.</span><span class="ident" id="8670229">Column</span>&nbsp;<span class="op" id="8670236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670241">t</span><span class="op" id="8670242">.</span><span class="ident" id="8670243">Errorf</span><span class="op" id="8670249">(</span><span class="string" id="8670250">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8670279">,</span>&nbsp;<span class="ident" id="8670281">s</span><span class="op" id="8670282">.</span><span class="ident" id="8670283">Column</span><span class="op" id="8670289">,</span>&nbsp;<span class="ident" id="8670291">pos</span><span class="op" id="8670294">.</span><span class="ident" id="8670295">Column</span><span class="op" id="8670301">,</span>&nbsp;<span class="ident" id="8670303">k</span><span class="op" id="8670304">.</span><span class="ident" id="8670305">text</span><span class="op" id="8670309">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670317">pos</span><span class="op" id="8670320">.</span><span class="ident" id="8670321">Offset</span>&nbsp;<span class="op" id="8670328">+=</span>&nbsp;<span class="num" id="8670331">4</span>&nbsp;<span class="op" id="8670333">+</span>&nbsp;<span class="builtinfunc" id="8670335">len</span><span class="op" id="8670338">(</span><span class="ident" id="8670339">k</span><span class="op" id="8670340">.</span><span class="ident" id="8670341">text</span><span class="op" id="8670345">)</span>&nbsp;<span class="op" id="8670347">+</span>&nbsp;<span class="num" id="8670349">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8670355">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670391">pos</span><span class="op" id="8670394">.</span><span class="ident" id="8670395">Line</span>&nbsp;<span class="op" id="8670400">+=</span>&nbsp;<span class="ident" id="8670403">countNewlines</span><span class="op" id="8670416">(</span><span class="ident" id="8670417">k</span><span class="op" id="8670418">.</span><span class="ident" id="8670419">text</span><span class="op" id="8670423">)</span>&nbsp;<span class="op" id="8670425">+</span>&nbsp;<span class="num" id="8670427">1</span>&nbsp;<span class="comment" id="8670429">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670462">s</span><span class="op" id="8670463">.</span><span class="ident" id="8670464">Scan</span><span class="op" id="8670468">(</span><span class="op" id="8670469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670472">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8670475">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670545">if</span>&nbsp;<span class="ident" id="8670548">s</span><span class="op" id="8670549">.</span><span class="ident" id="8670550">ErrorCount</span>&nbsp;<span class="op" id="8670561">!=</span>&nbsp;<span class="num" id="8670564">0</span>&nbsp;<span class="op" id="8670566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670570">t</span><span class="op" id="8670571">.</span><span class="ident" id="8670572">Errorf</span><span class="op" id="8670578">(</span><span class="string" id="8670579">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8670590">,</span>&nbsp;<span class="ident" id="8670592">s</span><span class="op" id="8670593">.</span><span class="ident" id="8670594">ErrorCount</span><span class="op" id="8670604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670607">}</span><br>
<span class="lineno"></span><span class="op" id="8670609">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="8670612">func</span>&nbsp;<span class="ident" id="8670617">TestScanZeroMode</span><span class="op" id="8670633">(</span><span class="ident" id="8670634">t</span>&nbsp;<span class="op" id="8670636">*</span><span class="ident" id="8670637">testing</span><span class="op" id="8670644">.</span><span class="ident" id="8670645">T</span><span class="op" id="8670646">)</span>&nbsp;<span class="op" id="8670648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670651">src</span>&nbsp;<span class="op" id="8670655">:=</span>&nbsp;<span class="ident" id="8670658">makeSource</span><span class="op" id="8670668">(</span><span class="string" id="8670669">&#34;%s\n&#34;</span><span class="op" id="8670675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670678">str</span>&nbsp;<span class="op" id="8670682">:=</span>&nbsp;<span class="ident" id="8670685">src</span><span class="op" id="8670688">.</span><span class="ident" id="8670689">String</span><span class="op" id="8670695">(</span><span class="op" id="8670696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670699">s</span>&nbsp;<span class="op" id="8670701">:=</span>&nbsp;<span class="builtinfunc" id="8670704">new</span><span class="op" id="8670707">(</span><span class="ident" id="8670708">Scanner</span><span class="op" id="8670715">)</span><span class="op" id="8670716">.</span><span class="ident" id="8670717">Init</span><span class="op" id="8670721">(</span><span class="ident" id="8670722">src</span><span class="op" id="8670725">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670728">s</span><span class="op" id="8670729">.</span><span class="ident" id="8670730">Mode</span>&nbsp;<span class="op" id="8670735">=</span>&nbsp;<span class="num" id="8670737">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8670745">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670783">s</span><span class="op" id="8670784">.</span><span class="ident" id="8670785">Whitespace</span>&nbsp;<span class="op" id="8670796">=</span>&nbsp;<span class="num" id="8670798">0</span>&nbsp;<span class="comment" id="8670800">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670830">tok</span>&nbsp;<span class="op" id="8670834">:=</span>&nbsp;<span class="ident" id="8670837">s</span><span class="op" id="8670838">.</span><span class="ident" id="8670839">Scan</span><span class="op" id="8670843">(</span><span class="op" id="8670844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670847">for</span>&nbsp;<span class="ident" id="8670851">i</span><span class="op" id="8670852">,</span>&nbsp;<span class="ident" id="8670854">ch</span>&nbsp;<span class="op" id="8670857">:=</span>&nbsp;<span class="keyword" id="8670860">range</span>&nbsp;<span class="ident" id="8670866">str</span>&nbsp;<span class="op" id="8670870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670874">if</span>&nbsp;<span class="ident" id="8670877">tok</span>&nbsp;<span class="op" id="8670881">!=</span>&nbsp;<span class="ident" id="8670884">ch</span>&nbsp;<span class="op" id="8670887">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670892">t</span><span class="op" id="8670893">.</span><span class="ident" id="8670894">Fatalf</span><span class="op" id="8670900">(</span><span class="string" id="8670901">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8670924">,</span>&nbsp;<span class="ident" id="8670926">i</span><span class="op" id="8670927">,</span>&nbsp;<span class="ident" id="8670929">TokenString</span><span class="op" id="8670940">(</span><span class="ident" id="8670941">tok</span><span class="op" id="8670944">)</span><span class="op" id="8670945">,</span>&nbsp;<span class="ident" id="8670947">TokenString</span><span class="op" id="8670958">(</span><span class="ident" id="8670959">ch</span><span class="op" id="8670961">)</span><span class="op" id="8670962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670970">tok</span>&nbsp;<span class="op" id="8670974">=</span>&nbsp;<span class="ident" id="8670976">s</span><span class="op" id="8670977">.</span><span class="ident" id="8670978">Scan</span><span class="op" id="8670982">(</span><span class="op" id="8670983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670989">if</span>&nbsp;<span class="ident" id="8670992">tok</span>&nbsp;<span class="op" id="8670996">!=</span>&nbsp;<span class="ident" id="8670999">EOF</span>&nbsp;<span class="op" id="8671003">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671007">t</span><span class="op" id="8671008">.</span><span class="ident" id="8671009">Fatalf</span><span class="op" id="8671015">(</span><span class="string" id="8671016">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="8671036">,</span>&nbsp;<span class="ident" id="8671038">TokenString</span><span class="op" id="8671049">(</span><span class="ident" id="8671050">tok</span><span class="op" id="8671053">)</span><span class="op" id="8671054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8671060">if</span>&nbsp;<span class="ident" id="8671063">s</span><span class="op" id="8671064">.</span><span class="ident" id="8671065">ErrorCount</span>&nbsp;<span class="op" id="8671076">!=</span>&nbsp;<span class="num" id="8671079">0</span>&nbsp;<span class="op" id="8671081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671085">t</span><span class="op" id="8671086">.</span><span class="ident" id="8671087">Errorf</span><span class="op" id="8671093">(</span><span class="string" id="8671094">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8671105">,</span>&nbsp;<span class="ident" id="8671107">s</span><span class="op" id="8671108">.</span><span class="ident" id="8671109">ErrorCount</span><span class="op" id="8671119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671122">}</span><br>
<span class="lineno">330</span><span class="op" id="8671124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8671127">func</span>&nbsp;<span class="ident" id="8671132">testScanSelectedMode</span><span class="op" id="8671152">(</span><span class="ident" id="8671153">t</span>&nbsp;<span class="op" id="8671155">*</span><span class="ident" id="8671156">testing</span><span class="op" id="8671163">.</span><span class="ident" id="8671164">T</span><span class="op" id="8671165">,</span>&nbsp;<span class="ident" id="8671167">mode</span>&nbsp;<span class="builtintype" id="8671172">uint</span><span class="op" id="8671176">,</span>&nbsp;<span class="ident" id="8671178">class</span>&nbsp;<span class="builtintype" id="8671184">rune</span><span class="op" id="8671188">)</span>&nbsp;<span class="op" id="8671190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671193">src</span>&nbsp;<span class="op" id="8671197">:=</span>&nbsp;<span class="ident" id="8671200">makeSource</span><span class="op" id="8671210">(</span><span class="string" id="8671211">&#34;%s\n&#34;</span><span class="op" id="8671217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671220">s</span>&nbsp;<span class="op" id="8671222">:=</span>&nbsp;<span class="builtinfunc" id="8671225">new</span><span class="op" id="8671228">(</span><span class="ident" id="8671229">Scanner</span><span class="op" id="8671236">)</span><span class="op" id="8671237">.</span><span class="ident" id="8671238">Init</span><span class="op" id="8671242">(</span><span class="ident" id="8671243">src</span><span class="op" id="8671246">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671249">s</span><span class="op" id="8671250">.</span><span class="ident" id="8671251">Mode</span>&nbsp;<span class="op" id="8671256">=</span>&nbsp;<span class="ident" id="8671258">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671264">tok</span>&nbsp;<span class="op" id="8671268">:=</span>&nbsp;<span class="ident" id="8671271">s</span><span class="op" id="8671272">.</span><span class="ident" id="8671273">Scan</span><span class="op" id="8671277">(</span><span class="op" id="8671278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8671281">for</span>&nbsp;<span class="ident" id="8671285">tok</span>&nbsp;<span class="op" id="8671289">!=</span>&nbsp;<span class="ident" id="8671292">EOF</span>&nbsp;<span class="op" id="8671296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8671300">if</span>&nbsp;<span class="ident" id="8671303">tok</span>&nbsp;<span class="op" id="8671307">&lt;</span>&nbsp;<span class="num" id="8671309">0</span>&nbsp;<span class="op" id="8671311">&amp;&amp;</span>&nbsp;<span class="ident" id="8671314">tok</span>&nbsp;<span class="op" id="8671318">!=</span>&nbsp;<span class="ident" id="8671321">class</span>&nbsp;<span class="op" id="8671327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671332">t</span><span class="op" id="8671333">.</span><span class="ident" id="8671334">Fatalf</span><span class="op" id="8671340">(</span><span class="string" id="8671341">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8671360">,</span>&nbsp;<span class="ident" id="8671362">TokenString</span><span class="op" id="8671373">(</span><span class="ident" id="8671374">tok</span><span class="op" id="8671377">)</span><span class="op" id="8671378">,</span>&nbsp;<span class="ident" id="8671380">TokenString</span><span class="op" id="8671391">(</span><span class="ident" id="8671392">class</span><span class="op" id="8671397">)</span><span class="op" id="8671398">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671406">tok</span>&nbsp;<span class="op" id="8671410">=</span>&nbsp;<span class="ident" id="8671412">s</span><span class="op" id="8671413">.</span><span class="ident" id="8671414">Scan</span><span class="op" id="8671418">(</span><span class="op" id="8671419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8671425">if</span>&nbsp;<span class="ident" id="8671428">s</span><span class="op" id="8671429">.</span><span class="ident" id="8671430">ErrorCount</span>&nbsp;<span class="op" id="8671441">!=</span>&nbsp;<span class="num" id="8671444">0</span>&nbsp;<span class="op" id="8671446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671450">t</span><span class="op" id="8671451">.</span><span class="ident" id="8671452">Errorf</span><span class="op" id="8671458">(</span><span class="string" id="8671459">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8671470">,</span>&nbsp;<span class="ident" id="8671472">s</span><span class="op" id="8671473">.</span><span class="ident" id="8671474">ErrorCount</span><span class="op" id="8671484">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671487">}</span><br>
<span class="lineno"></span><span class="op" id="8671489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8671492">func</span>&nbsp;<span class="ident" id="8671497">TestScanSelectedMask</span><span class="op" id="8671517">(</span><span class="ident" id="8671518">t</span>&nbsp;<span class="op" id="8671520">*</span><span class="ident" id="8671521">testing</span><span class="op" id="8671528">.</span><span class="ident" id="8671529">T</span><span class="op" id="8671530">)</span>&nbsp;<span class="op" id="8671532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671535">testScanSelectedMode</span><span class="op" id="8671555">(</span><span class="ident" id="8671556">t</span><span class="op" id="8671557">,</span>&nbsp;<span class="num" id="8671559">0</span><span class="op" id="8671560">,</span>&nbsp;<span class="num" id="8671562">0</span><span class="op" id="8671563">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671566">testScanSelectedMode</span><span class="op" id="8671586">(</span><span class="ident" id="8671587">t</span><span class="op" id="8671588">,</span>&nbsp;<span class="ident" id="8671590">ScanIdents</span><span class="op" id="8671600">,</span>&nbsp;<span class="ident" id="8671602">Ident</span><span class="op" id="8671607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8671610">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8671670">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8671730">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671782">testScanSelectedMode</span><span class="op" id="8671802">(</span><span class="ident" id="8671803">t</span><span class="op" id="8671804">,</span>&nbsp;<span class="ident" id="8671806">ScanChars</span><span class="op" id="8671815">,</span>&nbsp;<span class="ident" id="8671817">Char</span><span class="op" id="8671821">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671824">testScanSelectedMode</span><span class="op" id="8671844">(</span><span class="ident" id="8671845">t</span><span class="op" id="8671846">,</span>&nbsp;<span class="ident" id="8671848">ScanStrings</span><span class="op" id="8671859">,</span>&nbsp;<span class="ident" id="8671861">String</span><span class="op" id="8671867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671870">testScanSelectedMode</span><span class="op" id="8671890">(</span><span class="ident" id="8671891">t</span><span class="op" id="8671892">,</span>&nbsp;<span class="ident" id="8671894">SkipComments</span><span class="op" id="8671906">,</span>&nbsp;<span class="num" id="8671908">0</span><span class="op" id="8671909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671912">testScanSelectedMode</span><span class="op" id="8671932">(</span><span class="ident" id="8671933">t</span><span class="op" id="8671934">,</span>&nbsp;<span class="ident" id="8671936">ScanComments</span><span class="op" id="8671948">,</span>&nbsp;<span class="ident" id="8671950">Comment</span><span class="op" id="8671957">)</span><br>
<span class="lineno"></span><span class="op" id="8671959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="8671962">func</span>&nbsp;<span class="ident" id="8671967">TestScanCustomIdent</span><span class="op" id="8671986">(</span><span class="ident" id="8671987">t</span>&nbsp;<span class="op" id="8671989">*</span><span class="ident" id="8671990">testing</span><span class="op" id="8671997">.</span><span class="ident" id="8671998">T</span><span class="op" id="8671999">)</span>&nbsp;<span class="op" id="8672001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8672004">const</span>&nbsp;<span class="ident" id="8672010">src</span>&nbsp;<span class="op" id="8672014">=</span>&nbsp;<span class="string" id="8672016">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672044">s</span>&nbsp;<span class="op" id="8672046">:=</span>&nbsp;<span class="builtinfunc" id="8672049">new</span><span class="op" id="8672052">(</span><span class="ident" id="8672053">Scanner</span><span class="op" id="8672060">)</span><span class="op" id="8672061">.</span><span class="ident" id="8672062">Init</span><span class="op" id="8672066">(</span><span class="ident" id="8672067">strings</span><span class="op" id="8672074">.</span><span class="ident" id="8672075">NewReader</span><span class="op" id="8672084">(</span><span class="ident" id="8672085">src</span><span class="op" id="8672088">)</span><span class="op" id="8672089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8672092">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8672130">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8672155">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672186">s</span><span class="op" id="8672187">.</span><span class="ident" id="8672188">IsIdentRune</span>&nbsp;<span class="op" id="8672200">=</span>&nbsp;<span class="keyword" id="8672202">func</span><span class="op" id="8672206">(</span><span class="ident" id="8672207">ch</span>&nbsp;<span class="builtintype" id="8672210">rune</span><span class="op" id="8672214">,</span>&nbsp;<span class="ident" id="8672216">i</span>&nbsp;<span class="builtintype" id="8672218">int</span><span class="op" id="8672221">)</span>&nbsp;<span class="builtintype" id="8672223">bool</span>&nbsp;<span class="op" id="8672228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8672232">return</span>&nbsp;<span class="ident" id="8672239">i</span>&nbsp;<span class="op" id="8672241">==</span>&nbsp;<span class="num" id="8672244">0</span>&nbsp;<span class="op" id="8672246">&amp;&amp;</span>&nbsp;<span class="op" id="8672249">(</span><span class="ident" id="8672250">ch</span>&nbsp;<span class="op" id="8672253">==</span>&nbsp;<span class="string" id="8672256">&#39;a&#39;</span>&nbsp;<span class="op" id="8672260">||</span>&nbsp;<span class="ident" id="8672263">ch</span>&nbsp;<span class="op" id="8672266">==</span>&nbsp;<span class="string" id="8672269">&#39;b&#39;</span><span class="op" id="8672272">)</span>&nbsp;<span class="op" id="8672274">||</span>&nbsp;<span class="num" id="8672277">0</span>&nbsp;<span class="op" id="8672279">&lt;</span>&nbsp;<span class="ident" id="8672281">i</span>&nbsp;<span class="op" id="8672283">&amp;&amp;</span>&nbsp;<span class="ident" id="8672286">i</span>&nbsp;<span class="op" id="8672288">&lt;</span>&nbsp;<span class="num" id="8672290">4</span>&nbsp;<span class="op" id="8672292">&amp;&amp;</span>&nbsp;<span class="string" id="8672295">&#39;0&#39;</span>&nbsp;<span class="op" id="8672299">&lt;=</span>&nbsp;<span class="ident" id="8672302">ch</span>&nbsp;<span class="op" id="8672305">&amp;&amp;</span>&nbsp;<span class="ident" id="8672308">ch</span>&nbsp;<span class="op" id="8672311">&lt;=</span>&nbsp;<span class="string" id="8672314">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8672319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672322">checkTok</span><span class="op" id="8672330">(</span><span class="ident" id="8672331">t</span><span class="op" id="8672332">,</span>&nbsp;<span class="ident" id="8672334">s</span><span class="op" id="8672335">,</span>&nbsp;<span class="num" id="8672337">1</span><span class="op" id="8672338">,</span>&nbsp;<span class="ident" id="8672340">s</span><span class="op" id="8672341">.</span><span class="ident" id="8672342">Scan</span><span class="op" id="8672346">(</span><span class="op" id="8672347">)</span><span class="op" id="8672348">,</span>&nbsp;<span class="string" id="8672350">&#39;f&#39;</span><span class="op" id="8672353">,</span>&nbsp;<span class="string" id="8672355">&#34;f&#34;</span><span class="op" id="8672358">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672361">checkTok</span><span class="op" id="8672369">(</span><span class="ident" id="8672370">t</span><span class="op" id="8672371">,</span>&nbsp;<span class="ident" id="8672373">s</span><span class="op" id="8672374">,</span>&nbsp;<span class="num" id="8672376">1</span><span class="op" id="8672377">,</span>&nbsp;<span class="ident" id="8672379">s</span><span class="op" id="8672380">.</span><span class="ident" id="8672381">Scan</span><span class="op" id="8672385">(</span><span class="op" id="8672386">)</span><span class="op" id="8672387">,</span>&nbsp;<span class="ident" id="8672389">Ident</span><span class="op" id="8672394">,</span>&nbsp;<span class="string" id="8672396">&#34;a&#34;</span><span class="op" id="8672399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672402">checkTok</span><span class="op" id="8672410">(</span><span class="ident" id="8672411">t</span><span class="op" id="8672412">,</span>&nbsp;<span class="ident" id="8672414">s</span><span class="op" id="8672415">,</span>&nbsp;<span class="num" id="8672417">1</span><span class="op" id="8672418">,</span>&nbsp;<span class="ident" id="8672420">s</span><span class="op" id="8672421">.</span><span class="ident" id="8672422">Scan</span><span class="op" id="8672426">(</span><span class="op" id="8672427">)</span><span class="op" id="8672428">,</span>&nbsp;<span class="ident" id="8672430">Ident</span><span class="op" id="8672435">,</span>&nbsp;<span class="string" id="8672437">&#34;a&#34;</span><span class="op" id="8672440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672443">checkTok</span><span class="op" id="8672451">(</span><span class="ident" id="8672452">t</span><span class="op" id="8672453">,</span>&nbsp;<span class="ident" id="8672455">s</span><span class="op" id="8672456">,</span>&nbsp;<span class="num" id="8672458">1</span><span class="op" id="8672459">,</span>&nbsp;<span class="ident" id="8672461">s</span><span class="op" id="8672462">.</span><span class="ident" id="8672463">Scan</span><span class="op" id="8672467">(</span><span class="op" id="8672468">)</span><span class="op" id="8672469">,</span>&nbsp;<span class="ident" id="8672471">Ident</span><span class="op" id="8672476">,</span>&nbsp;<span class="string" id="8672478">&#34;b123&#34;</span><span class="op" id="8672484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672487">checkTok</span><span class="op" id="8672495">(</span><span class="ident" id="8672496">t</span><span class="op" id="8672497">,</span>&nbsp;<span class="ident" id="8672499">s</span><span class="op" id="8672500">,</span>&nbsp;<span class="num" id="8672502">1</span><span class="op" id="8672503">,</span>&nbsp;<span class="ident" id="8672505">s</span><span class="op" id="8672506">.</span><span class="ident" id="8672507">Scan</span><span class="op" id="8672511">(</span><span class="op" id="8672512">)</span><span class="op" id="8672513">,</span>&nbsp;<span class="ident" id="8672515">Int</span><span class="op" id="8672518">,</span>&nbsp;<span class="string" id="8672520">&#34;45&#34;</span><span class="op" id="8672524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672527">checkTok</span><span class="op" id="8672535">(</span><span class="ident" id="8672536">t</span><span class="op" id="8672537">,</span>&nbsp;<span class="ident" id="8672539">s</span><span class="op" id="8672540">,</span>&nbsp;<span class="num" id="8672542">1</span><span class="op" id="8672543">,</span>&nbsp;<span class="ident" id="8672545">s</span><span class="op" id="8672546">.</span><span class="ident" id="8672547">Scan</span><span class="op" id="8672551">(</span><span class="op" id="8672552">)</span><span class="op" id="8672553">,</span>&nbsp;<span class="ident" id="8672555">Ident</span><span class="op" id="8672560">,</span>&nbsp;<span class="string" id="8672562">&#34;a12&#34;</span><span class="op" id="8672567">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672570">checkTok</span><span class="op" id="8672578">(</span><span class="ident" id="8672579">t</span><span class="op" id="8672580">,</span>&nbsp;<span class="ident" id="8672582">s</span><span class="op" id="8672583">,</span>&nbsp;<span class="num" id="8672585">1</span><span class="op" id="8672586">,</span>&nbsp;<span class="ident" id="8672588">s</span><span class="op" id="8672589">.</span><span class="ident" id="8672590">Scan</span><span class="op" id="8672594">(</span><span class="op" id="8672595">)</span><span class="op" id="8672596">,</span>&nbsp;<span class="ident" id="8672598">Ident</span><span class="op" id="8672603">,</span>&nbsp;<span class="string" id="8672605">&#34;b123&#34;</span><span class="op" id="8672611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672614">checkTok</span><span class="op" id="8672622">(</span><span class="ident" id="8672623">t</span><span class="op" id="8672624">,</span>&nbsp;<span class="ident" id="8672626">s</span><span class="op" id="8672627">,</span>&nbsp;<span class="num" id="8672629">1</span><span class="op" id="8672630">,</span>&nbsp;<span class="ident" id="8672632">s</span><span class="op" id="8672633">.</span><span class="ident" id="8672634">Scan</span><span class="op" id="8672638">(</span><span class="op" id="8672639">)</span><span class="op" id="8672640">,</span>&nbsp;<span class="ident" id="8672642">Ident</span><span class="op" id="8672647">,</span>&nbsp;<span class="string" id="8672649">&#34;a12&#34;</span><span class="op" id="8672654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672657">checkTok</span><span class="op" id="8672665">(</span><span class="ident" id="8672666">t</span><span class="op" id="8672667">,</span>&nbsp;<span class="ident" id="8672669">s</span><span class="op" id="8672670">,</span>&nbsp;<span class="num" id="8672672">1</span><span class="op" id="8672673">,</span>&nbsp;<span class="ident" id="8672675">s</span><span class="op" id="8672676">.</span><span class="ident" id="8672677">Scan</span><span class="op" id="8672681">(</span><span class="op" id="8672682">)</span><span class="op" id="8672683">,</span>&nbsp;<span class="ident" id="8672685">Int</span><span class="op" id="8672688">,</span>&nbsp;<span class="string" id="8672690">&#34;3&#34;</span><span class="op" id="8672693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672696">checkTok</span><span class="op" id="8672704">(</span><span class="ident" id="8672705">t</span><span class="op" id="8672706">,</span>&nbsp;<span class="ident" id="8672708">s</span><span class="op" id="8672709">,</span>&nbsp;<span class="num" id="8672711">1</span><span class="op" id="8672712">,</span>&nbsp;<span class="ident" id="8672714">s</span><span class="op" id="8672715">.</span><span class="ident" id="8672716">Scan</span><span class="op" id="8672720">(</span><span class="op" id="8672721">)</span><span class="op" id="8672722">,</span>&nbsp;<span class="ident" id="8672724">Ident</span><span class="op" id="8672729">,</span>&nbsp;<span class="string" id="8672731">&#34;b&#34;</span><span class="op" id="8672734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672737">checkTok</span><span class="op" id="8672745">(</span><span class="ident" id="8672746">t</span><span class="op" id="8672747">,</span>&nbsp;<span class="ident" id="8672749">s</span><span class="op" id="8672750">,</span>&nbsp;<span class="num" id="8672752">1</span><span class="op" id="8672753">,</span>&nbsp;<span class="ident" id="8672755">s</span><span class="op" id="8672756">.</span><span class="ident" id="8672757">Scan</span><span class="op" id="8672761">(</span><span class="op" id="8672762">)</span><span class="op" id="8672763">,</span>&nbsp;<span class="ident" id="8672765">EOF</span><span class="op" id="8672768">,</span>&nbsp;<span class="string" id="8672770">&#34;&#34;</span><span class="op" id="8672772">)</span><br>
<span class="lineno">380</span><span class="op" id="8672774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8672777">func</span>&nbsp;<span class="ident" id="8672782">TestScanNext</span><span class="op" id="8672794">(</span><span class="ident" id="8672795">t</span>&nbsp;<span class="op" id="8672797">*</span><span class="ident" id="8672798">testing</span><span class="op" id="8672805">.</span><span class="ident" id="8672806">T</span><span class="op" id="8672807">)</span>&nbsp;<span class="op" id="8672809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8672812">const</span>&nbsp;<span class="ident" id="8672818">BOM</span>&nbsp;<span class="op" id="8672822">=</span>&nbsp;<span class="string" id="8672824">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672834">BOMs</span>&nbsp;<span class="op" id="8672839">:=</span>&nbsp;<span class="builtintype" id="8672842">string</span><span class="op" id="8672848">(</span><span class="ident" id="8672849">BOM</span><span class="op" id="8672852">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8672855">s</span>&nbsp;<span class="op" id="8672857">:=</span>&nbsp;<span class="builtinfunc" id="8672860">new</span><span class="op" id="8672863">(</span><span class="ident" id="8672864">Scanner</span><span class="op" id="8672871">)</span><span class="op" id="8672872">.</span><span class="ident" id="8672873">Init</span><span class="op" id="8672877">(</span><span class="ident" id="8672878">strings</span><span class="op" id="8672885">.</span><span class="ident" id="8672886">NewReader</span><span class="op" id="8672895">(</span><span class="ident" id="8672896">BOMs</span>&nbsp;<span class="op" id="8672901">+</span>&nbsp;<span class="string" id="8672903">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="8672924">+</span>&nbsp;<span class="ident" id="8672926">BOMs</span>&nbsp;<span class="op" id="8672931">+</span>&nbsp;<span class="string" id="8672933">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="8672958">+</span>&nbsp;<span class="ident" id="8672960">BOMs</span>&nbsp;<span class="op" id="8672965">+</span>&nbsp;<span class="string" id="8672967">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="8672998">)</span><span class="op" id="8672999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673002">checkTok</span><span class="op" id="8673010">(</span><span class="ident" id="8673011">t</span><span class="op" id="8673012">,</span>&nbsp;<span class="ident" id="8673014">s</span><span class="op" id="8673015">,</span>&nbsp;<span class="num" id="8673017">1</span><span class="op" id="8673018">,</span>&nbsp;<span class="ident" id="8673020">s</span><span class="op" id="8673021">.</span><span class="ident" id="8673022">Scan</span><span class="op" id="8673026">(</span><span class="op" id="8673027">)</span><span class="op" id="8673028">,</span>&nbsp;<span class="ident" id="8673030">Ident</span><span class="op" id="8673035">,</span>&nbsp;<span class="string" id="8673037">&#34;if&#34;</span><span class="op" id="8673041">)</span>&nbsp;<span class="comment" id="8673043">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673072">checkTok</span><span class="op" id="8673080">(</span><span class="ident" id="8673081">t</span><span class="op" id="8673082">,</span>&nbsp;<span class="ident" id="8673084">s</span><span class="op" id="8673085">,</span>&nbsp;<span class="num" id="8673087">1</span><span class="op" id="8673088">,</span>&nbsp;<span class="ident" id="8673090">s</span><span class="op" id="8673091">.</span><span class="ident" id="8673092">Scan</span><span class="op" id="8673096">(</span><span class="op" id="8673097">)</span><span class="op" id="8673098">,</span>&nbsp;<span class="ident" id="8673100">Ident</span><span class="op" id="8673105">,</span>&nbsp;<span class="string" id="8673107">&#34;a&#34;</span><span class="op" id="8673110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673113">checkTok</span><span class="op" id="8673121">(</span><span class="ident" id="8673122">t</span><span class="op" id="8673123">,</span>&nbsp;<span class="ident" id="8673125">s</span><span class="op" id="8673126">,</span>&nbsp;<span class="num" id="8673128">1</span><span class="op" id="8673129">,</span>&nbsp;<span class="ident" id="8673131">s</span><span class="op" id="8673132">.</span><span class="ident" id="8673133">Scan</span><span class="op" id="8673137">(</span><span class="op" id="8673138">)</span><span class="op" id="8673139">,</span>&nbsp;<span class="string" id="8673141">&#39;=&#39;</span><span class="op" id="8673144">,</span>&nbsp;<span class="string" id="8673146">&#34;=&#34;</span><span class="op" id="8673149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673152">checkTok</span><span class="op" id="8673160">(</span><span class="ident" id="8673161">t</span><span class="op" id="8673162">,</span>&nbsp;<span class="ident" id="8673164">s</span><span class="op" id="8673165">,</span>&nbsp;<span class="num" id="8673167">0</span><span class="op" id="8673168">,</span>&nbsp;<span class="ident" id="8673170">s</span><span class="op" id="8673171">.</span><span class="ident" id="8673172">Next</span><span class="op" id="8673176">(</span><span class="op" id="8673177">)</span><span class="op" id="8673178">,</span>&nbsp;<span class="string" id="8673180">&#39;=&#39;</span><span class="op" id="8673183">,</span>&nbsp;<span class="string" id="8673185">&#34;&#34;</span><span class="op" id="8673187">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673190">checkTok</span><span class="op" id="8673198">(</span><span class="ident" id="8673199">t</span><span class="op" id="8673200">,</span>&nbsp;<span class="ident" id="8673202">s</span><span class="op" id="8673203">,</span>&nbsp;<span class="num" id="8673205">0</span><span class="op" id="8673206">,</span>&nbsp;<span class="ident" id="8673208">s</span><span class="op" id="8673209">.</span><span class="ident" id="8673210">Next</span><span class="op" id="8673214">(</span><span class="op" id="8673215">)</span><span class="op" id="8673216">,</span>&nbsp;<span class="string" id="8673218">&#39;&nbsp;&#39;</span><span class="op" id="8673221">,</span>&nbsp;<span class="string" id="8673223">&#34;&#34;</span><span class="op" id="8673225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673228">checkTok</span><span class="op" id="8673236">(</span><span class="ident" id="8673237">t</span><span class="op" id="8673238">,</span>&nbsp;<span class="ident" id="8673240">s</span><span class="op" id="8673241">,</span>&nbsp;<span class="num" id="8673243">0</span><span class="op" id="8673244">,</span>&nbsp;<span class="ident" id="8673246">s</span><span class="op" id="8673247">.</span><span class="ident" id="8673248">Next</span><span class="op" id="8673252">(</span><span class="op" id="8673253">)</span><span class="op" id="8673254">,</span>&nbsp;<span class="string" id="8673256">&#39;b&#39;</span><span class="op" id="8673259">,</span>&nbsp;<span class="string" id="8673261">&#34;&#34;</span><span class="op" id="8673263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673266">checkTok</span><span class="op" id="8673274">(</span><span class="ident" id="8673275">t</span><span class="op" id="8673276">,</span>&nbsp;<span class="ident" id="8673278">s</span><span class="op" id="8673279">,</span>&nbsp;<span class="num" id="8673281">1</span><span class="op" id="8673282">,</span>&nbsp;<span class="ident" id="8673284">s</span><span class="op" id="8673285">.</span><span class="ident" id="8673286">Scan</span><span class="op" id="8673290">(</span><span class="op" id="8673291">)</span><span class="op" id="8673292">,</span>&nbsp;<span class="ident" id="8673294">Ident</span><span class="op" id="8673299">,</span>&nbsp;<span class="string" id="8673301">&#34;cd&#34;</span><span class="op" id="8673305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673308">checkTok</span><span class="op" id="8673316">(</span><span class="ident" id="8673317">t</span><span class="op" id="8673318">,</span>&nbsp;<span class="ident" id="8673320">s</span><span class="op" id="8673321">,</span>&nbsp;<span class="num" id="8673323">1</span><span class="op" id="8673324">,</span>&nbsp;<span class="ident" id="8673326">s</span><span class="op" id="8673327">.</span><span class="ident" id="8673328">Scan</span><span class="op" id="8673332">(</span><span class="op" id="8673333">)</span><span class="op" id="8673334">,</span>&nbsp;<span class="string" id="8673336">&#39;{&#39;</span><span class="op" id="8673339">,</span>&nbsp;<span class="string" id="8673341">&#34;{&#34;</span><span class="op" id="8673344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673347">checkTok</span><span class="op" id="8673355">(</span><span class="ident" id="8673356">t</span><span class="op" id="8673357">,</span>&nbsp;<span class="ident" id="8673359">s</span><span class="op" id="8673360">,</span>&nbsp;<span class="num" id="8673362">2</span><span class="op" id="8673363">,</span>&nbsp;<span class="ident" id="8673365">s</span><span class="op" id="8673366">.</span><span class="ident" id="8673367">Scan</span><span class="op" id="8673371">(</span><span class="op" id="8673372">)</span><span class="op" id="8673373">,</span>&nbsp;<span class="ident" id="8673375">Ident</span><span class="op" id="8673380">,</span>&nbsp;<span class="string" id="8673382">&#34;a&#34;</span><span class="op" id="8673385">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673388">checkTok</span><span class="op" id="8673396">(</span><span class="ident" id="8673397">t</span><span class="op" id="8673398">,</span>&nbsp;<span class="ident" id="8673400">s</span><span class="op" id="8673401">,</span>&nbsp;<span class="num" id="8673403">2</span><span class="op" id="8673404">,</span>&nbsp;<span class="ident" id="8673406">s</span><span class="op" id="8673407">.</span><span class="ident" id="8673408">Scan</span><span class="op" id="8673412">(</span><span class="op" id="8673413">)</span><span class="op" id="8673414">,</span>&nbsp;<span class="string" id="8673416">&#39;+&#39;</span><span class="op" id="8673419">,</span>&nbsp;<span class="string" id="8673421">&#34;+&#34;</span><span class="op" id="8673424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673427">checkTok</span><span class="op" id="8673435">(</span><span class="ident" id="8673436">t</span><span class="op" id="8673437">,</span>&nbsp;<span class="ident" id="8673439">s</span><span class="op" id="8673440">,</span>&nbsp;<span class="num" id="8673442">0</span><span class="op" id="8673443">,</span>&nbsp;<span class="ident" id="8673445">s</span><span class="op" id="8673446">.</span><span class="ident" id="8673447">Next</span><span class="op" id="8673451">(</span><span class="op" id="8673452">)</span><span class="op" id="8673453">,</span>&nbsp;<span class="string" id="8673455">&#39;=&#39;</span><span class="op" id="8673458">,</span>&nbsp;<span class="string" id="8673460">&#34;&#34;</span><span class="op" id="8673462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673465">checkTok</span><span class="op" id="8673473">(</span><span class="ident" id="8673474">t</span><span class="op" id="8673475">,</span>&nbsp;<span class="ident" id="8673477">s</span><span class="op" id="8673478">,</span>&nbsp;<span class="num" id="8673480">2</span><span class="op" id="8673481">,</span>&nbsp;<span class="ident" id="8673483">s</span><span class="op" id="8673484">.</span><span class="ident" id="8673485">Scan</span><span class="op" id="8673489">(</span><span class="op" id="8673490">)</span><span class="op" id="8673491">,</span>&nbsp;<span class="ident" id="8673493">Ident</span><span class="op" id="8673498">,</span>&nbsp;<span class="string" id="8673500">&#34;c&#34;</span><span class="op" id="8673503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673506">checkTok</span><span class="op" id="8673514">(</span><span class="ident" id="8673515">t</span><span class="op" id="8673516">,</span>&nbsp;<span class="ident" id="8673518">s</span><span class="op" id="8673519">,</span>&nbsp;<span class="num" id="8673521">3</span><span class="op" id="8673522">,</span>&nbsp;<span class="ident" id="8673524">s</span><span class="op" id="8673525">.</span><span class="ident" id="8673526">Scan</span><span class="op" id="8673530">(</span><span class="op" id="8673531">)</span><span class="op" id="8673532">,</span>&nbsp;<span class="string" id="8673534">&#39;}&#39;</span><span class="op" id="8673537">,</span>&nbsp;<span class="string" id="8673539">&#34;}&#34;</span><span class="op" id="8673542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673545">checkTok</span><span class="op" id="8673553">(</span><span class="ident" id="8673554">t</span><span class="op" id="8673555">,</span>&nbsp;<span class="ident" id="8673557">s</span><span class="op" id="8673558">,</span>&nbsp;<span class="num" id="8673560">3</span><span class="op" id="8673561">,</span>&nbsp;<span class="ident" id="8673563">s</span><span class="op" id="8673564">.</span><span class="ident" id="8673565">Scan</span><span class="op" id="8673569">(</span><span class="op" id="8673570">)</span><span class="op" id="8673571">,</span>&nbsp;<span class="ident" id="8673573">BOM</span><span class="op" id="8673576">,</span>&nbsp;<span class="ident" id="8673578">BOMs</span><span class="op" id="8673582">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673585">checkTok</span><span class="op" id="8673593">(</span><span class="ident" id="8673594">t</span><span class="op" id="8673595">,</span>&nbsp;<span class="ident" id="8673597">s</span><span class="op" id="8673598">,</span>&nbsp;<span class="num" id="8673600">3</span><span class="op" id="8673601">,</span>&nbsp;<span class="ident" id="8673603">s</span><span class="op" id="8673604">.</span><span class="ident" id="8673605">Scan</span><span class="op" id="8673609">(</span><span class="op" id="8673610">)</span><span class="op" id="8673611">,</span>&nbsp;<span class="op" id="8673613">-</span><span class="num" id="8673614">1</span><span class="op" id="8673615">,</span>&nbsp;<span class="string" id="8673617">&#34;&#34;</span><span class="op" id="8673619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8673622">if</span>&nbsp;<span class="ident" id="8673625">s</span><span class="op" id="8673626">.</span><span class="ident" id="8673627">ErrorCount</span>&nbsp;<span class="op" id="8673638">!=</span>&nbsp;<span class="num" id="8673641">0</span>&nbsp;<span class="op" id="8673643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673647">t</span><span class="op" id="8673648">.</span><span class="ident" id="8673649">Errorf</span><span class="op" id="8673655">(</span><span class="string" id="8673656">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8673667">,</span>&nbsp;<span class="ident" id="8673669">s</span><span class="op" id="8673670">.</span><span class="ident" id="8673671">ErrorCount</span><span class="op" id="8673681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673684">}</span><br>
<span class="lineno"></span><span class="op" id="8673686">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="8673689">func</span>&nbsp;<span class="ident" id="8673694">TestScanWhitespace</span><span class="op" id="8673712">(</span><span class="ident" id="8673713">t</span>&nbsp;<span class="op" id="8673715">*</span><span class="ident" id="8673716">testing</span><span class="op" id="8673723">.</span><span class="ident" id="8673724">T</span><span class="op" id="8673725">)</span>&nbsp;<span class="op" id="8673727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8673730">var</span>&nbsp;<span class="ident" id="8673734">buf</span>&nbsp;<span class="ident" id="8673738">bytes</span><span class="op" id="8673743">.</span><span class="ident" id="8673744">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8673752">var</span>&nbsp;<span class="ident" id="8673756">ws</span>&nbsp;<span class="ident" id="8673759">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8673767">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8673812">for</span>&nbsp;<span class="ident" id="8673816">ch</span>&nbsp;<span class="op" id="8673819">:=</span>&nbsp;<span class="builtintype" id="8673822">byte</span><span class="op" id="8673826">(</span><span class="num" id="8673827">1</span><span class="op" id="8673828">)</span><span class="op" id="8673829">;</span>&nbsp;<span class="ident" id="8673831">ch</span>&nbsp;<span class="op" id="8673834">&lt;</span>&nbsp;<span class="string" id="8673836">&#39;&nbsp;&#39;</span><span class="op" id="8673839">;</span>&nbsp;<span class="ident" id="8673841">ch</span><span class="op" id="8673843">++</span>&nbsp;<span class="op" id="8673846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673850">buf</span><span class="op" id="8673853">.</span><span class="ident" id="8673854">WriteByte</span><span class="op" id="8673863">(</span><span class="ident" id="8673864">ch</span><span class="op" id="8673866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673870">ws</span>&nbsp;<span class="op" id="8673873">|=</span>&nbsp;<span class="num" id="8673876">1</span>&nbsp;<span class="op" id="8673878">&lt;&lt;</span>&nbsp;<span class="ident" id="8673881">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8673888">const</span>&nbsp;<span class="ident" id="8673894">orig</span>&nbsp;<span class="op" id="8673899">=</span>&nbsp;<span class="string" id="8673901">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673906">buf</span><span class="op" id="8673909">.</span><span class="ident" id="8673910">WriteByte</span><span class="op" id="8673919">(</span><span class="ident" id="8673920">orig</span><span class="op" id="8673924">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673928">s</span>&nbsp;<span class="op" id="8673930">:=</span>&nbsp;<span class="builtinfunc" id="8673933">new</span><span class="op" id="8673936">(</span><span class="ident" id="8673937">Scanner</span><span class="op" id="8673944">)</span><span class="op" id="8673945">.</span><span class="ident" id="8673946">Init</span><span class="op" id="8673950">(</span><span class="op" id="8673951">&amp;</span><span class="ident" id="8673952">buf</span><span class="op" id="8673955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673958">s</span><span class="op" id="8673959">.</span><span class="ident" id="8673960">Mode</span>&nbsp;<span class="op" id="8673965">=</span>&nbsp;<span class="num" id="8673967">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673970">s</span><span class="op" id="8673971">.</span><span class="ident" id="8673972">Whitespace</span>&nbsp;<span class="op" id="8673983">=</span>&nbsp;<span class="ident" id="8673985">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8673989">tok</span>&nbsp;<span class="op" id="8673993">:=</span>&nbsp;<span class="ident" id="8673996">s</span><span class="op" id="8673997">.</span><span class="ident" id="8673998">Scan</span><span class="op" id="8674002">(</span><span class="op" id="8674003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8674006">if</span>&nbsp;<span class="ident" id="8674009">tok</span>&nbsp;<span class="op" id="8674013">!=</span>&nbsp;<span class="ident" id="8674016">orig</span>&nbsp;<span class="op" id="8674021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674025">t</span><span class="op" id="8674026">.</span><span class="ident" id="8674027">Errorf</span><span class="op" id="8674033">(</span><span class="string" id="8674034">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8674053">,</span>&nbsp;<span class="ident" id="8674055">TokenString</span><span class="op" id="8674066">(</span><span class="ident" id="8674067">tok</span><span class="op" id="8674070">)</span><span class="op" id="8674071">,</span>&nbsp;<span class="ident" id="8674073">TokenString</span><span class="op" id="8674084">(</span><span class="ident" id="8674085">orig</span><span class="op" id="8674089">)</span><span class="op" id="8674090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674093">}</span><br>
<span class="lineno"></span><span class="op" id="8674095">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="8674098">func</span>&nbsp;<span class="ident" id="8674103">testError</span><span class="op" id="8674112">(</span><span class="ident" id="8674113">t</span>&nbsp;<span class="op" id="8674115">*</span><span class="ident" id="8674116">testing</span><span class="op" id="8674123">.</span><span class="ident" id="8674124">T</span><span class="op" id="8674125">,</span>&nbsp;<span class="ident" id="8674127">src</span><span class="op" id="8674130">,</span>&nbsp;<span class="ident" id="8674132">pos</span><span class="op" id="8674135">,</span>&nbsp;<span class="ident" id="8674137">msg</span>&nbsp;<span class="builtintype" id="8674141">string</span><span class="op" id="8674147">,</span>&nbsp;<span class="ident" id="8674149">tok</span>&nbsp;<span class="builtintype" id="8674153">rune</span><span class="op" id="8674157">)</span>&nbsp;<span class="op" id="8674159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674162">s</span>&nbsp;<span class="op" id="8674164">:=</span>&nbsp;<span class="builtinfunc" id="8674167">new</span><span class="op" id="8674170">(</span><span class="ident" id="8674171">Scanner</span><span class="op" id="8674178">)</span><span class="op" id="8674179">.</span><span class="ident" id="8674180">Init</span><span class="op" id="8674184">(</span><span class="ident" id="8674185">strings</span><span class="op" id="8674192">.</span><span class="ident" id="8674193">NewReader</span><span class="op" id="8674202">(</span><span class="ident" id="8674203">src</span><span class="op" id="8674206">)</span><span class="op" id="8674207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674210">errorCalled</span>&nbsp;<span class="op" id="8674222">:=</span>&nbsp;<span class="ident" id="8674225">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674232">s</span><span class="op" id="8674233">.</span><span class="ident" id="8674234">Error</span>&nbsp;<span class="op" id="8674240">=</span>&nbsp;<span class="keyword" id="8674242">func</span><span class="op" id="8674246">(</span><span class="ident" id="8674247">s</span>&nbsp;<span class="op" id="8674249">*</span><span class="ident" id="8674250">Scanner</span><span class="op" id="8674257">,</span>&nbsp;<span class="ident" id="8674259">m</span>&nbsp;<span class="builtintype" id="8674261">string</span><span class="op" id="8674267">)</span>&nbsp;<span class="op" id="8674269">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8674273">if</span>&nbsp;<span class="op" id="8674276">!</span><span class="ident" id="8674277">errorCalled</span>&nbsp;<span class="op" id="8674289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8674294">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8674325">if</span>&nbsp;<span class="ident" id="8674328">p</span>&nbsp;<span class="op" id="8674330">:=</span>&nbsp;<span class="ident" id="8674333">s</span><span class="op" id="8674334">.</span><span class="ident" id="8674335">Pos</span><span class="op" id="8674338">(</span><span class="op" id="8674339">)</span><span class="op" id="8674340">.</span><span class="ident" id="8674341">String</span><span class="op" id="8674347">(</span><span class="op" id="8674348">)</span><span class="op" id="8674349">;</span>&nbsp;<span class="ident" id="8674351">p</span>&nbsp;<span class="op" id="8674353">!=</span>&nbsp;<span class="ident" id="8674356">pos</span>&nbsp;<span class="op" id="8674360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674366">t</span><span class="op" id="8674367">.</span><span class="ident" id="8674368">Errorf</span><span class="op" id="8674374">(</span><span class="string" id="8674375">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8674401">,</span>&nbsp;<span class="ident" id="8674403">p</span><span class="op" id="8674404">,</span>&nbsp;<span class="ident" id="8674406">pos</span><span class="op" id="8674409">,</span>&nbsp;<span class="ident" id="8674411">src</span><span class="op" id="8674414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674419">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8674424">if</span>&nbsp;<span class="ident" id="8674427">m</span>&nbsp;<span class="op" id="8674429">!=</span>&nbsp;<span class="ident" id="8674432">msg</span>&nbsp;<span class="op" id="8674436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674442">t</span><span class="op" id="8674443">.</span><span class="ident" id="8674444">Errorf</span><span class="op" id="8674450">(</span><span class="string" id="8674451">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8674477">,</span>&nbsp;<span class="ident" id="8674479">m</span><span class="op" id="8674480">,</span>&nbsp;<span class="ident" id="8674482">msg</span><span class="op" id="8674485">,</span>&nbsp;<span class="ident" id="8674487">src</span><span class="op" id="8674490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674500">errorCalled</span>&nbsp;<span class="op" id="8674512">=</span>&nbsp;<span class="ident" id="8674514">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674521">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674527">tk</span>&nbsp;<span class="op" id="8674530">:=</span>&nbsp;<span class="ident" id="8674533">s</span><span class="op" id="8674534">.</span><span class="ident" id="8674535">Scan</span><span class="op" id="8674539">(</span><span class="op" id="8674540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8674543">if</span>&nbsp;<span class="ident" id="8674546">tk</span>&nbsp;<span class="op" id="8674549">!=</span>&nbsp;<span class="ident" id="8674552">tok</span>&nbsp;<span class="op" id="8674556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674560">t</span><span class="op" id="8674561">.</span><span class="ident" id="8674562">Errorf</span><span class="op" id="8674568">(</span><span class="string" id="8674569">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8674595">,</span>&nbsp;<span class="ident" id="8674597">TokenString</span><span class="op" id="8674608">(</span><span class="ident" id="8674609">tk</span><span class="op" id="8674611">)</span><span class="op" id="8674612">,</span>&nbsp;<span class="ident" id="8674614">TokenString</span><span class="op" id="8674625">(</span><span class="ident" id="8674626">tok</span><span class="op" id="8674629">)</span><span class="op" id="8674630">,</span>&nbsp;<span class="ident" id="8674632">src</span><span class="op" id="8674635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674638">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8674641">if</span>&nbsp;<span class="op" id="8674644">!</span><span class="ident" id="8674645">errorCalled</span>&nbsp;<span class="op" id="8674657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674661">t</span><span class="op" id="8674662">.</span><span class="ident" id="8674663">Errorf</span><span class="op" id="8674669">(</span><span class="string" id="8674670">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8674703">,</span>&nbsp;<span class="ident" id="8674705">src</span><span class="op" id="8674708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8674714">if</span>&nbsp;<span class="ident" id="8674717">s</span><span class="op" id="8674718">.</span><span class="ident" id="8674719">ErrorCount</span>&nbsp;<span class="op" id="8674730">==</span>&nbsp;<span class="num" id="8674733">0</span>&nbsp;<span class="op" id="8674735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674739">t</span><span class="op" id="8674740">.</span><span class="ident" id="8674741">Errorf</span><span class="op" id="8674747">(</span><span class="string" id="8674748">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8674777">,</span>&nbsp;<span class="ident" id="8674779">s</span><span class="op" id="8674780">.</span><span class="ident" id="8674781">ErrorCount</span><span class="op" id="8674791">,</span>&nbsp;<span class="ident" id="8674793">src</span><span class="op" id="8674796">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674799">}</span><br>
<span class="lineno"></span><span class="op" id="8674801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8674804">func</span>&nbsp;<span class="ident" id="8674809">TestError</span><span class="op" id="8674818">(</span><span class="ident" id="8674819">t</span>&nbsp;<span class="op" id="8674821">*</span><span class="ident" id="8674822">testing</span><span class="op" id="8674829">.</span><span class="ident" id="8674830">T</span><span class="op" id="8674831">)</span>&nbsp;<span class="op" id="8674833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674836">testError</span><span class="op" id="8674845">(</span><span class="ident" id="8674846">t</span><span class="op" id="8674847">,</span>&nbsp;<span class="string" id="8674849">&#34;\x00&#34;</span><span class="op" id="8674855">,</span>&nbsp;<span class="string" id="8674857">&#34;1:1&#34;</span><span class="op" id="8674862">,</span>&nbsp;<span class="string" id="8674864">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8674887">,</span>&nbsp;<span class="num" id="8674889">0</span><span class="op" id="8674890">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674893">testError</span><span class="op" id="8674902">(</span><span class="ident" id="8674903">t</span><span class="op" id="8674904">,</span>&nbsp;<span class="string" id="8674906">&#34;\x80&#34;</span><span class="op" id="8674912">,</span>&nbsp;<span class="string" id="8674914">&#34;1:1&#34;</span><span class="op" id="8674919">,</span>&nbsp;<span class="string" id="8674921">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8674945">,</span>&nbsp;<span class="ident" id="8674947">utf8</span><span class="op" id="8674951">.</span><span class="ident" id="8674952">RuneError</span><span class="op" id="8674961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8674964">testError</span><span class="op" id="8674973">(</span><span class="ident" id="8674974">t</span><span class="op" id="8674975">,</span>&nbsp;<span class="string" id="8674977">&#34;\xff&#34;</span><span class="op" id="8674983">,</span>&nbsp;<span class="string" id="8674985">&#34;1:1&#34;</span><span class="op" id="8674990">,</span>&nbsp;<span class="string" id="8674992">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8675016">,</span>&nbsp;<span class="ident" id="8675018">utf8</span><span class="op" id="8675022">.</span><span class="ident" id="8675023">RuneError</span><span class="op" id="8675032">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675036">testError</span><span class="op" id="8675045">(</span><span class="ident" id="8675046">t</span><span class="op" id="8675047">,</span>&nbsp;<span class="string" id="8675049">&#34;a\x00&#34;</span><span class="op" id="8675056">,</span>&nbsp;<span class="string" id="8675058">&#34;1:2&#34;</span><span class="op" id="8675063">,</span>&nbsp;<span class="string" id="8675065">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8675088">,</span>&nbsp;<span class="ident" id="8675090">Ident</span><span class="op" id="8675095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675098">testError</span><span class="op" id="8675107">(</span><span class="ident" id="8675108">t</span><span class="op" id="8675109">,</span>&nbsp;<span class="string" id="8675111">&#34;ab\x80&#34;</span><span class="op" id="8675119">,</span>&nbsp;<span class="string" id="8675121">&#34;1:3&#34;</span><span class="op" id="8675126">,</span>&nbsp;<span class="string" id="8675128">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8675152">,</span>&nbsp;<span class="ident" id="8675154">Ident</span><span class="op" id="8675159">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675162">testError</span><span class="op" id="8675171">(</span><span class="ident" id="8675172">t</span><span class="op" id="8675173">,</span>&nbsp;<span class="string" id="8675175">&#34;abc\xff&#34;</span><span class="op" id="8675184">,</span>&nbsp;<span class="string" id="8675186">&#34;1:4&#34;</span><span class="op" id="8675191">,</span>&nbsp;<span class="string" id="8675193">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8675217">,</span>&nbsp;<span class="ident" id="8675219">Ident</span><span class="op" id="8675224">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675228">testError</span><span class="op" id="8675237">(</span><span class="ident" id="8675238">t</span><span class="op" id="8675239">,</span>&nbsp;<span class="string" id="8675241">`&#34;a`</span><span class="op" id="8675245">+</span><span class="string" id="8675246">&#34;\x00&#34;</span><span class="op" id="8675252">,</span>&nbsp;<span class="string" id="8675254">&#34;1:3&#34;</span><span class="op" id="8675259">,</span>&nbsp;<span class="string" id="8675261">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8675284">,</span>&nbsp;<span class="ident" id="8675286">String</span><span class="op" id="8675292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675295">testError</span><span class="op" id="8675304">(</span><span class="ident" id="8675305">t</span><span class="op" id="8675306">,</span>&nbsp;<span class="string" id="8675308">`&#34;ab`</span><span class="op" id="8675313">+</span><span class="string" id="8675314">&#34;\x80&#34;</span><span class="op" id="8675320">,</span>&nbsp;<span class="string" id="8675322">&#34;1:4&#34;</span><span class="op" id="8675327">,</span>&nbsp;<span class="string" id="8675329">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8675353">,</span>&nbsp;<span class="ident" id="8675355">String</span><span class="op" id="8675361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675364">testError</span><span class="op" id="8675373">(</span><span class="ident" id="8675374">t</span><span class="op" id="8675375">,</span>&nbsp;<span class="string" id="8675377">`&#34;abc`</span><span class="op" id="8675383">+</span><span class="string" id="8675384">&#34;\xff&#34;</span><span class="op" id="8675390">,</span>&nbsp;<span class="string" id="8675392">&#34;1:5&#34;</span><span class="op" id="8675397">,</span>&nbsp;<span class="string" id="8675399">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8675423">,</span>&nbsp;<span class="ident" id="8675425">String</span><span class="op" id="8675431">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675435">testError</span><span class="op" id="8675444">(</span><span class="ident" id="8675445">t</span><span class="op" id="8675446">,</span>&nbsp;<span class="string" id="8675448">&#34;`a&#34;</span><span class="op" id="8675452">+</span><span class="string" id="8675453">&#34;\x00&#34;</span><span class="op" id="8675459">,</span>&nbsp;<span class="string" id="8675461">&#34;1:3&#34;</span><span class="op" id="8675466">,</span>&nbsp;<span class="string" id="8675468">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8675491">,</span>&nbsp;<span class="ident" id="8675493">String</span><span class="op" id="8675499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675502">testError</span><span class="op" id="8675511">(</span><span class="ident" id="8675512">t</span><span class="op" id="8675513">,</span>&nbsp;<span class="string" id="8675515">&#34;`ab&#34;</span><span class="op" id="8675520">+</span><span class="string" id="8675521">&#34;\x80&#34;</span><span class="op" id="8675527">,</span>&nbsp;<span class="string" id="8675529">&#34;1:4&#34;</span><span class="op" id="8675534">,</span>&nbsp;<span class="string" id="8675536">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8675560">,</span>&nbsp;<span class="ident" id="8675562">String</span><span class="op" id="8675568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675571">testError</span><span class="op" id="8675580">(</span><span class="ident" id="8675581">t</span><span class="op" id="8675582">,</span>&nbsp;<span class="string" id="8675584">&#34;`abc&#34;</span><span class="op" id="8675590">+</span><span class="string" id="8675591">&#34;\xff&#34;</span><span class="op" id="8675597">,</span>&nbsp;<span class="string" id="8675599">&#34;1:5&#34;</span><span class="op" id="8675604">,</span>&nbsp;<span class="string" id="8675606">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8675630">,</span>&nbsp;<span class="ident" id="8675632">String</span><span class="op" id="8675638">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675642">testError</span><span class="op" id="8675651">(</span><span class="ident" id="8675652">t</span><span class="op" id="8675653">,</span>&nbsp;<span class="string" id="8675655">`&#39;\&#34;&#39;`</span><span class="op" id="8675661">,</span>&nbsp;<span class="string" id="8675663">&#34;1:3&#34;</span><span class="op" id="8675668">,</span>&nbsp;<span class="string" id="8675670">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="8675691">,</span>&nbsp;<span class="ident" id="8675693">Char</span><span class="op" id="8675697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675700">testError</span><span class="op" id="8675709">(</span><span class="ident" id="8675710">t</span><span class="op" id="8675711">,</span>&nbsp;<span class="string" id="8675713">`&#34;\&#39;&#34;`</span><span class="op" id="8675719">,</span>&nbsp;<span class="string" id="8675721">&#34;1:3&#34;</span><span class="op" id="8675726">,</span>&nbsp;<span class="string" id="8675728">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="8675749">,</span>&nbsp;<span class="ident" id="8675751">String</span><span class="op" id="8675757">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675761">testError</span><span class="op" id="8675770">(</span><span class="ident" id="8675771">t</span><span class="op" id="8675772">,</span>&nbsp;<span class="string" id="8675774">`01238`</span><span class="op" id="8675781">,</span>&nbsp;<span class="string" id="8675783">&#34;1:6&#34;</span><span class="op" id="8675788">,</span>&nbsp;<span class="string" id="8675790">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8675812">,</span>&nbsp;<span class="ident" id="8675814">Int</span><span class="op" id="8675817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675820">testError</span><span class="op" id="8675829">(</span><span class="ident" id="8675830">t</span><span class="op" id="8675831">,</span>&nbsp;<span class="string" id="8675833">`01238123`</span><span class="op" id="8675843">,</span>&nbsp;<span class="string" id="8675845">&#34;1:9&#34;</span><span class="op" id="8675850">,</span>&nbsp;<span class="string" id="8675852">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8675874">,</span>&nbsp;<span class="ident" id="8675876">Int</span><span class="op" id="8675879">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675882">testError</span><span class="op" id="8675891">(</span><span class="ident" id="8675892">t</span><span class="op" id="8675893">,</span>&nbsp;<span class="string" id="8675895">`0x`</span><span class="op" id="8675899">,</span>&nbsp;<span class="string" id="8675901">&#34;1:3&#34;</span><span class="op" id="8675906">,</span>&nbsp;<span class="string" id="8675908">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8675936">,</span>&nbsp;<span class="ident" id="8675938">Int</span><span class="op" id="8675941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8675944">testError</span><span class="op" id="8675953">(</span><span class="ident" id="8675954">t</span><span class="op" id="8675955">,</span>&nbsp;<span class="string" id="8675957">`0xg`</span><span class="op" id="8675962">,</span>&nbsp;<span class="string" id="8675964">&#34;1:3&#34;</span><span class="op" id="8675969">,</span>&nbsp;<span class="string" id="8675971">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8675999">,</span>&nbsp;<span class="ident" id="8676001">Int</span><span class="op" id="8676004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676007">testError</span><span class="op" id="8676016">(</span><span class="ident" id="8676017">t</span><span class="op" id="8676018">,</span>&nbsp;<span class="string" id="8676020">`&#39;aa&#39;`</span><span class="op" id="8676026">,</span>&nbsp;<span class="string" id="8676028">&#34;1:4&#34;</span><span class="op" id="8676033">,</span>&nbsp;<span class="string" id="8676035">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="8676057">,</span>&nbsp;<span class="ident" id="8676059">Char</span><span class="op" id="8676063">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676067">testError</span><span class="op" id="8676076">(</span><span class="ident" id="8676077">t</span><span class="op" id="8676078">,</span>&nbsp;<span class="string" id="8676080">`&#39;`</span><span class="op" id="8676083">,</span>&nbsp;<span class="string" id="8676085">&#34;1:2&#34;</span><span class="op" id="8676090">,</span>&nbsp;<span class="string" id="8676092">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8676116">,</span>&nbsp;<span class="ident" id="8676118">Char</span><span class="op" id="8676122">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676125">testError</span><span class="op" id="8676134">(</span><span class="ident" id="8676135">t</span><span class="op" id="8676136">,</span>&nbsp;<span class="string" id="8676138">`&#39;`</span><span class="op" id="8676141">+</span><span class="string" id="8676142">&#34;\n&#34;</span><span class="op" id="8676146">,</span>&nbsp;<span class="string" id="8676148">&#34;1:2&#34;</span><span class="op" id="8676153">,</span>&nbsp;<span class="string" id="8676155">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8676179">,</span>&nbsp;<span class="ident" id="8676181">Char</span><span class="op" id="8676185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676188">testError</span><span class="op" id="8676197">(</span><span class="ident" id="8676198">t</span><span class="op" id="8676199">,</span>&nbsp;<span class="string" id="8676201">`&#34;abc`</span><span class="op" id="8676207">,</span>&nbsp;<span class="string" id="8676209">&#34;1:5&#34;</span><span class="op" id="8676214">,</span>&nbsp;<span class="string" id="8676216">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8676240">,</span>&nbsp;<span class="ident" id="8676242">String</span><span class="op" id="8676248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676251">testError</span><span class="op" id="8676260">(</span><span class="ident" id="8676261">t</span><span class="op" id="8676262">,</span>&nbsp;<span class="string" id="8676264">`&#34;abc`</span><span class="op" id="8676270">+</span><span class="string" id="8676271">&#34;\n&#34;</span><span class="op" id="8676275">,</span>&nbsp;<span class="string" id="8676277">&#34;1:5&#34;</span><span class="op" id="8676282">,</span>&nbsp;<span class="string" id="8676284">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8676308">,</span>&nbsp;<span class="ident" id="8676310">String</span><span class="op" id="8676316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676319">testError</span><span class="op" id="8676328">(</span><span class="ident" id="8676329">t</span><span class="op" id="8676330">,</span>&nbsp;<span class="string" id="8676332">&#34;`abc\n&#34;</span><span class="op" id="8676340">,</span>&nbsp;<span class="string" id="8676342">&#34;2:1&#34;</span><span class="op" id="8676347">,</span>&nbsp;<span class="string" id="8676349">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8676373">,</span>&nbsp;<span class="ident" id="8676375">String</span><span class="op" id="8676381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676384">testError</span><span class="op" id="8676393">(</span><span class="ident" id="8676394">t</span><span class="op" id="8676395">,</span>&nbsp;<span class="string" id="8676397">`/*/`</span><span class="op" id="8676402">,</span>&nbsp;<span class="string" id="8676404">&#34;1:4&#34;</span><span class="op" id="8676409">,</span>&nbsp;<span class="string" id="8676411">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8676435">,</span>&nbsp;<span class="ident" id="8676437">EOF</span><span class="op" id="8676440">)</span><br>
<span class="lineno">485</span><span class="op" id="8676442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8676445">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="8676503">type</span>&nbsp;<span class="ident" id="8676508">errReader</span>&nbsp;<span class="keyword" id="8676518">struct</span><span class="op" id="8676524">{</span><span class="op" id="8676525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="8676528">func</span>&nbsp;<span class="op" id="8676533">(</span><span class="ident" id="8676534">errReader</span><span class="op" id="8676543">)</span>&nbsp;<span class="ident" id="8676545">Read</span><span class="op" id="8676549">(</span><span class="ident" id="8676550">b</span>&nbsp;<span class="op" id="8676552">[</span><span class="op" id="8676553">]</span><span class="builtintype" id="8676554">byte</span><span class="op" id="8676558">)</span>&nbsp;<span class="op" id="8676560">(</span><span class="builtintype" id="8676561">int</span><span class="op" id="8676564">,</span>&nbsp;<span class="builtintype" id="8676566">error</span><span class="op" id="8676571">)</span>&nbsp;<span class="op" id="8676573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676576">return</span>&nbsp;<span class="num" id="8676583">0</span><span class="op" id="8676584">,</span>&nbsp;<span class="ident" id="8676586">io</span><span class="op" id="8676588">.</span><span class="ident" id="8676589">ErrNoProgress</span>&nbsp;<span class="comment" id="8676603">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="8676636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8676639">func</span>&nbsp;<span class="ident" id="8676644">TestIOError</span><span class="op" id="8676655">(</span><span class="ident" id="8676656">t</span>&nbsp;<span class="op" id="8676658">*</span><span class="ident" id="8676659">testing</span><span class="op" id="8676666">.</span><span class="ident" id="8676667">T</span><span class="op" id="8676668">)</span>&nbsp;<span class="op" id="8676670">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676673">s</span>&nbsp;<span class="op" id="8676675">:=</span>&nbsp;<span class="builtinfunc" id="8676678">new</span><span class="op" id="8676681">(</span><span class="ident" id="8676682">Scanner</span><span class="op" id="8676689">)</span><span class="op" id="8676690">.</span><span class="ident" id="8676691">Init</span><span class="op" id="8676695">(</span><span class="ident" id="8676696">errReader</span><span class="op" id="8676705">{</span><span class="op" id="8676706">}</span><span class="op" id="8676707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676710">errorCalled</span>&nbsp;<span class="op" id="8676722">:=</span>&nbsp;<span class="ident" id="8676725">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676732">s</span><span class="op" id="8676733">.</span><span class="ident" id="8676734">Error</span>&nbsp;<span class="op" id="8676740">=</span>&nbsp;<span class="keyword" id="8676742">func</span><span class="op" id="8676746">(</span><span class="ident" id="8676747">s</span>&nbsp;<span class="op" id="8676749">*</span><span class="ident" id="8676750">Scanner</span><span class="op" id="8676757">,</span>&nbsp;<span class="ident" id="8676759">msg</span>&nbsp;<span class="builtintype" id="8676763">string</span><span class="op" id="8676769">)</span>&nbsp;<span class="op" id="8676771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676775">if</span>&nbsp;<span class="op" id="8676778">!</span><span class="ident" id="8676779">errorCalled</span>&nbsp;<span class="op" id="8676791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676796">if</span>&nbsp;<span class="ident" id="8676799">want</span>&nbsp;<span class="op" id="8676804">:=</span>&nbsp;<span class="ident" id="8676807">io</span><span class="op" id="8676809">.</span><span class="ident" id="8676810">ErrNoProgress</span><span class="op" id="8676823">.</span><span class="ident" id="8676824">Error</span><span class="op" id="8676829">(</span><span class="op" id="8676830">)</span><span class="op" id="8676831">;</span>&nbsp;<span class="ident" id="8676833">msg</span>&nbsp;<span class="op" id="8676837">!=</span>&nbsp;<span class="ident" id="8676840">want</span>&nbsp;<span class="op" id="8676845">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676851">t</span><span class="op" id="8676852">.</span><span class="ident" id="8676853">Errorf</span><span class="op" id="8676859">(</span><span class="string" id="8676860">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8676879">,</span>&nbsp;<span class="ident" id="8676881">msg</span><span class="op" id="8676884">,</span>&nbsp;<span class="ident" id="8676886">want</span><span class="op" id="8676890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8676895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676900">errorCalled</span>&nbsp;<span class="op" id="8676912">=</span>&nbsp;<span class="ident" id="8676914">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8676921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8676924">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676927">tok</span>&nbsp;<span class="op" id="8676931">:=</span>&nbsp;<span class="ident" id="8676934">s</span><span class="op" id="8676935">.</span><span class="ident" id="8676936">Scan</span><span class="op" id="8676940">(</span><span class="op" id="8676941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676944">if</span>&nbsp;<span class="ident" id="8676947">tok</span>&nbsp;<span class="op" id="8676951">!=</span>&nbsp;<span class="ident" id="8676954">EOF</span>&nbsp;<span class="op" id="8676958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676962">t</span><span class="op" id="8676963">.</span><span class="ident" id="8676964">Errorf</span><span class="op" id="8676970">(</span><span class="string" id="8676971">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="8676991">,</span>&nbsp;<span class="ident" id="8676993">TokenString</span><span class="op" id="8677004">(</span><span class="ident" id="8677005">tok</span><span class="op" id="8677008">)</span><span class="op" id="8677009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8677015">if</span>&nbsp;<span class="op" id="8677018">!</span><span class="ident" id="8677019">errorCalled</span>&nbsp;<span class="op" id="8677031">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677035">t</span><span class="op" id="8677036">.</span><span class="ident" id="8677037">Errorf</span><span class="op" id="8677043">(</span><span class="string" id="8677044">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="8677070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677073">}</span><br>
<span class="lineno"></span><span class="op" id="8677075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8677078">func</span>&nbsp;<span class="ident" id="8677083">checkPos</span><span class="op" id="8677091">(</span><span class="ident" id="8677092">t</span>&nbsp;<span class="op" id="8677094">*</span><span class="ident" id="8677095">testing</span><span class="op" id="8677102">.</span><span class="ident" id="8677103">T</span><span class="op" id="8677104">,</span>&nbsp;<span class="ident" id="8677106">got</span><span class="op" id="8677109">,</span>&nbsp;<span class="ident" id="8677111">want</span>&nbsp;<span class="ident" id="8677116">Position</span><span class="op" id="8677124">)</span>&nbsp;<span class="op" id="8677126">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8677129">if</span>&nbsp;<span class="ident" id="8677132">got</span><span class="op" id="8677135">.</span><span class="ident" id="8677136">Offset</span>&nbsp;<span class="op" id="8677143">!=</span>&nbsp;<span class="ident" id="8677146">want</span><span class="op" id="8677150">.</span><span class="ident" id="8677151">Offset</span>&nbsp;<span class="op" id="8677158">||</span>&nbsp;<span class="ident" id="8677161">got</span><span class="op" id="8677164">.</span><span class="ident" id="8677165">Line</span>&nbsp;<span class="op" id="8677170">!=</span>&nbsp;<span class="ident" id="8677173">want</span><span class="op" id="8677177">.</span><span class="ident" id="8677178">Line</span>&nbsp;<span class="op" id="8677183">||</span>&nbsp;<span class="ident" id="8677186">got</span><span class="op" id="8677189">.</span><span class="ident" id="8677190">Column</span>&nbsp;<span class="op" id="8677197">!=</span>&nbsp;<span class="ident" id="8677200">want</span><span class="op" id="8677204">.</span><span class="ident" id="8677205">Column</span>&nbsp;<span class="op" id="8677212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677216">t</span><span class="op" id="8677217">.</span><span class="ident" id="8677218">Errorf</span><span class="op" id="8677224">(</span><span class="string" id="8677225">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="8677281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677286">got</span><span class="op" id="8677289">.</span><span class="ident" id="8677290">Offset</span><span class="op" id="8677296">,</span>&nbsp;<span class="ident" id="8677298">got</span><span class="op" id="8677301">.</span><span class="ident" id="8677302">Line</span><span class="op" id="8677306">,</span>&nbsp;<span class="ident" id="8677308">got</span><span class="op" id="8677311">.</span><span class="ident" id="8677312">Column</span><span class="op" id="8677318">,</span>&nbsp;<span class="ident" id="8677320">want</span><span class="op" id="8677324">.</span><span class="ident" id="8677325">Offset</span><span class="op" id="8677331">,</span>&nbsp;<span class="ident" id="8677333">want</span><span class="op" id="8677337">.</span><span class="ident" id="8677338">Line</span><span class="op" id="8677342">,</span>&nbsp;<span class="ident" id="8677344">want</span><span class="op" id="8677348">.</span><span class="ident" id="8677349">Column</span><span class="op" id="8677355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677358">}</span><br>
<span class="lineno"></span><span class="op" id="8677360">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="8677363">func</span>&nbsp;<span class="ident" id="8677368">checkNextPos</span><span class="op" id="8677380">(</span><span class="ident" id="8677381">t</span>&nbsp;<span class="op" id="8677383">*</span><span class="ident" id="8677384">testing</span><span class="op" id="8677391">.</span><span class="ident" id="8677392">T</span><span class="op" id="8677393">,</span>&nbsp;<span class="ident" id="8677395">s</span>&nbsp;<span class="op" id="8677397">*</span><span class="ident" id="8677398">Scanner</span><span class="op" id="8677405">,</span>&nbsp;<span class="ident" id="8677407">offset</span><span class="op" id="8677413">,</span>&nbsp;<span class="ident" id="8677415">line</span><span class="op" id="8677419">,</span>&nbsp;<span class="ident" id="8677421">column</span>&nbsp;<span class="builtintype" id="8677428">int</span><span class="op" id="8677431">,</span>&nbsp;<span class="ident" id="8677433">char</span>&nbsp;<span class="builtintype" id="8677438">rune</span><span class="op" id="8677442">)</span>&nbsp;<span class="op" id="8677444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8677447">if</span>&nbsp;<span class="ident" id="8677450">ch</span>&nbsp;<span class="op" id="8677453">:=</span>&nbsp;<span class="ident" id="8677456">s</span><span class="op" id="8677457">.</span><span class="ident" id="8677458">Next</span><span class="op" id="8677462">(</span><span class="op" id="8677463">)</span><span class="op" id="8677464">;</span>&nbsp;<span class="ident" id="8677466">ch</span>&nbsp;<span class="op" id="8677469">!=</span>&nbsp;<span class="ident" id="8677472">char</span>&nbsp;<span class="op" id="8677477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677481">t</span><span class="op" id="8677482">.</span><span class="ident" id="8677483">Errorf</span><span class="op" id="8677489">(</span><span class="string" id="8677490">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8677508">,</span>&nbsp;<span class="ident" id="8677510">TokenString</span><span class="op" id="8677521">(</span><span class="ident" id="8677522">ch</span><span class="op" id="8677524">)</span><span class="op" id="8677525">,</span>&nbsp;<span class="ident" id="8677527">TokenString</span><span class="op" id="8677538">(</span><span class="ident" id="8677539">char</span><span class="op" id="8677543">)</span><span class="op" id="8677544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677547">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677550">want</span>&nbsp;<span class="op" id="8677555">:=</span>&nbsp;<span class="ident" id="8677558">Position</span><span class="op" id="8677566">{</span><span class="ident" id="8677567">Offset</span><span class="op" id="8677573">:</span>&nbsp;<span class="ident" id="8677575">offset</span><span class="op" id="8677581">,</span>&nbsp;<span class="ident" id="8677583">Line</span><span class="op" id="8677587">:</span>&nbsp;<span class="ident" id="8677589">line</span><span class="op" id="8677593">,</span>&nbsp;<span class="ident" id="8677595">Column</span><span class="op" id="8677601">:</span>&nbsp;<span class="ident" id="8677603">column</span><span class="op" id="8677609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677612">checkPos</span><span class="op" id="8677620">(</span><span class="ident" id="8677621">t</span><span class="op" id="8677622">,</span>&nbsp;<span class="ident" id="8677624">s</span><span class="op" id="8677625">.</span><span class="ident" id="8677626">Pos</span><span class="op" id="8677629">(</span><span class="op" id="8677630">)</span><span class="op" id="8677631">,</span>&nbsp;<span class="ident" id="8677633">want</span><span class="op" id="8677637">)</span><br>
<span class="lineno"></span><span class="op" id="8677639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8677642">func</span>&nbsp;<span class="ident" id="8677647">checkScanPos</span><span class="op" id="8677659">(</span><span class="ident" id="8677660">t</span>&nbsp;<span class="op" id="8677662">*</span><span class="ident" id="8677663">testing</span><span class="op" id="8677670">.</span><span class="ident" id="8677671">T</span><span class="op" id="8677672">,</span>&nbsp;<span class="ident" id="8677674">s</span>&nbsp;<span class="op" id="8677676">*</span><span class="ident" id="8677677">Scanner</span><span class="op" id="8677684">,</span>&nbsp;<span class="ident" id="8677686">offset</span><span class="op" id="8677692">,</span>&nbsp;<span class="ident" id="8677694">line</span><span class="op" id="8677698">,</span>&nbsp;<span class="ident" id="8677700">column</span>&nbsp;<span class="builtintype" id="8677707">int</span><span class="op" id="8677710">,</span>&nbsp;<span class="ident" id="8677712">char</span>&nbsp;<span class="builtintype" id="8677717">rune</span><span class="op" id="8677721">)</span>&nbsp;<span class="op" id="8677723">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677726">want</span>&nbsp;<span class="op" id="8677731">:=</span>&nbsp;<span class="ident" id="8677734">Position</span><span class="op" id="8677742">{</span><span class="ident" id="8677743">Offset</span><span class="op" id="8677749">:</span>&nbsp;<span class="ident" id="8677751">offset</span><span class="op" id="8677757">,</span>&nbsp;<span class="ident" id="8677759">Line</span><span class="op" id="8677763">:</span>&nbsp;<span class="ident" id="8677765">line</span><span class="op" id="8677769">,</span>&nbsp;<span class="ident" id="8677771">Column</span><span class="op" id="8677777">:</span>&nbsp;<span class="ident" id="8677779">column</span><span class="op" id="8677785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677788">checkPos</span><span class="op" id="8677796">(</span><span class="ident" id="8677797">t</span><span class="op" id="8677798">,</span>&nbsp;<span class="ident" id="8677800">s</span><span class="op" id="8677801">.</span><span class="ident" id="8677802">Pos</span><span class="op" id="8677805">(</span><span class="op" id="8677806">)</span><span class="op" id="8677807">,</span>&nbsp;<span class="ident" id="8677809">want</span><span class="op" id="8677813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8677816">if</span>&nbsp;<span class="ident" id="8677819">ch</span>&nbsp;<span class="op" id="8677822">:=</span>&nbsp;<span class="ident" id="8677825">s</span><span class="op" id="8677826">.</span><span class="ident" id="8677827">Scan</span><span class="op" id="8677831">(</span><span class="op" id="8677832">)</span><span class="op" id="8677833">;</span>&nbsp;<span class="ident" id="8677835">ch</span>&nbsp;<span class="op" id="8677838">!=</span>&nbsp;<span class="ident" id="8677841">char</span>&nbsp;<span class="op" id="8677846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677850">t</span><span class="op" id="8677851">.</span><span class="ident" id="8677852">Errorf</span><span class="op" id="8677858">(</span><span class="string" id="8677859">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8677877">,</span>&nbsp;<span class="ident" id="8677879">TokenString</span><span class="op" id="8677890">(</span><span class="ident" id="8677891">ch</span><span class="op" id="8677893">)</span><span class="op" id="8677894">,</span>&nbsp;<span class="ident" id="8677896">TokenString</span><span class="op" id="8677907">(</span><span class="ident" id="8677908">char</span><span class="op" id="8677912">)</span><span class="op" id="8677913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8677917">if</span>&nbsp;<span class="builtintype" id="8677920">string</span><span class="op" id="8677926">(</span><span class="ident" id="8677927">ch</span><span class="op" id="8677929">)</span>&nbsp;<span class="op" id="8677931">!=</span>&nbsp;<span class="ident" id="8677934">s</span><span class="op" id="8677935">.</span><span class="ident" id="8677936">TokenText</span><span class="op" id="8677945">(</span><span class="op" id="8677946">)</span>&nbsp;<span class="op" id="8677948">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677953">t</span><span class="op" id="8677954">.</span><span class="ident" id="8677955">Errorf</span><span class="op" id="8677961">(</span><span class="string" id="8677962">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8677981">,</span>&nbsp;<span class="ident" id="8677983">s</span><span class="op" id="8677984">.</span><span class="ident" id="8677985">TokenText</span><span class="op" id="8677994">(</span><span class="op" id="8677995">)</span><span class="op" id="8677996">,</span>&nbsp;<span class="builtintype" id="8677998">string</span><span class="op" id="8678004">(</span><span class="ident" id="8678005">ch</span><span class="op" id="8678007">)</span><span class="op" id="8678008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678018">checkPos</span><span class="op" id="8678026">(</span><span class="ident" id="8678027">t</span><span class="op" id="8678028">,</span>&nbsp;<span class="ident" id="8678030">s</span><span class="op" id="8678031">.</span><span class="ident" id="8678032">Position</span><span class="op" id="8678040">,</span>&nbsp;<span class="ident" id="8678042">want</span><span class="op" id="8678046">)</span><br>
<span class="lineno"></span><span class="op" id="8678048">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="8678051">func</span>&nbsp;<span class="ident" id="8678056">TestPos</span><span class="op" id="8678063">(</span><span class="ident" id="8678064">t</span>&nbsp;<span class="op" id="8678066">*</span><span class="ident" id="8678067">testing</span><span class="op" id="8678074">.</span><span class="ident" id="8678075">T</span><span class="op" id="8678076">)</span>&nbsp;<span class="op" id="8678078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8678081">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678111">s</span>&nbsp;<span class="op" id="8678113">:=</span>&nbsp;<span class="builtinfunc" id="8678116">new</span><span class="op" id="8678119">(</span><span class="ident" id="8678120">Scanner</span><span class="op" id="8678127">)</span><span class="op" id="8678128">.</span><span class="ident" id="8678129">Init</span><span class="op" id="8678133">(</span><span class="ident" id="8678134">strings</span><span class="op" id="8678141">.</span><span class="ident" id="8678142">NewReader</span><span class="op" id="8678151">(</span><span class="string" id="8678152">&#34;&#34;</span><span class="op" id="8678154">)</span><span class="op" id="8678155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678158">checkPos</span><span class="op" id="8678166">(</span><span class="ident" id="8678167">t</span><span class="op" id="8678168">,</span>&nbsp;<span class="ident" id="8678170">s</span><span class="op" id="8678171">.</span><span class="ident" id="8678172">Pos</span><span class="op" id="8678175">(</span><span class="op" id="8678176">)</span><span class="op" id="8678177">,</span>&nbsp;<span class="ident" id="8678179">Position</span><span class="op" id="8678187">{</span><span class="ident" id="8678188">Offset</span><span class="op" id="8678194">:</span>&nbsp;<span class="num" id="8678196">0</span><span class="op" id="8678197">,</span>&nbsp;<span class="ident" id="8678199">Line</span><span class="op" id="8678203">:</span>&nbsp;<span class="num" id="8678205">1</span><span class="op" id="8678206">,</span>&nbsp;<span class="ident" id="8678208">Column</span><span class="op" id="8678214">:</span>&nbsp;<span class="num" id="8678216">1</span><span class="op" id="8678217">}</span><span class="op" id="8678218">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678221">s</span><span class="op" id="8678222">.</span><span class="ident" id="8678223">Peek</span><span class="op" id="8678227">(</span><span class="op" id="8678228">)</span>&nbsp;<span class="comment" id="8678230">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678267">checkPos</span><span class="op" id="8678275">(</span><span class="ident" id="8678276">t</span><span class="op" id="8678277">,</span>&nbsp;<span class="ident" id="8678279">s</span><span class="op" id="8678280">.</span><span class="ident" id="8678281">Pos</span><span class="op" id="8678284">(</span><span class="op" id="8678285">)</span><span class="op" id="8678286">,</span>&nbsp;<span class="ident" id="8678288">Position</span><span class="op" id="8678296">{</span><span class="ident" id="8678297">Offset</span><span class="op" id="8678303">:</span>&nbsp;<span class="num" id="8678305">0</span><span class="op" id="8678306">,</span>&nbsp;<span class="ident" id="8678308">Line</span><span class="op" id="8678312">:</span>&nbsp;<span class="num" id="8678314">1</span><span class="op" id="8678315">,</span>&nbsp;<span class="ident" id="8678317">Column</span><span class="op" id="8678323">:</span>&nbsp;<span class="num" id="8678325">1</span><span class="op" id="8678326">}</span><span class="op" id="8678327">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8678331">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678375">s</span>&nbsp;<span class="op" id="8678377">=</span>&nbsp;<span class="builtinfunc" id="8678379">new</span><span class="op" id="8678382">(</span><span class="ident" id="8678383">Scanner</span><span class="op" id="8678390">)</span><span class="op" id="8678391">.</span><span class="ident" id="8678392">Init</span><span class="op" id="8678396">(</span><span class="ident" id="8678397">strings</span><span class="op" id="8678404">.</span><span class="ident" id="8678405">NewReader</span><span class="op" id="8678414">(</span><span class="string" id="8678415">&#34;\n&#34;</span><span class="op" id="8678419">)</span><span class="op" id="8678420">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678423">checkPos</span><span class="op" id="8678431">(</span><span class="ident" id="8678432">t</span><span class="op" id="8678433">,</span>&nbsp;<span class="ident" id="8678435">s</span><span class="op" id="8678436">.</span><span class="ident" id="8678437">Pos</span><span class="op" id="8678440">(</span><span class="op" id="8678441">)</span><span class="op" id="8678442">,</span>&nbsp;<span class="ident" id="8678444">Position</span><span class="op" id="8678452">{</span><span class="ident" id="8678453">Offset</span><span class="op" id="8678459">:</span>&nbsp;<span class="num" id="8678461">0</span><span class="op" id="8678462">,</span>&nbsp;<span class="ident" id="8678464">Line</span><span class="op" id="8678468">:</span>&nbsp;<span class="num" id="8678470">1</span><span class="op" id="8678471">,</span>&nbsp;<span class="ident" id="8678473">Column</span><span class="op" id="8678479">:</span>&nbsp;<span class="num" id="8678481">1</span><span class="op" id="8678482">}</span><span class="op" id="8678483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678486">checkNextPos</span><span class="op" id="8678498">(</span><span class="ident" id="8678499">t</span><span class="op" id="8678500">,</span>&nbsp;<span class="ident" id="8678502">s</span><span class="op" id="8678503">,</span>&nbsp;<span class="num" id="8678505">1</span><span class="op" id="8678506">,</span>&nbsp;<span class="num" id="8678508">2</span><span class="op" id="8678509">,</span>&nbsp;<span class="num" id="8678511">1</span><span class="op" id="8678512">,</span>&nbsp;<span class="string" id="8678514">&#39;\n&#39;</span><span class="op" id="8678518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8678521">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8678559">for</span>&nbsp;<span class="ident" id="8678563">i</span>&nbsp;<span class="op" id="8678565">:=</span>&nbsp;<span class="num" id="8678568">10</span><span class="op" id="8678570">;</span>&nbsp;<span class="ident" id="8678572">i</span>&nbsp;<span class="op" id="8678574">&gt;</span>&nbsp;<span class="num" id="8678576">0</span><span class="op" id="8678577">;</span>&nbsp;<span class="ident" id="8678579">i</span><span class="op" id="8678580">--</span>&nbsp;<span class="op" id="8678583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678587">checkScanPos</span><span class="op" id="8678599">(</span><span class="ident" id="8678600">t</span><span class="op" id="8678601">,</span>&nbsp;<span class="ident" id="8678603">s</span><span class="op" id="8678604">,</span>&nbsp;<span class="num" id="8678606">1</span><span class="op" id="8678607">,</span>&nbsp;<span class="num" id="8678609">2</span><span class="op" id="8678610">,</span>&nbsp;<span class="num" id="8678612">1</span><span class="op" id="8678613">,</span>&nbsp;<span class="ident" id="8678615">EOF</span><span class="op" id="8678618">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8678624">if</span>&nbsp;<span class="ident" id="8678627">s</span><span class="op" id="8678628">.</span><span class="ident" id="8678629">ErrorCount</span>&nbsp;<span class="op" id="8678640">!=</span>&nbsp;<span class="num" id="8678643">0</span>&nbsp;<span class="op" id="8678645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678649">t</span><span class="op" id="8678650">.</span><span class="ident" id="8678651">Errorf</span><span class="op" id="8678657">(</span><span class="string" id="8678658">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8678669">,</span>&nbsp;<span class="ident" id="8678671">s</span><span class="op" id="8678672">.</span><span class="ident" id="8678673">ErrorCount</span><span class="op" id="8678683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8678690">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678743">s</span>&nbsp;<span class="op" id="8678745">=</span>&nbsp;<span class="builtinfunc" id="8678747">new</span><span class="op" id="8678750">(</span><span class="ident" id="8678751">Scanner</span><span class="op" id="8678758">)</span><span class="op" id="8678759">.</span><span class="ident" id="8678760">Init</span><span class="op" id="8678764">(</span><span class="ident" id="8678765">strings</span><span class="op" id="8678772">.</span><span class="ident" id="8678773">NewReader</span><span class="op" id="8678782">(</span><span class="string" id="8678783">&#34;本&#34;</span><span class="op" id="8678788">)</span><span class="op" id="8678789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678792">checkPos</span><span class="op" id="8678800">(</span><span class="ident" id="8678801">t</span><span class="op" id="8678802">,</span>&nbsp;<span class="ident" id="8678804">s</span><span class="op" id="8678805">.</span><span class="ident" id="8678806">Pos</span><span class="op" id="8678809">(</span><span class="op" id="8678810">)</span><span class="op" id="8678811">,</span>&nbsp;<span class="ident" id="8678813">Position</span><span class="op" id="8678821">{</span><span class="ident" id="8678822">Offset</span><span class="op" id="8678828">:</span>&nbsp;<span class="num" id="8678830">0</span><span class="op" id="8678831">,</span>&nbsp;<span class="ident" id="8678833">Line</span><span class="op" id="8678837">:</span>&nbsp;<span class="num" id="8678839">1</span><span class="op" id="8678840">,</span>&nbsp;<span class="ident" id="8678842">Column</span><span class="op" id="8678848">:</span>&nbsp;<span class="num" id="8678850">1</span><span class="op" id="8678851">}</span><span class="op" id="8678852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678855">checkNextPos</span><span class="op" id="8678867">(</span><span class="ident" id="8678868">t</span><span class="op" id="8678869">,</span>&nbsp;<span class="ident" id="8678871">s</span><span class="op" id="8678872">,</span>&nbsp;<span class="num" id="8678874">3</span><span class="op" id="8678875">,</span>&nbsp;<span class="num" id="8678877">1</span><span class="op" id="8678878">,</span>&nbsp;<span class="num" id="8678880">2</span><span class="op" id="8678881">,</span>&nbsp;<span class="string" id="8678883">&#39;本&#39;</span><span class="op" id="8678888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8678891">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8678929">for</span>&nbsp;<span class="ident" id="8678933">i</span>&nbsp;<span class="op" id="8678935">:=</span>&nbsp;<span class="num" id="8678938">10</span><span class="op" id="8678940">;</span>&nbsp;<span class="ident" id="8678942">i</span>&nbsp;<span class="op" id="8678944">&gt;</span>&nbsp;<span class="num" id="8678946">0</span><span class="op" id="8678947">;</span>&nbsp;<span class="ident" id="8678949">i</span><span class="op" id="8678950">--</span>&nbsp;<span class="op" id="8678953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678957">checkScanPos</span><span class="op" id="8678969">(</span><span class="ident" id="8678970">t</span><span class="op" id="8678971">,</span>&nbsp;<span class="ident" id="8678973">s</span><span class="op" id="8678974">,</span>&nbsp;<span class="num" id="8678976">3</span><span class="op" id="8678977">,</span>&nbsp;<span class="num" id="8678979">1</span><span class="op" id="8678980">,</span>&nbsp;<span class="num" id="8678982">2</span><span class="op" id="8678983">,</span>&nbsp;<span class="ident" id="8678985">EOF</span><span class="op" id="8678988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8678994">if</span>&nbsp;<span class="ident" id="8678997">s</span><span class="op" id="8678998">.</span><span class="ident" id="8678999">ErrorCount</span>&nbsp;<span class="op" id="8679010">!=</span>&nbsp;<span class="num" id="8679013">0</span>&nbsp;<span class="op" id="8679015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679019">t</span><span class="op" id="8679020">.</span><span class="ident" id="8679021">Errorf</span><span class="op" id="8679027">(</span><span class="string" id="8679028">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8679039">,</span>&nbsp;<span class="ident" id="8679041">s</span><span class="op" id="8679042">.</span><span class="ident" id="8679043">ErrorCount</span><span class="op" id="8679053">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8679060">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679093">s</span>&nbsp;<span class="op" id="8679095">=</span>&nbsp;<span class="builtinfunc" id="8679097">new</span><span class="op" id="8679100">(</span><span class="ident" id="8679101">Scanner</span><span class="op" id="8679108">)</span><span class="op" id="8679109">.</span><span class="ident" id="8679110">Init</span><span class="op" id="8679114">(</span><span class="ident" id="8679115">strings</span><span class="op" id="8679122">.</span><span class="ident" id="8679123">NewReader</span><span class="op" id="8679132">(</span><span class="string" id="8679133">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="8679160">)</span><span class="op" id="8679161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679164">checkNextPos</span><span class="op" id="8679176">(</span><span class="ident" id="8679177">t</span><span class="op" id="8679178">,</span>&nbsp;<span class="ident" id="8679180">s</span><span class="op" id="8679181">,</span>&nbsp;<span class="num" id="8679183">1</span><span class="op" id="8679184">,</span>&nbsp;<span class="num" id="8679186">1</span><span class="op" id="8679187">,</span>&nbsp;<span class="num" id="8679189">2</span><span class="op" id="8679190">,</span>&nbsp;<span class="string" id="8679192">&#39;&nbsp;&#39;</span><span class="op" id="8679195">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679198">s</span><span class="op" id="8679199">.</span><span class="ident" id="8679200">Peek</span><span class="op" id="8679204">(</span><span class="op" id="8679205">)</span>&nbsp;<span class="comment" id="8679207">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679244">checkNextPos</span><span class="op" id="8679256">(</span><span class="ident" id="8679257">t</span><span class="op" id="8679258">,</span>&nbsp;<span class="ident" id="8679260">s</span><span class="op" id="8679261">,</span>&nbsp;<span class="num" id="8679263">2</span><span class="op" id="8679264">,</span>&nbsp;<span class="num" id="8679266">1</span><span class="op" id="8679267">,</span>&nbsp;<span class="num" id="8679269">3</span><span class="op" id="8679270">,</span>&nbsp;<span class="string" id="8679272">&#39;&nbsp;&#39;</span><span class="op" id="8679275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679278">checkNextPos</span><span class="op" id="8679290">(</span><span class="ident" id="8679291">t</span><span class="op" id="8679292">,</span>&nbsp;<span class="ident" id="8679294">s</span><span class="op" id="8679295">,</span>&nbsp;<span class="num" id="8679297">3</span><span class="op" id="8679298">,</span>&nbsp;<span class="num" id="8679300">1</span><span class="op" id="8679301">,</span>&nbsp;<span class="num" id="8679303">4</span><span class="op" id="8679304">,</span>&nbsp;<span class="string" id="8679306">&#39;f&#39;</span><span class="op" id="8679309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679312">checkNextPos</span><span class="op" id="8679324">(</span><span class="ident" id="8679325">t</span><span class="op" id="8679326">,</span>&nbsp;<span class="ident" id="8679328">s</span><span class="op" id="8679329">,</span>&nbsp;<span class="num" id="8679331">4</span><span class="op" id="8679332">,</span>&nbsp;<span class="num" id="8679334">1</span><span class="op" id="8679335">,</span>&nbsp;<span class="num" id="8679337">5</span><span class="op" id="8679338">,</span>&nbsp;<span class="string" id="8679340">&#39;o&#39;</span><span class="op" id="8679343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679346">checkNextPos</span><span class="op" id="8679358">(</span><span class="ident" id="8679359">t</span><span class="op" id="8679360">,</span>&nbsp;<span class="ident" id="8679362">s</span><span class="op" id="8679363">,</span>&nbsp;<span class="num" id="8679365">5</span><span class="op" id="8679366">,</span>&nbsp;<span class="num" id="8679368">1</span><span class="op" id="8679369">,</span>&nbsp;<span class="num" id="8679371">6</span><span class="op" id="8679372">,</span>&nbsp;<span class="string" id="8679374">&#39;o&#39;</span><span class="op" id="8679377">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679380">checkNextPos</span><span class="op" id="8679392">(</span><span class="ident" id="8679393">t</span><span class="op" id="8679394">,</span>&nbsp;<span class="ident" id="8679396">s</span><span class="op" id="8679397">,</span>&nbsp;<span class="num" id="8679399">8</span><span class="op" id="8679400">,</span>&nbsp;<span class="num" id="8679402">1</span><span class="op" id="8679403">,</span>&nbsp;<span class="num" id="8679405">7</span><span class="op" id="8679406">,</span>&nbsp;<span class="string" id="8679408">&#39;६&#39;</span><span class="op" id="8679413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679416">checkNextPos</span><span class="op" id="8679428">(</span><span class="ident" id="8679429">t</span><span class="op" id="8679430">,</span>&nbsp;<span class="ident" id="8679432">s</span><span class="op" id="8679433">,</span>&nbsp;<span class="num" id="8679435">11</span><span class="op" id="8679437">,</span>&nbsp;<span class="num" id="8679439">1</span><span class="op" id="8679440">,</span>&nbsp;<span class="num" id="8679442">8</span><span class="op" id="8679443">,</span>&nbsp;<span class="string" id="8679445">&#39;४&#39;</span><span class="op" id="8679450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679453">checkNextPos</span><span class="op" id="8679465">(</span><span class="ident" id="8679466">t</span><span class="op" id="8679467">,</span>&nbsp;<span class="ident" id="8679469">s</span><span class="op" id="8679470">,</span>&nbsp;<span class="num" id="8679472">12</span><span class="op" id="8679474">,</span>&nbsp;<span class="num" id="8679476">1</span><span class="op" id="8679477">,</span>&nbsp;<span class="num" id="8679479">9</span><span class="op" id="8679480">,</span>&nbsp;<span class="string" id="8679482">&#39;&nbsp;&#39;</span><span class="op" id="8679485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679488">checkNextPos</span><span class="op" id="8679500">(</span><span class="ident" id="8679501">t</span><span class="op" id="8679502">,</span>&nbsp;<span class="ident" id="8679504">s</span><span class="op" id="8679505">,</span>&nbsp;<span class="num" id="8679507">13</span><span class="op" id="8679509">,</span>&nbsp;<span class="num" id="8679511">1</span><span class="op" id="8679512">,</span>&nbsp;<span class="num" id="8679514">10</span><span class="op" id="8679516">,</span>&nbsp;<span class="string" id="8679518">&#39;&nbsp;&#39;</span><span class="op" id="8679521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679524">checkNextPos</span><span class="op" id="8679536">(</span><span class="ident" id="8679537">t</span><span class="op" id="8679538">,</span>&nbsp;<span class="ident" id="8679540">s</span><span class="op" id="8679541">,</span>&nbsp;<span class="num" id="8679543">14</span><span class="op" id="8679545">,</span>&nbsp;<span class="num" id="8679547">2</span><span class="op" id="8679548">,</span>&nbsp;<span class="num" id="8679550">1</span><span class="op" id="8679551">,</span>&nbsp;<span class="string" id="8679553">&#39;\n&#39;</span><span class="op" id="8679557">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679560">checkNextPos</span><span class="op" id="8679572">(</span><span class="ident" id="8679573">t</span><span class="op" id="8679574">,</span>&nbsp;<span class="ident" id="8679576">s</span><span class="op" id="8679577">,</span>&nbsp;<span class="num" id="8679579">15</span><span class="op" id="8679581">,</span>&nbsp;<span class="num" id="8679583">3</span><span class="op" id="8679584">,</span>&nbsp;<span class="num" id="8679586">1</span><span class="op" id="8679587">,</span>&nbsp;<span class="string" id="8679589">&#39;\n&#39;</span><span class="op" id="8679593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679596">checkNextPos</span><span class="op" id="8679608">(</span><span class="ident" id="8679609">t</span><span class="op" id="8679610">,</span>&nbsp;<span class="ident" id="8679612">s</span><span class="op" id="8679613">,</span>&nbsp;<span class="num" id="8679615">18</span><span class="op" id="8679617">,</span>&nbsp;<span class="num" id="8679619">3</span><span class="op" id="8679620">,</span>&nbsp;<span class="num" id="8679622">2</span><span class="op" id="8679623">,</span>&nbsp;<span class="string" id="8679625">&#39;本&#39;</span><span class="op" id="8679630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679633">checkNextPos</span><span class="op" id="8679645">(</span><span class="ident" id="8679646">t</span><span class="op" id="8679647">,</span>&nbsp;<span class="ident" id="8679649">s</span><span class="op" id="8679650">,</span>&nbsp;<span class="num" id="8679652">21</span><span class="op" id="8679654">,</span>&nbsp;<span class="num" id="8679656">3</span><span class="op" id="8679657">,</span>&nbsp;<span class="num" id="8679659">3</span><span class="op" id="8679660">,</span>&nbsp;<span class="string" id="8679662">&#39;語&#39;</span><span class="op" id="8679667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679670">checkNextPos</span><span class="op" id="8679682">(</span><span class="ident" id="8679683">t</span><span class="op" id="8679684">,</span>&nbsp;<span class="ident" id="8679686">s</span><span class="op" id="8679687">,</span>&nbsp;<span class="num" id="8679689">22</span><span class="op" id="8679691">,</span>&nbsp;<span class="num" id="8679693">4</span><span class="op" id="8679694">,</span>&nbsp;<span class="num" id="8679696">1</span><span class="op" id="8679697">,</span>&nbsp;<span class="string" id="8679699">&#39;\n&#39;</span><span class="op" id="8679703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8679706">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8679744">for</span>&nbsp;<span class="ident" id="8679748">i</span>&nbsp;<span class="op" id="8679750">:=</span>&nbsp;<span class="num" id="8679753">10</span><span class="op" id="8679755">;</span>&nbsp;<span class="ident" id="8679757">i</span>&nbsp;<span class="op" id="8679759">&gt;</span>&nbsp;<span class="num" id="8679761">0</span><span class="op" id="8679762">;</span>&nbsp;<span class="ident" id="8679764">i</span><span class="op" id="8679765">--</span>&nbsp;<span class="op" id="8679768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679772">checkScanPos</span><span class="op" id="8679784">(</span><span class="ident" id="8679785">t</span><span class="op" id="8679786">,</span>&nbsp;<span class="ident" id="8679788">s</span><span class="op" id="8679789">,</span>&nbsp;<span class="num" id="8679791">22</span><span class="op" id="8679793">,</span>&nbsp;<span class="num" id="8679795">4</span><span class="op" id="8679796">,</span>&nbsp;<span class="num" id="8679798">1</span><span class="op" id="8679799">,</span>&nbsp;<span class="ident" id="8679801">EOF</span><span class="op" id="8679804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8679810">if</span>&nbsp;<span class="ident" id="8679813">s</span><span class="op" id="8679814">.</span><span class="ident" id="8679815">ErrorCount</span>&nbsp;<span class="op" id="8679826">!=</span>&nbsp;<span class="num" id="8679829">0</span>&nbsp;<span class="op" id="8679831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679835">t</span><span class="op" id="8679836">.</span><span class="ident" id="8679837">Errorf</span><span class="op" id="8679843">(</span><span class="string" id="8679844">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8679855">,</span>&nbsp;<span class="ident" id="8679857">s</span><span class="op" id="8679858">.</span><span class="ident" id="8679859">ErrorCount</span><span class="op" id="8679869">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8679876">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679909">s</span>&nbsp;<span class="op" id="8679911">=</span>&nbsp;<span class="builtinfunc" id="8679913">new</span><span class="op" id="8679916">(</span><span class="ident" id="8679917">Scanner</span><span class="op" id="8679924">)</span><span class="op" id="8679925">.</span><span class="ident" id="8679926">Init</span><span class="op" id="8679930">(</span><span class="ident" id="8679931">strings</span><span class="op" id="8679938">.</span><span class="ident" id="8679939">NewReader</span><span class="op" id="8679948">(</span><span class="string" id="8679949">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="8679967">)</span><span class="op" id="8679968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679971">s</span><span class="op" id="8679972">.</span><span class="ident" id="8679973">Mode</span>&nbsp;<span class="op" id="8679978">=</span>&nbsp;<span class="num" id="8679980">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679983">s</span><span class="op" id="8679984">.</span><span class="ident" id="8679985">Whitespace</span>&nbsp;<span class="op" id="8679996">=</span>&nbsp;<span class="num" id="8679998">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680001">checkScanPos</span><span class="op" id="8680013">(</span><span class="ident" id="8680014">t</span><span class="op" id="8680015">,</span>&nbsp;<span class="ident" id="8680017">s</span><span class="op" id="8680018">,</span>&nbsp;<span class="num" id="8680020">0</span><span class="op" id="8680021">,</span>&nbsp;<span class="num" id="8680023">1</span><span class="op" id="8680024">,</span>&nbsp;<span class="num" id="8680026">1</span><span class="op" id="8680027">,</span>&nbsp;<span class="string" id="8680029">&#39;a&#39;</span><span class="op" id="8680032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680035">s</span><span class="op" id="8680036">.</span><span class="ident" id="8680037">Peek</span><span class="op" id="8680041">(</span><span class="op" id="8680042">)</span>&nbsp;<span class="comment" id="8680044">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680081">checkScanPos</span><span class="op" id="8680093">(</span><span class="ident" id="8680094">t</span><span class="op" id="8680095">,</span>&nbsp;<span class="ident" id="8680097">s</span><span class="op" id="8680098">,</span>&nbsp;<span class="num" id="8680100">1</span><span class="op" id="8680101">,</span>&nbsp;<span class="num" id="8680103">1</span><span class="op" id="8680104">,</span>&nbsp;<span class="num" id="8680106">2</span><span class="op" id="8680107">,</span>&nbsp;<span class="string" id="8680109">&#39;b&#39;</span><span class="op" id="8680112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680115">checkScanPos</span><span class="op" id="8680127">(</span><span class="ident" id="8680128">t</span><span class="op" id="8680129">,</span>&nbsp;<span class="ident" id="8680131">s</span><span class="op" id="8680132">,</span>&nbsp;<span class="num" id="8680134">2</span><span class="op" id="8680135">,</span>&nbsp;<span class="num" id="8680137">1</span><span class="op" id="8680138">,</span>&nbsp;<span class="num" id="8680140">3</span><span class="op" id="8680141">,</span>&nbsp;<span class="string" id="8680143">&#39;c&#39;</span><span class="op" id="8680146">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680149">checkScanPos</span><span class="op" id="8680161">(</span><span class="ident" id="8680162">t</span><span class="op" id="8680163">,</span>&nbsp;<span class="ident" id="8680165">s</span><span class="op" id="8680166">,</span>&nbsp;<span class="num" id="8680168">3</span><span class="op" id="8680169">,</span>&nbsp;<span class="num" id="8680171">1</span><span class="op" id="8680172">,</span>&nbsp;<span class="num" id="8680174">4</span><span class="op" id="8680175">,</span>&nbsp;<span class="string" id="8680177">&#39;\n&#39;</span><span class="op" id="8680181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680184">checkScanPos</span><span class="op" id="8680196">(</span><span class="ident" id="8680197">t</span><span class="op" id="8680198">,</span>&nbsp;<span class="ident" id="8680200">s</span><span class="op" id="8680201">,</span>&nbsp;<span class="num" id="8680203">4</span><span class="op" id="8680204">,</span>&nbsp;<span class="num" id="8680206">2</span><span class="op" id="8680207">,</span>&nbsp;<span class="num" id="8680209">1</span><span class="op" id="8680210">,</span>&nbsp;<span class="string" id="8680212">&#39;本&#39;</span><span class="op" id="8680217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680220">checkScanPos</span><span class="op" id="8680232">(</span><span class="ident" id="8680233">t</span><span class="op" id="8680234">,</span>&nbsp;<span class="ident" id="8680236">s</span><span class="op" id="8680237">,</span>&nbsp;<span class="num" id="8680239">7</span><span class="op" id="8680240">,</span>&nbsp;<span class="num" id="8680242">2</span><span class="op" id="8680243">,</span>&nbsp;<span class="num" id="8680245">2</span><span class="op" id="8680246">,</span>&nbsp;<span class="string" id="8680248">&#39;語&#39;</span><span class="op" id="8680253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680256">checkScanPos</span><span class="op" id="8680268">(</span><span class="ident" id="8680269">t</span><span class="op" id="8680270">,</span>&nbsp;<span class="ident" id="8680272">s</span><span class="op" id="8680273">,</span>&nbsp;<span class="num" id="8680275">10</span><span class="op" id="8680277">,</span>&nbsp;<span class="num" id="8680279">2</span><span class="op" id="8680280">,</span>&nbsp;<span class="num" id="8680282">3</span><span class="op" id="8680283">,</span>&nbsp;<span class="string" id="8680285">&#39;\n&#39;</span><span class="op" id="8680289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680292">checkScanPos</span><span class="op" id="8680304">(</span><span class="ident" id="8680305">t</span><span class="op" id="8680306">,</span>&nbsp;<span class="ident" id="8680308">s</span><span class="op" id="8680309">,</span>&nbsp;<span class="num" id="8680311">11</span><span class="op" id="8680313">,</span>&nbsp;<span class="num" id="8680315">3</span><span class="op" id="8680316">,</span>&nbsp;<span class="num" id="8680318">1</span><span class="op" id="8680319">,</span>&nbsp;<span class="string" id="8680321">&#39;\n&#39;</span><span class="op" id="8680325">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680328">checkScanPos</span><span class="op" id="8680340">(</span><span class="ident" id="8680341">t</span><span class="op" id="8680342">,</span>&nbsp;<span class="ident" id="8680344">s</span><span class="op" id="8680345">,</span>&nbsp;<span class="num" id="8680347">12</span><span class="op" id="8680349">,</span>&nbsp;<span class="num" id="8680351">4</span><span class="op" id="8680352">,</span>&nbsp;<span class="num" id="8680354">1</span><span class="op" id="8680355">,</span>&nbsp;<span class="string" id="8680357">&#39;x&#39;</span><span class="op" id="8680360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8680363">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8680401">for</span>&nbsp;<span class="ident" id="8680405">i</span>&nbsp;<span class="op" id="8680407">:=</span>&nbsp;<span class="num" id="8680410">10</span><span class="op" id="8680412">;</span>&nbsp;<span class="ident" id="8680414">i</span>&nbsp;<span class="op" id="8680416">&gt;</span>&nbsp;<span class="num" id="8680418">0</span><span class="op" id="8680419">;</span>&nbsp;<span class="ident" id="8680421">i</span><span class="op" id="8680422">--</span>&nbsp;<span class="op" id="8680425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680429">checkScanPos</span><span class="op" id="8680441">(</span><span class="ident" id="8680442">t</span><span class="op" id="8680443">,</span>&nbsp;<span class="ident" id="8680445">s</span><span class="op" id="8680446">,</span>&nbsp;<span class="num" id="8680448">13</span><span class="op" id="8680450">,</span>&nbsp;<span class="num" id="8680452">4</span><span class="op" id="8680453">,</span>&nbsp;<span class="num" id="8680455">2</span><span class="op" id="8680456">,</span>&nbsp;<span class="ident" id="8680458">EOF</span><span class="op" id="8680461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8680464">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8680467">if</span>&nbsp;<span class="ident" id="8680470">s</span><span class="op" id="8680471">.</span><span class="ident" id="8680472">ErrorCount</span>&nbsp;<span class="op" id="8680483">!=</span>&nbsp;<span class="num" id="8680486">0</span>&nbsp;<span class="op" id="8680488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680492">t</span><span class="op" id="8680493">.</span><span class="ident" id="8680494">Errorf</span><span class="op" id="8680500">(</span><span class="string" id="8680501">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8680512">,</span>&nbsp;<span class="ident" id="8680514">s</span><span class="op" id="8680515">.</span><span class="ident" id="8680516">ErrorCount</span><span class="op" id="8680526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8680529">}</span><br>
<span class="lineno"></span><span class="op" id="8680531">}</span>
</div>
</body>
</html>
