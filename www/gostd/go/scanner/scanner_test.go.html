<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7490028">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7490083">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7490137">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7490188">package</span>&nbsp;<span class="ident" id="7490196">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7490205">import</span>&nbsp;<span class="op" id="7490212">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490215">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490227">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490240">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490246">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490263">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490274">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7490284">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7490287">var</span>&nbsp;<span class="ident" id="7490291">fset</span>&nbsp;<span class="op" id="7490296">=</span>&nbsp;<span class="ident" id="7490298">token</span><span class="op" id="7490303">.</span><span class="ident" id="7490304">NewFileSet</span><span class="op" id="7490314">(</span><span class="op" id="7490315">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7490318">const</span>&nbsp;<span class="comment" id="7490324">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="7490336">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490339">special</span>&nbsp;<span class="op" id="7490347">=</span>&nbsp;<span class="ident" id="7490349">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490355">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490364">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490374">keyword</span><br>
<span class="lineno"></span><span class="op" id="7490382">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7490385">func</span>&nbsp;<span class="ident" id="7490390">tokenclass</span><span class="op" id="7490400">(</span><span class="ident" id="7490401">tok</span>&nbsp;<span class="ident" id="7490405">token</span><span class="op" id="7490410">.</span><span class="ident" id="7490411">Token</span><span class="op" id="7490416">)</span>&nbsp;<span class="builtintype" id="7490418">int</span>&nbsp;<span class="op" id="7490422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490425">switch</span>&nbsp;<span class="op" id="7490432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490435">case</span>&nbsp;<span class="ident" id="7490440">tok</span><span class="op" id="7490443">.</span><span class="ident" id="7490444">IsLiteral</span><span class="op" id="7490453">(</span><span class="op" id="7490454">)</span><span class="op" id="7490455">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490459">return</span>&nbsp;<span class="ident" id="7490466">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490475">case</span>&nbsp;<span class="ident" id="7490480">tok</span><span class="op" id="7490483">.</span><span class="ident" id="7490484">IsOperator</span><span class="op" id="7490494">(</span><span class="op" id="7490495">)</span><span class="op" id="7490496">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490500">return</span>&nbsp;<span class="ident" id="7490507">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490517">case</span>&nbsp;<span class="ident" id="7490522">tok</span><span class="op" id="7490525">.</span><span class="ident" id="7490526">IsKeyword</span><span class="op" id="7490535">(</span><span class="op" id="7490536">)</span><span class="op" id="7490537">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490541">return</span>&nbsp;<span class="ident" id="7490548">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490560">return</span>&nbsp;<span class="ident" id="7490567">special</span><br>
<span class="lineno">35</span><span class="op" id="7490575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7490578">type</span>&nbsp;<span class="ident" id="7490583">elt</span>&nbsp;<span class="keyword" id="7490587">struct</span>&nbsp;<span class="op" id="7490594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490597">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7490603">token</span><span class="op" id="7490608">.</span><span class="ident" id="7490609">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490616">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7490622">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490630">class</span>&nbsp;<span class="builtintype" id="7490636">int</span><br>
<span class="lineno"></span><span class="op" id="7490640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7490643">var</span>&nbsp;<span class="ident" id="7490647">tokens</span>&nbsp;<span class="op" id="7490654">=</span>&nbsp;<span class="op" id="7490656">[</span><span class="op" id="7490657">...</span><span class="op" id="7490660">]</span><span class="ident" id="7490661">elt</span><span class="op" id="7490664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7490667">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490686">{</span><span class="ident" id="7490687">token</span><span class="op" id="7490692">.</span><span class="ident" id="7490693">COMMENT</span><span class="op" id="7490700">,</span>&nbsp;<span class="string" id="7490702">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7490719">,</span>&nbsp;<span class="ident" id="7490721">special</span><span class="op" id="7490728">}</span><span class="op" id="7490729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490732">{</span><span class="ident" id="7490733">token</span><span class="op" id="7490738">.</span><span class="ident" id="7490739">COMMENT</span><span class="op" id="7490746">,</span>&nbsp;<span class="string" id="7490748">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="7490765">,</span>&nbsp;<span class="ident" id="7490767">special</span><span class="op" id="7490774">}</span><span class="op" id="7490775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490778">{</span><span class="ident" id="7490779">token</span><span class="op" id="7490784">.</span><span class="ident" id="7490785">COMMENT</span><span class="op" id="7490792">,</span>&nbsp;<span class="string" id="7490794">&#34;/*\r*/&#34;</span><span class="op" id="7490802">,</span>&nbsp;<span class="ident" id="7490804">special</span><span class="op" id="7490811">}</span><span class="op" id="7490812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490815">{</span><span class="ident" id="7490816">token</span><span class="op" id="7490821">.</span><span class="ident" id="7490822">COMMENT</span><span class="op" id="7490829">,</span>&nbsp;<span class="string" id="7490831">&#34;//\r\n&#34;</span><span class="op" id="7490839">,</span>&nbsp;<span class="ident" id="7490841">special</span><span class="op" id="7490848">}</span><span class="op" id="7490849">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7490853">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490893">{</span><span class="ident" id="7490894">token</span><span class="op" id="7490899">.</span><span class="ident" id="7490900">IDENT</span><span class="op" id="7490905">,</span>&nbsp;<span class="string" id="7490907">&#34;foobar&#34;</span><span class="op" id="7490915">,</span>&nbsp;<span class="ident" id="7490917">literal</span><span class="op" id="7490924">}</span><span class="op" id="7490925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490928">{</span><span class="ident" id="7490929">token</span><span class="op" id="7490934">.</span><span class="ident" id="7490935">IDENT</span><span class="op" id="7490940">,</span>&nbsp;<span class="string" id="7490942">&#34;a۰۱۸&#34;</span><span class="op" id="7490951">,</span>&nbsp;<span class="ident" id="7490953">literal</span><span class="op" id="7490960">}</span><span class="op" id="7490961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490964">{</span><span class="ident" id="7490965">token</span><span class="op" id="7490970">.</span><span class="ident" id="7490971">IDENT</span><span class="op" id="7490976">,</span>&nbsp;<span class="string" id="7490978">&#34;foo६४&#34;</span><span class="op" id="7490989">,</span>&nbsp;<span class="ident" id="7490991">literal</span><span class="op" id="7490998">}</span><span class="op" id="7490999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491002">{</span><span class="ident" id="7491003">token</span><span class="op" id="7491008">.</span><span class="ident" id="7491009">IDENT</span><span class="op" id="7491014">,</span>&nbsp;<span class="string" id="7491016">&#34;bar９８７６&#34;</span><span class="op" id="7491033">,</span>&nbsp;<span class="ident" id="7491035">literal</span><span class="op" id="7491042">}</span><span class="op" id="7491043">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491046">{</span><span class="ident" id="7491047">token</span><span class="op" id="7491052">.</span><span class="ident" id="7491053">IDENT</span><span class="op" id="7491058">,</span>&nbsp;<span class="string" id="7491060">&#34;ŝ&#34;</span><span class="op" id="7491064">,</span>&nbsp;<span class="ident" id="7491066">literal</span><span class="op" id="7491073">}</span><span class="op" id="7491074">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7491079">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491104">{</span><span class="ident" id="7491105">token</span><span class="op" id="7491110">.</span><span class="ident" id="7491111">IDENT</span><span class="op" id="7491116">,</span>&nbsp;<span class="string" id="7491118">&#34;ŝfoo&#34;</span><span class="op" id="7491125">,</span>&nbsp;<span class="ident" id="7491127">literal</span><span class="op" id="7491134">}</span><span class="op" id="7491135">,</span>&nbsp;<span class="comment" id="7491137">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491162">{</span><span class="ident" id="7491163">token</span><span class="op" id="7491168">.</span><span class="ident" id="7491169">INT</span><span class="op" id="7491172">,</span>&nbsp;<span class="string" id="7491174">&#34;0&#34;</span><span class="op" id="7491177">,</span>&nbsp;<span class="ident" id="7491179">literal</span><span class="op" id="7491186">}</span><span class="op" id="7491187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491190">{</span><span class="ident" id="7491191">token</span><span class="op" id="7491196">.</span><span class="ident" id="7491197">INT</span><span class="op" id="7491200">,</span>&nbsp;<span class="string" id="7491202">&#34;1&#34;</span><span class="op" id="7491205">,</span>&nbsp;<span class="ident" id="7491207">literal</span><span class="op" id="7491214">}</span><span class="op" id="7491215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491218">{</span><span class="ident" id="7491219">token</span><span class="op" id="7491224">.</span><span class="ident" id="7491225">INT</span><span class="op" id="7491228">,</span>&nbsp;<span class="string" id="7491230">&#34;123456789012345678890&#34;</span><span class="op" id="7491253">,</span>&nbsp;<span class="ident" id="7491255">literal</span><span class="op" id="7491262">}</span><span class="op" id="7491263">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491266">{</span><span class="ident" id="7491267">token</span><span class="op" id="7491272">.</span><span class="ident" id="7491273">INT</span><span class="op" id="7491276">,</span>&nbsp;<span class="string" id="7491278">&#34;01234567&#34;</span><span class="op" id="7491288">,</span>&nbsp;<span class="ident" id="7491290">literal</span><span class="op" id="7491297">}</span><span class="op" id="7491298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491301">{</span><span class="ident" id="7491302">token</span><span class="op" id="7491307">.</span><span class="ident" id="7491308">INT</span><span class="op" id="7491311">,</span>&nbsp;<span class="string" id="7491313">&#34;0xcafebabe&#34;</span><span class="op" id="7491325">,</span>&nbsp;<span class="ident" id="7491327">literal</span><span class="op" id="7491334">}</span><span class="op" id="7491335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491338">{</span><span class="ident" id="7491339">token</span><span class="op" id="7491344">.</span><span class="ident" id="7491345">FLOAT</span><span class="op" id="7491350">,</span>&nbsp;<span class="string" id="7491352">&#34;0.&#34;</span><span class="op" id="7491356">,</span>&nbsp;<span class="ident" id="7491358">literal</span><span class="op" id="7491365">}</span><span class="op" id="7491366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491369">{</span><span class="ident" id="7491370">token</span><span class="op" id="7491375">.</span><span class="ident" id="7491376">FLOAT</span><span class="op" id="7491381">,</span>&nbsp;<span class="string" id="7491383">&#34;.0&#34;</span><span class="op" id="7491387">,</span>&nbsp;<span class="ident" id="7491389">literal</span><span class="op" id="7491396">}</span><span class="op" id="7491397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491400">{</span><span class="ident" id="7491401">token</span><span class="op" id="7491406">.</span><span class="ident" id="7491407">FLOAT</span><span class="op" id="7491412">,</span>&nbsp;<span class="string" id="7491414">&#34;3.14159265&#34;</span><span class="op" id="7491426">,</span>&nbsp;<span class="ident" id="7491428">literal</span><span class="op" id="7491435">}</span><span class="op" id="7491436">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491439">{</span><span class="ident" id="7491440">token</span><span class="op" id="7491445">.</span><span class="ident" id="7491446">FLOAT</span><span class="op" id="7491451">,</span>&nbsp;<span class="string" id="7491453">&#34;1e0&#34;</span><span class="op" id="7491458">,</span>&nbsp;<span class="ident" id="7491460">literal</span><span class="op" id="7491467">}</span><span class="op" id="7491468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491471">{</span><span class="ident" id="7491472">token</span><span class="op" id="7491477">.</span><span class="ident" id="7491478">FLOAT</span><span class="op" id="7491483">,</span>&nbsp;<span class="string" id="7491485">&#34;1e+100&#34;</span><span class="op" id="7491493">,</span>&nbsp;<span class="ident" id="7491495">literal</span><span class="op" id="7491502">}</span><span class="op" id="7491503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491506">{</span><span class="ident" id="7491507">token</span><span class="op" id="7491512">.</span><span class="ident" id="7491513">FLOAT</span><span class="op" id="7491518">,</span>&nbsp;<span class="string" id="7491520">&#34;1e-100&#34;</span><span class="op" id="7491528">,</span>&nbsp;<span class="ident" id="7491530">literal</span><span class="op" id="7491537">}</span><span class="op" id="7491538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491541">{</span><span class="ident" id="7491542">token</span><span class="op" id="7491547">.</span><span class="ident" id="7491548">FLOAT</span><span class="op" id="7491553">,</span>&nbsp;<span class="string" id="7491555">&#34;2.71828e-1000&#34;</span><span class="op" id="7491570">,</span>&nbsp;<span class="ident" id="7491572">literal</span><span class="op" id="7491579">}</span><span class="op" id="7491580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491583">{</span><span class="ident" id="7491584">token</span><span class="op" id="7491589">.</span><span class="ident" id="7491590">IMAG</span><span class="op" id="7491594">,</span>&nbsp;<span class="string" id="7491596">&#34;0i&#34;</span><span class="op" id="7491600">,</span>&nbsp;<span class="ident" id="7491602">literal</span><span class="op" id="7491609">}</span><span class="op" id="7491610">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491613">{</span><span class="ident" id="7491614">token</span><span class="op" id="7491619">.</span><span class="ident" id="7491620">IMAG</span><span class="op" id="7491624">,</span>&nbsp;<span class="string" id="7491626">&#34;1i&#34;</span><span class="op" id="7491630">,</span>&nbsp;<span class="ident" id="7491632">literal</span><span class="op" id="7491639">}</span><span class="op" id="7491640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491643">{</span><span class="ident" id="7491644">token</span><span class="op" id="7491649">.</span><span class="ident" id="7491650">IMAG</span><span class="op" id="7491654">,</span>&nbsp;<span class="string" id="7491656">&#34;012345678901234567889i&#34;</span><span class="op" id="7491680">,</span>&nbsp;<span class="ident" id="7491682">literal</span><span class="op" id="7491689">}</span><span class="op" id="7491690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491693">{</span><span class="ident" id="7491694">token</span><span class="op" id="7491699">.</span><span class="ident" id="7491700">IMAG</span><span class="op" id="7491704">,</span>&nbsp;<span class="string" id="7491706">&#34;123456789012345678890i&#34;</span><span class="op" id="7491730">,</span>&nbsp;<span class="ident" id="7491732">literal</span><span class="op" id="7491739">}</span><span class="op" id="7491740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491743">{</span><span class="ident" id="7491744">token</span><span class="op" id="7491749">.</span><span class="ident" id="7491750">IMAG</span><span class="op" id="7491754">,</span>&nbsp;<span class="string" id="7491756">&#34;0.i&#34;</span><span class="op" id="7491761">,</span>&nbsp;<span class="ident" id="7491763">literal</span><span class="op" id="7491770">}</span><span class="op" id="7491771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491774">{</span><span class="ident" id="7491775">token</span><span class="op" id="7491780">.</span><span class="ident" id="7491781">IMAG</span><span class="op" id="7491785">,</span>&nbsp;<span class="string" id="7491787">&#34;.0i&#34;</span><span class="op" id="7491792">,</span>&nbsp;<span class="ident" id="7491794">literal</span><span class="op" id="7491801">}</span><span class="op" id="7491802">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491805">{</span><span class="ident" id="7491806">token</span><span class="op" id="7491811">.</span><span class="ident" id="7491812">IMAG</span><span class="op" id="7491816">,</span>&nbsp;<span class="string" id="7491818">&#34;3.14159265i&#34;</span><span class="op" id="7491831">,</span>&nbsp;<span class="ident" id="7491833">literal</span><span class="op" id="7491840">}</span><span class="op" id="7491841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491844">{</span><span class="ident" id="7491845">token</span><span class="op" id="7491850">.</span><span class="ident" id="7491851">IMAG</span><span class="op" id="7491855">,</span>&nbsp;<span class="string" id="7491857">&#34;1e0i&#34;</span><span class="op" id="7491863">,</span>&nbsp;<span class="ident" id="7491865">literal</span><span class="op" id="7491872">}</span><span class="op" id="7491873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491876">{</span><span class="ident" id="7491877">token</span><span class="op" id="7491882">.</span><span class="ident" id="7491883">IMAG</span><span class="op" id="7491887">,</span>&nbsp;<span class="string" id="7491889">&#34;1e+100i&#34;</span><span class="op" id="7491898">,</span>&nbsp;<span class="ident" id="7491900">literal</span><span class="op" id="7491907">}</span><span class="op" id="7491908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491911">{</span><span class="ident" id="7491912">token</span><span class="op" id="7491917">.</span><span class="ident" id="7491918">IMAG</span><span class="op" id="7491922">,</span>&nbsp;<span class="string" id="7491924">&#34;1e-100i&#34;</span><span class="op" id="7491933">,</span>&nbsp;<span class="ident" id="7491935">literal</span><span class="op" id="7491942">}</span><span class="op" id="7491943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491946">{</span><span class="ident" id="7491947">token</span><span class="op" id="7491952">.</span><span class="ident" id="7491953">IMAG</span><span class="op" id="7491957">,</span>&nbsp;<span class="string" id="7491959">&#34;2.71828e-1000i&#34;</span><span class="op" id="7491975">,</span>&nbsp;<span class="ident" id="7491977">literal</span><span class="op" id="7491984">}</span><span class="op" id="7491985">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491988">{</span><span class="ident" id="7491989">token</span><span class="op" id="7491994">.</span><span class="ident" id="7491995">CHAR</span><span class="op" id="7491999">,</span>&nbsp;<span class="string" id="7492001">&#34;&#39;a&#39;&#34;</span><span class="op" id="7492006">,</span>&nbsp;<span class="ident" id="7492008">literal</span><span class="op" id="7492015">}</span><span class="op" id="7492016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492019">{</span><span class="ident" id="7492020">token</span><span class="op" id="7492025">.</span><span class="ident" id="7492026">CHAR</span><span class="op" id="7492030">,</span>&nbsp;<span class="string" id="7492032">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="7492041">,</span>&nbsp;<span class="ident" id="7492043">literal</span><span class="op" id="7492050">}</span><span class="op" id="7492051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492054">{</span><span class="ident" id="7492055">token</span><span class="op" id="7492060">.</span><span class="ident" id="7492061">CHAR</span><span class="op" id="7492065">,</span>&nbsp;<span class="string" id="7492067">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="7492076">,</span>&nbsp;<span class="ident" id="7492078">literal</span><span class="op" id="7492085">}</span><span class="op" id="7492086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492089">{</span><span class="ident" id="7492090">token</span><span class="op" id="7492095">.</span><span class="ident" id="7492096">CHAR</span><span class="op" id="7492100">,</span>&nbsp;<span class="string" id="7492102">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="7492113">,</span>&nbsp;<span class="ident" id="7492115">literal</span><span class="op" id="7492122">}</span><span class="op" id="7492123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492126">{</span><span class="ident" id="7492127">token</span><span class="op" id="7492132">.</span><span class="ident" id="7492133">CHAR</span><span class="op" id="7492137">,</span>&nbsp;<span class="string" id="7492139">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="7492154">,</span>&nbsp;<span class="ident" id="7492156">literal</span><span class="op" id="7492163">}</span><span class="op" id="7492164">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492167">{</span><span class="ident" id="7492168">token</span><span class="op" id="7492173">.</span><span class="ident" id="7492174">STRING</span><span class="op" id="7492180">,</span>&nbsp;<span class="string" id="7492182">&#34;`foobar`&#34;</span><span class="op" id="7492192">,</span>&nbsp;<span class="ident" id="7492194">literal</span><span class="op" id="7492201">}</span><span class="op" id="7492202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492205">{</span><span class="ident" id="7492206">token</span><span class="op" id="7492211">.</span><span class="ident" id="7492212">STRING</span><span class="op" id="7492218">,</span>&nbsp;<span class="string" id="7492220">&#34;`&#34;</span>&nbsp;<span class="op" id="7492224">+</span>&nbsp;<span class="string" id="7492226">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="7492261">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7492265">&#34;`&#34;</span><span class="op" id="7492268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492272">literal</span><span class="op" id="7492279">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492282">}</span><span class="op" id="7492283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492286">{</span><span class="ident" id="7492287">token</span><span class="op" id="7492292">.</span><span class="ident" id="7492293">STRING</span><span class="op" id="7492299">,</span>&nbsp;<span class="string" id="7492301">&#34;`\r`&#34;</span><span class="op" id="7492307">,</span>&nbsp;<span class="ident" id="7492309">literal</span><span class="op" id="7492316">}</span><span class="op" id="7492317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492320">{</span><span class="ident" id="7492321">token</span><span class="op" id="7492326">.</span><span class="ident" id="7492327">STRING</span><span class="op" id="7492333">,</span>&nbsp;<span class="string" id="7492335">&#34;`foo\r\nbar`&#34;</span><span class="op" id="7492349">,</span>&nbsp;<span class="ident" id="7492351">literal</span><span class="op" id="7492358">}</span><span class="op" id="7492359">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7492363">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492392">{</span><span class="ident" id="7492393">token</span><span class="op" id="7492398">.</span><span class="ident" id="7492399">ADD</span><span class="op" id="7492402">,</span>&nbsp;<span class="string" id="7492404">&#34;+&#34;</span><span class="op" id="7492407">,</span>&nbsp;<span class="ident" id="7492409">operator</span><span class="op" id="7492417">}</span><span class="op" id="7492418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492421">{</span><span class="ident" id="7492422">token</span><span class="op" id="7492427">.</span><span class="ident" id="7492428">SUB</span><span class="op" id="7492431">,</span>&nbsp;<span class="string" id="7492433">&#34;-&#34;</span><span class="op" id="7492436">,</span>&nbsp;<span class="ident" id="7492438">operator</span><span class="op" id="7492446">}</span><span class="op" id="7492447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492450">{</span><span class="ident" id="7492451">token</span><span class="op" id="7492456">.</span><span class="ident" id="7492457">MUL</span><span class="op" id="7492460">,</span>&nbsp;<span class="string" id="7492462">&#34;*&#34;</span><span class="op" id="7492465">,</span>&nbsp;<span class="ident" id="7492467">operator</span><span class="op" id="7492475">}</span><span class="op" id="7492476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492479">{</span><span class="ident" id="7492480">token</span><span class="op" id="7492485">.</span><span class="ident" id="7492486">QUO</span><span class="op" id="7492489">,</span>&nbsp;<span class="string" id="7492491">&#34;/&#34;</span><span class="op" id="7492494">,</span>&nbsp;<span class="ident" id="7492496">operator</span><span class="op" id="7492504">}</span><span class="op" id="7492505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492508">{</span><span class="ident" id="7492509">token</span><span class="op" id="7492514">.</span><span class="ident" id="7492515">REM</span><span class="op" id="7492518">,</span>&nbsp;<span class="string" id="7492520">&#34;%&#34;</span><span class="op" id="7492523">,</span>&nbsp;<span class="ident" id="7492525">operator</span><span class="op" id="7492533">}</span><span class="op" id="7492534">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492538">{</span><span class="ident" id="7492539">token</span><span class="op" id="7492544">.</span><span class="ident" id="7492545">AND</span><span class="op" id="7492548">,</span>&nbsp;<span class="string" id="7492550">&#34;&amp;&#34;</span><span class="op" id="7492553">,</span>&nbsp;<span class="ident" id="7492555">operator</span><span class="op" id="7492563">}</span><span class="op" id="7492564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492567">{</span><span class="ident" id="7492568">token</span><span class="op" id="7492573">.</span><span class="ident" id="7492574">OR</span><span class="op" id="7492576">,</span>&nbsp;<span class="string" id="7492578">&#34;|&#34;</span><span class="op" id="7492581">,</span>&nbsp;<span class="ident" id="7492583">operator</span><span class="op" id="7492591">}</span><span class="op" id="7492592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492595">{</span><span class="ident" id="7492596">token</span><span class="op" id="7492601">.</span><span class="ident" id="7492602">XOR</span><span class="op" id="7492605">,</span>&nbsp;<span class="string" id="7492607">&#34;^&#34;</span><span class="op" id="7492610">,</span>&nbsp;<span class="ident" id="7492612">operator</span><span class="op" id="7492620">}</span><span class="op" id="7492621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492624">{</span><span class="ident" id="7492625">token</span><span class="op" id="7492630">.</span><span class="ident" id="7492631">SHL</span><span class="op" id="7492634">,</span>&nbsp;<span class="string" id="7492636">&#34;&lt;&lt;&#34;</span><span class="op" id="7492640">,</span>&nbsp;<span class="ident" id="7492642">operator</span><span class="op" id="7492650">}</span><span class="op" id="7492651">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492654">{</span><span class="ident" id="7492655">token</span><span class="op" id="7492660">.</span><span class="ident" id="7492661">SHR</span><span class="op" id="7492664">,</span>&nbsp;<span class="string" id="7492666">&#34;&gt;&gt;&#34;</span><span class="op" id="7492670">,</span>&nbsp;<span class="ident" id="7492672">operator</span><span class="op" id="7492680">}</span><span class="op" id="7492681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492684">{</span><span class="ident" id="7492685">token</span><span class="op" id="7492690">.</span><span class="ident" id="7492691">AND_NOT</span><span class="op" id="7492698">,</span>&nbsp;<span class="string" id="7492700">&#34;&amp;^&#34;</span><span class="op" id="7492704">,</span>&nbsp;<span class="ident" id="7492706">operator</span><span class="op" id="7492714">}</span><span class="op" id="7492715">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492719">{</span><span class="ident" id="7492720">token</span><span class="op" id="7492725">.</span><span class="ident" id="7492726">ADD_ASSIGN</span><span class="op" id="7492736">,</span>&nbsp;<span class="string" id="7492738">&#34;+=&#34;</span><span class="op" id="7492742">,</span>&nbsp;<span class="ident" id="7492744">operator</span><span class="op" id="7492752">}</span><span class="op" id="7492753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492756">{</span><span class="ident" id="7492757">token</span><span class="op" id="7492762">.</span><span class="ident" id="7492763">SUB_ASSIGN</span><span class="op" id="7492773">,</span>&nbsp;<span class="string" id="7492775">&#34;-=&#34;</span><span class="op" id="7492779">,</span>&nbsp;<span class="ident" id="7492781">operator</span><span class="op" id="7492789">}</span><span class="op" id="7492790">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492793">{</span><span class="ident" id="7492794">token</span><span class="op" id="7492799">.</span><span class="ident" id="7492800">MUL_ASSIGN</span><span class="op" id="7492810">,</span>&nbsp;<span class="string" id="7492812">&#34;*=&#34;</span><span class="op" id="7492816">,</span>&nbsp;<span class="ident" id="7492818">operator</span><span class="op" id="7492826">}</span><span class="op" id="7492827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492830">{</span><span class="ident" id="7492831">token</span><span class="op" id="7492836">.</span><span class="ident" id="7492837">QUO_ASSIGN</span><span class="op" id="7492847">,</span>&nbsp;<span class="string" id="7492849">&#34;/=&#34;</span><span class="op" id="7492853">,</span>&nbsp;<span class="ident" id="7492855">operator</span><span class="op" id="7492863">}</span><span class="op" id="7492864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492867">{</span><span class="ident" id="7492868">token</span><span class="op" id="7492873">.</span><span class="ident" id="7492874">REM_ASSIGN</span><span class="op" id="7492884">,</span>&nbsp;<span class="string" id="7492886">&#34;%=&#34;</span><span class="op" id="7492890">,</span>&nbsp;<span class="ident" id="7492892">operator</span><span class="op" id="7492900">}</span><span class="op" id="7492901">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492905">{</span><span class="ident" id="7492906">token</span><span class="op" id="7492911">.</span><span class="ident" id="7492912">AND_ASSIGN</span><span class="op" id="7492922">,</span>&nbsp;<span class="string" id="7492924">&#34;&amp;=&#34;</span><span class="op" id="7492928">,</span>&nbsp;<span class="ident" id="7492930">operator</span><span class="op" id="7492938">}</span><span class="op" id="7492939">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492942">{</span><span class="ident" id="7492943">token</span><span class="op" id="7492948">.</span><span class="ident" id="7492949">OR_ASSIGN</span><span class="op" id="7492958">,</span>&nbsp;<span class="string" id="7492960">&#34;|=&#34;</span><span class="op" id="7492964">,</span>&nbsp;<span class="ident" id="7492966">operator</span><span class="op" id="7492974">}</span><span class="op" id="7492975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492978">{</span><span class="ident" id="7492979">token</span><span class="op" id="7492984">.</span><span class="ident" id="7492985">XOR_ASSIGN</span><span class="op" id="7492995">,</span>&nbsp;<span class="string" id="7492997">&#34;^=&#34;</span><span class="op" id="7493001">,</span>&nbsp;<span class="ident" id="7493003">operator</span><span class="op" id="7493011">}</span><span class="op" id="7493012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493015">{</span><span class="ident" id="7493016">token</span><span class="op" id="7493021">.</span><span class="ident" id="7493022">SHL_ASSIGN</span><span class="op" id="7493032">,</span>&nbsp;<span class="string" id="7493034">&#34;&lt;&lt;=&#34;</span><span class="op" id="7493039">,</span>&nbsp;<span class="ident" id="7493041">operator</span><span class="op" id="7493049">}</span><span class="op" id="7493050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493053">{</span><span class="ident" id="7493054">token</span><span class="op" id="7493059">.</span><span class="ident" id="7493060">SHR_ASSIGN</span><span class="op" id="7493070">,</span>&nbsp;<span class="string" id="7493072">&#34;&gt;&gt;=&#34;</span><span class="op" id="7493077">,</span>&nbsp;<span class="ident" id="7493079">operator</span><span class="op" id="7493087">}</span><span class="op" id="7493088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493091">{</span><span class="ident" id="7493092">token</span><span class="op" id="7493097">.</span><span class="ident" id="7493098">AND_NOT_ASSIGN</span><span class="op" id="7493112">,</span>&nbsp;<span class="string" id="7493114">&#34;&amp;^=&#34;</span><span class="op" id="7493119">,</span>&nbsp;<span class="ident" id="7493121">operator</span><span class="op" id="7493129">}</span><span class="op" id="7493130">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493134">{</span><span class="ident" id="7493135">token</span><span class="op" id="7493140">.</span><span class="ident" id="7493141">LAND</span><span class="op" id="7493145">,</span>&nbsp;<span class="string" id="7493147">&#34;&amp;&amp;&#34;</span><span class="op" id="7493151">,</span>&nbsp;<span class="ident" id="7493153">operator</span><span class="op" id="7493161">}</span><span class="op" id="7493162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493165">{</span><span class="ident" id="7493166">token</span><span class="op" id="7493171">.</span><span class="ident" id="7493172">LOR</span><span class="op" id="7493175">,</span>&nbsp;<span class="string" id="7493177">&#34;||&#34;</span><span class="op" id="7493181">,</span>&nbsp;<span class="ident" id="7493183">operator</span><span class="op" id="7493191">}</span><span class="op" id="7493192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493195">{</span><span class="ident" id="7493196">token</span><span class="op" id="7493201">.</span><span class="ident" id="7493202">ARROW</span><span class="op" id="7493207">,</span>&nbsp;<span class="string" id="7493209">&#34;&lt;-&#34;</span><span class="op" id="7493213">,</span>&nbsp;<span class="ident" id="7493215">operator</span><span class="op" id="7493223">}</span><span class="op" id="7493224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493227">{</span><span class="ident" id="7493228">token</span><span class="op" id="7493233">.</span><span class="ident" id="7493234">INC</span><span class="op" id="7493237">,</span>&nbsp;<span class="string" id="7493239">&#34;++&#34;</span><span class="op" id="7493243">,</span>&nbsp;<span class="ident" id="7493245">operator</span><span class="op" id="7493253">}</span><span class="op" id="7493254">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493257">{</span><span class="ident" id="7493258">token</span><span class="op" id="7493263">.</span><span class="ident" id="7493264">DEC</span><span class="op" id="7493267">,</span>&nbsp;<span class="string" id="7493269">&#34;--&#34;</span><span class="op" id="7493273">,</span>&nbsp;<span class="ident" id="7493275">operator</span><span class="op" id="7493283">}</span><span class="op" id="7493284">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493288">{</span><span class="ident" id="7493289">token</span><span class="op" id="7493294">.</span><span class="ident" id="7493295">EQL</span><span class="op" id="7493298">,</span>&nbsp;<span class="string" id="7493300">&#34;==&#34;</span><span class="op" id="7493304">,</span>&nbsp;<span class="ident" id="7493306">operator</span><span class="op" id="7493314">}</span><span class="op" id="7493315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493318">{</span><span class="ident" id="7493319">token</span><span class="op" id="7493324">.</span><span class="ident" id="7493325">LSS</span><span class="op" id="7493328">,</span>&nbsp;<span class="string" id="7493330">&#34;&lt;&#34;</span><span class="op" id="7493333">,</span>&nbsp;<span class="ident" id="7493335">operator</span><span class="op" id="7493343">}</span><span class="op" id="7493344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493347">{</span><span class="ident" id="7493348">token</span><span class="op" id="7493353">.</span><span class="ident" id="7493354">GTR</span><span class="op" id="7493357">,</span>&nbsp;<span class="string" id="7493359">&#34;&gt;&#34;</span><span class="op" id="7493362">,</span>&nbsp;<span class="ident" id="7493364">operator</span><span class="op" id="7493372">}</span><span class="op" id="7493373">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493376">{</span><span class="ident" id="7493377">token</span><span class="op" id="7493382">.</span><span class="ident" id="7493383">ASSIGN</span><span class="op" id="7493389">,</span>&nbsp;<span class="string" id="7493391">&#34;=&#34;</span><span class="op" id="7493394">,</span>&nbsp;<span class="ident" id="7493396">operator</span><span class="op" id="7493404">}</span><span class="op" id="7493405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493408">{</span><span class="ident" id="7493409">token</span><span class="op" id="7493414">.</span><span class="ident" id="7493415">NOT</span><span class="op" id="7493418">,</span>&nbsp;<span class="string" id="7493420">&#34;!&#34;</span><span class="op" id="7493423">,</span>&nbsp;<span class="ident" id="7493425">operator</span><span class="op" id="7493433">}</span><span class="op" id="7493434">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493438">{</span><span class="ident" id="7493439">token</span><span class="op" id="7493444">.</span><span class="ident" id="7493445">NEQ</span><span class="op" id="7493448">,</span>&nbsp;<span class="string" id="7493450">&#34;!=&#34;</span><span class="op" id="7493454">,</span>&nbsp;<span class="ident" id="7493456">operator</span><span class="op" id="7493464">}</span><span class="op" id="7493465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493468">{</span><span class="ident" id="7493469">token</span><span class="op" id="7493474">.</span><span class="ident" id="7493475">LEQ</span><span class="op" id="7493478">,</span>&nbsp;<span class="string" id="7493480">&#34;&lt;=&#34;</span><span class="op" id="7493484">,</span>&nbsp;<span class="ident" id="7493486">operator</span><span class="op" id="7493494">}</span><span class="op" id="7493495">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493498">{</span><span class="ident" id="7493499">token</span><span class="op" id="7493504">.</span><span class="ident" id="7493505">GEQ</span><span class="op" id="7493508">,</span>&nbsp;<span class="string" id="7493510">&#34;&gt;=&#34;</span><span class="op" id="7493514">,</span>&nbsp;<span class="ident" id="7493516">operator</span><span class="op" id="7493524">}</span><span class="op" id="7493525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493528">{</span><span class="ident" id="7493529">token</span><span class="op" id="7493534">.</span><span class="ident" id="7493535">DEFINE</span><span class="op" id="7493541">,</span>&nbsp;<span class="string" id="7493543">&#34;:=&#34;</span><span class="op" id="7493547">,</span>&nbsp;<span class="ident" id="7493549">operator</span><span class="op" id="7493557">}</span><span class="op" id="7493558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493561">{</span><span class="ident" id="7493562">token</span><span class="op" id="7493567">.</span><span class="ident" id="7493568">ELLIPSIS</span><span class="op" id="7493576">,</span>&nbsp;<span class="string" id="7493578">&#34;...&#34;</span><span class="op" id="7493583">,</span>&nbsp;<span class="ident" id="7493585">operator</span><span class="op" id="7493593">}</span><span class="op" id="7493594">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493598">{</span><span class="ident" id="7493599">token</span><span class="op" id="7493604">.</span><span class="ident" id="7493605">LPAREN</span><span class="op" id="7493611">,</span>&nbsp;<span class="string" id="7493613">&#34;(&#34;</span><span class="op" id="7493616">,</span>&nbsp;<span class="ident" id="7493618">operator</span><span class="op" id="7493626">}</span><span class="op" id="7493627">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493630">{</span><span class="ident" id="7493631">token</span><span class="op" id="7493636">.</span><span class="ident" id="7493637">LBRACK</span><span class="op" id="7493643">,</span>&nbsp;<span class="string" id="7493645">&#34;[&#34;</span><span class="op" id="7493648">,</span>&nbsp;<span class="ident" id="7493650">operator</span><span class="op" id="7493658">}</span><span class="op" id="7493659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493662">{</span><span class="ident" id="7493663">token</span><span class="op" id="7493668">.</span><span class="ident" id="7493669">LBRACE</span><span class="op" id="7493675">,</span>&nbsp;<span class="string" id="7493677">&#34;{&#34;</span><span class="op" id="7493680">,</span>&nbsp;<span class="ident" id="7493682">operator</span><span class="op" id="7493690">}</span><span class="op" id="7493691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493694">{</span><span class="ident" id="7493695">token</span><span class="op" id="7493700">.</span><span class="ident" id="7493701">COMMA</span><span class="op" id="7493706">,</span>&nbsp;<span class="string" id="7493708">&#34;,&#34;</span><span class="op" id="7493711">,</span>&nbsp;<span class="ident" id="7493713">operator</span><span class="op" id="7493721">}</span><span class="op" id="7493722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493725">{</span><span class="ident" id="7493726">token</span><span class="op" id="7493731">.</span><span class="ident" id="7493732">PERIOD</span><span class="op" id="7493738">,</span>&nbsp;<span class="string" id="7493740">&#34;.&#34;</span><span class="op" id="7493743">,</span>&nbsp;<span class="ident" id="7493745">operator</span><span class="op" id="7493753">}</span><span class="op" id="7493754">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493758">{</span><span class="ident" id="7493759">token</span><span class="op" id="7493764">.</span><span class="ident" id="7493765">RPAREN</span><span class="op" id="7493771">,</span>&nbsp;<span class="string" id="7493773">&#34;)&#34;</span><span class="op" id="7493776">,</span>&nbsp;<span class="ident" id="7493778">operator</span><span class="op" id="7493786">}</span><span class="op" id="7493787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493790">{</span><span class="ident" id="7493791">token</span><span class="op" id="7493796">.</span><span class="ident" id="7493797">RBRACK</span><span class="op" id="7493803">,</span>&nbsp;<span class="string" id="7493805">&#34;]&#34;</span><span class="op" id="7493808">,</span>&nbsp;<span class="ident" id="7493810">operator</span><span class="op" id="7493818">}</span><span class="op" id="7493819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493822">{</span><span class="ident" id="7493823">token</span><span class="op" id="7493828">.</span><span class="ident" id="7493829">RBRACE</span><span class="op" id="7493835">,</span>&nbsp;<span class="string" id="7493837">&#34;}&#34;</span><span class="op" id="7493840">,</span>&nbsp;<span class="ident" id="7493842">operator</span><span class="op" id="7493850">}</span><span class="op" id="7493851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493854">{</span><span class="ident" id="7493855">token</span><span class="op" id="7493860">.</span><span class="ident" id="7493861">SEMICOLON</span><span class="op" id="7493870">,</span>&nbsp;<span class="string" id="7493872">&#34;;&#34;</span><span class="op" id="7493875">,</span>&nbsp;<span class="ident" id="7493877">operator</span><span class="op" id="7493885">}</span><span class="op" id="7493886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493889">{</span><span class="ident" id="7493890">token</span><span class="op" id="7493895">.</span><span class="ident" id="7493896">COLON</span><span class="op" id="7493901">,</span>&nbsp;<span class="string" id="7493903">&#34;:&#34;</span><span class="op" id="7493906">,</span>&nbsp;<span class="ident" id="7493908">operator</span><span class="op" id="7493916">}</span><span class="op" id="7493917">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493921">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493934">{</span><span class="ident" id="7493935">token</span><span class="op" id="7493940">.</span><span class="ident" id="7493941">BREAK</span><span class="op" id="7493946">,</span>&nbsp;<span class="string" id="7493948">&#34;break&#34;</span><span class="op" id="7493955">,</span>&nbsp;<span class="ident" id="7493957">keyword</span><span class="op" id="7493964">}</span><span class="op" id="7493965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493968">{</span><span class="ident" id="7493969">token</span><span class="op" id="7493974">.</span><span class="ident" id="7493975">CASE</span><span class="op" id="7493979">,</span>&nbsp;<span class="string" id="7493981">&#34;case&#34;</span><span class="op" id="7493987">,</span>&nbsp;<span class="ident" id="7493989">keyword</span><span class="op" id="7493996">}</span><span class="op" id="7493997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494000">{</span><span class="ident" id="7494001">token</span><span class="op" id="7494006">.</span><span class="ident" id="7494007">CHAN</span><span class="op" id="7494011">,</span>&nbsp;<span class="string" id="7494013">&#34;chan&#34;</span><span class="op" id="7494019">,</span>&nbsp;<span class="ident" id="7494021">keyword</span><span class="op" id="7494028">}</span><span class="op" id="7494029">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494032">{</span><span class="ident" id="7494033">token</span><span class="op" id="7494038">.</span><span class="ident" id="7494039">CONST</span><span class="op" id="7494044">,</span>&nbsp;<span class="string" id="7494046">&#34;const&#34;</span><span class="op" id="7494053">,</span>&nbsp;<span class="ident" id="7494055">keyword</span><span class="op" id="7494062">}</span><span class="op" id="7494063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494066">{</span><span class="ident" id="7494067">token</span><span class="op" id="7494072">.</span><span class="ident" id="7494073">CONTINUE</span><span class="op" id="7494081">,</span>&nbsp;<span class="string" id="7494083">&#34;continue&#34;</span><span class="op" id="7494093">,</span>&nbsp;<span class="ident" id="7494095">keyword</span><span class="op" id="7494102">}</span><span class="op" id="7494103">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494107">{</span><span class="ident" id="7494108">token</span><span class="op" id="7494113">.</span><span class="ident" id="7494114">DEFAULT</span><span class="op" id="7494121">,</span>&nbsp;<span class="string" id="7494123">&#34;default&#34;</span><span class="op" id="7494132">,</span>&nbsp;<span class="ident" id="7494134">keyword</span><span class="op" id="7494141">}</span><span class="op" id="7494142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494145">{</span><span class="ident" id="7494146">token</span><span class="op" id="7494151">.</span><span class="ident" id="7494152">DEFER</span><span class="op" id="7494157">,</span>&nbsp;<span class="string" id="7494159">&#34;defer&#34;</span><span class="op" id="7494166">,</span>&nbsp;<span class="ident" id="7494168">keyword</span><span class="op" id="7494175">}</span><span class="op" id="7494176">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494179">{</span><span class="ident" id="7494180">token</span><span class="op" id="7494185">.</span><span class="ident" id="7494186">ELSE</span><span class="op" id="7494190">,</span>&nbsp;<span class="string" id="7494192">&#34;else&#34;</span><span class="op" id="7494198">,</span>&nbsp;<span class="ident" id="7494200">keyword</span><span class="op" id="7494207">}</span><span class="op" id="7494208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494211">{</span><span class="ident" id="7494212">token</span><span class="op" id="7494217">.</span><span class="ident" id="7494218">FALLTHROUGH</span><span class="op" id="7494229">,</span>&nbsp;<span class="string" id="7494231">&#34;fallthrough&#34;</span><span class="op" id="7494244">,</span>&nbsp;<span class="ident" id="7494246">keyword</span><span class="op" id="7494253">}</span><span class="op" id="7494254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494257">{</span><span class="ident" id="7494258">token</span><span class="op" id="7494263">.</span><span class="ident" id="7494264">FOR</span><span class="op" id="7494267">,</span>&nbsp;<span class="string" id="7494269">&#34;for&#34;</span><span class="op" id="7494274">,</span>&nbsp;<span class="ident" id="7494276">keyword</span><span class="op" id="7494283">}</span><span class="op" id="7494284">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494288">{</span><span class="ident" id="7494289">token</span><span class="op" id="7494294">.</span><span class="ident" id="7494295">FUNC</span><span class="op" id="7494299">,</span>&nbsp;<span class="string" id="7494301">&#34;func&#34;</span><span class="op" id="7494307">,</span>&nbsp;<span class="ident" id="7494309">keyword</span><span class="op" id="7494316">}</span><span class="op" id="7494317">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494320">{</span><span class="ident" id="7494321">token</span><span class="op" id="7494326">.</span><span class="ident" id="7494327">GO</span><span class="op" id="7494329">,</span>&nbsp;<span class="string" id="7494331">&#34;go&#34;</span><span class="op" id="7494335">,</span>&nbsp;<span class="ident" id="7494337">keyword</span><span class="op" id="7494344">}</span><span class="op" id="7494345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494348">{</span><span class="ident" id="7494349">token</span><span class="op" id="7494354">.</span><span class="ident" id="7494355">GOTO</span><span class="op" id="7494359">,</span>&nbsp;<span class="string" id="7494361">&#34;goto&#34;</span><span class="op" id="7494367">,</span>&nbsp;<span class="ident" id="7494369">keyword</span><span class="op" id="7494376">}</span><span class="op" id="7494377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494380">{</span><span class="ident" id="7494381">token</span><span class="op" id="7494386">.</span><span class="ident" id="7494387">IF</span><span class="op" id="7494389">,</span>&nbsp;<span class="string" id="7494391">&#34;if&#34;</span><span class="op" id="7494395">,</span>&nbsp;<span class="ident" id="7494397">keyword</span><span class="op" id="7494404">}</span><span class="op" id="7494405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494408">{</span><span class="ident" id="7494409">token</span><span class="op" id="7494414">.</span><span class="ident" id="7494415">IMPORT</span><span class="op" id="7494421">,</span>&nbsp;<span class="string" id="7494423">&#34;import&#34;</span><span class="op" id="7494431">,</span>&nbsp;<span class="ident" id="7494433">keyword</span><span class="op" id="7494440">}</span><span class="op" id="7494441">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494445">{</span><span class="ident" id="7494446">token</span><span class="op" id="7494451">.</span><span class="ident" id="7494452">INTERFACE</span><span class="op" id="7494461">,</span>&nbsp;<span class="string" id="7494463">&#34;interface&#34;</span><span class="op" id="7494474">,</span>&nbsp;<span class="ident" id="7494476">keyword</span><span class="op" id="7494483">}</span><span class="op" id="7494484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494487">{</span><span class="ident" id="7494488">token</span><span class="op" id="7494493">.</span><span class="ident" id="7494494">MAP</span><span class="op" id="7494497">,</span>&nbsp;<span class="string" id="7494499">&#34;map&#34;</span><span class="op" id="7494504">,</span>&nbsp;<span class="ident" id="7494506">keyword</span><span class="op" id="7494513">}</span><span class="op" id="7494514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494517">{</span><span class="ident" id="7494518">token</span><span class="op" id="7494523">.</span><span class="ident" id="7494524">PACKAGE</span><span class="op" id="7494531">,</span>&nbsp;<span class="string" id="7494533">&#34;package&#34;</span><span class="op" id="7494542">,</span>&nbsp;<span class="ident" id="7494544">keyword</span><span class="op" id="7494551">}</span><span class="op" id="7494552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494555">{</span><span class="ident" id="7494556">token</span><span class="op" id="7494561">.</span><span class="ident" id="7494562">RANGE</span><span class="op" id="7494567">,</span>&nbsp;<span class="string" id="7494569">&#34;range&#34;</span><span class="op" id="7494576">,</span>&nbsp;<span class="ident" id="7494578">keyword</span><span class="op" id="7494585">}</span><span class="op" id="7494586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494589">{</span><span class="ident" id="7494590">token</span><span class="op" id="7494595">.</span><span class="ident" id="7494596">RETURN</span><span class="op" id="7494602">,</span>&nbsp;<span class="string" id="7494604">&#34;return&#34;</span><span class="op" id="7494612">,</span>&nbsp;<span class="ident" id="7494614">keyword</span><span class="op" id="7494621">}</span><span class="op" id="7494622">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494626">{</span><span class="ident" id="7494627">token</span><span class="op" id="7494632">.</span><span class="ident" id="7494633">SELECT</span><span class="op" id="7494639">,</span>&nbsp;<span class="string" id="7494641">&#34;select&#34;</span><span class="op" id="7494649">,</span>&nbsp;<span class="ident" id="7494651">keyword</span><span class="op" id="7494658">}</span><span class="op" id="7494659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494662">{</span><span class="ident" id="7494663">token</span><span class="op" id="7494668">.</span><span class="ident" id="7494669">STRUCT</span><span class="op" id="7494675">,</span>&nbsp;<span class="string" id="7494677">&#34;struct&#34;</span><span class="op" id="7494685">,</span>&nbsp;<span class="ident" id="7494687">keyword</span><span class="op" id="7494694">}</span><span class="op" id="7494695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494698">{</span><span class="ident" id="7494699">token</span><span class="op" id="7494704">.</span><span class="ident" id="7494705">SWITCH</span><span class="op" id="7494711">,</span>&nbsp;<span class="string" id="7494713">&#34;switch&#34;</span><span class="op" id="7494721">,</span>&nbsp;<span class="ident" id="7494723">keyword</span><span class="op" id="7494730">}</span><span class="op" id="7494731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494734">{</span><span class="ident" id="7494735">token</span><span class="op" id="7494740">.</span><span class="ident" id="7494741">TYPE</span><span class="op" id="7494745">,</span>&nbsp;<span class="string" id="7494747">&#34;type&#34;</span><span class="op" id="7494753">,</span>&nbsp;<span class="ident" id="7494755">keyword</span><span class="op" id="7494762">}</span><span class="op" id="7494763">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494766">{</span><span class="ident" id="7494767">token</span><span class="op" id="7494772">.</span><span class="ident" id="7494773">VAR</span><span class="op" id="7494776">,</span>&nbsp;<span class="string" id="7494778">&#34;var&#34;</span><span class="op" id="7494783">,</span>&nbsp;<span class="ident" id="7494785">keyword</span><span class="op" id="7494792">}</span><span class="op" id="7494793">,</span><br>
<span class="lineno"></span><span class="op" id="7494795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7494798">const</span>&nbsp;<span class="ident" id="7494804">whitespace</span>&nbsp;<span class="op" id="7494815">=</span>&nbsp;<span class="string" id="7494817">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="7494832">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="7494855">var</span>&nbsp;<span class="ident" id="7494859">source</span>&nbsp;<span class="op" id="7494866">=</span>&nbsp;<span class="keyword" id="7494868">func</span><span class="op" id="7494872">(</span><span class="op" id="7494873">)</span>&nbsp;<span class="op" id="7494875">[</span><span class="op" id="7494876">]</span><span class="builtintype" id="7494877">byte</span>&nbsp;<span class="op" id="7494882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494885">var</span>&nbsp;<span class="ident" id="7494889">src</span>&nbsp;<span class="op" id="7494893">[</span><span class="op" id="7494894">]</span><span class="builtintype" id="7494895">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494901">for</span>&nbsp;<span class="ident" id="7494905">_</span><span class="op" id="7494906">,</span>&nbsp;<span class="ident" id="7494908">t</span>&nbsp;<span class="op" id="7494910">:=</span>&nbsp;<span class="keyword" id="7494913">range</span>&nbsp;<span class="ident" id="7494919">tokens</span>&nbsp;<span class="op" id="7494926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494930">src</span>&nbsp;<span class="op" id="7494934">=</span>&nbsp;<span class="builtinfunc" id="7494936">append</span><span class="op" id="7494942">(</span><span class="ident" id="7494943">src</span><span class="op" id="7494946">,</span>&nbsp;<span class="ident" id="7494948">t</span><span class="op" id="7494949">.</span><span class="ident" id="7494950">lit</span><span class="op" id="7494953">...</span><span class="op" id="7494956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494960">src</span>&nbsp;<span class="op" id="7494964">=</span>&nbsp;<span class="builtinfunc" id="7494966">append</span><span class="op" id="7494972">(</span><span class="ident" id="7494973">src</span><span class="op" id="7494976">,</span>&nbsp;<span class="ident" id="7494978">whitespace</span><span class="op" id="7494988">...</span><span class="op" id="7494991">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494997">return</span>&nbsp;<span class="ident" id="7495004">src</span><br>
<span class="lineno"></span><span class="op" id="7495008">}</span><span class="op" id="7495009">(</span><span class="op" id="7495010">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495013">func</span>&nbsp;<span class="ident" id="7495018">newlineCount</span><span class="op" id="7495030">(</span><span class="ident" id="7495031">s</span>&nbsp;<span class="builtintype" id="7495033">string</span><span class="op" id="7495039">)</span>&nbsp;<span class="builtintype" id="7495041">int</span>&nbsp;<span class="op" id="7495045">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495048">n</span>&nbsp;<span class="op" id="7495050">:=</span>&nbsp;<span class="num" id="7495053">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495056">for</span>&nbsp;<span class="ident" id="7495060">i</span>&nbsp;<span class="op" id="7495062">:=</span>&nbsp;<span class="num" id="7495065">0</span><span class="op" id="7495066">;</span>&nbsp;<span class="ident" id="7495068">i</span>&nbsp;<span class="op" id="7495070">&lt;</span>&nbsp;<span class="builtinfunc" id="7495072">len</span><span class="op" id="7495075">(</span><span class="ident" id="7495076">s</span><span class="op" id="7495077">)</span><span class="op" id="7495078">;</span>&nbsp;<span class="ident" id="7495080">i</span><span class="op" id="7495081">++</span>&nbsp;<span class="op" id="7495084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495088">if</span>&nbsp;<span class="ident" id="7495091">s</span><span class="op" id="7495092">[</span><span class="ident" id="7495093">i</span><span class="op" id="7495094">]</span>&nbsp;<span class="op" id="7495096">==</span>&nbsp;<span class="string" id="7495099">&#39;\n&#39;</span>&nbsp;<span class="op" id="7495104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495109">n</span><span class="op" id="7495110">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495115">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495121">return</span>&nbsp;<span class="ident" id="7495128">n</span><br>
<span class="lineno"></span><span class="op" id="7495130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495133">func</span>&nbsp;<span class="ident" id="7495138">checkPos</span><span class="op" id="7495146">(</span><span class="ident" id="7495147">t</span>&nbsp;<span class="op" id="7495149">*</span><span class="ident" id="7495150">testing</span><span class="op" id="7495157">.</span><span class="ident" id="7495158">T</span><span class="op" id="7495159">,</span>&nbsp;<span class="ident" id="7495161">lit</span>&nbsp;<span class="builtintype" id="7495165">string</span><span class="op" id="7495171">,</span>&nbsp;<span class="ident" id="7495173">p</span>&nbsp;<span class="ident" id="7495175">token</span><span class="op" id="7495180">.</span><span class="ident" id="7495181">Pos</span><span class="op" id="7495184">,</span>&nbsp;<span class="ident" id="7495186">expected</span>&nbsp;<span class="ident" id="7495195">token</span><span class="op" id="7495200">.</span><span class="ident" id="7495201">Position</span><span class="op" id="7495209">)</span>&nbsp;<span class="op" id="7495211">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495214">pos</span>&nbsp;<span class="op" id="7495218">:=</span>&nbsp;<span class="ident" id="7495221">fset</span><span class="op" id="7495225">.</span><span class="ident" id="7495226">Position</span><span class="op" id="7495234">(</span><span class="ident" id="7495235">p</span><span class="op" id="7495236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495239">if</span>&nbsp;<span class="ident" id="7495242">pos</span><span class="op" id="7495245">.</span><span class="ident" id="7495246">Filename</span>&nbsp;<span class="op" id="7495255">!=</span>&nbsp;<span class="ident" id="7495258">expected</span><span class="op" id="7495266">.</span><span class="ident" id="7495267">Filename</span>&nbsp;<span class="op" id="7495276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495280">t</span><span class="op" id="7495281">.</span><span class="ident" id="7495282">Errorf</span><span class="op" id="7495288">(</span><span class="string" id="7495289">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7495331">,</span>&nbsp;<span class="ident" id="7495333">lit</span><span class="op" id="7495336">,</span>&nbsp;<span class="ident" id="7495338">pos</span><span class="op" id="7495341">.</span><span class="ident" id="7495342">Filename</span><span class="op" id="7495350">,</span>&nbsp;<span class="ident" id="7495352">expected</span><span class="op" id="7495360">.</span><span class="ident" id="7495361">Filename</span><span class="op" id="7495369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495375">if</span>&nbsp;<span class="ident" id="7495378">pos</span><span class="op" id="7495381">.</span><span class="ident" id="7495382">Offset</span>&nbsp;<span class="op" id="7495389">!=</span>&nbsp;<span class="ident" id="7495392">expected</span><span class="op" id="7495400">.</span><span class="ident" id="7495401">Offset</span>&nbsp;<span class="op" id="7495408">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495412">t</span><span class="op" id="7495413">.</span><span class="ident" id="7495414">Errorf</span><span class="op" id="7495420">(</span><span class="string" id="7495421">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7495463">,</span>&nbsp;<span class="ident" id="7495465">lit</span><span class="op" id="7495468">,</span>&nbsp;<span class="ident" id="7495470">pos</span><span class="op" id="7495473">.</span><span class="ident" id="7495474">Offset</span><span class="op" id="7495480">,</span>&nbsp;<span class="ident" id="7495482">expected</span><span class="op" id="7495490">.</span><span class="ident" id="7495491">Offset</span><span class="op" id="7495497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495503">if</span>&nbsp;<span class="ident" id="7495506">pos</span><span class="op" id="7495509">.</span><span class="ident" id="7495510">Line</span>&nbsp;<span class="op" id="7495515">!=</span>&nbsp;<span class="ident" id="7495518">expected</span><span class="op" id="7495526">.</span><span class="ident" id="7495527">Line</span>&nbsp;<span class="op" id="7495532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495536">t</span><span class="op" id="7495537">.</span><span class="ident" id="7495538">Errorf</span><span class="op" id="7495544">(</span><span class="string" id="7495545">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7495583">,</span>&nbsp;<span class="ident" id="7495585">lit</span><span class="op" id="7495588">,</span>&nbsp;<span class="ident" id="7495590">pos</span><span class="op" id="7495593">.</span><span class="ident" id="7495594">Line</span><span class="op" id="7495598">,</span>&nbsp;<span class="ident" id="7495600">expected</span><span class="op" id="7495608">.</span><span class="ident" id="7495609">Line</span><span class="op" id="7495613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495616">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495619">if</span>&nbsp;<span class="ident" id="7495622">pos</span><span class="op" id="7495625">.</span><span class="ident" id="7495626">Column</span>&nbsp;<span class="op" id="7495633">!=</span>&nbsp;<span class="ident" id="7495636">expected</span><span class="op" id="7495644">.</span><span class="ident" id="7495645">Column</span>&nbsp;<span class="op" id="7495652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495656">t</span><span class="op" id="7495657">.</span><span class="ident" id="7495658">Errorf</span><span class="op" id="7495664">(</span><span class="string" id="7495665">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7495705">,</span>&nbsp;<span class="ident" id="7495707">lit</span><span class="op" id="7495710">,</span>&nbsp;<span class="ident" id="7495712">pos</span><span class="op" id="7495715">.</span><span class="ident" id="7495716">Column</span><span class="op" id="7495722">,</span>&nbsp;<span class="ident" id="7495724">expected</span><span class="op" id="7495732">.</span><span class="ident" id="7495733">Column</span><span class="op" id="7495739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495742">}</span><br>
<span class="lineno"></span><span class="op" id="7495744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="7495747">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="7495807">func</span>&nbsp;<span class="ident" id="7495812">TestScan</span><span class="op" id="7495820">(</span><span class="ident" id="7495821">t</span>&nbsp;<span class="op" id="7495823">*</span><span class="ident" id="7495824">testing</span><span class="op" id="7495831">.</span><span class="ident" id="7495832">T</span><span class="op" id="7495833">)</span>&nbsp;<span class="op" id="7495835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495838">whitespace_linecount</span>&nbsp;<span class="op" id="7495859">:=</span>&nbsp;<span class="ident" id="7495862">newlineCount</span><span class="op" id="7495874">(</span><span class="ident" id="7495875">whitespace</span><span class="op" id="7495885">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7495889">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495907">eh</span>&nbsp;<span class="op" id="7495910">:=</span>&nbsp;<span class="keyword" id="7495913">func</span><span class="op" id="7495917">(</span><span class="ident" id="7495918">_</span>&nbsp;<span class="ident" id="7495920">token</span><span class="op" id="7495925">.</span><span class="ident" id="7495926">Position</span><span class="op" id="7495934">,</span>&nbsp;<span class="ident" id="7495936">msg</span>&nbsp;<span class="builtintype" id="7495940">string</span><span class="op" id="7495946">)</span>&nbsp;<span class="op" id="7495948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495952">t</span><span class="op" id="7495953">.</span><span class="ident" id="7495954">Errorf</span><span class="op" id="7495960">(</span><span class="string" id="7495961">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="7495994">,</span>&nbsp;<span class="ident" id="7495996">msg</span><span class="op" id="7495999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7496006">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496022">var</span>&nbsp;<span class="ident" id="7496026">s</span>&nbsp;<span class="ident" id="7496028">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496037">s</span><span class="op" id="7496038">.</span><span class="ident" id="7496039">Init</span><span class="op" id="7496043">(</span><span class="ident" id="7496044">fset</span><span class="op" id="7496048">.</span><span class="ident" id="7496049">AddFile</span><span class="op" id="7496056">(</span><span class="string" id="7496057">&#34;&#34;</span><span class="op" id="7496059">,</span>&nbsp;<span class="ident" id="7496061">fset</span><span class="op" id="7496065">.</span><span class="ident" id="7496066">Base</span><span class="op" id="7496070">(</span><span class="op" id="7496071">)</span><span class="op" id="7496072">,</span>&nbsp;<span class="builtinfunc" id="7496074">len</span><span class="op" id="7496077">(</span><span class="ident" id="7496078">source</span><span class="op" id="7496084">)</span><span class="op" id="7496085">)</span><span class="op" id="7496086">,</span>&nbsp;<span class="ident" id="7496088">source</span><span class="op" id="7496094">,</span>&nbsp;<span class="ident" id="7496096">eh</span><span class="op" id="7496098">,</span>&nbsp;<span class="ident" id="7496100">ScanComments</span><span class="op" id="7496112">|</span><span class="ident" id="7496113">dontInsertSemis</span><span class="op" id="7496128">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7496132">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496161">epos</span>&nbsp;<span class="op" id="7496166">:=</span>&nbsp;<span class="ident" id="7496169">token</span><span class="op" id="7496174">.</span><span class="ident" id="7496175">Position</span><span class="op" id="7496183">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496187">Filename</span><span class="op" id="7496195">:</span>&nbsp;<span class="string" id="7496197">&#34;&#34;</span><span class="op" id="7496199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496203">Offset</span><span class="op" id="7496209">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7496213">0</span><span class="op" id="7496214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496218">Line</span><span class="op" id="7496222">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7496228">1</span><span class="op" id="7496229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496233">Column</span><span class="op" id="7496239">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7496243">1</span><span class="op" id="7496244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496247">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496251">index</span>&nbsp;<span class="op" id="7496257">:=</span>&nbsp;<span class="num" id="7496260">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496263">for</span>&nbsp;<span class="op" id="7496267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496271">pos</span><span class="op" id="7496274">,</span>&nbsp;<span class="ident" id="7496276">tok</span><span class="op" id="7496279">,</span>&nbsp;<span class="ident" id="7496281">lit</span>&nbsp;<span class="op" id="7496285">:=</span>&nbsp;<span class="ident" id="7496288">s</span><span class="op" id="7496289">.</span><span class="ident" id="7496290">Scan</span><span class="op" id="7496294">(</span><span class="op" id="7496295">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7496300">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496320">if</span>&nbsp;<span class="ident" id="7496323">tok</span>&nbsp;<span class="op" id="7496327">==</span>&nbsp;<span class="ident" id="7496330">token</span><span class="op" id="7496335">.</span><span class="ident" id="7496336">EOF</span>&nbsp;<span class="op" id="7496340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7496345">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496370">epos</span><span class="op" id="7496374">.</span><span class="ident" id="7496375">Line</span>&nbsp;<span class="op" id="7496380">=</span>&nbsp;<span class="ident" id="7496382">newlineCount</span><span class="op" id="7496394">(</span><span class="builtintype" id="7496395">string</span><span class="op" id="7496401">(</span><span class="ident" id="7496402">source</span><span class="op" id="7496408">)</span><span class="op" id="7496409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496414">epos</span><span class="op" id="7496418">.</span><span class="ident" id="7496419">Column</span>&nbsp;<span class="op" id="7496426">=</span>&nbsp;<span class="num" id="7496428">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496436">checkPos</span><span class="op" id="7496444">(</span><span class="ident" id="7496445">t</span><span class="op" id="7496446">,</span>&nbsp;<span class="ident" id="7496448">lit</span><span class="op" id="7496451">,</span>&nbsp;<span class="ident" id="7496453">pos</span><span class="op" id="7496456">,</span>&nbsp;<span class="ident" id="7496458">epos</span><span class="op" id="7496462">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7496467">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496484">e</span>&nbsp;<span class="op" id="7496486">:=</span>&nbsp;<span class="ident" id="7496489">elt</span><span class="op" id="7496492">{</span><span class="ident" id="7496493">token</span><span class="op" id="7496498">.</span><span class="ident" id="7496499">EOF</span><span class="op" id="7496502">,</span>&nbsp;<span class="string" id="7496504">&#34;&#34;</span><span class="op" id="7496506">,</span>&nbsp;<span class="ident" id="7496508">special</span><span class="op" id="7496515">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496519">if</span>&nbsp;<span class="ident" id="7496522">index</span>&nbsp;<span class="op" id="7496528">&lt;</span>&nbsp;<span class="builtinfunc" id="7496530">len</span><span class="op" id="7496533">(</span><span class="ident" id="7496534">tokens</span><span class="op" id="7496540">)</span>&nbsp;<span class="op" id="7496542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496547">e</span>&nbsp;<span class="op" id="7496549">=</span>&nbsp;<span class="ident" id="7496551">tokens</span><span class="op" id="7496557">[</span><span class="ident" id="7496558">index</span><span class="op" id="7496563">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496568">index</span><span class="op" id="7496573">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496582">if</span>&nbsp;<span class="ident" id="7496585">tok</span>&nbsp;<span class="op" id="7496589">!=</span>&nbsp;<span class="ident" id="7496592">e</span><span class="op" id="7496593">.</span><span class="ident" id="7496594">tok</span>&nbsp;<span class="op" id="7496598">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496603">t</span><span class="op" id="7496604">.</span><span class="ident" id="7496605">Errorf</span><span class="op" id="7496611">(</span><span class="string" id="7496612">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7496651">,</span>&nbsp;<span class="ident" id="7496653">lit</span><span class="op" id="7496656">,</span>&nbsp;<span class="ident" id="7496658">tok</span><span class="op" id="7496661">,</span>&nbsp;<span class="ident" id="7496663">e</span><span class="op" id="7496664">.</span><span class="ident" id="7496665">tok</span><span class="op" id="7496668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7496677">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496700">if</span>&nbsp;<span class="ident" id="7496703">tokenclass</span><span class="op" id="7496713">(</span><span class="ident" id="7496714">tok</span><span class="op" id="7496717">)</span>&nbsp;<span class="op" id="7496719">!=</span>&nbsp;<span class="ident" id="7496722">e</span><span class="op" id="7496723">.</span><span class="ident" id="7496724">class</span>&nbsp;<span class="op" id="7496730">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496735">t</span><span class="op" id="7496736">.</span><span class="ident" id="7496737">Errorf</span><span class="op" id="7496743">(</span><span class="string" id="7496744">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7496783">,</span>&nbsp;<span class="ident" id="7496785">lit</span><span class="op" id="7496788">,</span>&nbsp;<span class="ident" id="7496790">tokenclass</span><span class="op" id="7496800">(</span><span class="ident" id="7496801">tok</span><span class="op" id="7496804">)</span><span class="op" id="7496805">,</span>&nbsp;<span class="ident" id="7496807">e</span><span class="op" id="7496808">.</span><span class="ident" id="7496809">class</span><span class="op" id="7496814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7496823">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496842">elit</span>&nbsp;<span class="op" id="7496847">:=</span>&nbsp;<span class="string" id="7496850">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496855">switch</span>&nbsp;<span class="ident" id="7496862">e</span><span class="op" id="7496863">.</span><span class="ident" id="7496864">tok</span>&nbsp;<span class="op" id="7496868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496872">case</span>&nbsp;<span class="ident" id="7496877">token</span><span class="op" id="7496882">.</span><span class="ident" id="7496883">COMMENT</span><span class="op" id="7496890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7496895">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496920">elit</span>&nbsp;<span class="op" id="7496925">=</span>&nbsp;<span class="builtintype" id="7496927">string</span><span class="op" id="7496933">(</span><span class="ident" id="7496934">stripCR</span><span class="op" id="7496941">(</span><span class="op" id="7496942">[</span><span class="op" id="7496943">]</span><span class="builtintype" id="7496944">byte</span><span class="op" id="7496948">(</span><span class="ident" id="7496949">e</span><span class="op" id="7496950">.</span><span class="ident" id="7496951">lit</span><span class="op" id="7496954">)</span><span class="op" id="7496955">)</span><span class="op" id="7496956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7496961">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497013">if</span>&nbsp;<span class="ident" id="7497016">elit</span><span class="op" id="7497020">[</span><span class="num" id="7497021">1</span><span class="op" id="7497022">]</span>&nbsp;<span class="op" id="7497024">==</span>&nbsp;<span class="string" id="7497027">&#39;/&#39;</span>&nbsp;<span class="op" id="7497031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497037">elit</span>&nbsp;<span class="op" id="7497042">=</span>&nbsp;<span class="ident" id="7497044">elit</span><span class="op" id="7497048">[</span><span class="num" id="7497049">0</span>&nbsp;<span class="op" id="7497051">:</span>&nbsp;<span class="builtinfunc" id="7497053">len</span><span class="op" id="7497056">(</span><span class="ident" id="7497057">elit</span><span class="op" id="7497061">)</span><span class="op" id="7497062">-</span><span class="num" id="7497063">1</span><span class="op" id="7497064">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497073">case</span>&nbsp;<span class="ident" id="7497078">token</span><span class="op" id="7497083">.</span><span class="ident" id="7497084">IDENT</span><span class="op" id="7497089">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497094">elit</span>&nbsp;<span class="op" id="7497099">=</span>&nbsp;<span class="ident" id="7497101">e</span><span class="op" id="7497102">.</span><span class="ident" id="7497103">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497109">case</span>&nbsp;<span class="ident" id="7497114">token</span><span class="op" id="7497119">.</span><span class="ident" id="7497120">SEMICOLON</span><span class="op" id="7497129">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497134">elit</span>&nbsp;<span class="op" id="7497139">=</span>&nbsp;<span class="string" id="7497141">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497147">default</span><span class="op" id="7497154">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497159">if</span>&nbsp;<span class="ident" id="7497162">e</span><span class="op" id="7497163">.</span><span class="ident" id="7497164">tok</span><span class="op" id="7497167">.</span><span class="ident" id="7497168">IsLiteral</span><span class="op" id="7497177">(</span><span class="op" id="7497178">)</span>&nbsp;<span class="op" id="7497180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7497186">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497223">elit</span>&nbsp;<span class="op" id="7497228">=</span>&nbsp;<span class="ident" id="7497230">e</span><span class="op" id="7497231">.</span><span class="ident" id="7497232">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497240">if</span>&nbsp;<span class="ident" id="7497243">elit</span><span class="op" id="7497247">[</span><span class="num" id="7497248">0</span><span class="op" id="7497249">]</span>&nbsp;<span class="op" id="7497251">==</span>&nbsp;<span class="string" id="7497254">&#39;`&#39;</span>&nbsp;<span class="op" id="7497258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497265">elit</span>&nbsp;<span class="op" id="7497270">=</span>&nbsp;<span class="builtintype" id="7497272">string</span><span class="op" id="7497278">(</span><span class="ident" id="7497279">stripCR</span><span class="op" id="7497286">(</span><span class="op" id="7497287">[</span><span class="op" id="7497288">]</span><span class="builtintype" id="7497289">byte</span><span class="op" id="7497293">(</span><span class="ident" id="7497294">elit</span><span class="op" id="7497298">)</span><span class="op" id="7497299">)</span><span class="op" id="7497300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497311">}</span>&nbsp;<span class="keyword" id="7497313">else</span>&nbsp;<span class="keyword" id="7497318">if</span>&nbsp;<span class="ident" id="7497321">e</span><span class="op" id="7497322">.</span><span class="ident" id="7497323">tok</span><span class="op" id="7497326">.</span><span class="ident" id="7497327">IsKeyword</span><span class="op" id="7497336">(</span><span class="op" id="7497337">)</span>&nbsp;<span class="op" id="7497339">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497345">elit</span>&nbsp;<span class="op" id="7497350">=</span>&nbsp;<span class="ident" id="7497352">e</span><span class="op" id="7497353">.</span><span class="ident" id="7497354">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497369">if</span>&nbsp;<span class="ident" id="7497372">lit</span>&nbsp;<span class="op" id="7497376">!=</span>&nbsp;<span class="ident" id="7497379">elit</span>&nbsp;<span class="op" id="7497384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497389">t</span><span class="op" id="7497390">.</span><span class="ident" id="7497391">Errorf</span><span class="op" id="7497397">(</span><span class="string" id="7497398">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7497439">,</span>&nbsp;<span class="ident" id="7497441">lit</span><span class="op" id="7497444">,</span>&nbsp;<span class="ident" id="7497446">lit</span><span class="op" id="7497449">,</span>&nbsp;<span class="ident" id="7497451">elit</span><span class="op" id="7497455">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497464">if</span>&nbsp;<span class="ident" id="7497467">tok</span>&nbsp;<span class="op" id="7497471">==</span>&nbsp;<span class="ident" id="7497474">token</span><span class="op" id="7497479">.</span><span class="ident" id="7497480">EOF</span>&nbsp;<span class="op" id="7497484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497489">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497497">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7497502">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497523">epos</span><span class="op" id="7497527">.</span><span class="ident" id="7497528">Offset</span>&nbsp;<span class="op" id="7497535">+=</span>&nbsp;<span class="builtinfunc" id="7497538">len</span><span class="op" id="7497541">(</span><span class="ident" id="7497542">e</span><span class="op" id="7497543">.</span><span class="ident" id="7497544">lit</span><span class="op" id="7497547">)</span>&nbsp;<span class="op" id="7497549">+</span>&nbsp;<span class="builtinfunc" id="7497551">len</span><span class="op" id="7497554">(</span><span class="ident" id="7497555">whitespace</span><span class="op" id="7497565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497569">epos</span><span class="op" id="7497573">.</span><span class="ident" id="7497574">Line</span>&nbsp;<span class="op" id="7497579">+=</span>&nbsp;<span class="ident" id="7497582">newlineCount</span><span class="op" id="7497594">(</span><span class="ident" id="7497595">e</span><span class="op" id="7497596">.</span><span class="ident" id="7497597">lit</span><span class="op" id="7497600">)</span>&nbsp;<span class="op" id="7497602">+</span>&nbsp;<span class="ident" id="7497604">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497631">if</span>&nbsp;<span class="ident" id="7497634">s</span><span class="op" id="7497635">.</span><span class="ident" id="7497636">ErrorCount</span>&nbsp;<span class="op" id="7497647">!=</span>&nbsp;<span class="num" id="7497650">0</span>&nbsp;<span class="op" id="7497652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497656">t</span><span class="op" id="7497657">.</span><span class="ident" id="7497658">Errorf</span><span class="op" id="7497664">(</span><span class="string" id="7497665">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7497682">,</span>&nbsp;<span class="ident" id="7497684">s</span><span class="op" id="7497685">.</span><span class="ident" id="7497686">ErrorCount</span><span class="op" id="7497696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497699">}</span><br>
<span class="lineno">310</span><span class="op" id="7497701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7497704">func</span>&nbsp;<span class="ident" id="7497709">checkSemi</span><span class="op" id="7497718">(</span><span class="ident" id="7497719">t</span>&nbsp;<span class="op" id="7497721">*</span><span class="ident" id="7497722">testing</span><span class="op" id="7497729">.</span><span class="ident" id="7497730">T</span><span class="op" id="7497731">,</span>&nbsp;<span class="ident" id="7497733">line</span>&nbsp;<span class="builtintype" id="7497738">string</span><span class="op" id="7497744">,</span>&nbsp;<span class="ident" id="7497746">mode</span>&nbsp;<span class="ident" id="7497751">Mode</span><span class="op" id="7497755">)</span>&nbsp;<span class="op" id="7497757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497760">var</span>&nbsp;<span class="ident" id="7497764">S</span>&nbsp;<span class="ident" id="7497766">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497775">file</span>&nbsp;<span class="op" id="7497780">:=</span>&nbsp;<span class="ident" id="7497783">fset</span><span class="op" id="7497787">.</span><span class="ident" id="7497788">AddFile</span><span class="op" id="7497795">(</span><span class="string" id="7497796">&#34;TestSemis&#34;</span><span class="op" id="7497807">,</span>&nbsp;<span class="ident" id="7497809">fset</span><span class="op" id="7497813">.</span><span class="ident" id="7497814">Base</span><span class="op" id="7497818">(</span><span class="op" id="7497819">)</span><span class="op" id="7497820">,</span>&nbsp;<span class="builtinfunc" id="7497822">len</span><span class="op" id="7497825">(</span><span class="ident" id="7497826">line</span><span class="op" id="7497830">)</span><span class="op" id="7497831">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497834">S</span><span class="op" id="7497835">.</span><span class="ident" id="7497836">Init</span><span class="op" id="7497840">(</span><span class="ident" id="7497841">file</span><span class="op" id="7497845">,</span>&nbsp;<span class="op" id="7497847">[</span><span class="op" id="7497848">]</span><span class="builtintype" id="7497849">byte</span><span class="op" id="7497853">(</span><span class="ident" id="7497854">line</span><span class="op" id="7497858">)</span><span class="op" id="7497859">,</span>&nbsp;<span class="ident" id="7497861">nil</span><span class="op" id="7497864">,</span>&nbsp;<span class="ident" id="7497866">mode</span><span class="op" id="7497870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497873">pos</span><span class="op" id="7497876">,</span>&nbsp;<span class="ident" id="7497878">tok</span><span class="op" id="7497881">,</span>&nbsp;<span class="ident" id="7497883">lit</span>&nbsp;<span class="op" id="7497887">:=</span>&nbsp;<span class="ident" id="7497890">S</span><span class="op" id="7497891">.</span><span class="ident" id="7497892">Scan</span><span class="op" id="7497896">(</span><span class="op" id="7497897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497900">for</span>&nbsp;<span class="ident" id="7497904">tok</span>&nbsp;<span class="op" id="7497908">!=</span>&nbsp;<span class="ident" id="7497911">token</span><span class="op" id="7497916">.</span><span class="ident" id="7497917">EOF</span>&nbsp;<span class="op" id="7497921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497925">if</span>&nbsp;<span class="ident" id="7497928">tok</span>&nbsp;<span class="op" id="7497932">==</span>&nbsp;<span class="ident" id="7497935">token</span><span class="op" id="7497940">.</span><span class="ident" id="7497941">ILLEGAL</span>&nbsp;<span class="op" id="7497949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7497954">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7498001">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498043">semiLit</span>&nbsp;<span class="op" id="7498051">:=</span>&nbsp;<span class="string" id="7498054">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498062">if</span>&nbsp;<span class="ident" id="7498065">lit</span><span class="op" id="7498068">[</span><span class="num" id="7498069">0</span><span class="op" id="7498070">]</span>&nbsp;<span class="op" id="7498072">==</span>&nbsp;<span class="string" id="7498075">&#39;#&#39;</span>&nbsp;<span class="op" id="7498079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498085">semiLit</span>&nbsp;<span class="op" id="7498093">=</span>&nbsp;<span class="string" id="7498095">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498102">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7498107">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498144">semiPos</span>&nbsp;<span class="op" id="7498152">:=</span>&nbsp;<span class="ident" id="7498155">file</span><span class="op" id="7498159">.</span><span class="ident" id="7498160">Position</span><span class="op" id="7498168">(</span><span class="ident" id="7498169">pos</span><span class="op" id="7498172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498177">semiPos</span><span class="op" id="7498184">.</span><span class="ident" id="7498185">Offset</span><span class="op" id="7498191">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498197">semiPos</span><span class="op" id="7498204">.</span><span class="ident" id="7498205">Column</span><span class="op" id="7498211">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498217">pos</span><span class="op" id="7498220">,</span>&nbsp;<span class="ident" id="7498222">tok</span><span class="op" id="7498225">,</span>&nbsp;<span class="ident" id="7498227">lit</span>&nbsp;<span class="op" id="7498231">=</span>&nbsp;<span class="ident" id="7498233">S</span><span class="op" id="7498234">.</span><span class="ident" id="7498235">Scan</span><span class="op" id="7498239">(</span><span class="op" id="7498240">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498245">if</span>&nbsp;<span class="ident" id="7498248">tok</span>&nbsp;<span class="op" id="7498252">==</span>&nbsp;<span class="ident" id="7498255">token</span><span class="op" id="7498260">.</span><span class="ident" id="7498261">SEMICOLON</span>&nbsp;<span class="op" id="7498271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7498277">if</span>&nbsp;<span class="ident" id="7498280">lit</span>&nbsp;<span class="op" id="7498284">!=</span>&nbsp;<span class="ident" id="7498287">semiLit</span>&nbsp;<span class="op" id="7498295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498302">t</span><span class="op" id="7498303">.</span><span class="ident" id="7498304">Errorf</span><span class="op" id="7498310">(</span><span class="string" id="7498311">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="7498352">,</span>&nbsp;<span class="ident" id="7498354">line</span><span class="op" id="7498358">,</span>&nbsp;<span class="ident" id="7498360">lit</span><span class="op" id="7498363">,</span>&nbsp;<span class="ident" id="7498365">semiLit</span><span class="op" id="7498372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498384">checkPos</span><span class="op" id="7498392">(</span><span class="ident" id="7498393">t</span><span class="op" id="7498394">,</span>&nbsp;<span class="ident" id="7498396">line</span><span class="op" id="7498400">,</span>&nbsp;<span class="ident" id="7498402">pos</span><span class="op" id="7498405">,</span>&nbsp;<span class="ident" id="7498407">semiPos</span><span class="op" id="7498414">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498419">}</span>&nbsp;<span class="keyword" id="7498421">else</span>&nbsp;<span class="op" id="7498426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498432">t</span><span class="op" id="7498433">.</span><span class="ident" id="7498434">Errorf</span><span class="op" id="7498440">(</span><span class="string" id="7498441">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="7498479">,</span>&nbsp;<span class="ident" id="7498481">line</span><span class="op" id="7498485">,</span>&nbsp;<span class="ident" id="7498487">tok</span><span class="op" id="7498490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498499">}</span>&nbsp;<span class="keyword" id="7498501">else</span>&nbsp;<span class="keyword" id="7498506">if</span>&nbsp;<span class="ident" id="7498509">tok</span>&nbsp;<span class="op" id="7498513">==</span>&nbsp;<span class="ident" id="7498516">token</span><span class="op" id="7498521">.</span><span class="ident" id="7498522">SEMICOLON</span>&nbsp;<span class="op" id="7498532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498537">t</span><span class="op" id="7498538">.</span><span class="ident" id="7498539">Errorf</span><span class="op" id="7498545">(</span><span class="string" id="7498546">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="7498586">,</span>&nbsp;<span class="ident" id="7498588">line</span><span class="op" id="7498592">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498600">pos</span><span class="op" id="7498603">,</span>&nbsp;<span class="ident" id="7498605">tok</span><span class="op" id="7498608">,</span>&nbsp;<span class="ident" id="7498610">lit</span>&nbsp;<span class="op" id="7498614">=</span>&nbsp;<span class="ident" id="7498616">S</span><span class="op" id="7498617">.</span><span class="ident" id="7498618">Scan</span><span class="op" id="7498622">(</span><span class="op" id="7498623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7498626">}</span><br>
<span class="lineno"></span><span class="op" id="7498628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="7498631">var</span>&nbsp;<span class="ident" id="7498635">lines</span>&nbsp;<span class="op" id="7498641">=</span>&nbsp;<span class="op" id="7498643">[</span><span class="op" id="7498644">]</span><span class="builtintype" id="7498645">string</span><span class="op" id="7498651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7498654">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7498704">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498756">&#34;&#34;</span><span class="op" id="7498758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498761">&#34;\ufeff#;&#34;</span><span class="op" id="7498771">,</span>&nbsp;<span class="comment" id="7498773">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498798">&#34;#;&#34;</span><span class="op" id="7498802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498805">&#34;foo$\n&#34;</span><span class="op" id="7498813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498816">&#34;123$\n&#34;</span><span class="op" id="7498824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498827">&#34;1.2$\n&#34;</span><span class="op" id="7498835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498838">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="7498846">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498849">`&#34;x&#34;`</span>&nbsp;<span class="op" id="7498855">+</span>&nbsp;<span class="string" id="7498857">&#34;$\n&#34;</span><span class="op" id="7498862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498865">&#34;`x`$\n&#34;</span><span class="op" id="7498873">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498877">&#34;+\n&#34;</span><span class="op" id="7498882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498885">&#34;-\n&#34;</span><span class="op" id="7498890">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498893">&#34;*\n&#34;</span><span class="op" id="7498898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498901">&#34;/\n&#34;</span><span class="op" id="7498906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498909">&#34;%\n&#34;</span><span class="op" id="7498914">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498918">&#34;&amp;\n&#34;</span><span class="op" id="7498923">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498926">&#34;|\n&#34;</span><span class="op" id="7498931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498934">&#34;^\n&#34;</span><span class="op" id="7498939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498942">&#34;&lt;&lt;\n&#34;</span><span class="op" id="7498948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498951">&#34;&gt;&gt;\n&#34;</span><span class="op" id="7498957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498960">&#34;&amp;^\n&#34;</span><span class="op" id="7498966">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498970">&#34;+=\n&#34;</span><span class="op" id="7498976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498979">&#34;-=\n&#34;</span><span class="op" id="7498985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498988">&#34;*=\n&#34;</span><span class="op" id="7498994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7498997">&#34;/=\n&#34;</span><span class="op" id="7499003">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499006">&#34;%=\n&#34;</span><span class="op" id="7499012">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499016">&#34;&amp;=\n&#34;</span><span class="op" id="7499022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499025">&#34;|=\n&#34;</span><span class="op" id="7499031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499034">&#34;^=\n&#34;</span><span class="op" id="7499040">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499043">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="7499050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499053">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="7499060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499063">&#34;&amp;^=\n&#34;</span><span class="op" id="7499070">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499074">&#34;&amp;&amp;\n&#34;</span><span class="op" id="7499080">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499083">&#34;||\n&#34;</span><span class="op" id="7499089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499092">&#34;&lt;-\n&#34;</span><span class="op" id="7499098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499101">&#34;++$\n&#34;</span><span class="op" id="7499108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499111">&#34;--$\n&#34;</span><span class="op" id="7499118">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499122">&#34;==\n&#34;</span><span class="op" id="7499128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499131">&#34;&lt;\n&#34;</span><span class="op" id="7499136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499139">&#34;&gt;\n&#34;</span><span class="op" id="7499144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499147">&#34;=\n&#34;</span><span class="op" id="7499152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499155">&#34;!\n&#34;</span><span class="op" id="7499160">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499164">&#34;!=\n&#34;</span><span class="op" id="7499170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499173">&#34;&lt;=\n&#34;</span><span class="op" id="7499179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499182">&#34;&gt;=\n&#34;</span><span class="op" id="7499188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499191">&#34;:=\n&#34;</span><span class="op" id="7499197">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499200">&#34;...\n&#34;</span><span class="op" id="7499207">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499211">&#34;(\n&#34;</span><span class="op" id="7499216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499219">&#34;[\n&#34;</span><span class="op" id="7499224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499227">&#34;{\n&#34;</span><span class="op" id="7499232">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499235">&#34;,\n&#34;</span><span class="op" id="7499240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499243">&#34;.\n&#34;</span><span class="op" id="7499248">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499252">&#34;)$\n&#34;</span><span class="op" id="7499258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499261">&#34;]$\n&#34;</span><span class="op" id="7499267">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499270">&#34;}$\n&#34;</span><span class="op" id="7499276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499279">&#34;#;\n&#34;</span><span class="op" id="7499285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499288">&#34;:\n&#34;</span><span class="op" id="7499293">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499297">&#34;break$\n&#34;</span><span class="op" id="7499307">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499310">&#34;case\n&#34;</span><span class="op" id="7499318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499321">&#34;chan\n&#34;</span><span class="op" id="7499329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499332">&#34;const\n&#34;</span><span class="op" id="7499341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499344">&#34;continue$\n&#34;</span><span class="op" id="7499357">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499361">&#34;default\n&#34;</span><span class="op" id="7499372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499375">&#34;defer\n&#34;</span><span class="op" id="7499384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499387">&#34;else\n&#34;</span><span class="op" id="7499395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499398">&#34;fallthrough$\n&#34;</span><span class="op" id="7499414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499417">&#34;for\n&#34;</span><span class="op" id="7499424">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499428">&#34;func\n&#34;</span><span class="op" id="7499436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499439">&#34;go\n&#34;</span><span class="op" id="7499445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499448">&#34;goto\n&#34;</span><span class="op" id="7499456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499459">&#34;if\n&#34;</span><span class="op" id="7499465">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499468">&#34;import\n&#34;</span><span class="op" id="7499478">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499482">&#34;interface\n&#34;</span><span class="op" id="7499495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499498">&#34;map\n&#34;</span><span class="op" id="7499505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499508">&#34;package\n&#34;</span><span class="op" id="7499519">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499522">&#34;range\n&#34;</span><span class="op" id="7499531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499534">&#34;return$\n&#34;</span><span class="op" id="7499545">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499549">&#34;select\n&#34;</span><span class="op" id="7499559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499562">&#34;struct\n&#34;</span><span class="op" id="7499572">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499575">&#34;switch\n&#34;</span><span class="op" id="7499585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499588">&#34;type\n&#34;</span><span class="op" id="7499596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499599">&#34;var\n&#34;</span><span class="op" id="7499606">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499610">&#34;foo$//comment\n&#34;</span><span class="op" id="7499627">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499630">&#34;foo$//comment&#34;</span><span class="op" id="7499645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499648">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="7499667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499670">&#34;foo$/*\n*/&#34;</span><span class="op" id="7499682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499685">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7499708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499711">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7499727">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499731">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="7499753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499756">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="7499776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499779">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="7499802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499805">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="7499821">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499824">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="7499860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499863">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="7499892">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499896">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7499923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499926">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7499959">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7499962">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="7500033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500036">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="7500076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500079">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="7500122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500125">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="7500168">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500172">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="7500239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7500242">&#34;package&nbsp;main$&#34;</span><span class="op" id="7500257">,</span><br>
<span class="lineno"></span><span class="op" id="7500259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7500262">func</span>&nbsp;<span class="ident" id="7500267">TestSemis</span><span class="op" id="7500276">(</span><span class="ident" id="7500277">t</span>&nbsp;<span class="op" id="7500279">*</span><span class="ident" id="7500280">testing</span><span class="op" id="7500287">.</span><span class="ident" id="7500288">T</span><span class="op" id="7500289">)</span>&nbsp;<span class="op" id="7500291">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500294">for</span>&nbsp;<span class="ident" id="7500298">_</span><span class="op" id="7500299">,</span>&nbsp;<span class="ident" id="7500301">line</span>&nbsp;<span class="op" id="7500306">:=</span>&nbsp;<span class="keyword" id="7500309">range</span>&nbsp;<span class="ident" id="7500315">lines</span>&nbsp;<span class="op" id="7500321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500325">checkSemi</span><span class="op" id="7500334">(</span><span class="ident" id="7500335">t</span><span class="op" id="7500336">,</span>&nbsp;<span class="ident" id="7500338">line</span><span class="op" id="7500342">,</span>&nbsp;<span class="num" id="7500344">0</span><span class="op" id="7500345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500349">checkSemi</span><span class="op" id="7500358">(</span><span class="ident" id="7500359">t</span><span class="op" id="7500360">,</span>&nbsp;<span class="ident" id="7500362">line</span><span class="op" id="7500366">,</span>&nbsp;<span class="ident" id="7500368">ScanComments</span><span class="op" id="7500380">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7500385">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7500450">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7500491">for</span>&nbsp;<span class="ident" id="7500495">i</span>&nbsp;<span class="op" id="7500497">:=</span>&nbsp;<span class="builtinfunc" id="7500500">len</span><span class="op" id="7500503">(</span><span class="ident" id="7500504">line</span><span class="op" id="7500508">)</span>&nbsp;<span class="op" id="7500510">-</span>&nbsp;<span class="num" id="7500512">1</span><span class="op" id="7500513">;</span>&nbsp;<span class="ident" id="7500515">i</span>&nbsp;<span class="op" id="7500517">&gt;=</span>&nbsp;<span class="num" id="7500520">0</span>&nbsp;<span class="op" id="7500522">&amp;&amp;</span>&nbsp;<span class="ident" id="7500525">line</span><span class="op" id="7500529">[</span><span class="ident" id="7500530">i</span><span class="op" id="7500531">]</span>&nbsp;<span class="op" id="7500533">==</span>&nbsp;<span class="string" id="7500536">&#39;\n&#39;</span><span class="op" id="7500540">;</span>&nbsp;<span class="ident" id="7500542">i</span><span class="op" id="7500543">--</span>&nbsp;<span class="op" id="7500546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500551">checkSemi</span><span class="op" id="7500560">(</span><span class="ident" id="7500561">t</span><span class="op" id="7500562">,</span>&nbsp;<span class="ident" id="7500564">line</span><span class="op" id="7500568">[</span><span class="num" id="7500569">0</span><span class="op" id="7500570">:</span><span class="ident" id="7500571">i</span><span class="op" id="7500572">]</span><span class="op" id="7500573">,</span>&nbsp;<span class="num" id="7500575">0</span><span class="op" id="7500576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500581">checkSemi</span><span class="op" id="7500590">(</span><span class="ident" id="7500591">t</span><span class="op" id="7500592">,</span>&nbsp;<span class="ident" id="7500594">line</span><span class="op" id="7500598">[</span><span class="num" id="7500599">0</span><span class="op" id="7500600">:</span><span class="ident" id="7500601">i</span><span class="op" id="7500602">]</span><span class="op" id="7500603">,</span>&nbsp;<span class="ident" id="7500605">ScanComments</span><span class="op" id="7500617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500621">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500624">}</span><br>
<span class="lineno"></span><span class="op" id="7500626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7500629">type</span>&nbsp;<span class="ident" id="7500634">segment</span>&nbsp;<span class="keyword" id="7500642">struct</span>&nbsp;<span class="op" id="7500649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500652">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="7500661">string</span>&nbsp;<span class="comment" id="7500668">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500694">filename</span>&nbsp;<span class="builtintype" id="7500703">string</span>&nbsp;<span class="comment" id="7500710">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500741">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7500750">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7500757">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="7500790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7500793">var</span>&nbsp;<span class="ident" id="7500797">segments</span>&nbsp;<span class="op" id="7500806">=</span>&nbsp;<span class="op" id="7500808">[</span><span class="op" id="7500809">]</span><span class="ident" id="7500810">segment</span><span class="op" id="7500817">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7500820">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500897">{</span><span class="string" id="7500898">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="7500907">,</span>&nbsp;<span class="ident" id="7500909">filepath</span><span class="op" id="7500917">.</span><span class="ident" id="7500918">Join</span><span class="op" id="7500922">(</span><span class="string" id="7500923">&#34;dir&#34;</span><span class="op" id="7500928">,</span>&nbsp;<span class="string" id="7500930">&#34;TestLineComments&#34;</span><span class="op" id="7500948">)</span><span class="op" id="7500949">,</span>&nbsp;<span class="num" id="7500951">1</span><span class="op" id="7500952">}</span><span class="op" id="7500953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500956">{</span><span class="string" id="7500957">&#34;\nline2&#34;</span><span class="op" id="7500966">,</span>&nbsp;<span class="ident" id="7500968">filepath</span><span class="op" id="7500976">.</span><span class="ident" id="7500977">Join</span><span class="op" id="7500981">(</span><span class="string" id="7500982">&#34;dir&#34;</span><span class="op" id="7500987">,</span>&nbsp;<span class="string" id="7500989">&#34;TestLineComments&#34;</span><span class="op" id="7501007">)</span><span class="op" id="7501008">,</span>&nbsp;<span class="num" id="7501010">2</span><span class="op" id="7501011">}</span><span class="op" id="7501012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501015">{</span><span class="string" id="7501016">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="7501046">,</span>&nbsp;<span class="ident" id="7501048">filepath</span><span class="op" id="7501056">.</span><span class="ident" id="7501057">Join</span><span class="op" id="7501061">(</span><span class="string" id="7501062">&#34;dir&#34;</span><span class="op" id="7501067">,</span>&nbsp;<span class="string" id="7501069">&#34;TestLineComments&#34;</span><span class="op" id="7501087">)</span><span class="op" id="7501088">,</span>&nbsp;<span class="num" id="7501090">3</span><span class="op" id="7501091">}</span><span class="op" id="7501092">,</span>&nbsp;<span class="comment" id="7501094">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501124">{</span><span class="string" id="7501125">&#34;\nline4&#34;</span><span class="op" id="7501134">,</span>&nbsp;<span class="ident" id="7501136">filepath</span><span class="op" id="7501144">.</span><span class="ident" id="7501145">Join</span><span class="op" id="7501149">(</span><span class="string" id="7501150">&#34;dir&#34;</span><span class="op" id="7501155">,</span>&nbsp;<span class="string" id="7501157">&#34;TestLineComments&#34;</span><span class="op" id="7501175">)</span><span class="op" id="7501176">,</span>&nbsp;<span class="num" id="7501178">4</span><span class="op" id="7501179">}</span><span class="op" id="7501180">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501183">{</span><span class="string" id="7501184">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7501218">,</span>&nbsp;<span class="ident" id="7501220">filepath</span><span class="op" id="7501228">.</span><span class="ident" id="7501229">Join</span><span class="op" id="7501233">(</span><span class="string" id="7501234">&#34;dir&#34;</span><span class="op" id="7501239">,</span>&nbsp;<span class="string" id="7501241">&#34;File1.go&#34;</span><span class="op" id="7501251">)</span><span class="op" id="7501252">,</span>&nbsp;<span class="num" id="7501254">100</span><span class="op" id="7501257">}</span><span class="op" id="7501258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501261">{</span><span class="string" id="7501262">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="7501289">,</span>&nbsp;<span class="string" id="7501291">&#34;&#34;</span><span class="op" id="7501293">,</span>&nbsp;<span class="num" id="7501295">42</span><span class="op" id="7501297">}</span><span class="op" id="7501298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501301">{</span><span class="string" id="7501302">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="7501336">,</span>&nbsp;<span class="ident" id="7501338">filepath</span><span class="op" id="7501346">.</span><span class="ident" id="7501347">Join</span><span class="op" id="7501351">(</span><span class="string" id="7501352">&#34;dir&#34;</span><span class="op" id="7501357">,</span>&nbsp;<span class="string" id="7501359">&#34;File2.go&#34;</span><span class="op" id="7501369">)</span><span class="op" id="7501370">,</span>&nbsp;<span class="num" id="7501372">200</span><span class="op" id="7501375">}</span><span class="op" id="7501376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501379">{</span><span class="string" id="7501380">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7501409">,</span>&nbsp;<span class="ident" id="7501411">filepath</span><span class="op" id="7501419">.</span><span class="ident" id="7501420">Join</span><span class="op" id="7501424">(</span><span class="string" id="7501425">&#34;dir&#34;</span><span class="op" id="7501430">,</span>&nbsp;<span class="string" id="7501432">&#34;foo&#34;</span><span class="op" id="7501437">)</span><span class="op" id="7501438">,</span>&nbsp;<span class="num" id="7501440">42</span><span class="op" id="7501442">}</span><span class="op" id="7501443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501446">{</span><span class="string" id="7501447">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="7501475">,</span>&nbsp;<span class="ident" id="7501477">filepath</span><span class="op" id="7501485">.</span><span class="ident" id="7501486">Join</span><span class="op" id="7501490">(</span><span class="string" id="7501491">&#34;dir&#34;</span><span class="op" id="7501496">,</span>&nbsp;<span class="string" id="7501498">&#34;foo&#34;</span><span class="op" id="7501503">)</span><span class="op" id="7501504">,</span>&nbsp;<span class="num" id="7501506">44</span><span class="op" id="7501508">}</span><span class="op" id="7501509">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7501521">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501551">{</span><span class="string" id="7501552">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="7501579">,</span>&nbsp;<span class="ident" id="7501581">filepath</span><span class="op" id="7501589">.</span><span class="ident" id="7501590">Join</span><span class="op" id="7501594">(</span><span class="string" id="7501595">&#34;dir&#34;</span><span class="op" id="7501600">,</span>&nbsp;<span class="string" id="7501602">&#34;foo&#34;</span><span class="op" id="7501607">)</span><span class="op" id="7501608">,</span>&nbsp;<span class="num" id="7501610">46</span><span class="op" id="7501612">}</span><span class="op" id="7501613">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7501626">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501656">{</span><span class="string" id="7501657">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="7501695">,</span>&nbsp;<span class="ident" id="7501697">filepath</span><span class="op" id="7501705">.</span><span class="ident" id="7501706">Join</span><span class="op" id="7501710">(</span><span class="string" id="7501711">&#34;dir&#34;</span><span class="op" id="7501716">,</span>&nbsp;<span class="string" id="7501718">&#34;foo&#34;</span><span class="op" id="7501723">)</span><span class="op" id="7501724">,</span>&nbsp;<span class="num" id="7501726">48</span><span class="op" id="7501728">}</span><span class="op" id="7501729">,</span>&nbsp;<span class="comment" id="7501731">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501761">{</span><span class="string" id="7501762">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7501791">,</span>&nbsp;<span class="ident" id="7501793">filepath</span><span class="op" id="7501801">.</span><span class="ident" id="7501802">Join</span><span class="op" id="7501806">(</span><span class="string" id="7501807">&#34;dir&#34;</span><span class="op" id="7501812">,</span>&nbsp;<span class="string" id="7501814">&#34;foo&#34;</span><span class="op" id="7501819">)</span><span class="op" id="7501820">,</span>&nbsp;<span class="num" id="7501822">42</span><span class="op" id="7501824">}</span><span class="op" id="7501825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501828">{</span><span class="string" id="7501829">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7501869">,</span>&nbsp;<span class="ident" id="7501871">filepath</span><span class="op" id="7501879">.</span><span class="ident" id="7501880">Join</span><span class="op" id="7501884">(</span><span class="string" id="7501885">&#34;dir&#34;</span><span class="op" id="7501890">,</span>&nbsp;<span class="string" id="7501892">&#34;a&#34;</span><span class="op" id="7501895">,</span>&nbsp;<span class="string" id="7501897">&#34;b&#34;</span><span class="op" id="7501900">,</span>&nbsp;<span class="string" id="7501902">&#34;c&#34;</span><span class="op" id="7501905">,</span>&nbsp;<span class="string" id="7501907">&#34;File1.go&#34;</span><span class="op" id="7501917">)</span><span class="op" id="7501918">,</span>&nbsp;<span class="num" id="7501920">100</span><span class="op" id="7501923">}</span><span class="op" id="7501924">,</span><br>
<span class="lineno"></span><span class="op" id="7501926">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="7501929">var</span>&nbsp;<span class="ident" id="7501933">unixsegments</span>&nbsp;<span class="op" id="7501946">=</span>&nbsp;<span class="op" id="7501948">[</span><span class="op" id="7501949">]</span><span class="ident" id="7501950">segment</span><span class="op" id="7501957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501960">{</span><span class="string" id="7501961">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7501989">,</span>&nbsp;<span class="string" id="7501991">&#34;/bar&#34;</span><span class="op" id="7501997">,</span>&nbsp;<span class="num" id="7501999">42</span><span class="op" id="7502001">}</span><span class="op" id="7502002">,</span><br>
<span class="lineno"></span><span class="op" id="7502004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="7502007">var</span>&nbsp;<span class="ident" id="7502011">winsegments</span>&nbsp;<span class="op" id="7502023">=</span>&nbsp;<span class="op" id="7502025">[</span><span class="op" id="7502026">]</span><span class="ident" id="7502027">segment</span><span class="op" id="7502034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502037">{</span><span class="string" id="7502038">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7502069">,</span>&nbsp;<span class="string" id="7502071">&#34;c:\\bar&#34;</span><span class="op" id="7502080">,</span>&nbsp;<span class="num" id="7502082">42</span><span class="op" id="7502084">}</span><span class="op" id="7502085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502088">{</span><span class="string" id="7502089">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7502132">,</span>&nbsp;<span class="string" id="7502134">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="7502153">,</span>&nbsp;<span class="num" id="7502155">100</span><span class="op" id="7502158">}</span><span class="op" id="7502159">,</span><br>
<span class="lineno"></span><span class="op" id="7502161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="7502164">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7502250">func</span>&nbsp;<span class="ident" id="7502255">TestLineComments</span><span class="op" id="7502271">(</span><span class="ident" id="7502272">t</span>&nbsp;<span class="op" id="7502274">*</span><span class="ident" id="7502275">testing</span><span class="op" id="7502282">.</span><span class="ident" id="7502283">T</span><span class="op" id="7502284">)</span>&nbsp;<span class="op" id="7502286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502289">segs</span>&nbsp;<span class="op" id="7502294">:=</span>&nbsp;<span class="ident" id="7502297">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502307">if</span>&nbsp;<span class="ident" id="7502310">runtime</span><span class="op" id="7502317">.</span><span class="ident" id="7502318">GOOS</span>&nbsp;<span class="op" id="7502323">==</span>&nbsp;<span class="string" id="7502326">&#34;windows&#34;</span>&nbsp;<span class="op" id="7502336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502340">segs</span>&nbsp;<span class="op" id="7502345">=</span>&nbsp;<span class="builtinfunc" id="7502347">append</span><span class="op" id="7502353">(</span><span class="ident" id="7502354">segs</span><span class="op" id="7502358">,</span>&nbsp;<span class="ident" id="7502360">winsegments</span><span class="op" id="7502371">...</span><span class="op" id="7502374">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502377">}</span>&nbsp;<span class="keyword" id="7502379">else</span>&nbsp;<span class="op" id="7502384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502388">segs</span>&nbsp;<span class="op" id="7502393">=</span>&nbsp;<span class="builtinfunc" id="7502395">append</span><span class="op" id="7502401">(</span><span class="ident" id="7502402">segs</span><span class="op" id="7502406">,</span>&nbsp;<span class="ident" id="7502408">unixsegments</span><span class="op" id="7502420">...</span><span class="op" id="7502423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7502430">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502446">var</span>&nbsp;<span class="ident" id="7502450">src</span>&nbsp;<span class="builtintype" id="7502454">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502462">for</span>&nbsp;<span class="ident" id="7502466">_</span><span class="op" id="7502467">,</span>&nbsp;<span class="ident" id="7502469">e</span>&nbsp;<span class="op" id="7502471">:=</span>&nbsp;<span class="keyword" id="7502474">range</span>&nbsp;<span class="ident" id="7502480">segs</span>&nbsp;<span class="op" id="7502485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502489">src</span>&nbsp;<span class="op" id="7502493">+=</span>&nbsp;<span class="ident" id="7502496">e</span><span class="op" id="7502497">.</span><span class="ident" id="7502498">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7502511">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502527">var</span>&nbsp;<span class="ident" id="7502531">S</span>&nbsp;<span class="ident" id="7502533">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502542">file</span>&nbsp;<span class="op" id="7502547">:=</span>&nbsp;<span class="ident" id="7502550">fset</span><span class="op" id="7502554">.</span><span class="ident" id="7502555">AddFile</span><span class="op" id="7502562">(</span><span class="ident" id="7502563">filepath</span><span class="op" id="7502571">.</span><span class="ident" id="7502572">Join</span><span class="op" id="7502576">(</span><span class="string" id="7502577">&#34;dir&#34;</span><span class="op" id="7502582">,</span>&nbsp;<span class="string" id="7502584">&#34;TestLineComments&#34;</span><span class="op" id="7502602">)</span><span class="op" id="7502603">,</span>&nbsp;<span class="ident" id="7502605">fset</span><span class="op" id="7502609">.</span><span class="ident" id="7502610">Base</span><span class="op" id="7502614">(</span><span class="op" id="7502615">)</span><span class="op" id="7502616">,</span>&nbsp;<span class="builtinfunc" id="7502618">len</span><span class="op" id="7502621">(</span><span class="ident" id="7502622">src</span><span class="op" id="7502625">)</span><span class="op" id="7502626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502629">S</span><span class="op" id="7502630">.</span><span class="ident" id="7502631">Init</span><span class="op" id="7502635">(</span><span class="ident" id="7502636">file</span><span class="op" id="7502640">,</span>&nbsp;<span class="op" id="7502642">[</span><span class="op" id="7502643">]</span><span class="builtintype" id="7502644">byte</span><span class="op" id="7502648">(</span><span class="ident" id="7502649">src</span><span class="op" id="7502652">)</span><span class="op" id="7502653">,</span>&nbsp;<span class="ident" id="7502655">nil</span><span class="op" id="7502658">,</span>&nbsp;<span class="ident" id="7502660">dontInsertSemis</span><span class="op" id="7502675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502678">for</span>&nbsp;<span class="ident" id="7502682">_</span><span class="op" id="7502683">,</span>&nbsp;<span class="ident" id="7502685">s</span>&nbsp;<span class="op" id="7502687">:=</span>&nbsp;<span class="keyword" id="7502690">range</span>&nbsp;<span class="ident" id="7502696">segs</span>&nbsp;<span class="op" id="7502701">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502705">p</span><span class="op" id="7502706">,</span>&nbsp;<span class="ident" id="7502708">_</span><span class="op" id="7502709">,</span>&nbsp;<span class="ident" id="7502711">lit</span>&nbsp;<span class="op" id="7502715">:=</span>&nbsp;<span class="ident" id="7502718">S</span><span class="op" id="7502719">.</span><span class="ident" id="7502720">Scan</span><span class="op" id="7502724">(</span><span class="op" id="7502725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502729">pos</span>&nbsp;<span class="op" id="7502733">:=</span>&nbsp;<span class="ident" id="7502736">file</span><span class="op" id="7502740">.</span><span class="ident" id="7502741">Position</span><span class="op" id="7502749">(</span><span class="ident" id="7502750">p</span><span class="op" id="7502751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502755">checkPos</span><span class="op" id="7502763">(</span><span class="ident" id="7502764">t</span><span class="op" id="7502765">,</span>&nbsp;<span class="ident" id="7502767">lit</span><span class="op" id="7502770">,</span>&nbsp;<span class="ident" id="7502772">p</span><span class="op" id="7502773">,</span>&nbsp;<span class="ident" id="7502775">token</span><span class="op" id="7502780">.</span><span class="ident" id="7502781">Position</span><span class="op" id="7502789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502794">Filename</span><span class="op" id="7502802">:</span>&nbsp;<span class="ident" id="7502804">s</span><span class="op" id="7502805">.</span><span class="ident" id="7502806">filename</span><span class="op" id="7502814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502819">Offset</span><span class="op" id="7502825">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7502829">pos</span><span class="op" id="7502832">.</span><span class="ident" id="7502833">Offset</span><span class="op" id="7502839">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502844">Line</span><span class="op" id="7502848">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7502854">s</span><span class="op" id="7502855">.</span><span class="ident" id="7502856">line</span><span class="op" id="7502860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502865">Column</span><span class="op" id="7502871">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7502875">pos</span><span class="op" id="7502878">.</span><span class="ident" id="7502879">Column</span><span class="op" id="7502885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502889">}</span><span class="op" id="7502890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502897">if</span>&nbsp;<span class="ident" id="7502900">S</span><span class="op" id="7502901">.</span><span class="ident" id="7502902">ErrorCount</span>&nbsp;<span class="op" id="7502913">!=</span>&nbsp;<span class="num" id="7502916">0</span>&nbsp;<span class="op" id="7502918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502922">t</span><span class="op" id="7502923">.</span><span class="ident" id="7502924">Errorf</span><span class="op" id="7502930">(</span><span class="string" id="7502931">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7502948">,</span>&nbsp;<span class="ident" id="7502950">S</span><span class="op" id="7502951">.</span><span class="ident" id="7502952">ErrorCount</span><span class="op" id="7502962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502965">}</span><br>
<span class="lineno"></span><span class="op" id="7502967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="7502970">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7503047">func</span>&nbsp;<span class="ident" id="7503052">TestInit</span><span class="op" id="7503060">(</span><span class="ident" id="7503061">t</span>&nbsp;<span class="op" id="7503063">*</span><span class="ident" id="7503064">testing</span><span class="op" id="7503071">.</span><span class="ident" id="7503072">T</span><span class="op" id="7503073">)</span>&nbsp;<span class="op" id="7503075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503078">var</span>&nbsp;<span class="ident" id="7503082">s</span>&nbsp;<span class="ident" id="7503084">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7503094">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503107">src1</span>&nbsp;<span class="op" id="7503112">:=</span>&nbsp;<span class="string" id="7503115">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503130">f1</span>&nbsp;<span class="op" id="7503133">:=</span>&nbsp;<span class="ident" id="7503136">fset</span><span class="op" id="7503140">.</span><span class="ident" id="7503141">AddFile</span><span class="op" id="7503148">(</span><span class="string" id="7503149">&#34;src1&#34;</span><span class="op" id="7503155">,</span>&nbsp;<span class="ident" id="7503157">fset</span><span class="op" id="7503161">.</span><span class="ident" id="7503162">Base</span><span class="op" id="7503166">(</span><span class="op" id="7503167">)</span><span class="op" id="7503168">,</span>&nbsp;<span class="builtinfunc" id="7503170">len</span><span class="op" id="7503173">(</span><span class="ident" id="7503174">src1</span><span class="op" id="7503178">)</span><span class="op" id="7503179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503182">s</span><span class="op" id="7503183">.</span><span class="ident" id="7503184">Init</span><span class="op" id="7503188">(</span><span class="ident" id="7503189">f1</span><span class="op" id="7503191">,</span>&nbsp;<span class="op" id="7503193">[</span><span class="op" id="7503194">]</span><span class="builtintype" id="7503195">byte</span><span class="op" id="7503199">(</span><span class="ident" id="7503200">src1</span><span class="op" id="7503204">)</span><span class="op" id="7503205">,</span>&nbsp;<span class="ident" id="7503207">nil</span><span class="op" id="7503210">,</span>&nbsp;<span class="ident" id="7503212">dontInsertSemis</span><span class="op" id="7503227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503230">if</span>&nbsp;<span class="ident" id="7503233">f1</span><span class="op" id="7503235">.</span><span class="ident" id="7503236">Size</span><span class="op" id="7503240">(</span><span class="op" id="7503241">)</span>&nbsp;<span class="op" id="7503243">!=</span>&nbsp;<span class="builtinfunc" id="7503246">len</span><span class="op" id="7503249">(</span><span class="ident" id="7503250">src1</span><span class="op" id="7503254">)</span>&nbsp;<span class="op" id="7503256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503260">t</span><span class="op" id="7503261">.</span><span class="ident" id="7503262">Errorf</span><span class="op" id="7503268">(</span><span class="string" id="7503269">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7503305">,</span>&nbsp;<span class="ident" id="7503307">f1</span><span class="op" id="7503309">.</span><span class="ident" id="7503310">Size</span><span class="op" id="7503314">(</span><span class="op" id="7503315">)</span><span class="op" id="7503316">,</span>&nbsp;<span class="builtinfunc" id="7503318">len</span><span class="op" id="7503321">(</span><span class="ident" id="7503322">src1</span><span class="op" id="7503326">)</span><span class="op" id="7503327">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503333">s</span><span class="op" id="7503334">.</span><span class="ident" id="7503335">Scan</span><span class="op" id="7503339">(</span><span class="op" id="7503340">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7503355">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503362">s</span><span class="op" id="7503363">.</span><span class="ident" id="7503364">Scan</span><span class="op" id="7503368">(</span><span class="op" id="7503369">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7503384">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503393">_</span><span class="op" id="7503394">,</span>&nbsp;<span class="ident" id="7503396">tok</span><span class="op" id="7503399">,</span>&nbsp;<span class="ident" id="7503401">_</span>&nbsp;<span class="op" id="7503403">:=</span>&nbsp;<span class="ident" id="7503406">s</span><span class="op" id="7503407">.</span><span class="ident" id="7503408">Scan</span><span class="op" id="7503412">(</span><span class="op" id="7503413">)</span>&nbsp;<span class="comment" id="7503415">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503421">if</span>&nbsp;<span class="ident" id="7503424">tok</span>&nbsp;<span class="op" id="7503428">!=</span>&nbsp;<span class="ident" id="7503431">token</span><span class="op" id="7503436">.</span><span class="ident" id="7503437">LBRACE</span>&nbsp;<span class="op" id="7503444">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503448">t</span><span class="op" id="7503449">.</span><span class="ident" id="7503450">Errorf</span><span class="op" id="7503456">(</span><span class="string" id="7503457">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7503489">,</span>&nbsp;<span class="ident" id="7503491">tok</span><span class="op" id="7503494">,</span>&nbsp;<span class="ident" id="7503496">token</span><span class="op" id="7503501">.</span><span class="ident" id="7503502">LBRACE</span><span class="op" id="7503508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503511">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7503515">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503528">src2</span>&nbsp;<span class="op" id="7503533">:=</span>&nbsp;<span class="string" id="7503536">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503551">f2</span>&nbsp;<span class="op" id="7503554">:=</span>&nbsp;<span class="ident" id="7503557">fset</span><span class="op" id="7503561">.</span><span class="ident" id="7503562">AddFile</span><span class="op" id="7503569">(</span><span class="string" id="7503570">&#34;src2&#34;</span><span class="op" id="7503576">,</span>&nbsp;<span class="ident" id="7503578">fset</span><span class="op" id="7503582">.</span><span class="ident" id="7503583">Base</span><span class="op" id="7503587">(</span><span class="op" id="7503588">)</span><span class="op" id="7503589">,</span>&nbsp;<span class="builtinfunc" id="7503591">len</span><span class="op" id="7503594">(</span><span class="ident" id="7503595">src2</span><span class="op" id="7503599">)</span><span class="op" id="7503600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503603">s</span><span class="op" id="7503604">.</span><span class="ident" id="7503605">Init</span><span class="op" id="7503609">(</span><span class="ident" id="7503610">f2</span><span class="op" id="7503612">,</span>&nbsp;<span class="op" id="7503614">[</span><span class="op" id="7503615">]</span><span class="builtintype" id="7503616">byte</span><span class="op" id="7503620">(</span><span class="ident" id="7503621">src2</span><span class="op" id="7503625">)</span><span class="op" id="7503626">,</span>&nbsp;<span class="ident" id="7503628">nil</span><span class="op" id="7503631">,</span>&nbsp;<span class="ident" id="7503633">dontInsertSemis</span><span class="op" id="7503648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503651">if</span>&nbsp;<span class="ident" id="7503654">f2</span><span class="op" id="7503656">.</span><span class="ident" id="7503657">Size</span><span class="op" id="7503661">(</span><span class="op" id="7503662">)</span>&nbsp;<span class="op" id="7503664">!=</span>&nbsp;<span class="builtinfunc" id="7503667">len</span><span class="op" id="7503670">(</span><span class="ident" id="7503671">src2</span><span class="op" id="7503675">)</span>&nbsp;<span class="op" id="7503677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503681">t</span><span class="op" id="7503682">.</span><span class="ident" id="7503683">Errorf</span><span class="op" id="7503689">(</span><span class="string" id="7503690">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7503726">,</span>&nbsp;<span class="ident" id="7503728">f2</span><span class="op" id="7503730">.</span><span class="ident" id="7503731">Size</span><span class="op" id="7503735">(</span><span class="op" id="7503736">)</span><span class="op" id="7503737">,</span>&nbsp;<span class="builtinfunc" id="7503739">len</span><span class="op" id="7503742">(</span><span class="ident" id="7503743">src2</span><span class="op" id="7503747">)</span><span class="op" id="7503748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503751">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503754">_</span><span class="op" id="7503755">,</span>&nbsp;<span class="ident" id="7503757">tok</span><span class="op" id="7503760">,</span>&nbsp;<span class="ident" id="7503762">_</span>&nbsp;<span class="op" id="7503764">=</span>&nbsp;<span class="ident" id="7503766">s</span><span class="op" id="7503767">.</span><span class="ident" id="7503768">Scan</span><span class="op" id="7503772">(</span><span class="op" id="7503773">)</span>&nbsp;<span class="comment" id="7503775">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503782">if</span>&nbsp;<span class="ident" id="7503785">tok</span>&nbsp;<span class="op" id="7503789">!=</span>&nbsp;<span class="ident" id="7503792">token</span><span class="op" id="7503797">.</span><span class="ident" id="7503798">GO</span>&nbsp;<span class="op" id="7503801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503805">t</span><span class="op" id="7503806">.</span><span class="ident" id="7503807">Errorf</span><span class="op" id="7503813">(</span><span class="string" id="7503814">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7503846">,</span>&nbsp;<span class="ident" id="7503848">tok</span><span class="op" id="7503851">,</span>&nbsp;<span class="ident" id="7503853">token</span><span class="op" id="7503858">.</span><span class="ident" id="7503859">GO</span><span class="op" id="7503861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503868">if</span>&nbsp;<span class="ident" id="7503871">s</span><span class="op" id="7503872">.</span><span class="ident" id="7503873">ErrorCount</span>&nbsp;<span class="op" id="7503884">!=</span>&nbsp;<span class="num" id="7503887">0</span>&nbsp;<span class="op" id="7503889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503893">t</span><span class="op" id="7503894">.</span><span class="ident" id="7503895">Errorf</span><span class="op" id="7503901">(</span><span class="string" id="7503902">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7503919">,</span>&nbsp;<span class="ident" id="7503921">s</span><span class="op" id="7503922">.</span><span class="ident" id="7503923">ErrorCount</span><span class="op" id="7503933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7503936">}</span><br>
<span class="lineno"></span><span class="op" id="7503938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7503941">func</span>&nbsp;<span class="ident" id="7503946">TestStdErrorHander</span><span class="op" id="7503964">(</span><span class="ident" id="7503965">t</span>&nbsp;<span class="op" id="7503967">*</span><span class="ident" id="7503968">testing</span><span class="op" id="7503975">.</span><span class="ident" id="7503976">T</span><span class="op" id="7503977">)</span>&nbsp;<span class="op" id="7503979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7503982">const</span>&nbsp;<span class="ident" id="7503988">src</span>&nbsp;<span class="op" id="7503992">=</span>&nbsp;<span class="string" id="7503994">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7504000">+</span>&nbsp;<span class="comment" id="7504002">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7504041">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7504049">+</span>&nbsp;<span class="comment" id="7504051">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7504084">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="7504104">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7504108">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7504114">+</span>&nbsp;<span class="comment" id="7504116">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7504151">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="7504170">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7504174">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7504182">+</span>&nbsp;<span class="comment" id="7504184">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7504223">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="7504242">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7504246">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="7504254">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504287">var</span>&nbsp;<span class="ident" id="7504291">list</span>&nbsp;<span class="ident" id="7504296">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504307">eh</span>&nbsp;<span class="op" id="7504310">:=</span>&nbsp;<span class="keyword" id="7504313">func</span><span class="op" id="7504317">(</span><span class="ident" id="7504318">pos</span>&nbsp;<span class="ident" id="7504322">token</span><span class="op" id="7504327">.</span><span class="ident" id="7504328">Position</span><span class="op" id="7504336">,</span>&nbsp;<span class="ident" id="7504338">msg</span>&nbsp;<span class="builtintype" id="7504342">string</span><span class="op" id="7504348">)</span>&nbsp;<span class="op" id="7504350">{</span>&nbsp;<span class="ident" id="7504352">list</span><span class="op" id="7504356">.</span><span class="ident" id="7504357">Add</span><span class="op" id="7504360">(</span><span class="ident" id="7504361">pos</span><span class="op" id="7504364">,</span>&nbsp;<span class="ident" id="7504366">msg</span><span class="op" id="7504369">)</span>&nbsp;<span class="op" id="7504371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504375">var</span>&nbsp;<span class="ident" id="7504379">s</span>&nbsp;<span class="ident" id="7504381">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504390">s</span><span class="op" id="7504391">.</span><span class="ident" id="7504392">Init</span><span class="op" id="7504396">(</span><span class="ident" id="7504397">fset</span><span class="op" id="7504401">.</span><span class="ident" id="7504402">AddFile</span><span class="op" id="7504409">(</span><span class="string" id="7504410">&#34;File1&#34;</span><span class="op" id="7504417">,</span>&nbsp;<span class="ident" id="7504419">fset</span><span class="op" id="7504423">.</span><span class="ident" id="7504424">Base</span><span class="op" id="7504428">(</span><span class="op" id="7504429">)</span><span class="op" id="7504430">,</span>&nbsp;<span class="builtinfunc" id="7504432">len</span><span class="op" id="7504435">(</span><span class="ident" id="7504436">src</span><span class="op" id="7504439">)</span><span class="op" id="7504440">)</span><span class="op" id="7504441">,</span>&nbsp;<span class="op" id="7504443">[</span><span class="op" id="7504444">]</span><span class="builtintype" id="7504445">byte</span><span class="op" id="7504449">(</span><span class="ident" id="7504450">src</span><span class="op" id="7504453">)</span><span class="op" id="7504454">,</span>&nbsp;<span class="ident" id="7504456">eh</span><span class="op" id="7504458">,</span>&nbsp;<span class="ident" id="7504460">dontInsertSemis</span><span class="op" id="7504475">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504478">for</span>&nbsp;<span class="op" id="7504482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504486">if</span>&nbsp;<span class="ident" id="7504489">_</span><span class="op" id="7504490">,</span>&nbsp;<span class="ident" id="7504492">tok</span><span class="op" id="7504495">,</span>&nbsp;<span class="ident" id="7504497">_</span>&nbsp;<span class="op" id="7504499">:=</span>&nbsp;<span class="ident" id="7504502">s</span><span class="op" id="7504503">.</span><span class="ident" id="7504504">Scan</span><span class="op" id="7504508">(</span><span class="op" id="7504509">)</span><span class="op" id="7504510">;</span>&nbsp;<span class="ident" id="7504512">tok</span>&nbsp;<span class="op" id="7504516">==</span>&nbsp;<span class="ident" id="7504519">token</span><span class="op" id="7504524">.</span><span class="ident" id="7504525">EOF</span>&nbsp;<span class="op" id="7504529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504534">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504545">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504549">if</span>&nbsp;<span class="builtinfunc" id="7504552">len</span><span class="op" id="7504555">(</span><span class="ident" id="7504556">list</span><span class="op" id="7504560">)</span>&nbsp;<span class="op" id="7504562">!=</span>&nbsp;<span class="ident" id="7504565">s</span><span class="op" id="7504566">.</span><span class="ident" id="7504567">ErrorCount</span>&nbsp;<span class="op" id="7504578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504582">t</span><span class="op" id="7504583">.</span><span class="ident" id="7504584">Errorf</span><span class="op" id="7504590">(</span><span class="string" id="7504591">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7504621">,</span>&nbsp;<span class="builtinfunc" id="7504623">len</span><span class="op" id="7504626">(</span><span class="ident" id="7504627">list</span><span class="op" id="7504631">)</span><span class="op" id="7504632">,</span>&nbsp;<span class="ident" id="7504634">s</span><span class="op" id="7504635">.</span><span class="ident" id="7504636">ErrorCount</span><span class="op" id="7504646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504653">if</span>&nbsp;<span class="builtinfunc" id="7504656">len</span><span class="op" id="7504659">(</span><span class="ident" id="7504660">list</span><span class="op" id="7504664">)</span>&nbsp;<span class="op" id="7504666">!=</span>&nbsp;<span class="num" id="7504669">9</span>&nbsp;<span class="op" id="7504671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504675">t</span><span class="op" id="7504676">.</span><span class="ident" id="7504677">Errorf</span><span class="op" id="7504683">(</span><span class="string" id="7504684">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7504717">,</span>&nbsp;<span class="builtinfunc" id="7504719">len</span><span class="op" id="7504722">(</span><span class="ident" id="7504723">list</span><span class="op" id="7504727">)</span><span class="op" id="7504728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504732">PrintError</span><span class="op" id="7504742">(</span><span class="ident" id="7504743">os</span><span class="op" id="7504745">.</span><span class="ident" id="7504746">Stderr</span><span class="op" id="7504752">,</span>&nbsp;<span class="ident" id="7504754">list</span><span class="op" id="7504758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504765">list</span><span class="op" id="7504769">.</span><span class="ident" id="7504770">Sort</span><span class="op" id="7504774">(</span><span class="op" id="7504775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504778">if</span>&nbsp;<span class="builtinfunc" id="7504781">len</span><span class="op" id="7504784">(</span><span class="ident" id="7504785">list</span><span class="op" id="7504789">)</span>&nbsp;<span class="op" id="7504791">!=</span>&nbsp;<span class="num" id="7504794">9</span>&nbsp;<span class="op" id="7504796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504800">t</span><span class="op" id="7504801">.</span><span class="ident" id="7504802">Errorf</span><span class="op" id="7504808">(</span><span class="string" id="7504809">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7504845">,</span>&nbsp;<span class="builtinfunc" id="7504847">len</span><span class="op" id="7504850">(</span><span class="ident" id="7504851">list</span><span class="op" id="7504855">)</span><span class="op" id="7504856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504860">PrintError</span><span class="op" id="7504870">(</span><span class="ident" id="7504871">os</span><span class="op" id="7504873">.</span><span class="ident" id="7504874">Stderr</span><span class="op" id="7504880">,</span>&nbsp;<span class="ident" id="7504882">list</span><span class="op" id="7504886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504889">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504893">list</span><span class="op" id="7504897">.</span><span class="ident" id="7504898">RemoveMultiples</span><span class="op" id="7504913">(</span><span class="op" id="7504914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504917">if</span>&nbsp;<span class="builtinfunc" id="7504920">len</span><span class="op" id="7504923">(</span><span class="ident" id="7504924">list</span><span class="op" id="7504928">)</span>&nbsp;<span class="op" id="7504930">!=</span>&nbsp;<span class="num" id="7504933">4</span>&nbsp;<span class="op" id="7504935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504939">t</span><span class="op" id="7504940">.</span><span class="ident" id="7504941">Errorf</span><span class="op" id="7504947">(</span><span class="string" id="7504948">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="7504990">,</span>&nbsp;<span class="builtinfunc" id="7504992">len</span><span class="op" id="7504995">(</span><span class="ident" id="7504996">list</span><span class="op" id="7505000">)</span><span class="op" id="7505001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505005">PrintError</span><span class="op" id="7505015">(</span><span class="ident" id="7505016">os</span><span class="op" id="7505018">.</span><span class="ident" id="7505019">Stderr</span><span class="op" id="7505025">,</span>&nbsp;<span class="ident" id="7505027">list</span><span class="op" id="7505031">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505034">}</span><br>
<span class="lineno"></span><span class="op" id="7505036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7505039">type</span>&nbsp;<span class="ident" id="7505044">errorCollector</span>&nbsp;<span class="keyword" id="7505059">struct</span>&nbsp;<span class="op" id="7505066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505069">cnt</span>&nbsp;<span class="builtintype" id="7505073">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7505088">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505121">msg</span>&nbsp;<span class="builtintype" id="7505125">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7505140">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505175">pos</span>&nbsp;<span class="ident" id="7505179">token</span><span class="op" id="7505184">.</span><span class="ident" id="7505185">Position</span>&nbsp;<span class="comment" id="7505194">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="7505229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7505232">func</span>&nbsp;<span class="ident" id="7505237">checkError</span><span class="op" id="7505247">(</span><span class="ident" id="7505248">t</span>&nbsp;<span class="op" id="7505250">*</span><span class="ident" id="7505251">testing</span><span class="op" id="7505258">.</span><span class="ident" id="7505259">T</span><span class="op" id="7505260">,</span>&nbsp;<span class="ident" id="7505262">src</span>&nbsp;<span class="builtintype" id="7505266">string</span><span class="op" id="7505272">,</span>&nbsp;<span class="ident" id="7505274">tok</span>&nbsp;<span class="ident" id="7505278">token</span><span class="op" id="7505283">.</span><span class="ident" id="7505284">Token</span><span class="op" id="7505289">,</span>&nbsp;<span class="ident" id="7505291">pos</span>&nbsp;<span class="builtintype" id="7505295">int</span><span class="op" id="7505298">,</span>&nbsp;<span class="ident" id="7505300">lit</span><span class="op" id="7505303">,</span>&nbsp;<span class="ident" id="7505305">err</span>&nbsp;<span class="builtintype" id="7505309">string</span><span class="op" id="7505315">)</span>&nbsp;<span class="op" id="7505317">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505320">var</span>&nbsp;<span class="ident" id="7505324">s</span>&nbsp;<span class="ident" id="7505326">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505335">var</span>&nbsp;<span class="ident" id="7505339">h</span>&nbsp;<span class="ident" id="7505341">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505357">eh</span>&nbsp;<span class="op" id="7505360">:=</span>&nbsp;<span class="keyword" id="7505363">func</span><span class="op" id="7505367">(</span><span class="ident" id="7505368">pos</span>&nbsp;<span class="ident" id="7505372">token</span><span class="op" id="7505377">.</span><span class="ident" id="7505378">Position</span><span class="op" id="7505386">,</span>&nbsp;<span class="ident" id="7505388">msg</span>&nbsp;<span class="builtintype" id="7505392">string</span><span class="op" id="7505398">)</span>&nbsp;<span class="op" id="7505400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505404">h</span><span class="op" id="7505405">.</span><span class="ident" id="7505406">cnt</span><span class="op" id="7505409">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505414">h</span><span class="op" id="7505415">.</span><span class="ident" id="7505416">msg</span>&nbsp;<span class="op" id="7505420">=</span>&nbsp;<span class="ident" id="7505422">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505428">h</span><span class="op" id="7505429">.</span><span class="ident" id="7505430">pos</span>&nbsp;<span class="op" id="7505434">=</span>&nbsp;<span class="ident" id="7505436">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505444">s</span><span class="op" id="7505445">.</span><span class="ident" id="7505446">Init</span><span class="op" id="7505450">(</span><span class="ident" id="7505451">fset</span><span class="op" id="7505455">.</span><span class="ident" id="7505456">AddFile</span><span class="op" id="7505463">(</span><span class="string" id="7505464">&#34;&#34;</span><span class="op" id="7505466">,</span>&nbsp;<span class="ident" id="7505468">fset</span><span class="op" id="7505472">.</span><span class="ident" id="7505473">Base</span><span class="op" id="7505477">(</span><span class="op" id="7505478">)</span><span class="op" id="7505479">,</span>&nbsp;<span class="builtinfunc" id="7505481">len</span><span class="op" id="7505484">(</span><span class="ident" id="7505485">src</span><span class="op" id="7505488">)</span><span class="op" id="7505489">)</span><span class="op" id="7505490">,</span>&nbsp;<span class="op" id="7505492">[</span><span class="op" id="7505493">]</span><span class="builtintype" id="7505494">byte</span><span class="op" id="7505498">(</span><span class="ident" id="7505499">src</span><span class="op" id="7505502">)</span><span class="op" id="7505503">,</span>&nbsp;<span class="ident" id="7505505">eh</span><span class="op" id="7505507">,</span>&nbsp;<span class="ident" id="7505509">ScanComments</span><span class="op" id="7505521">|</span><span class="ident" id="7505522">dontInsertSemis</span><span class="op" id="7505537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505540">_</span><span class="op" id="7505541">,</span>&nbsp;<span class="ident" id="7505543">tok0</span><span class="op" id="7505547">,</span>&nbsp;<span class="ident" id="7505549">lit0</span>&nbsp;<span class="op" id="7505554">:=</span>&nbsp;<span class="ident" id="7505557">s</span><span class="op" id="7505558">.</span><span class="ident" id="7505559">Scan</span><span class="op" id="7505563">(</span><span class="op" id="7505564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505567">if</span>&nbsp;<span class="ident" id="7505570">tok0</span>&nbsp;<span class="op" id="7505575">!=</span>&nbsp;<span class="ident" id="7505578">tok</span>&nbsp;<span class="op" id="7505582">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505586">t</span><span class="op" id="7505587">.</span><span class="ident" id="7505588">Errorf</span><span class="op" id="7505594">(</span><span class="string" id="7505595">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7505620">,</span>&nbsp;<span class="ident" id="7505622">src</span><span class="op" id="7505625">,</span>&nbsp;<span class="ident" id="7505627">tok0</span><span class="op" id="7505631">,</span>&nbsp;<span class="ident" id="7505633">tok</span><span class="op" id="7505636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505642">if</span>&nbsp;<span class="ident" id="7505645">tok0</span>&nbsp;<span class="op" id="7505650">!=</span>&nbsp;<span class="ident" id="7505653">token</span><span class="op" id="7505658">.</span><span class="ident" id="7505659">ILLEGAL</span>&nbsp;<span class="op" id="7505667">&amp;&amp;</span>&nbsp;<span class="ident" id="7505670">lit0</span>&nbsp;<span class="op" id="7505675">!=</span>&nbsp;<span class="ident" id="7505678">lit</span>&nbsp;<span class="op" id="7505682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505686">t</span><span class="op" id="7505687">.</span><span class="ident" id="7505688">Errorf</span><span class="op" id="7505694">(</span><span class="string" id="7505695">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7505728">,</span>&nbsp;<span class="ident" id="7505730">src</span><span class="op" id="7505733">,</span>&nbsp;<span class="ident" id="7505735">lit0</span><span class="op" id="7505739">,</span>&nbsp;<span class="ident" id="7505741">lit</span><span class="op" id="7505744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505747">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505750">cnt</span>&nbsp;<span class="op" id="7505754">:=</span>&nbsp;<span class="num" id="7505757">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505760">if</span>&nbsp;<span class="ident" id="7505763">err</span>&nbsp;<span class="op" id="7505767">!=</span>&nbsp;<span class="string" id="7505770">&#34;&#34;</span>&nbsp;<span class="op" id="7505773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505777">cnt</span>&nbsp;<span class="op" id="7505781">=</span>&nbsp;<span class="num" id="7505783">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505789">if</span>&nbsp;<span class="ident" id="7505792">h</span><span class="op" id="7505793">.</span><span class="ident" id="7505794">cnt</span>&nbsp;<span class="op" id="7505798">!=</span>&nbsp;<span class="ident" id="7505801">cnt</span>&nbsp;<span class="op" id="7505805">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505809">t</span><span class="op" id="7505810">.</span><span class="ident" id="7505811">Errorf</span><span class="op" id="7505817">(</span><span class="string" id="7505818">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7505847">,</span>&nbsp;<span class="ident" id="7505849">src</span><span class="op" id="7505852">,</span>&nbsp;<span class="ident" id="7505854">h</span><span class="op" id="7505855">.</span><span class="ident" id="7505856">cnt</span><span class="op" id="7505859">,</span>&nbsp;<span class="ident" id="7505861">cnt</span><span class="op" id="7505864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505870">if</span>&nbsp;<span class="ident" id="7505873">h</span><span class="op" id="7505874">.</span><span class="ident" id="7505875">msg</span>&nbsp;<span class="op" id="7505879">!=</span>&nbsp;<span class="ident" id="7505882">err</span>&nbsp;<span class="op" id="7505886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505890">t</span><span class="op" id="7505891">.</span><span class="ident" id="7505892">Errorf</span><span class="op" id="7505898">(</span><span class="string" id="7505899">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7505928">,</span>&nbsp;<span class="ident" id="7505930">src</span><span class="op" id="7505933">,</span>&nbsp;<span class="ident" id="7505935">h</span><span class="op" id="7505936">.</span><span class="ident" id="7505937">msg</span><span class="op" id="7505940">,</span>&nbsp;<span class="ident" id="7505942">err</span><span class="op" id="7505945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505948">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505951">if</span>&nbsp;<span class="ident" id="7505954">h</span><span class="op" id="7505955">.</span><span class="ident" id="7505956">pos</span><span class="op" id="7505959">.</span><span class="ident" id="7505960">Offset</span>&nbsp;<span class="op" id="7505967">!=</span>&nbsp;<span class="ident" id="7505970">pos</span>&nbsp;<span class="op" id="7505974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505978">t</span><span class="op" id="7505979">.</span><span class="ident" id="7505980">Errorf</span><span class="op" id="7505986">(</span><span class="string" id="7505987">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7506019">,</span>&nbsp;<span class="ident" id="7506021">src</span><span class="op" id="7506024">,</span>&nbsp;<span class="ident" id="7506026">h</span><span class="op" id="7506027">.</span><span class="ident" id="7506028">pos</span><span class="op" id="7506031">.</span><span class="ident" id="7506032">Offset</span><span class="op" id="7506038">,</span>&nbsp;<span class="ident" id="7506040">pos</span><span class="op" id="7506043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506046">}</span><br>
<span class="lineno"></span><span class="op" id="7506048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="7506051">var</span>&nbsp;<span class="ident" id="7506055">errors</span>&nbsp;<span class="op" id="7506062">=</span>&nbsp;<span class="op" id="7506064">[</span><span class="op" id="7506065">]</span><span class="keyword" id="7506066">struct</span>&nbsp;<span class="op" id="7506073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506076">src</span>&nbsp;<span class="builtintype" id="7506080">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506088">tok</span>&nbsp;<span class="ident" id="7506092">token</span><span class="op" id="7506097">.</span><span class="ident" id="7506098">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506105">pos</span>&nbsp;<span class="builtintype" id="7506109">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506114">lit</span>&nbsp;<span class="builtintype" id="7506118">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506126">err</span>&nbsp;<span class="builtintype" id="7506130">string</span><br>
<span class="lineno"></span><span class="op" id="7506137">}</span><span class="op" id="7506138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506141">{</span><span class="string" id="7506142">&#34;\a&#34;</span><span class="op" id="7506146">,</span>&nbsp;<span class="ident" id="7506148">token</span><span class="op" id="7506153">.</span><span class="ident" id="7506154">ILLEGAL</span><span class="op" id="7506161">,</span>&nbsp;<span class="num" id="7506163">0</span><span class="op" id="7506164">,</span>&nbsp;<span class="string" id="7506166">&#34;&#34;</span><span class="op" id="7506168">,</span>&nbsp;<span class="string" id="7506170">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="7506196">}</span><span class="op" id="7506197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506200">{</span><span class="string" id="7506201">`#`</span><span class="op" id="7506204">,</span>&nbsp;<span class="ident" id="7506206">token</span><span class="op" id="7506211">.</span><span class="ident" id="7506212">ILLEGAL</span><span class="op" id="7506219">,</span>&nbsp;<span class="num" id="7506221">0</span><span class="op" id="7506222">,</span>&nbsp;<span class="string" id="7506224">&#34;&#34;</span><span class="op" id="7506226">,</span>&nbsp;<span class="string" id="7506228">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="7506258">}</span><span class="op" id="7506259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506262">{</span><span class="string" id="7506263">`…`</span><span class="op" id="7506268">,</span>&nbsp;<span class="ident" id="7506270">token</span><span class="op" id="7506275">.</span><span class="ident" id="7506276">ILLEGAL</span><span class="op" id="7506283">,</span>&nbsp;<span class="num" id="7506285">0</span><span class="op" id="7506286">,</span>&nbsp;<span class="string" id="7506288">&#34;&#34;</span><span class="op" id="7506290">,</span>&nbsp;<span class="string" id="7506292">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="7506324">}</span><span class="op" id="7506325">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506328">{</span><span class="string" id="7506329">`&#39;&nbsp;&#39;`</span><span class="op" id="7506334">,</span>&nbsp;<span class="ident" id="7506336">token</span><span class="op" id="7506341">.</span><span class="ident" id="7506342">CHAR</span><span class="op" id="7506346">,</span>&nbsp;<span class="num" id="7506348">0</span><span class="op" id="7506349">,</span>&nbsp;<span class="string" id="7506351">`&#39;&nbsp;&#39;`</span><span class="op" id="7506356">,</span>&nbsp;<span class="string" id="7506358">&#34;&#34;</span><span class="op" id="7506360">}</span><span class="op" id="7506361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506364">{</span><span class="string" id="7506365">`&#39;&#39;`</span><span class="op" id="7506369">,</span>&nbsp;<span class="ident" id="7506371">token</span><span class="op" id="7506376">.</span><span class="ident" id="7506377">CHAR</span><span class="op" id="7506381">,</span>&nbsp;<span class="num" id="7506383">0</span><span class="op" id="7506384">,</span>&nbsp;<span class="string" id="7506386">`&#39;&#39;`</span><span class="op" id="7506390">,</span>&nbsp;<span class="string" id="7506392">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7506414">}</span><span class="op" id="7506415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506418">{</span><span class="string" id="7506419">`&#39;12&#39;`</span><span class="op" id="7506425">,</span>&nbsp;<span class="ident" id="7506427">token</span><span class="op" id="7506432">.</span><span class="ident" id="7506433">CHAR</span><span class="op" id="7506437">,</span>&nbsp;<span class="num" id="7506439">0</span><span class="op" id="7506440">,</span>&nbsp;<span class="string" id="7506442">`&#39;12&#39;`</span><span class="op" id="7506448">,</span>&nbsp;<span class="string" id="7506450">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7506472">}</span><span class="op" id="7506473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506476">{</span><span class="string" id="7506477">`&#39;123&#39;`</span><span class="op" id="7506484">,</span>&nbsp;<span class="ident" id="7506486">token</span><span class="op" id="7506491">.</span><span class="ident" id="7506492">CHAR</span><span class="op" id="7506496">,</span>&nbsp;<span class="num" id="7506498">0</span><span class="op" id="7506499">,</span>&nbsp;<span class="string" id="7506501">`&#39;123&#39;`</span><span class="op" id="7506508">,</span>&nbsp;<span class="string" id="7506510">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7506532">}</span><span class="op" id="7506533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506536">{</span><span class="string" id="7506537">`&#39;\0&#39;`</span><span class="op" id="7506543">,</span>&nbsp;<span class="ident" id="7506545">token</span><span class="op" id="7506550">.</span><span class="ident" id="7506551">CHAR</span><span class="op" id="7506555">,</span>&nbsp;<span class="num" id="7506557">3</span><span class="op" id="7506558">,</span>&nbsp;<span class="string" id="7506560">`&#39;\0&#39;`</span><span class="op" id="7506566">,</span>&nbsp;<span class="string" id="7506568">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7506617">}</span><span class="op" id="7506618">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506621">{</span><span class="string" id="7506622">`&#39;\07&#39;`</span><span class="op" id="7506629">,</span>&nbsp;<span class="ident" id="7506631">token</span><span class="op" id="7506636">.</span><span class="ident" id="7506637">CHAR</span><span class="op" id="7506641">,</span>&nbsp;<span class="num" id="7506643">4</span><span class="op" id="7506644">,</span>&nbsp;<span class="string" id="7506646">`&#39;\07&#39;`</span><span class="op" id="7506653">,</span>&nbsp;<span class="string" id="7506655">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7506704">}</span><span class="op" id="7506705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506708">{</span><span class="string" id="7506709">`&#39;\8&#39;`</span><span class="op" id="7506715">,</span>&nbsp;<span class="ident" id="7506717">token</span><span class="op" id="7506722">.</span><span class="ident" id="7506723">CHAR</span><span class="op" id="7506727">,</span>&nbsp;<span class="num" id="7506729">2</span><span class="op" id="7506730">,</span>&nbsp;<span class="string" id="7506732">`&#39;\8&#39;`</span><span class="op" id="7506738">,</span>&nbsp;<span class="string" id="7506740">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7506765">}</span><span class="op" id="7506766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506769">{</span><span class="string" id="7506770">`&#39;\08&#39;`</span><span class="op" id="7506777">,</span>&nbsp;<span class="ident" id="7506779">token</span><span class="op" id="7506784">.</span><span class="ident" id="7506785">CHAR</span><span class="op" id="7506789">,</span>&nbsp;<span class="num" id="7506791">3</span><span class="op" id="7506792">,</span>&nbsp;<span class="string" id="7506794">`&#39;\08&#39;`</span><span class="op" id="7506801">,</span>&nbsp;<span class="string" id="7506803">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7506852">}</span><span class="op" id="7506853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506856">{</span><span class="string" id="7506857">`&#39;\x&#39;`</span><span class="op" id="7506863">,</span>&nbsp;<span class="ident" id="7506865">token</span><span class="op" id="7506870">.</span><span class="ident" id="7506871">CHAR</span><span class="op" id="7506875">,</span>&nbsp;<span class="num" id="7506877">3</span><span class="op" id="7506878">,</span>&nbsp;<span class="string" id="7506880">`&#39;\x&#39;`</span><span class="op" id="7506886">,</span>&nbsp;<span class="string" id="7506888">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7506937">}</span><span class="op" id="7506938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506941">{</span><span class="string" id="7506942">`&#39;\x0&#39;`</span><span class="op" id="7506949">,</span>&nbsp;<span class="ident" id="7506951">token</span><span class="op" id="7506956">.</span><span class="ident" id="7506957">CHAR</span><span class="op" id="7506961">,</span>&nbsp;<span class="num" id="7506963">4</span><span class="op" id="7506964">,</span>&nbsp;<span class="string" id="7506966">`&#39;\x0&#39;`</span><span class="op" id="7506973">,</span>&nbsp;<span class="string" id="7506975">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7507024">}</span><span class="op" id="7507025">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507028">{</span><span class="string" id="7507029">`&#39;\x0g&#39;`</span><span class="op" id="7507037">,</span>&nbsp;<span class="ident" id="7507039">token</span><span class="op" id="7507044">.</span><span class="ident" id="7507045">CHAR</span><span class="op" id="7507049">,</span>&nbsp;<span class="num" id="7507051">4</span><span class="op" id="7507052">,</span>&nbsp;<span class="string" id="7507054">`&#39;\x0g&#39;`</span><span class="op" id="7507062">,</span>&nbsp;<span class="string" id="7507064">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7507113">}</span><span class="op" id="7507114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507117">{</span><span class="string" id="7507118">`&#39;\u&#39;`</span><span class="op" id="7507124">,</span>&nbsp;<span class="ident" id="7507126">token</span><span class="op" id="7507131">.</span><span class="ident" id="7507132">CHAR</span><span class="op" id="7507136">,</span>&nbsp;<span class="num" id="7507138">3</span><span class="op" id="7507139">,</span>&nbsp;<span class="string" id="7507141">`&#39;\u&#39;`</span><span class="op" id="7507147">,</span>&nbsp;<span class="string" id="7507149">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7507198">}</span><span class="op" id="7507199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507202">{</span><span class="string" id="7507203">`&#39;\u0&#39;`</span><span class="op" id="7507210">,</span>&nbsp;<span class="ident" id="7507212">token</span><span class="op" id="7507217">.</span><span class="ident" id="7507218">CHAR</span><span class="op" id="7507222">,</span>&nbsp;<span class="num" id="7507224">4</span><span class="op" id="7507225">,</span>&nbsp;<span class="string" id="7507227">`&#39;\u0&#39;`</span><span class="op" id="7507234">,</span>&nbsp;<span class="string" id="7507236">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7507285">}</span><span class="op" id="7507286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507289">{</span><span class="string" id="7507290">`&#39;\u00&#39;`</span><span class="op" id="7507298">,</span>&nbsp;<span class="ident" id="7507300">token</span><span class="op" id="7507305">.</span><span class="ident" id="7507306">CHAR</span><span class="op" id="7507310">,</span>&nbsp;<span class="num" id="7507312">5</span><span class="op" id="7507313">,</span>&nbsp;<span class="string" id="7507315">`&#39;\u00&#39;`</span><span class="op" id="7507323">,</span>&nbsp;<span class="string" id="7507325">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7507374">}</span><span class="op" id="7507375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507378">{</span><span class="string" id="7507379">`&#39;\u000&#39;`</span><span class="op" id="7507388">,</span>&nbsp;<span class="ident" id="7507390">token</span><span class="op" id="7507395">.</span><span class="ident" id="7507396">CHAR</span><span class="op" id="7507400">,</span>&nbsp;<span class="num" id="7507402">6</span><span class="op" id="7507403">,</span>&nbsp;<span class="string" id="7507405">`&#39;\u000&#39;`</span><span class="op" id="7507414">,</span>&nbsp;<span class="string" id="7507416">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7507465">}</span><span class="op" id="7507466">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507469">{</span><span class="string" id="7507470">`&#39;\u000`</span><span class="op" id="7507478">,</span>&nbsp;<span class="ident" id="7507480">token</span><span class="op" id="7507485">.</span><span class="ident" id="7507486">CHAR</span><span class="op" id="7507490">,</span>&nbsp;<span class="num" id="7507492">6</span><span class="op" id="7507493">,</span>&nbsp;<span class="string" id="7507495">`&#39;\u000`</span><span class="op" id="7507503">,</span>&nbsp;<span class="string" id="7507505">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7507537">}</span><span class="op" id="7507538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507541">{</span><span class="string" id="7507542">`&#39;\u0000&#39;`</span><span class="op" id="7507552">,</span>&nbsp;<span class="ident" id="7507554">token</span><span class="op" id="7507559">.</span><span class="ident" id="7507560">CHAR</span><span class="op" id="7507564">,</span>&nbsp;<span class="num" id="7507566">0</span><span class="op" id="7507567">,</span>&nbsp;<span class="string" id="7507569">`&#39;\u0000&#39;`</span><span class="op" id="7507579">,</span>&nbsp;<span class="string" id="7507581">&#34;&#34;</span><span class="op" id="7507583">}</span><span class="op" id="7507584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507587">{</span><span class="string" id="7507588">`&#39;\U&#39;`</span><span class="op" id="7507594">,</span>&nbsp;<span class="ident" id="7507596">token</span><span class="op" id="7507601">.</span><span class="ident" id="7507602">CHAR</span><span class="op" id="7507606">,</span>&nbsp;<span class="num" id="7507608">3</span><span class="op" id="7507609">,</span>&nbsp;<span class="string" id="7507611">`&#39;\U&#39;`</span><span class="op" id="7507617">,</span>&nbsp;<span class="string" id="7507619">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7507668">}</span><span class="op" id="7507669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507672">{</span><span class="string" id="7507673">`&#39;\U0&#39;`</span><span class="op" id="7507680">,</span>&nbsp;<span class="ident" id="7507682">token</span><span class="op" id="7507687">.</span><span class="ident" id="7507688">CHAR</span><span class="op" id="7507692">,</span>&nbsp;<span class="num" id="7507694">4</span><span class="op" id="7507695">,</span>&nbsp;<span class="string" id="7507697">`&#39;\U0&#39;`</span><span class="op" id="7507704">,</span>&nbsp;<span class="string" id="7507706">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7507755">}</span><span class="op" id="7507756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507759">{</span><span class="string" id="7507760">`&#39;\U00&#39;`</span><span class="op" id="7507768">,</span>&nbsp;<span class="ident" id="7507770">token</span><span class="op" id="7507775">.</span><span class="ident" id="7507776">CHAR</span><span class="op" id="7507780">,</span>&nbsp;<span class="num" id="7507782">5</span><span class="op" id="7507783">,</span>&nbsp;<span class="string" id="7507785">`&#39;\U00&#39;`</span><span class="op" id="7507793">,</span>&nbsp;<span class="string" id="7507795">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7507844">}</span><span class="op" id="7507845">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507848">{</span><span class="string" id="7507849">`&#39;\U000&#39;`</span><span class="op" id="7507858">,</span>&nbsp;<span class="ident" id="7507860">token</span><span class="op" id="7507865">.</span><span class="ident" id="7507866">CHAR</span><span class="op" id="7507870">,</span>&nbsp;<span class="num" id="7507872">6</span><span class="op" id="7507873">,</span>&nbsp;<span class="string" id="7507875">`&#39;\U000&#39;`</span><span class="op" id="7507884">,</span>&nbsp;<span class="string" id="7507886">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7507935">}</span><span class="op" id="7507936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507939">{</span><span class="string" id="7507940">`&#39;\U0000&#39;`</span><span class="op" id="7507950">,</span>&nbsp;<span class="ident" id="7507952">token</span><span class="op" id="7507957">.</span><span class="ident" id="7507958">CHAR</span><span class="op" id="7507962">,</span>&nbsp;<span class="num" id="7507964">7</span><span class="op" id="7507965">,</span>&nbsp;<span class="string" id="7507967">`&#39;\U0000&#39;`</span><span class="op" id="7507977">,</span>&nbsp;<span class="string" id="7507979">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7508028">}</span><span class="op" id="7508029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508032">{</span><span class="string" id="7508033">`&#39;\U00000&#39;`</span><span class="op" id="7508044">,</span>&nbsp;<span class="ident" id="7508046">token</span><span class="op" id="7508051">.</span><span class="ident" id="7508052">CHAR</span><span class="op" id="7508056">,</span>&nbsp;<span class="num" id="7508058">8</span><span class="op" id="7508059">,</span>&nbsp;<span class="string" id="7508061">`&#39;\U00000&#39;`</span><span class="op" id="7508072">,</span>&nbsp;<span class="string" id="7508074">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7508123">}</span><span class="op" id="7508124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508127">{</span><span class="string" id="7508128">`&#39;\U000000&#39;`</span><span class="op" id="7508140">,</span>&nbsp;<span class="ident" id="7508142">token</span><span class="op" id="7508147">.</span><span class="ident" id="7508148">CHAR</span><span class="op" id="7508152">,</span>&nbsp;<span class="num" id="7508154">9</span><span class="op" id="7508155">,</span>&nbsp;<span class="string" id="7508157">`&#39;\U000000&#39;`</span><span class="op" id="7508169">,</span>&nbsp;<span class="string" id="7508171">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7508220">}</span><span class="op" id="7508221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508224">{</span><span class="string" id="7508225">`&#39;\U0000000&#39;`</span><span class="op" id="7508238">,</span>&nbsp;<span class="ident" id="7508240">token</span><span class="op" id="7508245">.</span><span class="ident" id="7508246">CHAR</span><span class="op" id="7508250">,</span>&nbsp;<span class="num" id="7508252">10</span><span class="op" id="7508254">,</span>&nbsp;<span class="string" id="7508256">`&#39;\U0000000&#39;`</span><span class="op" id="7508269">,</span>&nbsp;<span class="string" id="7508271">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7508320">}</span><span class="op" id="7508321">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508324">{</span><span class="string" id="7508325">`&#39;\U0000000`</span><span class="op" id="7508337">,</span>&nbsp;<span class="ident" id="7508339">token</span><span class="op" id="7508344">.</span><span class="ident" id="7508345">CHAR</span><span class="op" id="7508349">,</span>&nbsp;<span class="num" id="7508351">10</span><span class="op" id="7508353">,</span>&nbsp;<span class="string" id="7508355">`&#39;\U0000000`</span><span class="op" id="7508367">,</span>&nbsp;<span class="string" id="7508369">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7508401">}</span><span class="op" id="7508402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508405">{</span><span class="string" id="7508406">`&#39;\U00000000&#39;`</span><span class="op" id="7508420">,</span>&nbsp;<span class="ident" id="7508422">token</span><span class="op" id="7508427">.</span><span class="ident" id="7508428">CHAR</span><span class="op" id="7508432">,</span>&nbsp;<span class="num" id="7508434">0</span><span class="op" id="7508435">,</span>&nbsp;<span class="string" id="7508437">`&#39;\U00000000&#39;`</span><span class="op" id="7508451">,</span>&nbsp;<span class="string" id="7508453">&#34;&#34;</span><span class="op" id="7508455">}</span><span class="op" id="7508456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508459">{</span><span class="string" id="7508460">`&#39;\Uffffffff&#39;`</span><span class="op" id="7508474">,</span>&nbsp;<span class="ident" id="7508476">token</span><span class="op" id="7508481">.</span><span class="ident" id="7508482">CHAR</span><span class="op" id="7508486">,</span>&nbsp;<span class="num" id="7508488">2</span><span class="op" id="7508489">,</span>&nbsp;<span class="string" id="7508491">`&#39;\Uffffffff&#39;`</span><span class="op" id="7508505">,</span>&nbsp;<span class="string" id="7508507">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="7508554">}</span><span class="op" id="7508555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508558">{</span><span class="string" id="7508559">`&#39;`</span><span class="op" id="7508562">,</span>&nbsp;<span class="ident" id="7508564">token</span><span class="op" id="7508569">.</span><span class="ident" id="7508570">CHAR</span><span class="op" id="7508574">,</span>&nbsp;<span class="num" id="7508576">0</span><span class="op" id="7508577">,</span>&nbsp;<span class="string" id="7508579">`&#39;`</span><span class="op" id="7508582">,</span>&nbsp;<span class="string" id="7508584">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7508613">}</span><span class="op" id="7508614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508617">{</span><span class="string" id="7508618">`&#39;\`</span><span class="op" id="7508622">,</span>&nbsp;<span class="ident" id="7508624">token</span><span class="op" id="7508629">.</span><span class="ident" id="7508630">CHAR</span><span class="op" id="7508634">,</span>&nbsp;<span class="num" id="7508636">2</span><span class="op" id="7508637">,</span>&nbsp;<span class="string" id="7508639">`&#39;\`</span><span class="op" id="7508643">,</span>&nbsp;<span class="string" id="7508645">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7508677">}</span><span class="op" id="7508678">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508681">{</span><span class="string" id="7508682">&#34;&#39;\n&#34;</span><span class="op" id="7508687">,</span>&nbsp;<span class="ident" id="7508689">token</span><span class="op" id="7508694">.</span><span class="ident" id="7508695">CHAR</span><span class="op" id="7508699">,</span>&nbsp;<span class="num" id="7508701">0</span><span class="op" id="7508702">,</span>&nbsp;<span class="string" id="7508704">&#34;&#39;&#34;</span><span class="op" id="7508707">,</span>&nbsp;<span class="string" id="7508709">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7508738">}</span><span class="op" id="7508739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508742">{</span><span class="string" id="7508743">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7508751">,</span>&nbsp;<span class="ident" id="7508753">token</span><span class="op" id="7508758">.</span><span class="ident" id="7508759">CHAR</span><span class="op" id="7508763">,</span>&nbsp;<span class="num" id="7508765">0</span><span class="op" id="7508766">,</span>&nbsp;<span class="string" id="7508768">&#34;&#39;&#34;</span><span class="op" id="7508771">,</span>&nbsp;<span class="string" id="7508773">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7508802">}</span><span class="op" id="7508803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508806">{</span><span class="string" id="7508807">`&#34;&#34;`</span><span class="op" id="7508811">,</span>&nbsp;<span class="ident" id="7508813">token</span><span class="op" id="7508818">.</span><span class="ident" id="7508819">STRING</span><span class="op" id="7508825">,</span>&nbsp;<span class="num" id="7508827">0</span><span class="op" id="7508828">,</span>&nbsp;<span class="string" id="7508830">`&#34;&#34;`</span><span class="op" id="7508834">,</span>&nbsp;<span class="string" id="7508836">&#34;&#34;</span><span class="op" id="7508838">}</span><span class="op" id="7508839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508842">{</span><span class="string" id="7508843">`&#34;abc`</span><span class="op" id="7508849">,</span>&nbsp;<span class="ident" id="7508851">token</span><span class="op" id="7508856">.</span><span class="ident" id="7508857">STRING</span><span class="op" id="7508863">,</span>&nbsp;<span class="num" id="7508865">0</span><span class="op" id="7508866">,</span>&nbsp;<span class="string" id="7508868">`&#34;abc`</span><span class="op" id="7508874">,</span>&nbsp;<span class="string" id="7508876">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7508907">}</span><span class="op" id="7508908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508911">{</span><span class="string" id="7508912">&#34;\&#34;abc\n&#34;</span><span class="op" id="7508921">,</span>&nbsp;<span class="ident" id="7508923">token</span><span class="op" id="7508928">.</span><span class="ident" id="7508929">STRING</span><span class="op" id="7508935">,</span>&nbsp;<span class="num" id="7508937">0</span><span class="op" id="7508938">,</span>&nbsp;<span class="string" id="7508940">`&#34;abc`</span><span class="op" id="7508946">,</span>&nbsp;<span class="string" id="7508948">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7508979">}</span><span class="op" id="7508980">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508983">{</span><span class="string" id="7508984">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7508996">,</span>&nbsp;<span class="ident" id="7508998">token</span><span class="op" id="7509003">.</span><span class="ident" id="7509004">STRING</span><span class="op" id="7509010">,</span>&nbsp;<span class="num" id="7509012">0</span><span class="op" id="7509013">,</span>&nbsp;<span class="string" id="7509015">`&#34;abc`</span><span class="op" id="7509021">,</span>&nbsp;<span class="string" id="7509023">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7509054">}</span><span class="op" id="7509055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509058">{</span><span class="string" id="7509059">&#34;``&#34;</span><span class="op" id="7509063">,</span>&nbsp;<span class="ident" id="7509065">token</span><span class="op" id="7509070">.</span><span class="ident" id="7509071">STRING</span><span class="op" id="7509077">,</span>&nbsp;<span class="num" id="7509079">0</span><span class="op" id="7509080">,</span>&nbsp;<span class="string" id="7509082">&#34;``&#34;</span><span class="op" id="7509086">,</span>&nbsp;<span class="string" id="7509088">&#34;&#34;</span><span class="op" id="7509090">}</span><span class="op" id="7509091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509094">{</span><span class="string" id="7509095">&#34;`&#34;</span><span class="op" id="7509098">,</span>&nbsp;<span class="ident" id="7509100">token</span><span class="op" id="7509105">.</span><span class="ident" id="7509106">STRING</span><span class="op" id="7509112">,</span>&nbsp;<span class="num" id="7509114">0</span><span class="op" id="7509115">,</span>&nbsp;<span class="string" id="7509117">&#34;`&#34;</span><span class="op" id="7509120">,</span>&nbsp;<span class="string" id="7509122">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7509157">}</span><span class="op" id="7509158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509161">{</span><span class="string" id="7509162">&#34;/**/&#34;</span><span class="op" id="7509168">,</span>&nbsp;<span class="ident" id="7509170">token</span><span class="op" id="7509175">.</span><span class="ident" id="7509176">COMMENT</span><span class="op" id="7509183">,</span>&nbsp;<span class="num" id="7509185">0</span><span class="op" id="7509186">,</span>&nbsp;<span class="string" id="7509188">&#34;/**/&#34;</span><span class="op" id="7509194">,</span>&nbsp;<span class="string" id="7509196">&#34;&#34;</span><span class="op" id="7509198">}</span><span class="op" id="7509199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509202">{</span><span class="string" id="7509203">&#34;/*&#34;</span><span class="op" id="7509207">,</span>&nbsp;<span class="ident" id="7509209">token</span><span class="op" id="7509214">.</span><span class="ident" id="7509215">COMMENT</span><span class="op" id="7509222">,</span>&nbsp;<span class="num" id="7509224">0</span><span class="op" id="7509225">,</span>&nbsp;<span class="string" id="7509227">&#34;/*&#34;</span><span class="op" id="7509231">,</span>&nbsp;<span class="string" id="7509233">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7509257">}</span><span class="op" id="7509258">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509261">{</span><span class="string" id="7509262">&#34;077&#34;</span><span class="op" id="7509267">,</span>&nbsp;<span class="ident" id="7509269">token</span><span class="op" id="7509274">.</span><span class="ident" id="7509275">INT</span><span class="op" id="7509278">,</span>&nbsp;<span class="num" id="7509280">0</span><span class="op" id="7509281">,</span>&nbsp;<span class="string" id="7509283">&#34;077&#34;</span><span class="op" id="7509288">,</span>&nbsp;<span class="string" id="7509290">&#34;&#34;</span><span class="op" id="7509292">}</span><span class="op" id="7509293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509296">{</span><span class="string" id="7509297">&#34;078.&#34;</span><span class="op" id="7509303">,</span>&nbsp;<span class="ident" id="7509305">token</span><span class="op" id="7509310">.</span><span class="ident" id="7509311">FLOAT</span><span class="op" id="7509316">,</span>&nbsp;<span class="num" id="7509318">0</span><span class="op" id="7509319">,</span>&nbsp;<span class="string" id="7509321">&#34;078.&#34;</span><span class="op" id="7509327">,</span>&nbsp;<span class="string" id="7509329">&#34;&#34;</span><span class="op" id="7509331">}</span><span class="op" id="7509332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509335">{</span><span class="string" id="7509336">&#34;07801234567.&#34;</span><span class="op" id="7509350">,</span>&nbsp;<span class="ident" id="7509352">token</span><span class="op" id="7509357">.</span><span class="ident" id="7509358">FLOAT</span><span class="op" id="7509363">,</span>&nbsp;<span class="num" id="7509365">0</span><span class="op" id="7509366">,</span>&nbsp;<span class="string" id="7509368">&#34;07801234567.&#34;</span><span class="op" id="7509382">,</span>&nbsp;<span class="string" id="7509384">&#34;&#34;</span><span class="op" id="7509386">}</span><span class="op" id="7509387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509390">{</span><span class="string" id="7509391">&#34;078e0&#34;</span><span class="op" id="7509398">,</span>&nbsp;<span class="ident" id="7509400">token</span><span class="op" id="7509405">.</span><span class="ident" id="7509406">FLOAT</span><span class="op" id="7509411">,</span>&nbsp;<span class="num" id="7509413">0</span><span class="op" id="7509414">,</span>&nbsp;<span class="string" id="7509416">&#34;078e0&#34;</span><span class="op" id="7509423">,</span>&nbsp;<span class="string" id="7509425">&#34;&#34;</span><span class="op" id="7509427">}</span><span class="op" id="7509428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509431">{</span><span class="string" id="7509432">&#34;078&#34;</span><span class="op" id="7509437">,</span>&nbsp;<span class="ident" id="7509439">token</span><span class="op" id="7509444">.</span><span class="ident" id="7509445">INT</span><span class="op" id="7509448">,</span>&nbsp;<span class="num" id="7509450">0</span><span class="op" id="7509451">,</span>&nbsp;<span class="string" id="7509453">&#34;078&#34;</span><span class="op" id="7509458">,</span>&nbsp;<span class="string" id="7509460">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7509482">}</span><span class="op" id="7509483">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509486">{</span><span class="string" id="7509487">&#34;07800000009&#34;</span><span class="op" id="7509500">,</span>&nbsp;<span class="ident" id="7509502">token</span><span class="op" id="7509507">.</span><span class="ident" id="7509508">INT</span><span class="op" id="7509511">,</span>&nbsp;<span class="num" id="7509513">0</span><span class="op" id="7509514">,</span>&nbsp;<span class="string" id="7509516">&#34;07800000009&#34;</span><span class="op" id="7509529">,</span>&nbsp;<span class="string" id="7509531">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7509553">}</span><span class="op" id="7509554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509557">{</span><span class="string" id="7509558">&#34;0x&#34;</span><span class="op" id="7509562">,</span>&nbsp;<span class="ident" id="7509564">token</span><span class="op" id="7509569">.</span><span class="ident" id="7509570">INT</span><span class="op" id="7509573">,</span>&nbsp;<span class="num" id="7509575">0</span><span class="op" id="7509576">,</span>&nbsp;<span class="string" id="7509578">&#34;0x&#34;</span><span class="op" id="7509582">,</span>&nbsp;<span class="string" id="7509584">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7509612">}</span><span class="op" id="7509613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509616">{</span><span class="string" id="7509617">&#34;0X&#34;</span><span class="op" id="7509621">,</span>&nbsp;<span class="ident" id="7509623">token</span><span class="op" id="7509628">.</span><span class="ident" id="7509629">INT</span><span class="op" id="7509632">,</span>&nbsp;<span class="num" id="7509634">0</span><span class="op" id="7509635">,</span>&nbsp;<span class="string" id="7509637">&#34;0X&#34;</span><span class="op" id="7509641">,</span>&nbsp;<span class="string" id="7509643">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7509671">}</span><span class="op" id="7509672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509675">{</span><span class="string" id="7509676">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7509692">,</span>&nbsp;<span class="ident" id="7509694">token</span><span class="op" id="7509699">.</span><span class="ident" id="7509700">STRING</span><span class="op" id="7509706">,</span>&nbsp;<span class="num" id="7509708">4</span><span class="op" id="7509709">,</span>&nbsp;<span class="string" id="7509711">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7509727">,</span>&nbsp;<span class="string" id="7509729">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7509752">}</span><span class="op" id="7509753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509756">{</span><span class="string" id="7509757">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7509773">,</span>&nbsp;<span class="ident" id="7509775">token</span><span class="op" id="7509780">.</span><span class="ident" id="7509781">STRING</span><span class="op" id="7509787">,</span>&nbsp;<span class="num" id="7509789">4</span><span class="op" id="7509790">,</span>&nbsp;<span class="string" id="7509792">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7509808">,</span>&nbsp;<span class="string" id="7509810">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7509834">}</span><span class="op" id="7509835">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509838">{</span><span class="string" id="7509839">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7509853">,</span>&nbsp;<span class="ident" id="7509855">token</span><span class="op" id="7509860">.</span><span class="ident" id="7509861">ILLEGAL</span><span class="op" id="7509868">,</span>&nbsp;<span class="num" id="7509870">3</span><span class="op" id="7509871">,</span>&nbsp;<span class="string" id="7509873">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7509887">,</span>&nbsp;<span class="string" id="7509889">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7509914">}</span><span class="op" id="7509915">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7509940">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509970">{</span><span class="string" id="7509971">&#34;//\ufeff&#34;</span><span class="op" id="7509981">,</span>&nbsp;<span class="ident" id="7509983">token</span><span class="op" id="7509988">.</span><span class="ident" id="7509989">COMMENT</span><span class="op" id="7509996">,</span>&nbsp;<span class="num" id="7509998">2</span><span class="op" id="7509999">,</span>&nbsp;<span class="string" id="7510001">&#34;//\ufeff&#34;</span><span class="op" id="7510011">,</span>&nbsp;<span class="string" id="7510013">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7510038">}</span><span class="op" id="7510039">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7510072">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510102">{</span><span class="string" id="7510103">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7510113">+</span>&nbsp;<span class="string" id="7510115">`&#39;`</span><span class="op" id="7510118">,</span>&nbsp;<span class="ident" id="7510120">token</span><span class="op" id="7510125">.</span><span class="ident" id="7510126">CHAR</span><span class="op" id="7510130">,</span>&nbsp;<span class="num" id="7510132">1</span><span class="op" id="7510133">,</span>&nbsp;<span class="string" id="7510135">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7510145">+</span>&nbsp;<span class="string" id="7510147">`&#39;`</span><span class="op" id="7510150">,</span>&nbsp;<span class="string" id="7510152">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7510177">}</span><span class="op" id="7510178">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7510204">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510234">{</span><span class="string" id="7510235">`&#34;`</span>&nbsp;<span class="op" id="7510239">+</span>&nbsp;<span class="string" id="7510241">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7510256">+</span>&nbsp;<span class="string" id="7510258">`&#34;`</span><span class="op" id="7510261">,</span>&nbsp;<span class="ident" id="7510263">token</span><span class="op" id="7510268">.</span><span class="ident" id="7510269">STRING</span><span class="op" id="7510275">,</span>&nbsp;<span class="num" id="7510277">4</span><span class="op" id="7510278">,</span>&nbsp;<span class="string" id="7510280">`&#34;`</span>&nbsp;<span class="op" id="7510284">+</span>&nbsp;<span class="string" id="7510286">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7510301">+</span>&nbsp;<span class="string" id="7510303">`&#34;`</span><span class="op" id="7510306">,</span>&nbsp;<span class="string" id="7510308">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7510333">}</span><span class="op" id="7510334">,</span>&nbsp;<span class="comment" id="7510336">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="7510365">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="7510368">func</span>&nbsp;<span class="ident" id="7510373">TestScanErrors</span><span class="op" id="7510387">(</span><span class="ident" id="7510388">t</span>&nbsp;<span class="op" id="7510390">*</span><span class="ident" id="7510391">testing</span><span class="op" id="7510398">.</span><span class="ident" id="7510399">T</span><span class="op" id="7510400">)</span>&nbsp;<span class="op" id="7510402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510405">for</span>&nbsp;<span class="ident" id="7510409">_</span><span class="op" id="7510410">,</span>&nbsp;<span class="ident" id="7510412">e</span>&nbsp;<span class="op" id="7510414">:=</span>&nbsp;<span class="keyword" id="7510417">range</span>&nbsp;<span class="ident" id="7510423">errors</span>&nbsp;<span class="op" id="7510430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510434">checkError</span><span class="op" id="7510444">(</span><span class="ident" id="7510445">t</span><span class="op" id="7510446">,</span>&nbsp;<span class="ident" id="7510448">e</span><span class="op" id="7510449">.</span><span class="ident" id="7510450">src</span><span class="op" id="7510453">,</span>&nbsp;<span class="ident" id="7510455">e</span><span class="op" id="7510456">.</span><span class="ident" id="7510457">tok</span><span class="op" id="7510460">,</span>&nbsp;<span class="ident" id="7510462">e</span><span class="op" id="7510463">.</span><span class="ident" id="7510464">pos</span><span class="op" id="7510467">,</span>&nbsp;<span class="ident" id="7510469">e</span><span class="op" id="7510470">.</span><span class="ident" id="7510471">lit</span><span class="op" id="7510474">,</span>&nbsp;<span class="ident" id="7510476">e</span><span class="op" id="7510477">.</span><span class="ident" id="7510478">err</span><span class="op" id="7510481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510484">}</span><br>
<span class="lineno">735</span><span class="op" id="7510486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7510489">func</span>&nbsp;<span class="ident" id="7510494">BenchmarkScan</span><span class="op" id="7510507">(</span><span class="ident" id="7510508">b</span>&nbsp;<span class="op" id="7510510">*</span><span class="ident" id="7510511">testing</span><span class="op" id="7510518">.</span><span class="ident" id="7510519">B</span><span class="op" id="7510520">)</span>&nbsp;<span class="op" id="7510522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510525">b</span><span class="op" id="7510526">.</span><span class="ident" id="7510527">StopTimer</span><span class="op" id="7510536">(</span><span class="op" id="7510537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510540">fset</span>&nbsp;<span class="op" id="7510545">:=</span>&nbsp;<span class="ident" id="7510548">token</span><span class="op" id="7510553">.</span><span class="ident" id="7510554">NewFileSet</span><span class="op" id="7510564">(</span><span class="op" id="7510565">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510568">file</span>&nbsp;<span class="op" id="7510573">:=</span>&nbsp;<span class="ident" id="7510576">fset</span><span class="op" id="7510580">.</span><span class="ident" id="7510581">AddFile</span><span class="op" id="7510588">(</span><span class="string" id="7510589">&#34;&#34;</span><span class="op" id="7510591">,</span>&nbsp;<span class="ident" id="7510593">fset</span><span class="op" id="7510597">.</span><span class="ident" id="7510598">Base</span><span class="op" id="7510602">(</span><span class="op" id="7510603">)</span><span class="op" id="7510604">,</span>&nbsp;<span class="builtinfunc" id="7510606">len</span><span class="op" id="7510609">(</span><span class="ident" id="7510610">source</span><span class="op" id="7510616">)</span><span class="op" id="7510617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510620">var</span>&nbsp;<span class="ident" id="7510624">s</span>&nbsp;<span class="ident" id="7510626">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510635">b</span><span class="op" id="7510636">.</span><span class="ident" id="7510637">StartTimer</span><span class="op" id="7510647">(</span><span class="op" id="7510648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510651">for</span>&nbsp;<span class="ident" id="7510655">i</span>&nbsp;<span class="op" id="7510657">:=</span>&nbsp;<span class="num" id="7510660">0</span><span class="op" id="7510661">;</span>&nbsp;<span class="ident" id="7510663">i</span>&nbsp;<span class="op" id="7510665">&lt;</span>&nbsp;<span class="ident" id="7510667">b</span><span class="op" id="7510668">.</span><span class="ident" id="7510669">N</span><span class="op" id="7510670">;</span>&nbsp;<span class="ident" id="7510672">i</span><span class="op" id="7510673">++</span>&nbsp;<span class="op" id="7510676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510680">s</span><span class="op" id="7510681">.</span><span class="ident" id="7510682">Init</span><span class="op" id="7510686">(</span><span class="ident" id="7510687">file</span><span class="op" id="7510691">,</span>&nbsp;<span class="ident" id="7510693">source</span><span class="op" id="7510699">,</span>&nbsp;<span class="ident" id="7510701">nil</span><span class="op" id="7510704">,</span>&nbsp;<span class="ident" id="7510706">ScanComments</span><span class="op" id="7510718">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510722">for</span>&nbsp;<span class="op" id="7510726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510731">_</span><span class="op" id="7510732">,</span>&nbsp;<span class="ident" id="7510734">tok</span><span class="op" id="7510737">,</span>&nbsp;<span class="ident" id="7510739">_</span>&nbsp;<span class="op" id="7510741">:=</span>&nbsp;<span class="ident" id="7510744">s</span><span class="op" id="7510745">.</span><span class="ident" id="7510746">Scan</span><span class="op" id="7510750">(</span><span class="op" id="7510751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510756">if</span>&nbsp;<span class="ident" id="7510759">tok</span>&nbsp;<span class="op" id="7510763">==</span>&nbsp;<span class="ident" id="7510766">token</span><span class="op" id="7510771">.</span><span class="ident" id="7510772">EOF</span>&nbsp;<span class="op" id="7510776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510782">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510791">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510798">}</span><br>
<span class="lineno"></span><span class="op" id="7510800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7510803">func</span>&nbsp;<span class="ident" id="7510808">BenchmarkScanFile</span><span class="op" id="7510825">(</span><span class="ident" id="7510826">b</span>&nbsp;<span class="op" id="7510828">*</span><span class="ident" id="7510829">testing</span><span class="op" id="7510836">.</span><span class="ident" id="7510837">B</span><span class="op" id="7510838">)</span>&nbsp;<span class="op" id="7510840">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510843">b</span><span class="op" id="7510844">.</span><span class="ident" id="7510845">StopTimer</span><span class="op" id="7510854">(</span><span class="op" id="7510855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510858">const</span>&nbsp;<span class="ident" id="7510864">filename</span>&nbsp;<span class="op" id="7510873">=</span>&nbsp;<span class="string" id="7510875">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510889">src</span><span class="op" id="7510892">,</span>&nbsp;<span class="ident" id="7510894">err</span>&nbsp;<span class="op" id="7510898">:=</span>&nbsp;<span class="ident" id="7510901">ioutil</span><span class="op" id="7510907">.</span><span class="ident" id="7510908">ReadFile</span><span class="op" id="7510916">(</span><span class="ident" id="7510917">filename</span><span class="op" id="7510925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510928">if</span>&nbsp;<span class="ident" id="7510931">err</span>&nbsp;<span class="op" id="7510935">!=</span>&nbsp;<span class="ident" id="7510938">nil</span>&nbsp;<span class="op" id="7510942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7510946">panic</span><span class="op" id="7510951">(</span><span class="ident" id="7510952">err</span><span class="op" id="7510955">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510961">fset</span>&nbsp;<span class="op" id="7510966">:=</span>&nbsp;<span class="ident" id="7510969">token</span><span class="op" id="7510974">.</span><span class="ident" id="7510975">NewFileSet</span><span class="op" id="7510985">(</span><span class="op" id="7510986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510989">file</span>&nbsp;<span class="op" id="7510994">:=</span>&nbsp;<span class="ident" id="7510997">fset</span><span class="op" id="7511001">.</span><span class="ident" id="7511002">AddFile</span><span class="op" id="7511009">(</span><span class="ident" id="7511010">filename</span><span class="op" id="7511018">,</span>&nbsp;<span class="ident" id="7511020">fset</span><span class="op" id="7511024">.</span><span class="ident" id="7511025">Base</span><span class="op" id="7511029">(</span><span class="op" id="7511030">)</span><span class="op" id="7511031">,</span>&nbsp;<span class="builtinfunc" id="7511033">len</span><span class="op" id="7511036">(</span><span class="ident" id="7511037">src</span><span class="op" id="7511040">)</span><span class="op" id="7511041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511044">b</span><span class="op" id="7511045">.</span><span class="ident" id="7511046">SetBytes</span><span class="op" id="7511054">(</span><span class="ident" id="7511055">int64</span><span class="op" id="7511060">(</span><span class="builtinfunc" id="7511061">len</span><span class="op" id="7511064">(</span><span class="ident" id="7511065">src</span><span class="op" id="7511068">)</span><span class="op" id="7511069">)</span><span class="op" id="7511070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511073">var</span>&nbsp;<span class="ident" id="7511077">s</span>&nbsp;<span class="ident" id="7511079">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511088">b</span><span class="op" id="7511089">.</span><span class="ident" id="7511090">StartTimer</span><span class="op" id="7511100">(</span><span class="op" id="7511101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511104">for</span>&nbsp;<span class="ident" id="7511108">i</span>&nbsp;<span class="op" id="7511110">:=</span>&nbsp;<span class="num" id="7511113">0</span><span class="op" id="7511114">;</span>&nbsp;<span class="ident" id="7511116">i</span>&nbsp;<span class="op" id="7511118">&lt;</span>&nbsp;<span class="ident" id="7511120">b</span><span class="op" id="7511121">.</span><span class="ident" id="7511122">N</span><span class="op" id="7511123">;</span>&nbsp;<span class="ident" id="7511125">i</span><span class="op" id="7511126">++</span>&nbsp;<span class="op" id="7511129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511133">s</span><span class="op" id="7511134">.</span><span class="ident" id="7511135">Init</span><span class="op" id="7511139">(</span><span class="ident" id="7511140">file</span><span class="op" id="7511144">,</span>&nbsp;<span class="ident" id="7511146">src</span><span class="op" id="7511149">,</span>&nbsp;<span class="ident" id="7511151">nil</span><span class="op" id="7511154">,</span>&nbsp;<span class="ident" id="7511156">ScanComments</span><span class="op" id="7511168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511172">for</span>&nbsp;<span class="op" id="7511176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511181">_</span><span class="op" id="7511182">,</span>&nbsp;<span class="ident" id="7511184">tok</span><span class="op" id="7511187">,</span>&nbsp;<span class="ident" id="7511189">_</span>&nbsp;<span class="op" id="7511191">:=</span>&nbsp;<span class="ident" id="7511194">s</span><span class="op" id="7511195">.</span><span class="ident" id="7511196">Scan</span><span class="op" id="7511200">(</span><span class="op" id="7511201">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511206">if</span>&nbsp;<span class="ident" id="7511209">tok</span>&nbsp;<span class="op" id="7511213">==</span>&nbsp;<span class="ident" id="7511216">token</span><span class="op" id="7511221">.</span><span class="ident" id="7511222">EOF</span>&nbsp;<span class="op" id="7511226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7511232">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511248">}</span><br>
<span class="lineno">775</span><span class="op" id="7511250">}</span>
</div>
</body>
</html>
