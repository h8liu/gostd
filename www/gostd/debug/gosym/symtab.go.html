<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5737872">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5737928">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5737982">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5738033">//&nbsp;Package&nbsp;gosym&nbsp;implements&nbsp;access&nbsp;to&nbsp;the&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="5738085">//&nbsp;and&nbsp;line&nbsp;number&nbsp;tables&nbsp;embedded&nbsp;in&nbsp;Go&nbsp;binaries&nbsp;generated</span><br>
<span class="lineno"></span><span class="comment" id="5738145">//&nbsp;by&nbsp;the&nbsp;gc&nbsp;compilers.</span><br>
<span class="lineno"></span><span class="keyword" id="5738169">package</span>&nbsp;<span class="ident" id="5738177">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="comment" id="5738184">//&nbsp;The&nbsp;table&nbsp;format&nbsp;is&nbsp;a&nbsp;variant&nbsp;of&nbsp;the&nbsp;format&nbsp;used&nbsp;in&nbsp;Plan&nbsp;9&#39;s&nbsp;a.out</span><br>
<span class="lineno"></span><span class="comment" id="5738254">//&nbsp;format,&nbsp;documented&nbsp;at&nbsp;http://plan9.bell-labs.com/magic/man2html/6/a.out.</span><br>
<span class="lineno"></span><span class="comment" id="5738330">//&nbsp;The&nbsp;best&nbsp;reference&nbsp;for&nbsp;the&nbsp;differences&nbsp;between&nbsp;the&nbsp;Plan&nbsp;9&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="5738398">//&nbsp;and&nbsp;the&nbsp;Go&nbsp;format&nbsp;is&nbsp;the&nbsp;runtime&nbsp;source,&nbsp;specifically&nbsp;../../runtime/symtab.c.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="5738480">import</span>&nbsp;<span class="op" id="5738487">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5738490">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5738499">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5738518">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5738525">&#34;strconv&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5738536">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="5738546">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5738549">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbols<br>
<span class="lineno">25</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5738568">//&nbsp;A&nbsp;Sym&nbsp;represents&nbsp;a&nbsp;single&nbsp;symbol&nbsp;table&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5738617">type</span>&nbsp;<span class="ident" id="5738622">Sym</span>&nbsp;<span class="keyword" id="5738626">struct</span>&nbsp;<span class="op" id="5738633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5738636">Value</span>&nbsp;&nbsp;<span class="ident" id="5738643">uint64</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5738651">Type</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5738658">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5738664">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5738671">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5738679">GoType</span>&nbsp;<span class="ident" id="5738686">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5738694">//&nbsp;If&nbsp;this&nbsp;symbol&nbsp;if&nbsp;a&nbsp;function&nbsp;symbol,&nbsp;the&nbsp;corresponding&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5738758">Func</span>&nbsp;<span class="op" id="5738763">*</span><span class="ident" id="5738764">Func</span><br>
<span class="lineno">35</span><span class="op" id="5738769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5738772">//&nbsp;Static&nbsp;reports&nbsp;whether&nbsp;this&nbsp;symbol&nbsp;is&nbsp;static&nbsp;(not&nbsp;visible&nbsp;outside&nbsp;its&nbsp;file).</span><br>
<span class="lineno"></span><span class="keyword" id="5738852">func</span>&nbsp;<span class="op" id="5738857">(</span><span class="ident" id="5738858">s</span>&nbsp;<span class="op" id="5738860">*</span><span class="ident" id="5738861">Sym</span><span class="op" id="5738864">)</span>&nbsp;<span class="ident" id="5738866">Static</span><span class="op" id="5738872">(</span><span class="op" id="5738873">)</span>&nbsp;<span class="builtintype" id="5738875">bool</span>&nbsp;<span class="op" id="5738880">{</span>&nbsp;<span class="keyword" id="5738882">return</span>&nbsp;<span class="ident" id="5738889">s</span><span class="op" id="5738890">.</span><span class="ident" id="5738891">Type</span>&nbsp;<span class="op" id="5738896">&gt;=</span>&nbsp;<span class="string" id="5738899">&#39;a&#39;</span>&nbsp;<span class="op" id="5738903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="5738906">//&nbsp;PackageName&nbsp;returns&nbsp;the&nbsp;package&nbsp;part&nbsp;of&nbsp;the&nbsp;symbol&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5738966">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="5739007">func</span>&nbsp;<span class="op" id="5739012">(</span><span class="ident" id="5739013">s</span>&nbsp;<span class="op" id="5739015">*</span><span class="ident" id="5739016">Sym</span><span class="op" id="5739019">)</span>&nbsp;<span class="ident" id="5739021">PackageName</span><span class="op" id="5739032">(</span><span class="op" id="5739033">)</span>&nbsp;<span class="builtintype" id="5739035">string</span>&nbsp;<span class="op" id="5739042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5739045">if</span>&nbsp;<span class="ident" id="5739048">i</span>&nbsp;<span class="op" id="5739050">:=</span>&nbsp;<span class="ident" id="5739053">strings</span><span class="op" id="5739060">.</span><span class="ident" id="5739061">Index</span><span class="op" id="5739066">(</span><span class="ident" id="5739067">s</span><span class="op" id="5739068">.</span><span class="ident" id="5739069">Name</span><span class="op" id="5739073">,</span>&nbsp;<span class="string" id="5739075">&#34;.&#34;</span><span class="op" id="5739078">)</span><span class="op" id="5739079">;</span>&nbsp;<span class="ident" id="5739081">i</span>&nbsp;<span class="op" id="5739083">!=</span>&nbsp;<span class="op" id="5739086">-</span><span class="num" id="5739087">1</span>&nbsp;<span class="op" id="5739089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5739093">return</span>&nbsp;<span class="ident" id="5739100">s</span><span class="op" id="5739101">.</span><span class="ident" id="5739102">Name</span><span class="op" id="5739106">[</span><span class="num" id="5739107">0</span><span class="op" id="5739108">:</span><span class="ident" id="5739109">i</span><span class="op" id="5739110">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5739113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5739116">return</span>&nbsp;<span class="string" id="5739123">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="5739126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5739129">//&nbsp;ReceiverName&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;name&nbsp;of&nbsp;this&nbsp;symbol,</span><br>
<span class="lineno">50</span><span class="comment" id="5739192">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="5739233">func</span>&nbsp;<span class="op" id="5739238">(</span><span class="ident" id="5739239">s</span>&nbsp;<span class="op" id="5739241">*</span><span class="ident" id="5739242">Sym</span><span class="op" id="5739245">)</span>&nbsp;<span class="ident" id="5739247">ReceiverName</span><span class="op" id="5739259">(</span><span class="op" id="5739260">)</span>&nbsp;<span class="builtintype" id="5739262">string</span>&nbsp;<span class="op" id="5739269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5739272">l</span>&nbsp;<span class="op" id="5739274">:=</span>&nbsp;<span class="ident" id="5739277">strings</span><span class="op" id="5739284">.</span><span class="ident" id="5739285">Index</span><span class="op" id="5739290">(</span><span class="ident" id="5739291">s</span><span class="op" id="5739292">.</span><span class="ident" id="5739293">Name</span><span class="op" id="5739297">,</span>&nbsp;<span class="string" id="5739299">&#34;.&#34;</span><span class="op" id="5739302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5739305">r</span>&nbsp;<span class="op" id="5739307">:=</span>&nbsp;<span class="ident" id="5739310">strings</span><span class="op" id="5739317">.</span><span class="ident" id="5739318">LastIndex</span><span class="op" id="5739327">(</span><span class="ident" id="5739328">s</span><span class="op" id="5739329">.</span><span class="ident" id="5739330">Name</span><span class="op" id="5739334">,</span>&nbsp;<span class="string" id="5739336">&#34;.&#34;</span><span class="op" id="5739339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5739342">if</span>&nbsp;<span class="ident" id="5739345">l</span>&nbsp;<span class="op" id="5739347">==</span>&nbsp;<span class="op" id="5739350">-</span><span class="num" id="5739351">1</span>&nbsp;<span class="op" id="5739353">||</span>&nbsp;<span class="ident" id="5739356">r</span>&nbsp;<span class="op" id="5739358">==</span>&nbsp;<span class="op" id="5739361">-</span><span class="num" id="5739362">1</span>&nbsp;<span class="op" id="5739364">||</span>&nbsp;<span class="ident" id="5739367">l</span>&nbsp;<span class="op" id="5739369">==</span>&nbsp;<span class="ident" id="5739372">r</span>&nbsp;<span class="op" id="5739374">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5739378">return</span>&nbsp;<span class="string" id="5739385">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5739389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5739392">return</span>&nbsp;<span class="ident" id="5739399">s</span><span class="op" id="5739400">.</span><span class="ident" id="5739401">Name</span><span class="op" id="5739405">[</span><span class="ident" id="5739406">l</span><span class="op" id="5739407">+</span><span class="num" id="5739408">1</span>&nbsp;<span class="op" id="5739410">:</span>&nbsp;<span class="ident" id="5739412">r</span><span class="op" id="5739413">]</span><br>
<span class="lineno"></span><span class="op" id="5739415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="5739418">//&nbsp;BaseName&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;name&nbsp;without&nbsp;the&nbsp;package&nbsp;or&nbsp;receiver&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="5739492">func</span>&nbsp;<span class="op" id="5739497">(</span><span class="ident" id="5739498">s</span>&nbsp;<span class="op" id="5739500">*</span><span class="ident" id="5739501">Sym</span><span class="op" id="5739504">)</span>&nbsp;<span class="ident" id="5739506">BaseName</span><span class="op" id="5739514">(</span><span class="op" id="5739515">)</span>&nbsp;<span class="builtintype" id="5739517">string</span>&nbsp;<span class="op" id="5739524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5739527">if</span>&nbsp;<span class="ident" id="5739530">i</span>&nbsp;<span class="op" id="5739532">:=</span>&nbsp;<span class="ident" id="5739535">strings</span><span class="op" id="5739542">.</span><span class="ident" id="5739543">LastIndex</span><span class="op" id="5739552">(</span><span class="ident" id="5739553">s</span><span class="op" id="5739554">.</span><span class="ident" id="5739555">Name</span><span class="op" id="5739559">,</span>&nbsp;<span class="string" id="5739561">&#34;.&#34;</span><span class="op" id="5739564">)</span><span class="op" id="5739565">;</span>&nbsp;<span class="ident" id="5739567">i</span>&nbsp;<span class="op" id="5739569">!=</span>&nbsp;<span class="op" id="5739572">-</span><span class="num" id="5739573">1</span>&nbsp;<span class="op" id="5739575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5739579">return</span>&nbsp;<span class="ident" id="5739586">s</span><span class="op" id="5739587">.</span><span class="ident" id="5739588">Name</span><span class="op" id="5739592">[</span><span class="ident" id="5739593">i</span><span class="op" id="5739594">+</span><span class="num" id="5739595">1</span><span class="op" id="5739596">:</span><span class="op" id="5739597">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5739600">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5739603">return</span>&nbsp;<span class="ident" id="5739610">s</span><span class="op" id="5739611">.</span><span class="ident" id="5739612">Name</span><br>
<span class="lineno"></span><span class="op" id="5739617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5739620">//&nbsp;A&nbsp;Func&nbsp;collects&nbsp;information&nbsp;about&nbsp;a&nbsp;single&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="5739676">type</span>&nbsp;<span class="ident" id="5739681">Func</span>&nbsp;<span class="keyword" id="5739686">struct</span>&nbsp;<span class="op" id="5739693">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5739696">Entry</span>&nbsp;<span class="ident" id="5739702">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5739710">*</span><span class="ident" id="5739711">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5739716">End</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5739726">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5739734">Params</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5739744">[</span><span class="op" id="5739745">]</span><span class="op" id="5739746">*</span><span class="ident" id="5739747">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5739752">Locals</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5739762">[</span><span class="op" id="5739763">]</span><span class="op" id="5739764">*</span><span class="ident" id="5739765">Sym</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5739770">FrameSize</span>&nbsp;<span class="builtintype" id="5739780">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5739785">LineTable</span>&nbsp;<span class="op" id="5739795">*</span><span class="ident" id="5739796">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5739807">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5739817">*</span><span class="ident" id="5739818">Obj</span><br>
<span class="lineno"></span><span class="op" id="5739822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="5739825">//&nbsp;An&nbsp;Obj&nbsp;represents&nbsp;a&nbsp;collection&nbsp;of&nbsp;functions&nbsp;in&nbsp;a&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="5739891">//</span><br>
<span class="lineno"></span><span class="comment" id="5739894">//&nbsp;The&nbsp;exact&nbsp;method&nbsp;of&nbsp;division&nbsp;of&nbsp;a&nbsp;binary&nbsp;into&nbsp;separate&nbsp;Objs&nbsp;is&nbsp;an&nbsp;internal&nbsp;detail</span><br>
<span class="lineno"></span><span class="comment" id="5739979">//&nbsp;of&nbsp;the&nbsp;symbol&nbsp;table&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5740010">//</span><br>
<span class="lineno">85</span><span class="comment" id="5740013">//&nbsp;In&nbsp;early&nbsp;versions&nbsp;of&nbsp;Go&nbsp;each&nbsp;source&nbsp;file&nbsp;became&nbsp;a&nbsp;different&nbsp;Obj.</span><br>
<span class="lineno"></span><span class="comment" id="5740081">//</span><br>
<span class="lineno"></span><span class="comment" id="5740084">//&nbsp;In&nbsp;Go&nbsp;1&nbsp;and&nbsp;Go&nbsp;1.1,&nbsp;each&nbsp;package&nbsp;produced&nbsp;one&nbsp;Obj&nbsp;for&nbsp;all&nbsp;Go&nbsp;sources</span><br>
<span class="lineno"></span><span class="comment" id="5740156">//&nbsp;and&nbsp;one&nbsp;Obj&nbsp;per&nbsp;C&nbsp;source&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="5740190">//</span><br>
<span class="lineno">90</span><span class="comment" id="5740193">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;there&nbsp;is&nbsp;a&nbsp;single&nbsp;Obj&nbsp;for&nbsp;the&nbsp;entire&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="5740253">type</span>&nbsp;<span class="ident" id="5740258">Obj</span>&nbsp;<span class="keyword" id="5740262">struct</span>&nbsp;<span class="op" id="5740269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5740272">//&nbsp;Funcs&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;functions&nbsp;in&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5740317">Funcs</span>&nbsp;<span class="op" id="5740323">[</span><span class="op" id="5740324">]</span><span class="ident" id="5740325">Func</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5740332">//&nbsp;In&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;Paths&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;symbols&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5740400">//&nbsp;to&nbsp;the&nbsp;source&nbsp;file&nbsp;names&nbsp;that&nbsp;produced&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5740452">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;Paths&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5740481">//&nbsp;Use&nbsp;the&nbsp;keys&nbsp;of&nbsp;Table.Files&nbsp;to&nbsp;obtain&nbsp;a&nbsp;list&nbsp;of&nbsp;source&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5740547">Paths</span>&nbsp;<span class="op" id="5740553">[</span><span class="op" id="5740554">]</span><span class="ident" id="5740555">Sym</span>&nbsp;<span class="comment" id="5740559">//&nbsp;meta</span><br>
<span class="lineno">100</span><span class="op" id="5740567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5740570">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbol&nbsp;tables<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="5740595">//&nbsp;Table&nbsp;represents&nbsp;a&nbsp;Go&nbsp;symbol&nbsp;table.&nbsp;&nbsp;It&nbsp;stores&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5740656">//&nbsp;symbols&nbsp;decoded&nbsp;from&nbsp;the&nbsp;program&nbsp;and&nbsp;provides&nbsp;methods&nbsp;to&nbsp;translate</span><br>
<span class="lineno"></span><span class="comment" id="5740726">//&nbsp;between&nbsp;symbols,&nbsp;names,&nbsp;and&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="5740768">type</span>&nbsp;<span class="ident" id="5740773">Table</span>&nbsp;<span class="keyword" id="5740779">struct</span>&nbsp;<span class="op" id="5740786">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5740789">Syms</span>&nbsp;&nbsp;<span class="op" id="5740795">[</span><span class="op" id="5740796">]</span><span class="ident" id="5740797">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5740802">Funcs</span>&nbsp;<span class="op" id="5740808">[</span><span class="op" id="5740809">]</span><span class="ident" id="5740810">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5740816">Files</span>&nbsp;<span class="keyword" id="5740822">map</span><span class="op" id="5740825">[</span><span class="builtintype" id="5740826">string</span><span class="op" id="5740832">]</span><span class="op" id="5740833">*</span><span class="ident" id="5740834">Obj</span>&nbsp;<span class="comment" id="5740838">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5740876">Objs</span>&nbsp;&nbsp;<span class="op" id="5740882">[</span><span class="op" id="5740883">]</span><span class="ident" id="5740884">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5740898">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5740937">go12line</span>&nbsp;<span class="op" id="5740946">*</span><span class="ident" id="5740947">LineTable</span>&nbsp;<span class="comment" id="5740957">//&nbsp;Go&nbsp;1.2&nbsp;line&nbsp;number&nbsp;table</span><br>
<span class="lineno"></span><span class="op" id="5740985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5740988">type</span>&nbsp;<span class="ident" id="5740993">sym</span>&nbsp;<span class="keyword" id="5740997">struct</span>&nbsp;<span class="op" id="5741004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741007">value</span>&nbsp;&nbsp;<span class="ident" id="5741014">uint64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741022">gotype</span>&nbsp;<span class="ident" id="5741029">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741037">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5741044">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741050">name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5741057">[</span><span class="op" id="5741058">]</span><span class="builtintype" id="5741059">byte</span><br>
<span class="lineno"></span><span class="op" id="5741064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="5741067">var</span>&nbsp;<span class="op" id="5741071">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741074">littleEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5741096">=</span>&nbsp;<span class="op" id="5741098">[</span><span class="op" id="5741099">]</span><span class="builtintype" id="5741100">byte</span><span class="op" id="5741104">{</span><span class="num" id="5741105">0xFD</span><span class="op" id="5741109">,</span>&nbsp;<span class="num" id="5741111">0xFF</span><span class="op" id="5741115">,</span>&nbsp;<span class="num" id="5741117">0xFF</span><span class="op" id="5741121">,</span>&nbsp;<span class="num" id="5741123">0xFF</span><span class="op" id="5741127">,</span>&nbsp;<span class="num" id="5741129">0x00</span><span class="op" id="5741133">,</span>&nbsp;<span class="num" id="5741135">0x00</span><span class="op" id="5741139">,</span>&nbsp;<span class="num" id="5741141">0x00</span><span class="op" id="5741145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741148">bigEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5741170">=</span>&nbsp;<span class="op" id="5741172">[</span><span class="op" id="5741173">]</span><span class="builtintype" id="5741174">byte</span><span class="op" id="5741178">{</span><span class="num" id="5741179">0xFF</span><span class="op" id="5741183">,</span>&nbsp;<span class="num" id="5741185">0xFF</span><span class="op" id="5741189">,</span>&nbsp;<span class="num" id="5741191">0xFF</span><span class="op" id="5741195">,</span>&nbsp;<span class="num" id="5741197">0xFD</span><span class="op" id="5741201">,</span>&nbsp;<span class="num" id="5741203">0x00</span><span class="op" id="5741207">,</span>&nbsp;<span class="num" id="5741209">0x00</span><span class="op" id="5741213">,</span>&nbsp;<span class="num" id="5741215">0x00</span><span class="op" id="5741219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741222">oldLittleEndianSymtab</span>&nbsp;<span class="op" id="5741244">=</span>&nbsp;<span class="op" id="5741246">[</span><span class="op" id="5741247">]</span><span class="builtintype" id="5741248">byte</span><span class="op" id="5741252">{</span><span class="num" id="5741253">0xFE</span><span class="op" id="5741257">,</span>&nbsp;<span class="num" id="5741259">0xFF</span><span class="op" id="5741263">,</span>&nbsp;<span class="num" id="5741265">0xFF</span><span class="op" id="5741269">,</span>&nbsp;<span class="num" id="5741271">0xFF</span><span class="op" id="5741275">,</span>&nbsp;<span class="num" id="5741277">0x00</span><span class="op" id="5741281">,</span>&nbsp;<span class="num" id="5741283">0x00</span><span class="op" id="5741287">}</span><br>
<span class="lineno"></span><span class="op" id="5741289">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="5741292">func</span>&nbsp;<span class="ident" id="5741297">walksymtab</span><span class="op" id="5741307">(</span><span class="ident" id="5741308">data</span>&nbsp;<span class="op" id="5741313">[</span><span class="op" id="5741314">]</span><span class="builtintype" id="5741315">byte</span><span class="op" id="5741319">,</span>&nbsp;<span class="ident" id="5741321">fn</span>&nbsp;<span class="keyword" id="5741324">func</span><span class="op" id="5741328">(</span><span class="ident" id="5741329">sym</span><span class="op" id="5741332">)</span>&nbsp;<span class="builtintype" id="5741334">error</span><span class="op" id="5741339">)</span>&nbsp;<span class="builtintype" id="5741341">error</span>&nbsp;<span class="op" id="5741347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741350">if</span>&nbsp;<span class="builtinfunc" id="5741353">len</span><span class="op" id="5741356">(</span><span class="ident" id="5741357">data</span><span class="op" id="5741361">)</span>&nbsp;<span class="op" id="5741363">==</span>&nbsp;<span class="num" id="5741366">0</span>&nbsp;<span class="op" id="5741368">{</span>&nbsp;<span class="comment" id="5741370">//&nbsp;missing&nbsp;symtab&nbsp;is&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741398">return</span>&nbsp;<span class="ident" id="5741405">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5741410">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741413">var</span>&nbsp;<span class="ident" id="5741417">order</span>&nbsp;<span class="ident" id="5741423">binary</span><span class="op" id="5741429">.</span><span class="ident" id="5741430">ByteOrder</span>&nbsp;<span class="op" id="5741440">=</span>&nbsp;<span class="ident" id="5741442">binary</span><span class="op" id="5741448">.</span><span class="ident" id="5741449">BigEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741460">newTable</span>&nbsp;<span class="op" id="5741469">:=</span>&nbsp;<span class="builtintype" id="5741472">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741479">switch</span>&nbsp;<span class="op" id="5741486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741489">case</span>&nbsp;<span class="ident" id="5741494">bytes</span><span class="op" id="5741499">.</span><span class="ident" id="5741500">HasPrefix</span><span class="op" id="5741509">(</span><span class="ident" id="5741510">data</span><span class="op" id="5741514">,</span>&nbsp;<span class="ident" id="5741516">oldLittleEndianSymtab</span><span class="op" id="5741537">)</span><span class="op" id="5741538">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5741542">//&nbsp;Same&nbsp;as&nbsp;Go&nbsp;1.0,&nbsp;but&nbsp;little&nbsp;endian.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5741582">//&nbsp;Format&nbsp;was&nbsp;used&nbsp;during&nbsp;interim&nbsp;development&nbsp;between&nbsp;Go&nbsp;1.0&nbsp;and&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5741657">//&nbsp;Should&nbsp;not&nbsp;be&nbsp;widespread,&nbsp;but&nbsp;easy&nbsp;to&nbsp;support.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741709">data</span>&nbsp;<span class="op" id="5741714">=</span>&nbsp;<span class="ident" id="5741716">data</span><span class="op" id="5741720">[</span><span class="num" id="5741721">6</span><span class="op" id="5741722">:</span><span class="op" id="5741723">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741727">order</span>&nbsp;<span class="op" id="5741733">=</span>&nbsp;<span class="ident" id="5741735">binary</span><span class="op" id="5741741">.</span><span class="ident" id="5741742">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741756">case</span>&nbsp;<span class="ident" id="5741761">bytes</span><span class="op" id="5741766">.</span><span class="ident" id="5741767">HasPrefix</span><span class="op" id="5741776">(</span><span class="ident" id="5741777">data</span><span class="op" id="5741781">,</span>&nbsp;<span class="ident" id="5741783">bigEndianSymtab</span><span class="op" id="5741798">)</span><span class="op" id="5741799">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741803">newTable</span>&nbsp;<span class="op" id="5741812">=</span>&nbsp;<span class="builtintype" id="5741814">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741820">case</span>&nbsp;<span class="ident" id="5741825">bytes</span><span class="op" id="5741830">.</span><span class="ident" id="5741831">HasPrefix</span><span class="op" id="5741840">(</span><span class="ident" id="5741841">data</span><span class="op" id="5741845">,</span>&nbsp;<span class="ident" id="5741847">littleEndianSymtab</span><span class="op" id="5741865">)</span><span class="op" id="5741866">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741870">newTable</span>&nbsp;<span class="op" id="5741879">=</span>&nbsp;<span class="builtintype" id="5741881">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5741888">order</span>&nbsp;<span class="op" id="5741894">=</span>&nbsp;<span class="ident" id="5741896">binary</span><span class="op" id="5741902">.</span><span class="ident" id="5741903">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5741917">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741920">var</span>&nbsp;<span class="ident" id="5741924">ptrsz</span>&nbsp;<span class="builtintype" id="5741930">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741935">if</span>&nbsp;<span class="ident" id="5741938">newTable</span>&nbsp;<span class="op" id="5741947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741951">if</span>&nbsp;<span class="builtinfunc" id="5741954">len</span><span class="op" id="5741957">(</span><span class="ident" id="5741958">data</span><span class="op" id="5741962">)</span>&nbsp;<span class="op" id="5741964">&lt;</span>&nbsp;<span class="num" id="5741966">8</span>&nbsp;<span class="op" id="5741968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5741973">return</span>&nbsp;<span class="op" id="5741980">&amp;</span><span class="ident" id="5741981">DecodingError</span><span class="op" id="5741994">{</span><span class="builtinfunc" id="5741995">len</span><span class="op" id="5741998">(</span><span class="ident" id="5741999">data</span><span class="op" id="5742003">)</span><span class="op" id="5742004">,</span>&nbsp;<span class="string" id="5742006">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5742022">,</span>&nbsp;<span class="ident" id="5742024">nil</span><span class="op" id="5742027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5742031">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742035">ptrsz</span>&nbsp;<span class="op" id="5742041">=</span>&nbsp;<span class="builtintype" id="5742043">int</span><span class="op" id="5742046">(</span><span class="ident" id="5742047">data</span><span class="op" id="5742051">[</span><span class="num" id="5742052">7</span><span class="op" id="5742053">]</span><span class="op" id="5742054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742058">if</span>&nbsp;<span class="ident" id="5742061">ptrsz</span>&nbsp;<span class="op" id="5742067">!=</span>&nbsp;<span class="num" id="5742070">4</span>&nbsp;<span class="op" id="5742072">&amp;&amp;</span>&nbsp;<span class="ident" id="5742075">ptrsz</span>&nbsp;<span class="op" id="5742081">!=</span>&nbsp;<span class="num" id="5742084">8</span>&nbsp;<span class="op" id="5742086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742091">return</span>&nbsp;<span class="op" id="5742098">&amp;</span><span class="ident" id="5742099">DecodingError</span><span class="op" id="5742112">{</span><span class="num" id="5742113">7</span><span class="op" id="5742114">,</span>&nbsp;<span class="string" id="5742116">&#34;invalid&nbsp;pointer&nbsp;size&#34;</span><span class="op" id="5742138">,</span>&nbsp;<span class="ident" id="5742140">ptrsz</span><span class="op" id="5742145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5742149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742153">data</span>&nbsp;<span class="op" id="5742158">=</span>&nbsp;<span class="ident" id="5742160">data</span><span class="op" id="5742164">[</span><span class="num" id="5742165">8</span><span class="op" id="5742166">:</span><span class="op" id="5742167">]</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5742170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742173">var</span>&nbsp;<span class="ident" id="5742177">s</span>&nbsp;<span class="ident" id="5742179">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742184">p</span>&nbsp;<span class="op" id="5742186">:=</span>&nbsp;<span class="ident" id="5742189">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742195">for</span>&nbsp;<span class="builtinfunc" id="5742199">len</span><span class="op" id="5742202">(</span><span class="ident" id="5742203">p</span><span class="op" id="5742204">)</span>&nbsp;<span class="op" id="5742206">&gt;=</span>&nbsp;<span class="num" id="5742209">4</span>&nbsp;<span class="op" id="5742211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742215">var</span>&nbsp;<span class="ident" id="5742219">typ</span>&nbsp;<span class="builtintype" id="5742223">byte</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742230">if</span>&nbsp;<span class="ident" id="5742233">newTable</span>&nbsp;<span class="op" id="5742242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5742247">//&nbsp;Symbol&nbsp;type,&nbsp;value,&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742282">typ</span>&nbsp;<span class="op" id="5742286">=</span>&nbsp;<span class="ident" id="5742288">p</span><span class="op" id="5742289">[</span><span class="num" id="5742290">0</span><span class="op" id="5742291">]</span>&nbsp;<span class="op" id="5742293">&amp;</span>&nbsp;<span class="num" id="5742295">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742303">wideValue</span>&nbsp;<span class="op" id="5742313">:=</span>&nbsp;<span class="ident" id="5742316">p</span><span class="op" id="5742317">[</span><span class="num" id="5742318">0</span><span class="op" id="5742319">]</span><span class="op" id="5742320">&amp;</span><span class="num" id="5742321">0x40</span>&nbsp;<span class="op" id="5742326">!=</span>&nbsp;<span class="num" id="5742329">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742334">goType</span>&nbsp;<span class="op" id="5742341">:=</span>&nbsp;<span class="ident" id="5742344">p</span><span class="op" id="5742345">[</span><span class="num" id="5742346">0</span><span class="op" id="5742347">]</span><span class="op" id="5742348">&amp;</span><span class="num" id="5742349">0x80</span>&nbsp;<span class="op" id="5742354">!=</span>&nbsp;<span class="num" id="5742357">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742362">if</span>&nbsp;<span class="ident" id="5742365">typ</span>&nbsp;<span class="op" id="5742369">&lt;</span>&nbsp;<span class="num" id="5742371">26</span>&nbsp;<span class="op" id="5742374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742380">typ</span>&nbsp;<span class="op" id="5742384">+=</span>&nbsp;<span class="string" id="5742387">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5742394">}</span>&nbsp;<span class="keyword" id="5742396">else</span>&nbsp;<span class="op" id="5742401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742407">typ</span>&nbsp;<span class="op" id="5742411">+=</span>&nbsp;<span class="string" id="5742414">&#39;a&#39;</span>&nbsp;<span class="op" id="5742418">-</span>&nbsp;<span class="num" id="5742420">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5742426">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742431">s</span><span class="op" id="5742432">.</span><span class="ident" id="5742433">typ</span>&nbsp;<span class="op" id="5742437">=</span>&nbsp;<span class="ident" id="5742439">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742446">p</span>&nbsp;<span class="op" id="5742448">=</span>&nbsp;<span class="ident" id="5742450">p</span><span class="op" id="5742451">[</span><span class="num" id="5742452">1</span><span class="op" id="5742453">:</span><span class="op" id="5742454">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742459">if</span>&nbsp;<span class="ident" id="5742462">wideValue</span>&nbsp;<span class="op" id="5742472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742478">if</span>&nbsp;<span class="builtinfunc" id="5742481">len</span><span class="op" id="5742484">(</span><span class="ident" id="5742485">p</span><span class="op" id="5742486">)</span>&nbsp;<span class="op" id="5742488">&lt;</span>&nbsp;<span class="ident" id="5742490">ptrsz</span>&nbsp;<span class="op" id="5742496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742503">return</span>&nbsp;<span class="op" id="5742510">&amp;</span><span class="ident" id="5742511">DecodingError</span><span class="op" id="5742524">{</span><span class="builtinfunc" id="5742525">len</span><span class="op" id="5742528">(</span><span class="ident" id="5742529">data</span><span class="op" id="5742533">)</span><span class="op" id="5742534">,</span>&nbsp;<span class="string" id="5742536">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5742552">,</span>&nbsp;<span class="ident" id="5742554">nil</span><span class="op" id="5742557">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5742563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5742569">//&nbsp;fixed-width&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742594">if</span>&nbsp;<span class="ident" id="5742597">ptrsz</span>&nbsp;<span class="op" id="5742603">==</span>&nbsp;<span class="num" id="5742606">8</span>&nbsp;<span class="op" id="5742608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742615">s</span><span class="op" id="5742616">.</span><span class="ident" id="5742617">value</span>&nbsp;<span class="op" id="5742623">=</span>&nbsp;<span class="ident" id="5742625">order</span><span class="op" id="5742630">.</span><span class="ident" id="5742631">Uint64</span><span class="op" id="5742637">(</span><span class="ident" id="5742638">p</span><span class="op" id="5742639">[</span><span class="num" id="5742640">0</span><span class="op" id="5742641">:</span><span class="num" id="5742642">8</span><span class="op" id="5742643">]</span><span class="op" id="5742644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742651">p</span>&nbsp;<span class="op" id="5742653">=</span>&nbsp;<span class="ident" id="5742655">p</span><span class="op" id="5742656">[</span><span class="num" id="5742657">8</span><span class="op" id="5742658">:</span><span class="op" id="5742659">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5742665">}</span>&nbsp;<span class="keyword" id="5742667">else</span>&nbsp;<span class="op" id="5742672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742679">s</span><span class="op" id="5742680">.</span><span class="ident" id="5742681">value</span>&nbsp;<span class="op" id="5742687">=</span>&nbsp;<span class="ident" id="5742689">uint64</span><span class="op" id="5742695">(</span><span class="ident" id="5742696">order</span><span class="op" id="5742701">.</span><span class="ident" id="5742702">Uint32</span><span class="op" id="5742708">(</span><span class="ident" id="5742709">p</span><span class="op" id="5742710">[</span><span class="num" id="5742711">0</span><span class="op" id="5742712">:</span><span class="num" id="5742713">4</span><span class="op" id="5742714">]</span><span class="op" id="5742715">)</span><span class="op" id="5742716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742723">p</span>&nbsp;<span class="op" id="5742725">=</span>&nbsp;<span class="ident" id="5742727">p</span><span class="op" id="5742728">[</span><span class="num" id="5742729">4</span><span class="op" id="5742730">:</span><span class="op" id="5742731">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5742737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5742742">}</span>&nbsp;<span class="keyword" id="5742744">else</span>&nbsp;<span class="op" id="5742749">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5742755">//&nbsp;varint&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742775">s</span><span class="op" id="5742776">.</span><span class="ident" id="5742777">value</span>&nbsp;<span class="op" id="5742783">=</span>&nbsp;<span class="num" id="5742785">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742791">shift</span>&nbsp;<span class="op" id="5742797">:=</span>&nbsp;<span class="builtintype" id="5742800">uint</span><span class="op" id="5742804">(</span><span class="num" id="5742805">0</span><span class="op" id="5742806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742812">for</span>&nbsp;<span class="builtinfunc" id="5742816">len</span><span class="op" id="5742819">(</span><span class="ident" id="5742820">p</span><span class="op" id="5742821">)</span>&nbsp;<span class="op" id="5742823">&gt;</span>&nbsp;<span class="num" id="5742825">0</span>&nbsp;<span class="op" id="5742827">&amp;&amp;</span>&nbsp;<span class="ident" id="5742830">p</span><span class="op" id="5742831">[</span><span class="num" id="5742832">0</span><span class="op" id="5742833">]</span><span class="op" id="5742834">&amp;</span><span class="num" id="5742835">0x80</span>&nbsp;<span class="op" id="5742840">!=</span>&nbsp;<span class="num" id="5742843">0</span>&nbsp;<span class="op" id="5742845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742852">s</span><span class="op" id="5742853">.</span><span class="ident" id="5742854">value</span>&nbsp;<span class="op" id="5742860">|=</span>&nbsp;<span class="ident" id="5742863">uint64</span><span class="op" id="5742869">(</span><span class="ident" id="5742870">p</span><span class="op" id="5742871">[</span><span class="num" id="5742872">0</span><span class="op" id="5742873">]</span><span class="op" id="5742874">&amp;</span><span class="num" id="5742875">0x7F</span><span class="op" id="5742879">)</span>&nbsp;<span class="op" id="5742881">&lt;&lt;</span>&nbsp;<span class="ident" id="5742884">shift</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742895">shift</span>&nbsp;<span class="op" id="5742901">+=</span>&nbsp;<span class="num" id="5742904">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5742911">p</span>&nbsp;<span class="op" id="5742913">=</span>&nbsp;<span class="ident" id="5742915">p</span><span class="op" id="5742916">[</span><span class="num" id="5742917">1</span><span class="op" id="5742918">:</span><span class="op" id="5742919">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5742925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742931">if</span>&nbsp;<span class="builtinfunc" id="5742934">len</span><span class="op" id="5742937">(</span><span class="ident" id="5742938">p</span><span class="op" id="5742939">)</span>&nbsp;<span class="op" id="5742941">==</span>&nbsp;<span class="num" id="5742944">0</span>&nbsp;<span class="op" id="5742946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5742953">return</span>&nbsp;<span class="op" id="5742960">&amp;</span><span class="ident" id="5742961">DecodingError</span><span class="op" id="5742974">{</span><span class="builtinfunc" id="5742975">len</span><span class="op" id="5742978">(</span><span class="ident" id="5742979">data</span><span class="op" id="5742983">)</span><span class="op" id="5742984">,</span>&nbsp;<span class="string" id="5742986">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5743002">,</span>&nbsp;<span class="ident" id="5743004">nil</span><span class="op" id="5743007">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743019">s</span><span class="op" id="5743020">.</span><span class="ident" id="5743021">value</span>&nbsp;<span class="op" id="5743027">|=</span>&nbsp;<span class="ident" id="5743030">uint64</span><span class="op" id="5743036">(</span><span class="ident" id="5743037">p</span><span class="op" id="5743038">[</span><span class="num" id="5743039">0</span><span class="op" id="5743040">]</span><span class="op" id="5743041">)</span>&nbsp;<span class="op" id="5743043">&lt;&lt;</span>&nbsp;<span class="ident" id="5743046">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743056">p</span>&nbsp;<span class="op" id="5743058">=</span>&nbsp;<span class="ident" id="5743060">p</span><span class="op" id="5743061">[</span><span class="num" id="5743062">1</span><span class="op" id="5743063">:</span><span class="op" id="5743064">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743074">if</span>&nbsp;<span class="ident" id="5743077">goType</span>&nbsp;<span class="op" id="5743084">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743090">if</span>&nbsp;<span class="builtinfunc" id="5743093">len</span><span class="op" id="5743096">(</span><span class="ident" id="5743097">p</span><span class="op" id="5743098">)</span>&nbsp;<span class="op" id="5743100">&lt;</span>&nbsp;<span class="ident" id="5743102">ptrsz</span>&nbsp;<span class="op" id="5743108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743115">return</span>&nbsp;<span class="op" id="5743122">&amp;</span><span class="ident" id="5743123">DecodingError</span><span class="op" id="5743136">{</span><span class="builtinfunc" id="5743137">len</span><span class="op" id="5743140">(</span><span class="ident" id="5743141">data</span><span class="op" id="5743145">)</span><span class="op" id="5743146">,</span>&nbsp;<span class="string" id="5743148">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5743164">,</span>&nbsp;<span class="ident" id="5743166">nil</span><span class="op" id="5743169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5743181">//&nbsp;fixed-width&nbsp;go&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743208">if</span>&nbsp;<span class="ident" id="5743211">ptrsz</span>&nbsp;<span class="op" id="5743217">==</span>&nbsp;<span class="num" id="5743220">8</span>&nbsp;<span class="op" id="5743222">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743229">s</span><span class="op" id="5743230">.</span><span class="ident" id="5743231">gotype</span>&nbsp;<span class="op" id="5743238">=</span>&nbsp;<span class="ident" id="5743240">order</span><span class="op" id="5743245">.</span><span class="ident" id="5743246">Uint64</span><span class="op" id="5743252">(</span><span class="ident" id="5743253">p</span><span class="op" id="5743254">[</span><span class="num" id="5743255">0</span><span class="op" id="5743256">:</span><span class="num" id="5743257">8</span><span class="op" id="5743258">]</span><span class="op" id="5743259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743266">p</span>&nbsp;<span class="op" id="5743268">=</span>&nbsp;<span class="ident" id="5743270">p</span><span class="op" id="5743271">[</span><span class="num" id="5743272">8</span><span class="op" id="5743273">:</span><span class="op" id="5743274">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743280">}</span>&nbsp;<span class="keyword" id="5743282">else</span>&nbsp;<span class="op" id="5743287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743294">s</span><span class="op" id="5743295">.</span><span class="ident" id="5743296">gotype</span>&nbsp;<span class="op" id="5743303">=</span>&nbsp;<span class="ident" id="5743305">uint64</span><span class="op" id="5743311">(</span><span class="ident" id="5743312">order</span><span class="op" id="5743317">.</span><span class="ident" id="5743318">Uint32</span><span class="op" id="5743324">(</span><span class="ident" id="5743325">p</span><span class="op" id="5743326">[</span><span class="num" id="5743327">0</span><span class="op" id="5743328">:</span><span class="num" id="5743329">4</span><span class="op" id="5743330">]</span><span class="op" id="5743331">)</span><span class="op" id="5743332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743339">p</span>&nbsp;<span class="op" id="5743341">=</span>&nbsp;<span class="ident" id="5743343">p</span><span class="op" id="5743344">[</span><span class="num" id="5743345">4</span><span class="op" id="5743346">:</span><span class="op" id="5743347">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743362">}</span>&nbsp;<span class="keyword" id="5743364">else</span>&nbsp;<span class="op" id="5743369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5743374">//&nbsp;Value,&nbsp;symbol&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743400">s</span><span class="op" id="5743401">.</span><span class="ident" id="5743402">value</span>&nbsp;<span class="op" id="5743408">=</span>&nbsp;<span class="ident" id="5743410">uint64</span><span class="op" id="5743416">(</span><span class="ident" id="5743417">order</span><span class="op" id="5743422">.</span><span class="ident" id="5743423">Uint32</span><span class="op" id="5743429">(</span><span class="ident" id="5743430">p</span><span class="op" id="5743431">[</span><span class="num" id="5743432">0</span><span class="op" id="5743433">:</span><span class="num" id="5743434">4</span><span class="op" id="5743435">]</span><span class="op" id="5743436">)</span><span class="op" id="5743437">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743442">if</span>&nbsp;<span class="builtinfunc" id="5743445">len</span><span class="op" id="5743448">(</span><span class="ident" id="5743449">p</span><span class="op" id="5743450">)</span>&nbsp;<span class="op" id="5743452">&lt;</span>&nbsp;<span class="num" id="5743454">5</span>&nbsp;<span class="op" id="5743456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743462">return</span>&nbsp;<span class="op" id="5743469">&amp;</span><span class="ident" id="5743470">DecodingError</span><span class="op" id="5743483">{</span><span class="builtinfunc" id="5743484">len</span><span class="op" id="5743487">(</span><span class="ident" id="5743488">data</span><span class="op" id="5743492">)</span><span class="op" id="5743493">,</span>&nbsp;<span class="string" id="5743495">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5743511">,</span>&nbsp;<span class="ident" id="5743513">nil</span><span class="op" id="5743516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743526">typ</span>&nbsp;<span class="op" id="5743530">=</span>&nbsp;<span class="ident" id="5743532">p</span><span class="op" id="5743533">[</span><span class="num" id="5743534">4</span><span class="op" id="5743535">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743540">if</span>&nbsp;<span class="ident" id="5743543">typ</span><span class="op" id="5743546">&amp;</span><span class="num" id="5743547">0x80</span>&nbsp;<span class="op" id="5743552">==</span>&nbsp;<span class="num" id="5743555">0</span>&nbsp;<span class="op" id="5743557">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743563">return</span>&nbsp;<span class="op" id="5743570">&amp;</span><span class="ident" id="5743571">DecodingError</span><span class="op" id="5743584">{</span><span class="builtinfunc" id="5743585">len</span><span class="op" id="5743588">(</span><span class="ident" id="5743589">data</span><span class="op" id="5743593">)</span>&nbsp;<span class="op" id="5743595">-</span>&nbsp;<span class="builtinfunc" id="5743597">len</span><span class="op" id="5743600">(</span><span class="ident" id="5743601">p</span><span class="op" id="5743602">)</span>&nbsp;<span class="op" id="5743604">+</span>&nbsp;<span class="num" id="5743606">4</span><span class="op" id="5743607">,</span>&nbsp;<span class="string" id="5743609">&#34;bad&nbsp;symbol&nbsp;type&#34;</span><span class="op" id="5743626">,</span>&nbsp;<span class="ident" id="5743628">typ</span><span class="op" id="5743631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743641">typ</span>&nbsp;<span class="op" id="5743645">&amp;^=</span>&nbsp;<span class="num" id="5743649">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743657">s</span><span class="op" id="5743658">.</span><span class="ident" id="5743659">typ</span>&nbsp;<span class="op" id="5743663">=</span>&nbsp;<span class="ident" id="5743665">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743672">p</span>&nbsp;<span class="op" id="5743674">=</span>&nbsp;<span class="ident" id="5743676">p</span><span class="op" id="5743677">[</span><span class="num" id="5743678">5</span><span class="op" id="5743679">:</span><span class="op" id="5743680">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5743689">//&nbsp;Name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743700">var</span>&nbsp;<span class="ident" id="5743704">i</span>&nbsp;<span class="builtintype" id="5743706">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743712">var</span>&nbsp;<span class="ident" id="5743716">nnul</span>&nbsp;<span class="builtintype" id="5743721">int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743727">for</span>&nbsp;<span class="ident" id="5743731">i</span>&nbsp;<span class="op" id="5743733">=</span>&nbsp;<span class="num" id="5743735">0</span><span class="op" id="5743736">;</span>&nbsp;<span class="ident" id="5743738">i</span>&nbsp;<span class="op" id="5743740">&lt;</span>&nbsp;<span class="builtinfunc" id="5743742">len</span><span class="op" id="5743745">(</span><span class="ident" id="5743746">p</span><span class="op" id="5743747">)</span><span class="op" id="5743748">;</span>&nbsp;<span class="ident" id="5743750">i</span><span class="op" id="5743751">++</span>&nbsp;<span class="op" id="5743754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743759">if</span>&nbsp;<span class="ident" id="5743762">p</span><span class="op" id="5743763">[</span><span class="ident" id="5743764">i</span><span class="op" id="5743765">]</span>&nbsp;<span class="op" id="5743767">==</span>&nbsp;<span class="num" id="5743770">0</span>&nbsp;<span class="op" id="5743772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743778">nnul</span>&nbsp;<span class="op" id="5743783">=</span>&nbsp;<span class="num" id="5743785">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743791">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743800">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743808">switch</span>&nbsp;<span class="ident" id="5743815">typ</span>&nbsp;<span class="op" id="5743819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743823">case</span>&nbsp;<span class="string" id="5743828">&#39;z&#39;</span><span class="op" id="5743831">,</span>&nbsp;<span class="string" id="5743833">&#39;Z&#39;</span><span class="op" id="5743836">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743841">p</span>&nbsp;<span class="op" id="5743843">=</span>&nbsp;<span class="ident" id="5743845">p</span><span class="op" id="5743846">[</span><span class="ident" id="5743847">i</span><span class="op" id="5743848">+</span><span class="ident" id="5743849">nnul</span><span class="op" id="5743853">:</span><span class="op" id="5743854">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743859">for</span>&nbsp;<span class="ident" id="5743863">i</span>&nbsp;<span class="op" id="5743865">=</span>&nbsp;<span class="num" id="5743867">0</span><span class="op" id="5743868">;</span>&nbsp;<span class="ident" id="5743870">i</span><span class="op" id="5743871">+</span><span class="num" id="5743872">2</span>&nbsp;<span class="op" id="5743874">&lt;=</span>&nbsp;<span class="builtinfunc" id="5743877">len</span><span class="op" id="5743880">(</span><span class="ident" id="5743881">p</span><span class="op" id="5743882">)</span><span class="op" id="5743883">;</span>&nbsp;<span class="ident" id="5743885">i</span>&nbsp;<span class="op" id="5743887">+=</span>&nbsp;<span class="num" id="5743890">2</span>&nbsp;<span class="op" id="5743892">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743898">if</span>&nbsp;<span class="ident" id="5743901">p</span><span class="op" id="5743902">[</span><span class="ident" id="5743903">i</span><span class="op" id="5743904">]</span>&nbsp;<span class="op" id="5743906">==</span>&nbsp;<span class="num" id="5743909">0</span>&nbsp;<span class="op" id="5743911">&amp;&amp;</span>&nbsp;<span class="ident" id="5743914">p</span><span class="op" id="5743915">[</span><span class="ident" id="5743916">i</span><span class="op" id="5743917">+</span><span class="num" id="5743918">1</span><span class="op" id="5743919">]</span>&nbsp;<span class="op" id="5743921">==</span>&nbsp;<span class="num" id="5743924">0</span>&nbsp;<span class="op" id="5743926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5743933">nnul</span>&nbsp;<span class="op" id="5743938">=</span>&nbsp;<span class="num" id="5743940">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743947">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743962">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5743966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743970">if</span>&nbsp;<span class="builtinfunc" id="5743973">len</span><span class="op" id="5743976">(</span><span class="ident" id="5743977">p</span><span class="op" id="5743978">)</span>&nbsp;<span class="op" id="5743980">&lt;</span>&nbsp;<span class="ident" id="5743982">i</span><span class="op" id="5743983">+</span><span class="ident" id="5743984">nnul</span>&nbsp;<span class="op" id="5743989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5743994">return</span>&nbsp;<span class="op" id="5744001">&amp;</span><span class="ident" id="5744002">DecodingError</span><span class="op" id="5744015">{</span><span class="builtinfunc" id="5744016">len</span><span class="op" id="5744019">(</span><span class="ident" id="5744020">data</span><span class="op" id="5744024">)</span><span class="op" id="5744025">,</span>&nbsp;<span class="string" id="5744027">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5744043">,</span>&nbsp;<span class="ident" id="5744045">nil</span><span class="op" id="5744048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5744052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744056">s</span><span class="op" id="5744057">.</span><span class="ident" id="5744058">name</span>&nbsp;<span class="op" id="5744063">=</span>&nbsp;<span class="ident" id="5744065">p</span><span class="op" id="5744066">[</span><span class="num" id="5744067">0</span><span class="op" id="5744068">:</span><span class="ident" id="5744069">i</span><span class="op" id="5744070">]</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744074">i</span>&nbsp;<span class="op" id="5744076">+=</span>&nbsp;<span class="ident" id="5744079">nnul</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744086">p</span>&nbsp;<span class="op" id="5744088">=</span>&nbsp;<span class="ident" id="5744090">p</span><span class="op" id="5744091">[</span><span class="ident" id="5744092">i</span><span class="op" id="5744093">:</span><span class="op" id="5744094">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744099">if</span>&nbsp;<span class="op" id="5744102">!</span><span class="ident" id="5744103">newTable</span>&nbsp;<span class="op" id="5744112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744117">if</span>&nbsp;<span class="builtinfunc" id="5744120">len</span><span class="op" id="5744123">(</span><span class="ident" id="5744124">p</span><span class="op" id="5744125">)</span>&nbsp;<span class="op" id="5744127">&lt;</span>&nbsp;<span class="num" id="5744129">4</span>&nbsp;<span class="op" id="5744131">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744137">return</span>&nbsp;<span class="op" id="5744144">&amp;</span><span class="ident" id="5744145">DecodingError</span><span class="op" id="5744158">{</span><span class="builtinfunc" id="5744159">len</span><span class="op" id="5744162">(</span><span class="ident" id="5744163">data</span><span class="op" id="5744167">)</span><span class="op" id="5744168">,</span>&nbsp;<span class="string" id="5744170">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5744186">,</span>&nbsp;<span class="ident" id="5744188">nil</span><span class="op" id="5744191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5744196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5744201">//&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744216">s</span><span class="op" id="5744217">.</span><span class="ident" id="5744218">gotype</span>&nbsp;<span class="op" id="5744225">=</span>&nbsp;<span class="ident" id="5744227">uint64</span><span class="op" id="5744233">(</span><span class="ident" id="5744234">order</span><span class="op" id="5744239">.</span><span class="ident" id="5744240">Uint32</span><span class="op" id="5744246">(</span><span class="ident" id="5744247">p</span><span class="op" id="5744248">[</span><span class="op" id="5744249">:</span><span class="num" id="5744250">4</span><span class="op" id="5744251">]</span><span class="op" id="5744252">)</span><span class="op" id="5744253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744258">p</span>&nbsp;<span class="op" id="5744260">=</span>&nbsp;<span class="ident" id="5744262">p</span><span class="op" id="5744263">[</span><span class="num" id="5744264">4</span><span class="op" id="5744265">:</span><span class="op" id="5744266">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5744270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744274">fn</span><span class="op" id="5744276">(</span><span class="ident" id="5744277">s</span><span class="op" id="5744278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5744281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744284">return</span>&nbsp;<span class="ident" id="5744291">nil</span><br>
<span class="lineno"></span><span class="op" id="5744295">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="5744298">//&nbsp;NewTable&nbsp;decodes&nbsp;the&nbsp;Go&nbsp;symbol&nbsp;table&nbsp;in&nbsp;data,</span><br>
<span class="lineno"></span><span class="comment" id="5744347">//&nbsp;returning&nbsp;an&nbsp;in-memory&nbsp;representation.</span><br>
<span class="lineno"></span><span class="keyword" id="5744389">func</span>&nbsp;<span class="ident" id="5744394">NewTable</span><span class="op" id="5744402">(</span><span class="ident" id="5744403">symtab</span>&nbsp;<span class="op" id="5744410">[</span><span class="op" id="5744411">]</span><span class="builtintype" id="5744412">byte</span><span class="op" id="5744416">,</span>&nbsp;<span class="ident" id="5744418">pcln</span>&nbsp;<span class="op" id="5744423">*</span><span class="ident" id="5744424">LineTable</span><span class="op" id="5744433">)</span>&nbsp;<span class="op" id="5744435">(</span><span class="op" id="5744436">*</span><span class="ident" id="5744437">Table</span><span class="op" id="5744442">,</span>&nbsp;<span class="builtintype" id="5744444">error</span><span class="op" id="5744449">)</span>&nbsp;<span class="op" id="5744451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744454">var</span>&nbsp;<span class="ident" id="5744458">n</span>&nbsp;<span class="builtintype" id="5744460">int</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744465">err</span>&nbsp;<span class="op" id="5744469">:=</span>&nbsp;<span class="ident" id="5744472">walksymtab</span><span class="op" id="5744482">(</span><span class="ident" id="5744483">symtab</span><span class="op" id="5744489">,</span>&nbsp;<span class="keyword" id="5744491">func</span><span class="op" id="5744495">(</span><span class="ident" id="5744496">s</span>&nbsp;<span class="ident" id="5744498">sym</span><span class="op" id="5744501">)</span>&nbsp;<span class="builtintype" id="5744503">error</span>&nbsp;<span class="op" id="5744509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744513">n</span><span class="op" id="5744514">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744519">return</span>&nbsp;<span class="ident" id="5744526">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5744531">}</span><span class="op" id="5744532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744535">if</span>&nbsp;<span class="ident" id="5744538">err</span>&nbsp;<span class="op" id="5744542">!=</span>&nbsp;<span class="ident" id="5744545">nil</span>&nbsp;<span class="op" id="5744549">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744553">return</span>&nbsp;<span class="ident" id="5744560">nil</span><span class="op" id="5744563">,</span>&nbsp;<span class="ident" id="5744565">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5744570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744574">var</span>&nbsp;<span class="ident" id="5744578">t</span>&nbsp;<span class="ident" id="5744580">Table</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744587">if</span>&nbsp;<span class="ident" id="5744590">pcln</span><span class="op" id="5744594">.</span><span class="ident" id="5744595">isGo12</span><span class="op" id="5744601">(</span><span class="op" id="5744602">)</span>&nbsp;<span class="op" id="5744604">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744608">t</span><span class="op" id="5744609">.</span><span class="ident" id="5744610">go12line</span>&nbsp;<span class="op" id="5744619">=</span>&nbsp;<span class="ident" id="5744621">pcln</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5744627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744630">fname</span>&nbsp;<span class="op" id="5744636">:=</span>&nbsp;<span class="builtinfunc" id="5744639">make</span><span class="op" id="5744643">(</span><span class="keyword" id="5744644">map</span><span class="op" id="5744647">[</span><span class="builtintype" id="5744648">uint16</span><span class="op" id="5744654">]</span><span class="builtintype" id="5744655">string</span><span class="op" id="5744661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744664">t</span><span class="op" id="5744665">.</span><span class="ident" id="5744666">Syms</span>&nbsp;<span class="op" id="5744671">=</span>&nbsp;<span class="builtinfunc" id="5744673">make</span><span class="op" id="5744677">(</span><span class="op" id="5744678">[</span><span class="op" id="5744679">]</span><span class="ident" id="5744680">Sym</span><span class="op" id="5744683">,</span>&nbsp;<span class="num" id="5744685">0</span><span class="op" id="5744686">,</span>&nbsp;<span class="ident" id="5744688">n</span><span class="op" id="5744689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744692">nf</span>&nbsp;<span class="op" id="5744695">:=</span>&nbsp;<span class="num" id="5744698">0</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744701">nz</span>&nbsp;<span class="op" id="5744704">:=</span>&nbsp;<span class="num" id="5744707">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744710">lasttyp</span>&nbsp;<span class="op" id="5744718">:=</span>&nbsp;<span class="builtintype" id="5744721">uint8</span><span class="op" id="5744726">(</span><span class="num" id="5744727">0</span><span class="op" id="5744728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744731">err</span>&nbsp;<span class="op" id="5744735">=</span>&nbsp;<span class="ident" id="5744737">walksymtab</span><span class="op" id="5744747">(</span><span class="ident" id="5744748">symtab</span><span class="op" id="5744754">,</span>&nbsp;<span class="keyword" id="5744756">func</span><span class="op" id="5744760">(</span><span class="ident" id="5744761">s</span>&nbsp;<span class="ident" id="5744763">sym</span><span class="op" id="5744766">)</span>&nbsp;<span class="builtintype" id="5744768">error</span>&nbsp;<span class="op" id="5744774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744778">n</span>&nbsp;<span class="op" id="5744780">:=</span>&nbsp;<span class="builtinfunc" id="5744783">len</span><span class="op" id="5744786">(</span><span class="ident" id="5744787">t</span><span class="op" id="5744788">.</span><span class="ident" id="5744789">Syms</span><span class="op" id="5744793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744797">t</span><span class="op" id="5744798">.</span><span class="ident" id="5744799">Syms</span>&nbsp;<span class="op" id="5744804">=</span>&nbsp;<span class="ident" id="5744806">t</span><span class="op" id="5744807">.</span><span class="ident" id="5744808">Syms</span><span class="op" id="5744812">[</span><span class="num" id="5744813">0</span>&nbsp;<span class="op" id="5744815">:</span>&nbsp;<span class="ident" id="5744817">n</span><span class="op" id="5744818">+</span><span class="num" id="5744819">1</span><span class="op" id="5744820">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744824">ts</span>&nbsp;<span class="op" id="5744827">:=</span>&nbsp;<span class="op" id="5744830">&amp;</span><span class="ident" id="5744831">t</span><span class="op" id="5744832">.</span><span class="ident" id="5744833">Syms</span><span class="op" id="5744837">[</span><span class="ident" id="5744838">n</span><span class="op" id="5744839">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744843">ts</span><span class="op" id="5744845">.</span><span class="ident" id="5744846">Type</span>&nbsp;<span class="op" id="5744851">=</span>&nbsp;<span class="ident" id="5744853">s</span><span class="op" id="5744854">.</span><span class="ident" id="5744855">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744861">ts</span><span class="op" id="5744863">.</span><span class="ident" id="5744864">Value</span>&nbsp;<span class="op" id="5744870">=</span>&nbsp;<span class="ident" id="5744872">uint64</span><span class="op" id="5744878">(</span><span class="ident" id="5744879">s</span><span class="op" id="5744880">.</span><span class="ident" id="5744881">value</span><span class="op" id="5744886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5744890">ts</span><span class="op" id="5744892">.</span><span class="ident" id="5744893">GoType</span>&nbsp;<span class="op" id="5744900">=</span>&nbsp;<span class="ident" id="5744902">uint64</span><span class="op" id="5744908">(</span><span class="ident" id="5744909">s</span><span class="op" id="5744910">.</span><span class="ident" id="5744911">gotype</span><span class="op" id="5744917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744921">switch</span>&nbsp;<span class="ident" id="5744928">s</span><span class="op" id="5744929">.</span><span class="ident" id="5744930">typ</span>&nbsp;<span class="op" id="5744934">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5744938">default</span><span class="op" id="5744945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5744950">//&nbsp;rewrite&nbsp;name&nbsp;to&nbsp;use&nbsp;.&nbsp;instead&nbsp;of&nbsp;&nbsp;(c2&nbsp;b7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745000">w</span>&nbsp;<span class="op" id="5745002">:=</span>&nbsp;<span class="num" id="5745005">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745010">b</span>&nbsp;<span class="op" id="5745012">:=</span>&nbsp;<span class="ident" id="5745015">s</span><span class="op" id="5745016">.</span><span class="ident" id="5745017">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745025">for</span>&nbsp;<span class="ident" id="5745029">i</span>&nbsp;<span class="op" id="5745031">:=</span>&nbsp;<span class="num" id="5745034">0</span><span class="op" id="5745035">;</span>&nbsp;<span class="ident" id="5745037">i</span>&nbsp;<span class="op" id="5745039">&lt;</span>&nbsp;<span class="builtinfunc" id="5745041">len</span><span class="op" id="5745044">(</span><span class="ident" id="5745045">b</span><span class="op" id="5745046">)</span><span class="op" id="5745047">;</span>&nbsp;<span class="ident" id="5745049">i</span><span class="op" id="5745050">++</span>&nbsp;<span class="op" id="5745053">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745059">if</span>&nbsp;<span class="ident" id="5745062">b</span><span class="op" id="5745063">[</span><span class="ident" id="5745064">i</span><span class="op" id="5745065">]</span>&nbsp;<span class="op" id="5745067">==</span>&nbsp;<span class="num" id="5745070">0xc2</span>&nbsp;<span class="op" id="5745075">&amp;&amp;</span>&nbsp;<span class="ident" id="5745078">i</span><span class="op" id="5745079">+</span><span class="num" id="5745080">1</span>&nbsp;<span class="op" id="5745082">&lt;</span>&nbsp;<span class="builtinfunc" id="5745084">len</span><span class="op" id="5745087">(</span><span class="ident" id="5745088">b</span><span class="op" id="5745089">)</span>&nbsp;<span class="op" id="5745091">&amp;&amp;</span>&nbsp;<span class="ident" id="5745094">b</span><span class="op" id="5745095">[</span><span class="ident" id="5745096">i</span><span class="op" id="5745097">+</span><span class="num" id="5745098">1</span><span class="op" id="5745099">]</span>&nbsp;<span class="op" id="5745101">==</span>&nbsp;<span class="num" id="5745104">0xb7</span>&nbsp;<span class="op" id="5745109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745116">i</span><span class="op" id="5745117">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745125">b</span><span class="op" id="5745126">[</span><span class="ident" id="5745127">i</span><span class="op" id="5745128">]</span>&nbsp;<span class="op" id="5745130">=</span>&nbsp;<span class="string" id="5745132">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745146">b</span><span class="op" id="5745147">[</span><span class="ident" id="5745148">w</span><span class="op" id="5745149">]</span>&nbsp;<span class="op" id="5745151">=</span>&nbsp;<span class="ident" id="5745153">b</span><span class="op" id="5745154">[</span><span class="ident" id="5745155">i</span><span class="op" id="5745156">]</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745162">w</span><span class="op" id="5745163">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745174">ts</span><span class="op" id="5745176">.</span><span class="ident" id="5745177">Name</span>&nbsp;<span class="op" id="5745182">=</span>&nbsp;<span class="builtintype" id="5745184">string</span><span class="op" id="5745190">(</span><span class="ident" id="5745191">s</span><span class="op" id="5745192">.</span><span class="ident" id="5745193">name</span><span class="op" id="5745197">[</span><span class="num" id="5745198">0</span><span class="op" id="5745199">:</span><span class="ident" id="5745200">w</span><span class="op" id="5745201">]</span><span class="op" id="5745202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745206">case</span>&nbsp;<span class="string" id="5745211">&#39;z&#39;</span><span class="op" id="5745214">,</span>&nbsp;<span class="string" id="5745216">&#39;Z&#39;</span><span class="op" id="5745219">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745224">if</span>&nbsp;<span class="ident" id="5745227">lasttyp</span>&nbsp;<span class="op" id="5745235">!=</span>&nbsp;<span class="string" id="5745238">&#39;z&#39;</span>&nbsp;<span class="op" id="5745242">&amp;&amp;</span>&nbsp;<span class="ident" id="5745245">lasttyp</span>&nbsp;<span class="op" id="5745253">!=</span>&nbsp;<span class="string" id="5745256">&#39;Z&#39;</span>&nbsp;<span class="op" id="5745260">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745266">nz</span><span class="op" id="5745268">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745279">for</span>&nbsp;<span class="ident" id="5745283">i</span>&nbsp;<span class="op" id="5745285">:=</span>&nbsp;<span class="num" id="5745288">0</span><span class="op" id="5745289">;</span>&nbsp;<span class="ident" id="5745291">i</span>&nbsp;<span class="op" id="5745293">&lt;</span>&nbsp;<span class="builtinfunc" id="5745295">len</span><span class="op" id="5745298">(</span><span class="ident" id="5745299">s</span><span class="op" id="5745300">.</span><span class="ident" id="5745301">name</span><span class="op" id="5745305">)</span><span class="op" id="5745306">;</span>&nbsp;<span class="ident" id="5745308">i</span>&nbsp;<span class="op" id="5745310">+=</span>&nbsp;<span class="num" id="5745313">2</span>&nbsp;<span class="op" id="5745315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745321">eltIdx</span>&nbsp;<span class="op" id="5745328">:=</span>&nbsp;<span class="ident" id="5745331">binary</span><span class="op" id="5745337">.</span><span class="ident" id="5745338">BigEndian</span><span class="op" id="5745347">.</span><span class="ident" id="5745348">Uint16</span><span class="op" id="5745354">(</span><span class="ident" id="5745355">s</span><span class="op" id="5745356">.</span><span class="ident" id="5745357">name</span><span class="op" id="5745361">[</span><span class="ident" id="5745362">i</span>&nbsp;<span class="op" id="5745364">:</span>&nbsp;<span class="ident" id="5745366">i</span><span class="op" id="5745367">+</span><span class="num" id="5745368">2</span><span class="op" id="5745369">]</span><span class="op" id="5745370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745376">elt</span><span class="op" id="5745379">,</span>&nbsp;<span class="ident" id="5745381">ok</span>&nbsp;<span class="op" id="5745384">:=</span>&nbsp;<span class="ident" id="5745387">fname</span><span class="op" id="5745392">[</span><span class="ident" id="5745393">eltIdx</span><span class="op" id="5745399">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745405">if</span>&nbsp;<span class="op" id="5745408">!</span><span class="ident" id="5745409">ok</span>&nbsp;<span class="op" id="5745412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745419">return</span>&nbsp;<span class="op" id="5745426">&amp;</span><span class="ident" id="5745427">DecodingError</span><span class="op" id="5745440">{</span><span class="op" id="5745441">-</span><span class="num" id="5745442">1</span><span class="op" id="5745443">,</span>&nbsp;<span class="string" id="5745445">&#34;bad&nbsp;filename&nbsp;code&#34;</span><span class="op" id="5745464">,</span>&nbsp;<span class="ident" id="5745466">eltIdx</span><span class="op" id="5745472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745484">if</span>&nbsp;<span class="ident" id="5745487">n</span>&nbsp;<span class="op" id="5745489">:=</span>&nbsp;<span class="builtinfunc" id="5745492">len</span><span class="op" id="5745495">(</span><span class="ident" id="5745496">ts</span><span class="op" id="5745498">.</span><span class="ident" id="5745499">Name</span><span class="op" id="5745503">)</span><span class="op" id="5745504">;</span>&nbsp;<span class="ident" id="5745506">n</span>&nbsp;<span class="op" id="5745508">&gt;</span>&nbsp;<span class="num" id="5745510">0</span>&nbsp;<span class="op" id="5745512">&amp;&amp;</span>&nbsp;<span class="ident" id="5745515">ts</span><span class="op" id="5745517">.</span><span class="ident" id="5745518">Name</span><span class="op" id="5745522">[</span><span class="ident" id="5745523">n</span><span class="op" id="5745524">-</span><span class="num" id="5745525">1</span><span class="op" id="5745526">]</span>&nbsp;<span class="op" id="5745528">!=</span>&nbsp;<span class="string" id="5745531">&#39;/&#39;</span>&nbsp;<span class="op" id="5745535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745542">ts</span><span class="op" id="5745544">.</span><span class="ident" id="5745545">Name</span>&nbsp;<span class="op" id="5745550">+=</span>&nbsp;<span class="string" id="5745553">&#34;/&#34;</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745567">ts</span><span class="op" id="5745569">.</span><span class="ident" id="5745570">Name</span>&nbsp;<span class="op" id="5745575">+=</span>&nbsp;<span class="ident" id="5745578">elt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745593">switch</span>&nbsp;<span class="ident" id="5745600">s</span><span class="op" id="5745601">.</span><span class="ident" id="5745602">typ</span>&nbsp;<span class="op" id="5745606">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745610">case</span>&nbsp;<span class="string" id="5745615">&#39;T&#39;</span><span class="op" id="5745618">,</span>&nbsp;<span class="string" id="5745620">&#39;t&#39;</span><span class="op" id="5745623">,</span>&nbsp;<span class="string" id="5745625">&#39;L&#39;</span><span class="op" id="5745628">,</span>&nbsp;<span class="string" id="5745630">&#39;l&#39;</span><span class="op" id="5745633">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745638">nf</span><span class="op" id="5745640">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745645">case</span>&nbsp;<span class="string" id="5745650">&#39;f&#39;</span><span class="op" id="5745653">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745658">fname</span><span class="op" id="5745663">[</span><span class="builtintype" id="5745664">uint16</span><span class="op" id="5745670">(</span><span class="ident" id="5745671">s</span><span class="op" id="5745672">.</span><span class="ident" id="5745673">value</span><span class="op" id="5745678">)</span><span class="op" id="5745679">]</span>&nbsp;<span class="op" id="5745681">=</span>&nbsp;<span class="ident" id="5745683">ts</span><span class="op" id="5745685">.</span><span class="ident" id="5745686">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745693">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745697">lasttyp</span>&nbsp;<span class="op" id="5745705">=</span>&nbsp;<span class="ident" id="5745707">s</span><span class="op" id="5745708">.</span><span class="ident" id="5745709">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745715">return</span>&nbsp;<span class="ident" id="5745722">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745727">}</span><span class="op" id="5745728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745731">if</span>&nbsp;<span class="ident" id="5745734">err</span>&nbsp;<span class="op" id="5745738">!=</span>&nbsp;<span class="ident" id="5745741">nil</span>&nbsp;<span class="op" id="5745745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745749">return</span>&nbsp;<span class="ident" id="5745756">nil</span><span class="op" id="5745759">,</span>&nbsp;<span class="ident" id="5745761">err</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745770">t</span><span class="op" id="5745771">.</span><span class="ident" id="5745772">Funcs</span>&nbsp;<span class="op" id="5745778">=</span>&nbsp;<span class="builtinfunc" id="5745780">make</span><span class="op" id="5745784">(</span><span class="op" id="5745785">[</span><span class="op" id="5745786">]</span><span class="ident" id="5745787">Func</span><span class="op" id="5745791">,</span>&nbsp;<span class="num" id="5745793">0</span><span class="op" id="5745794">,</span>&nbsp;<span class="ident" id="5745796">nf</span><span class="op" id="5745798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745801">t</span><span class="op" id="5745802">.</span><span class="ident" id="5745803">Files</span>&nbsp;<span class="op" id="5745809">=</span>&nbsp;<span class="builtinfunc" id="5745811">make</span><span class="op" id="5745815">(</span><span class="keyword" id="5745816">map</span><span class="op" id="5745819">[</span><span class="builtintype" id="5745820">string</span><span class="op" id="5745826">]</span><span class="op" id="5745827">*</span><span class="ident" id="5745828">Obj</span><span class="op" id="5745831">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745835">var</span>&nbsp;<span class="ident" id="5745839">obj</span>&nbsp;<span class="op" id="5745843">*</span><span class="ident" id="5745844">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5745849">if</span>&nbsp;<span class="ident" id="5745852">t</span><span class="op" id="5745853">.</span><span class="ident" id="5745854">go12line</span>&nbsp;<span class="op" id="5745863">!=</span>&nbsp;<span class="ident" id="5745866">nil</span>&nbsp;<span class="op" id="5745870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5745874">//&nbsp;Put&nbsp;all&nbsp;functions&nbsp;into&nbsp;one&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745911">t</span><span class="op" id="5745912">.</span><span class="ident" id="5745913">Objs</span>&nbsp;<span class="op" id="5745918">=</span>&nbsp;<span class="builtinfunc" id="5745920">make</span><span class="op" id="5745924">(</span><span class="op" id="5745925">[</span><span class="op" id="5745926">]</span><span class="ident" id="5745927">Obj</span><span class="op" id="5745930">,</span>&nbsp;<span class="num" id="5745932">1</span><span class="op" id="5745933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745937">obj</span>&nbsp;<span class="op" id="5745941">=</span>&nbsp;<span class="op" id="5745943">&amp;</span><span class="ident" id="5745944">t</span><span class="op" id="5745945">.</span><span class="ident" id="5745946">Objs</span><span class="op" id="5745950">[</span><span class="num" id="5745951">0</span><span class="op" id="5745952">]</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5745956">t</span><span class="op" id="5745957">.</span><span class="ident" id="5745958">go12line</span><span class="op" id="5745966">.</span><span class="ident" id="5745967">go12MapFiles</span><span class="op" id="5745979">(</span><span class="ident" id="5745980">t</span><span class="op" id="5745981">.</span><span class="ident" id="5745982">Files</span><span class="op" id="5745987">,</span>&nbsp;<span class="ident" id="5745989">obj</span><span class="op" id="5745992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5745995">}</span>&nbsp;<span class="keyword" id="5745997">else</span>&nbsp;<span class="op" id="5746002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746006">t</span><span class="op" id="5746007">.</span><span class="ident" id="5746008">Objs</span>&nbsp;<span class="op" id="5746013">=</span>&nbsp;<span class="builtinfunc" id="5746015">make</span><span class="op" id="5746019">(</span><span class="op" id="5746020">[</span><span class="op" id="5746021">]</span><span class="ident" id="5746022">Obj</span><span class="op" id="5746025">,</span>&nbsp;<span class="num" id="5746027">0</span><span class="op" id="5746028">,</span>&nbsp;<span class="ident" id="5746030">nz</span><span class="op" id="5746032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5746035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5746039">//&nbsp;Count&nbsp;text&nbsp;symbols&nbsp;and&nbsp;attach&nbsp;frame&nbsp;sizes,&nbsp;parameters,&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5746102">//&nbsp;locals&nbsp;to&nbsp;them.&nbsp;&nbsp;Also,&nbsp;find&nbsp;object&nbsp;file&nbsp;boundaries.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746158">lastf</span>&nbsp;<span class="op" id="5746164">:=</span>&nbsp;<span class="num" id="5746167">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746170">for</span>&nbsp;<span class="ident" id="5746174">i</span>&nbsp;<span class="op" id="5746176">:=</span>&nbsp;<span class="num" id="5746179">0</span><span class="op" id="5746180">;</span>&nbsp;<span class="ident" id="5746182">i</span>&nbsp;<span class="op" id="5746184">&lt;</span>&nbsp;<span class="builtinfunc" id="5746186">len</span><span class="op" id="5746189">(</span><span class="ident" id="5746190">t</span><span class="op" id="5746191">.</span><span class="ident" id="5746192">Syms</span><span class="op" id="5746196">)</span><span class="op" id="5746197">;</span>&nbsp;<span class="ident" id="5746199">i</span><span class="op" id="5746200">++</span>&nbsp;<span class="op" id="5746203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746207">sym</span>&nbsp;<span class="op" id="5746211">:=</span>&nbsp;<span class="op" id="5746214">&amp;</span><span class="ident" id="5746215">t</span><span class="op" id="5746216">.</span><span class="ident" id="5746217">Syms</span><span class="op" id="5746221">[</span><span class="ident" id="5746222">i</span><span class="op" id="5746223">]</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746227">switch</span>&nbsp;<span class="ident" id="5746234">sym</span><span class="op" id="5746237">.</span><span class="ident" id="5746238">Type</span>&nbsp;<span class="op" id="5746243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746247">case</span>&nbsp;<span class="string" id="5746252">&#39;Z&#39;</span><span class="op" id="5746255">,</span>&nbsp;<span class="string" id="5746257">&#39;z&#39;</span><span class="op" id="5746260">:</span>&nbsp;<span class="comment" id="5746262">//&nbsp;path&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746280">if</span>&nbsp;<span class="ident" id="5746283">t</span><span class="op" id="5746284">.</span><span class="ident" id="5746285">go12line</span>&nbsp;<span class="op" id="5746294">!=</span>&nbsp;<span class="ident" id="5746297">nil</span>&nbsp;<span class="op" id="5746301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5746307">//&nbsp;Go&nbsp;1.2&nbsp;binaries&nbsp;have&nbsp;the&nbsp;file&nbsp;information&nbsp;elsewhere.&nbsp;Ignore.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746375">break</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5746384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5746389">//&nbsp;Finish&nbsp;the&nbsp;current&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746421">if</span>&nbsp;<span class="ident" id="5746424">obj</span>&nbsp;<span class="op" id="5746428">!=</span>&nbsp;<span class="ident" id="5746431">nil</span>&nbsp;<span class="op" id="5746435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746441">obj</span><span class="op" id="5746444">.</span><span class="ident" id="5746445">Funcs</span>&nbsp;<span class="op" id="5746451">=</span>&nbsp;<span class="ident" id="5746453">t</span><span class="op" id="5746454">.</span><span class="ident" id="5746455">Funcs</span><span class="op" id="5746460">[</span><span class="ident" id="5746461">lastf</span><span class="op" id="5746466">:</span><span class="op" id="5746467">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5746472">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746477">lastf</span>&nbsp;<span class="op" id="5746483">=</span>&nbsp;<span class="builtinfunc" id="5746485">len</span><span class="op" id="5746488">(</span><span class="ident" id="5746489">t</span><span class="op" id="5746490">.</span><span class="ident" id="5746491">Funcs</span><span class="op" id="5746496">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5746502">//&nbsp;Start&nbsp;new&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746525">n</span>&nbsp;<span class="op" id="5746527">:=</span>&nbsp;<span class="builtinfunc" id="5746530">len</span><span class="op" id="5746533">(</span><span class="ident" id="5746534">t</span><span class="op" id="5746535">.</span><span class="ident" id="5746536">Objs</span><span class="op" id="5746540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746545">t</span><span class="op" id="5746546">.</span><span class="ident" id="5746547">Objs</span>&nbsp;<span class="op" id="5746552">=</span>&nbsp;<span class="ident" id="5746554">t</span><span class="op" id="5746555">.</span><span class="ident" id="5746556">Objs</span><span class="op" id="5746560">[</span><span class="num" id="5746561">0</span>&nbsp;<span class="op" id="5746563">:</span>&nbsp;<span class="ident" id="5746565">n</span><span class="op" id="5746566">+</span><span class="num" id="5746567">1</span><span class="op" id="5746568">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746573">obj</span>&nbsp;<span class="op" id="5746577">=</span>&nbsp;<span class="op" id="5746579">&amp;</span><span class="ident" id="5746580">t</span><span class="op" id="5746581">.</span><span class="ident" id="5746582">Objs</span><span class="op" id="5746586">[</span><span class="ident" id="5746587">n</span><span class="op" id="5746588">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5746594">//&nbsp;Count&nbsp;&amp;&nbsp;copy&nbsp;path&nbsp;symbols</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746626">var</span>&nbsp;<span class="ident" id="5746630">end</span>&nbsp;<span class="builtintype" id="5746634">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746641">for</span>&nbsp;<span class="ident" id="5746645">end</span>&nbsp;<span class="op" id="5746649">=</span>&nbsp;<span class="ident" id="5746651">i</span>&nbsp;<span class="op" id="5746653">+</span>&nbsp;<span class="num" id="5746655">1</span><span class="op" id="5746656">;</span>&nbsp;<span class="ident" id="5746658">end</span>&nbsp;<span class="op" id="5746662">&lt;</span>&nbsp;<span class="builtinfunc" id="5746664">len</span><span class="op" id="5746667">(</span><span class="ident" id="5746668">t</span><span class="op" id="5746669">.</span><span class="ident" id="5746670">Syms</span><span class="op" id="5746674">)</span><span class="op" id="5746675">;</span>&nbsp;<span class="ident" id="5746677">end</span><span class="op" id="5746680">++</span>&nbsp;<span class="op" id="5746683">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746689">if</span>&nbsp;<span class="ident" id="5746692">c</span>&nbsp;<span class="op" id="5746694">:=</span>&nbsp;<span class="ident" id="5746697">t</span><span class="op" id="5746698">.</span><span class="ident" id="5746699">Syms</span><span class="op" id="5746703">[</span><span class="ident" id="5746704">end</span><span class="op" id="5746707">]</span><span class="op" id="5746708">.</span><span class="ident" id="5746709">Type</span><span class="op" id="5746713">;</span>&nbsp;<span class="ident" id="5746715">c</span>&nbsp;<span class="op" id="5746717">!=</span>&nbsp;<span class="string" id="5746720">&#39;Z&#39;</span>&nbsp;<span class="op" id="5746724">&amp;&amp;</span>&nbsp;<span class="ident" id="5746727">c</span>&nbsp;<span class="op" id="5746729">!=</span>&nbsp;<span class="string" id="5746732">&#39;z&#39;</span>&nbsp;<span class="op" id="5746736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746743">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5746753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5746758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746763">obj</span><span class="op" id="5746766">.</span><span class="ident" id="5746767">Paths</span>&nbsp;<span class="op" id="5746773">=</span>&nbsp;<span class="ident" id="5746775">t</span><span class="op" id="5746776">.</span><span class="ident" id="5746777">Syms</span><span class="op" id="5746781">[</span><span class="ident" id="5746782">i</span><span class="op" id="5746783">:</span><span class="ident" id="5746784">end</span><span class="op" id="5746787">]</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746792">i</span>&nbsp;<span class="op" id="5746794">=</span>&nbsp;<span class="ident" id="5746796">end</span>&nbsp;<span class="op" id="5746800">-</span>&nbsp;<span class="num" id="5746802">1</span>&nbsp;<span class="comment" id="5746804">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5746825">//&nbsp;Record&nbsp;file&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746849">depth</span>&nbsp;<span class="op" id="5746855">:=</span>&nbsp;<span class="num" id="5746858">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746863">for</span>&nbsp;<span class="ident" id="5746867">j</span>&nbsp;<span class="op" id="5746869">:=</span>&nbsp;<span class="keyword" id="5746872">range</span>&nbsp;<span class="ident" id="5746878">obj</span><span class="op" id="5746881">.</span><span class="ident" id="5746882">Paths</span>&nbsp;<span class="op" id="5746888">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746894">s</span>&nbsp;<span class="op" id="5746896">:=</span>&nbsp;<span class="op" id="5746899">&amp;</span><span class="ident" id="5746900">obj</span><span class="op" id="5746903">.</span><span class="ident" id="5746904">Paths</span><span class="op" id="5746909">[</span><span class="ident" id="5746910">j</span><span class="op" id="5746911">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746917">if</span>&nbsp;<span class="ident" id="5746920">s</span><span class="op" id="5746921">.</span><span class="ident" id="5746922">Name</span>&nbsp;<span class="op" id="5746927">==</span>&nbsp;<span class="string" id="5746930">&#34;&#34;</span>&nbsp;<span class="op" id="5746933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746940">depth</span><span class="op" id="5746945">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5746952">}</span>&nbsp;<span class="keyword" id="5746954">else</span>&nbsp;<span class="op" id="5746959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5746966">if</span>&nbsp;<span class="ident" id="5746969">depth</span>&nbsp;<span class="op" id="5746975">==</span>&nbsp;<span class="num" id="5746978">0</span>&nbsp;<span class="op" id="5746980">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5746988">t</span><span class="op" id="5746989">.</span><span class="ident" id="5746990">Files</span><span class="op" id="5746995">[</span><span class="ident" id="5746996">s</span><span class="op" id="5746997">.</span><span class="ident" id="5746998">Name</span><span class="op" id="5747002">]</span>&nbsp;<span class="op" id="5747004">=</span>&nbsp;<span class="ident" id="5747006">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5747015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747022">depth</span><span class="op" id="5747027">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5747034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5747039">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747044">case</span>&nbsp;<span class="string" id="5747049">&#39;T&#39;</span><span class="op" id="5747052">,</span>&nbsp;<span class="string" id="5747054">&#39;t&#39;</span><span class="op" id="5747057">,</span>&nbsp;<span class="string" id="5747059">&#39;L&#39;</span><span class="op" id="5747062">,</span>&nbsp;<span class="string" id="5747064">&#39;l&#39;</span><span class="op" id="5747067">:</span>&nbsp;<span class="comment" id="5747069">//&nbsp;text&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747087">if</span>&nbsp;<span class="ident" id="5747090">n</span>&nbsp;<span class="op" id="5747092">:=</span>&nbsp;<span class="builtinfunc" id="5747095">len</span><span class="op" id="5747098">(</span><span class="ident" id="5747099">t</span><span class="op" id="5747100">.</span><span class="ident" id="5747101">Funcs</span><span class="op" id="5747106">)</span><span class="op" id="5747107">;</span>&nbsp;<span class="ident" id="5747109">n</span>&nbsp;<span class="op" id="5747111">&gt;</span>&nbsp;<span class="num" id="5747113">0</span>&nbsp;<span class="op" id="5747115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747121">t</span><span class="op" id="5747122">.</span><span class="ident" id="5747123">Funcs</span><span class="op" id="5747128">[</span><span class="ident" id="5747129">n</span><span class="op" id="5747130">-</span><span class="num" id="5747131">1</span><span class="op" id="5747132">]</span><span class="op" id="5747133">.</span><span class="ident" id="5747134">End</span>&nbsp;<span class="op" id="5747138">=</span>&nbsp;<span class="ident" id="5747140">sym</span><span class="op" id="5747143">.</span><span class="ident" id="5747144">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5747153">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747158">if</span>&nbsp;<span class="ident" id="5747161">sym</span><span class="op" id="5747164">.</span><span class="ident" id="5747165">Name</span>&nbsp;<span class="op" id="5747170">==</span>&nbsp;<span class="string" id="5747173">&#34;runtime.etext&#34;</span>&nbsp;<span class="op" id="5747189">||</span>&nbsp;<span class="ident" id="5747192">sym</span><span class="op" id="5747195">.</span><span class="ident" id="5747196">Name</span>&nbsp;<span class="op" id="5747201">==</span>&nbsp;<span class="string" id="5747204">&#34;etext&#34;</span>&nbsp;<span class="op" id="5747212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747218">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5747230">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5747236">//&nbsp;Count&nbsp;parameter&nbsp;and&nbsp;local&nbsp;(auto)&nbsp;syms</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747280">var</span>&nbsp;<span class="ident" id="5747284">np</span><span class="op" id="5747286">,</span>&nbsp;<span class="ident" id="5747288">na</span>&nbsp;<span class="builtintype" id="5747291">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747298">var</span>&nbsp;<span class="ident" id="5747302">end</span>&nbsp;<span class="builtintype" id="5747306">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747312">countloop</span><span class="op" id="5747321">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747326">for</span>&nbsp;<span class="ident" id="5747330">end</span>&nbsp;<span class="op" id="5747334">=</span>&nbsp;<span class="ident" id="5747336">i</span>&nbsp;<span class="op" id="5747338">+</span>&nbsp;<span class="num" id="5747340">1</span><span class="op" id="5747341">;</span>&nbsp;<span class="ident" id="5747343">end</span>&nbsp;<span class="op" id="5747347">&lt;</span>&nbsp;<span class="builtinfunc" id="5747349">len</span><span class="op" id="5747352">(</span><span class="ident" id="5747353">t</span><span class="op" id="5747354">.</span><span class="ident" id="5747355">Syms</span><span class="op" id="5747359">)</span><span class="op" id="5747360">;</span>&nbsp;<span class="ident" id="5747362">end</span><span class="op" id="5747365">++</span>&nbsp;<span class="op" id="5747368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747374">switch</span>&nbsp;<span class="ident" id="5747381">t</span><span class="op" id="5747382">.</span><span class="ident" id="5747383">Syms</span><span class="op" id="5747387">[</span><span class="ident" id="5747388">end</span><span class="op" id="5747391">]</span><span class="op" id="5747392">.</span><span class="ident" id="5747393">Type</span>&nbsp;<span class="op" id="5747398">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747404">case</span>&nbsp;<span class="string" id="5747409">&#39;T&#39;</span><span class="op" id="5747412">,</span>&nbsp;<span class="string" id="5747414">&#39;t&#39;</span><span class="op" id="5747417">,</span>&nbsp;<span class="string" id="5747419">&#39;L&#39;</span><span class="op" id="5747422">,</span>&nbsp;<span class="string" id="5747424">&#39;l&#39;</span><span class="op" id="5747427">,</span>&nbsp;<span class="string" id="5747429">&#39;Z&#39;</span><span class="op" id="5747432">,</span>&nbsp;<span class="string" id="5747434">&#39;z&#39;</span><span class="op" id="5747437">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747444">break</span>&nbsp;<span class="ident" id="5747450">countloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747464">case</span>&nbsp;<span class="string" id="5747469">&#39;p&#39;</span><span class="op" id="5747472">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747479">np</span><span class="op" id="5747481">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747488">case</span>&nbsp;<span class="string" id="5747493">&#39;a&#39;</span><span class="op" id="5747496">:</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747503">na</span><span class="op" id="5747505">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5747512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5747517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5747523">//&nbsp;Fill&nbsp;in&nbsp;the&nbsp;function&nbsp;symbol</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747557">n</span>&nbsp;<span class="op" id="5747559">:=</span>&nbsp;<span class="builtinfunc" id="5747562">len</span><span class="op" id="5747565">(</span><span class="ident" id="5747566">t</span><span class="op" id="5747567">.</span><span class="ident" id="5747568">Funcs</span><span class="op" id="5747573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747578">t</span><span class="op" id="5747579">.</span><span class="ident" id="5747580">Funcs</span>&nbsp;<span class="op" id="5747586">=</span>&nbsp;<span class="ident" id="5747588">t</span><span class="op" id="5747589">.</span><span class="ident" id="5747590">Funcs</span><span class="op" id="5747595">[</span><span class="num" id="5747596">0</span>&nbsp;<span class="op" id="5747598">:</span>&nbsp;<span class="ident" id="5747600">n</span><span class="op" id="5747601">+</span><span class="num" id="5747602">1</span><span class="op" id="5747603">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747608">fn</span>&nbsp;<span class="op" id="5747611">:=</span>&nbsp;<span class="op" id="5747614">&amp;</span><span class="ident" id="5747615">t</span><span class="op" id="5747616">.</span><span class="ident" id="5747617">Funcs</span><span class="op" id="5747622">[</span><span class="ident" id="5747623">n</span><span class="op" id="5747624">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747629">sym</span><span class="op" id="5747632">.</span><span class="ident" id="5747633">Func</span>&nbsp;<span class="op" id="5747638">=</span>&nbsp;<span class="ident" id="5747640">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747646">fn</span><span class="op" id="5747648">.</span><span class="ident" id="5747649">Params</span>&nbsp;<span class="op" id="5747656">=</span>&nbsp;<span class="builtinfunc" id="5747658">make</span><span class="op" id="5747662">(</span><span class="op" id="5747663">[</span><span class="op" id="5747664">]</span><span class="op" id="5747665">*</span><span class="ident" id="5747666">Sym</span><span class="op" id="5747669">,</span>&nbsp;<span class="num" id="5747671">0</span><span class="op" id="5747672">,</span>&nbsp;<span class="ident" id="5747674">np</span><span class="op" id="5747676">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747681">fn</span><span class="op" id="5747683">.</span><span class="ident" id="5747684">Locals</span>&nbsp;<span class="op" id="5747691">=</span>&nbsp;<span class="builtinfunc" id="5747693">make</span><span class="op" id="5747697">(</span><span class="op" id="5747698">[</span><span class="op" id="5747699">]</span><span class="op" id="5747700">*</span><span class="ident" id="5747701">Sym</span><span class="op" id="5747704">,</span>&nbsp;<span class="num" id="5747706">0</span><span class="op" id="5747707">,</span>&nbsp;<span class="ident" id="5747709">na</span><span class="op" id="5747711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747716">fn</span><span class="op" id="5747718">.</span><span class="ident" id="5747719">Sym</span>&nbsp;<span class="op" id="5747723">=</span>&nbsp;<span class="ident" id="5747725">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747732">fn</span><span class="op" id="5747734">.</span><span class="ident" id="5747735">Entry</span>&nbsp;<span class="op" id="5747741">=</span>&nbsp;<span class="ident" id="5747743">sym</span><span class="op" id="5747746">.</span><span class="ident" id="5747747">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747756">fn</span><span class="op" id="5747758">.</span><span class="ident" id="5747759">Obj</span>&nbsp;<span class="op" id="5747763">=</span>&nbsp;<span class="ident" id="5747765">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5747772">if</span>&nbsp;<span class="ident" id="5747775">t</span><span class="op" id="5747776">.</span><span class="ident" id="5747777">go12line</span>&nbsp;<span class="op" id="5747786">!=</span>&nbsp;<span class="ident" id="5747789">nil</span>&nbsp;<span class="op" id="5747793">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5747799">//&nbsp;All&nbsp;functions&nbsp;share&nbsp;the&nbsp;same&nbsp;line&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5747847">//&nbsp;It&nbsp;knows&nbsp;how&nbsp;to&nbsp;narrow&nbsp;down&nbsp;to&nbsp;a&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5747896">//&nbsp;function&nbsp;quickly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747921">fn</span><span class="op" id="5747923">.</span><span class="ident" id="5747924">LineTable</span>&nbsp;<span class="op" id="5747934">=</span>&nbsp;<span class="ident" id="5747936">t</span><span class="op" id="5747937">.</span><span class="ident" id="5747938">go12line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5747950">}</span>&nbsp;<span class="keyword" id="5747952">else</span>&nbsp;<span class="keyword" id="5747957">if</span>&nbsp;<span class="ident" id="5747960">pcln</span>&nbsp;<span class="op" id="5747965">!=</span>&nbsp;<span class="ident" id="5747968">nil</span>&nbsp;<span class="op" id="5747972">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5747978">fn</span><span class="op" id="5747980">.</span><span class="ident" id="5747981">LineTable</span>&nbsp;<span class="op" id="5747991">=</span>&nbsp;<span class="ident" id="5747993">pcln</span><span class="op" id="5747997">.</span><span class="ident" id="5747998">slice</span><span class="op" id="5748003">(</span><span class="ident" id="5748004">fn</span><span class="op" id="5748006">.</span><span class="ident" id="5748007">Entry</span><span class="op" id="5748012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748018">pcln</span>&nbsp;<span class="op" id="5748023">=</span>&nbsp;<span class="ident" id="5748025">fn</span><span class="op" id="5748027">.</span><span class="ident" id="5748028">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5748041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748046">for</span>&nbsp;<span class="ident" id="5748050">j</span>&nbsp;<span class="op" id="5748052">:=</span>&nbsp;<span class="ident" id="5748055">i</span><span class="op" id="5748056">;</span>&nbsp;<span class="ident" id="5748058">j</span>&nbsp;<span class="op" id="5748060">&lt;</span>&nbsp;<span class="ident" id="5748062">end</span><span class="op" id="5748065">;</span>&nbsp;<span class="ident" id="5748067">j</span><span class="op" id="5748068">++</span>&nbsp;<span class="op" id="5748071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748077">s</span>&nbsp;<span class="op" id="5748079">:=</span>&nbsp;<span class="op" id="5748082">&amp;</span><span class="ident" id="5748083">t</span><span class="op" id="5748084">.</span><span class="ident" id="5748085">Syms</span><span class="op" id="5748089">[</span><span class="ident" id="5748090">j</span><span class="op" id="5748091">]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748097">switch</span>&nbsp;<span class="ident" id="5748104">s</span><span class="op" id="5748105">.</span><span class="ident" id="5748106">Type</span>&nbsp;<span class="op" id="5748111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748117">case</span>&nbsp;<span class="string" id="5748122">&#39;m&#39;</span><span class="op" id="5748125">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748132">fn</span><span class="op" id="5748134">.</span><span class="ident" id="5748135">FrameSize</span>&nbsp;<span class="op" id="5748145">=</span>&nbsp;<span class="builtintype" id="5748147">int</span><span class="op" id="5748150">(</span><span class="ident" id="5748151">s</span><span class="op" id="5748152">.</span><span class="ident" id="5748153">Value</span><span class="op" id="5748158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748164">case</span>&nbsp;<span class="string" id="5748169">&#39;p&#39;</span><span class="op" id="5748172">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748179">n</span>&nbsp;<span class="op" id="5748181">:=</span>&nbsp;<span class="builtinfunc" id="5748184">len</span><span class="op" id="5748187">(</span><span class="ident" id="5748188">fn</span><span class="op" id="5748190">.</span><span class="ident" id="5748191">Params</span><span class="op" id="5748197">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748204">fn</span><span class="op" id="5748206">.</span><span class="ident" id="5748207">Params</span>&nbsp;<span class="op" id="5748214">=</span>&nbsp;<span class="ident" id="5748216">fn</span><span class="op" id="5748218">.</span><span class="ident" id="5748219">Params</span><span class="op" id="5748225">[</span><span class="num" id="5748226">0</span>&nbsp;<span class="op" id="5748228">:</span>&nbsp;<span class="ident" id="5748230">n</span><span class="op" id="5748231">+</span><span class="num" id="5748232">1</span><span class="op" id="5748233">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748240">fn</span><span class="op" id="5748242">.</span><span class="ident" id="5748243">Params</span><span class="op" id="5748249">[</span><span class="ident" id="5748250">n</span><span class="op" id="5748251">]</span>&nbsp;<span class="op" id="5748253">=</span>&nbsp;<span class="ident" id="5748255">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748261">case</span>&nbsp;<span class="string" id="5748266">&#39;a&#39;</span><span class="op" id="5748269">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748276">n</span>&nbsp;<span class="op" id="5748278">:=</span>&nbsp;<span class="builtinfunc" id="5748281">len</span><span class="op" id="5748284">(</span><span class="ident" id="5748285">fn</span><span class="op" id="5748287">.</span><span class="ident" id="5748288">Locals</span><span class="op" id="5748294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748301">fn</span><span class="op" id="5748303">.</span><span class="ident" id="5748304">Locals</span>&nbsp;<span class="op" id="5748311">=</span>&nbsp;<span class="ident" id="5748313">fn</span><span class="op" id="5748315">.</span><span class="ident" id="5748316">Locals</span><span class="op" id="5748322">[</span><span class="num" id="5748323">0</span>&nbsp;<span class="op" id="5748325">:</span>&nbsp;<span class="ident" id="5748327">n</span><span class="op" id="5748328">+</span><span class="num" id="5748329">1</span><span class="op" id="5748330">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748337">fn</span><span class="op" id="5748339">.</span><span class="ident" id="5748340">Locals</span><span class="op" id="5748346">[</span><span class="ident" id="5748347">n</span><span class="op" id="5748348">]</span>&nbsp;<span class="op" id="5748350">=</span>&nbsp;<span class="ident" id="5748352">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5748358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5748363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748368">i</span>&nbsp;<span class="op" id="5748370">=</span>&nbsp;<span class="ident" id="5748372">end</span>&nbsp;<span class="op" id="5748376">-</span>&nbsp;<span class="num" id="5748378">1</span>&nbsp;<span class="comment" id="5748380">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5748399">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5748402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748406">if</span>&nbsp;<span class="ident" id="5748409">t</span><span class="op" id="5748410">.</span><span class="ident" id="5748411">go12line</span>&nbsp;<span class="op" id="5748420">!=</span>&nbsp;<span class="ident" id="5748423">nil</span>&nbsp;<span class="op" id="5748427">&amp;&amp;</span>&nbsp;<span class="ident" id="5748430">nf</span>&nbsp;<span class="op" id="5748433">==</span>&nbsp;<span class="num" id="5748436">0</span>&nbsp;<span class="op" id="5748438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748442">t</span><span class="op" id="5748443">.</span><span class="ident" id="5748444">Funcs</span>&nbsp;<span class="op" id="5748450">=</span>&nbsp;<span class="ident" id="5748452">t</span><span class="op" id="5748453">.</span><span class="ident" id="5748454">go12line</span><span class="op" id="5748462">.</span><span class="ident" id="5748463">go12Funcs</span><span class="op" id="5748472">(</span><span class="op" id="5748473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5748476">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748479">if</span>&nbsp;<span class="ident" id="5748482">obj</span>&nbsp;<span class="op" id="5748486">!=</span>&nbsp;<span class="ident" id="5748489">nil</span>&nbsp;<span class="op" id="5748493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748497">obj</span><span class="op" id="5748500">.</span><span class="ident" id="5748501">Funcs</span>&nbsp;<span class="op" id="5748507">=</span>&nbsp;<span class="ident" id="5748509">t</span><span class="op" id="5748510">.</span><span class="ident" id="5748511">Funcs</span><span class="op" id="5748516">[</span><span class="ident" id="5748517">lastf</span><span class="op" id="5748522">:</span><span class="op" id="5748523">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5748526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748529">return</span>&nbsp;<span class="op" id="5748536">&amp;</span><span class="ident" id="5748537">t</span><span class="op" id="5748538">,</span>&nbsp;<span class="ident" id="5748540">nil</span><br>
<span class="lineno"></span><span class="op" id="5748544">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="5748547">//&nbsp;PCToFunc&nbsp;returns&nbsp;the&nbsp;function&nbsp;containing&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc,</span><br>
<span class="lineno"></span><span class="comment" id="5748615">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="5748655">func</span>&nbsp;<span class="op" id="5748660">(</span><span class="ident" id="5748661">t</span>&nbsp;<span class="op" id="5748663">*</span><span class="ident" id="5748664">Table</span><span class="op" id="5748669">)</span>&nbsp;<span class="ident" id="5748671">PCToFunc</span><span class="op" id="5748679">(</span><span class="ident" id="5748680">pc</span>&nbsp;<span class="ident" id="5748683">uint64</span><span class="op" id="5748689">)</span>&nbsp;<span class="op" id="5748691">*</span><span class="ident" id="5748692">Func</span>&nbsp;<span class="op" id="5748697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748700">funcs</span>&nbsp;<span class="op" id="5748706">:=</span>&nbsp;<span class="ident" id="5748709">t</span><span class="op" id="5748710">.</span><span class="ident" id="5748711">Funcs</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748718">for</span>&nbsp;<span class="builtinfunc" id="5748722">len</span><span class="op" id="5748725">(</span><span class="ident" id="5748726">funcs</span><span class="op" id="5748731">)</span>&nbsp;<span class="op" id="5748733">&gt;</span>&nbsp;<span class="num" id="5748735">0</span>&nbsp;<span class="op" id="5748737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748741">m</span>&nbsp;<span class="op" id="5748743">:=</span>&nbsp;<span class="builtinfunc" id="5748746">len</span><span class="op" id="5748749">(</span><span class="ident" id="5748750">funcs</span><span class="op" id="5748755">)</span>&nbsp;<span class="op" id="5748757">/</span>&nbsp;<span class="num" id="5748759">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748763">fn</span>&nbsp;<span class="op" id="5748766">:=</span>&nbsp;<span class="op" id="5748769">&amp;</span><span class="ident" id="5748770">funcs</span><span class="op" id="5748775">[</span><span class="ident" id="5748776">m</span><span class="op" id="5748777">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748781">switch</span>&nbsp;<span class="op" id="5748788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748792">case</span>&nbsp;<span class="ident" id="5748797">pc</span>&nbsp;<span class="op" id="5748800">&lt;</span>&nbsp;<span class="ident" id="5748802">fn</span><span class="op" id="5748804">.</span><span class="ident" id="5748805">Entry</span><span class="op" id="5748810">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748815">funcs</span>&nbsp;<span class="op" id="5748821">=</span>&nbsp;<span class="ident" id="5748823">funcs</span><span class="op" id="5748828">[</span><span class="num" id="5748829">0</span><span class="op" id="5748830">:</span><span class="ident" id="5748831">m</span><span class="op" id="5748832">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748836">case</span>&nbsp;<span class="ident" id="5748841">fn</span><span class="op" id="5748843">.</span><span class="ident" id="5748844">Entry</span>&nbsp;<span class="op" id="5748850">&lt;=</span>&nbsp;<span class="ident" id="5748853">pc</span>&nbsp;<span class="op" id="5748856">&amp;&amp;</span>&nbsp;<span class="ident" id="5748859">pc</span>&nbsp;<span class="op" id="5748862">&lt;</span>&nbsp;<span class="ident" id="5748864">fn</span><span class="op" id="5748866">.</span><span class="ident" id="5748867">End</span><span class="op" id="5748870">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748875">return</span>&nbsp;<span class="ident" id="5748882">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748887">default</span><span class="op" id="5748894">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5748899">funcs</span>&nbsp;<span class="op" id="5748905">=</span>&nbsp;<span class="ident" id="5748907">funcs</span><span class="op" id="5748912">[</span><span class="ident" id="5748913">m</span><span class="op" id="5748914">+</span><span class="num" id="5748915">1</span><span class="op" id="5748916">:</span><span class="op" id="5748917">]</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5748921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5748924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5748927">return</span>&nbsp;<span class="ident" id="5748934">nil</span><br>
<span class="lineno"></span><span class="op" id="5748938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="5748941">//&nbsp;PCToLine&nbsp;looks&nbsp;up&nbsp;line&nbsp;number&nbsp;information&nbsp;for&nbsp;a&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span><span class="comment" id="5749009">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;information,&nbsp;it&nbsp;returns&nbsp;fn&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="5749062">func</span>&nbsp;<span class="op" id="5749067">(</span><span class="ident" id="5749068">t</span>&nbsp;<span class="op" id="5749070">*</span><span class="ident" id="5749071">Table</span><span class="op" id="5749076">)</span>&nbsp;<span class="ident" id="5749078">PCToLine</span><span class="op" id="5749086">(</span><span class="ident" id="5749087">pc</span>&nbsp;<span class="ident" id="5749090">uint64</span><span class="op" id="5749096">)</span>&nbsp;<span class="op" id="5749098">(</span><span class="ident" id="5749099">file</span>&nbsp;<span class="builtintype" id="5749104">string</span><span class="op" id="5749110">,</span>&nbsp;<span class="ident" id="5749112">line</span>&nbsp;<span class="builtintype" id="5749117">int</span><span class="op" id="5749120">,</span>&nbsp;<span class="ident" id="5749122">fn</span>&nbsp;<span class="op" id="5749125">*</span><span class="ident" id="5749126">Func</span><span class="op" id="5749130">)</span>&nbsp;<span class="op" id="5749132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749135">if</span>&nbsp;<span class="ident" id="5749138">fn</span>&nbsp;<span class="op" id="5749141">=</span>&nbsp;<span class="ident" id="5749143">t</span><span class="op" id="5749144">.</span><span class="ident" id="5749145">PCToFunc</span><span class="op" id="5749153">(</span><span class="ident" id="5749154">pc</span><span class="op" id="5749156">)</span><span class="op" id="5749157">;</span>&nbsp;<span class="ident" id="5749159">fn</span>&nbsp;<span class="op" id="5749162">==</span>&nbsp;<span class="ident" id="5749165">nil</span>&nbsp;<span class="op" id="5749169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749173">return</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5749181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749184">if</span>&nbsp;<span class="ident" id="5749187">t</span><span class="op" id="5749188">.</span><span class="ident" id="5749189">go12line</span>&nbsp;<span class="op" id="5749198">!=</span>&nbsp;<span class="ident" id="5749201">nil</span>&nbsp;<span class="op" id="5749205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5749209">file</span>&nbsp;<span class="op" id="5749214">=</span>&nbsp;<span class="ident" id="5749216">t</span><span class="op" id="5749217">.</span><span class="ident" id="5749218">go12line</span><span class="op" id="5749226">.</span><span class="ident" id="5749227">go12PCToFile</span><span class="op" id="5749239">(</span><span class="ident" id="5749240">pc</span><span class="op" id="5749242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5749246">line</span>&nbsp;<span class="op" id="5749251">=</span>&nbsp;<span class="ident" id="5749253">t</span><span class="op" id="5749254">.</span><span class="ident" id="5749255">go12line</span><span class="op" id="5749263">.</span><span class="ident" id="5749264">go12PCToLine</span><span class="op" id="5749276">(</span><span class="ident" id="5749277">pc</span><span class="op" id="5749279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5749282">}</span>&nbsp;<span class="keyword" id="5749284">else</span>&nbsp;<span class="op" id="5749289">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5749293">file</span><span class="op" id="5749297">,</span>&nbsp;<span class="ident" id="5749299">line</span>&nbsp;<span class="op" id="5749304">=</span>&nbsp;<span class="ident" id="5749306">fn</span><span class="op" id="5749308">.</span><span class="ident" id="5749309">Obj</span><span class="op" id="5749312">.</span><span class="ident" id="5749313">lineFromAline</span><span class="op" id="5749326">(</span><span class="ident" id="5749327">fn</span><span class="op" id="5749329">.</span><span class="ident" id="5749330">LineTable</span><span class="op" id="5749339">.</span><span class="ident" id="5749340">PCToLine</span><span class="op" id="5749348">(</span><span class="ident" id="5749349">pc</span><span class="op" id="5749351">)</span><span class="op" id="5749352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5749355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749358">return</span><br>
<span class="lineno"></span><span class="op" id="5749365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="comment" id="5749368">//&nbsp;LineToPC&nbsp;looks&nbsp;up&nbsp;the&nbsp;first&nbsp;program&nbsp;counter&nbsp;on&nbsp;the&nbsp;given&nbsp;line&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5749436">//&nbsp;the&nbsp;named&nbsp;file.&nbsp;&nbsp;It&nbsp;returns&nbsp;UnknownPathError&nbsp;or&nbsp;UnknownLineError&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="5749507">//&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;looking&nbsp;up&nbsp;this&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="5749550">func</span>&nbsp;<span class="op" id="5749555">(</span><span class="ident" id="5749556">t</span>&nbsp;<span class="op" id="5749558">*</span><span class="ident" id="5749559">Table</span><span class="op" id="5749564">)</span>&nbsp;<span class="ident" id="5749566">LineToPC</span><span class="op" id="5749574">(</span><span class="ident" id="5749575">file</span>&nbsp;<span class="builtintype" id="5749580">string</span><span class="op" id="5749586">,</span>&nbsp;<span class="ident" id="5749588">line</span>&nbsp;<span class="builtintype" id="5749593">int</span><span class="op" id="5749596">)</span>&nbsp;<span class="op" id="5749598">(</span><span class="ident" id="5749599">pc</span>&nbsp;<span class="ident" id="5749602">uint64</span><span class="op" id="5749608">,</span>&nbsp;<span class="ident" id="5749610">fn</span>&nbsp;<span class="op" id="5749613">*</span><span class="ident" id="5749614">Func</span><span class="op" id="5749618">,</span>&nbsp;<span class="ident" id="5749620">err</span>&nbsp;<span class="builtintype" id="5749624">error</span><span class="op" id="5749629">)</span>&nbsp;<span class="op" id="5749631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5749634">obj</span><span class="op" id="5749637">,</span>&nbsp;<span class="ident" id="5749639">ok</span>&nbsp;<span class="op" id="5749642">:=</span>&nbsp;<span class="ident" id="5749645">t</span><span class="op" id="5749646">.</span><span class="ident" id="5749647">Files</span><span class="op" id="5749652">[</span><span class="ident" id="5749653">file</span><span class="op" id="5749657">]</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749660">if</span>&nbsp;<span class="op" id="5749663">!</span><span class="ident" id="5749664">ok</span>&nbsp;<span class="op" id="5749667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749671">return</span>&nbsp;<span class="num" id="5749678">0</span><span class="op" id="5749679">,</span>&nbsp;<span class="ident" id="5749681">nil</span><span class="op" id="5749684">,</span>&nbsp;<span class="ident" id="5749686">UnknownFileError</span><span class="op" id="5749702">(</span><span class="ident" id="5749703">file</span><span class="op" id="5749707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5749710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749714">if</span>&nbsp;<span class="ident" id="5749717">t</span><span class="op" id="5749718">.</span><span class="ident" id="5749719">go12line</span>&nbsp;<span class="op" id="5749728">!=</span>&nbsp;<span class="ident" id="5749731">nil</span>&nbsp;<span class="op" id="5749735">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5749739">pc</span>&nbsp;<span class="op" id="5749742">:=</span>&nbsp;<span class="ident" id="5749745">t</span><span class="op" id="5749746">.</span><span class="ident" id="5749747">go12line</span><span class="op" id="5749755">.</span><span class="ident" id="5749756">go12LineToPC</span><span class="op" id="5749768">(</span><span class="ident" id="5749769">file</span><span class="op" id="5749773">,</span>&nbsp;<span class="ident" id="5749775">line</span><span class="op" id="5749779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749783">if</span>&nbsp;<span class="ident" id="5749786">pc</span>&nbsp;<span class="op" id="5749789">==</span>&nbsp;<span class="num" id="5749792">0</span>&nbsp;<span class="op" id="5749794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749799">return</span>&nbsp;<span class="num" id="5749806">0</span><span class="op" id="5749807">,</span>&nbsp;<span class="ident" id="5749809">nil</span><span class="op" id="5749812">,</span>&nbsp;<span class="op" id="5749814">&amp;</span><span class="ident" id="5749815">UnknownLineError</span><span class="op" id="5749831">{</span><span class="ident" id="5749832">file</span><span class="op" id="5749836">,</span>&nbsp;<span class="ident" id="5749838">line</span><span class="op" id="5749842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5749846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749850">return</span>&nbsp;<span class="ident" id="5749857">pc</span><span class="op" id="5749859">,</span>&nbsp;<span class="ident" id="5749861">t</span><span class="op" id="5749862">.</span><span class="ident" id="5749863">PCToFunc</span><span class="op" id="5749871">(</span><span class="ident" id="5749872">pc</span><span class="op" id="5749874">)</span><span class="op" id="5749875">,</span>&nbsp;<span class="ident" id="5749877">nil</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5749882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5749886">abs</span><span class="op" id="5749889">,</span>&nbsp;<span class="ident" id="5749891">err</span>&nbsp;<span class="op" id="5749895">:=</span>&nbsp;<span class="ident" id="5749898">obj</span><span class="op" id="5749901">.</span><span class="ident" id="5749902">alineFromLine</span><span class="op" id="5749915">(</span><span class="ident" id="5749916">file</span><span class="op" id="5749920">,</span>&nbsp;<span class="ident" id="5749922">line</span><span class="op" id="5749926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749929">if</span>&nbsp;<span class="ident" id="5749932">err</span>&nbsp;<span class="op" id="5749936">!=</span>&nbsp;<span class="ident" id="5749939">nil</span>&nbsp;<span class="op" id="5749943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749947">return</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5749955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5749958">for</span>&nbsp;<span class="ident" id="5749962">i</span>&nbsp;<span class="op" id="5749964">:=</span>&nbsp;<span class="keyword" id="5749967">range</span>&nbsp;<span class="ident" id="5749973">obj</span><span class="op" id="5749976">.</span><span class="ident" id="5749977">Funcs</span>&nbsp;<span class="op" id="5749983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5749987">f</span>&nbsp;<span class="op" id="5749989">:=</span>&nbsp;<span class="op" id="5749992">&amp;</span><span class="ident" id="5749993">obj</span><span class="op" id="5749996">.</span><span class="ident" id="5749997">Funcs</span><span class="op" id="5750002">[</span><span class="ident" id="5750003">i</span><span class="op" id="5750004">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5750008">pc</span>&nbsp;<span class="op" id="5750011">:=</span>&nbsp;<span class="ident" id="5750014">f</span><span class="op" id="5750015">.</span><span class="ident" id="5750016">LineTable</span><span class="op" id="5750025">.</span><span class="ident" id="5750026">LineToPC</span><span class="op" id="5750034">(</span><span class="ident" id="5750035">abs</span><span class="op" id="5750038">,</span>&nbsp;<span class="ident" id="5750040">f</span><span class="op" id="5750041">.</span><span class="ident" id="5750042">End</span><span class="op" id="5750045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750049">if</span>&nbsp;<span class="ident" id="5750052">pc</span>&nbsp;<span class="op" id="5750055">!=</span>&nbsp;<span class="num" id="5750058">0</span>&nbsp;<span class="op" id="5750060">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750065">return</span>&nbsp;<span class="ident" id="5750072">pc</span><span class="op" id="5750074">,</span>&nbsp;<span class="ident" id="5750076">f</span><span class="op" id="5750077">,</span>&nbsp;<span class="ident" id="5750079">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5750085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5750088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750091">return</span>&nbsp;<span class="num" id="5750098">0</span><span class="op" id="5750099">,</span>&nbsp;<span class="ident" id="5750101">nil</span><span class="op" id="5750104">,</span>&nbsp;<span class="op" id="5750106">&amp;</span><span class="ident" id="5750107">UnknownLineError</span><span class="op" id="5750123">{</span><span class="ident" id="5750124">file</span><span class="op" id="5750128">,</span>&nbsp;<span class="ident" id="5750130">line</span><span class="op" id="5750134">}</span><br>
<span class="lineno"></span><span class="op" id="5750136">}</span><br>
<span class="lineno">535</span><br>
<span class="lineno"></span><span class="comment" id="5750139">//&nbsp;LookupSym&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5750211">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5750249">func</span>&nbsp;<span class="op" id="5750254">(</span><span class="ident" id="5750255">t</span>&nbsp;<span class="op" id="5750257">*</span><span class="ident" id="5750258">Table</span><span class="op" id="5750263">)</span>&nbsp;<span class="ident" id="5750265">LookupSym</span><span class="op" id="5750274">(</span><span class="ident" id="5750275">name</span>&nbsp;<span class="builtintype" id="5750280">string</span><span class="op" id="5750286">)</span>&nbsp;<span class="op" id="5750288">*</span><span class="ident" id="5750289">Sym</span>&nbsp;<span class="op" id="5750293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5750296">//&nbsp;TODO(austin)&nbsp;Maybe&nbsp;make&nbsp;a&nbsp;map</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750330">for</span>&nbsp;<span class="ident" id="5750334">i</span>&nbsp;<span class="op" id="5750336">:=</span>&nbsp;<span class="keyword" id="5750339">range</span>&nbsp;<span class="ident" id="5750345">t</span><span class="op" id="5750346">.</span><span class="ident" id="5750347">Syms</span>&nbsp;<span class="op" id="5750352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5750356">s</span>&nbsp;<span class="op" id="5750358">:=</span>&nbsp;<span class="op" id="5750361">&amp;</span><span class="ident" id="5750362">t</span><span class="op" id="5750363">.</span><span class="ident" id="5750364">Syms</span><span class="op" id="5750368">[</span><span class="ident" id="5750369">i</span><span class="op" id="5750370">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750374">switch</span>&nbsp;<span class="ident" id="5750381">s</span><span class="op" id="5750382">.</span><span class="ident" id="5750383">Type</span>&nbsp;<span class="op" id="5750388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750392">case</span>&nbsp;<span class="string" id="5750397">&#39;T&#39;</span><span class="op" id="5750400">,</span>&nbsp;<span class="string" id="5750402">&#39;t&#39;</span><span class="op" id="5750405">,</span>&nbsp;<span class="string" id="5750407">&#39;L&#39;</span><span class="op" id="5750410">,</span>&nbsp;<span class="string" id="5750412">&#39;l&#39;</span><span class="op" id="5750415">,</span>&nbsp;<span class="string" id="5750417">&#39;D&#39;</span><span class="op" id="5750420">,</span>&nbsp;<span class="string" id="5750422">&#39;d&#39;</span><span class="op" id="5750425">,</span>&nbsp;<span class="string" id="5750427">&#39;B&#39;</span><span class="op" id="5750430">,</span>&nbsp;<span class="string" id="5750432">&#39;b&#39;</span><span class="op" id="5750435">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750440">if</span>&nbsp;<span class="ident" id="5750443">s</span><span class="op" id="5750444">.</span><span class="ident" id="5750445">Name</span>&nbsp;<span class="op" id="5750450">==</span>&nbsp;<span class="ident" id="5750453">name</span>&nbsp;<span class="op" id="5750458">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750464">return</span>&nbsp;<span class="ident" id="5750471">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5750476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5750480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5750483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750486">return</span>&nbsp;<span class="ident" id="5750493">nil</span><br>
<span class="lineno">550</span><span class="op" id="5750497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5750500">//&nbsp;LookupFunc&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5750573">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5750611">func</span>&nbsp;<span class="op" id="5750616">(</span><span class="ident" id="5750617">t</span>&nbsp;<span class="op" id="5750619">*</span><span class="ident" id="5750620">Table</span><span class="op" id="5750625">)</span>&nbsp;<span class="ident" id="5750627">LookupFunc</span><span class="op" id="5750637">(</span><span class="ident" id="5750638">name</span>&nbsp;<span class="builtintype" id="5750643">string</span><span class="op" id="5750649">)</span>&nbsp;<span class="op" id="5750651">*</span><span class="ident" id="5750652">Func</span>&nbsp;<span class="op" id="5750657">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750660">for</span>&nbsp;<span class="ident" id="5750664">i</span>&nbsp;<span class="op" id="5750666">:=</span>&nbsp;<span class="keyword" id="5750669">range</span>&nbsp;<span class="ident" id="5750675">t</span><span class="op" id="5750676">.</span><span class="ident" id="5750677">Funcs</span>&nbsp;<span class="op" id="5750683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5750687">f</span>&nbsp;<span class="op" id="5750689">:=</span>&nbsp;<span class="op" id="5750692">&amp;</span><span class="ident" id="5750693">t</span><span class="op" id="5750694">.</span><span class="ident" id="5750695">Funcs</span><span class="op" id="5750700">[</span><span class="ident" id="5750701">i</span><span class="op" id="5750702">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750706">if</span>&nbsp;<span class="ident" id="5750709">f</span><span class="op" id="5750710">.</span><span class="ident" id="5750711">Sym</span><span class="op" id="5750714">.</span><span class="ident" id="5750715">Name</span>&nbsp;<span class="op" id="5750720">==</span>&nbsp;<span class="ident" id="5750723">name</span>&nbsp;<span class="op" id="5750728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750733">return</span>&nbsp;<span class="ident" id="5750740">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5750744">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5750747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750750">return</span>&nbsp;<span class="ident" id="5750757">nil</span><br>
<span class="lineno"></span><span class="op" id="5750761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5750764">//&nbsp;SymByAddr&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;starting&nbsp;at&nbsp;the&nbsp;given&nbsp;address.</span><br>
<span class="lineno">565</span><span class="keyword" id="5750846">func</span>&nbsp;<span class="op" id="5750851">(</span><span class="ident" id="5750852">t</span>&nbsp;<span class="op" id="5750854">*</span><span class="ident" id="5750855">Table</span><span class="op" id="5750860">)</span>&nbsp;<span class="ident" id="5750862">SymByAddr</span><span class="op" id="5750871">(</span><span class="ident" id="5750872">addr</span>&nbsp;<span class="ident" id="5750877">uint64</span><span class="op" id="5750883">)</span>&nbsp;<span class="op" id="5750885">*</span><span class="ident" id="5750886">Sym</span>&nbsp;<span class="op" id="5750890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750893">for</span>&nbsp;<span class="ident" id="5750897">i</span>&nbsp;<span class="op" id="5750899">:=</span>&nbsp;<span class="keyword" id="5750902">range</span>&nbsp;<span class="ident" id="5750908">t</span><span class="op" id="5750909">.</span><span class="ident" id="5750910">Syms</span>&nbsp;<span class="op" id="5750915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5750919">s</span>&nbsp;<span class="op" id="5750921">:=</span>&nbsp;<span class="op" id="5750924">&amp;</span><span class="ident" id="5750925">t</span><span class="op" id="5750926">.</span><span class="ident" id="5750927">Syms</span><span class="op" id="5750931">[</span><span class="ident" id="5750932">i</span><span class="op" id="5750933">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750937">switch</span>&nbsp;<span class="ident" id="5750944">s</span><span class="op" id="5750945">.</span><span class="ident" id="5750946">Type</span>&nbsp;<span class="op" id="5750951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5750955">case</span>&nbsp;<span class="string" id="5750960">&#39;T&#39;</span><span class="op" id="5750963">,</span>&nbsp;<span class="string" id="5750965">&#39;t&#39;</span><span class="op" id="5750968">,</span>&nbsp;<span class="string" id="5750970">&#39;L&#39;</span><span class="op" id="5750973">,</span>&nbsp;<span class="string" id="5750975">&#39;l&#39;</span><span class="op" id="5750978">,</span>&nbsp;<span class="string" id="5750980">&#39;D&#39;</span><span class="op" id="5750983">,</span>&nbsp;<span class="string" id="5750985">&#39;d&#39;</span><span class="op" id="5750988">,</span>&nbsp;<span class="string" id="5750990">&#39;B&#39;</span><span class="op" id="5750993">,</span>&nbsp;<span class="string" id="5750995">&#39;b&#39;</span><span class="op" id="5750998">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751003">if</span>&nbsp;<span class="ident" id="5751006">s</span><span class="op" id="5751007">.</span><span class="ident" id="5751008">Value</span>&nbsp;<span class="op" id="5751014">==</span>&nbsp;<span class="ident" id="5751017">addr</span>&nbsp;<span class="op" id="5751022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751028">return</span>&nbsp;<span class="ident" id="5751035">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5751040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5751044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5751047">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751050">return</span>&nbsp;<span class="ident" id="5751057">nil</span><br>
<span class="lineno"></span><span class="op" id="5751061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5751064">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Object&nbsp;files<br>
<span class="lineno">580</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5751088">//&nbsp;This&nbsp;is&nbsp;legacy&nbsp;code&nbsp;for&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;which&nbsp;used&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5751150">//&nbsp;Plan&nbsp;9&nbsp;format&nbsp;for&nbsp;pc-line&nbsp;tables.&nbsp;This&nbsp;code&nbsp;was&nbsp;never&nbsp;quite</span><br>
<span class="lineno"></span><span class="comment" id="5751213">//&nbsp;correct.&nbsp;It&#39;s&nbsp;probably&nbsp;very&nbsp;close,&nbsp;and&nbsp;it&#39;s&nbsp;usually&nbsp;correct,&nbsp;but</span><br>
<span class="lineno">585</span><span class="comment" id="5751281">//&nbsp;we&nbsp;never&nbsp;quite&nbsp;found&nbsp;all&nbsp;the&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="5751327">//</span><br>
<span class="lineno"></span><span class="comment" id="5751330">//&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;use&nbsp;a&nbsp;simpler&nbsp;format,&nbsp;documented&nbsp;at&nbsp;golang.org/s/go12symtab.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5751412">func</span>&nbsp;<span class="op" id="5751417">(</span><span class="ident" id="5751418">o</span>&nbsp;<span class="op" id="5751420">*</span><span class="ident" id="5751421">Obj</span><span class="op" id="5751424">)</span>&nbsp;<span class="ident" id="5751426">lineFromAline</span><span class="op" id="5751439">(</span><span class="ident" id="5751440">aline</span>&nbsp;<span class="builtintype" id="5751446">int</span><span class="op" id="5751449">)</span>&nbsp;<span class="op" id="5751451">(</span><span class="builtintype" id="5751452">string</span><span class="op" id="5751458">,</span>&nbsp;<span class="builtintype" id="5751460">int</span><span class="op" id="5751463">)</span>&nbsp;<span class="op" id="5751465">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751468">type</span>&nbsp;<span class="ident" id="5751473">stackEnt</span>&nbsp;<span class="keyword" id="5751482">struct</span>&nbsp;<span class="op" id="5751489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751493">path</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5751500">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751509">start</span>&nbsp;&nbsp;<span class="builtintype" id="5751516">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751522">offset</span>&nbsp;<span class="builtintype" id="5751529">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751535">prev</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5751542">*</span><span class="ident" id="5751543">stackEnt</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5751553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751557">noPath</span>&nbsp;<span class="op" id="5751564">:=</span>&nbsp;<span class="op" id="5751567">&amp;</span><span class="ident" id="5751568">stackEnt</span><span class="op" id="5751576">{</span><span class="string" id="5751577">&#34;&#34;</span><span class="op" id="5751579">,</span>&nbsp;<span class="num" id="5751581">0</span><span class="op" id="5751582">,</span>&nbsp;<span class="num" id="5751584">0</span><span class="op" id="5751585">,</span>&nbsp;<span class="ident" id="5751587">nil</span><span class="op" id="5751590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751593">tos</span>&nbsp;<span class="op" id="5751597">:=</span>&nbsp;<span class="ident" id="5751600">noPath</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="ident" id="5751608">pathloop</span><span class="op" id="5751616">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751619">for</span>&nbsp;<span class="ident" id="5751623">_</span><span class="op" id="5751624">,</span>&nbsp;<span class="ident" id="5751626">s</span>&nbsp;<span class="op" id="5751628">:=</span>&nbsp;<span class="keyword" id="5751631">range</span>&nbsp;<span class="ident" id="5751637">o</span><span class="op" id="5751638">.</span><span class="ident" id="5751639">Paths</span>&nbsp;<span class="op" id="5751645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751649">val</span>&nbsp;<span class="op" id="5751653">:=</span>&nbsp;<span class="builtintype" id="5751656">int</span><span class="op" id="5751659">(</span><span class="ident" id="5751660">s</span><span class="op" id="5751661">.</span><span class="ident" id="5751662">Value</span><span class="op" id="5751667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751671">switch</span>&nbsp;<span class="op" id="5751678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751682">case</span>&nbsp;<span class="ident" id="5751687">val</span>&nbsp;<span class="op" id="5751691">&gt;</span>&nbsp;<span class="ident" id="5751693">aline</span><span class="op" id="5751698">:</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751703">break</span>&nbsp;<span class="ident" id="5751709">pathloop</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751721">case</span>&nbsp;<span class="ident" id="5751726">val</span>&nbsp;<span class="op" id="5751730">==</span>&nbsp;<span class="num" id="5751733">1</span><span class="op" id="5751734">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5751739">//&nbsp;Start&nbsp;a&nbsp;new&nbsp;stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751763">tos</span>&nbsp;<span class="op" id="5751767">=</span>&nbsp;<span class="op" id="5751769">&amp;</span><span class="ident" id="5751770">stackEnt</span><span class="op" id="5751778">{</span><span class="ident" id="5751779">s</span><span class="op" id="5751780">.</span><span class="ident" id="5751781">Name</span><span class="op" id="5751785">,</span>&nbsp;<span class="ident" id="5751787">val</span><span class="op" id="5751790">,</span>&nbsp;<span class="num" id="5751792">0</span><span class="op" id="5751793">,</span>&nbsp;<span class="ident" id="5751795">noPath</span><span class="op" id="5751801">}</span><br>
<span class="lineno">610</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751806">case</span>&nbsp;<span class="ident" id="5751811">s</span><span class="op" id="5751812">.</span><span class="ident" id="5751813">Name</span>&nbsp;<span class="op" id="5751818">==</span>&nbsp;<span class="string" id="5751821">&#34;&#34;</span><span class="op" id="5751823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5751828">//&nbsp;Pop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751838">if</span>&nbsp;<span class="ident" id="5751841">tos</span>&nbsp;<span class="op" id="5751845">==</span>&nbsp;<span class="ident" id="5751848">noPath</span>&nbsp;<span class="op" id="5751855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751861">return</span>&nbsp;<span class="string" id="5751868">&#34;&lt;malformed&nbsp;symbol&nbsp;table&gt;&#34;</span><span class="op" id="5751894">,</span>&nbsp;<span class="num" id="5751896">0</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5751901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751906">tos</span><span class="op" id="5751909">.</span><span class="ident" id="5751910">prev</span><span class="op" id="5751914">.</span><span class="ident" id="5751915">offset</span>&nbsp;<span class="op" id="5751922">+=</span>&nbsp;<span class="ident" id="5751925">val</span>&nbsp;<span class="op" id="5751929">-</span>&nbsp;<span class="ident" id="5751931">tos</span><span class="op" id="5751934">.</span><span class="ident" id="5751935">start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751944">tos</span>&nbsp;<span class="op" id="5751948">=</span>&nbsp;<span class="ident" id="5751950">tos</span><span class="op" id="5751953">.</span><span class="ident" id="5751954">prev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5751962">default</span><span class="op" id="5751969">:</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5751974">//&nbsp;Push</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5751985">tos</span>&nbsp;<span class="op" id="5751989">=</span>&nbsp;<span class="op" id="5751991">&amp;</span><span class="ident" id="5751992">stackEnt</span><span class="op" id="5752000">{</span><span class="ident" id="5752001">s</span><span class="op" id="5752002">.</span><span class="ident" id="5752003">Name</span><span class="op" id="5752007">,</span>&nbsp;<span class="ident" id="5752009">val</span><span class="op" id="5752012">,</span>&nbsp;<span class="num" id="5752014">0</span><span class="op" id="5752015">,</span>&nbsp;<span class="ident" id="5752017">tos</span><span class="op" id="5752020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752031">if</span>&nbsp;<span class="ident" id="5752034">tos</span>&nbsp;<span class="op" id="5752038">==</span>&nbsp;<span class="ident" id="5752041">noPath</span>&nbsp;<span class="op" id="5752048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752052">return</span>&nbsp;<span class="string" id="5752059">&#34;&#34;</span><span class="op" id="5752061">,</span>&nbsp;<span class="num" id="5752063">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752069">return</span>&nbsp;<span class="ident" id="5752076">tos</span><span class="op" id="5752079">.</span><span class="ident" id="5752080">path</span><span class="op" id="5752084">,</span>&nbsp;<span class="ident" id="5752086">aline</span>&nbsp;<span class="op" id="5752092">-</span>&nbsp;<span class="ident" id="5752094">tos</span><span class="op" id="5752097">.</span><span class="ident" id="5752098">start</span>&nbsp;<span class="op" id="5752104">-</span>&nbsp;<span class="ident" id="5752106">tos</span><span class="op" id="5752109">.</span><span class="ident" id="5752110">offset</span>&nbsp;<span class="op" id="5752117">+</span>&nbsp;<span class="num" id="5752119">1</span><br>
<span class="lineno"></span><span class="op" id="5752121">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="5752124">func</span>&nbsp;<span class="op" id="5752129">(</span><span class="ident" id="5752130">o</span>&nbsp;<span class="op" id="5752132">*</span><span class="ident" id="5752133">Obj</span><span class="op" id="5752136">)</span>&nbsp;<span class="ident" id="5752138">alineFromLine</span><span class="op" id="5752151">(</span><span class="ident" id="5752152">path</span>&nbsp;<span class="builtintype" id="5752157">string</span><span class="op" id="5752163">,</span>&nbsp;<span class="ident" id="5752165">line</span>&nbsp;<span class="builtintype" id="5752170">int</span><span class="op" id="5752173">)</span>&nbsp;<span class="op" id="5752175">(</span><span class="builtintype" id="5752176">int</span><span class="op" id="5752179">,</span>&nbsp;<span class="builtintype" id="5752181">error</span><span class="op" id="5752186">)</span>&nbsp;<span class="op" id="5752188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752191">if</span>&nbsp;<span class="ident" id="5752194">line</span>&nbsp;<span class="op" id="5752199">&lt;</span>&nbsp;<span class="num" id="5752201">1</span>&nbsp;<span class="op" id="5752203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752207">return</span>&nbsp;<span class="num" id="5752214">0</span><span class="op" id="5752215">,</span>&nbsp;<span class="op" id="5752217">&amp;</span><span class="ident" id="5752218">UnknownLineError</span><span class="op" id="5752234">{</span><span class="ident" id="5752235">path</span><span class="op" id="5752239">,</span>&nbsp;<span class="ident" id="5752241">line</span><span class="op" id="5752245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752248">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752252">for</span>&nbsp;<span class="ident" id="5752256">i</span><span class="op" id="5752257">,</span>&nbsp;<span class="ident" id="5752259">s</span>&nbsp;<span class="op" id="5752261">:=</span>&nbsp;<span class="keyword" id="5752264">range</span>&nbsp;<span class="ident" id="5752270">o</span><span class="op" id="5752271">.</span><span class="ident" id="5752272">Paths</span>&nbsp;<span class="op" id="5752278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5752282">//&nbsp;Find&nbsp;this&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752302">if</span>&nbsp;<span class="ident" id="5752305">s</span><span class="op" id="5752306">.</span><span class="ident" id="5752307">Name</span>&nbsp;<span class="op" id="5752312">!=</span>&nbsp;<span class="ident" id="5752315">path</span>&nbsp;<span class="op" id="5752320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752325">continue</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5752341">//&nbsp;Find&nbsp;this&nbsp;line&nbsp;at&nbsp;this&nbsp;stack&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5752381">depth</span>&nbsp;<span class="op" id="5752387">:=</span>&nbsp;<span class="num" id="5752390">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752394">var</span>&nbsp;<span class="ident" id="5752398">incstart</span>&nbsp;<span class="builtintype" id="5752407">int</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5752413">line</span>&nbsp;<span class="op" id="5752418">+=</span>&nbsp;<span class="builtintype" id="5752421">int</span><span class="op" id="5752424">(</span><span class="ident" id="5752425">s</span><span class="op" id="5752426">.</span><span class="ident" id="5752427">Value</span><span class="op" id="5752432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5752435">pathloop</span><span class="op" id="5752443">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752447">for</span>&nbsp;<span class="ident" id="5752451">_</span><span class="op" id="5752452">,</span>&nbsp;<span class="ident" id="5752454">s</span>&nbsp;<span class="op" id="5752456">:=</span>&nbsp;<span class="keyword" id="5752459">range</span>&nbsp;<span class="ident" id="5752465">o</span><span class="op" id="5752466">.</span><span class="ident" id="5752467">Paths</span><span class="op" id="5752472">[</span><span class="ident" id="5752473">i</span><span class="op" id="5752474">:</span><span class="op" id="5752475">]</span>&nbsp;<span class="op" id="5752477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5752482">val</span>&nbsp;<span class="op" id="5752486">:=</span>&nbsp;<span class="builtintype" id="5752489">int</span><span class="op" id="5752492">(</span><span class="ident" id="5752493">s</span><span class="op" id="5752494">.</span><span class="ident" id="5752495">Value</span><span class="op" id="5752500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752505">switch</span>&nbsp;<span class="op" id="5752512">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752517">case</span>&nbsp;<span class="ident" id="5752522">depth</span>&nbsp;<span class="op" id="5752528">==</span>&nbsp;<span class="num" id="5752531">1</span>&nbsp;<span class="op" id="5752533">&amp;&amp;</span>&nbsp;<span class="ident" id="5752536">val</span>&nbsp;<span class="op" id="5752540">&gt;=</span>&nbsp;<span class="ident" id="5752543">line</span><span class="op" id="5752547">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752553">return</span>&nbsp;<span class="ident" id="5752560">line</span>&nbsp;<span class="op" id="5752565">-</span>&nbsp;<span class="num" id="5752567">1</span><span class="op" id="5752568">,</span>&nbsp;<span class="ident" id="5752570">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752578">case</span>&nbsp;<span class="ident" id="5752583">s</span><span class="op" id="5752584">.</span><span class="ident" id="5752585">Name</span>&nbsp;<span class="op" id="5752590">==</span>&nbsp;<span class="string" id="5752593">&#34;&#34;</span><span class="op" id="5752595">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5752601">depth</span><span class="op" id="5752606">--</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752613">if</span>&nbsp;<span class="ident" id="5752616">depth</span>&nbsp;<span class="op" id="5752622">==</span>&nbsp;<span class="num" id="5752625">0</span>&nbsp;<span class="op" id="5752627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752634">break</span>&nbsp;<span class="ident" id="5752640">pathloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752653">}</span>&nbsp;<span class="keyword" id="5752655">else</span>&nbsp;<span class="keyword" id="5752660">if</span>&nbsp;<span class="ident" id="5752663">depth</span>&nbsp;<span class="op" id="5752669">==</span>&nbsp;<span class="num" id="5752672">1</span>&nbsp;<span class="op" id="5752674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5752681">line</span>&nbsp;<span class="op" id="5752686">+=</span>&nbsp;<span class="ident" id="5752689">val</span>&nbsp;<span class="op" id="5752693">-</span>&nbsp;<span class="ident" id="5752695">incstart</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752708">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752714">default</span><span class="op" id="5752721">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752727">if</span>&nbsp;<span class="ident" id="5752730">depth</span>&nbsp;<span class="op" id="5752736">==</span>&nbsp;<span class="num" id="5752739">1</span>&nbsp;<span class="op" id="5752741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5752748">incstart</span>&nbsp;<span class="op" id="5752757">=</span>&nbsp;<span class="ident" id="5752759">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752767">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5752773">depth</span><span class="op" id="5752778">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752792">return</span>&nbsp;<span class="num" id="5752799">0</span><span class="op" id="5752800">,</span>&nbsp;<span class="op" id="5752802">&amp;</span><span class="ident" id="5752803">UnknownLineError</span><span class="op" id="5752819">{</span><span class="ident" id="5752820">path</span><span class="op" id="5752824">,</span>&nbsp;<span class="ident" id="5752826">line</span><span class="op" id="5752830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5752833">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5752836">return</span>&nbsp;<span class="num" id="5752843">0</span><span class="op" id="5752844">,</span>&nbsp;<span class="ident" id="5752846">UnknownFileError</span><span class="op" id="5752862">(</span><span class="ident" id="5752863">path</span><span class="op" id="5752867">)</span><br>
<span class="lineno"></span><span class="op" id="5752869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5752872">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Errors<br>
<span class="lineno">675</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5752890">//&nbsp;UnknownFileError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;find&nbsp;the&nbsp;specific&nbsp;file&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5752960">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5752981">type</span>&nbsp;<span class="ident" id="5752986">UnknownFileError</span>&nbsp;<span class="builtintype" id="5753003">string</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="5753011">func</span>&nbsp;<span class="op" id="5753016">(</span><span class="ident" id="5753017">e</span>&nbsp;<span class="ident" id="5753019">UnknownFileError</span><span class="op" id="5753035">)</span>&nbsp;<span class="ident" id="5753037">Error</span><span class="op" id="5753042">(</span><span class="op" id="5753043">)</span>&nbsp;<span class="builtintype" id="5753045">string</span>&nbsp;<span class="op" id="5753052">{</span>&nbsp;<span class="keyword" id="5753054">return</span>&nbsp;<span class="string" id="5753061">&#34;unknown&nbsp;file:&nbsp;&#34;</span>&nbsp;<span class="op" id="5753078">+</span>&nbsp;<span class="builtintype" id="5753080">string</span><span class="op" id="5753086">(</span><span class="ident" id="5753087">e</span><span class="op" id="5753088">)</span>&nbsp;<span class="op" id="5753090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5753093">//&nbsp;UnknownLineError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;map&nbsp;a&nbsp;line&nbsp;to&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="5753161">//&nbsp;counter,&nbsp;either&nbsp;because&nbsp;the&nbsp;line&nbsp;is&nbsp;beyond&nbsp;the&nbsp;bounds&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno">685</span><span class="comment" id="5753230">//&nbsp;or&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;code&nbsp;on&nbsp;the&nbsp;given&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="5753280">type</span>&nbsp;<span class="ident" id="5753285">UnknownLineError</span>&nbsp;<span class="keyword" id="5753302">struct</span>&nbsp;<span class="op" id="5753309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5753312">File</span>&nbsp;<span class="builtintype" id="5753317">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5753325">Line</span>&nbsp;<span class="builtintype" id="5753330">int</span><br>
<span class="lineno"></span><span class="op" id="5753334">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span><span class="keyword" id="5753337">func</span>&nbsp;<span class="op" id="5753342">(</span><span class="ident" id="5753343">e</span>&nbsp;<span class="op" id="5753345">*</span><span class="ident" id="5753346">UnknownLineError</span><span class="op" id="5753362">)</span>&nbsp;<span class="ident" id="5753364">Error</span><span class="op" id="5753369">(</span><span class="op" id="5753370">)</span>&nbsp;<span class="builtintype" id="5753372">string</span>&nbsp;<span class="op" id="5753379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5753382">return</span>&nbsp;<span class="string" id="5753389">&#34;no&nbsp;code&nbsp;at&nbsp;&#34;</span>&nbsp;<span class="op" id="5753403">+</span>&nbsp;<span class="ident" id="5753405">e</span><span class="op" id="5753406">.</span><span class="ident" id="5753407">File</span>&nbsp;<span class="op" id="5753412">+</span>&nbsp;<span class="string" id="5753414">&#34;:&#34;</span>&nbsp;<span class="op" id="5753418">+</span>&nbsp;<span class="ident" id="5753420">strconv</span><span class="op" id="5753427">.</span><span class="ident" id="5753428">Itoa</span><span class="op" id="5753432">(</span><span class="ident" id="5753433">e</span><span class="op" id="5753434">.</span><span class="ident" id="5753435">Line</span><span class="op" id="5753439">)</span><br>
<span class="lineno"></span><span class="op" id="5753441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span><span class="comment" id="5753444">//&nbsp;DecodingError&nbsp;represents&nbsp;an&nbsp;error&nbsp;during&nbsp;the&nbsp;decoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5753504">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5753525">type</span>&nbsp;<span class="ident" id="5753530">DecodingError</span>&nbsp;<span class="keyword" id="5753544">struct</span>&nbsp;<span class="op" id="5753551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5753554">off</span>&nbsp;<span class="builtintype" id="5753558">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5753563">msg</span>&nbsp;<span class="builtintype" id="5753567">string</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5753575">val</span>&nbsp;<span class="keyword" id="5753579">interface</span><span class="op" id="5753588">{</span><span class="op" id="5753589">}</span><br>
<span class="lineno"></span><span class="op" id="5753591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5753594">func</span>&nbsp;<span class="op" id="5753599">(</span><span class="ident" id="5753600">e</span>&nbsp;<span class="op" id="5753602">*</span><span class="ident" id="5753603">DecodingError</span><span class="op" id="5753616">)</span>&nbsp;<span class="ident" id="5753618">Error</span><span class="op" id="5753623">(</span><span class="op" id="5753624">)</span>&nbsp;<span class="builtintype" id="5753626">string</span>&nbsp;<span class="op" id="5753633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5753636">msg</span>&nbsp;<span class="op" id="5753640">:=</span>&nbsp;<span class="ident" id="5753643">e</span><span class="op" id="5753644">.</span><span class="ident" id="5753645">msg</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5753650">if</span>&nbsp;<span class="ident" id="5753653">e</span><span class="op" id="5753654">.</span><span class="ident" id="5753655">val</span>&nbsp;<span class="op" id="5753659">!=</span>&nbsp;<span class="ident" id="5753662">nil</span>&nbsp;<span class="op" id="5753666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5753670">msg</span>&nbsp;<span class="op" id="5753674">+=</span>&nbsp;<span class="ident" id="5753677">fmt</span><span class="op" id="5753680">.</span><span class="ident" id="5753681">Sprintf</span><span class="op" id="5753688">(</span><span class="string" id="5753689">&#34;&nbsp;&#39;%v&#39;&#34;</span><span class="op" id="5753696">,</span>&nbsp;<span class="ident" id="5753698">e</span><span class="op" id="5753699">.</span><span class="ident" id="5753700">val</span><span class="op" id="5753703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5753706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5753709">msg</span>&nbsp;<span class="op" id="5753713">+=</span>&nbsp;<span class="ident" id="5753716">fmt</span><span class="op" id="5753719">.</span><span class="ident" id="5753720">Sprintf</span><span class="op" id="5753727">(</span><span class="string" id="5753728">&#34;&nbsp;at&nbsp;byte&nbsp;%#x&#34;</span><span class="op" id="5753742">,</span>&nbsp;<span class="ident" id="5753744">e</span><span class="op" id="5753745">.</span><span class="ident" id="5753746">off</span><span class="op" id="5753749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5753752">return</span>&nbsp;<span class="ident" id="5753759">msg</span><br>
<span class="lineno">710</span><span class="op" id="5753763">}</span>
</div>
</body>
</html>
