<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/binary</h2>
<ul>
<li><a href="/gostd/encoding/binary/binary.go.html">binary.go</a></li>
<li><a href="/gostd/encoding/binary/binary_test.go.html">binary_test.go</a></li>
<li><a href="/gostd/encoding/binary/example_test.go.html" class="current">example_test.go</a></li>
<li><a href="/gostd/encoding/binary/varint.go.html">varint.go</a></li>
<li><a href="/gostd/encoding/binary/varint_test.go.html">varint_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="166742">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="166798">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="166852">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="166903">package</span>&nbsp;<span class="ident" id="166911">binary_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="166924">import</span>&nbsp;<span class="op" id="166931">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="166934">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="166943">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="166962">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="166969">&#34;math&#34;</span><br>
<span class="lineno"></span><span class="op" id="166976">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="166979">func</span>&nbsp;<span class="ident" id="166984">ExampleWrite</span><span class="op" id="166996">(</span><span class="op" id="166997">)</span>&nbsp;<span class="op" id="166999">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167002">buf</span>&nbsp;<span class="op" id="167006">:=</span>&nbsp;<span class="builtinfunc" id="167009">new</span><span class="op" id="167012">(</span><span class="ident" id="167013">bytes</span><span class="op" id="167018">.</span><span class="ident" id="167019">Buffer</span><span class="op" id="167025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="167028">var</span>&nbsp;<span class="ident" id="167032">pi</span>&nbsp;<span class="builtintype" id="167035">float64</span>&nbsp;<span class="op" id="167043">=</span>&nbsp;<span class="ident" id="167045">math</span><span class="op" id="167049">.</span><span class="ident" id="167050">Pi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167054">err</span>&nbsp;<span class="op" id="167058">:=</span>&nbsp;<span class="ident" id="167061">binary</span><span class="op" id="167067">.</span><span class="ident" id="167068">Write</span><span class="op" id="167073">(</span><span class="ident" id="167074">buf</span><span class="op" id="167077">,</span>&nbsp;<span class="ident" id="167079">binary</span><span class="op" id="167085">.</span><span class="ident" id="167086">LittleEndian</span><span class="op" id="167098">,</span>&nbsp;<span class="ident" id="167100">pi</span><span class="op" id="167102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="167105">if</span>&nbsp;<span class="ident" id="167108">err</span>&nbsp;<span class="op" id="167112">!=</span>&nbsp;<span class="ident" id="167115">nil</span>&nbsp;<span class="op" id="167119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167123">fmt</span><span class="op" id="167126">.</span><span class="ident" id="167127">Println</span><span class="op" id="167134">(</span><span class="string" id="167135">&#34;binary.Write&nbsp;failed:&#34;</span><span class="op" id="167157">,</span>&nbsp;<span class="ident" id="167159">err</span><span class="op" id="167162">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="167165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167168">fmt</span><span class="op" id="167171">.</span><span class="ident" id="167172">Printf</span><span class="op" id="167178">(</span><span class="string" id="167179">&#34;%&nbsp;x&#34;</span><span class="op" id="167184">,</span>&nbsp;<span class="ident" id="167186">buf</span><span class="op" id="167189">.</span><span class="ident" id="167190">Bytes</span><span class="op" id="167195">(</span><span class="op" id="167196">)</span><span class="op" id="167197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="167200">//&nbsp;Output:&nbsp;18&nbsp;2d&nbsp;44&nbsp;54&nbsp;fb&nbsp;21&nbsp;09&nbsp;40</span><br>
<span class="lineno"></span><span class="op" id="167235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="167238">func</span>&nbsp;<span class="ident" id="167243">ExampleWrite_multi</span><span class="op" id="167261">(</span><span class="op" id="167262">)</span>&nbsp;<span class="op" id="167264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167267">buf</span>&nbsp;<span class="op" id="167271">:=</span>&nbsp;<span class="builtinfunc" id="167274">new</span><span class="op" id="167277">(</span><span class="ident" id="167278">bytes</span><span class="op" id="167283">.</span><span class="ident" id="167284">Buffer</span><span class="op" id="167290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="167293">var</span>&nbsp;<span class="ident" id="167297">data</span>&nbsp;<span class="op" id="167302">=</span>&nbsp;<span class="op" id="167304">[</span><span class="op" id="167305">]</span><span class="keyword" id="167306">interface</span><span class="op" id="167315">{</span><span class="op" id="167316">}</span><span class="op" id="167317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="167321">uint16</span><span class="op" id="167327">(</span><span class="num" id="167328">61374</span><span class="op" id="167333">)</span><span class="op" id="167334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="167338">int8</span><span class="op" id="167342">(</span><span class="op" id="167343">-</span><span class="num" id="167344">54</span><span class="op" id="167346">)</span><span class="op" id="167347">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="167351">uint8</span><span class="op" id="167356">(</span><span class="num" id="167357">254</span><span class="op" id="167360">)</span><span class="op" id="167361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="167364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="167367">for</span>&nbsp;<span class="ident" id="167371">_</span><span class="op" id="167372">,</span>&nbsp;<span class="ident" id="167374">v</span>&nbsp;<span class="op" id="167376">:=</span>&nbsp;<span class="keyword" id="167379">range</span>&nbsp;<span class="ident" id="167385">data</span>&nbsp;<span class="op" id="167390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167394">err</span>&nbsp;<span class="op" id="167398">:=</span>&nbsp;<span class="ident" id="167401">binary</span><span class="op" id="167407">.</span><span class="ident" id="167408">Write</span><span class="op" id="167413">(</span><span class="ident" id="167414">buf</span><span class="op" id="167417">,</span>&nbsp;<span class="ident" id="167419">binary</span><span class="op" id="167425">.</span><span class="ident" id="167426">LittleEndian</span><span class="op" id="167438">,</span>&nbsp;<span class="ident" id="167440">v</span><span class="op" id="167441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="167445">if</span>&nbsp;<span class="ident" id="167448">err</span>&nbsp;<span class="op" id="167452">!=</span>&nbsp;<span class="ident" id="167455">nil</span>&nbsp;<span class="op" id="167459">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167464">fmt</span><span class="op" id="167467">.</span><span class="ident" id="167468">Println</span><span class="op" id="167475">(</span><span class="string" id="167476">&#34;binary.Write&nbsp;failed:&#34;</span><span class="op" id="167498">,</span>&nbsp;<span class="ident" id="167500">err</span><span class="op" id="167503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="167507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="167510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167513">fmt</span><span class="op" id="167516">.</span><span class="ident" id="167517">Printf</span><span class="op" id="167523">(</span><span class="string" id="167524">&#34;%x&#34;</span><span class="op" id="167528">,</span>&nbsp;<span class="ident" id="167530">buf</span><span class="op" id="167533">.</span><span class="ident" id="167534">Bytes</span><span class="op" id="167539">(</span><span class="op" id="167540">)</span><span class="op" id="167541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="167544">//&nbsp;Output:&nbsp;beefcafe</span><br>
<span class="lineno">40</span><span class="op" id="167564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="167567">func</span>&nbsp;<span class="ident" id="167572">ExampleRead</span><span class="op" id="167583">(</span><span class="op" id="167584">)</span>&nbsp;<span class="op" id="167586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="167589">var</span>&nbsp;<span class="ident" id="167593">pi</span>&nbsp;<span class="builtintype" id="167596">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167605">b</span>&nbsp;<span class="op" id="167607">:=</span>&nbsp;<span class="op" id="167610">[</span><span class="op" id="167611">]</span><span class="builtintype" id="167612">byte</span><span class="op" id="167616">{</span><span class="num" id="167617">0x18</span><span class="op" id="167621">,</span>&nbsp;<span class="num" id="167623">0x2d</span><span class="op" id="167627">,</span>&nbsp;<span class="num" id="167629">0x44</span><span class="op" id="167633">,</span>&nbsp;<span class="num" id="167635">0x54</span><span class="op" id="167639">,</span>&nbsp;<span class="num" id="167641">0xfb</span><span class="op" id="167645">,</span>&nbsp;<span class="num" id="167647">0x21</span><span class="op" id="167651">,</span>&nbsp;<span class="num" id="167653">0x09</span><span class="op" id="167657">,</span>&nbsp;<span class="num" id="167659">0x40</span><span class="op" id="167663">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167666">buf</span>&nbsp;<span class="op" id="167670">:=</span>&nbsp;<span class="ident" id="167673">bytes</span><span class="op" id="167678">.</span><span class="ident" id="167679">NewReader</span><span class="op" id="167688">(</span><span class="ident" id="167689">b</span><span class="op" id="167690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167693">err</span>&nbsp;<span class="op" id="167697">:=</span>&nbsp;<span class="ident" id="167700">binary</span><span class="op" id="167706">.</span><span class="ident" id="167707">Read</span><span class="op" id="167711">(</span><span class="ident" id="167712">buf</span><span class="op" id="167715">,</span>&nbsp;<span class="ident" id="167717">binary</span><span class="op" id="167723">.</span><span class="ident" id="167724">LittleEndian</span><span class="op" id="167736">,</span>&nbsp;<span class="op" id="167738">&amp;</span><span class="ident" id="167739">pi</span><span class="op" id="167741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="167744">if</span>&nbsp;<span class="ident" id="167747">err</span>&nbsp;<span class="op" id="167751">!=</span>&nbsp;<span class="ident" id="167754">nil</span>&nbsp;<span class="op" id="167758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167762">fmt</span><span class="op" id="167765">.</span><span class="ident" id="167766">Println</span><span class="op" id="167773">(</span><span class="string" id="167774">&#34;binary.Read&nbsp;failed:&#34;</span><span class="op" id="167795">,</span>&nbsp;<span class="ident" id="167797">err</span><span class="op" id="167800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="167803">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="167806">fmt</span><span class="op" id="167809">.</span><span class="ident" id="167810">Print</span><span class="op" id="167815">(</span><span class="ident" id="167816">pi</span><span class="op" id="167818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="167821">//&nbsp;Output:&nbsp;3.141592653589793</span><br>
<span class="lineno"></span><span class="op" id="167850">}</span>
</div>
</body>
</html>
