<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6705189">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6705245">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6705299">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6705350">package</span>&nbsp;<span class="ident" id="6705358">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6705367">//&nbsp;MakeRO&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;v&nbsp;with&nbsp;the&nbsp;read-only&nbsp;flag&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="6705426">func</span>&nbsp;<span class="ident" id="6705431">MakeRO</span><span class="op" id="6705437">(</span><span class="ident" id="6705438">v</span>&nbsp;<span class="ident" id="6705440"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="6705445">)</span>&nbsp;<span class="ident" id="6705447"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="6705453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705456"><a href="/reflect/export_test.go.html#6705438">v</a></span><span class="op" id="6705457">.</span><span class="ident" id="6705458">flag</span>&nbsp;<span class="op" id="6705463">|=</span>&nbsp;<span class="ident" id="6705466"><a href="/reflect/value.go.html#2448132">flagRO</a></span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705474">return</span>&nbsp;<span class="ident" id="6705481"><a href="/reflect/export_test.go.html#6705438">v</a></span><br>
<span class="lineno"></span><span class="op" id="6705483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6705486">//&nbsp;IsRO&nbsp;reports&nbsp;whether&nbsp;v&#39;s&nbsp;read-only&nbsp;flag&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="6705537">func</span>&nbsp;<span class="ident" id="6705542">IsRO</span><span class="op" id="6705546">(</span><span class="ident" id="6705547">v</span>&nbsp;<span class="ident" id="6705549"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="6705554">)</span>&nbsp;<span class="builtintype" id="6705556">bool</span>&nbsp;<span class="op" id="6705561">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705564">return</span>&nbsp;<span class="ident" id="6705571"><a href="/reflect/export_test.go.html#6705547">v</a></span><span class="op" id="6705572">.</span><span class="ident" id="6705573">flag</span><span class="op" id="6705577">&amp;</span><span class="ident" id="6705578"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="6705585">!=</span>&nbsp;<span class="num" id="6705588">0</span><br>
<span class="lineno"></span><span class="op" id="6705590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6705593">var</span>&nbsp;<span class="ident" id="6705597">ArrayOf</span>&nbsp;<span class="op" id="6705605">=</span>&nbsp;<span class="ident" id="6705607"><a href="/reflect/type.go.html#2439582">arrayOf</a></span><br>
<span class="lineno"></span><span class="keyword" id="6705615">var</span>&nbsp;<span class="ident" id="6705619">CallGC</span>&nbsp;<span class="op" id="6705626">=</span>&nbsp;<span class="op" id="6705628">&amp;</span><span class="ident" id="6705629"><a href="/reflect/value.go.html#2455722">callGC</a></span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6705637">const</span>&nbsp;<span class="ident" id="6705643">PtrSize</span>&nbsp;<span class="op" id="6705651">=</span>&nbsp;<span class="ident" id="6705653"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><br>
<span class="lineno"></span><span class="keyword" id="6705661">const</span>&nbsp;<span class="ident" id="6705667">BitsPointer</span>&nbsp;<span class="op" id="6705679">=</span>&nbsp;<span class="ident" id="6705681"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><br>
<span class="lineno"></span><span class="keyword" id="6705693">const</span>&nbsp;<span class="ident" id="6705699">BitsScalar</span>&nbsp;<span class="op" id="6705710">=</span>&nbsp;<span class="ident" id="6705712"><a href="/reflect/type.go.html#2437151">bitsScalar</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6705724">func</span>&nbsp;<span class="ident" id="6705729">FuncLayout</span><span class="op" id="6705739">(</span><span class="ident" id="6705740">t</span>&nbsp;<span class="ident" id="6705742"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="6705746">,</span>&nbsp;<span class="ident" id="6705748">rcvr</span>&nbsp;<span class="ident" id="6705753"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="6705757">)</span>&nbsp;<span class="op" id="6705759">(</span><span class="ident" id="6705760">frametype</span>&nbsp;<span class="ident" id="6705770"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="6705774">,</span>&nbsp;<span class="ident" id="6705776">argSize</span><span class="op" id="6705783">,</span>&nbsp;<span class="ident" id="6705785">retOffset</span>&nbsp;<span class="builtintype" id="6705795">uintptr</span><span class="op" id="6705802">,</span>&nbsp;<span class="ident" id="6705804">stack</span>&nbsp;<span class="op" id="6705810">[</span><span class="op" id="6705811">]</span><span class="builtintype" id="6705812">byte</span><span class="op" id="6705816">)</span>&nbsp;<span class="op" id="6705818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705821">var</span>&nbsp;<span class="ident" id="6705825">ft</span>&nbsp;<span class="op" id="6705828">*</span><span class="ident" id="6705829"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705836">var</span>&nbsp;<span class="ident" id="6705840">s</span>&nbsp;<span class="op" id="6705842">*</span><span class="ident" id="6705843"><a href="/reflect/type.go.html#2444416">bitVector</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705854">if</span>&nbsp;<span class="ident" id="6705857"><a href="/reflect/export_test.go.html#6705748">rcvr</a></span>&nbsp;<span class="op" id="6705862">!=</span>&nbsp;<span class="ident" id="6705865">nil</span>&nbsp;<span class="op" id="6705869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705873"><a href="/reflect/export_test.go.html#6705825">ft</a></span><span class="op" id="6705875">,</span>&nbsp;<span class="ident" id="6705877"><a href="/reflect/export_test.go.html#6705776">argSize</a></span><span class="op" id="6705884">,</span>&nbsp;<span class="ident" id="6705886"><a href="/reflect/export_test.go.html#6705785">retOffset</a></span><span class="op" id="6705895">,</span>&nbsp;<span class="ident" id="6705897"><a href="/reflect/export_test.go.html#6705840">s</a></span>&nbsp;<span class="op" id="6705899">=</span>&nbsp;<span class="ident" id="6705901"><a href="/reflect/type.go.html#2442017">funcLayout</a></span><span class="op" id="6705911">(</span><span class="ident" id="6705912"><a href="/reflect/export_test.go.html#6705740">t</a></span><span class="op" id="6705913">.</span><span class="op" id="6705914">(</span><span class="op" id="6705915">*</span><span class="ident" id="6705916"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="6705921">)</span><span class="op" id="6705922">,</span>&nbsp;<span class="ident" id="6705924"><a href="/reflect/export_test.go.html#6705748">rcvr</a></span><span class="op" id="6705928">.</span><span class="op" id="6705929">(</span><span class="op" id="6705930">*</span><span class="ident" id="6705931"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="6705936">)</span><span class="op" id="6705937">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705940">}</span>&nbsp;<span class="keyword" id="6705942">else</span>&nbsp;<span class="op" id="6705947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705951"><a href="/reflect/export_test.go.html#6705825">ft</a></span><span class="op" id="6705953">,</span>&nbsp;<span class="ident" id="6705955"><a href="/reflect/export_test.go.html#6705776">argSize</a></span><span class="op" id="6705962">,</span>&nbsp;<span class="ident" id="6705964"><a href="/reflect/export_test.go.html#6705785">retOffset</a></span><span class="op" id="6705973">,</span>&nbsp;<span class="ident" id="6705975"><a href="/reflect/export_test.go.html#6705840">s</a></span>&nbsp;<span class="op" id="6705977">=</span>&nbsp;<span class="ident" id="6705979"><a href="/reflect/type.go.html#2442017">funcLayout</a></span><span class="op" id="6705989">(</span><span class="ident" id="6705990"><a href="/reflect/export_test.go.html#6705740">t</a></span><span class="op" id="6705991">.</span><span class="op" id="6705992">(</span><span class="op" id="6705993">*</span><span class="ident" id="6705994"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="6705999">)</span><span class="op" id="6706000">,</span>&nbsp;<span class="ident" id="6706002">nil</span><span class="op" id="6706005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706011"><a href="/reflect/export_test.go.html#6705760">frametype</a></span>&nbsp;<span class="op" id="6706021">=</span>&nbsp;<span class="ident" id="6706023"><a href="/reflect/export_test.go.html#6705825">ft</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6706027">for</span>&nbsp;<span class="ident" id="6706031">i</span>&nbsp;<span class="op" id="6706033">:=</span>&nbsp;<span class="builtintype" id="6706036">uint32</span><span class="op" id="6706042">(</span><span class="num" id="6706043">0</span><span class="op" id="6706044">)</span><span class="op" id="6706045">;</span>&nbsp;<span class="ident" id="6706047"><a href="/reflect/export_test.go.html#6706031">i</a></span>&nbsp;<span class="op" id="6706049">&lt;</span>&nbsp;<span class="ident" id="6706051"><a href="/reflect/export_test.go.html#6705840">s</a></span><span class="op" id="6706052">.</span><span class="ident" id="6706053">n</span><span class="op" id="6706054">;</span>&nbsp;<span class="ident" id="6706056"><a href="/reflect/export_test.go.html#6706031">i</a></span>&nbsp;<span class="op" id="6706058">+=</span>&nbsp;<span class="num" id="6706061">2</span>&nbsp;<span class="op" id="6706063">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706067"><a href="/reflect/export_test.go.html#6705804">stack</a></span>&nbsp;<span class="op" id="6706073">=</span>&nbsp;<span class="builtinfunc" id="6706075">append</span><span class="op" id="6706081">(</span><span class="ident" id="6706082"><a href="/reflect/export_test.go.html#6705804">stack</a></span><span class="op" id="6706087">,</span>&nbsp;<span class="ident" id="6706089"><a href="/reflect/export_test.go.html#6705840">s</a></span><span class="op" id="6706090">.</span><span class="ident" id="6706091">data</span><span class="op" id="6706095">[</span><span class="ident" id="6706096"><a href="/reflect/export_test.go.html#6706031">i</a></span><span class="op" id="6706097">/</span><span class="num" id="6706098">8</span><span class="op" id="6706099">]</span><span class="op" id="6706100">&gt;&gt;</span><span class="op" id="6706102">(</span><span class="ident" id="6706103"><a href="/reflect/export_test.go.html#6706031">i</a></span><span class="op" id="6706104">%</span><span class="num" id="6706105">8</span><span class="op" id="6706106">)</span><span class="op" id="6706107">&amp;</span><span class="num" id="6706108">3</span><span class="op" id="6706109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6706115">return</span><br>
<span class="lineno"></span><span class="op" id="6706122">}</span>
</div>
</body>
</html>
