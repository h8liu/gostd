<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3534445">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3534501">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3534555">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3534606">package</span>&nbsp;<span class="ident" id="3534614">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3534622">import</span>&nbsp;<span class="op" id="3534629">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3534632">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3534638">&#34;path/filepath&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3534655">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3534666">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3534674">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3534681">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3534684">//&nbsp;Random&nbsp;number&nbsp;state.</span><br>
<span class="lineno"></span><span class="comment" id="3534708">//&nbsp;We&nbsp;generate&nbsp;random&nbsp;temporary&nbsp;file&nbsp;names&nbsp;so&nbsp;that&nbsp;there&#39;s&nbsp;a&nbsp;good</span><br>
<span class="lineno"></span><span class="comment" id="3534774">//&nbsp;chance&nbsp;the&nbsp;file&nbsp;doesn&#39;t&nbsp;exist&nbsp;yet&nbsp;-&nbsp;keeps&nbsp;the&nbsp;number&nbsp;of&nbsp;tries&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3534842">//&nbsp;TempFile&nbsp;to&nbsp;a&nbsp;minimum.</span><br>
<span class="lineno"></span><span class="keyword" id="3534868">var</span>&nbsp;<span class="ident" id="3534872">rand</span>&nbsp;<span class="builtintype" id="3534877">uint32</span><br>
<span class="lineno">20</span><span class="keyword" id="3534884">var</span>&nbsp;<span class="ident" id="3534888">randmu</span>&nbsp;<span class="ident" id="3534895">sync</span><span class="op" id="3534899">.</span><span class="ident" id="3534900">Mutex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3534907">func</span>&nbsp;<span class="ident" id="3534912">reseed</span><span class="op" id="3534918">(</span><span class="op" id="3534919">)</span>&nbsp;<span class="builtintype" id="3534921">uint32</span>&nbsp;<span class="op" id="3534928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3534931">return</span>&nbsp;<span class="builtintype" id="3534938">uint32</span><span class="op" id="3534944">(</span><span class="ident" id="3534945">time</span><span class="op" id="3534949">.</span><span class="ident" id="3534950">Now</span><span class="op" id="3534953">(</span><span class="op" id="3534954">)</span><span class="op" id="3534955">.</span><span class="ident" id="3534956">UnixNano</span><span class="op" id="3534964">(</span><span class="op" id="3534965">)</span>&nbsp;<span class="op" id="3534967">+</span>&nbsp;<span class="ident" id="3534969">int64</span><span class="op" id="3534974">(</span><span class="ident" id="3534975">os</span><span class="op" id="3534977">.</span><span class="ident" id="3534978">Getpid</span><span class="op" id="3534984">(</span><span class="op" id="3534985">)</span><span class="op" id="3534986">)</span><span class="op" id="3534987">)</span><br>
<span class="lineno"></span><span class="op" id="3534989">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3534992">func</span>&nbsp;<span class="ident" id="3534997">nextSuffix</span><span class="op" id="3535007">(</span><span class="op" id="3535008">)</span>&nbsp;<span class="builtintype" id="3535010">string</span>&nbsp;<span class="op" id="3535017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535020">randmu</span><span class="op" id="3535026">.</span><span class="ident" id="3535027">Lock</span><span class="op" id="3535031">(</span><span class="op" id="3535032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535035">r</span>&nbsp;<span class="op" id="3535037">:=</span>&nbsp;<span class="ident" id="3535040">rand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535046">if</span>&nbsp;<span class="ident" id="3535049">r</span>&nbsp;<span class="op" id="3535051">==</span>&nbsp;<span class="num" id="3535054">0</span>&nbsp;<span class="op" id="3535056">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535060">r</span>&nbsp;<span class="op" id="3535062">=</span>&nbsp;<span class="ident" id="3535064">reseed</span><span class="op" id="3535070">(</span><span class="op" id="3535071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3535074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535077">r</span>&nbsp;<span class="op" id="3535079">=</span>&nbsp;<span class="ident" id="3535081">r</span><span class="op" id="3535082">*</span><span class="num" id="3535083">1664525</span>&nbsp;<span class="op" id="3535091">+</span>&nbsp;<span class="num" id="3535093">1013904223</span>&nbsp;<span class="comment" id="3535104">//&nbsp;constants&nbsp;from&nbsp;Numerical&nbsp;Recipes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535141">rand</span>&nbsp;<span class="op" id="3535146">=</span>&nbsp;<span class="ident" id="3535148">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535151">randmu</span><span class="op" id="3535157">.</span><span class="ident" id="3535158">Unlock</span><span class="op" id="3535164">(</span><span class="op" id="3535165">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535168">return</span>&nbsp;<span class="ident" id="3535175">strconv</span><span class="op" id="3535182">.</span><span class="ident" id="3535183">Itoa</span><span class="op" id="3535187">(</span><span class="builtintype" id="3535188">int</span><span class="op" id="3535191">(</span><span class="num" id="3535192">1e9</span>&nbsp;<span class="op" id="3535196">+</span>&nbsp;<span class="ident" id="3535198">r</span><span class="op" id="3535199">%</span><span class="num" id="3535200">1e9</span><span class="op" id="3535203">)</span><span class="op" id="3535204">)</span><span class="op" id="3535205">[</span><span class="num" id="3535206">1</span><span class="op" id="3535207">:</span><span class="op" id="3535208">]</span><br>
<span class="lineno"></span><span class="op" id="3535210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3535213">//&nbsp;TempFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;file&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3535275">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix,&nbsp;opens&nbsp;the&nbsp;file&nbsp;for&nbsp;reading</span><br>
<span class="lineno">40</span><span class="comment" id="3535340">//&nbsp;and&nbsp;writing,&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="comment" id="3535392">//&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempFile&nbsp;uses&nbsp;the&nbsp;default&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="3535459">//&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3535500">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempFile&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3535553">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;file.&nbsp;&nbsp;The&nbsp;caller&nbsp;can&nbsp;use&nbsp;f.Name()</span><br>
<span class="lineno">45</span><span class="comment" id="3535616">//&nbsp;to&nbsp;find&nbsp;the&nbsp;pathname&nbsp;of&nbsp;the&nbsp;file.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3535688">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;file&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3535733">func</span>&nbsp;<span class="ident" id="3535738">TempFile</span><span class="op" id="3535746">(</span><span class="ident" id="3535747">dir</span><span class="op" id="3535750">,</span>&nbsp;<span class="ident" id="3535752">prefix</span>&nbsp;<span class="builtintype" id="3535759">string</span><span class="op" id="3535765">)</span>&nbsp;<span class="op" id="3535767">(</span><span class="ident" id="3535768">f</span>&nbsp;<span class="op" id="3535770">*</span><span class="ident" id="3535771">os</span><span class="op" id="3535773">.</span><span class="ident" id="3535774">File</span><span class="op" id="3535778">,</span>&nbsp;<span class="ident" id="3535780">err</span>&nbsp;<span class="builtintype" id="3535784">error</span><span class="op" id="3535789">)</span>&nbsp;<span class="op" id="3535791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535794">if</span>&nbsp;<span class="ident" id="3535797">dir</span>&nbsp;<span class="op" id="3535801">==</span>&nbsp;<span class="string" id="3535804">&#34;&#34;</span>&nbsp;<span class="op" id="3535807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535811">dir</span>&nbsp;<span class="op" id="3535815">=</span>&nbsp;<span class="ident" id="3535817">os</span><span class="op" id="3535819">.</span><span class="ident" id="3535820">TempDir</span><span class="op" id="3535827">(</span><span class="op" id="3535828">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3535831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535835">nconflict</span>&nbsp;<span class="op" id="3535845">:=</span>&nbsp;<span class="num" id="3535848">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535851">for</span>&nbsp;<span class="ident" id="3535855">i</span>&nbsp;<span class="op" id="3535857">:=</span>&nbsp;<span class="num" id="3535860">0</span><span class="op" id="3535861">;</span>&nbsp;<span class="ident" id="3535863">i</span>&nbsp;<span class="op" id="3535865">&lt;</span>&nbsp;<span class="num" id="3535867">10000</span><span class="op" id="3535872">;</span>&nbsp;<span class="ident" id="3535874">i</span><span class="op" id="3535875">++</span>&nbsp;<span class="op" id="3535878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535882">name</span>&nbsp;<span class="op" id="3535887">:=</span>&nbsp;<span class="ident" id="3535890">filepath</span><span class="op" id="3535898">.</span><span class="ident" id="3535899">Join</span><span class="op" id="3535903">(</span><span class="ident" id="3535904">dir</span><span class="op" id="3535907">,</span>&nbsp;<span class="ident" id="3535909">prefix</span><span class="op" id="3535915">+</span><span class="ident" id="3535916">nextSuffix</span><span class="op" id="3535926">(</span><span class="op" id="3535927">)</span><span class="op" id="3535928">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535932">f</span><span class="op" id="3535933">,</span>&nbsp;<span class="ident" id="3535935">err</span>&nbsp;<span class="op" id="3535939">=</span>&nbsp;<span class="ident" id="3535941">os</span><span class="op" id="3535943">.</span><span class="ident" id="3535944">OpenFile</span><span class="op" id="3535952">(</span><span class="ident" id="3535953">name</span><span class="op" id="3535957">,</span>&nbsp;<span class="ident" id="3535959">os</span><span class="op" id="3535961">.</span><span class="ident" id="3535962">O_RDWR</span><span class="op" id="3535968">|</span><span class="ident" id="3535969">os</span><span class="op" id="3535971">.</span><span class="ident" id="3535972">O_CREATE</span><span class="op" id="3535980">|</span><span class="ident" id="3535981">os</span><span class="op" id="3535983">.</span><span class="ident" id="3535984">O_EXCL</span><span class="op" id="3535990">,</span>&nbsp;<span class="num" id="3535992">0600</span><span class="op" id="3535996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536000">if</span>&nbsp;<span class="ident" id="3536003">os</span><span class="op" id="3536005">.</span><span class="ident" id="3536006">IsExist</span><span class="op" id="3536013">(</span><span class="ident" id="3536014">err</span><span class="op" id="3536017">)</span>&nbsp;<span class="op" id="3536019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536024">if</span>&nbsp;<span class="ident" id="3536027">nconflict</span><span class="op" id="3536036">++</span><span class="op" id="3536038">;</span>&nbsp;<span class="ident" id="3536040">nconflict</span>&nbsp;<span class="op" id="3536050">&gt;</span>&nbsp;<span class="num" id="3536052">10</span>&nbsp;<span class="op" id="3536055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536061">rand</span>&nbsp;<span class="op" id="3536066">=</span>&nbsp;<span class="ident" id="3536068">reseed</span><span class="op" id="3536074">(</span><span class="op" id="3536075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536080">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536085">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536100">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536110">return</span><br>
<span class="lineno">65</span><span class="op" id="3536117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3536120">//&nbsp;TempDir&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;directory&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3536186">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix&nbsp;and&nbsp;returns&nbsp;the&nbsp;path&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3536251">//&nbsp;new&nbsp;directory.&nbsp;&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempDir&nbsp;uses&nbsp;the</span><br>
<span class="lineno">70</span><span class="comment" id="3536315">//&nbsp;default&nbsp;directory&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3536374">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempDir&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3536426">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;directory.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3536500">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;directory&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3536550">func</span>&nbsp;<span class="ident" id="3536555">TempDir</span><span class="op" id="3536562">(</span><span class="ident" id="3536563">dir</span><span class="op" id="3536566">,</span>&nbsp;<span class="ident" id="3536568">prefix</span>&nbsp;<span class="builtintype" id="3536575">string</span><span class="op" id="3536581">)</span>&nbsp;<span class="op" id="3536583">(</span><span class="ident" id="3536584">name</span>&nbsp;<span class="builtintype" id="3536589">string</span><span class="op" id="3536595">,</span>&nbsp;<span class="ident" id="3536597">err</span>&nbsp;<span class="builtintype" id="3536601">error</span><span class="op" id="3536606">)</span>&nbsp;<span class="op" id="3536608">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536611">if</span>&nbsp;<span class="ident" id="3536614">dir</span>&nbsp;<span class="op" id="3536618">==</span>&nbsp;<span class="string" id="3536621">&#34;&#34;</span>&nbsp;<span class="op" id="3536624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536628">dir</span>&nbsp;<span class="op" id="3536632">=</span>&nbsp;<span class="ident" id="3536634">os</span><span class="op" id="3536636">.</span><span class="ident" id="3536637">TempDir</span><span class="op" id="3536644">(</span><span class="op" id="3536645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536652">nconflict</span>&nbsp;<span class="op" id="3536662">:=</span>&nbsp;<span class="num" id="3536665">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536668">for</span>&nbsp;<span class="ident" id="3536672">i</span>&nbsp;<span class="op" id="3536674">:=</span>&nbsp;<span class="num" id="3536677">0</span><span class="op" id="3536678">;</span>&nbsp;<span class="ident" id="3536680">i</span>&nbsp;<span class="op" id="3536682">&lt;</span>&nbsp;<span class="num" id="3536684">10000</span><span class="op" id="3536689">;</span>&nbsp;<span class="ident" id="3536691">i</span><span class="op" id="3536692">++</span>&nbsp;<span class="op" id="3536695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536699">try</span>&nbsp;<span class="op" id="3536703">:=</span>&nbsp;<span class="ident" id="3536706">filepath</span><span class="op" id="3536714">.</span><span class="ident" id="3536715">Join</span><span class="op" id="3536719">(</span><span class="ident" id="3536720">dir</span><span class="op" id="3536723">,</span>&nbsp;<span class="ident" id="3536725">prefix</span><span class="op" id="3536731">+</span><span class="ident" id="3536732">nextSuffix</span><span class="op" id="3536742">(</span><span class="op" id="3536743">)</span><span class="op" id="3536744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536748">err</span>&nbsp;<span class="op" id="3536752">=</span>&nbsp;<span class="ident" id="3536754">os</span><span class="op" id="3536756">.</span><span class="ident" id="3536757">Mkdir</span><span class="op" id="3536762">(</span><span class="ident" id="3536763">try</span><span class="op" id="3536766">,</span>&nbsp;<span class="num" id="3536768">0700</span><span class="op" id="3536772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536776">if</span>&nbsp;<span class="ident" id="3536779">os</span><span class="op" id="3536781">.</span><span class="ident" id="3536782">IsExist</span><span class="op" id="3536789">(</span><span class="ident" id="3536790">err</span><span class="op" id="3536793">)</span>&nbsp;<span class="op" id="3536795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536800">if</span>&nbsp;<span class="ident" id="3536803">nconflict</span><span class="op" id="3536812">++</span><span class="op" id="3536814">;</span>&nbsp;<span class="ident" id="3536816">nconflict</span>&nbsp;<span class="op" id="3536826">&gt;</span>&nbsp;<span class="num" id="3536828">10</span>&nbsp;<span class="op" id="3536831">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536837">rand</span>&nbsp;<span class="op" id="3536842">=</span>&nbsp;<span class="ident" id="3536844">reseed</span><span class="op" id="3536850">(</span><span class="op" id="3536851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536861">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536876">if</span>&nbsp;<span class="ident" id="3536879">err</span>&nbsp;<span class="op" id="3536883">==</span>&nbsp;<span class="ident" id="3536886">nil</span>&nbsp;<span class="op" id="3536890">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536895">name</span>&nbsp;<span class="op" id="3536900">=</span>&nbsp;<span class="ident" id="3536902">try</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536912">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536922">return</span><br>
<span class="lineno">95</span><span class="op" id="3536929">}</span>
</div>
</body>
</html>
