<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html" class="current">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6778873">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6778928">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6778982">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6779033">package</span>&nbsp;<span class="ident" id="6779041">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6779047">import</span>&nbsp;<span class="op" id="6779054">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6779057">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6779066">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6779081">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6779091">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6779094">const</span>&nbsp;<span class="op" id="6779100">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779103">dstw</span><span class="op" id="6779107">,</span>&nbsp;<span class="ident" id="6779109">dsth</span>&nbsp;<span class="op" id="6779114">=</span>&nbsp;<span class="num" id="6779116">640</span><span class="op" id="6779119">,</span>&nbsp;<span class="num" id="6779121">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779126">srcw</span><span class="op" id="6779130">,</span>&nbsp;<span class="ident" id="6779132">srch</span>&nbsp;<span class="op" id="6779137">=</span>&nbsp;<span class="num" id="6779139">400</span><span class="op" id="6779142">,</span>&nbsp;<span class="num" id="6779144">300</span><br>
<span class="lineno"></span><span class="op" id="6779148">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6779151">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6779225">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="6779287">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="6779353">func</span>&nbsp;<span class="ident" id="6779358">bench</span><span class="op" id="6779363">(</span><span class="ident" id="6779364">b</span>&nbsp;<span class="op" id="6779366">*</span><span class="ident" id="6779367">testing</span><span class="op" id="6779374">.</span><span class="ident" id="6779375">B</span><span class="op" id="6779376">,</span>&nbsp;<span class="ident" id="6779378">dcm</span><span class="op" id="6779381">,</span>&nbsp;<span class="ident" id="6779383">scm</span><span class="op" id="6779386">,</span>&nbsp;<span class="ident" id="6779388">mcm</span>&nbsp;<span class="ident" id="6779392">color</span><span class="op" id="6779397">.</span><span class="ident" id="6779398">Model</span><span class="op" id="6779403">,</span>&nbsp;<span class="ident" id="6779405">op</span>&nbsp;<span class="ident" id="6779408">Op</span><span class="op" id="6779410">)</span>&nbsp;<span class="op" id="6779412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779415">b</span><span class="op" id="6779416">.</span><span class="ident" id="6779417">StopTimer</span><span class="op" id="6779426">(</span><span class="op" id="6779427">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779431">var</span>&nbsp;<span class="ident" id="6779435">dst</span>&nbsp;<span class="ident" id="6779439">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779446">switch</span>&nbsp;<span class="ident" id="6779453">dcm</span>&nbsp;<span class="op" id="6779457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779460">case</span>&nbsp;<span class="ident" id="6779465">color</span><span class="op" id="6779470">.</span><span class="ident" id="6779471">RGBAModel</span><span class="op" id="6779480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779484">dst1</span>&nbsp;<span class="op" id="6779489">:=</span>&nbsp;<span class="ident" id="6779492">image</span><span class="op" id="6779497">.</span><span class="ident" id="6779498">NewRGBA</span><span class="op" id="6779505">(</span><span class="ident" id="6779506">image</span><span class="op" id="6779511">.</span><span class="ident" id="6779512">Rect</span><span class="op" id="6779516">(</span><span class="num" id="6779517">0</span><span class="op" id="6779518">,</span>&nbsp;<span class="num" id="6779520">0</span><span class="op" id="6779521">,</span>&nbsp;<span class="ident" id="6779523">dstw</span><span class="op" id="6779527">,</span>&nbsp;<span class="ident" id="6779529">dsth</span><span class="op" id="6779533">)</span><span class="op" id="6779534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779538">for</span>&nbsp;<span class="ident" id="6779542">y</span>&nbsp;<span class="op" id="6779544">:=</span>&nbsp;<span class="num" id="6779547">0</span><span class="op" id="6779548">;</span>&nbsp;<span class="ident" id="6779550">y</span>&nbsp;<span class="op" id="6779552">&lt;</span>&nbsp;<span class="ident" id="6779554">dsth</span><span class="op" id="6779558">;</span>&nbsp;<span class="ident" id="6779560">y</span><span class="op" id="6779561">++</span>&nbsp;<span class="op" id="6779564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779569">for</span>&nbsp;<span class="ident" id="6779573">x</span>&nbsp;<span class="op" id="6779575">:=</span>&nbsp;<span class="num" id="6779578">0</span><span class="op" id="6779579">;</span>&nbsp;<span class="ident" id="6779581">x</span>&nbsp;<span class="op" id="6779583">&lt;</span>&nbsp;<span class="ident" id="6779585">dstw</span><span class="op" id="6779589">;</span>&nbsp;<span class="ident" id="6779591">x</span><span class="op" id="6779592">++</span>&nbsp;<span class="op" id="6779595">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779601">dst1</span><span class="op" id="6779605">.</span><span class="ident" id="6779606">SetRGBA</span><span class="op" id="6779613">(</span><span class="ident" id="6779614">x</span><span class="op" id="6779615">,</span>&nbsp;<span class="ident" id="6779617">y</span><span class="op" id="6779618">,</span>&nbsp;<span class="ident" id="6779620">color</span><span class="op" id="6779625">.</span><span class="ident" id="6779626">RGBA</span><span class="op" id="6779630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6779637">uint8</span><span class="op" id="6779642">(</span><span class="num" id="6779643">5</span>&nbsp;<span class="op" id="6779645">*</span>&nbsp;<span class="ident" id="6779647">x</span>&nbsp;<span class="op" id="6779649">%</span>&nbsp;<span class="num" id="6779651">0x100</span><span class="op" id="6779656">)</span><span class="op" id="6779657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6779664">uint8</span><span class="op" id="6779669">(</span><span class="num" id="6779670">7</span>&nbsp;<span class="op" id="6779672">*</span>&nbsp;<span class="ident" id="6779674">y</span>&nbsp;<span class="op" id="6779676">%</span>&nbsp;<span class="num" id="6779678">0x100</span><span class="op" id="6779683">)</span><span class="op" id="6779684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6779691">uint8</span><span class="op" id="6779696">(</span><span class="op" id="6779697">(</span><span class="num" id="6779698">7</span><span class="op" id="6779699">*</span><span class="ident" id="6779700">x</span>&nbsp;<span class="op" id="6779702">+</span>&nbsp;<span class="num" id="6779704">5</span><span class="op" id="6779705">*</span><span class="ident" id="6779706">y</span><span class="op" id="6779707">)</span>&nbsp;<span class="op" id="6779709">%</span>&nbsp;<span class="num" id="6779711">0x100</span><span class="op" id="6779716">)</span><span class="op" id="6779717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6779724">0xff</span><span class="op" id="6779728">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6779734">}</span><span class="op" id="6779735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6779740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6779744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779748">dst</span>&nbsp;<span class="op" id="6779752">=</span>&nbsp;<span class="ident" id="6779754">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779760">case</span>&nbsp;<span class="ident" id="6779765">color</span><span class="op" id="6779770">.</span><span class="ident" id="6779771">RGBA64Model</span><span class="op" id="6779782">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779786">dst1</span>&nbsp;<span class="op" id="6779791">:=</span>&nbsp;<span class="ident" id="6779794">image</span><span class="op" id="6779799">.</span><span class="ident" id="6779800">NewRGBA64</span><span class="op" id="6779809">(</span><span class="ident" id="6779810">image</span><span class="op" id="6779815">.</span><span class="ident" id="6779816">Rect</span><span class="op" id="6779820">(</span><span class="num" id="6779821">0</span><span class="op" id="6779822">,</span>&nbsp;<span class="num" id="6779824">0</span><span class="op" id="6779825">,</span>&nbsp;<span class="ident" id="6779827">dstw</span><span class="op" id="6779831">,</span>&nbsp;<span class="ident" id="6779833">dsth</span><span class="op" id="6779837">)</span><span class="op" id="6779838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779842">for</span>&nbsp;<span class="ident" id="6779846">y</span>&nbsp;<span class="op" id="6779848">:=</span>&nbsp;<span class="num" id="6779851">0</span><span class="op" id="6779852">;</span>&nbsp;<span class="ident" id="6779854">y</span>&nbsp;<span class="op" id="6779856">&lt;</span>&nbsp;<span class="ident" id="6779858">dsth</span><span class="op" id="6779862">;</span>&nbsp;<span class="ident" id="6779864">y</span><span class="op" id="6779865">++</span>&nbsp;<span class="op" id="6779868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6779873">for</span>&nbsp;<span class="ident" id="6779877">x</span>&nbsp;<span class="op" id="6779879">:=</span>&nbsp;<span class="num" id="6779882">0</span><span class="op" id="6779883">;</span>&nbsp;<span class="ident" id="6779885">x</span>&nbsp;<span class="op" id="6779887">&lt;</span>&nbsp;<span class="ident" id="6779889">dstw</span><span class="op" id="6779893">;</span>&nbsp;<span class="ident" id="6779895">x</span><span class="op" id="6779896">++</span>&nbsp;<span class="op" id="6779899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6779905">dst1</span><span class="op" id="6779909">.</span><span class="ident" id="6779910">SetRGBA64</span><span class="op" id="6779919">(</span><span class="ident" id="6779920">x</span><span class="op" id="6779921">,</span>&nbsp;<span class="ident" id="6779923">y</span><span class="op" id="6779924">,</span>&nbsp;<span class="ident" id="6779926">color</span><span class="op" id="6779931">.</span><span class="ident" id="6779932">RGBA64</span><span class="op" id="6779938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6779945">uint16</span><span class="op" id="6779951">(</span><span class="num" id="6779952">53</span>&nbsp;<span class="op" id="6779955">*</span>&nbsp;<span class="ident" id="6779957">x</span>&nbsp;<span class="op" id="6779959">%</span>&nbsp;<span class="num" id="6779961">0x10000</span><span class="op" id="6779968">)</span><span class="op" id="6779969">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6779976">uint16</span><span class="op" id="6779982">(</span><span class="num" id="6779983">59</span>&nbsp;<span class="op" id="6779986">*</span>&nbsp;<span class="ident" id="6779988">y</span>&nbsp;<span class="op" id="6779990">%</span>&nbsp;<span class="num" id="6779992">0x10000</span><span class="op" id="6779999">)</span><span class="op" id="6780000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6780007">uint16</span><span class="op" id="6780013">(</span><span class="op" id="6780014">(</span><span class="num" id="6780015">59</span><span class="op" id="6780017">*</span><span class="ident" id="6780018">x</span>&nbsp;<span class="op" id="6780020">+</span>&nbsp;<span class="num" id="6780022">53</span><span class="op" id="6780024">*</span><span class="ident" id="6780025">y</span><span class="op" id="6780026">)</span>&nbsp;<span class="op" id="6780028">%</span>&nbsp;<span class="num" id="6780030">0x10000</span><span class="op" id="6780037">)</span><span class="op" id="6780038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6780045">0xffff</span><span class="op" id="6780051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780057">}</span><span class="op" id="6780058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780063">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780071">dst</span>&nbsp;<span class="op" id="6780075">=</span>&nbsp;<span class="ident" id="6780077">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780083">default</span><span class="op" id="6780090">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780094">b</span><span class="op" id="6780095">.</span><span class="ident" id="6780096">Fatal</span><span class="op" id="6780101">(</span><span class="string" id="6780102">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="6780135">,</span>&nbsp;<span class="ident" id="6780137">dcm</span><span class="op" id="6780140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780143">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780147">var</span>&nbsp;<span class="ident" id="6780151">src</span>&nbsp;<span class="ident" id="6780155">image</span><span class="op" id="6780160">.</span><span class="ident" id="6780161">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780168">switch</span>&nbsp;<span class="ident" id="6780175">scm</span>&nbsp;<span class="op" id="6780179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780182">case</span>&nbsp;<span class="ident" id="6780187">nil</span><span class="op" id="6780190">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780194">src</span>&nbsp;<span class="op" id="6780198">=</span>&nbsp;<span class="op" id="6780200">&amp;</span><span class="ident" id="6780201">image</span><span class="op" id="6780206">.</span><span class="ident" id="6780207">Uniform</span><span class="op" id="6780214">{</span><span class="ident" id="6780215">C</span><span class="op" id="6780216">:</span>&nbsp;<span class="ident" id="6780218">color</span><span class="op" id="6780223">.</span><span class="ident" id="6780224">RGBA</span><span class="op" id="6780228">{</span><span class="num" id="6780229">0x11</span><span class="op" id="6780233">,</span>&nbsp;<span class="num" id="6780235">0x22</span><span class="op" id="6780239">,</span>&nbsp;<span class="num" id="6780241">0x33</span><span class="op" id="6780245">,</span>&nbsp;<span class="num" id="6780247">0xff</span><span class="op" id="6780251">}</span><span class="op" id="6780252">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780255">case</span>&nbsp;<span class="ident" id="6780260">color</span><span class="op" id="6780265">.</span><span class="ident" id="6780266">RGBAModel</span><span class="op" id="6780275">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780279">src1</span>&nbsp;<span class="op" id="6780284">:=</span>&nbsp;<span class="ident" id="6780287">image</span><span class="op" id="6780292">.</span><span class="ident" id="6780293">NewRGBA</span><span class="op" id="6780300">(</span><span class="ident" id="6780301">image</span><span class="op" id="6780306">.</span><span class="ident" id="6780307">Rect</span><span class="op" id="6780311">(</span><span class="num" id="6780312">0</span><span class="op" id="6780313">,</span>&nbsp;<span class="num" id="6780315">0</span><span class="op" id="6780316">,</span>&nbsp;<span class="ident" id="6780318">srcw</span><span class="op" id="6780322">,</span>&nbsp;<span class="ident" id="6780324">srch</span><span class="op" id="6780328">)</span><span class="op" id="6780329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780333">for</span>&nbsp;<span class="ident" id="6780337">y</span>&nbsp;<span class="op" id="6780339">:=</span>&nbsp;<span class="num" id="6780342">0</span><span class="op" id="6780343">;</span>&nbsp;<span class="ident" id="6780345">y</span>&nbsp;<span class="op" id="6780347">&lt;</span>&nbsp;<span class="ident" id="6780349">srch</span><span class="op" id="6780353">;</span>&nbsp;<span class="ident" id="6780355">y</span><span class="op" id="6780356">++</span>&nbsp;<span class="op" id="6780359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780364">for</span>&nbsp;<span class="ident" id="6780368">x</span>&nbsp;<span class="op" id="6780370">:=</span>&nbsp;<span class="num" id="6780373">0</span><span class="op" id="6780374">;</span>&nbsp;<span class="ident" id="6780376">x</span>&nbsp;<span class="op" id="6780378">&lt;</span>&nbsp;<span class="ident" id="6780380">srcw</span><span class="op" id="6780384">;</span>&nbsp;<span class="ident" id="6780386">x</span><span class="op" id="6780387">++</span>&nbsp;<span class="op" id="6780390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780396">src1</span><span class="op" id="6780400">.</span><span class="ident" id="6780401">SetRGBA</span><span class="op" id="6780408">(</span><span class="ident" id="6780409">x</span><span class="op" id="6780410">,</span>&nbsp;<span class="ident" id="6780412">y</span><span class="op" id="6780413">,</span>&nbsp;<span class="ident" id="6780415">color</span><span class="op" id="6780420">.</span><span class="ident" id="6780421">RGBA</span><span class="op" id="6780425">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6780432">uint8</span><span class="op" id="6780437">(</span><span class="num" id="6780438">13</span>&nbsp;<span class="op" id="6780441">*</span>&nbsp;<span class="ident" id="6780443">x</span>&nbsp;<span class="op" id="6780445">%</span>&nbsp;<span class="num" id="6780447">0x80</span><span class="op" id="6780451">)</span><span class="op" id="6780452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6780459">uint8</span><span class="op" id="6780464">(</span><span class="num" id="6780465">11</span>&nbsp;<span class="op" id="6780468">*</span>&nbsp;<span class="ident" id="6780470">y</span>&nbsp;<span class="op" id="6780472">%</span>&nbsp;<span class="num" id="6780474">0x80</span><span class="op" id="6780478">)</span><span class="op" id="6780479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6780486">uint8</span><span class="op" id="6780491">(</span><span class="op" id="6780492">(</span><span class="num" id="6780493">11</span><span class="op" id="6780495">*</span><span class="ident" id="6780496">x</span>&nbsp;<span class="op" id="6780498">+</span>&nbsp;<span class="num" id="6780500">13</span><span class="op" id="6780502">*</span><span class="ident" id="6780503">y</span><span class="op" id="6780504">)</span>&nbsp;<span class="op" id="6780506">%</span>&nbsp;<span class="num" id="6780508">0x80</span><span class="op" id="6780512">)</span><span class="op" id="6780513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6780520">0x7f</span><span class="op" id="6780524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780530">}</span><span class="op" id="6780531">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780544">src</span>&nbsp;<span class="op" id="6780548">=</span>&nbsp;<span class="ident" id="6780550">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780556">case</span>&nbsp;<span class="ident" id="6780561">color</span><span class="op" id="6780566">.</span><span class="ident" id="6780567">RGBA64Model</span><span class="op" id="6780578">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780582">src1</span>&nbsp;<span class="op" id="6780587">:=</span>&nbsp;<span class="ident" id="6780590">image</span><span class="op" id="6780595">.</span><span class="ident" id="6780596">NewRGBA64</span><span class="op" id="6780605">(</span><span class="ident" id="6780606">image</span><span class="op" id="6780611">.</span><span class="ident" id="6780612">Rect</span><span class="op" id="6780616">(</span><span class="num" id="6780617">0</span><span class="op" id="6780618">,</span>&nbsp;<span class="num" id="6780620">0</span><span class="op" id="6780621">,</span>&nbsp;<span class="ident" id="6780623">srcw</span><span class="op" id="6780627">,</span>&nbsp;<span class="ident" id="6780629">srch</span><span class="op" id="6780633">)</span><span class="op" id="6780634">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780638">for</span>&nbsp;<span class="ident" id="6780642">y</span>&nbsp;<span class="op" id="6780644">:=</span>&nbsp;<span class="num" id="6780647">0</span><span class="op" id="6780648">;</span>&nbsp;<span class="ident" id="6780650">y</span>&nbsp;<span class="op" id="6780652">&lt;</span>&nbsp;<span class="ident" id="6780654">srch</span><span class="op" id="6780658">;</span>&nbsp;<span class="ident" id="6780660">y</span><span class="op" id="6780661">++</span>&nbsp;<span class="op" id="6780664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780669">for</span>&nbsp;<span class="ident" id="6780673">x</span>&nbsp;<span class="op" id="6780675">:=</span>&nbsp;<span class="num" id="6780678">0</span><span class="op" id="6780679">;</span>&nbsp;<span class="ident" id="6780681">x</span>&nbsp;<span class="op" id="6780683">&lt;</span>&nbsp;<span class="ident" id="6780685">srcw</span><span class="op" id="6780689">;</span>&nbsp;<span class="ident" id="6780691">x</span><span class="op" id="6780692">++</span>&nbsp;<span class="op" id="6780695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780701">src1</span><span class="op" id="6780705">.</span><span class="ident" id="6780706">SetRGBA64</span><span class="op" id="6780715">(</span><span class="ident" id="6780716">x</span><span class="op" id="6780717">,</span>&nbsp;<span class="ident" id="6780719">y</span><span class="op" id="6780720">,</span>&nbsp;<span class="ident" id="6780722">color</span><span class="op" id="6780727">.</span><span class="ident" id="6780728">RGBA64</span><span class="op" id="6780734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6780741">uint16</span><span class="op" id="6780747">(</span><span class="num" id="6780748">103</span>&nbsp;<span class="op" id="6780752">*</span>&nbsp;<span class="ident" id="6780754">x</span>&nbsp;<span class="op" id="6780756">%</span>&nbsp;<span class="num" id="6780758">0x8000</span><span class="op" id="6780764">)</span><span class="op" id="6780765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6780772">uint16</span><span class="op" id="6780778">(</span><span class="num" id="6780779">101</span>&nbsp;<span class="op" id="6780783">*</span>&nbsp;<span class="ident" id="6780785">y</span>&nbsp;<span class="op" id="6780787">%</span>&nbsp;<span class="num" id="6780789">0x8000</span><span class="op" id="6780795">)</span><span class="op" id="6780796">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6780803">uint16</span><span class="op" id="6780809">(</span><span class="op" id="6780810">(</span><span class="num" id="6780811">101</span><span class="op" id="6780814">*</span><span class="ident" id="6780815">x</span>&nbsp;<span class="op" id="6780817">+</span>&nbsp;<span class="num" id="6780819">103</span><span class="op" id="6780822">*</span><span class="ident" id="6780823">y</span><span class="op" id="6780824">)</span>&nbsp;<span class="op" id="6780826">%</span>&nbsp;<span class="num" id="6780828">0x8000</span><span class="op" id="6780834">)</span><span class="op" id="6780835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6780842">0x7fff</span><span class="op" id="6780848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780854">}</span><span class="op" id="6780855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780864">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780868">src</span>&nbsp;<span class="op" id="6780872">=</span>&nbsp;<span class="ident" id="6780874">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780880">case</span>&nbsp;<span class="ident" id="6780885">color</span><span class="op" id="6780890">.</span><span class="ident" id="6780891">NRGBAModel</span><span class="op" id="6780901">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780905">src1</span>&nbsp;<span class="op" id="6780910">:=</span>&nbsp;<span class="ident" id="6780913">image</span><span class="op" id="6780918">.</span><span class="ident" id="6780919">NewNRGBA</span><span class="op" id="6780927">(</span><span class="ident" id="6780928">image</span><span class="op" id="6780933">.</span><span class="ident" id="6780934">Rect</span><span class="op" id="6780938">(</span><span class="num" id="6780939">0</span><span class="op" id="6780940">,</span>&nbsp;<span class="num" id="6780942">0</span><span class="op" id="6780943">,</span>&nbsp;<span class="ident" id="6780945">srcw</span><span class="op" id="6780949">,</span>&nbsp;<span class="ident" id="6780951">srch</span><span class="op" id="6780955">)</span><span class="op" id="6780956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780960">for</span>&nbsp;<span class="ident" id="6780964">y</span>&nbsp;<span class="op" id="6780966">:=</span>&nbsp;<span class="num" id="6780969">0</span><span class="op" id="6780970">;</span>&nbsp;<span class="ident" id="6780972">y</span>&nbsp;<span class="op" id="6780974">&lt;</span>&nbsp;<span class="ident" id="6780976">srch</span><span class="op" id="6780980">;</span>&nbsp;<span class="ident" id="6780982">y</span><span class="op" id="6780983">++</span>&nbsp;<span class="op" id="6780986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6780991">for</span>&nbsp;<span class="ident" id="6780995">x</span>&nbsp;<span class="op" id="6780997">:=</span>&nbsp;<span class="num" id="6781000">0</span><span class="op" id="6781001">;</span>&nbsp;<span class="ident" id="6781003">x</span>&nbsp;<span class="op" id="6781005">&lt;</span>&nbsp;<span class="ident" id="6781007">srcw</span><span class="op" id="6781011">;</span>&nbsp;<span class="ident" id="6781013">x</span><span class="op" id="6781014">++</span>&nbsp;<span class="op" id="6781017">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781023">src1</span><span class="op" id="6781027">.</span><span class="ident" id="6781028">SetNRGBA</span><span class="op" id="6781036">(</span><span class="ident" id="6781037">x</span><span class="op" id="6781038">,</span>&nbsp;<span class="ident" id="6781040">y</span><span class="op" id="6781041">,</span>&nbsp;<span class="ident" id="6781043">color</span><span class="op" id="6781048">.</span><span class="ident" id="6781049">NRGBA</span><span class="op" id="6781054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6781061">uint8</span><span class="op" id="6781066">(</span><span class="num" id="6781067">13</span>&nbsp;<span class="op" id="6781070">*</span>&nbsp;<span class="ident" id="6781072">x</span>&nbsp;<span class="op" id="6781074">%</span>&nbsp;<span class="num" id="6781076">0x100</span><span class="op" id="6781081">)</span><span class="op" id="6781082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6781089">uint8</span><span class="op" id="6781094">(</span><span class="num" id="6781095">11</span>&nbsp;<span class="op" id="6781098">*</span>&nbsp;<span class="ident" id="6781100">y</span>&nbsp;<span class="op" id="6781102">%</span>&nbsp;<span class="num" id="6781104">0x100</span><span class="op" id="6781109">)</span><span class="op" id="6781110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6781117">uint8</span><span class="op" id="6781122">(</span><span class="op" id="6781123">(</span><span class="num" id="6781124">11</span><span class="op" id="6781126">*</span><span class="ident" id="6781127">x</span>&nbsp;<span class="op" id="6781129">+</span>&nbsp;<span class="num" id="6781131">13</span><span class="op" id="6781133">*</span><span class="ident" id="6781134">y</span><span class="op" id="6781135">)</span>&nbsp;<span class="op" id="6781137">%</span>&nbsp;<span class="num" id="6781139">0x100</span><span class="op" id="6781144">)</span><span class="op" id="6781145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6781152">0x7f</span><span class="op" id="6781156">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781162">}</span><span class="op" id="6781163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781176">src</span>&nbsp;<span class="op" id="6781180">=</span>&nbsp;<span class="ident" id="6781182">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781188">case</span>&nbsp;<span class="ident" id="6781193">color</span><span class="op" id="6781198">.</span><span class="ident" id="6781199">YCbCrModel</span><span class="op" id="6781209">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781213">yy</span>&nbsp;<span class="op" id="6781216">:=</span>&nbsp;<span class="builtinfunc" id="6781219">make</span><span class="op" id="6781223">(</span><span class="op" id="6781224">[</span><span class="op" id="6781225">]</span><span class="builtintype" id="6781226">uint8</span><span class="op" id="6781231">,</span>&nbsp;<span class="ident" id="6781233">srcw</span><span class="op" id="6781237">*</span><span class="ident" id="6781238">srch</span><span class="op" id="6781242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781246">cb</span>&nbsp;<span class="op" id="6781249">:=</span>&nbsp;<span class="builtinfunc" id="6781252">make</span><span class="op" id="6781256">(</span><span class="op" id="6781257">[</span><span class="op" id="6781258">]</span><span class="builtintype" id="6781259">uint8</span><span class="op" id="6781264">,</span>&nbsp;<span class="ident" id="6781266">srcw</span><span class="op" id="6781270">*</span><span class="ident" id="6781271">srch</span><span class="op" id="6781275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781279">cr</span>&nbsp;<span class="op" id="6781282">:=</span>&nbsp;<span class="builtinfunc" id="6781285">make</span><span class="op" id="6781289">(</span><span class="op" id="6781290">[</span><span class="op" id="6781291">]</span><span class="builtintype" id="6781292">uint8</span><span class="op" id="6781297">,</span>&nbsp;<span class="ident" id="6781299">srcw</span><span class="op" id="6781303">*</span><span class="ident" id="6781304">srch</span><span class="op" id="6781308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781312">for</span>&nbsp;<span class="ident" id="6781316">i</span>&nbsp;<span class="op" id="6781318">:=</span>&nbsp;<span class="keyword" id="6781321">range</span>&nbsp;<span class="ident" id="6781327">yy</span>&nbsp;<span class="op" id="6781330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781335">yy</span><span class="op" id="6781337">[</span><span class="ident" id="6781338">i</span><span class="op" id="6781339">]</span>&nbsp;<span class="op" id="6781341">=</span>&nbsp;<span class="builtintype" id="6781343">uint8</span><span class="op" id="6781348">(</span><span class="num" id="6781349">3</span>&nbsp;<span class="op" id="6781351">*</span>&nbsp;<span class="ident" id="6781353">i</span>&nbsp;<span class="op" id="6781355">%</span>&nbsp;<span class="num" id="6781357">0x100</span><span class="op" id="6781362">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781367">cb</span><span class="op" id="6781369">[</span><span class="ident" id="6781370">i</span><span class="op" id="6781371">]</span>&nbsp;<span class="op" id="6781373">=</span>&nbsp;<span class="builtintype" id="6781375">uint8</span><span class="op" id="6781380">(</span><span class="num" id="6781381">5</span>&nbsp;<span class="op" id="6781383">*</span>&nbsp;<span class="ident" id="6781385">i</span>&nbsp;<span class="op" id="6781387">%</span>&nbsp;<span class="num" id="6781389">0x100</span><span class="op" id="6781394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781399">cr</span><span class="op" id="6781401">[</span><span class="ident" id="6781402">i</span><span class="op" id="6781403">]</span>&nbsp;<span class="op" id="6781405">=</span>&nbsp;<span class="builtintype" id="6781407">uint8</span><span class="op" id="6781412">(</span><span class="num" id="6781413">7</span>&nbsp;<span class="op" id="6781415">*</span>&nbsp;<span class="ident" id="6781417">i</span>&nbsp;<span class="op" id="6781419">%</span>&nbsp;<span class="num" id="6781421">0x100</span><span class="op" id="6781426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781434">src</span>&nbsp;<span class="op" id="6781438">=</span>&nbsp;<span class="op" id="6781440">&amp;</span><span class="ident" id="6781441">image</span><span class="op" id="6781446">.</span><span class="ident" id="6781447">YCbCr</span><span class="op" id="6781452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781457">Y</span><span class="op" id="6781458">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6781473">yy</span><span class="op" id="6781475">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781480">Cb</span><span class="op" id="6781482">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6781496">cb</span><span class="op" id="6781498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781503">Cr</span><span class="op" id="6781505">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6781519">cr</span><span class="op" id="6781521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781526">YStride</span><span class="op" id="6781533">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6781542">srcw</span><span class="op" id="6781546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781551">CStride</span><span class="op" id="6781558">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6781567">srcw</span><span class="op" id="6781571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781576">SubsampleRatio</span><span class="op" id="6781590">:</span>&nbsp;<span class="ident" id="6781592">image</span><span class="op" id="6781597">.</span><span class="ident" id="6781598">YCbCrSubsampleRatio444</span><span class="op" id="6781620">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781625">Rect</span><span class="op" id="6781629">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6781641">image</span><span class="op" id="6781646">.</span><span class="ident" id="6781647">Rect</span><span class="op" id="6781651">(</span><span class="num" id="6781652">0</span><span class="op" id="6781653">,</span>&nbsp;<span class="num" id="6781655">0</span><span class="op" id="6781656">,</span>&nbsp;<span class="ident" id="6781658">srcw</span><span class="op" id="6781662">,</span>&nbsp;<span class="ident" id="6781664">srch</span><span class="op" id="6781668">)</span><span class="op" id="6781669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781676">default</span><span class="op" id="6781683">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781687">b</span><span class="op" id="6781688">.</span><span class="ident" id="6781689">Fatal</span><span class="op" id="6781694">(</span><span class="string" id="6781695">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="6781723">,</span>&nbsp;<span class="ident" id="6781725">scm</span><span class="op" id="6781728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781731">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781735">var</span>&nbsp;<span class="ident" id="6781739">mask</span>&nbsp;<span class="ident" id="6781744">image</span><span class="op" id="6781749">.</span><span class="ident" id="6781750">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781757">switch</span>&nbsp;<span class="ident" id="6781764">mcm</span>&nbsp;<span class="op" id="6781768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781771">case</span>&nbsp;<span class="ident" id="6781776">nil</span><span class="op" id="6781779">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6781783">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781794">case</span>&nbsp;<span class="ident" id="6781799">color</span><span class="op" id="6781804">.</span><span class="ident" id="6781805">AlphaModel</span><span class="op" id="6781815">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781819">mask1</span>&nbsp;<span class="op" id="6781825">:=</span>&nbsp;<span class="ident" id="6781828">image</span><span class="op" id="6781833">.</span><span class="ident" id="6781834">NewAlpha</span><span class="op" id="6781842">(</span><span class="ident" id="6781843">image</span><span class="op" id="6781848">.</span><span class="ident" id="6781849">Rect</span><span class="op" id="6781853">(</span><span class="num" id="6781854">0</span><span class="op" id="6781855">,</span>&nbsp;<span class="num" id="6781857">0</span><span class="op" id="6781858">,</span>&nbsp;<span class="ident" id="6781860">srcw</span><span class="op" id="6781864">,</span>&nbsp;<span class="ident" id="6781866">srch</span><span class="op" id="6781870">)</span><span class="op" id="6781871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781875">for</span>&nbsp;<span class="ident" id="6781879">y</span>&nbsp;<span class="op" id="6781881">:=</span>&nbsp;<span class="num" id="6781884">0</span><span class="op" id="6781885">;</span>&nbsp;<span class="ident" id="6781887">y</span>&nbsp;<span class="op" id="6781889">&lt;</span>&nbsp;<span class="ident" id="6781891">srch</span><span class="op" id="6781895">;</span>&nbsp;<span class="ident" id="6781897">y</span><span class="op" id="6781898">++</span>&nbsp;<span class="op" id="6781901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6781906">for</span>&nbsp;<span class="ident" id="6781910">x</span>&nbsp;<span class="op" id="6781912">:=</span>&nbsp;<span class="num" id="6781915">0</span><span class="op" id="6781916">;</span>&nbsp;<span class="ident" id="6781918">x</span>&nbsp;<span class="op" id="6781920">&lt;</span>&nbsp;<span class="ident" id="6781922">srcw</span><span class="op" id="6781926">;</span>&nbsp;<span class="ident" id="6781928">x</span><span class="op" id="6781929">++</span>&nbsp;<span class="op" id="6781932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6781938">a</span>&nbsp;<span class="op" id="6781940">:=</span>&nbsp;<span class="builtintype" id="6781943">uint8</span><span class="op" id="6781948">(</span><span class="op" id="6781949">(</span><span class="num" id="6781950">23</span><span class="op" id="6781952">*</span><span class="ident" id="6781953">x</span>&nbsp;<span class="op" id="6781955">+</span>&nbsp;<span class="num" id="6781957">29</span><span class="op" id="6781959">*</span><span class="ident" id="6781960">y</span><span class="op" id="6781961">)</span>&nbsp;<span class="op" id="6781963">%</span>&nbsp;<span class="num" id="6781965">0x100</span><span class="op" id="6781970">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6781976">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6782022">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6782073">if</span>&nbsp;<span class="ident" id="6782076">a</span>&nbsp;<span class="op" id="6782078">&gt;=</span>&nbsp;<span class="num" id="6782081">0xc0</span>&nbsp;<span class="op" id="6782086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782093">mask1</span><span class="op" id="6782098">.</span><span class="ident" id="6782099">SetAlpha</span><span class="op" id="6782107">(</span><span class="ident" id="6782108">x</span><span class="op" id="6782109">,</span>&nbsp;<span class="ident" id="6782111">y</span><span class="op" id="6782112">,</span>&nbsp;<span class="ident" id="6782114">color</span><span class="op" id="6782119">.</span><span class="ident" id="6782120">Alpha</span><span class="op" id="6782125">{</span><span class="ident" id="6782126">a</span><span class="op" id="6782127">}</span><span class="op" id="6782128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782134">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782147">mask</span>&nbsp;<span class="op" id="6782152">=</span>&nbsp;<span class="ident" id="6782154">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6782161">default</span><span class="op" id="6782168">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782172">b</span><span class="op" id="6782173">.</span><span class="ident" id="6782174">Fatal</span><span class="op" id="6782179">(</span><span class="string" id="6782180">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="6782206">,</span>&nbsp;<span class="ident" id="6782208">mcm</span><span class="op" id="6782211">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782218">b</span><span class="op" id="6782219">.</span><span class="ident" id="6782220">StartTimer</span><span class="op" id="6782230">(</span><span class="op" id="6782231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6782234">for</span>&nbsp;<span class="ident" id="6782238">i</span>&nbsp;<span class="op" id="6782240">:=</span>&nbsp;<span class="num" id="6782243">0</span><span class="op" id="6782244">;</span>&nbsp;<span class="ident" id="6782246">i</span>&nbsp;<span class="op" id="6782248">&lt;</span>&nbsp;<span class="ident" id="6782250">b</span><span class="op" id="6782251">.</span><span class="ident" id="6782252">N</span><span class="op" id="6782253">;</span>&nbsp;<span class="ident" id="6782255">i</span><span class="op" id="6782256">++</span>&nbsp;<span class="op" id="6782259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6782263">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782316">x</span>&nbsp;<span class="op" id="6782318">:=</span>&nbsp;<span class="num" id="6782321">3</span>&nbsp;<span class="op" id="6782323">*</span>&nbsp;<span class="ident" id="6782325">i</span>&nbsp;<span class="op" id="6782327">%</span>&nbsp;<span class="op" id="6782329">(</span><span class="ident" id="6782330">dstw</span>&nbsp;<span class="op" id="6782335">-</span>&nbsp;<span class="ident" id="6782337">srcw</span><span class="op" id="6782341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782345">y</span>&nbsp;<span class="op" id="6782347">:=</span>&nbsp;<span class="num" id="6782350">7</span>&nbsp;<span class="op" id="6782352">*</span>&nbsp;<span class="ident" id="6782354">i</span>&nbsp;<span class="op" id="6782356">%</span>&nbsp;<span class="op" id="6782358">(</span><span class="ident" id="6782359">dsth</span>&nbsp;<span class="op" id="6782364">-</span>&nbsp;<span class="ident" id="6782366">srch</span><span class="op" id="6782370">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782375">DrawMask</span><span class="op" id="6782383">(</span><span class="ident" id="6782384">dst</span><span class="op" id="6782387">,</span>&nbsp;<span class="ident" id="6782389">dst</span><span class="op" id="6782392">.</span><span class="ident" id="6782393">Bounds</span><span class="op" id="6782399">(</span><span class="op" id="6782400">)</span><span class="op" id="6782401">.</span><span class="ident" id="6782402">Add</span><span class="op" id="6782405">(</span><span class="ident" id="6782406">image</span><span class="op" id="6782411">.</span><span class="ident" id="6782412">Pt</span><span class="op" id="6782414">(</span><span class="ident" id="6782415">x</span><span class="op" id="6782416">,</span>&nbsp;<span class="ident" id="6782418">y</span><span class="op" id="6782419">)</span><span class="op" id="6782420">)</span><span class="op" id="6782421">,</span>&nbsp;<span class="ident" id="6782423">src</span><span class="op" id="6782426">,</span>&nbsp;<span class="ident" id="6782428">image</span><span class="op" id="6782433">.</span><span class="ident" id="6782434">ZP</span><span class="op" id="6782436">,</span>&nbsp;<span class="ident" id="6782438">mask</span><span class="op" id="6782442">,</span>&nbsp;<span class="ident" id="6782444">image</span><span class="op" id="6782449">.</span><span class="ident" id="6782450">ZP</span><span class="op" id="6782452">,</span>&nbsp;<span class="ident" id="6782454">op</span><span class="op" id="6782456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782459">}</span><br>
<span class="lineno">150</span><span class="op" id="6782461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6782464">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6782545">func</span>&nbsp;<span class="ident" id="6782550">BenchmarkFillOver</span><span class="op" id="6782567">(</span><span class="ident" id="6782568">b</span>&nbsp;<span class="op" id="6782570">*</span><span class="ident" id="6782571">testing</span><span class="op" id="6782578">.</span><span class="ident" id="6782579">B</span><span class="op" id="6782580">)</span>&nbsp;<span class="op" id="6782582">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782585">bench</span><span class="op" id="6782590">(</span><span class="ident" id="6782591">b</span><span class="op" id="6782592">,</span>&nbsp;<span class="ident" id="6782594">color</span><span class="op" id="6782599">.</span><span class="ident" id="6782600">RGBAModel</span><span class="op" id="6782609">,</span>&nbsp;<span class="ident" id="6782611">nil</span><span class="op" id="6782614">,</span>&nbsp;<span class="ident" id="6782616">nil</span><span class="op" id="6782619">,</span>&nbsp;<span class="ident" id="6782621">Over</span><span class="op" id="6782625">)</span><br>
<span class="lineno"></span><span class="op" id="6782627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6782630">func</span>&nbsp;<span class="ident" id="6782635">BenchmarkFillSrc</span><span class="op" id="6782651">(</span><span class="ident" id="6782652">b</span>&nbsp;<span class="op" id="6782654">*</span><span class="ident" id="6782655">testing</span><span class="op" id="6782662">.</span><span class="ident" id="6782663">B</span><span class="op" id="6782664">)</span>&nbsp;<span class="op" id="6782666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782669">bench</span><span class="op" id="6782674">(</span><span class="ident" id="6782675">b</span><span class="op" id="6782676">,</span>&nbsp;<span class="ident" id="6782678">color</span><span class="op" id="6782683">.</span><span class="ident" id="6782684">RGBAModel</span><span class="op" id="6782693">,</span>&nbsp;<span class="ident" id="6782695">nil</span><span class="op" id="6782698">,</span>&nbsp;<span class="ident" id="6782700">nil</span><span class="op" id="6782703">,</span>&nbsp;<span class="ident" id="6782705">Src</span><span class="op" id="6782708">)</span><br>
<span class="lineno">160</span><span class="op" id="6782710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6782713">func</span>&nbsp;<span class="ident" id="6782718">BenchmarkCopyOver</span><span class="op" id="6782735">(</span><span class="ident" id="6782736">b</span>&nbsp;<span class="op" id="6782738">*</span><span class="ident" id="6782739">testing</span><span class="op" id="6782746">.</span><span class="ident" id="6782747">B</span><span class="op" id="6782748">)</span>&nbsp;<span class="op" id="6782750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782753">bench</span><span class="op" id="6782758">(</span><span class="ident" id="6782759">b</span><span class="op" id="6782760">,</span>&nbsp;<span class="ident" id="6782762">color</span><span class="op" id="6782767">.</span><span class="ident" id="6782768">RGBAModel</span><span class="op" id="6782777">,</span>&nbsp;<span class="ident" id="6782779">color</span><span class="op" id="6782784">.</span><span class="ident" id="6782785">RGBAModel</span><span class="op" id="6782794">,</span>&nbsp;<span class="ident" id="6782796">nil</span><span class="op" id="6782799">,</span>&nbsp;<span class="ident" id="6782801">Over</span><span class="op" id="6782805">)</span><br>
<span class="lineno"></span><span class="op" id="6782807">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="6782810">func</span>&nbsp;<span class="ident" id="6782815">BenchmarkCopySrc</span><span class="op" id="6782831">(</span><span class="ident" id="6782832">b</span>&nbsp;<span class="op" id="6782834">*</span><span class="ident" id="6782835">testing</span><span class="op" id="6782842">.</span><span class="ident" id="6782843">B</span><span class="op" id="6782844">)</span>&nbsp;<span class="op" id="6782846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782849">bench</span><span class="op" id="6782854">(</span><span class="ident" id="6782855">b</span><span class="op" id="6782856">,</span>&nbsp;<span class="ident" id="6782858">color</span><span class="op" id="6782863">.</span><span class="ident" id="6782864">RGBAModel</span><span class="op" id="6782873">,</span>&nbsp;<span class="ident" id="6782875">color</span><span class="op" id="6782880">.</span><span class="ident" id="6782881">RGBAModel</span><span class="op" id="6782890">,</span>&nbsp;<span class="ident" id="6782892">nil</span><span class="op" id="6782895">,</span>&nbsp;<span class="ident" id="6782897">Src</span><span class="op" id="6782900">)</span><br>
<span class="lineno"></span><span class="op" id="6782902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="6782905">func</span>&nbsp;<span class="ident" id="6782910">BenchmarkNRGBAOver</span><span class="op" id="6782928">(</span><span class="ident" id="6782929">b</span>&nbsp;<span class="op" id="6782931">*</span><span class="ident" id="6782932">testing</span><span class="op" id="6782939">.</span><span class="ident" id="6782940">B</span><span class="op" id="6782941">)</span>&nbsp;<span class="op" id="6782943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6782946">bench</span><span class="op" id="6782951">(</span><span class="ident" id="6782952">b</span><span class="op" id="6782953">,</span>&nbsp;<span class="ident" id="6782955">color</span><span class="op" id="6782960">.</span><span class="ident" id="6782961">RGBAModel</span><span class="op" id="6782970">,</span>&nbsp;<span class="ident" id="6782972">color</span><span class="op" id="6782977">.</span><span class="ident" id="6782978">NRGBAModel</span><span class="op" id="6782988">,</span>&nbsp;<span class="ident" id="6782990">nil</span><span class="op" id="6782993">,</span>&nbsp;<span class="ident" id="6782995">Over</span><span class="op" id="6782999">)</span><br>
<span class="lineno"></span><span class="op" id="6783001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6783004">func</span>&nbsp;<span class="ident" id="6783009">BenchmarkNRGBASrc</span><span class="op" id="6783026">(</span><span class="ident" id="6783027">b</span>&nbsp;<span class="op" id="6783029">*</span><span class="ident" id="6783030">testing</span><span class="op" id="6783037">.</span><span class="ident" id="6783038">B</span><span class="op" id="6783039">)</span>&nbsp;<span class="op" id="6783041">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6783044">bench</span><span class="op" id="6783049">(</span><span class="ident" id="6783050">b</span><span class="op" id="6783051">,</span>&nbsp;<span class="ident" id="6783053">color</span><span class="op" id="6783058">.</span><span class="ident" id="6783059">RGBAModel</span><span class="op" id="6783068">,</span>&nbsp;<span class="ident" id="6783070">color</span><span class="op" id="6783075">.</span><span class="ident" id="6783076">NRGBAModel</span><span class="op" id="6783086">,</span>&nbsp;<span class="ident" id="6783088">nil</span><span class="op" id="6783091">,</span>&nbsp;<span class="ident" id="6783093">Src</span><span class="op" id="6783096">)</span><br>
<span class="lineno"></span><span class="op" id="6783098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6783101">func</span>&nbsp;<span class="ident" id="6783106">BenchmarkYCbCr</span><span class="op" id="6783120">(</span><span class="ident" id="6783121">b</span>&nbsp;<span class="op" id="6783123">*</span><span class="ident" id="6783124">testing</span><span class="op" id="6783131">.</span><span class="ident" id="6783132">B</span><span class="op" id="6783133">)</span>&nbsp;<span class="op" id="6783135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6783138">bench</span><span class="op" id="6783143">(</span><span class="ident" id="6783144">b</span><span class="op" id="6783145">,</span>&nbsp;<span class="ident" id="6783147">color</span><span class="op" id="6783152">.</span><span class="ident" id="6783153">RGBAModel</span><span class="op" id="6783162">,</span>&nbsp;<span class="ident" id="6783164">color</span><span class="op" id="6783169">.</span><span class="ident" id="6783170">YCbCrModel</span><span class="op" id="6783180">,</span>&nbsp;<span class="ident" id="6783182">nil</span><span class="op" id="6783185">,</span>&nbsp;<span class="ident" id="6783187">Over</span><span class="op" id="6783191">)</span><br>
<span class="lineno">180</span><span class="op" id="6783193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6783196">func</span>&nbsp;<span class="ident" id="6783201">BenchmarkGlyphOver</span><span class="op" id="6783219">(</span><span class="ident" id="6783220">b</span>&nbsp;<span class="op" id="6783222">*</span><span class="ident" id="6783223">testing</span><span class="op" id="6783230">.</span><span class="ident" id="6783231">B</span><span class="op" id="6783232">)</span>&nbsp;<span class="op" id="6783234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6783237">bench</span><span class="op" id="6783242">(</span><span class="ident" id="6783243">b</span><span class="op" id="6783244">,</span>&nbsp;<span class="ident" id="6783246">color</span><span class="op" id="6783251">.</span><span class="ident" id="6783252">RGBAModel</span><span class="op" id="6783261">,</span>&nbsp;<span class="ident" id="6783263">nil</span><span class="op" id="6783266">,</span>&nbsp;<span class="ident" id="6783268">color</span><span class="op" id="6783273">.</span><span class="ident" id="6783274">AlphaModel</span><span class="op" id="6783284">,</span>&nbsp;<span class="ident" id="6783286">Over</span><span class="op" id="6783290">)</span><br>
<span class="lineno"></span><span class="op" id="6783292">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="6783295">func</span>&nbsp;<span class="ident" id="6783300">BenchmarkRGBA</span><span class="op" id="6783313">(</span><span class="ident" id="6783314">b</span>&nbsp;<span class="op" id="6783316">*</span><span class="ident" id="6783317">testing</span><span class="op" id="6783324">.</span><span class="ident" id="6783325">B</span><span class="op" id="6783326">)</span>&nbsp;<span class="op" id="6783328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6783331">bench</span><span class="op" id="6783336">(</span><span class="ident" id="6783337">b</span><span class="op" id="6783338">,</span>&nbsp;<span class="ident" id="6783340">color</span><span class="op" id="6783345">.</span><span class="ident" id="6783346">RGBAModel</span><span class="op" id="6783355">,</span>&nbsp;<span class="ident" id="6783357">color</span><span class="op" id="6783362">.</span><span class="ident" id="6783363">RGBA64Model</span><span class="op" id="6783374">,</span>&nbsp;<span class="ident" id="6783376">nil</span><span class="op" id="6783379">,</span>&nbsp;<span class="ident" id="6783381">Src</span><span class="op" id="6783384">)</span><br>
<span class="lineno"></span><span class="op" id="6783386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="6783389">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6783465">func</span>&nbsp;<span class="ident" id="6783470">BenchmarkGenericOver</span><span class="op" id="6783490">(</span><span class="ident" id="6783491">b</span>&nbsp;<span class="op" id="6783493">*</span><span class="ident" id="6783494">testing</span><span class="op" id="6783501">.</span><span class="ident" id="6783502">B</span><span class="op" id="6783503">)</span>&nbsp;<span class="op" id="6783505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6783508">bench</span><span class="op" id="6783513">(</span><span class="ident" id="6783514">b</span><span class="op" id="6783515">,</span>&nbsp;<span class="ident" id="6783517">color</span><span class="op" id="6783522">.</span><span class="ident" id="6783523">RGBA64Model</span><span class="op" id="6783534">,</span>&nbsp;<span class="ident" id="6783536">color</span><span class="op" id="6783541">.</span><span class="ident" id="6783542">RGBA64Model</span><span class="op" id="6783553">,</span>&nbsp;<span class="ident" id="6783555">nil</span><span class="op" id="6783558">,</span>&nbsp;<span class="ident" id="6783560">Over</span><span class="op" id="6783564">)</span><br>
<span class="lineno"></span><span class="op" id="6783566">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="6783569">func</span>&nbsp;<span class="ident" id="6783574">BenchmarkGenericMaskOver</span><span class="op" id="6783598">(</span><span class="ident" id="6783599">b</span>&nbsp;<span class="op" id="6783601">*</span><span class="ident" id="6783602">testing</span><span class="op" id="6783609">.</span><span class="ident" id="6783610">B</span><span class="op" id="6783611">)</span>&nbsp;<span class="op" id="6783613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6783616">bench</span><span class="op" id="6783621">(</span><span class="ident" id="6783622">b</span><span class="op" id="6783623">,</span>&nbsp;<span class="ident" id="6783625">color</span><span class="op" id="6783630">.</span><span class="ident" id="6783631">RGBA64Model</span><span class="op" id="6783642">,</span>&nbsp;<span class="ident" id="6783644">color</span><span class="op" id="6783649">.</span><span class="ident" id="6783650">RGBA64Model</span><span class="op" id="6783661">,</span>&nbsp;<span class="ident" id="6783663">color</span><span class="op" id="6783668">.</span><span class="ident" id="6783669">AlphaModel</span><span class="op" id="6783679">,</span>&nbsp;<span class="ident" id="6783681">Over</span><span class="op" id="6783685">)</span><br>
<span class="lineno"></span><span class="op" id="6783687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="6783690">func</span>&nbsp;<span class="ident" id="6783695">BenchmarkGenericSrc</span><span class="op" id="6783714">(</span><span class="ident" id="6783715">b</span>&nbsp;<span class="op" id="6783717">*</span><span class="ident" id="6783718">testing</span><span class="op" id="6783725">.</span><span class="ident" id="6783726">B</span><span class="op" id="6783727">)</span>&nbsp;<span class="op" id="6783729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6783732">bench</span><span class="op" id="6783737">(</span><span class="ident" id="6783738">b</span><span class="op" id="6783739">,</span>&nbsp;<span class="ident" id="6783741">color</span><span class="op" id="6783746">.</span><span class="ident" id="6783747">RGBA64Model</span><span class="op" id="6783758">,</span>&nbsp;<span class="ident" id="6783760">color</span><span class="op" id="6783765">.</span><span class="ident" id="6783766">RGBA64Model</span><span class="op" id="6783777">,</span>&nbsp;<span class="ident" id="6783779">nil</span><span class="op" id="6783782">,</span>&nbsp;<span class="ident" id="6783784">Src</span><span class="op" id="6783787">)</span><br>
<span class="lineno"></span><span class="op" id="6783789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6783792">func</span>&nbsp;<span class="ident" id="6783797">BenchmarkGenericMaskSrc</span><span class="op" id="6783820">(</span><span class="ident" id="6783821">b</span>&nbsp;<span class="op" id="6783823">*</span><span class="ident" id="6783824">testing</span><span class="op" id="6783831">.</span><span class="ident" id="6783832">B</span><span class="op" id="6783833">)</span>&nbsp;<span class="op" id="6783835">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6783838">bench</span><span class="op" id="6783843">(</span><span class="ident" id="6783844">b</span><span class="op" id="6783845">,</span>&nbsp;<span class="ident" id="6783847">color</span><span class="op" id="6783852">.</span><span class="ident" id="6783853">RGBA64Model</span><span class="op" id="6783864">,</span>&nbsp;<span class="ident" id="6783866">color</span><span class="op" id="6783871">.</span><span class="ident" id="6783872">RGBA64Model</span><span class="op" id="6783883">,</span>&nbsp;<span class="ident" id="6783885">color</span><span class="op" id="6783890">.</span><span class="ident" id="6783891">AlphaModel</span><span class="op" id="6783901">,</span>&nbsp;<span class="ident" id="6783903">Src</span><span class="op" id="6783906">)</span><br>
<span class="lineno"></span><span class="op" id="6783908">}</span>
</div>
</body>
</html>
