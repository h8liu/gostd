<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2247915">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2247970">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2248024">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2248075">package</span>&nbsp;<span class="ident" id="2248083">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2248089">//&nbsp;Atan2&nbsp;returns&nbsp;the&nbsp;arc&nbsp;tangent&nbsp;of&nbsp;y/x,&nbsp;using</span><br>
<span class="lineno"></span><span class="comment" id="2248136">//&nbsp;the&nbsp;signs&nbsp;of&nbsp;the&nbsp;two&nbsp;to&nbsp;determine&nbsp;the&nbsp;quadrant</span><br>
<span class="lineno"></span><span class="comment" id="2248186">//&nbsp;of&nbsp;the&nbsp;return&nbsp;value.</span><br>
<span class="lineno">10</span><span class="comment" id="2248210">//</span><br>
<span class="lineno"></span><span class="comment" id="2248213">//&nbsp;Special&nbsp;cases&nbsp;are&nbsp;(in&nbsp;order):</span><br>
<span class="lineno"></span><span class="comment" id="2248246">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2248269">//&nbsp;&nbsp;&nbsp;&nbspAtan2(NaN,&nbsp;x)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2248292">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+0,&nbsp;x&gt;=0)&nbsp;=&nbsp;+0</span><br>
<span class="lineno">15</span><span class="comment" id="2248316">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-0,&nbsp;x&gt;=0)&nbsp;=&nbsp;-0</span><br>
<span class="lineno"></span><span class="comment" id="2248340">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+0,&nbsp;x&lt;=-0)&nbsp;=&nbsp;+Pi</span><br>
<span class="lineno"></span><span class="comment" id="2248366">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-0,&nbsp;x&lt;=-0)&nbsp;=&nbsp;-Pi</span><br>
<span class="lineno"></span><span class="comment" id="2248392">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&gt;0,&nbsp;0)&nbsp;=&nbsp;+Pi/2</span><br>
<span class="lineno"></span><span class="comment" id="2248417">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&lt;0,&nbsp;0)&nbsp;=&nbsp;-Pi/2</span><br>
<span class="lineno">20</span><span class="comment" id="2248442">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;+Inf)&nbsp;=&nbsp;+Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="2248471">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;+Inf)&nbsp;=&nbsp;-Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="2248500">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;-Inf)&nbsp;=&nbsp;3Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="2248529">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;-Inf)&nbsp;=&nbsp;-3Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="2248559">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y,&nbsp;+Inf)&nbsp;=&nbsp;0</span><br>
<span class="lineno">25</span><span class="comment" id="2248581">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&gt;0,&nbsp;-Inf)&nbsp;=&nbsp;+Pi</span><br>
<span class="lineno"></span><span class="comment" id="2248607">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&lt;0,&nbsp;-Inf)&nbsp;=&nbsp;-Pi</span><br>
<span class="lineno"></span><span class="comment" id="2248633">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;x)&nbsp;=&nbsp;+Pi/2</span><br>
<span class="lineno"></span><span class="comment" id="2248659">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;x)&nbsp;=&nbsp;-Pi/2</span><br>
<span class="lineno"></span><span class="keyword" id="2248685">func</span>&nbsp;<span class="ident" id="2248690">Atan2</span><span class="op" id="2248695">(</span><span class="ident" id="2248696">y</span><span class="op" id="2248697">,</span>&nbsp;<span class="ident" id="2248699">x</span>&nbsp;<span class="builtintype" id="2248701">float64</span><span class="op" id="2248708">)</span>&nbsp;<span class="builtintype" id="2248710">float64</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="2248719">func</span>&nbsp;<span class="ident" id="2248724">atan2</span><span class="op" id="2248729">(</span><span class="ident" id="2248730">y</span><span class="op" id="2248731">,</span>&nbsp;<span class="ident" id="2248733">x</span>&nbsp;<span class="builtintype" id="2248735">float64</span><span class="op" id="2248742">)</span>&nbsp;<span class="builtintype" id="2248744">float64</span>&nbsp;<span class="op" id="2248752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2248755">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248773">switch</span>&nbsp;<span class="op" id="2248780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248783">case</span>&nbsp;<span class="ident" id="2248788"><a href="/math/bits.go.html#2252065">IsNaN</a></span><span class="op" id="2248793">(</span><span class="ident" id="2248794"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2248795">)</span>&nbsp;<span class="op" id="2248797">||</span>&nbsp;<span class="ident" id="2248800"><a href="/math/bits.go.html#2252065">IsNaN</a></span><span class="op" id="2248805">(</span><span class="ident" id="2248806"><a href="/math/atan2.go.html#2248733">x</a></span><span class="op" id="2248807">)</span><span class="op" id="2248808">:</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248812">return</span>&nbsp;<span class="ident" id="2248819"><a href="/math/bits.go.html#2251945">NaN</a></span><span class="op" id="2248822">(</span><span class="op" id="2248823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248826">case</span>&nbsp;<span class="ident" id="2248831"><a href="/math/atan2.go.html#2248730">y</a></span>&nbsp;<span class="op" id="2248833">==</span>&nbsp;<span class="num" id="2248836">0</span><span class="op" id="2248837">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248841">if</span>&nbsp;<span class="ident" id="2248844"><a href="/math/atan2.go.html#2248733">x</a></span>&nbsp;<span class="op" id="2248846">&gt;=</span>&nbsp;<span class="num" id="2248849">0</span>&nbsp;<span class="op" id="2248851">&amp;&amp;</span>&nbsp;<span class="op" id="2248854">!</span><span class="ident" id="2248855"><a href="/math/signbit.go.html#2359085">Signbit</a></span><span class="op" id="2248862">(</span><span class="ident" id="2248863"><a href="/math/atan2.go.html#2248733">x</a></span><span class="op" id="2248864">)</span>&nbsp;<span class="op" id="2248866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248871">return</span>&nbsp;<span class="ident" id="2248878"><a href="/math/copysign.go.html#2257108">Copysign</a></span><span class="op" id="2248886">(</span><span class="num" id="2248887">0</span><span class="op" id="2248888">,</span>&nbsp;<span class="ident" id="2248890"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2248891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2248895">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248899">return</span>&nbsp;<span class="ident" id="2248906"><a href="/math/copysign.go.html#2257108">Copysign</a></span><span class="op" id="2248914">(</span><span class="ident" id="2248915"><a href="/math/const.go.html#2255223">Pi</a></span><span class="op" id="2248917">,</span>&nbsp;<span class="ident" id="2248919"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2248920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248923">case</span>&nbsp;<span class="ident" id="2248928"><a href="/math/atan2.go.html#2248733">x</a></span>&nbsp;<span class="op" id="2248930">==</span>&nbsp;<span class="num" id="2248933">0</span><span class="op" id="2248934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248938">return</span>&nbsp;<span class="ident" id="2248945"><a href="/math/copysign.go.html#2257108">Copysign</a></span><span class="op" id="2248953">(</span><span class="ident" id="2248954"><a href="/math/const.go.html#2255223">Pi</a></span><span class="op" id="2248956">/</span><span class="num" id="2248957">2</span><span class="op" id="2248958">,</span>&nbsp;<span class="ident" id="2248960"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2248961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248964">case</span>&nbsp;<span class="ident" id="2248969"><a href="/math/bits.go.html#2252563">IsInf</a></span><span class="op" id="2248974">(</span><span class="ident" id="2248975"><a href="/math/atan2.go.html#2248733">x</a></span><span class="op" id="2248976">,</span>&nbsp;<span class="num" id="2248978">0</span><span class="op" id="2248979">)</span><span class="op" id="2248980">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248984">if</span>&nbsp;<span class="ident" id="2248987"><a href="/math/bits.go.html#2252563">IsInf</a></span><span class="op" id="2248992">(</span><span class="ident" id="2248993"><a href="/math/atan2.go.html#2248733">x</a></span><span class="op" id="2248994">,</span>&nbsp;<span class="num" id="2248996">1</span><span class="op" id="2248997">)</span>&nbsp;<span class="op" id="2248999">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249004">switch</span>&nbsp;<span class="op" id="2249011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249016">case</span>&nbsp;<span class="ident" id="2249021"><a href="/math/bits.go.html#2252563">IsInf</a></span><span class="op" id="2249026">(</span><span class="ident" id="2249027"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2249028">,</span>&nbsp;<span class="num" id="2249030">0</span><span class="op" id="2249031">)</span><span class="op" id="2249032">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249038">return</span>&nbsp;<span class="ident" id="2249045"><a href="/math/copysign.go.html#2257108">Copysign</a></span><span class="op" id="2249053">(</span><span class="ident" id="2249054"><a href="/math/const.go.html#2255223">Pi</a></span><span class="op" id="2249056">/</span><span class="num" id="2249057">4</span><span class="op" id="2249058">,</span>&nbsp;<span class="ident" id="2249060"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2249061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249066">default</span><span class="op" id="2249073">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249079">return</span>&nbsp;<span class="ident" id="2249086"><a href="/math/copysign.go.html#2257108">Copysign</a></span><span class="op" id="2249094">(</span><span class="num" id="2249095">0</span><span class="op" id="2249096">,</span>&nbsp;<span class="ident" id="2249098"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2249099">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2249104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2249108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249112">switch</span>&nbsp;<span class="op" id="2249119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249123">case</span>&nbsp;<span class="ident" id="2249128"><a href="/math/bits.go.html#2252563">IsInf</a></span><span class="op" id="2249133">(</span><span class="ident" id="2249134"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2249135">,</span>&nbsp;<span class="num" id="2249137">0</span><span class="op" id="2249138">)</span><span class="op" id="2249139">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249144">return</span>&nbsp;<span class="ident" id="2249151"><a href="/math/copysign.go.html#2257108">Copysign</a></span><span class="op" id="2249159">(</span><span class="num" id="2249160">3</span><span class="op" id="2249161">*</span><span class="ident" id="2249162"><a href="/math/const.go.html#2255223">Pi</a></span><span class="op" id="2249164">/</span><span class="num" id="2249165">4</span><span class="op" id="2249166">,</span>&nbsp;<span class="ident" id="2249168"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2249169">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249173">default</span><span class="op" id="2249180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249185">return</span>&nbsp;<span class="ident" id="2249192"><a href="/math/copysign.go.html#2257108">Copysign</a></span><span class="op" id="2249200">(</span><span class="ident" id="2249201"><a href="/math/const.go.html#2255223">Pi</a></span><span class="op" id="2249203">,</span>&nbsp;<span class="ident" id="2249205"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2249206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2249210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249213">case</span>&nbsp;<span class="ident" id="2249218"><a href="/math/bits.go.html#2252563">IsInf</a></span><span class="op" id="2249223">(</span><span class="ident" id="2249224"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2249225">,</span>&nbsp;<span class="num" id="2249227">0</span><span class="op" id="2249228">)</span><span class="op" id="2249229">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249233">return</span>&nbsp;<span class="ident" id="2249240"><a href="/math/copysign.go.html#2257108">Copysign</a></span><span class="op" id="2249248">(</span><span class="ident" id="2249249"><a href="/math/const.go.html#2255223">Pi</a></span><span class="op" id="2249251">/</span><span class="num" id="2249252">2</span><span class="op" id="2249253">,</span>&nbsp;<span class="ident" id="2249255"><a href="/math/atan2.go.html#2248730">y</a></span><span class="op" id="2249256">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2249259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2249263">//&nbsp;Call&nbsp;atan&nbsp;and&nbsp;determine&nbsp;the&nbsp;quadrant.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2249305">q</span>&nbsp;<span class="op" id="2249307">:=</span>&nbsp;<span class="ident" id="2249310"><a href="/math/atan.go.html#2247777">Atan</a></span><span class="op" id="2249314">(</span><span class="ident" id="2249315"><a href="/math/atan2.go.html#2248730">y</a></span>&nbsp;<span class="op" id="2249317">/</span>&nbsp;<span class="ident" id="2249319"><a href="/math/atan2.go.html#2248733">x</a></span><span class="op" id="2249320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249323">if</span>&nbsp;<span class="ident" id="2249326"><a href="/math/atan2.go.html#2248733">x</a></span>&nbsp;<span class="op" id="2249328">&lt;</span>&nbsp;<span class="num" id="2249330">0</span>&nbsp;<span class="op" id="2249332">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249336">if</span>&nbsp;<span class="ident" id="2249339"><a href="/math/atan2.go.html#2249305">q</a></span>&nbsp;<span class="op" id="2249341">&lt;=</span>&nbsp;<span class="num" id="2249344">0</span>&nbsp;<span class="op" id="2249346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249351">return</span>&nbsp;<span class="ident" id="2249358"><a href="/math/atan2.go.html#2249305">q</a></span>&nbsp;<span class="op" id="2249360">+</span>&nbsp;<span class="ident" id="2249362"><a href="/math/const.go.html#2255223">Pi</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2249367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249371">return</span>&nbsp;<span class="ident" id="2249378"><a href="/math/atan2.go.html#2249305">q</a></span>&nbsp;<span class="op" id="2249380">-</span>&nbsp;<span class="ident" id="2249382"><a href="/math/const.go.html#2255223">Pi</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2249386">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249389">return</span>&nbsp;<span class="ident" id="2249396"><a href="/math/atan2.go.html#2249305">q</a></span><br>
<span class="lineno"></span><span class="op" id="2249398">}</span>
</div>
</body>
</html>
