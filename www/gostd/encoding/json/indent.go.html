<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html" class="current">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4024040">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4024096">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4024150">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4024201">package</span>&nbsp;<span class="ident" id="4024209">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4024215">import</span>&nbsp;<span class="string" id="4024222">&#34;bytes&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4024231">//&nbsp;Compact&nbsp;appends&nbsp;to&nbsp;dst&nbsp;the&nbsp;JSON-encoded&nbsp;src&nbsp;with</span><br>
<span class="lineno">10</span><span class="comment" id="4024283">//&nbsp;insignificant&nbsp;space&nbsp;characters&nbsp;elided.</span><br>
<span class="lineno"></span><span class="keyword" id="4024325">func</span>&nbsp;<span class="ident" id="4024330">Compact</span><span class="op" id="4024337">(</span><span class="ident" id="4024338">dst</span>&nbsp;<span class="op" id="4024342">*</span><span class="ident" id="4024343"><a href="/gostd/encoding/json/indent.go.html#4024222">bytes</a></span><span class="op" id="4024348">.</span><span class="ident" id="4024349"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="4024355">,</span>&nbsp;<span class="ident" id="4024357">src</span>&nbsp;<span class="op" id="4024361">[</span><span class="op" id="4024362">]</span><span class="builtintype" id="4024363">byte</span><span class="op" id="4024367">)</span>&nbsp;<span class="builtintype" id="4024369">error</span>&nbsp;<span class="op" id="4024375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4024378">return</span>&nbsp;<span class="ident" id="4024385"><a href="/gostd/encoding/json/indent.go.html#4024418">compact</a></span><span class="op" id="4024392">(</span><span class="ident" id="4024393"><a href="/gostd/encoding/json/indent.go.html#4024338">dst</a></span><span class="op" id="4024396">,</span>&nbsp;<span class="ident" id="4024398"><a href="/gostd/encoding/json/indent.go.html#4024357">src</a></span><span class="op" id="4024401">,</span>&nbsp;<span class="builtintype" id="4024403">false</span><span class="op" id="4024408">)</span><br>
<span class="lineno"></span><span class="op" id="4024410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="4024413">func</span>&nbsp;<span class="ident" id="4024418">compact</span><span class="op" id="4024425">(</span><span class="ident" id="4024426">dst</span>&nbsp;<span class="op" id="4024430">*</span><span class="ident" id="4024431"><a href="/gostd/encoding/json/indent.go.html#4024222">bytes</a></span><span class="op" id="4024436">.</span><span class="ident" id="4024437"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="4024443">,</span>&nbsp;<span class="ident" id="4024445">src</span>&nbsp;<span class="op" id="4024449">[</span><span class="op" id="4024450">]</span><span class="builtintype" id="4024451">byte</span><span class="op" id="4024455">,</span>&nbsp;<span class="ident" id="4024457">escape</span>&nbsp;<span class="builtintype" id="4024464">bool</span><span class="op" id="4024468">)</span>&nbsp;<span class="builtintype" id="4024470">error</span>&nbsp;<span class="op" id="4024476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024479">origLen</span>&nbsp;<span class="op" id="4024487">:=</span>&nbsp;<span class="ident" id="4024490"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4024493">.</span><span class="ident" id="4024494"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="4024497">(</span><span class="op" id="4024498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4024501">var</span>&nbsp;<span class="ident" id="4024505">scan</span>&nbsp;<span class="ident" id="4024510"><a href="/gostd/encoding/json/scanner.go.html#4029661">scanner</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024519"><a href="/gostd/encoding/json/indent.go.html#4024505">scan</a></span><span class="op" id="4024523">.</span><span class="ident" id="4024524"><a href="/gostd/encoding/json/scanner.go.html#4032008">reset</a></span><span class="op" id="4024529">(</span><span class="op" id="4024530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024533">start</span>&nbsp;<span class="op" id="4024539">:=</span>&nbsp;<span class="num" id="4024542">0</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4024545">for</span>&nbsp;<span class="ident" id="4024549">i</span><span class="op" id="4024550">,</span>&nbsp;<span class="ident" id="4024552">c</span>&nbsp;<span class="op" id="4024554">:=</span>&nbsp;<span class="keyword" id="4024557">range</span>&nbsp;<span class="ident" id="4024563"><a href="/gostd/encoding/json/indent.go.html#4024445">src</a></span>&nbsp;<span class="op" id="4024567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4024571">if</span>&nbsp;<span class="ident" id="4024574"><a href="/gostd/encoding/json/indent.go.html#4024457">escape</a></span>&nbsp;<span class="op" id="4024581">&amp;&amp;</span>&nbsp;<span class="op" id="4024584">(</span><span class="ident" id="4024585"><a href="/gostd/encoding/json/indent.go.html#4024552">c</a></span>&nbsp;<span class="op" id="4024587">==</span>&nbsp;<span class="string" id="4024590">&#39;&lt;&#39;</span>&nbsp;<span class="op" id="4024594">||</span>&nbsp;<span class="ident" id="4024597"><a href="/gostd/encoding/json/indent.go.html#4024552">c</a></span>&nbsp;<span class="op" id="4024599">==</span>&nbsp;<span class="string" id="4024602">&#39;&gt;&#39;</span>&nbsp;<span class="op" id="4024606">||</span>&nbsp;<span class="ident" id="4024609"><a href="/gostd/encoding/json/indent.go.html#4024552">c</a></span>&nbsp;<span class="op" id="4024611">==</span>&nbsp;<span class="string" id="4024614">&#39;&amp;&#39;</span><span class="op" id="4024617">)</span>&nbsp;<span class="op" id="4024619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4024624">if</span>&nbsp;<span class="ident" id="4024627"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span>&nbsp;<span class="op" id="4024633">&lt;</span>&nbsp;<span class="ident" id="4024635"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span>&nbsp;<span class="op" id="4024637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024643"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4024646">.</span><span class="ident" id="4024647"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="4024652">(</span><span class="ident" id="4024653"><a href="/gostd/encoding/json/indent.go.html#4024445">src</a></span><span class="op" id="4024656">[</span><span class="ident" id="4024657"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span><span class="op" id="4024662">:</span><span class="ident" id="4024663"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span><span class="op" id="4024664">]</span><span class="op" id="4024665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4024670">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024675"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4024678">.</span><span class="ident" id="4024679"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="4024690">(</span><span class="string" id="4024691">`\u00`</span><span class="op" id="4024697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024702"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4024705">.</span><span class="ident" id="4024706"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4024715">(</span><span class="ident" id="4024716"><a href="/gostd/encoding/json/encode.go.html#3998013">hex</a></span><span class="op" id="4024719">[</span><span class="ident" id="4024720"><a href="/gostd/encoding/json/indent.go.html#4024552">c</a></span><span class="op" id="4024721">&gt;&gt;</span><span class="num" id="4024723">4</span><span class="op" id="4024724">]</span><span class="op" id="4024725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024730"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4024733">.</span><span class="ident" id="4024734"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4024743">(</span><span class="ident" id="4024744"><a href="/gostd/encoding/json/encode.go.html#3998013">hex</a></span><span class="op" id="4024747">[</span><span class="ident" id="4024748"><a href="/gostd/encoding/json/indent.go.html#4024552">c</a></span><span class="op" id="4024749">&amp;</span><span class="num" id="4024750">0xF</span><span class="op" id="4024753">]</span><span class="op" id="4024754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024759"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span>&nbsp;<span class="op" id="4024765">=</span>&nbsp;<span class="ident" id="4024767"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span>&nbsp;<span class="op" id="4024769">+</span>&nbsp;<span class="num" id="4024771">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4024775">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4024779">//&nbsp;Convert&nbsp;U+2028&nbsp;and&nbsp;U+2029&nbsp;(E2&nbsp;80&nbsp;A8&nbsp;and&nbsp;E2&nbsp;80&nbsp;A9).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4024835">if</span>&nbsp;<span class="ident" id="4024838"><a href="/gostd/encoding/json/indent.go.html#4024552">c</a></span>&nbsp;<span class="op" id="4024840">==</span>&nbsp;<span class="num" id="4024843">0xE2</span>&nbsp;<span class="op" id="4024848">&amp;&amp;</span>&nbsp;<span class="ident" id="4024851"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span><span class="op" id="4024852">+</span><span class="num" id="4024853">2</span>&nbsp;<span class="op" id="4024855">&lt;</span>&nbsp;<span class="builtinfunc" id="4024857">len</span><span class="op" id="4024860">(</span><span class="ident" id="4024861"><a href="/gostd/encoding/json/indent.go.html#4024445">src</a></span><span class="op" id="4024864">)</span>&nbsp;<span class="op" id="4024866">&amp;&amp;</span>&nbsp;<span class="ident" id="4024869"><a href="/gostd/encoding/json/indent.go.html#4024445">src</a></span><span class="op" id="4024872">[</span><span class="ident" id="4024873"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span><span class="op" id="4024874">+</span><span class="num" id="4024875">1</span><span class="op" id="4024876">]</span>&nbsp;<span class="op" id="4024878">==</span>&nbsp;<span class="num" id="4024881">0x80</span>&nbsp;<span class="op" id="4024886">&amp;&amp;</span>&nbsp;<span class="ident" id="4024889"><a href="/gostd/encoding/json/indent.go.html#4024445">src</a></span><span class="op" id="4024892">[</span><span class="ident" id="4024893"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span><span class="op" id="4024894">+</span><span class="num" id="4024895">2</span><span class="op" id="4024896">]</span><span class="op" id="4024897">&amp;^</span><span class="num" id="4024899">1</span>&nbsp;<span class="op" id="4024901">==</span>&nbsp;<span class="num" id="4024904">0xA8</span>&nbsp;<span class="op" id="4024909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4024914">if</span>&nbsp;<span class="ident" id="4024917"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span>&nbsp;<span class="op" id="4024923">&lt;</span>&nbsp;<span class="ident" id="4024925"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span>&nbsp;<span class="op" id="4024927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024933"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4024936">.</span><span class="ident" id="4024937"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="4024942">(</span><span class="ident" id="4024943"><a href="/gostd/encoding/json/indent.go.html#4024445">src</a></span><span class="op" id="4024946">[</span><span class="ident" id="4024947"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span><span class="op" id="4024952">:</span><span class="ident" id="4024953"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span><span class="op" id="4024954">]</span><span class="op" id="4024955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4024960">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024965"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4024968">.</span><span class="ident" id="4024969"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="4024980">(</span><span class="string" id="4024981">`\u202`</span><span class="op" id="4024988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4024993"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4024996">.</span><span class="ident" id="4024997"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4025006">(</span><span class="ident" id="4025007"><a href="/gostd/encoding/json/encode.go.html#3998013">hex</a></span><span class="op" id="4025010">[</span><span class="ident" id="4025011"><a href="/gostd/encoding/json/indent.go.html#4024445">src</a></span><span class="op" id="4025014">[</span><span class="ident" id="4025015"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span><span class="op" id="4025016">+</span><span class="num" id="4025017">2</span><span class="op" id="4025018">]</span><span class="op" id="4025019">&amp;</span><span class="num" id="4025020">0xF</span><span class="op" id="4025023">]</span><span class="op" id="4025024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4025029"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span>&nbsp;<span class="op" id="4025035">=</span>&nbsp;<span class="ident" id="4025037"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span>&nbsp;<span class="op" id="4025039">+</span>&nbsp;<span class="num" id="4025041">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4025045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4025049">v</span>&nbsp;<span class="op" id="4025051">:=</span>&nbsp;<span class="ident" id="4025054"><a href="/gostd/encoding/json/indent.go.html#4024505">scan</a></span><span class="op" id="4025058">.</span><span class="ident" id="4025059"><a href="/gostd/encoding/json/scanner.go.html#4029918">step</a></span><span class="op" id="4025063">(</span><span class="op" id="4025064">&amp;</span><span class="ident" id="4025065"><a href="/gostd/encoding/json/indent.go.html#4024505">scan</a></span><span class="op" id="4025069">,</span>&nbsp;<span class="builtintype" id="4025071">int</span><span class="op" id="4025074">(</span><span class="ident" id="4025075"><a href="/gostd/encoding/json/indent.go.html#4024552">c</a></span><span class="op" id="4025076">)</span><span class="op" id="4025077">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4025081">if</span>&nbsp;<span class="ident" id="4025084"><a href="/gostd/encoding/json/indent.go.html#4025049">v</a></span>&nbsp;<span class="op" id="4025086">&gt;=</span>&nbsp;<span class="ident" id="4025089"><a href="/gostd/encoding/json/scanner.go.html#4031266">scanSkipSpace</a></span>&nbsp;<span class="op" id="4025103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4025108">if</span>&nbsp;<span class="ident" id="4025111"><a href="/gostd/encoding/json/indent.go.html#4025049">v</a></span>&nbsp;<span class="op" id="4025113">==</span>&nbsp;<span class="ident" id="4025116"><a href="/gostd/encoding/json/scanner.go.html#4031450">scanError</a></span>&nbsp;<span class="op" id="4025126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4025132">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4025141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4025146">if</span>&nbsp;<span class="ident" id="4025149"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span>&nbsp;<span class="op" id="4025155">&lt;</span>&nbsp;<span class="ident" id="4025157"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span>&nbsp;<span class="op" id="4025159">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4025165"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4025168">.</span><span class="ident" id="4025169"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="4025174">(</span><span class="ident" id="4025175"><a href="/gostd/encoding/json/indent.go.html#4024445">src</a></span><span class="op" id="4025178">[</span><span class="ident" id="4025179"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span><span class="op" id="4025184">:</span><span class="ident" id="4025185"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span><span class="op" id="4025186">]</span><span class="op" id="4025187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4025192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4025197"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span>&nbsp;<span class="op" id="4025203">=</span>&nbsp;<span class="ident" id="4025205"><a href="/gostd/encoding/json/indent.go.html#4024549">i</a></span>&nbsp;<span class="op" id="4025207">+</span>&nbsp;<span class="num" id="4025209">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4025213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4025216">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4025219">if</span>&nbsp;<span class="ident" id="4025222"><a href="/gostd/encoding/json/indent.go.html#4024505">scan</a></span><span class="op" id="4025226">.</span><span class="ident" id="4025227"><a href="/gostd/encoding/json/scanner.go.html#4032260">eof</a></span><span class="op" id="4025230">(</span><span class="op" id="4025231">)</span>&nbsp;<span class="op" id="4025233">==</span>&nbsp;<span class="ident" id="4025236"><a href="/gostd/encoding/json/scanner.go.html#4031450">scanError</a></span>&nbsp;<span class="op" id="4025246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4025250"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4025253">.</span><span class="ident" id="4025254"><a href="/gostd/bytes/buffer.go.html#1385094">Truncate</a></span><span class="op" id="4025262">(</span><span class="ident" id="4025263"><a href="/gostd/encoding/json/indent.go.html#4024479">origLen</a></span><span class="op" id="4025270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4025274">return</span>&nbsp;<span class="ident" id="4025281"><a href="/gostd/encoding/json/indent.go.html#4024505">scan</a></span><span class="op" id="4025285">.</span><span class="ident" id="4025286"><a href="/gostd/encoding/json/scanner.go.html#4030136">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4025291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4025294">if</span>&nbsp;<span class="ident" id="4025297"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span>&nbsp;<span class="op" id="4025303">&lt;</span>&nbsp;<span class="builtinfunc" id="4025305">len</span><span class="op" id="4025308">(</span><span class="ident" id="4025309"><a href="/gostd/encoding/json/indent.go.html#4024445">src</a></span><span class="op" id="4025312">)</span>&nbsp;<span class="op" id="4025314">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4025318"><a href="/gostd/encoding/json/indent.go.html#4024426">dst</a></span><span class="op" id="4025321">.</span><span class="ident" id="4025322"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="4025327">(</span><span class="ident" id="4025328"><a href="/gostd/encoding/json/indent.go.html#4024445">src</a></span><span class="op" id="4025331">[</span><span class="ident" id="4025332"><a href="/gostd/encoding/json/indent.go.html#4024533">start</a></span><span class="op" id="4025337">:</span><span class="op" id="4025338">]</span><span class="op" id="4025339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4025342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4025345">return</span>&nbsp;<span class="builtintype" id="4025352">nil</span><br>
<span class="lineno"></span><span class="op" id="4025356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="4025359">func</span>&nbsp;<span class="ident" id="4025364">newline</span><span class="op" id="4025371">(</span><span class="ident" id="4025372">dst</span>&nbsp;<span class="op" id="4025376">*</span><span class="ident" id="4025377"><a href="/gostd/encoding/json/indent.go.html#4024222">bytes</a></span><span class="op" id="4025382">.</span><span class="ident" id="4025383"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="4025389">,</span>&nbsp;<span class="ident" id="4025391">prefix</span><span class="op" id="4025397">,</span>&nbsp;<span class="ident" id="4025399">indent</span>&nbsp;<span class="builtintype" id="4025406">string</span><span class="op" id="4025412">,</span>&nbsp;<span class="ident" id="4025414">depth</span>&nbsp;<span class="builtintype" id="4025420">int</span><span class="op" id="4025423">)</span>&nbsp;<span class="op" id="4025425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4025428"><a href="/gostd/encoding/json/indent.go.html#4025372">dst</a></span><span class="op" id="4025431">.</span><span class="ident" id="4025432"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4025441">(</span><span class="string" id="4025442">&#39;\n&#39;</span><span class="op" id="4025446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4025449"><a href="/gostd/encoding/json/indent.go.html#4025372">dst</a></span><span class="op" id="4025452">.</span><span class="ident" id="4025453"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="4025464">(</span><span class="ident" id="4025465"><a href="/gostd/encoding/json/indent.go.html#4025391">prefix</a></span><span class="op" id="4025471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4025474">for</span>&nbsp;<span class="ident" id="4025478">i</span>&nbsp;<span class="op" id="4025480">:=</span>&nbsp;<span class="num" id="4025483">0</span><span class="op" id="4025484">;</span>&nbsp;<span class="ident" id="4025486"><a href="/gostd/encoding/json/indent.go.html#4025478">i</a></span>&nbsp;<span class="op" id="4025488">&lt;</span>&nbsp;<span class="ident" id="4025490"><a href="/gostd/encoding/json/indent.go.html#4025414">depth</a></span><span class="op" id="4025495">;</span>&nbsp;<span class="ident" id="4025497"><a href="/gostd/encoding/json/indent.go.html#4025478">i</a></span><span class="op" id="4025498">++</span>&nbsp;<span class="op" id="4025501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4025505"><a href="/gostd/encoding/json/indent.go.html#4025372">dst</a></span><span class="op" id="4025508">.</span><span class="ident" id="4025509"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="4025520">(</span><span class="ident" id="4025521"><a href="/gostd/encoding/json/indent.go.html#4025399">indent</a></span><span class="op" id="4025527">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4025530">}</span><br>
<span class="lineno"></span><span class="op" id="4025532">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4025535">//&nbsp;Indent&nbsp;appends&nbsp;to&nbsp;dst&nbsp;an&nbsp;indented&nbsp;form&nbsp;of&nbsp;the&nbsp;JSON-encoded&nbsp;src.</span><br>
<span class="lineno"></span><span class="comment" id="4025602">//&nbsp;Each&nbsp;element&nbsp;in&nbsp;a&nbsp;JSON&nbsp;object&nbsp;or&nbsp;array&nbsp;begins&nbsp;on&nbsp;a&nbsp;new,</span><br>
<span class="lineno">70</span><span class="comment" id="4025661">//&nbsp;indented&nbsp;line&nbsp;beginning&nbsp;with&nbsp;prefix&nbsp;followed&nbsp;by&nbsp;one&nbsp;or&nbsp;more</span><br>
<span class="lineno"></span><span class="comment" id="4025724">//&nbsp;copies&nbsp;of&nbsp;indent&nbsp;according&nbsp;to&nbsp;the&nbsp;indentation&nbsp;nesting.</span><br>
<span class="lineno"></span><span class="comment" id="4025782">//&nbsp;The&nbsp;data&nbsp;appended&nbsp;to&nbsp;dst&nbsp;does&nbsp;not&nbsp;begin&nbsp;with&nbsp;the&nbsp;prefix&nbsp;nor</span><br>
<span class="lineno"></span><span class="comment" id="4025845">//&nbsp;any&nbsp;indentation,&nbsp;and&nbsp;has&nbsp;no&nbsp;trailing&nbsp;newline,&nbsp;to&nbsp;make&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="4025905">//&nbsp;easier&nbsp;to&nbsp;embed&nbsp;inside&nbsp;other&nbsp;formatted&nbsp;JSON&nbsp;data.</span><br>
<span class="lineno">75</span><span class="keyword" id="4025958">func</span>&nbsp;<span class="ident" id="4025963">Indent</span><span class="op" id="4025969">(</span><span class="ident" id="4025970">dst</span>&nbsp;<span class="op" id="4025974">*</span><span class="ident" id="4025975"><a href="/gostd/encoding/json/indent.go.html#4024222">bytes</a></span><span class="op" id="4025980">.</span><span class="ident" id="4025981"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="4025987">,</span>&nbsp;<span class="ident" id="4025989">src</span>&nbsp;<span class="op" id="4025993">[</span><span class="op" id="4025994">]</span><span class="builtintype" id="4025995">byte</span><span class="op" id="4025999">,</span>&nbsp;<span class="ident" id="4026001">prefix</span><span class="op" id="4026007">,</span>&nbsp;<span class="ident" id="4026009">indent</span>&nbsp;<span class="builtintype" id="4026016">string</span><span class="op" id="4026022">)</span>&nbsp;<span class="builtintype" id="4026024">error</span>&nbsp;<span class="op" id="4026030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026033">origLen</span>&nbsp;<span class="op" id="4026041">:=</span>&nbsp;<span class="ident" id="4026044"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4026047">.</span><span class="ident" id="4026048"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="4026051">(</span><span class="op" id="4026052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026055">var</span>&nbsp;<span class="ident" id="4026059">scan</span>&nbsp;<span class="ident" id="4026064"><a href="/gostd/encoding/json/scanner.go.html#4029661">scanner</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026073"><a href="/gostd/encoding/json/indent.go.html#4026059">scan</a></span><span class="op" id="4026077">.</span><span class="ident" id="4026078"><a href="/gostd/encoding/json/scanner.go.html#4032008">reset</a></span><span class="op" id="4026083">(</span><span class="op" id="4026084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026087">needIndent</span>&nbsp;<span class="op" id="4026098">:=</span>&nbsp;<span class="builtintype" id="4026101">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026108">depth</span>&nbsp;<span class="op" id="4026114">:=</span>&nbsp;<span class="num" id="4026117">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026120">for</span>&nbsp;<span class="ident" id="4026124">_</span><span class="op" id="4026125">,</span>&nbsp;<span class="ident" id="4026127">c</span>&nbsp;<span class="op" id="4026129">:=</span>&nbsp;<span class="keyword" id="4026132">range</span>&nbsp;<span class="ident" id="4026138"><a href="/gostd/encoding/json/indent.go.html#4025989">src</a></span>&nbsp;<span class="op" id="4026142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026146"><a href="/gostd/encoding/json/indent.go.html#4026059">scan</a></span><span class="op" id="4026150">.</span><span class="ident" id="4026151"><a href="/gostd/encoding/json/scanner.go.html#4030301">bytes</a></span><span class="op" id="4026156">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026161">v</span>&nbsp;<span class="op" id="4026163">:=</span>&nbsp;<span class="ident" id="4026166"><a href="/gostd/encoding/json/indent.go.html#4026059">scan</a></span><span class="op" id="4026170">.</span><span class="ident" id="4026171"><a href="/gostd/encoding/json/scanner.go.html#4029918">step</a></span><span class="op" id="4026175">(</span><span class="op" id="4026176">&amp;</span><span class="ident" id="4026177"><a href="/gostd/encoding/json/indent.go.html#4026059">scan</a></span><span class="op" id="4026181">,</span>&nbsp;<span class="builtintype" id="4026183">int</span><span class="op" id="4026186">(</span><span class="ident" id="4026187"><a href="/gostd/encoding/json/indent.go.html#4026127">c</a></span><span class="op" id="4026188">)</span><span class="op" id="4026189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026193">if</span>&nbsp;<span class="ident" id="4026196"><a href="/gostd/encoding/json/indent.go.html#4026161">v</a></span>&nbsp;<span class="op" id="4026198">==</span>&nbsp;<span class="ident" id="4026201"><a href="/gostd/encoding/json/scanner.go.html#4031266">scanSkipSpace</a></span>&nbsp;<span class="op" id="4026215">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026220">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4026231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026235">if</span>&nbsp;<span class="ident" id="4026238"><a href="/gostd/encoding/json/indent.go.html#4026161">v</a></span>&nbsp;<span class="op" id="4026240">==</span>&nbsp;<span class="ident" id="4026243"><a href="/gostd/encoding/json/scanner.go.html#4031450">scanError</a></span>&nbsp;<span class="op" id="4026253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026258">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4026266">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026270">if</span>&nbsp;<span class="ident" id="4026273"><a href="/gostd/encoding/json/indent.go.html#4026087">needIndent</a></span>&nbsp;<span class="op" id="4026284">&amp;&amp;</span>&nbsp;<span class="ident" id="4026287"><a href="/gostd/encoding/json/indent.go.html#4026161">v</a></span>&nbsp;<span class="op" id="4026289">!=</span>&nbsp;<span class="ident" id="4026292"><a href="/gostd/encoding/json/scanner.go.html#4031020">scanEndObject</a></span>&nbsp;<span class="op" id="4026306">&amp;&amp;</span>&nbsp;<span class="ident" id="4026309"><a href="/gostd/encoding/json/indent.go.html#4026161">v</a></span>&nbsp;<span class="op" id="4026311">!=</span>&nbsp;<span class="ident" id="4026314"><a href="/gostd/encoding/json/scanner.go.html#4031191">scanEndArray</a></span>&nbsp;<span class="op" id="4026327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026332"><a href="/gostd/encoding/json/indent.go.html#4026087">needIndent</a></span>&nbsp;<span class="op" id="4026343">=</span>&nbsp;<span class="builtintype" id="4026345">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026354"><a href="/gostd/encoding/json/indent.go.html#4026108">depth</a></span><span class="op" id="4026359">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026365"><a href="/gostd/encoding/json/indent.go.html#4025364">newline</a></span><span class="op" id="4026372">(</span><span class="ident" id="4026373"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4026376">,</span>&nbsp;<span class="ident" id="4026378"><a href="/gostd/encoding/json/indent.go.html#4026001">prefix</a></span><span class="op" id="4026384">,</span>&nbsp;<span class="ident" id="4026386"><a href="/gostd/encoding/json/indent.go.html#4026009">indent</a></span><span class="op" id="4026392">,</span>&nbsp;<span class="ident" id="4026394"><a href="/gostd/encoding/json/indent.go.html#4026108">depth</a></span><span class="op" id="4026399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4026403">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4026408">//&nbsp;Emit&nbsp;semantically&nbsp;uninteresting&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4026451">//&nbsp;(in&nbsp;particular,&nbsp;punctuation&nbsp;in&nbsp;strings)&nbsp;unmodified.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026508">if</span>&nbsp;<span class="ident" id="4026511"><a href="/gostd/encoding/json/indent.go.html#4026161">v</a></span>&nbsp;<span class="op" id="4026513">==</span>&nbsp;<span class="ident" id="4026516"><a href="/gostd/encoding/json/scanner.go.html#4030735">scanContinue</a></span>&nbsp;<span class="op" id="4026529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026534"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4026537">.</span><span class="ident" id="4026538"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4026547">(</span><span class="ident" id="4026548"><a href="/gostd/encoding/json/indent.go.html#4026127">c</a></span><span class="op" id="4026549">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026554">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4026565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4026570">//&nbsp;Add&nbsp;spacing&nbsp;around&nbsp;real&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026612">switch</span>&nbsp;<span class="ident" id="4026619"><a href="/gostd/encoding/json/indent.go.html#4026127">c</a></span>&nbsp;<span class="op" id="4026621">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026625">case</span>&nbsp;<span class="string" id="4026630">&#39;{&#39;</span><span class="op" id="4026633">,</span>&nbsp;<span class="string" id="4026635">&#39;[&#39;</span><span class="op" id="4026638">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4026643">//&nbsp;delay&nbsp;indent&nbsp;so&nbsp;that&nbsp;empty&nbsp;object&nbsp;and&nbsp;array&nbsp;are&nbsp;formatted&nbsp;as&nbsp;{}&nbsp;and&nbsp;[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026721"><a href="/gostd/encoding/json/indent.go.html#4026087">needIndent</a></span>&nbsp;<span class="op" id="4026732">=</span>&nbsp;<span class="builtintype" id="4026734">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026742"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4026745">.</span><span class="ident" id="4026746"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4026755">(</span><span class="ident" id="4026756"><a href="/gostd/encoding/json/indent.go.html#4026127">c</a></span><span class="op" id="4026757">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026762">case</span>&nbsp;<span class="string" id="4026767">&#39;,&#39;</span><span class="op" id="4026770">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026775"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4026778">.</span><span class="ident" id="4026779"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4026788">(</span><span class="ident" id="4026789"><a href="/gostd/encoding/json/indent.go.html#4026127">c</a></span><span class="op" id="4026790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026795"><a href="/gostd/encoding/json/indent.go.html#4025364">newline</a></span><span class="op" id="4026802">(</span><span class="ident" id="4026803"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4026806">,</span>&nbsp;<span class="ident" id="4026808"><a href="/gostd/encoding/json/indent.go.html#4026001">prefix</a></span><span class="op" id="4026814">,</span>&nbsp;<span class="ident" id="4026816"><a href="/gostd/encoding/json/indent.go.html#4026009">indent</a></span><span class="op" id="4026822">,</span>&nbsp;<span class="ident" id="4026824"><a href="/gostd/encoding/json/indent.go.html#4026108">depth</a></span><span class="op" id="4026829">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026834">case</span>&nbsp;<span class="string" id="4026839">&#39;:&#39;</span><span class="op" id="4026842">:</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026847"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4026850">.</span><span class="ident" id="4026851"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4026860">(</span><span class="ident" id="4026861"><a href="/gostd/encoding/json/indent.go.html#4026127">c</a></span><span class="op" id="4026862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026867"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4026870">.</span><span class="ident" id="4026871"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4026880">(</span><span class="string" id="4026881">&#39;&nbsp;&#39;</span><span class="op" id="4026884">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026889">case</span>&nbsp;<span class="string" id="4026894">&#39;}&#39;</span><span class="op" id="4026897">,</span>&nbsp;<span class="string" id="4026899">&#39;]&#39;</span><span class="op" id="4026902">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4026907">if</span>&nbsp;<span class="ident" id="4026910"><a href="/gostd/encoding/json/indent.go.html#4026087">needIndent</a></span>&nbsp;<span class="op" id="4026921">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4026927">//&nbsp;suppress&nbsp;indent&nbsp;in&nbsp;empty&nbsp;object/array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4026972"><a href="/gostd/encoding/json/indent.go.html#4026087">needIndent</a></span>&nbsp;<span class="op" id="4026983">=</span>&nbsp;<span class="builtintype" id="4026985">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4026994">}</span>&nbsp;<span class="keyword" id="4026996">else</span>&nbsp;<span class="op" id="4027001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4027007"><a href="/gostd/encoding/json/indent.go.html#4026108">depth</a></span><span class="op" id="4027012">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4027019"><a href="/gostd/encoding/json/indent.go.html#4025364">newline</a></span><span class="op" id="4027026">(</span><span class="ident" id="4027027"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4027030">,</span>&nbsp;<span class="ident" id="4027032"><a href="/gostd/encoding/json/indent.go.html#4026001">prefix</a></span><span class="op" id="4027038">,</span>&nbsp;<span class="ident" id="4027040"><a href="/gostd/encoding/json/indent.go.html#4026009">indent</a></span><span class="op" id="4027046">,</span>&nbsp;<span class="ident" id="4027048"><a href="/gostd/encoding/json/indent.go.html#4026108">depth</a></span><span class="op" id="4027053">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4027058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4027063"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4027066">.</span><span class="ident" id="4027067"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4027076">(</span><span class="ident" id="4027077"><a href="/gostd/encoding/json/indent.go.html#4026127">c</a></span><span class="op" id="4027078">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4027083">default</span><span class="op" id="4027090">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4027095"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4027098">.</span><span class="ident" id="4027099"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4027108">(</span><span class="ident" id="4027109"><a href="/gostd/encoding/json/indent.go.html#4026127">c</a></span><span class="op" id="4027110">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4027114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4027117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4027120">if</span>&nbsp;<span class="ident" id="4027123"><a href="/gostd/encoding/json/indent.go.html#4026059">scan</a></span><span class="op" id="4027127">.</span><span class="ident" id="4027128"><a href="/gostd/encoding/json/scanner.go.html#4032260">eof</a></span><span class="op" id="4027131">(</span><span class="op" id="4027132">)</span>&nbsp;<span class="op" id="4027134">==</span>&nbsp;<span class="ident" id="4027137"><a href="/gostd/encoding/json/scanner.go.html#4031450">scanError</a></span>&nbsp;<span class="op" id="4027147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4027151"><a href="/gostd/encoding/json/indent.go.html#4025970">dst</a></span><span class="op" id="4027154">.</span><span class="ident" id="4027155"><a href="/gostd/bytes/buffer.go.html#1385094">Truncate</a></span><span class="op" id="4027163">(</span><span class="ident" id="4027164"><a href="/gostd/encoding/json/indent.go.html#4026033">origLen</a></span><span class="op" id="4027171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4027175">return</span>&nbsp;<span class="ident" id="4027182"><a href="/gostd/encoding/json/indent.go.html#4026059">scan</a></span><span class="op" id="4027186">.</span><span class="ident" id="4027187"><a href="/gostd/encoding/json/scanner.go.html#4030136">err</a></span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4027192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4027195">return</span>&nbsp;<span class="builtintype" id="4027202">nil</span><br>
<span class="lineno"></span><span class="op" id="4027206">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
