<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html" class="current">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1679224">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;authors&nbsp;of&nbsp;this&nbsp;software&nbsp;are&nbsp;Rob&nbsp;Pike&nbsp;and&nbsp;Ken&nbsp;Thompson.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2002&nbsp;by&nbsp;Lucent&nbsp;Technologies.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portions&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
<span class="lineno">5</span>&nbsp;*&nbsp;Permission&nbsp;to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;and&nbsp;distribute&nbsp;this&nbsp;software&nbsp;for&nbsp;any<br>
<span class="lineno"></span>&nbsp;*&nbsp;purpose&nbsp;without&nbsp;fee&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;provided&nbsp;that&nbsp;this&nbsp;entire&nbsp;notice<br>
<span class="lineno"></span>&nbsp;*&nbsp;is&nbsp;included&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;any&nbsp;software&nbsp;which&nbsp;is&nbsp;or&nbsp;includes&nbsp;a&nbsp;copy<br>
<span class="lineno"></span>&nbsp;*&nbsp;or&nbsp;modification&nbsp;of&nbsp;this&nbsp;software&nbsp;and&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;the&nbsp;supporting<br>
<span class="lineno"></span>&nbsp;*&nbsp;documentation&nbsp;for&nbsp;such&nbsp;software.<br>
<span class="lineno">10</span>&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;BEING&nbsp;PROVIDED&nbsp;&#34;AS&nbsp;IS&#34;,&nbsp;WITHOUT&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED<br>
<span class="lineno"></span>&nbsp;*&nbsp;WARRANTY.&nbsp;&nbsp;IN&nbsp;PARTICULAR,&nbsp;NEITHER&nbsp;THE&nbsp;AUTHORS&nbsp;NOR&nbsp;LUCENT&nbsp;TECHNOLOGIES&nbsp;MAKE&nbsp;ANY<br>
<span class="lineno"></span>&nbsp;*&nbsp;REPRESENTATION&nbsp;OR&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND&nbsp;CONCERNING&nbsp;THE&nbsp;MERCHANTABILITY<br>
<span class="lineno"></span>&nbsp;*&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE&nbsp;OR&nbsp;ITS&nbsp;FITNESS&nbsp;FOR&nbsp;ANY&nbsp;PARTICULAR&nbsp;PURPOSE.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1680053">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;code&nbsp;is&nbsp;copied,&nbsp;with&nbsp;slight&nbsp;editing&nbsp;due&nbsp;to&nbsp;type&nbsp;differences,<br>
<span class="lineno"></span>&nbsp;*&nbsp;from&nbsp;a&nbsp;subset&nbsp;of&nbsp;../lib9/utf/rune.c<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1680169">package</span>&nbsp;<span class="ident" id="1680177">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1680186">const</span>&nbsp;<span class="op" id="1680192">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680195">bit1</span>&nbsp;<span class="op" id="1680200">=</span>&nbsp;<span class="num" id="1680202">7</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680205">bitx</span>&nbsp;<span class="op" id="1680210">=</span>&nbsp;<span class="num" id="1680212">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680215">bit2</span>&nbsp;<span class="op" id="1680220">=</span>&nbsp;<span class="num" id="1680222">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680225">bit3</span>&nbsp;<span class="op" id="1680230">=</span>&nbsp;<span class="num" id="1680232">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680235">bit4</span>&nbsp;<span class="op" id="1680240">=</span>&nbsp;<span class="num" id="1680242">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680245">bit5</span>&nbsp;<span class="op" id="1680250">=</span>&nbsp;<span class="num" id="1680252">2</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680256">t1</span>&nbsp;<span class="op" id="1680259">=</span>&nbsp;<span class="op" id="1680261">(</span><span class="op" id="1680262">(</span><span class="num" id="1680263">1</span>&nbsp;<span class="op" id="1680265">&lt;&lt;</span>&nbsp;<span class="op" id="1680268">(</span><span class="ident" id="1680269"><a href="/gostd/runtime/rune.go.html#1680195">bit1</a></span>&nbsp;<span class="op" id="1680274">+</span>&nbsp;<span class="num" id="1680276">1</span><span class="op" id="1680277">)</span><span class="op" id="1680278">)</span>&nbsp;<span class="op" id="1680280">-</span>&nbsp;<span class="num" id="1680282">1</span><span class="op" id="1680283">)</span>&nbsp;<span class="op" id="1680285">^</span>&nbsp;<span class="num" id="1680287">0xFF</span>&nbsp;<span class="comment" id="1680292">/*&nbsp;0000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680309">tx</span>&nbsp;<span class="op" id="1680312">=</span>&nbsp;<span class="op" id="1680314">(</span><span class="op" id="1680315">(</span><span class="num" id="1680316">1</span>&nbsp;<span class="op" id="1680318">&lt;&lt;</span>&nbsp;<span class="op" id="1680321">(</span><span class="ident" id="1680322"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span>&nbsp;<span class="op" id="1680327">+</span>&nbsp;<span class="num" id="1680329">1</span><span class="op" id="1680330">)</span><span class="op" id="1680331">)</span>&nbsp;<span class="op" id="1680333">-</span>&nbsp;<span class="num" id="1680335">1</span><span class="op" id="1680336">)</span>&nbsp;<span class="op" id="1680338">^</span>&nbsp;<span class="num" id="1680340">0xFF</span>&nbsp;<span class="comment" id="1680345">/*&nbsp;1000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680362">t2</span>&nbsp;<span class="op" id="1680365">=</span>&nbsp;<span class="op" id="1680367">(</span><span class="op" id="1680368">(</span><span class="num" id="1680369">1</span>&nbsp;<span class="op" id="1680371">&lt;&lt;</span>&nbsp;<span class="op" id="1680374">(</span><span class="ident" id="1680375"><a href="/gostd/runtime/rune.go.html#1680215">bit2</a></span>&nbsp;<span class="op" id="1680380">+</span>&nbsp;<span class="num" id="1680382">1</span><span class="op" id="1680383">)</span><span class="op" id="1680384">)</span>&nbsp;<span class="op" id="1680386">-</span>&nbsp;<span class="num" id="1680388">1</span><span class="op" id="1680389">)</span>&nbsp;<span class="op" id="1680391">^</span>&nbsp;<span class="num" id="1680393">0xFF</span>&nbsp;<span class="comment" id="1680398">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680415">t3</span>&nbsp;<span class="op" id="1680418">=</span>&nbsp;<span class="op" id="1680420">(</span><span class="op" id="1680421">(</span><span class="num" id="1680422">1</span>&nbsp;<span class="op" id="1680424">&lt;&lt;</span>&nbsp;<span class="op" id="1680427">(</span><span class="ident" id="1680428"><a href="/gostd/runtime/rune.go.html#1680225">bit3</a></span>&nbsp;<span class="op" id="1680433">+</span>&nbsp;<span class="num" id="1680435">1</span><span class="op" id="1680436">)</span><span class="op" id="1680437">)</span>&nbsp;<span class="op" id="1680439">-</span>&nbsp;<span class="num" id="1680441">1</span><span class="op" id="1680442">)</span>&nbsp;<span class="op" id="1680444">^</span>&nbsp;<span class="num" id="1680446">0xFF</span>&nbsp;<span class="comment" id="1680451">/*&nbsp;1110&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680468">t4</span>&nbsp;<span class="op" id="1680471">=</span>&nbsp;<span class="op" id="1680473">(</span><span class="op" id="1680474">(</span><span class="num" id="1680475">1</span>&nbsp;<span class="op" id="1680477">&lt;&lt;</span>&nbsp;<span class="op" id="1680480">(</span><span class="ident" id="1680481"><a href="/gostd/runtime/rune.go.html#1680235">bit4</a></span>&nbsp;<span class="op" id="1680486">+</span>&nbsp;<span class="num" id="1680488">1</span><span class="op" id="1680489">)</span><span class="op" id="1680490">)</span>&nbsp;<span class="op" id="1680492">-</span>&nbsp;<span class="num" id="1680494">1</span><span class="op" id="1680495">)</span>&nbsp;<span class="op" id="1680497">^</span>&nbsp;<span class="num" id="1680499">0xFF</span>&nbsp;<span class="comment" id="1680504">/*&nbsp;1111&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680521">t5</span>&nbsp;<span class="op" id="1680524">=</span>&nbsp;<span class="op" id="1680526">(</span><span class="op" id="1680527">(</span><span class="num" id="1680528">1</span>&nbsp;<span class="op" id="1680530">&lt;&lt;</span>&nbsp;<span class="op" id="1680533">(</span><span class="ident" id="1680534"><a href="/gostd/runtime/rune.go.html#1680245">bit5</a></span>&nbsp;<span class="op" id="1680539">+</span>&nbsp;<span class="num" id="1680541">1</span><span class="op" id="1680542">)</span><span class="op" id="1680543">)</span>&nbsp;<span class="op" id="1680545">-</span>&nbsp;<span class="num" id="1680547">1</span><span class="op" id="1680548">)</span>&nbsp;<span class="op" id="1680550">^</span>&nbsp;<span class="num" id="1680552">0xFF</span>&nbsp;<span class="comment" id="1680557">/*&nbsp;1111&nbsp;1000&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680575">rune1</span>&nbsp;<span class="op" id="1680581">=</span>&nbsp;<span class="op" id="1680583">(</span><span class="num" id="1680584">1</span>&nbsp;<span class="op" id="1680586">&lt;&lt;</span>&nbsp;<span class="op" id="1680589">(</span><span class="ident" id="1680590"><a href="/gostd/runtime/rune.go.html#1680195">bit1</a></span>&nbsp;<span class="op" id="1680595">+</span>&nbsp;<span class="num" id="1680597">0</span><span class="op" id="1680598">*</span><span class="ident" id="1680599"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1680603">)</span><span class="op" id="1680604">)</span>&nbsp;<span class="op" id="1680606">-</span>&nbsp;<span class="num" id="1680608">1</span>&nbsp;<span class="comment" id="1680610">/*&nbsp;0000&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680637">rune2</span>&nbsp;<span class="op" id="1680643">=</span>&nbsp;<span class="op" id="1680645">(</span><span class="num" id="1680646">1</span>&nbsp;<span class="op" id="1680648">&lt;&lt;</span>&nbsp;<span class="op" id="1680651">(</span><span class="ident" id="1680652"><a href="/gostd/runtime/rune.go.html#1680215">bit2</a></span>&nbsp;<span class="op" id="1680657">+</span>&nbsp;<span class="num" id="1680659">1</span><span class="op" id="1680660">*</span><span class="ident" id="1680661"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1680665">)</span><span class="op" id="1680666">)</span>&nbsp;<span class="op" id="1680668">-</span>&nbsp;<span class="num" id="1680670">1</span>&nbsp;<span class="comment" id="1680672">/*&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680699">rune3</span>&nbsp;<span class="op" id="1680705">=</span>&nbsp;<span class="op" id="1680707">(</span><span class="num" id="1680708">1</span>&nbsp;<span class="op" id="1680710">&lt;&lt;</span>&nbsp;<span class="op" id="1680713">(</span><span class="ident" id="1680714"><a href="/gostd/runtime/rune.go.html#1680225">bit3</a></span>&nbsp;<span class="op" id="1680719">+</span>&nbsp;<span class="num" id="1680721">2</span><span class="op" id="1680722">*</span><span class="ident" id="1680723"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1680727">)</span><span class="op" id="1680728">)</span>&nbsp;<span class="op" id="1680730">-</span>&nbsp;<span class="num" id="1680732">1</span>&nbsp;<span class="comment" id="1680734">/*&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680761">rune4</span>&nbsp;<span class="op" id="1680767">=</span>&nbsp;<span class="op" id="1680769">(</span><span class="num" id="1680770">1</span>&nbsp;<span class="op" id="1680772">&lt;&lt;</span>&nbsp;<span class="op" id="1680775">(</span><span class="ident" id="1680776"><a href="/gostd/runtime/rune.go.html#1680235">bit4</a></span>&nbsp;<span class="op" id="1680781">+</span>&nbsp;<span class="num" id="1680783">3</span><span class="op" id="1680784">*</span><span class="ident" id="1680785"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1680789">)</span><span class="op" id="1680790">)</span>&nbsp;<span class="op" id="1680792">-</span>&nbsp;<span class="num" id="1680794">1</span>&nbsp;<span class="comment" id="1680796">/*&nbsp;0001&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680834">maskx</span>&nbsp;<span class="op" id="1680840">=</span>&nbsp;<span class="op" id="1680842">(</span><span class="num" id="1680843">1</span>&nbsp;<span class="op" id="1680845">&lt;&lt;</span>&nbsp;<span class="ident" id="1680848"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1680852">)</span>&nbsp;<span class="op" id="1680854">-</span>&nbsp;<span class="num" id="1680856">1</span>&nbsp;<span class="comment" id="1680858">/*&nbsp;0011&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680875">testx</span>&nbsp;<span class="op" id="1680881">=</span>&nbsp;<span class="ident" id="1680883"><a href="/gostd/runtime/rune.go.html#1680834">maskx</a></span>&nbsp;<span class="op" id="1680889">^</span>&nbsp;<span class="num" id="1680891">0xFF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1680899">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680917">runeerror</span>&nbsp;<span class="op" id="1680927">=</span>&nbsp;<span class="num" id="1680929">0xFFFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680937">runeself</span>&nbsp;&nbsp;<span class="op" id="1680947">=</span>&nbsp;<span class="num" id="1680949">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680956">surrogateMin</span>&nbsp;<span class="op" id="1680969">=</span>&nbsp;<span class="num" id="1680971">0xD800</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680979">surrogateMax</span>&nbsp;<span class="op" id="1680992">=</span>&nbsp;<span class="num" id="1680994">0xDFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681003">bad</span>&nbsp;<span class="op" id="1681007">=</span>&nbsp;<span class="ident" id="1681009"><a href="/gostd/runtime/rune.go.html#1680917">runeerror</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681021">runemax</span>&nbsp;<span class="op" id="1681029">=</span>&nbsp;<span class="num" id="1681031">0x10FFFF</span>&nbsp;<span class="comment" id="1681040">/*&nbsp;maximum&nbsp;rune&nbsp;value&nbsp;*/</span><br>
<span class="lineno">55</span><span class="op" id="1681065">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1681068">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Modified&nbsp;by&nbsp;Wei-Hwa&nbsp;Huang,&nbsp;Google&nbsp;Inc.,&nbsp;on&nbsp;2004-09-24<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;is&nbsp;a&nbsp;slower&nbsp;but&nbsp;&#34;safe&#34;&nbsp;version&nbsp;of&nbsp;the&nbsp;old&nbsp;chartorune<br>
<span class="lineno">60</span>&nbsp;*&nbsp;that&nbsp;works&nbsp;on&nbsp;strings&nbsp;that&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;null-terminated.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;If&nbsp;you&nbsp;know&nbsp;for&nbsp;sure&nbsp;that&nbsp;your&nbsp;string&nbsp;is&nbsp;null-terminated,<br>
<span class="lineno"></span>&nbsp;*&nbsp;chartorune&nbsp;will&nbsp;be&nbsp;a&nbsp;bit&nbsp;faster.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno">65</span>&nbsp;*&nbsp;It&nbsp;is&nbsp;guaranteed&nbsp;not&nbsp;to&nbsp;attempt&nbsp;to&nbsp;access&nbsp;&#34;length&#34;<br>
<span class="lineno"></span>&nbsp;*&nbsp;past&nbsp;the&nbsp;incoming&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is&nbsp;to&nbsp;avoid<br>
<span class="lineno"></span>&nbsp;*&nbsp;possible&nbsp;access&nbsp;violations.&nbsp;&nbsp;If&nbsp;the&nbsp;string&nbsp;appears&nbsp;to&nbsp;be<br>
<span class="lineno"></span>&nbsp;*&nbsp;well-formed&nbsp;but&nbsp;incomplete&nbsp;(i.e.,&nbsp;to&nbsp;get&nbsp;the&nbsp;whole&nbsp;Rune<br>
<span class="lineno"></span>&nbsp;*&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;read&nbsp;past&nbsp;str+length)&nbsp;then&nbsp;we&#39;ll&nbsp;set&nbsp;the&nbsp;Rune<br>
<span class="lineno">70</span>&nbsp;*&nbsp;to&nbsp;Bad&nbsp;and&nbsp;return&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Note&nbsp;that&nbsp;if&nbsp;we&nbsp;have&nbsp;decoding&nbsp;problems&nbsp;for&nbsp;other<br>
<span class="lineno"></span>&nbsp;*&nbsp;reasons,&nbsp;we&nbsp;return&nbsp;1&nbsp;instead&nbsp;of&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">75</span><span class="keyword" id="1681763">func</span>&nbsp;<span class="ident" id="1681768">charntorune</span><span class="op" id="1681779">(</span><span class="ident" id="1681780">s</span>&nbsp;<span class="builtintype" id="1681782">string</span><span class="op" id="1681788">)</span>&nbsp;<span class="op" id="1681790">(</span><span class="builtintype" id="1681791">rune</span><span class="op" id="1681795">,</span>&nbsp;<span class="builtintype" id="1681797">int</span><span class="op" id="1681800">)</span>&nbsp;<span class="op" id="1681802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1681805">/*&nbsp;When&nbsp;we&#39;re&nbsp;not&nbsp;allowed&nbsp;to&nbsp;read&nbsp;anything&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681852">if</span>&nbsp;<span class="builtinfunc" id="1681855">len</span><span class="op" id="1681858">(</span><span class="ident" id="1681859"><a href="/gostd/runtime/rune.go.html#1681780">s</a></span><span class="op" id="1681860">)</span>&nbsp;<span class="op" id="1681862">&lt;=</span>&nbsp;<span class="num" id="1681865">0</span>&nbsp;<span class="op" id="1681867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681871">return</span>&nbsp;<span class="ident" id="1681878"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1681881">,</span>&nbsp;<span class="num" id="1681883">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1681886">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1681890">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence&nbsp;(7-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;00000-0007F&nbsp;=&gt;&nbsp;T1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681962">c</span>&nbsp;<span class="op" id="1681964">:=</span>&nbsp;<span class="ident" id="1681967"><a href="/gostd/runtime/rune.go.html#1681780">s</a></span><span class="op" id="1681968">[</span><span class="num" id="1681969">0</span><span class="op" id="1681970">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681973">if</span>&nbsp;<span class="ident" id="1681976"><a href="/gostd/runtime/rune.go.html#1681962">c</a></span>&nbsp;<span class="op" id="1681978">&lt;</span>&nbsp;<span class="ident" id="1681980"><a href="/gostd/runtime/rune.go.html#1680309">tx</a></span>&nbsp;<span class="op" id="1681983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681987">return</span>&nbsp;<span class="builtintype" id="1681994">rune</span><span class="op" id="1681998">(</span><span class="ident" id="1681999"><a href="/gostd/runtime/rune.go.html#1681962">c</a></span><span class="op" id="1682000">)</span><span class="op" id="1682001">,</span>&nbsp;<span class="num" id="1682003">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1682010">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;one&nbsp;character&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682068">if</span>&nbsp;<span class="builtinfunc" id="1682071">len</span><span class="op" id="1682074">(</span><span class="ident" id="1682075"><a href="/gostd/runtime/rune.go.html#1681780">s</a></span><span class="op" id="1682076">)</span>&nbsp;<span class="op" id="1682078">&lt;=</span>&nbsp;<span class="num" id="1682081">1</span>&nbsp;<span class="op" id="1682083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682087">return</span>&nbsp;<span class="ident" id="1682094"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1682097">,</span>&nbsp;<span class="num" id="1682099">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1682106">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence&nbsp;(11-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1682180">c1</span>&nbsp;<span class="op" id="1682183">:=</span>&nbsp;<span class="ident" id="1682186"><a href="/gostd/runtime/rune.go.html#1681780">s</a></span><span class="op" id="1682187">[</span><span class="num" id="1682188">1</span><span class="op" id="1682189">]</span>&nbsp;<span class="op" id="1682191">^</span>&nbsp;<span class="ident" id="1682193"><a href="/gostd/runtime/rune.go.html#1680309">tx</a></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682197">if</span>&nbsp;<span class="op" id="1682200">(</span><span class="ident" id="1682201"><a href="/gostd/runtime/rune.go.html#1682180">c1</a></span>&nbsp;<span class="op" id="1682204">&amp;</span>&nbsp;<span class="ident" id="1682206"><a href="/gostd/runtime/rune.go.html#1680875">testx</a></span><span class="op" id="1682211">)</span>&nbsp;<span class="op" id="1682213">!=</span>&nbsp;<span class="num" id="1682216">0</span>&nbsp;<span class="op" id="1682218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682222">return</span>&nbsp;<span class="ident" id="1682229"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1682232">,</span>&nbsp;<span class="num" id="1682234">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682240">if</span>&nbsp;<span class="ident" id="1682243"><a href="/gostd/runtime/rune.go.html#1681962">c</a></span>&nbsp;<span class="op" id="1682245">&lt;</span>&nbsp;<span class="ident" id="1682247"><a href="/gostd/runtime/rune.go.html#1680415">t3</a></span>&nbsp;<span class="op" id="1682250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682254">if</span>&nbsp;<span class="ident" id="1682257"><a href="/gostd/runtime/rune.go.html#1681962">c</a></span>&nbsp;<span class="op" id="1682259">&lt;</span>&nbsp;<span class="ident" id="1682261"><a href="/gostd/runtime/rune.go.html#1680362">t2</a></span>&nbsp;<span class="op" id="1682264">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682269">return</span>&nbsp;<span class="ident" id="1682276"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1682279">,</span>&nbsp;<span class="num" id="1682281">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1682289">l</span>&nbsp;<span class="op" id="1682291">:=</span>&nbsp;<span class="op" id="1682294">(</span><span class="op" id="1682295">(</span><span class="builtintype" id="1682296">rune</span><span class="op" id="1682300">(</span><span class="ident" id="1682301"><a href="/gostd/runtime/rune.go.html#1681962">c</a></span><span class="op" id="1682302">)</span>&nbsp;<span class="op" id="1682304">&lt;&lt;</span>&nbsp;<span class="ident" id="1682307"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1682311">)</span>&nbsp;<span class="op" id="1682313">|</span>&nbsp;<span class="builtintype" id="1682315">rune</span><span class="op" id="1682319">(</span><span class="ident" id="1682320"><a href="/gostd/runtime/rune.go.html#1682180">c1</a></span><span class="op" id="1682322">)</span><span class="op" id="1682323">)</span>&nbsp;<span class="op" id="1682325">&amp;</span>&nbsp;<span class="ident" id="1682327"><a href="/gostd/runtime/rune.go.html#1680637">rune2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682335">if</span>&nbsp;<span class="ident" id="1682338"><a href="/gostd/runtime/rune.go.html#1682289">l</a></span>&nbsp;<span class="op" id="1682340">&lt;=</span>&nbsp;<span class="ident" id="1682343"><a href="/gostd/runtime/rune.go.html#1680575">rune1</a></span>&nbsp;<span class="op" id="1682349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682354">return</span>&nbsp;<span class="ident" id="1682361"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1682364">,</span>&nbsp;<span class="num" id="1682366">1</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682374">return</span>&nbsp;<span class="ident" id="1682381"><a href="/gostd/runtime/rune.go.html#1682289">l</a></span><span class="op" id="1682382">,</span>&nbsp;<span class="num" id="1682384">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1682391">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;two&nbsp;characters&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682450">if</span>&nbsp;<span class="builtinfunc" id="1682453">len</span><span class="op" id="1682456">(</span><span class="ident" id="1682457"><a href="/gostd/runtime/rune.go.html#1681780">s</a></span><span class="op" id="1682458">)</span>&nbsp;<span class="op" id="1682460">&lt;=</span>&nbsp;<span class="num" id="1682463">2</span>&nbsp;<span class="op" id="1682465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682469">return</span>&nbsp;<span class="ident" id="1682476"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1682479">,</span>&nbsp;<span class="num" id="1682481">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1682488">/*<br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence&nbsp;(16-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1682567">c2</span>&nbsp;<span class="op" id="1682570">:=</span>&nbsp;<span class="ident" id="1682573"><a href="/gostd/runtime/rune.go.html#1681780">s</a></span><span class="op" id="1682574">[</span><span class="num" id="1682575">2</span><span class="op" id="1682576">]</span>&nbsp;<span class="op" id="1682578">^</span>&nbsp;<span class="ident" id="1682580"><a href="/gostd/runtime/rune.go.html#1680309">tx</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682584">if</span>&nbsp;<span class="op" id="1682587">(</span><span class="ident" id="1682588"><a href="/gostd/runtime/rune.go.html#1682567">c2</a></span>&nbsp;<span class="op" id="1682591">&amp;</span>&nbsp;<span class="ident" id="1682593"><a href="/gostd/runtime/rune.go.html#1680875">testx</a></span><span class="op" id="1682598">)</span>&nbsp;<span class="op" id="1682600">!=</span>&nbsp;<span class="num" id="1682603">0</span>&nbsp;<span class="op" id="1682605">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682609">return</span>&nbsp;<span class="ident" id="1682616"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1682619">,</span>&nbsp;<span class="num" id="1682621">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682627">if</span>&nbsp;<span class="ident" id="1682630"><a href="/gostd/runtime/rune.go.html#1681962">c</a></span>&nbsp;<span class="op" id="1682632">&lt;</span>&nbsp;<span class="ident" id="1682634"><a href="/gostd/runtime/rune.go.html#1680468">t4</a></span>&nbsp;<span class="op" id="1682637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1682641">l</span>&nbsp;<span class="op" id="1682643">:=</span>&nbsp;<span class="op" id="1682646">(</span><span class="op" id="1682647">(</span><span class="op" id="1682648">(</span><span class="op" id="1682649">(</span><span class="builtintype" id="1682650">rune</span><span class="op" id="1682654">(</span><span class="ident" id="1682655"><a href="/gostd/runtime/rune.go.html#1681962">c</a></span><span class="op" id="1682656">)</span>&nbsp;<span class="op" id="1682658">&lt;&lt;</span>&nbsp;<span class="ident" id="1682661"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1682665">)</span>&nbsp;<span class="op" id="1682667">|</span>&nbsp;<span class="builtintype" id="1682669">rune</span><span class="op" id="1682673">(</span><span class="ident" id="1682674"><a href="/gostd/runtime/rune.go.html#1682180">c1</a></span><span class="op" id="1682676">)</span><span class="op" id="1682677">)</span>&nbsp;<span class="op" id="1682679">&lt;&lt;</span>&nbsp;<span class="ident" id="1682682"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1682686">)</span>&nbsp;<span class="op" id="1682688">|</span>&nbsp;<span class="builtintype" id="1682690">rune</span><span class="op" id="1682694">(</span><span class="ident" id="1682695"><a href="/gostd/runtime/rune.go.html#1682567">c2</a></span><span class="op" id="1682697">)</span><span class="op" id="1682698">)</span>&nbsp;<span class="op" id="1682700">&amp;</span>&nbsp;<span class="ident" id="1682702"><a href="/gostd/runtime/rune.go.html#1680699">rune3</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682710">if</span>&nbsp;<span class="ident" id="1682713"><a href="/gostd/runtime/rune.go.html#1682641">l</a></span>&nbsp;<span class="op" id="1682715">&lt;=</span>&nbsp;<span class="ident" id="1682718"><a href="/gostd/runtime/rune.go.html#1680637">rune2</a></span>&nbsp;<span class="op" id="1682724">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682729">return</span>&nbsp;<span class="ident" id="1682736"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1682739">,</span>&nbsp;<span class="num" id="1682741">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682749">if</span>&nbsp;<span class="ident" id="1682752"><a href="/gostd/runtime/rune.go.html#1680956">surrogateMin</a></span>&nbsp;<span class="op" id="1682765">&lt;=</span>&nbsp;<span class="ident" id="1682768"><a href="/gostd/runtime/rune.go.html#1682641">l</a></span>&nbsp;<span class="op" id="1682770">&amp;&amp;</span>&nbsp;<span class="ident" id="1682773"><a href="/gostd/runtime/rune.go.html#1682641">l</a></span>&nbsp;<span class="op" id="1682775">&lt;=</span>&nbsp;<span class="ident" id="1682778"><a href="/gostd/runtime/rune.go.html#1680979">surrogateMax</a></span>&nbsp;<span class="op" id="1682791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682796">return</span>&nbsp;<span class="ident" id="1682803"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1682806">,</span>&nbsp;<span class="num" id="1682808">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682812">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682816">return</span>&nbsp;<span class="ident" id="1682823"><a href="/gostd/runtime/rune.go.html#1682641">l</a></span><span class="op" id="1682824">,</span>&nbsp;<span class="num" id="1682826">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682833">if</span>&nbsp;<span class="builtinfunc" id="1682836">len</span><span class="op" id="1682839">(</span><span class="ident" id="1682840"><a href="/gostd/runtime/rune.go.html#1681780">s</a></span><span class="op" id="1682841">)</span>&nbsp;<span class="op" id="1682843">&lt;=</span>&nbsp;<span class="num" id="1682846">3</span>&nbsp;<span class="op" id="1682848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682852">return</span>&nbsp;<span class="ident" id="1682859"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1682862">,</span>&nbsp;<span class="num" id="1682864">1</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1682871">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1682955">c3</span>&nbsp;<span class="op" id="1682958">:=</span>&nbsp;<span class="ident" id="1682961"><a href="/gostd/runtime/rune.go.html#1681780">s</a></span><span class="op" id="1682962">[</span><span class="num" id="1682963">3</span><span class="op" id="1682964">]</span>&nbsp;<span class="op" id="1682966">^</span>&nbsp;<span class="ident" id="1682968"><a href="/gostd/runtime/rune.go.html#1680309">tx</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682972">if</span>&nbsp;<span class="op" id="1682975">(</span><span class="ident" id="1682976"><a href="/gostd/runtime/rune.go.html#1682955">c3</a></span>&nbsp;<span class="op" id="1682979">&amp;</span>&nbsp;<span class="ident" id="1682981"><a href="/gostd/runtime/rune.go.html#1680875">testx</a></span><span class="op" id="1682986">)</span>&nbsp;<span class="op" id="1682988">!=</span>&nbsp;<span class="num" id="1682991">0</span>&nbsp;<span class="op" id="1682993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682997">return</span>&nbsp;<span class="ident" id="1683004"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1683007">,</span>&nbsp;<span class="num" id="1683009">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683012">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683015">if</span>&nbsp;<span class="ident" id="1683018"><a href="/gostd/runtime/rune.go.html#1681962">c</a></span>&nbsp;<span class="op" id="1683020">&lt;</span>&nbsp;<span class="ident" id="1683022"><a href="/gostd/runtime/rune.go.html#1680521">t5</a></span>&nbsp;<span class="op" id="1683025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683029">l</span>&nbsp;<span class="op" id="1683031">:=</span>&nbsp;<span class="op" id="1683034">(</span><span class="op" id="1683035">(</span><span class="op" id="1683036">(</span><span class="op" id="1683037">(</span><span class="op" id="1683038">(</span><span class="op" id="1683039">(</span><span class="builtintype" id="1683040">rune</span><span class="op" id="1683044">(</span><span class="ident" id="1683045"><a href="/gostd/runtime/rune.go.html#1681962">c</a></span><span class="op" id="1683046">)</span>&nbsp;<span class="op" id="1683048">&lt;&lt;</span>&nbsp;<span class="ident" id="1683051"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1683055">)</span>&nbsp;<span class="op" id="1683057">|</span>&nbsp;<span class="builtintype" id="1683059">rune</span><span class="op" id="1683063">(</span><span class="ident" id="1683064"><a href="/gostd/runtime/rune.go.html#1682180">c1</a></span><span class="op" id="1683066">)</span><span class="op" id="1683067">)</span>&nbsp;<span class="op" id="1683069">&lt;&lt;</span>&nbsp;<span class="ident" id="1683072"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1683076">)</span>&nbsp;<span class="op" id="1683078">|</span>&nbsp;<span class="builtintype" id="1683080">rune</span><span class="op" id="1683084">(</span><span class="ident" id="1683085"><a href="/gostd/runtime/rune.go.html#1682567">c2</a></span><span class="op" id="1683087">)</span><span class="op" id="1683088">)</span>&nbsp;<span class="op" id="1683090">&lt;&lt;</span>&nbsp;<span class="ident" id="1683093"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1683097">)</span>&nbsp;<span class="op" id="1683099">|</span>&nbsp;<span class="builtintype" id="1683101">rune</span><span class="op" id="1683105">(</span><span class="ident" id="1683106"><a href="/gostd/runtime/rune.go.html#1682955">c3</a></span><span class="op" id="1683108">)</span><span class="op" id="1683109">)</span>&nbsp;<span class="op" id="1683111">&amp;</span>&nbsp;<span class="ident" id="1683113"><a href="/gostd/runtime/rune.go.html#1680761">rune4</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683121">if</span>&nbsp;<span class="ident" id="1683124"><a href="/gostd/runtime/rune.go.html#1683029">l</a></span>&nbsp;<span class="op" id="1683126">&lt;=</span>&nbsp;<span class="ident" id="1683129"><a href="/gostd/runtime/rune.go.html#1680699">rune3</a></span>&nbsp;<span class="op" id="1683135">||</span>&nbsp;<span class="ident" id="1683138"><a href="/gostd/runtime/rune.go.html#1683029">l</a></span>&nbsp;<span class="op" id="1683140">&gt;</span>&nbsp;<span class="ident" id="1683142"><a href="/gostd/runtime/rune.go.html#1681021">runemax</a></span>&nbsp;<span class="op" id="1683150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683155">return</span>&nbsp;<span class="ident" id="1683162"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1683165">,</span>&nbsp;<span class="num" id="1683167">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683171">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683175">return</span>&nbsp;<span class="ident" id="1683182"><a href="/gostd/runtime/rune.go.html#1683029">l</a></span><span class="op" id="1683183">,</span>&nbsp;<span class="num" id="1683185">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1683192">//&nbsp;Support&nbsp;for&nbsp;5-byte&nbsp;or&nbsp;longer&nbsp;UTF-8&nbsp;would&nbsp;go&nbsp;here,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1683250">//&nbsp;since&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;that,&nbsp;we&#39;ll&nbsp;just&nbsp;return&nbsp;bad.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683303">return</span>&nbsp;<span class="ident" id="1683310"><a href="/gostd/runtime/rune.go.html#1681003">bad</a></span><span class="op" id="1683313">,</span>&nbsp;<span class="num" id="1683315">1</span><br>
<span class="lineno"></span><span class="op" id="1683317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1683320">//&nbsp;runetochar&nbsp;converts&nbsp;r&nbsp;to&nbsp;bytes&nbsp;and&nbsp;writes&nbsp;the&nbsp;result&nbsp;to&nbsp;str.</span><br>
<span class="lineno"></span><span class="comment" id="1683384">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;generated.</span><br>
<span class="lineno">165</span><span class="keyword" id="1683426">func</span>&nbsp;<span class="ident" id="1683431">runetochar</span><span class="op" id="1683441">(</span><span class="ident" id="1683442">str</span>&nbsp;<span class="op" id="1683446">[</span><span class="op" id="1683447">]</span><span class="builtintype" id="1683448">byte</span><span class="op" id="1683452">,</span>&nbsp;<span class="ident" id="1683454">r</span>&nbsp;<span class="builtintype" id="1683456">rune</span><span class="op" id="1683460">)</span>&nbsp;<span class="builtintype" id="1683462">int</span>&nbsp;<span class="op" id="1683466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1683469">/*&nbsp;runes&nbsp;are&nbsp;signed,&nbsp;so&nbsp;convert&nbsp;to&nbsp;unsigned&nbsp;for&nbsp;range&nbsp;check.&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683534">c</span>&nbsp;<span class="op" id="1683536">:=</span>&nbsp;<span class="builtintype" id="1683539">uint32</span><span class="op" id="1683545">(</span><span class="ident" id="1683546"><a href="/gostd/runtime/rune.go.html#1683454">r</a></span><span class="op" id="1683547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1683550">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence<br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;00000-0007F&nbsp;=&gt;&nbsp;00-7F<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683611">if</span>&nbsp;<span class="ident" id="1683614"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1683616">&lt;=</span>&nbsp;<span class="ident" id="1683619"><a href="/gostd/runtime/rune.go.html#1680575">rune1</a></span>&nbsp;<span class="op" id="1683625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683629"><a href="/gostd/runtime/rune.go.html#1683442">str</a></span><span class="op" id="1683632">[</span><span class="num" id="1683633">0</span><span class="op" id="1683634">]</span>&nbsp;<span class="op" id="1683636">=</span>&nbsp;<span class="builtintype" id="1683638">byte</span><span class="op" id="1683642">(</span><span class="ident" id="1683643"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span><span class="op" id="1683644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683648">return</span>&nbsp;<span class="num" id="1683655">1</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1683661">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683720">if</span>&nbsp;<span class="ident" id="1683723"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1683725">&lt;=</span>&nbsp;<span class="ident" id="1683728"><a href="/gostd/runtime/rune.go.html#1680637">rune2</a></span>&nbsp;<span class="op" id="1683734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683738"><a href="/gostd/runtime/rune.go.html#1683442">str</a></span><span class="op" id="1683741">[</span><span class="num" id="1683742">0</span><span class="op" id="1683743">]</span>&nbsp;<span class="op" id="1683745">=</span>&nbsp;<span class="builtintype" id="1683747">byte</span><span class="op" id="1683751">(</span><span class="ident" id="1683752"><a href="/gostd/runtime/rune.go.html#1680362">t2</a></span>&nbsp;<span class="op" id="1683755">|</span>&nbsp;<span class="op" id="1683757">(</span><span class="ident" id="1683758"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1683760">&gt;&gt;</span>&nbsp;<span class="op" id="1683763">(</span><span class="num" id="1683764">1</span>&nbsp;<span class="op" id="1683766">*</span>&nbsp;<span class="ident" id="1683768"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1683772">)</span><span class="op" id="1683773">)</span><span class="op" id="1683774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683778"><a href="/gostd/runtime/rune.go.html#1683442">str</a></span><span class="op" id="1683781">[</span><span class="num" id="1683782">1</span><span class="op" id="1683783">]</span>&nbsp;<span class="op" id="1683785">=</span>&nbsp;<span class="builtintype" id="1683787">byte</span><span class="op" id="1683791">(</span><span class="ident" id="1683792"><a href="/gostd/runtime/rune.go.html#1680309">tx</a></span>&nbsp;<span class="op" id="1683795">|</span>&nbsp;<span class="op" id="1683797">(</span><span class="ident" id="1683798"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1683800">&amp;</span>&nbsp;<span class="ident" id="1683802"><a href="/gostd/runtime/rune.go.html#1680834">maskx</a></span><span class="op" id="1683807">)</span><span class="op" id="1683808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683812">return</span>&nbsp;<span class="num" id="1683819">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683822">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1683826">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;rune&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;or&nbsp;a&nbsp;surrogate&nbsp;half,&nbsp;convert&nbsp;it&nbsp;to&nbsp;the&nbsp;error&nbsp;rune.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Do&nbsp;this&nbsp;test&nbsp;here&nbsp;because&nbsp;the&nbsp;error&nbsp;rune&nbsp;encodes&nbsp;to&nbsp;three&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Doing&nbsp;it&nbsp;earlier&nbsp;would&nbsp;duplicate&nbsp;work,&nbsp;since&nbsp;an&nbsp;out&nbsp;of&nbsp;range<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;rune&nbsp;wouldn&#39;t&nbsp;have&nbsp;fit&nbsp;in&nbsp;one&nbsp;or&nbsp;two&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684100">if</span>&nbsp;<span class="ident" id="1684103"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684105">&gt;</span>&nbsp;<span class="ident" id="1684107"><a href="/gostd/runtime/rune.go.html#1681021">runemax</a></span>&nbsp;<span class="op" id="1684115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684119"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684121">=</span>&nbsp;<span class="ident" id="1684123"><a href="/gostd/runtime/rune.go.html#1680917">runeerror</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1684134">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684137">if</span>&nbsp;<span class="ident" id="1684140"><a href="/gostd/runtime/rune.go.html#1680956">surrogateMin</a></span>&nbsp;<span class="op" id="1684153">&lt;=</span>&nbsp;<span class="ident" id="1684156"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684158">&amp;&amp;</span>&nbsp;<span class="ident" id="1684161"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684163">&lt;=</span>&nbsp;<span class="ident" id="1684166"><a href="/gostd/runtime/rune.go.html#1680979">surrogateMax</a></span>&nbsp;<span class="op" id="1684179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684183"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684185">=</span>&nbsp;<span class="ident" id="1684187"><a href="/gostd/runtime/rune.go.html#1680917">runeerror</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1684198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1684202">/*<br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684266">if</span>&nbsp;<span class="ident" id="1684269"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684271">&lt;=</span>&nbsp;<span class="ident" id="1684274"><a href="/gostd/runtime/rune.go.html#1680699">rune3</a></span>&nbsp;<span class="op" id="1684280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684284"><a href="/gostd/runtime/rune.go.html#1683442">str</a></span><span class="op" id="1684287">[</span><span class="num" id="1684288">0</span><span class="op" id="1684289">]</span>&nbsp;<span class="op" id="1684291">=</span>&nbsp;<span class="builtintype" id="1684293">byte</span><span class="op" id="1684297">(</span><span class="ident" id="1684298"><a href="/gostd/runtime/rune.go.html#1680415">t3</a></span>&nbsp;<span class="op" id="1684301">|</span>&nbsp;<span class="op" id="1684303">(</span><span class="ident" id="1684304"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684306">&gt;&gt;</span>&nbsp;<span class="op" id="1684309">(</span><span class="num" id="1684310">2</span>&nbsp;<span class="op" id="1684312">*</span>&nbsp;<span class="ident" id="1684314"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1684318">)</span><span class="op" id="1684319">)</span><span class="op" id="1684320">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684324"><a href="/gostd/runtime/rune.go.html#1683442">str</a></span><span class="op" id="1684327">[</span><span class="num" id="1684328">1</span><span class="op" id="1684329">]</span>&nbsp;<span class="op" id="1684331">=</span>&nbsp;<span class="builtintype" id="1684333">byte</span><span class="op" id="1684337">(</span><span class="ident" id="1684338"><a href="/gostd/runtime/rune.go.html#1680309">tx</a></span>&nbsp;<span class="op" id="1684341">|</span>&nbsp;<span class="op" id="1684343">(</span><span class="op" id="1684344">(</span><span class="ident" id="1684345"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684347">&gt;&gt;</span>&nbsp;<span class="op" id="1684350">(</span><span class="num" id="1684351">1</span>&nbsp;<span class="op" id="1684353">*</span>&nbsp;<span class="ident" id="1684355"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1684359">)</span><span class="op" id="1684360">)</span>&nbsp;<span class="op" id="1684362">&amp;</span>&nbsp;<span class="ident" id="1684364"><a href="/gostd/runtime/rune.go.html#1680834">maskx</a></span><span class="op" id="1684369">)</span><span class="op" id="1684370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684374"><a href="/gostd/runtime/rune.go.html#1683442">str</a></span><span class="op" id="1684377">[</span><span class="num" id="1684378">2</span><span class="op" id="1684379">]</span>&nbsp;<span class="op" id="1684381">=</span>&nbsp;<span class="builtintype" id="1684383">byte</span><span class="op" id="1684387">(</span><span class="ident" id="1684388"><a href="/gostd/runtime/rune.go.html#1680309">tx</a></span>&nbsp;<span class="op" id="1684391">|</span>&nbsp;<span class="op" id="1684393">(</span><span class="ident" id="1684394"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684396">&amp;</span>&nbsp;<span class="ident" id="1684398"><a href="/gostd/runtime/rune.go.html#1680834">maskx</a></span><span class="op" id="1684403">)</span><span class="op" id="1684404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684408">return</span>&nbsp;<span class="num" id="1684415">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1684418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1684422">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684510"><a href="/gostd/runtime/rune.go.html#1683442">str</a></span><span class="op" id="1684513">[</span><span class="num" id="1684514">0</span><span class="op" id="1684515">]</span>&nbsp;<span class="op" id="1684517">=</span>&nbsp;<span class="builtintype" id="1684519">byte</span><span class="op" id="1684523">(</span><span class="ident" id="1684524"><a href="/gostd/runtime/rune.go.html#1680468">t4</a></span>&nbsp;<span class="op" id="1684527">|</span>&nbsp;<span class="op" id="1684529">(</span><span class="ident" id="1684530"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684532">&gt;&gt;</span>&nbsp;<span class="op" id="1684535">(</span><span class="num" id="1684536">3</span>&nbsp;<span class="op" id="1684538">*</span>&nbsp;<span class="ident" id="1684540"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1684544">)</span><span class="op" id="1684545">)</span><span class="op" id="1684546">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684549"><a href="/gostd/runtime/rune.go.html#1683442">str</a></span><span class="op" id="1684552">[</span><span class="num" id="1684553">1</span><span class="op" id="1684554">]</span>&nbsp;<span class="op" id="1684556">=</span>&nbsp;<span class="builtintype" id="1684558">byte</span><span class="op" id="1684562">(</span><span class="ident" id="1684563"><a href="/gostd/runtime/rune.go.html#1680309">tx</a></span>&nbsp;<span class="op" id="1684566">|</span>&nbsp;<span class="op" id="1684568">(</span><span class="op" id="1684569">(</span><span class="ident" id="1684570"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684572">&gt;&gt;</span>&nbsp;<span class="op" id="1684575">(</span><span class="num" id="1684576">2</span>&nbsp;<span class="op" id="1684578">*</span>&nbsp;<span class="ident" id="1684580"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1684584">)</span><span class="op" id="1684585">)</span>&nbsp;<span class="op" id="1684587">&amp;</span>&nbsp;<span class="ident" id="1684589"><a href="/gostd/runtime/rune.go.html#1680834">maskx</a></span><span class="op" id="1684594">)</span><span class="op" id="1684595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684598"><a href="/gostd/runtime/rune.go.html#1683442">str</a></span><span class="op" id="1684601">[</span><span class="num" id="1684602">2</span><span class="op" id="1684603">]</span>&nbsp;<span class="op" id="1684605">=</span>&nbsp;<span class="builtintype" id="1684607">byte</span><span class="op" id="1684611">(</span><span class="ident" id="1684612"><a href="/gostd/runtime/rune.go.html#1680309">tx</a></span>&nbsp;<span class="op" id="1684615">|</span>&nbsp;<span class="op" id="1684617">(</span><span class="op" id="1684618">(</span><span class="ident" id="1684619"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684621">&gt;&gt;</span>&nbsp;<span class="op" id="1684624">(</span><span class="num" id="1684625">1</span>&nbsp;<span class="op" id="1684627">*</span>&nbsp;<span class="ident" id="1684629"><a href="/gostd/runtime/rune.go.html#1680205">bitx</a></span><span class="op" id="1684633">)</span><span class="op" id="1684634">)</span>&nbsp;<span class="op" id="1684636">&amp;</span>&nbsp;<span class="ident" id="1684638"><a href="/gostd/runtime/rune.go.html#1680834">maskx</a></span><span class="op" id="1684643">)</span><span class="op" id="1684644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684647"><a href="/gostd/runtime/rune.go.html#1683442">str</a></span><span class="op" id="1684650">[</span><span class="num" id="1684651">3</span><span class="op" id="1684652">]</span>&nbsp;<span class="op" id="1684654">=</span>&nbsp;<span class="builtintype" id="1684656">byte</span><span class="op" id="1684660">(</span><span class="ident" id="1684661"><a href="/gostd/runtime/rune.go.html#1680309">tx</a></span>&nbsp;<span class="op" id="1684664">|</span>&nbsp;<span class="op" id="1684666">(</span><span class="ident" id="1684667"><a href="/gostd/runtime/rune.go.html#1683534">c</a></span>&nbsp;<span class="op" id="1684669">&amp;</span>&nbsp;<span class="ident" id="1684671"><a href="/gostd/runtime/rune.go.html#1680834">maskx</a></span><span class="op" id="1684676">)</span><span class="op" id="1684677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684680">return</span>&nbsp;<span class="num" id="1684687">4</span><br>
<span class="lineno"></span><span class="op" id="1684689">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
