<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8655800">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8655856">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8655910">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8655961">package</span>&nbsp;<span class="ident" id="8655969">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8655975">import</span>&nbsp;<span class="op" id="8655982">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8655985">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8655995">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8655998">func</span>&nbsp;<span class="ident" id="8656003">TestTagParsing</span><span class="op" id="8656017">(</span><span class="ident" id="8656018">t</span>&nbsp;<span class="op" id="8656020">*</span><span class="ident" id="8656021">testing</span><span class="op" id="8656028">.</span><span class="ident" id="8656029">T</span><span class="op" id="8656030">)</span>&nbsp;<span class="op" id="8656032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8656035">name</span><span class="op" id="8656039">,</span>&nbsp;<span class="ident" id="8656041">opts</span>&nbsp;<span class="op" id="8656046">:=</span>&nbsp;<span class="ident" id="8656049">parseTag</span><span class="op" id="8656057">(</span><span class="string" id="8656058">&#34;field,foobar,foo&#34;</span><span class="op" id="8656076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8656079">if</span>&nbsp;<span class="ident" id="8656082">name</span>&nbsp;<span class="op" id="8656087">!=</span>&nbsp;<span class="string" id="8656090">&#34;field&#34;</span>&nbsp;<span class="op" id="8656098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8656102">t</span><span class="op" id="8656103">.</span><span class="ident" id="8656104">Fatalf</span><span class="op" id="8656110">(</span><span class="string" id="8656111">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="8656134">,</span>&nbsp;<span class="ident" id="8656136">name</span><span class="op" id="8656140">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8656146">for</span>&nbsp;<span class="ident" id="8656150">_</span><span class="op" id="8656151">,</span>&nbsp;<span class="ident" id="8656153">tt</span>&nbsp;<span class="op" id="8656156">:=</span>&nbsp;<span class="keyword" id="8656159">range</span>&nbsp;<span class="op" id="8656165">[</span><span class="op" id="8656166">]</span><span class="keyword" id="8656167">struct</span>&nbsp;<span class="op" id="8656174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8656178">opt</span>&nbsp;&nbsp;<span class="builtintype" id="8656183">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8656192">want</span>&nbsp;<span class="builtintype" id="8656197">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656203">}</span><span class="op" id="8656204">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656208">{</span><span class="string" id="8656209">&#34;foobar&#34;</span><span class="op" id="8656217">,</span>&nbsp;<span class="ident" id="8656219">true</span><span class="op" id="8656223">}</span><span class="op" id="8656224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656228">{</span><span class="string" id="8656229">&#34;foo&#34;</span><span class="op" id="8656234">,</span>&nbsp;<span class="ident" id="8656236">true</span><span class="op" id="8656240">}</span><span class="op" id="8656241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656245">{</span><span class="string" id="8656246">&#34;bar&#34;</span><span class="op" id="8656251">,</span>&nbsp;<span class="ident" id="8656253">false</span><span class="op" id="8656258">}</span><span class="op" id="8656259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656262">}</span>&nbsp;<span class="op" id="8656264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8656268">if</span>&nbsp;<span class="ident" id="8656271">opts</span><span class="op" id="8656275">.</span><span class="ident" id="8656276">Contains</span><span class="op" id="8656284">(</span><span class="ident" id="8656285">tt</span><span class="op" id="8656287">.</span><span class="ident" id="8656288">opt</span><span class="op" id="8656291">)</span>&nbsp;<span class="op" id="8656293">!=</span>&nbsp;<span class="ident" id="8656296">tt</span><span class="op" id="8656298">.</span><span class="ident" id="8656299">want</span>&nbsp;<span class="op" id="8656304">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8656309">t</span><span class="op" id="8656310">.</span><span class="ident" id="8656311">Errorf</span><span class="op" id="8656317">(</span><span class="string" id="8656318">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="8656337">,</span>&nbsp;<span class="ident" id="8656339">tt</span><span class="op" id="8656341">.</span><span class="ident" id="8656342">opt</span><span class="op" id="8656345">,</span>&nbsp;<span class="op" id="8656347">!</span><span class="ident" id="8656348">tt</span><span class="op" id="8656350">.</span><span class="ident" id="8656351">want</span><span class="op" id="8656355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656362">}</span><br>
<span class="lineno"></span><span class="op" id="8656364">}</span>
</div>
</body>
</html>
