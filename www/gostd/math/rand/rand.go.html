<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/rand</h2>
<ul>
<li><a href="/gostd/math/rand/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/rand/exp.go.html">exp.go</a></li>
<li><a href="/gostd/math/rand/normal.go.html">normal.go</a></li>
<li><a href="/gostd/math/rand/rand.go.html" class="current">rand.go</a></li>
<li><a href="/gostd/math/rand/rand_test.go.html">rand_test.go</a></li>
<li><a href="/gostd/math/rand/regress_test.go.html">regress_test.go</a></li>
<li><a href="/gostd/math/rand/rng.go.html">rng.go</a></li>
<li><a href="/gostd/math/rand/zipf.go.html">zipf.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3307668">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3307723">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3307777">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3307828">//&nbsp;Package&nbsp;rand&nbsp;implements&nbsp;pseudo-random&nbsp;number&nbsp;generators.</span><br>
<span class="lineno"></span><span class="comment" id="3307888">//</span><br>
<span class="lineno"></span><span class="comment" id="3307891">//&nbsp;Random&nbsp;numbers&nbsp;are&nbsp;generated&nbsp;by&nbsp;a&nbsp;Source.&nbsp;Top-level&nbsp;functions,&nbsp;such&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="3307965">//&nbsp;Float64&nbsp;and&nbsp;Int,&nbsp;use&nbsp;a&nbsp;default&nbsp;shared&nbsp;Source&nbsp;that&nbsp;produces&nbsp;a&nbsp;deterministic</span><br>
<span class="lineno"></span><span class="comment" id="3308043">//&nbsp;sequence&nbsp;of&nbsp;values&nbsp;each&nbsp;time&nbsp;a&nbsp;program&nbsp;is&nbsp;run.&nbsp;Use&nbsp;the&nbsp;Seed&nbsp;function&nbsp;to</span><br>
<span class="lineno">10</span><span class="comment" id="3308118">//&nbsp;initialize&nbsp;the&nbsp;default&nbsp;Source&nbsp;if&nbsp;different&nbsp;behavior&nbsp;is&nbsp;required&nbsp;for&nbsp;each&nbsp;run.</span><br>
<span class="lineno"></span><span class="comment" id="3308199">//&nbsp;The&nbsp;default&nbsp;Source&nbsp;is&nbsp;safe&nbsp;for&nbsp;concurrent&nbsp;use&nbsp;by&nbsp;multiple&nbsp;goroutines.</span><br>
<span class="lineno"></span><span class="keyword" id="3308272">package</span>&nbsp;<span class="ident" id="3308280">rand</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3308286">import</span>&nbsp;<span class="string" id="3308293">&#34;sync&#34;</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3308301">//&nbsp;A&nbsp;Source&nbsp;represents&nbsp;a&nbsp;source&nbsp;of&nbsp;uniformly-distributed</span><br>
<span class="lineno"></span><span class="comment" id="3308358">//&nbsp;pseudo-random&nbsp;int64&nbsp;values&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;1&lt;&lt;63).</span><br>
<span class="lineno"></span><span class="keyword" id="3308413">type</span>&nbsp;<span class="ident" id="3308418">Source</span>&nbsp;<span class="keyword" id="3308425">interface</span>&nbsp;<span class="op" id="3308435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3308438">Int63</span><span class="op" id="3308443">(</span><span class="op" id="3308444">)</span>&nbsp;<span class="ident" id="3308446">int64</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3308453">Seed</span><span class="op" id="3308457">(</span><span class="ident" id="3308458">seed</span>&nbsp;<span class="ident" id="3308463">int64</span><span class="op" id="3308468">)</span><br>
<span class="lineno"></span><span class="op" id="3308470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3308473">//&nbsp;NewSource&nbsp;returns&nbsp;a&nbsp;new&nbsp;pseudo-random&nbsp;Source&nbsp;seeded&nbsp;with&nbsp;the&nbsp;given&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="3308550">func</span>&nbsp;<span class="ident" id="3308555">NewSource</span><span class="op" id="3308564">(</span><span class="ident" id="3308565">seed</span>&nbsp;<span class="ident" id="3308570">int64</span><span class="op" id="3308575">)</span>&nbsp;<span class="ident" id="3308577">Source</span>&nbsp;<span class="op" id="3308584">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3308587">var</span>&nbsp;<span class="ident" id="3308591">rng</span>&nbsp;<span class="ident" id="3308595">rngSource</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3308606">rng</span><span class="op" id="3308609">.</span><span class="ident" id="3308610">Seed</span><span class="op" id="3308614">(</span><span class="ident" id="3308615">seed</span><span class="op" id="3308619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3308622">return</span>&nbsp;<span class="op" id="3308629">&amp;</span><span class="ident" id="3308630">rng</span><br>
<span class="lineno"></span><span class="op" id="3308634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="3308637">//&nbsp;A&nbsp;Rand&nbsp;is&nbsp;a&nbsp;source&nbsp;of&nbsp;random&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="keyword" id="3308678">type</span>&nbsp;<span class="ident" id="3308683">Rand</span>&nbsp;<span class="keyword" id="3308688">struct</span>&nbsp;<span class="op" id="3308695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3308698">src</span>&nbsp;<span class="ident" id="3308702">Source</span><br>
<span class="lineno"></span><span class="op" id="3308709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="3308712">//&nbsp;New&nbsp;returns&nbsp;a&nbsp;new&nbsp;Rand&nbsp;that&nbsp;uses&nbsp;random&nbsp;values&nbsp;from&nbsp;src</span><br>
<span class="lineno"></span><span class="comment" id="3308771">//&nbsp;to&nbsp;generate&nbsp;other&nbsp;random&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="3308807">func</span>&nbsp;<span class="ident" id="3308812">New</span><span class="op" id="3308815">(</span><span class="ident" id="3308816">src</span>&nbsp;<span class="ident" id="3308820">Source</span><span class="op" id="3308826">)</span>&nbsp;<span class="op" id="3308828">*</span><span class="ident" id="3308829">Rand</span>&nbsp;<span class="op" id="3308834">{</span>&nbsp;<span class="keyword" id="3308836">return</span>&nbsp;<span class="op" id="3308843">&amp;</span><span class="ident" id="3308844">Rand</span><span class="op" id="3308848">{</span><span class="ident" id="3308849">src</span><span class="op" id="3308852">}</span>&nbsp;<span class="op" id="3308854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3308857">//&nbsp;Seed&nbsp;uses&nbsp;the&nbsp;provided&nbsp;seed&nbsp;value&nbsp;to&nbsp;initialize&nbsp;the&nbsp;generator&nbsp;to&nbsp;a&nbsp;deterministic&nbsp;state.</span><br>
<span class="lineno">40</span><span class="keyword" id="3308948">func</span>&nbsp;<span class="op" id="3308953">(</span><span class="ident" id="3308954">r</span>&nbsp;<span class="op" id="3308956">*</span><span class="ident" id="3308957">Rand</span><span class="op" id="3308961">)</span>&nbsp;<span class="ident" id="3308963">Seed</span><span class="op" id="3308967">(</span><span class="ident" id="3308968">seed</span>&nbsp;<span class="ident" id="3308973">int64</span><span class="op" id="3308978">)</span>&nbsp;<span class="op" id="3308980">{</span>&nbsp;<span class="ident" id="3308982">r</span><span class="op" id="3308983">.</span><span class="ident" id="3308984">src</span><span class="op" id="3308987">.</span><span class="ident" id="3308988">Seed</span><span class="op" id="3308992">(</span><span class="ident" id="3308993">seed</span><span class="op" id="3308997">)</span>&nbsp;<span class="op" id="3308999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3309002">//&nbsp;Int63&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;63-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int64.</span><br>
<span class="lineno"></span><span class="keyword" id="3309076">func</span>&nbsp;<span class="op" id="3309081">(</span><span class="ident" id="3309082">r</span>&nbsp;<span class="op" id="3309084">*</span><span class="ident" id="3309085">Rand</span><span class="op" id="3309089">)</span>&nbsp;<span class="ident" id="3309091">Int63</span><span class="op" id="3309096">(</span><span class="op" id="3309097">)</span>&nbsp;<span class="ident" id="3309099">int64</span>&nbsp;<span class="op" id="3309105">{</span>&nbsp;<span class="keyword" id="3309107">return</span>&nbsp;<span class="ident" id="3309114">r</span><span class="op" id="3309115">.</span><span class="ident" id="3309116">src</span><span class="op" id="3309119">.</span><span class="ident" id="3309120">Int63</span><span class="op" id="3309125">(</span><span class="op" id="3309126">)</span>&nbsp;<span class="op" id="3309128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="3309131">//&nbsp;Uint32&nbsp;returns&nbsp;a&nbsp;pseudo-random&nbsp;32-bit&nbsp;value&nbsp;as&nbsp;a&nbsp;uint32.</span><br>
<span class="lineno"></span><span class="keyword" id="3309191">func</span>&nbsp;<span class="op" id="3309196">(</span><span class="ident" id="3309197">r</span>&nbsp;<span class="op" id="3309199">*</span><span class="ident" id="3309200">Rand</span><span class="op" id="3309204">)</span>&nbsp;<span class="ident" id="3309206">Uint32</span><span class="op" id="3309212">(</span><span class="op" id="3309213">)</span>&nbsp;<span class="builtintype" id="3309215">uint32</span>&nbsp;<span class="op" id="3309222">{</span>&nbsp;<span class="keyword" id="3309224">return</span>&nbsp;<span class="builtintype" id="3309231">uint32</span><span class="op" id="3309237">(</span><span class="ident" id="3309238">r</span><span class="op" id="3309239">.</span><span class="ident" id="3309240">Int63</span><span class="op" id="3309245">(</span><span class="op" id="3309246">)</span>&nbsp;<span class="op" id="3309248">&gt;&gt;</span>&nbsp;<span class="num" id="3309251">31</span><span class="op" id="3309253">)</span>&nbsp;<span class="op" id="3309255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3309258">//&nbsp;Int31&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;31-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int32.</span><br>
<span class="lineno"></span><span class="keyword" id="3309332">func</span>&nbsp;<span class="op" id="3309337">(</span><span class="ident" id="3309338">r</span>&nbsp;<span class="op" id="3309340">*</span><span class="ident" id="3309341">Rand</span><span class="op" id="3309345">)</span>&nbsp;<span class="ident" id="3309347">Int31</span><span class="op" id="3309352">(</span><span class="op" id="3309353">)</span>&nbsp;<span class="builtintype" id="3309355">int32</span>&nbsp;<span class="op" id="3309361">{</span>&nbsp;<span class="keyword" id="3309363">return</span>&nbsp;<span class="builtintype" id="3309370">int32</span><span class="op" id="3309375">(</span><span class="ident" id="3309376">r</span><span class="op" id="3309377">.</span><span class="ident" id="3309378">Int63</span><span class="op" id="3309383">(</span><span class="op" id="3309384">)</span>&nbsp;<span class="op" id="3309386">&gt;&gt;</span>&nbsp;<span class="num" id="3309389">32</span><span class="op" id="3309391">)</span>&nbsp;<span class="op" id="3309393">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="3309396">//&nbsp;Int&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="3309445">func</span>&nbsp;<span class="op" id="3309450">(</span><span class="ident" id="3309451">r</span>&nbsp;<span class="op" id="3309453">*</span><span class="ident" id="3309454">Rand</span><span class="op" id="3309458">)</span>&nbsp;<span class="ident" id="3309460">Int</span><span class="op" id="3309463">(</span><span class="op" id="3309464">)</span>&nbsp;<span class="builtintype" id="3309466">int</span>&nbsp;<span class="op" id="3309470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3309473">u</span>&nbsp;<span class="op" id="3309475">:=</span>&nbsp;<span class="builtintype" id="3309478">uint</span><span class="op" id="3309482">(</span><span class="ident" id="3309483">r</span><span class="op" id="3309484">.</span><span class="ident" id="3309485">Int63</span><span class="op" id="3309490">(</span><span class="op" id="3309491">)</span><span class="op" id="3309492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3309495">return</span>&nbsp;<span class="builtintype" id="3309502">int</span><span class="op" id="3309505">(</span><span class="ident" id="3309506">u</span>&nbsp;<span class="op" id="3309508">&lt;&lt;</span>&nbsp;<span class="num" id="3309511">1</span>&nbsp;<span class="op" id="3309513">&gt;&gt;</span>&nbsp;<span class="num" id="3309516">1</span><span class="op" id="3309517">)</span>&nbsp;<span class="comment" id="3309519">//&nbsp;clear&nbsp;sign&nbsp;bit&nbsp;if&nbsp;int&nbsp;==&nbsp;int32</span><br>
<span class="lineno">55</span><span class="op" id="3309553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3309556">//&nbsp;Int63n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int64,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="comment" id="3309634">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3309658">func</span>&nbsp;<span class="op" id="3309663">(</span><span class="ident" id="3309664">r</span>&nbsp;<span class="op" id="3309666">*</span><span class="ident" id="3309667">Rand</span><span class="op" id="3309671">)</span>&nbsp;<span class="ident" id="3309673">Int63n</span><span class="op" id="3309679">(</span><span class="ident" id="3309680">n</span>&nbsp;<span class="ident" id="3309682">int64</span><span class="op" id="3309687">)</span>&nbsp;<span class="ident" id="3309689">int64</span>&nbsp;<span class="op" id="3309695">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3309698">if</span>&nbsp;<span class="ident" id="3309701">n</span>&nbsp;<span class="op" id="3309703">&lt;=</span>&nbsp;<span class="num" id="3309706">0</span>&nbsp;<span class="op" id="3309708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3309712">panic</span><span class="op" id="3309717">(</span><span class="string" id="3309718">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Int63n&#34;</span><span class="op" id="3309746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3309749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3309752">if</span>&nbsp;<span class="ident" id="3309755">n</span><span class="op" id="3309756">&amp;</span><span class="op" id="3309757">(</span><span class="ident" id="3309758">n</span><span class="op" id="3309759">-</span><span class="num" id="3309760">1</span><span class="op" id="3309761">)</span>&nbsp;<span class="op" id="3309763">==</span>&nbsp;<span class="num" id="3309766">0</span>&nbsp;<span class="op" id="3309768">{</span>&nbsp;<span class="comment" id="3309770">//&nbsp;n&nbsp;is&nbsp;power&nbsp;of&nbsp;two,&nbsp;can&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3309803">return</span>&nbsp;<span class="ident" id="3309810">r</span><span class="op" id="3309811">.</span><span class="ident" id="3309812">Int63</span><span class="op" id="3309817">(</span><span class="op" id="3309818">)</span>&nbsp;<span class="op" id="3309820">&amp;</span>&nbsp;<span class="op" id="3309822">(</span><span class="ident" id="3309823">n</span>&nbsp;<span class="op" id="3309825">-</span>&nbsp;<span class="num" id="3309827">1</span><span class="op" id="3309828">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3309831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3309834">max</span>&nbsp;<span class="op" id="3309838">:=</span>&nbsp;<span class="ident" id="3309841">int64</span><span class="op" id="3309846">(</span><span class="op" id="3309847">(</span><span class="num" id="3309848">1</span>&nbsp;<span class="op" id="3309850">&lt;&lt;</span>&nbsp;<span class="num" id="3309853">63</span><span class="op" id="3309855">)</span>&nbsp;<span class="op" id="3309857">-</span>&nbsp;<span class="num" id="3309859">1</span>&nbsp;<span class="op" id="3309861">-</span>&nbsp;<span class="op" id="3309863">(</span><span class="num" id="3309864">1</span><span class="op" id="3309865">&lt;&lt;</span><span class="num" id="3309867">63</span><span class="op" id="3309869">)</span><span class="op" id="3309870">%</span><span class="ident" id="3309871">uint64</span><span class="op" id="3309877">(</span><span class="ident" id="3309878">n</span><span class="op" id="3309879">)</span><span class="op" id="3309880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3309883">v</span>&nbsp;<span class="op" id="3309885">:=</span>&nbsp;<span class="ident" id="3309888">r</span><span class="op" id="3309889">.</span><span class="ident" id="3309890">Int63</span><span class="op" id="3309895">(</span><span class="op" id="3309896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3309899">for</span>&nbsp;<span class="ident" id="3309903">v</span>&nbsp;<span class="op" id="3309905">&gt;</span>&nbsp;<span class="ident" id="3309907">max</span>&nbsp;<span class="op" id="3309911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3309915">v</span>&nbsp;<span class="op" id="3309917">=</span>&nbsp;<span class="ident" id="3309919">r</span><span class="op" id="3309920">.</span><span class="ident" id="3309921">Int63</span><span class="op" id="3309926">(</span><span class="op" id="3309927">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3309930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3309933">return</span>&nbsp;<span class="ident" id="3309940">v</span>&nbsp;<span class="op" id="3309942">%</span>&nbsp;<span class="ident" id="3309944">n</span><br>
<span class="lineno"></span><span class="op" id="3309946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3309949">//&nbsp;Int31n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int32,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno">75</span><span class="comment" id="3310027">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3310051">func</span>&nbsp;<span class="op" id="3310056">(</span><span class="ident" id="3310057">r</span>&nbsp;<span class="op" id="3310059">*</span><span class="ident" id="3310060">Rand</span><span class="op" id="3310064">)</span>&nbsp;<span class="ident" id="3310066">Int31n</span><span class="op" id="3310072">(</span><span class="ident" id="3310073">n</span>&nbsp;<span class="builtintype" id="3310075">int32</span><span class="op" id="3310080">)</span>&nbsp;<span class="builtintype" id="3310082">int32</span>&nbsp;<span class="op" id="3310088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3310091">if</span>&nbsp;<span class="ident" id="3310094">n</span>&nbsp;<span class="op" id="3310096">&lt;=</span>&nbsp;<span class="num" id="3310099">0</span>&nbsp;<span class="op" id="3310101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3310105">panic</span><span class="op" id="3310110">(</span><span class="string" id="3310111">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Int31n&#34;</span><span class="op" id="3310139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3310142">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3310145">if</span>&nbsp;<span class="ident" id="3310148">n</span><span class="op" id="3310149">&amp;</span><span class="op" id="3310150">(</span><span class="ident" id="3310151">n</span><span class="op" id="3310152">-</span><span class="num" id="3310153">1</span><span class="op" id="3310154">)</span>&nbsp;<span class="op" id="3310156">==</span>&nbsp;<span class="num" id="3310159">0</span>&nbsp;<span class="op" id="3310161">{</span>&nbsp;<span class="comment" id="3310163">//&nbsp;n&nbsp;is&nbsp;power&nbsp;of&nbsp;two,&nbsp;can&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3310196">return</span>&nbsp;<span class="ident" id="3310203">r</span><span class="op" id="3310204">.</span><span class="ident" id="3310205">Int31</span><span class="op" id="3310210">(</span><span class="op" id="3310211">)</span>&nbsp;<span class="op" id="3310213">&amp;</span>&nbsp;<span class="op" id="3310215">(</span><span class="ident" id="3310216">n</span>&nbsp;<span class="op" id="3310218">-</span>&nbsp;<span class="num" id="3310220">1</span><span class="op" id="3310221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3310224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3310227">max</span>&nbsp;<span class="op" id="3310231">:=</span>&nbsp;<span class="builtintype" id="3310234">int32</span><span class="op" id="3310239">(</span><span class="op" id="3310240">(</span><span class="num" id="3310241">1</span>&nbsp;<span class="op" id="3310243">&lt;&lt;</span>&nbsp;<span class="num" id="3310246">31</span><span class="op" id="3310248">)</span>&nbsp;<span class="op" id="3310250">-</span>&nbsp;<span class="num" id="3310252">1</span>&nbsp;<span class="op" id="3310254">-</span>&nbsp;<span class="op" id="3310256">(</span><span class="num" id="3310257">1</span><span class="op" id="3310258">&lt;&lt;</span><span class="num" id="3310260">31</span><span class="op" id="3310262">)</span><span class="op" id="3310263">%</span><span class="builtintype" id="3310264">uint32</span><span class="op" id="3310270">(</span><span class="ident" id="3310271">n</span><span class="op" id="3310272">)</span><span class="op" id="3310273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3310276">v</span>&nbsp;<span class="op" id="3310278">:=</span>&nbsp;<span class="ident" id="3310281">r</span><span class="op" id="3310282">.</span><span class="ident" id="3310283">Int31</span><span class="op" id="3310288">(</span><span class="op" id="3310289">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3310292">for</span>&nbsp;<span class="ident" id="3310296">v</span>&nbsp;<span class="op" id="3310298">&gt;</span>&nbsp;<span class="ident" id="3310300">max</span>&nbsp;<span class="op" id="3310304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3310308">v</span>&nbsp;<span class="op" id="3310310">=</span>&nbsp;<span class="ident" id="3310312">r</span><span class="op" id="3310313">.</span><span class="ident" id="3310314">Int31</span><span class="op" id="3310319">(</span><span class="op" id="3310320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3310323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3310326">return</span>&nbsp;<span class="ident" id="3310333">v</span>&nbsp;<span class="op" id="3310335">%</span>&nbsp;<span class="ident" id="3310337">n</span><br>
<span class="lineno"></span><span class="op" id="3310339">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="3310342">//&nbsp;Intn&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="comment" id="3310416">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3310440">func</span>&nbsp;<span class="op" id="3310445">(</span><span class="ident" id="3310446">r</span>&nbsp;<span class="op" id="3310448">*</span><span class="ident" id="3310449">Rand</span><span class="op" id="3310453">)</span>&nbsp;<span class="ident" id="3310455">Intn</span><span class="op" id="3310459">(</span><span class="ident" id="3310460">n</span>&nbsp;<span class="builtintype" id="3310462">int</span><span class="op" id="3310465">)</span>&nbsp;<span class="builtintype" id="3310467">int</span>&nbsp;<span class="op" id="3310471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3310474">if</span>&nbsp;<span class="ident" id="3310477">n</span>&nbsp;<span class="op" id="3310479">&lt;=</span>&nbsp;<span class="num" id="3310482">0</span>&nbsp;<span class="op" id="3310484">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3310488">panic</span><span class="op" id="3310493">(</span><span class="string" id="3310494">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Intn&#34;</span><span class="op" id="3310520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3310523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3310526">if</span>&nbsp;<span class="ident" id="3310529">n</span>&nbsp;<span class="op" id="3310531">&lt;=</span>&nbsp;<span class="num" id="3310534">1</span><span class="op" id="3310535">&lt;&lt;</span><span class="num" id="3310537">31</span><span class="op" id="3310539">-</span><span class="num" id="3310540">1</span>&nbsp;<span class="op" id="3310542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3310546">return</span>&nbsp;<span class="builtintype" id="3310553">int</span><span class="op" id="3310556">(</span><span class="ident" id="3310557">r</span><span class="op" id="3310558">.</span><span class="ident" id="3310559">Int31n</span><span class="op" id="3310565">(</span><span class="builtintype" id="3310566">int32</span><span class="op" id="3310571">(</span><span class="ident" id="3310572">n</span><span class="op" id="3310573">)</span><span class="op" id="3310574">)</span><span class="op" id="3310575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3310578">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3310581">return</span>&nbsp;<span class="builtintype" id="3310588">int</span><span class="op" id="3310591">(</span><span class="ident" id="3310592">r</span><span class="op" id="3310593">.</span><span class="ident" id="3310594">Int63n</span><span class="op" id="3310600">(</span><span class="ident" id="3310601">int64</span><span class="op" id="3310606">(</span><span class="ident" id="3310607">n</span><span class="op" id="3310608">)</span><span class="op" id="3310609">)</span><span class="op" id="3310610">)</span><br>
<span class="lineno"></span><span class="op" id="3310612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3310615">//&nbsp;Float64&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float64,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0).</span><br>
<span class="lineno"></span><span class="keyword" id="3310686">func</span>&nbsp;<span class="op" id="3310691">(</span><span class="ident" id="3310692">r</span>&nbsp;<span class="op" id="3310694">*</span><span class="ident" id="3310695">Rand</span><span class="op" id="3310699">)</span>&nbsp;<span class="ident" id="3310701">Float64</span><span class="op" id="3310708">(</span><span class="op" id="3310709">)</span>&nbsp;<span class="builtintype" id="3310711">float64</span>&nbsp;<span class="op" id="3310719">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3310722">//&nbsp;A&nbsp;clearer,&nbsp;simpler&nbsp;implementation&nbsp;would&nbsp;be:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3310770">//&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;float64(r.Int63n(1&lt;&lt;53))&nbsp;/&nbsp;(1&lt;&lt;53)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3310816">//&nbsp;However,&nbsp;Go&nbsp;1&nbsp;shipped&nbsp;with</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3310847">//&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;float64(r.Int63())&nbsp;/&nbsp;(1&nbsp;&lt;&lt;&nbsp;63)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3310889">//&nbsp;and&nbsp;we&nbsp;want&nbsp;to&nbsp;preserve&nbsp;that&nbsp;value&nbsp;stream.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3310936">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3310940">//&nbsp;There&nbsp;is&nbsp;one&nbsp;bug&nbsp;in&nbsp;the&nbsp;value&nbsp;stream:&nbsp;r.Int63()&nbsp;may&nbsp;be&nbsp;so&nbsp;close</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311008">//&nbsp;to&nbsp;1&lt;&lt;63&nbsp;that&nbsp;the&nbsp;division&nbsp;rounds&nbsp;up&nbsp;to&nbsp;1.0,&nbsp;and&nbsp;we&#39;ve&nbsp;guaranteed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311078">//&nbsp;that&nbsp;the&nbsp;result&nbsp;is&nbsp;always&nbsp;less&nbsp;than&nbsp;1.0.&nbsp;To&nbsp;fix&nbsp;that,&nbsp;we&nbsp;treat&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311149">//&nbsp;range&nbsp;as&nbsp;cyclic&nbsp;and&nbsp;map&nbsp;1&nbsp;back&nbsp;to&nbsp;0.&nbsp;This&nbsp;is&nbsp;justified&nbsp;by&nbsp;observing</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311221">//&nbsp;that&nbsp;while&nbsp;some&nbsp;of&nbsp;the&nbsp;values&nbsp;rounded&nbsp;down&nbsp;to&nbsp;0,&nbsp;nothing&nbsp;was</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311286">//&nbsp;rounding&nbsp;up&nbsp;to&nbsp;0,&nbsp;so&nbsp;0&nbsp;was&nbsp;underrepresented&nbsp;in&nbsp;the&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311350">//&nbsp;Mapping&nbsp;1&nbsp;back&nbsp;to&nbsp;zero&nbsp;restores&nbsp;some&nbsp;balance.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311400">//&nbsp;(The&nbsp;balance&nbsp;is&nbsp;not&nbsp;perfect&nbsp;because&nbsp;the&nbsp;implementation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311459">//&nbsp;returns&nbsp;denormalized&nbsp;numbers&nbsp;for&nbsp;very&nbsp;small&nbsp;r.Int63(),</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311518">//&nbsp;and&nbsp;those&nbsp;steal&nbsp;from&nbsp;what&nbsp;would&nbsp;normally&nbsp;be&nbsp;0&nbsp;results.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311578">//&nbsp;The&nbsp;remapping&nbsp;only&nbsp;happens&nbsp;1/2⁵³&nbsp;of&nbsp;the&nbsp;time,&nbsp;so&nbsp;most&nbsp;clients</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311647">//&nbsp;will&nbsp;not&nbsp;observe&nbsp;it&nbsp;anyway.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3311679">f</span>&nbsp;<span class="op" id="3311681">:=</span>&nbsp;<span class="builtintype" id="3311684">float64</span><span class="op" id="3311691">(</span><span class="ident" id="3311692">r</span><span class="op" id="3311693">.</span><span class="ident" id="3311694">Int63</span><span class="op" id="3311699">(</span><span class="op" id="3311700">)</span><span class="op" id="3311701">)</span>&nbsp;<span class="op" id="3311703">/</span>&nbsp;<span class="op" id="3311705">(</span><span class="num" id="3311706">1</span>&nbsp;<span class="op" id="3311708">&lt;&lt;</span>&nbsp;<span class="num" id="3311711">63</span><span class="op" id="3311713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3311716">if</span>&nbsp;<span class="ident" id="3311719">f</span>&nbsp;<span class="op" id="3311721">==</span>&nbsp;<span class="num" id="3311724">1</span>&nbsp;<span class="op" id="3311726">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3311730">f</span>&nbsp;<span class="op" id="3311732">=</span>&nbsp;<span class="num" id="3311734">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3311737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3311740">return</span>&nbsp;<span class="ident" id="3311747">f</span><br>
<span class="lineno"></span><span class="op" id="3311749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3311752">//&nbsp;Float32&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float32,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0).</span><br>
<span class="lineno"></span><span class="keyword" id="3311823">func</span>&nbsp;<span class="op" id="3311828">(</span><span class="ident" id="3311829">r</span>&nbsp;<span class="op" id="3311831">*</span><span class="ident" id="3311832">Rand</span><span class="op" id="3311836">)</span>&nbsp;<span class="ident" id="3311838">Float32</span><span class="op" id="3311845">(</span><span class="op" id="3311846">)</span>&nbsp;<span class="builtintype" id="3311848">float32</span>&nbsp;<span class="op" id="3311856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311859">//&nbsp;Same&nbsp;rationale&nbsp;as&nbsp;in&nbsp;Float64:&nbsp;we&nbsp;want&nbsp;to&nbsp;preserve&nbsp;the&nbsp;Go&nbsp;1&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311928">//&nbsp;stream&nbsp;except&nbsp;we&nbsp;want&nbsp;to&nbsp;fix&nbsp;it&nbsp;not&nbsp;to&nbsp;return&nbsp;1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3311982">//&nbsp;There&nbsp;is&nbsp;a&nbsp;double&nbsp;rounding&nbsp;going&nbsp;on&nbsp;here,&nbsp;but&nbsp;the&nbsp;argument&nbsp;for</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3312049">//&nbsp;mapping&nbsp;1&nbsp;to&nbsp;0&nbsp;still&nbsp;applies:&nbsp;0&nbsp;was&nbsp;underrepresented&nbsp;before,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3312114">//&nbsp;so&nbsp;mapping&nbsp;1&nbsp;to&nbsp;0&nbsp;doesn&#39;t&nbsp;cause&nbsp;too&nbsp;many&nbsp;0s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3312163">//&nbsp;This&nbsp;only&nbsp;happens&nbsp;1/2²⁴&nbsp;of&nbsp;the&nbsp;time&nbsp;(plus&nbsp;the&nbsp;1/2⁵³&nbsp;of&nbsp;the&nbsp;time&nbsp;in&nbsp;Float64).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3312250">f</span>&nbsp;<span class="op" id="3312252">:=</span>&nbsp;<span class="builtintype" id="3312255">float32</span><span class="op" id="3312262">(</span><span class="ident" id="3312263">r</span><span class="op" id="3312264">.</span><span class="ident" id="3312265">Float64</span><span class="op" id="3312272">(</span><span class="op" id="3312273">)</span><span class="op" id="3312274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3312277">if</span>&nbsp;<span class="ident" id="3312280">f</span>&nbsp;<span class="op" id="3312282">==</span>&nbsp;<span class="num" id="3312285">1</span>&nbsp;<span class="op" id="3312287">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3312291">f</span>&nbsp;<span class="op" id="3312293">=</span>&nbsp;<span class="num" id="3312295">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3312298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3312301">return</span>&nbsp;<span class="ident" id="3312308">f</span><br>
<span class="lineno"></span><span class="op" id="3312310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="comment" id="3312313">//&nbsp;Perm&nbsp;returns,&nbsp;as&nbsp;a&nbsp;slice&nbsp;of&nbsp;n&nbsp;ints,&nbsp;a&nbsp;pseudo-random&nbsp;permutation&nbsp;of&nbsp;the&nbsp;integers&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="keyword" id="3312403">func</span>&nbsp;<span class="op" id="3312408">(</span><span class="ident" id="3312409">r</span>&nbsp;<span class="op" id="3312411">*</span><span class="ident" id="3312412">Rand</span><span class="op" id="3312416">)</span>&nbsp;<span class="ident" id="3312418">Perm</span><span class="op" id="3312422">(</span><span class="ident" id="3312423">n</span>&nbsp;<span class="builtintype" id="3312425">int</span><span class="op" id="3312428">)</span>&nbsp;<span class="op" id="3312430">[</span><span class="op" id="3312431">]</span><span class="builtintype" id="3312432">int</span>&nbsp;<span class="op" id="3312436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3312439">m</span>&nbsp;<span class="op" id="3312441">:=</span>&nbsp;<span class="builtinfunc" id="3312444">make</span><span class="op" id="3312448">(</span><span class="op" id="3312449">[</span><span class="op" id="3312450">]</span><span class="builtintype" id="3312451">int</span><span class="op" id="3312454">,</span>&nbsp;<span class="ident" id="3312456">n</span><span class="op" id="3312457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3312460">for</span>&nbsp;<span class="ident" id="3312464">i</span>&nbsp;<span class="op" id="3312466">:=</span>&nbsp;<span class="num" id="3312469">0</span><span class="op" id="3312470">;</span>&nbsp;<span class="ident" id="3312472">i</span>&nbsp;<span class="op" id="3312474">&lt;</span>&nbsp;<span class="ident" id="3312476">n</span><span class="op" id="3312477">;</span>&nbsp;<span class="ident" id="3312479">i</span><span class="op" id="3312480">++</span>&nbsp;<span class="op" id="3312483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3312487">j</span>&nbsp;<span class="op" id="3312489">:=</span>&nbsp;<span class="ident" id="3312492">r</span><span class="op" id="3312493">.</span><span class="ident" id="3312494">Intn</span><span class="op" id="3312498">(</span><span class="ident" id="3312499">i</span>&nbsp;<span class="op" id="3312501">+</span>&nbsp;<span class="num" id="3312503">1</span><span class="op" id="3312504">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3312508">m</span><span class="op" id="3312509">[</span><span class="ident" id="3312510">i</span><span class="op" id="3312511">]</span>&nbsp;<span class="op" id="3312513">=</span>&nbsp;<span class="ident" id="3312515">m</span><span class="op" id="3312516">[</span><span class="ident" id="3312517">j</span><span class="op" id="3312518">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3312522">m</span><span class="op" id="3312523">[</span><span class="ident" id="3312524">j</span><span class="op" id="3312525">]</span>&nbsp;<span class="op" id="3312527">=</span>&nbsp;<span class="ident" id="3312529">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3312532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3312535">return</span>&nbsp;<span class="ident" id="3312542">m</span><br>
<span class="lineno"></span><span class="op" id="3312544">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="3312547">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Top-level&nbsp;convenience&nbsp;functions<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="3312590">var</span>&nbsp;<span class="ident" id="3312594">globalRand</span>&nbsp;<span class="op" id="3312605">=</span>&nbsp;<span class="ident" id="3312607">New</span><span class="op" id="3312610">(</span><span class="op" id="3312611">&amp;</span><span class="ident" id="3312612">lockedSource</span><span class="op" id="3312624">{</span><span class="ident" id="3312625">src</span><span class="op" id="3312628">:</span>&nbsp;<span class="ident" id="3312630">NewSource</span><span class="op" id="3312639">(</span><span class="num" id="3312640">1</span><span class="op" id="3312641">)</span><span class="op" id="3312642">}</span><span class="op" id="3312643">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3312646">//&nbsp;Seed&nbsp;uses&nbsp;the&nbsp;provided&nbsp;seed&nbsp;value&nbsp;to&nbsp;initialize&nbsp;the&nbsp;default&nbsp;Source&nbsp;to&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3312721">//&nbsp;deterministic&nbsp;state.&nbsp;If&nbsp;Seed&nbsp;is&nbsp;not&nbsp;called,&nbsp;the&nbsp;generator&nbsp;behaves&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="3312793">//&nbsp;if&nbsp;seeded&nbsp;by&nbsp;Seed(1).</span><br>
<span class="lineno">165</span><span class="keyword" id="3312818">func</span>&nbsp;<span class="ident" id="3312823">Seed</span><span class="op" id="3312827">(</span><span class="ident" id="3312828">seed</span>&nbsp;<span class="ident" id="3312833">int64</span><span class="op" id="3312838">)</span>&nbsp;<span class="op" id="3312840">{</span>&nbsp;<span class="ident" id="3312842">globalRand</span><span class="op" id="3312852">.</span><span class="ident" id="3312853">Seed</span><span class="op" id="3312857">(</span><span class="ident" id="3312858">seed</span><span class="op" id="3312862">)</span>&nbsp;<span class="op" id="3312864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3312867">//&nbsp;Int63&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;63-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int64</span><br>
<span class="lineno"></span><span class="comment" id="3312940">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3312968">func</span>&nbsp;<span class="ident" id="3312973">Int63</span><span class="op" id="3312978">(</span><span class="op" id="3312979">)</span>&nbsp;<span class="ident" id="3312981">int64</span>&nbsp;<span class="op" id="3312987">{</span>&nbsp;<span class="keyword" id="3312989">return</span>&nbsp;<span class="ident" id="3312996">globalRand</span><span class="op" id="3313006">.</span><span class="ident" id="3313007">Int63</span><span class="op" id="3313012">(</span><span class="op" id="3313013">)</span>&nbsp;<span class="op" id="3313015">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="comment" id="3313018">//&nbsp;Uint32&nbsp;returns&nbsp;a&nbsp;pseudo-random&nbsp;32-bit&nbsp;value&nbsp;as&nbsp;a&nbsp;uint32</span><br>
<span class="lineno"></span><span class="comment" id="3313077">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3313105">func</span>&nbsp;<span class="ident" id="3313110">Uint32</span><span class="op" id="3313116">(</span><span class="op" id="3313117">)</span>&nbsp;<span class="builtintype" id="3313119">uint32</span>&nbsp;<span class="op" id="3313126">{</span>&nbsp;<span class="keyword" id="3313128">return</span>&nbsp;<span class="ident" id="3313135">globalRand</span><span class="op" id="3313145">.</span><span class="ident" id="3313146">Uint32</span><span class="op" id="3313152">(</span><span class="op" id="3313153">)</span>&nbsp;<span class="op" id="3313155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="3313158">//&nbsp;Int31&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;31-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int32</span><br>
<span class="lineno"></span><span class="comment" id="3313231">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3313259">func</span>&nbsp;<span class="ident" id="3313264">Int31</span><span class="op" id="3313269">(</span><span class="op" id="3313270">)</span>&nbsp;<span class="builtintype" id="3313272">int32</span>&nbsp;<span class="op" id="3313278">{</span>&nbsp;<span class="keyword" id="3313280">return</span>&nbsp;<span class="ident" id="3313287">globalRand</span><span class="op" id="3313297">.</span><span class="ident" id="3313298">Int31</span><span class="op" id="3313303">(</span><span class="op" id="3313304">)</span>&nbsp;<span class="op" id="3313306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3313309">//&nbsp;Int&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;int&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno">180</span><span class="keyword" id="3313382">func</span>&nbsp;<span class="ident" id="3313387">Int</span><span class="op" id="3313390">(</span><span class="op" id="3313391">)</span>&nbsp;<span class="builtintype" id="3313393">int</span>&nbsp;<span class="op" id="3313397">{</span>&nbsp;<span class="keyword" id="3313399">return</span>&nbsp;<span class="ident" id="3313406">globalRand</span><span class="op" id="3313416">.</span><span class="ident" id="3313417">Int</span><span class="op" id="3313420">(</span><span class="op" id="3313421">)</span>&nbsp;<span class="op" id="3313423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3313426">//&nbsp;Int63n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int64,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3313503">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3313531">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">185</span><span class="keyword" id="3313555">func</span>&nbsp;<span class="ident" id="3313560">Int63n</span><span class="op" id="3313566">(</span><span class="ident" id="3313567">n</span>&nbsp;<span class="ident" id="3313569">int64</span><span class="op" id="3313574">)</span>&nbsp;<span class="ident" id="3313576">int64</span>&nbsp;<span class="op" id="3313582">{</span>&nbsp;<span class="keyword" id="3313584">return</span>&nbsp;<span class="ident" id="3313591">globalRand</span><span class="op" id="3313601">.</span><span class="ident" id="3313602">Int63n</span><span class="op" id="3313608">(</span><span class="ident" id="3313609">n</span><span class="op" id="3313610">)</span>&nbsp;<span class="op" id="3313612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3313615">//&nbsp;Int31n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int32,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3313692">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3313720">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">190</span><span class="keyword" id="3313744">func</span>&nbsp;<span class="ident" id="3313749">Int31n</span><span class="op" id="3313755">(</span><span class="ident" id="3313756">n</span>&nbsp;<span class="builtintype" id="3313758">int32</span><span class="op" id="3313763">)</span>&nbsp;<span class="builtintype" id="3313765">int32</span>&nbsp;<span class="op" id="3313771">{</span>&nbsp;<span class="keyword" id="3313773">return</span>&nbsp;<span class="ident" id="3313780">globalRand</span><span class="op" id="3313790">.</span><span class="ident" id="3313791">Int31n</span><span class="op" id="3313797">(</span><span class="ident" id="3313798">n</span><span class="op" id="3313799">)</span>&nbsp;<span class="op" id="3313801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3313804">//&nbsp;Intn&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3313877">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3313905">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">195</span><span class="keyword" id="3313929">func</span>&nbsp;<span class="ident" id="3313934">Intn</span><span class="op" id="3313938">(</span><span class="ident" id="3313939">n</span>&nbsp;<span class="builtintype" id="3313941">int</span><span class="op" id="3313944">)</span>&nbsp;<span class="builtintype" id="3313946">int</span>&nbsp;<span class="op" id="3313950">{</span>&nbsp;<span class="keyword" id="3313952">return</span>&nbsp;<span class="ident" id="3313959">globalRand</span><span class="op" id="3313969">.</span><span class="ident" id="3313970">Intn</span><span class="op" id="3313974">(</span><span class="ident" id="3313975">n</span><span class="op" id="3313976">)</span>&nbsp;<span class="op" id="3313978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3313981">//&nbsp;Float64&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float64,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0)</span><br>
<span class="lineno"></span><span class="comment" id="3314051">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3314079">func</span>&nbsp;<span class="ident" id="3314084">Float64</span><span class="op" id="3314091">(</span><span class="op" id="3314092">)</span>&nbsp;<span class="builtintype" id="3314094">float64</span>&nbsp;<span class="op" id="3314102">{</span>&nbsp;<span class="keyword" id="3314104">return</span>&nbsp;<span class="ident" id="3314111">globalRand</span><span class="op" id="3314121">.</span><span class="ident" id="3314122">Float64</span><span class="op" id="3314129">(</span><span class="op" id="3314130">)</span>&nbsp;<span class="op" id="3314132">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="comment" id="3314135">//&nbsp;Float32&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float32,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0)</span><br>
<span class="lineno"></span><span class="comment" id="3314205">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3314233">func</span>&nbsp;<span class="ident" id="3314238">Float32</span><span class="op" id="3314245">(</span><span class="op" id="3314246">)</span>&nbsp;<span class="builtintype" id="3314248">float32</span>&nbsp;<span class="op" id="3314256">{</span>&nbsp;<span class="keyword" id="3314258">return</span>&nbsp;<span class="ident" id="3314265">globalRand</span><span class="op" id="3314275">.</span><span class="ident" id="3314276">Float32</span><span class="op" id="3314283">(</span><span class="op" id="3314284">)</span>&nbsp;<span class="op" id="3314286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span><span class="comment" id="3314289">//&nbsp;Perm&nbsp;returns,&nbsp;as&nbsp;a&nbsp;slice&nbsp;of&nbsp;n&nbsp;ints,&nbsp;a&nbsp;pseudo-random&nbsp;permutation&nbsp;of&nbsp;the&nbsp;integers&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3314378">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3314406">func</span>&nbsp;<span class="ident" id="3314411">Perm</span><span class="op" id="3314415">(</span><span class="ident" id="3314416">n</span>&nbsp;<span class="builtintype" id="3314418">int</span><span class="op" id="3314421">)</span>&nbsp;<span class="op" id="3314423">[</span><span class="op" id="3314424">]</span><span class="builtintype" id="3314425">int</span>&nbsp;<span class="op" id="3314429">{</span>&nbsp;<span class="keyword" id="3314431">return</span>&nbsp;<span class="ident" id="3314438">globalRand</span><span class="op" id="3314448">.</span><span class="ident" id="3314449">Perm</span><span class="op" id="3314453">(</span><span class="ident" id="3314454">n</span><span class="op" id="3314455">)</span>&nbsp;<span class="op" id="3314457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3314460">//&nbsp;NormFloat64&nbsp;returns&nbsp;a&nbsp;normally&nbsp;distributed&nbsp;float64&nbsp;in&nbsp;the&nbsp;range</span><br>
<span class="lineno">210</span><span class="comment" id="3314527">//&nbsp;[-math.MaxFloat64,&nbsp;+math.MaxFloat64]&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3314572">//&nbsp;standard&nbsp;normal&nbsp;distribution&nbsp;(mean&nbsp;=&nbsp;0,&nbsp;stddev&nbsp;=&nbsp;1)</span><br>
<span class="lineno"></span><span class="comment" id="3314627">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3314655">//&nbsp;To&nbsp;produce&nbsp;a&nbsp;different&nbsp;normal&nbsp;distribution,&nbsp;callers&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="3314714">//&nbsp;adjust&nbsp;the&nbsp;output&nbsp;using:</span><br>
<span class="lineno">215</span><span class="comment" id="3314742">//</span><br>
<span class="lineno"></span><span class="comment" id="3314745">//&nbsp;&nbsp;sample&nbsp;=&nbsp;NormFloat64()&nbsp;*&nbsp;desiredStdDev&nbsp;+&nbsp;desiredMean</span><br>
<span class="lineno"></span><span class="comment" id="3314802">//</span><br>
<span class="lineno"></span><span class="keyword" id="3314805">func</span>&nbsp;<span class="ident" id="3314810">NormFloat64</span><span class="op" id="3314821">(</span><span class="op" id="3314822">)</span>&nbsp;<span class="builtintype" id="3314824">float64</span>&nbsp;<span class="op" id="3314832">{</span>&nbsp;<span class="keyword" id="3314834">return</span>&nbsp;<span class="ident" id="3314841">globalRand</span><span class="op" id="3314851">.</span><span class="ident" id="3314852">NormFloat64</span><span class="op" id="3314863">(</span><span class="op" id="3314864">)</span>&nbsp;<span class="op" id="3314866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="3314869">//&nbsp;ExpFloat64&nbsp;returns&nbsp;an&nbsp;exponentially&nbsp;distributed&nbsp;float64&nbsp;in&nbsp;the&nbsp;range</span><br>
<span class="lineno"></span><span class="comment" id="3314941">//&nbsp;(0,&nbsp;+math.MaxFloat64]&nbsp;with&nbsp;an&nbsp;exponential&nbsp;distribution&nbsp;whose&nbsp;rate&nbsp;parameter</span><br>
<span class="lineno"></span><span class="comment" id="3315020">//&nbsp;(lambda)&nbsp;is&nbsp;1&nbsp;and&nbsp;whose&nbsp;mean&nbsp;is&nbsp;1/lambda&nbsp;(1)&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3315093">//&nbsp;To&nbsp;produce&nbsp;a&nbsp;distribution&nbsp;with&nbsp;a&nbsp;different&nbsp;rate&nbsp;parameter,</span><br>
<span class="lineno"></span><span class="comment" id="3315155">//&nbsp;callers&nbsp;can&nbsp;adjust&nbsp;the&nbsp;output&nbsp;using:</span><br>
<span class="lineno">225</span><span class="comment" id="3315195">//</span><br>
<span class="lineno"></span><span class="comment" id="3315198">//&nbsp;&nbsp;sample&nbsp;=&nbsp;ExpFloat64()&nbsp;/&nbsp;desiredRateParameter</span><br>
<span class="lineno"></span><span class="comment" id="3315247">//</span><br>
<span class="lineno"></span><span class="keyword" id="3315250">func</span>&nbsp;<span class="ident" id="3315255">ExpFloat64</span><span class="op" id="3315265">(</span><span class="op" id="3315266">)</span>&nbsp;<span class="builtintype" id="3315268">float64</span>&nbsp;<span class="op" id="3315276">{</span>&nbsp;<span class="keyword" id="3315278">return</span>&nbsp;<span class="ident" id="3315285">globalRand</span><span class="op" id="3315295">.</span><span class="ident" id="3315296">ExpFloat64</span><span class="op" id="3315306">(</span><span class="op" id="3315307">)</span>&nbsp;<span class="op" id="3315309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span><span class="keyword" id="3315312">type</span>&nbsp;<span class="ident" id="3315317">lockedSource</span>&nbsp;<span class="keyword" id="3315330">struct</span>&nbsp;<span class="op" id="3315337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3315340">lk</span>&nbsp;&nbsp;<span class="ident" id="3315344">sync</span><span class="op" id="3315348">.</span><span class="ident" id="3315349">Mutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3315356">src</span>&nbsp;<span class="ident" id="3315360">Source</span><br>
<span class="lineno"></span><span class="op" id="3315367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="3315370">func</span>&nbsp;<span class="op" id="3315375">(</span><span class="ident" id="3315376">r</span>&nbsp;<span class="op" id="3315378">*</span><span class="ident" id="3315379">lockedSource</span><span class="op" id="3315391">)</span>&nbsp;<span class="ident" id="3315393">Int63</span><span class="op" id="3315398">(</span><span class="op" id="3315399">)</span>&nbsp;<span class="op" id="3315401">(</span><span class="ident" id="3315402">n</span>&nbsp;<span class="ident" id="3315404">int64</span><span class="op" id="3315409">)</span>&nbsp;<span class="op" id="3315411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3315414">r</span><span class="op" id="3315415">.</span><span class="ident" id="3315416">lk</span><span class="op" id="3315418">.</span><span class="ident" id="3315419">Lock</span><span class="op" id="3315423">(</span><span class="op" id="3315424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3315427">n</span>&nbsp;<span class="op" id="3315429">=</span>&nbsp;<span class="ident" id="3315431">r</span><span class="op" id="3315432">.</span><span class="ident" id="3315433">src</span><span class="op" id="3315436">.</span><span class="ident" id="3315437">Int63</span><span class="op" id="3315442">(</span><span class="op" id="3315443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3315446">r</span><span class="op" id="3315447">.</span><span class="ident" id="3315448">lk</span><span class="op" id="3315450">.</span><span class="ident" id="3315451">Unlock</span><span class="op" id="3315457">(</span><span class="op" id="3315458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3315461">return</span><br>
<span class="lineno">240</span><span class="op" id="3315468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3315471">func</span>&nbsp;<span class="op" id="3315476">(</span><span class="ident" id="3315477">r</span>&nbsp;<span class="op" id="3315479">*</span><span class="ident" id="3315480">lockedSource</span><span class="op" id="3315492">)</span>&nbsp;<span class="ident" id="3315494">Seed</span><span class="op" id="3315498">(</span><span class="ident" id="3315499">seed</span>&nbsp;<span class="ident" id="3315504">int64</span><span class="op" id="3315509">)</span>&nbsp;<span class="op" id="3315511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3315514">r</span><span class="op" id="3315515">.</span><span class="ident" id="3315516">lk</span><span class="op" id="3315518">.</span><span class="ident" id="3315519">Lock</span><span class="op" id="3315523">(</span><span class="op" id="3315524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3315527">r</span><span class="op" id="3315528">.</span><span class="ident" id="3315529">src</span><span class="op" id="3315532">.</span><span class="ident" id="3315533">Seed</span><span class="op" id="3315537">(</span><span class="ident" id="3315538">seed</span><span class="op" id="3315542">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3315545">r</span><span class="op" id="3315546">.</span><span class="ident" id="3315547">lk</span><span class="op" id="3315549">.</span><span class="ident" id="3315550">Unlock</span><span class="op" id="3315556">(</span><span class="op" id="3315557">)</span><br>
<span class="lineno"></span><span class="op" id="3315559">}</span>
</div>
</body>
</html>
