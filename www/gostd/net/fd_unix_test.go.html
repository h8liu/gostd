<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html" class="current">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6445622">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6445677">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6445731">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6445782">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6445847">package</span>&nbsp;<span class="ident" id="6445855">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6445860">import</span>&nbsp;<span class="op" id="6445867">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6445870">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6445876">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6445887">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6445897">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6445900">var</span>&nbsp;<span class="ident" id="6445904">chkReadErrTests</span>&nbsp;<span class="op" id="6445920">=</span>&nbsp;<span class="op" id="6445922">[</span><span class="op" id="6445923">]</span><span class="keyword" id="6445924">struct</span>&nbsp;<span class="op" id="6445931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6445934">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6445943">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6445948">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6445957">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6445964">fd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6445973">*</span><span class="ident" id="6445974">netFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6445981">expected</span>&nbsp;<span class="builtintype" id="6445990">error</span><br>
<span class="lineno">20</span><span class="op" id="6445996">}</span><span class="op" id="6445997">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446001">{</span><span class="num" id="6446002">100</span><span class="op" id="6446005">,</span>&nbsp;<span class="builtintype" id="6446007">nil</span><span class="op" id="6446010">,</span>&nbsp;<span class="op" id="6446012">&amp;</span><span class="ident" id="6446013">netFD</span><span class="op" id="6446018">{</span><span class="ident" id="6446019">sotype</span><span class="op" id="6446025">:</span>&nbsp;<span class="ident" id="6446027">syscall</span><span class="op" id="6446034">.</span><span class="ident" id="6446035">SOCK_STREAM</span><span class="op" id="6446046">}</span><span class="op" id="6446047">,</span>&nbsp;<span class="builtintype" id="6446049">nil</span><span class="op" id="6446052">}</span><span class="op" id="6446053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446056">{</span><span class="num" id="6446057">100</span><span class="op" id="6446060">,</span>&nbsp;<span class="ident" id="6446062">io</span><span class="op" id="6446064">.</span><span class="ident" id="6446065">EOF</span><span class="op" id="6446068">,</span>&nbsp;<span class="op" id="6446070">&amp;</span><span class="ident" id="6446071">netFD</span><span class="op" id="6446076">{</span><span class="ident" id="6446077">sotype</span><span class="op" id="6446083">:</span>&nbsp;<span class="ident" id="6446085">syscall</span><span class="op" id="6446092">.</span><span class="ident" id="6446093">SOCK_STREAM</span><span class="op" id="6446104">}</span><span class="op" id="6446105">,</span>&nbsp;<span class="ident" id="6446107">io</span><span class="op" id="6446109">.</span><span class="ident" id="6446110">EOF</span><span class="op" id="6446113">}</span><span class="op" id="6446114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446117">{</span><span class="num" id="6446118">100</span><span class="op" id="6446121">,</span>&nbsp;<span class="ident" id="6446123">errClosing</span><span class="op" id="6446133">,</span>&nbsp;<span class="op" id="6446135">&amp;</span><span class="ident" id="6446136">netFD</span><span class="op" id="6446141">{</span><span class="ident" id="6446142">sotype</span><span class="op" id="6446148">:</span>&nbsp;<span class="ident" id="6446150">syscall</span><span class="op" id="6446157">.</span><span class="ident" id="6446158">SOCK_STREAM</span><span class="op" id="6446169">}</span><span class="op" id="6446170">,</span>&nbsp;<span class="ident" id="6446172">errClosing</span><span class="op" id="6446182">}</span><span class="op" id="6446183">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446186">{</span><span class="num" id="6446187">0</span><span class="op" id="6446188">,</span>&nbsp;<span class="builtintype" id="6446190">nil</span><span class="op" id="6446193">,</span>&nbsp;<span class="op" id="6446195">&amp;</span><span class="ident" id="6446196">netFD</span><span class="op" id="6446201">{</span><span class="ident" id="6446202">sotype</span><span class="op" id="6446208">:</span>&nbsp;<span class="ident" id="6446210">syscall</span><span class="op" id="6446217">.</span><span class="ident" id="6446218">SOCK_STREAM</span><span class="op" id="6446229">}</span><span class="op" id="6446230">,</span>&nbsp;<span class="ident" id="6446232">io</span><span class="op" id="6446234">.</span><span class="ident" id="6446235">EOF</span><span class="op" id="6446238">}</span><span class="op" id="6446239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446242">{</span><span class="num" id="6446243">0</span><span class="op" id="6446244">,</span>&nbsp;<span class="ident" id="6446246">io</span><span class="op" id="6446248">.</span><span class="ident" id="6446249">EOF</span><span class="op" id="6446252">,</span>&nbsp;<span class="op" id="6446254">&amp;</span><span class="ident" id="6446255">netFD</span><span class="op" id="6446260">{</span><span class="ident" id="6446261">sotype</span><span class="op" id="6446267">:</span>&nbsp;<span class="ident" id="6446269">syscall</span><span class="op" id="6446276">.</span><span class="ident" id="6446277">SOCK_STREAM</span><span class="op" id="6446288">}</span><span class="op" id="6446289">,</span>&nbsp;<span class="ident" id="6446291">io</span><span class="op" id="6446293">.</span><span class="ident" id="6446294">EOF</span><span class="op" id="6446297">}</span><span class="op" id="6446298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446301">{</span><span class="num" id="6446302">0</span><span class="op" id="6446303">,</span>&nbsp;<span class="ident" id="6446305">errClosing</span><span class="op" id="6446315">,</span>&nbsp;<span class="op" id="6446317">&amp;</span><span class="ident" id="6446318">netFD</span><span class="op" id="6446323">{</span><span class="ident" id="6446324">sotype</span><span class="op" id="6446330">:</span>&nbsp;<span class="ident" id="6446332">syscall</span><span class="op" id="6446339">.</span><span class="ident" id="6446340">SOCK_STREAM</span><span class="op" id="6446351">}</span><span class="op" id="6446352">,</span>&nbsp;<span class="ident" id="6446354">errClosing</span><span class="op" id="6446364">}</span><span class="op" id="6446365">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446369">{</span><span class="num" id="6446370">100</span><span class="op" id="6446373">,</span>&nbsp;<span class="builtintype" id="6446375">nil</span><span class="op" id="6446378">,</span>&nbsp;<span class="op" id="6446380">&amp;</span><span class="ident" id="6446381">netFD</span><span class="op" id="6446386">{</span><span class="ident" id="6446387">sotype</span><span class="op" id="6446393">:</span>&nbsp;<span class="ident" id="6446395">syscall</span><span class="op" id="6446402">.</span><span class="ident" id="6446403">SOCK_DGRAM</span><span class="op" id="6446413">}</span><span class="op" id="6446414">,</span>&nbsp;<span class="builtintype" id="6446416">nil</span><span class="op" id="6446419">}</span><span class="op" id="6446420">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446423">{</span><span class="num" id="6446424">100</span><span class="op" id="6446427">,</span>&nbsp;<span class="ident" id="6446429">io</span><span class="op" id="6446431">.</span><span class="ident" id="6446432">EOF</span><span class="op" id="6446435">,</span>&nbsp;<span class="op" id="6446437">&amp;</span><span class="ident" id="6446438">netFD</span><span class="op" id="6446443">{</span><span class="ident" id="6446444">sotype</span><span class="op" id="6446450">:</span>&nbsp;<span class="ident" id="6446452">syscall</span><span class="op" id="6446459">.</span><span class="ident" id="6446460">SOCK_DGRAM</span><span class="op" id="6446470">}</span><span class="op" id="6446471">,</span>&nbsp;<span class="ident" id="6446473">io</span><span class="op" id="6446475">.</span><span class="ident" id="6446476">EOF</span><span class="op" id="6446479">}</span><span class="op" id="6446480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446483">{</span><span class="num" id="6446484">100</span><span class="op" id="6446487">,</span>&nbsp;<span class="ident" id="6446489">errClosing</span><span class="op" id="6446499">,</span>&nbsp;<span class="op" id="6446501">&amp;</span><span class="ident" id="6446502">netFD</span><span class="op" id="6446507">{</span><span class="ident" id="6446508">sotype</span><span class="op" id="6446514">:</span>&nbsp;<span class="ident" id="6446516">syscall</span><span class="op" id="6446523">.</span><span class="ident" id="6446524">SOCK_DGRAM</span><span class="op" id="6446534">}</span><span class="op" id="6446535">,</span>&nbsp;<span class="ident" id="6446537">errClosing</span><span class="op" id="6446547">}</span><span class="op" id="6446548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446551">{</span><span class="num" id="6446552">0</span><span class="op" id="6446553">,</span>&nbsp;<span class="builtintype" id="6446555">nil</span><span class="op" id="6446558">,</span>&nbsp;<span class="op" id="6446560">&amp;</span><span class="ident" id="6446561">netFD</span><span class="op" id="6446566">{</span><span class="ident" id="6446567">sotype</span><span class="op" id="6446573">:</span>&nbsp;<span class="ident" id="6446575">syscall</span><span class="op" id="6446582">.</span><span class="ident" id="6446583">SOCK_DGRAM</span><span class="op" id="6446593">}</span><span class="op" id="6446594">,</span>&nbsp;<span class="builtintype" id="6446596">nil</span><span class="op" id="6446599">}</span><span class="op" id="6446600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446603">{</span><span class="num" id="6446604">0</span><span class="op" id="6446605">,</span>&nbsp;<span class="ident" id="6446607">io</span><span class="op" id="6446609">.</span><span class="ident" id="6446610">EOF</span><span class="op" id="6446613">,</span>&nbsp;<span class="op" id="6446615">&amp;</span><span class="ident" id="6446616">netFD</span><span class="op" id="6446621">{</span><span class="ident" id="6446622">sotype</span><span class="op" id="6446628">:</span>&nbsp;<span class="ident" id="6446630">syscall</span><span class="op" id="6446637">.</span><span class="ident" id="6446638">SOCK_DGRAM</span><span class="op" id="6446648">}</span><span class="op" id="6446649">,</span>&nbsp;<span class="ident" id="6446651">io</span><span class="op" id="6446653">.</span><span class="ident" id="6446654">EOF</span><span class="op" id="6446657">}</span><span class="op" id="6446658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446661">{</span><span class="num" id="6446662">0</span><span class="op" id="6446663">,</span>&nbsp;<span class="ident" id="6446665">errClosing</span><span class="op" id="6446675">,</span>&nbsp;<span class="op" id="6446677">&amp;</span><span class="ident" id="6446678">netFD</span><span class="op" id="6446683">{</span><span class="ident" id="6446684">sotype</span><span class="op" id="6446690">:</span>&nbsp;<span class="ident" id="6446692">syscall</span><span class="op" id="6446699">.</span><span class="ident" id="6446700">SOCK_DGRAM</span><span class="op" id="6446710">}</span><span class="op" id="6446711">,</span>&nbsp;<span class="ident" id="6446713">errClosing</span><span class="op" id="6446723">}</span><span class="op" id="6446724">,</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446728">{</span><span class="num" id="6446729">100</span><span class="op" id="6446732">,</span>&nbsp;<span class="builtintype" id="6446734">nil</span><span class="op" id="6446737">,</span>&nbsp;<span class="op" id="6446739">&amp;</span><span class="ident" id="6446740">netFD</span><span class="op" id="6446745">{</span><span class="ident" id="6446746">sotype</span><span class="op" id="6446752">:</span>&nbsp;<span class="ident" id="6446754">syscall</span><span class="op" id="6446761">.</span><span class="ident" id="6446762">SOCK_SEQPACKET</span><span class="op" id="6446776">}</span><span class="op" id="6446777">,</span>&nbsp;<span class="builtintype" id="6446779">nil</span><span class="op" id="6446782">}</span><span class="op" id="6446783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446786">{</span><span class="num" id="6446787">100</span><span class="op" id="6446790">,</span>&nbsp;<span class="ident" id="6446792">io</span><span class="op" id="6446794">.</span><span class="ident" id="6446795">EOF</span><span class="op" id="6446798">,</span>&nbsp;<span class="op" id="6446800">&amp;</span><span class="ident" id="6446801">netFD</span><span class="op" id="6446806">{</span><span class="ident" id="6446807">sotype</span><span class="op" id="6446813">:</span>&nbsp;<span class="ident" id="6446815">syscall</span><span class="op" id="6446822">.</span><span class="ident" id="6446823">SOCK_SEQPACKET</span><span class="op" id="6446837">}</span><span class="op" id="6446838">,</span>&nbsp;<span class="ident" id="6446840">io</span><span class="op" id="6446842">.</span><span class="ident" id="6446843">EOF</span><span class="op" id="6446846">}</span><span class="op" id="6446847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446850">{</span><span class="num" id="6446851">100</span><span class="op" id="6446854">,</span>&nbsp;<span class="ident" id="6446856">errClosing</span><span class="op" id="6446866">,</span>&nbsp;<span class="op" id="6446868">&amp;</span><span class="ident" id="6446869">netFD</span><span class="op" id="6446874">{</span><span class="ident" id="6446875">sotype</span><span class="op" id="6446881">:</span>&nbsp;<span class="ident" id="6446883">syscall</span><span class="op" id="6446890">.</span><span class="ident" id="6446891">SOCK_SEQPACKET</span><span class="op" id="6446905">}</span><span class="op" id="6446906">,</span>&nbsp;<span class="ident" id="6446908">errClosing</span><span class="op" id="6446918">}</span><span class="op" id="6446919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446922">{</span><span class="num" id="6446923">0</span><span class="op" id="6446924">,</span>&nbsp;<span class="builtintype" id="6446926">nil</span><span class="op" id="6446929">,</span>&nbsp;<span class="op" id="6446931">&amp;</span><span class="ident" id="6446932">netFD</span><span class="op" id="6446937">{</span><span class="ident" id="6446938">sotype</span><span class="op" id="6446944">:</span>&nbsp;<span class="ident" id="6446946">syscall</span><span class="op" id="6446953">.</span><span class="ident" id="6446954">SOCK_SEQPACKET</span><span class="op" id="6446968">}</span><span class="op" id="6446969">,</span>&nbsp;<span class="ident" id="6446971">io</span><span class="op" id="6446973">.</span><span class="ident" id="6446974">EOF</span><span class="op" id="6446977">}</span><span class="op" id="6446978">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6446981">{</span><span class="num" id="6446982">0</span><span class="op" id="6446983">,</span>&nbsp;<span class="ident" id="6446985">io</span><span class="op" id="6446987">.</span><span class="ident" id="6446988">EOF</span><span class="op" id="6446991">,</span>&nbsp;<span class="op" id="6446993">&amp;</span><span class="ident" id="6446994">netFD</span><span class="op" id="6446999">{</span><span class="ident" id="6447000">sotype</span><span class="op" id="6447006">:</span>&nbsp;<span class="ident" id="6447008">syscall</span><span class="op" id="6447015">.</span><span class="ident" id="6447016">SOCK_SEQPACKET</span><span class="op" id="6447030">}</span><span class="op" id="6447031">,</span>&nbsp;<span class="ident" id="6447033">io</span><span class="op" id="6447035">.</span><span class="ident" id="6447036">EOF</span><span class="op" id="6447039">}</span><span class="op" id="6447040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6447043">{</span><span class="num" id="6447044">0</span><span class="op" id="6447045">,</span>&nbsp;<span class="ident" id="6447047">errClosing</span><span class="op" id="6447057">,</span>&nbsp;<span class="op" id="6447059">&amp;</span><span class="ident" id="6447060">netFD</span><span class="op" id="6447065">{</span><span class="ident" id="6447066">sotype</span><span class="op" id="6447072">:</span>&nbsp;<span class="ident" id="6447074">syscall</span><span class="op" id="6447081">.</span><span class="ident" id="6447082">SOCK_SEQPACKET</span><span class="op" id="6447096">}</span><span class="op" id="6447097">,</span>&nbsp;<span class="ident" id="6447099">errClosing</span><span class="op" id="6447109">}</span><span class="op" id="6447110">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6447114">{</span><span class="num" id="6447115">100</span><span class="op" id="6447118">,</span>&nbsp;<span class="builtintype" id="6447120">nil</span><span class="op" id="6447123">,</span>&nbsp;<span class="op" id="6447125">&amp;</span><span class="ident" id="6447126">netFD</span><span class="op" id="6447131">{</span><span class="ident" id="6447132">sotype</span><span class="op" id="6447138">:</span>&nbsp;<span class="ident" id="6447140">syscall</span><span class="op" id="6447147">.</span><span class="ident" id="6447148">SOCK_RAW</span><span class="op" id="6447156">}</span><span class="op" id="6447157">,</span>&nbsp;<span class="builtintype" id="6447159">nil</span><span class="op" id="6447162">}</span><span class="op" id="6447163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6447166">{</span><span class="num" id="6447167">100</span><span class="op" id="6447170">,</span>&nbsp;<span class="ident" id="6447172">io</span><span class="op" id="6447174">.</span><span class="ident" id="6447175">EOF</span><span class="op" id="6447178">,</span>&nbsp;<span class="op" id="6447180">&amp;</span><span class="ident" id="6447181">netFD</span><span class="op" id="6447186">{</span><span class="ident" id="6447187">sotype</span><span class="op" id="6447193">:</span>&nbsp;<span class="ident" id="6447195">syscall</span><span class="op" id="6447202">.</span><span class="ident" id="6447203">SOCK_RAW</span><span class="op" id="6447211">}</span><span class="op" id="6447212">,</span>&nbsp;<span class="ident" id="6447214">io</span><span class="op" id="6447216">.</span><span class="ident" id="6447217">EOF</span><span class="op" id="6447220">}</span><span class="op" id="6447221">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6447224">{</span><span class="num" id="6447225">100</span><span class="op" id="6447228">,</span>&nbsp;<span class="ident" id="6447230">errClosing</span><span class="op" id="6447240">,</span>&nbsp;<span class="op" id="6447242">&amp;</span><span class="ident" id="6447243">netFD</span><span class="op" id="6447248">{</span><span class="ident" id="6447249">sotype</span><span class="op" id="6447255">:</span>&nbsp;<span class="ident" id="6447257">syscall</span><span class="op" id="6447264">.</span><span class="ident" id="6447265">SOCK_RAW</span><span class="op" id="6447273">}</span><span class="op" id="6447274">,</span>&nbsp;<span class="ident" id="6447276">errClosing</span><span class="op" id="6447286">}</span><span class="op" id="6447287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6447290">{</span><span class="num" id="6447291">0</span><span class="op" id="6447292">,</span>&nbsp;<span class="builtintype" id="6447294">nil</span><span class="op" id="6447297">,</span>&nbsp;<span class="op" id="6447299">&amp;</span><span class="ident" id="6447300">netFD</span><span class="op" id="6447305">{</span><span class="ident" id="6447306">sotype</span><span class="op" id="6447312">:</span>&nbsp;<span class="ident" id="6447314">syscall</span><span class="op" id="6447321">.</span><span class="ident" id="6447322">SOCK_RAW</span><span class="op" id="6447330">}</span><span class="op" id="6447331">,</span>&nbsp;<span class="builtintype" id="6447333">nil</span><span class="op" id="6447336">}</span><span class="op" id="6447337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6447340">{</span><span class="num" id="6447341">0</span><span class="op" id="6447342">,</span>&nbsp;<span class="ident" id="6447344">io</span><span class="op" id="6447346">.</span><span class="ident" id="6447347">EOF</span><span class="op" id="6447350">,</span>&nbsp;<span class="op" id="6447352">&amp;</span><span class="ident" id="6447353">netFD</span><span class="op" id="6447358">{</span><span class="ident" id="6447359">sotype</span><span class="op" id="6447365">:</span>&nbsp;<span class="ident" id="6447367">syscall</span><span class="op" id="6447374">.</span><span class="ident" id="6447375">SOCK_RAW</span><span class="op" id="6447383">}</span><span class="op" id="6447384">,</span>&nbsp;<span class="ident" id="6447386">io</span><span class="op" id="6447388">.</span><span class="ident" id="6447389">EOF</span><span class="op" id="6447392">}</span><span class="op" id="6447393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6447396">{</span><span class="num" id="6447397">0</span><span class="op" id="6447398">,</span>&nbsp;<span class="ident" id="6447400">errClosing</span><span class="op" id="6447410">,</span>&nbsp;<span class="op" id="6447412">&amp;</span><span class="ident" id="6447413">netFD</span><span class="op" id="6447418">{</span><span class="ident" id="6447419">sotype</span><span class="op" id="6447425">:</span>&nbsp;<span class="ident" id="6447427">syscall</span><span class="op" id="6447434">.</span><span class="ident" id="6447435">SOCK_RAW</span><span class="op" id="6447443">}</span><span class="op" id="6447444">,</span>&nbsp;<span class="ident" id="6447446">errClosing</span><span class="op" id="6447456">}</span><span class="op" id="6447457">,</span><br>
<span class="lineno"></span><span class="op" id="6447459">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6447462">func</span>&nbsp;<span class="ident" id="6447467">TestChkReadErr</span><span class="op" id="6447481">(</span><span class="ident" id="6447482">t</span>&nbsp;<span class="op" id="6447484">*</span><span class="ident" id="6447485">testing</span><span class="op" id="6447492">.</span><span class="ident" id="6447493">T</span><span class="op" id="6447494">)</span>&nbsp;<span class="op" id="6447496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6447499">for</span>&nbsp;<span class="ident" id="6447503">_</span><span class="op" id="6447504">,</span>&nbsp;<span class="ident" id="6447506">tt</span>&nbsp;<span class="op" id="6447509">:=</span>&nbsp;<span class="keyword" id="6447512">range</span>&nbsp;<span class="ident" id="6447518">chkReadErrTests</span>&nbsp;<span class="op" id="6447534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6447538">actual</span>&nbsp;<span class="op" id="6447545">:=</span>&nbsp;<span class="ident" id="6447548">chkReadErr</span><span class="op" id="6447558">(</span><span class="ident" id="6447559">tt</span><span class="op" id="6447561">.</span><span class="ident" id="6447562">n</span><span class="op" id="6447563">,</span>&nbsp;<span class="ident" id="6447565">tt</span><span class="op" id="6447567">.</span><span class="ident" id="6447568">err</span><span class="op" id="6447571">,</span>&nbsp;<span class="ident" id="6447573">tt</span><span class="op" id="6447575">.</span><span class="ident" id="6447576">fd</span><span class="op" id="6447578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6447582">if</span>&nbsp;<span class="ident" id="6447585">actual</span>&nbsp;<span class="op" id="6447592">!=</span>&nbsp;<span class="ident" id="6447595">tt</span><span class="op" id="6447597">.</span><span class="ident" id="6447598">expected</span>&nbsp;<span class="op" id="6447607">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6447612">t</span><span class="op" id="6447613">.</span><span class="ident" id="6447614">Errorf</span><span class="op" id="6447620">(</span><span class="string" id="6447621">&#34;chkReadError(%v,&nbsp;%v,&nbsp;%v):&nbsp;expected&nbsp;%v,&nbsp;actual&nbsp;%v&#34;</span><span class="op" id="6447671">,</span>&nbsp;<span class="ident" id="6447673">tt</span><span class="op" id="6447675">.</span><span class="ident" id="6447676">n</span><span class="op" id="6447677">,</span>&nbsp;<span class="ident" id="6447679">tt</span><span class="op" id="6447681">.</span><span class="ident" id="6447682">err</span><span class="op" id="6447685">,</span>&nbsp;<span class="ident" id="6447687">tt</span><span class="op" id="6447689">.</span><span class="ident" id="6447690">fd</span><span class="op" id="6447692">.</span><span class="ident" id="6447693">sotype</span><span class="op" id="6447699">,</span>&nbsp;<span class="ident" id="6447701">tt</span><span class="op" id="6447703">.</span><span class="ident" id="6447704">expected</span><span class="op" id="6447712">,</span>&nbsp;<span class="ident" id="6447714">actual</span><span class="op" id="6447720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6447724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6447727">}</span><br>
<span class="lineno"></span><span class="op" id="6447729">}</span>
</div>
</body>
</html>
