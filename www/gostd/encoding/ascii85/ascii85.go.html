<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/ascii85</h2>
<ul>
<li><a href="/gostd/encoding/ascii85/ascii85.go.html" class="current">ascii85.go</a></li>
<li><a href="/gostd/encoding/ascii85/ascii85_test.go.html">ascii85_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6018464">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6018519">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6018573">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6018624">//&nbsp;Package&nbsp;ascii85&nbsp;implements&nbsp;the&nbsp;ascii85&nbsp;data&nbsp;encoding</span><br>
<span class="lineno"></span><span class="comment" id="6018680">//&nbsp;as&nbsp;used&nbsp;in&nbsp;the&nbsp;btoa&nbsp;tool&nbsp;and&nbsp;Adobe&#39;s&nbsp;PostScript&nbsp;and&nbsp;PDF&nbsp;document&nbsp;formats.</span><br>
<span class="lineno"></span><span class="keyword" id="6018757">package</span>&nbsp;<span class="ident" id="6018765">ascii85</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6018774">import</span>&nbsp;<span class="op" id="6018781">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6018784">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6018790">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="6018800">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6018803">/*<br>
<span class="lineno">15</span>&nbsp;*&nbsp;Encoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6018822">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;at&nbsp;most&nbsp;MaxEncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="6018881">//&nbsp;bytes&nbsp;of&nbsp;dst,&nbsp;returning&nbsp;the&nbsp;actual&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written.</span><br>
<span class="lineno">20</span><span class="comment" id="6018944">//</span><br>
<span class="lineno"></span><span class="comment" id="6018947">//&nbsp;The&nbsp;encoding&nbsp;handles&nbsp;4-byte&nbsp;chunks,&nbsp;using&nbsp;a&nbsp;special&nbsp;encoding</span><br>
<span class="lineno"></span><span class="comment" id="6019011">//&nbsp;for&nbsp;the&nbsp;last&nbsp;fragment,&nbsp;so&nbsp;Encode&nbsp;is&nbsp;not&nbsp;appropriate&nbsp;for&nbsp;use&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="6019077">//&nbsp;individual&nbsp;blocks&nbsp;of&nbsp;a&nbsp;large&nbsp;data&nbsp;stream.&nbsp;&nbsp;Use&nbsp;NewEncoder()&nbsp;instead.</span><br>
<span class="lineno"></span><span class="comment" id="6019149">//</span><br>
<span class="lineno">25</span><span class="comment" id="6019152">//&nbsp;Often,&nbsp;ascii85-encoded&nbsp;data&nbsp;is&nbsp;wrapped&nbsp;in&nbsp;&lt;~&nbsp;and&nbsp;~&gt;&nbsp;symbols.</span><br>
<span class="lineno"></span><span class="comment" id="6019216">//&nbsp;Encode&nbsp;does&nbsp;not&nbsp;add&nbsp;these.</span><br>
<span class="lineno"></span><span class="keyword" id="6019246">func</span>&nbsp;<span class="ident" id="6019251">Encode</span><span class="op" id="6019257">(</span><span class="ident" id="6019258">dst</span><span class="op" id="6019261">,</span>&nbsp;<span class="ident" id="6019263">src</span>&nbsp;<span class="op" id="6019267">[</span><span class="op" id="6019268">]</span><span class="builtintype" id="6019269">byte</span><span class="op" id="6019273">)</span>&nbsp;<span class="builtintype" id="6019275">int</span>&nbsp;<span class="op" id="6019279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019282">if</span>&nbsp;<span class="builtinfunc" id="6019285">len</span><span class="op" id="6019288">(</span><span class="ident" id="6019289"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6019292">)</span>&nbsp;<span class="op" id="6019294">==</span>&nbsp;<span class="num" id="6019297">0</span>&nbsp;<span class="op" id="6019299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019303">return</span>&nbsp;<span class="num" id="6019310">0</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6019313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019317">n</span>&nbsp;<span class="op" id="6019319">:=</span>&nbsp;<span class="num" id="6019322">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019325">for</span>&nbsp;<span class="builtinfunc" id="6019329">len</span><span class="op" id="6019332">(</span><span class="ident" id="6019333"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6019336">)</span>&nbsp;<span class="op" id="6019338">&gt;</span>&nbsp;<span class="num" id="6019340">0</span>&nbsp;<span class="op" id="6019342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019346"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span><span class="op" id="6019349">[</span><span class="num" id="6019350">0</span><span class="op" id="6019351">]</span>&nbsp;<span class="op" id="6019353">=</span>&nbsp;<span class="num" id="6019355">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019359"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span><span class="op" id="6019362">[</span><span class="num" id="6019363">1</span><span class="op" id="6019364">]</span>&nbsp;<span class="op" id="6019366">=</span>&nbsp;<span class="num" id="6019368">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019372"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span><span class="op" id="6019375">[</span><span class="num" id="6019376">2</span><span class="op" id="6019377">]</span>&nbsp;<span class="op" id="6019379">=</span>&nbsp;<span class="num" id="6019381">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019385"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span><span class="op" id="6019388">[</span><span class="num" id="6019389">3</span><span class="op" id="6019390">]</span>&nbsp;<span class="op" id="6019392">=</span>&nbsp;<span class="num" id="6019394">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019398"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span><span class="op" id="6019401">[</span><span class="num" id="6019402">4</span><span class="op" id="6019403">]</span>&nbsp;<span class="op" id="6019405">=</span>&nbsp;<span class="num" id="6019407">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6019412">//&nbsp;Unpack&nbsp;4&nbsp;bytes&nbsp;into&nbsp;uint32&nbsp;to&nbsp;repack&nbsp;into&nbsp;base&nbsp;85&nbsp;5-byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019475">var</span>&nbsp;<span class="ident" id="6019479">v</span>&nbsp;<span class="builtintype" id="6019481">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019490">switch</span>&nbsp;<span class="builtinfunc" id="6019497">len</span><span class="op" id="6019500">(</span><span class="ident" id="6019501"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6019504">)</span>&nbsp;<span class="op" id="6019506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019510">default</span><span class="op" id="6019517">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019522"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019479">v</a></span>&nbsp;<span class="op" id="6019524">|=</span>&nbsp;<span class="builtintype" id="6019527">uint32</span><span class="op" id="6019533">(</span><span class="ident" id="6019534"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6019537">[</span><span class="num" id="6019538">3</span><span class="op" id="6019539">]</span><span class="op" id="6019540">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019545">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019559">case</span>&nbsp;<span class="num" id="6019564">3</span><span class="op" id="6019565">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019570"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019479">v</a></span>&nbsp;<span class="op" id="6019572">|=</span>&nbsp;<span class="builtintype" id="6019575">uint32</span><span class="op" id="6019581">(</span><span class="ident" id="6019582"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6019585">[</span><span class="num" id="6019586">2</span><span class="op" id="6019587">]</span><span class="op" id="6019588">)</span>&nbsp;<span class="op" id="6019590">&lt;&lt;</span>&nbsp;<span class="num" id="6019593">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019598">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019612">case</span>&nbsp;<span class="num" id="6019617">2</span><span class="op" id="6019618">:</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019623"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019479">v</a></span>&nbsp;<span class="op" id="6019625">|=</span>&nbsp;<span class="builtintype" id="6019628">uint32</span><span class="op" id="6019634">(</span><span class="ident" id="6019635"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6019638">[</span><span class="num" id="6019639">1</span><span class="op" id="6019640">]</span><span class="op" id="6019641">)</span>&nbsp;<span class="op" id="6019643">&lt;&lt;</span>&nbsp;<span class="num" id="6019646">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019652">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019666">case</span>&nbsp;<span class="num" id="6019671">1</span><span class="op" id="6019672">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019677"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019479">v</a></span>&nbsp;<span class="op" id="6019679">|=</span>&nbsp;<span class="builtintype" id="6019682">uint32</span><span class="op" id="6019688">(</span><span class="ident" id="6019689"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6019692">[</span><span class="num" id="6019693">0</span><span class="op" id="6019694">]</span><span class="op" id="6019695">)</span>&nbsp;<span class="op" id="6019697">&lt;&lt;</span>&nbsp;<span class="num" id="6019700">24</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6019705">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6019710">//&nbsp;Special&nbsp;case:&nbsp;zero&nbsp;(!!!!!)&nbsp;shortens&nbsp;to&nbsp;z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019757">if</span>&nbsp;<span class="ident" id="6019760"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019479">v</a></span>&nbsp;<span class="op" id="6019762">==</span>&nbsp;<span class="num" id="6019765">0</span>&nbsp;<span class="op" id="6019767">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6019770">len</span><span class="op" id="6019773">(</span><span class="ident" id="6019774"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6019777">)</span>&nbsp;<span class="op" id="6019779">&gt;=</span>&nbsp;<span class="num" id="6019782">4</span>&nbsp;<span class="op" id="6019784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019789"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span><span class="op" id="6019792">[</span><span class="num" id="6019793">0</span><span class="op" id="6019794">]</span>&nbsp;<span class="op" id="6019796">=</span>&nbsp;<span class="string" id="6019798">&#39;z&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019805"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span>&nbsp;<span class="op" id="6019809">=</span>&nbsp;<span class="ident" id="6019811"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span><span class="op" id="6019814">[</span><span class="num" id="6019815">1</span><span class="op" id="6019816">:</span><span class="op" id="6019817">]</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019822"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span>&nbsp;<span class="op" id="6019826">=</span>&nbsp;<span class="ident" id="6019828"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6019831">[</span><span class="num" id="6019832">4</span><span class="op" id="6019833">:</span><span class="op" id="6019834">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019839"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019317">n</a></span><span class="op" id="6019840">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019846">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6019857">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6019862">//&nbsp;Otherwise,&nbsp;5&nbsp;base&nbsp;85&nbsp;digits&nbsp;starting&nbsp;at&nbsp;!.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019910">for</span>&nbsp;<span class="ident" id="6019914">i</span>&nbsp;<span class="op" id="6019916">:=</span>&nbsp;<span class="num" id="6019919">4</span><span class="op" id="6019920">;</span>&nbsp;<span class="ident" id="6019922"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019914">i</a></span>&nbsp;<span class="op" id="6019924">&gt;=</span>&nbsp;<span class="num" id="6019927">0</span><span class="op" id="6019928">;</span>&nbsp;<span class="ident" id="6019930"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019914">i</a></span><span class="op" id="6019931">--</span>&nbsp;<span class="op" id="6019934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019939"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span><span class="op" id="6019942">[</span><span class="ident" id="6019943"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019914">i</a></span><span class="op" id="6019944">]</span>&nbsp;<span class="op" id="6019946">=</span>&nbsp;<span class="string" id="6019948">&#39;!&#39;</span>&nbsp;<span class="op" id="6019952">+</span>&nbsp;<span class="builtintype" id="6019954">byte</span><span class="op" id="6019958">(</span><span class="ident" id="6019959"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019479">v</a></span><span class="op" id="6019960">%</span><span class="num" id="6019961">85</span><span class="op" id="6019963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019968"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019479">v</a></span>&nbsp;<span class="op" id="6019970">/=</span>&nbsp;<span class="num" id="6019973">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6019978">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6019983">//&nbsp;If&nbsp;src&nbsp;was&nbsp;short,&nbsp;discard&nbsp;the&nbsp;low&nbsp;destination&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020041">m</span>&nbsp;<span class="op" id="6020043">:=</span>&nbsp;<span class="num" id="6020046">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6020050">if</span>&nbsp;<span class="builtinfunc" id="6020053">len</span><span class="op" id="6020056">(</span><span class="ident" id="6020057"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6020060">)</span>&nbsp;<span class="op" id="6020062">&lt;</span>&nbsp;<span class="num" id="6020064">4</span>&nbsp;<span class="op" id="6020066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020071"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020041">m</a></span>&nbsp;<span class="op" id="6020073">-=</span>&nbsp;<span class="num" id="6020076">4</span>&nbsp;<span class="op" id="6020078">-</span>&nbsp;<span class="builtinfunc" id="6020080">len</span><span class="op" id="6020083">(</span><span class="ident" id="6020084"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6020087">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020092"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span>&nbsp;<span class="op" id="6020096">=</span>&nbsp;<span class="builtintype" id="6020098">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6020104">}</span>&nbsp;<span class="keyword" id="6020106">else</span>&nbsp;<span class="op" id="6020111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020116"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span>&nbsp;<span class="op" id="6020120">=</span>&nbsp;<span class="ident" id="6020122"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019263">src</a></span><span class="op" id="6020125">[</span><span class="num" id="6020126">4</span><span class="op" id="6020127">:</span><span class="op" id="6020128">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6020132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020136"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span>&nbsp;<span class="op" id="6020140">=</span>&nbsp;<span class="ident" id="6020142"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019258">dst</a></span><span class="op" id="6020145">[</span><span class="ident" id="6020146"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020041">m</a></span><span class="op" id="6020147">:</span><span class="op" id="6020148">]</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020152"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019317">n</a></span>&nbsp;<span class="op" id="6020154">+=</span>&nbsp;<span class="ident" id="6020157"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020041">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6020160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6020163">return</span>&nbsp;<span class="ident" id="6020170"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019317">n</a></span><br>
<span class="lineno"></span><span class="op" id="6020172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="6020175">//&nbsp;MaxEncodedLen&nbsp;returns&nbsp;the&nbsp;maximum&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="6020253">func</span>&nbsp;<span class="ident" id="6020258">MaxEncodedLen</span><span class="op" id="6020271">(</span><span class="ident" id="6020272">n</span>&nbsp;<span class="builtintype" id="6020274">int</span><span class="op" id="6020277">)</span>&nbsp;<span class="builtintype" id="6020279">int</span>&nbsp;<span class="op" id="6020283">{</span>&nbsp;<span class="keyword" id="6020285">return</span>&nbsp;<span class="op" id="6020292">(</span><span class="ident" id="6020293"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020272">n</a></span>&nbsp;<span class="op" id="6020295">+</span>&nbsp;<span class="num" id="6020297">3</span><span class="op" id="6020298">)</span>&nbsp;<span class="op" id="6020300">/</span>&nbsp;<span class="num" id="6020302">4</span>&nbsp;<span class="op" id="6020304">*</span>&nbsp;<span class="num" id="6020306">5</span>&nbsp;<span class="op" id="6020308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6020311">//&nbsp;NewEncoder&nbsp;returns&nbsp;a&nbsp;new&nbsp;ascii85&nbsp;stream&nbsp;encoder.&nbsp;&nbsp;Data&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="6020380">//&nbsp;the&nbsp;returned&nbsp;writer&nbsp;will&nbsp;be&nbsp;encoded&nbsp;and&nbsp;then&nbsp;written&nbsp;to&nbsp;w.</span><br>
<span class="lineno">90</span><span class="comment" id="6020442">//&nbsp;Ascii85&nbsp;encodings&nbsp;operate&nbsp;in&nbsp;32-bit&nbsp;blocks;&nbsp;when&nbsp;finished</span><br>
<span class="lineno"></span><span class="comment" id="6020503">//&nbsp;writing,&nbsp;the&nbsp;caller&nbsp;must&nbsp;Close&nbsp;the&nbsp;returned&nbsp;encoder&nbsp;to&nbsp;flush&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="6020571">//&nbsp;trailing&nbsp;partial&nbsp;block.</span><br>
<span class="lineno"></span><span class="keyword" id="6020598">func</span>&nbsp;<span class="ident" id="6020603">NewEncoder</span><span class="op" id="6020613">(</span><span class="ident" id="6020614">w</span>&nbsp;<span class="ident" id="6020616"><a href="/gostd/encoding/ascii85/ascii85.go.html#6018784">io</a></span><span class="op" id="6020618">.</span><span class="ident" id="6020619"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="6020625">)</span>&nbsp;<span class="ident" id="6020627"><a href="/gostd/encoding/ascii85/ascii85.go.html#6018784">io</a></span><span class="op" id="6020629">.</span><span class="ident" id="6020630"><a href="/gostd/io/io.go.html#1423540">WriteCloser</a></span>&nbsp;<span class="op" id="6020642">{</span>&nbsp;<span class="keyword" id="6020644">return</span>&nbsp;<span class="op" id="6020651">&amp;</span><span class="ident" id="6020652"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020674">encoder</a></span><span class="op" id="6020659">{</span><span class="ident" id="6020660"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020704">w</a></span><span class="op" id="6020661">:</span>&nbsp;<span class="ident" id="6020663"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020614">w</a></span><span class="op" id="6020664">}</span>&nbsp;<span class="op" id="6020666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6020669">type</span>&nbsp;<span class="ident" id="6020674">encoder</span>&nbsp;<span class="keyword" id="6020682">struct</span>&nbsp;<span class="op" id="6020689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020692">err</span>&nbsp;&nbsp;<span class="builtintype" id="6020697">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020704">w</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020709"><a href="/gostd/encoding/ascii85/ascii85.go.html#6018784">io</a></span><span class="op" id="6020711">.</span><span class="ident" id="6020712"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020720">buf</span>&nbsp;&nbsp;<span class="op" id="6020725">[</span><span class="num" id="6020726">4</span><span class="op" id="6020727">]</span><span class="builtintype" id="6020728">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6020736">//&nbsp;buffered&nbsp;data&nbsp;waiting&nbsp;to&nbsp;be&nbsp;encoded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020776">nbuf</span>&nbsp;<span class="builtintype" id="6020781">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6020792">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;buf</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6020819">out</span>&nbsp;&nbsp;<span class="op" id="6020824">[</span><span class="num" id="6020825">1024</span><span class="op" id="6020829">]</span><span class="builtintype" id="6020830">byte</span>&nbsp;<span class="comment" id="6020835">//&nbsp;output&nbsp;buffer</span><br>
<span class="lineno"></span><span class="op" id="6020852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6020855">func</span>&nbsp;<span class="op" id="6020860">(</span><span class="ident" id="6020861">e</span>&nbsp;<span class="op" id="6020863">*</span><span class="ident" id="6020864"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020674">encoder</a></span><span class="op" id="6020871">)</span>&nbsp;<span class="ident" id="6020873">Write</span><span class="op" id="6020878">(</span><span class="ident" id="6020879">p</span>&nbsp;<span class="op" id="6020881">[</span><span class="op" id="6020882">]</span><span class="builtintype" id="6020883">byte</span><span class="op" id="6020887">)</span>&nbsp;<span class="op" id="6020889">(</span><span class="ident" id="6020890">n</span>&nbsp;<span class="builtintype" id="6020892">int</span><span class="op" id="6020895">,</span>&nbsp;<span class="ident" id="6020897">err</span>&nbsp;<span class="builtintype" id="6020901">error</span><span class="op" id="6020906">)</span>&nbsp;<span class="op" id="6020908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6020911">if</span>&nbsp;<span class="ident" id="6020914"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6020915">.</span><span class="ident" id="6020916"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span>&nbsp;<span class="op" id="6020920">!=</span>&nbsp;<span class="builtintype" id="6020923">nil</span>&nbsp;<span class="op" id="6020927">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6020931">return</span>&nbsp;<span class="num" id="6020938">0</span><span class="op" id="6020939">,</span>&nbsp;<span class="ident" id="6020941"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6020942">.</span><span class="ident" id="6020943"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6020948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6020952">//&nbsp;Leading&nbsp;fringe.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6020972">if</span>&nbsp;<span class="ident" id="6020975"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6020976">.</span><span class="ident" id="6020977"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020776">nbuf</a></span>&nbsp;<span class="op" id="6020982">&gt;</span>&nbsp;<span class="num" id="6020984">0</span>&nbsp;<span class="op" id="6020986">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6020990">var</span>&nbsp;<span class="ident" id="6020994">i</span>&nbsp;<span class="builtintype" id="6020996">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021002">for</span>&nbsp;<span class="ident" id="6021006"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020994">i</a></span>&nbsp;<span class="op" id="6021008">=</span>&nbsp;<span class="num" id="6021010">0</span><span class="op" id="6021011">;</span>&nbsp;<span class="ident" id="6021013"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020994">i</a></span>&nbsp;<span class="op" id="6021015">&lt;</span>&nbsp;<span class="builtinfunc" id="6021017">len</span><span class="op" id="6021020">(</span><span class="ident" id="6021021"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021022">)</span>&nbsp;<span class="op" id="6021024">&amp;&amp;</span>&nbsp;<span class="ident" id="6021027"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021028">.</span><span class="ident" id="6021029"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020776">nbuf</a></span>&nbsp;<span class="op" id="6021034">&lt;</span>&nbsp;<span class="num" id="6021036">4</span><span class="op" id="6021037">;</span>&nbsp;<span class="ident" id="6021039"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020994">i</a></span><span class="op" id="6021040">++</span>&nbsp;<span class="op" id="6021043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021048"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021049">.</span><span class="ident" id="6021050"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020720">buf</a></span><span class="op" id="6021053">[</span><span class="ident" id="6021054"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021055">.</span><span class="ident" id="6021056"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020776">nbuf</a></span><span class="op" id="6021060">]</span>&nbsp;<span class="op" id="6021062">=</span>&nbsp;<span class="ident" id="6021064"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021065">[</span><span class="ident" id="6021066"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020994">i</a></span><span class="op" id="6021067">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021072"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021073">.</span><span class="ident" id="6021074"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020776">nbuf</a></span><span class="op" id="6021078">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6021083">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021087"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020890">n</a></span>&nbsp;<span class="op" id="6021089">+=</span>&nbsp;<span class="ident" id="6021092"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020994">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021096"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span>&nbsp;<span class="op" id="6021098">=</span>&nbsp;<span class="ident" id="6021100"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021101">[</span><span class="ident" id="6021102"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020994">i</a></span><span class="op" id="6021103">:</span><span class="op" id="6021104">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021108">if</span>&nbsp;<span class="ident" id="6021111"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021112">.</span><span class="ident" id="6021113"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020776">nbuf</a></span>&nbsp;<span class="op" id="6021118">&lt;</span>&nbsp;<span class="num" id="6021120">4</span>&nbsp;<span class="op" id="6021122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021127">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6021136">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021140">nout</span>&nbsp;<span class="op" id="6021145">:=</span>&nbsp;<span class="ident" id="6021148"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019251">Encode</a></span><span class="op" id="6021154">(</span><span class="ident" id="6021155"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021156">.</span><span class="ident" id="6021157"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020819">out</a></span><span class="op" id="6021160">[</span><span class="num" id="6021161">0</span><span class="op" id="6021162">:</span><span class="op" id="6021163">]</span><span class="op" id="6021164">,</span>&nbsp;<span class="ident" id="6021166"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021167">.</span><span class="ident" id="6021168"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020720">buf</a></span><span class="op" id="6021171">[</span><span class="num" id="6021172">0</span><span class="op" id="6021173">:</span><span class="op" id="6021174">]</span><span class="op" id="6021175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021179">if</span>&nbsp;<span class="ident" id="6021182">_</span><span class="op" id="6021183">,</span>&nbsp;<span class="ident" id="6021185"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021186">.</span><span class="ident" id="6021187"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span>&nbsp;<span class="op" id="6021191">=</span>&nbsp;<span class="ident" id="6021193"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021194">.</span><span class="ident" id="6021195"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020704">w</a></span><span class="op" id="6021196">.</span><span class="ident" id="6021197"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="6021202">(</span><span class="ident" id="6021203"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021204">.</span><span class="ident" id="6021205"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020819">out</a></span><span class="op" id="6021208">[</span><span class="num" id="6021209">0</span><span class="op" id="6021210">:</span><span class="ident" id="6021211"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021140">nout</a></span><span class="op" id="6021215">]</span><span class="op" id="6021216">)</span><span class="op" id="6021217">;</span>&nbsp;<span class="ident" id="6021219"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021220">.</span><span class="ident" id="6021221"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span>&nbsp;<span class="op" id="6021225">!=</span>&nbsp;<span class="builtintype" id="6021228">nil</span>&nbsp;<span class="op" id="6021232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021237">return</span>&nbsp;<span class="ident" id="6021244"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020890">n</a></span><span class="op" id="6021245">,</span>&nbsp;<span class="ident" id="6021247"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021248">.</span><span class="ident" id="6021249"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6021255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021259"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021260">.</span><span class="ident" id="6021261"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020776">nbuf</a></span>&nbsp;<span class="op" id="6021266">=</span>&nbsp;<span class="num" id="6021268">0</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6021271">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6021275">//&nbsp;Large&nbsp;interior&nbsp;chunks.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021302">for</span>&nbsp;<span class="builtinfunc" id="6021306">len</span><span class="op" id="6021309">(</span><span class="ident" id="6021310"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021311">)</span>&nbsp;<span class="op" id="6021313">&gt;=</span>&nbsp;<span class="num" id="6021316">4</span>&nbsp;<span class="op" id="6021318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021322">nn</span>&nbsp;<span class="op" id="6021325">:=</span>&nbsp;<span class="builtinfunc" id="6021328">len</span><span class="op" id="6021331">(</span><span class="ident" id="6021332"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021333">.</span><span class="ident" id="6021334"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020819">out</a></span><span class="op" id="6021337">)</span>&nbsp;<span class="op" id="6021339">/</span>&nbsp;<span class="num" id="6021341">5</span>&nbsp;<span class="op" id="6021343">*</span>&nbsp;<span class="num" id="6021345">4</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021349">if</span>&nbsp;<span class="ident" id="6021352"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021322">nn</a></span>&nbsp;<span class="op" id="6021355">&gt;</span>&nbsp;<span class="builtinfunc" id="6021357">len</span><span class="op" id="6021360">(</span><span class="ident" id="6021361"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021362">)</span>&nbsp;<span class="op" id="6021364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021369"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021322">nn</a></span>&nbsp;<span class="op" id="6021372">=</span>&nbsp;<span class="builtinfunc" id="6021374">len</span><span class="op" id="6021377">(</span><span class="ident" id="6021378"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6021383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021387"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021322">nn</a></span>&nbsp;<span class="op" id="6021390">-=</span>&nbsp;<span class="ident" id="6021393"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021322">nn</a></span>&nbsp;<span class="op" id="6021396">%</span>&nbsp;<span class="num" id="6021398">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021402">if</span>&nbsp;<span class="ident" id="6021405"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021322">nn</a></span>&nbsp;<span class="op" id="6021408">&gt;</span>&nbsp;<span class="num" id="6021410">0</span>&nbsp;<span class="op" id="6021412">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021417">nout</span>&nbsp;<span class="op" id="6021422">:=</span>&nbsp;<span class="ident" id="6021425"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019251">Encode</a></span><span class="op" id="6021431">(</span><span class="ident" id="6021432"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021433">.</span><span class="ident" id="6021434"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020819">out</a></span><span class="op" id="6021437">[</span><span class="num" id="6021438">0</span><span class="op" id="6021439">:</span><span class="op" id="6021440">]</span><span class="op" id="6021441">,</span>&nbsp;<span class="ident" id="6021443"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021444">[</span><span class="num" id="6021445">0</span><span class="op" id="6021446">:</span><span class="ident" id="6021447"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021322">nn</a></span><span class="op" id="6021449">]</span><span class="op" id="6021450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021455">if</span>&nbsp;<span class="ident" id="6021458">_</span><span class="op" id="6021459">,</span>&nbsp;<span class="ident" id="6021461"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021462">.</span><span class="ident" id="6021463"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span>&nbsp;<span class="op" id="6021467">=</span>&nbsp;<span class="ident" id="6021469"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021470">.</span><span class="ident" id="6021471"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020704">w</a></span><span class="op" id="6021472">.</span><span class="ident" id="6021473"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="6021478">(</span><span class="ident" id="6021479"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021480">.</span><span class="ident" id="6021481"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020819">out</a></span><span class="op" id="6021484">[</span><span class="num" id="6021485">0</span><span class="op" id="6021486">:</span><span class="ident" id="6021487"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021417">nout</a></span><span class="op" id="6021491">]</span><span class="op" id="6021492">)</span><span class="op" id="6021493">;</span>&nbsp;<span class="ident" id="6021495"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021496">.</span><span class="ident" id="6021497"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span>&nbsp;<span class="op" id="6021501">!=</span>&nbsp;<span class="builtintype" id="6021504">nil</span>&nbsp;<span class="op" id="6021508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021514">return</span>&nbsp;<span class="ident" id="6021521"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020890">n</a></span><span class="op" id="6021522">,</span>&nbsp;<span class="ident" id="6021524"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021525">.</span><span class="ident" id="6021526"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6021533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6021537">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021541"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020890">n</a></span>&nbsp;<span class="op" id="6021543">+=</span>&nbsp;<span class="ident" id="6021546"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021322">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021551"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span>&nbsp;<span class="op" id="6021553">=</span>&nbsp;<span class="ident" id="6021555"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021556">[</span><span class="ident" id="6021557"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021322">nn</a></span><span class="op" id="6021559">:</span><span class="op" id="6021560">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6021563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6021567">//&nbsp;Trailing&nbsp;fringe.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021588">for</span>&nbsp;<span class="ident" id="6021592">i</span>&nbsp;<span class="op" id="6021594">:=</span>&nbsp;<span class="num" id="6021597">0</span><span class="op" id="6021598">;</span>&nbsp;<span class="ident" id="6021600"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021592">i</a></span>&nbsp;<span class="op" id="6021602">&lt;</span>&nbsp;<span class="builtinfunc" id="6021604">len</span><span class="op" id="6021607">(</span><span class="ident" id="6021608"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021609">)</span><span class="op" id="6021610">;</span>&nbsp;<span class="ident" id="6021612"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021592">i</a></span><span class="op" id="6021613">++</span>&nbsp;<span class="op" id="6021616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021620"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021621">.</span><span class="ident" id="6021622"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020720">buf</a></span><span class="op" id="6021625">[</span><span class="ident" id="6021626"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021592">i</a></span><span class="op" id="6021627">]</span>&nbsp;<span class="op" id="6021629">=</span>&nbsp;<span class="ident" id="6021631"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021632">[</span><span class="ident" id="6021633"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021592">i</a></span><span class="op" id="6021634">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6021637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021640"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020861">e</a></span><span class="op" id="6021641">.</span><span class="ident" id="6021642"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020776">nbuf</a></span>&nbsp;<span class="op" id="6021647">=</span>&nbsp;<span class="builtinfunc" id="6021649">len</span><span class="op" id="6021652">(</span><span class="ident" id="6021653"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021657"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020890">n</a></span>&nbsp;<span class="op" id="6021659">+=</span>&nbsp;<span class="builtinfunc" id="6021662">len</span><span class="op" id="6021665">(</span><span class="ident" id="6021666"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020879">p</a></span><span class="op" id="6021667">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021670">return</span><br>
<span class="lineno"></span><span class="op" id="6021677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6021680">//&nbsp;Close&nbsp;flushes&nbsp;any&nbsp;pending&nbsp;output&nbsp;from&nbsp;the&nbsp;encoder.</span><br>
<span class="lineno"></span><span class="comment" id="6021734">//&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;Write&nbsp;after&nbsp;calling&nbsp;Close.</span><br>
<span class="lineno">155</span><span class="keyword" id="6021787">func</span>&nbsp;<span class="op" id="6021792">(</span><span class="ident" id="6021793">e</span>&nbsp;<span class="op" id="6021795">*</span><span class="ident" id="6021796"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020674">encoder</a></span><span class="op" id="6021803">)</span>&nbsp;<span class="ident" id="6021805">Close</span><span class="op" id="6021810">(</span><span class="op" id="6021811">)</span>&nbsp;<span class="builtintype" id="6021813">error</span>&nbsp;<span class="op" id="6021819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6021822">//&nbsp;If&nbsp;there&#39;s&nbsp;anything&nbsp;left&nbsp;in&nbsp;the&nbsp;buffer,&nbsp;flush&nbsp;it&nbsp;out</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6021879">if</span>&nbsp;<span class="ident" id="6021882"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021793">e</a></span><span class="op" id="6021883">.</span><span class="ident" id="6021884"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span>&nbsp;<span class="op" id="6021888">==</span>&nbsp;<span class="builtintype" id="6021891">nil</span>&nbsp;<span class="op" id="6021895">&amp;&amp;</span>&nbsp;<span class="ident" id="6021898"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021793">e</a></span><span class="op" id="6021899">.</span><span class="ident" id="6021900"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020776">nbuf</a></span>&nbsp;<span class="op" id="6021905">&gt;</span>&nbsp;<span class="num" id="6021907">0</span>&nbsp;<span class="op" id="6021909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021913">nout</span>&nbsp;<span class="op" id="6021918">:=</span>&nbsp;<span class="ident" id="6021921"><a href="/gostd/encoding/ascii85/ascii85.go.html#6019251">Encode</a></span><span class="op" id="6021927">(</span><span class="ident" id="6021928"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021793">e</a></span><span class="op" id="6021929">.</span><span class="ident" id="6021930"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020819">out</a></span><span class="op" id="6021933">[</span><span class="num" id="6021934">0</span><span class="op" id="6021935">:</span><span class="op" id="6021936">]</span><span class="op" id="6021937">,</span>&nbsp;<span class="ident" id="6021939"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021793">e</a></span><span class="op" id="6021940">.</span><span class="ident" id="6021941"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020720">buf</a></span><span class="op" id="6021944">[</span><span class="num" id="6021945">0</span><span class="op" id="6021946">:</span><span class="ident" id="6021947"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021793">e</a></span><span class="op" id="6021948">.</span><span class="ident" id="6021949"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020776">nbuf</a></span><span class="op" id="6021953">]</span><span class="op" id="6021954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021958"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021793">e</a></span><span class="op" id="6021959">.</span><span class="ident" id="6021960"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020776">nbuf</a></span>&nbsp;<span class="op" id="6021965">=</span>&nbsp;<span class="num" id="6021967">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6021971">_</span><span class="op" id="6021972">,</span>&nbsp;<span class="ident" id="6021974"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021793">e</a></span><span class="op" id="6021975">.</span><span class="ident" id="6021976"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span>&nbsp;<span class="op" id="6021980">=</span>&nbsp;<span class="ident" id="6021982"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021793">e</a></span><span class="op" id="6021983">.</span><span class="ident" id="6021984"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020704">w</a></span><span class="op" id="6021985">.</span><span class="ident" id="6021986"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="6021991">(</span><span class="ident" id="6021992"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021793">e</a></span><span class="op" id="6021993">.</span><span class="ident" id="6021994"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020819">out</a></span><span class="op" id="6021997">[</span><span class="num" id="6021998">0</span><span class="op" id="6021999">:</span><span class="ident" id="6022000"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021913">nout</a></span><span class="op" id="6022004">]</span><span class="op" id="6022005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6022008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6022011">return</span>&nbsp;<span class="ident" id="6022018"><a href="/gostd/encoding/ascii85/ascii85.go.html#6021793">e</a></span><span class="op" id="6022019">.</span><span class="ident" id="6022020"><a href="/gostd/encoding/ascii85/ascii85.go.html#6020692">err</a></span><br>
<span class="lineno"></span><span class="op" id="6022024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="6022027">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Decoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6022046">type</span>&nbsp;<span class="ident" id="6022051">CorruptInputError</span>&nbsp;<span class="builtintype" id="6022069">int64</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="6022076">func</span>&nbsp;<span class="op" id="6022081">(</span><span class="ident" id="6022082">e</span>&nbsp;<span class="ident" id="6022084"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022051">CorruptInputError</a></span><span class="op" id="6022101">)</span>&nbsp;<span class="ident" id="6022103">Error</span><span class="op" id="6022108">(</span><span class="op" id="6022109">)</span>&nbsp;<span class="builtintype" id="6022111">string</span>&nbsp;<span class="op" id="6022118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6022121">return</span>&nbsp;<span class="string" id="6022128">&#34;illegal&nbsp;ascii85&nbsp;data&nbsp;at&nbsp;input&nbsp;byte&nbsp;&#34;</span>&nbsp;<span class="op" id="6022166">+</span>&nbsp;<span class="ident" id="6022168"><a href="/gostd/encoding/ascii85/ascii85.go.html#6018790">strconv</a></span><span class="op" id="6022175">.</span><span class="ident" id="6022176"><a href="/gostd/strconv/itoa.go.html#2407133">FormatInt</a></span><span class="op" id="6022185">(</span><span class="builtintype" id="6022186">int64</span><span class="op" id="6022191">(</span><span class="ident" id="6022192"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022082">e</a></span><span class="op" id="6022193">)</span><span class="op" id="6022194">,</span>&nbsp;<span class="num" id="6022196">10</span><span class="op" id="6022198">)</span><br>
<span class="lineno"></span><span class="op" id="6022200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="6022203">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;dst,&nbsp;returning&nbsp;both&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="6022261">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst&nbsp;and&nbsp;the&nbsp;number&nbsp;consumed&nbsp;from&nbsp;src.</span><br>
<span class="lineno"></span><span class="comment" id="6022322">//&nbsp;If&nbsp;src&nbsp;contains&nbsp;invalid&nbsp;ascii85&nbsp;data,&nbsp;Decode&nbsp;will&nbsp;return&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6022386">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;successfully&nbsp;written&nbsp;and&nbsp;a&nbsp;CorruptInputError.</span><br>
<span class="lineno"></span><span class="comment" id="6022451">//&nbsp;Decode&nbsp;ignores&nbsp;space&nbsp;and&nbsp;control&nbsp;characters&nbsp;in&nbsp;src.</span><br>
<span class="lineno">180</span><span class="comment" id="6022506">//&nbsp;Often,&nbsp;ascii85-encoded&nbsp;data&nbsp;is&nbsp;wrapped&nbsp;in&nbsp;&lt;~&nbsp;and&nbsp;~&gt;&nbsp;symbols.</span><br>
<span class="lineno"></span><span class="comment" id="6022570">//&nbsp;Decode&nbsp;expects&nbsp;these&nbsp;to&nbsp;have&nbsp;been&nbsp;stripped&nbsp;by&nbsp;the&nbsp;caller.</span><br>
<span class="lineno"></span><span class="comment" id="6022631">//</span><br>
<span class="lineno"></span><span class="comment" id="6022634">//&nbsp;If&nbsp;flush&nbsp;is&nbsp;true,&nbsp;Decode&nbsp;assumes&nbsp;that&nbsp;src&nbsp;represents&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6022694">//&nbsp;end&nbsp;of&nbsp;the&nbsp;input&nbsp;stream&nbsp;and&nbsp;processes&nbsp;it&nbsp;completely&nbsp;rather</span><br>
<span class="lineno">185</span><span class="comment" id="6022756">//&nbsp;than&nbsp;wait&nbsp;for&nbsp;the&nbsp;completion&nbsp;of&nbsp;another&nbsp;32-bit&nbsp;block.</span><br>
<span class="lineno"></span><span class="comment" id="6022813">//</span><br>
<span class="lineno"></span><span class="comment" id="6022816">//&nbsp;NewDecoder&nbsp;wraps&nbsp;an&nbsp;io.Reader&nbsp;interface&nbsp;around&nbsp;Decode.</span><br>
<span class="lineno"></span><span class="comment" id="6022874">//</span><br>
<span class="lineno"></span><span class="keyword" id="6022877">func</span>&nbsp;<span class="ident" id="6022882">Decode</span><span class="op" id="6022888">(</span><span class="ident" id="6022889">dst</span><span class="op" id="6022892">,</span>&nbsp;<span class="ident" id="6022894">src</span>&nbsp;<span class="op" id="6022898">[</span><span class="op" id="6022899">]</span><span class="builtintype" id="6022900">byte</span><span class="op" id="6022904">,</span>&nbsp;<span class="ident" id="6022906">flush</span>&nbsp;<span class="builtintype" id="6022912">bool</span><span class="op" id="6022916">)</span>&nbsp;<span class="op" id="6022918">(</span><span class="ident" id="6022919">ndst</span><span class="op" id="6022923">,</span>&nbsp;<span class="ident" id="6022925">nsrc</span>&nbsp;<span class="builtintype" id="6022930">int</span><span class="op" id="6022933">,</span>&nbsp;<span class="ident" id="6022935">err</span>&nbsp;<span class="builtintype" id="6022939">error</span><span class="op" id="6022944">)</span>&nbsp;<span class="op" id="6022946">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6022949">var</span>&nbsp;<span class="ident" id="6022953">v</span>&nbsp;<span class="builtintype" id="6022955">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6022963">var</span>&nbsp;<span class="ident" id="6022967">nb</span>&nbsp;<span class="builtintype" id="6022970">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6022975">for</span>&nbsp;<span class="ident" id="6022979">i</span><span class="op" id="6022980">,</span>&nbsp;<span class="ident" id="6022982">b</span>&nbsp;<span class="op" id="6022984">:=</span>&nbsp;<span class="keyword" id="6022987">range</span>&nbsp;<span class="ident" id="6022993"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022894">src</a></span>&nbsp;<span class="op" id="6022997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023001">if</span>&nbsp;<span class="builtinfunc" id="6023004">len</span><span class="op" id="6023007">(</span><span class="ident" id="6023008"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022889">dst</a></span><span class="op" id="6023011">)</span><span class="op" id="6023012">-</span><span class="ident" id="6023013"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022919">ndst</a></span>&nbsp;<span class="op" id="6023018">&lt;</span>&nbsp;<span class="num" id="6023020">4</span>&nbsp;<span class="op" id="6023022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023027">return</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6023036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023040">switch</span>&nbsp;<span class="op" id="6023047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023051">case</span>&nbsp;<span class="ident" id="6023056"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022982">b</a></span>&nbsp;<span class="op" id="6023058">&lt;=</span>&nbsp;<span class="string" id="6023061">&#39;&nbsp;&#39;</span><span class="op" id="6023064">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023069">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023080">case</span>&nbsp;<span class="ident" id="6023085"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022982">b</a></span>&nbsp;<span class="op" id="6023087">==</span>&nbsp;<span class="string" id="6023090">&#39;z&#39;</span>&nbsp;<span class="op" id="6023094">&amp;&amp;</span>&nbsp;<span class="ident" id="6023097"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022967">nb</a></span>&nbsp;<span class="op" id="6023100">==</span>&nbsp;<span class="num" id="6023103">0</span><span class="op" id="6023104">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023109"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022967">nb</a></span>&nbsp;<span class="op" id="6023112">=</span>&nbsp;<span class="num" id="6023114">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023119"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span>&nbsp;<span class="op" id="6023121">=</span>&nbsp;<span class="num" id="6023123">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023127">case</span>&nbsp;<span class="string" id="6023132">&#39;!&#39;</span>&nbsp;<span class="op" id="6023136">&lt;=</span>&nbsp;<span class="ident" id="6023139"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022982">b</a></span>&nbsp;<span class="op" id="6023141">&amp;&amp;</span>&nbsp;<span class="ident" id="6023144"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022982">b</a></span>&nbsp;<span class="op" id="6023146">&lt;=</span>&nbsp;<span class="string" id="6023149">&#39;u&#39;</span><span class="op" id="6023152">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023157"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span>&nbsp;<span class="op" id="6023159">=</span>&nbsp;<span class="ident" id="6023161"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span><span class="op" id="6023162">*</span><span class="num" id="6023163">85</span>&nbsp;<span class="op" id="6023166">+</span>&nbsp;<span class="builtintype" id="6023168">uint32</span><span class="op" id="6023174">(</span><span class="ident" id="6023175"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022982">b</a></span><span class="op" id="6023176">-</span><span class="string" id="6023177">&#39;!&#39;</span><span class="op" id="6023180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023185"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022967">nb</a></span><span class="op" id="6023187">++</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023192">default</span><span class="op" id="6023199">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023204">return</span>&nbsp;<span class="num" id="6023211">0</span><span class="op" id="6023212">,</span>&nbsp;<span class="num" id="6023214">0</span><span class="op" id="6023215">,</span>&nbsp;<span class="ident" id="6023217"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022051">CorruptInputError</a></span><span class="op" id="6023234">(</span><span class="ident" id="6023235"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022979">i</a></span><span class="op" id="6023236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6023240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023244">if</span>&nbsp;<span class="ident" id="6023247"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022967">nb</a></span>&nbsp;<span class="op" id="6023250">==</span>&nbsp;<span class="num" id="6023253">5</span>&nbsp;<span class="op" id="6023255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023260"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022925">nsrc</a></span>&nbsp;<span class="op" id="6023265">=</span>&nbsp;<span class="ident" id="6023267"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022979">i</a></span>&nbsp;<span class="op" id="6023269">+</span>&nbsp;<span class="num" id="6023271">1</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023276"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022889">dst</a></span><span class="op" id="6023279">[</span><span class="ident" id="6023280"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022919">ndst</a></span><span class="op" id="6023284">]</span>&nbsp;<span class="op" id="6023286">=</span>&nbsp;<span class="builtintype" id="6023288">byte</span><span class="op" id="6023292">(</span><span class="ident" id="6023293"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span>&nbsp;<span class="op" id="6023295">&gt;&gt;</span>&nbsp;<span class="num" id="6023298">24</span><span class="op" id="6023300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023305"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022889">dst</a></span><span class="op" id="6023308">[</span><span class="ident" id="6023309"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022919">ndst</a></span><span class="op" id="6023313">+</span><span class="num" id="6023314">1</span><span class="op" id="6023315">]</span>&nbsp;<span class="op" id="6023317">=</span>&nbsp;<span class="builtintype" id="6023319">byte</span><span class="op" id="6023323">(</span><span class="ident" id="6023324"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span>&nbsp;<span class="op" id="6023326">&gt;&gt;</span>&nbsp;<span class="num" id="6023329">16</span><span class="op" id="6023331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023336"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022889">dst</a></span><span class="op" id="6023339">[</span><span class="ident" id="6023340"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022919">ndst</a></span><span class="op" id="6023344">+</span><span class="num" id="6023345">2</span><span class="op" id="6023346">]</span>&nbsp;<span class="op" id="6023348">=</span>&nbsp;<span class="builtintype" id="6023350">byte</span><span class="op" id="6023354">(</span><span class="ident" id="6023355"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span>&nbsp;<span class="op" id="6023357">&gt;&gt;</span>&nbsp;<span class="num" id="6023360">8</span><span class="op" id="6023361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023366"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022889">dst</a></span><span class="op" id="6023369">[</span><span class="ident" id="6023370"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022919">ndst</a></span><span class="op" id="6023374">+</span><span class="num" id="6023375">3</span><span class="op" id="6023376">]</span>&nbsp;<span class="op" id="6023378">=</span>&nbsp;<span class="builtintype" id="6023380">byte</span><span class="op" id="6023384">(</span><span class="ident" id="6023385"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span><span class="op" id="6023386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023391"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022919">ndst</a></span>&nbsp;<span class="op" id="6023396">+=</span>&nbsp;<span class="num" id="6023399">4</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023404"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022967">nb</a></span>&nbsp;<span class="op" id="6023407">=</span>&nbsp;<span class="num" id="6023409">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023414"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span>&nbsp;<span class="op" id="6023416">=</span>&nbsp;<span class="num" id="6023418">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6023422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6023425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023428">if</span>&nbsp;<span class="ident" id="6023431"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022906">flush</a></span>&nbsp;<span class="op" id="6023437">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023441"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022925">nsrc</a></span>&nbsp;<span class="op" id="6023446">=</span>&nbsp;<span class="builtinfunc" id="6023448">len</span><span class="op" id="6023451">(</span><span class="ident" id="6023452"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022894">src</a></span><span class="op" id="6023455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023459">if</span>&nbsp;<span class="ident" id="6023462"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022967">nb</a></span>&nbsp;<span class="op" id="6023465">&gt;</span>&nbsp;<span class="num" id="6023467">0</span>&nbsp;<span class="op" id="6023469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6023474">//&nbsp;The&nbsp;number&nbsp;of&nbsp;output&nbsp;bytes&nbsp;in&nbsp;the&nbsp;last&nbsp;fragment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6023528">//&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;leftover&nbsp;input&nbsp;bytes&nbsp;-&nbsp;1:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6023577">//&nbsp;the&nbsp;extra&nbsp;byte&nbsp;provides&nbsp;enough&nbsp;bits&nbsp;to&nbsp;cover</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6023628">//&nbsp;the&nbsp;inefficiency&nbsp;of&nbsp;the&nbsp;encoding&nbsp;for&nbsp;the&nbsp;block.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023682">if</span>&nbsp;<span class="ident" id="6023685"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022967">nb</a></span>&nbsp;<span class="op" id="6023688">==</span>&nbsp;<span class="num" id="6023691">1</span>&nbsp;<span class="op" id="6023693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023699">return</span>&nbsp;<span class="num" id="6023706">0</span><span class="op" id="6023707">,</span>&nbsp;<span class="num" id="6023709">0</span><span class="op" id="6023710">,</span>&nbsp;<span class="ident" id="6023712"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022051">CorruptInputError</a></span><span class="op" id="6023729">(</span><span class="builtinfunc" id="6023730">len</span><span class="op" id="6023733">(</span><span class="ident" id="6023734"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022894">src</a></span><span class="op" id="6023737">)</span><span class="op" id="6023738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6023743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023748">for</span>&nbsp;<span class="ident" id="6023752">i</span>&nbsp;<span class="op" id="6023754">:=</span>&nbsp;<span class="ident" id="6023757"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022967">nb</a></span><span class="op" id="6023759">;</span>&nbsp;<span class="ident" id="6023761"><a href="/gostd/encoding/ascii85/ascii85.go.html#6023752">i</a></span>&nbsp;<span class="op" id="6023763">&lt;</span>&nbsp;<span class="num" id="6023765">5</span><span class="op" id="6023766">;</span>&nbsp;<span class="ident" id="6023768"><a href="/gostd/encoding/ascii85/ascii85.go.html#6023752">i</a></span><span class="op" id="6023769">++</span>&nbsp;<span class="op" id="6023772">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6023778">//&nbsp;The&nbsp;short&nbsp;encoding&nbsp;truncated&nbsp;the&nbsp;output&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6023832">//&nbsp;We&nbsp;have&nbsp;to&nbsp;assume&nbsp;the&nbsp;worst&nbsp;case&nbsp;values&nbsp;(digit&nbsp;84)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6023890">//&nbsp;in&nbsp;order&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;top&nbsp;bits&nbsp;are&nbsp;correct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6023947"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span>&nbsp;<span class="op" id="6023949">=</span>&nbsp;<span class="ident" id="6023951"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span><span class="op" id="6023952">*</span><span class="num" id="6023953">85</span>&nbsp;<span class="op" id="6023956">+</span>&nbsp;<span class="num" id="6023958">84</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6023964">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6023969">for</span>&nbsp;<span class="ident" id="6023973">i</span>&nbsp;<span class="op" id="6023975">:=</span>&nbsp;<span class="num" id="6023978">0</span><span class="op" id="6023979">;</span>&nbsp;<span class="ident" id="6023981"><a href="/gostd/encoding/ascii85/ascii85.go.html#6023973">i</a></span>&nbsp;<span class="op" id="6023983">&lt;</span>&nbsp;<span class="ident" id="6023985"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022967">nb</a></span><span class="op" id="6023987">-</span><span class="num" id="6023988">1</span><span class="op" id="6023989">;</span>&nbsp;<span class="ident" id="6023991"><a href="/gostd/encoding/ascii85/ascii85.go.html#6023973">i</a></span><span class="op" id="6023992">++</span>&nbsp;<span class="op" id="6023995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024001"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022889">dst</a></span><span class="op" id="6024004">[</span><span class="ident" id="6024005"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022919">ndst</a></span><span class="op" id="6024009">]</span>&nbsp;<span class="op" id="6024011">=</span>&nbsp;<span class="builtintype" id="6024013">byte</span><span class="op" id="6024017">(</span><span class="ident" id="6024018"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span>&nbsp;<span class="op" id="6024020">&gt;&gt;</span>&nbsp;<span class="num" id="6024023">24</span><span class="op" id="6024025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024031"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022953">v</a></span>&nbsp;<span class="op" id="6024033">&lt;&lt;=</span>&nbsp;<span class="num" id="6024037">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024043"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022919">ndst</a></span><span class="op" id="6024047">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6024053">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6024057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6024060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024063">return</span><br>
<span class="lineno"></span><span class="op" id="6024070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="6024073">//&nbsp;NewDecoder&nbsp;constructs&nbsp;a&nbsp;new&nbsp;ascii85&nbsp;stream&nbsp;decoder.</span><br>
<span class="lineno"></span><span class="keyword" id="6024128">func</span>&nbsp;<span class="ident" id="6024133">NewDecoder</span><span class="op" id="6024143">(</span><span class="ident" id="6024144">r</span>&nbsp;<span class="ident" id="6024146"><a href="/gostd/encoding/ascii85/ascii85.go.html#6018784">io</a></span><span class="op" id="6024148">.</span><span class="ident" id="6024149"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="6024155">)</span>&nbsp;<span class="ident" id="6024157"><a href="/gostd/encoding/ascii85/ascii85.go.html#6018784">io</a></span><span class="op" id="6024159">.</span><span class="ident" id="6024160"><a href="/gostd/io/io.go.html#1421823">Reader</a></span>&nbsp;<span class="op" id="6024167">{</span>&nbsp;<span class="keyword" id="6024169">return</span>&nbsp;<span class="op" id="6024176">&amp;</span><span class="ident" id="6024177"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024199">decoder</a></span><span class="op" id="6024184">{</span><span class="ident" id="6024185"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024247">r</a></span><span class="op" id="6024186">:</span>&nbsp;<span class="ident" id="6024188"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024144">r</a></span><span class="op" id="6024189">}</span>&nbsp;<span class="op" id="6024191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6024194">type</span>&nbsp;<span class="ident" id="6024199">decoder</span>&nbsp;<span class="keyword" id="6024207">struct</span>&nbsp;<span class="op" id="6024214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024217">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6024225">error</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024232">readErr</span>&nbsp;<span class="builtintype" id="6024240">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024247">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024255"><a href="/gostd/encoding/ascii85/ascii85.go.html#6018784">io</a></span><span class="op" id="6024257">.</span><span class="ident" id="6024258"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024266">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6024274">[</span><span class="num" id="6024275">1024</span><span class="op" id="6024279">]</span><span class="builtintype" id="6024280">byte</span>&nbsp;<span class="comment" id="6024285">//&nbsp;leftover&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024304">nbuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6024312">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024317">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6024325">[</span><span class="op" id="6024326">]</span><span class="builtintype" id="6024327">byte</span>&nbsp;<span class="comment" id="6024332">//&nbsp;leftover&nbsp;decoded&nbsp;output</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024360">outbuf</span>&nbsp;&nbsp;<span class="op" id="6024368">[</span><span class="num" id="6024369">1024</span><span class="op" id="6024373">]</span><span class="builtintype" id="6024374">byte</span><br>
<span class="lineno"></span><span class="op" id="6024379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6024382">func</span>&nbsp;<span class="op" id="6024387">(</span><span class="ident" id="6024388">d</span>&nbsp;<span class="op" id="6024390">*</span><span class="ident" id="6024391"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024199">decoder</a></span><span class="op" id="6024398">)</span>&nbsp;<span class="ident" id="6024400">Read</span><span class="op" id="6024404">(</span><span class="ident" id="6024405">p</span>&nbsp;<span class="op" id="6024407">[</span><span class="op" id="6024408">]</span><span class="builtintype" id="6024409">byte</span><span class="op" id="6024413">)</span>&nbsp;<span class="op" id="6024415">(</span><span class="ident" id="6024416">n</span>&nbsp;<span class="builtintype" id="6024418">int</span><span class="op" id="6024421">,</span>&nbsp;<span class="ident" id="6024423">err</span>&nbsp;<span class="builtintype" id="6024427">error</span><span class="op" id="6024432">)</span>&nbsp;<span class="op" id="6024434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024437">if</span>&nbsp;<span class="builtinfunc" id="6024440">len</span><span class="op" id="6024443">(</span><span class="ident" id="6024444"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024405">p</a></span><span class="op" id="6024445">)</span>&nbsp;<span class="op" id="6024447">==</span>&nbsp;<span class="num" id="6024450">0</span>&nbsp;<span class="op" id="6024452">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024456">return</span>&nbsp;<span class="num" id="6024463">0</span><span class="op" id="6024464">,</span>&nbsp;<span class="builtintype" id="6024466">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6024471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024474">if</span>&nbsp;<span class="ident" id="6024477"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024478">.</span><span class="ident" id="6024479"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024217">err</a></span>&nbsp;<span class="op" id="6024483">!=</span>&nbsp;<span class="builtintype" id="6024486">nil</span>&nbsp;<span class="op" id="6024490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024494">return</span>&nbsp;<span class="num" id="6024501">0</span><span class="op" id="6024502">,</span>&nbsp;<span class="ident" id="6024504"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024505">.</span><span class="ident" id="6024506"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024217">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6024511">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024515">for</span>&nbsp;<span class="op" id="6024519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6024523">//&nbsp;Copy&nbsp;leftover&nbsp;output&nbsp;from&nbsp;last&nbsp;decode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024567">if</span>&nbsp;<span class="builtinfunc" id="6024570">len</span><span class="op" id="6024573">(</span><span class="ident" id="6024574"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024575">.</span><span class="ident" id="6024576"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024317">out</a></span><span class="op" id="6024579">)</span>&nbsp;<span class="op" id="6024581">&gt;</span>&nbsp;<span class="num" id="6024583">0</span>&nbsp;<span class="op" id="6024585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024590"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024416">n</a></span>&nbsp;<span class="op" id="6024592">=</span>&nbsp;<span class="builtinfunc" id="6024594">copy</span><span class="op" id="6024598">(</span><span class="ident" id="6024599"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024405">p</a></span><span class="op" id="6024600">,</span>&nbsp;<span class="ident" id="6024602"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024603">.</span><span class="ident" id="6024604"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024317">out</a></span><span class="op" id="6024607">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024612"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024613">.</span><span class="ident" id="6024614"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024317">out</a></span>&nbsp;<span class="op" id="6024618">=</span>&nbsp;<span class="ident" id="6024620"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024621">.</span><span class="ident" id="6024622"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024317">out</a></span><span class="op" id="6024625">[</span><span class="ident" id="6024626"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024416">n</a></span><span class="op" id="6024627">:</span><span class="op" id="6024628">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024633">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6024642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6024647">//&nbsp;Decode&nbsp;leftover&nbsp;input&nbsp;from&nbsp;last&nbsp;read.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024690">var</span>&nbsp;<span class="ident" id="6024694">nn</span><span class="op" id="6024696">,</span>&nbsp;<span class="ident" id="6024698">nsrc</span><span class="op" id="6024702">,</span>&nbsp;<span class="ident" id="6024704">ndst</span>&nbsp;<span class="builtintype" id="6024709">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024715">if</span>&nbsp;<span class="ident" id="6024718"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024719">.</span><span class="ident" id="6024720"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024304">nbuf</a></span>&nbsp;<span class="op" id="6024725">&gt;</span>&nbsp;<span class="num" id="6024727">0</span>&nbsp;<span class="op" id="6024729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024734"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024704">ndst</a></span><span class="op" id="6024738">,</span>&nbsp;<span class="ident" id="6024740"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024698">nsrc</a></span><span class="op" id="6024744">,</span>&nbsp;<span class="ident" id="6024746"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024747">.</span><span class="ident" id="6024748"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024217">err</a></span>&nbsp;<span class="op" id="6024752">=</span>&nbsp;<span class="ident" id="6024754"><a href="/gostd/encoding/ascii85/ascii85.go.html#6022882">Decode</a></span><span class="op" id="6024760">(</span><span class="ident" id="6024761"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024762">.</span><span class="ident" id="6024763"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024360">outbuf</a></span><span class="op" id="6024769">[</span><span class="num" id="6024770">0</span><span class="op" id="6024771">:</span><span class="op" id="6024772">]</span><span class="op" id="6024773">,</span>&nbsp;<span class="ident" id="6024775"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024776">.</span><span class="ident" id="6024777"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024266">buf</a></span><span class="op" id="6024780">[</span><span class="num" id="6024781">0</span><span class="op" id="6024782">:</span><span class="ident" id="6024783"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024784">.</span><span class="ident" id="6024785"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024304">nbuf</a></span><span class="op" id="6024789">]</span><span class="op" id="6024790">,</span>&nbsp;<span class="ident" id="6024792"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024793">.</span><span class="ident" id="6024794"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024232">readErr</a></span>&nbsp;<span class="op" id="6024802">!=</span>&nbsp;<span class="builtintype" id="6024805">nil</span><span class="op" id="6024808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024813">if</span>&nbsp;<span class="ident" id="6024816"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024704">ndst</a></span>&nbsp;<span class="op" id="6024821">&gt;</span>&nbsp;<span class="num" id="6024823">0</span>&nbsp;<span class="op" id="6024825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024831"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024832">.</span><span class="ident" id="6024833"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024317">out</a></span>&nbsp;<span class="op" id="6024837">=</span>&nbsp;<span class="ident" id="6024839"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024840">.</span><span class="ident" id="6024841"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024360">outbuf</a></span><span class="op" id="6024847">[</span><span class="num" id="6024848">0</span><span class="op" id="6024849">:</span><span class="ident" id="6024850"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024704">ndst</a></span><span class="op" id="6024854">]</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6024860"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024861">.</span><span class="ident" id="6024862"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024304">nbuf</a></span>&nbsp;<span class="op" id="6024867">=</span>&nbsp;<span class="builtinfunc" id="6024869">copy</span><span class="op" id="6024873">(</span><span class="ident" id="6024874"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024875">.</span><span class="ident" id="6024876"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024266">buf</a></span><span class="op" id="6024879">[</span><span class="num" id="6024880">0</span><span class="op" id="6024881">:</span><span class="op" id="6024882">]</span><span class="op" id="6024883">,</span>&nbsp;<span class="ident" id="6024885"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024886">.</span><span class="ident" id="6024887"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024266">buf</a></span><span class="op" id="6024890">[</span><span class="ident" id="6024891"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024698">nsrc</a></span><span class="op" id="6024895">:</span><span class="ident" id="6024896"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024897">.</span><span class="ident" id="6024898"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024304">nbuf</a></span><span class="op" id="6024902">]</span><span class="op" id="6024903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024909">continue</span>&nbsp;<span class="comment" id="6024918">//&nbsp;copy&nbsp;out&nbsp;and&nbsp;return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6024944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6024949">if</span>&nbsp;<span class="ident" id="6024952"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024704">ndst</a></span>&nbsp;<span class="op" id="6024957">==</span>&nbsp;<span class="num" id="6024960">0</span>&nbsp;<span class="op" id="6024962">&amp;&amp;</span>&nbsp;<span class="ident" id="6024965"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6024966">.</span><span class="ident" id="6024967"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024217">err</a></span>&nbsp;<span class="op" id="6024971">==</span>&nbsp;<span class="builtintype" id="6024974">nil</span>&nbsp;<span class="op" id="6024978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6024984">//&nbsp;Special&nbsp;case:&nbsp;input&nbsp;buffer&nbsp;is&nbsp;mostly&nbsp;filled&nbsp;with&nbsp;non-data&nbsp;bytes.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6025056">//&nbsp;Filter&nbsp;out&nbsp;such&nbsp;bytes&nbsp;to&nbsp;make&nbsp;room&nbsp;for&nbsp;more&nbsp;input.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6025114">off</span>&nbsp;<span class="op" id="6025118">:=</span>&nbsp;<span class="num" id="6025121">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6025127">for</span>&nbsp;<span class="ident" id="6025131">i</span>&nbsp;<span class="op" id="6025133">:=</span>&nbsp;<span class="num" id="6025136">0</span><span class="op" id="6025137">;</span>&nbsp;<span class="ident" id="6025139"><a href="/gostd/encoding/ascii85/ascii85.go.html#6025131">i</a></span>&nbsp;<span class="op" id="6025141">&lt;</span>&nbsp;<span class="ident" id="6025143"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025144">.</span><span class="ident" id="6025145"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024304">nbuf</a></span><span class="op" id="6025149">;</span>&nbsp;<span class="ident" id="6025151"><a href="/gostd/encoding/ascii85/ascii85.go.html#6025131">i</a></span><span class="op" id="6025152">++</span>&nbsp;<span class="op" id="6025155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6025162">if</span>&nbsp;<span class="ident" id="6025165"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025166">.</span><span class="ident" id="6025167"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024266">buf</a></span><span class="op" id="6025170">[</span><span class="ident" id="6025171"><a href="/gostd/encoding/ascii85/ascii85.go.html#6025131">i</a></span><span class="op" id="6025172">]</span>&nbsp;<span class="op" id="6025174">&gt;</span>&nbsp;<span class="string" id="6025176">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6025180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6025188"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025189">.</span><span class="ident" id="6025190"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024266">buf</a></span><span class="op" id="6025193">[</span><span class="ident" id="6025194"><a href="/gostd/encoding/ascii85/ascii85.go.html#6025114">off</a></span><span class="op" id="6025197">]</span>&nbsp;<span class="op" id="6025199">=</span>&nbsp;<span class="ident" id="6025201"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025202">.</span><span class="ident" id="6025203"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024266">buf</a></span><span class="op" id="6025206">[</span><span class="ident" id="6025207"><a href="/gostd/encoding/ascii85/ascii85.go.html#6025131">i</a></span><span class="op" id="6025208">]</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6025216"><a href="/gostd/encoding/ascii85/ascii85.go.html#6025114">off</a></span><span class="op" id="6025219">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6025227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6025233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6025239"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025240">.</span><span class="ident" id="6025241"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024304">nbuf</a></span>&nbsp;<span class="op" id="6025246">=</span>&nbsp;<span class="ident" id="6025248"><a href="/gostd/encoding/ascii85/ascii85.go.html#6025114">off</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6025255">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6025259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6025264">//&nbsp;Out&nbsp;of&nbsp;input,&nbsp;out&nbsp;of&nbsp;decoded&nbsp;output.&nbsp;&nbsp;Check&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6025321">if</span>&nbsp;<span class="ident" id="6025324"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025325">.</span><span class="ident" id="6025326"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024217">err</a></span>&nbsp;<span class="op" id="6025330">!=</span>&nbsp;<span class="builtintype" id="6025333">nil</span>&nbsp;<span class="op" id="6025337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6025342">return</span>&nbsp;<span class="num" id="6025349">0</span><span class="op" id="6025350">,</span>&nbsp;<span class="ident" id="6025352"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025353">.</span><span class="ident" id="6025354"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024217">err</a></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6025360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6025364">if</span>&nbsp;<span class="ident" id="6025367"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025368">.</span><span class="ident" id="6025369"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024232">readErr</a></span>&nbsp;<span class="op" id="6025377">!=</span>&nbsp;<span class="builtintype" id="6025380">nil</span>&nbsp;<span class="op" id="6025384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6025389"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025390">.</span><span class="ident" id="6025391"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024217">err</a></span>&nbsp;<span class="op" id="6025395">=</span>&nbsp;<span class="ident" id="6025397"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025398">.</span><span class="ident" id="6025399"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024232">readErr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6025410">return</span>&nbsp;<span class="num" id="6025417">0</span><span class="op" id="6025418">,</span>&nbsp;<span class="ident" id="6025420"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025421">.</span><span class="ident" id="6025422"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024217">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6025428">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6025433">//&nbsp;Read&nbsp;more&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6025454"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024694">nn</a></span><span class="op" id="6025456">,</span>&nbsp;<span class="ident" id="6025458"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025459">.</span><span class="ident" id="6025460"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024232">readErr</a></span>&nbsp;<span class="op" id="6025468">=</span>&nbsp;<span class="ident" id="6025470"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025471">.</span><span class="ident" id="6025472"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024247">r</a></span><span class="op" id="6025473">.</span><span class="ident" id="6025474"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="6025478">(</span><span class="ident" id="6025479"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025480">.</span><span class="ident" id="6025481"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024266">buf</a></span><span class="op" id="6025484">[</span><span class="ident" id="6025485"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025486">.</span><span class="ident" id="6025487"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024304">nbuf</a></span><span class="op" id="6025491">:</span><span class="op" id="6025492">]</span><span class="op" id="6025493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6025497"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024388">d</a></span><span class="op" id="6025498">.</span><span class="ident" id="6025499"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024304">nbuf</a></span>&nbsp;<span class="op" id="6025504">+=</span>&nbsp;<span class="ident" id="6025507"><a href="/gostd/encoding/ascii85/ascii85.go.html#6024694">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6025511">}</span><br>
<span class="lineno">310</span><span class="op" id="6025513">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
