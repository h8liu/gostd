<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8466447">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8466502">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8466556">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8466607">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="8466672">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="8466731">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8466789">package</span>&nbsp;<span class="ident" id="8466797">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8466802">import</span>&nbsp;<span class="op" id="8466809">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8466812">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8466819">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8466829">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8466832">type</span>&nbsp;<span class="ident" id="8466837">matrix</span>&nbsp;<span class="keyword" id="8466844">struct</span>&nbsp;<span class="op" id="8466851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466854">n</span><span class="op" id="8466855">,</span>&nbsp;<span class="ident" id="8466857">m</span>&nbsp;<span class="builtintype" id="8466859">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8466864">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8466869">[</span><span class="op" id="8466870">]</span><span class="op" id="8466871">*</span><span class="ident" id="8466872">Rat</span><br>
<span class="lineno"></span><span class="op" id="8466876">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8466879">func</span>&nbsp;<span class="op" id="8466884">(</span><span class="ident" id="8466885">a</span>&nbsp;<span class="op" id="8466887">*</span><span class="ident" id="8466888">matrix</span><span class="op" id="8466894">)</span>&nbsp;<span class="ident" id="8466896">at</span><span class="op" id="8466898">(</span><span class="ident" id="8466899">i</span><span class="op" id="8466900">,</span>&nbsp;<span class="ident" id="8466902">j</span>&nbsp;<span class="builtintype" id="8466904">int</span><span class="op" id="8466907">)</span>&nbsp;<span class="op" id="8466909">*</span><span class="ident" id="8466910">Rat</span>&nbsp;<span class="op" id="8466914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466917">if</span>&nbsp;<span class="op" id="8466920">!</span><span class="op" id="8466921">(</span><span class="num" id="8466922">0</span>&nbsp;<span class="op" id="8466924">&lt;=</span>&nbsp;<span class="ident" id="8466927">i</span>&nbsp;<span class="op" id="8466929">&amp;&amp;</span>&nbsp;<span class="ident" id="8466932">i</span>&nbsp;<span class="op" id="8466934">&lt;</span>&nbsp;<span class="ident" id="8466936">a</span><span class="op" id="8466937">.</span><span class="ident" id="8466938">n</span>&nbsp;<span class="op" id="8466940">&amp;&amp;</span>&nbsp;<span class="num" id="8466943">0</span>&nbsp;<span class="op" id="8466945">&lt;=</span>&nbsp;<span class="ident" id="8466948">j</span>&nbsp;<span class="op" id="8466950">&amp;&amp;</span>&nbsp;<span class="ident" id="8466953">j</span>&nbsp;<span class="op" id="8466955">&lt;</span>&nbsp;<span class="ident" id="8466957">a</span><span class="op" id="8466958">.</span><span class="ident" id="8466959">m</span><span class="op" id="8466960">)</span>&nbsp;<span class="op" id="8466962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8466966">panic</span><span class="op" id="8466971">(</span><span class="string" id="8466972">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="8466992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8466995">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8466998">return</span>&nbsp;<span class="ident" id="8467005">a</span><span class="op" id="8467006">.</span><span class="ident" id="8467007">a</span><span class="op" id="8467008">[</span><span class="ident" id="8467009">i</span><span class="op" id="8467010">*</span><span class="ident" id="8467011">a</span><span class="op" id="8467012">.</span><span class="ident" id="8467013">m</span><span class="op" id="8467014">+</span><span class="ident" id="8467015">j</span><span class="op" id="8467016">]</span><br>
<span class="lineno"></span><span class="op" id="8467018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8467021">func</span>&nbsp;<span class="op" id="8467026">(</span><span class="ident" id="8467027">a</span>&nbsp;<span class="op" id="8467029">*</span><span class="ident" id="8467030">matrix</span><span class="op" id="8467036">)</span>&nbsp;<span class="ident" id="8467038">set</span><span class="op" id="8467041">(</span><span class="ident" id="8467042">i</span><span class="op" id="8467043">,</span>&nbsp;<span class="ident" id="8467045">j</span>&nbsp;<span class="builtintype" id="8467047">int</span><span class="op" id="8467050">,</span>&nbsp;<span class="ident" id="8467052">x</span>&nbsp;<span class="op" id="8467054">*</span><span class="ident" id="8467055">Rat</span><span class="op" id="8467058">)</span>&nbsp;<span class="op" id="8467060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467063">if</span>&nbsp;<span class="op" id="8467066">!</span><span class="op" id="8467067">(</span><span class="num" id="8467068">0</span>&nbsp;<span class="op" id="8467070">&lt;=</span>&nbsp;<span class="ident" id="8467073">i</span>&nbsp;<span class="op" id="8467075">&amp;&amp;</span>&nbsp;<span class="ident" id="8467078">i</span>&nbsp;<span class="op" id="8467080">&lt;</span>&nbsp;<span class="ident" id="8467082">a</span><span class="op" id="8467083">.</span><span class="ident" id="8467084">n</span>&nbsp;<span class="op" id="8467086">&amp;&amp;</span>&nbsp;<span class="num" id="8467089">0</span>&nbsp;<span class="op" id="8467091">&lt;=</span>&nbsp;<span class="ident" id="8467094">j</span>&nbsp;<span class="op" id="8467096">&amp;&amp;</span>&nbsp;<span class="ident" id="8467099">j</span>&nbsp;<span class="op" id="8467101">&lt;</span>&nbsp;<span class="ident" id="8467103">a</span><span class="op" id="8467104">.</span><span class="ident" id="8467105">m</span><span class="op" id="8467106">)</span>&nbsp;<span class="op" id="8467108">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8467112">panic</span><span class="op" id="8467117">(</span><span class="string" id="8467118">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="8467138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467144">a</span><span class="op" id="8467145">.</span><span class="ident" id="8467146">a</span><span class="op" id="8467147">[</span><span class="ident" id="8467148">i</span><span class="op" id="8467149">*</span><span class="ident" id="8467150">a</span><span class="op" id="8467151">.</span><span class="ident" id="8467152">m</span><span class="op" id="8467153">+</span><span class="ident" id="8467154">j</span><span class="op" id="8467155">]</span>&nbsp;<span class="op" id="8467157">=</span>&nbsp;<span class="ident" id="8467159">x</span><br>
<span class="lineno"></span><span class="op" id="8467161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="8467164">func</span>&nbsp;<span class="ident" id="8467169">newMatrix</span><span class="op" id="8467178">(</span><span class="ident" id="8467179">n</span><span class="op" id="8467180">,</span>&nbsp;<span class="ident" id="8467182">m</span>&nbsp;<span class="builtintype" id="8467184">int</span><span class="op" id="8467187">)</span>&nbsp;<span class="op" id="8467189">*</span><span class="ident" id="8467190">matrix</span>&nbsp;<span class="op" id="8467197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467200">if</span>&nbsp;<span class="op" id="8467203">!</span><span class="op" id="8467204">(</span><span class="num" id="8467205">0</span>&nbsp;<span class="op" id="8467207">&lt;=</span>&nbsp;<span class="ident" id="8467210">n</span>&nbsp;<span class="op" id="8467212">&amp;&amp;</span>&nbsp;<span class="num" id="8467215">0</span>&nbsp;<span class="op" id="8467217">&lt;=</span>&nbsp;<span class="ident" id="8467220">m</span><span class="op" id="8467221">)</span>&nbsp;<span class="op" id="8467223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8467227">panic</span><span class="op" id="8467232">(</span><span class="string" id="8467233">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="8467249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467255">a</span>&nbsp;<span class="op" id="8467257">:=</span>&nbsp;<span class="builtinfunc" id="8467260">new</span><span class="op" id="8467263">(</span><span class="ident" id="8467264">matrix</span><span class="op" id="8467270">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467273">a</span><span class="op" id="8467274">.</span><span class="ident" id="8467275">n</span>&nbsp;<span class="op" id="8467277">=</span>&nbsp;<span class="ident" id="8467279">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467282">a</span><span class="op" id="8467283">.</span><span class="ident" id="8467284">m</span>&nbsp;<span class="op" id="8467286">=</span>&nbsp;<span class="ident" id="8467288">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467291">a</span><span class="op" id="8467292">.</span><span class="ident" id="8467293">a</span>&nbsp;<span class="op" id="8467295">=</span>&nbsp;<span class="builtinfunc" id="8467297">make</span><span class="op" id="8467301">(</span><span class="op" id="8467302">[</span><span class="op" id="8467303">]</span><span class="op" id="8467304">*</span><span class="ident" id="8467305">Rat</span><span class="op" id="8467308">,</span>&nbsp;<span class="ident" id="8467310">n</span><span class="op" id="8467311">*</span><span class="ident" id="8467312">m</span><span class="op" id="8467313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467316">return</span>&nbsp;<span class="ident" id="8467323">a</span><br>
<span class="lineno"></span><span class="op" id="8467325">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="8467328">func</span>&nbsp;<span class="ident" id="8467333">newUnit</span><span class="op" id="8467340">(</span><span class="ident" id="8467341">n</span>&nbsp;<span class="builtintype" id="8467343">int</span><span class="op" id="8467346">)</span>&nbsp;<span class="op" id="8467348">*</span><span class="ident" id="8467349">matrix</span>&nbsp;<span class="op" id="8467356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467359">a</span>&nbsp;<span class="op" id="8467361">:=</span>&nbsp;<span class="ident" id="8467364">newMatrix</span><span class="op" id="8467373">(</span><span class="ident" id="8467374">n</span><span class="op" id="8467375">,</span>&nbsp;<span class="ident" id="8467377">n</span><span class="op" id="8467378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467381">for</span>&nbsp;<span class="ident" id="8467385">i</span>&nbsp;<span class="op" id="8467387">:=</span>&nbsp;<span class="num" id="8467390">0</span><span class="op" id="8467391">;</span>&nbsp;<span class="ident" id="8467393">i</span>&nbsp;<span class="op" id="8467395">&lt;</span>&nbsp;<span class="ident" id="8467397">n</span><span class="op" id="8467398">;</span>&nbsp;<span class="ident" id="8467400">i</span><span class="op" id="8467401">++</span>&nbsp;<span class="op" id="8467404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467408">for</span>&nbsp;<span class="ident" id="8467412">j</span>&nbsp;<span class="op" id="8467414">:=</span>&nbsp;<span class="num" id="8467417">0</span><span class="op" id="8467418">;</span>&nbsp;<span class="ident" id="8467420">j</span>&nbsp;<span class="op" id="8467422">&lt;</span>&nbsp;<span class="ident" id="8467424">n</span><span class="op" id="8467425">;</span>&nbsp;<span class="ident" id="8467427">j</span><span class="op" id="8467428">++</span>&nbsp;<span class="op" id="8467431">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467436">x</span>&nbsp;<span class="op" id="8467438">:=</span>&nbsp;<span class="ident" id="8467441">NewRat</span><span class="op" id="8467447">(</span><span class="num" id="8467448">0</span><span class="op" id="8467449">,</span>&nbsp;<span class="num" id="8467451">1</span><span class="op" id="8467452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467457">if</span>&nbsp;<span class="ident" id="8467460">i</span>&nbsp;<span class="op" id="8467462">==</span>&nbsp;<span class="ident" id="8467465">j</span>&nbsp;<span class="op" id="8467467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467473">x</span><span class="op" id="8467474">.</span><span class="ident" id="8467475">SetInt64</span><span class="op" id="8467483">(</span><span class="num" id="8467484">1</span><span class="op" id="8467485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467495">a</span><span class="op" id="8467496">.</span><span class="ident" id="8467497">set</span><span class="op" id="8467500">(</span><span class="ident" id="8467501">i</span><span class="op" id="8467502">,</span>&nbsp;<span class="ident" id="8467504">j</span><span class="op" id="8467505">,</span>&nbsp;<span class="ident" id="8467507">x</span><span class="op" id="8467508">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467518">return</span>&nbsp;<span class="ident" id="8467525">a</span><br>
<span class="lineno"></span><span class="op" id="8467527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8467530">func</span>&nbsp;<span class="ident" id="8467535">newHilbert</span><span class="op" id="8467545">(</span><span class="ident" id="8467546">n</span>&nbsp;<span class="builtintype" id="8467548">int</span><span class="op" id="8467551">)</span>&nbsp;<span class="op" id="8467553">*</span><span class="ident" id="8467554">matrix</span>&nbsp;<span class="op" id="8467561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467564">a</span>&nbsp;<span class="op" id="8467566">:=</span>&nbsp;<span class="ident" id="8467569">newMatrix</span><span class="op" id="8467578">(</span><span class="ident" id="8467579">n</span><span class="op" id="8467580">,</span>&nbsp;<span class="ident" id="8467582">n</span><span class="op" id="8467583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467586">for</span>&nbsp;<span class="ident" id="8467590">i</span>&nbsp;<span class="op" id="8467592">:=</span>&nbsp;<span class="num" id="8467595">0</span><span class="op" id="8467596">;</span>&nbsp;<span class="ident" id="8467598">i</span>&nbsp;<span class="op" id="8467600">&lt;</span>&nbsp;<span class="ident" id="8467602">n</span><span class="op" id="8467603">;</span>&nbsp;<span class="ident" id="8467605">i</span><span class="op" id="8467606">++</span>&nbsp;<span class="op" id="8467609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467613">for</span>&nbsp;<span class="ident" id="8467617">j</span>&nbsp;<span class="op" id="8467619">:=</span>&nbsp;<span class="num" id="8467622">0</span><span class="op" id="8467623">;</span>&nbsp;<span class="ident" id="8467625">j</span>&nbsp;<span class="op" id="8467627">&lt;</span>&nbsp;<span class="ident" id="8467629">n</span><span class="op" id="8467630">;</span>&nbsp;<span class="ident" id="8467632">j</span><span class="op" id="8467633">++</span>&nbsp;<span class="op" id="8467636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467641">a</span><span class="op" id="8467642">.</span><span class="ident" id="8467643">set</span><span class="op" id="8467646">(</span><span class="ident" id="8467647">i</span><span class="op" id="8467648">,</span>&nbsp;<span class="ident" id="8467650">j</span><span class="op" id="8467651">,</span>&nbsp;<span class="ident" id="8467653">NewRat</span><span class="op" id="8467659">(</span><span class="num" id="8467660">1</span><span class="op" id="8467661">,</span>&nbsp;<span class="ident" id="8467663">int64</span><span class="op" id="8467668">(</span><span class="ident" id="8467669">i</span><span class="op" id="8467670">+</span><span class="ident" id="8467671">j</span><span class="op" id="8467672">+</span><span class="num" id="8467673">1</span><span class="op" id="8467674">)</span><span class="op" id="8467675">)</span><span class="op" id="8467676">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8467683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467686">return</span>&nbsp;<span class="ident" id="8467693">a</span><br>
<span class="lineno"></span><span class="op" id="8467695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="8467698">func</span>&nbsp;<span class="ident" id="8467703">newInverseHilbert</span><span class="op" id="8467720">(</span><span class="ident" id="8467721">n</span>&nbsp;<span class="builtintype" id="8467723">int</span><span class="op" id="8467726">)</span>&nbsp;<span class="op" id="8467728">*</span><span class="ident" id="8467729">matrix</span>&nbsp;<span class="op" id="8467736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467739">a</span>&nbsp;<span class="op" id="8467741">:=</span>&nbsp;<span class="ident" id="8467744">newMatrix</span><span class="op" id="8467753">(</span><span class="ident" id="8467754">n</span><span class="op" id="8467755">,</span>&nbsp;<span class="ident" id="8467757">n</span><span class="op" id="8467758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467761">for</span>&nbsp;<span class="ident" id="8467765">i</span>&nbsp;<span class="op" id="8467767">:=</span>&nbsp;<span class="num" id="8467770">0</span><span class="op" id="8467771">;</span>&nbsp;<span class="ident" id="8467773">i</span>&nbsp;<span class="op" id="8467775">&lt;</span>&nbsp;<span class="ident" id="8467777">n</span><span class="op" id="8467778">;</span>&nbsp;<span class="ident" id="8467780">i</span><span class="op" id="8467781">++</span>&nbsp;<span class="op" id="8467784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8467788">for</span>&nbsp;<span class="ident" id="8467792">j</span>&nbsp;<span class="op" id="8467794">:=</span>&nbsp;<span class="num" id="8467797">0</span><span class="op" id="8467798">;</span>&nbsp;<span class="ident" id="8467800">j</span>&nbsp;<span class="op" id="8467802">&lt;</span>&nbsp;<span class="ident" id="8467804">n</span><span class="op" id="8467805">;</span>&nbsp;<span class="ident" id="8467807">j</span><span class="op" id="8467808">++</span>&nbsp;<span class="op" id="8467811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467816">x1</span>&nbsp;<span class="op" id="8467819">:=</span>&nbsp;<span class="builtinfunc" id="8467822">new</span><span class="op" id="8467825">(</span><span class="ident" id="8467826">Rat</span><span class="op" id="8467829">)</span><span class="op" id="8467830">.</span><span class="ident" id="8467831">SetInt64</span><span class="op" id="8467839">(</span><span class="ident" id="8467840">int64</span><span class="op" id="8467845">(</span><span class="ident" id="8467846">i</span>&nbsp;<span class="op" id="8467848">+</span>&nbsp;<span class="ident" id="8467850">j</span>&nbsp;<span class="op" id="8467852">+</span>&nbsp;<span class="num" id="8467854">1</span><span class="op" id="8467855">)</span><span class="op" id="8467856">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467861">x2</span>&nbsp;<span class="op" id="8467864">:=</span>&nbsp;<span class="builtinfunc" id="8467867">new</span><span class="op" id="8467870">(</span><span class="ident" id="8467871">Rat</span><span class="op" id="8467874">)</span><span class="op" id="8467875">.</span><span class="ident" id="8467876">SetInt</span><span class="op" id="8467882">(</span><span class="builtinfunc" id="8467883">new</span><span class="op" id="8467886">(</span><span class="ident" id="8467887">Int</span><span class="op" id="8467890">)</span><span class="op" id="8467891">.</span><span class="ident" id="8467892">Binomial</span><span class="op" id="8467900">(</span><span class="ident" id="8467901">int64</span><span class="op" id="8467906">(</span><span class="ident" id="8467907">n</span><span class="op" id="8467908">+</span><span class="ident" id="8467909">i</span><span class="op" id="8467910">)</span><span class="op" id="8467911">,</span>&nbsp;<span class="ident" id="8467913">int64</span><span class="op" id="8467918">(</span><span class="ident" id="8467919">n</span><span class="op" id="8467920">-</span><span class="ident" id="8467921">j</span><span class="op" id="8467922">-</span><span class="num" id="8467923">1</span><span class="op" id="8467924">)</span><span class="op" id="8467925">)</span><span class="op" id="8467926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8467931">x3</span>&nbsp;<span class="op" id="8467934">:=</span>&nbsp;<span class="builtinfunc" id="8467937">new</span><span class="op" id="8467940">(</span><span class="ident" id="8467941">Rat</span><span class="op" id="8467944">)</span><span class="op" id="8467945">.</span><span class="ident" id="8467946">SetInt</span><span class="op" id="8467952">(</span><span class="builtinfunc" id="8467953">new</span><span class="op" id="8467956">(</span><span class="ident" id="8467957">Int</span><span class="op" id="8467960">)</span><span class="op" id="8467961">.</span><span class="ident" id="8467962">Binomial</span><span class="op" id="8467970">(</span><span class="ident" id="8467971">int64</span><span class="op" id="8467976">(</span><span class="ident" id="8467977">n</span><span class="op" id="8467978">+</span><span class="ident" id="8467979">j</span><span class="op" id="8467980">)</span><span class="op" id="8467981">,</span>&nbsp;<span class="ident" id="8467983">int64</span><span class="op" id="8467988">(</span><span class="ident" id="8467989">n</span><span class="op" id="8467990">-</span><span class="ident" id="8467991">i</span><span class="op" id="8467992">-</span><span class="num" id="8467993">1</span><span class="op" id="8467994">)</span><span class="op" id="8467995">)</span><span class="op" id="8467996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468001">x4</span>&nbsp;<span class="op" id="8468004">:=</span>&nbsp;<span class="builtinfunc" id="8468007">new</span><span class="op" id="8468010">(</span><span class="ident" id="8468011">Rat</span><span class="op" id="8468014">)</span><span class="op" id="8468015">.</span><span class="ident" id="8468016">SetInt</span><span class="op" id="8468022">(</span><span class="builtinfunc" id="8468023">new</span><span class="op" id="8468026">(</span><span class="ident" id="8468027">Int</span><span class="op" id="8468030">)</span><span class="op" id="8468031">.</span><span class="ident" id="8468032">Binomial</span><span class="op" id="8468040">(</span><span class="ident" id="8468041">int64</span><span class="op" id="8468046">(</span><span class="ident" id="8468047">i</span><span class="op" id="8468048">+</span><span class="ident" id="8468049">j</span><span class="op" id="8468050">)</span><span class="op" id="8468051">,</span>&nbsp;<span class="ident" id="8468053">int64</span><span class="op" id="8468058">(</span><span class="ident" id="8468059">i</span><span class="op" id="8468060">)</span><span class="op" id="8468061">)</span><span class="op" id="8468062">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468068">x1</span><span class="op" id="8468070">.</span><span class="ident" id="8468071">Mul</span><span class="op" id="8468074">(</span><span class="ident" id="8468075">x1</span><span class="op" id="8468077">,</span>&nbsp;<span class="ident" id="8468079">x2</span><span class="op" id="8468081">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468086">x1</span><span class="op" id="8468088">.</span><span class="ident" id="8468089">Mul</span><span class="op" id="8468092">(</span><span class="ident" id="8468093">x1</span><span class="op" id="8468095">,</span>&nbsp;<span class="ident" id="8468097">x3</span><span class="op" id="8468099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468104">x1</span><span class="op" id="8468106">.</span><span class="ident" id="8468107">Mul</span><span class="op" id="8468110">(</span><span class="ident" id="8468111">x1</span><span class="op" id="8468113">,</span>&nbsp;<span class="ident" id="8468115">x4</span><span class="op" id="8468117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468122">x1</span><span class="op" id="8468124">.</span><span class="ident" id="8468125">Mul</span><span class="op" id="8468128">(</span><span class="ident" id="8468129">x1</span><span class="op" id="8468131">,</span>&nbsp;<span class="ident" id="8468133">x4</span><span class="op" id="8468135">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468141">if</span>&nbsp;<span class="op" id="8468144">(</span><span class="ident" id="8468145">i</span><span class="op" id="8468146">+</span><span class="ident" id="8468147">j</span><span class="op" id="8468148">)</span><span class="op" id="8468149">&amp;</span><span class="num" id="8468150">1</span>&nbsp;<span class="op" id="8468152">!=</span>&nbsp;<span class="num" id="8468155">0</span>&nbsp;<span class="op" id="8468157">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468163">x1</span><span class="op" id="8468165">.</span><span class="ident" id="8468166">Neg</span><span class="op" id="8468169">(</span><span class="ident" id="8468170">x1</span><span class="op" id="8468172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468183">a</span><span class="op" id="8468184">.</span><span class="ident" id="8468185">set</span><span class="op" id="8468188">(</span><span class="ident" id="8468189">i</span><span class="op" id="8468190">,</span>&nbsp;<span class="ident" id="8468192">j</span><span class="op" id="8468193">,</span>&nbsp;<span class="ident" id="8468195">x1</span><span class="op" id="8468197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468201">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468207">return</span>&nbsp;<span class="ident" id="8468214">a</span><br>
<span class="lineno"></span><span class="op" id="8468216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8468219">func</span>&nbsp;<span class="op" id="8468224">(</span><span class="ident" id="8468225">a</span>&nbsp;<span class="op" id="8468227">*</span><span class="ident" id="8468228">matrix</span><span class="op" id="8468234">)</span>&nbsp;<span class="ident" id="8468236">mul</span><span class="op" id="8468239">(</span><span class="ident" id="8468240">b</span>&nbsp;<span class="op" id="8468242">*</span><span class="ident" id="8468243">matrix</span><span class="op" id="8468249">)</span>&nbsp;<span class="op" id="8468251">*</span><span class="ident" id="8468252">matrix</span>&nbsp;<span class="op" id="8468259">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468262">if</span>&nbsp;<span class="ident" id="8468265">a</span><span class="op" id="8468266">.</span><span class="ident" id="8468267">m</span>&nbsp;<span class="op" id="8468269">!=</span>&nbsp;<span class="ident" id="8468272">b</span><span class="op" id="8468273">.</span><span class="ident" id="8468274">n</span>&nbsp;<span class="op" id="8468276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8468280">panic</span><span class="op" id="8468285">(</span><span class="string" id="8468286">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="8468311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468317">c</span>&nbsp;<span class="op" id="8468319">:=</span>&nbsp;<span class="ident" id="8468322">newMatrix</span><span class="op" id="8468331">(</span><span class="ident" id="8468332">a</span><span class="op" id="8468333">.</span><span class="ident" id="8468334">n</span><span class="op" id="8468335">,</span>&nbsp;<span class="ident" id="8468337">b</span><span class="op" id="8468338">.</span><span class="ident" id="8468339">m</span><span class="op" id="8468340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468343">for</span>&nbsp;<span class="ident" id="8468347">i</span>&nbsp;<span class="op" id="8468349">:=</span>&nbsp;<span class="num" id="8468352">0</span><span class="op" id="8468353">;</span>&nbsp;<span class="ident" id="8468355">i</span>&nbsp;<span class="op" id="8468357">&lt;</span>&nbsp;<span class="ident" id="8468359">c</span><span class="op" id="8468360">.</span><span class="ident" id="8468361">n</span><span class="op" id="8468362">;</span>&nbsp;<span class="ident" id="8468364">i</span><span class="op" id="8468365">++</span>&nbsp;<span class="op" id="8468368">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468372">for</span>&nbsp;<span class="ident" id="8468376">j</span>&nbsp;<span class="op" id="8468378">:=</span>&nbsp;<span class="num" id="8468381">0</span><span class="op" id="8468382">;</span>&nbsp;<span class="ident" id="8468384">j</span>&nbsp;<span class="op" id="8468386">&lt;</span>&nbsp;<span class="ident" id="8468388">c</span><span class="op" id="8468389">.</span><span class="ident" id="8468390">m</span><span class="op" id="8468391">;</span>&nbsp;<span class="ident" id="8468393">j</span><span class="op" id="8468394">++</span>&nbsp;<span class="op" id="8468397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468402">x</span>&nbsp;<span class="op" id="8468404">:=</span>&nbsp;<span class="ident" id="8468407">NewRat</span><span class="op" id="8468413">(</span><span class="num" id="8468414">0</span><span class="op" id="8468415">,</span>&nbsp;<span class="num" id="8468417">1</span><span class="op" id="8468418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468423">for</span>&nbsp;<span class="ident" id="8468427">k</span>&nbsp;<span class="op" id="8468429">:=</span>&nbsp;<span class="num" id="8468432">0</span><span class="op" id="8468433">;</span>&nbsp;<span class="ident" id="8468435">k</span>&nbsp;<span class="op" id="8468437">&lt;</span>&nbsp;<span class="ident" id="8468439">a</span><span class="op" id="8468440">.</span><span class="ident" id="8468441">m</span><span class="op" id="8468442">;</span>&nbsp;<span class="ident" id="8468444">k</span><span class="op" id="8468445">++</span>&nbsp;<span class="op" id="8468448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468454">x</span><span class="op" id="8468455">.</span><span class="ident" id="8468456">Add</span><span class="op" id="8468459">(</span><span class="ident" id="8468460">x</span><span class="op" id="8468461">,</span>&nbsp;<span class="builtinfunc" id="8468463">new</span><span class="op" id="8468466">(</span><span class="ident" id="8468467">Rat</span><span class="op" id="8468470">)</span><span class="op" id="8468471">.</span><span class="ident" id="8468472">Mul</span><span class="op" id="8468475">(</span><span class="ident" id="8468476">a</span><span class="op" id="8468477">.</span><span class="ident" id="8468478">at</span><span class="op" id="8468480">(</span><span class="ident" id="8468481">i</span><span class="op" id="8468482">,</span>&nbsp;<span class="ident" id="8468484">k</span><span class="op" id="8468485">)</span><span class="op" id="8468486">,</span>&nbsp;<span class="ident" id="8468488">b</span><span class="op" id="8468489">.</span><span class="ident" id="8468490">at</span><span class="op" id="8468492">(</span><span class="ident" id="8468493">k</span><span class="op" id="8468494">,</span>&nbsp;<span class="ident" id="8468496">j</span><span class="op" id="8468497">)</span><span class="op" id="8468498">)</span><span class="op" id="8468499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468504">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468509">c</span><span class="op" id="8468510">.</span><span class="ident" id="8468511">set</span><span class="op" id="8468514">(</span><span class="ident" id="8468515">i</span><span class="op" id="8468516">,</span>&nbsp;<span class="ident" id="8468518">j</span><span class="op" id="8468519">,</span>&nbsp;<span class="ident" id="8468521">x</span><span class="op" id="8468522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468532">return</span>&nbsp;<span class="ident" id="8468539">c</span><br>
<span class="lineno"></span><span class="op" id="8468541">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="8468544">func</span>&nbsp;<span class="op" id="8468549">(</span><span class="ident" id="8468550">a</span>&nbsp;<span class="op" id="8468552">*</span><span class="ident" id="8468553">matrix</span><span class="op" id="8468559">)</span>&nbsp;<span class="ident" id="8468561">eql</span><span class="op" id="8468564">(</span><span class="ident" id="8468565">b</span>&nbsp;<span class="op" id="8468567">*</span><span class="ident" id="8468568">matrix</span><span class="op" id="8468574">)</span>&nbsp;<span class="builtintype" id="8468576">bool</span>&nbsp;<span class="op" id="8468581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468584">if</span>&nbsp;<span class="ident" id="8468587">a</span><span class="op" id="8468588">.</span><span class="ident" id="8468589">n</span>&nbsp;<span class="op" id="8468591">!=</span>&nbsp;<span class="ident" id="8468594">b</span><span class="op" id="8468595">.</span><span class="ident" id="8468596">n</span>&nbsp;<span class="op" id="8468598">||</span>&nbsp;<span class="ident" id="8468601">a</span><span class="op" id="8468602">.</span><span class="ident" id="8468603">m</span>&nbsp;<span class="op" id="8468605">!=</span>&nbsp;<span class="ident" id="8468608">b</span><span class="op" id="8468609">.</span><span class="ident" id="8468610">m</span>&nbsp;<span class="op" id="8468612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468616">return</span>&nbsp;<span class="ident" id="8468623">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468630">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468633">for</span>&nbsp;<span class="ident" id="8468637">i</span>&nbsp;<span class="op" id="8468639">:=</span>&nbsp;<span class="num" id="8468642">0</span><span class="op" id="8468643">;</span>&nbsp;<span class="ident" id="8468645">i</span>&nbsp;<span class="op" id="8468647">&lt;</span>&nbsp;<span class="ident" id="8468649">a</span><span class="op" id="8468650">.</span><span class="ident" id="8468651">n</span><span class="op" id="8468652">;</span>&nbsp;<span class="ident" id="8468654">i</span><span class="op" id="8468655">++</span>&nbsp;<span class="op" id="8468658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468662">for</span>&nbsp;<span class="ident" id="8468666">j</span>&nbsp;<span class="op" id="8468668">:=</span>&nbsp;<span class="num" id="8468671">0</span><span class="op" id="8468672">;</span>&nbsp;<span class="ident" id="8468674">j</span>&nbsp;<span class="op" id="8468676">&lt;</span>&nbsp;<span class="ident" id="8468678">a</span><span class="op" id="8468679">.</span><span class="ident" id="8468680">m</span><span class="op" id="8468681">;</span>&nbsp;<span class="ident" id="8468683">j</span><span class="op" id="8468684">++</span>&nbsp;<span class="op" id="8468687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468692">if</span>&nbsp;<span class="ident" id="8468695">a</span><span class="op" id="8468696">.</span><span class="ident" id="8468697">at</span><span class="op" id="8468699">(</span><span class="ident" id="8468700">i</span><span class="op" id="8468701">,</span>&nbsp;<span class="ident" id="8468703">j</span><span class="op" id="8468704">)</span><span class="op" id="8468705">.</span><span class="ident" id="8468706">Cmp</span><span class="op" id="8468709">(</span><span class="ident" id="8468710">b</span><span class="op" id="8468711">.</span><span class="ident" id="8468712">at</span><span class="op" id="8468714">(</span><span class="ident" id="8468715">i</span><span class="op" id="8468716">,</span>&nbsp;<span class="ident" id="8468718">j</span><span class="op" id="8468719">)</span><span class="op" id="8468720">)</span>&nbsp;<span class="op" id="8468722">!=</span>&nbsp;<span class="num" id="8468725">0</span>&nbsp;<span class="op" id="8468727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468733">return</span>&nbsp;<span class="ident" id="8468740">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468749">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468759">return</span>&nbsp;<span class="ident" id="8468766">true</span><br>
<span class="lineno"></span><span class="op" id="8468771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="8468774">func</span>&nbsp;<span class="op" id="8468779">(</span><span class="ident" id="8468780">a</span>&nbsp;<span class="op" id="8468782">*</span><span class="ident" id="8468783">matrix</span><span class="op" id="8468789">)</span>&nbsp;<span class="ident" id="8468791">String</span><span class="op" id="8468797">(</span><span class="op" id="8468798">)</span>&nbsp;<span class="builtintype" id="8468800">string</span>&nbsp;<span class="op" id="8468807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468810">s</span>&nbsp;<span class="op" id="8468812">:=</span>&nbsp;<span class="string" id="8468815">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468819">for</span>&nbsp;<span class="ident" id="8468823">i</span>&nbsp;<span class="op" id="8468825">:=</span>&nbsp;<span class="num" id="8468828">0</span><span class="op" id="8468829">;</span>&nbsp;<span class="ident" id="8468831">i</span>&nbsp;<span class="op" id="8468833">&lt;</span>&nbsp;<span class="ident" id="8468835">a</span><span class="op" id="8468836">.</span><span class="ident" id="8468837">n</span><span class="op" id="8468838">;</span>&nbsp;<span class="ident" id="8468840">i</span><span class="op" id="8468841">++</span>&nbsp;<span class="op" id="8468844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468848">for</span>&nbsp;<span class="ident" id="8468852">j</span>&nbsp;<span class="op" id="8468854">:=</span>&nbsp;<span class="num" id="8468857">0</span><span class="op" id="8468858">;</span>&nbsp;<span class="ident" id="8468860">j</span>&nbsp;<span class="op" id="8468862">&lt;</span>&nbsp;<span class="ident" id="8468864">a</span><span class="op" id="8468865">.</span><span class="ident" id="8468866">m</span><span class="op" id="8468867">;</span>&nbsp;<span class="ident" id="8468869">j</span><span class="op" id="8468870">++</span>&nbsp;<span class="op" id="8468873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468878">s</span>&nbsp;<span class="op" id="8468880">+=</span>&nbsp;<span class="ident" id="8468883">fmt</span><span class="op" id="8468886">.</span><span class="ident" id="8468887">Sprintf</span><span class="op" id="8468894">(</span><span class="string" id="8468895">&#34;\t%s&#34;</span><span class="op" id="8468901">,</span>&nbsp;<span class="ident" id="8468903">a</span><span class="op" id="8468904">.</span><span class="ident" id="8468905">at</span><span class="op" id="8468907">(</span><span class="ident" id="8468908">i</span><span class="op" id="8468909">,</span>&nbsp;<span class="ident" id="8468911">j</span><span class="op" id="8468912">)</span><span class="op" id="8468913">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468921">s</span>&nbsp;<span class="op" id="8468923">+=</span>&nbsp;<span class="string" id="8468926">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8468932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8468935">return</span>&nbsp;<span class="ident" id="8468942">s</span><br>
<span class="lineno"></span><span class="op" id="8468944">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="8468947">func</span>&nbsp;<span class="ident" id="8468952">doHilbert</span><span class="op" id="8468961">(</span><span class="ident" id="8468962">t</span>&nbsp;<span class="op" id="8468964">*</span><span class="ident" id="8468965">testing</span><span class="op" id="8468972">.</span><span class="ident" id="8468973">T</span><span class="op" id="8468974">,</span>&nbsp;<span class="ident" id="8468976">n</span>&nbsp;<span class="builtintype" id="8468978">int</span><span class="op" id="8468981">)</span>&nbsp;<span class="op" id="8468983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8468986">a</span>&nbsp;<span class="op" id="8468988">:=</span>&nbsp;<span class="ident" id="8468991">newHilbert</span><span class="op" id="8469001">(</span><span class="ident" id="8469002">n</span><span class="op" id="8469003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469006">b</span>&nbsp;<span class="op" id="8469008">:=</span>&nbsp;<span class="ident" id="8469011">newInverseHilbert</span><span class="op" id="8469028">(</span><span class="ident" id="8469029">n</span><span class="op" id="8469030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469033">I</span>&nbsp;<span class="op" id="8469035">:=</span>&nbsp;<span class="ident" id="8469038">newUnit</span><span class="op" id="8469045">(</span><span class="ident" id="8469046">n</span><span class="op" id="8469047">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469050">ab</span>&nbsp;<span class="op" id="8469053">:=</span>&nbsp;<span class="ident" id="8469056">a</span><span class="op" id="8469057">.</span><span class="ident" id="8469058">mul</span><span class="op" id="8469061">(</span><span class="ident" id="8469062">b</span><span class="op" id="8469063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8469066">if</span>&nbsp;<span class="op" id="8469069">!</span><span class="ident" id="8469070">ab</span><span class="op" id="8469072">.</span><span class="ident" id="8469073">eql</span><span class="op" id="8469076">(</span><span class="ident" id="8469077">I</span><span class="op" id="8469078">)</span>&nbsp;<span class="op" id="8469080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8469084">if</span>&nbsp;<span class="ident" id="8469087">t</span>&nbsp;<span class="op" id="8469089">==</span>&nbsp;<span class="ident" id="8469092">nil</span>&nbsp;<span class="op" id="8469096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8469101">panic</span><span class="op" id="8469106">(</span><span class="string" id="8469107">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="8469123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469127">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469131">t</span><span class="op" id="8469132">.</span><span class="ident" id="8469133">Errorf</span><span class="op" id="8469139">(</span><span class="string" id="8469140">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="8469152">,</span>&nbsp;<span class="ident" id="8469154">a</span><span class="op" id="8469155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469159">t</span><span class="op" id="8469160">.</span><span class="ident" id="8469161">Errorf</span><span class="op" id="8469167">(</span><span class="string" id="8469168">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="8469180">,</span>&nbsp;<span class="ident" id="8469182">b</span><span class="op" id="8469183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469187">t</span><span class="op" id="8469188">.</span><span class="ident" id="8469189">Errorf</span><span class="op" id="8469195">(</span><span class="string" id="8469196">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="8469208">,</span>&nbsp;<span class="ident" id="8469210">ab</span><span class="op" id="8469212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469216">t</span><span class="op" id="8469217">.</span><span class="ident" id="8469218">Errorf</span><span class="op" id="8469224">(</span><span class="string" id="8469225">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="8469237">,</span>&nbsp;<span class="ident" id="8469239">I</span><span class="op" id="8469240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469243">}</span><br>
<span class="lineno">150</span><span class="op" id="8469245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8469248">func</span>&nbsp;<span class="ident" id="8469253">TestHilbert</span><span class="op" id="8469264">(</span><span class="ident" id="8469265">t</span>&nbsp;<span class="op" id="8469267">*</span><span class="ident" id="8469268">testing</span><span class="op" id="8469275">.</span><span class="ident" id="8469276">T</span><span class="op" id="8469277">)</span>&nbsp;<span class="op" id="8469279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469282">doHilbert</span><span class="op" id="8469291">(</span><span class="ident" id="8469292">t</span><span class="op" id="8469293">,</span>&nbsp;<span class="num" id="8469295">10</span><span class="op" id="8469297">)</span><br>
<span class="lineno"></span><span class="op" id="8469299">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="8469302">func</span>&nbsp;<span class="ident" id="8469307">BenchmarkHilbert</span><span class="op" id="8469323">(</span><span class="ident" id="8469324">b</span>&nbsp;<span class="op" id="8469326">*</span><span class="ident" id="8469327">testing</span><span class="op" id="8469334">.</span><span class="ident" id="8469335">B</span><span class="op" id="8469336">)</span>&nbsp;<span class="op" id="8469338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8469341">for</span>&nbsp;<span class="ident" id="8469345">i</span>&nbsp;<span class="op" id="8469347">:=</span>&nbsp;<span class="num" id="8469350">0</span><span class="op" id="8469351">;</span>&nbsp;<span class="ident" id="8469353">i</span>&nbsp;<span class="op" id="8469355">&lt;</span>&nbsp;<span class="ident" id="8469357">b</span><span class="op" id="8469358">.</span><span class="ident" id="8469359">N</span><span class="op" id="8469360">;</span>&nbsp;<span class="ident" id="8469362">i</span><span class="op" id="8469363">++</span>&nbsp;<span class="op" id="8469366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8469370">doHilbert</span><span class="op" id="8469379">(</span><span class="ident" id="8469380">nil</span><span class="op" id="8469383">,</span>&nbsp;<span class="num" id="8469385">10</span><span class="op" id="8469387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8469390">}</span><br>
<span class="lineno">160</span><span class="op" id="8469392">}</span>
</div>
</body>
</html>
