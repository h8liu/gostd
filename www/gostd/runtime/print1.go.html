<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html" class="current">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1661266">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1661321">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1661375">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1661426">package</span>&nbsp;<span class="ident" id="1661434">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1661443">import</span>&nbsp;<span class="string" id="1661450">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1661460">//&nbsp;The&nbsp;compiler&nbsp;knows&nbsp;that&nbsp;a&nbsp;print&nbsp;of&nbsp;a&nbsp;value&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno">10</span><span class="comment" id="1661519">//&nbsp;should&nbsp;use&nbsp;printhex&nbsp;instead&nbsp;of&nbsp;printuint&nbsp;(decimal).</span><br>
<span class="lineno"></span><span class="keyword" id="1661574">type</span>&nbsp;<span class="ident" id="1661579">hex</span>&nbsp;<span class="ident" id="1661583">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1661591">func</span>&nbsp;<span class="ident" id="1661596">bytes</span><span class="op" id="1661601">(</span><span class="ident" id="1661602">s</span>&nbsp;<span class="builtintype" id="1661604">string</span><span class="op" id="1661610">)</span>&nbsp;<span class="op" id="1661612">(</span><span class="ident" id="1661613">ret</span>&nbsp;<span class="op" id="1661617">[</span><span class="op" id="1661618">]</span><span class="builtintype" id="1661619">byte</span><span class="op" id="1661623">)</span>&nbsp;<span class="op" id="1661625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661628">rp</span>&nbsp;<span class="op" id="1661631">:=</span>&nbsp;<span class="op" id="1661634">(</span><span class="op" id="1661635">*</span><span class="ident" id="1661636">slice</span><span class="op" id="1661641">)</span><span class="op" id="1661642">(</span><span class="ident" id="1661643">unsafe</span><span class="op" id="1661649">.</span><span class="ident" id="1661650">Pointer</span><span class="op" id="1661657">(</span><span class="op" id="1661658">&amp;</span><span class="ident" id="1661659">ret</span><span class="op" id="1661662">)</span><span class="op" id="1661663">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661666">sp</span>&nbsp;<span class="op" id="1661669">:=</span>&nbsp;<span class="op" id="1661672">(</span><span class="op" id="1661673">*</span><span class="ident" id="1661674">_string</span><span class="op" id="1661681">)</span><span class="op" id="1661682">(</span><span class="ident" id="1661683">noescape</span><span class="op" id="1661691">(</span><span class="ident" id="1661692">unsafe</span><span class="op" id="1661698">.</span><span class="ident" id="1661699">Pointer</span><span class="op" id="1661706">(</span><span class="op" id="1661707">&amp;</span><span class="ident" id="1661708">s</span><span class="op" id="1661709">)</span><span class="op" id="1661710">)</span><span class="op" id="1661711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661714">rp</span><span class="op" id="1661716">.</span><span class="ident" id="1661717">array</span>&nbsp;<span class="op" id="1661723">=</span>&nbsp;<span class="ident" id="1661725">sp</span><span class="op" id="1661727">.</span><span class="ident" id="1661728">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661733">rp</span><span class="op" id="1661735">.</span><span class="builtinfunc" id="1661736">len</span>&nbsp;<span class="op" id="1661740">=</span>&nbsp;<span class="builtintype" id="1661742">uint</span><span class="op" id="1661746">(</span><span class="ident" id="1661747">sp</span><span class="op" id="1661749">.</span><span class="builtinfunc" id="1661750">len</span><span class="op" id="1661753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661756">rp</span><span class="op" id="1661758">.</span><span class="builtinfunc" id="1661759">cap</span>&nbsp;<span class="op" id="1661763">=</span>&nbsp;<span class="builtintype" id="1661765">uint</span><span class="op" id="1661769">(</span><span class="ident" id="1661770">sp</span><span class="op" id="1661772">.</span><span class="builtinfunc" id="1661773">len</span><span class="op" id="1661776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661779">return</span><br>
<span class="lineno">20</span><span class="op" id="1661786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1661789">//&nbsp;printf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1661868">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1661939">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno">25</span><span class="comment" id="1661983">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1661996">func</span>&nbsp;<span class="ident" id="1662001">printf</span><span class="op" id="1662007">(</span><span class="ident" id="1662008">s</span>&nbsp;<span class="op" id="1662010">*</span><span class="builtintype" id="1662011">byte</span><span class="op" id="1662015">)</span>&nbsp;<span class="op" id="1662017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662020">vprintf</span><span class="op" id="1662027">(</span><span class="ident" id="1662028">gostringnocopy</span><span class="op" id="1662042">(</span><span class="ident" id="1662043">s</span><span class="op" id="1662044">)</span><span class="op" id="1662045">,</span>&nbsp;<span class="ident" id="1662047">add</span><span class="op" id="1662050">(</span><span class="ident" id="1662051">unsafe</span><span class="op" id="1662057">.</span><span class="ident" id="1662058">Pointer</span><span class="op" id="1662065">(</span><span class="op" id="1662066">&amp;</span><span class="ident" id="1662067">s</span><span class="op" id="1662068">)</span><span class="op" id="1662069">,</span>&nbsp;<span class="ident" id="1662071">unsafe</span><span class="op" id="1662077">.</span><span class="ident" id="1662078">Sizeof</span><span class="op" id="1662084">(</span><span class="ident" id="1662085">s</span><span class="op" id="1662086">)</span><span class="op" id="1662087">)</span><span class="op" id="1662088">)</span><br>
<span class="lineno"></span><span class="op" id="1662090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="1662093">//&nbsp;sprintf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1662173">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1662244">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno"></span><span class="comment" id="1662288">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1662301">func</span>&nbsp;<span class="ident" id="1662306">snprintf</span><span class="op" id="1662314">(</span><span class="ident" id="1662315">dst</span>&nbsp;<span class="op" id="1662319">*</span><span class="builtintype" id="1662320">byte</span><span class="op" id="1662324">,</span>&nbsp;<span class="ident" id="1662326">n</span>&nbsp;<span class="builtintype" id="1662328">int32</span><span class="op" id="1662333">,</span>&nbsp;<span class="ident" id="1662335">s</span>&nbsp;<span class="op" id="1662337">*</span><span class="builtintype" id="1662338">byte</span><span class="op" id="1662342">)</span>&nbsp;<span class="op" id="1662344">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662347">buf</span>&nbsp;<span class="op" id="1662351">:=</span>&nbsp;<span class="op" id="1662354">(</span><span class="op" id="1662355">*</span><span class="op" id="1662356">[</span><span class="num" id="1662357">1</span>&nbsp;<span class="op" id="1662359">&lt;&lt;</span>&nbsp;<span class="num" id="1662362">30</span><span class="op" id="1662364">]</span><span class="builtintype" id="1662365">byte</span><span class="op" id="1662369">)</span><span class="op" id="1662370">(</span><span class="ident" id="1662371">unsafe</span><span class="op" id="1662377">.</span><span class="ident" id="1662378">Pointer</span><span class="op" id="1662385">(</span><span class="ident" id="1662386">dst</span><span class="op" id="1662389">)</span><span class="op" id="1662390">)</span><span class="op" id="1662391">[</span><span class="num" id="1662392">0</span><span class="op" id="1662393">:</span><span class="ident" id="1662394">n</span><span class="op" id="1662395">:</span><span class="ident" id="1662396">n</span><span class="op" id="1662397">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662401">gp</span>&nbsp;<span class="op" id="1662404">:=</span>&nbsp;<span class="ident" id="1662407">getg</span><span class="op" id="1662411">(</span><span class="op" id="1662412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662415">gp</span><span class="op" id="1662417">.</span><span class="ident" id="1662418">writebuf</span>&nbsp;<span class="op" id="1662427">=</span>&nbsp;<span class="ident" id="1662429">buf</span><span class="op" id="1662432">[</span><span class="num" id="1662433">0</span><span class="op" id="1662434">:</span><span class="num" id="1662435">0</span>&nbsp;<span class="op" id="1662437">:</span>&nbsp;<span class="ident" id="1662439">n</span><span class="op" id="1662440">-</span><span class="num" id="1662441">1</span><span class="op" id="1662442">]</span>&nbsp;<span class="comment" id="1662444">//&nbsp;leave&nbsp;room&nbsp;for&nbsp;NUL,&nbsp;this&nbsp;is&nbsp;called&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662490">vprintf</span><span class="op" id="1662497">(</span><span class="ident" id="1662498">gostringnocopy</span><span class="op" id="1662512">(</span><span class="ident" id="1662513">s</span><span class="op" id="1662514">)</span><span class="op" id="1662515">,</span>&nbsp;<span class="ident" id="1662517">add</span><span class="op" id="1662520">(</span><span class="ident" id="1662521">unsafe</span><span class="op" id="1662527">.</span><span class="ident" id="1662528">Pointer</span><span class="op" id="1662535">(</span><span class="op" id="1662536">&amp;</span><span class="ident" id="1662537">s</span><span class="op" id="1662538">)</span><span class="op" id="1662539">,</span>&nbsp;<span class="ident" id="1662541">unsafe</span><span class="op" id="1662547">.</span><span class="ident" id="1662548">Sizeof</span><span class="op" id="1662554">(</span><span class="ident" id="1662555">s</span><span class="op" id="1662556">)</span><span class="op" id="1662557">)</span><span class="op" id="1662558">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662561">buf</span><span class="op" id="1662564">[</span><span class="builtinfunc" id="1662565">len</span><span class="op" id="1662568">(</span><span class="ident" id="1662569">gp</span><span class="op" id="1662571">.</span><span class="ident" id="1662572">writebuf</span><span class="op" id="1662580">)</span><span class="op" id="1662581">]</span>&nbsp;<span class="op" id="1662583">=</span>&nbsp;<span class="string" id="1662585">&#39;\x00&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662593">gp</span><span class="op" id="1662595">.</span><span class="ident" id="1662596">writebuf</span>&nbsp;<span class="op" id="1662605">=</span>&nbsp;<span class="ident" id="1662607">nil</span><br>
<span class="lineno"></span><span class="op" id="1662611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1662614">//var&nbsp;debuglock&nbsp;mutex</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1662637">//&nbsp;write&nbsp;to&nbsp;goroutine-local&nbsp;buffer&nbsp;if&nbsp;diverting&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="1662693">//&nbsp;or&nbsp;else&nbsp;standard&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1662720">func</span>&nbsp;<span class="ident" id="1662725">gwrite</span><span class="op" id="1662731">(</span><span class="ident" id="1662732">b</span>&nbsp;<span class="op" id="1662734">[</span><span class="op" id="1662735">]</span><span class="builtintype" id="1662736">byte</span><span class="op" id="1662740">)</span>&nbsp;<span class="op" id="1662742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662745">if</span>&nbsp;<span class="builtinfunc" id="1662748">len</span><span class="op" id="1662751">(</span><span class="ident" id="1662752">b</span><span class="op" id="1662753">)</span>&nbsp;<span class="op" id="1662755">==</span>&nbsp;<span class="num" id="1662758">0</span>&nbsp;<span class="op" id="1662760">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662764">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1662772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662775">gp</span>&nbsp;<span class="op" id="1662778">:=</span>&nbsp;<span class="ident" id="1662781">getg</span><span class="op" id="1662785">(</span><span class="op" id="1662786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662789">if</span>&nbsp;<span class="ident" id="1662792">gp</span>&nbsp;<span class="op" id="1662795">==</span>&nbsp;<span class="ident" id="1662798">nil</span>&nbsp;<span class="op" id="1662802">||</span>&nbsp;<span class="ident" id="1662805">gp</span><span class="op" id="1662807">.</span><span class="ident" id="1662808">writebuf</span>&nbsp;<span class="op" id="1662817">==</span>&nbsp;<span class="ident" id="1662820">nil</span>&nbsp;<span class="op" id="1662824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662828">write</span><span class="op" id="1662833">(</span><span class="num" id="1662834">2</span><span class="op" id="1662835">,</span>&nbsp;<span class="ident" id="1662837">unsafe</span><span class="op" id="1662843">.</span><span class="ident" id="1662844">Pointer</span><span class="op" id="1662851">(</span><span class="op" id="1662852">&amp;</span><span class="ident" id="1662853">b</span><span class="op" id="1662854">[</span><span class="num" id="1662855">0</span><span class="op" id="1662856">]</span><span class="op" id="1662857">)</span><span class="op" id="1662858">,</span>&nbsp;<span class="builtintype" id="1662860">int32</span><span class="op" id="1662865">(</span><span class="builtinfunc" id="1662866">len</span><span class="op" id="1662869">(</span><span class="ident" id="1662870">b</span><span class="op" id="1662871">)</span><span class="op" id="1662872">)</span><span class="op" id="1662873">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662877">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1662885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662889">n</span>&nbsp;<span class="op" id="1662891">:=</span>&nbsp;<span class="builtinfunc" id="1662894">copy</span><span class="op" id="1662898">(</span><span class="ident" id="1662899">gp</span><span class="op" id="1662901">.</span><span class="ident" id="1662902">writebuf</span><span class="op" id="1662910">[</span><span class="builtinfunc" id="1662911">len</span><span class="op" id="1662914">(</span><span class="ident" id="1662915">gp</span><span class="op" id="1662917">.</span><span class="ident" id="1662918">writebuf</span><span class="op" id="1662926">)</span><span class="op" id="1662927">:</span><span class="builtinfunc" id="1662928">cap</span><span class="op" id="1662931">(</span><span class="ident" id="1662932">gp</span><span class="op" id="1662934">.</span><span class="ident" id="1662935">writebuf</span><span class="op" id="1662943">)</span><span class="op" id="1662944">]</span><span class="op" id="1662945">,</span>&nbsp;<span class="ident" id="1662947">b</span><span class="op" id="1662948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662951">gp</span><span class="op" id="1662953">.</span><span class="ident" id="1662954">writebuf</span>&nbsp;<span class="op" id="1662963">=</span>&nbsp;<span class="ident" id="1662965">gp</span><span class="op" id="1662967">.</span><span class="ident" id="1662968">writebuf</span><span class="op" id="1662976">[</span><span class="op" id="1662977">:</span><span class="builtinfunc" id="1662978">len</span><span class="op" id="1662981">(</span><span class="ident" id="1662982">gp</span><span class="op" id="1662984">.</span><span class="ident" id="1662985">writebuf</span><span class="op" id="1662993">)</span><span class="op" id="1662994">+</span><span class="ident" id="1662995">n</span><span class="op" id="1662996">]</span><br>
<span class="lineno">60</span><span class="op" id="1662998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1663001">func</span>&nbsp;<span class="ident" id="1663006">prints</span><span class="op" id="1663012">(</span><span class="ident" id="1663013">s</span>&nbsp;<span class="op" id="1663015">*</span><span class="builtintype" id="1663016">byte</span><span class="op" id="1663020">)</span>&nbsp;<span class="op" id="1663022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663025">b</span>&nbsp;<span class="op" id="1663027">:=</span>&nbsp;<span class="op" id="1663030">(</span><span class="op" id="1663031">*</span><span class="op" id="1663032">[</span><span class="num" id="1663033">1</span>&nbsp;<span class="op" id="1663035">&lt;&lt;</span>&nbsp;<span class="num" id="1663038">30</span><span class="op" id="1663040">]</span><span class="builtintype" id="1663041">byte</span><span class="op" id="1663045">)</span><span class="op" id="1663046">(</span><span class="ident" id="1663047">unsafe</span><span class="op" id="1663053">.</span><span class="ident" id="1663054">Pointer</span><span class="op" id="1663061">(</span><span class="ident" id="1663062">s</span><span class="op" id="1663063">)</span><span class="op" id="1663064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663067">for</span>&nbsp;<span class="ident" id="1663071">i</span>&nbsp;<span class="op" id="1663073">:=</span>&nbsp;<span class="num" id="1663076">0</span><span class="op" id="1663077">;</span>&nbsp;<span class="op" id="1663079">;</span>&nbsp;<span class="ident" id="1663081">i</span><span class="op" id="1663082">++</span>&nbsp;<span class="op" id="1663085">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663089">if</span>&nbsp;<span class="ident" id="1663092">b</span><span class="op" id="1663093">[</span><span class="ident" id="1663094">i</span><span class="op" id="1663095">]</span>&nbsp;<span class="op" id="1663097">==</span>&nbsp;<span class="num" id="1663100">0</span>&nbsp;<span class="op" id="1663102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663107">gwrite</span><span class="op" id="1663113">(</span><span class="ident" id="1663114">b</span><span class="op" id="1663115">[</span><span class="op" id="1663116">:</span><span class="ident" id="1663117">i</span><span class="op" id="1663118">]</span><span class="op" id="1663119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663124">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1663133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1663136">}</span><br>
<span class="lineno">70</span><span class="op" id="1663138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1663141">func</span>&nbsp;<span class="ident" id="1663146">printsp</span><span class="op" id="1663153">(</span><span class="op" id="1663154">)</span>&nbsp;<span class="op" id="1663156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1663159">print</span><span class="op" id="1663164">(</span><span class="string" id="1663165">&#34;&nbsp;&#34;</span><span class="op" id="1663168">)</span><br>
<span class="lineno"></span><span class="op" id="1663170">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="1663173">func</span>&nbsp;<span class="ident" id="1663178">printnl</span><span class="op" id="1663185">(</span><span class="op" id="1663186">)</span>&nbsp;<span class="op" id="1663188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1663191">print</span><span class="op" id="1663196">(</span><span class="string" id="1663197">&#34;\n&#34;</span><span class="op" id="1663201">)</span><br>
<span class="lineno"></span><span class="op" id="1663203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="1663206">//&nbsp;Very&nbsp;simple&nbsp;printf.&nbsp;&nbsp;Only&nbsp;for&nbsp;debugging&nbsp;prints.</span><br>
<span class="lineno"></span><span class="comment" id="1663257">//&nbsp;Do&nbsp;not&nbsp;add&nbsp;to&nbsp;this&nbsp;without&nbsp;checking&nbsp;with&nbsp;Rob.</span><br>
<span class="lineno"></span><span class="keyword" id="1663306">func</span>&nbsp;<span class="ident" id="1663311">vprintf</span><span class="op" id="1663318">(</span><span class="ident" id="1663319">str</span>&nbsp;<span class="builtintype" id="1663323">string</span><span class="op" id="1663329">,</span>&nbsp;<span class="ident" id="1663331">arg</span>&nbsp;<span class="ident" id="1663335">unsafe</span><span class="op" id="1663341">.</span><span class="ident" id="1663342">Pointer</span><span class="op" id="1663349">)</span>&nbsp;<span class="op" id="1663351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1663354">//lock(&amp;debuglock);</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663376">s</span>&nbsp;<span class="op" id="1663378">:=</span>&nbsp;<span class="ident" id="1663381">bytes</span><span class="op" id="1663386">(</span><span class="ident" id="1663387">str</span><span class="op" id="1663390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663393">start</span>&nbsp;<span class="op" id="1663399">:=</span>&nbsp;<span class="num" id="1663402">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663405">i</span>&nbsp;<span class="op" id="1663407">:=</span>&nbsp;<span class="num" id="1663410">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663413">for</span>&nbsp;<span class="op" id="1663417">;</span>&nbsp;<span class="ident" id="1663419">i</span>&nbsp;<span class="op" id="1663421">&lt;</span>&nbsp;<span class="builtinfunc" id="1663423">len</span><span class="op" id="1663426">(</span><span class="ident" id="1663427">s</span><span class="op" id="1663428">)</span><span class="op" id="1663429">;</span>&nbsp;<span class="ident" id="1663431">i</span><span class="op" id="1663432">++</span>&nbsp;<span class="op" id="1663435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663439">if</span>&nbsp;<span class="ident" id="1663442">s</span><span class="op" id="1663443">[</span><span class="ident" id="1663444">i</span><span class="op" id="1663445">]</span>&nbsp;<span class="op" id="1663447">!=</span>&nbsp;<span class="string" id="1663450">&#39;%&#39;</span>&nbsp;<span class="op" id="1663454">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663459">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1663470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663474">if</span>&nbsp;<span class="ident" id="1663477">i</span>&nbsp;<span class="op" id="1663479">&gt;</span>&nbsp;<span class="ident" id="1663481">start</span>&nbsp;<span class="op" id="1663487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663492">gwrite</span><span class="op" id="1663498">(</span><span class="ident" id="1663499">s</span><span class="op" id="1663500">[</span><span class="ident" id="1663501">start</span><span class="op" id="1663506">:</span><span class="ident" id="1663507">i</span><span class="op" id="1663508">]</span><span class="op" id="1663509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1663513">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663517">if</span>&nbsp;<span class="ident" id="1663520">i</span><span class="op" id="1663521">++</span><span class="op" id="1663523">;</span>&nbsp;<span class="ident" id="1663525">i</span>&nbsp;<span class="op" id="1663527">&gt;=</span>&nbsp;<span class="builtinfunc" id="1663530">len</span><span class="op" id="1663533">(</span><span class="ident" id="1663534">s</span><span class="op" id="1663535">)</span>&nbsp;<span class="op" id="1663537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663542">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1663550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663554">var</span>&nbsp;<span class="ident" id="1663558">siz</span>&nbsp;<span class="builtintype" id="1663562">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663572">switch</span>&nbsp;<span class="ident" id="1663579">s</span><span class="op" id="1663580">[</span><span class="ident" id="1663581">i</span><span class="op" id="1663582">]</span>&nbsp;<span class="op" id="1663584">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663588">case</span>&nbsp;<span class="string" id="1663593">&#39;t&#39;</span><span class="op" id="1663596">,</span>&nbsp;<span class="string" id="1663598">&#39;c&#39;</span><span class="op" id="1663601">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663606">siz</span>&nbsp;<span class="op" id="1663610">=</span>&nbsp;<span class="num" id="1663612">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663616">case</span>&nbsp;<span class="string" id="1663621">&#39;d&#39;</span><span class="op" id="1663624">,</span>&nbsp;<span class="string" id="1663626">&#39;x&#39;</span><span class="op" id="1663629">:</span>&nbsp;<span class="comment" id="1663631">//&nbsp;32-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663644">arg</span>&nbsp;<span class="op" id="1663648">=</span>&nbsp;<span class="ident" id="1663650">roundup</span><span class="op" id="1663657">(</span><span class="ident" id="1663658">arg</span><span class="op" id="1663661">,</span>&nbsp;<span class="num" id="1663663">4</span><span class="op" id="1663664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663669">siz</span>&nbsp;<span class="op" id="1663673">=</span>&nbsp;<span class="num" id="1663675">4</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663679">case</span>&nbsp;<span class="string" id="1663684">&#39;D&#39;</span><span class="op" id="1663687">,</span>&nbsp;<span class="string" id="1663689">&#39;U&#39;</span><span class="op" id="1663692">,</span>&nbsp;<span class="string" id="1663694">&#39;X&#39;</span><span class="op" id="1663697">,</span>&nbsp;<span class="string" id="1663699">&#39;f&#39;</span><span class="op" id="1663702">:</span>&nbsp;<span class="comment" id="1663704">//&nbsp;64-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663717">arg</span>&nbsp;<span class="op" id="1663721">=</span>&nbsp;<span class="ident" id="1663723">roundup</span><span class="op" id="1663730">(</span><span class="ident" id="1663731">arg</span><span class="op" id="1663734">,</span>&nbsp;<span class="ident" id="1663736">unsafe</span><span class="op" id="1663742">.</span><span class="ident" id="1663743">Sizeof</span><span class="op" id="1663749">(</span><span class="ident" id="1663750">uintreg</span><span class="op" id="1663757">(</span><span class="num" id="1663758">0</span><span class="op" id="1663759">)</span><span class="op" id="1663760">)</span><span class="op" id="1663761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663766">siz</span>&nbsp;<span class="op" id="1663770">=</span>&nbsp;<span class="num" id="1663772">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663776">case</span>&nbsp;<span class="string" id="1663781">&#39;C&#39;</span><span class="op" id="1663784">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663789">arg</span>&nbsp;<span class="op" id="1663793">=</span>&nbsp;<span class="ident" id="1663795">roundup</span><span class="op" id="1663802">(</span><span class="ident" id="1663803">arg</span><span class="op" id="1663806">,</span>&nbsp;<span class="ident" id="1663808">unsafe</span><span class="op" id="1663814">.</span><span class="ident" id="1663815">Sizeof</span><span class="op" id="1663821">(</span><span class="ident" id="1663822">uintreg</span><span class="op" id="1663829">(</span><span class="num" id="1663830">0</span><span class="op" id="1663831">)</span><span class="op" id="1663832">)</span><span class="op" id="1663833">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663838">siz</span>&nbsp;<span class="op" id="1663842">=</span>&nbsp;<span class="num" id="1663844">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663849">case</span>&nbsp;<span class="string" id="1663854">&#39;p&#39;</span><span class="op" id="1663857">,</span>&nbsp;<span class="string" id="1663859">&#39;s&#39;</span><span class="op" id="1663862">:</span>&nbsp;<span class="comment" id="1663864">//&nbsp;pointer-sized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663884">arg</span>&nbsp;<span class="op" id="1663888">=</span>&nbsp;<span class="ident" id="1663890">roundup</span><span class="op" id="1663897">(</span><span class="ident" id="1663898">arg</span><span class="op" id="1663901">,</span>&nbsp;<span class="ident" id="1663903">unsafe</span><span class="op" id="1663909">.</span><span class="ident" id="1663910">Sizeof</span><span class="op" id="1663916">(</span><span class="builtintype" id="1663917">uintptr</span><span class="op" id="1663924">(</span><span class="num" id="1663925">0</span><span class="op" id="1663926">)</span><span class="op" id="1663927">)</span><span class="op" id="1663928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663933">siz</span>&nbsp;<span class="op" id="1663937">=</span>&nbsp;<span class="ident" id="1663939">unsafe</span><span class="op" id="1663945">.</span><span class="ident" id="1663946">Sizeof</span><span class="op" id="1663952">(</span><span class="builtintype" id="1663953">uintptr</span><span class="op" id="1663960">(</span><span class="num" id="1663961">0</span><span class="op" id="1663962">)</span><span class="op" id="1663963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663967">case</span>&nbsp;<span class="string" id="1663972">&#39;S&#39;</span><span class="op" id="1663975">:</span>&nbsp;<span class="comment" id="1663977">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664010">arg</span>&nbsp;<span class="op" id="1664014">=</span>&nbsp;<span class="ident" id="1664016">roundup</span><span class="op" id="1664023">(</span><span class="ident" id="1664024">arg</span><span class="op" id="1664027">,</span>&nbsp;<span class="ident" id="1664029">unsafe</span><span class="op" id="1664035">.</span><span class="ident" id="1664036">Sizeof</span><span class="op" id="1664042">(</span><span class="builtintype" id="1664043">uintptr</span><span class="op" id="1664050">(</span><span class="num" id="1664051">0</span><span class="op" id="1664052">)</span><span class="op" id="1664053">)</span><span class="op" id="1664054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664059">siz</span>&nbsp;<span class="op" id="1664063">=</span>&nbsp;<span class="ident" id="1664065">unsafe</span><span class="op" id="1664071">.</span><span class="ident" id="1664072">Sizeof</span><span class="op" id="1664078">(</span><span class="builtintype" id="1664079">string</span><span class="op" id="1664085">(</span><span class="string" id="1664086">&#34;&#34;</span><span class="op" id="1664088">)</span><span class="op" id="1664089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664093">case</span>&nbsp;<span class="string" id="1664098">&#39;a&#39;</span><span class="op" id="1664101">:</span>&nbsp;<span class="comment" id="1664103">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664136">arg</span>&nbsp;<span class="op" id="1664140">=</span>&nbsp;<span class="ident" id="1664142">roundup</span><span class="op" id="1664149">(</span><span class="ident" id="1664150">arg</span><span class="op" id="1664153">,</span>&nbsp;<span class="ident" id="1664155">unsafe</span><span class="op" id="1664161">.</span><span class="ident" id="1664162">Sizeof</span><span class="op" id="1664168">(</span><span class="builtintype" id="1664169">uintptr</span><span class="op" id="1664176">(</span><span class="num" id="1664177">0</span><span class="op" id="1664178">)</span><span class="op" id="1664179">)</span><span class="op" id="1664180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664185">siz</span>&nbsp;<span class="op" id="1664189">=</span>&nbsp;<span class="ident" id="1664191">unsafe</span><span class="op" id="1664197">.</span><span class="ident" id="1664198">Sizeof</span><span class="op" id="1664204">(</span><span class="op" id="1664205">[</span><span class="op" id="1664206">]</span><span class="builtintype" id="1664207">byte</span><span class="op" id="1664211">{</span><span class="op" id="1664212">}</span><span class="op" id="1664213">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664217">case</span>&nbsp;<span class="string" id="1664222">&#39;i&#39;</span><span class="op" id="1664225">,</span>&nbsp;<span class="string" id="1664227">&#39;e&#39;</span><span class="op" id="1664230">:</span>&nbsp;<span class="comment" id="1664232">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664265">arg</span>&nbsp;<span class="op" id="1664269">=</span>&nbsp;<span class="ident" id="1664271">roundup</span><span class="op" id="1664278">(</span><span class="ident" id="1664279">arg</span><span class="op" id="1664282">,</span>&nbsp;<span class="ident" id="1664284">unsafe</span><span class="op" id="1664290">.</span><span class="ident" id="1664291">Sizeof</span><span class="op" id="1664297">(</span><span class="builtintype" id="1664298">uintptr</span><span class="op" id="1664305">(</span><span class="num" id="1664306">0</span><span class="op" id="1664307">)</span><span class="op" id="1664308">)</span><span class="op" id="1664309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664314">siz</span>&nbsp;<span class="op" id="1664318">=</span>&nbsp;<span class="ident" id="1664320">unsafe</span><span class="op" id="1664326">.</span><span class="ident" id="1664327">Sizeof</span><span class="op" id="1664333">(</span><span class="keyword" id="1664334">interface</span><span class="op" id="1664343">{</span><span class="op" id="1664344">}</span><span class="op" id="1664345">(</span><span class="ident" id="1664346">nil</span><span class="op" id="1664349">)</span><span class="op" id="1664350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1664354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664358">switch</span>&nbsp;<span class="ident" id="1664365">s</span><span class="op" id="1664366">[</span><span class="ident" id="1664367">i</span><span class="op" id="1664368">]</span>&nbsp;<span class="op" id="1664370">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664374">case</span>&nbsp;<span class="string" id="1664379">&#39;a&#39;</span><span class="op" id="1664382">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664387">printslice</span><span class="op" id="1664397">(</span><span class="op" id="1664398">*</span><span class="op" id="1664399">(</span><span class="op" id="1664400">*</span><span class="op" id="1664401">[</span><span class="op" id="1664402">]</span><span class="builtintype" id="1664403">byte</span><span class="op" id="1664407">)</span><span class="op" id="1664408">(</span><span class="ident" id="1664409">arg</span><span class="op" id="1664412">)</span><span class="op" id="1664413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664417">case</span>&nbsp;<span class="string" id="1664422">&#39;c&#39;</span><span class="op" id="1664425">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664430">printbyte</span><span class="op" id="1664439">(</span><span class="op" id="1664440">*</span><span class="op" id="1664441">(</span><span class="op" id="1664442">*</span><span class="builtintype" id="1664443">byte</span><span class="op" id="1664447">)</span><span class="op" id="1664448">(</span><span class="ident" id="1664449">arg</span><span class="op" id="1664452">)</span><span class="op" id="1664453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664457">case</span>&nbsp;<span class="string" id="1664462">&#39;d&#39;</span><span class="op" id="1664465">:</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664470">printint</span><span class="op" id="1664478">(</span><span class="ident" id="1664479">int64</span><span class="op" id="1664484">(</span><span class="op" id="1664485">*</span><span class="op" id="1664486">(</span><span class="op" id="1664487">*</span><span class="builtintype" id="1664488">int32</span><span class="op" id="1664493">)</span><span class="op" id="1664494">(</span><span class="ident" id="1664495">arg</span><span class="op" id="1664498">)</span><span class="op" id="1664499">)</span><span class="op" id="1664500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664504">case</span>&nbsp;<span class="string" id="1664509">&#39;D&#39;</span><span class="op" id="1664512">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664517">printint</span><span class="op" id="1664525">(</span><span class="ident" id="1664526">int64</span><span class="op" id="1664531">(</span><span class="op" id="1664532">*</span><span class="op" id="1664533">(</span><span class="op" id="1664534">*</span><span class="ident" id="1664535">int64</span><span class="op" id="1664540">)</span><span class="op" id="1664541">(</span><span class="ident" id="1664542">arg</span><span class="op" id="1664545">)</span><span class="op" id="1664546">)</span><span class="op" id="1664547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664551">case</span>&nbsp;<span class="string" id="1664556">&#39;e&#39;</span><span class="op" id="1664559">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664564">printeface</span><span class="op" id="1664574">(</span><span class="op" id="1664575">*</span><span class="op" id="1664576">(</span><span class="op" id="1664577">*</span><span class="keyword" id="1664578">interface</span><span class="op" id="1664587">{</span><span class="op" id="1664588">}</span><span class="op" id="1664589">)</span><span class="op" id="1664590">(</span><span class="ident" id="1664591">arg</span><span class="op" id="1664594">)</span><span class="op" id="1664595">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664599">case</span>&nbsp;<span class="string" id="1664604">&#39;f&#39;</span><span class="op" id="1664607">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664612">printfloat</span><span class="op" id="1664622">(</span><span class="op" id="1664623">*</span><span class="op" id="1664624">(</span><span class="op" id="1664625">*</span><span class="builtintype" id="1664626">float64</span><span class="op" id="1664633">)</span><span class="op" id="1664634">(</span><span class="ident" id="1664635">arg</span><span class="op" id="1664638">)</span><span class="op" id="1664639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664643">case</span>&nbsp;<span class="string" id="1664648">&#39;C&#39;</span><span class="op" id="1664651">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664656">printcomplex</span><span class="op" id="1664668">(</span><span class="op" id="1664669">*</span><span class="op" id="1664670">(</span><span class="op" id="1664671">*</span><span class="builtintype" id="1664672">complex128</span><span class="op" id="1664682">)</span><span class="op" id="1664683">(</span><span class="ident" id="1664684">arg</span><span class="op" id="1664687">)</span><span class="op" id="1664688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664692">case</span>&nbsp;<span class="string" id="1664697">&#39;i&#39;</span><span class="op" id="1664700">:</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664705">printiface</span><span class="op" id="1664715">(</span><span class="op" id="1664716">*</span><span class="op" id="1664717">(</span><span class="op" id="1664718">*</span><span class="ident" id="1664719">fInterface</span><span class="op" id="1664729">)</span><span class="op" id="1664730">(</span><span class="ident" id="1664731">arg</span><span class="op" id="1664734">)</span><span class="op" id="1664735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664739">case</span>&nbsp;<span class="string" id="1664744">&#39;p&#39;</span><span class="op" id="1664747">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664752">printpointer</span><span class="op" id="1664764">(</span><span class="op" id="1664765">*</span><span class="op" id="1664766">(</span><span class="op" id="1664767">*</span><span class="ident" id="1664768">unsafe</span><span class="op" id="1664774">.</span><span class="ident" id="1664775">Pointer</span><span class="op" id="1664782">)</span><span class="op" id="1664783">(</span><span class="ident" id="1664784">arg</span><span class="op" id="1664787">)</span><span class="op" id="1664788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664792">case</span>&nbsp;<span class="string" id="1664797">&#39;s&#39;</span><span class="op" id="1664800">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664805">prints</span><span class="op" id="1664811">(</span><span class="op" id="1664812">*</span><span class="op" id="1664813">(</span><span class="op" id="1664814">*</span><span class="op" id="1664815">*</span><span class="builtintype" id="1664816">byte</span><span class="op" id="1664820">)</span><span class="op" id="1664821">(</span><span class="ident" id="1664822">arg</span><span class="op" id="1664825">)</span><span class="op" id="1664826">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664830">case</span>&nbsp;<span class="string" id="1664835">&#39;S&#39;</span><span class="op" id="1664838">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664843">printstring</span><span class="op" id="1664854">(</span><span class="op" id="1664855">*</span><span class="op" id="1664856">(</span><span class="op" id="1664857">*</span><span class="builtintype" id="1664858">string</span><span class="op" id="1664864">)</span><span class="op" id="1664865">(</span><span class="ident" id="1664866">arg</span><span class="op" id="1664869">)</span><span class="op" id="1664870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664874">case</span>&nbsp;<span class="string" id="1664879">&#39;t&#39;</span><span class="op" id="1664882">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664887">printbool</span><span class="op" id="1664896">(</span><span class="op" id="1664897">*</span><span class="op" id="1664898">(</span><span class="op" id="1664899">*</span><span class="builtintype" id="1664900">bool</span><span class="op" id="1664904">)</span><span class="op" id="1664905">(</span><span class="ident" id="1664906">arg</span><span class="op" id="1664909">)</span><span class="op" id="1664910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664914">case</span>&nbsp;<span class="string" id="1664919">&#39;U&#39;</span><span class="op" id="1664922">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664927">printuint</span><span class="op" id="1664936">(</span><span class="op" id="1664937">*</span><span class="op" id="1664938">(</span><span class="op" id="1664939">*</span><span class="ident" id="1664940">uint64</span><span class="op" id="1664946">)</span><span class="op" id="1664947">(</span><span class="ident" id="1664948">arg</span><span class="op" id="1664951">)</span><span class="op" id="1664952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664956">case</span>&nbsp;<span class="string" id="1664961">&#39;x&#39;</span><span class="op" id="1664964">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664969">printhex</span><span class="op" id="1664977">(</span><span class="ident" id="1664978">uint64</span><span class="op" id="1664984">(</span><span class="op" id="1664985">*</span><span class="op" id="1664986">(</span><span class="op" id="1664987">*</span><span class="builtintype" id="1664988">uint32</span><span class="op" id="1664994">)</span><span class="op" id="1664995">(</span><span class="ident" id="1664996">arg</span><span class="op" id="1664999">)</span><span class="op" id="1665000">)</span><span class="op" id="1665001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665005">case</span>&nbsp;<span class="string" id="1665010">&#39;X&#39;</span><span class="op" id="1665013">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665018">printhex</span><span class="op" id="1665026">(</span><span class="op" id="1665027">*</span><span class="op" id="1665028">(</span><span class="op" id="1665029">*</span><span class="ident" id="1665030">uint64</span><span class="op" id="1665036">)</span><span class="op" id="1665037">(</span><span class="ident" id="1665038">arg</span><span class="op" id="1665041">)</span><span class="op" id="1665042">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665050">arg</span>&nbsp;<span class="op" id="1665054">=</span>&nbsp;<span class="ident" id="1665056">add</span><span class="op" id="1665059">(</span><span class="ident" id="1665060">arg</span><span class="op" id="1665063">,</span>&nbsp;<span class="ident" id="1665065">siz</span><span class="op" id="1665068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665072">start</span>&nbsp;<span class="op" id="1665078">=</span>&nbsp;<span class="ident" id="1665080">i</span>&nbsp;<span class="op" id="1665082">+</span>&nbsp;<span class="num" id="1665084">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665090">if</span>&nbsp;<span class="ident" id="1665093">start</span>&nbsp;<span class="op" id="1665099">&lt;</span>&nbsp;<span class="ident" id="1665101">i</span>&nbsp;<span class="op" id="1665103">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665107">gwrite</span><span class="op" id="1665113">(</span><span class="ident" id="1665114">s</span><span class="op" id="1665115">[</span><span class="ident" id="1665116">start</span><span class="op" id="1665121">:</span><span class="ident" id="1665122">i</span><span class="op" id="1665123">]</span><span class="op" id="1665124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1665131">//unlock(&amp;debuglock);</span><br>
<span class="lineno"></span><span class="op" id="1665153">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="1665156">func</span>&nbsp;<span class="ident" id="1665161">printpc</span><span class="op" id="1665168">(</span><span class="ident" id="1665169">p</span>&nbsp;<span class="ident" id="1665171">unsafe</span><span class="op" id="1665177">.</span><span class="ident" id="1665178">Pointer</span><span class="op" id="1665185">)</span>&nbsp;<span class="op" id="1665187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1665190">print</span><span class="op" id="1665195">(</span><span class="string" id="1665196">&#34;PC=&#34;</span><span class="op" id="1665201">,</span>&nbsp;<span class="ident" id="1665203">hex</span><span class="op" id="1665206">(</span><span class="builtintype" id="1665207">uintptr</span><span class="op" id="1665214">(</span><span class="ident" id="1665215">p</span><span class="op" id="1665216">)</span><span class="op" id="1665217">)</span><span class="op" id="1665218">)</span><br>
<span class="lineno"></span><span class="op" id="1665220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="1665223">func</span>&nbsp;<span class="ident" id="1665228">printbool</span><span class="op" id="1665237">(</span><span class="ident" id="1665238">v</span>&nbsp;<span class="builtintype" id="1665240">bool</span><span class="op" id="1665244">)</span>&nbsp;<span class="op" id="1665246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665249">if</span>&nbsp;<span class="ident" id="1665252">v</span>&nbsp;<span class="op" id="1665254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1665258">print</span><span class="op" id="1665263">(</span><span class="string" id="1665264">&#34;true&#34;</span><span class="op" id="1665270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665273">}</span>&nbsp;<span class="keyword" id="1665275">else</span>&nbsp;<span class="op" id="1665280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1665284">print</span><span class="op" id="1665289">(</span><span class="string" id="1665290">&#34;false&#34;</span><span class="op" id="1665297">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665300">}</span><br>
<span class="lineno"></span><span class="op" id="1665302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1665305">func</span>&nbsp;<span class="ident" id="1665310">printbyte</span><span class="op" id="1665319">(</span><span class="ident" id="1665320">c</span>&nbsp;<span class="builtintype" id="1665322">byte</span><span class="op" id="1665326">)</span>&nbsp;<span class="op" id="1665328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665331">gwrite</span><span class="op" id="1665337">(</span><span class="op" id="1665338">(</span><span class="op" id="1665339">*</span><span class="op" id="1665340">[</span><span class="num" id="1665341">1</span><span class="op" id="1665342">]</span><span class="builtintype" id="1665343">byte</span><span class="op" id="1665347">)</span><span class="op" id="1665348">(</span><span class="ident" id="1665349">unsafe</span><span class="op" id="1665355">.</span><span class="ident" id="1665356">Pointer</span><span class="op" id="1665363">(</span><span class="op" id="1665364">&amp;</span><span class="ident" id="1665365">c</span><span class="op" id="1665366">)</span><span class="op" id="1665367">)</span><span class="op" id="1665368">[</span><span class="op" id="1665369">:</span><span class="op" id="1665370">]</span><span class="op" id="1665371">)</span><br>
<span class="lineno">180</span><span class="op" id="1665373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1665376">func</span>&nbsp;<span class="ident" id="1665381">printfloat</span><span class="op" id="1665391">(</span><span class="ident" id="1665392">v</span>&nbsp;<span class="builtintype" id="1665394">float64</span><span class="op" id="1665401">)</span>&nbsp;<span class="op" id="1665403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665406">switch</span>&nbsp;<span class="op" id="1665413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665416">case</span>&nbsp;<span class="ident" id="1665421">v</span>&nbsp;<span class="op" id="1665423">!=</span>&nbsp;<span class="ident" id="1665426">v</span><span class="op" id="1665427">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1665431">print</span><span class="op" id="1665436">(</span><span class="string" id="1665437">&#34;NaN&#34;</span><span class="op" id="1665442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665446">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665454">case</span>&nbsp;<span class="ident" id="1665459">v</span><span class="op" id="1665460">+</span><span class="ident" id="1665461">v</span>&nbsp;<span class="op" id="1665463">==</span>&nbsp;<span class="ident" id="1665466">v</span>&nbsp;<span class="op" id="1665468">&amp;&amp;</span>&nbsp;<span class="ident" id="1665471">v</span>&nbsp;<span class="op" id="1665473">&gt;</span>&nbsp;<span class="num" id="1665475">0</span><span class="op" id="1665476">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1665480">print</span><span class="op" id="1665485">(</span><span class="string" id="1665486">&#34;+Inf&#34;</span><span class="op" id="1665492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665496">return</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665504">case</span>&nbsp;<span class="ident" id="1665509">v</span><span class="op" id="1665510">+</span><span class="ident" id="1665511">v</span>&nbsp;<span class="op" id="1665513">==</span>&nbsp;<span class="ident" id="1665516">v</span>&nbsp;<span class="op" id="1665518">&amp;&amp;</span>&nbsp;<span class="ident" id="1665521">v</span>&nbsp;<span class="op" id="1665523">&lt;</span>&nbsp;<span class="num" id="1665525">0</span><span class="op" id="1665526">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1665530">print</span><span class="op" id="1665535">(</span><span class="string" id="1665536">&#34;-Inf&#34;</span><span class="op" id="1665542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665546">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665558">const</span>&nbsp;<span class="ident" id="1665564">n</span>&nbsp;<span class="op" id="1665566">=</span>&nbsp;<span class="num" id="1665568">7</span>&nbsp;<span class="comment" id="1665570">//&nbsp;digits&nbsp;printed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665589">var</span>&nbsp;<span class="ident" id="1665593">buf</span>&nbsp;<span class="op" id="1665597">[</span><span class="ident" id="1665598">n</span>&nbsp;<span class="op" id="1665600">+</span>&nbsp;<span class="num" id="1665602">7</span><span class="op" id="1665603">]</span><span class="builtintype" id="1665604">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665610">buf</span><span class="op" id="1665613">[</span><span class="num" id="1665614">0</span><span class="op" id="1665615">]</span>&nbsp;<span class="op" id="1665617">=</span>&nbsp;<span class="string" id="1665619">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665624">e</span>&nbsp;<span class="op" id="1665626">:=</span>&nbsp;<span class="num" id="1665629">0</span>&nbsp;<span class="comment" id="1665631">//&nbsp;exp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665639">if</span>&nbsp;<span class="ident" id="1665642">v</span>&nbsp;<span class="op" id="1665644">==</span>&nbsp;<span class="num" id="1665647">0</span>&nbsp;<span class="op" id="1665649">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665653">if</span>&nbsp;<span class="num" id="1665656">1</span><span class="op" id="1665657">/</span><span class="ident" id="1665658">v</span>&nbsp;<span class="op" id="1665660">&lt;</span>&nbsp;<span class="num" id="1665662">0</span>&nbsp;<span class="op" id="1665664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665669">buf</span><span class="op" id="1665672">[</span><span class="num" id="1665673">0</span><span class="op" id="1665674">]</span>&nbsp;<span class="op" id="1665676">=</span>&nbsp;<span class="string" id="1665678">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665687">}</span>&nbsp;<span class="keyword" id="1665689">else</span>&nbsp;<span class="op" id="1665694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665698">if</span>&nbsp;<span class="ident" id="1665701">v</span>&nbsp;<span class="op" id="1665703">&lt;</span>&nbsp;<span class="num" id="1665705">0</span>&nbsp;<span class="op" id="1665707">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665712">v</span>&nbsp;<span class="op" id="1665714">=</span>&nbsp;<span class="op" id="1665716">-</span><span class="ident" id="1665717">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665722">buf</span><span class="op" id="1665725">[</span><span class="num" id="1665726">0</span><span class="op" id="1665727">]</span>&nbsp;<span class="op" id="1665729">=</span>&nbsp;<span class="string" id="1665731">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1665742">//&nbsp;normalize</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665757">for</span>&nbsp;<span class="ident" id="1665761">v</span>&nbsp;<span class="op" id="1665763">&gt;=</span>&nbsp;<span class="num" id="1665766">10</span>&nbsp;<span class="op" id="1665769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665774">e</span><span class="op" id="1665775">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665781">v</span>&nbsp;<span class="op" id="1665783">/=</span>&nbsp;<span class="num" id="1665786">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665795">for</span>&nbsp;<span class="ident" id="1665799">v</span>&nbsp;<span class="op" id="1665801">&lt;</span>&nbsp;<span class="num" id="1665803">1</span>&nbsp;<span class="op" id="1665805">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665810">e</span><span class="op" id="1665811">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665817">v</span>&nbsp;<span class="op" id="1665819">*=</span>&nbsp;<span class="num" id="1665822">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1665832">//&nbsp;round</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665843">h</span>&nbsp;<span class="op" id="1665845">:=</span>&nbsp;<span class="num" id="1665848">5.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665854">for</span>&nbsp;<span class="ident" id="1665858">i</span>&nbsp;<span class="op" id="1665860">:=</span>&nbsp;<span class="num" id="1665863">0</span><span class="op" id="1665864">;</span>&nbsp;<span class="ident" id="1665866">i</span>&nbsp;<span class="op" id="1665868">&lt;</span>&nbsp;<span class="ident" id="1665870">n</span><span class="op" id="1665871">;</span>&nbsp;<span class="ident" id="1665873">i</span><span class="op" id="1665874">++</span>&nbsp;<span class="op" id="1665877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665882">h</span>&nbsp;<span class="op" id="1665884">/=</span>&nbsp;<span class="num" id="1665887">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665896">v</span>&nbsp;<span class="op" id="1665898">+=</span>&nbsp;<span class="ident" id="1665901">h</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665905">if</span>&nbsp;<span class="ident" id="1665908">v</span>&nbsp;<span class="op" id="1665910">&gt;=</span>&nbsp;<span class="num" id="1665913">10</span>&nbsp;<span class="op" id="1665916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665921">e</span><span class="op" id="1665922">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665928">v</span>&nbsp;<span class="op" id="1665930">/=</span>&nbsp;<span class="num" id="1665933">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1665941">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1665945">//&nbsp;format&nbsp;+d.dddd+edd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665968">for</span>&nbsp;<span class="ident" id="1665972">i</span>&nbsp;<span class="op" id="1665974">:=</span>&nbsp;<span class="num" id="1665977">0</span><span class="op" id="1665978">;</span>&nbsp;<span class="ident" id="1665980">i</span>&nbsp;<span class="op" id="1665982">&lt;</span>&nbsp;<span class="ident" id="1665984">n</span><span class="op" id="1665985">;</span>&nbsp;<span class="ident" id="1665987">i</span><span class="op" id="1665988">++</span>&nbsp;<span class="op" id="1665991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665995">s</span>&nbsp;<span class="op" id="1665997">:=</span>&nbsp;<span class="builtintype" id="1666000">int</span><span class="op" id="1666003">(</span><span class="ident" id="1666004">v</span><span class="op" id="1666005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666009">buf</span><span class="op" id="1666012">[</span><span class="ident" id="1666013">i</span><span class="op" id="1666014">+</span><span class="num" id="1666015">2</span><span class="op" id="1666016">]</span>&nbsp;<span class="op" id="1666018">=</span>&nbsp;<span class="builtintype" id="1666020">byte</span><span class="op" id="1666024">(</span><span class="ident" id="1666025">s</span>&nbsp;<span class="op" id="1666027">+</span>&nbsp;<span class="string" id="1666029">&#39;0&#39;</span><span class="op" id="1666032">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666036">v</span>&nbsp;<span class="op" id="1666038">-=</span>&nbsp;<span class="builtintype" id="1666041">float64</span><span class="op" id="1666048">(</span><span class="ident" id="1666049">s</span><span class="op" id="1666050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666054">v</span>&nbsp;<span class="op" id="1666056">*=</span>&nbsp;<span class="num" id="1666059">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1666063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666066">buf</span><span class="op" id="1666069">[</span><span class="num" id="1666070">1</span><span class="op" id="1666071">]</span>&nbsp;<span class="op" id="1666073">=</span>&nbsp;<span class="ident" id="1666075">buf</span><span class="op" id="1666078">[</span><span class="num" id="1666079">2</span><span class="op" id="1666080">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666083">buf</span><span class="op" id="1666086">[</span><span class="num" id="1666087">2</span><span class="op" id="1666088">]</span>&nbsp;<span class="op" id="1666090">=</span>&nbsp;<span class="string" id="1666092">&#39;.&#39;</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666098">buf</span><span class="op" id="1666101">[</span><span class="ident" id="1666102">n</span><span class="op" id="1666103">+</span><span class="num" id="1666104">2</span><span class="op" id="1666105">]</span>&nbsp;<span class="op" id="1666107">=</span>&nbsp;<span class="string" id="1666109">&#39;e&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666114">buf</span><span class="op" id="1666117">[</span><span class="ident" id="1666118">n</span><span class="op" id="1666119">+</span><span class="num" id="1666120">3</span><span class="op" id="1666121">]</span>&nbsp;<span class="op" id="1666123">=</span>&nbsp;<span class="string" id="1666125">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666130">if</span>&nbsp;<span class="ident" id="1666133">e</span>&nbsp;<span class="op" id="1666135">&lt;</span>&nbsp;<span class="num" id="1666137">0</span>&nbsp;<span class="op" id="1666139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666143">e</span>&nbsp;<span class="op" id="1666145">=</span>&nbsp;<span class="op" id="1666147">-</span><span class="ident" id="1666148">e</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666152">buf</span><span class="op" id="1666155">[</span><span class="ident" id="1666156">n</span><span class="op" id="1666157">+</span><span class="num" id="1666158">3</span><span class="op" id="1666159">]</span>&nbsp;<span class="op" id="1666161">=</span>&nbsp;<span class="string" id="1666163">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1666168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666172">buf</span><span class="op" id="1666175">[</span><span class="ident" id="1666176">n</span><span class="op" id="1666177">+</span><span class="num" id="1666178">4</span><span class="op" id="1666179">]</span>&nbsp;<span class="op" id="1666181">=</span>&nbsp;<span class="builtintype" id="1666183">byte</span><span class="op" id="1666187">(</span><span class="ident" id="1666188">e</span><span class="op" id="1666189">/</span><span class="num" id="1666190">100</span><span class="op" id="1666193">)</span>&nbsp;<span class="op" id="1666195">+</span>&nbsp;<span class="string" id="1666197">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666202">buf</span><span class="op" id="1666205">[</span><span class="ident" id="1666206">n</span><span class="op" id="1666207">+</span><span class="num" id="1666208">5</span><span class="op" id="1666209">]</span>&nbsp;<span class="op" id="1666211">=</span>&nbsp;<span class="builtintype" id="1666213">byte</span><span class="op" id="1666217">(</span><span class="ident" id="1666218">e</span><span class="op" id="1666219">/</span><span class="num" id="1666220">10</span><span class="op" id="1666222">)</span><span class="op" id="1666223">%</span><span class="num" id="1666224">10</span>&nbsp;<span class="op" id="1666227">+</span>&nbsp;<span class="string" id="1666229">&#39;0&#39;</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666234">buf</span><span class="op" id="1666237">[</span><span class="ident" id="1666238">n</span><span class="op" id="1666239">+</span><span class="num" id="1666240">6</span><span class="op" id="1666241">]</span>&nbsp;<span class="op" id="1666243">=</span>&nbsp;<span class="builtintype" id="1666245">byte</span><span class="op" id="1666249">(</span><span class="ident" id="1666250">e</span><span class="op" id="1666251">%</span><span class="num" id="1666252">10</span><span class="op" id="1666254">)</span>&nbsp;<span class="op" id="1666256">+</span>&nbsp;<span class="string" id="1666258">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666263">gwrite</span><span class="op" id="1666269">(</span><span class="ident" id="1666270">buf</span><span class="op" id="1666273">[</span><span class="op" id="1666274">:</span><span class="op" id="1666275">]</span><span class="op" id="1666276">)</span><br>
<span class="lineno"></span><span class="op" id="1666278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1666281">func</span>&nbsp;<span class="ident" id="1666286">printcomplex</span><span class="op" id="1666298">(</span><span class="ident" id="1666299">c</span>&nbsp;<span class="builtintype" id="1666301">complex128</span><span class="op" id="1666311">)</span>&nbsp;<span class="op" id="1666313">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1666316">print</span><span class="op" id="1666321">(</span><span class="string" id="1666322">&#34;(&#34;</span><span class="op" id="1666325">,</span>&nbsp;<span class="builtinfunc" id="1666327">real</span><span class="op" id="1666331">(</span><span class="ident" id="1666332">c</span><span class="op" id="1666333">)</span><span class="op" id="1666334">,</span>&nbsp;<span class="builtinfunc" id="1666336">imag</span><span class="op" id="1666340">(</span><span class="ident" id="1666341">c</span><span class="op" id="1666342">)</span><span class="op" id="1666343">,</span>&nbsp;<span class="string" id="1666345">&#34;i)&#34;</span><span class="op" id="1666349">)</span><br>
<span class="lineno"></span><span class="op" id="1666351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1666354">func</span>&nbsp;<span class="ident" id="1666359">printuint</span><span class="op" id="1666368">(</span><span class="ident" id="1666369">v</span>&nbsp;<span class="ident" id="1666371">uint64</span><span class="op" id="1666377">)</span>&nbsp;<span class="op" id="1666379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666382">var</span>&nbsp;<span class="ident" id="1666386">buf</span>&nbsp;<span class="op" id="1666390">[</span><span class="num" id="1666391">100</span><span class="op" id="1666394">]</span><span class="builtintype" id="1666395">byte</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666401">i</span>&nbsp;<span class="op" id="1666403">:=</span>&nbsp;<span class="builtinfunc" id="1666406">len</span><span class="op" id="1666409">(</span><span class="ident" id="1666410">buf</span><span class="op" id="1666413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666416">for</span>&nbsp;<span class="ident" id="1666420">i</span><span class="op" id="1666421">--</span><span class="op" id="1666423">;</span>&nbsp;<span class="ident" id="1666425">i</span>&nbsp;<span class="op" id="1666427">&gt;</span>&nbsp;<span class="num" id="1666429">0</span><span class="op" id="1666430">;</span>&nbsp;<span class="ident" id="1666432">i</span><span class="op" id="1666433">--</span>&nbsp;<span class="op" id="1666436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666440">buf</span><span class="op" id="1666443">[</span><span class="ident" id="1666444">i</span><span class="op" id="1666445">]</span>&nbsp;<span class="op" id="1666447">=</span>&nbsp;<span class="builtintype" id="1666449">byte</span><span class="op" id="1666453">(</span><span class="ident" id="1666454">v</span><span class="op" id="1666455">%</span><span class="num" id="1666456">10</span>&nbsp;<span class="op" id="1666459">+</span>&nbsp;<span class="string" id="1666461">&#39;0&#39;</span><span class="op" id="1666464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666468">if</span>&nbsp;<span class="ident" id="1666471">v</span>&nbsp;<span class="op" id="1666473">&lt;</span>&nbsp;<span class="num" id="1666475">10</span>&nbsp;<span class="op" id="1666478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666483">break</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1666491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666495">v</span>&nbsp;<span class="op" id="1666497">/=</span>&nbsp;<span class="num" id="1666500">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1666504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666507">gwrite</span><span class="op" id="1666513">(</span><span class="ident" id="1666514">buf</span><span class="op" id="1666517">[</span><span class="ident" id="1666518">i</span><span class="op" id="1666519">:</span><span class="op" id="1666520">]</span><span class="op" id="1666521">)</span><br>
<span class="lineno"></span><span class="op" id="1666523">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1666526">func</span>&nbsp;<span class="ident" id="1666531">printint</span><span class="op" id="1666539">(</span><span class="ident" id="1666540">v</span>&nbsp;<span class="ident" id="1666542">int64</span><span class="op" id="1666547">)</span>&nbsp;<span class="op" id="1666549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666552">if</span>&nbsp;<span class="ident" id="1666555">v</span>&nbsp;<span class="op" id="1666557">&lt;</span>&nbsp;<span class="num" id="1666559">0</span>&nbsp;<span class="op" id="1666561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1666565">print</span><span class="op" id="1666570">(</span><span class="string" id="1666571">&#34;-&#34;</span><span class="op" id="1666574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666578">v</span>&nbsp;<span class="op" id="1666580">=</span>&nbsp;<span class="op" id="1666582">-</span><span class="ident" id="1666583">v</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1666586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666589">printuint</span><span class="op" id="1666598">(</span><span class="ident" id="1666599">uint64</span><span class="op" id="1666605">(</span><span class="ident" id="1666606">v</span><span class="op" id="1666607">)</span><span class="op" id="1666608">)</span><br>
<span class="lineno"></span><span class="op" id="1666610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1666613">func</span>&nbsp;<span class="ident" id="1666618">printhex</span><span class="op" id="1666626">(</span><span class="ident" id="1666627">v</span>&nbsp;<span class="ident" id="1666629">uint64</span><span class="op" id="1666635">)</span>&nbsp;<span class="op" id="1666637">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666640">const</span>&nbsp;<span class="ident" id="1666646">dig</span>&nbsp;<span class="op" id="1666650">=</span>&nbsp;<span class="string" id="1666652">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666672">var</span>&nbsp;<span class="ident" id="1666676">buf</span>&nbsp;<span class="op" id="1666680">[</span><span class="num" id="1666681">100</span><span class="op" id="1666684">]</span><span class="builtintype" id="1666685">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666691">i</span>&nbsp;<span class="op" id="1666693">:=</span>&nbsp;<span class="builtinfunc" id="1666696">len</span><span class="op" id="1666699">(</span><span class="ident" id="1666700">buf</span><span class="op" id="1666703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666706">for</span>&nbsp;<span class="ident" id="1666710">i</span><span class="op" id="1666711">--</span><span class="op" id="1666713">;</span>&nbsp;<span class="ident" id="1666715">i</span>&nbsp;<span class="op" id="1666717">&gt;</span>&nbsp;<span class="num" id="1666719">0</span><span class="op" id="1666720">;</span>&nbsp;<span class="ident" id="1666722">i</span><span class="op" id="1666723">--</span>&nbsp;<span class="op" id="1666726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666730">buf</span><span class="op" id="1666733">[</span><span class="ident" id="1666734">i</span><span class="op" id="1666735">]</span>&nbsp;<span class="op" id="1666737">=</span>&nbsp;<span class="ident" id="1666739">dig</span><span class="op" id="1666742">[</span><span class="ident" id="1666743">v</span><span class="op" id="1666744">%</span><span class="num" id="1666745">16</span><span class="op" id="1666747">]</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666751">if</span>&nbsp;<span class="ident" id="1666754">v</span>&nbsp;<span class="op" id="1666756">&lt;</span>&nbsp;<span class="num" id="1666758">16</span>&nbsp;<span class="op" id="1666761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666766">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1666774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666778">v</span>&nbsp;<span class="op" id="1666780">/=</span>&nbsp;<span class="num" id="1666783">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1666787">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666790">i</span><span class="op" id="1666791">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666795">buf</span><span class="op" id="1666798">[</span><span class="ident" id="1666799">i</span><span class="op" id="1666800">]</span>&nbsp;<span class="op" id="1666802">=</span>&nbsp;<span class="string" id="1666804">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666809">i</span><span class="op" id="1666810">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666814">buf</span><span class="op" id="1666817">[</span><span class="ident" id="1666818">i</span><span class="op" id="1666819">]</span>&nbsp;<span class="op" id="1666821">=</span>&nbsp;<span class="string" id="1666823">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666828">gwrite</span><span class="op" id="1666834">(</span><span class="ident" id="1666835">buf</span><span class="op" id="1666838">[</span><span class="ident" id="1666839">i</span><span class="op" id="1666840">:</span><span class="op" id="1666841">]</span><span class="op" id="1666842">)</span><br>
<span class="lineno">295</span><span class="op" id="1666844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1666847">func</span>&nbsp;<span class="ident" id="1666852">printpointer</span><span class="op" id="1666864">(</span><span class="ident" id="1666865">p</span>&nbsp;<span class="ident" id="1666867">unsafe</span><span class="op" id="1666873">.</span><span class="ident" id="1666874">Pointer</span><span class="op" id="1666881">)</span>&nbsp;<span class="op" id="1666883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666886">printhex</span><span class="op" id="1666894">(</span><span class="ident" id="1666895">uint64</span><span class="op" id="1666901">(</span><span class="builtintype" id="1666902">uintptr</span><span class="op" id="1666909">(</span><span class="ident" id="1666910">p</span><span class="op" id="1666911">)</span><span class="op" id="1666912">)</span><span class="op" id="1666913">)</span><br>
<span class="lineno"></span><span class="op" id="1666915">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="keyword" id="1666918">func</span>&nbsp;<span class="ident" id="1666923">printstring</span><span class="op" id="1666934">(</span><span class="ident" id="1666935">s</span>&nbsp;<span class="builtintype" id="1666937">string</span><span class="op" id="1666943">)</span>&nbsp;<span class="op" id="1666945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666948">if</span>&nbsp;<span class="builtintype" id="1666951">uintptr</span><span class="op" id="1666958">(</span><span class="builtinfunc" id="1666959">len</span><span class="op" id="1666962">(</span><span class="ident" id="1666963">s</span><span class="op" id="1666964">)</span><span class="op" id="1666965">)</span>&nbsp;<span class="op" id="1666967">&gt;</span>&nbsp;<span class="ident" id="1666969">maxstring</span>&nbsp;<span class="op" id="1666979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666983">gwrite</span><span class="op" id="1666989">(</span><span class="ident" id="1666990">bytes</span><span class="op" id="1666995">(</span><span class="string" id="1666996">&#34;[string&nbsp;too&nbsp;long]&#34;</span><span class="op" id="1667015">)</span><span class="op" id="1667016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1667020">return</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1667028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1667031">gwrite</span><span class="op" id="1667037">(</span><span class="ident" id="1667038">bytes</span><span class="op" id="1667043">(</span><span class="ident" id="1667044">s</span><span class="op" id="1667045">)</span><span class="op" id="1667046">)</span><br>
<span class="lineno"></span><span class="op" id="1667048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1667051">func</span>&nbsp;<span class="ident" id="1667056">printslice</span><span class="op" id="1667066">(</span><span class="ident" id="1667067">s</span>&nbsp;<span class="op" id="1667069">[</span><span class="op" id="1667070">]</span><span class="builtintype" id="1667071">byte</span><span class="op" id="1667075">)</span>&nbsp;<span class="op" id="1667077">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1667080">sp</span>&nbsp;<span class="op" id="1667083">:=</span>&nbsp;<span class="op" id="1667086">(</span><span class="op" id="1667087">*</span><span class="ident" id="1667088">slice</span><span class="op" id="1667093">)</span><span class="op" id="1667094">(</span><span class="ident" id="1667095">unsafe</span><span class="op" id="1667101">.</span><span class="ident" id="1667102">Pointer</span><span class="op" id="1667109">(</span><span class="op" id="1667110">&amp;</span><span class="ident" id="1667111">s</span><span class="op" id="1667112">)</span><span class="op" id="1667113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1667116">print</span><span class="op" id="1667121">(</span><span class="string" id="1667122">&#34;[&#34;</span><span class="op" id="1667125">,</span>&nbsp;<span class="builtinfunc" id="1667127">len</span><span class="op" id="1667130">(</span><span class="ident" id="1667131">s</span><span class="op" id="1667132">)</span><span class="op" id="1667133">,</span>&nbsp;<span class="string" id="1667135">&#34;/&#34;</span><span class="op" id="1667138">,</span>&nbsp;<span class="builtinfunc" id="1667140">cap</span><span class="op" id="1667143">(</span><span class="ident" id="1667144">s</span><span class="op" id="1667145">)</span><span class="op" id="1667146">,</span>&nbsp;<span class="string" id="1667148">&#34;]&#34;</span><span class="op" id="1667151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1667154">printpointer</span><span class="op" id="1667166">(</span><span class="ident" id="1667167">unsafe</span><span class="op" id="1667173">.</span><span class="ident" id="1667174">Pointer</span><span class="op" id="1667181">(</span><span class="ident" id="1667182">sp</span><span class="op" id="1667184">.</span><span class="ident" id="1667185">array</span><span class="op" id="1667190">)</span><span class="op" id="1667191">)</span><br>
<span class="lineno"></span><span class="op" id="1667193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1667196">func</span>&nbsp;<span class="ident" id="1667201">printeface</span><span class="op" id="1667211">(</span><span class="ident" id="1667212">e</span>&nbsp;<span class="keyword" id="1667214">interface</span><span class="op" id="1667223">{</span><span class="op" id="1667224">}</span><span class="op" id="1667225">)</span>&nbsp;<span class="op" id="1667227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1667230">ep</span>&nbsp;<span class="op" id="1667233">:=</span>&nbsp;<span class="op" id="1667236">(</span><span class="op" id="1667237">*</span><span class="ident" id="1667238">eface</span><span class="op" id="1667243">)</span><span class="op" id="1667244">(</span><span class="ident" id="1667245">unsafe</span><span class="op" id="1667251">.</span><span class="ident" id="1667252">Pointer</span><span class="op" id="1667259">(</span><span class="op" id="1667260">&amp;</span><span class="ident" id="1667261">e</span><span class="op" id="1667262">)</span><span class="op" id="1667263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1667266">print</span><span class="op" id="1667271">(</span><span class="string" id="1667272">&#34;(&#34;</span><span class="op" id="1667275">,</span>&nbsp;<span class="ident" id="1667277">ep</span><span class="op" id="1667279">.</span><span class="ident" id="1667280">_type</span><span class="op" id="1667285">,</span>&nbsp;<span class="string" id="1667287">&#34;,&#34;</span><span class="op" id="1667290">,</span>&nbsp;<span class="ident" id="1667292">ep</span><span class="op" id="1667294">.</span><span class="ident" id="1667295">data</span><span class="op" id="1667299">,</span>&nbsp;<span class="string" id="1667301">&#34;)&#34;</span><span class="op" id="1667304">)</span><br>
<span class="lineno"></span><span class="op" id="1667306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1667309">func</span>&nbsp;<span class="ident" id="1667314">printiface</span><span class="op" id="1667324">(</span><span class="ident" id="1667325">i</span>&nbsp;<span class="ident" id="1667327">fInterface</span><span class="op" id="1667337">)</span>&nbsp;<span class="op" id="1667339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1667342">ip</span>&nbsp;<span class="op" id="1667345">:=</span>&nbsp;<span class="op" id="1667348">(</span><span class="op" id="1667349">*</span><span class="ident" id="1667350">iface</span><span class="op" id="1667355">)</span><span class="op" id="1667356">(</span><span class="ident" id="1667357">unsafe</span><span class="op" id="1667363">.</span><span class="ident" id="1667364">Pointer</span><span class="op" id="1667371">(</span><span class="op" id="1667372">&amp;</span><span class="ident" id="1667373">i</span><span class="op" id="1667374">)</span><span class="op" id="1667375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1667378">print</span><span class="op" id="1667383">(</span><span class="string" id="1667384">&#34;(&#34;</span><span class="op" id="1667387">,</span>&nbsp;<span class="ident" id="1667389">ip</span><span class="op" id="1667391">.</span><span class="ident" id="1667392">tab</span><span class="op" id="1667395">,</span>&nbsp;<span class="string" id="1667397">&#34;,&#34;</span><span class="op" id="1667400">,</span>&nbsp;<span class="ident" id="1667402">ip</span><span class="op" id="1667404">.</span><span class="ident" id="1667405">data</span><span class="op" id="1667409">,</span>&nbsp;<span class="string" id="1667411">&#34;)&#34;</span><span class="op" id="1667414">)</span><br>
<span class="lineno"></span><span class="op" id="1667416">}</span>
</div>
</body>
</html>
