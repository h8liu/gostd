<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/exec</h2>
<ul>
<li><a href="/gostd/os/exec/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/os/exec/exec.go.html" class="current">exec.go</a></li>
<li><a href="/gostd/os/exec/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/os/exec/lp_test.go.html">lp_test.go</a></li>
<li><a href="/gostd/os/exec/lp_unix.go.html">lp_unix.go</a></li>
<li><a href="/gostd/os/exec/lp_unix_test.go.html">lp_unix_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5577252">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5577307">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5577361">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5577412">//&nbsp;Package&nbsp;exec&nbsp;runs&nbsp;external&nbsp;commands.&nbsp;It&nbsp;wraps&nbsp;os.StartProcess&nbsp;to&nbsp;make&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="5577488">//&nbsp;easier&nbsp;to&nbsp;remap&nbsp;stdin&nbsp;and&nbsp;stdout,&nbsp;connect&nbsp;I/O&nbsp;with&nbsp;pipes,&nbsp;and&nbsp;do&nbsp;other</span><br>
<span class="lineno"></span><span class="comment" id="5577562">//&nbsp;adjustments.</span><br>
<span class="lineno"></span><span class="keyword" id="5577578">package</span>&nbsp;<span class="ident" id="5577586">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5577592">import</span>&nbsp;<span class="op" id="5577599">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5577602">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5577611">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5577621">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5577627">&#34;os&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5577633">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5577650">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5577661">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5577672">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5577683">&#34;sync&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5577691">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="5577701">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5577704">//&nbsp;Error&nbsp;records&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;binary&nbsp;that&nbsp;failed&nbsp;to&nbsp;be&nbsp;executed</span><br>
<span class="lineno"></span><span class="comment" id="5577769">//&nbsp;and&nbsp;the&nbsp;reason&nbsp;it&nbsp;failed.</span><br>
<span class="lineno">25</span><span class="keyword" id="5577798">type</span>&nbsp;<span class="ident" id="5577803">Error</span>&nbsp;<span class="keyword" id="5577809">struct</span>&nbsp;<span class="op" id="5577816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5577819">Name</span>&nbsp;<span class="builtintype" id="5577824">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5577832">Err</span>&nbsp;&nbsp;<span class="builtintype" id="5577837">error</span><br>
<span class="lineno"></span><span class="op" id="5577843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="5577846">func</span>&nbsp;<span class="op" id="5577851">(</span><span class="ident" id="5577852">e</span>&nbsp;<span class="op" id="5577854">*</span><span class="ident" id="5577855"><a href="/gostd/os/exec/exec.go.html#5577803">Error</a></span><span class="op" id="5577860">)</span>&nbsp;<span class="ident" id="5577862">Error</span><span class="op" id="5577867">(</span><span class="op" id="5577868">)</span>&nbsp;<span class="builtintype" id="5577870">string</span>&nbsp;<span class="op" id="5577877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5577880">return</span>&nbsp;<span class="string" id="5577887">&#34;exec:&nbsp;&#34;</span>&nbsp;<span class="op" id="5577896">+</span>&nbsp;<span class="ident" id="5577898"><a href="/gostd/os/exec/exec.go.html#5577661">strconv</a></span><span class="op" id="5577905">.</span><span class="ident" id="5577906"><a href="/gostd/strconv/quote.go.html#2412032">Quote</a></span><span class="op" id="5577911">(</span><span class="ident" id="5577912"><a href="/gostd/os/exec/exec.go.html#5577852">e</a></span><span class="op" id="5577913">.</span><span class="ident" id="5577914"><a href="/gostd/os/exec/exec.go.html#5577819">Name</a></span><span class="op" id="5577918">)</span>&nbsp;<span class="op" id="5577920">+</span>&nbsp;<span class="string" id="5577922">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="5577927">+</span>&nbsp;<span class="ident" id="5577929"><a href="/gostd/os/exec/exec.go.html#5577852">e</a></span><span class="op" id="5577930">.</span><span class="ident" id="5577931"><a href="/gostd/os/exec/exec.go.html#5577832">Err</a></span><span class="op" id="5577934">.</span><span class="ident" id="5577935">Error</span><span class="op" id="5577940">(</span><span class="op" id="5577941">)</span><br>
<span class="lineno"></span><span class="op" id="5577943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5577946">//&nbsp;Cmd&nbsp;represents&nbsp;an&nbsp;external&nbsp;command&nbsp;being&nbsp;prepared&nbsp;or&nbsp;run.</span><br>
<span class="lineno">35</span><span class="keyword" id="5578007">type</span>&nbsp;<span class="ident" id="5578012">Cmd</span>&nbsp;<span class="keyword" id="5578016">struct</span>&nbsp;<span class="op" id="5578023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578026">//&nbsp;Path&nbsp;is&nbsp;the&nbsp;path&nbsp;of&nbsp;the&nbsp;command&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578070">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578074">//&nbsp;This&nbsp;is&nbsp;the&nbsp;only&nbsp;field&nbsp;that&nbsp;must&nbsp;be&nbsp;set&nbsp;to&nbsp;a&nbsp;non-zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578132">//&nbsp;value.&nbsp;If&nbsp;Path&nbsp;is&nbsp;relative,&nbsp;it&nbsp;is&nbsp;evaluated&nbsp;relative</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578189">//&nbsp;to&nbsp;Dir.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5578201">Path</span>&nbsp;<span class="builtintype" id="5578206">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578215">//&nbsp;Args&nbsp;holds&nbsp;command&nbsp;line&nbsp;arguments,&nbsp;including&nbsp;the&nbsp;command&nbsp;as&nbsp;Args[0].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578288">//&nbsp;If&nbsp;the&nbsp;Args&nbsp;field&nbsp;is&nbsp;empty&nbsp;or&nbsp;nil,&nbsp;Run&nbsp;uses&nbsp;{Path}.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578344">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578348">//&nbsp;In&nbsp;typical&nbsp;use,&nbsp;both&nbsp;Path&nbsp;and&nbsp;Args&nbsp;are&nbsp;set&nbsp;by&nbsp;calling&nbsp;Command.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5578415">Args</span>&nbsp;<span class="op" id="5578420">[</span><span class="op" id="5578421">]</span><span class="builtintype" id="5578422">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578431">//&nbsp;Env&nbsp;specifies&nbsp;the&nbsp;environment&nbsp;of&nbsp;the&nbsp;process.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578481">//&nbsp;If&nbsp;Env&nbsp;is&nbsp;nil,&nbsp;Run&nbsp;uses&nbsp;the&nbsp;current&nbsp;process&#39;s&nbsp;environment.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5578544">Env</span>&nbsp;<span class="op" id="5578548">[</span><span class="op" id="5578549">]</span><span class="builtintype" id="5578550">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578559">//&nbsp;Dir&nbsp;specifies&nbsp;the&nbsp;working&nbsp;directory&nbsp;of&nbsp;the&nbsp;command.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578615">//&nbsp;If&nbsp;Dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;Run&nbsp;runs&nbsp;the&nbsp;command&nbsp;in&nbsp;the</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578675">//&nbsp;calling&nbsp;process&#39;s&nbsp;current&nbsp;directory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5578716">Dir</span>&nbsp;<span class="builtintype" id="5578720">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578729">//&nbsp;Stdin&nbsp;specifies&nbsp;the&nbsp;process&#39;s&nbsp;standard&nbsp;input.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578779">//&nbsp;If&nbsp;Stdin&nbsp;is&nbsp;nil,&nbsp;the&nbsp;process&nbsp;reads&nbsp;from&nbsp;the&nbsp;null&nbsp;device&nbsp;(os.DevNull).</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578853">//&nbsp;If&nbsp;Stdin&nbsp;is&nbsp;an&nbsp;*os.File,&nbsp;the&nbsp;process&#39;s&nbsp;standard&nbsp;input&nbsp;is&nbsp;connected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578924">//&nbsp;directly&nbsp;to&nbsp;that&nbsp;file.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5578951">//&nbsp;Otherwise,&nbsp;during&nbsp;the&nbsp;execution&nbsp;of&nbsp;the&nbsp;command&nbsp;a&nbsp;separate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579013">//&nbsp;goroutine&nbsp;reads&nbsp;from&nbsp;Stdin&nbsp;and&nbsp;delivers&nbsp;that&nbsp;data&nbsp;to&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579082">//&nbsp;over&nbsp;a&nbsp;pipe.&nbsp;In&nbsp;this&nbsp;case,&nbsp;Wait&nbsp;does&nbsp;not&nbsp;complete&nbsp;until&nbsp;the&nbsp;goroutine</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579156">//&nbsp;stops&nbsp;copying,&nbsp;either&nbsp;because&nbsp;it&nbsp;has&nbsp;reached&nbsp;the&nbsp;end&nbsp;of&nbsp;Stdin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579222">//&nbsp;(EOF&nbsp;or&nbsp;a&nbsp;read&nbsp;error)&nbsp;or&nbsp;because&nbsp;writing&nbsp;to&nbsp;the&nbsp;pipe&nbsp;returned&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5579298">Stdin</span>&nbsp;<span class="ident" id="5579304"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5579306">.</span><span class="ident" id="5579307"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579316">//&nbsp;Stdout&nbsp;and&nbsp;Stderr&nbsp;specify&nbsp;the&nbsp;process&#39;s&nbsp;standard&nbsp;output&nbsp;and&nbsp;error.</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579387">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579391">//&nbsp;If&nbsp;either&nbsp;is&nbsp;nil,&nbsp;Run&nbsp;connects&nbsp;the&nbsp;corresponding&nbsp;file&nbsp;descriptor</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579460">//&nbsp;to&nbsp;the&nbsp;null&nbsp;device&nbsp;(os.DevNull).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579497">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579501">//&nbsp;If&nbsp;Stdout&nbsp;and&nbsp;Stderr&nbsp;are&nbsp;the&nbsp;same&nbsp;writer,&nbsp;at&nbsp;most&nbsp;one</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579559">//&nbsp;goroutine&nbsp;at&nbsp;a&nbsp;time&nbsp;will&nbsp;call&nbsp;Write.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5579600">Stdout</span>&nbsp;<span class="ident" id="5579607"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5579609">.</span><span class="ident" id="5579610"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5579618">Stderr</span>&nbsp;<span class="ident" id="5579625"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5579627">.</span><span class="ident" id="5579628"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579637">//&nbsp;ExtraFiles&nbsp;specifies&nbsp;additional&nbsp;open&nbsp;files&nbsp;to&nbsp;be&nbsp;inherited&nbsp;by&nbsp;the</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579707">//&nbsp;new&nbsp;process.&nbsp;It&nbsp;does&nbsp;not&nbsp;include&nbsp;standard&nbsp;input,&nbsp;standard&nbsp;output,&nbsp;or</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579780">//&nbsp;standard&nbsp;error.&nbsp;If&nbsp;non-nil,&nbsp;entry&nbsp;i&nbsp;becomes&nbsp;file&nbsp;descriptor&nbsp;3+i.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579849">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579853">//&nbsp;BUG:&nbsp;on&nbsp;OS&nbsp;X&nbsp;10.6,&nbsp;child&nbsp;processes&nbsp;may&nbsp;sometimes&nbsp;inherit&nbsp;unwanted&nbsp;fds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579928">//&nbsp;http://golang.org/issue/2603</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5579961">ExtraFiles</span>&nbsp;<span class="op" id="5579972">[</span><span class="op" id="5579973">]</span><span class="op" id="5579974">*</span><span class="ident" id="5579975"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5579977">.</span><span class="ident" id="5579978"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5579985">//&nbsp;SysProcAttr&nbsp;holds&nbsp;optional,&nbsp;operating&nbsp;system-specific&nbsp;attributes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5580055">//&nbsp;Run&nbsp;passes&nbsp;it&nbsp;to&nbsp;os.StartProcess&nbsp;as&nbsp;the&nbsp;os.ProcAttr&#39;s&nbsp;Sys&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5580124">SysProcAttr</span>&nbsp;<span class="op" id="5580136">*</span><span class="ident" id="5580137"><a href="/gostd/os/exec/exec.go.html#5577691">syscall</a></span><span class="op" id="5580144">.</span><span class="ident" id="5580145"><a href="/gostd/syscall/exec_linux.go.html#2480043">SysProcAttr</a></span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5580159">//&nbsp;Process&nbsp;is&nbsp;the&nbsp;underlying&nbsp;process,&nbsp;once&nbsp;started.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5580212">Process</span>&nbsp;<span class="op" id="5580220">*</span><span class="ident" id="5580221"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5580223">.</span><span class="ident" id="5580224"><a href="/gostd/os/exec.go.html#2433546">Process</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5580234">//&nbsp;ProcessState&nbsp;contains&nbsp;information&nbsp;about&nbsp;an&nbsp;exited&nbsp;process,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5580297">//&nbsp;available&nbsp;after&nbsp;a&nbsp;call&nbsp;to&nbsp;Wait&nbsp;or&nbsp;Run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5580340">ProcessState</span>&nbsp;<span class="op" id="5580353">*</span><span class="ident" id="5580354"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5580356">.</span><span class="ident" id="5580357"><a href="/gostd/os/exec_posix.go.html#2436870">ProcessState</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5580372">lookPathErr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5580388">error</span>&nbsp;<span class="comment" id="5580394">//&nbsp;LookPath&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5580422">finished</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5580438">bool</span>&nbsp;&nbsp;<span class="comment" id="5580444">//&nbsp;when&nbsp;Wait&nbsp;was&nbsp;called</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5580469">childFiles</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5580485">[</span><span class="op" id="5580486">]</span><span class="op" id="5580487">*</span><span class="ident" id="5580488"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5580490">.</span><span class="ident" id="5580491"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5580497">closeAfterStart</span>&nbsp;<span class="op" id="5580513">[</span><span class="op" id="5580514">]</span><span class="ident" id="5580515"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5580517">.</span><span class="ident" id="5580518"><a href="/gostd/io/io.go.html#1422563">Closer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5580526">closeAfterWait</span>&nbsp;&nbsp;<span class="op" id="5580542">[</span><span class="op" id="5580543">]</span><span class="ident" id="5580544"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5580546">.</span><span class="ident" id="5580547"><a href="/gostd/io/io.go.html#1422563">Closer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5580555">goroutine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5580571">[</span><span class="op" id="5580572">]</span><span class="keyword" id="5580573">func</span><span class="op" id="5580577">(</span><span class="op" id="5580578">)</span>&nbsp;<span class="builtintype" id="5580580">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5580587">errch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5580603">chan</span>&nbsp;<span class="builtintype" id="5580608">error</span>&nbsp;<span class="comment" id="5580614">//&nbsp;one&nbsp;send&nbsp;per&nbsp;goroutine</span><br>
<span class="lineno">105</span><span class="op" id="5580640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5580643">//&nbsp;Command&nbsp;returns&nbsp;the&nbsp;Cmd&nbsp;struct&nbsp;to&nbsp;execute&nbsp;the&nbsp;named&nbsp;program&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5580711">//&nbsp;the&nbsp;given&nbsp;arguments.</span><br>
<span class="lineno"></span><span class="comment" id="5580735">//</span><br>
<span class="lineno">110</span><span class="comment" id="5580738">//&nbsp;It&nbsp;sets&nbsp;only&nbsp;the&nbsp;Path&nbsp;and&nbsp;Args&nbsp;in&nbsp;the&nbsp;returned&nbsp;structure.</span><br>
<span class="lineno"></span><span class="comment" id="5580799">//</span><br>
<span class="lineno"></span><span class="comment" id="5580802">//&nbsp;If&nbsp;name&nbsp;contains&nbsp;no&nbsp;path&nbsp;separators,&nbsp;Command&nbsp;uses&nbsp;LookPath&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5580867">//&nbsp;resolve&nbsp;the&nbsp;path&nbsp;to&nbsp;a&nbsp;complete&nbsp;name&nbsp;if&nbsp;possible.&nbsp;Otherwise&nbsp;it&nbsp;uses</span><br>
<span class="lineno"></span><span class="comment" id="5580937">//&nbsp;name&nbsp;directly.</span><br>
<span class="lineno">115</span><span class="comment" id="5580955">//</span><br>
<span class="lineno"></span><span class="comment" id="5580958">//&nbsp;The&nbsp;returned&nbsp;Cmd&#39;s&nbsp;Args&nbsp;field&nbsp;is&nbsp;constructed&nbsp;from&nbsp;the&nbsp;command&nbsp;name</span><br>
<span class="lineno"></span><span class="comment" id="5581028">//&nbsp;followed&nbsp;by&nbsp;the&nbsp;elements&nbsp;of&nbsp;arg,&nbsp;so&nbsp;arg&nbsp;should&nbsp;not&nbsp;include&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5581094">//&nbsp;command&nbsp;name&nbsp;itself.&nbsp;For&nbsp;example,&nbsp;Command(&#34;echo&#34;,&nbsp;&#34;hello&#34;)</span><br>
<span class="lineno"></span><span class="keyword" id="5581156">func</span>&nbsp;<span class="ident" id="5581161">Command</span><span class="op" id="5581168">(</span><span class="ident" id="5581169">name</span>&nbsp;<span class="builtintype" id="5581174">string</span><span class="op" id="5581180">,</span>&nbsp;<span class="ident" id="5581182">arg</span>&nbsp;<span class="op" id="5581186">...</span><span class="builtintype" id="5581189">string</span><span class="op" id="5581195">)</span>&nbsp;<span class="op" id="5581197">*</span><span class="ident" id="5581198"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span>&nbsp;<span class="op" id="5581202">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5581205">cmd</span>&nbsp;<span class="op" id="5581209">:=</span>&nbsp;<span class="op" id="5581212">&amp;</span><span class="ident" id="5581213"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5581216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5581220"><a href="/gostd/os/exec/exec.go.html#5578201">Path</a></span><span class="op" id="5581224">:</span>&nbsp;<span class="ident" id="5581226"><a href="/gostd/os/exec/exec.go.html#5581169">name</a></span><span class="op" id="5581230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5581234"><a href="/gostd/os/exec/exec.go.html#5578415">Args</a></span><span class="op" id="5581238">:</span>&nbsp;<span class="builtinfunc" id="5581240">append</span><span class="op" id="5581246">(</span><span class="op" id="5581247">[</span><span class="op" id="5581248">]</span><span class="builtintype" id="5581249">string</span><span class="op" id="5581255">{</span><span class="ident" id="5581256"><a href="/gostd/os/exec/exec.go.html#5581169">name</a></span><span class="op" id="5581260">}</span><span class="op" id="5581261">,</span>&nbsp;<span class="ident" id="5581263"><a href="/gostd/os/exec/exec.go.html#5581182">arg</a></span><span class="op" id="5581266">...</span><span class="op" id="5581269">)</span><span class="op" id="5581270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5581273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581276">if</span>&nbsp;<span class="ident" id="5581279"><a href="/gostd/os/exec/exec.go.html#5577633">filepath</a></span><span class="op" id="5581287">.</span><span class="ident" id="5581288"><a href="/gostd/path/filepath/path.go.html#3789969">Base</a></span><span class="op" id="5581292">(</span><span class="ident" id="5581293"><a href="/gostd/os/exec/exec.go.html#5581169">name</a></span><span class="op" id="5581297">)</span>&nbsp;<span class="op" id="5581299">==</span>&nbsp;<span class="ident" id="5581302"><a href="/gostd/os/exec/exec.go.html#5581169">name</a></span>&nbsp;<span class="op" id="5581307">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581311">if</span>&nbsp;<span class="ident" id="5581314">lp</span><span class="op" id="5581316">,</span>&nbsp;<span class="ident" id="5581318">err</span>&nbsp;<span class="op" id="5581322">:=</span>&nbsp;<span class="ident" id="5581325"><a href="/gostd/os/exec/lp_unix.go.html#5591524">LookPath</a></span><span class="op" id="5581333">(</span><span class="ident" id="5581334"><a href="/gostd/os/exec/exec.go.html#5581169">name</a></span><span class="op" id="5581338">)</span><span class="op" id="5581339">;</span>&nbsp;<span class="ident" id="5581341"><a href="/gostd/os/exec/exec.go.html#5581318">err</a></span>&nbsp;<span class="op" id="5581345">!=</span>&nbsp;<span class="builtintype" id="5581348">nil</span>&nbsp;<span class="op" id="5581352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5581357"><a href="/gostd/os/exec/exec.go.html#5581205">cmd</a></span><span class="op" id="5581360">.</span><span class="ident" id="5581361"><a href="/gostd/os/exec/exec.go.html#5580372">lookPathErr</a></span>&nbsp;<span class="op" id="5581373">=</span>&nbsp;<span class="ident" id="5581375"><a href="/gostd/os/exec/exec.go.html#5581318">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5581381">}</span>&nbsp;<span class="keyword" id="5581383">else</span>&nbsp;<span class="op" id="5581388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5581393"><a href="/gostd/os/exec/exec.go.html#5581205">cmd</a></span><span class="op" id="5581396">.</span><span class="ident" id="5581397"><a href="/gostd/os/exec/exec.go.html#5578201">Path</a></span>&nbsp;<span class="op" id="5581402">=</span>&nbsp;<span class="ident" id="5581404"><a href="/gostd/os/exec/exec.go.html#5581314">lp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5581409">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5581412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581415">return</span>&nbsp;<span class="ident" id="5581422"><a href="/gostd/os/exec/exec.go.html#5581205">cmd</a></span><br>
<span class="lineno"></span><span class="op" id="5581426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5581429">//&nbsp;interfaceEqual&nbsp;protects&nbsp;against&nbsp;panics&nbsp;from&nbsp;doing&nbsp;equality&nbsp;tests&nbsp;on</span><br>
<span class="lineno">135</span><span class="comment" id="5581500">//&nbsp;two&nbsp;interfaces&nbsp;with&nbsp;non-comparable&nbsp;underlying&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5581556">func</span>&nbsp;<span class="ident" id="5581561">interfaceEqual</span><span class="op" id="5581575">(</span><span class="ident" id="5581576">a</span><span class="op" id="5581577">,</span>&nbsp;<span class="ident" id="5581579">b</span>&nbsp;<span class="keyword" id="5581581">interface</span><span class="op" id="5581590">{</span><span class="op" id="5581591">}</span><span class="op" id="5581592">)</span>&nbsp;<span class="builtintype" id="5581594">bool</span>&nbsp;<span class="op" id="5581599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581602">defer</span>&nbsp;<span class="keyword" id="5581608">func</span><span class="op" id="5581612">(</span><span class="op" id="5581613">)</span>&nbsp;<span class="op" id="5581615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5581619">recover</span><span class="op" id="5581626">(</span><span class="op" id="5581627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5581630">}</span><span class="op" id="5581631">(</span><span class="op" id="5581632">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581635">return</span>&nbsp;<span class="ident" id="5581642"><a href="/gostd/os/exec/exec.go.html#5581576">a</a></span>&nbsp;<span class="op" id="5581644">==</span>&nbsp;<span class="ident" id="5581647"><a href="/gostd/os/exec/exec.go.html#5581579">b</a></span><br>
<span class="lineno"></span><span class="op" id="5581649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5581652">func</span>&nbsp;<span class="op" id="5581657">(</span><span class="ident" id="5581658">c</span>&nbsp;<span class="op" id="5581660">*</span><span class="ident" id="5581661"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5581664">)</span>&nbsp;<span class="ident" id="5581666">envv</span><span class="op" id="5581670">(</span><span class="op" id="5581671">)</span>&nbsp;<span class="op" id="5581673">[</span><span class="op" id="5581674">]</span><span class="builtintype" id="5581675">string</span>&nbsp;<span class="op" id="5581682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581685">if</span>&nbsp;<span class="ident" id="5581688"><a href="/gostd/os/exec/exec.go.html#5581658">c</a></span><span class="op" id="5581689">.</span><span class="ident" id="5581690"><a href="/gostd/os/exec/exec.go.html#5578544">Env</a></span>&nbsp;<span class="op" id="5581694">!=</span>&nbsp;<span class="builtintype" id="5581697">nil</span>&nbsp;<span class="op" id="5581701">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581705">return</span>&nbsp;<span class="ident" id="5581712"><a href="/gostd/os/exec/exec.go.html#5581658">c</a></span><span class="op" id="5581713">.</span><span class="ident" id="5581714"><a href="/gostd/os/exec/exec.go.html#5578544">Env</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5581719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581722">return</span>&nbsp;<span class="ident" id="5581729"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5581731">.</span><span class="ident" id="5581732"><a href="/gostd/os/env.go.html#2430342">Environ</a></span><span class="op" id="5581739">(</span><span class="op" id="5581740">)</span><br>
<span class="lineno"></span><span class="op" id="5581742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="5581745">func</span>&nbsp;<span class="op" id="5581750">(</span><span class="ident" id="5581751">c</span>&nbsp;<span class="op" id="5581753">*</span><span class="ident" id="5581754"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5581757">)</span>&nbsp;<span class="ident" id="5581759">argv</span><span class="op" id="5581763">(</span><span class="op" id="5581764">)</span>&nbsp;<span class="op" id="5581766">[</span><span class="op" id="5581767">]</span><span class="builtintype" id="5581768">string</span>&nbsp;<span class="op" id="5581775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581778">if</span>&nbsp;<span class="builtinfunc" id="5581781">len</span><span class="op" id="5581784">(</span><span class="ident" id="5581785"><a href="/gostd/os/exec/exec.go.html#5581751">c</a></span><span class="op" id="5581786">.</span><span class="ident" id="5581787"><a href="/gostd/os/exec/exec.go.html#5578415">Args</a></span><span class="op" id="5581791">)</span>&nbsp;<span class="op" id="5581793">&gt;</span>&nbsp;<span class="num" id="5581795">0</span>&nbsp;<span class="op" id="5581797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581801">return</span>&nbsp;<span class="ident" id="5581808"><a href="/gostd/os/exec/exec.go.html#5581751">c</a></span><span class="op" id="5581809">.</span><span class="ident" id="5581810"><a href="/gostd/os/exec/exec.go.html#5578415">Args</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5581816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581819">return</span>&nbsp;<span class="op" id="5581826">[</span><span class="op" id="5581827">]</span><span class="builtintype" id="5581828">string</span><span class="op" id="5581834">{</span><span class="ident" id="5581835"><a href="/gostd/os/exec/exec.go.html#5581751">c</a></span><span class="op" id="5581836">.</span><span class="ident" id="5581837"><a href="/gostd/os/exec/exec.go.html#5578201">Path</a></span><span class="op" id="5581841">}</span><br>
<span class="lineno">155</span><span class="op" id="5581843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5581846">func</span>&nbsp;<span class="op" id="5581851">(</span><span class="ident" id="5581852">c</span>&nbsp;<span class="op" id="5581854">*</span><span class="ident" id="5581855"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5581858">)</span>&nbsp;<span class="ident" id="5581860">stdin</span><span class="op" id="5581865">(</span><span class="op" id="5581866">)</span>&nbsp;<span class="op" id="5581868">(</span><span class="ident" id="5581869">f</span>&nbsp;<span class="op" id="5581871">*</span><span class="ident" id="5581872"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5581874">.</span><span class="ident" id="5581875"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><span class="op" id="5581879">,</span>&nbsp;<span class="ident" id="5581881">err</span>&nbsp;<span class="builtintype" id="5581885">error</span><span class="op" id="5581890">)</span>&nbsp;<span class="op" id="5581892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581895">if</span>&nbsp;<span class="ident" id="5581898"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5581899">.</span><span class="ident" id="5581900"><a href="/gostd/os/exec/exec.go.html#5579298">Stdin</a></span>&nbsp;<span class="op" id="5581906">==</span>&nbsp;<span class="builtintype" id="5581909">nil</span>&nbsp;<span class="op" id="5581913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5581917"><a href="/gostd/os/exec/exec.go.html#5581869">f</a></span><span class="op" id="5581918">,</span>&nbsp;<span class="ident" id="5581920"><a href="/gostd/os/exec/exec.go.html#5581881">err</a></span>&nbsp;<span class="op" id="5581924">=</span>&nbsp;<span class="ident" id="5581926"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5581928">.</span><span class="ident" id="5581929"><a href="/gostd/os/file.go.html#2446863">Open</a></span><span class="op" id="5581933">(</span><span class="ident" id="5581934"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5581936">.</span><span class="ident" id="5581937"><a href="/gostd/os/file_unix.go.html#2453752">DevNull</a></span><span class="op" id="5581944">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581948">if</span>&nbsp;<span class="ident" id="5581951"><a href="/gostd/os/exec/exec.go.html#5581881">err</a></span>&nbsp;<span class="op" id="5581955">!=</span>&nbsp;<span class="builtintype" id="5581958">nil</span>&nbsp;<span class="op" id="5581962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5581967">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5581976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5581980"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5581981">.</span><span class="ident" id="5581982"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span>&nbsp;<span class="op" id="5581998">=</span>&nbsp;<span class="builtinfunc" id="5582000">append</span><span class="op" id="5582006">(</span><span class="ident" id="5582007"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5582008">.</span><span class="ident" id="5582009"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5582024">,</span>&nbsp;<span class="ident" id="5582026"><a href="/gostd/os/exec/exec.go.html#5581869">f</a></span><span class="op" id="5582027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582031">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5582039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582043">if</span>&nbsp;<span class="ident" id="5582046">f</span><span class="op" id="5582047">,</span>&nbsp;<span class="ident" id="5582049">ok</span>&nbsp;<span class="op" id="5582052">:=</span>&nbsp;<span class="ident" id="5582055"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5582056">.</span><span class="ident" id="5582057"><a href="/gostd/os/exec/exec.go.html#5579298">Stdin</a></span><span class="op" id="5582062">.</span><span class="op" id="5582063">(</span><span class="op" id="5582064">*</span><span class="ident" id="5582065"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5582067">.</span><span class="ident" id="5582068"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><span class="op" id="5582072">)</span><span class="op" id="5582073">;</span>&nbsp;<span class="ident" id="5582075"><a href="/gostd/os/exec/exec.go.html#5582049">ok</a></span>&nbsp;<span class="op" id="5582078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582082">return</span>&nbsp;<span class="ident" id="5582089"><a href="/gostd/os/exec/exec.go.html#5582046">f</a></span><span class="op" id="5582090">,</span>&nbsp;<span class="builtintype" id="5582092">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5582097">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5582101">pr</span><span class="op" id="5582103">,</span>&nbsp;<span class="ident" id="5582105">pw</span><span class="op" id="5582107">,</span>&nbsp;<span class="ident" id="5582109"><a href="/gostd/os/exec/exec.go.html#5581881">err</a></span>&nbsp;<span class="op" id="5582113">:=</span>&nbsp;<span class="ident" id="5582116"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5582118">.</span><span class="ident" id="5582119"><a href="/gostd/os/pipe_linux.go.html#2467766">Pipe</a></span><span class="op" id="5582123">(</span><span class="op" id="5582124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582127">if</span>&nbsp;<span class="ident" id="5582130"><a href="/gostd/os/exec/exec.go.html#5581881">err</a></span>&nbsp;<span class="op" id="5582134">!=</span>&nbsp;<span class="builtintype" id="5582137">nil</span>&nbsp;<span class="op" id="5582141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582145">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5582153">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5582157"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5582158">.</span><span class="ident" id="5582159"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span>&nbsp;<span class="op" id="5582175">=</span>&nbsp;<span class="builtinfunc" id="5582177">append</span><span class="op" id="5582183">(</span><span class="ident" id="5582184"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5582185">.</span><span class="ident" id="5582186"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5582201">,</span>&nbsp;<span class="ident" id="5582203"><a href="/gostd/os/exec/exec.go.html#5582101">pr</a></span><span class="op" id="5582205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5582208"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5582209">.</span><span class="ident" id="5582210"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span>&nbsp;<span class="op" id="5582225">=</span>&nbsp;<span class="builtinfunc" id="5582227">append</span><span class="op" id="5582233">(</span><span class="ident" id="5582234"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5582235">.</span><span class="ident" id="5582236"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span><span class="op" id="5582250">,</span>&nbsp;<span class="ident" id="5582252"><a href="/gostd/os/exec/exec.go.html#5582105">pw</a></span><span class="op" id="5582254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5582257"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5582258">.</span><span class="ident" id="5582259"><a href="/gostd/os/exec/exec.go.html#5580555">goroutine</a></span>&nbsp;<span class="op" id="5582269">=</span>&nbsp;<span class="builtinfunc" id="5582271">append</span><span class="op" id="5582277">(</span><span class="ident" id="5582278"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5582279">.</span><span class="ident" id="5582280"><a href="/gostd/os/exec/exec.go.html#5580555">goroutine</a></span><span class="op" id="5582289">,</span>&nbsp;<span class="keyword" id="5582291">func</span><span class="op" id="5582295">(</span><span class="op" id="5582296">)</span>&nbsp;<span class="builtintype" id="5582298">error</span>&nbsp;<span class="op" id="5582304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5582308">_</span><span class="op" id="5582309">,</span>&nbsp;<span class="ident" id="5582311">err</span>&nbsp;<span class="op" id="5582315">:=</span>&nbsp;<span class="ident" id="5582318"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5582320">.</span><span class="ident" id="5582321"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="5582325">(</span><span class="ident" id="5582326"><a href="/gostd/os/exec/exec.go.html#5582105">pw</a></span><span class="op" id="5582328">,</span>&nbsp;<span class="ident" id="5582330"><a href="/gostd/os/exec/exec.go.html#5581852">c</a></span><span class="op" id="5582331">.</span><span class="ident" id="5582332"><a href="/gostd/os/exec/exec.go.html#5579298">Stdin</a></span><span class="op" id="5582337">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582341">if</span>&nbsp;<span class="ident" id="5582344">err1</span>&nbsp;<span class="op" id="5582349">:=</span>&nbsp;<span class="ident" id="5582352"><a href="/gostd/os/exec/exec.go.html#5582105">pw</a></span><span class="op" id="5582354">.</span><span class="ident" id="5582355"><a href="/gostd/os/file_unix.go.html#2454611">Close</a></span><span class="op" id="5582360">(</span><span class="op" id="5582361">)</span><span class="op" id="5582362">;</span>&nbsp;<span class="ident" id="5582364"><a href="/gostd/os/exec/exec.go.html#5582311">err</a></span>&nbsp;<span class="op" id="5582368">==</span>&nbsp;<span class="builtintype" id="5582371">nil</span>&nbsp;<span class="op" id="5582375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5582380"><a href="/gostd/os/exec/exec.go.html#5582311">err</a></span>&nbsp;<span class="op" id="5582384">=</span>&nbsp;<span class="ident" id="5582386"><a href="/gostd/os/exec/exec.go.html#5582344">err1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5582393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582397">return</span>&nbsp;<span class="ident" id="5582404"><a href="/gostd/os/exec/exec.go.html#5582311">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5582409">}</span><span class="op" id="5582410">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582413">return</span>&nbsp;<span class="ident" id="5582420"><a href="/gostd/os/exec/exec.go.html#5582101">pr</a></span><span class="op" id="5582422">,</span>&nbsp;<span class="builtintype" id="5582424">nil</span><br>
<span class="lineno"></span><span class="op" id="5582428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5582431">func</span>&nbsp;<span class="op" id="5582436">(</span><span class="ident" id="5582437">c</span>&nbsp;<span class="op" id="5582439">*</span><span class="ident" id="5582440"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5582443">)</span>&nbsp;<span class="ident" id="5582445">stdout</span><span class="op" id="5582451">(</span><span class="op" id="5582452">)</span>&nbsp;<span class="op" id="5582454">(</span><span class="ident" id="5582455">f</span>&nbsp;<span class="op" id="5582457">*</span><span class="ident" id="5582458"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5582460">.</span><span class="ident" id="5582461"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><span class="op" id="5582465">,</span>&nbsp;<span class="ident" id="5582467">err</span>&nbsp;<span class="builtintype" id="5582471">error</span><span class="op" id="5582476">)</span>&nbsp;<span class="op" id="5582478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582481">return</span>&nbsp;<span class="ident" id="5582488"><a href="/gostd/os/exec/exec.go.html#5582437">c</a></span><span class="op" id="5582489">.</span><span class="ident" id="5582490"><a href="/gostd/os/exec/exec.go.html#5582716">writerDescriptor</a></span><span class="op" id="5582506">(</span><span class="ident" id="5582507"><a href="/gostd/os/exec/exec.go.html#5582437">c</a></span><span class="op" id="5582508">.</span><span class="ident" id="5582509"><a href="/gostd/os/exec/exec.go.html#5579600">Stdout</a></span><span class="op" id="5582515">)</span><br>
<span class="lineno">190</span><span class="op" id="5582517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5582520">func</span>&nbsp;<span class="op" id="5582525">(</span><span class="ident" id="5582526">c</span>&nbsp;<span class="op" id="5582528">*</span><span class="ident" id="5582529"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5582532">)</span>&nbsp;<span class="ident" id="5582534">stderr</span><span class="op" id="5582540">(</span><span class="op" id="5582541">)</span>&nbsp;<span class="op" id="5582543">(</span><span class="ident" id="5582544">f</span>&nbsp;<span class="op" id="5582546">*</span><span class="ident" id="5582547"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5582549">.</span><span class="ident" id="5582550"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><span class="op" id="5582554">,</span>&nbsp;<span class="ident" id="5582556">err</span>&nbsp;<span class="builtintype" id="5582560">error</span><span class="op" id="5582565">)</span>&nbsp;<span class="op" id="5582567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582570">if</span>&nbsp;<span class="ident" id="5582573"><a href="/gostd/os/exec/exec.go.html#5582526">c</a></span><span class="op" id="5582574">.</span><span class="ident" id="5582575"><a href="/gostd/os/exec/exec.go.html#5579618">Stderr</a></span>&nbsp;<span class="op" id="5582582">!=</span>&nbsp;<span class="builtintype" id="5582585">nil</span>&nbsp;<span class="op" id="5582589">&amp;&amp;</span>&nbsp;<span class="ident" id="5582592"><a href="/gostd/os/exec/exec.go.html#5581561">interfaceEqual</a></span><span class="op" id="5582606">(</span><span class="ident" id="5582607"><a href="/gostd/os/exec/exec.go.html#5582526">c</a></span><span class="op" id="5582608">.</span><span class="ident" id="5582609"><a href="/gostd/os/exec/exec.go.html#5579618">Stderr</a></span><span class="op" id="5582615">,</span>&nbsp;<span class="ident" id="5582617"><a href="/gostd/os/exec/exec.go.html#5582526">c</a></span><span class="op" id="5582618">.</span><span class="ident" id="5582619"><a href="/gostd/os/exec/exec.go.html#5579600">Stdout</a></span><span class="op" id="5582625">)</span>&nbsp;<span class="op" id="5582627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582631">return</span>&nbsp;<span class="ident" id="5582638"><a href="/gostd/os/exec/exec.go.html#5582526">c</a></span><span class="op" id="5582639">.</span><span class="ident" id="5582640"><a href="/gostd/os/exec/exec.go.html#5580469">childFiles</a></span><span class="op" id="5582650">[</span><span class="num" id="5582651">1</span><span class="op" id="5582652">]</span><span class="op" id="5582653">,</span>&nbsp;<span class="builtintype" id="5582655">nil</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5582660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582663">return</span>&nbsp;<span class="ident" id="5582670"><a href="/gostd/os/exec/exec.go.html#5582526">c</a></span><span class="op" id="5582671">.</span><span class="ident" id="5582672"><a href="/gostd/os/exec/exec.go.html#5582716">writerDescriptor</a></span><span class="op" id="5582688">(</span><span class="ident" id="5582689"><a href="/gostd/os/exec/exec.go.html#5582526">c</a></span><span class="op" id="5582690">.</span><span class="ident" id="5582691"><a href="/gostd/os/exec/exec.go.html#5579618">Stderr</a></span><span class="op" id="5582697">)</span><br>
<span class="lineno"></span><span class="op" id="5582699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5582702">func</span>&nbsp;<span class="op" id="5582707">(</span><span class="ident" id="5582708">c</span>&nbsp;<span class="op" id="5582710">*</span><span class="ident" id="5582711"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5582714">)</span>&nbsp;<span class="ident" id="5582716">writerDescriptor</span><span class="op" id="5582732">(</span><span class="ident" id="5582733">w</span>&nbsp;<span class="ident" id="5582735"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5582737">.</span><span class="ident" id="5582738"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="5582744">)</span>&nbsp;<span class="op" id="5582746">(</span><span class="ident" id="5582747">f</span>&nbsp;<span class="op" id="5582749">*</span><span class="ident" id="5582750"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5582752">.</span><span class="ident" id="5582753"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><span class="op" id="5582757">,</span>&nbsp;<span class="ident" id="5582759">err</span>&nbsp;<span class="builtintype" id="5582763">error</span><span class="op" id="5582768">)</span>&nbsp;<span class="op" id="5582770">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582773">if</span>&nbsp;<span class="ident" id="5582776"><a href="/gostd/os/exec/exec.go.html#5582733">w</a></span>&nbsp;<span class="op" id="5582778">==</span>&nbsp;<span class="builtintype" id="5582781">nil</span>&nbsp;<span class="op" id="5582785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5582789"><a href="/gostd/os/exec/exec.go.html#5582747">f</a></span><span class="op" id="5582790">,</span>&nbsp;<span class="ident" id="5582792"><a href="/gostd/os/exec/exec.go.html#5582759">err</a></span>&nbsp;<span class="op" id="5582796">=</span>&nbsp;<span class="ident" id="5582798"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5582800">.</span><span class="ident" id="5582801"><a href="/gostd/os/file_unix.go.html#2454095">OpenFile</a></span><span class="op" id="5582809">(</span><span class="ident" id="5582810"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5582812">.</span><span class="ident" id="5582813"><a href="/gostd/os/file_unix.go.html#2453752">DevNull</a></span><span class="op" id="5582820">,</span>&nbsp;<span class="ident" id="5582822"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5582824">.</span><span class="ident" id="5582825"><a href="/gostd/os/file.go.html#2442115">O_WRONLY</a></span><span class="op" id="5582833">,</span>&nbsp;<span class="num" id="5582835">0</span><span class="op" id="5582836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582840">if</span>&nbsp;<span class="ident" id="5582843"><a href="/gostd/os/exec/exec.go.html#5582759">err</a></span>&nbsp;<span class="op" id="5582847">!=</span>&nbsp;<span class="builtintype" id="5582850">nil</span>&nbsp;<span class="op" id="5582854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582859">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5582868">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5582872"><a href="/gostd/os/exec/exec.go.html#5582708">c</a></span><span class="op" id="5582873">.</span><span class="ident" id="5582874"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span>&nbsp;<span class="op" id="5582890">=</span>&nbsp;<span class="builtinfunc" id="5582892">append</span><span class="op" id="5582898">(</span><span class="ident" id="5582899"><a href="/gostd/os/exec/exec.go.html#5582708">c</a></span><span class="op" id="5582900">.</span><span class="ident" id="5582901"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5582916">,</span>&nbsp;<span class="ident" id="5582918"><a href="/gostd/os/exec/exec.go.html#5582747">f</a></span><span class="op" id="5582919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582923">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5582931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582935">if</span>&nbsp;<span class="ident" id="5582938">f</span><span class="op" id="5582939">,</span>&nbsp;<span class="ident" id="5582941">ok</span>&nbsp;<span class="op" id="5582944">:=</span>&nbsp;<span class="ident" id="5582947"><a href="/gostd/os/exec/exec.go.html#5582733">w</a></span><span class="op" id="5582948">.</span><span class="op" id="5582949">(</span><span class="op" id="5582950">*</span><span class="ident" id="5582951"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5582953">.</span><span class="ident" id="5582954"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><span class="op" id="5582958">)</span><span class="op" id="5582959">;</span>&nbsp;<span class="ident" id="5582961"><a href="/gostd/os/exec/exec.go.html#5582941">ok</a></span>&nbsp;<span class="op" id="5582964">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5582968">return</span>&nbsp;<span class="ident" id="5582975"><a href="/gostd/os/exec/exec.go.html#5582938">f</a></span><span class="op" id="5582976">,</span>&nbsp;<span class="builtintype" id="5582978">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5582983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5582987">pr</span><span class="op" id="5582989">,</span>&nbsp;<span class="ident" id="5582991">pw</span><span class="op" id="5582993">,</span>&nbsp;<span class="ident" id="5582995"><a href="/gostd/os/exec/exec.go.html#5582759">err</a></span>&nbsp;<span class="op" id="5582999">:=</span>&nbsp;<span class="ident" id="5583002"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5583004">.</span><span class="ident" id="5583005"><a href="/gostd/os/pipe_linux.go.html#2467766">Pipe</a></span><span class="op" id="5583009">(</span><span class="op" id="5583010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5583013">if</span>&nbsp;<span class="ident" id="5583016"><a href="/gostd/os/exec/exec.go.html#5582759">err</a></span>&nbsp;<span class="op" id="5583020">!=</span>&nbsp;<span class="builtintype" id="5583023">nil</span>&nbsp;<span class="op" id="5583027">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5583031">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5583039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5583043"><a href="/gostd/os/exec/exec.go.html#5582708">c</a></span><span class="op" id="5583044">.</span><span class="ident" id="5583045"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span>&nbsp;<span class="op" id="5583061">=</span>&nbsp;<span class="builtinfunc" id="5583063">append</span><span class="op" id="5583069">(</span><span class="ident" id="5583070"><a href="/gostd/os/exec/exec.go.html#5582708">c</a></span><span class="op" id="5583071">.</span><span class="ident" id="5583072"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5583087">,</span>&nbsp;<span class="ident" id="5583089"><a href="/gostd/os/exec/exec.go.html#5582991">pw</a></span><span class="op" id="5583091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5583094"><a href="/gostd/os/exec/exec.go.html#5582708">c</a></span><span class="op" id="5583095">.</span><span class="ident" id="5583096"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span>&nbsp;<span class="op" id="5583111">=</span>&nbsp;<span class="builtinfunc" id="5583113">append</span><span class="op" id="5583119">(</span><span class="ident" id="5583120"><a href="/gostd/os/exec/exec.go.html#5582708">c</a></span><span class="op" id="5583121">.</span><span class="ident" id="5583122"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span><span class="op" id="5583136">,</span>&nbsp;<span class="ident" id="5583138"><a href="/gostd/os/exec/exec.go.html#5582987">pr</a></span><span class="op" id="5583140">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5583143"><a href="/gostd/os/exec/exec.go.html#5582708">c</a></span><span class="op" id="5583144">.</span><span class="ident" id="5583145"><a href="/gostd/os/exec/exec.go.html#5580555">goroutine</a></span>&nbsp;<span class="op" id="5583155">=</span>&nbsp;<span class="builtinfunc" id="5583157">append</span><span class="op" id="5583163">(</span><span class="ident" id="5583164"><a href="/gostd/os/exec/exec.go.html#5582708">c</a></span><span class="op" id="5583165">.</span><span class="ident" id="5583166"><a href="/gostd/os/exec/exec.go.html#5580555">goroutine</a></span><span class="op" id="5583175">,</span>&nbsp;<span class="keyword" id="5583177">func</span><span class="op" id="5583181">(</span><span class="op" id="5583182">)</span>&nbsp;<span class="builtintype" id="5583184">error</span>&nbsp;<span class="op" id="5583190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5583194">_</span><span class="op" id="5583195">,</span>&nbsp;<span class="ident" id="5583197">err</span>&nbsp;<span class="op" id="5583201">:=</span>&nbsp;<span class="ident" id="5583204"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5583206">.</span><span class="ident" id="5583207"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="5583211">(</span><span class="ident" id="5583212"><a href="/gostd/os/exec/exec.go.html#5582733">w</a></span><span class="op" id="5583213">,</span>&nbsp;<span class="ident" id="5583215"><a href="/gostd/os/exec/exec.go.html#5582987">pr</a></span><span class="op" id="5583217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5583221">return</span>&nbsp;<span class="ident" id="5583228"><a href="/gostd/os/exec/exec.go.html#5583197">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5583233">}</span><span class="op" id="5583234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5583237">return</span>&nbsp;<span class="ident" id="5583244"><a href="/gostd/os/exec/exec.go.html#5582991">pw</a></span><span class="op" id="5583246">,</span>&nbsp;<span class="builtintype" id="5583248">nil</span><br>
<span class="lineno">225</span><span class="op" id="5583252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5583255">func</span>&nbsp;<span class="op" id="5583260">(</span><span class="ident" id="5583261">c</span>&nbsp;<span class="op" id="5583263">*</span><span class="ident" id="5583264"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5583267">)</span>&nbsp;<span class="ident" id="5583269">closeDescriptors</span><span class="op" id="5583285">(</span><span class="ident" id="5583286">closers</span>&nbsp;<span class="op" id="5583294">[</span><span class="op" id="5583295">]</span><span class="ident" id="5583296"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5583298">.</span><span class="ident" id="5583299"><a href="/gostd/io/io.go.html#1422563">Closer</a></span><span class="op" id="5583305">)</span>&nbsp;<span class="op" id="5583307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5583310">for</span>&nbsp;<span class="ident" id="5583314">_</span><span class="op" id="5583315">,</span>&nbsp;<span class="ident" id="5583317">fd</span>&nbsp;<span class="op" id="5583320">:=</span>&nbsp;<span class="keyword" id="5583323">range</span>&nbsp;<span class="ident" id="5583329"><a href="/gostd/os/exec/exec.go.html#5583286">closers</a></span>&nbsp;<span class="op" id="5583337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5583341"><a href="/gostd/os/exec/exec.go.html#5583317">fd</a></span><span class="op" id="5583343">.</span><span class="ident" id="5583344"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="5583349">(</span><span class="op" id="5583350">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5583353">}</span><br>
<span class="lineno"></span><span class="op" id="5583355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5583358">//&nbsp;Run&nbsp;starts&nbsp;the&nbsp;specified&nbsp;command&nbsp;and&nbsp;waits&nbsp;for&nbsp;it&nbsp;to&nbsp;complete.</span><br>
<span class="lineno"></span><span class="comment" id="5583424">//</span><br>
<span class="lineno">235</span><span class="comment" id="5583427">//&nbsp;The&nbsp;returned&nbsp;error&nbsp;is&nbsp;nil&nbsp;if&nbsp;the&nbsp;command&nbsp;runs,&nbsp;has&nbsp;no&nbsp;problems</span><br>
<span class="lineno"></span><span class="comment" id="5583493">//&nbsp;copying&nbsp;stdin,&nbsp;stdout,&nbsp;and&nbsp;stderr,&nbsp;and&nbsp;exits&nbsp;with&nbsp;a&nbsp;zero&nbsp;exit</span><br>
<span class="lineno"></span><span class="comment" id="5583558">//&nbsp;status.</span><br>
<span class="lineno"></span><span class="comment" id="5583569">//</span><br>
<span class="lineno"></span><span class="comment" id="5583572">//&nbsp;If&nbsp;the&nbsp;command&nbsp;fails&nbsp;to&nbsp;run&nbsp;or&nbsp;doesn&#39;t&nbsp;complete&nbsp;successfully,&nbsp;the</span><br>
<span class="lineno">240</span><span class="comment" id="5583641">//&nbsp;error&nbsp;is&nbsp;of&nbsp;type&nbsp;*ExitError.&nbsp;Other&nbsp;error&nbsp;types&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="5583698">//&nbsp;returned&nbsp;for&nbsp;I/O&nbsp;problems.</span><br>
<span class="lineno"></span><span class="keyword" id="5583728">func</span>&nbsp;<span class="op" id="5583733">(</span><span class="ident" id="5583734">c</span>&nbsp;<span class="op" id="5583736">*</span><span class="ident" id="5583737"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5583740">)</span>&nbsp;<span class="ident" id="5583742">Run</span><span class="op" id="5583745">(</span><span class="op" id="5583746">)</span>&nbsp;<span class="builtintype" id="5583748">error</span>&nbsp;<span class="op" id="5583754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5583757">if</span>&nbsp;<span class="ident" id="5583760">err</span>&nbsp;<span class="op" id="5583764">:=</span>&nbsp;<span class="ident" id="5583767"><a href="/gostd/os/exec/exec.go.html#5583734">c</a></span><span class="op" id="5583768">.</span><span class="ident" id="5583769"><a href="/gostd/os/exec/exec.go.html#5584773">Start</a></span><span class="op" id="5583774">(</span><span class="op" id="5583775">)</span><span class="op" id="5583776">;</span>&nbsp;<span class="ident" id="5583778"><a href="/gostd/os/exec/exec.go.html#5583760">err</a></span>&nbsp;<span class="op" id="5583782">!=</span>&nbsp;<span class="builtintype" id="5583785">nil</span>&nbsp;<span class="op" id="5583789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5583793">return</span>&nbsp;<span class="ident" id="5583800"><a href="/gostd/os/exec/exec.go.html#5583760">err</a></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5583805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5583808">return</span>&nbsp;<span class="ident" id="5583815"><a href="/gostd/os/exec/exec.go.html#5583734">c</a></span><span class="op" id="5583816">.</span><span class="ident" id="5583817"><a href="/gostd/os/exec/exec.go.html#5586661">Wait</a></span><span class="op" id="5583821">(</span><span class="op" id="5583822">)</span><br>
<span class="lineno"></span><span class="op" id="5583824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5583827">//&nbsp;lookExtensions&nbsp;finds&nbsp;windows&nbsp;executable&nbsp;by&nbsp;its&nbsp;dir&nbsp;and&nbsp;path.</span><br>
<span class="lineno">250</span><span class="comment" id="5583891">//&nbsp;It&nbsp;uses&nbsp;LookPath&nbsp;to&nbsp;try&nbsp;appropriate&nbsp;extensions.</span><br>
<span class="lineno"></span><span class="comment" id="5583942">//&nbsp;lookExtensions&nbsp;does&nbsp;not&nbsp;search&nbsp;PATH,&nbsp;instead&nbsp;it&nbsp;converts&nbsp;`prog`&nbsp;into&nbsp;`.\prog`.</span><br>
<span class="lineno"></span><span class="keyword" id="5584024">func</span>&nbsp;<span class="ident" id="5584029">lookExtensions</span><span class="op" id="5584043">(</span><span class="ident" id="5584044">path</span><span class="op" id="5584048">,</span>&nbsp;<span class="ident" id="5584050">dir</span>&nbsp;<span class="builtintype" id="5584054">string</span><span class="op" id="5584060">)</span>&nbsp;<span class="op" id="5584062">(</span><span class="builtintype" id="5584063">string</span><span class="op" id="5584069">,</span>&nbsp;<span class="builtintype" id="5584071">error</span><span class="op" id="5584076">)</span>&nbsp;<span class="op" id="5584078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584081">if</span>&nbsp;<span class="ident" id="5584084"><a href="/gostd/os/exec/exec.go.html#5577633">filepath</a></span><span class="op" id="5584092">.</span><span class="ident" id="5584093"><a href="/gostd/path/filepath/path.go.html#3789969">Base</a></span><span class="op" id="5584097">(</span><span class="ident" id="5584098"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span><span class="op" id="5584102">)</span>&nbsp;<span class="op" id="5584104">==</span>&nbsp;<span class="ident" id="5584107"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span>&nbsp;<span class="op" id="5584112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5584116"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span>&nbsp;<span class="op" id="5584121">=</span>&nbsp;<span class="ident" id="5584123"><a href="/gostd/os/exec/exec.go.html#5577633">filepath</a></span><span class="op" id="5584131">.</span><span class="ident" id="5584132"><a href="/gostd/path/filepath/path.go.html#3783597">Join</a></span><span class="op" id="5584136">(</span><span class="string" id="5584137">&#34;.&#34;</span><span class="op" id="5584140">,</span>&nbsp;<span class="ident" id="5584142"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span><span class="op" id="5584146">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5584149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584152">if</span>&nbsp;<span class="ident" id="5584155"><a href="/gostd/os/exec/exec.go.html#5584050">dir</a></span>&nbsp;<span class="op" id="5584159">==</span>&nbsp;<span class="string" id="5584162">&#34;&#34;</span>&nbsp;<span class="op" id="5584165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584169">return</span>&nbsp;<span class="ident" id="5584176"><a href="/gostd/os/exec/lp_unix.go.html#5591524">LookPath</a></span><span class="op" id="5584184">(</span><span class="ident" id="5584185"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span><span class="op" id="5584189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5584192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584195">if</span>&nbsp;<span class="ident" id="5584198"><a href="/gostd/os/exec/exec.go.html#5577633">filepath</a></span><span class="op" id="5584206">.</span><span class="ident" id="5584207"><a href="/gostd/path/filepath/path.go.html#3791223">VolumeName</a></span><span class="op" id="5584217">(</span><span class="ident" id="5584218"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span><span class="op" id="5584222">)</span>&nbsp;<span class="op" id="5584224">!=</span>&nbsp;<span class="string" id="5584227">&#34;&#34;</span>&nbsp;<span class="op" id="5584230">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584234">return</span>&nbsp;<span class="ident" id="5584241"><a href="/gostd/os/exec/lp_unix.go.html#5591524">LookPath</a></span><span class="op" id="5584249">(</span><span class="ident" id="5584250"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span><span class="op" id="5584254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5584257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584260">if</span>&nbsp;<span class="builtinfunc" id="5584263">len</span><span class="op" id="5584266">(</span><span class="ident" id="5584267"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span><span class="op" id="5584271">)</span>&nbsp;<span class="op" id="5584273">&gt;</span>&nbsp;<span class="num" id="5584275">1</span>&nbsp;<span class="op" id="5584277">&amp;&amp;</span>&nbsp;<span class="ident" id="5584280"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5584282">.</span><span class="ident" id="5584283"><a href="/gostd/os/path_unix.go.html#2467380">IsPathSeparator</a></span><span class="op" id="5584298">(</span><span class="ident" id="5584299"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span><span class="op" id="5584303">[</span><span class="num" id="5584304">0</span><span class="op" id="5584305">]</span><span class="op" id="5584306">)</span>&nbsp;<span class="op" id="5584308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584312">return</span>&nbsp;<span class="ident" id="5584319"><a href="/gostd/os/exec/lp_unix.go.html#5591524">LookPath</a></span><span class="op" id="5584327">(</span><span class="ident" id="5584328"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span><span class="op" id="5584332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5584335">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5584338">dirandpath</span>&nbsp;<span class="op" id="5584349">:=</span>&nbsp;<span class="ident" id="5584352"><a href="/gostd/os/exec/exec.go.html#5577633">filepath</a></span><span class="op" id="5584360">.</span><span class="ident" id="5584361"><a href="/gostd/path/filepath/path.go.html#3783597">Join</a></span><span class="op" id="5584365">(</span><span class="ident" id="5584366"><a href="/gostd/os/exec/exec.go.html#5584050">dir</a></span><span class="op" id="5584369">,</span>&nbsp;<span class="ident" id="5584371"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span><span class="op" id="5584375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5584378">//&nbsp;We&nbsp;assume&nbsp;that&nbsp;LookPath&nbsp;will&nbsp;only&nbsp;add&nbsp;file&nbsp;extension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5584436">lp</span><span class="op" id="5584438">,</span>&nbsp;<span class="ident" id="5584440">err</span>&nbsp;<span class="op" id="5584444">:=</span>&nbsp;<span class="ident" id="5584447"><a href="/gostd/os/exec/lp_unix.go.html#5591524">LookPath</a></span><span class="op" id="5584455">(</span><span class="ident" id="5584456"><a href="/gostd/os/exec/exec.go.html#5584338">dirandpath</a></span><span class="op" id="5584466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584469">if</span>&nbsp;<span class="ident" id="5584472"><a href="/gostd/os/exec/exec.go.html#5584440">err</a></span>&nbsp;<span class="op" id="5584476">!=</span>&nbsp;<span class="builtintype" id="5584479">nil</span>&nbsp;<span class="op" id="5584483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584487">return</span>&nbsp;<span class="string" id="5584494">&#34;&#34;</span><span class="op" id="5584496">,</span>&nbsp;<span class="ident" id="5584498"><a href="/gostd/os/exec/exec.go.html#5584440">err</a></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5584503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5584506">ext</span>&nbsp;<span class="op" id="5584510">:=</span>&nbsp;<span class="ident" id="5584513"><a href="/gostd/os/exec/exec.go.html#5577672">strings</a></span><span class="op" id="5584520">.</span><span class="ident" id="5584521"><a href="/gostd/strings/strings.go.html#2982727">TrimPrefix</a></span><span class="op" id="5584531">(</span><span class="ident" id="5584532"><a href="/gostd/os/exec/exec.go.html#5584436">lp</a></span><span class="op" id="5584534">,</span>&nbsp;<span class="ident" id="5584536"><a href="/gostd/os/exec/exec.go.html#5584338">dirandpath</a></span><span class="op" id="5584546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584549">return</span>&nbsp;<span class="ident" id="5584556"><a href="/gostd/os/exec/exec.go.html#5584044">path</a></span>&nbsp;<span class="op" id="5584561">+</span>&nbsp;<span class="ident" id="5584563"><a href="/gostd/os/exec/exec.go.html#5584506">ext</a></span><span class="op" id="5584566">,</span>&nbsp;<span class="builtintype" id="5584568">nil</span><br>
<span class="lineno"></span><span class="op" id="5584572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span><span class="comment" id="5584575">//&nbsp;Start&nbsp;starts&nbsp;the&nbsp;specified&nbsp;command&nbsp;but&nbsp;does&nbsp;not&nbsp;wait&nbsp;for&nbsp;it&nbsp;to&nbsp;complete.</span><br>
<span class="lineno"></span><span class="comment" id="5584651">//</span><br>
<span class="lineno"></span><span class="comment" id="5584654">//&nbsp;The&nbsp;Wait&nbsp;method&nbsp;will&nbsp;return&nbsp;the&nbsp;exit&nbsp;code&nbsp;and&nbsp;release&nbsp;associated&nbsp;resources</span><br>
<span class="lineno"></span><span class="comment" id="5584732">//&nbsp;once&nbsp;the&nbsp;command&nbsp;exits.</span><br>
<span class="lineno"></span><span class="keyword" id="5584759">func</span>&nbsp;<span class="op" id="5584764">(</span><span class="ident" id="5584765">c</span>&nbsp;<span class="op" id="5584767">*</span><span class="ident" id="5584768"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5584771">)</span>&nbsp;<span class="ident" id="5584773">Start</span><span class="op" id="5584778">(</span><span class="op" id="5584779">)</span>&nbsp;<span class="builtintype" id="5584781">error</span>&nbsp;<span class="op" id="5584787">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584790">if</span>&nbsp;<span class="ident" id="5584793"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5584794">.</span><span class="ident" id="5584795"><a href="/gostd/os/exec/exec.go.html#5580372">lookPathErr</a></span>&nbsp;<span class="op" id="5584807">!=</span>&nbsp;<span class="builtintype" id="5584810">nil</span>&nbsp;<span class="op" id="5584814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5584818"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5584819">.</span><span class="ident" id="5584820"><a href="/gostd/os/exec/exec.go.html#5583269">closeDescriptors</a></span><span class="op" id="5584836">(</span><span class="ident" id="5584837"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5584838">.</span><span class="ident" id="5584839"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5584854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5584858"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5584859">.</span><span class="ident" id="5584860"><a href="/gostd/os/exec/exec.go.html#5583269">closeDescriptors</a></span><span class="op" id="5584876">(</span><span class="ident" id="5584877"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5584878">.</span><span class="ident" id="5584879"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span><span class="op" id="5584893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584897">return</span>&nbsp;<span class="ident" id="5584904"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5584905">.</span><span class="ident" id="5584906"><a href="/gostd/os/exec/exec.go.html#5580372">lookPathErr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5584919">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584922">if</span>&nbsp;<span class="ident" id="5584925"><a href="/gostd/os/exec/exec.go.html#5577650">runtime</a></span><span class="op" id="5584932">.</span><span class="ident" id="5584933"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="5584938">==</span>&nbsp;<span class="string" id="5584941">&#34;windows&#34;</span>&nbsp;<span class="op" id="5584951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5584955">lp</span><span class="op" id="5584957">,</span>&nbsp;<span class="ident" id="5584959">err</span>&nbsp;<span class="op" id="5584963">:=</span>&nbsp;<span class="ident" id="5584966"><a href="/gostd/os/exec/exec.go.html#5584029">lookExtensions</a></span><span class="op" id="5584980">(</span><span class="ident" id="5584981"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5584982">.</span><span class="ident" id="5584983"><a href="/gostd/os/exec/exec.go.html#5578201">Path</a></span><span class="op" id="5584987">,</span>&nbsp;<span class="ident" id="5584989"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5584990">.</span><span class="ident" id="5584991"><a href="/gostd/os/exec/exec.go.html#5578716">Dir</a></span><span class="op" id="5584994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5584998">if</span>&nbsp;<span class="ident" id="5585001"><a href="/gostd/os/exec/exec.go.html#5584959">err</a></span>&nbsp;<span class="op" id="5585005">!=</span>&nbsp;<span class="builtintype" id="5585008">nil</span>&nbsp;<span class="op" id="5585012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585017"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585018">.</span><span class="ident" id="5585019"><a href="/gostd/os/exec/exec.go.html#5583269">closeDescriptors</a></span><span class="op" id="5585035">(</span><span class="ident" id="5585036"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585037">.</span><span class="ident" id="5585038"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5585053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585058"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585059">.</span><span class="ident" id="5585060"><a href="/gostd/os/exec/exec.go.html#5583269">closeDescriptors</a></span><span class="op" id="5585076">(</span><span class="ident" id="5585077"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585078">.</span><span class="ident" id="5585079"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span><span class="op" id="5585093">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585098">return</span>&nbsp;<span class="ident" id="5585105"><a href="/gostd/os/exec/exec.go.html#5584959">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5585111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585115"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585116">.</span><span class="ident" id="5585117"><a href="/gostd/os/exec/exec.go.html#5578201">Path</a></span>&nbsp;<span class="op" id="5585122">=</span>&nbsp;<span class="ident" id="5585124"><a href="/gostd/os/exec/exec.go.html#5584955">lp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5585128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585131">if</span>&nbsp;<span class="ident" id="5585134"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585135">.</span><span class="ident" id="5585136"><a href="/gostd/os/exec/exec.go.html#5580212">Process</a></span>&nbsp;<span class="op" id="5585144">!=</span>&nbsp;<span class="builtintype" id="5585147">nil</span>&nbsp;<span class="op" id="5585151">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585155">return</span>&nbsp;<span class="ident" id="5585162"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5585168">.</span><span class="ident" id="5585169"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5585172">(</span><span class="string" id="5585173">&#34;exec:&nbsp;already&nbsp;started&#34;</span><span class="op" id="5585196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5585199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585203">type</span>&nbsp;<span class="ident" id="5585208">F</span>&nbsp;<span class="keyword" id="5585210">func</span><span class="op" id="5585214">(</span><span class="op" id="5585215">*</span><span class="ident" id="5585216"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5585219">)</span>&nbsp;<span class="op" id="5585221">(</span><span class="op" id="5585222">*</span><span class="ident" id="5585223"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5585225">.</span><span class="ident" id="5585226"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><span class="op" id="5585230">,</span>&nbsp;<span class="builtintype" id="5585232">error</span><span class="op" id="5585237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585240">for</span>&nbsp;<span class="ident" id="5585244">_</span><span class="op" id="5585245">,</span>&nbsp;<span class="ident" id="5585247">setupFd</span>&nbsp;<span class="op" id="5585255">:=</span>&nbsp;<span class="keyword" id="5585258">range</span>&nbsp;<span class="op" id="5585264">[</span><span class="op" id="5585265">]</span><span class="ident" id="5585266"><a href="/gostd/os/exec/exec.go.html#5585208">F</a></span><span class="op" id="5585267">{</span><span class="op" id="5585268">(</span><span class="op" id="5585269">*</span><span class="ident" id="5585270"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5585273">)</span><span class="op" id="5585274">.</span><span class="ident" id="5585275"><a href="/gostd/os/exec/exec.go.html#5581860">stdin</a></span><span class="op" id="5585280">,</span>&nbsp;<span class="op" id="5585282">(</span><span class="op" id="5585283">*</span><span class="ident" id="5585284"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5585287">)</span><span class="op" id="5585288">.</span><span class="ident" id="5585289"><a href="/gostd/os/exec/exec.go.html#5582445">stdout</a></span><span class="op" id="5585295">,</span>&nbsp;<span class="op" id="5585297">(</span><span class="op" id="5585298">*</span><span class="ident" id="5585299"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5585302">)</span><span class="op" id="5585303">.</span><span class="ident" id="5585304"><a href="/gostd/os/exec/exec.go.html#5582534">stderr</a></span><span class="op" id="5585310">}</span>&nbsp;<span class="op" id="5585312">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585316">fd</span><span class="op" id="5585318">,</span>&nbsp;<span class="ident" id="5585320">err</span>&nbsp;<span class="op" id="5585324">:=</span>&nbsp;<span class="ident" id="5585327"><a href="/gostd/os/exec/exec.go.html#5585247">setupFd</a></span><span class="op" id="5585334">(</span><span class="ident" id="5585335"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585340">if</span>&nbsp;<span class="ident" id="5585343"><a href="/gostd/os/exec/exec.go.html#5585320">err</a></span>&nbsp;<span class="op" id="5585347">!=</span>&nbsp;<span class="builtintype" id="5585350">nil</span>&nbsp;<span class="op" id="5585354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585359"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585360">.</span><span class="ident" id="5585361"><a href="/gostd/os/exec/exec.go.html#5583269">closeDescriptors</a></span><span class="op" id="5585377">(</span><span class="ident" id="5585378"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585379">.</span><span class="ident" id="5585380"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5585395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585400"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585401">.</span><span class="ident" id="5585402"><a href="/gostd/os/exec/exec.go.html#5583269">closeDescriptors</a></span><span class="op" id="5585418">(</span><span class="ident" id="5585419"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585420">.</span><span class="ident" id="5585421"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span><span class="op" id="5585435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585440">return</span>&nbsp;<span class="ident" id="5585447"><a href="/gostd/os/exec/exec.go.html#5585320">err</a></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5585453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585457"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585458">.</span><span class="ident" id="5585459"><a href="/gostd/os/exec/exec.go.html#5580469">childFiles</a></span>&nbsp;<span class="op" id="5585470">=</span>&nbsp;<span class="builtinfunc" id="5585472">append</span><span class="op" id="5585478">(</span><span class="ident" id="5585479"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585480">.</span><span class="ident" id="5585481"><a href="/gostd/os/exec/exec.go.html#5580469">childFiles</a></span><span class="op" id="5585491">,</span>&nbsp;<span class="ident" id="5585493"><a href="/gostd/os/exec/exec.go.html#5585316">fd</a></span><span class="op" id="5585495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5585498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585501"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585502">.</span><span class="ident" id="5585503"><a href="/gostd/os/exec/exec.go.html#5580469">childFiles</a></span>&nbsp;<span class="op" id="5585514">=</span>&nbsp;<span class="builtinfunc" id="5585516">append</span><span class="op" id="5585522">(</span><span class="ident" id="5585523"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585524">.</span><span class="ident" id="5585525"><a href="/gostd/os/exec/exec.go.html#5580469">childFiles</a></span><span class="op" id="5585535">,</span>&nbsp;<span class="ident" id="5585537"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585538">.</span><span class="ident" id="5585539"><a href="/gostd/os/exec/exec.go.html#5579961">ExtraFiles</a></span><span class="op" id="5585549">...</span><span class="op" id="5585552">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585556">var</span>&nbsp;<span class="ident" id="5585560">err</span>&nbsp;<span class="builtintype" id="5585564">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585571"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585572">.</span><span class="ident" id="5585573"><a href="/gostd/os/exec/exec.go.html#5580212">Process</a></span><span class="op" id="5585580">,</span>&nbsp;<span class="ident" id="5585582"><a href="/gostd/os/exec/exec.go.html#5585560">err</a></span>&nbsp;<span class="op" id="5585586">=</span>&nbsp;<span class="ident" id="5585588"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5585590">.</span><span class="ident" id="5585591"><a href="/gostd/os/doc.go.html#2423346">StartProcess</a></span><span class="op" id="5585603">(</span><span class="ident" id="5585604"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585605">.</span><span class="ident" id="5585606"><a href="/gostd/os/exec/exec.go.html#5578201">Path</a></span><span class="op" id="5585610">,</span>&nbsp;<span class="ident" id="5585612"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585613">.</span><span class="ident" id="5585614"><a href="/gostd/os/exec/exec.go.html#5581759">argv</a></span><span class="op" id="5585618">(</span><span class="op" id="5585619">)</span><span class="op" id="5585620">,</span>&nbsp;<span class="op" id="5585622">&amp;</span><span class="ident" id="5585623"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5585625">.</span><span class="ident" id="5585626"><a href="/gostd/os/exec.go.html#2434068">ProcAttr</a></span><span class="op" id="5585634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585638"><a href="/gostd/os/exec.go.html#2434182">Dir</a></span><span class="op" id="5585641">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5585645"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585646">.</span><span class="ident" id="5585647"><a href="/gostd/os/exec/exec.go.html#5578716">Dir</a></span><span class="op" id="5585650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585654"><a href="/gostd/os/exec.go.html#2434723">Files</a></span><span class="op" id="5585659">:</span>&nbsp;<span class="ident" id="5585661"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585662">.</span><span class="ident" id="5585663"><a href="/gostd/os/exec/exec.go.html#5580469">childFiles</a></span><span class="op" id="5585673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585677"><a href="/gostd/os/exec.go.html#2434363">Env</a></span><span class="op" id="5585680">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5585684"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585685">.</span><span class="ident" id="5585686"><a href="/gostd/os/exec/exec.go.html#5581666">envv</a></span><span class="op" id="5585690">(</span><span class="op" id="5585691">)</span><span class="op" id="5585692">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585696"><a href="/gostd/os/exec.go.html#2434931">Sys</a></span><span class="op" id="5585699">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5585703"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585704">.</span><span class="ident" id="5585705"><a href="/gostd/os/exec/exec.go.html#5580124">SysProcAttr</a></span><span class="op" id="5585716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5585719">}</span><span class="op" id="5585720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585723">if</span>&nbsp;<span class="ident" id="5585726"><a href="/gostd/os/exec/exec.go.html#5585560">err</a></span>&nbsp;<span class="op" id="5585730">!=</span>&nbsp;<span class="builtintype" id="5585733">nil</span>&nbsp;<span class="op" id="5585737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585741"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585742">.</span><span class="ident" id="5585743"><a href="/gostd/os/exec/exec.go.html#5583269">closeDescriptors</a></span><span class="op" id="5585759">(</span><span class="ident" id="5585760"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585761">.</span><span class="ident" id="5585762"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5585777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585781"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585782">.</span><span class="ident" id="5585783"><a href="/gostd/os/exec/exec.go.html#5583269">closeDescriptors</a></span><span class="op" id="5585799">(</span><span class="ident" id="5585800"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585801">.</span><span class="ident" id="5585802"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span><span class="op" id="5585816">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585820">return</span>&nbsp;<span class="ident" id="5585827"><a href="/gostd/os/exec/exec.go.html#5585560">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5585832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585836"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585837">.</span><span class="ident" id="5585838"><a href="/gostd/os/exec/exec.go.html#5583269">closeDescriptors</a></span><span class="op" id="5585854">(</span><span class="ident" id="5585855"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585856">.</span><span class="ident" id="5585857"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5585872">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585876"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585877">.</span><span class="ident" id="5585878"><a href="/gostd/os/exec/exec.go.html#5580587">errch</a></span>&nbsp;<span class="op" id="5585884">=</span>&nbsp;<span class="builtinfunc" id="5585886">make</span><span class="op" id="5585890">(</span><span class="keyword" id="5585891">chan</span>&nbsp;<span class="builtintype" id="5585896">error</span><span class="op" id="5585901">,</span>&nbsp;<span class="builtinfunc" id="5585903">len</span><span class="op" id="5585906">(</span><span class="ident" id="5585907"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585908">.</span><span class="ident" id="5585909"><a href="/gostd/os/exec/exec.go.html#5580555">goroutine</a></span><span class="op" id="5585918">)</span><span class="op" id="5585919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585922">for</span>&nbsp;<span class="ident" id="5585926">_</span><span class="op" id="5585927">,</span>&nbsp;<span class="ident" id="5585929">fn</span>&nbsp;<span class="op" id="5585932">:=</span>&nbsp;<span class="keyword" id="5585935">range</span>&nbsp;<span class="ident" id="5585941"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585942">.</span><span class="ident" id="5585943"><a href="/gostd/os/exec/exec.go.html#5580555">goroutine</a></span>&nbsp;<span class="op" id="5585953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5585957">go</span>&nbsp;<span class="keyword" id="5585960">func</span><span class="op" id="5585964">(</span><span class="ident" id="5585965">fn</span>&nbsp;<span class="keyword" id="5585968">func</span><span class="op" id="5585972">(</span><span class="op" id="5585973">)</span>&nbsp;<span class="builtintype" id="5585975">error</span><span class="op" id="5585980">)</span>&nbsp;<span class="op" id="5585982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5585987"><a href="/gostd/os/exec/exec.go.html#5584765">c</a></span><span class="op" id="5585988">.</span><span class="ident" id="5585989"><a href="/gostd/os/exec/exec.go.html#5580587">errch</a></span>&nbsp;<span class="op" id="5585995">&lt;-</span>&nbsp;<span class="ident" id="5585998"><a href="/gostd/os/exec/exec.go.html#5585965">fn</a></span><span class="op" id="5586000">(</span><span class="op" id="5586001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5586005">}</span><span class="op" id="5586006">(</span><span class="ident" id="5586007"><a href="/gostd/os/exec/exec.go.html#5585929">fn</a></span><span class="op" id="5586009">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5586012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5586016">return</span>&nbsp;<span class="builtintype" id="5586023">nil</span><br>
<span class="lineno"></span><span class="op" id="5586027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span><span class="comment" id="5586030">//&nbsp;An&nbsp;ExitError&nbsp;reports&nbsp;an&nbsp;unsuccessful&nbsp;exit&nbsp;by&nbsp;a&nbsp;command.</span><br>
<span class="lineno"></span><span class="keyword" id="5586089">type</span>&nbsp;<span class="ident" id="5586094">ExitError</span>&nbsp;<span class="keyword" id="5586104">struct</span>&nbsp;<span class="op" id="5586111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5586114">*</span><span class="ident" id="5586115"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5586117">.</span><span class="ident" id="5586118"><a href="/gostd/os/exec_posix.go.html#2436870">ProcessState</a></span><br>
<span class="lineno"></span><span class="op" id="5586131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span><span class="keyword" id="5586134">func</span>&nbsp;<span class="op" id="5586139">(</span><span class="ident" id="5586140">e</span>&nbsp;<span class="op" id="5586142">*</span><span class="ident" id="5586143"><a href="/gostd/os/exec/exec.go.html#5586094">ExitError</a></span><span class="op" id="5586152">)</span>&nbsp;<span class="ident" id="5586154">Error</span><span class="op" id="5586159">(</span><span class="op" id="5586160">)</span>&nbsp;<span class="builtintype" id="5586162">string</span>&nbsp;<span class="op" id="5586169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5586172">return</span>&nbsp;<span class="ident" id="5586179"><a href="/gostd/os/exec/exec.go.html#5586140">e</a></span><span class="op" id="5586180">.</span><span class="ident" id="5586181"><a href="/gostd/os/exec/exec.go.html#5586114">ProcessState</a></span><span class="op" id="5586193">.</span><span class="ident" id="5586194"><a href="/gostd/os/exec_posix.go.html#2437755">String</a></span><span class="op" id="5586200">(</span><span class="op" id="5586201">)</span><br>
<span class="lineno"></span><span class="op" id="5586203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5586206">//&nbsp;Wait&nbsp;waits&nbsp;for&nbsp;the&nbsp;command&nbsp;to&nbsp;exit.</span><br>
<span class="lineno">345</span><span class="comment" id="5586245">//&nbsp;It&nbsp;must&nbsp;have&nbsp;been&nbsp;started&nbsp;by&nbsp;Start.</span><br>
<span class="lineno"></span><span class="comment" id="5586284">//</span><br>
<span class="lineno"></span><span class="comment" id="5586287">//&nbsp;The&nbsp;returned&nbsp;error&nbsp;is&nbsp;nil&nbsp;if&nbsp;the&nbsp;command&nbsp;runs,&nbsp;has&nbsp;no&nbsp;problems</span><br>
<span class="lineno"></span><span class="comment" id="5586353">//&nbsp;copying&nbsp;stdin,&nbsp;stdout,&nbsp;and&nbsp;stderr,&nbsp;and&nbsp;exits&nbsp;with&nbsp;a&nbsp;zero&nbsp;exit</span><br>
<span class="lineno"></span><span class="comment" id="5586418">//&nbsp;status.</span><br>
<span class="lineno">350</span><span class="comment" id="5586429">//</span><br>
<span class="lineno"></span><span class="comment" id="5586432">//&nbsp;If&nbsp;the&nbsp;command&nbsp;fails&nbsp;to&nbsp;run&nbsp;or&nbsp;doesn&#39;t&nbsp;complete&nbsp;successfully,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5586501">//&nbsp;error&nbsp;is&nbsp;of&nbsp;type&nbsp;*ExitError.&nbsp;Other&nbsp;error&nbsp;types&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="5586558">//&nbsp;returned&nbsp;for&nbsp;I/O&nbsp;problems.</span><br>
<span class="lineno"></span><span class="comment" id="5586588">//</span><br>
<span class="lineno">355</span><span class="comment" id="5586591">//&nbsp;Wait&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Cmd.</span><br>
<span class="lineno"></span><span class="keyword" id="5586647">func</span>&nbsp;<span class="op" id="5586652">(</span><span class="ident" id="5586653">c</span>&nbsp;<span class="op" id="5586655">*</span><span class="ident" id="5586656"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5586659">)</span>&nbsp;<span class="ident" id="5586661">Wait</span><span class="op" id="5586665">(</span><span class="op" id="5586666">)</span>&nbsp;<span class="builtintype" id="5586668">error</span>&nbsp;<span class="op" id="5586674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5586677">if</span>&nbsp;<span class="ident" id="5586680"><a href="/gostd/os/exec/exec.go.html#5586653">c</a></span><span class="op" id="5586681">.</span><span class="ident" id="5586682"><a href="/gostd/os/exec/exec.go.html#5580212">Process</a></span>&nbsp;<span class="op" id="5586690">==</span>&nbsp;<span class="builtintype" id="5586693">nil</span>&nbsp;<span class="op" id="5586697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5586701">return</span>&nbsp;<span class="ident" id="5586708"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5586714">.</span><span class="ident" id="5586715"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5586718">(</span><span class="string" id="5586719">&#34;exec:&nbsp;not&nbsp;started&#34;</span><span class="op" id="5586738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5586741">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5586744">if</span>&nbsp;<span class="ident" id="5586747"><a href="/gostd/os/exec/exec.go.html#5586653">c</a></span><span class="op" id="5586748">.</span><span class="ident" id="5586749"><a href="/gostd/os/exec/exec.go.html#5580422">finished</a></span>&nbsp;<span class="op" id="5586758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5586762">return</span>&nbsp;<span class="ident" id="5586769"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5586775">.</span><span class="ident" id="5586776"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5586779">(</span><span class="string" id="5586780">&#34;exec:&nbsp;Wait&nbsp;was&nbsp;already&nbsp;called&#34;</span><span class="op" id="5586811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5586814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5586817"><a href="/gostd/os/exec/exec.go.html#5586653">c</a></span><span class="op" id="5586818">.</span><span class="ident" id="5586819"><a href="/gostd/os/exec/exec.go.html#5580422">finished</a></span>&nbsp;<span class="op" id="5586828">=</span>&nbsp;<span class="builtintype" id="5586830">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5586836">state</span><span class="op" id="5586841">,</span>&nbsp;<span class="ident" id="5586843">err</span>&nbsp;<span class="op" id="5586847">:=</span>&nbsp;<span class="ident" id="5586850"><a href="/gostd/os/exec/exec.go.html#5586653">c</a></span><span class="op" id="5586851">.</span><span class="ident" id="5586852"><a href="/gostd/os/exec/exec.go.html#5580212">Process</a></span><span class="op" id="5586859">.</span><span class="ident" id="5586860"><a href="/gostd/os/doc.go.html#2424091">Wait</a></span><span class="op" id="5586864">(</span><span class="op" id="5586865">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5586868"><a href="/gostd/os/exec/exec.go.html#5586653">c</a></span><span class="op" id="5586869">.</span><span class="ident" id="5586870"><a href="/gostd/os/exec/exec.go.html#5580340">ProcessState</a></span>&nbsp;<span class="op" id="5586883">=</span>&nbsp;<span class="ident" id="5586885"><a href="/gostd/os/exec/exec.go.html#5586836">state</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5586893">var</span>&nbsp;<span class="ident" id="5586897">copyError</span>&nbsp;<span class="builtintype" id="5586907">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5586914">for</span>&nbsp;<span class="keyword" id="5586918">range</span>&nbsp;<span class="ident" id="5586924"><a href="/gostd/os/exec/exec.go.html#5586653">c</a></span><span class="op" id="5586925">.</span><span class="ident" id="5586926"><a href="/gostd/os/exec/exec.go.html#5580555">goroutine</a></span>&nbsp;<span class="op" id="5586936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5586940">if</span>&nbsp;<span class="ident" id="5586943">err</span>&nbsp;<span class="op" id="5586947">:=</span>&nbsp;<span class="op" id="5586950">&lt;-</span><span class="ident" id="5586952"><a href="/gostd/os/exec/exec.go.html#5586653">c</a></span><span class="op" id="5586953">.</span><span class="ident" id="5586954"><a href="/gostd/os/exec/exec.go.html#5580587">errch</a></span><span class="op" id="5586959">;</span>&nbsp;<span class="ident" id="5586961"><a href="/gostd/os/exec/exec.go.html#5586943">err</a></span>&nbsp;<span class="op" id="5586965">!=</span>&nbsp;<span class="builtintype" id="5586968">nil</span>&nbsp;<span class="op" id="5586972">&amp;&amp;</span>&nbsp;<span class="ident" id="5586975"><a href="/gostd/os/exec/exec.go.html#5586897">copyError</a></span>&nbsp;<span class="op" id="5586985">==</span>&nbsp;<span class="builtintype" id="5586988">nil</span>&nbsp;<span class="op" id="5586992">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5586997"><a href="/gostd/os/exec/exec.go.html#5586897">copyError</a></span>&nbsp;<span class="op" id="5587007">=</span>&nbsp;<span class="ident" id="5587009"><a href="/gostd/os/exec/exec.go.html#5586943">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5587015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5587018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5587022"><a href="/gostd/os/exec/exec.go.html#5586653">c</a></span><span class="op" id="5587023">.</span><span class="ident" id="5587024"><a href="/gostd/os/exec/exec.go.html#5583269">closeDescriptors</a></span><span class="op" id="5587040">(</span><span class="ident" id="5587041"><a href="/gostd/os/exec/exec.go.html#5586653">c</a></span><span class="op" id="5587042">.</span><span class="ident" id="5587043"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span><span class="op" id="5587057">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587061">if</span>&nbsp;<span class="ident" id="5587064"><a href="/gostd/os/exec/exec.go.html#5586843">err</a></span>&nbsp;<span class="op" id="5587068">!=</span>&nbsp;<span class="builtintype" id="5587071">nil</span>&nbsp;<span class="op" id="5587075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587079">return</span>&nbsp;<span class="ident" id="5587086"><a href="/gostd/os/exec/exec.go.html#5586843">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5587091">}</span>&nbsp;<span class="keyword" id="5587093">else</span>&nbsp;<span class="keyword" id="5587098">if</span>&nbsp;<span class="op" id="5587101">!</span><span class="ident" id="5587102"><a href="/gostd/os/exec/exec.go.html#5586836">state</a></span><span class="op" id="5587107">.</span><span class="ident" id="5587108"><a href="/gostd/os/doc.go.html#2424851">Success</a></span><span class="op" id="5587115">(</span><span class="op" id="5587116">)</span>&nbsp;<span class="op" id="5587118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587122">return</span>&nbsp;<span class="op" id="5587129">&amp;</span><span class="ident" id="5587130"><a href="/gostd/os/exec/exec.go.html#5586094">ExitError</a></span><span class="op" id="5587139">{</span><span class="ident" id="5587140"><a href="/gostd/os/exec/exec.go.html#5586836">state</a></span><span class="op" id="5587145">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5587148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587152">return</span>&nbsp;<span class="ident" id="5587159"><a href="/gostd/os/exec/exec.go.html#5586897">copyError</a></span><br>
<span class="lineno"></span><span class="op" id="5587169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span><span class="comment" id="5587172">//&nbsp;Output&nbsp;runs&nbsp;the&nbsp;command&nbsp;and&nbsp;returns&nbsp;its&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="5587232">func</span>&nbsp;<span class="op" id="5587237">(</span><span class="ident" id="5587238">c</span>&nbsp;<span class="op" id="5587240">*</span><span class="ident" id="5587241"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5587244">)</span>&nbsp;<span class="ident" id="5587246">Output</span><span class="op" id="5587252">(</span><span class="op" id="5587253">)</span>&nbsp;<span class="op" id="5587255">(</span><span class="op" id="5587256">[</span><span class="op" id="5587257">]</span><span class="builtintype" id="5587258">byte</span><span class="op" id="5587262">,</span>&nbsp;<span class="builtintype" id="5587264">error</span><span class="op" id="5587269">)</span>&nbsp;<span class="op" id="5587271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587274">if</span>&nbsp;<span class="ident" id="5587277"><a href="/gostd/os/exec/exec.go.html#5587238">c</a></span><span class="op" id="5587278">.</span><span class="ident" id="5587279"><a href="/gostd/os/exec/exec.go.html#5579600">Stdout</a></span>&nbsp;<span class="op" id="5587286">!=</span>&nbsp;<span class="builtintype" id="5587289">nil</span>&nbsp;<span class="op" id="5587293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587297">return</span>&nbsp;<span class="builtintype" id="5587304">nil</span><span class="op" id="5587307">,</span>&nbsp;<span class="ident" id="5587309"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5587315">.</span><span class="ident" id="5587316"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5587319">(</span><span class="string" id="5587320">&#34;exec:&nbsp;Stdout&nbsp;already&nbsp;set&#34;</span><span class="op" id="5587346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5587349">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587352">var</span>&nbsp;<span class="ident" id="5587356">b</span>&nbsp;<span class="ident" id="5587358"><a href="/gostd/os/exec/exec.go.html#5577602">bytes</a></span><span class="op" id="5587363">.</span><span class="ident" id="5587364"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5587372"><a href="/gostd/os/exec/exec.go.html#5587238">c</a></span><span class="op" id="5587373">.</span><span class="ident" id="5587374"><a href="/gostd/os/exec/exec.go.html#5579600">Stdout</a></span>&nbsp;<span class="op" id="5587381">=</span>&nbsp;<span class="op" id="5587383">&amp;</span><span class="ident" id="5587384"><a href="/gostd/os/exec/exec.go.html#5587356">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5587387">err</span>&nbsp;<span class="op" id="5587391">:=</span>&nbsp;<span class="ident" id="5587394"><a href="/gostd/os/exec/exec.go.html#5587238">c</a></span><span class="op" id="5587395">.</span><span class="ident" id="5587396"><a href="/gostd/os/exec/exec.go.html#5583742">Run</a></span><span class="op" id="5587399">(</span><span class="op" id="5587400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587403">return</span>&nbsp;<span class="ident" id="5587410"><a href="/gostd/os/exec/exec.go.html#5587356">b</a></span><span class="op" id="5587411">.</span><span class="ident" id="5587412"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="5587417">(</span><span class="op" id="5587418">)</span><span class="op" id="5587419">,</span>&nbsp;<span class="ident" id="5587421"><a href="/gostd/os/exec/exec.go.html#5587387">err</a></span><br>
<span class="lineno"></span><span class="op" id="5587425">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span><span class="comment" id="5587428">//&nbsp;CombinedOutput&nbsp;runs&nbsp;the&nbsp;command&nbsp;and&nbsp;returns&nbsp;its&nbsp;combined&nbsp;standard</span><br>
<span class="lineno"></span><span class="comment" id="5587497">//&nbsp;output&nbsp;and&nbsp;standard&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="5587527">func</span>&nbsp;<span class="op" id="5587532">(</span><span class="ident" id="5587533">c</span>&nbsp;<span class="op" id="5587535">*</span><span class="ident" id="5587536"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5587539">)</span>&nbsp;<span class="ident" id="5587541">CombinedOutput</span><span class="op" id="5587555">(</span><span class="op" id="5587556">)</span>&nbsp;<span class="op" id="5587558">(</span><span class="op" id="5587559">[</span><span class="op" id="5587560">]</span><span class="builtintype" id="5587561">byte</span><span class="op" id="5587565">,</span>&nbsp;<span class="builtintype" id="5587567">error</span><span class="op" id="5587572">)</span>&nbsp;<span class="op" id="5587574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587577">if</span>&nbsp;<span class="ident" id="5587580"><a href="/gostd/os/exec/exec.go.html#5587533">c</a></span><span class="op" id="5587581">.</span><span class="ident" id="5587582"><a href="/gostd/os/exec/exec.go.html#5579600">Stdout</a></span>&nbsp;<span class="op" id="5587589">!=</span>&nbsp;<span class="builtintype" id="5587592">nil</span>&nbsp;<span class="op" id="5587596">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587600">return</span>&nbsp;<span class="builtintype" id="5587607">nil</span><span class="op" id="5587610">,</span>&nbsp;<span class="ident" id="5587612"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5587618">.</span><span class="ident" id="5587619"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5587622">(</span><span class="string" id="5587623">&#34;exec:&nbsp;Stdout&nbsp;already&nbsp;set&#34;</span><span class="op" id="5587649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5587652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587655">if</span>&nbsp;<span class="ident" id="5587658"><a href="/gostd/os/exec/exec.go.html#5587533">c</a></span><span class="op" id="5587659">.</span><span class="ident" id="5587660"><a href="/gostd/os/exec/exec.go.html#5579618">Stderr</a></span>&nbsp;<span class="op" id="5587667">!=</span>&nbsp;<span class="builtintype" id="5587670">nil</span>&nbsp;<span class="op" id="5587674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587678">return</span>&nbsp;<span class="builtintype" id="5587685">nil</span><span class="op" id="5587688">,</span>&nbsp;<span class="ident" id="5587690"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5587696">.</span><span class="ident" id="5587697"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5587700">(</span><span class="string" id="5587701">&#34;exec:&nbsp;Stderr&nbsp;already&nbsp;set&#34;</span><span class="op" id="5587727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5587730">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587733">var</span>&nbsp;<span class="ident" id="5587737">b</span>&nbsp;<span class="ident" id="5587739"><a href="/gostd/os/exec/exec.go.html#5577602">bytes</a></span><span class="op" id="5587744">.</span><span class="ident" id="5587745"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5587753"><a href="/gostd/os/exec/exec.go.html#5587533">c</a></span><span class="op" id="5587754">.</span><span class="ident" id="5587755"><a href="/gostd/os/exec/exec.go.html#5579600">Stdout</a></span>&nbsp;<span class="op" id="5587762">=</span>&nbsp;<span class="op" id="5587764">&amp;</span><span class="ident" id="5587765"><a href="/gostd/os/exec/exec.go.html#5587737">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5587768"><a href="/gostd/os/exec/exec.go.html#5587533">c</a></span><span class="op" id="5587769">.</span><span class="ident" id="5587770"><a href="/gostd/os/exec/exec.go.html#5579618">Stderr</a></span>&nbsp;<span class="op" id="5587777">=</span>&nbsp;<span class="op" id="5587779">&amp;</span><span class="ident" id="5587780"><a href="/gostd/os/exec/exec.go.html#5587737">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5587783">err</span>&nbsp;<span class="op" id="5587787">:=</span>&nbsp;<span class="ident" id="5587790"><a href="/gostd/os/exec/exec.go.html#5587533">c</a></span><span class="op" id="5587791">.</span><span class="ident" id="5587792"><a href="/gostd/os/exec/exec.go.html#5583742">Run</a></span><span class="op" id="5587795">(</span><span class="op" id="5587796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5587799">return</span>&nbsp;<span class="ident" id="5587806"><a href="/gostd/os/exec/exec.go.html#5587737">b</a></span><span class="op" id="5587807">.</span><span class="ident" id="5587808"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="5587813">(</span><span class="op" id="5587814">)</span><span class="op" id="5587815">,</span>&nbsp;<span class="ident" id="5587817"><a href="/gostd/os/exec/exec.go.html#5587783">err</a></span><br>
<span class="lineno">410</span><span class="op" id="5587821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5587824">//&nbsp;StdinPipe&nbsp;returns&nbsp;a&nbsp;pipe&nbsp;that&nbsp;will&nbsp;be&nbsp;connected&nbsp;to&nbsp;the&nbsp;command&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="5587892">//&nbsp;standard&nbsp;input&nbsp;when&nbsp;the&nbsp;command&nbsp;starts.</span><br>
<span class="lineno"></span><span class="comment" id="5587935">//&nbsp;The&nbsp;pipe&nbsp;will&nbsp;be&nbsp;closed&nbsp;automatically&nbsp;after&nbsp;Wait&nbsp;sees&nbsp;the&nbsp;command&nbsp;exit.</span><br>
<span class="lineno">415</span><span class="comment" id="5588010">//&nbsp;A&nbsp;caller&nbsp;need&nbsp;only&nbsp;call&nbsp;Close&nbsp;to&nbsp;force&nbsp;the&nbsp;pipe&nbsp;to&nbsp;close&nbsp;sooner.</span><br>
<span class="lineno"></span><span class="comment" id="5588078">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;the&nbsp;command&nbsp;being&nbsp;run&nbsp;will&nbsp;not&nbsp;exit&nbsp;until&nbsp;standard&nbsp;input</span><br>
<span class="lineno"></span><span class="comment" id="5588154">//&nbsp;is&nbsp;closed,&nbsp;the&nbsp;caller&nbsp;must&nbsp;close&nbsp;the&nbsp;pipe.</span><br>
<span class="lineno"></span><span class="keyword" id="5588200">func</span>&nbsp;<span class="op" id="5588205">(</span><span class="ident" id="5588206">c</span>&nbsp;<span class="op" id="5588208">*</span><span class="ident" id="5588209"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5588212">)</span>&nbsp;<span class="ident" id="5588214">StdinPipe</span><span class="op" id="5588223">(</span><span class="op" id="5588224">)</span>&nbsp;<span class="op" id="5588226">(</span><span class="ident" id="5588227"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5588229">.</span><span class="ident" id="5588230"><a href="/gostd/io/io.go.html#1423540">WriteCloser</a></span><span class="op" id="5588241">,</span>&nbsp;<span class="builtintype" id="5588243">error</span><span class="op" id="5588248">)</span>&nbsp;<span class="op" id="5588250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5588253">if</span>&nbsp;<span class="ident" id="5588256"><a href="/gostd/os/exec/exec.go.html#5588206">c</a></span><span class="op" id="5588257">.</span><span class="ident" id="5588258"><a href="/gostd/os/exec/exec.go.html#5579298">Stdin</a></span>&nbsp;<span class="op" id="5588264">!=</span>&nbsp;<span class="builtintype" id="5588267">nil</span>&nbsp;<span class="op" id="5588271">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5588275">return</span>&nbsp;<span class="builtintype" id="5588282">nil</span><span class="op" id="5588285">,</span>&nbsp;<span class="ident" id="5588287"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5588293">.</span><span class="ident" id="5588294"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5588297">(</span><span class="string" id="5588298">&#34;exec:&nbsp;Stdin&nbsp;already&nbsp;set&#34;</span><span class="op" id="5588323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5588326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5588329">if</span>&nbsp;<span class="ident" id="5588332"><a href="/gostd/os/exec/exec.go.html#5588206">c</a></span><span class="op" id="5588333">.</span><span class="ident" id="5588334"><a href="/gostd/os/exec/exec.go.html#5580212">Process</a></span>&nbsp;<span class="op" id="5588342">!=</span>&nbsp;<span class="builtintype" id="5588345">nil</span>&nbsp;<span class="op" id="5588349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5588353">return</span>&nbsp;<span class="builtintype" id="5588360">nil</span><span class="op" id="5588363">,</span>&nbsp;<span class="ident" id="5588365"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5588371">.</span><span class="ident" id="5588372"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5588375">(</span><span class="string" id="5588376">&#34;exec:&nbsp;StdinPipe&nbsp;after&nbsp;process&nbsp;started&#34;</span><span class="op" id="5588415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5588418">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5588421">pr</span><span class="op" id="5588423">,</span>&nbsp;<span class="ident" id="5588425">pw</span><span class="op" id="5588427">,</span>&nbsp;<span class="ident" id="5588429">err</span>&nbsp;<span class="op" id="5588433">:=</span>&nbsp;<span class="ident" id="5588436"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5588438">.</span><span class="ident" id="5588439"><a href="/gostd/os/pipe_linux.go.html#2467766">Pipe</a></span><span class="op" id="5588443">(</span><span class="op" id="5588444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5588447">if</span>&nbsp;<span class="ident" id="5588450"><a href="/gostd/os/exec/exec.go.html#5588429">err</a></span>&nbsp;<span class="op" id="5588454">!=</span>&nbsp;<span class="builtintype" id="5588457">nil</span>&nbsp;<span class="op" id="5588461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5588465">return</span>&nbsp;<span class="builtintype" id="5588472">nil</span><span class="op" id="5588475">,</span>&nbsp;<span class="ident" id="5588477"><a href="/gostd/os/exec/exec.go.html#5588429">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5588482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5588485"><a href="/gostd/os/exec/exec.go.html#5588206">c</a></span><span class="op" id="5588486">.</span><span class="ident" id="5588487"><a href="/gostd/os/exec/exec.go.html#5579298">Stdin</a></span>&nbsp;<span class="op" id="5588493">=</span>&nbsp;<span class="ident" id="5588495"><a href="/gostd/os/exec/exec.go.html#5588421">pr</a></span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5588499"><a href="/gostd/os/exec/exec.go.html#5588206">c</a></span><span class="op" id="5588500">.</span><span class="ident" id="5588501"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span>&nbsp;<span class="op" id="5588517">=</span>&nbsp;<span class="builtinfunc" id="5588519">append</span><span class="op" id="5588525">(</span><span class="ident" id="5588526"><a href="/gostd/os/exec/exec.go.html#5588206">c</a></span><span class="op" id="5588527">.</span><span class="ident" id="5588528"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5588543">,</span>&nbsp;<span class="ident" id="5588545"><a href="/gostd/os/exec/exec.go.html#5588421">pr</a></span><span class="op" id="5588547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5588550">wc</span>&nbsp;<span class="op" id="5588553">:=</span>&nbsp;<span class="op" id="5588556">&amp;</span><span class="ident" id="5588557"><a href="/gostd/os/exec/exec.go.html#5588650">closeOnce</a></span><span class="op" id="5588566">{</span><span class="ident" id="5588567"><a href="/gostd/os/exec/exec.go.html#5588670">File</a></span><span class="op" id="5588571">:</span>&nbsp;<span class="ident" id="5588573"><a href="/gostd/os/exec/exec.go.html#5588425">pw</a></span><span class="op" id="5588575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5588578"><a href="/gostd/os/exec/exec.go.html#5588206">c</a></span><span class="op" id="5588579">.</span><span class="ident" id="5588580"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span>&nbsp;<span class="op" id="5588595">=</span>&nbsp;<span class="builtinfunc" id="5588597">append</span><span class="op" id="5588603">(</span><span class="ident" id="5588604"><a href="/gostd/os/exec/exec.go.html#5588206">c</a></span><span class="op" id="5588605">.</span><span class="ident" id="5588606"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span><span class="op" id="5588620">,</span>&nbsp;<span class="ident" id="5588622"><a href="/gostd/os/exec/exec.go.html#5588550">wc</a></span><span class="op" id="5588624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5588627">return</span>&nbsp;<span class="ident" id="5588634"><a href="/gostd/os/exec/exec.go.html#5588550">wc</a></span><span class="op" id="5588636">,</span>&nbsp;<span class="builtintype" id="5588638">nil</span><br>
<span class="lineno"></span><span class="op" id="5588642">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="keyword" id="5588645">type</span>&nbsp;<span class="ident" id="5588650">closeOnce</span>&nbsp;<span class="keyword" id="5588660">struct</span>&nbsp;<span class="op" id="5588667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5588670">*</span><span class="ident" id="5588671"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5588673">.</span><span class="ident" id="5588674"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5588681">once</span>&nbsp;<span class="ident" id="5588686"><a href="/gostd/os/exec/exec.go.html#5577683">sync</a></span><span class="op" id="5588690">.</span><span class="ident" id="5588691"><a href="/gostd/sync/once.go.html#1446221">Once</a></span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5588697">err</span>&nbsp;&nbsp;<span class="builtintype" id="5588702">error</span><br>
<span class="lineno"></span><span class="op" id="5588708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5588711">func</span>&nbsp;<span class="op" id="5588716">(</span><span class="ident" id="5588717">c</span>&nbsp;<span class="op" id="5588719">*</span><span class="ident" id="5588720"><a href="/gostd/os/exec/exec.go.html#5588650">closeOnce</a></span><span class="op" id="5588729">)</span>&nbsp;<span class="ident" id="5588731">Close</span><span class="op" id="5588736">(</span><span class="op" id="5588737">)</span>&nbsp;<span class="builtintype" id="5588739">error</span>&nbsp;<span class="op" id="5588745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5588748"><a href="/gostd/os/exec/exec.go.html#5588717">c</a></span><span class="op" id="5588749">.</span><span class="ident" id="5588750"><a href="/gostd/os/exec/exec.go.html#5588681">once</a></span><span class="op" id="5588754">.</span><span class="ident" id="5588755"><a href="/gostd/sync/once.go.html#1447110">Do</a></span><span class="op" id="5588757">(</span><span class="ident" id="5588758"><a href="/gostd/os/exec/exec.go.html#5588717">c</a></span><span class="op" id="5588759">.</span><span class="builtinfunc" id="5588760"><a href="/gostd/os/exec/exec.go.html#5588804">close</a></span><span class="op" id="5588765">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5588768">return</span>&nbsp;<span class="ident" id="5588775"><a href="/gostd/os/exec/exec.go.html#5588717">c</a></span><span class="op" id="5588776">.</span><span class="ident" id="5588777"><a href="/gostd/os/exec/exec.go.html#5588697">err</a></span><br>
<span class="lineno"></span><span class="op" id="5588781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5588784">func</span>&nbsp;<span class="op" id="5588789">(</span><span class="ident" id="5588790">c</span>&nbsp;<span class="op" id="5588792">*</span><span class="ident" id="5588793"><a href="/gostd/os/exec/exec.go.html#5588650">closeOnce</a></span><span class="op" id="5588802">)</span>&nbsp;<span class="builtinfunc" id="5588804">close</span><span class="op" id="5588809">(</span><span class="op" id="5588810">)</span>&nbsp;<span class="op" id="5588812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5588815"><a href="/gostd/os/exec/exec.go.html#5588790">c</a></span><span class="op" id="5588816">.</span><span class="ident" id="5588817"><a href="/gostd/os/exec/exec.go.html#5588697">err</a></span>&nbsp;<span class="op" id="5588821">=</span>&nbsp;<span class="ident" id="5588823"><a href="/gostd/os/exec/exec.go.html#5588790">c</a></span><span class="op" id="5588824">.</span><span class="ident" id="5588825"><a href="/gostd/os/exec/exec.go.html#5588670">File</a></span><span class="op" id="5588829">.</span><span class="ident" id="5588830"><a href="/gostd/os/file_unix.go.html#2454611">Close</a></span><span class="op" id="5588835">(</span><span class="op" id="5588836">)</span><br>
<span class="lineno">450</span><span class="op" id="5588838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5588841">//&nbsp;StdoutPipe&nbsp;returns&nbsp;a&nbsp;pipe&nbsp;that&nbsp;will&nbsp;be&nbsp;connected&nbsp;to&nbsp;the&nbsp;command&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="5588910">//&nbsp;standard&nbsp;output&nbsp;when&nbsp;the&nbsp;command&nbsp;starts.</span><br>
<span class="lineno"></span><span class="comment" id="5588954">//</span><br>
<span class="lineno">455</span><span class="comment" id="5588957">//&nbsp;Wait&nbsp;will&nbsp;close&nbsp;the&nbsp;pipe&nbsp;after&nbsp;seeing&nbsp;the&nbsp;command&nbsp;exit,&nbsp;so&nbsp;most&nbsp;callers</span><br>
<span class="lineno"></span><span class="comment" id="5589032">//&nbsp;need&nbsp;not&nbsp;close&nbsp;the&nbsp;pipe&nbsp;themselves;&nbsp;however,&nbsp;an&nbsp;implication&nbsp;is&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="5589103">//&nbsp;it&nbsp;is&nbsp;incorrect&nbsp;to&nbsp;call&nbsp;Wait&nbsp;before&nbsp;all&nbsp;reads&nbsp;from&nbsp;the&nbsp;pipe&nbsp;have&nbsp;completed.</span><br>
<span class="lineno"></span><span class="comment" id="5589182">//&nbsp;For&nbsp;the&nbsp;same&nbsp;reason,&nbsp;it&nbsp;is&nbsp;incorrect&nbsp;to&nbsp;call&nbsp;Run&nbsp;when&nbsp;using&nbsp;StdoutPipe.</span><br>
<span class="lineno"></span><span class="comment" id="5589257">//&nbsp;See&nbsp;the&nbsp;example&nbsp;for&nbsp;idiomatic&nbsp;usage.</span><br>
<span class="lineno">460</span><span class="keyword" id="5589297">func</span>&nbsp;<span class="op" id="5589302">(</span><span class="ident" id="5589303">c</span>&nbsp;<span class="op" id="5589305">*</span><span class="ident" id="5589306"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5589309">)</span>&nbsp;<span class="ident" id="5589311">StdoutPipe</span><span class="op" id="5589321">(</span><span class="op" id="5589322">)</span>&nbsp;<span class="op" id="5589324">(</span><span class="ident" id="5589325"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5589327">.</span><span class="ident" id="5589328"><a href="/gostd/io/io.go.html#1423414">ReadCloser</a></span><span class="op" id="5589338">,</span>&nbsp;<span class="builtintype" id="5589340">error</span><span class="op" id="5589345">)</span>&nbsp;<span class="op" id="5589347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5589350">if</span>&nbsp;<span class="ident" id="5589353"><a href="/gostd/os/exec/exec.go.html#5589303">c</a></span><span class="op" id="5589354">.</span><span class="ident" id="5589355"><a href="/gostd/os/exec/exec.go.html#5579600">Stdout</a></span>&nbsp;<span class="op" id="5589362">!=</span>&nbsp;<span class="builtintype" id="5589365">nil</span>&nbsp;<span class="op" id="5589369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5589373">return</span>&nbsp;<span class="builtintype" id="5589380">nil</span><span class="op" id="5589383">,</span>&nbsp;<span class="ident" id="5589385"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5589391">.</span><span class="ident" id="5589392"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5589395">(</span><span class="string" id="5589396">&#34;exec:&nbsp;Stdout&nbsp;already&nbsp;set&#34;</span><span class="op" id="5589422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5589425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5589428">if</span>&nbsp;<span class="ident" id="5589431"><a href="/gostd/os/exec/exec.go.html#5589303">c</a></span><span class="op" id="5589432">.</span><span class="ident" id="5589433"><a href="/gostd/os/exec/exec.go.html#5580212">Process</a></span>&nbsp;<span class="op" id="5589441">!=</span>&nbsp;<span class="builtintype" id="5589444">nil</span>&nbsp;<span class="op" id="5589448">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5589452">return</span>&nbsp;<span class="builtintype" id="5589459">nil</span><span class="op" id="5589462">,</span>&nbsp;<span class="ident" id="5589464"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5589470">.</span><span class="ident" id="5589471"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5589474">(</span><span class="string" id="5589475">&#34;exec:&nbsp;StdoutPipe&nbsp;after&nbsp;process&nbsp;started&#34;</span><span class="op" id="5589515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5589518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5589521">pr</span><span class="op" id="5589523">,</span>&nbsp;<span class="ident" id="5589525">pw</span><span class="op" id="5589527">,</span>&nbsp;<span class="ident" id="5589529">err</span>&nbsp;<span class="op" id="5589533">:=</span>&nbsp;<span class="ident" id="5589536"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5589538">.</span><span class="ident" id="5589539"><a href="/gostd/os/pipe_linux.go.html#2467766">Pipe</a></span><span class="op" id="5589543">(</span><span class="op" id="5589544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5589547">if</span>&nbsp;<span class="ident" id="5589550"><a href="/gostd/os/exec/exec.go.html#5589529">err</a></span>&nbsp;<span class="op" id="5589554">!=</span>&nbsp;<span class="builtintype" id="5589557">nil</span>&nbsp;<span class="op" id="5589561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5589565">return</span>&nbsp;<span class="builtintype" id="5589572">nil</span><span class="op" id="5589575">,</span>&nbsp;<span class="ident" id="5589577"><a href="/gostd/os/exec/exec.go.html#5589529">err</a></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5589582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5589585"><a href="/gostd/os/exec/exec.go.html#5589303">c</a></span><span class="op" id="5589586">.</span><span class="ident" id="5589587"><a href="/gostd/os/exec/exec.go.html#5579600">Stdout</a></span>&nbsp;<span class="op" id="5589594">=</span>&nbsp;<span class="ident" id="5589596"><a href="/gostd/os/exec/exec.go.html#5589525">pw</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5589600"><a href="/gostd/os/exec/exec.go.html#5589303">c</a></span><span class="op" id="5589601">.</span><span class="ident" id="5589602"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span>&nbsp;<span class="op" id="5589618">=</span>&nbsp;<span class="builtinfunc" id="5589620">append</span><span class="op" id="5589626">(</span><span class="ident" id="5589627"><a href="/gostd/os/exec/exec.go.html#5589303">c</a></span><span class="op" id="5589628">.</span><span class="ident" id="5589629"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5589644">,</span>&nbsp;<span class="ident" id="5589646"><a href="/gostd/os/exec/exec.go.html#5589525">pw</a></span><span class="op" id="5589648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5589651"><a href="/gostd/os/exec/exec.go.html#5589303">c</a></span><span class="op" id="5589652">.</span><span class="ident" id="5589653"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span>&nbsp;<span class="op" id="5589668">=</span>&nbsp;<span class="builtinfunc" id="5589670">append</span><span class="op" id="5589676">(</span><span class="ident" id="5589677"><a href="/gostd/os/exec/exec.go.html#5589303">c</a></span><span class="op" id="5589678">.</span><span class="ident" id="5589679"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span><span class="op" id="5589693">,</span>&nbsp;<span class="ident" id="5589695"><a href="/gostd/os/exec/exec.go.html#5589521">pr</a></span><span class="op" id="5589697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5589700">return</span>&nbsp;<span class="ident" id="5589707"><a href="/gostd/os/exec/exec.go.html#5589521">pr</a></span><span class="op" id="5589709">,</span>&nbsp;<span class="builtintype" id="5589711">nil</span><br>
<span class="lineno">475</span><span class="op" id="5589715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5589718">//&nbsp;StderrPipe&nbsp;returns&nbsp;a&nbsp;pipe&nbsp;that&nbsp;will&nbsp;be&nbsp;connected&nbsp;to&nbsp;the&nbsp;command&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="5589787">//&nbsp;standard&nbsp;error&nbsp;when&nbsp;the&nbsp;command&nbsp;starts.</span><br>
<span class="lineno"></span><span class="comment" id="5589830">//</span><br>
<span class="lineno">480</span><span class="comment" id="5589833">//&nbsp;Wait&nbsp;will&nbsp;close&nbsp;the&nbsp;pipe&nbsp;after&nbsp;seeing&nbsp;the&nbsp;command&nbsp;exit,&nbsp;so&nbsp;most&nbsp;callers</span><br>
<span class="lineno"></span><span class="comment" id="5589908">//&nbsp;need&nbsp;not&nbsp;close&nbsp;the&nbsp;pipe&nbsp;themselves;&nbsp;however,&nbsp;an&nbsp;implication&nbsp;is&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="5589979">//&nbsp;it&nbsp;is&nbsp;incorrect&nbsp;to&nbsp;call&nbsp;Wait&nbsp;before&nbsp;all&nbsp;reads&nbsp;from&nbsp;the&nbsp;pipe&nbsp;have&nbsp;completed.</span><br>
<span class="lineno"></span><span class="comment" id="5590058">//&nbsp;For&nbsp;the&nbsp;same&nbsp;reason,&nbsp;it&nbsp;is&nbsp;incorrect&nbsp;to&nbsp;use&nbsp;Run&nbsp;when&nbsp;using&nbsp;StderrPipe.</span><br>
<span class="lineno"></span><span class="comment" id="5590132">//&nbsp;See&nbsp;the&nbsp;StdoutPipe&nbsp;example&nbsp;for&nbsp;idiomatic&nbsp;usage.</span><br>
<span class="lineno">485</span><span class="keyword" id="5590183">func</span>&nbsp;<span class="op" id="5590188">(</span><span class="ident" id="5590189">c</span>&nbsp;<span class="op" id="5590191">*</span><span class="ident" id="5590192"><a href="/gostd/os/exec/exec.go.html#5578012">Cmd</a></span><span class="op" id="5590195">)</span>&nbsp;<span class="ident" id="5590197">StderrPipe</span><span class="op" id="5590207">(</span><span class="op" id="5590208">)</span>&nbsp;<span class="op" id="5590210">(</span><span class="ident" id="5590211"><a href="/gostd/os/exec/exec.go.html#5577621">io</a></span><span class="op" id="5590213">.</span><span class="ident" id="5590214"><a href="/gostd/io/io.go.html#1423414">ReadCloser</a></span><span class="op" id="5590224">,</span>&nbsp;<span class="builtintype" id="5590226">error</span><span class="op" id="5590231">)</span>&nbsp;<span class="op" id="5590233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5590236">if</span>&nbsp;<span class="ident" id="5590239"><a href="/gostd/os/exec/exec.go.html#5590189">c</a></span><span class="op" id="5590240">.</span><span class="ident" id="5590241"><a href="/gostd/os/exec/exec.go.html#5579618">Stderr</a></span>&nbsp;<span class="op" id="5590248">!=</span>&nbsp;<span class="builtintype" id="5590251">nil</span>&nbsp;<span class="op" id="5590255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5590259">return</span>&nbsp;<span class="builtintype" id="5590266">nil</span><span class="op" id="5590269">,</span>&nbsp;<span class="ident" id="5590271"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5590277">.</span><span class="ident" id="5590278"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5590281">(</span><span class="string" id="5590282">&#34;exec:&nbsp;Stderr&nbsp;already&nbsp;set&#34;</span><span class="op" id="5590308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5590311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5590314">if</span>&nbsp;<span class="ident" id="5590317"><a href="/gostd/os/exec/exec.go.html#5590189">c</a></span><span class="op" id="5590318">.</span><span class="ident" id="5590319"><a href="/gostd/os/exec/exec.go.html#5580212">Process</a></span>&nbsp;<span class="op" id="5590327">!=</span>&nbsp;<span class="builtintype" id="5590330">nil</span>&nbsp;<span class="op" id="5590334">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5590338">return</span>&nbsp;<span class="builtintype" id="5590345">nil</span><span class="op" id="5590348">,</span>&nbsp;<span class="ident" id="5590350"><a href="/gostd/os/exec/exec.go.html#5577611">errors</a></span><span class="op" id="5590356">.</span><span class="ident" id="5590357"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5590360">(</span><span class="string" id="5590361">&#34;exec:&nbsp;StderrPipe&nbsp;after&nbsp;process&nbsp;started&#34;</span><span class="op" id="5590401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5590404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5590407">pr</span><span class="op" id="5590409">,</span>&nbsp;<span class="ident" id="5590411">pw</span><span class="op" id="5590413">,</span>&nbsp;<span class="ident" id="5590415">err</span>&nbsp;<span class="op" id="5590419">:=</span>&nbsp;<span class="ident" id="5590422"><a href="/gostd/os/exec/exec.go.html#5577627">os</a></span><span class="op" id="5590424">.</span><span class="ident" id="5590425"><a href="/gostd/os/pipe_linux.go.html#2467766">Pipe</a></span><span class="op" id="5590429">(</span><span class="op" id="5590430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5590433">if</span>&nbsp;<span class="ident" id="5590436"><a href="/gostd/os/exec/exec.go.html#5590415">err</a></span>&nbsp;<span class="op" id="5590440">!=</span>&nbsp;<span class="builtintype" id="5590443">nil</span>&nbsp;<span class="op" id="5590447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5590451">return</span>&nbsp;<span class="builtintype" id="5590458">nil</span><span class="op" id="5590461">,</span>&nbsp;<span class="ident" id="5590463"><a href="/gostd/os/exec/exec.go.html#5590415">err</a></span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5590468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5590471"><a href="/gostd/os/exec/exec.go.html#5590189">c</a></span><span class="op" id="5590472">.</span><span class="ident" id="5590473"><a href="/gostd/os/exec/exec.go.html#5579618">Stderr</a></span>&nbsp;<span class="op" id="5590480">=</span>&nbsp;<span class="ident" id="5590482"><a href="/gostd/os/exec/exec.go.html#5590411">pw</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5590486"><a href="/gostd/os/exec/exec.go.html#5590189">c</a></span><span class="op" id="5590487">.</span><span class="ident" id="5590488"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span>&nbsp;<span class="op" id="5590504">=</span>&nbsp;<span class="builtinfunc" id="5590506">append</span><span class="op" id="5590512">(</span><span class="ident" id="5590513"><a href="/gostd/os/exec/exec.go.html#5590189">c</a></span><span class="op" id="5590514">.</span><span class="ident" id="5590515"><a href="/gostd/os/exec/exec.go.html#5580497">closeAfterStart</a></span><span class="op" id="5590530">,</span>&nbsp;<span class="ident" id="5590532"><a href="/gostd/os/exec/exec.go.html#5590411">pw</a></span><span class="op" id="5590534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5590537"><a href="/gostd/os/exec/exec.go.html#5590189">c</a></span><span class="op" id="5590538">.</span><span class="ident" id="5590539"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span>&nbsp;<span class="op" id="5590554">=</span>&nbsp;<span class="builtinfunc" id="5590556">append</span><span class="op" id="5590562">(</span><span class="ident" id="5590563"><a href="/gostd/os/exec/exec.go.html#5590189">c</a></span><span class="op" id="5590564">.</span><span class="ident" id="5590565"><a href="/gostd/os/exec/exec.go.html#5580526">closeAfterWait</a></span><span class="op" id="5590579">,</span>&nbsp;<span class="ident" id="5590581"><a href="/gostd/os/exec/exec.go.html#5590407">pr</a></span><span class="op" id="5590583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5590586">return</span>&nbsp;<span class="ident" id="5590593"><a href="/gostd/os/exec/exec.go.html#5590407">pr</a></span><span class="op" id="5590595">,</span>&nbsp;<span class="builtintype" id="5590597">nil</span><br>
<span class="lineno">500</span><span class="op" id="5590601">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
