<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7093184">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7093239">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7093293">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7093344">package</span>&nbsp;<span class="ident" id="7093352">base32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7093360">import</span>&nbsp;<span class="op" id="7093367">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7093370">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7093379">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7093385">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7093398">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7093409">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7093419">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7093422">type</span>&nbsp;<span class="ident" id="7093427">testpair</span>&nbsp;<span class="keyword" id="7093436">struct</span>&nbsp;<span class="op" id="7093443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7093446">decoded</span><span class="op" id="7093453">,</span>&nbsp;<span class="ident" id="7093455">encoded</span>&nbsp;<span class="builtintype" id="7093463">string</span><br>
<span class="lineno"></span><span class="op" id="7093470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7093473">var</span>&nbsp;<span class="ident" id="7093477">pairs</span>&nbsp;<span class="op" id="7093483">=</span>&nbsp;<span class="op" id="7093485">[</span><span class="op" id="7093486">]</span><span class="ident" id="7093487">testpair</span><span class="op" id="7093495">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7093498">//&nbsp;RFC&nbsp;4648&nbsp;examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093520">{</span><span class="string" id="7093521">&#34;&#34;</span><span class="op" id="7093523">,</span>&nbsp;<span class="string" id="7093525">&#34;&#34;</span><span class="op" id="7093527">}</span><span class="op" id="7093528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093531">{</span><span class="string" id="7093532">&#34;f&#34;</span><span class="op" id="7093535">,</span>&nbsp;<span class="string" id="7093537">&#34;MY======&#34;</span><span class="op" id="7093547">}</span><span class="op" id="7093548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093551">{</span><span class="string" id="7093552">&#34;fo&#34;</span><span class="op" id="7093556">,</span>&nbsp;<span class="string" id="7093558">&#34;MZXQ====&#34;</span><span class="op" id="7093568">}</span><span class="op" id="7093569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093572">{</span><span class="string" id="7093573">&#34;foo&#34;</span><span class="op" id="7093578">,</span>&nbsp;<span class="string" id="7093580">&#34;MZXW6===&#34;</span><span class="op" id="7093590">}</span><span class="op" id="7093591">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093594">{</span><span class="string" id="7093595">&#34;foob&#34;</span><span class="op" id="7093601">,</span>&nbsp;<span class="string" id="7093603">&#34;MZXW6YQ=&#34;</span><span class="op" id="7093613">}</span><span class="op" id="7093614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093617">{</span><span class="string" id="7093618">&#34;fooba&#34;</span><span class="op" id="7093625">,</span>&nbsp;<span class="string" id="7093627">&#34;MZXW6YTB&#34;</span><span class="op" id="7093637">}</span><span class="op" id="7093638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093641">{</span><span class="string" id="7093642">&#34;foobar&#34;</span><span class="op" id="7093650">,</span>&nbsp;<span class="string" id="7093652">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7093670">}</span><span class="op" id="7093671">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7093675">//&nbsp;Wikipedia&nbsp;examples,&nbsp;converted&nbsp;to&nbsp;base32</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093719">{</span><span class="string" id="7093720">&#34;sure.&#34;</span><span class="op" id="7093727">,</span>&nbsp;<span class="string" id="7093729">&#34;ON2XEZJO&#34;</span><span class="op" id="7093739">}</span><span class="op" id="7093740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093743">{</span><span class="string" id="7093744">&#34;sure&#34;</span><span class="op" id="7093750">,</span>&nbsp;<span class="string" id="7093752">&#34;ON2XEZI=&#34;</span><span class="op" id="7093762">}</span><span class="op" id="7093763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093766">{</span><span class="string" id="7093767">&#34;sur&#34;</span><span class="op" id="7093772">,</span>&nbsp;<span class="string" id="7093774">&#34;ON2XE===&#34;</span><span class="op" id="7093784">}</span><span class="op" id="7093785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093788">{</span><span class="string" id="7093789">&#34;su&#34;</span><span class="op" id="7093793">,</span>&nbsp;<span class="string" id="7093795">&#34;ON2Q====&#34;</span><span class="op" id="7093805">}</span><span class="op" id="7093806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093809">{</span><span class="string" id="7093810">&#34;leasure.&#34;</span><span class="op" id="7093820">,</span>&nbsp;<span class="string" id="7093822">&#34;NRSWC43VOJSS4===&#34;</span><span class="op" id="7093840">}</span><span class="op" id="7093841">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093844">{</span><span class="string" id="7093845">&#34;easure.&#34;</span><span class="op" id="7093854">,</span>&nbsp;<span class="string" id="7093856">&#34;MVQXG5LSMUXA====&#34;</span><span class="op" id="7093874">}</span><span class="op" id="7093875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093878">{</span><span class="string" id="7093879">&#34;asure.&#34;</span><span class="op" id="7093887">,</span>&nbsp;<span class="string" id="7093889">&#34;MFZXK4TFFY======&#34;</span><span class="op" id="7093907">}</span><span class="op" id="7093908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093911">{</span><span class="string" id="7093912">&#34;sure.&#34;</span><span class="op" id="7093919">,</span>&nbsp;<span class="string" id="7093921">&#34;ON2XEZJO&#34;</span><span class="op" id="7093931">}</span><span class="op" id="7093932">,</span><br>
<span class="lineno"></span><span class="op" id="7093934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7093937">var</span>&nbsp;<span class="ident" id="7093941">bigtest</span>&nbsp;<span class="op" id="7093949">=</span>&nbsp;<span class="ident" id="7093951">testpair</span><span class="op" id="7093959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7093962">&#34;Twas&nbsp;brillig,&nbsp;and&nbsp;the&nbsp;slithy&nbsp;toves&#34;</span><span class="op" id="7093998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7094001">&#34;KR3WC4ZAMJZGS3DMNFTSYIDBNZSCA5DIMUQHG3DJORUHSIDUN53GK4Y=&#34;</span><span class="op" id="7094059">,</span><br>
<span class="lineno"></span><span class="op" id="7094061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="7094064">func</span>&nbsp;<span class="ident" id="7094069">testEqual</span><span class="op" id="7094078">(</span><span class="ident" id="7094079">t</span>&nbsp;<span class="op" id="7094081">*</span><span class="ident" id="7094082">testing</span><span class="op" id="7094089">.</span><span class="ident" id="7094090">T</span><span class="op" id="7094091">,</span>&nbsp;<span class="ident" id="7094093">msg</span>&nbsp;<span class="builtintype" id="7094097">string</span><span class="op" id="7094103">,</span>&nbsp;<span class="ident" id="7094105">args</span>&nbsp;<span class="op" id="7094110">...</span><span class="keyword" id="7094113">interface</span><span class="op" id="7094122">{</span><span class="op" id="7094123">}</span><span class="op" id="7094124">)</span>&nbsp;<span class="builtintype" id="7094126">bool</span>&nbsp;<span class="op" id="7094131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094134">if</span>&nbsp;<span class="ident" id="7094137">args</span><span class="op" id="7094141">[</span><span class="builtinfunc" id="7094142">len</span><span class="op" id="7094145">(</span><span class="ident" id="7094146">args</span><span class="op" id="7094150">)</span><span class="op" id="7094151">-</span><span class="num" id="7094152">2</span><span class="op" id="7094153">]</span>&nbsp;<span class="op" id="7094155">!=</span>&nbsp;<span class="ident" id="7094158">args</span><span class="op" id="7094162">[</span><span class="builtinfunc" id="7094163">len</span><span class="op" id="7094166">(</span><span class="ident" id="7094167">args</span><span class="op" id="7094171">)</span><span class="op" id="7094172">-</span><span class="num" id="7094173">1</span><span class="op" id="7094174">]</span>&nbsp;<span class="op" id="7094176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094180">t</span><span class="op" id="7094181">.</span><span class="ident" id="7094182">Errorf</span><span class="op" id="7094188">(</span><span class="ident" id="7094189">msg</span><span class="op" id="7094192">,</span>&nbsp;<span class="ident" id="7094194">args</span><span class="op" id="7094198">...</span><span class="op" id="7094201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094205">return</span>&nbsp;<span class="builtintype" id="7094212">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094219">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094222">return</span>&nbsp;<span class="builtintype" id="7094229">true</span><br>
<span class="lineno"></span><span class="op" id="7094234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7094237">func</span>&nbsp;<span class="ident" id="7094242">TestEncode</span><span class="op" id="7094252">(</span><span class="ident" id="7094253">t</span>&nbsp;<span class="op" id="7094255">*</span><span class="ident" id="7094256">testing</span><span class="op" id="7094263">.</span><span class="ident" id="7094264">T</span><span class="op" id="7094265">)</span>&nbsp;<span class="op" id="7094267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094270">for</span>&nbsp;<span class="ident" id="7094274">_</span><span class="op" id="7094275">,</span>&nbsp;<span class="ident" id="7094277">p</span>&nbsp;<span class="op" id="7094279">:=</span>&nbsp;<span class="keyword" id="7094282">range</span>&nbsp;<span class="ident" id="7094288">pairs</span>&nbsp;<span class="op" id="7094294">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094298">got</span>&nbsp;<span class="op" id="7094302">:=</span>&nbsp;<span class="ident" id="7094305">StdEncoding</span><span class="op" id="7094316">.</span><span class="ident" id="7094317">EncodeToString</span><span class="op" id="7094331">(</span><span class="op" id="7094332">[</span><span class="op" id="7094333">]</span><span class="builtintype" id="7094334">byte</span><span class="op" id="7094338">(</span><span class="ident" id="7094339">p</span><span class="op" id="7094340">.</span><span class="ident" id="7094341">decoded</span><span class="op" id="7094348">)</span><span class="op" id="7094349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094353">testEqual</span><span class="op" id="7094362">(</span><span class="ident" id="7094363">t</span><span class="op" id="7094364">,</span>&nbsp;<span class="string" id="7094366">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7094392">,</span>&nbsp;<span class="ident" id="7094394">p</span><span class="op" id="7094395">.</span><span class="ident" id="7094396">decoded</span><span class="op" id="7094403">,</span>&nbsp;<span class="ident" id="7094405">got</span><span class="op" id="7094408">,</span>&nbsp;<span class="ident" id="7094410">p</span><span class="op" id="7094411">.</span><span class="ident" id="7094412">encoded</span><span class="op" id="7094419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094422">}</span><br>
<span class="lineno"></span><span class="op" id="7094424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7094427">func</span>&nbsp;<span class="ident" id="7094432">TestEncoder</span><span class="op" id="7094443">(</span><span class="ident" id="7094444">t</span>&nbsp;<span class="op" id="7094446">*</span><span class="ident" id="7094447">testing</span><span class="op" id="7094454">.</span><span class="ident" id="7094455">T</span><span class="op" id="7094456">)</span>&nbsp;<span class="op" id="7094458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094461">for</span>&nbsp;<span class="ident" id="7094465">_</span><span class="op" id="7094466">,</span>&nbsp;<span class="ident" id="7094468">p</span>&nbsp;<span class="op" id="7094470">:=</span>&nbsp;<span class="keyword" id="7094473">range</span>&nbsp;<span class="ident" id="7094479">pairs</span>&nbsp;<span class="op" id="7094485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094489">bb</span>&nbsp;<span class="op" id="7094492">:=</span>&nbsp;<span class="op" id="7094495">&amp;</span><span class="ident" id="7094496">bytes</span><span class="op" id="7094501">.</span><span class="ident" id="7094502">Buffer</span><span class="op" id="7094508">{</span><span class="op" id="7094509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094513">encoder</span>&nbsp;<span class="op" id="7094521">:=</span>&nbsp;<span class="ident" id="7094524">NewEncoder</span><span class="op" id="7094534">(</span><span class="ident" id="7094535">StdEncoding</span><span class="op" id="7094546">,</span>&nbsp;<span class="ident" id="7094548">bb</span><span class="op" id="7094550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094554">encoder</span><span class="op" id="7094561">.</span><span class="ident" id="7094562">Write</span><span class="op" id="7094567">(</span><span class="op" id="7094568">[</span><span class="op" id="7094569">]</span><span class="builtintype" id="7094570">byte</span><span class="op" id="7094574">(</span><span class="ident" id="7094575">p</span><span class="op" id="7094576">.</span><span class="ident" id="7094577">decoded</span><span class="op" id="7094584">)</span><span class="op" id="7094585">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094589">encoder</span><span class="op" id="7094596">.</span><span class="ident" id="7094597">Close</span><span class="op" id="7094602">(</span><span class="op" id="7094603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094607">testEqual</span><span class="op" id="7094616">(</span><span class="ident" id="7094617">t</span><span class="op" id="7094618">,</span>&nbsp;<span class="string" id="7094620">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7094646">,</span>&nbsp;<span class="ident" id="7094648">p</span><span class="op" id="7094649">.</span><span class="ident" id="7094650">decoded</span><span class="op" id="7094657">,</span>&nbsp;<span class="ident" id="7094659">bb</span><span class="op" id="7094661">.</span><span class="ident" id="7094662">String</span><span class="op" id="7094668">(</span><span class="op" id="7094669">)</span><span class="op" id="7094670">,</span>&nbsp;<span class="ident" id="7094672">p</span><span class="op" id="7094673">.</span><span class="ident" id="7094674">encoded</span><span class="op" id="7094681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094684">}</span><br>
<span class="lineno"></span><span class="op" id="7094686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7094689">func</span>&nbsp;<span class="ident" id="7094694">TestEncoderBuffering</span><span class="op" id="7094714">(</span><span class="ident" id="7094715">t</span>&nbsp;<span class="op" id="7094717">*</span><span class="ident" id="7094718">testing</span><span class="op" id="7094725">.</span><span class="ident" id="7094726">T</span><span class="op" id="7094727">)</span>&nbsp;<span class="op" id="7094729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094732">input</span>&nbsp;<span class="op" id="7094738">:=</span>&nbsp;<span class="op" id="7094741">[</span><span class="op" id="7094742">]</span><span class="builtintype" id="7094743">byte</span><span class="op" id="7094747">(</span><span class="ident" id="7094748">bigtest</span><span class="op" id="7094755">.</span><span class="ident" id="7094756">decoded</span><span class="op" id="7094763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094766">for</span>&nbsp;<span class="ident" id="7094770">bs</span>&nbsp;<span class="op" id="7094773">:=</span>&nbsp;<span class="num" id="7094776">1</span><span class="op" id="7094777">;</span>&nbsp;<span class="ident" id="7094779">bs</span>&nbsp;<span class="op" id="7094782">&lt;=</span>&nbsp;<span class="num" id="7094785">12</span><span class="op" id="7094787">;</span>&nbsp;<span class="ident" id="7094789">bs</span><span class="op" id="7094791">++</span>&nbsp;<span class="op" id="7094794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094798">bb</span>&nbsp;<span class="op" id="7094801">:=</span>&nbsp;<span class="op" id="7094804">&amp;</span><span class="ident" id="7094805">bytes</span><span class="op" id="7094810">.</span><span class="ident" id="7094811">Buffer</span><span class="op" id="7094817">{</span><span class="op" id="7094818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094822">encoder</span>&nbsp;<span class="op" id="7094830">:=</span>&nbsp;<span class="ident" id="7094833">NewEncoder</span><span class="op" id="7094843">(</span><span class="ident" id="7094844">StdEncoding</span><span class="op" id="7094855">,</span>&nbsp;<span class="ident" id="7094857">bb</span><span class="op" id="7094859">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094863">for</span>&nbsp;<span class="ident" id="7094867">pos</span>&nbsp;<span class="op" id="7094871">:=</span>&nbsp;<span class="num" id="7094874">0</span><span class="op" id="7094875">;</span>&nbsp;<span class="ident" id="7094877">pos</span>&nbsp;<span class="op" id="7094881">&lt;</span>&nbsp;<span class="builtinfunc" id="7094883">len</span><span class="op" id="7094886">(</span><span class="ident" id="7094887">input</span><span class="op" id="7094892">)</span><span class="op" id="7094893">;</span>&nbsp;<span class="ident" id="7094895">pos</span>&nbsp;<span class="op" id="7094899">+=</span>&nbsp;<span class="ident" id="7094902">bs</span>&nbsp;<span class="op" id="7094905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094910">end</span>&nbsp;<span class="op" id="7094914">:=</span>&nbsp;<span class="ident" id="7094917">pos</span>&nbsp;<span class="op" id="7094921">+</span>&nbsp;<span class="ident" id="7094923">bs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094929">if</span>&nbsp;<span class="ident" id="7094932">end</span>&nbsp;<span class="op" id="7094936">&gt;</span>&nbsp;<span class="builtinfunc" id="7094938">len</span><span class="op" id="7094941">(</span><span class="ident" id="7094942">input</span><span class="op" id="7094947">)</span>&nbsp;<span class="op" id="7094949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094955">end</span>&nbsp;<span class="op" id="7094959">=</span>&nbsp;<span class="builtinfunc" id="7094961">len</span><span class="op" id="7094964">(</span><span class="ident" id="7094965">input</span><span class="op" id="7094970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094975">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094980">n</span><span class="op" id="7094981">,</span>&nbsp;<span class="ident" id="7094983">err</span>&nbsp;<span class="op" id="7094987">:=</span>&nbsp;<span class="ident" id="7094990">encoder</span><span class="op" id="7094997">.</span><span class="ident" id="7094998">Write</span><span class="op" id="7095003">(</span><span class="ident" id="7095004">input</span><span class="op" id="7095009">[</span><span class="ident" id="7095010">pos</span><span class="op" id="7095013">:</span><span class="ident" id="7095014">end</span><span class="op" id="7095017">]</span><span class="op" id="7095018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095023">testEqual</span><span class="op" id="7095032">(</span><span class="ident" id="7095033">t</span><span class="op" id="7095034">,</span>&nbsp;<span class="string" id="7095036">&#34;Write(%q)&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7095070">,</span>&nbsp;<span class="ident" id="7095072">input</span><span class="op" id="7095077">[</span><span class="ident" id="7095078">pos</span><span class="op" id="7095081">:</span><span class="ident" id="7095082">end</span><span class="op" id="7095085">]</span><span class="op" id="7095086">,</span>&nbsp;<span class="ident" id="7095088">err</span><span class="op" id="7095091">,</span>&nbsp;<span class="builtintype" id="7095093">error</span><span class="op" id="7095098">(</span><span class="ident" id="7095099">nil</span><span class="op" id="7095102">)</span><span class="op" id="7095103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095108">testEqual</span><span class="op" id="7095117">(</span><span class="ident" id="7095118">t</span><span class="op" id="7095119">,</span>&nbsp;<span class="string" id="7095121">&#34;Write(%q)&nbsp;gave&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7095156">,</span>&nbsp;<span class="ident" id="7095158">input</span><span class="op" id="7095163">[</span><span class="ident" id="7095164">pos</span><span class="op" id="7095167">:</span><span class="ident" id="7095168">end</span><span class="op" id="7095171">]</span><span class="op" id="7095172">,</span>&nbsp;<span class="ident" id="7095174">n</span><span class="op" id="7095175">,</span>&nbsp;<span class="ident" id="7095177">end</span><span class="op" id="7095180">-</span><span class="ident" id="7095181">pos</span><span class="op" id="7095184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095192">err</span>&nbsp;<span class="op" id="7095196">:=</span>&nbsp;<span class="ident" id="7095199">encoder</span><span class="op" id="7095206">.</span><span class="ident" id="7095207">Close</span><span class="op" id="7095212">(</span><span class="op" id="7095213">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095217">testEqual</span><span class="op" id="7095226">(</span><span class="ident" id="7095227">t</span><span class="op" id="7095228">,</span>&nbsp;<span class="string" id="7095230">&#34;Close&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7095260">,</span>&nbsp;<span class="ident" id="7095262">err</span><span class="op" id="7095265">,</span>&nbsp;<span class="builtintype" id="7095267">error</span><span class="op" id="7095272">(</span><span class="ident" id="7095273">nil</span><span class="op" id="7095276">)</span><span class="op" id="7095277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095281">testEqual</span><span class="op" id="7095290">(</span><span class="ident" id="7095291">t</span><span class="op" id="7095292">,</span>&nbsp;<span class="string" id="7095294">&#34;Encoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7095327">,</span>&nbsp;<span class="ident" id="7095329">bs</span><span class="op" id="7095331">,</span>&nbsp;<span class="ident" id="7095333">bigtest</span><span class="op" id="7095340">.</span><span class="ident" id="7095341">decoded</span><span class="op" id="7095348">,</span>&nbsp;<span class="ident" id="7095350">bb</span><span class="op" id="7095352">.</span><span class="ident" id="7095353">String</span><span class="op" id="7095359">(</span><span class="op" id="7095360">)</span><span class="op" id="7095361">,</span>&nbsp;<span class="ident" id="7095363">bigtest</span><span class="op" id="7095370">.</span><span class="ident" id="7095371">encoded</span><span class="op" id="7095378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095381">}</span><br>
<span class="lineno"></span><span class="op" id="7095383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7095386">func</span>&nbsp;<span class="ident" id="7095391">TestDecode</span><span class="op" id="7095401">(</span><span class="ident" id="7095402">t</span>&nbsp;<span class="op" id="7095404">*</span><span class="ident" id="7095405">testing</span><span class="op" id="7095412">.</span><span class="ident" id="7095413">T</span><span class="op" id="7095414">)</span>&nbsp;<span class="op" id="7095416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095419">for</span>&nbsp;<span class="ident" id="7095423">_</span><span class="op" id="7095424">,</span>&nbsp;<span class="ident" id="7095426">p</span>&nbsp;<span class="op" id="7095428">:=</span>&nbsp;<span class="keyword" id="7095431">range</span>&nbsp;<span class="ident" id="7095437">pairs</span>&nbsp;<span class="op" id="7095443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095447">dbuf</span>&nbsp;<span class="op" id="7095452">:=</span>&nbsp;<span class="builtinfunc" id="7095455">make</span><span class="op" id="7095459">(</span><span class="op" id="7095460">[</span><span class="op" id="7095461">]</span><span class="builtintype" id="7095462">byte</span><span class="op" id="7095466">,</span>&nbsp;<span class="ident" id="7095468">StdEncoding</span><span class="op" id="7095479">.</span><span class="ident" id="7095480">DecodedLen</span><span class="op" id="7095490">(</span><span class="builtinfunc" id="7095491">len</span><span class="op" id="7095494">(</span><span class="ident" id="7095495">p</span><span class="op" id="7095496">.</span><span class="ident" id="7095497">encoded</span><span class="op" id="7095504">)</span><span class="op" id="7095505">)</span><span class="op" id="7095506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095510">count</span><span class="op" id="7095515">,</span>&nbsp;<span class="ident" id="7095517">end</span><span class="op" id="7095520">,</span>&nbsp;<span class="ident" id="7095522">err</span>&nbsp;<span class="op" id="7095526">:=</span>&nbsp;<span class="ident" id="7095529">StdEncoding</span><span class="op" id="7095540">.</span><span class="ident" id="7095541">decode</span><span class="op" id="7095547">(</span><span class="ident" id="7095548">dbuf</span><span class="op" id="7095552">,</span>&nbsp;<span class="op" id="7095554">[</span><span class="op" id="7095555">]</span><span class="builtintype" id="7095556">byte</span><span class="op" id="7095560">(</span><span class="ident" id="7095561">p</span><span class="op" id="7095562">.</span><span class="ident" id="7095563">encoded</span><span class="op" id="7095570">)</span><span class="op" id="7095571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095575">testEqual</span><span class="op" id="7095584">(</span><span class="ident" id="7095585">t</span><span class="op" id="7095586">,</span>&nbsp;<span class="string" id="7095588">&#34;Decode(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7095620">,</span>&nbsp;<span class="ident" id="7095622">p</span><span class="op" id="7095623">.</span><span class="ident" id="7095624">encoded</span><span class="op" id="7095631">,</span>&nbsp;<span class="ident" id="7095633">err</span><span class="op" id="7095636">,</span>&nbsp;<span class="builtintype" id="7095638">error</span><span class="op" id="7095643">(</span><span class="ident" id="7095644">nil</span><span class="op" id="7095647">)</span><span class="op" id="7095648">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095652">testEqual</span><span class="op" id="7095661">(</span><span class="ident" id="7095662">t</span><span class="op" id="7095663">,</span>&nbsp;<span class="string" id="7095665">&#34;Decode(%q)&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7095698">,</span>&nbsp;<span class="ident" id="7095700">p</span><span class="op" id="7095701">.</span><span class="ident" id="7095702">encoded</span><span class="op" id="7095709">,</span>&nbsp;<span class="ident" id="7095711">count</span><span class="op" id="7095716">,</span>&nbsp;<span class="builtinfunc" id="7095718">len</span><span class="op" id="7095721">(</span><span class="ident" id="7095722">p</span><span class="op" id="7095723">.</span><span class="ident" id="7095724">decoded</span><span class="op" id="7095731">)</span><span class="op" id="7095732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095736">if</span>&nbsp;<span class="builtinfunc" id="7095739">len</span><span class="op" id="7095742">(</span><span class="ident" id="7095743">p</span><span class="op" id="7095744">.</span><span class="ident" id="7095745">encoded</span><span class="op" id="7095752">)</span>&nbsp;<span class="op" id="7095754">&gt;</span>&nbsp;<span class="num" id="7095756">0</span>&nbsp;<span class="op" id="7095758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095763">testEqual</span><span class="op" id="7095772">(</span><span class="ident" id="7095773">t</span><span class="op" id="7095774">,</span>&nbsp;<span class="string" id="7095776">&#34;Decode(%q)&nbsp;=&nbsp;end&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7095806">,</span>&nbsp;<span class="ident" id="7095808">p</span><span class="op" id="7095809">.</span><span class="ident" id="7095810">encoded</span><span class="op" id="7095817">,</span>&nbsp;<span class="ident" id="7095819">end</span><span class="op" id="7095822">,</span>&nbsp;<span class="op" id="7095824">(</span><span class="ident" id="7095825">p</span><span class="op" id="7095826">.</span><span class="ident" id="7095827">encoded</span><span class="op" id="7095834">[</span><span class="builtinfunc" id="7095835">len</span><span class="op" id="7095838">(</span><span class="ident" id="7095839">p</span><span class="op" id="7095840">.</span><span class="ident" id="7095841">encoded</span><span class="op" id="7095848">)</span><span class="op" id="7095849">-</span><span class="num" id="7095850">1</span><span class="op" id="7095851">]</span>&nbsp;<span class="op" id="7095853">==</span>&nbsp;<span class="string" id="7095856">&#39;=&#39;</span><span class="op" id="7095859">)</span><span class="op" id="7095860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095868">testEqual</span><span class="op" id="7095877">(</span><span class="ident" id="7095878">t</span><span class="op" id="7095879">,</span>&nbsp;<span class="string" id="7095881">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7095907">,</span>&nbsp;<span class="ident" id="7095909">p</span><span class="op" id="7095910">.</span><span class="ident" id="7095911">encoded</span><span class="op" id="7095918">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7095923">string</span><span class="op" id="7095929">(</span><span class="ident" id="7095930">dbuf</span><span class="op" id="7095934">[</span><span class="num" id="7095935">0</span><span class="op" id="7095936">:</span><span class="ident" id="7095937">count</span><span class="op" id="7095942">]</span><span class="op" id="7095943">)</span><span class="op" id="7095944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095949">p</span><span class="op" id="7095950">.</span><span class="ident" id="7095951">decoded</span><span class="op" id="7095958">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095963">dbuf</span><span class="op" id="7095967">,</span>&nbsp;<span class="ident" id="7095969">err</span>&nbsp;<span class="op" id="7095973">=</span>&nbsp;<span class="ident" id="7095975">StdEncoding</span><span class="op" id="7095986">.</span><span class="ident" id="7095987">DecodeString</span><span class="op" id="7095999">(</span><span class="ident" id="7096000">p</span><span class="op" id="7096001">.</span><span class="ident" id="7096002">encoded</span><span class="op" id="7096009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096013">testEqual</span><span class="op" id="7096022">(</span><span class="ident" id="7096023">t</span><span class="op" id="7096024">,</span>&nbsp;<span class="string" id="7096026">&#34;DecodeString(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7096064">,</span>&nbsp;<span class="ident" id="7096066">p</span><span class="op" id="7096067">.</span><span class="ident" id="7096068">encoded</span><span class="op" id="7096075">,</span>&nbsp;<span class="ident" id="7096077">err</span><span class="op" id="7096080">,</span>&nbsp;<span class="builtintype" id="7096082">error</span><span class="op" id="7096087">(</span><span class="ident" id="7096088">nil</span><span class="op" id="7096091">)</span><span class="op" id="7096092">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096096">testEqual</span><span class="op" id="7096105">(</span><span class="ident" id="7096106">t</span><span class="op" id="7096107">,</span>&nbsp;<span class="string" id="7096109">&#34;DecodeString(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7096141">,</span>&nbsp;<span class="ident" id="7096143">p</span><span class="op" id="7096144">.</span><span class="ident" id="7096145">encoded</span><span class="op" id="7096152">,</span>&nbsp;<span class="builtintype" id="7096154">string</span><span class="op" id="7096160">(</span><span class="ident" id="7096161">dbuf</span><span class="op" id="7096165">)</span><span class="op" id="7096166">,</span>&nbsp;<span class="ident" id="7096168">p</span><span class="op" id="7096169">.</span><span class="ident" id="7096170">decoded</span><span class="op" id="7096177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096180">}</span><br>
<span class="lineno"></span><span class="op" id="7096182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7096185">func</span>&nbsp;<span class="ident" id="7096190">TestDecoder</span><span class="op" id="7096201">(</span><span class="ident" id="7096202">t</span>&nbsp;<span class="op" id="7096204">*</span><span class="ident" id="7096205">testing</span><span class="op" id="7096212">.</span><span class="ident" id="7096213">T</span><span class="op" id="7096214">)</span>&nbsp;<span class="op" id="7096216">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096219">for</span>&nbsp;<span class="ident" id="7096223">_</span><span class="op" id="7096224">,</span>&nbsp;<span class="ident" id="7096226">p</span>&nbsp;<span class="op" id="7096228">:=</span>&nbsp;<span class="keyword" id="7096231">range</span>&nbsp;<span class="ident" id="7096237">pairs</span>&nbsp;<span class="op" id="7096243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096247">decoder</span>&nbsp;<span class="op" id="7096255">:=</span>&nbsp;<span class="ident" id="7096258">NewDecoder</span><span class="op" id="7096268">(</span><span class="ident" id="7096269">StdEncoding</span><span class="op" id="7096280">,</span>&nbsp;<span class="ident" id="7096282">strings</span><span class="op" id="7096289">.</span><span class="ident" id="7096290">NewReader</span><span class="op" id="7096299">(</span><span class="ident" id="7096300">p</span><span class="op" id="7096301">.</span><span class="ident" id="7096302">encoded</span><span class="op" id="7096309">)</span><span class="op" id="7096310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096314">dbuf</span>&nbsp;<span class="op" id="7096319">:=</span>&nbsp;<span class="builtinfunc" id="7096322">make</span><span class="op" id="7096326">(</span><span class="op" id="7096327">[</span><span class="op" id="7096328">]</span><span class="builtintype" id="7096329">byte</span><span class="op" id="7096333">,</span>&nbsp;<span class="ident" id="7096335">StdEncoding</span><span class="op" id="7096346">.</span><span class="ident" id="7096347">DecodedLen</span><span class="op" id="7096357">(</span><span class="builtinfunc" id="7096358">len</span><span class="op" id="7096361">(</span><span class="ident" id="7096362">p</span><span class="op" id="7096363">.</span><span class="ident" id="7096364">encoded</span><span class="op" id="7096371">)</span><span class="op" id="7096372">)</span><span class="op" id="7096373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096377">count</span><span class="op" id="7096382">,</span>&nbsp;<span class="ident" id="7096384">err</span>&nbsp;<span class="op" id="7096388">:=</span>&nbsp;<span class="ident" id="7096391">decoder</span><span class="op" id="7096398">.</span><span class="ident" id="7096399">Read</span><span class="op" id="7096403">(</span><span class="ident" id="7096404">dbuf</span><span class="op" id="7096408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096412">if</span>&nbsp;<span class="ident" id="7096415">err</span>&nbsp;<span class="op" id="7096419">!=</span>&nbsp;<span class="ident" id="7096422">nil</span>&nbsp;<span class="op" id="7096426">&amp;&amp;</span>&nbsp;<span class="ident" id="7096429">err</span>&nbsp;<span class="op" id="7096433">!=</span>&nbsp;<span class="ident" id="7096436">io</span><span class="op" id="7096438">.</span><span class="ident" id="7096439">EOF</span>&nbsp;<span class="op" id="7096443">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096448">t</span><span class="op" id="7096449">.</span><span class="ident" id="7096450">Fatal</span><span class="op" id="7096455">(</span><span class="string" id="7096456">&#34;Read&nbsp;failed&#34;</span><span class="op" id="7096469">,</span>&nbsp;<span class="ident" id="7096471">err</span><span class="op" id="7096474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096482">testEqual</span><span class="op" id="7096491">(</span><span class="ident" id="7096492">t</span><span class="op" id="7096493">,</span>&nbsp;<span class="string" id="7096495">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7096530">,</span>&nbsp;<span class="ident" id="7096532">p</span><span class="op" id="7096533">.</span><span class="ident" id="7096534">encoded</span><span class="op" id="7096541">,</span>&nbsp;<span class="ident" id="7096543">count</span><span class="op" id="7096548">,</span>&nbsp;<span class="builtinfunc" id="7096550">len</span><span class="op" id="7096553">(</span><span class="ident" id="7096554">p</span><span class="op" id="7096555">.</span><span class="ident" id="7096556">decoded</span><span class="op" id="7096563">)</span><span class="op" id="7096564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096568">testEqual</span><span class="op" id="7096577">(</span><span class="ident" id="7096578">t</span><span class="op" id="7096579">,</span>&nbsp;<span class="string" id="7096581">&#34;Decoding&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7096611">,</span>&nbsp;<span class="ident" id="7096613">p</span><span class="op" id="7096614">.</span><span class="ident" id="7096615">encoded</span><span class="op" id="7096622">,</span>&nbsp;<span class="builtintype" id="7096624">string</span><span class="op" id="7096630">(</span><span class="ident" id="7096631">dbuf</span><span class="op" id="7096635">[</span><span class="num" id="7096636">0</span><span class="op" id="7096637">:</span><span class="ident" id="7096638">count</span><span class="op" id="7096643">]</span><span class="op" id="7096644">)</span><span class="op" id="7096645">,</span>&nbsp;<span class="ident" id="7096647">p</span><span class="op" id="7096648">.</span><span class="ident" id="7096649">decoded</span><span class="op" id="7096656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096660">if</span>&nbsp;<span class="ident" id="7096663">err</span>&nbsp;<span class="op" id="7096667">!=</span>&nbsp;<span class="ident" id="7096670">io</span><span class="op" id="7096672">.</span><span class="ident" id="7096673">EOF</span>&nbsp;<span class="op" id="7096677">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096682">count</span><span class="op" id="7096687">,</span>&nbsp;<span class="ident" id="7096689">err</span>&nbsp;<span class="op" id="7096693">=</span>&nbsp;<span class="ident" id="7096695">decoder</span><span class="op" id="7096702">.</span><span class="ident" id="7096703">Read</span><span class="op" id="7096707">(</span><span class="ident" id="7096708">dbuf</span><span class="op" id="7096712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096720">testEqual</span><span class="op" id="7096729">(</span><span class="ident" id="7096730">t</span><span class="op" id="7096731">,</span>&nbsp;<span class="string" id="7096733">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7096761">,</span>&nbsp;<span class="ident" id="7096763">p</span><span class="op" id="7096764">.</span><span class="ident" id="7096765">encoded</span><span class="op" id="7096772">,</span>&nbsp;<span class="ident" id="7096774">err</span><span class="op" id="7096777">,</span>&nbsp;<span class="ident" id="7096779">io</span><span class="op" id="7096781">.</span><span class="ident" id="7096782">EOF</span><span class="op" id="7096785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096788">}</span><br>
<span class="lineno"></span><span class="op" id="7096790">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="7096793">func</span>&nbsp;<span class="ident" id="7096798">TestDecoderBuffering</span><span class="op" id="7096818">(</span><span class="ident" id="7096819">t</span>&nbsp;<span class="op" id="7096821">*</span><span class="ident" id="7096822">testing</span><span class="op" id="7096829">.</span><span class="ident" id="7096830">T</span><span class="op" id="7096831">)</span>&nbsp;<span class="op" id="7096833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096836">for</span>&nbsp;<span class="ident" id="7096840">bs</span>&nbsp;<span class="op" id="7096843">:=</span>&nbsp;<span class="num" id="7096846">1</span><span class="op" id="7096847">;</span>&nbsp;<span class="ident" id="7096849">bs</span>&nbsp;<span class="op" id="7096852">&lt;=</span>&nbsp;<span class="num" id="7096855">12</span><span class="op" id="7096857">;</span>&nbsp;<span class="ident" id="7096859">bs</span><span class="op" id="7096861">++</span>&nbsp;<span class="op" id="7096864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096868">decoder</span>&nbsp;<span class="op" id="7096876">:=</span>&nbsp;<span class="ident" id="7096879">NewDecoder</span><span class="op" id="7096889">(</span><span class="ident" id="7096890">StdEncoding</span><span class="op" id="7096901">,</span>&nbsp;<span class="ident" id="7096903">strings</span><span class="op" id="7096910">.</span><span class="ident" id="7096911">NewReader</span><span class="op" id="7096920">(</span><span class="ident" id="7096921">bigtest</span><span class="op" id="7096928">.</span><span class="ident" id="7096929">encoded</span><span class="op" id="7096936">)</span><span class="op" id="7096937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096941">buf</span>&nbsp;<span class="op" id="7096945">:=</span>&nbsp;<span class="builtinfunc" id="7096948">make</span><span class="op" id="7096952">(</span><span class="op" id="7096953">[</span><span class="op" id="7096954">]</span><span class="builtintype" id="7096955">byte</span><span class="op" id="7096959">,</span>&nbsp;<span class="builtinfunc" id="7096961">len</span><span class="op" id="7096964">(</span><span class="ident" id="7096965">bigtest</span><span class="op" id="7096972">.</span><span class="ident" id="7096973">decoded</span><span class="op" id="7096980">)</span><span class="op" id="7096981">+</span><span class="num" id="7096982">12</span><span class="op" id="7096984">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096988">var</span>&nbsp;<span class="ident" id="7096992">total</span>&nbsp;<span class="builtintype" id="7096998">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7097004">for</span>&nbsp;<span class="ident" id="7097008">total</span>&nbsp;<span class="op" id="7097014">=</span>&nbsp;<span class="num" id="7097016">0</span><span class="op" id="7097017">;</span>&nbsp;<span class="ident" id="7097019">total</span>&nbsp;<span class="op" id="7097025">&lt;</span>&nbsp;<span class="builtinfunc" id="7097027">len</span><span class="op" id="7097030">(</span><span class="ident" id="7097031">bigtest</span><span class="op" id="7097038">.</span><span class="ident" id="7097039">decoded</span><span class="op" id="7097046">)</span><span class="op" id="7097047">;</span>&nbsp;<span class="op" id="7097049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097054">n</span><span class="op" id="7097055">,</span>&nbsp;<span class="ident" id="7097057">err</span>&nbsp;<span class="op" id="7097061">:=</span>&nbsp;<span class="ident" id="7097064">decoder</span><span class="op" id="7097071">.</span><span class="ident" id="7097072">Read</span><span class="op" id="7097076">(</span><span class="ident" id="7097077">buf</span><span class="op" id="7097080">[</span><span class="ident" id="7097081">total</span>&nbsp;<span class="op" id="7097087">:</span>&nbsp;<span class="ident" id="7097089">total</span><span class="op" id="7097094">+</span><span class="ident" id="7097095">bs</span><span class="op" id="7097097">]</span><span class="op" id="7097098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097103">testEqual</span><span class="op" id="7097112">(</span><span class="ident" id="7097113">t</span><span class="op" id="7097114">,</span>&nbsp;<span class="string" id="7097116">&#34;Read&nbsp;from&nbsp;%q&nbsp;at&nbsp;pos&nbsp;%d&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;%v&#34;</span><span class="op" id="7097161">,</span>&nbsp;<span class="ident" id="7097163">bigtest</span><span class="op" id="7097170">.</span><span class="ident" id="7097171">encoded</span><span class="op" id="7097178">,</span>&nbsp;<span class="ident" id="7097180">total</span><span class="op" id="7097185">,</span>&nbsp;<span class="ident" id="7097187">n</span><span class="op" id="7097188">,</span>&nbsp;<span class="ident" id="7097190">err</span><span class="op" id="7097193">,</span>&nbsp;<span class="builtintype" id="7097195">error</span><span class="op" id="7097200">(</span><span class="ident" id="7097201">nil</span><span class="op" id="7097204">)</span><span class="op" id="7097205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097210">total</span>&nbsp;<span class="op" id="7097216">+=</span>&nbsp;<span class="ident" id="7097219">n</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097227">testEqual</span><span class="op" id="7097236">(</span><span class="ident" id="7097237">t</span><span class="op" id="7097238">,</span>&nbsp;<span class="string" id="7097240">&#34;Decoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7097273">,</span>&nbsp;<span class="ident" id="7097275">bs</span><span class="op" id="7097277">,</span>&nbsp;<span class="ident" id="7097279">bigtest</span><span class="op" id="7097286">.</span><span class="ident" id="7097287">encoded</span><span class="op" id="7097294">,</span>&nbsp;<span class="builtintype" id="7097296">string</span><span class="op" id="7097302">(</span><span class="ident" id="7097303">buf</span><span class="op" id="7097306">[</span><span class="num" id="7097307">0</span><span class="op" id="7097308">:</span><span class="ident" id="7097309">total</span><span class="op" id="7097314">]</span><span class="op" id="7097315">)</span><span class="op" id="7097316">,</span>&nbsp;<span class="ident" id="7097318">bigtest</span><span class="op" id="7097325">.</span><span class="ident" id="7097326">decoded</span><span class="op" id="7097333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097336">}</span><br>
<span class="lineno"></span><span class="op" id="7097338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7097341">func</span>&nbsp;<span class="ident" id="7097346">TestDecodeCorrupt</span><span class="op" id="7097363">(</span><span class="ident" id="7097364">t</span>&nbsp;<span class="op" id="7097366">*</span><span class="ident" id="7097367">testing</span><span class="op" id="7097374">.</span><span class="ident" id="7097375">T</span><span class="op" id="7097376">)</span>&nbsp;<span class="op" id="7097378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097381">testCases</span>&nbsp;<span class="op" id="7097391">:=</span>&nbsp;<span class="op" id="7097394">[</span><span class="op" id="7097395">]</span><span class="keyword" id="7097396">struct</span>&nbsp;<span class="op" id="7097403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097407">input</span>&nbsp;&nbsp;<span class="builtintype" id="7097414">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097423">offset</span>&nbsp;<span class="builtintype" id="7097430">int</span>&nbsp;<span class="comment" id="7097434">//&nbsp;-1&nbsp;means&nbsp;no&nbsp;corruption.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097462">}</span><span class="op" id="7097463">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097467">{</span><span class="string" id="7097468">&#34;&#34;</span><span class="op" id="7097470">,</span>&nbsp;<span class="op" id="7097472">-</span><span class="num" id="7097473">1</span><span class="op" id="7097474">}</span><span class="op" id="7097475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097479">{</span><span class="string" id="7097480">&#34;!!!!&#34;</span><span class="op" id="7097486">,</span>&nbsp;<span class="num" id="7097488">0</span><span class="op" id="7097489">}</span><span class="op" id="7097490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097494">{</span><span class="string" id="7097495">&#34;x===&#34;</span><span class="op" id="7097501">,</span>&nbsp;<span class="num" id="7097503">0</span><span class="op" id="7097504">}</span><span class="op" id="7097505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097509">{</span><span class="string" id="7097510">&#34;AA=A====&#34;</span><span class="op" id="7097520">,</span>&nbsp;<span class="num" id="7097522">2</span><span class="op" id="7097523">}</span><span class="op" id="7097524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097528">{</span><span class="string" id="7097529">&#34;AAA=AAAA&#34;</span><span class="op" id="7097539">,</span>&nbsp;<span class="num" id="7097541">3</span><span class="op" id="7097542">}</span><span class="op" id="7097543">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097547">{</span><span class="string" id="7097548">&#34;MMMMMMMMM&#34;</span><span class="op" id="7097559">,</span>&nbsp;<span class="num" id="7097561">8</span><span class="op" id="7097562">}</span><span class="op" id="7097563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097567">{</span><span class="string" id="7097568">&#34;MMMMMM&#34;</span><span class="op" id="7097576">,</span>&nbsp;<span class="num" id="7097578">0</span><span class="op" id="7097579">}</span><span class="op" id="7097580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097584">{</span><span class="string" id="7097585">&#34;A=&#34;</span><span class="op" id="7097589">,</span>&nbsp;<span class="num" id="7097591">1</span><span class="op" id="7097592">}</span><span class="op" id="7097593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097597">{</span><span class="string" id="7097598">&#34;AA=&#34;</span><span class="op" id="7097603">,</span>&nbsp;<span class="num" id="7097605">3</span><span class="op" id="7097606">}</span><span class="op" id="7097607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097611">{</span><span class="string" id="7097612">&#34;AA==&#34;</span><span class="op" id="7097618">,</span>&nbsp;<span class="num" id="7097620">4</span><span class="op" id="7097621">}</span><span class="op" id="7097622">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097626">{</span><span class="string" id="7097627">&#34;AA===&#34;</span><span class="op" id="7097634">,</span>&nbsp;<span class="num" id="7097636">5</span><span class="op" id="7097637">}</span><span class="op" id="7097638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097642">{</span><span class="string" id="7097643">&#34;AAAA=&#34;</span><span class="op" id="7097650">,</span>&nbsp;<span class="num" id="7097652">5</span><span class="op" id="7097653">}</span><span class="op" id="7097654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097658">{</span><span class="string" id="7097659">&#34;AAAA==&#34;</span><span class="op" id="7097667">,</span>&nbsp;<span class="num" id="7097669">6</span><span class="op" id="7097670">}</span><span class="op" id="7097671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097675">{</span><span class="string" id="7097676">&#34;AAAAA=&#34;</span><span class="op" id="7097684">,</span>&nbsp;<span class="num" id="7097686">6</span><span class="op" id="7097687">}</span><span class="op" id="7097688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097692">{</span><span class="string" id="7097693">&#34;AAAAA==&#34;</span><span class="op" id="7097702">,</span>&nbsp;<span class="num" id="7097704">7</span><span class="op" id="7097705">}</span><span class="op" id="7097706">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097710">{</span><span class="string" id="7097711">&#34;A=======&#34;</span><span class="op" id="7097721">,</span>&nbsp;<span class="num" id="7097723">1</span><span class="op" id="7097724">}</span><span class="op" id="7097725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097729">{</span><span class="string" id="7097730">&#34;AA======&#34;</span><span class="op" id="7097740">,</span>&nbsp;<span class="op" id="7097742">-</span><span class="num" id="7097743">1</span><span class="op" id="7097744">}</span><span class="op" id="7097745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097749">{</span><span class="string" id="7097750">&#34;AAA=====&#34;</span><span class="op" id="7097760">,</span>&nbsp;<span class="num" id="7097762">3</span><span class="op" id="7097763">}</span><span class="op" id="7097764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097768">{</span><span class="string" id="7097769">&#34;AAAA====&#34;</span><span class="op" id="7097779">,</span>&nbsp;<span class="op" id="7097781">-</span><span class="num" id="7097782">1</span><span class="op" id="7097783">}</span><span class="op" id="7097784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097788">{</span><span class="string" id="7097789">&#34;AAAAA===&#34;</span><span class="op" id="7097799">,</span>&nbsp;<span class="op" id="7097801">-</span><span class="num" id="7097802">1</span><span class="op" id="7097803">}</span><span class="op" id="7097804">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097808">{</span><span class="string" id="7097809">&#34;AAAAAA==&#34;</span><span class="op" id="7097819">,</span>&nbsp;<span class="num" id="7097821">6</span><span class="op" id="7097822">}</span><span class="op" id="7097823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097827">{</span><span class="string" id="7097828">&#34;AAAAAAA=&#34;</span><span class="op" id="7097838">,</span>&nbsp;<span class="op" id="7097840">-</span><span class="num" id="7097841">1</span><span class="op" id="7097842">}</span><span class="op" id="7097843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097847">{</span><span class="string" id="7097848">&#34;AAAAAAAA&#34;</span><span class="op" id="7097858">,</span>&nbsp;<span class="op" id="7097860">-</span><span class="num" id="7097861">1</span><span class="op" id="7097862">}</span><span class="op" id="7097863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7097869">for</span>&nbsp;<span class="ident" id="7097873">_</span><span class="op" id="7097874">,</span>&nbsp;<span class="ident" id="7097876">tc</span>&nbsp;<span class="op" id="7097879">:=</span>&nbsp;<span class="keyword" id="7097882">range</span>&nbsp;<span class="ident" id="7097888">testCases</span>&nbsp;<span class="op" id="7097898">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097902">dbuf</span>&nbsp;<span class="op" id="7097907">:=</span>&nbsp;<span class="builtinfunc" id="7097910">make</span><span class="op" id="7097914">(</span><span class="op" id="7097915">[</span><span class="op" id="7097916">]</span><span class="builtintype" id="7097917">byte</span><span class="op" id="7097921">,</span>&nbsp;<span class="ident" id="7097923">StdEncoding</span><span class="op" id="7097934">.</span><span class="ident" id="7097935">DecodedLen</span><span class="op" id="7097945">(</span><span class="builtinfunc" id="7097946">len</span><span class="op" id="7097949">(</span><span class="ident" id="7097950">tc</span><span class="op" id="7097952">.</span><span class="ident" id="7097953">input</span><span class="op" id="7097958">)</span><span class="op" id="7097959">)</span><span class="op" id="7097960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097964">_</span><span class="op" id="7097965">,</span>&nbsp;<span class="ident" id="7097967">err</span>&nbsp;<span class="op" id="7097971">:=</span>&nbsp;<span class="ident" id="7097974">StdEncoding</span><span class="op" id="7097985">.</span><span class="ident" id="7097986">Decode</span><span class="op" id="7097992">(</span><span class="ident" id="7097993">dbuf</span><span class="op" id="7097997">,</span>&nbsp;<span class="op" id="7097999">[</span><span class="op" id="7098000">]</span><span class="builtintype" id="7098001">byte</span><span class="op" id="7098005">(</span><span class="ident" id="7098006">tc</span><span class="op" id="7098008">.</span><span class="ident" id="7098009">input</span><span class="op" id="7098014">)</span><span class="op" id="7098015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098019">if</span>&nbsp;<span class="ident" id="7098022">tc</span><span class="op" id="7098024">.</span><span class="ident" id="7098025">offset</span>&nbsp;<span class="op" id="7098032">==</span>&nbsp;<span class="op" id="7098035">-</span><span class="num" id="7098036">1</span>&nbsp;<span class="op" id="7098038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098043">if</span>&nbsp;<span class="ident" id="7098046">err</span>&nbsp;<span class="op" id="7098050">!=</span>&nbsp;<span class="ident" id="7098053">nil</span>&nbsp;<span class="op" id="7098057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098063">t</span><span class="op" id="7098064">.</span><span class="ident" id="7098065">Error</span><span class="op" id="7098070">(</span><span class="string" id="7098071">&#34;Decoder&nbsp;wrongly&nbsp;detected&nbsp;coruption&nbsp;in&#34;</span><span class="op" id="7098110">,</span>&nbsp;<span class="ident" id="7098112">tc</span><span class="op" id="7098114">.</span><span class="ident" id="7098115">input</span><span class="op" id="7098120">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098130">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098145">switch</span>&nbsp;<span class="ident" id="7098152">err</span>&nbsp;<span class="op" id="7098156">:=</span>&nbsp;<span class="ident" id="7098159">err</span><span class="op" id="7098162">.</span><span class="op" id="7098163">(</span><span class="keyword" id="7098164">type</span><span class="op" id="7098168">)</span>&nbsp;<span class="op" id="7098170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098174">case</span>&nbsp;<span class="ident" id="7098179">CorruptInputError</span><span class="op" id="7098196">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098201">testEqual</span><span class="op" id="7098210">(</span><span class="ident" id="7098211">t</span><span class="op" id="7098212">,</span>&nbsp;<span class="string" id="7098214">&#34;Corruption&nbsp;in&nbsp;%q&nbsp;at&nbsp;offset&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7098254">,</span>&nbsp;<span class="ident" id="7098256">tc</span><span class="op" id="7098258">.</span><span class="ident" id="7098259">input</span><span class="op" id="7098264">,</span>&nbsp;<span class="builtintype" id="7098266">int</span><span class="op" id="7098269">(</span><span class="ident" id="7098270">err</span><span class="op" id="7098273">)</span><span class="op" id="7098274">,</span>&nbsp;<span class="ident" id="7098276">tc</span><span class="op" id="7098278">.</span><span class="ident" id="7098279">offset</span><span class="op" id="7098285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098289">default</span><span class="op" id="7098296">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098301">t</span><span class="op" id="7098302">.</span><span class="ident" id="7098303">Error</span><span class="op" id="7098308">(</span><span class="string" id="7098309">&#34;Decoder&nbsp;failed&nbsp;to&nbsp;detect&nbsp;corruption&nbsp;in&#34;</span><span class="op" id="7098349">,</span>&nbsp;<span class="ident" id="7098351">tc</span><span class="op" id="7098353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098360">}</span><br>
<span class="lineno">185</span><span class="op" id="7098362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7098365">func</span>&nbsp;<span class="ident" id="7098370">TestBig</span><span class="op" id="7098377">(</span><span class="ident" id="7098378">t</span>&nbsp;<span class="op" id="7098380">*</span><span class="ident" id="7098381">testing</span><span class="op" id="7098388">.</span><span class="ident" id="7098389">T</span><span class="op" id="7098390">)</span>&nbsp;<span class="op" id="7098392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098395">n</span>&nbsp;<span class="op" id="7098397">:=</span>&nbsp;<span class="num" id="7098400">3</span><span class="op" id="7098401">*</span><span class="num" id="7098402">1000</span>&nbsp;<span class="op" id="7098407">+</span>&nbsp;<span class="num" id="7098409">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098412">raw</span>&nbsp;<span class="op" id="7098416">:=</span>&nbsp;<span class="builtinfunc" id="7098419">make</span><span class="op" id="7098423">(</span><span class="op" id="7098424">[</span><span class="op" id="7098425">]</span><span class="builtintype" id="7098426">byte</span><span class="op" id="7098430">,</span>&nbsp;<span class="ident" id="7098432">n</span><span class="op" id="7098433">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098436">const</span>&nbsp;<span class="ident" id="7098442">alpha</span>&nbsp;<span class="op" id="7098448">=</span>&nbsp;<span class="string" id="7098450">&#34;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098516">for</span>&nbsp;<span class="ident" id="7098520">i</span>&nbsp;<span class="op" id="7098522">:=</span>&nbsp;<span class="num" id="7098525">0</span><span class="op" id="7098526">;</span>&nbsp;<span class="ident" id="7098528">i</span>&nbsp;<span class="op" id="7098530">&lt;</span>&nbsp;<span class="ident" id="7098532">n</span><span class="op" id="7098533">;</span>&nbsp;<span class="ident" id="7098535">i</span><span class="op" id="7098536">++</span>&nbsp;<span class="op" id="7098539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098543">raw</span><span class="op" id="7098546">[</span><span class="ident" id="7098547">i</span><span class="op" id="7098548">]</span>&nbsp;<span class="op" id="7098550">=</span>&nbsp;<span class="ident" id="7098552">alpha</span><span class="op" id="7098557">[</span><span class="ident" id="7098558">i</span><span class="op" id="7098559">%</span><span class="builtinfunc" id="7098560">len</span><span class="op" id="7098563">(</span><span class="ident" id="7098564">alpha</span><span class="op" id="7098569">)</span><span class="op" id="7098570">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098576">encoded</span>&nbsp;<span class="op" id="7098584">:=</span>&nbsp;<span class="builtinfunc" id="7098587">new</span><span class="op" id="7098590">(</span><span class="ident" id="7098591">bytes</span><span class="op" id="7098596">.</span><span class="ident" id="7098597">Buffer</span><span class="op" id="7098603">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098606">w</span>&nbsp;<span class="op" id="7098608">:=</span>&nbsp;<span class="ident" id="7098611">NewEncoder</span><span class="op" id="7098621">(</span><span class="ident" id="7098622">StdEncoding</span><span class="op" id="7098633">,</span>&nbsp;<span class="ident" id="7098635">encoded</span><span class="op" id="7098642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098645">nn</span><span class="op" id="7098647">,</span>&nbsp;<span class="ident" id="7098649">err</span>&nbsp;<span class="op" id="7098653">:=</span>&nbsp;<span class="ident" id="7098656">w</span><span class="op" id="7098657">.</span><span class="ident" id="7098658">Write</span><span class="op" id="7098663">(</span><span class="ident" id="7098664">raw</span><span class="op" id="7098667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098670">if</span>&nbsp;<span class="ident" id="7098673">nn</span>&nbsp;<span class="op" id="7098676">!=</span>&nbsp;<span class="ident" id="7098679">n</span>&nbsp;<span class="op" id="7098681">||</span>&nbsp;<span class="ident" id="7098684">err</span>&nbsp;<span class="op" id="7098688">!=</span>&nbsp;<span class="ident" id="7098691">nil</span>&nbsp;<span class="op" id="7098695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098699">t</span><span class="op" id="7098700">.</span><span class="ident" id="7098701">Fatalf</span><span class="op" id="7098707">(</span><span class="string" id="7098708">&#34;Encoder.Write(raw)&nbsp;=&nbsp;%d,&nbsp;%v&nbsp;want&nbsp;%d,&nbsp;nil&#34;</span><span class="op" id="7098750">,</span>&nbsp;<span class="ident" id="7098752">nn</span><span class="op" id="7098754">,</span>&nbsp;<span class="ident" id="7098756">err</span><span class="op" id="7098759">,</span>&nbsp;<span class="ident" id="7098761">n</span><span class="op" id="7098762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098765">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098768">err</span>&nbsp;<span class="op" id="7098772">=</span>&nbsp;<span class="ident" id="7098774">w</span><span class="op" id="7098775">.</span><span class="ident" id="7098776">Close</span><span class="op" id="7098781">(</span><span class="op" id="7098782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098785">if</span>&nbsp;<span class="ident" id="7098788">err</span>&nbsp;<span class="op" id="7098792">!=</span>&nbsp;<span class="ident" id="7098795">nil</span>&nbsp;<span class="op" id="7098799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098803">t</span><span class="op" id="7098804">.</span><span class="ident" id="7098805">Fatalf</span><span class="op" id="7098811">(</span><span class="string" id="7098812">&#34;Encoder.Close()&nbsp;=&nbsp;%v&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7098843">,</span>&nbsp;<span class="ident" id="7098845">err</span><span class="op" id="7098848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098854">decoded</span><span class="op" id="7098861">,</span>&nbsp;<span class="ident" id="7098863">err</span>&nbsp;<span class="op" id="7098867">:=</span>&nbsp;<span class="ident" id="7098870">ioutil</span><span class="op" id="7098876">.</span><span class="ident" id="7098877">ReadAll</span><span class="op" id="7098884">(</span><span class="ident" id="7098885">NewDecoder</span><span class="op" id="7098895">(</span><span class="ident" id="7098896">StdEncoding</span><span class="op" id="7098907">,</span>&nbsp;<span class="ident" id="7098909">encoded</span><span class="op" id="7098916">)</span><span class="op" id="7098917">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098920">if</span>&nbsp;<span class="ident" id="7098923">err</span>&nbsp;<span class="op" id="7098927">!=</span>&nbsp;<span class="ident" id="7098930">nil</span>&nbsp;<span class="op" id="7098934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7098938">t</span><span class="op" id="7098939">.</span><span class="ident" id="7098940">Fatalf</span><span class="op" id="7098946">(</span><span class="string" id="7098947">&#34;ioutil.ReadAll(NewDecoder(...)):&nbsp;%v&#34;</span><span class="op" id="7098984">,</span>&nbsp;<span class="ident" id="7098986">err</span><span class="op" id="7098989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7098992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098996">if</span>&nbsp;<span class="op" id="7098999">!</span><span class="ident" id="7099000">bytes</span><span class="op" id="7099005">.</span><span class="ident" id="7099006">Equal</span><span class="op" id="7099011">(</span><span class="ident" id="7099012">raw</span><span class="op" id="7099015">,</span>&nbsp;<span class="ident" id="7099017">decoded</span><span class="op" id="7099024">)</span>&nbsp;<span class="op" id="7099026">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099030">var</span>&nbsp;<span class="ident" id="7099034">i</span>&nbsp;<span class="builtintype" id="7099036">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099042">for</span>&nbsp;<span class="ident" id="7099046">i</span>&nbsp;<span class="op" id="7099048">=</span>&nbsp;<span class="num" id="7099050">0</span><span class="op" id="7099051">;</span>&nbsp;<span class="ident" id="7099053">i</span>&nbsp;<span class="op" id="7099055">&lt;</span>&nbsp;<span class="builtinfunc" id="7099057">len</span><span class="op" id="7099060">(</span><span class="ident" id="7099061">decoded</span><span class="op" id="7099068">)</span>&nbsp;<span class="op" id="7099070">&amp;&amp;</span>&nbsp;<span class="ident" id="7099073">i</span>&nbsp;<span class="op" id="7099075">&lt;</span>&nbsp;<span class="builtinfunc" id="7099077">len</span><span class="op" id="7099080">(</span><span class="ident" id="7099081">raw</span><span class="op" id="7099084">)</span><span class="op" id="7099085">;</span>&nbsp;<span class="ident" id="7099087">i</span><span class="op" id="7099088">++</span>&nbsp;<span class="op" id="7099091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099096">if</span>&nbsp;<span class="ident" id="7099099">decoded</span><span class="op" id="7099106">[</span><span class="ident" id="7099107">i</span><span class="op" id="7099108">]</span>&nbsp;<span class="op" id="7099110">!=</span>&nbsp;<span class="ident" id="7099113">raw</span><span class="op" id="7099116">[</span><span class="ident" id="7099117">i</span><span class="op" id="7099118">]</span>&nbsp;<span class="op" id="7099120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099126">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099135">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099143">t</span><span class="op" id="7099144">.</span><span class="ident" id="7099145">Errorf</span><span class="op" id="7099151">(</span><span class="string" id="7099152">&#34;Decode(Encode(%d-byte&nbsp;string))&nbsp;failed&nbsp;at&nbsp;offset&nbsp;%d&#34;</span><span class="op" id="7099204">,</span>&nbsp;<span class="ident" id="7099206">n</span><span class="op" id="7099207">,</span>&nbsp;<span class="ident" id="7099209">i</span><span class="op" id="7099210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099213">}</span><br>
<span class="lineno"></span><span class="op" id="7099215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="7099218">func</span>&nbsp;<span class="ident" id="7099223">testStringEncoding</span><span class="op" id="7099241">(</span><span class="ident" id="7099242">t</span>&nbsp;<span class="op" id="7099244">*</span><span class="ident" id="7099245">testing</span><span class="op" id="7099252">.</span><span class="ident" id="7099253">T</span><span class="op" id="7099254">,</span>&nbsp;<span class="ident" id="7099256">expected</span>&nbsp;<span class="builtintype" id="7099265">string</span><span class="op" id="7099271">,</span>&nbsp;<span class="ident" id="7099273">examples</span>&nbsp;<span class="op" id="7099282">[</span><span class="op" id="7099283">]</span><span class="builtintype" id="7099284">string</span><span class="op" id="7099290">)</span>&nbsp;<span class="op" id="7099292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099295">for</span>&nbsp;<span class="ident" id="7099299">_</span><span class="op" id="7099300">,</span>&nbsp;<span class="ident" id="7099302">e</span>&nbsp;<span class="op" id="7099304">:=</span>&nbsp;<span class="keyword" id="7099307">range</span>&nbsp;<span class="ident" id="7099313">examples</span>&nbsp;<span class="op" id="7099322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099326">buf</span><span class="op" id="7099329">,</span>&nbsp;<span class="ident" id="7099331">err</span>&nbsp;<span class="op" id="7099335">:=</span>&nbsp;<span class="ident" id="7099338">StdEncoding</span><span class="op" id="7099349">.</span><span class="ident" id="7099350">DecodeString</span><span class="op" id="7099362">(</span><span class="ident" id="7099363">e</span><span class="op" id="7099364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099368">if</span>&nbsp;<span class="ident" id="7099371">err</span>&nbsp;<span class="op" id="7099375">!=</span>&nbsp;<span class="ident" id="7099378">nil</span>&nbsp;<span class="op" id="7099382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099387">t</span><span class="op" id="7099388">.</span><span class="ident" id="7099389">Errorf</span><span class="op" id="7099395">(</span><span class="string" id="7099396">&#34;Decode(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7099419">,</span>&nbsp;<span class="ident" id="7099421">e</span><span class="op" id="7099422">,</span>&nbsp;<span class="ident" id="7099424">err</span><span class="op" id="7099427">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099432">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099447">if</span>&nbsp;<span class="ident" id="7099450">s</span>&nbsp;<span class="op" id="7099452">:=</span>&nbsp;<span class="builtintype" id="7099455">string</span><span class="op" id="7099461">(</span><span class="ident" id="7099462">buf</span><span class="op" id="7099465">)</span><span class="op" id="7099466">;</span>&nbsp;<span class="ident" id="7099468">s</span>&nbsp;<span class="op" id="7099470">!=</span>&nbsp;<span class="ident" id="7099473">expected</span>&nbsp;<span class="op" id="7099482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099487">t</span><span class="op" id="7099488">.</span><span class="ident" id="7099489">Errorf</span><span class="op" id="7099495">(</span><span class="string" id="7099496">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7099522">,</span>&nbsp;<span class="ident" id="7099524">e</span><span class="op" id="7099525">,</span>&nbsp;<span class="ident" id="7099527">s</span><span class="op" id="7099528">,</span>&nbsp;<span class="ident" id="7099530">expected</span><span class="op" id="7099538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099542">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099545">}</span><br>
<span class="lineno"></span><span class="op" id="7099547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7099550">func</span>&nbsp;<span class="ident" id="7099555">TestNewLineCharacters</span><span class="op" id="7099576">(</span><span class="ident" id="7099577">t</span>&nbsp;<span class="op" id="7099579">*</span><span class="ident" id="7099580">testing</span><span class="op" id="7099587">.</span><span class="ident" id="7099588">T</span><span class="op" id="7099589">)</span>&nbsp;<span class="op" id="7099591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7099594">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;sure&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099664">examples</span>&nbsp;<span class="op" id="7099673">:=</span>&nbsp;<span class="op" id="7099676">[</span><span class="op" id="7099677">]</span><span class="builtintype" id="7099678">string</span><span class="op" id="7099684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099688">&#34;ON2XEZI=&#34;</span><span class="op" id="7099698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099702">&#34;ON2XEZI=\r&#34;</span><span class="op" id="7099714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099718">&#34;ON2XEZI=\n&#34;</span><span class="op" id="7099730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099734">&#34;ON2XEZI=\r\n&#34;</span><span class="op" id="7099748">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099752">&#34;ON2XEZ\r\nI=&#34;</span><span class="op" id="7099766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099770">&#34;ON2X\rEZ\nI=&#34;</span><span class="op" id="7099784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099788">&#34;ON2X\nEZ\rI=&#34;</span><span class="op" id="7099802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099806">&#34;ON2XEZ\nI=&#34;</span><span class="op" id="7099818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099822">&#34;ON2XEZI\n=&#34;</span><span class="op" id="7099834">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099840">testStringEncoding</span><span class="op" id="7099858">(</span><span class="ident" id="7099859">t</span><span class="op" id="7099860">,</span>&nbsp;<span class="string" id="7099862">&#34;sure&#34;</span><span class="op" id="7099868">,</span>&nbsp;<span class="ident" id="7099870">examples</span><span class="op" id="7099878">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7099882">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;foobar&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099954">examples</span>&nbsp;<span class="op" id="7099963">=</span>&nbsp;<span class="op" id="7099965">[</span><span class="op" id="7099966">]</span><span class="builtintype" id="7099967">string</span><span class="op" id="7099973">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099977">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7099995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7099999">&#34;MZXW6YTBOI=\r\n=====&#34;</span><span class="op" id="7100021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7100024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100027">testStringEncoding</span><span class="op" id="7100045">(</span><span class="ident" id="7100046">t</span><span class="op" id="7100047">,</span>&nbsp;<span class="string" id="7100049">&#34;foobar&#34;</span><span class="op" id="7100057">,</span>&nbsp;<span class="ident" id="7100059">examples</span><span class="op" id="7100067">)</span><br>
<span class="lineno"></span><span class="op" id="7100069">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="keyword" id="7100072">func</span>&nbsp;<span class="ident" id="7100077">TestDecoderIssue4779</span><span class="op" id="7100097">(</span><span class="ident" id="7100098">t</span>&nbsp;<span class="op" id="7100100">*</span><span class="ident" id="7100101">testing</span><span class="op" id="7100108">.</span><span class="ident" id="7100109">T</span><span class="op" id="7100110">)</span>&nbsp;<span class="op" id="7100112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100115">encoded</span>&nbsp;<span class="op" id="7100123">:=</span>&nbsp;<span class="string" id="7100126">`JRXXEZLNEBUXA43VNUQGI33MN5ZCA43JOQQGC3LFOQWCAY3PNZZWKY3UMV2HK4<br>
<span class="lineno"></span>RAMFSGS4DJONUWG2LOM4QGK3DJOQWCA43FMQQGI3YKMVUXK43NN5SCA5DFNVYG64RANFXGG2LENFSH<br>
<span class="lineno"></span>K3TUEB2XIIDMMFRG64TFEBSXIIDEN5WG64TFEBWWCZ3OMEQGC3DJOF2WCLRAKV2CAZLONFWQUYLEEB<br>
<span class="lineno">260</span>WWS3TJNUQHMZLONFQW2LBAOF2WS4ZANZXXG5DSOVSCAZLYMVZGG2LUMF2GS33OEB2WY3DBNVRW6IDM<br>
<span class="lineno"></span>MFRG64TJOMQG42LTNEQHK5AKMFWGS4LVNFYCAZLYEBSWCIDDN5WW233EN4QGG33OONSXC5LBOQXCAR<br>
<span class="lineno"></span>DVNFZSAYLVORSSA2LSOVZGKIDEN5WG64RANFXAU4TFOBZGK2DFNZSGK4TJOQQGS3RAOZXWY5LQORQX<br>
<span class="lineno"></span>IZJAOZSWY2LUEBSXG43FEBRWS3DMOVWSAZDPNRXXEZJAMV2SAZTVM5UWC5BANZ2WY3DBBJYGC4TJMF<br>
<span class="lineno"></span>2HK4ROEBCXQY3FOB2GK5LSEBZWS3TUEBXWGY3BMVRWC5BAMN2XA2LEMF2GC5BANZXW4IDQOJXWSZDF<br>
<span class="lineno">265</span>NZ2CYIDTOVXHIIDJNYFGG5LMOBQSA4LVNEQG6ZTGNFRWSYJAMRSXGZLSOVXHIIDNN5WGY2LUEBQW42<br>
<span class="lineno"></span>LNEBUWIIDFON2CA3DBMJXXE5LNFY==<br>
<span class="lineno"></span>====`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100860">encodedShort</span>&nbsp;<span class="op" id="7100873">:=</span>&nbsp;<span class="ident" id="7100876">strings</span><span class="op" id="7100883">.</span><span class="ident" id="7100884">Replace</span><span class="op" id="7100891">(</span><span class="ident" id="7100892">encoded</span><span class="op" id="7100899">,</span>&nbsp;<span class="string" id="7100901">&#34;\n&#34;</span><span class="op" id="7100905">,</span>&nbsp;<span class="string" id="7100907">&#34;&#34;</span><span class="op" id="7100909">,</span>&nbsp;<span class="op" id="7100911">-</span><span class="num" id="7100912">1</span><span class="op" id="7100913">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100917">dec</span>&nbsp;<span class="op" id="7100921">:=</span>&nbsp;<span class="ident" id="7100924">NewDecoder</span><span class="op" id="7100934">(</span><span class="ident" id="7100935">StdEncoding</span><span class="op" id="7100946">,</span>&nbsp;<span class="ident" id="7100948">strings</span><span class="op" id="7100955">.</span><span class="ident" id="7100956">NewReader</span><span class="op" id="7100965">(</span><span class="ident" id="7100966">encoded</span><span class="op" id="7100973">)</span><span class="op" id="7100974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7100977">res1</span><span class="op" id="7100981">,</span>&nbsp;<span class="ident" id="7100983">err</span>&nbsp;<span class="op" id="7100987">:=</span>&nbsp;<span class="ident" id="7100990">ioutil</span><span class="op" id="7100996">.</span><span class="ident" id="7100997">ReadAll</span><span class="op" id="7101004">(</span><span class="ident" id="7101005">dec</span><span class="op" id="7101008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101011">if</span>&nbsp;<span class="ident" id="7101014">err</span>&nbsp;<span class="op" id="7101018">!=</span>&nbsp;<span class="ident" id="7101021">nil</span>&nbsp;<span class="op" id="7101025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101029">t</span><span class="op" id="7101030">.</span><span class="ident" id="7101031">Errorf</span><span class="op" id="7101037">(</span><span class="string" id="7101038">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7101058">,</span>&nbsp;<span class="ident" id="7101060">err</span><span class="op" id="7101063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101066">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101070">dec</span>&nbsp;<span class="op" id="7101074">=</span>&nbsp;<span class="ident" id="7101076">NewDecoder</span><span class="op" id="7101086">(</span><span class="ident" id="7101087">StdEncoding</span><span class="op" id="7101098">,</span>&nbsp;<span class="ident" id="7101100">strings</span><span class="op" id="7101107">.</span><span class="ident" id="7101108">NewReader</span><span class="op" id="7101117">(</span><span class="ident" id="7101118">encodedShort</span><span class="op" id="7101130">)</span><span class="op" id="7101131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101134">var</span>&nbsp;<span class="ident" id="7101138">res2</span>&nbsp;<span class="op" id="7101143">[</span><span class="op" id="7101144">]</span><span class="builtintype" id="7101145">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101151">res2</span><span class="op" id="7101155">,</span>&nbsp;<span class="ident" id="7101157">err</span>&nbsp;<span class="op" id="7101161">=</span>&nbsp;<span class="ident" id="7101163">ioutil</span><span class="op" id="7101169">.</span><span class="ident" id="7101170">ReadAll</span><span class="op" id="7101177">(</span><span class="ident" id="7101178">dec</span><span class="op" id="7101181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101184">if</span>&nbsp;<span class="ident" id="7101187">err</span>&nbsp;<span class="op" id="7101191">!=</span>&nbsp;<span class="ident" id="7101194">nil</span>&nbsp;<span class="op" id="7101198">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101202">t</span><span class="op" id="7101203">.</span><span class="ident" id="7101204">Errorf</span><span class="op" id="7101210">(</span><span class="string" id="7101211">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7101231">,</span>&nbsp;<span class="ident" id="7101233">err</span><span class="op" id="7101236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101243">if</span>&nbsp;<span class="op" id="7101246">!</span><span class="ident" id="7101247">bytes</span><span class="op" id="7101252">.</span><span class="ident" id="7101253">Equal</span><span class="op" id="7101258">(</span><span class="ident" id="7101259">res1</span><span class="op" id="7101263">,</span>&nbsp;<span class="ident" id="7101265">res2</span><span class="op" id="7101269">)</span>&nbsp;<span class="op" id="7101271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101275">t</span><span class="op" id="7101276">.</span><span class="ident" id="7101277">Error</span><span class="op" id="7101282">(</span><span class="string" id="7101283">&#34;Decoded&nbsp;results&nbsp;not&nbsp;equal&#34;</span><span class="op" id="7101310">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101313">}</span><br>
<span class="lineno"></span><span class="op" id="7101315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7101318">func</span>&nbsp;<span class="ident" id="7101323">BenchmarkEncodeToString</span><span class="op" id="7101346">(</span><span class="ident" id="7101347">b</span>&nbsp;<span class="op" id="7101349">*</span><span class="ident" id="7101350">testing</span><span class="op" id="7101357">.</span><span class="ident" id="7101358">B</span><span class="op" id="7101359">)</span>&nbsp;<span class="op" id="7101361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101364">data</span>&nbsp;<span class="op" id="7101369">:=</span>&nbsp;<span class="builtinfunc" id="7101372">make</span><span class="op" id="7101376">(</span><span class="op" id="7101377">[</span><span class="op" id="7101378">]</span><span class="builtintype" id="7101379">byte</span><span class="op" id="7101383">,</span>&nbsp;<span class="num" id="7101385">8192</span><span class="op" id="7101389">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101392">b</span><span class="op" id="7101393">.</span><span class="ident" id="7101394">SetBytes</span><span class="op" id="7101402">(</span><span class="ident" id="7101403">int64</span><span class="op" id="7101408">(</span><span class="builtinfunc" id="7101409">len</span><span class="op" id="7101412">(</span><span class="ident" id="7101413">data</span><span class="op" id="7101417">)</span><span class="op" id="7101418">)</span><span class="op" id="7101419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101422">for</span>&nbsp;<span class="ident" id="7101426">i</span>&nbsp;<span class="op" id="7101428">:=</span>&nbsp;<span class="num" id="7101431">0</span><span class="op" id="7101432">;</span>&nbsp;<span class="ident" id="7101434">i</span>&nbsp;<span class="op" id="7101436">&lt;</span>&nbsp;<span class="ident" id="7101438">b</span><span class="op" id="7101439">.</span><span class="ident" id="7101440">N</span><span class="op" id="7101441">;</span>&nbsp;<span class="ident" id="7101443">i</span><span class="op" id="7101444">++</span>&nbsp;<span class="op" id="7101447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101451">StdEncoding</span><span class="op" id="7101462">.</span><span class="ident" id="7101463">EncodeToString</span><span class="op" id="7101477">(</span><span class="ident" id="7101478">data</span><span class="op" id="7101482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101485">}</span><br>
<span class="lineno"></span><span class="op" id="7101487">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="7101490">func</span>&nbsp;<span class="ident" id="7101495">BenchmarkDecodeString</span><span class="op" id="7101516">(</span><span class="ident" id="7101517">b</span>&nbsp;<span class="op" id="7101519">*</span><span class="ident" id="7101520">testing</span><span class="op" id="7101527">.</span><span class="ident" id="7101528">B</span><span class="op" id="7101529">)</span>&nbsp;<span class="op" id="7101531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101534">data</span>&nbsp;<span class="op" id="7101539">:=</span>&nbsp;<span class="ident" id="7101542">StdEncoding</span><span class="op" id="7101553">.</span><span class="ident" id="7101554">EncodeToString</span><span class="op" id="7101568">(</span><span class="builtinfunc" id="7101569">make</span><span class="op" id="7101573">(</span><span class="op" id="7101574">[</span><span class="op" id="7101575">]</span><span class="builtintype" id="7101576">byte</span><span class="op" id="7101580">,</span>&nbsp;<span class="num" id="7101582">8192</span><span class="op" id="7101586">)</span><span class="op" id="7101587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101590">b</span><span class="op" id="7101591">.</span><span class="ident" id="7101592">SetBytes</span><span class="op" id="7101600">(</span><span class="ident" id="7101601">int64</span><span class="op" id="7101606">(</span><span class="builtinfunc" id="7101607">len</span><span class="op" id="7101610">(</span><span class="ident" id="7101611">data</span><span class="op" id="7101615">)</span><span class="op" id="7101616">)</span><span class="op" id="7101617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7101620">for</span>&nbsp;<span class="ident" id="7101624">i</span>&nbsp;<span class="op" id="7101626">:=</span>&nbsp;<span class="num" id="7101629">0</span><span class="op" id="7101630">;</span>&nbsp;<span class="ident" id="7101632">i</span>&nbsp;<span class="op" id="7101634">&lt;</span>&nbsp;<span class="ident" id="7101636">b</span><span class="op" id="7101637">.</span><span class="ident" id="7101638">N</span><span class="op" id="7101639">;</span>&nbsp;<span class="ident" id="7101641">i</span><span class="op" id="7101642">++</span>&nbsp;<span class="op" id="7101645">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7101649">StdEncoding</span><span class="op" id="7101660">.</span><span class="ident" id="7101661">DecodeString</span><span class="op" id="7101673">(</span><span class="ident" id="7101674">data</span><span class="op" id="7101678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7101681">}</span><br>
<span class="lineno"></span><span class="op" id="7101683">}</span>
</div>
</body>
</html>
