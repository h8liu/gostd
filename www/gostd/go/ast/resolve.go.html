<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/ast</h2>
<ul>
<li><a href="/gostd/go/ast/ast.go.html">ast.go</a></li>
<li><a href="/gostd/go/ast/ast_test.go.html">ast_test.go</a></li>
<li><a href="/gostd/go/ast/commentmap.go.html">commentmap.go</a></li>
<li><a href="/gostd/go/ast/commentmap_test.go.html">commentmap_test.go</a></li>
<li><a href="/gostd/go/ast/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/ast/filter.go.html">filter.go</a></li>
<li><a href="/gostd/go/ast/filter_test.go.html">filter_test.go</a></li>
<li><a href="/gostd/go/ast/import.go.html">import.go</a></li>
<li><a href="/gostd/go/ast/print.go.html">print.go</a></li>
<li><a href="/gostd/go/ast/print_test.go.html">print_test.go</a></li>
<li><a href="/gostd/go/ast/resolve.go.html" class="current">resolve.go</a></li>
<li><a href="/gostd/go/ast/scope.go.html">scope.go</a></li>
<li><a href="/gostd/go/ast/walk.go.html">walk.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3857649">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3857704">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3857758">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3857809">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;NewPackage.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3857846">package</span>&nbsp;<span class="ident" id="3857854">ast</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3857859">import</span>&nbsp;<span class="op" id="3857866">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3857869">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3857876">&#34;go/scanner&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3857890">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3857902">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="3857912">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="3857915">type</span>&nbsp;<span class="ident" id="3857920">pkgBuilder</span>&nbsp;<span class="keyword" id="3857931">struct</span>&nbsp;<span class="op" id="3857938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857941">fset</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3857948">*</span><span class="ident" id="3857949"><a href="/gostd/go/ast/resolve.go.html#3857890">token</a></span><span class="op" id="3857954">.</span><span class="ident" id="3857955"><a href="/gostd/go/token/position.go.html#3883366">FileSet</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857964">errors</span>&nbsp;<span class="ident" id="3857971"><a href="/gostd/go/ast/resolve.go.html#3857876">scanner</a></span><span class="op" id="3857978">.</span><span class="ident" id="3857979"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><br>
<span class="lineno"></span><span class="op" id="3857989">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="3857992">func</span>&nbsp;<span class="op" id="3857997">(</span><span class="ident" id="3857998">p</span>&nbsp;<span class="op" id="3858000">*</span><span class="ident" id="3858001"><a href="/gostd/go/ast/resolve.go.html#3857920">pkgBuilder</a></span><span class="op" id="3858011">)</span>&nbsp;<span class="builtintype" id="3858013">error</span><span class="op" id="3858018">(</span><span class="ident" id="3858019">pos</span>&nbsp;<span class="ident" id="3858023"><a href="/gostd/go/ast/resolve.go.html#3857890">token</a></span><span class="op" id="3858028">.</span><span class="ident" id="3858029"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="3858032">,</span>&nbsp;<span class="ident" id="3858034">msg</span>&nbsp;<span class="builtintype" id="3858038">string</span><span class="op" id="3858044">)</span>&nbsp;<span class="op" id="3858046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3858049"><a href="/gostd/go/ast/resolve.go.html#3857998">p</a></span><span class="op" id="3858050">.</span><span class="ident" id="3858051"><a href="/gostd/go/ast/resolve.go.html#3857964">errors</a></span><span class="op" id="3858057">.</span><span class="ident" id="3858058"><a href="/gostd/go/scanner/errors.go.html#3895685">Add</a></span><span class="op" id="3858061">(</span><span class="ident" id="3858062"><a href="/gostd/go/ast/resolve.go.html#3857998">p</a></span><span class="op" id="3858063">.</span><span class="ident" id="3858064"><a href="/gostd/go/ast/resolve.go.html#3857941">fset</a></span><span class="op" id="3858068">.</span><span class="ident" id="3858069"><a href="/gostd/go/token/position.go.html#3887071">Position</a></span><span class="op" id="3858077">(</span><span class="ident" id="3858078"><a href="/gostd/go/ast/resolve.go.html#3858019">pos</a></span><span class="op" id="3858081">)</span><span class="op" id="3858082">,</span>&nbsp;<span class="ident" id="3858084"><a href="/gostd/go/ast/resolve.go.html#3858034">msg</a></span><span class="op" id="3858087">)</span><br>
<span class="lineno"></span><span class="op" id="3858089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="3858092">func</span>&nbsp;<span class="op" id="3858097">(</span><span class="ident" id="3858098">p</span>&nbsp;<span class="op" id="3858100">*</span><span class="ident" id="3858101"><a href="/gostd/go/ast/resolve.go.html#3857920">pkgBuilder</a></span><span class="op" id="3858111">)</span>&nbsp;<span class="ident" id="3858113">errorf</span><span class="op" id="3858119">(</span><span class="ident" id="3858120">pos</span>&nbsp;<span class="ident" id="3858124"><a href="/gostd/go/ast/resolve.go.html#3857890">token</a></span><span class="op" id="3858129">.</span><span class="ident" id="3858130"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="3858133">,</span>&nbsp;<span class="ident" id="3858135">format</span>&nbsp;<span class="builtintype" id="3858142">string</span><span class="op" id="3858148">,</span>&nbsp;<span class="ident" id="3858150">args</span>&nbsp;<span class="op" id="3858155">...</span><span class="keyword" id="3858158">interface</span><span class="op" id="3858167">{</span><span class="op" id="3858168">}</span><span class="op" id="3858169">)</span>&nbsp;<span class="op" id="3858171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3858174"><a href="/gostd/go/ast/resolve.go.html#3858098">p</a></span><span class="op" id="3858175">.</span><span class="builtintype" id="3858176"><a href="/gostd/go/ast/resolve.go.html#3858013">error</a></span><span class="op" id="3858181">(</span><span class="ident" id="3858182"><a href="/gostd/go/ast/resolve.go.html#3858120">pos</a></span><span class="op" id="3858185">,</span>&nbsp;<span class="ident" id="3858187"><a href="/gostd/go/ast/resolve.go.html#3857869">fmt</a></span><span class="op" id="3858190">.</span><span class="ident" id="3858191"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3858198">(</span><span class="ident" id="3858199"><a href="/gostd/go/ast/resolve.go.html#3858135">format</a></span><span class="op" id="3858205">,</span>&nbsp;<span class="ident" id="3858207"><a href="/gostd/go/ast/resolve.go.html#3858150">args</a></span><span class="op" id="3858211">...</span><span class="op" id="3858214">)</span><span class="op" id="3858215">)</span><br>
<span class="lineno"></span><span class="op" id="3858217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3858220">func</span>&nbsp;<span class="op" id="3858225">(</span><span class="ident" id="3858226">p</span>&nbsp;<span class="op" id="3858228">*</span><span class="ident" id="3858229"><a href="/gostd/go/ast/resolve.go.html#3857920">pkgBuilder</a></span><span class="op" id="3858239">)</span>&nbsp;<span class="ident" id="3858241">declare</span><span class="op" id="3858248">(</span><span class="ident" id="3858249">scope</span><span class="op" id="3858254">,</span>&nbsp;<span class="ident" id="3858256">altScope</span>&nbsp;<span class="op" id="3858265">*</span><span class="ident" id="3858266"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="3858271">,</span>&nbsp;<span class="ident" id="3858273">obj</span>&nbsp;<span class="op" id="3858277">*</span><span class="ident" id="3858278"><a href="/gostd/go/ast/scope.go.html#3865142">Object</a></span><span class="op" id="3858284">)</span>&nbsp;<span class="op" id="3858286">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3858289">alt</span>&nbsp;<span class="op" id="3858293">:=</span>&nbsp;<span class="ident" id="3858296"><a href="/gostd/go/ast/resolve.go.html#3858249">scope</a></span><span class="op" id="3858301">.</span><span class="ident" id="3858302"><a href="/gostd/go/ast/scope.go.html#3864144">Insert</a></span><span class="op" id="3858308">(</span><span class="ident" id="3858309"><a href="/gostd/go/ast/resolve.go.html#3858273">obj</a></span><span class="op" id="3858312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3858315">if</span>&nbsp;<span class="ident" id="3858318"><a href="/gostd/go/ast/resolve.go.html#3858289">alt</a></span>&nbsp;<span class="op" id="3858322">==</span>&nbsp;<span class="builtintype" id="3858325">nil</span>&nbsp;<span class="op" id="3858329">&amp;&amp;</span>&nbsp;<span class="ident" id="3858332"><a href="/gostd/go/ast/resolve.go.html#3858256">altScope</a></span>&nbsp;<span class="op" id="3858341">!=</span>&nbsp;<span class="builtintype" id="3858344">nil</span>&nbsp;<span class="op" id="3858348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3858352">//&nbsp;see&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;conflicting&nbsp;declaration&nbsp;in&nbsp;altScope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3858411"><a href="/gostd/go/ast/resolve.go.html#3858289">alt</a></span>&nbsp;<span class="op" id="3858415">=</span>&nbsp;<span class="ident" id="3858417"><a href="/gostd/go/ast/resolve.go.html#3858256">altScope</a></span><span class="op" id="3858425">.</span><span class="ident" id="3858426"><a href="/gostd/go/ast/scope.go.html#3863835">Lookup</a></span><span class="op" id="3858432">(</span><span class="ident" id="3858433"><a href="/gostd/go/ast/resolve.go.html#3858273">obj</a></span><span class="op" id="3858436">.</span><span class="ident" id="3858437"><a href="/gostd/go/ast/scope.go.html#3865173">Name</a></span><span class="op" id="3858441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3858444">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3858447">if</span>&nbsp;<span class="ident" id="3858450"><a href="/gostd/go/ast/resolve.go.html#3858289">alt</a></span>&nbsp;<span class="op" id="3858454">!=</span>&nbsp;<span class="builtintype" id="3858457">nil</span>&nbsp;<span class="op" id="3858461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3858465">prevDecl</span>&nbsp;<span class="op" id="3858474">:=</span>&nbsp;<span class="string" id="3858477">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3858482">if</span>&nbsp;<span class="ident" id="3858485">pos</span>&nbsp;<span class="op" id="3858489">:=</span>&nbsp;<span class="ident" id="3858492"><a href="/gostd/go/ast/resolve.go.html#3858289">alt</a></span><span class="op" id="3858495">.</span><span class="ident" id="3858496"><a href="/gostd/go/ast/scope.go.html#3865775">Pos</a></span><span class="op" id="3858499">(</span><span class="op" id="3858500">)</span><span class="op" id="3858501">;</span>&nbsp;<span class="ident" id="3858503"><a href="/gostd/go/ast/resolve.go.html#3858485">pos</a></span><span class="op" id="3858506">.</span><span class="ident" id="3858507"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="3858514">(</span><span class="op" id="3858515">)</span>&nbsp;<span class="op" id="3858517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3858522"><a href="/gostd/go/ast/resolve.go.html#3858465">prevDecl</a></span>&nbsp;<span class="op" id="3858531">=</span>&nbsp;<span class="ident" id="3858533"><a href="/gostd/go/ast/resolve.go.html#3857869">fmt</a></span><span class="op" id="3858536">.</span><span class="ident" id="3858537"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3858544">(</span><span class="string" id="3858545">&#34;\n\tprevious&nbsp;declaration&nbsp;at&nbsp;%s&#34;</span><span class="op" id="3858577">,</span>&nbsp;<span class="ident" id="3858579"><a href="/gostd/go/ast/resolve.go.html#3858226">p</a></span><span class="op" id="3858580">.</span><span class="ident" id="3858581"><a href="/gostd/go/ast/resolve.go.html#3857941">fset</a></span><span class="op" id="3858585">.</span><span class="ident" id="3858586"><a href="/gostd/go/token/position.go.html#3887071">Position</a></span><span class="op" id="3858594">(</span><span class="ident" id="3858595"><a href="/gostd/go/ast/resolve.go.html#3858485">pos</a></span><span class="op" id="3858598">)</span><span class="op" id="3858599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3858603">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3858607"><a href="/gostd/go/ast/resolve.go.html#3858226">p</a></span><span class="op" id="3858608">.</span><span class="builtintype" id="3858609"><a href="/gostd/go/ast/resolve.go.html#3858013">error</a></span><span class="op" id="3858614">(</span><span class="ident" id="3858615"><a href="/gostd/go/ast/resolve.go.html#3858273">obj</a></span><span class="op" id="3858618">.</span><span class="ident" id="3858619"><a href="/gostd/go/ast/scope.go.html#3865775">Pos</a></span><span class="op" id="3858622">(</span><span class="op" id="3858623">)</span><span class="op" id="3858624">,</span>&nbsp;<span class="ident" id="3858626"><a href="/gostd/go/ast/resolve.go.html#3857869">fmt</a></span><span class="op" id="3858629">.</span><span class="ident" id="3858630"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3858637">(</span><span class="string" id="3858638">&#34;%s&nbsp;redeclared&nbsp;in&nbsp;this&nbsp;block%s&#34;</span><span class="op" id="3858669">,</span>&nbsp;<span class="ident" id="3858671"><a href="/gostd/go/ast/resolve.go.html#3858273">obj</a></span><span class="op" id="3858674">.</span><span class="ident" id="3858675"><a href="/gostd/go/ast/scope.go.html#3865173">Name</a></span><span class="op" id="3858679">,</span>&nbsp;<span class="ident" id="3858681"><a href="/gostd/go/ast/resolve.go.html#3858465">prevDecl</a></span><span class="op" id="3858689">)</span><span class="op" id="3858690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3858693">}</span><br>
<span class="lineno"></span><span class="op" id="3858695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3858698">func</span>&nbsp;<span class="ident" id="3858703">resolve</span><span class="op" id="3858710">(</span><span class="ident" id="3858711">scope</span>&nbsp;<span class="op" id="3858717">*</span><span class="ident" id="3858718"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="3858723">,</span>&nbsp;<span class="ident" id="3858725">ident</span>&nbsp;<span class="op" id="3858731">*</span><span class="ident" id="3858732"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="3858737">)</span>&nbsp;<span class="builtintype" id="3858739">bool</span>&nbsp;<span class="op" id="3858744">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3858747">for</span>&nbsp;<span class="op" id="3858751">;</span>&nbsp;<span class="ident" id="3858753"><a href="/gostd/go/ast/resolve.go.html#3858711">scope</a></span>&nbsp;<span class="op" id="3858759">!=</span>&nbsp;<span class="builtintype" id="3858762">nil</span><span class="op" id="3858765">;</span>&nbsp;<span class="ident" id="3858767"><a href="/gostd/go/ast/resolve.go.html#3858711">scope</a></span>&nbsp;<span class="op" id="3858773">=</span>&nbsp;<span class="ident" id="3858775"><a href="/gostd/go/ast/resolve.go.html#3858711">scope</a></span><span class="op" id="3858780">.</span><span class="ident" id="3858781"><a href="/gostd/go/ast/scope.go.html#3863447">Outer</a></span>&nbsp;<span class="op" id="3858787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3858791">if</span>&nbsp;<span class="ident" id="3858794">obj</span>&nbsp;<span class="op" id="3858798">:=</span>&nbsp;<span class="ident" id="3858801"><a href="/gostd/go/ast/resolve.go.html#3858711">scope</a></span><span class="op" id="3858806">.</span><span class="ident" id="3858807"><a href="/gostd/go/ast/scope.go.html#3863835">Lookup</a></span><span class="op" id="3858813">(</span><span class="ident" id="3858814"><a href="/gostd/go/ast/resolve.go.html#3858725">ident</a></span><span class="op" id="3858819">.</span><span class="ident" id="3858820"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3858824">)</span><span class="op" id="3858825">;</span>&nbsp;<span class="ident" id="3858827"><a href="/gostd/go/ast/resolve.go.html#3858794">obj</a></span>&nbsp;<span class="op" id="3858831">!=</span>&nbsp;<span class="builtintype" id="3858834">nil</span>&nbsp;<span class="op" id="3858838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3858843"><a href="/gostd/go/ast/resolve.go.html#3858725">ident</a></span><span class="op" id="3858848">.</span><span class="ident" id="3858849"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="3858853">=</span>&nbsp;<span class="ident" id="3858855"><a href="/gostd/go/ast/resolve.go.html#3858794">obj</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3858862">return</span>&nbsp;<span class="builtintype" id="3858869">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3858876">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3858879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3858882">return</span>&nbsp;<span class="builtintype" id="3858889">false</span><br>
<span class="lineno"></span><span class="op" id="3858895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3858898">//&nbsp;An&nbsp;Importer&nbsp;resolves&nbsp;import&nbsp;paths&nbsp;to&nbsp;package&nbsp;Objects.</span><br>
<span class="lineno">55</span><span class="comment" id="3858955">//&nbsp;The&nbsp;imports&nbsp;map&nbsp;records&nbsp;the&nbsp;packages&nbsp;already&nbsp;imported,</span><br>
<span class="lineno"></span><span class="comment" id="3859013">//&nbsp;indexed&nbsp;by&nbsp;package&nbsp;id&nbsp;(canonical&nbsp;import&nbsp;path).</span><br>
<span class="lineno"></span><span class="comment" id="3859063">//&nbsp;An&nbsp;Importer&nbsp;must&nbsp;determine&nbsp;the&nbsp;canonical&nbsp;import&nbsp;path&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3859123">//&nbsp;check&nbsp;the&nbsp;map&nbsp;to&nbsp;see&nbsp;if&nbsp;it&nbsp;is&nbsp;already&nbsp;present&nbsp;in&nbsp;the&nbsp;imports&nbsp;map.</span><br>
<span class="lineno"></span><span class="comment" id="3859192">//&nbsp;If&nbsp;so,&nbsp;the&nbsp;Importer&nbsp;can&nbsp;return&nbsp;the&nbsp;map&nbsp;entry.&nbsp;&nbsp;Otherwise,&nbsp;the</span><br>
<span class="lineno">60</span><span class="comment" id="3859257">//&nbsp;Importer&nbsp;should&nbsp;load&nbsp;the&nbsp;package&nbsp;data&nbsp;for&nbsp;the&nbsp;given&nbsp;path&nbsp;into</span><br>
<span class="lineno"></span><span class="comment" id="3859322">//&nbsp;a&nbsp;new&nbsp;*Object&nbsp;(pkg),&nbsp;record&nbsp;pkg&nbsp;in&nbsp;the&nbsp;imports&nbsp;map,&nbsp;and&nbsp;then</span><br>
<span class="lineno"></span><span class="comment" id="3859386">//&nbsp;return&nbsp;pkg.</span><br>
<span class="lineno"></span><span class="keyword" id="3859401">type</span>&nbsp;<span class="ident" id="3859406">Importer</span>&nbsp;<span class="keyword" id="3859415">func</span><span class="op" id="3859419">(</span><span class="ident" id="3859420">imports</span>&nbsp;<span class="keyword" id="3859428">map</span><span class="op" id="3859431">[</span><span class="builtintype" id="3859432">string</span><span class="op" id="3859438">]</span><span class="op" id="3859439">*</span><span class="ident" id="3859440"><a href="/gostd/go/ast/scope.go.html#3865142">Object</a></span><span class="op" id="3859446">,</span>&nbsp;<span class="ident" id="3859448">path</span>&nbsp;<span class="builtintype" id="3859453">string</span><span class="op" id="3859459">)</span>&nbsp;<span class="op" id="3859461">(</span><span class="ident" id="3859462">pkg</span>&nbsp;<span class="op" id="3859466">*</span><span class="ident" id="3859467"><a href="/gostd/go/ast/scope.go.html#3865142">Object</a></span><span class="op" id="3859473">,</span>&nbsp;<span class="ident" id="3859475">err</span>&nbsp;<span class="builtintype" id="3859479">error</span><span class="op" id="3859484">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="3859487">//&nbsp;NewPackage&nbsp;creates&nbsp;a&nbsp;new&nbsp;Package&nbsp;node&nbsp;from&nbsp;a&nbsp;set&nbsp;of&nbsp;File&nbsp;nodes.&nbsp;It&nbsp;resolves</span><br>
<span class="lineno"></span><span class="comment" id="3859566">//&nbsp;unresolved&nbsp;identifiers&nbsp;across&nbsp;files&nbsp;and&nbsp;updates&nbsp;each&nbsp;file&#39;s&nbsp;Unresolved&nbsp;list</span><br>
<span class="lineno"></span><span class="comment" id="3859645">//&nbsp;accordingly.&nbsp;If&nbsp;a&nbsp;non-nil&nbsp;importer&nbsp;and&nbsp;universe&nbsp;scope&nbsp;are&nbsp;provided,&nbsp;they&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="3859725">//&nbsp;used&nbsp;to&nbsp;resolve&nbsp;identifiers&nbsp;not&nbsp;declared&nbsp;in&nbsp;any&nbsp;of&nbsp;the&nbsp;package&nbsp;files.&nbsp;Any</span><br>
<span class="lineno"></span><span class="comment" id="3859802">//&nbsp;remaining&nbsp;unresolved&nbsp;identifiers&nbsp;are&nbsp;reported&nbsp;as&nbsp;undeclared.&nbsp;If&nbsp;the&nbsp;files</span><br>
<span class="lineno">70</span><span class="comment" id="3859879">//&nbsp;belong&nbsp;to&nbsp;different&nbsp;packages,&nbsp;one&nbsp;package&nbsp;name&nbsp;is&nbsp;selected&nbsp;and&nbsp;files&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3859956">//&nbsp;different&nbsp;package&nbsp;names&nbsp;are&nbsp;reported&nbsp;and&nbsp;then&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="3860014">//&nbsp;The&nbsp;result&nbsp;is&nbsp;a&nbsp;package&nbsp;node&nbsp;and&nbsp;a&nbsp;scanner.ErrorList&nbsp;if&nbsp;there&nbsp;were&nbsp;errors.</span><br>
<span class="lineno"></span><span class="comment" id="3860092">//</span><br>
<span class="lineno"></span><span class="keyword" id="3860095">func</span>&nbsp;<span class="ident" id="3860100">NewPackage</span><span class="op" id="3860110">(</span><span class="ident" id="3860111">fset</span>&nbsp;<span class="op" id="3860116">*</span><span class="ident" id="3860117"><a href="/gostd/go/ast/resolve.go.html#3857890">token</a></span><span class="op" id="3860122">.</span><span class="ident" id="3860123"><a href="/gostd/go/token/position.go.html#3883366">FileSet</a></span><span class="op" id="3860130">,</span>&nbsp;<span class="ident" id="3860132">files</span>&nbsp;<span class="keyword" id="3860138">map</span><span class="op" id="3860141">[</span><span class="builtintype" id="3860142">string</span><span class="op" id="3860148">]</span><span class="op" id="3860149">*</span><span class="ident" id="3860150"><a href="/gostd/go/ast/ast.go.html#3823869">File</a></span><span class="op" id="3860154">,</span>&nbsp;<span class="ident" id="3860156">importer</span>&nbsp;<span class="ident" id="3860165"><a href="/gostd/go/ast/resolve.go.html#3859406">Importer</a></span><span class="op" id="3860173">,</span>&nbsp;<span class="ident" id="3860175">universe</span>&nbsp;<span class="op" id="3860184">*</span><span class="ident" id="3860185"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="3860190">)</span>&nbsp;<span class="op" id="3860192">(</span><span class="op" id="3860193">*</span><span class="ident" id="3860194"><a href="/gostd/go/ast/ast.go.html#3824638">Package</a></span><span class="op" id="3860201">,</span>&nbsp;<span class="builtintype" id="3860203">error</span><span class="op" id="3860208">)</span>&nbsp;<span class="op" id="3860210">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3860213">var</span>&nbsp;<span class="ident" id="3860217">p</span>&nbsp;<span class="ident" id="3860219"><a href="/gostd/go/ast/resolve.go.html#3857920">pkgBuilder</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3860231"><a href="/gostd/go/ast/resolve.go.html#3860217">p</a></span><span class="op" id="3860232">.</span><span class="ident" id="3860233"><a href="/gostd/go/ast/resolve.go.html#3857941">fset</a></span>&nbsp;<span class="op" id="3860238">=</span>&nbsp;<span class="ident" id="3860240"><a href="/gostd/go/ast/resolve.go.html#3860111">fset</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3860247">//&nbsp;complete&nbsp;package&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3860274">pkgName</span>&nbsp;<span class="op" id="3860282">:=</span>&nbsp;<span class="string" id="3860285">&#34;&#34;</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3860289">pkgScope</span>&nbsp;<span class="op" id="3860298">:=</span>&nbsp;<span class="ident" id="3860301"><a href="/gostd/go/ast/scope.go.html#3863557">NewScope</a></span><span class="op" id="3860309">(</span><span class="ident" id="3860310"><a href="/gostd/go/ast/resolve.go.html#3860175">universe</a></span><span class="op" id="3860318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3860321">for</span>&nbsp;<span class="ident" id="3860325">_</span><span class="op" id="3860326">,</span>&nbsp;<span class="ident" id="3860328">file</span>&nbsp;<span class="op" id="3860333">:=</span>&nbsp;<span class="keyword" id="3860336">range</span>&nbsp;<span class="ident" id="3860342"><a href="/gostd/go/ast/resolve.go.html#3860132">files</a></span>&nbsp;<span class="op" id="3860348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3860352">//&nbsp;package&nbsp;names&nbsp;must&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3860382">switch</span>&nbsp;<span class="ident" id="3860389">name</span>&nbsp;<span class="op" id="3860394">:=</span>&nbsp;<span class="ident" id="3860397"><a href="/gostd/go/ast/resolve.go.html#3860328">file</a></span><span class="op" id="3860401">.</span><span class="ident" id="3860402"><a href="/gostd/go/ast/ast.go.html#3824009">Name</a></span><span class="op" id="3860406">.</span><span class="ident" id="3860407"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3860411">;</span>&nbsp;<span class="op" id="3860413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3860417">case</span>&nbsp;<span class="ident" id="3860422"><a href="/gostd/go/ast/resolve.go.html#3860274">pkgName</a></span>&nbsp;<span class="op" id="3860430">==</span>&nbsp;<span class="string" id="3860433">&#34;&#34;</span><span class="op" id="3860435">:</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3860440"><a href="/gostd/go/ast/resolve.go.html#3860274">pkgName</a></span>&nbsp;<span class="op" id="3860448">=</span>&nbsp;<span class="ident" id="3860450"><a href="/gostd/go/ast/resolve.go.html#3860389">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3860457">case</span>&nbsp;<span class="ident" id="3860462"><a href="/gostd/go/ast/resolve.go.html#3860389">name</a></span>&nbsp;<span class="op" id="3860467">!=</span>&nbsp;<span class="ident" id="3860470"><a href="/gostd/go/ast/resolve.go.html#3860274">pkgName</a></span><span class="op" id="3860477">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3860482"><a href="/gostd/go/ast/resolve.go.html#3860217">p</a></span><span class="op" id="3860483">.</span><span class="ident" id="3860484"><a href="/gostd/go/ast/resolve.go.html#3858113">errorf</a></span><span class="op" id="3860490">(</span><span class="ident" id="3860491"><a href="/gostd/go/ast/resolve.go.html#3860328">file</a></span><span class="op" id="3860495">.</span><span class="ident" id="3860496"><a href="/gostd/go/ast/ast.go.html#3823948">Package</a></span><span class="op" id="3860503">,</span>&nbsp;<span class="string" id="3860505">&#34;package&nbsp;%s;&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="3860530">,</span>&nbsp;<span class="ident" id="3860532"><a href="/gostd/go/ast/resolve.go.html#3860389">name</a></span><span class="op" id="3860536">,</span>&nbsp;<span class="ident" id="3860538"><a href="/gostd/go/ast/resolve.go.html#3860274">pkgName</a></span><span class="op" id="3860545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3860550">continue</span>&nbsp;<span class="comment" id="3860559">//&nbsp;ignore&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3860581">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3860586">//&nbsp;collect&nbsp;top-level&nbsp;file&nbsp;objects&nbsp;in&nbsp;package&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3860639">for</span>&nbsp;<span class="ident" id="3860643">_</span><span class="op" id="3860644">,</span>&nbsp;<span class="ident" id="3860646">obj</span>&nbsp;<span class="op" id="3860650">:=</span>&nbsp;<span class="keyword" id="3860653">range</span>&nbsp;<span class="ident" id="3860659"><a href="/gostd/go/ast/resolve.go.html#3860328">file</a></span><span class="op" id="3860663">.</span><span class="ident" id="3860664"><a href="/gostd/go/ast/ast.go.html#3824115">Scope</a></span><span class="op" id="3860669">.</span><span class="ident" id="3860670"><a href="/gostd/go/ast/scope.go.html#3863463">Objects</a></span>&nbsp;<span class="op" id="3860678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3860683"><a href="/gostd/go/ast/resolve.go.html#3860217">p</a></span><span class="op" id="3860684">.</span><span class="ident" id="3860685"><a href="/gostd/go/ast/resolve.go.html#3858241">declare</a></span><span class="op" id="3860692">(</span><span class="ident" id="3860693"><a href="/gostd/go/ast/resolve.go.html#3860289">pkgScope</a></span><span class="op" id="3860701">,</span>&nbsp;<span class="builtintype" id="3860703">nil</span><span class="op" id="3860706">,</span>&nbsp;<span class="ident" id="3860708"><a href="/gostd/go/ast/resolve.go.html#3860646">obj</a></span><span class="op" id="3860711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3860715">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3860718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3860722">//&nbsp;package&nbsp;global&nbsp;mapping&nbsp;of&nbsp;imported&nbsp;package&nbsp;ids&nbsp;to&nbsp;package&nbsp;objects</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3860792">imports</span>&nbsp;<span class="op" id="3860800">:=</span>&nbsp;<span class="builtinfunc" id="3860803">make</span><span class="op" id="3860807">(</span><span class="keyword" id="3860808">map</span><span class="op" id="3860811">[</span><span class="builtintype" id="3860812">string</span><span class="op" id="3860818">]</span><span class="op" id="3860819">*</span><span class="ident" id="3860820"><a href="/gostd/go/ast/scope.go.html#3865142">Object</a></span><span class="op" id="3860826">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3860830">//&nbsp;complete&nbsp;file&nbsp;scopes&nbsp;with&nbsp;imports&nbsp;and&nbsp;resolve&nbsp;identifiers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3860892">for</span>&nbsp;<span class="ident" id="3860896">_</span><span class="op" id="3860897">,</span>&nbsp;<span class="ident" id="3860899">file</span>&nbsp;<span class="op" id="3860904">:=</span>&nbsp;<span class="keyword" id="3860907">range</span>&nbsp;<span class="ident" id="3860913"><a href="/gostd/go/ast/resolve.go.html#3860132">files</a></span>&nbsp;<span class="op" id="3860919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3860923">//&nbsp;ignore&nbsp;file&nbsp;if&nbsp;it&nbsp;belongs&nbsp;to&nbsp;a&nbsp;different&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3860977">//&nbsp;(error&nbsp;has&nbsp;already&nbsp;been&nbsp;reported)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3861016">if</span>&nbsp;<span class="ident" id="3861019"><a href="/gostd/go/ast/resolve.go.html#3860899">file</a></span><span class="op" id="3861023">.</span><span class="ident" id="3861024"><a href="/gostd/go/ast/ast.go.html#3824009">Name</a></span><span class="op" id="3861028">.</span><span class="ident" id="3861029"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span>&nbsp;<span class="op" id="3861034">!=</span>&nbsp;<span class="ident" id="3861037"><a href="/gostd/go/ast/resolve.go.html#3860274">pkgName</a></span>&nbsp;<span class="op" id="3861045">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3861050">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3861061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3861066">//&nbsp;build&nbsp;file&nbsp;scope&nbsp;by&nbsp;processing&nbsp;all&nbsp;imports</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3861114">importErrors</span>&nbsp;<span class="op" id="3861127">:=</span>&nbsp;<span class="builtintype" id="3861130">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3861138">fileScope</span>&nbsp;<span class="op" id="3861148">:=</span>&nbsp;<span class="ident" id="3861151"><a href="/gostd/go/ast/scope.go.html#3863557">NewScope</a></span><span class="op" id="3861159">(</span><span class="ident" id="3861160"><a href="/gostd/go/ast/resolve.go.html#3860289">pkgScope</a></span><span class="op" id="3861168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3861172">for</span>&nbsp;<span class="ident" id="3861176">_</span><span class="op" id="3861177">,</span>&nbsp;<span class="ident" id="3861179">spec</span>&nbsp;<span class="op" id="3861184">:=</span>&nbsp;<span class="keyword" id="3861187">range</span>&nbsp;<span class="ident" id="3861193"><a href="/gostd/go/ast/resolve.go.html#3860899">file</a></span><span class="op" id="3861197">.</span><span class="ident" id="3861198"><a href="/gostd/go/ast/ast.go.html#3824177">Imports</a></span>&nbsp;<span class="op" id="3861206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3861211">if</span>&nbsp;<span class="ident" id="3861214"><a href="/gostd/go/ast/resolve.go.html#3860156">importer</a></span>&nbsp;<span class="op" id="3861223">==</span>&nbsp;<span class="builtintype" id="3861226">nil</span>&nbsp;<span class="op" id="3861230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3861236"><a href="/gostd/go/ast/resolve.go.html#3861114">importErrors</a></span>&nbsp;<span class="op" id="3861249">=</span>&nbsp;<span class="builtintype" id="3861251">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3861260">continue</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3861272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3861277">path</span><span class="op" id="3861281">,</span>&nbsp;<span class="ident" id="3861283">_</span>&nbsp;<span class="op" id="3861285">:=</span>&nbsp;<span class="ident" id="3861288"><a href="/gostd/go/ast/resolve.go.html#3857902">strconv</a></span><span class="op" id="3861295">.</span><span class="ident" id="3861296"><a href="/gostd/strconv/quote.go.html#2417743">Unquote</a></span><span class="op" id="3861303">(</span><span class="ident" id="3861304"><a href="/gostd/go/ast/resolve.go.html#3861179">spec</a></span><span class="op" id="3861308">.</span><span class="ident" id="3861309"><a href="/gostd/go/ast/ast.go.html#3819761">Path</a></span><span class="op" id="3861313">.</span><span class="ident" id="3861314"><a href="/gostd/go/ast/ast.go.html#3800851">Value</a></span><span class="op" id="3861319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3861324">pkg</span><span class="op" id="3861327">,</span>&nbsp;<span class="ident" id="3861329">err</span>&nbsp;<span class="op" id="3861333">:=</span>&nbsp;<span class="ident" id="3861336"><a href="/gostd/go/ast/resolve.go.html#3860156">importer</a></span><span class="op" id="3861344">(</span><span class="ident" id="3861345"><a href="/gostd/go/ast/resolve.go.html#3860792">imports</a></span><span class="op" id="3861352">,</span>&nbsp;<span class="ident" id="3861354"><a href="/gostd/go/ast/resolve.go.html#3861277">path</a></span><span class="op" id="3861358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3861363">if</span>&nbsp;<span class="ident" id="3861366"><a href="/gostd/go/ast/resolve.go.html#3861329">err</a></span>&nbsp;<span class="op" id="3861370">!=</span>&nbsp;<span class="builtintype" id="3861373">nil</span>&nbsp;<span class="op" id="3861377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3861383"><a href="/gostd/go/ast/resolve.go.html#3860217">p</a></span><span class="op" id="3861384">.</span><span class="ident" id="3861385"><a href="/gostd/go/ast/resolve.go.html#3858113">errorf</a></span><span class="op" id="3861391">(</span><span class="ident" id="3861392"><a href="/gostd/go/ast/resolve.go.html#3861179">spec</a></span><span class="op" id="3861396">.</span><span class="ident" id="3861397"><a href="/gostd/go/ast/ast.go.html#3819761">Path</a></span><span class="op" id="3861401">.</span><span class="ident" id="3861402"><a href="/gostd/go/ast/ast.go.html#3805931">Pos</a></span><span class="op" id="3861405">(</span><span class="op" id="3861406">)</span><span class="op" id="3861407">,</span>&nbsp;<span class="string" id="3861409">&#34;could&nbsp;not&nbsp;import&nbsp;%s&nbsp;(%s)&#34;</span><span class="op" id="3861435">,</span>&nbsp;<span class="ident" id="3861437"><a href="/gostd/go/ast/resolve.go.html#3861277">path</a></span><span class="op" id="3861441">,</span>&nbsp;<span class="ident" id="3861443"><a href="/gostd/go/ast/resolve.go.html#3861329">err</a></span><span class="op" id="3861446">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3861452"><a href="/gostd/go/ast/resolve.go.html#3861114">importErrors</a></span>&nbsp;<span class="op" id="3861465">=</span>&nbsp;<span class="builtintype" id="3861467">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3861476">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3861488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3861493">//&nbsp;TODO(gri)&nbsp;If&nbsp;a&nbsp;local&nbsp;package&nbsp;name&nbsp;!=&nbsp;&#34;.&#34;&nbsp;is&nbsp;provided,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3861553">//&nbsp;global&nbsp;identifier&nbsp;resolution&nbsp;could&nbsp;proceed&nbsp;even&nbsp;if&nbsp;the</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3861614">//&nbsp;import&nbsp;failed.&nbsp;Consider&nbsp;adjusting&nbsp;the&nbsp;logic&nbsp;here&nbsp;a&nbsp;bit.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3861677">//&nbsp;local&nbsp;name&nbsp;overrides&nbsp;imported&nbsp;package&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3861726">name</span>&nbsp;<span class="op" id="3861731">:=</span>&nbsp;<span class="ident" id="3861734"><a href="/gostd/go/ast/resolve.go.html#3861324">pkg</a></span><span class="op" id="3861737">.</span><span class="ident" id="3861738"><a href="/gostd/go/ast/scope.go.html#3865173">Name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3861746">if</span>&nbsp;<span class="ident" id="3861749"><a href="/gostd/go/ast/resolve.go.html#3861179">spec</a></span><span class="op" id="3861753">.</span><span class="ident" id="3861754"><a href="/gostd/go/ast/ast.go.html#3819691">Name</a></span>&nbsp;<span class="op" id="3861759">!=</span>&nbsp;<span class="builtintype" id="3861762">nil</span>&nbsp;<span class="op" id="3861766">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3861772"><a href="/gostd/go/ast/resolve.go.html#3861726">name</a></span>&nbsp;<span class="op" id="3861777">=</span>&nbsp;<span class="ident" id="3861779"><a href="/gostd/go/ast/resolve.go.html#3861179">spec</a></span><span class="op" id="3861783">.</span><span class="ident" id="3861784"><a href="/gostd/go/ast/ast.go.html#3819691">Name</a></span><span class="op" id="3861788">.</span><span class="ident" id="3861789"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3861797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3861803">//&nbsp;add&nbsp;import&nbsp;to&nbsp;file&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3861834">if</span>&nbsp;<span class="ident" id="3861837"><a href="/gostd/go/ast/resolve.go.html#3861726">name</a></span>&nbsp;<span class="op" id="3861842">==</span>&nbsp;<span class="string" id="3861845">&#34;.&#34;</span>&nbsp;<span class="op" id="3861849">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3861855">//&nbsp;merge&nbsp;imported&nbsp;scope&nbsp;with&nbsp;file&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3861899">for</span>&nbsp;<span class="ident" id="3861903">_</span><span class="op" id="3861904">,</span>&nbsp;<span class="ident" id="3861906">obj</span>&nbsp;<span class="op" id="3861910">:=</span>&nbsp;<span class="keyword" id="3861913">range</span>&nbsp;<span class="ident" id="3861919"><a href="/gostd/go/ast/resolve.go.html#3861324">pkg</a></span><span class="op" id="3861922">.</span><span class="ident" id="3861923"><a href="/gostd/go/ast/scope.go.html#3865308">Data</a></span><span class="op" id="3861927">.</span><span class="op" id="3861928">(</span><span class="op" id="3861929">*</span><span class="ident" id="3861930"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="3861935">)</span><span class="op" id="3861936">.</span><span class="ident" id="3861937"><a href="/gostd/go/ast/scope.go.html#3863463">Objects</a></span>&nbsp;<span class="op" id="3861945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3861952"><a href="/gostd/go/ast/resolve.go.html#3860217">p</a></span><span class="op" id="3861953">.</span><span class="ident" id="3861954"><a href="/gostd/go/ast/resolve.go.html#3858241">declare</a></span><span class="op" id="3861961">(</span><span class="ident" id="3861962"><a href="/gostd/go/ast/resolve.go.html#3861138">fileScope</a></span><span class="op" id="3861971">,</span>&nbsp;<span class="ident" id="3861973"><a href="/gostd/go/ast/resolve.go.html#3860289">pkgScope</a></span><span class="op" id="3861981">,</span>&nbsp;<span class="ident" id="3861983"><a href="/gostd/go/ast/resolve.go.html#3861906">obj</a></span><span class="op" id="3861986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3861992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3861997">}</span>&nbsp;<span class="keyword" id="3861999">else</span>&nbsp;<span class="keyword" id="3862004">if</span>&nbsp;<span class="ident" id="3862007"><a href="/gostd/go/ast/resolve.go.html#3861726">name</a></span>&nbsp;<span class="op" id="3862012">!=</span>&nbsp;<span class="string" id="3862015">&#34;_&#34;</span>&nbsp;<span class="op" id="3862019">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3862025">//&nbsp;declare&nbsp;imported&nbsp;package&nbsp;object&nbsp;in&nbsp;file&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3862078">//&nbsp;(do&nbsp;not&nbsp;re-use&nbsp;pkg&nbsp;in&nbsp;the&nbsp;file&nbsp;scope&nbsp;but&nbsp;create</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3862133">//&nbsp;a&nbsp;new&nbsp;object&nbsp;instead;&nbsp;the&nbsp;Decl&nbsp;field&nbsp;is&nbsp;different</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3862190">//&nbsp;for&nbsp;different&nbsp;files)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862218">obj</span>&nbsp;<span class="op" id="3862222">:=</span>&nbsp;<span class="ident" id="3862225"><a href="/gostd/go/ast/scope.go.html#3865488">NewObj</a></span><span class="op" id="3862231">(</span><span class="ident" id="3862232"><a href="/gostd/go/ast/scope.go.html#3866756">Pkg</a></span><span class="op" id="3862235">,</span>&nbsp;<span class="ident" id="3862237"><a href="/gostd/go/ast/resolve.go.html#3861726">name</a></span><span class="op" id="3862241">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862247"><a href="/gostd/go/ast/resolve.go.html#3862218">obj</a></span><span class="op" id="3862250">.</span><span class="ident" id="3862251"><a href="/gostd/go/ast/scope.go.html#3865208">Decl</a></span>&nbsp;<span class="op" id="3862256">=</span>&nbsp;<span class="ident" id="3862258"><a href="/gostd/go/ast/resolve.go.html#3861179">spec</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862267"><a href="/gostd/go/ast/resolve.go.html#3862218">obj</a></span><span class="op" id="3862270">.</span><span class="ident" id="3862271"><a href="/gostd/go/ast/scope.go.html#3865308">Data</a></span>&nbsp;<span class="op" id="3862276">=</span>&nbsp;<span class="ident" id="3862278"><a href="/gostd/go/ast/resolve.go.html#3861324">pkg</a></span><span class="op" id="3862281">.</span><span class="ident" id="3862282"><a href="/gostd/go/ast/scope.go.html#3865308">Data</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862291"><a href="/gostd/go/ast/resolve.go.html#3860217">p</a></span><span class="op" id="3862292">.</span><span class="ident" id="3862293"><a href="/gostd/go/ast/resolve.go.html#3858241">declare</a></span><span class="op" id="3862300">(</span><span class="ident" id="3862301"><a href="/gostd/go/ast/resolve.go.html#3861138">fileScope</a></span><span class="op" id="3862310">,</span>&nbsp;<span class="ident" id="3862312"><a href="/gostd/go/ast/resolve.go.html#3860289">pkgScope</a></span><span class="op" id="3862320">,</span>&nbsp;<span class="ident" id="3862322"><a href="/gostd/go/ast/resolve.go.html#3862218">obj</a></span><span class="op" id="3862325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3862330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3862334">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3862339">//&nbsp;resolve&nbsp;identifiers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3862364">if</span>&nbsp;<span class="ident" id="3862367"><a href="/gostd/go/ast/resolve.go.html#3861114">importErrors</a></span>&nbsp;<span class="op" id="3862380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3862385">//&nbsp;don&#39;t&nbsp;use&nbsp;the&nbsp;universe&nbsp;scope&nbsp;without&nbsp;correct&nbsp;imports</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3862444">//&nbsp;(objects&nbsp;in&nbsp;the&nbsp;universe&nbsp;may&nbsp;be&nbsp;shadowed&nbsp;by&nbsp;imports;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3862503">//&nbsp;with&nbsp;missing&nbsp;imports,&nbsp;identifiers&nbsp;might&nbsp;get&nbsp;resolved</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3862562">//&nbsp;incorrectly&nbsp;to&nbsp;universe&nbsp;objects)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862601"><a href="/gostd/go/ast/resolve.go.html#3860289">pkgScope</a></span><span class="op" id="3862609">.</span><span class="ident" id="3862610"><a href="/gostd/go/ast/scope.go.html#3863447">Outer</a></span>&nbsp;<span class="op" id="3862616">=</span>&nbsp;<span class="builtintype" id="3862618">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3862624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862628">i</span>&nbsp;<span class="op" id="3862630">:=</span>&nbsp;<span class="num" id="3862633">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3862637">for</span>&nbsp;<span class="ident" id="3862641">_</span><span class="op" id="3862642">,</span>&nbsp;<span class="ident" id="3862644">ident</span>&nbsp;<span class="op" id="3862650">:=</span>&nbsp;<span class="keyword" id="3862653">range</span>&nbsp;<span class="ident" id="3862659"><a href="/gostd/go/ast/resolve.go.html#3860899">file</a></span><span class="op" id="3862663">.</span><span class="ident" id="3862664"><a href="/gostd/go/ast/ast.go.html#3824229">Unresolved</a></span>&nbsp;<span class="op" id="3862675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3862680">if</span>&nbsp;<span class="op" id="3862683">!</span><span class="ident" id="3862684"><a href="/gostd/go/ast/resolve.go.html#3858703">resolve</a></span><span class="op" id="3862691">(</span><span class="ident" id="3862692"><a href="/gostd/go/ast/resolve.go.html#3861138">fileScope</a></span><span class="op" id="3862701">,</span>&nbsp;<span class="ident" id="3862703"><a href="/gostd/go/ast/resolve.go.html#3862644">ident</a></span><span class="op" id="3862708">)</span>&nbsp;<span class="op" id="3862710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862716"><a href="/gostd/go/ast/resolve.go.html#3860217">p</a></span><span class="op" id="3862717">.</span><span class="ident" id="3862718"><a href="/gostd/go/ast/resolve.go.html#3858113">errorf</a></span><span class="op" id="3862724">(</span><span class="ident" id="3862725"><a href="/gostd/go/ast/resolve.go.html#3862644">ident</a></span><span class="op" id="3862730">.</span><span class="ident" id="3862731"><a href="/gostd/go/ast/ast.go.html#3805815">Pos</a></span><span class="op" id="3862734">(</span><span class="op" id="3862735">)</span><span class="op" id="3862736">,</span>&nbsp;<span class="string" id="3862738">&#34;undeclared&nbsp;name:&nbsp;%s&#34;</span><span class="op" id="3862759">,</span>&nbsp;<span class="ident" id="3862761"><a href="/gostd/go/ast/resolve.go.html#3862644">ident</a></span><span class="op" id="3862766">.</span><span class="ident" id="3862767"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3862771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862777"><a href="/gostd/go/ast/resolve.go.html#3860899">file</a></span><span class="op" id="3862781">.</span><span class="ident" id="3862782"><a href="/gostd/go/ast/ast.go.html#3824229">Unresolved</a></span><span class="op" id="3862792">[</span><span class="ident" id="3862793"><a href="/gostd/go/ast/resolve.go.html#3862628">i</a></span><span class="op" id="3862794">]</span>&nbsp;<span class="op" id="3862796">=</span>&nbsp;<span class="ident" id="3862798"><a href="/gostd/go/ast/resolve.go.html#3862644">ident</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862808"><a href="/gostd/go/ast/resolve.go.html#3862628">i</a></span><span class="op" id="3862809">++</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3862815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3862820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862824"><a href="/gostd/go/ast/resolve.go.html#3860899">file</a></span><span class="op" id="3862828">.</span><span class="ident" id="3862829"><a href="/gostd/go/ast/ast.go.html#3824229">Unresolved</a></span>&nbsp;<span class="op" id="3862840">=</span>&nbsp;<span class="ident" id="3862842"><a href="/gostd/go/ast/resolve.go.html#3860899">file</a></span><span class="op" id="3862846">.</span><span class="ident" id="3862847"><a href="/gostd/go/ast/ast.go.html#3824229">Unresolved</a></span><span class="op" id="3862857">[</span><span class="num" id="3862858">0</span><span class="op" id="3862859">:</span><span class="ident" id="3862860"><a href="/gostd/go/ast/resolve.go.html#3862628">i</a></span><span class="op" id="3862861">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862865"><a href="/gostd/go/ast/resolve.go.html#3860289">pkgScope</a></span><span class="op" id="3862873">.</span><span class="ident" id="3862874"><a href="/gostd/go/ast/scope.go.html#3863447">Outer</a></span>&nbsp;<span class="op" id="3862880">=</span>&nbsp;<span class="ident" id="3862882"><a href="/gostd/go/ast/resolve.go.html#3860175">universe</a></span>&nbsp;<span class="comment" id="3862891">//&nbsp;reset&nbsp;universe&nbsp;scope</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3862916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3862920"><a href="/gostd/go/ast/resolve.go.html#3860217">p</a></span><span class="op" id="3862921">.</span><span class="ident" id="3862922"><a href="/gostd/go/ast/resolve.go.html#3857964">errors</a></span><span class="op" id="3862928">.</span><span class="ident" id="3862929"><a href="/gostd/go/scanner/errors.go.html#3896610">Sort</a></span><span class="op" id="3862933">(</span><span class="op" id="3862934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3862937">return</span>&nbsp;<span class="op" id="3862944">&amp;</span><span class="ident" id="3862945"><a href="/gostd/go/ast/ast.go.html#3824638">Package</a></span><span class="op" id="3862952">{</span><span class="ident" id="3862953"><a href="/gostd/go/ast/resolve.go.html#3860274">pkgName</a></span><span class="op" id="3862960">,</span>&nbsp;<span class="ident" id="3862962"><a href="/gostd/go/ast/resolve.go.html#3860289">pkgScope</a></span><span class="op" id="3862970">,</span>&nbsp;<span class="ident" id="3862972"><a href="/gostd/go/ast/resolve.go.html#3860792">imports</a></span><span class="op" id="3862979">,</span>&nbsp;<span class="ident" id="3862981"><a href="/gostd/go/ast/resolve.go.html#3860132">files</a></span><span class="op" id="3862986">}</span><span class="op" id="3862987">,</span>&nbsp;<span class="ident" id="3862989"><a href="/gostd/go/ast/resolve.go.html#3860217">p</a></span><span class="op" id="3862990">.</span><span class="ident" id="3862991"><a href="/gostd/go/ast/resolve.go.html#3857964">errors</a></span><span class="op" id="3862997">.</span><span class="ident" id="3862998"><a href="/gostd/go/scanner/errors.go.html#3897358">Err</a></span><span class="op" id="3863001">(</span><span class="op" id="3863002">)</span><br>
<span class="lineno"></span><span class="op" id="3863004">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
