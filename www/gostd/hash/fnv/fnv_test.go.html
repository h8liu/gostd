<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/fnv</h2>
<ul>
<li><a href="/gostd/hash/fnv/fnv.go.html">fnv.go</a></li>
<li><a href="/gostd/hash/fnv/fnv_test.go.html">fnv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7034934">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7034989">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7035043">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7035094">package</span>&nbsp;<span class="ident" id="7035102">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7035107">import</span>&nbsp;<span class="op" id="7035114">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7035117">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7035126">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7035145">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7035153">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7035163">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7035166">type</span>&nbsp;<span class="ident" id="7035171">golden</span>&nbsp;<span class="keyword" id="7035178">struct</span>&nbsp;<span class="op" id="7035185">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035188">sum</span>&nbsp;&nbsp;<span class="op" id="7035193">[</span><span class="op" id="7035194">]</span><span class="builtintype" id="7035195">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035201">text</span>&nbsp;<span class="builtintype" id="7035206">string</span><br>
<span class="lineno"></span><span class="op" id="7035213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7035216">var</span>&nbsp;<span class="ident" id="7035220">golden32</span>&nbsp;<span class="op" id="7035229">=</span>&nbsp;<span class="op" id="7035231">[</span><span class="op" id="7035232">]</span><span class="ident" id="7035233">golden</span><span class="op" id="7035239">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035242">{</span><span class="op" id="7035243">[</span><span class="op" id="7035244">]</span><span class="builtintype" id="7035245">byte</span><span class="op" id="7035249">{</span><span class="num" id="7035250">0x81</span><span class="op" id="7035254">,</span>&nbsp;<span class="num" id="7035256">0x1c</span><span class="op" id="7035260">,</span>&nbsp;<span class="num" id="7035262">0x9d</span><span class="op" id="7035266">,</span>&nbsp;<span class="num" id="7035268">0xc5</span><span class="op" id="7035272">}</span><span class="op" id="7035273">,</span>&nbsp;<span class="string" id="7035275">&#34;&#34;</span><span class="op" id="7035277">}</span><span class="op" id="7035278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035281">{</span><span class="op" id="7035282">[</span><span class="op" id="7035283">]</span><span class="builtintype" id="7035284">byte</span><span class="op" id="7035288">{</span><span class="num" id="7035289">0x05</span><span class="op" id="7035293">,</span>&nbsp;<span class="num" id="7035295">0x0c</span><span class="op" id="7035299">,</span>&nbsp;<span class="num" id="7035301">0x5d</span><span class="op" id="7035305">,</span>&nbsp;<span class="num" id="7035307">0x7e</span><span class="op" id="7035311">}</span><span class="op" id="7035312">,</span>&nbsp;<span class="string" id="7035314">&#34;a&#34;</span><span class="op" id="7035317">}</span><span class="op" id="7035318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035321">{</span><span class="op" id="7035322">[</span><span class="op" id="7035323">]</span><span class="builtintype" id="7035324">byte</span><span class="op" id="7035328">{</span><span class="num" id="7035329">0x70</span><span class="op" id="7035333">,</span>&nbsp;<span class="num" id="7035335">0x77</span><span class="op" id="7035339">,</span>&nbsp;<span class="num" id="7035341">0x2d</span><span class="op" id="7035345">,</span>&nbsp;<span class="num" id="7035347">0x38</span><span class="op" id="7035351">}</span><span class="op" id="7035352">,</span>&nbsp;<span class="string" id="7035354">&#34;ab&#34;</span><span class="op" id="7035358">}</span><span class="op" id="7035359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035362">{</span><span class="op" id="7035363">[</span><span class="op" id="7035364">]</span><span class="builtintype" id="7035365">byte</span><span class="op" id="7035369">{</span><span class="num" id="7035370">0x43</span><span class="op" id="7035374">,</span>&nbsp;<span class="num" id="7035376">0x9c</span><span class="op" id="7035380">,</span>&nbsp;<span class="num" id="7035382">0x2f</span><span class="op" id="7035386">,</span>&nbsp;<span class="num" id="7035388">0x4b</span><span class="op" id="7035392">}</span><span class="op" id="7035393">,</span>&nbsp;<span class="string" id="7035395">&#34;abc&#34;</span><span class="op" id="7035400">}</span><span class="op" id="7035401">,</span><br>
<span class="lineno"></span><span class="op" id="7035403">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7035406">var</span>&nbsp;<span class="ident" id="7035410">golden32a</span>&nbsp;<span class="op" id="7035420">=</span>&nbsp;<span class="op" id="7035422">[</span><span class="op" id="7035423">]</span><span class="ident" id="7035424">golden</span><span class="op" id="7035430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035433">{</span><span class="op" id="7035434">[</span><span class="op" id="7035435">]</span><span class="builtintype" id="7035436">byte</span><span class="op" id="7035440">{</span><span class="num" id="7035441">0x81</span><span class="op" id="7035445">,</span>&nbsp;<span class="num" id="7035447">0x1c</span><span class="op" id="7035451">,</span>&nbsp;<span class="num" id="7035453">0x9d</span><span class="op" id="7035457">,</span>&nbsp;<span class="num" id="7035459">0xc5</span><span class="op" id="7035463">}</span><span class="op" id="7035464">,</span>&nbsp;<span class="string" id="7035466">&#34;&#34;</span><span class="op" id="7035468">}</span><span class="op" id="7035469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035472">{</span><span class="op" id="7035473">[</span><span class="op" id="7035474">]</span><span class="builtintype" id="7035475">byte</span><span class="op" id="7035479">{</span><span class="num" id="7035480">0xe4</span><span class="op" id="7035484">,</span>&nbsp;<span class="num" id="7035486">0x0c</span><span class="op" id="7035490">,</span>&nbsp;<span class="num" id="7035492">0x29</span><span class="op" id="7035496">,</span>&nbsp;<span class="num" id="7035498">0x2c</span><span class="op" id="7035502">}</span><span class="op" id="7035503">,</span>&nbsp;<span class="string" id="7035505">&#34;a&#34;</span><span class="op" id="7035508">}</span><span class="op" id="7035509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035512">{</span><span class="op" id="7035513">[</span><span class="op" id="7035514">]</span><span class="builtintype" id="7035515">byte</span><span class="op" id="7035519">{</span><span class="num" id="7035520">0x4d</span><span class="op" id="7035524">,</span>&nbsp;<span class="num" id="7035526">0x25</span><span class="op" id="7035530">,</span>&nbsp;<span class="num" id="7035532">0x05</span><span class="op" id="7035536">,</span>&nbsp;<span class="num" id="7035538">0xca</span><span class="op" id="7035542">}</span><span class="op" id="7035543">,</span>&nbsp;<span class="string" id="7035545">&#34;ab&#34;</span><span class="op" id="7035549">}</span><span class="op" id="7035550">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035553">{</span><span class="op" id="7035554">[</span><span class="op" id="7035555">]</span><span class="builtintype" id="7035556">byte</span><span class="op" id="7035560">{</span><span class="num" id="7035561">0x1a</span><span class="op" id="7035565">,</span>&nbsp;<span class="num" id="7035567">0x47</span><span class="op" id="7035571">,</span>&nbsp;<span class="num" id="7035573">0xe9</span><span class="op" id="7035577">,</span>&nbsp;<span class="num" id="7035579">0x0b</span><span class="op" id="7035583">}</span><span class="op" id="7035584">,</span>&nbsp;<span class="string" id="7035586">&#34;abc&#34;</span><span class="op" id="7035591">}</span><span class="op" id="7035592">,</span><br>
<span class="lineno"></span><span class="op" id="7035594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7035597">var</span>&nbsp;<span class="ident" id="7035601">golden64</span>&nbsp;<span class="op" id="7035610">=</span>&nbsp;<span class="op" id="7035612">[</span><span class="op" id="7035613">]</span><span class="ident" id="7035614">golden</span><span class="op" id="7035620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035623">{</span><span class="op" id="7035624">[</span><span class="op" id="7035625">]</span><span class="builtintype" id="7035626">byte</span><span class="op" id="7035630">{</span><span class="num" id="7035631">0xcb</span><span class="op" id="7035635">,</span>&nbsp;<span class="num" id="7035637">0xf2</span><span class="op" id="7035641">,</span>&nbsp;<span class="num" id="7035643">0x9c</span><span class="op" id="7035647">,</span>&nbsp;<span class="num" id="7035649">0xe4</span><span class="op" id="7035653">,</span>&nbsp;<span class="num" id="7035655">0x84</span><span class="op" id="7035659">,</span>&nbsp;<span class="num" id="7035661">0x22</span><span class="op" id="7035665">,</span>&nbsp;<span class="num" id="7035667">0x23</span><span class="op" id="7035671">,</span>&nbsp;<span class="num" id="7035673">0x25</span><span class="op" id="7035677">}</span><span class="op" id="7035678">,</span>&nbsp;<span class="string" id="7035680">&#34;&#34;</span><span class="op" id="7035682">}</span><span class="op" id="7035683">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035686">{</span><span class="op" id="7035687">[</span><span class="op" id="7035688">]</span><span class="builtintype" id="7035689">byte</span><span class="op" id="7035693">{</span><span class="num" id="7035694">0xaf</span><span class="op" id="7035698">,</span>&nbsp;<span class="num" id="7035700">0x63</span><span class="op" id="7035704">,</span>&nbsp;<span class="num" id="7035706">0xbd</span><span class="op" id="7035710">,</span>&nbsp;<span class="num" id="7035712">0x4c</span><span class="op" id="7035716">,</span>&nbsp;<span class="num" id="7035718">0x86</span><span class="op" id="7035722">,</span>&nbsp;<span class="num" id="7035724">0x01</span><span class="op" id="7035728">,</span>&nbsp;<span class="num" id="7035730">0xb7</span><span class="op" id="7035734">,</span>&nbsp;<span class="num" id="7035736">0xbe</span><span class="op" id="7035740">}</span><span class="op" id="7035741">,</span>&nbsp;<span class="string" id="7035743">&#34;a&#34;</span><span class="op" id="7035746">}</span><span class="op" id="7035747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035750">{</span><span class="op" id="7035751">[</span><span class="op" id="7035752">]</span><span class="builtintype" id="7035753">byte</span><span class="op" id="7035757">{</span><span class="num" id="7035758">0x08</span><span class="op" id="7035762">,</span>&nbsp;<span class="num" id="7035764">0x32</span><span class="op" id="7035768">,</span>&nbsp;<span class="num" id="7035770">0x67</span><span class="op" id="7035774">,</span>&nbsp;<span class="num" id="7035776">0x07</span><span class="op" id="7035780">,</span>&nbsp;<span class="num" id="7035782">0xb4</span><span class="op" id="7035786">,</span>&nbsp;<span class="num" id="7035788">0xeb</span><span class="op" id="7035792">,</span>&nbsp;<span class="num" id="7035794">0x37</span><span class="op" id="7035798">,</span>&nbsp;<span class="num" id="7035800">0xb8</span><span class="op" id="7035804">}</span><span class="op" id="7035805">,</span>&nbsp;<span class="string" id="7035807">&#34;ab&#34;</span><span class="op" id="7035811">}</span><span class="op" id="7035812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035815">{</span><span class="op" id="7035816">[</span><span class="op" id="7035817">]</span><span class="builtintype" id="7035818">byte</span><span class="op" id="7035822">{</span><span class="num" id="7035823">0xd8</span><span class="op" id="7035827">,</span>&nbsp;<span class="num" id="7035829">0xdc</span><span class="op" id="7035833">,</span>&nbsp;<span class="num" id="7035835">0xca</span><span class="op" id="7035839">,</span>&nbsp;<span class="num" id="7035841">0x18</span><span class="op" id="7035845">,</span>&nbsp;<span class="num" id="7035847">0x6b</span><span class="op" id="7035851">,</span>&nbsp;<span class="num" id="7035853">0xaf</span><span class="op" id="7035857">,</span>&nbsp;<span class="num" id="7035859">0xad</span><span class="op" id="7035863">,</span>&nbsp;<span class="num" id="7035865">0xcb</span><span class="op" id="7035869">}</span><span class="op" id="7035870">,</span>&nbsp;<span class="string" id="7035872">&#34;abc&#34;</span><span class="op" id="7035877">}</span><span class="op" id="7035878">,</span><br>
<span class="lineno"></span><span class="op" id="7035880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7035883">var</span>&nbsp;<span class="ident" id="7035887">golden64a</span>&nbsp;<span class="op" id="7035897">=</span>&nbsp;<span class="op" id="7035899">[</span><span class="op" id="7035900">]</span><span class="ident" id="7035901">golden</span><span class="op" id="7035907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035910">{</span><span class="op" id="7035911">[</span><span class="op" id="7035912">]</span><span class="builtintype" id="7035913">byte</span><span class="op" id="7035917">{</span><span class="num" id="7035918">0xcb</span><span class="op" id="7035922">,</span>&nbsp;<span class="num" id="7035924">0xf2</span><span class="op" id="7035928">,</span>&nbsp;<span class="num" id="7035930">0x9c</span><span class="op" id="7035934">,</span>&nbsp;<span class="num" id="7035936">0xe4</span><span class="op" id="7035940">,</span>&nbsp;<span class="num" id="7035942">0x84</span><span class="op" id="7035946">,</span>&nbsp;<span class="num" id="7035948">0x22</span><span class="op" id="7035952">,</span>&nbsp;<span class="num" id="7035954">0x23</span><span class="op" id="7035958">,</span>&nbsp;<span class="num" id="7035960">0x25</span><span class="op" id="7035964">}</span><span class="op" id="7035965">,</span>&nbsp;<span class="string" id="7035967">&#34;&#34;</span><span class="op" id="7035969">}</span><span class="op" id="7035970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035973">{</span><span class="op" id="7035974">[</span><span class="op" id="7035975">]</span><span class="builtintype" id="7035976">byte</span><span class="op" id="7035980">{</span><span class="num" id="7035981">0xaf</span><span class="op" id="7035985">,</span>&nbsp;<span class="num" id="7035987">0x63</span><span class="op" id="7035991">,</span>&nbsp;<span class="num" id="7035993">0xdc</span><span class="op" id="7035997">,</span>&nbsp;<span class="num" id="7035999">0x4c</span><span class="op" id="7036003">,</span>&nbsp;<span class="num" id="7036005">0x86</span><span class="op" id="7036009">,</span>&nbsp;<span class="num" id="7036011">0x01</span><span class="op" id="7036015">,</span>&nbsp;<span class="num" id="7036017">0xec</span><span class="op" id="7036021">,</span>&nbsp;<span class="num" id="7036023">0x8c</span><span class="op" id="7036027">}</span><span class="op" id="7036028">,</span>&nbsp;<span class="string" id="7036030">&#34;a&#34;</span><span class="op" id="7036033">}</span><span class="op" id="7036034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036037">{</span><span class="op" id="7036038">[</span><span class="op" id="7036039">]</span><span class="builtintype" id="7036040">byte</span><span class="op" id="7036044">{</span><span class="num" id="7036045">0x08</span><span class="op" id="7036049">,</span>&nbsp;<span class="num" id="7036051">0x9c</span><span class="op" id="7036055">,</span>&nbsp;<span class="num" id="7036057">0x44</span><span class="op" id="7036061">,</span>&nbsp;<span class="num" id="7036063">0x07</span><span class="op" id="7036067">,</span>&nbsp;<span class="num" id="7036069">0xb5</span><span class="op" id="7036073">,</span>&nbsp;<span class="num" id="7036075">0x45</span><span class="op" id="7036079">,</span>&nbsp;<span class="num" id="7036081">0x98</span><span class="op" id="7036085">,</span>&nbsp;<span class="num" id="7036087">0x6a</span><span class="op" id="7036091">}</span><span class="op" id="7036092">,</span>&nbsp;<span class="string" id="7036094">&#34;ab&#34;</span><span class="op" id="7036098">}</span><span class="op" id="7036099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036102">{</span><span class="op" id="7036103">[</span><span class="op" id="7036104">]</span><span class="builtintype" id="7036105">byte</span><span class="op" id="7036109">{</span><span class="num" id="7036110">0xe7</span><span class="op" id="7036114">,</span>&nbsp;<span class="num" id="7036116">0x1f</span><span class="op" id="7036120">,</span>&nbsp;<span class="num" id="7036122">0xa2</span><span class="op" id="7036126">,</span>&nbsp;<span class="num" id="7036128">0x19</span><span class="op" id="7036132">,</span>&nbsp;<span class="num" id="7036134">0x05</span><span class="op" id="7036138">,</span>&nbsp;<span class="num" id="7036140">0x41</span><span class="op" id="7036144">,</span>&nbsp;<span class="num" id="7036146">0x57</span><span class="op" id="7036150">,</span>&nbsp;<span class="num" id="7036152">0x4b</span><span class="op" id="7036156">}</span><span class="op" id="7036157">,</span>&nbsp;<span class="string" id="7036159">&#34;abc&#34;</span><span class="op" id="7036164">}</span><span class="op" id="7036165">,</span><br>
<span class="lineno">45</span><span class="op" id="7036167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7036170">func</span>&nbsp;<span class="ident" id="7036175">TestGolden32</span><span class="op" id="7036187">(</span><span class="ident" id="7036188">t</span>&nbsp;<span class="op" id="7036190">*</span><span class="ident" id="7036191">testing</span><span class="op" id="7036198">.</span><span class="ident" id="7036199">T</span><span class="op" id="7036200">)</span>&nbsp;<span class="op" id="7036202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036205">testGolden</span><span class="op" id="7036215">(</span><span class="ident" id="7036216">t</span><span class="op" id="7036217">,</span>&nbsp;<span class="ident" id="7036219">New32</span><span class="op" id="7036224">(</span><span class="op" id="7036225">)</span><span class="op" id="7036226">,</span>&nbsp;<span class="ident" id="7036228">golden32</span><span class="op" id="7036236">)</span><br>
<span class="lineno"></span><span class="op" id="7036238">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7036241">func</span>&nbsp;<span class="ident" id="7036246">TestGolden32a</span><span class="op" id="7036259">(</span><span class="ident" id="7036260">t</span>&nbsp;<span class="op" id="7036262">*</span><span class="ident" id="7036263">testing</span><span class="op" id="7036270">.</span><span class="ident" id="7036271">T</span><span class="op" id="7036272">)</span>&nbsp;<span class="op" id="7036274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036277">testGolden</span><span class="op" id="7036287">(</span><span class="ident" id="7036288">t</span><span class="op" id="7036289">,</span>&nbsp;<span class="ident" id="7036291">New32a</span><span class="op" id="7036297">(</span><span class="op" id="7036298">)</span><span class="op" id="7036299">,</span>&nbsp;<span class="ident" id="7036301">golden32a</span><span class="op" id="7036310">)</span><br>
<span class="lineno"></span><span class="op" id="7036312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7036315">func</span>&nbsp;<span class="ident" id="7036320">TestGolden64</span><span class="op" id="7036332">(</span><span class="ident" id="7036333">t</span>&nbsp;<span class="op" id="7036335">*</span><span class="ident" id="7036336">testing</span><span class="op" id="7036343">.</span><span class="ident" id="7036344">T</span><span class="op" id="7036345">)</span>&nbsp;<span class="op" id="7036347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036350">testGolden</span><span class="op" id="7036360">(</span><span class="ident" id="7036361">t</span><span class="op" id="7036362">,</span>&nbsp;<span class="ident" id="7036364">New64</span><span class="op" id="7036369">(</span><span class="op" id="7036370">)</span><span class="op" id="7036371">,</span>&nbsp;<span class="ident" id="7036373">golden64</span><span class="op" id="7036381">)</span><br>
<span class="lineno"></span><span class="op" id="7036383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7036386">func</span>&nbsp;<span class="ident" id="7036391">TestGolden64a</span><span class="op" id="7036404">(</span><span class="ident" id="7036405">t</span>&nbsp;<span class="op" id="7036407">*</span><span class="ident" id="7036408">testing</span><span class="op" id="7036415">.</span><span class="ident" id="7036416">T</span><span class="op" id="7036417">)</span>&nbsp;<span class="op" id="7036419">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036422">testGolden</span><span class="op" id="7036432">(</span><span class="ident" id="7036433">t</span><span class="op" id="7036434">,</span>&nbsp;<span class="ident" id="7036436">New64a</span><span class="op" id="7036442">(</span><span class="op" id="7036443">)</span><span class="op" id="7036444">,</span>&nbsp;<span class="ident" id="7036446">golden64a</span><span class="op" id="7036455">)</span><br>
<span class="lineno"></span><span class="op" id="7036457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7036460">func</span>&nbsp;<span class="ident" id="7036465">testGolden</span><span class="op" id="7036475">(</span><span class="ident" id="7036476">t</span>&nbsp;<span class="op" id="7036478">*</span><span class="ident" id="7036479">testing</span><span class="op" id="7036486">.</span><span class="ident" id="7036487">T</span><span class="op" id="7036488">,</span>&nbsp;<span class="ident" id="7036490">hash</span>&nbsp;<span class="ident" id="7036495">hash</span><span class="op" id="7036499">.</span><span class="ident" id="7036500">Hash</span><span class="op" id="7036504">,</span>&nbsp;<span class="ident" id="7036506">gold</span>&nbsp;<span class="op" id="7036511">[</span><span class="op" id="7036512">]</span><span class="ident" id="7036513">golden</span><span class="op" id="7036519">)</span>&nbsp;<span class="op" id="7036521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036524">for</span>&nbsp;<span class="ident" id="7036528">_</span><span class="op" id="7036529">,</span>&nbsp;<span class="ident" id="7036531">g</span>&nbsp;<span class="op" id="7036533">:=</span>&nbsp;<span class="keyword" id="7036536">range</span>&nbsp;<span class="ident" id="7036542">gold</span>&nbsp;<span class="op" id="7036547">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036551">hash</span><span class="op" id="7036555">.</span><span class="ident" id="7036556">Reset</span><span class="op" id="7036561">(</span><span class="op" id="7036562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036566">done</span><span class="op" id="7036570">,</span>&nbsp;<span class="builtintype" id="7036572">error</span>&nbsp;<span class="op" id="7036578">:=</span>&nbsp;<span class="ident" id="7036581">hash</span><span class="op" id="7036585">.</span><span class="ident" id="7036586">Write</span><span class="op" id="7036591">(</span><span class="op" id="7036592">[</span><span class="op" id="7036593">]</span><span class="builtintype" id="7036594">byte</span><span class="op" id="7036598">(</span><span class="ident" id="7036599">g</span><span class="op" id="7036600">.</span><span class="ident" id="7036601">text</span><span class="op" id="7036605">)</span><span class="op" id="7036606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036610">if</span>&nbsp;<span class="builtintype" id="7036613">error</span>&nbsp;<span class="op" id="7036619">!=</span>&nbsp;<span class="ident" id="7036622">nil</span>&nbsp;<span class="op" id="7036626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036631">t</span><span class="op" id="7036632">.</span><span class="ident" id="7036633">Fatalf</span><span class="op" id="7036639">(</span><span class="string" id="7036640">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7036657">,</span>&nbsp;<span class="builtintype" id="7036659">error</span><span class="op" id="7036664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036668">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036672">if</span>&nbsp;<span class="ident" id="7036675">done</span>&nbsp;<span class="op" id="7036680">!=</span>&nbsp;<span class="builtinfunc" id="7036683">len</span><span class="op" id="7036686">(</span><span class="ident" id="7036687">g</span><span class="op" id="7036688">.</span><span class="ident" id="7036689">text</span><span class="op" id="7036693">)</span>&nbsp;<span class="op" id="7036695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036700">t</span><span class="op" id="7036701">.</span><span class="ident" id="7036702">Fatalf</span><span class="op" id="7036708">(</span><span class="string" id="7036709">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="7036740">,</span>&nbsp;<span class="ident" id="7036742">done</span><span class="op" id="7036746">,</span>&nbsp;<span class="builtinfunc" id="7036748">len</span><span class="op" id="7036751">(</span><span class="ident" id="7036752">g</span><span class="op" id="7036753">.</span><span class="ident" id="7036754">text</span><span class="op" id="7036758">)</span><span class="op" id="7036759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036767">if</span>&nbsp;<span class="ident" id="7036770">actual</span>&nbsp;<span class="op" id="7036777">:=</span>&nbsp;<span class="ident" id="7036780">hash</span><span class="op" id="7036784">.</span><span class="ident" id="7036785">Sum</span><span class="op" id="7036788">(</span><span class="ident" id="7036789">nil</span><span class="op" id="7036792">)</span><span class="op" id="7036793">;</span>&nbsp;<span class="op" id="7036795">!</span><span class="ident" id="7036796">bytes</span><span class="op" id="7036801">.</span><span class="ident" id="7036802">Equal</span><span class="op" id="7036807">(</span><span class="ident" id="7036808">g</span><span class="op" id="7036809">.</span><span class="ident" id="7036810">sum</span><span class="op" id="7036813">,</span>&nbsp;<span class="ident" id="7036815">actual</span><span class="op" id="7036821">)</span>&nbsp;<span class="op" id="7036823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036828">t</span><span class="op" id="7036829">.</span><span class="ident" id="7036830">Errorf</span><span class="op" id="7036836">(</span><span class="string" id="7036837">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7036864">,</span>&nbsp;<span class="ident" id="7036866">g</span><span class="op" id="7036867">.</span><span class="ident" id="7036868">text</span><span class="op" id="7036872">,</span>&nbsp;<span class="ident" id="7036874">actual</span><span class="op" id="7036880">,</span>&nbsp;<span class="ident" id="7036882">g</span><span class="op" id="7036883">.</span><span class="ident" id="7036884">sum</span><span class="op" id="7036887">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036894">}</span><br>
<span class="lineno"></span><span class="op" id="7036896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7036899">func</span>&nbsp;<span class="ident" id="7036904">TestIntegrity32</span><span class="op" id="7036919">(</span><span class="ident" id="7036920">t</span>&nbsp;<span class="op" id="7036922">*</span><span class="ident" id="7036923">testing</span><span class="op" id="7036930">.</span><span class="ident" id="7036931">T</span><span class="op" id="7036932">)</span>&nbsp;<span class="op" id="7036934">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036937">testIntegrity</span><span class="op" id="7036950">(</span><span class="ident" id="7036951">t</span><span class="op" id="7036952">,</span>&nbsp;<span class="ident" id="7036954">New32</span><span class="op" id="7036959">(</span><span class="op" id="7036960">)</span><span class="op" id="7036961">)</span><br>
<span class="lineno"></span><span class="op" id="7036963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7036966">func</span>&nbsp;<span class="ident" id="7036971">TestIntegrity32a</span><span class="op" id="7036987">(</span><span class="ident" id="7036988">t</span>&nbsp;<span class="op" id="7036990">*</span><span class="ident" id="7036991">testing</span><span class="op" id="7036998">.</span><span class="ident" id="7036999">T</span><span class="op" id="7037000">)</span>&nbsp;<span class="op" id="7037002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037005">testIntegrity</span><span class="op" id="7037018">(</span><span class="ident" id="7037019">t</span><span class="op" id="7037020">,</span>&nbsp;<span class="ident" id="7037022">New32a</span><span class="op" id="7037028">(</span><span class="op" id="7037029">)</span><span class="op" id="7037030">)</span><br>
<span class="lineno">85</span><span class="op" id="7037032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7037035">func</span>&nbsp;<span class="ident" id="7037040">TestIntegrity64</span><span class="op" id="7037055">(</span><span class="ident" id="7037056">t</span>&nbsp;<span class="op" id="7037058">*</span><span class="ident" id="7037059">testing</span><span class="op" id="7037066">.</span><span class="ident" id="7037067">T</span><span class="op" id="7037068">)</span>&nbsp;<span class="op" id="7037070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037073">testIntegrity</span><span class="op" id="7037086">(</span><span class="ident" id="7037087">t</span><span class="op" id="7037088">,</span>&nbsp;<span class="ident" id="7037090">New64</span><span class="op" id="7037095">(</span><span class="op" id="7037096">)</span><span class="op" id="7037097">)</span><br>
<span class="lineno"></span><span class="op" id="7037099">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="7037102">func</span>&nbsp;<span class="ident" id="7037107">TestIntegrity64a</span><span class="op" id="7037123">(</span><span class="ident" id="7037124">t</span>&nbsp;<span class="op" id="7037126">*</span><span class="ident" id="7037127">testing</span><span class="op" id="7037134">.</span><span class="ident" id="7037135">T</span><span class="op" id="7037136">)</span>&nbsp;<span class="op" id="7037138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037141">testIntegrity</span><span class="op" id="7037154">(</span><span class="ident" id="7037155">t</span><span class="op" id="7037156">,</span>&nbsp;<span class="ident" id="7037158">New64a</span><span class="op" id="7037164">(</span><span class="op" id="7037165">)</span><span class="op" id="7037166">)</span><br>
<span class="lineno"></span><span class="op" id="7037168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7037171">func</span>&nbsp;<span class="ident" id="7037176">testIntegrity</span><span class="op" id="7037189">(</span><span class="ident" id="7037190">t</span>&nbsp;<span class="op" id="7037192">*</span><span class="ident" id="7037193">testing</span><span class="op" id="7037200">.</span><span class="ident" id="7037201">T</span><span class="op" id="7037202">,</span>&nbsp;<span class="ident" id="7037204">h</span>&nbsp;<span class="ident" id="7037206">hash</span><span class="op" id="7037210">.</span><span class="ident" id="7037211">Hash</span><span class="op" id="7037215">)</span>&nbsp;<span class="op" id="7037217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037220">data</span>&nbsp;<span class="op" id="7037225">:=</span>&nbsp;<span class="op" id="7037228">[</span><span class="op" id="7037229">]</span><span class="builtintype" id="7037230">byte</span><span class="op" id="7037234">{</span><span class="string" id="7037235">&#39;1&#39;</span><span class="op" id="7037238">,</span>&nbsp;<span class="string" id="7037240">&#39;2&#39;</span><span class="op" id="7037243">,</span>&nbsp;<span class="num" id="7037245">3</span><span class="op" id="7037246">,</span>&nbsp;<span class="num" id="7037248">4</span><span class="op" id="7037249">,</span>&nbsp;<span class="num" id="7037251">5</span><span class="op" id="7037252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037255">h</span><span class="op" id="7037256">.</span><span class="ident" id="7037257">Write</span><span class="op" id="7037262">(</span><span class="ident" id="7037263">data</span><span class="op" id="7037267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037270">sum</span>&nbsp;<span class="op" id="7037274">:=</span>&nbsp;<span class="ident" id="7037277">h</span><span class="op" id="7037278">.</span><span class="ident" id="7037279">Sum</span><span class="op" id="7037282">(</span><span class="ident" id="7037283">nil</span><span class="op" id="7037286">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7037290">if</span>&nbsp;<span class="ident" id="7037293">size</span>&nbsp;<span class="op" id="7037298">:=</span>&nbsp;<span class="ident" id="7037301">h</span><span class="op" id="7037302">.</span><span class="ident" id="7037303">Size</span><span class="op" id="7037307">(</span><span class="op" id="7037308">)</span><span class="op" id="7037309">;</span>&nbsp;<span class="ident" id="7037311">size</span>&nbsp;<span class="op" id="7037316">!=</span>&nbsp;<span class="builtinfunc" id="7037319">len</span><span class="op" id="7037322">(</span><span class="ident" id="7037323">sum</span><span class="op" id="7037326">)</span>&nbsp;<span class="op" id="7037328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037332">t</span><span class="op" id="7037333">.</span><span class="ident" id="7037334">Fatalf</span><span class="op" id="7037340">(</span><span class="string" id="7037341">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="7037370">,</span>&nbsp;<span class="ident" id="7037372">size</span><span class="op" id="7037376">,</span>&nbsp;<span class="builtinfunc" id="7037378">len</span><span class="op" id="7037381">(</span><span class="ident" id="7037382">sum</span><span class="op" id="7037385">)</span><span class="op" id="7037386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7037393">if</span>&nbsp;<span class="ident" id="7037396">a</span>&nbsp;<span class="op" id="7037398">:=</span>&nbsp;<span class="ident" id="7037401">h</span><span class="op" id="7037402">.</span><span class="ident" id="7037403">Sum</span><span class="op" id="7037406">(</span><span class="ident" id="7037407">nil</span><span class="op" id="7037410">)</span><span class="op" id="7037411">;</span>&nbsp;<span class="op" id="7037413">!</span><span class="ident" id="7037414">bytes</span><span class="op" id="7037419">.</span><span class="ident" id="7037420">Equal</span><span class="op" id="7037425">(</span><span class="ident" id="7037426">sum</span><span class="op" id="7037429">,</span>&nbsp;<span class="ident" id="7037431">a</span><span class="op" id="7037432">)</span>&nbsp;<span class="op" id="7037434">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037438">t</span><span class="op" id="7037439">.</span><span class="ident" id="7037440">Fatalf</span><span class="op" id="7037446">(</span><span class="string" id="7037447">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7037484">,</span>&nbsp;<span class="ident" id="7037486">sum</span><span class="op" id="7037489">,</span>&nbsp;<span class="ident" id="7037491">a</span><span class="op" id="7037492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037499">h</span><span class="op" id="7037500">.</span><span class="ident" id="7037501">Reset</span><span class="op" id="7037506">(</span><span class="op" id="7037507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037510">h</span><span class="op" id="7037511">.</span><span class="ident" id="7037512">Write</span><span class="op" id="7037517">(</span><span class="ident" id="7037518">data</span><span class="op" id="7037522">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7037525">if</span>&nbsp;<span class="ident" id="7037528">a</span>&nbsp;<span class="op" id="7037530">:=</span>&nbsp;<span class="ident" id="7037533">h</span><span class="op" id="7037534">.</span><span class="ident" id="7037535">Sum</span><span class="op" id="7037538">(</span><span class="ident" id="7037539">nil</span><span class="op" id="7037542">)</span><span class="op" id="7037543">;</span>&nbsp;<span class="op" id="7037545">!</span><span class="ident" id="7037546">bytes</span><span class="op" id="7037551">.</span><span class="ident" id="7037552">Equal</span><span class="op" id="7037557">(</span><span class="ident" id="7037558">sum</span><span class="op" id="7037561">,</span>&nbsp;<span class="ident" id="7037563">a</span><span class="op" id="7037564">)</span>&nbsp;<span class="op" id="7037566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037570">t</span><span class="op" id="7037571">.</span><span class="ident" id="7037572">Fatalf</span><span class="op" id="7037578">(</span><span class="string" id="7037579">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7037621">,</span>&nbsp;<span class="ident" id="7037623">sum</span><span class="op" id="7037626">,</span>&nbsp;<span class="ident" id="7037628">a</span><span class="op" id="7037629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037636">h</span><span class="op" id="7037637">.</span><span class="ident" id="7037638">Reset</span><span class="op" id="7037643">(</span><span class="op" id="7037644">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037647">h</span><span class="op" id="7037648">.</span><span class="ident" id="7037649">Write</span><span class="op" id="7037654">(</span><span class="ident" id="7037655">data</span><span class="op" id="7037659">[</span><span class="op" id="7037660">:</span><span class="num" id="7037661">2</span><span class="op" id="7037662">]</span><span class="op" id="7037663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037666">h</span><span class="op" id="7037667">.</span><span class="ident" id="7037668">Write</span><span class="op" id="7037673">(</span><span class="ident" id="7037674">data</span><span class="op" id="7037678">[</span><span class="num" id="7037679">2</span><span class="op" id="7037680">:</span><span class="op" id="7037681">]</span><span class="op" id="7037682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7037685">if</span>&nbsp;<span class="ident" id="7037688">a</span>&nbsp;<span class="op" id="7037690">:=</span>&nbsp;<span class="ident" id="7037693">h</span><span class="op" id="7037694">.</span><span class="ident" id="7037695">Sum</span><span class="op" id="7037698">(</span><span class="ident" id="7037699">nil</span><span class="op" id="7037702">)</span><span class="op" id="7037703">;</span>&nbsp;<span class="op" id="7037705">!</span><span class="ident" id="7037706">bytes</span><span class="op" id="7037711">.</span><span class="ident" id="7037712">Equal</span><span class="op" id="7037717">(</span><span class="ident" id="7037718">sum</span><span class="op" id="7037721">,</span>&nbsp;<span class="ident" id="7037723">a</span><span class="op" id="7037724">)</span>&nbsp;<span class="op" id="7037726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037730">t</span><span class="op" id="7037731">.</span><span class="ident" id="7037732">Fatalf</span><span class="op" id="7037738">(</span><span class="string" id="7037739">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7037788">,</span>&nbsp;<span class="ident" id="7037790">sum</span><span class="op" id="7037793">,</span>&nbsp;<span class="ident" id="7037795">a</span><span class="op" id="7037796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037799">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7037803">switch</span>&nbsp;<span class="ident" id="7037810">h</span><span class="op" id="7037811">.</span><span class="ident" id="7037812">Size</span><span class="op" id="7037816">(</span><span class="op" id="7037817">)</span>&nbsp;<span class="op" id="7037819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7037822">case</span>&nbsp;<span class="num" id="7037827">4</span><span class="op" id="7037828">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037832">sum32</span>&nbsp;<span class="op" id="7037838">:=</span>&nbsp;<span class="ident" id="7037841">h</span><span class="op" id="7037842">.</span><span class="op" id="7037843">(</span><span class="ident" id="7037844">hash</span><span class="op" id="7037848">.</span><span class="ident" id="7037849">Hash32</span><span class="op" id="7037855">)</span><span class="op" id="7037856">.</span><span class="ident" id="7037857">Sum32</span><span class="op" id="7037862">(</span><span class="op" id="7037863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7037867">if</span>&nbsp;<span class="ident" id="7037870">sum32</span>&nbsp;<span class="op" id="7037876">!=</span>&nbsp;<span class="ident" id="7037879">binary</span><span class="op" id="7037885">.</span><span class="ident" id="7037886">BigEndian</span><span class="op" id="7037895">.</span><span class="ident" id="7037896">Uint32</span><span class="op" id="7037902">(</span><span class="ident" id="7037903">sum</span><span class="op" id="7037906">)</span>&nbsp;<span class="op" id="7037908">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037913">t</span><span class="op" id="7037914">.</span><span class="ident" id="7037915">Fatalf</span><span class="op" id="7037921">(</span><span class="string" id="7037922">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="7037952">,</span>&nbsp;<span class="ident" id="7037954">sum</span><span class="op" id="7037957">,</span>&nbsp;<span class="ident" id="7037959">sum32</span><span class="op" id="7037964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7037971">case</span>&nbsp;<span class="num" id="7037976">8</span><span class="op" id="7037977">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037981">sum64</span>&nbsp;<span class="op" id="7037987">:=</span>&nbsp;<span class="ident" id="7037990">h</span><span class="op" id="7037991">.</span><span class="op" id="7037992">(</span><span class="ident" id="7037993">hash</span><span class="op" id="7037997">.</span><span class="ident" id="7037998">Hash64</span><span class="op" id="7038004">)</span><span class="op" id="7038005">.</span><span class="ident" id="7038006">Sum64</span><span class="op" id="7038011">(</span><span class="op" id="7038012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7038016">if</span>&nbsp;<span class="ident" id="7038019">sum64</span>&nbsp;<span class="op" id="7038025">!=</span>&nbsp;<span class="ident" id="7038028">binary</span><span class="op" id="7038034">.</span><span class="ident" id="7038035">BigEndian</span><span class="op" id="7038044">.</span><span class="ident" id="7038045">Uint64</span><span class="op" id="7038051">(</span><span class="ident" id="7038052">sum</span><span class="op" id="7038055">)</span>&nbsp;<span class="op" id="7038057">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038062">t</span><span class="op" id="7038063">.</span><span class="ident" id="7038064">Fatalf</span><span class="op" id="7038070">(</span><span class="string" id="7038071">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="7038101">,</span>&nbsp;<span class="ident" id="7038103">sum</span><span class="op" id="7038106">,</span>&nbsp;<span class="ident" id="7038108">sum64</span><span class="op" id="7038113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7038117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7038120">}</span><br>
<span class="lineno"></span><span class="op" id="7038122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7038125">func</span>&nbsp;<span class="ident" id="7038130">BenchmarkFnv32KB</span><span class="op" id="7038146">(</span><span class="ident" id="7038147">b</span>&nbsp;<span class="op" id="7038149">*</span><span class="ident" id="7038150">testing</span><span class="op" id="7038157">.</span><span class="ident" id="7038158">B</span><span class="op" id="7038159">)</span>&nbsp;<span class="op" id="7038161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038164">benchmarkKB</span><span class="op" id="7038175">(</span><span class="ident" id="7038176">b</span><span class="op" id="7038177">,</span>&nbsp;<span class="ident" id="7038179">New32</span><span class="op" id="7038184">(</span><span class="op" id="7038185">)</span><span class="op" id="7038186">)</span><br>
<span class="lineno"></span><span class="op" id="7038188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7038191">func</span>&nbsp;<span class="ident" id="7038196">BenchmarkFnv32aKB</span><span class="op" id="7038213">(</span><span class="ident" id="7038214">b</span>&nbsp;<span class="op" id="7038216">*</span><span class="ident" id="7038217">testing</span><span class="op" id="7038224">.</span><span class="ident" id="7038225">B</span><span class="op" id="7038226">)</span>&nbsp;<span class="op" id="7038228">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038231">benchmarkKB</span><span class="op" id="7038242">(</span><span class="ident" id="7038243">b</span><span class="op" id="7038244">,</span>&nbsp;<span class="ident" id="7038246">New32a</span><span class="op" id="7038252">(</span><span class="op" id="7038253">)</span><span class="op" id="7038254">)</span><br>
<span class="lineno"></span><span class="op" id="7038256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7038259">func</span>&nbsp;<span class="ident" id="7038264">BenchmarkFnv64KB</span><span class="op" id="7038280">(</span><span class="ident" id="7038281">b</span>&nbsp;<span class="op" id="7038283">*</span><span class="ident" id="7038284">testing</span><span class="op" id="7038291">.</span><span class="ident" id="7038292">B</span><span class="op" id="7038293">)</span>&nbsp;<span class="op" id="7038295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038298">benchmarkKB</span><span class="op" id="7038309">(</span><span class="ident" id="7038310">b</span><span class="op" id="7038311">,</span>&nbsp;<span class="ident" id="7038313">New64</span><span class="op" id="7038318">(</span><span class="op" id="7038319">)</span><span class="op" id="7038320">)</span><br>
<span class="lineno">145</span><span class="op" id="7038322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7038325">func</span>&nbsp;<span class="ident" id="7038330">BenchmarkFnv64aKB</span><span class="op" id="7038347">(</span><span class="ident" id="7038348">b</span>&nbsp;<span class="op" id="7038350">*</span><span class="ident" id="7038351">testing</span><span class="op" id="7038358">.</span><span class="ident" id="7038359">B</span><span class="op" id="7038360">)</span>&nbsp;<span class="op" id="7038362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038365">benchmarkKB</span><span class="op" id="7038376">(</span><span class="ident" id="7038377">b</span><span class="op" id="7038378">,</span>&nbsp;<span class="ident" id="7038380">New64a</span><span class="op" id="7038386">(</span><span class="op" id="7038387">)</span><span class="op" id="7038388">)</span><br>
<span class="lineno"></span><span class="op" id="7038390">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="7038393">func</span>&nbsp;<span class="ident" id="7038398">benchmarkKB</span><span class="op" id="7038409">(</span><span class="ident" id="7038410">b</span>&nbsp;<span class="op" id="7038412">*</span><span class="ident" id="7038413">testing</span><span class="op" id="7038420">.</span><span class="ident" id="7038421">B</span><span class="op" id="7038422">,</span>&nbsp;<span class="ident" id="7038424">h</span>&nbsp;<span class="ident" id="7038426">hash</span><span class="op" id="7038430">.</span><span class="ident" id="7038431">Hash</span><span class="op" id="7038435">)</span>&nbsp;<span class="op" id="7038437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038440">b</span><span class="op" id="7038441">.</span><span class="ident" id="7038442">SetBytes</span><span class="op" id="7038450">(</span><span class="num" id="7038451">1024</span><span class="op" id="7038455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038458">data</span>&nbsp;<span class="op" id="7038463">:=</span>&nbsp;<span class="builtinfunc" id="7038466">make</span><span class="op" id="7038470">(</span><span class="op" id="7038471">[</span><span class="op" id="7038472">]</span><span class="builtintype" id="7038473">byte</span><span class="op" id="7038477">,</span>&nbsp;<span class="num" id="7038479">1024</span><span class="op" id="7038483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7038486">for</span>&nbsp;<span class="ident" id="7038490">i</span>&nbsp;<span class="op" id="7038492">:=</span>&nbsp;<span class="keyword" id="7038495">range</span>&nbsp;<span class="ident" id="7038501">data</span>&nbsp;<span class="op" id="7038506">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038510">data</span><span class="op" id="7038514">[</span><span class="ident" id="7038515">i</span><span class="op" id="7038516">]</span>&nbsp;<span class="op" id="7038518">=</span>&nbsp;<span class="builtintype" id="7038520">byte</span><span class="op" id="7038524">(</span><span class="ident" id="7038525">i</span><span class="op" id="7038526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7038529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038532">in</span>&nbsp;<span class="op" id="7038535">:=</span>&nbsp;<span class="builtinfunc" id="7038538">make</span><span class="op" id="7038542">(</span><span class="op" id="7038543">[</span><span class="op" id="7038544">]</span><span class="builtintype" id="7038545">byte</span><span class="op" id="7038549">,</span>&nbsp;<span class="num" id="7038551">0</span><span class="op" id="7038552">,</span>&nbsp;<span class="ident" id="7038554">h</span><span class="op" id="7038555">.</span><span class="ident" id="7038556">Size</span><span class="op" id="7038560">(</span><span class="op" id="7038561">)</span><span class="op" id="7038562">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038566">b</span><span class="op" id="7038567">.</span><span class="ident" id="7038568">ResetTimer</span><span class="op" id="7038578">(</span><span class="op" id="7038579">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7038582">for</span>&nbsp;<span class="ident" id="7038586">i</span>&nbsp;<span class="op" id="7038588">:=</span>&nbsp;<span class="num" id="7038591">0</span><span class="op" id="7038592">;</span>&nbsp;<span class="ident" id="7038594">i</span>&nbsp;<span class="op" id="7038596">&lt;</span>&nbsp;<span class="ident" id="7038598">b</span><span class="op" id="7038599">.</span><span class="ident" id="7038600">N</span><span class="op" id="7038601">;</span>&nbsp;<span class="ident" id="7038603">i</span><span class="op" id="7038604">++</span>&nbsp;<span class="op" id="7038607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038611">h</span><span class="op" id="7038612">.</span><span class="ident" id="7038613">Reset</span><span class="op" id="7038618">(</span><span class="op" id="7038619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038623">h</span><span class="op" id="7038624">.</span><span class="ident" id="7038625">Write</span><span class="op" id="7038630">(</span><span class="ident" id="7038631">data</span><span class="op" id="7038635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038639">h</span><span class="op" id="7038640">.</span><span class="ident" id="7038641">Sum</span><span class="op" id="7038644">(</span><span class="ident" id="7038645">in</span><span class="op" id="7038647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7038650">}</span><br>
<span class="lineno">165</span><span class="op" id="7038652">}</span>
</div>
</body>
</html>
