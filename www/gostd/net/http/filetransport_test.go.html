<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html" class="current">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7698429">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7698484">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7698538">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7698589">package</span>&nbsp;<span class="ident" id="7698597">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7698603">import</span>&nbsp;<span class="op" id="7698610">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7698613">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7698626">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7698632">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7698649">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7698659">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7698662">func</span>&nbsp;<span class="ident" id="7698667">checker</span><span class="op" id="7698674">(</span><span class="ident" id="7698675">t</span>&nbsp;<span class="op" id="7698677">*</span><span class="ident" id="7698678">testing</span><span class="op" id="7698685">.</span><span class="ident" id="7698686">T</span><span class="op" id="7698687">)</span>&nbsp;<span class="keyword" id="7698689">func</span><span class="op" id="7698693">(</span><span class="builtintype" id="7698694">string</span><span class="op" id="7698700">,</span>&nbsp;<span class="builtintype" id="7698702">error</span><span class="op" id="7698707">)</span>&nbsp;<span class="op" id="7698709">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7698712">return</span>&nbsp;<span class="keyword" id="7698719">func</span><span class="op" id="7698723">(</span><span class="ident" id="7698724">call</span>&nbsp;<span class="builtintype" id="7698729">string</span><span class="op" id="7698735">,</span>&nbsp;<span class="ident" id="7698737">err</span>&nbsp;<span class="builtintype" id="7698741">error</span><span class="op" id="7698746">)</span>&nbsp;<span class="op" id="7698748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7698752">if</span>&nbsp;<span class="ident" id="7698755">err</span>&nbsp;<span class="op" id="7698759">==</span>&nbsp;<span class="builtintype" id="7698762">nil</span>&nbsp;<span class="op" id="7698766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7698771">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7698780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7698784">t</span><span class="op" id="7698785">.</span><span class="ident" id="7698786">Fatalf</span><span class="op" id="7698792">(</span><span class="string" id="7698793">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="7698801">,</span>&nbsp;<span class="ident" id="7698803">call</span><span class="op" id="7698807">,</span>&nbsp;<span class="ident" id="7698809">err</span><span class="op" id="7698812">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7698815">}</span><br>
<span class="lineno"></span><span class="op" id="7698817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7698820">func</span>&nbsp;<span class="ident" id="7698825">TestFileTransport</span><span class="op" id="7698842">(</span><span class="ident" id="7698843">t</span>&nbsp;<span class="op" id="7698845">*</span><span class="ident" id="7698846">testing</span><span class="op" id="7698853">.</span><span class="ident" id="7698854">T</span><span class="op" id="7698855">)</span>&nbsp;<span class="op" id="7698857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7698860">check</span>&nbsp;<span class="op" id="7698866">:=</span>&nbsp;<span class="ident" id="7698869">checker</span><span class="op" id="7698876">(</span><span class="ident" id="7698877">t</span><span class="op" id="7698878">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7698882">dname</span><span class="op" id="7698887">,</span>&nbsp;<span class="ident" id="7698889">err</span>&nbsp;<span class="op" id="7698893">:=</span>&nbsp;<span class="ident" id="7698896">ioutil</span><span class="op" id="7698902">.</span><span class="ident" id="7698903">TempDir</span><span class="op" id="7698910">(</span><span class="string" id="7698911">&#34;&#34;</span><span class="op" id="7698913">,</span>&nbsp;<span class="string" id="7698915">&#34;&#34;</span><span class="op" id="7698917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7698920">check</span><span class="op" id="7698925">(</span><span class="string" id="7698926">&#34;TempDir&#34;</span><span class="op" id="7698935">,</span>&nbsp;<span class="ident" id="7698937">err</span><span class="op" id="7698940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7698943">fname</span>&nbsp;<span class="op" id="7698949">:=</span>&nbsp;<span class="ident" id="7698952">filepath</span><span class="op" id="7698960">.</span><span class="ident" id="7698961">Join</span><span class="op" id="7698965">(</span><span class="ident" id="7698966">dname</span><span class="op" id="7698971">,</span>&nbsp;<span class="string" id="7698973">&#34;foo.txt&#34;</span><span class="op" id="7698982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7698985">err</span>&nbsp;<span class="op" id="7698989">=</span>&nbsp;<span class="ident" id="7698991">ioutil</span><span class="op" id="7698997">.</span><span class="ident" id="7698998">WriteFile</span><span class="op" id="7699007">(</span><span class="ident" id="7699008">fname</span><span class="op" id="7699013">,</span>&nbsp;<span class="op" id="7699015">[</span><span class="op" id="7699016">]</span><span class="builtintype" id="7699017">byte</span><span class="op" id="7699021">(</span><span class="string" id="7699022">&#34;Bar&#34;</span><span class="op" id="7699027">)</span><span class="op" id="7699028">,</span>&nbsp;<span class="num" id="7699030">0644</span><span class="op" id="7699034">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699037">check</span><span class="op" id="7699042">(</span><span class="string" id="7699043">&#34;WriteFile&#34;</span><span class="op" id="7699054">,</span>&nbsp;<span class="ident" id="7699056">err</span><span class="op" id="7699059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7699062">defer</span>&nbsp;<span class="ident" id="7699068">os</span><span class="op" id="7699070">.</span><span class="ident" id="7699071">Remove</span><span class="op" id="7699077">(</span><span class="ident" id="7699078">dname</span><span class="op" id="7699083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7699086">defer</span>&nbsp;<span class="ident" id="7699092">os</span><span class="op" id="7699094">.</span><span class="ident" id="7699095">Remove</span><span class="op" id="7699101">(</span><span class="ident" id="7699102">fname</span><span class="op" id="7699107">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699111">tr</span>&nbsp;<span class="op" id="7699114">:=</span>&nbsp;<span class="op" id="7699117">&amp;</span><span class="ident" id="7699118">Transport</span><span class="op" id="7699127">{</span><span class="op" id="7699128">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699131">tr</span><span class="op" id="7699133">.</span><span class="ident" id="7699134">RegisterProtocol</span><span class="op" id="7699150">(</span><span class="string" id="7699151">&#34;file&#34;</span><span class="op" id="7699157">,</span>&nbsp;<span class="ident" id="7699159">NewFileTransport</span><span class="op" id="7699175">(</span><span class="ident" id="7699176">Dir</span><span class="op" id="7699179">(</span><span class="ident" id="7699180">dname</span><span class="op" id="7699185">)</span><span class="op" id="7699186">)</span><span class="op" id="7699187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699190">c</span>&nbsp;<span class="op" id="7699192">:=</span>&nbsp;<span class="op" id="7699195">&amp;</span><span class="ident" id="7699196">Client</span><span class="op" id="7699202">{</span><span class="ident" id="7699203">Transport</span><span class="op" id="7699212">:</span>&nbsp;<span class="ident" id="7699214">tr</span><span class="op" id="7699216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699220">fooURLs</span>&nbsp;<span class="op" id="7699228">:=</span>&nbsp;<span class="op" id="7699231">[</span><span class="op" id="7699232">]</span><span class="builtintype" id="7699233">string</span><span class="op" id="7699239">{</span><span class="string" id="7699240">&#34;file:///foo.txt&#34;</span><span class="op" id="7699257">,</span>&nbsp;<span class="string" id="7699259">&#34;file://../foo.txt&#34;</span><span class="op" id="7699278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7699281">for</span>&nbsp;<span class="ident" id="7699285">_</span><span class="op" id="7699286">,</span>&nbsp;<span class="ident" id="7699288">urlstr</span>&nbsp;<span class="op" id="7699295">:=</span>&nbsp;<span class="keyword" id="7699298">range</span>&nbsp;<span class="ident" id="7699304">fooURLs</span>&nbsp;<span class="op" id="7699312">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699316">res</span><span class="op" id="7699319">,</span>&nbsp;<span class="ident" id="7699321">err</span>&nbsp;<span class="op" id="7699325">:=</span>&nbsp;<span class="ident" id="7699328">c</span><span class="op" id="7699329">.</span><span class="ident" id="7699330">Get</span><span class="op" id="7699333">(</span><span class="ident" id="7699334">urlstr</span><span class="op" id="7699340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699344">check</span><span class="op" id="7699349">(</span><span class="string" id="7699350">&#34;Get&nbsp;&#34;</span><span class="op" id="7699356">+</span><span class="ident" id="7699357">urlstr</span><span class="op" id="7699363">,</span>&nbsp;<span class="ident" id="7699365">err</span><span class="op" id="7699368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7699372">if</span>&nbsp;<span class="ident" id="7699375">res</span><span class="op" id="7699378">.</span><span class="ident" id="7699379">StatusCode</span>&nbsp;<span class="op" id="7699390">!=</span>&nbsp;<span class="num" id="7699393">200</span>&nbsp;<span class="op" id="7699397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699402">t</span><span class="op" id="7699403">.</span><span class="ident" id="7699404">Errorf</span><span class="op" id="7699410">(</span><span class="string" id="7699411">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;200&#34;</span><span class="op" id="7699446">,</span>&nbsp;<span class="ident" id="7699448">urlstr</span><span class="op" id="7699454">,</span>&nbsp;<span class="ident" id="7699456">res</span><span class="op" id="7699459">.</span><span class="ident" id="7699460">StatusCode</span><span class="op" id="7699470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7699474">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7699478">if</span>&nbsp;<span class="ident" id="7699481">res</span><span class="op" id="7699484">.</span><span class="ident" id="7699485">ContentLength</span>&nbsp;<span class="op" id="7699499">!=</span>&nbsp;<span class="op" id="7699502">-</span><span class="num" id="7699503">1</span>&nbsp;<span class="op" id="7699505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699510">t</span><span class="op" id="7699511">.</span><span class="ident" id="7699512">Errorf</span><span class="op" id="7699518">(</span><span class="string" id="7699519">&#34;for&nbsp;%s,&nbsp;ContentLength&nbsp;=&nbsp;%d,&nbsp;want&nbsp;-1&#34;</span><span class="op" id="7699556">,</span>&nbsp;<span class="ident" id="7699558">urlstr</span><span class="op" id="7699564">,</span>&nbsp;<span class="ident" id="7699566">res</span><span class="op" id="7699569">.</span><span class="ident" id="7699570">ContentLength</span><span class="op" id="7699583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7699587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7699591">if</span>&nbsp;<span class="ident" id="7699594">res</span><span class="op" id="7699597">.</span><span class="ident" id="7699598">Body</span>&nbsp;<span class="op" id="7699603">==</span>&nbsp;<span class="builtintype" id="7699606">nil</span>&nbsp;<span class="op" id="7699610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699615">t</span><span class="op" id="7699616">.</span><span class="ident" id="7699617">Fatalf</span><span class="op" id="7699623">(</span><span class="string" id="7699624">&#34;for&nbsp;%s,&nbsp;nil&nbsp;Body&#34;</span><span class="op" id="7699642">,</span>&nbsp;<span class="ident" id="7699644">urlstr</span><span class="op" id="7699650">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7699654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699658">slurp</span><span class="op" id="7699663">,</span>&nbsp;<span class="ident" id="7699665">err</span>&nbsp;<span class="op" id="7699669">:=</span>&nbsp;<span class="ident" id="7699672">ioutil</span><span class="op" id="7699678">.</span><span class="ident" id="7699679">ReadAll</span><span class="op" id="7699686">(</span><span class="ident" id="7699687">res</span><span class="op" id="7699690">.</span><span class="ident" id="7699691">Body</span><span class="op" id="7699695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699699">check</span><span class="op" id="7699704">(</span><span class="string" id="7699705">&#34;ReadAll&nbsp;&#34;</span><span class="op" id="7699715">+</span><span class="ident" id="7699716">urlstr</span><span class="op" id="7699722">,</span>&nbsp;<span class="ident" id="7699724">err</span><span class="op" id="7699727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7699731">if</span>&nbsp;<span class="builtintype" id="7699734">string</span><span class="op" id="7699740">(</span><span class="ident" id="7699741">slurp</span><span class="op" id="7699746">)</span>&nbsp;<span class="op" id="7699748">!=</span>&nbsp;<span class="string" id="7699751">&#34;Bar&#34;</span>&nbsp;<span class="op" id="7699757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699762">t</span><span class="op" id="7699763">.</span><span class="ident" id="7699764">Errorf</span><span class="op" id="7699770">(</span><span class="string" id="7699771">&#34;for&nbsp;%s,&nbsp;got&nbsp;content&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7699804">,</span>&nbsp;<span class="ident" id="7699806">urlstr</span><span class="op" id="7699812">,</span>&nbsp;<span class="builtintype" id="7699814">string</span><span class="op" id="7699820">(</span><span class="ident" id="7699821">slurp</span><span class="op" id="7699826">)</span><span class="op" id="7699827">,</span>&nbsp;<span class="string" id="7699829">&#34;Bar&#34;</span><span class="op" id="7699834">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7699838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7699841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7699845">const</span>&nbsp;<span class="ident" id="7699851">badURL</span>&nbsp;<span class="op" id="7699858">=</span>&nbsp;<span class="string" id="7699860">&#34;file://../no-exist.txt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699886">res</span><span class="op" id="7699889">,</span>&nbsp;<span class="ident" id="7699891">err</span>&nbsp;<span class="op" id="7699895">:=</span>&nbsp;<span class="ident" id="7699898">c</span><span class="op" id="7699899">.</span><span class="ident" id="7699900">Get</span><span class="op" id="7699903">(</span><span class="ident" id="7699904">badURL</span><span class="op" id="7699910">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699913">check</span><span class="op" id="7699918">(</span><span class="string" id="7699919">&#34;Get&nbsp;&#34;</span><span class="op" id="7699925">+</span><span class="ident" id="7699926">badURL</span><span class="op" id="7699932">,</span>&nbsp;<span class="ident" id="7699934">err</span><span class="op" id="7699937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7699940">if</span>&nbsp;<span class="ident" id="7699943">res</span><span class="op" id="7699946">.</span><span class="ident" id="7699947">StatusCode</span>&nbsp;<span class="op" id="7699958">!=</span>&nbsp;<span class="num" id="7699961">404</span>&nbsp;<span class="op" id="7699965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7699969">t</span><span class="op" id="7699970">.</span><span class="ident" id="7699971">Errorf</span><span class="op" id="7699977">(</span><span class="string" id="7699978">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;404&#34;</span><span class="op" id="7700013">,</span>&nbsp;<span class="ident" id="7700015">badURL</span><span class="op" id="7700021">,</span>&nbsp;<span class="ident" id="7700023">res</span><span class="op" id="7700026">.</span><span class="ident" id="7700027">StatusCode</span><span class="op" id="7700037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7700040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7700043">res</span><span class="op" id="7700046">.</span><span class="ident" id="7700047">Body</span><span class="op" id="7700051">.</span><span class="ident" id="7700052">Close</span><span class="op" id="7700057">(</span><span class="op" id="7700058">)</span><br>
<span class="lineno">65</span><span class="op" id="7700060">}</span>
</div>
</body>
</html>
