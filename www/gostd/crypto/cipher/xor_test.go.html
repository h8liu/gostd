<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7710624">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7710679">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7710733">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7710784">package</span>&nbsp;<span class="ident" id="7710792">cipher</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7710800">import</span>&nbsp;<span class="op" id="7710807">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7710810">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7710819">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7710829">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7710832">func</span>&nbsp;<span class="ident" id="7710837">TestXOR</span><span class="op" id="7710844">(</span><span class="ident" id="7710845">t</span>&nbsp;<span class="op" id="7710847">*</span><span class="ident" id="7710848">testing</span><span class="op" id="7710855">.</span><span class="ident" id="7710856">T</span><span class="op" id="7710857">)</span>&nbsp;<span class="op" id="7710859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7710862">for</span>&nbsp;<span class="ident" id="7710866">alignP</span>&nbsp;<span class="op" id="7710873">:=</span>&nbsp;<span class="num" id="7710876">0</span><span class="op" id="7710877">;</span>&nbsp;<span class="ident" id="7710879">alignP</span>&nbsp;<span class="op" id="7710886">&lt;</span>&nbsp;<span class="num" id="7710888">2</span><span class="op" id="7710889">;</span>&nbsp;<span class="ident" id="7710891">alignP</span><span class="op" id="7710897">++</span>&nbsp;<span class="op" id="7710900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7710904">for</span>&nbsp;<span class="ident" id="7710908">alignQ</span>&nbsp;<span class="op" id="7710915">:=</span>&nbsp;<span class="num" id="7710918">0</span><span class="op" id="7710919">;</span>&nbsp;<span class="ident" id="7710921">alignQ</span>&nbsp;<span class="op" id="7710928">&lt;</span>&nbsp;<span class="num" id="7710930">2</span><span class="op" id="7710931">;</span>&nbsp;<span class="ident" id="7710933">alignQ</span><span class="op" id="7710939">++</span>&nbsp;<span class="op" id="7710942">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7710947">for</span>&nbsp;<span class="ident" id="7710951">alignD</span>&nbsp;<span class="op" id="7710958">:=</span>&nbsp;<span class="num" id="7710961">0</span><span class="op" id="7710962">;</span>&nbsp;<span class="ident" id="7710964">alignD</span>&nbsp;<span class="op" id="7710971">&lt;</span>&nbsp;<span class="num" id="7710973">2</span><span class="op" id="7710974">;</span>&nbsp;<span class="ident" id="7710976">alignD</span><span class="op" id="7710982">++</span>&nbsp;<span class="op" id="7710985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7710991">p</span>&nbsp;<span class="op" id="7710993">:=</span>&nbsp;<span class="builtinfunc" id="7710996">make</span><span class="op" id="7711000">(</span><span class="op" id="7711001">[</span><span class="op" id="7711002">]</span><span class="builtintype" id="7711003">byte</span><span class="op" id="7711007">,</span>&nbsp;<span class="num" id="7711009">1024</span><span class="op" id="7711013">)</span><span class="op" id="7711014">[</span><span class="ident" id="7711015">alignP</span><span class="op" id="7711021">:</span><span class="op" id="7711022">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711028">q</span>&nbsp;<span class="op" id="7711030">:=</span>&nbsp;<span class="builtinfunc" id="7711033">make</span><span class="op" id="7711037">(</span><span class="op" id="7711038">[</span><span class="op" id="7711039">]</span><span class="builtintype" id="7711040">byte</span><span class="op" id="7711044">,</span>&nbsp;<span class="num" id="7711046">1024</span><span class="op" id="7711050">)</span><span class="op" id="7711051">[</span><span class="ident" id="7711052">alignQ</span><span class="op" id="7711058">:</span><span class="op" id="7711059">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711065">d1</span>&nbsp;<span class="op" id="7711068">:=</span>&nbsp;<span class="builtinfunc" id="7711071">make</span><span class="op" id="7711075">(</span><span class="op" id="7711076">[</span><span class="op" id="7711077">]</span><span class="builtintype" id="7711078">byte</span><span class="op" id="7711082">,</span>&nbsp;<span class="num" id="7711084">1024</span><span class="op" id="7711088">+</span><span class="ident" id="7711089">alignD</span><span class="op" id="7711095">)</span><span class="op" id="7711096">[</span><span class="ident" id="7711097">alignD</span><span class="op" id="7711103">:</span><span class="op" id="7711104">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711110">d2</span>&nbsp;<span class="op" id="7711113">:=</span>&nbsp;<span class="builtinfunc" id="7711116">make</span><span class="op" id="7711120">(</span><span class="op" id="7711121">[</span><span class="op" id="7711122">]</span><span class="builtintype" id="7711123">byte</span><span class="op" id="7711127">,</span>&nbsp;<span class="num" id="7711129">1024</span><span class="op" id="7711133">+</span><span class="ident" id="7711134">alignD</span><span class="op" id="7711140">)</span><span class="op" id="7711141">[</span><span class="ident" id="7711142">alignD</span><span class="op" id="7711148">:</span><span class="op" id="7711149">]</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711155">xorBytes</span><span class="op" id="7711163">(</span><span class="ident" id="7711164">d1</span><span class="op" id="7711166">,</span>&nbsp;<span class="ident" id="7711168">p</span><span class="op" id="7711169">,</span>&nbsp;<span class="ident" id="7711171">q</span><span class="op" id="7711172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711178">safeXORBytes</span><span class="op" id="7711190">(</span><span class="ident" id="7711191">d2</span><span class="op" id="7711193">,</span>&nbsp;<span class="ident" id="7711195">p</span><span class="op" id="7711196">,</span>&nbsp;<span class="ident" id="7711198">q</span><span class="op" id="7711199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7711205">if</span>&nbsp;<span class="ident" id="7711208">bytes</span><span class="op" id="7711213">.</span><span class="ident" id="7711214">Compare</span><span class="op" id="7711221">(</span><span class="ident" id="7711222">d1</span><span class="op" id="7711224">,</span>&nbsp;<span class="ident" id="7711226">d2</span><span class="op" id="7711228">)</span>&nbsp;<span class="op" id="7711230">!=</span>&nbsp;<span class="num" id="7711233">0</span>&nbsp;<span class="op" id="7711235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711242">t</span><span class="op" id="7711243">.</span><span class="ident" id="7711244">Error</span><span class="op" id="7711249">(</span><span class="string" id="7711250">&#34;not&nbsp;equal&#34;</span><span class="op" id="7711261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7711267">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7711272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7711276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7711279">}</span><br>
<span class="lineno"></span><span class="op" id="7711281">}</span>
</div>
</body>
</html>
