<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/asn1</h2>
<ul>
<li><a href="/gostd/encoding/asn1/asn1.go.html">asn1.go</a></li>
<li><a href="/gostd/encoding/asn1/asn1_test.go.html">asn1_test.go</a></li>
<li><a href="/gostd/encoding/asn1/common.go.html">common.go</a></li>
<li><a href="/gostd/encoding/asn1/marshal.go.html" class="current">marshal.go</a></li>
<li><a href="/gostd/encoding/asn1/marshal_test.go.html">marshal_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3118325">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3118380">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3118434">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3118485">package</span>&nbsp;<span class="ident" id="3118493">asn1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3118499">import</span>&nbsp;<span class="op" id="3118506">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3118509">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3118518">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3118528">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3118535">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3118541">&#34;math/big&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3118553">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3118564">&#34;time&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3118572">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3118587">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3118590">//&nbsp;A&nbsp;forkableWriter&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;buffer&nbsp;that&nbsp;can&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="3118645">//&nbsp;&#39;forked&#39;&nbsp;to&nbsp;create&nbsp;new&nbsp;forkableWriters&nbsp;that&nbsp;bracket&nbsp;the</span><br>
<span class="lineno">20</span><span class="comment" id="3118704">//&nbsp;original.&nbsp;&nbsp;After</span><br>
<span class="lineno"></span><span class="comment" id="3118724">//&nbsp;&nbsp;&nbsp;&nbsp;pre,&nbsp;post&nbsp;:=&nbsp;w.fork();</span><br>
<span class="lineno"></span><span class="comment" id="3118753">//&nbsp;the&nbsp;overall&nbsp;sequence&nbsp;of&nbsp;bytes&nbsp;represented&nbsp;is&nbsp;logically&nbsp;w+pre+post.</span><br>
<span class="lineno"></span><span class="keyword" id="3118823">type</span>&nbsp;<span class="ident" id="3118828">forkableWriter</span>&nbsp;<span class="keyword" id="3118843">struct</span>&nbsp;<span class="op" id="3118850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3118853">*</span><span class="ident" id="3118854"><a href="/gostd/encoding/asn1/marshal.go.html#3118509">bytes</a></span><span class="op" id="3118859">.</span><span class="ident" id="3118860"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3118868">pre</span><span class="op" id="3118871">,</span>&nbsp;<span class="ident" id="3118873">post</span>&nbsp;<span class="op" id="3118878">*</span><span class="ident" id="3118879"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><br>
<span class="lineno"></span><span class="op" id="3118894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3118897">func</span>&nbsp;<span class="ident" id="3118902">newForkableWriter</span><span class="op" id="3118919">(</span><span class="op" id="3118920">)</span>&nbsp;<span class="op" id="3118922">*</span><span class="ident" id="3118923"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span>&nbsp;<span class="op" id="3118938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3118941">return</span>&nbsp;<span class="op" id="3118948">&amp;</span><span class="ident" id="3118949"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3118963">{</span><span class="builtinfunc" id="3118964">new</span><span class="op" id="3118967">(</span><span class="ident" id="3118968"><a href="/gostd/encoding/asn1/marshal.go.html#3118509">bytes</a></span><span class="op" id="3118973">.</span><span class="ident" id="3118974"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="3118980">)</span><span class="op" id="3118981">,</span>&nbsp;<span class="builtintype" id="3118983">nil</span><span class="op" id="3118986">,</span>&nbsp;<span class="builtintype" id="3118988">nil</span><span class="op" id="3118991">}</span><br>
<span class="lineno">30</span><span class="op" id="3118993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3118996">func</span>&nbsp;<span class="op" id="3119001">(</span><span class="ident" id="3119002">f</span>&nbsp;<span class="op" id="3119004">*</span><span class="ident" id="3119005"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3119019">)</span>&nbsp;<span class="ident" id="3119021">fork</span><span class="op" id="3119025">(</span><span class="op" id="3119026">)</span>&nbsp;<span class="op" id="3119028">(</span><span class="ident" id="3119029">pre</span><span class="op" id="3119032">,</span>&nbsp;<span class="ident" id="3119034">post</span>&nbsp;<span class="op" id="3119039">*</span><span class="ident" id="3119040"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3119054">)</span>&nbsp;<span class="op" id="3119056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119059">if</span>&nbsp;<span class="ident" id="3119062"><a href="/gostd/encoding/asn1/marshal.go.html#3119002">f</a></span><span class="op" id="3119063">.</span><span class="ident" id="3119064"><a href="/gostd/encoding/asn1/marshal.go.html#3118868">pre</a></span>&nbsp;<span class="op" id="3119068">!=</span>&nbsp;<span class="builtintype" id="3119071">nil</span>&nbsp;<span class="op" id="3119075">||</span>&nbsp;<span class="ident" id="3119078"><a href="/gostd/encoding/asn1/marshal.go.html#3119002">f</a></span><span class="op" id="3119079">.</span><span class="ident" id="3119080"><a href="/gostd/encoding/asn1/marshal.go.html#3118873">post</a></span>&nbsp;<span class="op" id="3119085">!=</span>&nbsp;<span class="builtintype" id="3119088">nil</span>&nbsp;<span class="op" id="3119092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3119096">panic</span><span class="op" id="3119101">(</span><span class="string" id="3119102">&#34;have&nbsp;already&nbsp;forked&#34;</span><span class="op" id="3119123">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3119126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119129"><a href="/gostd/encoding/asn1/marshal.go.html#3119002">f</a></span><span class="op" id="3119130">.</span><span class="ident" id="3119131"><a href="/gostd/encoding/asn1/marshal.go.html#3118868">pre</a></span>&nbsp;<span class="op" id="3119135">=</span>&nbsp;<span class="ident" id="3119137"><a href="/gostd/encoding/asn1/marshal.go.html#3118902">newForkableWriter</a></span><span class="op" id="3119154">(</span><span class="op" id="3119155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119158"><a href="/gostd/encoding/asn1/marshal.go.html#3119002">f</a></span><span class="op" id="3119159">.</span><span class="ident" id="3119160"><a href="/gostd/encoding/asn1/marshal.go.html#3118873">post</a></span>&nbsp;<span class="op" id="3119165">=</span>&nbsp;<span class="ident" id="3119167"><a href="/gostd/encoding/asn1/marshal.go.html#3118902">newForkableWriter</a></span><span class="op" id="3119184">(</span><span class="op" id="3119185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119188">return</span>&nbsp;<span class="ident" id="3119195"><a href="/gostd/encoding/asn1/marshal.go.html#3119002">f</a></span><span class="op" id="3119196">.</span><span class="ident" id="3119197"><a href="/gostd/encoding/asn1/marshal.go.html#3118868">pre</a></span><span class="op" id="3119200">,</span>&nbsp;<span class="ident" id="3119202"><a href="/gostd/encoding/asn1/marshal.go.html#3119002">f</a></span><span class="op" id="3119203">.</span><span class="ident" id="3119204"><a href="/gostd/encoding/asn1/marshal.go.html#3118873">post</a></span><br>
<span class="lineno"></span><span class="op" id="3119209">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="3119212">func</span>&nbsp;<span class="op" id="3119217">(</span><span class="ident" id="3119218">f</span>&nbsp;<span class="op" id="3119220">*</span><span class="ident" id="3119221"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3119235">)</span>&nbsp;<span class="ident" id="3119237">Len</span><span class="op" id="3119240">(</span><span class="op" id="3119241">)</span>&nbsp;<span class="op" id="3119243">(</span><span class="ident" id="3119244">l</span>&nbsp;<span class="builtintype" id="3119246">int</span><span class="op" id="3119249">)</span>&nbsp;<span class="op" id="3119251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119254"><a href="/gostd/encoding/asn1/marshal.go.html#3119244">l</a></span>&nbsp;<span class="op" id="3119256">+=</span>&nbsp;<span class="ident" id="3119259"><a href="/gostd/encoding/asn1/marshal.go.html#3119218">f</a></span><span class="op" id="3119260">.</span><span class="ident" id="3119261"><a href="/gostd/encoding/asn1/marshal.go.html#3118853">Buffer</a></span><span class="op" id="3119267">.</span><span class="ident" id="3119268"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="3119271">(</span><span class="op" id="3119272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119275">if</span>&nbsp;<span class="ident" id="3119278"><a href="/gostd/encoding/asn1/marshal.go.html#3119218">f</a></span><span class="op" id="3119279">.</span><span class="ident" id="3119280"><a href="/gostd/encoding/asn1/marshal.go.html#3118868">pre</a></span>&nbsp;<span class="op" id="3119284">!=</span>&nbsp;<span class="builtintype" id="3119287">nil</span>&nbsp;<span class="op" id="3119291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119295"><a href="/gostd/encoding/asn1/marshal.go.html#3119244">l</a></span>&nbsp;<span class="op" id="3119297">+=</span>&nbsp;<span class="ident" id="3119300"><a href="/gostd/encoding/asn1/marshal.go.html#3119218">f</a></span><span class="op" id="3119301">.</span><span class="ident" id="3119302"><a href="/gostd/encoding/asn1/marshal.go.html#3118868">pre</a></span><span class="op" id="3119305">.</span><span class="ident" id="3119306"><a href="/gostd/encoding/asn1/marshal.go.html#3119237">Len</a></span><span class="op" id="3119309">(</span><span class="op" id="3119310">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3119313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119316">if</span>&nbsp;<span class="ident" id="3119319"><a href="/gostd/encoding/asn1/marshal.go.html#3119218">f</a></span><span class="op" id="3119320">.</span><span class="ident" id="3119321"><a href="/gostd/encoding/asn1/marshal.go.html#3118873">post</a></span>&nbsp;<span class="op" id="3119326">!=</span>&nbsp;<span class="builtintype" id="3119329">nil</span>&nbsp;<span class="op" id="3119333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119337"><a href="/gostd/encoding/asn1/marshal.go.html#3119244">l</a></span>&nbsp;<span class="op" id="3119339">+=</span>&nbsp;<span class="ident" id="3119342"><a href="/gostd/encoding/asn1/marshal.go.html#3119218">f</a></span><span class="op" id="3119343">.</span><span class="ident" id="3119344"><a href="/gostd/encoding/asn1/marshal.go.html#3118873">post</a></span><span class="op" id="3119348">.</span><span class="ident" id="3119349"><a href="/gostd/encoding/asn1/marshal.go.html#3119237">Len</a></span><span class="op" id="3119352">(</span><span class="op" id="3119353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3119356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119359">return</span><br>
<span class="lineno">50</span><span class="op" id="3119366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3119369">func</span>&nbsp;<span class="op" id="3119374">(</span><span class="ident" id="3119375">f</span>&nbsp;<span class="op" id="3119377">*</span><span class="ident" id="3119378"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3119392">)</span>&nbsp;<span class="ident" id="3119394">writeTo</span><span class="op" id="3119401">(</span><span class="ident" id="3119402">out</span>&nbsp;<span class="ident" id="3119406"><a href="/gostd/encoding/asn1/marshal.go.html#3118535">io</a></span><span class="op" id="3119408">.</span><span class="ident" id="3119409"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="3119415">)</span>&nbsp;<span class="op" id="3119417">(</span><span class="ident" id="3119418">n</span>&nbsp;<span class="builtintype" id="3119420">int</span><span class="op" id="3119423">,</span>&nbsp;<span class="ident" id="3119425">err</span>&nbsp;<span class="builtintype" id="3119429">error</span><span class="op" id="3119434">)</span>&nbsp;<span class="op" id="3119436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119439"><a href="/gostd/encoding/asn1/marshal.go.html#3119418">n</a></span><span class="op" id="3119440">,</span>&nbsp;<span class="ident" id="3119442"><a href="/gostd/encoding/asn1/marshal.go.html#3119425">err</a></span>&nbsp;<span class="op" id="3119446">=</span>&nbsp;<span class="ident" id="3119448"><a href="/gostd/encoding/asn1/marshal.go.html#3119402">out</a></span><span class="op" id="3119451">.</span><span class="ident" id="3119452"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3119457">(</span><span class="ident" id="3119458"><a href="/gostd/encoding/asn1/marshal.go.html#3119375">f</a></span><span class="op" id="3119459">.</span><span class="ident" id="3119460"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="3119465">(</span><span class="op" id="3119466">)</span><span class="op" id="3119467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119470">if</span>&nbsp;<span class="ident" id="3119473"><a href="/gostd/encoding/asn1/marshal.go.html#3119425">err</a></span>&nbsp;<span class="op" id="3119477">!=</span>&nbsp;<span class="builtintype" id="3119480">nil</span>&nbsp;<span class="op" id="3119484">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119488">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3119496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119500">var</span>&nbsp;<span class="ident" id="3119504">nn</span>&nbsp;<span class="builtintype" id="3119507">int</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119513">if</span>&nbsp;<span class="ident" id="3119516"><a href="/gostd/encoding/asn1/marshal.go.html#3119375">f</a></span><span class="op" id="3119517">.</span><span class="ident" id="3119518"><a href="/gostd/encoding/asn1/marshal.go.html#3118868">pre</a></span>&nbsp;<span class="op" id="3119522">!=</span>&nbsp;<span class="builtintype" id="3119525">nil</span>&nbsp;<span class="op" id="3119529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119533"><a href="/gostd/encoding/asn1/marshal.go.html#3119504">nn</a></span><span class="op" id="3119535">,</span>&nbsp;<span class="ident" id="3119537"><a href="/gostd/encoding/asn1/marshal.go.html#3119425">err</a></span>&nbsp;<span class="op" id="3119541">=</span>&nbsp;<span class="ident" id="3119543"><a href="/gostd/encoding/asn1/marshal.go.html#3119375">f</a></span><span class="op" id="3119544">.</span><span class="ident" id="3119545"><a href="/gostd/encoding/asn1/marshal.go.html#3118868">pre</a></span><span class="op" id="3119548">.</span><span class="ident" id="3119549"><a href="/gostd/encoding/asn1/marshal.go.html#3119394">writeTo</a></span><span class="op" id="3119556">(</span><span class="ident" id="3119557"><a href="/gostd/encoding/asn1/marshal.go.html#3119402">out</a></span><span class="op" id="3119560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119564"><a href="/gostd/encoding/asn1/marshal.go.html#3119418">n</a></span>&nbsp;<span class="op" id="3119566">+=</span>&nbsp;<span class="ident" id="3119569"><a href="/gostd/encoding/asn1/marshal.go.html#3119504">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119574">if</span>&nbsp;<span class="ident" id="3119577"><a href="/gostd/encoding/asn1/marshal.go.html#3119425">err</a></span>&nbsp;<span class="op" id="3119581">!=</span>&nbsp;<span class="builtintype" id="3119584">nil</span>&nbsp;<span class="op" id="3119588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119593">return</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3119602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3119605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119609">if</span>&nbsp;<span class="ident" id="3119612"><a href="/gostd/encoding/asn1/marshal.go.html#3119375">f</a></span><span class="op" id="3119613">.</span><span class="ident" id="3119614"><a href="/gostd/encoding/asn1/marshal.go.html#3118873">post</a></span>&nbsp;<span class="op" id="3119619">!=</span>&nbsp;<span class="builtintype" id="3119622">nil</span>&nbsp;<span class="op" id="3119626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119630"><a href="/gostd/encoding/asn1/marshal.go.html#3119504">nn</a></span><span class="op" id="3119632">,</span>&nbsp;<span class="ident" id="3119634"><a href="/gostd/encoding/asn1/marshal.go.html#3119425">err</a></span>&nbsp;<span class="op" id="3119638">=</span>&nbsp;<span class="ident" id="3119640"><a href="/gostd/encoding/asn1/marshal.go.html#3119375">f</a></span><span class="op" id="3119641">.</span><span class="ident" id="3119642"><a href="/gostd/encoding/asn1/marshal.go.html#3118873">post</a></span><span class="op" id="3119646">.</span><span class="ident" id="3119647"><a href="/gostd/encoding/asn1/marshal.go.html#3119394">writeTo</a></span><span class="op" id="3119654">(</span><span class="ident" id="3119655"><a href="/gostd/encoding/asn1/marshal.go.html#3119402">out</a></span><span class="op" id="3119658">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119662"><a href="/gostd/encoding/asn1/marshal.go.html#3119418">n</a></span>&nbsp;<span class="op" id="3119664">+=</span>&nbsp;<span class="ident" id="3119667"><a href="/gostd/encoding/asn1/marshal.go.html#3119504">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3119671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119674">return</span><br>
<span class="lineno"></span><span class="op" id="3119681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="3119684">func</span>&nbsp;<span class="ident" id="3119689">marshalBase128Int</span><span class="op" id="3119706">(</span><span class="ident" id="3119707">out</span>&nbsp;<span class="op" id="3119711">*</span><span class="ident" id="3119712"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3119726">,</span>&nbsp;<span class="ident" id="3119728">n</span>&nbsp;<span class="builtintype" id="3119730">int64</span><span class="op" id="3119735">)</span>&nbsp;<span class="op" id="3119737">(</span><span class="ident" id="3119738">err</span>&nbsp;<span class="builtintype" id="3119742">error</span><span class="op" id="3119747">)</span>&nbsp;<span class="op" id="3119749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119752">if</span>&nbsp;<span class="ident" id="3119755"><a href="/gostd/encoding/asn1/marshal.go.html#3119728">n</a></span>&nbsp;<span class="op" id="3119757">==</span>&nbsp;<span class="num" id="3119760">0</span>&nbsp;<span class="op" id="3119762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119766"><a href="/gostd/encoding/asn1/marshal.go.html#3119738">err</a></span>&nbsp;<span class="op" id="3119770">=</span>&nbsp;<span class="ident" id="3119772"><a href="/gostd/encoding/asn1/marshal.go.html#3119707">out</a></span><span class="op" id="3119775">.</span><span class="ident" id="3119776"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3119785">(</span><span class="num" id="3119786">0</span><span class="op" id="3119787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119791">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3119799">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119803">l</span>&nbsp;<span class="op" id="3119805">:=</span>&nbsp;<span class="num" id="3119808">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119811">for</span>&nbsp;<span class="ident" id="3119815">i</span>&nbsp;<span class="op" id="3119817">:=</span>&nbsp;<span class="ident" id="3119820"><a href="/gostd/encoding/asn1/marshal.go.html#3119728">n</a></span><span class="op" id="3119821">;</span>&nbsp;<span class="ident" id="3119823"><a href="/gostd/encoding/asn1/marshal.go.html#3119815">i</a></span>&nbsp;<span class="op" id="3119825">&gt;</span>&nbsp;<span class="num" id="3119827">0</span><span class="op" id="3119828">;</span>&nbsp;<span class="ident" id="3119830"><a href="/gostd/encoding/asn1/marshal.go.html#3119815">i</a></span>&nbsp;<span class="op" id="3119832">&gt;&gt;=</span>&nbsp;<span class="num" id="3119836">7</span>&nbsp;<span class="op" id="3119838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119842"><a href="/gostd/encoding/asn1/marshal.go.html#3119803">l</a></span><span class="op" id="3119843">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3119847">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119851">for</span>&nbsp;<span class="ident" id="3119855">i</span>&nbsp;<span class="op" id="3119857">:=</span>&nbsp;<span class="ident" id="3119860"><a href="/gostd/encoding/asn1/marshal.go.html#3119803">l</a></span>&nbsp;<span class="op" id="3119862">-</span>&nbsp;<span class="num" id="3119864">1</span><span class="op" id="3119865">;</span>&nbsp;<span class="ident" id="3119867"><a href="/gostd/encoding/asn1/marshal.go.html#3119855">i</a></span>&nbsp;<span class="op" id="3119869">&gt;=</span>&nbsp;<span class="num" id="3119872">0</span><span class="op" id="3119873">;</span>&nbsp;<span class="ident" id="3119875"><a href="/gostd/encoding/asn1/marshal.go.html#3119855">i</a></span><span class="op" id="3119876">--</span>&nbsp;<span class="op" id="3119879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119883">o</span>&nbsp;<span class="op" id="3119885">:=</span>&nbsp;<span class="builtintype" id="3119888">byte</span><span class="op" id="3119892">(</span><span class="ident" id="3119893"><a href="/gostd/encoding/asn1/marshal.go.html#3119728">n</a></span>&nbsp;<span class="op" id="3119895">&gt;&gt;</span>&nbsp;<span class="builtintype" id="3119898">uint</span><span class="op" id="3119902">(</span><span class="ident" id="3119903"><a href="/gostd/encoding/asn1/marshal.go.html#3119855">i</a></span><span class="op" id="3119904">*</span><span class="num" id="3119905">7</span><span class="op" id="3119906">)</span><span class="op" id="3119907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119911"><a href="/gostd/encoding/asn1/marshal.go.html#3119883">o</a></span>&nbsp;<span class="op" id="3119913">&amp;=</span>&nbsp;<span class="num" id="3119916">0x7f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119923">if</span>&nbsp;<span class="ident" id="3119926"><a href="/gostd/encoding/asn1/marshal.go.html#3119855">i</a></span>&nbsp;<span class="op" id="3119928">!=</span>&nbsp;<span class="num" id="3119931">0</span>&nbsp;<span class="op" id="3119933">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119938"><a href="/gostd/encoding/asn1/marshal.go.html#3119883">o</a></span>&nbsp;<span class="op" id="3119940">|=</span>&nbsp;<span class="num" id="3119943">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3119950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3119954"><a href="/gostd/encoding/asn1/marshal.go.html#3119738">err</a></span>&nbsp;<span class="op" id="3119958">=</span>&nbsp;<span class="ident" id="3119960"><a href="/gostd/encoding/asn1/marshal.go.html#3119707">out</a></span><span class="op" id="3119963">.</span><span class="ident" id="3119964"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3119973">(</span><span class="ident" id="3119974"><a href="/gostd/encoding/asn1/marshal.go.html#3119883">o</a></span><span class="op" id="3119975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119979">if</span>&nbsp;<span class="ident" id="3119982"><a href="/gostd/encoding/asn1/marshal.go.html#3119738">err</a></span>&nbsp;<span class="op" id="3119986">!=</span>&nbsp;<span class="builtintype" id="3119989">nil</span>&nbsp;<span class="op" id="3119993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3119998">return</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3120007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3120010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120014">return</span>&nbsp;<span class="builtintype" id="3120021">nil</span><br>
<span class="lineno"></span><span class="op" id="3120025">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="3120028">func</span>&nbsp;<span class="ident" id="3120033">marshalInt64</span><span class="op" id="3120045">(</span><span class="ident" id="3120046">out</span>&nbsp;<span class="op" id="3120050">*</span><span class="ident" id="3120051"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3120065">,</span>&nbsp;<span class="ident" id="3120067">i</span>&nbsp;<span class="builtintype" id="3120069">int64</span><span class="op" id="3120074">)</span>&nbsp;<span class="op" id="3120076">(</span><span class="ident" id="3120077">err</span>&nbsp;<span class="builtintype" id="3120081">error</span><span class="op" id="3120086">)</span>&nbsp;<span class="op" id="3120088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120091">n</span>&nbsp;<span class="op" id="3120093">:=</span>&nbsp;<span class="ident" id="3120096"><a href="/gostd/encoding/asn1/marshal.go.html#3120236">int64Length</a></span><span class="op" id="3120107">(</span><span class="ident" id="3120108"><a href="/gostd/encoding/asn1/marshal.go.html#3120067">i</a></span><span class="op" id="3120109">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120113">for</span>&nbsp;<span class="op" id="3120117">;</span>&nbsp;<span class="ident" id="3120119"><a href="/gostd/encoding/asn1/marshal.go.html#3120091">n</a></span>&nbsp;<span class="op" id="3120121">&gt;</span>&nbsp;<span class="num" id="3120123">0</span><span class="op" id="3120124">;</span>&nbsp;<span class="ident" id="3120126"><a href="/gostd/encoding/asn1/marshal.go.html#3120091">n</a></span><span class="op" id="3120127">--</span>&nbsp;<span class="op" id="3120130">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120134"><a href="/gostd/encoding/asn1/marshal.go.html#3120077">err</a></span>&nbsp;<span class="op" id="3120138">=</span>&nbsp;<span class="ident" id="3120140"><a href="/gostd/encoding/asn1/marshal.go.html#3120046">out</a></span><span class="op" id="3120143">.</span><span class="ident" id="3120144"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3120153">(</span><span class="builtintype" id="3120154">byte</span><span class="op" id="3120158">(</span><span class="ident" id="3120159"><a href="/gostd/encoding/asn1/marshal.go.html#3120067">i</a></span>&nbsp;<span class="op" id="3120161">&gt;&gt;</span>&nbsp;<span class="builtintype" id="3120164">uint</span><span class="op" id="3120168">(</span><span class="op" id="3120169">(</span><span class="ident" id="3120170"><a href="/gostd/encoding/asn1/marshal.go.html#3120091">n</a></span><span class="op" id="3120171">-</span><span class="num" id="3120172">1</span><span class="op" id="3120173">)</span><span class="op" id="3120174">*</span><span class="num" id="3120175">8</span><span class="op" id="3120176">)</span><span class="op" id="3120177">)</span><span class="op" id="3120178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120182">if</span>&nbsp;<span class="ident" id="3120185"><a href="/gostd/encoding/asn1/marshal.go.html#3120077">err</a></span>&nbsp;<span class="op" id="3120189">!=</span>&nbsp;<span class="builtintype" id="3120192">nil</span>&nbsp;<span class="op" id="3120196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120201">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3120210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3120213">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120217">return</span>&nbsp;<span class="builtintype" id="3120224">nil</span><br>
<span class="lineno"></span><span class="op" id="3120228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3120231">func</span>&nbsp;<span class="ident" id="3120236">int64Length</span><span class="op" id="3120247">(</span><span class="ident" id="3120248">i</span>&nbsp;<span class="builtintype" id="3120250">int64</span><span class="op" id="3120255">)</span>&nbsp;<span class="op" id="3120257">(</span><span class="ident" id="3120258">numBytes</span>&nbsp;<span class="builtintype" id="3120267">int</span><span class="op" id="3120270">)</span>&nbsp;<span class="op" id="3120272">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120275"><a href="/gostd/encoding/asn1/marshal.go.html#3120258">numBytes</a></span>&nbsp;<span class="op" id="3120284">=</span>&nbsp;<span class="num" id="3120286">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120290">for</span>&nbsp;<span class="ident" id="3120294"><a href="/gostd/encoding/asn1/marshal.go.html#3120248">i</a></span>&nbsp;<span class="op" id="3120296">&gt;</span>&nbsp;<span class="num" id="3120298">127</span>&nbsp;<span class="op" id="3120302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120306"><a href="/gostd/encoding/asn1/marshal.go.html#3120258">numBytes</a></span><span class="op" id="3120314">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120319"><a href="/gostd/encoding/asn1/marshal.go.html#3120248">i</a></span>&nbsp;<span class="op" id="3120321">&gt;&gt;=</span>&nbsp;<span class="num" id="3120325">8</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3120328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120332">for</span>&nbsp;<span class="ident" id="3120336"><a href="/gostd/encoding/asn1/marshal.go.html#3120248">i</a></span>&nbsp;<span class="op" id="3120338">&lt;</span>&nbsp;<span class="op" id="3120340">-</span><span class="num" id="3120341">128</span>&nbsp;<span class="op" id="3120345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120349"><a href="/gostd/encoding/asn1/marshal.go.html#3120258">numBytes</a></span><span class="op" id="3120357">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120362"><a href="/gostd/encoding/asn1/marshal.go.html#3120248">i</a></span>&nbsp;<span class="op" id="3120364">&gt;&gt;=</span>&nbsp;<span class="num" id="3120368">8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3120371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120375">return</span><br>
<span class="lineno"></span><span class="op" id="3120382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="keyword" id="3120385">func</span>&nbsp;<span class="ident" id="3120390">marshalBigInt</span><span class="op" id="3120403">(</span><span class="ident" id="3120404">out</span>&nbsp;<span class="op" id="3120408">*</span><span class="ident" id="3120409"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3120423">,</span>&nbsp;<span class="ident" id="3120425">n</span>&nbsp;<span class="op" id="3120427">*</span><span class="ident" id="3120428"><a href="/gostd/encoding/asn1/marshal.go.html#3118541">big</a></span><span class="op" id="3120431">.</span><span class="ident" id="3120432"><a href="/gostd/math/big/int.go.html#2035985">Int</a></span><span class="op" id="3120435">)</span>&nbsp;<span class="op" id="3120437">(</span><span class="ident" id="3120438">err</span>&nbsp;<span class="builtintype" id="3120442">error</span><span class="op" id="3120447">)</span>&nbsp;<span class="op" id="3120449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120452">if</span>&nbsp;<span class="ident" id="3120455"><a href="/gostd/encoding/asn1/marshal.go.html#3120425">n</a></span><span class="op" id="3120456">.</span><span class="ident" id="3120457"><a href="/gostd/math/big/int.go.html#2036181">Sign</a></span><span class="op" id="3120461">(</span><span class="op" id="3120462">)</span>&nbsp;<span class="op" id="3120464">&lt;</span>&nbsp;<span class="num" id="3120466">0</span>&nbsp;<span class="op" id="3120468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3120472">//&nbsp;A&nbsp;negative&nbsp;number&nbsp;has&nbsp;to&nbsp;be&nbsp;converted&nbsp;to&nbsp;two&#39;s-complement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3120535">//&nbsp;form.&nbsp;So&nbsp;we&#39;ll&nbsp;subtract&nbsp;1&nbsp;and&nbsp;invert.&nbsp;If&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3120585">//&nbsp;most-significant-bit&nbsp;isn&#39;t&nbsp;set&nbsp;then&nbsp;we&#39;ll&nbsp;need&nbsp;to&nbsp;pad&nbsp;the</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3120648">//&nbsp;beginning&nbsp;with&nbsp;0xff&nbsp;in&nbsp;order&nbsp;to&nbsp;keep&nbsp;the&nbsp;number&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120711">nMinus1</span>&nbsp;<span class="op" id="3120719">:=</span>&nbsp;<span class="builtinfunc" id="3120722">new</span><span class="op" id="3120725">(</span><span class="ident" id="3120726"><a href="/gostd/encoding/asn1/marshal.go.html#3118541">big</a></span><span class="op" id="3120729">.</span><span class="ident" id="3120730"><a href="/gostd/math/big/int.go.html#2035985">Int</a></span><span class="op" id="3120733">)</span><span class="op" id="3120734">.</span><span class="ident" id="3120735"><a href="/gostd/math/big/int.go.html#2037836">Neg</a></span><span class="op" id="3120738">(</span><span class="ident" id="3120739"><a href="/gostd/encoding/asn1/marshal.go.html#3120425">n</a></span><span class="op" id="3120740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120744"><a href="/gostd/encoding/asn1/marshal.go.html#3120711">nMinus1</a></span><span class="op" id="3120751">.</span><span class="ident" id="3120752"><a href="/gostd/math/big/int.go.html#2038464">Sub</a></span><span class="op" id="3120755">(</span><span class="ident" id="3120756"><a href="/gostd/encoding/asn1/marshal.go.html#3120711">nMinus1</a></span><span class="op" id="3120763">,</span>&nbsp;<span class="ident" id="3120765"><a href="/gostd/encoding/asn1/asn1.go.html#3090456">bigOne</a></span><span class="op" id="3120771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120775">bytes</span>&nbsp;<span class="op" id="3120781">:=</span>&nbsp;<span class="ident" id="3120784"><a href="/gostd/encoding/asn1/marshal.go.html#3120711">nMinus1</a></span><span class="op" id="3120791">.</span><span class="ident" id="3120792"><a href="/gostd/math/big/int.go.html#2050194">Bytes</a></span><span class="op" id="3120797">(</span><span class="op" id="3120798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120802">for</span>&nbsp;<span class="ident" id="3120806">i</span>&nbsp;<span class="op" id="3120808">:=</span>&nbsp;<span class="keyword" id="3120811">range</span>&nbsp;<span class="ident" id="3120817"><a href="/gostd/encoding/asn1/marshal.go.html#3120775">bytes</a></span>&nbsp;<span class="op" id="3120823">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120828"><a href="/gostd/encoding/asn1/marshal.go.html#3120775">bytes</a></span><span class="op" id="3120833">[</span><span class="ident" id="3120834"><a href="/gostd/encoding/asn1/marshal.go.html#3120806">i</a></span><span class="op" id="3120835">]</span>&nbsp;<span class="op" id="3120837">^=</span>&nbsp;<span class="num" id="3120840">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3120847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120851">if</span>&nbsp;<span class="builtinfunc" id="3120854">len</span><span class="op" id="3120857">(</span><span class="ident" id="3120858"><a href="/gostd/encoding/asn1/marshal.go.html#3120775">bytes</a></span><span class="op" id="3120863">)</span>&nbsp;<span class="op" id="3120865">==</span>&nbsp;<span class="num" id="3120868">0</span>&nbsp;<span class="op" id="3120870">||</span>&nbsp;<span class="ident" id="3120873"><a href="/gostd/encoding/asn1/marshal.go.html#3120775">bytes</a></span><span class="op" id="3120878">[</span><span class="num" id="3120879">0</span><span class="op" id="3120880">]</span><span class="op" id="3120881">&amp;</span><span class="num" id="3120882">0x80</span>&nbsp;<span class="op" id="3120887">==</span>&nbsp;<span class="num" id="3120890">0</span>&nbsp;<span class="op" id="3120892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120897"><a href="/gostd/encoding/asn1/marshal.go.html#3120438">err</a></span>&nbsp;<span class="op" id="3120901">=</span>&nbsp;<span class="ident" id="3120903"><a href="/gostd/encoding/asn1/marshal.go.html#3120404">out</a></span><span class="op" id="3120906">.</span><span class="ident" id="3120907"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3120916">(</span><span class="num" id="3120917">0xff</span><span class="op" id="3120921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120926">if</span>&nbsp;<span class="ident" id="3120929"><a href="/gostd/encoding/asn1/marshal.go.html#3120438">err</a></span>&nbsp;<span class="op" id="3120933">!=</span>&nbsp;<span class="builtintype" id="3120936">nil</span>&nbsp;<span class="op" id="3120940">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3120946">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3120956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3120960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3120964">_</span><span class="op" id="3120965">,</span>&nbsp;<span class="ident" id="3120967"><a href="/gostd/encoding/asn1/marshal.go.html#3120438">err</a></span>&nbsp;<span class="op" id="3120971">=</span>&nbsp;<span class="ident" id="3120973"><a href="/gostd/encoding/asn1/marshal.go.html#3120404">out</a></span><span class="op" id="3120976">.</span><span class="ident" id="3120977"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3120982">(</span><span class="ident" id="3120983"><a href="/gostd/encoding/asn1/marshal.go.html#3120775">bytes</a></span><span class="op" id="3120988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3120991">}</span>&nbsp;<span class="keyword" id="3120993">else</span>&nbsp;<span class="keyword" id="3120998">if</span>&nbsp;<span class="ident" id="3121001"><a href="/gostd/encoding/asn1/marshal.go.html#3120425">n</a></span><span class="op" id="3121002">.</span><span class="ident" id="3121003"><a href="/gostd/math/big/int.go.html#2036181">Sign</a></span><span class="op" id="3121007">(</span><span class="op" id="3121008">)</span>&nbsp;<span class="op" id="3121010">==</span>&nbsp;<span class="num" id="3121013">0</span>&nbsp;<span class="op" id="3121015">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3121019">//&nbsp;Zero&nbsp;is&nbsp;written&nbsp;as&nbsp;a&nbsp;single&nbsp;0&nbsp;zero&nbsp;rather&nbsp;than&nbsp;no&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121081"><a href="/gostd/encoding/asn1/marshal.go.html#3120438">err</a></span>&nbsp;<span class="op" id="3121085">=</span>&nbsp;<span class="ident" id="3121087"><a href="/gostd/encoding/asn1/marshal.go.html#3120404">out</a></span><span class="op" id="3121090">.</span><span class="ident" id="3121091"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3121100">(</span><span class="num" id="3121101">0x00</span><span class="op" id="3121105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121108">}</span>&nbsp;<span class="keyword" id="3121110">else</span>&nbsp;<span class="op" id="3121115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121119">bytes</span>&nbsp;<span class="op" id="3121125">:=</span>&nbsp;<span class="ident" id="3121128"><a href="/gostd/encoding/asn1/marshal.go.html#3120425">n</a></span><span class="op" id="3121129">.</span><span class="ident" id="3121130"><a href="/gostd/math/big/int.go.html#2050194">Bytes</a></span><span class="op" id="3121135">(</span><span class="op" id="3121136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121140">if</span>&nbsp;<span class="builtinfunc" id="3121143">len</span><span class="op" id="3121146">(</span><span class="ident" id="3121147"><a href="/gostd/encoding/asn1/marshal.go.html#3121119">bytes</a></span><span class="op" id="3121152">)</span>&nbsp;<span class="op" id="3121154">&gt;</span>&nbsp;<span class="num" id="3121156">0</span>&nbsp;<span class="op" id="3121158">&amp;&amp;</span>&nbsp;<span class="ident" id="3121161"><a href="/gostd/encoding/asn1/marshal.go.html#3121119">bytes</a></span><span class="op" id="3121166">[</span><span class="num" id="3121167">0</span><span class="op" id="3121168">]</span><span class="op" id="3121169">&amp;</span><span class="num" id="3121170">0x80</span>&nbsp;<span class="op" id="3121175">!=</span>&nbsp;<span class="num" id="3121178">0</span>&nbsp;<span class="op" id="3121180">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3121185">//&nbsp;We&#39;ll&nbsp;have&nbsp;to&nbsp;pad&nbsp;this&nbsp;with&nbsp;0x00&nbsp;in&nbsp;order&nbsp;to&nbsp;stop&nbsp;it</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3121244">//&nbsp;looking&nbsp;like&nbsp;a&nbsp;negative&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121282"><a href="/gostd/encoding/asn1/marshal.go.html#3120438">err</a></span>&nbsp;<span class="op" id="3121286">=</span>&nbsp;<span class="ident" id="3121288"><a href="/gostd/encoding/asn1/marshal.go.html#3120404">out</a></span><span class="op" id="3121291">.</span><span class="ident" id="3121292"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3121301">(</span><span class="num" id="3121302">0</span><span class="op" id="3121303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121308">if</span>&nbsp;<span class="ident" id="3121311"><a href="/gostd/encoding/asn1/marshal.go.html#3120438">err</a></span>&nbsp;<span class="op" id="3121315">!=</span>&nbsp;<span class="builtintype" id="3121318">nil</span>&nbsp;<span class="op" id="3121322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121328">return</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121346">_</span><span class="op" id="3121347">,</span>&nbsp;<span class="ident" id="3121349"><a href="/gostd/encoding/asn1/marshal.go.html#3120438">err</a></span>&nbsp;<span class="op" id="3121353">=</span>&nbsp;<span class="ident" id="3121355"><a href="/gostd/encoding/asn1/marshal.go.html#3120404">out</a></span><span class="op" id="3121358">.</span><span class="ident" id="3121359"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3121364">(</span><span class="ident" id="3121365"><a href="/gostd/encoding/asn1/marshal.go.html#3121119">bytes</a></span><span class="op" id="3121370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121376">return</span><br>
<span class="lineno">165</span><span class="op" id="3121383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3121386">func</span>&nbsp;<span class="ident" id="3121391">marshalLength</span><span class="op" id="3121404">(</span><span class="ident" id="3121405">out</span>&nbsp;<span class="op" id="3121409">*</span><span class="ident" id="3121410"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3121424">,</span>&nbsp;<span class="ident" id="3121426">i</span>&nbsp;<span class="builtintype" id="3121428">int</span><span class="op" id="3121431">)</span>&nbsp;<span class="op" id="3121433">(</span><span class="ident" id="3121434">err</span>&nbsp;<span class="builtintype" id="3121438">error</span><span class="op" id="3121443">)</span>&nbsp;<span class="op" id="3121445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121448">n</span>&nbsp;<span class="op" id="3121450">:=</span>&nbsp;<span class="ident" id="3121453"><a href="/gostd/encoding/asn1/marshal.go.html#3121594">lengthLength</a></span><span class="op" id="3121465">(</span><span class="ident" id="3121466"><a href="/gostd/encoding/asn1/marshal.go.html#3121426">i</a></span><span class="op" id="3121467">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121471">for</span>&nbsp;<span class="op" id="3121475">;</span>&nbsp;<span class="ident" id="3121477"><a href="/gostd/encoding/asn1/marshal.go.html#3121448">n</a></span>&nbsp;<span class="op" id="3121479">&gt;</span>&nbsp;<span class="num" id="3121481">0</span><span class="op" id="3121482">;</span>&nbsp;<span class="ident" id="3121484"><a href="/gostd/encoding/asn1/marshal.go.html#3121448">n</a></span><span class="op" id="3121485">--</span>&nbsp;<span class="op" id="3121488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121492"><a href="/gostd/encoding/asn1/marshal.go.html#3121434">err</a></span>&nbsp;<span class="op" id="3121496">=</span>&nbsp;<span class="ident" id="3121498"><a href="/gostd/encoding/asn1/marshal.go.html#3121405">out</a></span><span class="op" id="3121501">.</span><span class="ident" id="3121502"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3121511">(</span><span class="builtintype" id="3121512">byte</span><span class="op" id="3121516">(</span><span class="ident" id="3121517"><a href="/gostd/encoding/asn1/marshal.go.html#3121426">i</a></span>&nbsp;<span class="op" id="3121519">&gt;&gt;</span>&nbsp;<span class="builtintype" id="3121522">uint</span><span class="op" id="3121526">(</span><span class="op" id="3121527">(</span><span class="ident" id="3121528"><a href="/gostd/encoding/asn1/marshal.go.html#3121448">n</a></span><span class="op" id="3121529">-</span><span class="num" id="3121530">1</span><span class="op" id="3121531">)</span><span class="op" id="3121532">*</span><span class="num" id="3121533">8</span><span class="op" id="3121534">)</span><span class="op" id="3121535">)</span><span class="op" id="3121536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121540">if</span>&nbsp;<span class="ident" id="3121543"><a href="/gostd/encoding/asn1/marshal.go.html#3121434">err</a></span>&nbsp;<span class="op" id="3121547">!=</span>&nbsp;<span class="builtintype" id="3121550">nil</span>&nbsp;<span class="op" id="3121554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121559">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121568">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121575">return</span>&nbsp;<span class="builtintype" id="3121582">nil</span><br>
<span class="lineno"></span><span class="op" id="3121586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="3121589">func</span>&nbsp;<span class="ident" id="3121594">lengthLength</span><span class="op" id="3121606">(</span><span class="ident" id="3121607">i</span>&nbsp;<span class="builtintype" id="3121609">int</span><span class="op" id="3121612">)</span>&nbsp;<span class="op" id="3121614">(</span><span class="ident" id="3121615">numBytes</span>&nbsp;<span class="builtintype" id="3121624">int</span><span class="op" id="3121627">)</span>&nbsp;<span class="op" id="3121629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121632"><a href="/gostd/encoding/asn1/marshal.go.html#3121615">numBytes</a></span>&nbsp;<span class="op" id="3121641">=</span>&nbsp;<span class="num" id="3121643">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121646">for</span>&nbsp;<span class="ident" id="3121650"><a href="/gostd/encoding/asn1/marshal.go.html#3121607">i</a></span>&nbsp;<span class="op" id="3121652">&gt;</span>&nbsp;<span class="num" id="3121654">255</span>&nbsp;<span class="op" id="3121658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121662"><a href="/gostd/encoding/asn1/marshal.go.html#3121615">numBytes</a></span><span class="op" id="3121670">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121675"><a href="/gostd/encoding/asn1/marshal.go.html#3121607">i</a></span>&nbsp;<span class="op" id="3121677">&gt;&gt;=</span>&nbsp;<span class="num" id="3121681">8</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121687">return</span><br>
<span class="lineno"></span><span class="op" id="3121694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3121697">func</span>&nbsp;<span class="ident" id="3121702">marshalTagAndLength</span><span class="op" id="3121721">(</span><span class="ident" id="3121722">out</span>&nbsp;<span class="op" id="3121726">*</span><span class="ident" id="3121727"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3121741">,</span>&nbsp;<span class="ident" id="3121743">t</span>&nbsp;<span class="ident" id="3121745"><a href="/gostd/encoding/asn1/common.go.html#3114470">tagAndLength</a></span><span class="op" id="3121757">)</span>&nbsp;<span class="op" id="3121759">(</span><span class="ident" id="3121760">err</span>&nbsp;<span class="builtintype" id="3121764">error</span><span class="op" id="3121769">)</span>&nbsp;<span class="op" id="3121771">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121774">b</span>&nbsp;<span class="op" id="3121776">:=</span>&nbsp;<span class="builtintype" id="3121779">uint8</span><span class="op" id="3121784">(</span><span class="ident" id="3121785"><a href="/gostd/encoding/asn1/marshal.go.html#3121743">t</a></span><span class="op" id="3121786">.</span><span class="ident" id="3121787"><a href="/gostd/encoding/asn1/common.go.html#3114493">class</a></span><span class="op" id="3121792">)</span>&nbsp;<span class="op" id="3121794">&lt;&lt;</span>&nbsp;<span class="num" id="3121797">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121800">if</span>&nbsp;<span class="ident" id="3121803"><a href="/gostd/encoding/asn1/marshal.go.html#3121743">t</a></span><span class="op" id="3121804">.</span><span class="ident" id="3121805"><a href="/gostd/encoding/asn1/common.go.html#3114517">isCompound</a></span>&nbsp;<span class="op" id="3121816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121820"><a href="/gostd/encoding/asn1/marshal.go.html#3121774">b</a></span>&nbsp;<span class="op" id="3121822">|=</span>&nbsp;<span class="num" id="3121825">0x20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121834">if</span>&nbsp;<span class="ident" id="3121837"><a href="/gostd/encoding/asn1/marshal.go.html#3121743">t</a></span><span class="op" id="3121838">.</span><span class="ident" id="3121839"><a href="/gostd/encoding/asn1/common.go.html#3114500">tag</a></span>&nbsp;<span class="op" id="3121843">&gt;=</span>&nbsp;<span class="num" id="3121846">31</span>&nbsp;<span class="op" id="3121849">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121853"><a href="/gostd/encoding/asn1/marshal.go.html#3121774">b</a></span>&nbsp;<span class="op" id="3121855">|=</span>&nbsp;<span class="num" id="3121858">0x1f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121865"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3121869">=</span>&nbsp;<span class="ident" id="3121871"><a href="/gostd/encoding/asn1/marshal.go.html#3121722">out</a></span><span class="op" id="3121874">.</span><span class="ident" id="3121875"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3121884">(</span><span class="ident" id="3121885"><a href="/gostd/encoding/asn1/marshal.go.html#3121774">b</a></span><span class="op" id="3121886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121890">if</span>&nbsp;<span class="ident" id="3121893"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3121897">!=</span>&nbsp;<span class="builtintype" id="3121900">nil</span>&nbsp;<span class="op" id="3121904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121909">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121918">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3121922"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3121926">=</span>&nbsp;<span class="ident" id="3121928"><a href="/gostd/encoding/asn1/marshal.go.html#3119689">marshalBase128Int</a></span><span class="op" id="3121945">(</span><span class="ident" id="3121946"><a href="/gostd/encoding/asn1/marshal.go.html#3121722">out</a></span><span class="op" id="3121949">,</span>&nbsp;<span class="builtintype" id="3121951">int64</span><span class="op" id="3121956">(</span><span class="ident" id="3121957"><a href="/gostd/encoding/asn1/marshal.go.html#3121743">t</a></span><span class="op" id="3121958">.</span><span class="ident" id="3121959"><a href="/gostd/encoding/asn1/common.go.html#3114500">tag</a></span><span class="op" id="3121962">)</span><span class="op" id="3121963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121967">if</span>&nbsp;<span class="ident" id="3121970"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3121974">!=</span>&nbsp;<span class="builtintype" id="3121977">nil</span>&nbsp;<span class="op" id="3121981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3121986">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3121998">}</span>&nbsp;<span class="keyword" id="3122000">else</span>&nbsp;<span class="op" id="3122005">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122009"><a href="/gostd/encoding/asn1/marshal.go.html#3121774">b</a></span>&nbsp;<span class="op" id="3122011">|=</span>&nbsp;<span class="builtintype" id="3122014">uint8</span><span class="op" id="3122019">(</span><span class="ident" id="3122020"><a href="/gostd/encoding/asn1/marshal.go.html#3121743">t</a></span><span class="op" id="3122021">.</span><span class="ident" id="3122022"><a href="/gostd/encoding/asn1/common.go.html#3114500">tag</a></span><span class="op" id="3122025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122029"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3122033">=</span>&nbsp;<span class="ident" id="3122035"><a href="/gostd/encoding/asn1/marshal.go.html#3121722">out</a></span><span class="op" id="3122038">.</span><span class="ident" id="3122039"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3122048">(</span><span class="ident" id="3122049"><a href="/gostd/encoding/asn1/marshal.go.html#3121774">b</a></span><span class="op" id="3122050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122054">if</span>&nbsp;<span class="ident" id="3122057"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3122061">!=</span>&nbsp;<span class="builtintype" id="3122064">nil</span>&nbsp;<span class="op" id="3122068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122073">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122082">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122089">if</span>&nbsp;<span class="ident" id="3122092"><a href="/gostd/encoding/asn1/marshal.go.html#3121743">t</a></span><span class="op" id="3122093">.</span><span class="ident" id="3122094"><a href="/gostd/encoding/asn1/common.go.html#3114505">length</a></span>&nbsp;<span class="op" id="3122101">&gt;=</span>&nbsp;<span class="num" id="3122104">128</span>&nbsp;<span class="op" id="3122108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122112">l</span>&nbsp;<span class="op" id="3122114">:=</span>&nbsp;<span class="ident" id="3122117"><a href="/gostd/encoding/asn1/marshal.go.html#3121594">lengthLength</a></span><span class="op" id="3122129">(</span><span class="ident" id="3122130"><a href="/gostd/encoding/asn1/marshal.go.html#3121743">t</a></span><span class="op" id="3122131">.</span><span class="ident" id="3122132"><a href="/gostd/encoding/asn1/common.go.html#3114505">length</a></span><span class="op" id="3122138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122142"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3122146">=</span>&nbsp;<span class="ident" id="3122148"><a href="/gostd/encoding/asn1/marshal.go.html#3121722">out</a></span><span class="op" id="3122151">.</span><span class="ident" id="3122152"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3122161">(</span><span class="num" id="3122162">0x80</span>&nbsp;<span class="op" id="3122167">|</span>&nbsp;<span class="builtintype" id="3122169">byte</span><span class="op" id="3122173">(</span><span class="ident" id="3122174"><a href="/gostd/encoding/asn1/marshal.go.html#3122112">l</a></span><span class="op" id="3122175">)</span><span class="op" id="3122176">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122180">if</span>&nbsp;<span class="ident" id="3122183"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3122187">!=</span>&nbsp;<span class="builtintype" id="3122190">nil</span>&nbsp;<span class="op" id="3122194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122199">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122212"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3122216">=</span>&nbsp;<span class="ident" id="3122218"><a href="/gostd/encoding/asn1/marshal.go.html#3121391">marshalLength</a></span><span class="op" id="3122231">(</span><span class="ident" id="3122232"><a href="/gostd/encoding/asn1/marshal.go.html#3121722">out</a></span><span class="op" id="3122235">,</span>&nbsp;<span class="ident" id="3122237"><a href="/gostd/encoding/asn1/marshal.go.html#3121743">t</a></span><span class="op" id="3122238">.</span><span class="ident" id="3122239"><a href="/gostd/encoding/asn1/common.go.html#3114505">length</a></span><span class="op" id="3122245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122249">if</span>&nbsp;<span class="ident" id="3122252"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3122256">!=</span>&nbsp;<span class="builtintype" id="3122259">nil</span>&nbsp;<span class="op" id="3122263">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122268">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122280">}</span>&nbsp;<span class="keyword" id="3122282">else</span>&nbsp;<span class="op" id="3122287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122291"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3122295">=</span>&nbsp;<span class="ident" id="3122297"><a href="/gostd/encoding/asn1/marshal.go.html#3121722">out</a></span><span class="op" id="3122300">.</span><span class="ident" id="3122301"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3122310">(</span><span class="builtintype" id="3122311">byte</span><span class="op" id="3122315">(</span><span class="ident" id="3122316"><a href="/gostd/encoding/asn1/marshal.go.html#3121743">t</a></span><span class="op" id="3122317">.</span><span class="ident" id="3122318"><a href="/gostd/encoding/asn1/common.go.html#3114505">length</a></span><span class="op" id="3122324">)</span><span class="op" id="3122325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122329">if</span>&nbsp;<span class="ident" id="3122332"><a href="/gostd/encoding/asn1/marshal.go.html#3121760">err</a></span>&nbsp;<span class="op" id="3122336">!=</span>&nbsp;<span class="builtintype" id="3122339">nil</span>&nbsp;<span class="op" id="3122343">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122348">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122364">return</span>&nbsp;<span class="builtintype" id="3122371">nil</span><br>
<span class="lineno">230</span><span class="op" id="3122375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3122378">func</span>&nbsp;<span class="ident" id="3122383">marshalBitString</span><span class="op" id="3122399">(</span><span class="ident" id="3122400">out</span>&nbsp;<span class="op" id="3122404">*</span><span class="ident" id="3122405"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3122419">,</span>&nbsp;<span class="ident" id="3122421">b</span>&nbsp;<span class="ident" id="3122423"><a href="/gostd/encoding/asn1/asn1.go.html#3091159">BitString</a></span><span class="op" id="3122432">)</span>&nbsp;<span class="op" id="3122434">(</span><span class="ident" id="3122435">err</span>&nbsp;<span class="builtintype" id="3122439">error</span><span class="op" id="3122444">)</span>&nbsp;<span class="op" id="3122446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122449">paddingBits</span>&nbsp;<span class="op" id="3122461">:=</span>&nbsp;<span class="builtintype" id="3122464">byte</span><span class="op" id="3122468">(</span><span class="op" id="3122469">(</span><span class="num" id="3122470">8</span>&nbsp;<span class="op" id="3122472">-</span>&nbsp;<span class="ident" id="3122474"><a href="/gostd/encoding/asn1/marshal.go.html#3122421">b</a></span><span class="op" id="3122475">.</span><span class="ident" id="3122476"><a href="/gostd/encoding/asn1/asn1.go.html#3091224">BitLength</a></span><span class="op" id="3122485">%</span><span class="num" id="3122486">8</span><span class="op" id="3122487">)</span>&nbsp;<span class="op" id="3122489">%</span>&nbsp;<span class="num" id="3122491">8</span><span class="op" id="3122492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122495"><a href="/gostd/encoding/asn1/marshal.go.html#3122435">err</a></span>&nbsp;<span class="op" id="3122499">=</span>&nbsp;<span class="ident" id="3122501"><a href="/gostd/encoding/asn1/marshal.go.html#3122400">out</a></span><span class="op" id="3122504">.</span><span class="ident" id="3122505"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3122514">(</span><span class="ident" id="3122515"><a href="/gostd/encoding/asn1/marshal.go.html#3122449">paddingBits</a></span><span class="op" id="3122526">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122529">if</span>&nbsp;<span class="ident" id="3122532"><a href="/gostd/encoding/asn1/marshal.go.html#3122435">err</a></span>&nbsp;<span class="op" id="3122536">!=</span>&nbsp;<span class="builtintype" id="3122539">nil</span>&nbsp;<span class="op" id="3122543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122547">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122558">_</span><span class="op" id="3122559">,</span>&nbsp;<span class="ident" id="3122561"><a href="/gostd/encoding/asn1/marshal.go.html#3122435">err</a></span>&nbsp;<span class="op" id="3122565">=</span>&nbsp;<span class="ident" id="3122567"><a href="/gostd/encoding/asn1/marshal.go.html#3122400">out</a></span><span class="op" id="3122570">.</span><span class="ident" id="3122571"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3122576">(</span><span class="ident" id="3122577"><a href="/gostd/encoding/asn1/marshal.go.html#3122421">b</a></span><span class="op" id="3122578">.</span><span class="ident" id="3122579"><a href="/gostd/encoding/asn1/asn1.go.html#3091179">Bytes</a></span><span class="op" id="3122584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122587">return</span><br>
<span class="lineno">240</span><span class="op" id="3122594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3122597">func</span>&nbsp;<span class="ident" id="3122602">marshalObjectIdentifier</span><span class="op" id="3122625">(</span><span class="ident" id="3122626">out</span>&nbsp;<span class="op" id="3122630">*</span><span class="ident" id="3122631"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3122645">,</span>&nbsp;<span class="ident" id="3122647">oid</span>&nbsp;<span class="op" id="3122651">[</span><span class="op" id="3122652">]</span><span class="builtintype" id="3122653">int</span><span class="op" id="3122656">)</span>&nbsp;<span class="op" id="3122658">(</span><span class="ident" id="3122659">err</span>&nbsp;<span class="builtintype" id="3122663">error</span><span class="op" id="3122668">)</span>&nbsp;<span class="op" id="3122670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122673">if</span>&nbsp;<span class="builtinfunc" id="3122676">len</span><span class="op" id="3122679">(</span><span class="ident" id="3122680"><a href="/gostd/encoding/asn1/marshal.go.html#3122647">oid</a></span><span class="op" id="3122683">)</span>&nbsp;<span class="op" id="3122685">&lt;</span>&nbsp;<span class="num" id="3122687">2</span>&nbsp;<span class="op" id="3122689">||</span>&nbsp;<span class="ident" id="3122692"><a href="/gostd/encoding/asn1/marshal.go.html#3122647">oid</a></span><span class="op" id="3122695">[</span><span class="num" id="3122696">0</span><span class="op" id="3122697">]</span>&nbsp;<span class="op" id="3122699">&gt;</span>&nbsp;<span class="num" id="3122701">2</span>&nbsp;<span class="op" id="3122703">||</span>&nbsp;<span class="op" id="3122706">(</span><span class="ident" id="3122707"><a href="/gostd/encoding/asn1/marshal.go.html#3122647">oid</a></span><span class="op" id="3122710">[</span><span class="num" id="3122711">0</span><span class="op" id="3122712">]</span>&nbsp;<span class="op" id="3122714">&lt;</span>&nbsp;<span class="num" id="3122716">2</span>&nbsp;<span class="op" id="3122718">&amp;&amp;</span>&nbsp;<span class="ident" id="3122721"><a href="/gostd/encoding/asn1/marshal.go.html#3122647">oid</a></span><span class="op" id="3122724">[</span><span class="num" id="3122725">1</span><span class="op" id="3122726">]</span>&nbsp;<span class="op" id="3122728">&gt;=</span>&nbsp;<span class="num" id="3122731">40</span><span class="op" id="3122733">)</span>&nbsp;<span class="op" id="3122735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122739">return</span>&nbsp;<span class="ident" id="3122746"><a href="/gostd/encoding/asn1/asn1.go.html#3088765">StructuralError</a></span><span class="op" id="3122761">{</span><span class="string" id="3122762">&#34;invalid&nbsp;object&nbsp;identifier&#34;</span><span class="op" id="3122789">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122796"><a href="/gostd/encoding/asn1/marshal.go.html#3122659">err</a></span>&nbsp;<span class="op" id="3122800">=</span>&nbsp;<span class="ident" id="3122802"><a href="/gostd/encoding/asn1/marshal.go.html#3119689">marshalBase128Int</a></span><span class="op" id="3122819">(</span><span class="ident" id="3122820"><a href="/gostd/encoding/asn1/marshal.go.html#3122626">out</a></span><span class="op" id="3122823">,</span>&nbsp;<span class="builtintype" id="3122825">int64</span><span class="op" id="3122830">(</span><span class="ident" id="3122831"><a href="/gostd/encoding/asn1/marshal.go.html#3122647">oid</a></span><span class="op" id="3122834">[</span><span class="num" id="3122835">0</span><span class="op" id="3122836">]</span><span class="op" id="3122837">*</span><span class="num" id="3122838">40</span><span class="op" id="3122840">+</span><span class="ident" id="3122841"><a href="/gostd/encoding/asn1/marshal.go.html#3122647">oid</a></span><span class="op" id="3122844">[</span><span class="num" id="3122845">1</span><span class="op" id="3122846">]</span><span class="op" id="3122847">)</span><span class="op" id="3122848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122851">if</span>&nbsp;<span class="ident" id="3122854"><a href="/gostd/encoding/asn1/marshal.go.html#3122659">err</a></span>&nbsp;<span class="op" id="3122858">!=</span>&nbsp;<span class="builtintype" id="3122861">nil</span>&nbsp;<span class="op" id="3122865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122869">return</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122880">for</span>&nbsp;<span class="ident" id="3122884">i</span>&nbsp;<span class="op" id="3122886">:=</span>&nbsp;<span class="num" id="3122889">2</span><span class="op" id="3122890">;</span>&nbsp;<span class="ident" id="3122892"><a href="/gostd/encoding/asn1/marshal.go.html#3122884">i</a></span>&nbsp;<span class="op" id="3122894">&lt;</span>&nbsp;<span class="builtinfunc" id="3122896">len</span><span class="op" id="3122899">(</span><span class="ident" id="3122900"><a href="/gostd/encoding/asn1/marshal.go.html#3122647">oid</a></span><span class="op" id="3122903">)</span><span class="op" id="3122904">;</span>&nbsp;<span class="ident" id="3122906"><a href="/gostd/encoding/asn1/marshal.go.html#3122884">i</a></span><span class="op" id="3122907">++</span>&nbsp;<span class="op" id="3122910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122914"><a href="/gostd/encoding/asn1/marshal.go.html#3122659">err</a></span>&nbsp;<span class="op" id="3122918">=</span>&nbsp;<span class="ident" id="3122920"><a href="/gostd/encoding/asn1/marshal.go.html#3119689">marshalBase128Int</a></span><span class="op" id="3122937">(</span><span class="ident" id="3122938"><a href="/gostd/encoding/asn1/marshal.go.html#3122626">out</a></span><span class="op" id="3122941">,</span>&nbsp;<span class="builtintype" id="3122943">int64</span><span class="op" id="3122948">(</span><span class="ident" id="3122949"><a href="/gostd/encoding/asn1/marshal.go.html#3122647">oid</a></span><span class="op" id="3122952">[</span><span class="ident" id="3122953"><a href="/gostd/encoding/asn1/marshal.go.html#3122884">i</a></span><span class="op" id="3122954">]</span><span class="op" id="3122955">)</span><span class="op" id="3122956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122960">if</span>&nbsp;<span class="ident" id="3122963"><a href="/gostd/encoding/asn1/marshal.go.html#3122659">err</a></span>&nbsp;<span class="op" id="3122967">!=</span>&nbsp;<span class="builtintype" id="3122970">nil</span>&nbsp;<span class="op" id="3122974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122979">return</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3122991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3122995">return</span><br>
<span class="lineno"></span><span class="op" id="3123002">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="3123005">func</span>&nbsp;<span class="ident" id="3123010">marshalPrintableString</span><span class="op" id="3123032">(</span><span class="ident" id="3123033">out</span>&nbsp;<span class="op" id="3123037">*</span><span class="ident" id="3123038"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3123052">,</span>&nbsp;<span class="ident" id="3123054">s</span>&nbsp;<span class="builtintype" id="3123056">string</span><span class="op" id="3123062">)</span>&nbsp;<span class="op" id="3123064">(</span><span class="ident" id="3123065">err</span>&nbsp;<span class="builtintype" id="3123069">error</span><span class="op" id="3123074">)</span>&nbsp;<span class="op" id="3123076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123079">b</span>&nbsp;<span class="op" id="3123081">:=</span>&nbsp;<span class="op" id="3123084">[</span><span class="op" id="3123085">]</span><span class="builtintype" id="3123086">byte</span><span class="op" id="3123090">(</span><span class="ident" id="3123091"><a href="/gostd/encoding/asn1/marshal.go.html#3123054">s</a></span><span class="op" id="3123092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123095">for</span>&nbsp;<span class="ident" id="3123099">_</span><span class="op" id="3123100">,</span>&nbsp;<span class="ident" id="3123102">c</span>&nbsp;<span class="op" id="3123104">:=</span>&nbsp;<span class="keyword" id="3123107">range</span>&nbsp;<span class="ident" id="3123113"><a href="/gostd/encoding/asn1/marshal.go.html#3123079">b</a></span>&nbsp;<span class="op" id="3123115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123119">if</span>&nbsp;<span class="op" id="3123122">!</span><span class="ident" id="3123123"><a href="/gostd/encoding/asn1/asn1.go.html#3095880">isPrintable</a></span><span class="op" id="3123134">(</span><span class="ident" id="3123135"><a href="/gostd/encoding/asn1/marshal.go.html#3123102">c</a></span><span class="op" id="3123136">)</span>&nbsp;<span class="op" id="3123138">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123143">return</span>&nbsp;<span class="ident" id="3123150"><a href="/gostd/encoding/asn1/asn1.go.html#3088765">StructuralError</a></span><span class="op" id="3123165">{</span><span class="string" id="3123166">&#34;PrintableString&nbsp;contains&nbsp;invalid&nbsp;character&#34;</span><span class="op" id="3123210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3123214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3123217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123221">_</span><span class="op" id="3123222">,</span>&nbsp;<span class="ident" id="3123224"><a href="/gostd/encoding/asn1/marshal.go.html#3123065">err</a></span>&nbsp;<span class="op" id="3123228">=</span>&nbsp;<span class="ident" id="3123230"><a href="/gostd/encoding/asn1/marshal.go.html#3123033">out</a></span><span class="op" id="3123233">.</span><span class="ident" id="3123234"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3123239">(</span><span class="ident" id="3123240"><a href="/gostd/encoding/asn1/marshal.go.html#3123079">b</a></span><span class="op" id="3123241">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123244">return</span><br>
<span class="lineno"></span><span class="op" id="3123251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3123254">func</span>&nbsp;<span class="ident" id="3123259">marshalIA5String</span><span class="op" id="3123275">(</span><span class="ident" id="3123276">out</span>&nbsp;<span class="op" id="3123280">*</span><span class="ident" id="3123281"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3123295">,</span>&nbsp;<span class="ident" id="3123297">s</span>&nbsp;<span class="builtintype" id="3123299">string</span><span class="op" id="3123305">)</span>&nbsp;<span class="op" id="3123307">(</span><span class="ident" id="3123308">err</span>&nbsp;<span class="builtintype" id="3123312">error</span><span class="op" id="3123317">)</span>&nbsp;<span class="op" id="3123319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123322">b</span>&nbsp;<span class="op" id="3123324">:=</span>&nbsp;<span class="op" id="3123327">[</span><span class="op" id="3123328">]</span><span class="builtintype" id="3123329">byte</span><span class="op" id="3123333">(</span><span class="ident" id="3123334"><a href="/gostd/encoding/asn1/marshal.go.html#3123297">s</a></span><span class="op" id="3123335">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123338">for</span>&nbsp;<span class="ident" id="3123342">_</span><span class="op" id="3123343">,</span>&nbsp;<span class="ident" id="3123345">c</span>&nbsp;<span class="op" id="3123347">:=</span>&nbsp;<span class="keyword" id="3123350">range</span>&nbsp;<span class="ident" id="3123356"><a href="/gostd/encoding/asn1/marshal.go.html#3123322">b</a></span>&nbsp;<span class="op" id="3123358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123362">if</span>&nbsp;<span class="ident" id="3123365"><a href="/gostd/encoding/asn1/marshal.go.html#3123345">c</a></span>&nbsp;<span class="op" id="3123367">&gt;</span>&nbsp;<span class="num" id="3123369">127</span>&nbsp;<span class="op" id="3123373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123378">return</span>&nbsp;<span class="ident" id="3123385"><a href="/gostd/encoding/asn1/asn1.go.html#3088765">StructuralError</a></span><span class="op" id="3123400">{</span><span class="string" id="3123401">&#34;IA5String&nbsp;contains&nbsp;invalid&nbsp;character&#34;</span><span class="op" id="3123439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3123443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3123446">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123450">_</span><span class="op" id="3123451">,</span>&nbsp;<span class="ident" id="3123453"><a href="/gostd/encoding/asn1/marshal.go.html#3123308">err</a></span>&nbsp;<span class="op" id="3123457">=</span>&nbsp;<span class="ident" id="3123459"><a href="/gostd/encoding/asn1/marshal.go.html#3123276">out</a></span><span class="op" id="3123462">.</span><span class="ident" id="3123463"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3123468">(</span><span class="ident" id="3123469"><a href="/gostd/encoding/asn1/marshal.go.html#3123322">b</a></span><span class="op" id="3123470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123473">return</span><br>
<span class="lineno"></span><span class="op" id="3123480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="3123483">func</span>&nbsp;<span class="ident" id="3123488">marshalUTF8String</span><span class="op" id="3123505">(</span><span class="ident" id="3123506">out</span>&nbsp;<span class="op" id="3123510">*</span><span class="ident" id="3123511"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3123525">,</span>&nbsp;<span class="ident" id="3123527">s</span>&nbsp;<span class="builtintype" id="3123529">string</span><span class="op" id="3123535">)</span>&nbsp;<span class="op" id="3123537">(</span><span class="ident" id="3123538">err</span>&nbsp;<span class="builtintype" id="3123542">error</span><span class="op" id="3123547">)</span>&nbsp;<span class="op" id="3123549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123552">_</span><span class="op" id="3123553">,</span>&nbsp;<span class="ident" id="3123555"><a href="/gostd/encoding/asn1/marshal.go.html#3123538">err</a></span>&nbsp;<span class="op" id="3123559">=</span>&nbsp;<span class="ident" id="3123561"><a href="/gostd/encoding/asn1/marshal.go.html#3123506">out</a></span><span class="op" id="3123564">.</span><span class="ident" id="3123565"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3123570">(</span><span class="op" id="3123571">[</span><span class="op" id="3123572">]</span><span class="builtintype" id="3123573">byte</span><span class="op" id="3123577">(</span><span class="ident" id="3123578"><a href="/gostd/encoding/asn1/marshal.go.html#3123527">s</a></span><span class="op" id="3123579">)</span><span class="op" id="3123580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123583">return</span><br>
<span class="lineno"></span><span class="op" id="3123590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">290</span><span class="keyword" id="3123593">func</span>&nbsp;<span class="ident" id="3123598">marshalTwoDigits</span><span class="op" id="3123614">(</span><span class="ident" id="3123615">out</span>&nbsp;<span class="op" id="3123619">*</span><span class="ident" id="3123620"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3123634">,</span>&nbsp;<span class="ident" id="3123636">v</span>&nbsp;<span class="builtintype" id="3123638">int</span><span class="op" id="3123641">)</span>&nbsp;<span class="op" id="3123643">(</span><span class="ident" id="3123644">err</span>&nbsp;<span class="builtintype" id="3123648">error</span><span class="op" id="3123653">)</span>&nbsp;<span class="op" id="3123655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123658"><a href="/gostd/encoding/asn1/marshal.go.html#3123644">err</a></span>&nbsp;<span class="op" id="3123662">=</span>&nbsp;<span class="ident" id="3123664"><a href="/gostd/encoding/asn1/marshal.go.html#3123615">out</a></span><span class="op" id="3123667">.</span><span class="ident" id="3123668"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3123677">(</span><span class="builtintype" id="3123678">byte</span><span class="op" id="3123682">(</span><span class="string" id="3123683">&#39;0&#39;</span>&nbsp;<span class="op" id="3123687">+</span>&nbsp;<span class="op" id="3123689">(</span><span class="ident" id="3123690"><a href="/gostd/encoding/asn1/marshal.go.html#3123636">v</a></span><span class="op" id="3123691">/</span><span class="num" id="3123692">10</span><span class="op" id="3123694">)</span><span class="op" id="3123695">%</span><span class="num" id="3123696">10</span><span class="op" id="3123698">)</span><span class="op" id="3123699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123702">if</span>&nbsp;<span class="ident" id="3123705"><a href="/gostd/encoding/asn1/marshal.go.html#3123644">err</a></span>&nbsp;<span class="op" id="3123709">!=</span>&nbsp;<span class="builtintype" id="3123712">nil</span>&nbsp;<span class="op" id="3123716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123720">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3123728">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123731">return</span>&nbsp;<span class="ident" id="3123738"><a href="/gostd/encoding/asn1/marshal.go.html#3123615">out</a></span><span class="op" id="3123741">.</span><span class="ident" id="3123742"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3123751">(</span><span class="builtintype" id="3123752">byte</span><span class="op" id="3123756">(</span><span class="string" id="3123757">&#39;0&#39;</span>&nbsp;<span class="op" id="3123761">+</span>&nbsp;<span class="ident" id="3123763"><a href="/gostd/encoding/asn1/marshal.go.html#3123636">v</a></span><span class="op" id="3123764">%</span><span class="num" id="3123765">10</span><span class="op" id="3123767">)</span><span class="op" id="3123768">)</span><br>
<span class="lineno"></span><span class="op" id="3123770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3123773">func</span>&nbsp;<span class="ident" id="3123778">marshalFourDigits</span><span class="op" id="3123795">(</span><span class="ident" id="3123796">out</span>&nbsp;<span class="op" id="3123800">*</span><span class="ident" id="3123801"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3123815">,</span>&nbsp;<span class="ident" id="3123817">v</span>&nbsp;<span class="builtintype" id="3123819">int</span><span class="op" id="3123822">)</span>&nbsp;<span class="op" id="3123824">(</span><span class="ident" id="3123825">err</span>&nbsp;<span class="builtintype" id="3123829">error</span><span class="op" id="3123834">)</span>&nbsp;<span class="op" id="3123836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123839">var</span>&nbsp;<span class="ident" id="3123843">bytes</span>&nbsp;<span class="op" id="3123849">[</span><span class="num" id="3123850">4</span><span class="op" id="3123851">]</span><span class="builtintype" id="3123852">byte</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123858">for</span>&nbsp;<span class="ident" id="3123862">i</span>&nbsp;<span class="op" id="3123864">:=</span>&nbsp;<span class="keyword" id="3123867">range</span>&nbsp;<span class="ident" id="3123873"><a href="/gostd/encoding/asn1/marshal.go.html#3123843">bytes</a></span>&nbsp;<span class="op" id="3123879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123883"><a href="/gostd/encoding/asn1/marshal.go.html#3123843">bytes</a></span><span class="op" id="3123888">[</span><span class="num" id="3123889">3</span><span class="op" id="3123890">-</span><span class="ident" id="3123891"><a href="/gostd/encoding/asn1/marshal.go.html#3123862">i</a></span><span class="op" id="3123892">]</span>&nbsp;<span class="op" id="3123894">=</span>&nbsp;<span class="string" id="3123896">&#39;0&#39;</span>&nbsp;<span class="op" id="3123900">+</span>&nbsp;<span class="builtintype" id="3123902">byte</span><span class="op" id="3123906">(</span><span class="ident" id="3123907"><a href="/gostd/encoding/asn1/marshal.go.html#3123817">v</a></span><span class="op" id="3123908">%</span><span class="num" id="3123909">10</span><span class="op" id="3123911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123915"><a href="/gostd/encoding/asn1/marshal.go.html#3123817">v</a></span>&nbsp;<span class="op" id="3123917">/=</span>&nbsp;<span class="num" id="3123920">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3123924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123927">_</span><span class="op" id="3123928">,</span>&nbsp;<span class="ident" id="3123930"><a href="/gostd/encoding/asn1/marshal.go.html#3123825">err</a></span>&nbsp;<span class="op" id="3123934">=</span>&nbsp;<span class="ident" id="3123936"><a href="/gostd/encoding/asn1/marshal.go.html#3123796">out</a></span><span class="op" id="3123939">.</span><span class="ident" id="3123940"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3123945">(</span><span class="ident" id="3123946"><a href="/gostd/encoding/asn1/marshal.go.html#3123843">bytes</a></span><span class="op" id="3123951">[</span><span class="op" id="3123952">:</span><span class="op" id="3123953">]</span><span class="op" id="3123954">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3123957">return</span><br>
<span class="lineno"></span><span class="op" id="3123964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3123967">func</span>&nbsp;<span class="ident" id="3123972">outsideUTCRange</span><span class="op" id="3123987">(</span><span class="ident" id="3123988">t</span>&nbsp;<span class="ident" id="3123990"><a href="/gostd/encoding/asn1/marshal.go.html#3118564">time</a></span><span class="op" id="3123994">.</span><span class="ident" id="3123995"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3123999">)</span>&nbsp;<span class="builtintype" id="3124001">bool</span>&nbsp;<span class="op" id="3124006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3124009">year</span>&nbsp;<span class="op" id="3124014">:=</span>&nbsp;<span class="ident" id="3124017"><a href="/gostd/encoding/asn1/marshal.go.html#3123988">t</a></span><span class="op" id="3124018">.</span><span class="ident" id="3124019"><a href="/gostd/time/time.go.html#2730250">Year</a></span><span class="op" id="3124023">(</span><span class="op" id="3124024">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124027">return</span>&nbsp;<span class="ident" id="3124034"><a href="/gostd/encoding/asn1/marshal.go.html#3124009">year</a></span>&nbsp;<span class="op" id="3124039">&lt;</span>&nbsp;<span class="num" id="3124041">1950</span>&nbsp;<span class="op" id="3124046">||</span>&nbsp;<span class="ident" id="3124049"><a href="/gostd/encoding/asn1/marshal.go.html#3124009">year</a></span>&nbsp;<span class="op" id="3124054">&gt;=</span>&nbsp;<span class="num" id="3124057">2050</span><br>
<span class="lineno"></span><span class="op" id="3124062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3124065">func</span>&nbsp;<span class="ident" id="3124070">marshalUTCTime</span><span class="op" id="3124084">(</span><span class="ident" id="3124085">out</span>&nbsp;<span class="op" id="3124089">*</span><span class="ident" id="3124090"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3124104">,</span>&nbsp;<span class="ident" id="3124106">t</span>&nbsp;<span class="ident" id="3124108"><a href="/gostd/encoding/asn1/marshal.go.html#3118564">time</a></span><span class="op" id="3124112">.</span><span class="ident" id="3124113"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3124117">)</span>&nbsp;<span class="op" id="3124119">(</span><span class="ident" id="3124120">err</span>&nbsp;<span class="builtintype" id="3124124">error</span><span class="op" id="3124129">)</span>&nbsp;<span class="op" id="3124131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3124134">year</span>&nbsp;<span class="op" id="3124139">:=</span>&nbsp;<span class="ident" id="3124142"><a href="/gostd/encoding/asn1/marshal.go.html#3124106">t</a></span><span class="op" id="3124143">.</span><span class="ident" id="3124144"><a href="/gostd/time/time.go.html#2730250">Year</a></span><span class="op" id="3124148">(</span><span class="op" id="3124149">)</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124153">switch</span>&nbsp;<span class="op" id="3124160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124163">case</span>&nbsp;<span class="num" id="3124168">1950</span>&nbsp;<span class="op" id="3124173">&lt;=</span>&nbsp;<span class="ident" id="3124176"><a href="/gostd/encoding/asn1/marshal.go.html#3124134">year</a></span>&nbsp;<span class="op" id="3124181">&amp;&amp;</span>&nbsp;<span class="ident" id="3124184"><a href="/gostd/encoding/asn1/marshal.go.html#3124134">year</a></span>&nbsp;<span class="op" id="3124189">&lt;</span>&nbsp;<span class="num" id="3124191">2000</span><span class="op" id="3124195">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3124199"><a href="/gostd/encoding/asn1/marshal.go.html#3124120">err</a></span>&nbsp;<span class="op" id="3124203">=</span>&nbsp;<span class="ident" id="3124205"><a href="/gostd/encoding/asn1/marshal.go.html#3123598">marshalTwoDigits</a></span><span class="op" id="3124221">(</span><span class="ident" id="3124222"><a href="/gostd/encoding/asn1/marshal.go.html#3124085">out</a></span><span class="op" id="3124225">,</span>&nbsp;<span class="builtintype" id="3124227">int</span><span class="op" id="3124230">(</span><span class="ident" id="3124231"><a href="/gostd/encoding/asn1/marshal.go.html#3124134">year</a></span><span class="op" id="3124235">-</span><span class="num" id="3124236">1900</span><span class="op" id="3124240">)</span><span class="op" id="3124241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124244">case</span>&nbsp;<span class="num" id="3124249">2000</span>&nbsp;<span class="op" id="3124254">&lt;=</span>&nbsp;<span class="ident" id="3124257"><a href="/gostd/encoding/asn1/marshal.go.html#3124134">year</a></span>&nbsp;<span class="op" id="3124262">&amp;&amp;</span>&nbsp;<span class="ident" id="3124265"><a href="/gostd/encoding/asn1/marshal.go.html#3124134">year</a></span>&nbsp;<span class="op" id="3124270">&lt;</span>&nbsp;<span class="num" id="3124272">2050</span><span class="op" id="3124276">:</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3124280"><a href="/gostd/encoding/asn1/marshal.go.html#3124120">err</a></span>&nbsp;<span class="op" id="3124284">=</span>&nbsp;<span class="ident" id="3124286"><a href="/gostd/encoding/asn1/marshal.go.html#3123598">marshalTwoDigits</a></span><span class="op" id="3124302">(</span><span class="ident" id="3124303"><a href="/gostd/encoding/asn1/marshal.go.html#3124085">out</a></span><span class="op" id="3124306">,</span>&nbsp;<span class="builtintype" id="3124308">int</span><span class="op" id="3124311">(</span><span class="ident" id="3124312"><a href="/gostd/encoding/asn1/marshal.go.html#3124134">year</a></span><span class="op" id="3124316">-</span><span class="num" id="3124317">2000</span><span class="op" id="3124321">)</span><span class="op" id="3124322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124325">default</span><span class="op" id="3124332">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124336">return</span>&nbsp;<span class="ident" id="3124343"><a href="/gostd/encoding/asn1/asn1.go.html#3088765">StructuralError</a></span><span class="op" id="3124358">{</span><span class="string" id="3124359">&#34;cannot&nbsp;represent&nbsp;time&nbsp;as&nbsp;UTCTime&#34;</span><span class="op" id="3124393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3124396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124399">if</span>&nbsp;<span class="ident" id="3124402"><a href="/gostd/encoding/asn1/marshal.go.html#3124120">err</a></span>&nbsp;<span class="op" id="3124406">!=</span>&nbsp;<span class="builtintype" id="3124409">nil</span>&nbsp;<span class="op" id="3124413">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124417">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3124425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124429">return</span>&nbsp;<span class="ident" id="3124436"><a href="/gostd/encoding/asn1/marshal.go.html#3124769">marshalTimeCommon</a></span><span class="op" id="3124453">(</span><span class="ident" id="3124454"><a href="/gostd/encoding/asn1/marshal.go.html#3124085">out</a></span><span class="op" id="3124457">,</span>&nbsp;<span class="ident" id="3124459"><a href="/gostd/encoding/asn1/marshal.go.html#3124106">t</a></span><span class="op" id="3124460">)</span><br>
<span class="lineno"></span><span class="op" id="3124462">}</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span><span class="keyword" id="3124465">func</span>&nbsp;<span class="ident" id="3124470">marshalGeneralizedTime</span><span class="op" id="3124492">(</span><span class="ident" id="3124493">out</span>&nbsp;<span class="op" id="3124497">*</span><span class="ident" id="3124498"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3124512">,</span>&nbsp;<span class="ident" id="3124514">t</span>&nbsp;<span class="ident" id="3124516"><a href="/gostd/encoding/asn1/marshal.go.html#3118564">time</a></span><span class="op" id="3124520">.</span><span class="ident" id="3124521"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3124525">)</span>&nbsp;<span class="op" id="3124527">(</span><span class="ident" id="3124528">err</span>&nbsp;<span class="builtintype" id="3124532">error</span><span class="op" id="3124537">)</span>&nbsp;<span class="op" id="3124539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3124542">year</span>&nbsp;<span class="op" id="3124547">:=</span>&nbsp;<span class="ident" id="3124550"><a href="/gostd/encoding/asn1/marshal.go.html#3124514">t</a></span><span class="op" id="3124551">.</span><span class="ident" id="3124552"><a href="/gostd/time/time.go.html#2730250">Year</a></span><span class="op" id="3124556">(</span><span class="op" id="3124557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124560">if</span>&nbsp;<span class="ident" id="3124563"><a href="/gostd/encoding/asn1/marshal.go.html#3124542">year</a></span>&nbsp;<span class="op" id="3124568">&lt;</span>&nbsp;<span class="num" id="3124570">0</span>&nbsp;<span class="op" id="3124572">||</span>&nbsp;<span class="ident" id="3124575"><a href="/gostd/encoding/asn1/marshal.go.html#3124542">year</a></span>&nbsp;<span class="op" id="3124580">&gt;</span>&nbsp;<span class="num" id="3124582">9999</span>&nbsp;<span class="op" id="3124587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124591">return</span>&nbsp;<span class="ident" id="3124598"><a href="/gostd/encoding/asn1/asn1.go.html#3088765">StructuralError</a></span><span class="op" id="3124613">{</span><span class="string" id="3124614">&#34;cannot&nbsp;represent&nbsp;time&nbsp;as&nbsp;GeneralizedTime&#34;</span><span class="op" id="3124656">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3124659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124662">if</span>&nbsp;<span class="ident" id="3124665"><a href="/gostd/encoding/asn1/marshal.go.html#3124528">err</a></span>&nbsp;<span class="op" id="3124669">=</span>&nbsp;<span class="ident" id="3124671"><a href="/gostd/encoding/asn1/marshal.go.html#3123778">marshalFourDigits</a></span><span class="op" id="3124688">(</span><span class="ident" id="3124689"><a href="/gostd/encoding/asn1/marshal.go.html#3124493">out</a></span><span class="op" id="3124692">,</span>&nbsp;<span class="ident" id="3124694"><a href="/gostd/encoding/asn1/marshal.go.html#3124542">year</a></span><span class="op" id="3124698">)</span><span class="op" id="3124699">;</span>&nbsp;<span class="ident" id="3124701"><a href="/gostd/encoding/asn1/marshal.go.html#3124528">err</a></span>&nbsp;<span class="op" id="3124705">!=</span>&nbsp;<span class="builtintype" id="3124708">nil</span>&nbsp;<span class="op" id="3124712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124716">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3124724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124728">return</span>&nbsp;<span class="ident" id="3124735"><a href="/gostd/encoding/asn1/marshal.go.html#3124769">marshalTimeCommon</a></span><span class="op" id="3124752">(</span><span class="ident" id="3124753"><a href="/gostd/encoding/asn1/marshal.go.html#3124493">out</a></span><span class="op" id="3124756">,</span>&nbsp;<span class="ident" id="3124758"><a href="/gostd/encoding/asn1/marshal.go.html#3124514">t</a></span><span class="op" id="3124759">)</span><br>
<span class="lineno"></span><span class="op" id="3124761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3124764">func</span>&nbsp;<span class="ident" id="3124769">marshalTimeCommon</span><span class="op" id="3124786">(</span><span class="ident" id="3124787">out</span>&nbsp;<span class="op" id="3124791">*</span><span class="ident" id="3124792"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3124806">,</span>&nbsp;<span class="ident" id="3124808">t</span>&nbsp;<span class="ident" id="3124810"><a href="/gostd/encoding/asn1/marshal.go.html#3118564">time</a></span><span class="op" id="3124814">.</span><span class="ident" id="3124815"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3124819">)</span>&nbsp;<span class="op" id="3124821">(</span><span class="ident" id="3124822">err</span>&nbsp;<span class="builtintype" id="3124826">error</span><span class="op" id="3124831">)</span>&nbsp;<span class="op" id="3124833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3124836">_</span><span class="op" id="3124837">,</span>&nbsp;<span class="ident" id="3124839">month</span><span class="op" id="3124844">,</span>&nbsp;<span class="ident" id="3124846">day</span>&nbsp;<span class="op" id="3124850">:=</span>&nbsp;<span class="ident" id="3124853"><a href="/gostd/encoding/asn1/marshal.go.html#3124808">t</a></span><span class="op" id="3124854">.</span><span class="ident" id="3124855"><a href="/gostd/time/time.go.html#2730103">Date</a></span><span class="op" id="3124859">(</span><span class="op" id="3124860">)</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3124864"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3124868">=</span>&nbsp;<span class="ident" id="3124870"><a href="/gostd/encoding/asn1/marshal.go.html#3123598">marshalTwoDigits</a></span><span class="op" id="3124886">(</span><span class="ident" id="3124887"><a href="/gostd/encoding/asn1/marshal.go.html#3124787">out</a></span><span class="op" id="3124890">,</span>&nbsp;<span class="builtintype" id="3124892">int</span><span class="op" id="3124895">(</span><span class="ident" id="3124896"><a href="/gostd/encoding/asn1/marshal.go.html#3124839">month</a></span><span class="op" id="3124901">)</span><span class="op" id="3124902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124905">if</span>&nbsp;<span class="ident" id="3124908"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3124912">!=</span>&nbsp;<span class="builtintype" id="3124915">nil</span>&nbsp;<span class="op" id="3124919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124923">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3124931">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3124935"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3124939">=</span>&nbsp;<span class="ident" id="3124941"><a href="/gostd/encoding/asn1/marshal.go.html#3123598">marshalTwoDigits</a></span><span class="op" id="3124957">(</span><span class="ident" id="3124958"><a href="/gostd/encoding/asn1/marshal.go.html#3124787">out</a></span><span class="op" id="3124961">,</span>&nbsp;<span class="ident" id="3124963"><a href="/gostd/encoding/asn1/marshal.go.html#3124846">day</a></span><span class="op" id="3124966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124969">if</span>&nbsp;<span class="ident" id="3124972"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3124976">!=</span>&nbsp;<span class="builtintype" id="3124979">nil</span>&nbsp;<span class="op" id="3124983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3124987">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3124995">}</span><br>
<span class="lineno">355</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3124999">hour</span><span class="op" id="3125003">,</span>&nbsp;<span class="ident" id="3125005">min</span><span class="op" id="3125008">,</span>&nbsp;<span class="ident" id="3125010">sec</span>&nbsp;<span class="op" id="3125014">:=</span>&nbsp;<span class="ident" id="3125017"><a href="/gostd/encoding/asn1/marshal.go.html#3124808">t</a></span><span class="op" id="3125018">.</span><span class="ident" id="3125019"><a href="/gostd/time/time.go.html#2732811">Clock</a></span><span class="op" id="3125024">(</span><span class="op" id="3125025">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125029"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125033">=</span>&nbsp;<span class="ident" id="3125035"><a href="/gostd/encoding/asn1/marshal.go.html#3123598">marshalTwoDigits</a></span><span class="op" id="3125051">(</span><span class="ident" id="3125052"><a href="/gostd/encoding/asn1/marshal.go.html#3124787">out</a></span><span class="op" id="3125055">,</span>&nbsp;<span class="ident" id="3125057"><a href="/gostd/encoding/asn1/marshal.go.html#3124999">hour</a></span><span class="op" id="3125061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125064">if</span>&nbsp;<span class="ident" id="3125067"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125071">!=</span>&nbsp;<span class="builtintype" id="3125074">nil</span>&nbsp;<span class="op" id="3125078">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125082">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3125090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125094"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125098">=</span>&nbsp;<span class="ident" id="3125100"><a href="/gostd/encoding/asn1/marshal.go.html#3123598">marshalTwoDigits</a></span><span class="op" id="3125116">(</span><span class="ident" id="3125117"><a href="/gostd/encoding/asn1/marshal.go.html#3124787">out</a></span><span class="op" id="3125120">,</span>&nbsp;<span class="ident" id="3125122"><a href="/gostd/encoding/asn1/marshal.go.html#3125005">min</a></span><span class="op" id="3125125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125128">if</span>&nbsp;<span class="ident" id="3125131"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125135">!=</span>&nbsp;<span class="builtintype" id="3125138">nil</span>&nbsp;<span class="op" id="3125142">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125146">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3125154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125158"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125162">=</span>&nbsp;<span class="ident" id="3125164"><a href="/gostd/encoding/asn1/marshal.go.html#3123598">marshalTwoDigits</a></span><span class="op" id="3125180">(</span><span class="ident" id="3125181"><a href="/gostd/encoding/asn1/marshal.go.html#3124787">out</a></span><span class="op" id="3125184">,</span>&nbsp;<span class="ident" id="3125186"><a href="/gostd/encoding/asn1/marshal.go.html#3125010">sec</a></span><span class="op" id="3125189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125192">if</span>&nbsp;<span class="ident" id="3125195"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125199">!=</span>&nbsp;<span class="builtintype" id="3125202">nil</span>&nbsp;<span class="op" id="3125206">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125210">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3125218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125222">_</span><span class="op" id="3125223">,</span>&nbsp;<span class="ident" id="3125225">offset</span>&nbsp;<span class="op" id="3125232">:=</span>&nbsp;<span class="ident" id="3125235"><a href="/gostd/encoding/asn1/marshal.go.html#3124808">t</a></span><span class="op" id="3125236">.</span><span class="ident" id="3125237"><a href="/gostd/time/time.go.html#2743934">Zone</a></span><span class="op" id="3125241">(</span><span class="op" id="3125242">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125246">switch</span>&nbsp;<span class="op" id="3125253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125256">case</span>&nbsp;<span class="ident" id="3125261"><a href="/gostd/encoding/asn1/marshal.go.html#3125225">offset</a></span><span class="op" id="3125267">/</span><span class="num" id="3125268">60</span>&nbsp;<span class="op" id="3125271">==</span>&nbsp;<span class="num" id="3125274">0</span><span class="op" id="3125275">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125279"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125283">=</span>&nbsp;<span class="ident" id="3125285"><a href="/gostd/encoding/asn1/marshal.go.html#3124787">out</a></span><span class="op" id="3125288">.</span><span class="ident" id="3125289"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3125298">(</span><span class="string" id="3125299">&#39;Z&#39;</span><span class="op" id="3125302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125306">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125314">case</span>&nbsp;<span class="ident" id="3125319"><a href="/gostd/encoding/asn1/marshal.go.html#3125225">offset</a></span>&nbsp;<span class="op" id="3125326">&gt;</span>&nbsp;<span class="num" id="3125328">0</span><span class="op" id="3125329">:</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125333"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125337">=</span>&nbsp;<span class="ident" id="3125339"><a href="/gostd/encoding/asn1/marshal.go.html#3124787">out</a></span><span class="op" id="3125342">.</span><span class="ident" id="3125343"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3125352">(</span><span class="string" id="3125353">&#39;+&#39;</span><span class="op" id="3125356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125359">case</span>&nbsp;<span class="ident" id="3125364"><a href="/gostd/encoding/asn1/marshal.go.html#3125225">offset</a></span>&nbsp;<span class="op" id="3125371">&lt;</span>&nbsp;<span class="num" id="3125373">0</span><span class="op" id="3125374">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125378"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125382">=</span>&nbsp;<span class="ident" id="3125384"><a href="/gostd/encoding/asn1/marshal.go.html#3124787">out</a></span><span class="op" id="3125387">.</span><span class="ident" id="3125388"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3125397">(</span><span class="string" id="3125398">&#39;-&#39;</span><span class="op" id="3125401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3125404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125408">if</span>&nbsp;<span class="ident" id="3125411"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125415">!=</span>&nbsp;<span class="builtintype" id="3125418">nil</span>&nbsp;<span class="op" id="3125422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125426">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3125434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125438">offsetMinutes</span>&nbsp;<span class="op" id="3125452">:=</span>&nbsp;<span class="ident" id="3125455"><a href="/gostd/encoding/asn1/marshal.go.html#3125225">offset</a></span>&nbsp;<span class="op" id="3125462">/</span>&nbsp;<span class="num" id="3125464">60</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125468">if</span>&nbsp;<span class="ident" id="3125471"><a href="/gostd/encoding/asn1/marshal.go.html#3125438">offsetMinutes</a></span>&nbsp;<span class="op" id="3125485">&lt;</span>&nbsp;<span class="num" id="3125487">0</span>&nbsp;<span class="op" id="3125489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125493"><a href="/gostd/encoding/asn1/marshal.go.html#3125438">offsetMinutes</a></span>&nbsp;<span class="op" id="3125507">=</span>&nbsp;<span class="op" id="3125509">-</span><span class="ident" id="3125510"><a href="/gostd/encoding/asn1/marshal.go.html#3125438">offsetMinutes</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3125525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125529"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125533">=</span>&nbsp;<span class="ident" id="3125535"><a href="/gostd/encoding/asn1/marshal.go.html#3123598">marshalTwoDigits</a></span><span class="op" id="3125551">(</span><span class="ident" id="3125552"><a href="/gostd/encoding/asn1/marshal.go.html#3124787">out</a></span><span class="op" id="3125555">,</span>&nbsp;<span class="ident" id="3125557"><a href="/gostd/encoding/asn1/marshal.go.html#3125438">offsetMinutes</a></span><span class="op" id="3125570">/</span><span class="num" id="3125571">60</span><span class="op" id="3125573">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125576">if</span>&nbsp;<span class="ident" id="3125579"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125583">!=</span>&nbsp;<span class="builtintype" id="3125586">nil</span>&nbsp;<span class="op" id="3125590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125594">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3125602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125606"><a href="/gostd/encoding/asn1/marshal.go.html#3124822">err</a></span>&nbsp;<span class="op" id="3125610">=</span>&nbsp;<span class="ident" id="3125612"><a href="/gostd/encoding/asn1/marshal.go.html#3123598">marshalTwoDigits</a></span><span class="op" id="3125628">(</span><span class="ident" id="3125629"><a href="/gostd/encoding/asn1/marshal.go.html#3124787">out</a></span><span class="op" id="3125632">,</span>&nbsp;<span class="ident" id="3125634"><a href="/gostd/encoding/asn1/marshal.go.html#3125438">offsetMinutes</a></span><span class="op" id="3125647">%</span><span class="num" id="3125648">60</span><span class="op" id="3125650">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125653">return</span><br>
<span class="lineno"></span><span class="op" id="3125660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3125663">func</span>&nbsp;<span class="ident" id="3125668">stripTagAndLength</span><span class="op" id="3125685">(</span><span class="ident" id="3125686">in</span>&nbsp;<span class="op" id="3125689">[</span><span class="op" id="3125690">]</span><span class="builtintype" id="3125691">byte</span><span class="op" id="3125695">)</span>&nbsp;<span class="op" id="3125697">[</span><span class="op" id="3125698">]</span><span class="builtintype" id="3125699">byte</span>&nbsp;<span class="op" id="3125704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125707">_</span><span class="op" id="3125708">,</span>&nbsp;<span class="ident" id="3125710">offset</span><span class="op" id="3125716">,</span>&nbsp;<span class="ident" id="3125718">err</span>&nbsp;<span class="op" id="3125722">:=</span>&nbsp;<span class="ident" id="3125725"><a href="/gostd/encoding/asn1/asn1.go.html#3097794">parseTagAndLength</a></span><span class="op" id="3125742">(</span><span class="ident" id="3125743"><a href="/gostd/encoding/asn1/marshal.go.html#3125686">in</a></span><span class="op" id="3125745">,</span>&nbsp;<span class="num" id="3125747">0</span><span class="op" id="3125748">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125751">if</span>&nbsp;<span class="ident" id="3125754"><a href="/gostd/encoding/asn1/marshal.go.html#3125718">err</a></span>&nbsp;<span class="op" id="3125758">!=</span>&nbsp;<span class="builtintype" id="3125761">nil</span>&nbsp;<span class="op" id="3125765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125769">return</span>&nbsp;<span class="ident" id="3125776"><a href="/gostd/encoding/asn1/marshal.go.html#3125686">in</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3125780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125783">return</span>&nbsp;<span class="ident" id="3125790"><a href="/gostd/encoding/asn1/marshal.go.html#3125686">in</a></span><span class="op" id="3125792">[</span><span class="ident" id="3125793"><a href="/gostd/encoding/asn1/marshal.go.html#3125710">offset</a></span><span class="op" id="3125799">:</span><span class="op" id="3125800">]</span><br>
<span class="lineno"></span><span class="op" id="3125802">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="3125805">func</span>&nbsp;<span class="ident" id="3125810">marshalBody</span><span class="op" id="3125821">(</span><span class="ident" id="3125822">out</span>&nbsp;<span class="op" id="3125826">*</span><span class="ident" id="3125827"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3125841">,</span>&nbsp;<span class="ident" id="3125843">value</span>&nbsp;<span class="ident" id="3125849"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3125856">.</span><span class="ident" id="3125857"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3125862">,</span>&nbsp;<span class="ident" id="3125864">params</span>&nbsp;<span class="ident" id="3125871"><a href="/gostd/encoding/asn1/common.go.html#3115529">fieldParameters</a></span><span class="op" id="3125886">)</span>&nbsp;<span class="op" id="3125888">(</span><span class="ident" id="3125889">err</span>&nbsp;<span class="builtintype" id="3125893">error</span><span class="op" id="3125898">)</span>&nbsp;<span class="op" id="3125900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125903">switch</span>&nbsp;<span class="ident" id="3125910"><a href="/gostd/encoding/asn1/marshal.go.html#3125843">value</a></span><span class="op" id="3125915">.</span><span class="ident" id="3125916"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3125920">(</span><span class="op" id="3125921">)</span>&nbsp;<span class="op" id="3125923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125926">case</span>&nbsp;<span class="ident" id="3125931"><a href="/gostd/encoding/asn1/asn1.go.html#3101072">timeType</a></span><span class="op" id="3125939">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3125943">t</span>&nbsp;<span class="op" id="3125945">:=</span>&nbsp;<span class="ident" id="3125948"><a href="/gostd/encoding/asn1/marshal.go.html#3125843">value</a></span><span class="op" id="3125953">.</span><span class="ident" id="3125954"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3125963">(</span><span class="op" id="3125964">)</span><span class="op" id="3125965">.</span><span class="op" id="3125966">(</span><span class="ident" id="3125967"><a href="/gostd/encoding/asn1/marshal.go.html#3118564">time</a></span><span class="op" id="3125971">.</span><span class="ident" id="3125972"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3125976">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3125980">if</span>&nbsp;<span class="ident" id="3125983"><a href="/gostd/encoding/asn1/marshal.go.html#3123972">outsideUTCRange</a></span><span class="op" id="3125998">(</span><span class="ident" id="3125999"><a href="/gostd/encoding/asn1/marshal.go.html#3125943">t</a></span><span class="op" id="3126000">)</span>&nbsp;<span class="op" id="3126002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126007">return</span>&nbsp;<span class="ident" id="3126014"><a href="/gostd/encoding/asn1/marshal.go.html#3124470">marshalGeneralizedTime</a></span><span class="op" id="3126036">(</span><span class="ident" id="3126037"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3126040">,</span>&nbsp;<span class="ident" id="3126042"><a href="/gostd/encoding/asn1/marshal.go.html#3125943">t</a></span><span class="op" id="3126043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3126047">}</span>&nbsp;<span class="keyword" id="3126049">else</span>&nbsp;<span class="op" id="3126054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126059">return</span>&nbsp;<span class="ident" id="3126066"><a href="/gostd/encoding/asn1/marshal.go.html#3124070">marshalUTCTime</a></span><span class="op" id="3126080">(</span><span class="ident" id="3126081"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3126084">,</span>&nbsp;<span class="ident" id="3126086"><a href="/gostd/encoding/asn1/marshal.go.html#3125943">t</a></span><span class="op" id="3126087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3126091">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126094">case</span>&nbsp;<span class="ident" id="3126099"><a href="/gostd/encoding/asn1/asn1.go.html#3100855">bitStringType</a></span><span class="op" id="3126112">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126116">return</span>&nbsp;<span class="ident" id="3126123"><a href="/gostd/encoding/asn1/marshal.go.html#3122383">marshalBitString</a></span><span class="op" id="3126139">(</span><span class="ident" id="3126140"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3126143">,</span>&nbsp;<span class="ident" id="3126145"><a href="/gostd/encoding/asn1/marshal.go.html#3125843">value</a></span><span class="op" id="3126150">.</span><span class="ident" id="3126151"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3126160">(</span><span class="op" id="3126161">)</span><span class="op" id="3126162">.</span><span class="op" id="3126163">(</span><span class="ident" id="3126164"><a href="/gostd/encoding/asn1/asn1.go.html#3091159">BitString</a></span><span class="op" id="3126173">)</span><span class="op" id="3126174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126177">case</span>&nbsp;<span class="ident" id="3126182"><a href="/gostd/encoding/asn1/asn1.go.html#3100907">objectIdentifierType</a></span><span class="op" id="3126202">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126206">return</span>&nbsp;<span class="ident" id="3126213"><a href="/gostd/encoding/asn1/marshal.go.html#3122602">marshalObjectIdentifier</a></span><span class="op" id="3126236">(</span><span class="ident" id="3126237"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3126240">,</span>&nbsp;<span class="ident" id="3126242"><a href="/gostd/encoding/asn1/marshal.go.html#3125843">value</a></span><span class="op" id="3126247">.</span><span class="ident" id="3126248"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3126257">(</span><span class="op" id="3126258">)</span><span class="op" id="3126259">.</span><span class="op" id="3126260">(</span><span class="ident" id="3126261"><a href="/gostd/encoding/asn1/asn1.go.html#3092558">ObjectIdentifier</a></span><span class="op" id="3126277">)</span><span class="op" id="3126278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126281">case</span>&nbsp;<span class="ident" id="3126286"><a href="/gostd/encoding/asn1/asn1.go.html#3101231">bigIntType</a></span><span class="op" id="3126296">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126300">return</span>&nbsp;<span class="ident" id="3126307"><a href="/gostd/encoding/asn1/marshal.go.html#3120390">marshalBigInt</a></span><span class="op" id="3126320">(</span><span class="ident" id="3126321"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3126324">,</span>&nbsp;<span class="ident" id="3126326"><a href="/gostd/encoding/asn1/marshal.go.html#3125843">value</a></span><span class="op" id="3126331">.</span><span class="ident" id="3126332"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3126341">(</span><span class="op" id="3126342">)</span><span class="op" id="3126343">.</span><span class="op" id="3126344">(</span><span class="op" id="3126345">*</span><span class="ident" id="3126346"><a href="/gostd/encoding/asn1/marshal.go.html#3118541">big</a></span><span class="op" id="3126349">.</span><span class="ident" id="3126350"><a href="/gostd/math/big/int.go.html#2035985">Int</a></span><span class="op" id="3126353">)</span><span class="op" id="3126354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3126357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126361">switch</span>&nbsp;<span class="ident" id="3126368">v</span>&nbsp;<span class="op" id="3126370">:=</span>&nbsp;<span class="ident" id="3126373"><a href="/gostd/encoding/asn1/marshal.go.html#3125843">value</a></span><span class="op" id="3126378">;</span>&nbsp;<span class="ident" id="3126380"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3126381">.</span><span class="ident" id="3126382"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3126386">(</span><span class="op" id="3126387">)</span>&nbsp;<span class="op" id="3126389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126392">case</span>&nbsp;<span class="ident" id="3126397"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3126404">.</span><span class="ident" id="3126405"><a href="/gostd/reflect/type.go.html#2787897">Bool</a></span><span class="op" id="3126409">:</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126413">if</span>&nbsp;<span class="ident" id="3126416"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3126417">.</span><span class="ident" id="3126418"><a href="/gostd/reflect/value.go.html#2839754">Bool</a></span><span class="op" id="3126422">(</span><span class="op" id="3126423">)</span>&nbsp;<span class="op" id="3126425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126430">return</span>&nbsp;<span class="ident" id="3126437"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3126440">.</span><span class="ident" id="3126441"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3126450">(</span><span class="num" id="3126451">255</span><span class="op" id="3126454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3126458">}</span>&nbsp;<span class="keyword" id="3126460">else</span>&nbsp;<span class="op" id="3126465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126470">return</span>&nbsp;<span class="ident" id="3126477"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3126480">.</span><span class="ident" id="3126481"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="3126490">(</span><span class="num" id="3126491">0</span><span class="op" id="3126492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3126496">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126499">case</span>&nbsp;<span class="ident" id="3126504"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3126511">.</span><span class="ident" id="3126512"><a href="/gostd/reflect/type.go.html#2787903">Int</a></span><span class="op" id="3126515">,</span>&nbsp;<span class="ident" id="3126517"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3126524">.</span><span class="ident" id="3126525"><a href="/gostd/reflect/type.go.html#2787908">Int8</a></span><span class="op" id="3126529">,</span>&nbsp;<span class="ident" id="3126531"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3126538">.</span><span class="ident" id="3126539"><a href="/gostd/reflect/type.go.html#2787914">Int16</a></span><span class="op" id="3126544">,</span>&nbsp;<span class="ident" id="3126546"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3126553">.</span><span class="ident" id="3126554"><a href="/gostd/reflect/type.go.html#2787921">Int32</a></span><span class="op" id="3126559">,</span>&nbsp;<span class="ident" id="3126561"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3126568">.</span><span class="ident" id="3126569"><a href="/gostd/reflect/type.go.html#2787928">Int64</a></span><span class="op" id="3126574">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126578">return</span>&nbsp;<span class="ident" id="3126585"><a href="/gostd/encoding/asn1/marshal.go.html#3120033">marshalInt64</a></span><span class="op" id="3126597">(</span><span class="ident" id="3126598"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3126601">,</span>&nbsp;<span class="builtintype" id="3126603">int64</span><span class="op" id="3126608">(</span><span class="ident" id="3126609"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3126610">.</span><span class="ident" id="3126611"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3126614">(</span><span class="op" id="3126615">)</span><span class="op" id="3126616">)</span><span class="op" id="3126617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126620">case</span>&nbsp;<span class="ident" id="3126625"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3126632">.</span><span class="ident" id="3126633"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span><span class="op" id="3126639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3126643">t</span>&nbsp;<span class="op" id="3126645">:=</span>&nbsp;<span class="ident" id="3126648"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3126649">.</span><span class="ident" id="3126650"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3126654">(</span><span class="op" id="3126655">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3126660">startingField</span>&nbsp;<span class="op" id="3126674">:=</span>&nbsp;<span class="num" id="3126677">0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3126682">//&nbsp;If&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;the&nbsp;structure&nbsp;is&nbsp;a&nbsp;non-empty</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3126740">//&nbsp;RawContents,&nbsp;then&nbsp;we&nbsp;don&#39;t&nbsp;bother&nbsp;serializing&nbsp;the&nbsp;rest.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126801">if</span>&nbsp;<span class="ident" id="3126804"><a href="/gostd/encoding/asn1/marshal.go.html#3126643">t</a></span><span class="op" id="3126805">.</span><span class="ident" id="3126806"><a href="/gostd/reflect/type.go.html#2786550">NumField</a></span><span class="op" id="3126814">(</span><span class="op" id="3126815">)</span>&nbsp;<span class="op" id="3126817">&gt;</span>&nbsp;<span class="num" id="3126819">0</span>&nbsp;<span class="op" id="3126821">&amp;&amp;</span>&nbsp;<span class="ident" id="3126824"><a href="/gostd/encoding/asn1/marshal.go.html#3126643">t</a></span><span class="op" id="3126825">.</span><span class="ident" id="3126826"><a href="/gostd/reflect/type.go.html#2785427">Field</a></span><span class="op" id="3126831">(</span><span class="num" id="3126832">0</span><span class="op" id="3126833">)</span><span class="op" id="3126834">.</span><span class="ident" id="3126835"><a href="/gostd/reflect/type.go.html#2801034">Type</a></span>&nbsp;<span class="op" id="3126840">==</span>&nbsp;<span class="ident" id="3126843"><a href="/gostd/encoding/asn1/asn1.go.html#3101175">rawContentsType</a></span>&nbsp;<span class="op" id="3126859">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3126864">s</span>&nbsp;<span class="op" id="3126866">:=</span>&nbsp;<span class="ident" id="3126869"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3126870">.</span><span class="ident" id="3126871"><a href="/gostd/reflect/value.go.html#2853921">Field</a></span><span class="op" id="3126876">(</span><span class="num" id="3126877">0</span><span class="op" id="3126878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126883">if</span>&nbsp;<span class="ident" id="3126886"><a href="/gostd/encoding/asn1/marshal.go.html#3126864">s</a></span><span class="op" id="3126887">.</span><span class="ident" id="3126888"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3126891">(</span><span class="op" id="3126892">)</span>&nbsp;<span class="op" id="3126894">&gt;</span>&nbsp;<span class="num" id="3126896">0</span>&nbsp;<span class="op" id="3126898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3126904">bytes</span>&nbsp;<span class="op" id="3126910">:=</span>&nbsp;<span class="builtinfunc" id="3126913">make</span><span class="op" id="3126917">(</span><span class="op" id="3126918">[</span><span class="op" id="3126919">]</span><span class="builtintype" id="3126920">byte</span><span class="op" id="3126924">,</span>&nbsp;<span class="ident" id="3126926"><a href="/gostd/encoding/asn1/marshal.go.html#3126864">s</a></span><span class="op" id="3126927">.</span><span class="ident" id="3126928"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3126931">(</span><span class="op" id="3126932">)</span><span class="op" id="3126933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3126939">for</span>&nbsp;<span class="ident" id="3126943">i</span>&nbsp;<span class="op" id="3126945">:=</span>&nbsp;<span class="num" id="3126948">0</span><span class="op" id="3126949">;</span>&nbsp;<span class="ident" id="3126951"><a href="/gostd/encoding/asn1/marshal.go.html#3126943">i</a></span>&nbsp;<span class="op" id="3126953">&lt;</span>&nbsp;<span class="ident" id="3126955"><a href="/gostd/encoding/asn1/marshal.go.html#3126864">s</a></span><span class="op" id="3126956">.</span><span class="ident" id="3126957"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3126960">(</span><span class="op" id="3126961">)</span><span class="op" id="3126962">;</span>&nbsp;<span class="ident" id="3126964"><a href="/gostd/encoding/asn1/marshal.go.html#3126943">i</a></span><span class="op" id="3126965">++</span>&nbsp;<span class="op" id="3126968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3126975"><a href="/gostd/encoding/asn1/marshal.go.html#3126904">bytes</a></span><span class="op" id="3126980">[</span><span class="ident" id="3126981"><a href="/gostd/encoding/asn1/marshal.go.html#3126943">i</a></span><span class="op" id="3126982">]</span>&nbsp;<span class="op" id="3126984">=</span>&nbsp;<span class="builtintype" id="3126986">uint8</span><span class="op" id="3126991">(</span><span class="ident" id="3126992"><a href="/gostd/encoding/asn1/marshal.go.html#3126864">s</a></span><span class="op" id="3126993">.</span><span class="ident" id="3126994"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="3126999">(</span><span class="ident" id="3127000"><a href="/gostd/encoding/asn1/marshal.go.html#3126943">i</a></span><span class="op" id="3127001">)</span><span class="op" id="3127002">.</span><span class="ident" id="3127003"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3127007">(</span><span class="op" id="3127008">)</span><span class="op" id="3127009">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3127015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3127021">/*&nbsp;The&nbsp;RawContents&nbsp;will&nbsp;contain&nbsp;the&nbsp;tag&nbsp;and<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;length&nbsp;fields&nbsp;but&nbsp;we&#39;ll&nbsp;also&nbsp;be&nbsp;writing<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;those&nbsp;ourselves,&nbsp;so&nbsp;we&nbsp;strip&nbsp;them&nbsp;out&nbsp;of<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;bytes&nbsp;*/</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3127180">_</span><span class="op" id="3127181">,</span>&nbsp;<span class="ident" id="3127183"><a href="/gostd/encoding/asn1/marshal.go.html#3125889">err</a></span>&nbsp;<span class="op" id="3127187">=</span>&nbsp;<span class="ident" id="3127189"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3127192">.</span><span class="ident" id="3127193"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3127198">(</span><span class="ident" id="3127199"><a href="/gostd/encoding/asn1/marshal.go.html#3125668">stripTagAndLength</a></span><span class="op" id="3127216">(</span><span class="ident" id="3127217"><a href="/gostd/encoding/asn1/marshal.go.html#3126904">bytes</a></span><span class="op" id="3127222">)</span><span class="op" id="3127223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127229">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3127239">}</span>&nbsp;<span class="keyword" id="3127241">else</span>&nbsp;<span class="op" id="3127246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3127252"><a href="/gostd/encoding/asn1/marshal.go.html#3126660">startingField</a></span>&nbsp;<span class="op" id="3127266">=</span>&nbsp;<span class="num" id="3127268">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3127273">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3127277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127282">for</span>&nbsp;<span class="ident" id="3127286">i</span>&nbsp;<span class="op" id="3127288">:=</span>&nbsp;<span class="ident" id="3127291"><a href="/gostd/encoding/asn1/marshal.go.html#3126660">startingField</a></span><span class="op" id="3127304">;</span>&nbsp;<span class="ident" id="3127306"><a href="/gostd/encoding/asn1/marshal.go.html#3127286">i</a></span>&nbsp;<span class="op" id="3127308">&lt;</span>&nbsp;<span class="ident" id="3127310"><a href="/gostd/encoding/asn1/marshal.go.html#3126643">t</a></span><span class="op" id="3127311">.</span><span class="ident" id="3127312"><a href="/gostd/reflect/type.go.html#2786550">NumField</a></span><span class="op" id="3127320">(</span><span class="op" id="3127321">)</span><span class="op" id="3127322">;</span>&nbsp;<span class="ident" id="3127324"><a href="/gostd/encoding/asn1/marshal.go.html#3127286">i</a></span><span class="op" id="3127325">++</span>&nbsp;<span class="op" id="3127328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127333">var</span>&nbsp;<span class="ident" id="3127337">pre</span>&nbsp;<span class="op" id="3127341">*</span><span class="ident" id="3127342"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3127360"><a href="/gostd/encoding/asn1/marshal.go.html#3127337">pre</a></span><span class="op" id="3127363">,</span>&nbsp;<span class="ident" id="3127365"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span>&nbsp;<span class="op" id="3127369">=</span>&nbsp;<span class="ident" id="3127371"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3127374">.</span><span class="ident" id="3127375"><a href="/gostd/encoding/asn1/marshal.go.html#3119021">fork</a></span><span class="op" id="3127379">(</span><span class="op" id="3127380">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3127385"><a href="/gostd/encoding/asn1/marshal.go.html#3125889">err</a></span>&nbsp;<span class="op" id="3127389">=</span>&nbsp;<span class="ident" id="3127391"><a href="/gostd/encoding/asn1/marshal.go.html#3128278">marshalField</a></span><span class="op" id="3127403">(</span><span class="ident" id="3127404"><a href="/gostd/encoding/asn1/marshal.go.html#3127337">pre</a></span><span class="op" id="3127407">,</span>&nbsp;<span class="ident" id="3127409"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3127410">.</span><span class="ident" id="3127411"><a href="/gostd/reflect/value.go.html#2853921">Field</a></span><span class="op" id="3127416">(</span><span class="ident" id="3127417"><a href="/gostd/encoding/asn1/marshal.go.html#3127286">i</a></span><span class="op" id="3127418">)</span><span class="op" id="3127419">,</span>&nbsp;<span class="ident" id="3127421"><a href="/gostd/encoding/asn1/common.go.html#3116338">parseFieldParameters</a></span><span class="op" id="3127441">(</span><span class="ident" id="3127442"><a href="/gostd/encoding/asn1/marshal.go.html#3126643">t</a></span><span class="op" id="3127443">.</span><span class="ident" id="3127444"><a href="/gostd/reflect/type.go.html#2785427">Field</a></span><span class="op" id="3127449">(</span><span class="ident" id="3127450"><a href="/gostd/encoding/asn1/marshal.go.html#3127286">i</a></span><span class="op" id="3127451">)</span><span class="op" id="3127452">.</span><span class="ident" id="3127453"><a href="/gostd/reflect/type.go.html#2801069">Tag</a></span><span class="op" id="3127456">.</span><span class="ident" id="3127457"><a href="/gostd/reflect/type.go.html#2801940">Get</a></span><span class="op" id="3127460">(</span><span class="string" id="3127461">&#34;asn1&#34;</span><span class="op" id="3127467">)</span><span class="op" id="3127468">)</span><span class="op" id="3127469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127474">if</span>&nbsp;<span class="ident" id="3127477"><a href="/gostd/encoding/asn1/marshal.go.html#3125889">err</a></span>&nbsp;<span class="op" id="3127481">!=</span>&nbsp;<span class="builtintype" id="3127484">nil</span>&nbsp;<span class="op" id="3127488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127494">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3127504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3127508">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127512">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127520">case</span>&nbsp;<span class="ident" id="3127525"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3127532">.</span><span class="ident" id="3127533"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="3127538">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3127542">sliceType</span>&nbsp;<span class="op" id="3127552">:=</span>&nbsp;<span class="ident" id="3127555"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3127556">.</span><span class="ident" id="3127557"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3127561">(</span><span class="op" id="3127562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127566">if</span>&nbsp;<span class="ident" id="3127569"><a href="/gostd/encoding/asn1/marshal.go.html#3127542">sliceType</a></span><span class="op" id="3127578">.</span><span class="ident" id="3127579"><a href="/gostd/reflect/type.go.html#2785263">Elem</a></span><span class="op" id="3127583">(</span><span class="op" id="3127584">)</span><span class="op" id="3127585">.</span><span class="ident" id="3127586"><a href="/gostd/reflect/type.go.html#2783619">Kind</a></span><span class="op" id="3127590">(</span><span class="op" id="3127591">)</span>&nbsp;<span class="op" id="3127593">==</span>&nbsp;<span class="ident" id="3127596"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3127603">.</span><span class="ident" id="3127604"><a href="/gostd/reflect/type.go.html#2787941">Uint8</a></span>&nbsp;<span class="op" id="3127610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3127615">bytes</span>&nbsp;<span class="op" id="3127621">:=</span>&nbsp;<span class="builtinfunc" id="3127624">make</span><span class="op" id="3127628">(</span><span class="op" id="3127629">[</span><span class="op" id="3127630">]</span><span class="builtintype" id="3127631">byte</span><span class="op" id="3127635">,</span>&nbsp;<span class="ident" id="3127637"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3127638">.</span><span class="ident" id="3127639"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3127642">(</span><span class="op" id="3127643">)</span><span class="op" id="3127644">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127649">for</span>&nbsp;<span class="ident" id="3127653">i</span>&nbsp;<span class="op" id="3127655">:=</span>&nbsp;<span class="num" id="3127658">0</span><span class="op" id="3127659">;</span>&nbsp;<span class="ident" id="3127661"><a href="/gostd/encoding/asn1/marshal.go.html#3127653">i</a></span>&nbsp;<span class="op" id="3127663">&lt;</span>&nbsp;<span class="ident" id="3127665"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3127666">.</span><span class="ident" id="3127667"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3127670">(</span><span class="op" id="3127671">)</span><span class="op" id="3127672">;</span>&nbsp;<span class="ident" id="3127674"><a href="/gostd/encoding/asn1/marshal.go.html#3127653">i</a></span><span class="op" id="3127675">++</span>&nbsp;<span class="op" id="3127678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3127684"><a href="/gostd/encoding/asn1/marshal.go.html#3127615">bytes</a></span><span class="op" id="3127689">[</span><span class="ident" id="3127690"><a href="/gostd/encoding/asn1/marshal.go.html#3127653">i</a></span><span class="op" id="3127691">]</span>&nbsp;<span class="op" id="3127693">=</span>&nbsp;<span class="builtintype" id="3127695">uint8</span><span class="op" id="3127700">(</span><span class="ident" id="3127701"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3127702">.</span><span class="ident" id="3127703"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="3127708">(</span><span class="ident" id="3127709"><a href="/gostd/encoding/asn1/marshal.go.html#3127653">i</a></span><span class="op" id="3127710">)</span><span class="op" id="3127711">.</span><span class="ident" id="3127712"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3127716">(</span><span class="op" id="3127717">)</span><span class="op" id="3127718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3127723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3127728">_</span><span class="op" id="3127729">,</span>&nbsp;<span class="ident" id="3127731"><a href="/gostd/encoding/asn1/marshal.go.html#3125889">err</a></span>&nbsp;<span class="op" id="3127735">=</span>&nbsp;<span class="ident" id="3127737"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3127740">.</span><span class="ident" id="3127741"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3127746">(</span><span class="ident" id="3127747"><a href="/gostd/encoding/asn1/marshal.go.html#3127615">bytes</a></span><span class="op" id="3127752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127757">return</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3127766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127771">var</span>&nbsp;<span class="ident" id="3127775">fp</span>&nbsp;<span class="ident" id="3127778"><a href="/gostd/encoding/asn1/common.go.html#3115529">fieldParameters</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127796">for</span>&nbsp;<span class="ident" id="3127800">i</span>&nbsp;<span class="op" id="3127802">:=</span>&nbsp;<span class="num" id="3127805">0</span><span class="op" id="3127806">;</span>&nbsp;<span class="ident" id="3127808"><a href="/gostd/encoding/asn1/marshal.go.html#3127800">i</a></span>&nbsp;<span class="op" id="3127810">&lt;</span>&nbsp;<span class="ident" id="3127812"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3127813">.</span><span class="ident" id="3127814"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3127817">(</span><span class="op" id="3127818">)</span><span class="op" id="3127819">;</span>&nbsp;<span class="ident" id="3127821"><a href="/gostd/encoding/asn1/marshal.go.html#3127800">i</a></span><span class="op" id="3127822">++</span>&nbsp;<span class="op" id="3127825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127830">var</span>&nbsp;<span class="ident" id="3127834">pre</span>&nbsp;<span class="op" id="3127838">*</span><span class="ident" id="3127839"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3127857"><a href="/gostd/encoding/asn1/marshal.go.html#3127834">pre</a></span><span class="op" id="3127860">,</span>&nbsp;<span class="ident" id="3127862"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span>&nbsp;<span class="op" id="3127866">=</span>&nbsp;<span class="ident" id="3127868"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3127871">.</span><span class="ident" id="3127872"><a href="/gostd/encoding/asn1/marshal.go.html#3119021">fork</a></span><span class="op" id="3127876">(</span><span class="op" id="3127877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3127882"><a href="/gostd/encoding/asn1/marshal.go.html#3125889">err</a></span>&nbsp;<span class="op" id="3127886">=</span>&nbsp;<span class="ident" id="3127888"><a href="/gostd/encoding/asn1/marshal.go.html#3128278">marshalField</a></span><span class="op" id="3127900">(</span><span class="ident" id="3127901"><a href="/gostd/encoding/asn1/marshal.go.html#3127834">pre</a></span><span class="op" id="3127904">,</span>&nbsp;<span class="ident" id="3127906"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3127907">.</span><span class="ident" id="3127908"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="3127913">(</span><span class="ident" id="3127914"><a href="/gostd/encoding/asn1/marshal.go.html#3127800">i</a></span><span class="op" id="3127915">)</span><span class="op" id="3127916">,</span>&nbsp;<span class="ident" id="3127918"><a href="/gostd/encoding/asn1/marshal.go.html#3127775">fp</a></span><span class="op" id="3127920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127925">if</span>&nbsp;<span class="ident" id="3127928"><a href="/gostd/encoding/asn1/marshal.go.html#3125889">err</a></span>&nbsp;<span class="op" id="3127932">!=</span>&nbsp;<span class="builtintype" id="3127935">nil</span>&nbsp;<span class="op" id="3127939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127945">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3127955">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3127959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127963">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127971">case</span>&nbsp;<span class="ident" id="3127976"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3127983">.</span><span class="ident" id="3127984"><a href="/gostd/reflect/type.go.html#2788069">String</a></span><span class="op" id="3127990">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3127994">switch</span>&nbsp;<span class="ident" id="3128001"><a href="/gostd/encoding/asn1/marshal.go.html#3125864">params</a></span><span class="op" id="3128007">.</span><span class="ident" id="3128008"><a href="/gostd/encoding/asn1/common.go.html#3115877">stringType</a></span>&nbsp;<span class="op" id="3128019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128023">case</span>&nbsp;<span class="ident" id="3128028"><a href="/gostd/encoding/asn1/common.go.html#3114248">tagIA5String</a></span><span class="op" id="3128040">:</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128045">return</span>&nbsp;<span class="ident" id="3128052"><a href="/gostd/encoding/asn1/marshal.go.html#3123259">marshalIA5String</a></span><span class="op" id="3128068">(</span><span class="ident" id="3128069"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3128072">,</span>&nbsp;<span class="ident" id="3128074"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3128075">.</span><span class="ident" id="3128076"><a href="/gostd/reflect/value.go.html#2879739">String</a></span><span class="op" id="3128082">(</span><span class="op" id="3128083">)</span><span class="op" id="3128084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128088">case</span>&nbsp;<span class="ident" id="3128093"><a href="/gostd/encoding/asn1/common.go.html#3114198">tagPrintableString</a></span><span class="op" id="3128111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128116">return</span>&nbsp;<span class="ident" id="3128123"><a href="/gostd/encoding/asn1/marshal.go.html#3123010">marshalPrintableString</a></span><span class="op" id="3128145">(</span><span class="ident" id="3128146"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3128149">,</span>&nbsp;<span class="ident" id="3128151"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3128152">.</span><span class="ident" id="3128153"><a href="/gostd/reflect/value.go.html#2879739">String</a></span><span class="op" id="3128159">(</span><span class="op" id="3128160">)</span><span class="op" id="3128161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128165">default</span><span class="op" id="3128172">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128177">return</span>&nbsp;<span class="ident" id="3128184"><a href="/gostd/encoding/asn1/marshal.go.html#3123488">marshalUTF8String</a></span><span class="op" id="3128201">(</span><span class="ident" id="3128202"><a href="/gostd/encoding/asn1/marshal.go.html#3125822">out</a></span><span class="op" id="3128205">,</span>&nbsp;<span class="ident" id="3128207"><a href="/gostd/encoding/asn1/marshal.go.html#3126368">v</a></span><span class="op" id="3128208">.</span><span class="ident" id="3128209"><a href="/gostd/reflect/value.go.html#2879739">String</a></span><span class="op" id="3128215">(</span><span class="op" id="3128216">)</span><span class="op" id="3128217">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3128221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3128224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128228">return</span>&nbsp;<span class="ident" id="3128235"><a href="/gostd/encoding/asn1/asn1.go.html#3088765">StructuralError</a></span><span class="op" id="3128250">{</span><span class="string" id="3128251">&#34;unknown&nbsp;Go&nbsp;type&#34;</span><span class="op" id="3128268">}</span><br>
<span class="lineno"></span><span class="op" id="3128270">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="3128273">func</span>&nbsp;<span class="ident" id="3128278">marshalField</span><span class="op" id="3128290">(</span><span class="ident" id="3128291">out</span>&nbsp;<span class="op" id="3128295">*</span><span class="ident" id="3128296"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><span class="op" id="3128310">,</span>&nbsp;<span class="ident" id="3128312">v</span>&nbsp;<span class="ident" id="3128314"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3128321">.</span><span class="ident" id="3128322"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3128327">,</span>&nbsp;<span class="ident" id="3128329">params</span>&nbsp;<span class="ident" id="3128336"><a href="/gostd/encoding/asn1/common.go.html#3115529">fieldParameters</a></span><span class="op" id="3128351">)</span>&nbsp;<span class="op" id="3128353">(</span><span class="ident" id="3128354">err</span>&nbsp;<span class="builtintype" id="3128358">error</span><span class="op" id="3128363">)</span>&nbsp;<span class="op" id="3128365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3128368">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;an&nbsp;interface{}&nbsp;then&nbsp;recurse&nbsp;into&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128425">if</span>&nbsp;<span class="ident" id="3128428"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3128429">.</span><span class="ident" id="3128430"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3128434">(</span><span class="op" id="3128435">)</span>&nbsp;<span class="op" id="3128437">==</span>&nbsp;<span class="ident" id="3128440"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3128447">.</span><span class="ident" id="3128448"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span>&nbsp;<span class="op" id="3128458">&amp;&amp;</span>&nbsp;<span class="ident" id="3128461"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3128462">.</span><span class="ident" id="3128463"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3128467">(</span><span class="op" id="3128468">)</span><span class="op" id="3128469">.</span><span class="ident" id="3128470"><a href="/gostd/reflect/type.go.html#2782716">NumMethod</a></span><span class="op" id="3128479">(</span><span class="op" id="3128480">)</span>&nbsp;<span class="op" id="3128482">==</span>&nbsp;<span class="num" id="3128485">0</span>&nbsp;<span class="op" id="3128487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128491">return</span>&nbsp;<span class="ident" id="3128498"><a href="/gostd/encoding/asn1/marshal.go.html#3128278">marshalField</a></span><span class="op" id="3128510">(</span><span class="ident" id="3128511"><a href="/gostd/encoding/asn1/marshal.go.html#3128291">out</a></span><span class="op" id="3128514">,</span>&nbsp;<span class="ident" id="3128516"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3128517">.</span><span class="ident" id="3128518"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="3128522">(</span><span class="op" id="3128523">)</span><span class="op" id="3128524">,</span>&nbsp;<span class="ident" id="3128526"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3128532">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3128535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128539">if</span>&nbsp;<span class="ident" id="3128542"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3128543">.</span><span class="ident" id="3128544"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3128548">(</span><span class="op" id="3128549">)</span>&nbsp;<span class="op" id="3128551">==</span>&nbsp;<span class="ident" id="3128554"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3128561">.</span><span class="ident" id="3128562"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span>&nbsp;<span class="op" id="3128568">&amp;&amp;</span>&nbsp;<span class="ident" id="3128571"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3128572">.</span><span class="ident" id="3128573"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3128576">(</span><span class="op" id="3128577">)</span>&nbsp;<span class="op" id="3128579">==</span>&nbsp;<span class="num" id="3128582">0</span>&nbsp;<span class="op" id="3128584">&amp;&amp;</span>&nbsp;<span class="ident" id="3128587"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3128593">.</span><span class="ident" id="3128594"><a href="/gostd/encoding/asn1/common.go.html#3116005">omitEmpty</a></span>&nbsp;<span class="op" id="3128604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128608">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3128616">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128620">if</span>&nbsp;<span class="ident" id="3128623"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3128629">.</span><span class="ident" id="3128630"><a href="/gostd/encoding/asn1/common.go.html#3115555">optional</a></span>&nbsp;<span class="op" id="3128639">&amp;&amp;</span>&nbsp;<span class="ident" id="3128642"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3128648">.</span><span class="ident" id="3128649"><a href="/gostd/encoding/asn1/common.go.html#3115733">defaultValue</a></span>&nbsp;<span class="op" id="3128662">!=</span>&nbsp;<span class="builtintype" id="3128665">nil</span>&nbsp;<span class="op" id="3128669">&amp;&amp;</span>&nbsp;<span class="ident" id="3128672"><a href="/gostd/encoding/asn1/asn1.go.html#3110140">canHaveDefaultValue</a></span><span class="op" id="3128691">(</span><span class="ident" id="3128692"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3128693">.</span><span class="ident" id="3128694"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3128698">(</span><span class="op" id="3128699">)</span><span class="op" id="3128700">)</span>&nbsp;<span class="op" id="3128702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3128706">defaultValue</span>&nbsp;<span class="op" id="3128719">:=</span>&nbsp;<span class="ident" id="3128722"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3128729">.</span><span class="ident" id="3128730"><a href="/gostd/reflect/value.go.html#2893570">New</a></span><span class="op" id="3128733">(</span><span class="ident" id="3128734"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3128735">.</span><span class="ident" id="3128736"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3128740">(</span><span class="op" id="3128741">)</span><span class="op" id="3128742">)</span><span class="op" id="3128743">.</span><span class="ident" id="3128744"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="3128748">(</span><span class="op" id="3128749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3128753"><a href="/gostd/encoding/asn1/marshal.go.html#3128706">defaultValue</a></span><span class="op" id="3128765">.</span><span class="ident" id="3128766"><a href="/gostd/reflect/value.go.html#2873471">SetInt</a></span><span class="op" id="3128772">(</span><span class="op" id="3128773">*</span><span class="ident" id="3128774"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3128780">.</span><span class="ident" id="3128781"><a href="/gostd/encoding/asn1/common.go.html#3115733">defaultValue</a></span><span class="op" id="3128793">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128798">if</span>&nbsp;<span class="ident" id="3128801"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3128808">.</span><span class="ident" id="3128809"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="3128818">(</span><span class="ident" id="3128819"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3128820">.</span><span class="ident" id="3128821"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3128830">(</span><span class="op" id="3128831">)</span><span class="op" id="3128832">,</span>&nbsp;<span class="ident" id="3128834"><a href="/gostd/encoding/asn1/marshal.go.html#3128706">defaultValue</a></span><span class="op" id="3128846">.</span><span class="ident" id="3128847"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3128856">(</span><span class="op" id="3128857">)</span><span class="op" id="3128858">)</span>&nbsp;<span class="op" id="3128860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3128865">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3128874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3128877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3128881">//&nbsp;If&nbsp;no&nbsp;default&nbsp;value&nbsp;is&nbsp;given&nbsp;then&nbsp;the&nbsp;zero&nbsp;value&nbsp;for&nbsp;the&nbsp;type&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3128950">//&nbsp;assumed&nbsp;to&nbsp;be&nbsp;the&nbsp;default&nbsp;value.&nbsp;This&nbsp;isn&#39;t&nbsp;obviously&nbsp;the&nbsp;correct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3129020">//&nbsp;behaviour,&nbsp;but&nbsp;it&#39;s&nbsp;what&nbsp;Go&nbsp;has&nbsp;traditionally&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129076">if</span>&nbsp;<span class="ident" id="3129079"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3129085">.</span><span class="ident" id="3129086"><a href="/gostd/encoding/asn1/common.go.html#3115555">optional</a></span>&nbsp;<span class="op" id="3129095">&amp;&amp;</span>&nbsp;<span class="ident" id="3129098"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3129104">.</span><span class="ident" id="3129105"><a href="/gostd/encoding/asn1/common.go.html#3115733">defaultValue</a></span>&nbsp;<span class="op" id="3129118">==</span>&nbsp;<span class="builtintype" id="3129121">nil</span>&nbsp;<span class="op" id="3129125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129129">if</span>&nbsp;<span class="ident" id="3129132"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3129139">.</span><span class="ident" id="3129140"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="3129149">(</span><span class="ident" id="3129150"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3129151">.</span><span class="ident" id="3129152"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3129161">(</span><span class="op" id="3129162">)</span><span class="op" id="3129163">,</span>&nbsp;<span class="ident" id="3129165"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3129172">.</span><span class="ident" id="3129173"><a href="/gostd/reflect/value.go.html#2893195">Zero</a></span><span class="op" id="3129177">(</span><span class="ident" id="3129178"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3129179">.</span><span class="ident" id="3129180"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3129184">(</span><span class="op" id="3129185">)</span><span class="op" id="3129186">)</span><span class="op" id="3129187">.</span><span class="ident" id="3129188"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3129197">(</span><span class="op" id="3129198">)</span><span class="op" id="3129199">)</span>&nbsp;<span class="op" id="3129201">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129206">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3129215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3129218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129222">if</span>&nbsp;<span class="ident" id="3129225"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3129226">.</span><span class="ident" id="3129227"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3129231">(</span><span class="op" id="3129232">)</span>&nbsp;<span class="op" id="3129234">==</span>&nbsp;<span class="ident" id="3129237"><a href="/gostd/encoding/asn1/asn1.go.html#3101124">rawValueType</a></span>&nbsp;<span class="op" id="3129250">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3129254">rv</span>&nbsp;<span class="op" id="3129257">:=</span>&nbsp;<span class="ident" id="3129260"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3129261">.</span><span class="ident" id="3129262"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3129271">(</span><span class="op" id="3129272">)</span><span class="op" id="3129273">.</span><span class="op" id="3129274">(</span><span class="ident" id="3129275"><a href="/gostd/encoding/asn1/asn1.go.html#3097099">RawValue</a></span><span class="op" id="3129283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129287">if</span>&nbsp;<span class="builtinfunc" id="3129290">len</span><span class="op" id="3129293">(</span><span class="ident" id="3129294"><a href="/gostd/encoding/asn1/marshal.go.html#3129254">rv</a></span><span class="op" id="3129296">.</span><span class="ident" id="3129297"><a href="/gostd/encoding/asn1/asn1.go.html#3097170">FullBytes</a></span><span class="op" id="3129306">)</span>&nbsp;<span class="op" id="3129308">!=</span>&nbsp;<span class="num" id="3129311">0</span>&nbsp;<span class="op" id="3129313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3129318">_</span><span class="op" id="3129319">,</span>&nbsp;<span class="ident" id="3129321"><a href="/gostd/encoding/asn1/marshal.go.html#3128354">err</a></span>&nbsp;<span class="op" id="3129325">=</span>&nbsp;<span class="ident" id="3129327"><a href="/gostd/encoding/asn1/marshal.go.html#3128291">out</a></span><span class="op" id="3129330">.</span><span class="ident" id="3129331"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3129336">(</span><span class="ident" id="3129337"><a href="/gostd/encoding/asn1/marshal.go.html#3129254">rv</a></span><span class="op" id="3129339">.</span><span class="ident" id="3129340"><a href="/gostd/encoding/asn1/asn1.go.html#3097170">FullBytes</a></span><span class="op" id="3129349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3129353">}</span>&nbsp;<span class="keyword" id="3129355">else</span>&nbsp;<span class="op" id="3129360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3129365"><a href="/gostd/encoding/asn1/marshal.go.html#3128354">err</a></span>&nbsp;<span class="op" id="3129369">=</span>&nbsp;<span class="ident" id="3129371"><a href="/gostd/encoding/asn1/marshal.go.html#3121702">marshalTagAndLength</a></span><span class="op" id="3129390">(</span><span class="ident" id="3129391"><a href="/gostd/encoding/asn1/marshal.go.html#3128291">out</a></span><span class="op" id="3129394">,</span>&nbsp;<span class="ident" id="3129396"><a href="/gostd/encoding/asn1/common.go.html#3114470">tagAndLength</a></span><span class="op" id="3129408">{</span><span class="ident" id="3129409"><a href="/gostd/encoding/asn1/marshal.go.html#3129254">rv</a></span><span class="op" id="3129411">.</span><span class="ident" id="3129412"><a href="/gostd/encoding/asn1/asn1.go.html#3097118">Class</a></span><span class="op" id="3129417">,</span>&nbsp;<span class="ident" id="3129419"><a href="/gostd/encoding/asn1/marshal.go.html#3129254">rv</a></span><span class="op" id="3129421">.</span><span class="ident" id="3129422"><a href="/gostd/encoding/asn1/asn1.go.html#3097125">Tag</a></span><span class="op" id="3129425">,</span>&nbsp;<span class="builtinfunc" id="3129427">len</span><span class="op" id="3129430">(</span><span class="ident" id="3129431"><a href="/gostd/encoding/asn1/marshal.go.html#3129254">rv</a></span><span class="op" id="3129433">.</span><span class="ident" id="3129434"><a href="/gostd/encoding/asn1/asn1.go.html#3097151">Bytes</a></span><span class="op" id="3129439">)</span><span class="op" id="3129440">,</span>&nbsp;<span class="ident" id="3129442"><a href="/gostd/encoding/asn1/marshal.go.html#3129254">rv</a></span><span class="op" id="3129444">.</span><span class="ident" id="3129445"><a href="/gostd/encoding/asn1/asn1.go.html#3097134">IsCompound</a></span><span class="op" id="3129455">}</span><span class="op" id="3129456">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129461">if</span>&nbsp;<span class="ident" id="3129464"><a href="/gostd/encoding/asn1/marshal.go.html#3128354">err</a></span>&nbsp;<span class="op" id="3129468">!=</span>&nbsp;<span class="builtintype" id="3129471">nil</span>&nbsp;<span class="op" id="3129475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129481">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3129491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3129496">_</span><span class="op" id="3129497">,</span>&nbsp;<span class="ident" id="3129499"><a href="/gostd/encoding/asn1/marshal.go.html#3128354">err</a></span>&nbsp;<span class="op" id="3129503">=</span>&nbsp;<span class="ident" id="3129505"><a href="/gostd/encoding/asn1/marshal.go.html#3128291">out</a></span><span class="op" id="3129508">.</span><span class="ident" id="3129509"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="3129514">(</span><span class="ident" id="3129515"><a href="/gostd/encoding/asn1/marshal.go.html#3129254">rv</a></span><span class="op" id="3129517">.</span><span class="ident" id="3129518"><a href="/gostd/encoding/asn1/asn1.go.html#3097151">Bytes</a></span><span class="op" id="3129523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3129527">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129531">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3129539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3129543">tag</span><span class="op" id="3129546">,</span>&nbsp;<span class="ident" id="3129548">isCompound</span><span class="op" id="3129558">,</span>&nbsp;<span class="ident" id="3129560">ok</span>&nbsp;<span class="op" id="3129563">:=</span>&nbsp;<span class="ident" id="3129566"><a href="/gostd/encoding/asn1/common.go.html#3117431">getUniversalType</a></span><span class="op" id="3129582">(</span><span class="ident" id="3129583"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3129584">.</span><span class="ident" id="3129585"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3129589">(</span><span class="op" id="3129590">)</span><span class="op" id="3129591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129594">if</span>&nbsp;<span class="op" id="3129597">!</span><span class="ident" id="3129598"><a href="/gostd/encoding/asn1/marshal.go.html#3129560">ok</a></span>&nbsp;<span class="op" id="3129601">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3129605"><a href="/gostd/encoding/asn1/marshal.go.html#3128354">err</a></span>&nbsp;<span class="op" id="3129609">=</span>&nbsp;<span class="ident" id="3129611"><a href="/gostd/encoding/asn1/asn1.go.html#3088765">StructuralError</a></span><span class="op" id="3129626">{</span><span class="ident" id="3129627"><a href="/gostd/encoding/asn1/marshal.go.html#3118528">fmt</a></span><span class="op" id="3129630">.</span><span class="ident" id="3129631"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3129638">(</span><span class="string" id="3129639">&#34;unknown&nbsp;Go&nbsp;type:&nbsp;%v&#34;</span><span class="op" id="3129660">,</span>&nbsp;<span class="ident" id="3129662"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3129663">.</span><span class="ident" id="3129664"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3129668">(</span><span class="op" id="3129669">)</span><span class="op" id="3129670">)</span><span class="op" id="3129671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129675">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3129683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3129686">class</span>&nbsp;<span class="op" id="3129692">:=</span>&nbsp;<span class="ident" id="3129695"><a href="/gostd/encoding/asn1/common.go.html#3114359">classUniversal</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129712">if</span>&nbsp;<span class="ident" id="3129715"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3129721">.</span><span class="ident" id="3129722"><a href="/gostd/encoding/asn1/common.go.html#3115877">stringType</a></span>&nbsp;<span class="op" id="3129733">!=</span>&nbsp;<span class="num" id="3129736">0</span>&nbsp;<span class="op" id="3129738">&amp;&amp;</span>&nbsp;<span class="ident" id="3129741"><a href="/gostd/encoding/asn1/marshal.go.html#3129543">tag</a></span>&nbsp;<span class="op" id="3129745">!=</span>&nbsp;<span class="ident" id="3129748"><a href="/gostd/encoding/asn1/common.go.html#3114198">tagPrintableString</a></span>&nbsp;<span class="op" id="3129767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129771">return</span>&nbsp;<span class="ident" id="3129778"><a href="/gostd/encoding/asn1/asn1.go.html#3088765">StructuralError</a></span><span class="op" id="3129793">{</span><span class="string" id="3129794">&#34;explicit&nbsp;string&nbsp;type&nbsp;given&nbsp;to&nbsp;non-string&nbsp;member&#34;</span><span class="op" id="3129843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3129846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129850">switch</span>&nbsp;<span class="ident" id="3129857"><a href="/gostd/encoding/asn1/marshal.go.html#3129543">tag</a></span>&nbsp;<span class="op" id="3129861">{</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129864">case</span>&nbsp;<span class="ident" id="3129869"><a href="/gostd/encoding/asn1/common.go.html#3114198">tagPrintableString</a></span><span class="op" id="3129887">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3129891">if</span>&nbsp;<span class="ident" id="3129894"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3129900">.</span><span class="ident" id="3129901"><a href="/gostd/encoding/asn1/common.go.html#3115877">stringType</a></span>&nbsp;<span class="op" id="3129912">==</span>&nbsp;<span class="num" id="3129915">0</span>&nbsp;<span class="op" id="3129917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3129922">//&nbsp;This&nbsp;is&nbsp;a&nbsp;string&nbsp;without&nbsp;an&nbsp;explicit&nbsp;string&nbsp;type.&nbsp;We&#39;ll&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3129988">//&nbsp;a&nbsp;PrintableString&nbsp;if&nbsp;the&nbsp;character&nbsp;set&nbsp;in&nbsp;the&nbsp;string&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3130050">//&nbsp;sufficiently&nbsp;limited,&nbsp;otherwise&nbsp;we&#39;ll&nbsp;use&nbsp;a&nbsp;UTF8String.</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130112">for</span>&nbsp;<span class="ident" id="3130116">_</span><span class="op" id="3130117">,</span>&nbsp;<span class="ident" id="3130119">r</span>&nbsp;<span class="op" id="3130121">:=</span>&nbsp;<span class="keyword" id="3130124">range</span>&nbsp;<span class="ident" id="3130130"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3130131">.</span><span class="ident" id="3130132"><a href="/gostd/reflect/value.go.html#2879739">String</a></span><span class="op" id="3130138">(</span><span class="op" id="3130139">)</span>&nbsp;<span class="op" id="3130141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130147">if</span>&nbsp;<span class="ident" id="3130150"><a href="/gostd/encoding/asn1/marshal.go.html#3130119">r</a></span>&nbsp;<span class="op" id="3130152">&gt;=</span>&nbsp;<span class="ident" id="3130155"><a href="/gostd/encoding/asn1/marshal.go.html#3118572">utf8</a></span><span class="op" id="3130159">.</span><span class="ident" id="3130160"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="3130169">||</span>&nbsp;<span class="op" id="3130172">!</span><span class="ident" id="3130173"><a href="/gostd/encoding/asn1/asn1.go.html#3095880">isPrintable</a></span><span class="op" id="3130184">(</span><span class="builtintype" id="3130185">byte</span><span class="op" id="3130189">(</span><span class="ident" id="3130190"><a href="/gostd/encoding/asn1/marshal.go.html#3130119">r</a></span><span class="op" id="3130191">)</span><span class="op" id="3130192">)</span>&nbsp;<span class="op" id="3130194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130201">if</span>&nbsp;<span class="op" id="3130204">!</span><span class="ident" id="3130205"><a href="/gostd/encoding/asn1/marshal.go.html#3118572">utf8</a></span><span class="op" id="3130209">.</span><span class="ident" id="3130210"><a href="/gostd/unicode/utf8/utf8.go.html#1814878">ValidString</a></span><span class="op" id="3130221">(</span><span class="ident" id="3130222"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3130223">.</span><span class="ident" id="3130224"><a href="/gostd/reflect/value.go.html#2879739">String</a></span><span class="op" id="3130230">(</span><span class="op" id="3130231">)</span><span class="op" id="3130232">)</span>&nbsp;<span class="op" id="3130234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130242">return</span>&nbsp;<span class="ident" id="3130249"><a href="/gostd/encoding/asn1/marshal.go.html#3118518">errors</a></span><span class="op" id="3130255">.</span><span class="ident" id="3130256"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3130259">(</span><span class="string" id="3130260">&#34;asn1:&nbsp;string&nbsp;not&nbsp;valid&nbsp;UTF-8&#34;</span><span class="op" id="3130290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130297">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130304"><a href="/gostd/encoding/asn1/marshal.go.html#3129543">tag</a></span>&nbsp;<span class="op" id="3130308">=</span>&nbsp;<span class="ident" id="3130310"><a href="/gostd/encoding/asn1/common.go.html#3114123">tagUTF8String</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130329">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130348">}</span>&nbsp;<span class="keyword" id="3130350">else</span>&nbsp;<span class="op" id="3130355">{</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130360"><a href="/gostd/encoding/asn1/marshal.go.html#3129543">tag</a></span>&nbsp;<span class="op" id="3130364">=</span>&nbsp;<span class="ident" id="3130366"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3130372">.</span><span class="ident" id="3130373"><a href="/gostd/encoding/asn1/common.go.html#3115877">stringType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130389">case</span>&nbsp;<span class="ident" id="3130394"><a href="/gostd/encoding/asn1/common.go.html#3114273">tagUTCTime</a></span><span class="op" id="3130404">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130408">if</span>&nbsp;<span class="ident" id="3130411"><a href="/gostd/encoding/asn1/marshal.go.html#3123972">outsideUTCRange</a></span><span class="op" id="3130426">(</span><span class="ident" id="3130427"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3130428">.</span><span class="ident" id="3130429"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3130438">(</span><span class="op" id="3130439">)</span><span class="op" id="3130440">.</span><span class="op" id="3130441">(</span><span class="ident" id="3130442"><a href="/gostd/encoding/asn1/marshal.go.html#3118564">time</a></span><span class="op" id="3130446">.</span><span class="ident" id="3130447"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3130451">)</span><span class="op" id="3130452">)</span>&nbsp;<span class="op" id="3130454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130459"><a href="/gostd/encoding/asn1/marshal.go.html#3129543">tag</a></span>&nbsp;<span class="op" id="3130463">=</span>&nbsp;<span class="ident" id="3130465"><a href="/gostd/encoding/asn1/common.go.html#3114298">tagGeneralizedTime</a></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130493">if</span>&nbsp;<span class="ident" id="3130496"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3130502">.</span><span class="ident" id="3130503"><a href="/gostd/encoding/asn1/common.go.html#3115940">set</a></span>&nbsp;<span class="op" id="3130507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130511">if</span>&nbsp;<span class="ident" id="3130514"><a href="/gostd/encoding/asn1/marshal.go.html#3129543">tag</a></span>&nbsp;<span class="op" id="3130518">!=</span>&nbsp;<span class="ident" id="3130521"><a href="/gostd/encoding/asn1/common.go.html#3114148">tagSequence</a></span>&nbsp;<span class="op" id="3130533">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130538">return</span>&nbsp;<span class="ident" id="3130545"><a href="/gostd/encoding/asn1/asn1.go.html#3088765">StructuralError</a></span><span class="op" id="3130560">{</span><span class="string" id="3130561">&#34;non&nbsp;sequence&nbsp;tagged&nbsp;as&nbsp;set&#34;</span><span class="op" id="3130589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130597"><a href="/gostd/encoding/asn1/marshal.go.html#3129543">tag</a></span>&nbsp;<span class="op" id="3130601">=</span>&nbsp;<span class="ident" id="3130603"><a href="/gostd/encoding/asn1/common.go.html#3114173">tagSet</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130615">tags</span><span class="op" id="3130619">,</span>&nbsp;<span class="ident" id="3130621">body</span>&nbsp;<span class="op" id="3130626">:=</span>&nbsp;<span class="ident" id="3130629"><a href="/gostd/encoding/asn1/marshal.go.html#3128291">out</a></span><span class="op" id="3130632">.</span><span class="ident" id="3130633"><a href="/gostd/encoding/asn1/marshal.go.html#3119021">fork</a></span><span class="op" id="3130637">(</span><span class="op" id="3130638">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130642"><a href="/gostd/encoding/asn1/marshal.go.html#3128354">err</a></span>&nbsp;<span class="op" id="3130646">=</span>&nbsp;<span class="ident" id="3130648"><a href="/gostd/encoding/asn1/marshal.go.html#3125810">marshalBody</a></span><span class="op" id="3130659">(</span><span class="ident" id="3130660"><a href="/gostd/encoding/asn1/marshal.go.html#3130621">body</a></span><span class="op" id="3130664">,</span>&nbsp;<span class="ident" id="3130666"><a href="/gostd/encoding/asn1/marshal.go.html#3128312">v</a></span><span class="op" id="3130667">,</span>&nbsp;<span class="ident" id="3130669"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3130675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130678">if</span>&nbsp;<span class="ident" id="3130681"><a href="/gostd/encoding/asn1/marshal.go.html#3128354">err</a></span>&nbsp;<span class="op" id="3130685">!=</span>&nbsp;<span class="builtintype" id="3130688">nil</span>&nbsp;<span class="op" id="3130692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130696">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130708">bodyLen</span>&nbsp;<span class="op" id="3130716">:=</span>&nbsp;<span class="ident" id="3130719"><a href="/gostd/encoding/asn1/marshal.go.html#3130621">body</a></span><span class="op" id="3130723">.</span><span class="ident" id="3130724"><a href="/gostd/encoding/asn1/marshal.go.html#3119237">Len</a></span><span class="op" id="3130727">(</span><span class="op" id="3130728">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130732">var</span>&nbsp;<span class="ident" id="3130736">explicitTag</span>&nbsp;<span class="op" id="3130748">*</span><span class="ident" id="3130749"><a href="/gostd/encoding/asn1/marshal.go.html#3118828">forkableWriter</a></span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130765">if</span>&nbsp;<span class="ident" id="3130768"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3130774">.</span><span class="ident" id="3130775"><a href="/gostd/encoding/asn1/common.go.html#3115610">explicit</a></span>&nbsp;<span class="op" id="3130784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130788"><a href="/gostd/encoding/asn1/marshal.go.html#3130736">explicitTag</a></span><span class="op" id="3130799">,</span>&nbsp;<span class="ident" id="3130801"><a href="/gostd/encoding/asn1/marshal.go.html#3130615">tags</a></span>&nbsp;<span class="op" id="3130806">=</span>&nbsp;<span class="ident" id="3130808"><a href="/gostd/encoding/asn1/marshal.go.html#3130615">tags</a></span><span class="op" id="3130812">.</span><span class="ident" id="3130813"><a href="/gostd/encoding/asn1/marshal.go.html#3119021">fork</a></span><span class="op" id="3130817">(</span><span class="op" id="3130818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3130825">if</span>&nbsp;<span class="op" id="3130828">!</span><span class="ident" id="3130829"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3130835">.</span><span class="ident" id="3130836"><a href="/gostd/encoding/asn1/common.go.html#3115610">explicit</a></span>&nbsp;<span class="op" id="3130845">&amp;&amp;</span>&nbsp;<span class="ident" id="3130848"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3130854">.</span><span class="ident" id="3130855"><a href="/gostd/encoding/asn1/common.go.html#3115811">tag</a></span>&nbsp;<span class="op" id="3130859">!=</span>&nbsp;<span class="builtintype" id="3130862">nil</span>&nbsp;<span class="op" id="3130866">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3130870">//&nbsp;implicit&nbsp;tag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130889"><a href="/gostd/encoding/asn1/marshal.go.html#3129543">tag</a></span>&nbsp;<span class="op" id="3130893">=</span>&nbsp;<span class="op" id="3130895">*</span><span class="ident" id="3130896"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3130902">.</span><span class="ident" id="3130903"><a href="/gostd/encoding/asn1/common.go.html#3115811">tag</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130909"><a href="/gostd/encoding/asn1/marshal.go.html#3129686">class</a></span>&nbsp;<span class="op" id="3130915">=</span>&nbsp;<span class="ident" id="3130917"><a href="/gostd/encoding/asn1/common.go.html#3114411">classContextSpecific</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3130939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3130943"><a href="/gostd/encoding/asn1/marshal.go.html#3128354">err</a></span>&nbsp;<span class="op" id="3130947">=</span>&nbsp;<span class="ident" id="3130949"><a href="/gostd/encoding/asn1/marshal.go.html#3121702">marshalTagAndLength</a></span><span class="op" id="3130968">(</span><span class="ident" id="3130969"><a href="/gostd/encoding/asn1/marshal.go.html#3130615">tags</a></span><span class="op" id="3130973">,</span>&nbsp;<span class="ident" id="3130975"><a href="/gostd/encoding/asn1/common.go.html#3114470">tagAndLength</a></span><span class="op" id="3130987">{</span><span class="ident" id="3130988"><a href="/gostd/encoding/asn1/marshal.go.html#3129686">class</a></span><span class="op" id="3130993">,</span>&nbsp;<span class="ident" id="3130995"><a href="/gostd/encoding/asn1/marshal.go.html#3129543">tag</a></span><span class="op" id="3130998">,</span>&nbsp;<span class="ident" id="3131000"><a href="/gostd/encoding/asn1/marshal.go.html#3130708">bodyLen</a></span><span class="op" id="3131007">,</span>&nbsp;<span class="ident" id="3131009"><a href="/gostd/encoding/asn1/marshal.go.html#3129548">isCompound</a></span><span class="op" id="3131019">}</span><span class="op" id="3131020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3131023">if</span>&nbsp;<span class="ident" id="3131026"><a href="/gostd/encoding/asn1/marshal.go.html#3128354">err</a></span>&nbsp;<span class="op" id="3131030">!=</span>&nbsp;<span class="builtintype" id="3131033">nil</span>&nbsp;<span class="op" id="3131037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3131041">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3131049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3131053">if</span>&nbsp;<span class="ident" id="3131056"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3131062">.</span><span class="ident" id="3131063"><a href="/gostd/encoding/asn1/common.go.html#3115610">explicit</a></span>&nbsp;<span class="op" id="3131072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131076"><a href="/gostd/encoding/asn1/marshal.go.html#3128354">err</a></span>&nbsp;<span class="op" id="3131080">=</span>&nbsp;<span class="ident" id="3131082"><a href="/gostd/encoding/asn1/marshal.go.html#3121702">marshalTagAndLength</a></span><span class="op" id="3131101">(</span><span class="ident" id="3131102"><a href="/gostd/encoding/asn1/marshal.go.html#3130736">explicitTag</a></span><span class="op" id="3131113">,</span>&nbsp;<span class="ident" id="3131115"><a href="/gostd/encoding/asn1/common.go.html#3114470">tagAndLength</a></span><span class="op" id="3131127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131132"><a href="/gostd/encoding/asn1/common.go.html#3114493">class</a></span><span class="op" id="3131137">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131144"><a href="/gostd/encoding/asn1/common.go.html#3114411">classContextSpecific</a></span><span class="op" id="3131164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131169"><a href="/gostd/encoding/asn1/common.go.html#3114500">tag</a></span><span class="op" id="3131172">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3131181">*</span><span class="ident" id="3131182"><a href="/gostd/encoding/asn1/marshal.go.html#3128329">params</a></span><span class="op" id="3131188">.</span><span class="ident" id="3131189"><a href="/gostd/encoding/asn1/common.go.html#3115811">tag</a></span><span class="op" id="3131192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131197"><a href="/gostd/encoding/asn1/common.go.html#3114505">length</a></span><span class="op" id="3131203">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131209"><a href="/gostd/encoding/asn1/marshal.go.html#3130708">bodyLen</a></span>&nbsp;<span class="op" id="3131217">+</span>&nbsp;<span class="ident" id="3131219"><a href="/gostd/encoding/asn1/marshal.go.html#3130615">tags</a></span><span class="op" id="3131223">.</span><span class="ident" id="3131224"><a href="/gostd/encoding/asn1/marshal.go.html#3119237">Len</a></span><span class="op" id="3131227">(</span><span class="op" id="3131228">)</span><span class="op" id="3131229">,</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131234"><a href="/gostd/encoding/asn1/common.go.html#3114517">isCompound</a></span><span class="op" id="3131244">:</span>&nbsp;<span class="builtintype" id="3131246">true</span><span class="op" id="3131250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3131254">}</span><span class="op" id="3131255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3131258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3131262">return</span>&nbsp;<span class="builtintype" id="3131269">nil</span><br>
<span class="lineno">625</span><span class="op" id="3131273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3131276">//&nbsp;Marshal&nbsp;returns&nbsp;the&nbsp;ASN.1&nbsp;encoding&nbsp;of&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="3131322">//</span><br>
<span class="lineno"></span><span class="comment" id="3131325">//&nbsp;In&nbsp;addition&nbsp;to&nbsp;the&nbsp;struct&nbsp;tags&nbsp;recognised&nbsp;by&nbsp;Unmarshal,&nbsp;the&nbsp;following&nbsp;can&nbsp;be</span><br>
<span class="lineno">630</span><span class="comment" id="3131405">//&nbsp;used:</span><br>
<span class="lineno"></span><span class="comment" id="3131414">//</span><br>
<span class="lineno"></span><span class="comment" id="3131417">//&nbsp;&nbsp;&nbsp;&nbsp;ia5:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;causes&nbsp;strings&nbsp;to&nbsp;be&nbsp;marshaled&nbsp;as&nbsp;ASN.1,&nbsp;IA5&nbsp;strings</span><br>
<span class="lineno"></span><span class="comment" id="3131479">//&nbsp;&nbsp;&nbsp;&nbsp;omitempty:&nbsp;&nbsp;&nbsp;&nbsp;causes&nbsp;empty&nbsp;slices&nbsp;to&nbsp;be&nbsp;skipped</span><br>
<span class="lineno"></span><span class="comment" id="3131527">//&nbsp;&nbsp;&nbsp;&nbsp;printable:&nbsp;&nbsp;&nbsp;&nbsp;causes&nbsp;strings&nbsp;to&nbsp;be&nbsp;marshaled&nbsp;as&nbsp;ASN.1,&nbsp;PrintableString&nbsp;strings.</span><br>
<span class="lineno">635</span><span class="comment" id="3131607">//&nbsp;&nbsp;&nbsp;&nbsp;utf8:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;causes&nbsp;strings&nbsp;to&nbsp;be&nbsp;marshaled&nbsp;as&nbsp;ASN.1,&nbsp;UTF8&nbsp;strings</span><br>
<span class="lineno"></span><span class="keyword" id="3131671">func</span>&nbsp;<span class="ident" id="3131676">Marshal</span><span class="op" id="3131683">(</span><span class="ident" id="3131684">val</span>&nbsp;<span class="keyword" id="3131688">interface</span><span class="op" id="3131697">{</span><span class="op" id="3131698">}</span><span class="op" id="3131699">)</span>&nbsp;<span class="op" id="3131701">(</span><span class="op" id="3131702">[</span><span class="op" id="3131703">]</span><span class="builtintype" id="3131704">byte</span><span class="op" id="3131708">,</span>&nbsp;<span class="builtintype" id="3131710">error</span><span class="op" id="3131715">)</span>&nbsp;<span class="op" id="3131717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3131720">var</span>&nbsp;<span class="ident" id="3131724">out</span>&nbsp;<span class="ident" id="3131728"><a href="/gostd/encoding/asn1/marshal.go.html#3118509">bytes</a></span><span class="op" id="3131733">.</span><span class="ident" id="3131734"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131742">v</span>&nbsp;<span class="op" id="3131744">:=</span>&nbsp;<span class="ident" id="3131747"><a href="/gostd/encoding/asn1/marshal.go.html#3118553">reflect</a></span><span class="op" id="3131754">.</span><span class="ident" id="3131755"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3131762">(</span><span class="ident" id="3131763"><a href="/gostd/encoding/asn1/marshal.go.html#3131684">val</a></span><span class="op" id="3131766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131769">f</span>&nbsp;<span class="op" id="3131771">:=</span>&nbsp;<span class="ident" id="3131774"><a href="/gostd/encoding/asn1/marshal.go.html#3118902">newForkableWriter</a></span><span class="op" id="3131791">(</span><span class="op" id="3131792">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131795">err</span>&nbsp;<span class="op" id="3131799">:=</span>&nbsp;<span class="ident" id="3131802"><a href="/gostd/encoding/asn1/marshal.go.html#3128278">marshalField</a></span><span class="op" id="3131814">(</span><span class="ident" id="3131815"><a href="/gostd/encoding/asn1/marshal.go.html#3131769">f</a></span><span class="op" id="3131816">,</span>&nbsp;<span class="ident" id="3131818"><a href="/gostd/encoding/asn1/marshal.go.html#3131742">v</a></span><span class="op" id="3131819">,</span>&nbsp;<span class="ident" id="3131821"><a href="/gostd/encoding/asn1/common.go.html#3115529">fieldParameters</a></span><span class="op" id="3131836">{</span><span class="op" id="3131837">}</span><span class="op" id="3131838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3131841">if</span>&nbsp;<span class="ident" id="3131844"><a href="/gostd/encoding/asn1/marshal.go.html#3131795">err</a></span>&nbsp;<span class="op" id="3131848">!=</span>&nbsp;<span class="builtintype" id="3131851">nil</span>&nbsp;<span class="op" id="3131855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3131859">return</span>&nbsp;<span class="builtintype" id="3131866">nil</span><span class="op" id="3131869">,</span>&nbsp;<span class="ident" id="3131871"><a href="/gostd/encoding/asn1/marshal.go.html#3131795">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3131876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3131879">_</span><span class="op" id="3131880">,</span>&nbsp;<span class="ident" id="3131882"><a href="/gostd/encoding/asn1/marshal.go.html#3131795">err</a></span>&nbsp;<span class="op" id="3131886">=</span>&nbsp;<span class="ident" id="3131888"><a href="/gostd/encoding/asn1/marshal.go.html#3131769">f</a></span><span class="op" id="3131889">.</span><span class="ident" id="3131890"><a href="/gostd/encoding/asn1/marshal.go.html#3119394">writeTo</a></span><span class="op" id="3131897">(</span><span class="op" id="3131898">&amp;</span><span class="ident" id="3131899"><a href="/gostd/encoding/asn1/marshal.go.html#3131724">out</a></span><span class="op" id="3131902">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3131905">return</span>&nbsp;<span class="ident" id="3131912"><a href="/gostd/encoding/asn1/marshal.go.html#3131724">out</a></span><span class="op" id="3131915">.</span><span class="ident" id="3131916"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="3131921">(</span><span class="op" id="3131922">)</span><span class="op" id="3131923">,</span>&nbsp;<span class="builtintype" id="3131925">nil</span><br>
<span class="lineno"></span><span class="op" id="3131929">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
