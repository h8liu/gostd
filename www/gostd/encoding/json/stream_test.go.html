<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html" class="current">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7081918">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7081974">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7082028">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7082079">package</span>&nbsp;<span class="ident" id="7082087">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7082093">import</span>&nbsp;<span class="op" id="7082100">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7082103">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7082112">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7082125">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7082132">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7082143">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7082154">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7082164">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="7082167">//&nbsp;Test&nbsp;values&nbsp;for&nbsp;the&nbsp;stream&nbsp;test.</span><br>
<span class="lineno"></span><span class="comment" id="7082203">//&nbsp;One&nbsp;of&nbsp;each&nbsp;JSON&nbsp;kind.</span><br>
<span class="lineno"></span><span class="keyword" id="7082229">var</span>&nbsp;<span class="ident" id="7082233">streamTest</span>&nbsp;<span class="op" id="7082244">=</span>&nbsp;<span class="op" id="7082246">[</span><span class="op" id="7082247">]</span><span class="keyword" id="7082248">interface</span><span class="op" id="7082257">{</span><span class="op" id="7082258">}</span><span class="op" id="7082259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7082262">0.1</span><span class="op" id="7082265">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7082268">&#34;hello&#34;</span><span class="op" id="7082275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7082278">nil</span><span class="op" id="7082281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7082284">true</span><span class="op" id="7082288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7082291">false</span><span class="op" id="7082296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7082299">[</span><span class="op" id="7082300">]</span><span class="keyword" id="7082301">interface</span><span class="op" id="7082310">{</span><span class="op" id="7082311">}</span><span class="op" id="7082312">{</span><span class="string" id="7082313">&#34;a&#34;</span><span class="op" id="7082316">,</span>&nbsp;<span class="string" id="7082318">&#34;b&#34;</span><span class="op" id="7082321">,</span>&nbsp;<span class="string" id="7082323">&#34;c&#34;</span><span class="op" id="7082326">}</span><span class="op" id="7082327">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7082330">map</span><span class="op" id="7082333">[</span><span class="builtintype" id="7082334">string</span><span class="op" id="7082340">]</span><span class="keyword" id="7082341">interface</span><span class="op" id="7082350">{</span><span class="op" id="7082351">}</span><span class="op" id="7082352">{</span><span class="string" id="7082353">&#34;K&#34;</span><span class="op" id="7082358">:</span>&nbsp;<span class="string" id="7082360">&#34;Kelvin&#34;</span><span class="op" id="7082368">,</span>&nbsp;<span class="string" id="7082370">&#34;ß&#34;</span><span class="op" id="7082374">:</span>&nbsp;<span class="string" id="7082376">&#34;long&nbsp;s&#34;</span><span class="op" id="7082384">}</span><span class="op" id="7082385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7082388">3.14</span><span class="op" id="7082392">,</span>&nbsp;<span class="comment" id="7082394">//&nbsp;another&nbsp;value&nbsp;to&nbsp;make&nbsp;sure&nbsp;something&nbsp;can&nbsp;follow&nbsp;map</span><br>
<span class="lineno"></span><span class="op" id="7082449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7082452">var</span>&nbsp;<span class="ident" id="7082456">streamEncoded</span>&nbsp;<span class="op" id="7082470">=</span>&nbsp;<span class="string" id="7082472">`0.1<br>
<span class="lineno">30</span>&#34;hello&#34;<br>
<span class="lineno"></span>null<br>
<span class="lineno"></span>true<br>
<span class="lineno"></span>false<br>
<span class="lineno"></span>[&#34;a&#34;,&#34;b&#34;,&#34;c&#34;]<br>
<span class="lineno">35</span>{&#34;ß&#34;:&#34;long&nbsp;s&#34;,&#34;K&#34;:&#34;Kelvin&#34;}<br>
<span class="lineno"></span>3.14<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7082554">func</span>&nbsp;<span class="ident" id="7082559">TestEncoder</span><span class="op" id="7082570">(</span><span class="ident" id="7082571">t</span>&nbsp;<span class="op" id="7082573">*</span><span class="ident" id="7082574">testing</span><span class="op" id="7082581">.</span><span class="ident" id="7082582">T</span><span class="op" id="7082583">)</span>&nbsp;<span class="op" id="7082585">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7082588">for</span>&nbsp;<span class="ident" id="7082592">i</span>&nbsp;<span class="op" id="7082594">:=</span>&nbsp;<span class="num" id="7082597">0</span><span class="op" id="7082598">;</span>&nbsp;<span class="ident" id="7082600">i</span>&nbsp;<span class="op" id="7082602">&lt;=</span>&nbsp;<span class="builtinfunc" id="7082605">len</span><span class="op" id="7082608">(</span><span class="ident" id="7082609">streamTest</span><span class="op" id="7082619">)</span><span class="op" id="7082620">;</span>&nbsp;<span class="ident" id="7082622">i</span><span class="op" id="7082623">++</span>&nbsp;<span class="op" id="7082626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7082630">var</span>&nbsp;<span class="ident" id="7082634">buf</span>&nbsp;<span class="ident" id="7082638">bytes</span><span class="op" id="7082643">.</span><span class="ident" id="7082644">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7082653">enc</span>&nbsp;<span class="op" id="7082657">:=</span>&nbsp;<span class="ident" id="7082660">NewEncoder</span><span class="op" id="7082670">(</span><span class="op" id="7082671">&amp;</span><span class="ident" id="7082672">buf</span><span class="op" id="7082675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7082679">for</span>&nbsp;<span class="ident" id="7082683">j</span><span class="op" id="7082684">,</span>&nbsp;<span class="ident" id="7082686">v</span>&nbsp;<span class="op" id="7082688">:=</span>&nbsp;<span class="keyword" id="7082691">range</span>&nbsp;<span class="ident" id="7082697">streamTest</span><span class="op" id="7082707">[</span><span class="num" id="7082708">0</span><span class="op" id="7082709">:</span><span class="ident" id="7082710">i</span><span class="op" id="7082711">]</span>&nbsp;<span class="op" id="7082713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7082718">if</span>&nbsp;<span class="ident" id="7082721">err</span>&nbsp;<span class="op" id="7082725">:=</span>&nbsp;<span class="ident" id="7082728">enc</span><span class="op" id="7082731">.</span><span class="ident" id="7082732">Encode</span><span class="op" id="7082738">(</span><span class="ident" id="7082739">v</span><span class="op" id="7082740">)</span><span class="op" id="7082741">;</span>&nbsp;<span class="ident" id="7082743">err</span>&nbsp;<span class="op" id="7082747">!=</span>&nbsp;<span class="builtintype" id="7082750">nil</span>&nbsp;<span class="op" id="7082754">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7082760">t</span><span class="op" id="7082761">.</span><span class="ident" id="7082762">Fatalf</span><span class="op" id="7082768">(</span><span class="string" id="7082769">&#34;encode&nbsp;#%d:&nbsp;%v&#34;</span><span class="op" id="7082785">,</span>&nbsp;<span class="ident" id="7082787">j</span><span class="op" id="7082788">,</span>&nbsp;<span class="ident" id="7082790">err</span><span class="op" id="7082793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7082798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7082802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7082806">if</span>&nbsp;<span class="ident" id="7082809">have</span><span class="op" id="7082813">,</span>&nbsp;<span class="ident" id="7082815">want</span>&nbsp;<span class="op" id="7082820">:=</span>&nbsp;<span class="ident" id="7082823">buf</span><span class="op" id="7082826">.</span><span class="ident" id="7082827">String</span><span class="op" id="7082833">(</span><span class="op" id="7082834">)</span><span class="op" id="7082835">,</span>&nbsp;<span class="ident" id="7082837">nlines</span><span class="op" id="7082843">(</span><span class="ident" id="7082844">streamEncoded</span><span class="op" id="7082857">,</span>&nbsp;<span class="ident" id="7082859">i</span><span class="op" id="7082860">)</span><span class="op" id="7082861">;</span>&nbsp;<span class="ident" id="7082863">have</span>&nbsp;<span class="op" id="7082868">!=</span>&nbsp;<span class="ident" id="7082871">want</span>&nbsp;<span class="op" id="7082876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7082881">t</span><span class="op" id="7082882">.</span><span class="ident" id="7082883">Errorf</span><span class="op" id="7082889">(</span><span class="string" id="7082890">&#34;encoding&nbsp;%d&nbsp;items:&nbsp;mismatch&#34;</span><span class="op" id="7082919">,</span>&nbsp;<span class="ident" id="7082921">i</span><span class="op" id="7082922">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7082927">diff</span><span class="op" id="7082931">(</span><span class="ident" id="7082932">t</span><span class="op" id="7082933">,</span>&nbsp;<span class="op" id="7082935">[</span><span class="op" id="7082936">]</span><span class="builtintype" id="7082937">byte</span><span class="op" id="7082941">(</span><span class="ident" id="7082942">have</span><span class="op" id="7082946">)</span><span class="op" id="7082947">,</span>&nbsp;<span class="op" id="7082949">[</span><span class="op" id="7082950">]</span><span class="builtintype" id="7082951">byte</span><span class="op" id="7082955">(</span><span class="ident" id="7082956">want</span><span class="op" id="7082960">)</span><span class="op" id="7082961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7082966">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7082974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7082977">}</span><br>
<span class="lineno"></span><span class="op" id="7082979">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="7082982">func</span>&nbsp;<span class="ident" id="7082987">TestDecoder</span><span class="op" id="7082998">(</span><span class="ident" id="7082999">t</span>&nbsp;<span class="op" id="7083001">*</span><span class="ident" id="7083002">testing</span><span class="op" id="7083009">.</span><span class="ident" id="7083010">T</span><span class="op" id="7083011">)</span>&nbsp;<span class="op" id="7083013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083016">for</span>&nbsp;<span class="ident" id="7083020">i</span>&nbsp;<span class="op" id="7083022">:=</span>&nbsp;<span class="num" id="7083025">0</span><span class="op" id="7083026">;</span>&nbsp;<span class="ident" id="7083028">i</span>&nbsp;<span class="op" id="7083030">&lt;=</span>&nbsp;<span class="builtinfunc" id="7083033">len</span><span class="op" id="7083036">(</span><span class="ident" id="7083037">streamTest</span><span class="op" id="7083047">)</span><span class="op" id="7083048">;</span>&nbsp;<span class="ident" id="7083050">i</span><span class="op" id="7083051">++</span>&nbsp;<span class="op" id="7083054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7083058">//&nbsp;Use&nbsp;stream&nbsp;without&nbsp;newlines&nbsp;as&nbsp;input,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7083101">//&nbsp;just&nbsp;to&nbsp;stress&nbsp;the&nbsp;decoder&nbsp;even&nbsp;more.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7083144">//&nbsp;Our&nbsp;test&nbsp;input&nbsp;does&nbsp;not&nbsp;include&nbsp;back-to-back&nbsp;numbers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7083203">//&nbsp;Otherwise&nbsp;stripping&nbsp;the&nbsp;newlines&nbsp;would</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7083247">//&nbsp;merge&nbsp;two&nbsp;adjacent&nbsp;JSON&nbsp;values.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083284">var</span>&nbsp;<span class="ident" id="7083288">buf</span>&nbsp;<span class="ident" id="7083292">bytes</span><span class="op" id="7083297">.</span><span class="ident" id="7083298">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083307">for</span>&nbsp;<span class="ident" id="7083311">_</span><span class="op" id="7083312">,</span>&nbsp;<span class="ident" id="7083314">c</span>&nbsp;<span class="op" id="7083316">:=</span>&nbsp;<span class="keyword" id="7083319">range</span>&nbsp;<span class="ident" id="7083325">nlines</span><span class="op" id="7083331">(</span><span class="ident" id="7083332">streamEncoded</span><span class="op" id="7083345">,</span>&nbsp;<span class="ident" id="7083347">i</span><span class="op" id="7083348">)</span>&nbsp;<span class="op" id="7083350">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083355">if</span>&nbsp;<span class="ident" id="7083358">c</span>&nbsp;<span class="op" id="7083360">!=</span>&nbsp;<span class="string" id="7083363">&#39;\n&#39;</span>&nbsp;<span class="op" id="7083368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7083374">buf</span><span class="op" id="7083377">.</span><span class="ident" id="7083378">WriteRune</span><span class="op" id="7083387">(</span><span class="ident" id="7083388">c</span><span class="op" id="7083389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7083402">out</span>&nbsp;<span class="op" id="7083406">:=</span>&nbsp;<span class="builtinfunc" id="7083409">make</span><span class="op" id="7083413">(</span><span class="op" id="7083414">[</span><span class="op" id="7083415">]</span><span class="keyword" id="7083416">interface</span><span class="op" id="7083425">{</span><span class="op" id="7083426">}</span><span class="op" id="7083427">,</span>&nbsp;<span class="ident" id="7083429">i</span><span class="op" id="7083430">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7083434">dec</span>&nbsp;<span class="op" id="7083438">:=</span>&nbsp;<span class="ident" id="7083441">NewDecoder</span><span class="op" id="7083451">(</span><span class="op" id="7083452">&amp;</span><span class="ident" id="7083453">buf</span><span class="op" id="7083456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083460">for</span>&nbsp;<span class="ident" id="7083464">j</span>&nbsp;<span class="op" id="7083466">:=</span>&nbsp;<span class="keyword" id="7083469">range</span>&nbsp;<span class="ident" id="7083475">out</span>&nbsp;<span class="op" id="7083479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083484">if</span>&nbsp;<span class="ident" id="7083487">err</span>&nbsp;<span class="op" id="7083491">:=</span>&nbsp;<span class="ident" id="7083494">dec</span><span class="op" id="7083497">.</span><span class="ident" id="7083498">Decode</span><span class="op" id="7083504">(</span><span class="op" id="7083505">&amp;</span><span class="ident" id="7083506">out</span><span class="op" id="7083509">[</span><span class="ident" id="7083510">j</span><span class="op" id="7083511">]</span><span class="op" id="7083512">)</span><span class="op" id="7083513">;</span>&nbsp;<span class="ident" id="7083515">err</span>&nbsp;<span class="op" id="7083519">!=</span>&nbsp;<span class="builtintype" id="7083522">nil</span>&nbsp;<span class="op" id="7083526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7083532">t</span><span class="op" id="7083533">.</span><span class="ident" id="7083534">Fatalf</span><span class="op" id="7083540">(</span><span class="string" id="7083541">&#34;decode&nbsp;#%d/%d:&nbsp;%v&#34;</span><span class="op" id="7083560">,</span>&nbsp;<span class="ident" id="7083562">j</span><span class="op" id="7083563">,</span>&nbsp;<span class="ident" id="7083565">i</span><span class="op" id="7083566">,</span>&nbsp;<span class="ident" id="7083568">err</span><span class="op" id="7083571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083576">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083584">if</span>&nbsp;<span class="op" id="7083587">!</span><span class="ident" id="7083588">reflect</span><span class="op" id="7083595">.</span><span class="ident" id="7083596">DeepEqual</span><span class="op" id="7083605">(</span><span class="ident" id="7083606">out</span><span class="op" id="7083609">,</span>&nbsp;<span class="ident" id="7083611">streamTest</span><span class="op" id="7083621">[</span><span class="num" id="7083622">0</span><span class="op" id="7083623">:</span><span class="ident" id="7083624">i</span><span class="op" id="7083625">]</span><span class="op" id="7083626">)</span>&nbsp;<span class="op" id="7083628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7083633">t</span><span class="op" id="7083634">.</span><span class="ident" id="7083635">Errorf</span><span class="op" id="7083641">(</span><span class="string" id="7083642">&#34;decoding&nbsp;%d&nbsp;items:&nbsp;mismatch&#34;</span><span class="op" id="7083671">,</span>&nbsp;<span class="ident" id="7083673">i</span><span class="op" id="7083674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083679">for</span>&nbsp;<span class="ident" id="7083683">j</span>&nbsp;<span class="op" id="7083685">:=</span>&nbsp;<span class="keyword" id="7083688">range</span>&nbsp;<span class="ident" id="7083694">out</span>&nbsp;<span class="op" id="7083698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083704">if</span>&nbsp;<span class="op" id="7083707">!</span><span class="ident" id="7083708">reflect</span><span class="op" id="7083715">.</span><span class="ident" id="7083716">DeepEqual</span><span class="op" id="7083725">(</span><span class="ident" id="7083726">out</span><span class="op" id="7083729">[</span><span class="ident" id="7083730">j</span><span class="op" id="7083731">]</span><span class="op" id="7083732">,</span>&nbsp;<span class="ident" id="7083734">streamTest</span><span class="op" id="7083744">[</span><span class="ident" id="7083745">j</span><span class="op" id="7083746">]</span><span class="op" id="7083747">)</span>&nbsp;<span class="op" id="7083749">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7083756">t</span><span class="op" id="7083757">.</span><span class="ident" id="7083758">Errorf</span><span class="op" id="7083764">(</span><span class="string" id="7083765">&#34;#%d:&nbsp;have&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7083787">,</span>&nbsp;<span class="ident" id="7083789">j</span><span class="op" id="7083790">,</span>&nbsp;<span class="ident" id="7083792">out</span><span class="op" id="7083795">[</span><span class="ident" id="7083796">j</span><span class="op" id="7083797">]</span><span class="op" id="7083798">,</span>&nbsp;<span class="ident" id="7083800">streamTest</span><span class="op" id="7083810">[</span><span class="ident" id="7083811">j</span><span class="op" id="7083812">]</span><span class="op" id="7083813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083829">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083837">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083840">}</span><br>
<span class="lineno"></span><span class="op" id="7083842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7083845">func</span>&nbsp;<span class="ident" id="7083850">TestDecoderBuffered</span><span class="op" id="7083869">(</span><span class="ident" id="7083870">t</span>&nbsp;<span class="op" id="7083872">*</span><span class="ident" id="7083873">testing</span><span class="op" id="7083880">.</span><span class="ident" id="7083881">T</span><span class="op" id="7083882">)</span>&nbsp;<span class="op" id="7083884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7083887">r</span>&nbsp;<span class="op" id="7083889">:=</span>&nbsp;<span class="ident" id="7083892">strings</span><span class="op" id="7083899">.</span><span class="ident" id="7083900">NewReader</span><span class="op" id="7083909">(</span><span class="string" id="7083910">`{&#34;Name&#34;:&nbsp;&#34;Gopher&#34;}&nbsp;extra&nbsp;`</span><span class="op" id="7083937">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7083940">var</span>&nbsp;<span class="ident" id="7083944">m</span>&nbsp;<span class="keyword" id="7083946">struct</span>&nbsp;<span class="op" id="7083953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7083957">Name</span>&nbsp;<span class="builtintype" id="7083962">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7083973">d</span>&nbsp;<span class="op" id="7083975">:=</span>&nbsp;<span class="ident" id="7083978">NewDecoder</span><span class="op" id="7083988">(</span><span class="ident" id="7083989">r</span><span class="op" id="7083990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7083993">err</span>&nbsp;<span class="op" id="7083997">:=</span>&nbsp;<span class="ident" id="7084000">d</span><span class="op" id="7084001">.</span><span class="ident" id="7084002">Decode</span><span class="op" id="7084008">(</span><span class="op" id="7084009">&amp;</span><span class="ident" id="7084010">m</span><span class="op" id="7084011">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084014">if</span>&nbsp;<span class="ident" id="7084017">err</span>&nbsp;<span class="op" id="7084021">!=</span>&nbsp;<span class="builtintype" id="7084024">nil</span>&nbsp;<span class="op" id="7084028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084032">t</span><span class="op" id="7084033">.</span><span class="ident" id="7084034">Fatal</span><span class="op" id="7084039">(</span><span class="ident" id="7084040">err</span><span class="op" id="7084043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084049">if</span>&nbsp;<span class="ident" id="7084052">m</span><span class="op" id="7084053">.</span><span class="ident" id="7084054">Name</span>&nbsp;<span class="op" id="7084059">!=</span>&nbsp;<span class="string" id="7084062">&#34;Gopher&#34;</span>&nbsp;<span class="op" id="7084071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084075">t</span><span class="op" id="7084076">.</span><span class="ident" id="7084077">Errorf</span><span class="op" id="7084083">(</span><span class="string" id="7084084">&#34;Name&nbsp;=&nbsp;%q;&nbsp;want&nbsp;Gopher&#34;</span><span class="op" id="7084108">,</span>&nbsp;<span class="ident" id="7084110">m</span><span class="op" id="7084111">.</span><span class="ident" id="7084112">Name</span><span class="op" id="7084116">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084122">rest</span><span class="op" id="7084126">,</span>&nbsp;<span class="ident" id="7084128">err</span>&nbsp;<span class="op" id="7084132">:=</span>&nbsp;<span class="ident" id="7084135">ioutil</span><span class="op" id="7084141">.</span><span class="ident" id="7084142">ReadAll</span><span class="op" id="7084149">(</span><span class="ident" id="7084150">d</span><span class="op" id="7084151">.</span><span class="ident" id="7084152">Buffered</span><span class="op" id="7084160">(</span><span class="op" id="7084161">)</span><span class="op" id="7084162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084165">if</span>&nbsp;<span class="ident" id="7084168">err</span>&nbsp;<span class="op" id="7084172">!=</span>&nbsp;<span class="builtintype" id="7084175">nil</span>&nbsp;<span class="op" id="7084179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084183">t</span><span class="op" id="7084184">.</span><span class="ident" id="7084185">Fatal</span><span class="op" id="7084190">(</span><span class="ident" id="7084191">err</span><span class="op" id="7084194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084197">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084200">if</span>&nbsp;<span class="ident" id="7084203">g</span><span class="op" id="7084204">,</span>&nbsp;<span class="ident" id="7084206">w</span>&nbsp;<span class="op" id="7084208">:=</span>&nbsp;<span class="builtintype" id="7084211">string</span><span class="op" id="7084217">(</span><span class="ident" id="7084218">rest</span><span class="op" id="7084222">)</span><span class="op" id="7084223">,</span>&nbsp;<span class="string" id="7084225">&#34;&nbsp;extra&nbsp;&#34;</span><span class="op" id="7084234">;</span>&nbsp;<span class="ident" id="7084236">g</span>&nbsp;<span class="op" id="7084238">!=</span>&nbsp;<span class="ident" id="7084241">w</span>&nbsp;<span class="op" id="7084243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084247">t</span><span class="op" id="7084248">.</span><span class="ident" id="7084249">Errorf</span><span class="op" id="7084255">(</span><span class="string" id="7084256">&#34;Remaining&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7084281">,</span>&nbsp;<span class="ident" id="7084283">g</span><span class="op" id="7084284">,</span>&nbsp;<span class="ident" id="7084286">w</span><span class="op" id="7084287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084290">}</span><br>
<span class="lineno"></span><span class="op" id="7084292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7084295">func</span>&nbsp;<span class="ident" id="7084300">nlines</span><span class="op" id="7084306">(</span><span class="ident" id="7084307">s</span>&nbsp;<span class="builtintype" id="7084309">string</span><span class="op" id="7084315">,</span>&nbsp;<span class="ident" id="7084317">n</span>&nbsp;<span class="builtintype" id="7084319">int</span><span class="op" id="7084322">)</span>&nbsp;<span class="builtintype" id="7084324">string</span>&nbsp;<span class="op" id="7084331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084334">if</span>&nbsp;<span class="ident" id="7084337">n</span>&nbsp;<span class="op" id="7084339">&lt;=</span>&nbsp;<span class="num" id="7084342">0</span>&nbsp;<span class="op" id="7084344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084348">return</span>&nbsp;<span class="string" id="7084355">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084362">for</span>&nbsp;<span class="ident" id="7084366">i</span><span class="op" id="7084367">,</span>&nbsp;<span class="ident" id="7084369">c</span>&nbsp;<span class="op" id="7084371">:=</span>&nbsp;<span class="keyword" id="7084374">range</span>&nbsp;<span class="ident" id="7084380">s</span>&nbsp;<span class="op" id="7084382">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084386">if</span>&nbsp;<span class="ident" id="7084389">c</span>&nbsp;<span class="op" id="7084391">==</span>&nbsp;<span class="string" id="7084394">&#39;\n&#39;</span>&nbsp;<span class="op" id="7084399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084404">if</span>&nbsp;<span class="ident" id="7084407">n</span><span class="op" id="7084408">--</span><span class="op" id="7084410">;</span>&nbsp;<span class="ident" id="7084412">n</span>&nbsp;<span class="op" id="7084414">==</span>&nbsp;<span class="num" id="7084417">0</span>&nbsp;<span class="op" id="7084419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084425">return</span>&nbsp;<span class="ident" id="7084432">s</span><span class="op" id="7084433">[</span><span class="num" id="7084434">0</span>&nbsp;<span class="op" id="7084436">:</span>&nbsp;<span class="ident" id="7084438">i</span><span class="op" id="7084439">+</span><span class="num" id="7084440">1</span><span class="op" id="7084441">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084450">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084456">return</span>&nbsp;<span class="ident" id="7084463">s</span><br>
<span class="lineno"></span><span class="op" id="7084465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7084468">func</span>&nbsp;<span class="ident" id="7084473">TestRawMessage</span><span class="op" id="7084487">(</span><span class="ident" id="7084488">t</span>&nbsp;<span class="op" id="7084490">*</span><span class="ident" id="7084491">testing</span><span class="op" id="7084498">.</span><span class="ident" id="7084499">T</span><span class="op" id="7084500">)</span>&nbsp;<span class="op" id="7084502">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7084505">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;not&nbsp;need&nbsp;the&nbsp;*&nbsp;in&nbsp;*RawMessage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084557">var</span>&nbsp;<span class="ident" id="7084561">data</span>&nbsp;<span class="keyword" id="7084566">struct</span>&nbsp;<span class="op" id="7084573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084577">X</span>&nbsp;&nbsp;<span class="builtintype" id="7084580">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084590">Id</span>&nbsp;<span class="op" id="7084593">*</span><span class="ident" id="7084594">RawMessage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084607">Y</span>&nbsp;&nbsp;<span class="builtintype" id="7084610">float32</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084622">const</span>&nbsp;<span class="ident" id="7084628">raw</span>&nbsp;<span class="op" id="7084632">=</span>&nbsp;<span class="string" id="7084634">`[&#34;\u0056&#34;,null]`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084653">const</span>&nbsp;<span class="ident" id="7084659">msg</span>&nbsp;<span class="op" id="7084663">=</span>&nbsp;<span class="string" id="7084665">`{&#34;X&#34;:0.1,&#34;Id&#34;:[&#34;\u0056&#34;,null],&#34;Y&#34;:0.2}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084707">err</span>&nbsp;<span class="op" id="7084711">:=</span>&nbsp;<span class="ident" id="7084714">Unmarshal</span><span class="op" id="7084723">(</span><span class="op" id="7084724">[</span><span class="op" id="7084725">]</span><span class="builtintype" id="7084726">byte</span><span class="op" id="7084730">(</span><span class="ident" id="7084731">msg</span><span class="op" id="7084734">)</span><span class="op" id="7084735">,</span>&nbsp;<span class="op" id="7084737">&amp;</span><span class="ident" id="7084738">data</span><span class="op" id="7084742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084745">if</span>&nbsp;<span class="ident" id="7084748">err</span>&nbsp;<span class="op" id="7084752">!=</span>&nbsp;<span class="builtintype" id="7084755">nil</span>&nbsp;<span class="op" id="7084759">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084763">t</span><span class="op" id="7084764">.</span><span class="ident" id="7084765">Fatalf</span><span class="op" id="7084771">(</span><span class="string" id="7084772">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7084787">,</span>&nbsp;<span class="ident" id="7084789">err</span><span class="op" id="7084792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084798">if</span>&nbsp;<span class="builtintype" id="7084801">string</span><span class="op" id="7084807">(</span><span class="op" id="7084808">[</span><span class="op" id="7084809">]</span><span class="builtintype" id="7084810">byte</span><span class="op" id="7084814">(</span><span class="op" id="7084815">*</span><span class="ident" id="7084816">data</span><span class="op" id="7084820">.</span><span class="ident" id="7084821">Id</span><span class="op" id="7084823">)</span><span class="op" id="7084824">)</span>&nbsp;<span class="op" id="7084826">!=</span>&nbsp;<span class="ident" id="7084829">raw</span>&nbsp;<span class="op" id="7084833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084837">t</span><span class="op" id="7084838">.</span><span class="ident" id="7084839">Fatalf</span><span class="op" id="7084845">(</span><span class="string" id="7084846">&#34;Raw&nbsp;mismatch:&nbsp;have&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7084879">,</span>&nbsp;<span class="op" id="7084881">[</span><span class="op" id="7084882">]</span><span class="builtintype" id="7084883">byte</span><span class="op" id="7084887">(</span><span class="op" id="7084888">*</span><span class="ident" id="7084889">data</span><span class="op" id="7084893">.</span><span class="ident" id="7084894">Id</span><span class="op" id="7084896">)</span><span class="op" id="7084897">,</span>&nbsp;<span class="ident" id="7084899">raw</span><span class="op" id="7084902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084905">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084908">b</span><span class="op" id="7084909">,</span>&nbsp;<span class="ident" id="7084911">err</span>&nbsp;<span class="op" id="7084915">:=</span>&nbsp;<span class="ident" id="7084918">Marshal</span><span class="op" id="7084925">(</span><span class="op" id="7084926">&amp;</span><span class="ident" id="7084927">data</span><span class="op" id="7084931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084934">if</span>&nbsp;<span class="ident" id="7084937">err</span>&nbsp;<span class="op" id="7084941">!=</span>&nbsp;<span class="builtintype" id="7084944">nil</span>&nbsp;<span class="op" id="7084948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7084952">t</span><span class="op" id="7084953">.</span><span class="ident" id="7084954">Fatalf</span><span class="op" id="7084960">(</span><span class="string" id="7084961">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7084974">,</span>&nbsp;<span class="ident" id="7084976">err</span><span class="op" id="7084979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7084982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7084985">if</span>&nbsp;<span class="builtintype" id="7084988">string</span><span class="op" id="7084994">(</span><span class="ident" id="7084995">b</span><span class="op" id="7084996">)</span>&nbsp;<span class="op" id="7084998">!=</span>&nbsp;<span class="ident" id="7085001">msg</span>&nbsp;<span class="op" id="7085005">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085009">t</span><span class="op" id="7085010">.</span><span class="ident" id="7085011">Fatalf</span><span class="op" id="7085017">(</span><span class="string" id="7085018">&#34;Marshal:&nbsp;have&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7085046">,</span>&nbsp;<span class="ident" id="7085048">b</span><span class="op" id="7085049">,</span>&nbsp;<span class="ident" id="7085051">msg</span><span class="op" id="7085054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7085057">}</span><br>
<span class="lineno"></span><span class="op" id="7085059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7085062">func</span>&nbsp;<span class="ident" id="7085067">TestNullRawMessage</span><span class="op" id="7085085">(</span><span class="ident" id="7085086">t</span>&nbsp;<span class="op" id="7085088">*</span><span class="ident" id="7085089">testing</span><span class="op" id="7085096">.</span><span class="ident" id="7085097">T</span><span class="op" id="7085098">)</span>&nbsp;<span class="op" id="7085100">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7085103">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;not&nbsp;need&nbsp;the&nbsp;*&nbsp;in&nbsp;*RawMessage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7085155">var</span>&nbsp;<span class="ident" id="7085159">data</span>&nbsp;<span class="keyword" id="7085164">struct</span>&nbsp;<span class="op" id="7085171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085175">X</span>&nbsp;&nbsp;<span class="builtintype" id="7085178">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085188">Id</span>&nbsp;<span class="op" id="7085191">*</span><span class="ident" id="7085192">RawMessage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085205">Y</span>&nbsp;&nbsp;<span class="builtintype" id="7085208">float32</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7085217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085220">data</span><span class="op" id="7085224">.</span><span class="ident" id="7085225">Id</span>&nbsp;<span class="op" id="7085228">=</span>&nbsp;<span class="builtinfunc" id="7085230">new</span><span class="op" id="7085233">(</span><span class="ident" id="7085234">RawMessage</span><span class="op" id="7085244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7085247">const</span>&nbsp;<span class="ident" id="7085253">msg</span>&nbsp;<span class="op" id="7085257">=</span>&nbsp;<span class="string" id="7085259">`{&#34;X&#34;:0.1,&#34;Id&#34;:null,&#34;Y&#34;:0.2}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085290">err</span>&nbsp;<span class="op" id="7085294">:=</span>&nbsp;<span class="ident" id="7085297">Unmarshal</span><span class="op" id="7085306">(</span><span class="op" id="7085307">[</span><span class="op" id="7085308">]</span><span class="builtintype" id="7085309">byte</span><span class="op" id="7085313">(</span><span class="ident" id="7085314">msg</span><span class="op" id="7085317">)</span><span class="op" id="7085318">,</span>&nbsp;<span class="op" id="7085320">&amp;</span><span class="ident" id="7085321">data</span><span class="op" id="7085325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7085328">if</span>&nbsp;<span class="ident" id="7085331">err</span>&nbsp;<span class="op" id="7085335">!=</span>&nbsp;<span class="builtintype" id="7085338">nil</span>&nbsp;<span class="op" id="7085342">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085346">t</span><span class="op" id="7085347">.</span><span class="ident" id="7085348">Fatalf</span><span class="op" id="7085354">(</span><span class="string" id="7085355">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7085370">,</span>&nbsp;<span class="ident" id="7085372">err</span><span class="op" id="7085375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7085378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7085381">if</span>&nbsp;<span class="ident" id="7085384">data</span><span class="op" id="7085388">.</span><span class="ident" id="7085389">Id</span>&nbsp;<span class="op" id="7085392">!=</span>&nbsp;<span class="builtintype" id="7085395">nil</span>&nbsp;<span class="op" id="7085399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085403">t</span><span class="op" id="7085404">.</span><span class="ident" id="7085405">Fatalf</span><span class="op" id="7085411">(</span><span class="string" id="7085412">&#34;Raw&nbsp;mismatch:&nbsp;have&nbsp;non-nil,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7085450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7085453">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085456">b</span><span class="op" id="7085457">,</span>&nbsp;<span class="ident" id="7085459">err</span>&nbsp;<span class="op" id="7085463">:=</span>&nbsp;<span class="ident" id="7085466">Marshal</span><span class="op" id="7085473">(</span><span class="op" id="7085474">&amp;</span><span class="ident" id="7085475">data</span><span class="op" id="7085479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7085482">if</span>&nbsp;<span class="ident" id="7085485">err</span>&nbsp;<span class="op" id="7085489">!=</span>&nbsp;<span class="builtintype" id="7085492">nil</span>&nbsp;<span class="op" id="7085496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085500">t</span><span class="op" id="7085501">.</span><span class="ident" id="7085502">Fatalf</span><span class="op" id="7085508">(</span><span class="string" id="7085509">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7085522">,</span>&nbsp;<span class="ident" id="7085524">err</span><span class="op" id="7085527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7085530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7085533">if</span>&nbsp;<span class="builtintype" id="7085536">string</span><span class="op" id="7085542">(</span><span class="ident" id="7085543">b</span><span class="op" id="7085544">)</span>&nbsp;<span class="op" id="7085546">!=</span>&nbsp;<span class="ident" id="7085549">msg</span>&nbsp;<span class="op" id="7085553">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085557">t</span><span class="op" id="7085558">.</span><span class="ident" id="7085559">Fatalf</span><span class="op" id="7085565">(</span><span class="string" id="7085566">&#34;Marshal:&nbsp;have&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7085594">,</span>&nbsp;<span class="ident" id="7085596">b</span><span class="op" id="7085597">,</span>&nbsp;<span class="ident" id="7085599">msg</span><span class="op" id="7085602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7085605">}</span><br>
<span class="lineno"></span><span class="op" id="7085607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7085610">var</span>&nbsp;<span class="ident" id="7085614">blockingTests</span>&nbsp;<span class="op" id="7085628">=</span>&nbsp;<span class="op" id="7085630">[</span><span class="op" id="7085631">]</span><span class="builtintype" id="7085632">string</span><span class="op" id="7085638">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7085641">`{&#34;x&#34;:&nbsp;1}`</span><span class="op" id="7085651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7085654">`[1,&nbsp;2,&nbsp;3]`</span><span class="op" id="7085665">,</span><br>
<span class="lineno"></span><span class="op" id="7085667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7085670">func</span>&nbsp;<span class="ident" id="7085675">TestBlocking</span><span class="op" id="7085687">(</span><span class="ident" id="7085688">t</span>&nbsp;<span class="op" id="7085690">*</span><span class="ident" id="7085691">testing</span><span class="op" id="7085698">.</span><span class="ident" id="7085699">T</span><span class="op" id="7085700">)</span>&nbsp;<span class="op" id="7085702">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7085705">for</span>&nbsp;<span class="ident" id="7085709">_</span><span class="op" id="7085710">,</span>&nbsp;<span class="ident" id="7085712">enc</span>&nbsp;<span class="op" id="7085716">:=</span>&nbsp;<span class="keyword" id="7085719">range</span>&nbsp;<span class="ident" id="7085725">blockingTests</span>&nbsp;<span class="op" id="7085739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085743">r</span><span class="op" id="7085744">,</span>&nbsp;<span class="ident" id="7085746">w</span>&nbsp;<span class="op" id="7085748">:=</span>&nbsp;<span class="ident" id="7085751">net</span><span class="op" id="7085754">.</span><span class="ident" id="7085755">Pipe</span><span class="op" id="7085759">(</span><span class="op" id="7085760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7085764">go</span>&nbsp;<span class="ident" id="7085767">w</span><span class="op" id="7085768">.</span><span class="ident" id="7085769">Write</span><span class="op" id="7085774">(</span><span class="op" id="7085775">[</span><span class="op" id="7085776">]</span><span class="builtintype" id="7085777">byte</span><span class="op" id="7085781">(</span><span class="ident" id="7085782">enc</span><span class="op" id="7085785">)</span><span class="op" id="7085786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7085790">var</span>&nbsp;<span class="ident" id="7085794">val</span>&nbsp;<span class="keyword" id="7085798">interface</span><span class="op" id="7085807">{</span><span class="op" id="7085808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7085813">//&nbsp;If&nbsp;Decode&nbsp;reads&nbsp;beyond&nbsp;what&nbsp;w.Write&nbsp;writes&nbsp;above,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7085868">//&nbsp;it&nbsp;will&nbsp;block,&nbsp;and&nbsp;the&nbsp;test&nbsp;will&nbsp;deadlock.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7085916">if</span>&nbsp;<span class="ident" id="7085919">err</span>&nbsp;<span class="op" id="7085923">:=</span>&nbsp;<span class="ident" id="7085926">NewDecoder</span><span class="op" id="7085936">(</span><span class="ident" id="7085937">r</span><span class="op" id="7085938">)</span><span class="op" id="7085939">.</span><span class="ident" id="7085940">Decode</span><span class="op" id="7085946">(</span><span class="op" id="7085947">&amp;</span><span class="ident" id="7085948">val</span><span class="op" id="7085951">)</span><span class="op" id="7085952">;</span>&nbsp;<span class="ident" id="7085954">err</span>&nbsp;<span class="op" id="7085958">!=</span>&nbsp;<span class="builtintype" id="7085961">nil</span>&nbsp;<span class="op" id="7085965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7085970">t</span><span class="op" id="7085971">.</span><span class="ident" id="7085972">Errorf</span><span class="op" id="7085978">(</span><span class="string" id="7085979">&#34;decoding&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7085996">,</span>&nbsp;<span class="ident" id="7085998">enc</span><span class="op" id="7086001">,</span>&nbsp;<span class="ident" id="7086003">err</span><span class="op" id="7086006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7086010">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7086014">r</span><span class="op" id="7086015">.</span><span class="ident" id="7086016">Close</span><span class="op" id="7086021">(</span><span class="op" id="7086022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7086026">w</span><span class="op" id="7086027">.</span><span class="ident" id="7086028">Close</span><span class="op" id="7086033">(</span><span class="op" id="7086034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7086037">}</span><br>
<span class="lineno"></span><span class="op" id="7086039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="7086042">func</span>&nbsp;<span class="ident" id="7086047">BenchmarkEncoderEncode</span><span class="op" id="7086069">(</span><span class="ident" id="7086070">b</span>&nbsp;<span class="op" id="7086072">*</span><span class="ident" id="7086073">testing</span><span class="op" id="7086080">.</span><span class="ident" id="7086081">B</span><span class="op" id="7086082">)</span>&nbsp;<span class="op" id="7086084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7086087">b</span><span class="op" id="7086088">.</span><span class="ident" id="7086089">ReportAllocs</span><span class="op" id="7086101">(</span><span class="op" id="7086102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7086105">type</span>&nbsp;<span class="ident" id="7086110">T</span>&nbsp;<span class="keyword" id="7086112">struct</span>&nbsp;<span class="op" id="7086119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7086123">X</span><span class="op" id="7086124">,</span>&nbsp;<span class="ident" id="7086126">Y</span>&nbsp;<span class="builtintype" id="7086128">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7086136">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7086139">v</span>&nbsp;<span class="op" id="7086141">:=</span>&nbsp;<span class="op" id="7086144">&amp;</span><span class="ident" id="7086145">T</span><span class="op" id="7086146">{</span><span class="string" id="7086147">&#34;foo&#34;</span><span class="op" id="7086152">,</span>&nbsp;<span class="string" id="7086154">&#34;bar&#34;</span><span class="op" id="7086159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7086162">for</span>&nbsp;<span class="ident" id="7086166">i</span>&nbsp;<span class="op" id="7086168">:=</span>&nbsp;<span class="num" id="7086171">0</span><span class="op" id="7086172">;</span>&nbsp;<span class="ident" id="7086174">i</span>&nbsp;<span class="op" id="7086176">&lt;</span>&nbsp;<span class="ident" id="7086178">b</span><span class="op" id="7086179">.</span><span class="ident" id="7086180">N</span><span class="op" id="7086181">;</span>&nbsp;<span class="ident" id="7086183">i</span><span class="op" id="7086184">++</span>&nbsp;<span class="op" id="7086187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7086191">if</span>&nbsp;<span class="ident" id="7086194">err</span>&nbsp;<span class="op" id="7086198">:=</span>&nbsp;<span class="ident" id="7086201">NewEncoder</span><span class="op" id="7086211">(</span><span class="ident" id="7086212">ioutil</span><span class="op" id="7086218">.</span><span class="ident" id="7086219">Discard</span><span class="op" id="7086226">)</span><span class="op" id="7086227">.</span><span class="ident" id="7086228">Encode</span><span class="op" id="7086234">(</span><span class="ident" id="7086235">v</span><span class="op" id="7086236">)</span><span class="op" id="7086237">;</span>&nbsp;<span class="ident" id="7086239">err</span>&nbsp;<span class="op" id="7086243">!=</span>&nbsp;<span class="builtintype" id="7086246">nil</span>&nbsp;<span class="op" id="7086250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7086255">b</span><span class="op" id="7086256">.</span><span class="ident" id="7086257">Fatal</span><span class="op" id="7086262">(</span><span class="ident" id="7086263">err</span><span class="op" id="7086266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7086270">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7086273">}</span><br>
<span class="lineno"></span><span class="op" id="7086275">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
