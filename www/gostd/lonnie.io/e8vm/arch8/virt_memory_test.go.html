<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="8505042">package</span>&nbsp;<span class="ident" id="8505050">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8505057">import</span>&nbsp;<span class="op" id="8505064">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8505067">&#34;testing&#34;</span><br>
<span class="lineno">5</span><span class="op" id="8505077">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8505080">func</span>&nbsp;<span class="ident" id="8505085">TestVirtMemory</span><span class="op" id="8505099">(</span><span class="ident" id="8505100">t</span>&nbsp;<span class="op" id="8505102">*</span><span class="ident" id="8505103">testing</span><span class="op" id="8505110">.</span><span class="ident" id="8505111">T</span><span class="op" id="8505112">)</span>&nbsp;<span class="op" id="8505114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505117">as</span>&nbsp;<span class="op" id="8505120">:=</span>&nbsp;<span class="keyword" id="8505123">func</span><span class="op" id="8505127">(</span><span class="ident" id="8505128">cond</span>&nbsp;<span class="builtintype" id="8505133">bool</span><span class="op" id="8505137">,</span>&nbsp;<span class="ident" id="8505139">s</span>&nbsp;<span class="builtintype" id="8505141">string</span><span class="op" id="8505147">,</span>&nbsp;<span class="ident" id="8505149">args</span>&nbsp;<span class="op" id="8505154">...</span><span class="keyword" id="8505157">interface</span><span class="op" id="8505166">{</span><span class="op" id="8505167">}</span><span class="op" id="8505168">)</span>&nbsp;<span class="op" id="8505170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8505174">if</span>&nbsp;<span class="op" id="8505177">!</span><span class="ident" id="8505178">cond</span>&nbsp;<span class="op" id="8505183">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505188">t</span><span class="op" id="8505189">.</span><span class="ident" id="8505190">Fatalf</span><span class="op" id="8505196">(</span><span class="ident" id="8505197">s</span><span class="op" id="8505198">,</span>&nbsp;<span class="ident" id="8505200">args</span><span class="op" id="8505204">...</span><span class="op" id="8505207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8505211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8505214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505218">eo</span>&nbsp;<span class="op" id="8505221">:=</span>&nbsp;<span class="keyword" id="8505224">func</span><span class="op" id="8505228">(</span><span class="ident" id="8505229">cond</span>&nbsp;<span class="builtintype" id="8505234">bool</span><span class="op" id="8505238">,</span>&nbsp;<span class="ident" id="8505240">s</span>&nbsp;<span class="builtintype" id="8505242">string</span><span class="op" id="8505248">,</span>&nbsp;<span class="ident" id="8505250">args</span>&nbsp;<span class="op" id="8505255">...</span><span class="keyword" id="8505258">interface</span><span class="op" id="8505267">{</span><span class="op" id="8505268">}</span><span class="op" id="8505269">)</span>&nbsp;<span class="op" id="8505271">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8505275">if</span>&nbsp;<span class="ident" id="8505278">cond</span>&nbsp;<span class="op" id="8505283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505288">t</span><span class="op" id="8505289">.</span><span class="ident" id="8505290">Fatalf</span><span class="op" id="8505296">(</span><span class="ident" id="8505297">s</span><span class="op" id="8505298">,</span>&nbsp;<span class="ident" id="8505300">args</span><span class="op" id="8505304">...</span><span class="op" id="8505307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8505311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8505314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505318">m</span>&nbsp;<span class="op" id="8505320">:=</span>&nbsp;<span class="ident" id="8505323">newPhyMemory</span><span class="op" id="8505335">(</span><span class="num" id="8505336">8</span>&nbsp;<span class="op" id="8505338">*</span>&nbsp;<span class="ident" id="8505340">PageSize</span><span class="op" id="8505348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505351">p1</span>&nbsp;<span class="op" id="8505354">:=</span>&nbsp;<span class="ident" id="8505357">m</span><span class="op" id="8505358">.</span><span class="ident" id="8505359">Page</span><span class="op" id="8505363">(</span><span class="num" id="8505364">1</span><span class="op" id="8505365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505368">p2</span>&nbsp;<span class="op" id="8505371">:=</span>&nbsp;<span class="ident" id="8505374">m</span><span class="op" id="8505375">.</span><span class="ident" id="8505376">Page</span><span class="op" id="8505380">(</span><span class="num" id="8505381">2</span><span class="op" id="8505382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505385">p3</span>&nbsp;<span class="op" id="8505388">:=</span>&nbsp;<span class="ident" id="8505391">m</span><span class="op" id="8505392">.</span><span class="ident" id="8505393">Page</span><span class="op" id="8505397">(</span><span class="num" id="8505398">3</span><span class="op" id="8505399">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505403">pte1</span>&nbsp;<span class="op" id="8505408">:=</span>&nbsp;<span class="ident" id="8505411">ptEntry</span><span class="op" id="8505418">(</span><span class="num" id="8505419">2</span>&nbsp;<span class="op" id="8505421">*</span>&nbsp;<span class="ident" id="8505423">PageSize</span><span class="op" id="8505431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505434">pte1</span><span class="op" id="8505438">.</span><span class="ident" id="8505439">setBit</span><span class="op" id="8505445">(</span><span class="ident" id="8505446">pteValid</span><span class="op" id="8505454">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505458">p1</span><span class="op" id="8505460">.</span><span class="ident" id="8505461">WriteWord</span><span class="op" id="8505470">(</span><span class="num" id="8505471">0</span><span class="op" id="8505472">,</span>&nbsp;<span class="builtintype" id="8505474">uint32</span><span class="op" id="8505480">(</span><span class="ident" id="8505481">pte1</span><span class="op" id="8505485">)</span><span class="op" id="8505486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505489">pte1</span>&nbsp;<span class="op" id="8505494">+=</span>&nbsp;<span class="ident" id="8505497">PageSize</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505507">p1</span><span class="op" id="8505509">.</span><span class="ident" id="8505510">WriteWord</span><span class="op" id="8505519">(</span><span class="num" id="8505520">4</span><span class="op" id="8505521">*</span><span class="num" id="8505522">10</span><span class="op" id="8505524">,</span>&nbsp;<span class="builtintype" id="8505526">uint32</span><span class="op" id="8505532">(</span><span class="ident" id="8505533">pte1</span><span class="op" id="8505537">)</span><span class="op" id="8505538">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8505542">for</span>&nbsp;<span class="ident" id="8505546">i</span>&nbsp;<span class="op" id="8505548">:=</span>&nbsp;<span class="builtintype" id="8505551">uint32</span><span class="op" id="8505557">(</span><span class="num" id="8505558">0</span><span class="op" id="8505559">)</span><span class="op" id="8505560">;</span>&nbsp;<span class="ident" id="8505562">i</span>&nbsp;<span class="op" id="8505564">&lt;</span>&nbsp;<span class="num" id="8505566">4</span><span class="op" id="8505567">;</span>&nbsp;<span class="ident" id="8505569">i</span><span class="op" id="8505570">++</span>&nbsp;<span class="op" id="8505573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505577">pte</span>&nbsp;<span class="op" id="8505581">:=</span>&nbsp;<span class="ident" id="8505584">ptEntry</span><span class="op" id="8505591">(</span><span class="op" id="8505592">(</span><span class="ident" id="8505593">i</span>&nbsp;<span class="op" id="8505595">+</span>&nbsp;<span class="num" id="8505597">4</span><span class="op" id="8505598">)</span>&nbsp;<span class="op" id="8505600">*</span>&nbsp;<span class="ident" id="8505602">PageSize</span><span class="op" id="8505610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505614">pte</span><span class="op" id="8505617">.</span><span class="ident" id="8505618">setBit</span><span class="op" id="8505624">(</span><span class="ident" id="8505625">pteValid</span><span class="op" id="8505633">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505637">p2</span><span class="op" id="8505639">.</span><span class="ident" id="8505640">WriteWord</span><span class="op" id="8505649">(</span><span class="num" id="8505650">4</span><span class="op" id="8505651">*</span><span class="ident" id="8505652">i</span><span class="op" id="8505653">,</span>&nbsp;<span class="builtintype" id="8505655">uint32</span><span class="op" id="8505661">(</span><span class="ident" id="8505662">pte</span><span class="op" id="8505665">)</span><span class="op" id="8505666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505670">p3</span><span class="op" id="8505672">.</span><span class="ident" id="8505673">WriteWord</span><span class="op" id="8505682">(</span><span class="num" id="8505683">4</span><span class="op" id="8505684">*</span><span class="op" id="8505685">(</span><span class="num" id="8505686">3</span><span class="op" id="8505687">-</span><span class="ident" id="8505688">i</span><span class="op" id="8505689">)</span><span class="op" id="8505690">,</span>&nbsp;<span class="builtintype" id="8505692">uint32</span><span class="op" id="8505698">(</span><span class="ident" id="8505699">pte</span><span class="op" id="8505702">)</span><span class="op" id="8505703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8505706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505710">vm</span>&nbsp;<span class="op" id="8505713">:=</span>&nbsp;<span class="ident" id="8505716">newVirtMemory</span><span class="op" id="8505729">(</span><span class="ident" id="8505730">m</span><span class="op" id="8505731">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505734">vm</span><span class="op" id="8505736">.</span><span class="ident" id="8505737">SetTable</span><span class="op" id="8505745">(</span><span class="ident" id="8505746">PageSize</span><span class="op" id="8505754">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8505758">//&nbsp;page&nbsp;0,&nbsp;1,&nbsp;2,&nbsp;3&nbsp;is&nbsp;mapped&nbsp;to&nbsp;4,&nbsp;5,&nbsp;6,&nbsp;7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8505802">//&nbsp;page&nbsp;B+0,&nbsp;B+1,&nbsp;B+2,&nbsp;B+3&nbsp;is&nbsp;mapped&nbsp;to&nbsp;7,&nbsp;6,&nbsp;5,&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8505854">//&nbsp;where&nbsp;B&nbsp;=&nbsp;10&nbsp;*&nbsp;1024</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505878">w</span>&nbsp;<span class="op" id="8505880">:=</span>&nbsp;<span class="builtintype" id="8505883">uint32</span><span class="op" id="8505889">(</span><span class="num" id="8505890">0x37215a40</span><span class="op" id="8505900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505903">off</span>&nbsp;<span class="op" id="8505907">:=</span>&nbsp;<span class="builtintype" id="8505910">uint32</span><span class="op" id="8505916">(</span><span class="num" id="8505917">324</span><span class="op" id="8505920">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8505924">for</span>&nbsp;<span class="ident" id="8505928">i</span>&nbsp;<span class="op" id="8505930">:=</span>&nbsp;<span class="builtintype" id="8505933">uint32</span><span class="op" id="8505939">(</span><span class="num" id="8505940">0</span><span class="op" id="8505941">)</span><span class="op" id="8505942">;</span>&nbsp;<span class="ident" id="8505944">i</span>&nbsp;<span class="op" id="8505946">&lt;</span>&nbsp;<span class="num" id="8505948">4</span><span class="op" id="8505949">;</span>&nbsp;<span class="ident" id="8505951">i</span><span class="op" id="8505952">++</span>&nbsp;<span class="op" id="8505955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505959">wd</span>&nbsp;<span class="op" id="8505962">:=</span>&nbsp;<span class="ident" id="8505965">w</span>&nbsp;<span class="op" id="8505967">+</span>&nbsp;<span class="ident" id="8505969">i</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8505973">e</span>&nbsp;<span class="op" id="8505975">:=</span>&nbsp;<span class="ident" id="8505978">vm</span><span class="op" id="8505980">.</span><span class="ident" id="8505981">WriteWord</span><span class="op" id="8505990">(</span><span class="ident" id="8505991">off</span><span class="op" id="8505994">+</span><span class="ident" id="8505995">i</span><span class="op" id="8505996">*</span><span class="ident" id="8505997">PageSize</span><span class="op" id="8506005">,</span>&nbsp;<span class="num" id="8506007">0</span><span class="op" id="8506008">,</span>&nbsp;<span class="ident" id="8506010">wd</span><span class="op" id="8506012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506016">as</span><span class="op" id="8506018">(</span><span class="ident" id="8506019">e</span>&nbsp;<span class="op" id="8506021">==</span>&nbsp;<span class="ident" id="8506024">nil</span><span class="op" id="8506027">,</span>&nbsp;<span class="string" id="8506029">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8506046">,</span>&nbsp;<span class="ident" id="8506048">e</span><span class="op" id="8506049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506053">w2</span><span class="op" id="8506055">,</span>&nbsp;<span class="ident" id="8506057">e</span>&nbsp;<span class="op" id="8506059">:=</span>&nbsp;<span class="ident" id="8506062">vm</span><span class="op" id="8506064">.</span><span class="ident" id="8506065">ReadWord</span><span class="op" id="8506073">(</span><span class="op" id="8506074">(</span><span class="num" id="8506075">10</span><span class="op" id="8506077">*</span><span class="num" id="8506078">1024</span><span class="op" id="8506082">+</span><span class="op" id="8506083">(</span><span class="num" id="8506084">3</span><span class="op" id="8506085">-</span><span class="ident" id="8506086">i</span><span class="op" id="8506087">)</span><span class="op" id="8506088">)</span><span class="op" id="8506089">*</span><span class="ident" id="8506090">PageSize</span><span class="op" id="8506098">+</span><span class="ident" id="8506099">off</span><span class="op" id="8506102">,</span>&nbsp;<span class="num" id="8506104">0</span><span class="op" id="8506105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506109">as</span><span class="op" id="8506111">(</span><span class="ident" id="8506112">e</span>&nbsp;<span class="op" id="8506114">==</span>&nbsp;<span class="ident" id="8506117">nil</span><span class="op" id="8506120">,</span>&nbsp;<span class="string" id="8506122">&#34;read&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8506138">,</span>&nbsp;<span class="ident" id="8506140">e</span><span class="op" id="8506141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506145">eo</span><span class="op" id="8506147">(</span><span class="ident" id="8506148">w2</span>&nbsp;<span class="op" id="8506151">!=</span>&nbsp;<span class="ident" id="8506154">wd</span><span class="op" id="8506156">,</span>&nbsp;<span class="string" id="8506158">&#34;expect&nbsp;0x%08x,&nbsp;got&nbsp;0x%08x&#34;</span><span class="op" id="8506185">,</span>&nbsp;<span class="ident" id="8506187">wd</span><span class="op" id="8506189">,</span>&nbsp;<span class="ident" id="8506191">w2</span><span class="op" id="8506193">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8506196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506200">b</span>&nbsp;<span class="op" id="8506202">:=</span>&nbsp;<span class="builtintype" id="8506205">byte</span><span class="op" id="8506209">(</span><span class="num" id="8506210">0x54</span><span class="op" id="8506214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506217">off</span>&nbsp;<span class="op" id="8506221">=</span>&nbsp;<span class="num" id="8506223">575</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8506228">for</span>&nbsp;<span class="ident" id="8506232">i</span>&nbsp;<span class="op" id="8506234">:=</span>&nbsp;<span class="builtintype" id="8506237">uint32</span><span class="op" id="8506243">(</span><span class="num" id="8506244">0</span><span class="op" id="8506245">)</span><span class="op" id="8506246">;</span>&nbsp;<span class="ident" id="8506248">i</span>&nbsp;<span class="op" id="8506250">&lt;</span>&nbsp;<span class="num" id="8506252">4</span><span class="op" id="8506253">;</span>&nbsp;<span class="ident" id="8506255">i</span><span class="op" id="8506256">++</span>&nbsp;<span class="op" id="8506259">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506263">bt</span>&nbsp;<span class="op" id="8506266">:=</span>&nbsp;<span class="ident" id="8506269">b</span>&nbsp;<span class="op" id="8506271">+</span>&nbsp;<span class="builtintype" id="8506273">byte</span><span class="op" id="8506277">(</span><span class="ident" id="8506278">i</span><span class="op" id="8506279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506283">e</span>&nbsp;<span class="op" id="8506285">:=</span>&nbsp;<span class="ident" id="8506288">vm</span><span class="op" id="8506290">.</span><span class="ident" id="8506291">WriteByte</span><span class="op" id="8506300">(</span><span class="ident" id="8506301">off</span><span class="op" id="8506304">+</span><span class="ident" id="8506305">i</span><span class="op" id="8506306">*</span><span class="ident" id="8506307">PageSize</span><span class="op" id="8506315">,</span>&nbsp;<span class="num" id="8506317">0</span><span class="op" id="8506318">,</span>&nbsp;<span class="ident" id="8506320">bt</span><span class="op" id="8506322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506326">as</span><span class="op" id="8506328">(</span><span class="ident" id="8506329">e</span>&nbsp;<span class="op" id="8506331">==</span>&nbsp;<span class="ident" id="8506334">nil</span><span class="op" id="8506337">,</span>&nbsp;<span class="string" id="8506339">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8506356">,</span>&nbsp;<span class="ident" id="8506358">e</span><span class="op" id="8506359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506363">b2</span><span class="op" id="8506365">,</span>&nbsp;<span class="ident" id="8506367">e</span>&nbsp;<span class="op" id="8506369">:=</span>&nbsp;<span class="ident" id="8506372">vm</span><span class="op" id="8506374">.</span><span class="ident" id="8506375">ReadByte</span><span class="op" id="8506383">(</span><span class="op" id="8506384">(</span><span class="num" id="8506385">10</span><span class="op" id="8506387">*</span><span class="num" id="8506388">1024</span><span class="op" id="8506392">+</span><span class="op" id="8506393">(</span><span class="num" id="8506394">3</span><span class="op" id="8506395">-</span><span class="ident" id="8506396">i</span><span class="op" id="8506397">)</span><span class="op" id="8506398">)</span><span class="op" id="8506399">*</span><span class="ident" id="8506400">PageSize</span><span class="op" id="8506408">+</span><span class="ident" id="8506409">off</span><span class="op" id="8506412">,</span>&nbsp;<span class="num" id="8506414">0</span><span class="op" id="8506415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506419">as</span><span class="op" id="8506421">(</span><span class="ident" id="8506422">e</span>&nbsp;<span class="op" id="8506424">==</span>&nbsp;<span class="ident" id="8506427">nil</span><span class="op" id="8506430">,</span>&nbsp;<span class="string" id="8506432">&#34;read&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8506448">,</span>&nbsp;<span class="ident" id="8506450">e</span><span class="op" id="8506451">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8506455">eo</span><span class="op" id="8506457">(</span><span class="ident" id="8506458">b2</span>&nbsp;<span class="op" id="8506461">!=</span>&nbsp;<span class="ident" id="8506464">bt</span><span class="op" id="8506466">,</span>&nbsp;<span class="string" id="8506468">&#34;expect&nbsp;0x%02x,&nbsp;got&nbsp;0x%02x&#34;</span><span class="op" id="8506495">,</span>&nbsp;<span class="ident" id="8506497">bt</span><span class="op" id="8506499">,</span>&nbsp;<span class="ident" id="8506501">b2</span><span class="op" id="8506503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8506506">}</span><br>
<span class="lineno"></span><span class="op" id="8506508">}</span>
</div>
</body>
</html>
