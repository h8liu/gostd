<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6866598">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6866653">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6866707">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6866758">package</span>&nbsp;<span class="ident" id="6866766">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6866771">import</span>&nbsp;<span class="string" id="6866778">&#34;sync&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6866786">type</span>&nbsp;<span class="ident" id="6866791">streamListener</span>&nbsp;<span class="keyword" id="6866806">struct</span>&nbsp;<span class="op" id="6866813">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6866816">net</span><span class="op" id="6866819">,</span>&nbsp;<span class="ident" id="6866821">addr</span>&nbsp;<span class="builtintype" id="6866826">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6866834">ln</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866844"><a href="/net/net.go.html#2658762">Listener</a></span><br>
<span class="lineno"></span><span class="op" id="6866853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6866856">type</span>&nbsp;<span class="ident" id="6866861">dualStackServer</span>&nbsp;<span class="keyword" id="6866877">struct</span>&nbsp;<span class="op" id="6866884">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6866887">lnmu</span>&nbsp;<span class="ident" id="6866892"><a href="/net/mockserver_test.go.html#6866778">sync</a></span><span class="op" id="6866896">.</span><span class="ident" id="6866897">RWMutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6866906">lns</span>&nbsp;&nbsp;<span class="op" id="6866911">[</span><span class="op" id="6866912">]</span><span class="ident" id="6866913"><a href="/net/mockserver_test.go.html#6866791">streamListener</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6866929">port</span>&nbsp;<span class="builtintype" id="6866934">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6866943">cmu</span>&nbsp;<span class="ident" id="6866947"><a href="/net/mockserver_test.go.html#6866778">sync</a></span><span class="op" id="6866951">.</span><span class="ident" id="6866952">RWMutex</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6866961">cs</span>&nbsp;&nbsp;<span class="op" id="6866965">[</span><span class="op" id="6866966">]</span><span class="ident" id="6866967"><a href="/net/net.go.html#2652476">Conn</a></span>&nbsp;<span class="comment" id="6866972">//&nbsp;established&nbsp;connections&nbsp;at&nbsp;the&nbsp;passive&nbsp;open&nbsp;side</span><br>
<span class="lineno"></span><span class="op" id="6867024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6867027">func</span>&nbsp;<span class="op" id="6867032">(</span><span class="ident" id="6867033">dss</span>&nbsp;<span class="op" id="6867037">*</span><span class="ident" id="6867038"><a href="/net/mockserver_test.go.html#6866861">dualStackServer</a></span><span class="op" id="6867053">)</span>&nbsp;<span class="ident" id="6867055">buildup</span><span class="op" id="6867062">(</span><span class="ident" id="6867063">server</span>&nbsp;<span class="keyword" id="6867070">func</span><span class="op" id="6867074">(</span><span class="op" id="6867075">*</span><span class="ident" id="6867076"><a href="/net/mockserver_test.go.html#6866861">dualStackServer</a></span><span class="op" id="6867091">,</span>&nbsp;<span class="ident" id="6867093"><a href="/net/net.go.html#2658762">Listener</a></span><span class="op" id="6867101">)</span><span class="op" id="6867102">)</span>&nbsp;<span class="builtintype" id="6867104">error</span>&nbsp;<span class="op" id="6867110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867113">for</span>&nbsp;<span class="ident" id="6867117">i</span>&nbsp;<span class="op" id="6867119">:=</span>&nbsp;<span class="keyword" id="6867122">range</span>&nbsp;<span class="ident" id="6867128"><a href="/net/mockserver_test.go.html#6867033">dss</a></span><span class="op" id="6867131">.</span><span class="ident" id="6867132">lns</span>&nbsp;<span class="op" id="6867136">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867140">go</span>&nbsp;<span class="ident" id="6867143"><a href="/net/mockserver_test.go.html#6867063">server</a></span><span class="op" id="6867149">(</span><span class="ident" id="6867150"><a href="/net/mockserver_test.go.html#6867033">dss</a></span><span class="op" id="6867153">,</span>&nbsp;<span class="ident" id="6867155"><a href="/net/mockserver_test.go.html#6867033">dss</a></span><span class="op" id="6867158">.</span><span class="ident" id="6867159">lns</span><span class="op" id="6867162">[</span><span class="ident" id="6867163"><a href="/net/mockserver_test.go.html#6867117">i</a></span><span class="op" id="6867164">]</span><span class="op" id="6867165">.</span><span class="ident" id="6867166">ln</span><span class="op" id="6867168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6867171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867174">return</span>&nbsp;<span class="ident" id="6867181">nil</span><br>
<span class="lineno"></span><span class="op" id="6867185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="6867188">func</span>&nbsp;<span class="op" id="6867193">(</span><span class="ident" id="6867194">dss</span>&nbsp;<span class="op" id="6867198">*</span><span class="ident" id="6867199"><a href="/net/mockserver_test.go.html#6866861">dualStackServer</a></span><span class="op" id="6867214">)</span>&nbsp;<span class="ident" id="6867216">putConn</span><span class="op" id="6867223">(</span><span class="ident" id="6867224">c</span>&nbsp;<span class="ident" id="6867226"><a href="/net/net.go.html#2652476">Conn</a></span><span class="op" id="6867230">)</span>&nbsp;<span class="builtintype" id="6867232">error</span>&nbsp;<span class="op" id="6867238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867241"><a href="/net/mockserver_test.go.html#6867194">dss</a></span><span class="op" id="6867244">.</span><span class="ident" id="6867245">cmu</span><span class="op" id="6867248">.</span><span class="ident" id="6867249">Lock</span><span class="op" id="6867253">(</span><span class="op" id="6867254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867257"><a href="/net/mockserver_test.go.html#6867194">dss</a></span><span class="op" id="6867260">.</span><span class="ident" id="6867261">cs</span>&nbsp;<span class="op" id="6867264">=</span>&nbsp;<span class="builtinfunc" id="6867266">append</span><span class="op" id="6867272">(</span><span class="ident" id="6867273"><a href="/net/mockserver_test.go.html#6867194">dss</a></span><span class="op" id="6867276">.</span><span class="ident" id="6867277">cs</span><span class="op" id="6867279">,</span>&nbsp;<span class="ident" id="6867281"><a href="/net/mockserver_test.go.html#6867224">c</a></span><span class="op" id="6867282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867285"><a href="/net/mockserver_test.go.html#6867194">dss</a></span><span class="op" id="6867288">.</span><span class="ident" id="6867289">cmu</span><span class="op" id="6867292">.</span><span class="ident" id="6867293">Unlock</span><span class="op" id="6867299">(</span><span class="op" id="6867300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867303">return</span>&nbsp;<span class="ident" id="6867310">nil</span><br>
<span class="lineno">35</span><span class="op" id="6867314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6867317">func</span>&nbsp;<span class="op" id="6867322">(</span><span class="ident" id="6867323">dss</span>&nbsp;<span class="op" id="6867327">*</span><span class="ident" id="6867328"><a href="/net/mockserver_test.go.html#6866861">dualStackServer</a></span><span class="op" id="6867343">)</span>&nbsp;<span class="ident" id="6867345">teardownNetwork</span><span class="op" id="6867360">(</span><span class="ident" id="6867361">net</span>&nbsp;<span class="builtintype" id="6867365">string</span><span class="op" id="6867371">)</span>&nbsp;<span class="builtintype" id="6867373">error</span>&nbsp;<span class="op" id="6867379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867382"><a href="/net/mockserver_test.go.html#6867323">dss</a></span><span class="op" id="6867385">.</span><span class="ident" id="6867386">lnmu</span><span class="op" id="6867390">.</span><span class="ident" id="6867391">Lock</span><span class="op" id="6867395">(</span><span class="op" id="6867396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867399">for</span>&nbsp;<span class="ident" id="6867403">i</span>&nbsp;<span class="op" id="6867405">:=</span>&nbsp;<span class="keyword" id="6867408">range</span>&nbsp;<span class="ident" id="6867414"><a href="/net/mockserver_test.go.html#6867323">dss</a></span><span class="op" id="6867417">.</span><span class="ident" id="6867418">lns</span>&nbsp;<span class="op" id="6867422">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867426">if</span>&nbsp;<span class="ident" id="6867429"><a href="/net/mockserver_test.go.html#6867361">net</a></span>&nbsp;<span class="op" id="6867433">==</span>&nbsp;<span class="ident" id="6867436"><a href="/net/mockserver_test.go.html#6867323">dss</a></span><span class="op" id="6867439">.</span><span class="ident" id="6867440">lns</span><span class="op" id="6867443">[</span><span class="ident" id="6867444"><a href="/net/mockserver_test.go.html#6867403">i</a></span><span class="op" id="6867445">]</span><span class="op" id="6867446">.</span><span class="ident" id="6867447">net</span>&nbsp;<span class="op" id="6867451">&amp;&amp;</span>&nbsp;<span class="ident" id="6867454"><a href="/net/mockserver_test.go.html#6867323">dss</a></span><span class="op" id="6867457">.</span><span class="ident" id="6867458">lns</span><span class="op" id="6867461">[</span><span class="ident" id="6867462"><a href="/net/mockserver_test.go.html#6867403">i</a></span><span class="op" id="6867463">]</span><span class="op" id="6867464">.</span><span class="ident" id="6867465">ln</span>&nbsp;<span class="op" id="6867468">!=</span>&nbsp;<span class="ident" id="6867471">nil</span>&nbsp;<span class="op" id="6867475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867480"><a href="/net/mockserver_test.go.html#6867323">dss</a></span><span class="op" id="6867483">.</span><span class="ident" id="6867484">lns</span><span class="op" id="6867487">[</span><span class="ident" id="6867488"><a href="/net/mockserver_test.go.html#6867403">i</a></span><span class="op" id="6867489">]</span><span class="op" id="6867490">.</span><span class="ident" id="6867491">ln</span><span class="op" id="6867493">.</span><span class="ident" id="6867494">Close</span><span class="op" id="6867499">(</span><span class="op" id="6867500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867505"><a href="/net/mockserver_test.go.html#6867323">dss</a></span><span class="op" id="6867508">.</span><span class="ident" id="6867509">lns</span><span class="op" id="6867512">[</span><span class="ident" id="6867513"><a href="/net/mockserver_test.go.html#6867403">i</a></span><span class="op" id="6867514">]</span><span class="op" id="6867515">.</span><span class="ident" id="6867516">ln</span>&nbsp;<span class="op" id="6867519">=</span>&nbsp;<span class="ident" id="6867521">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6867527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6867530">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867533"><a href="/net/mockserver_test.go.html#6867323">dss</a></span><span class="op" id="6867536">.</span><span class="ident" id="6867537">lnmu</span><span class="op" id="6867541">.</span><span class="ident" id="6867542">Unlock</span><span class="op" id="6867548">(</span><span class="op" id="6867549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867552">return</span>&nbsp;<span class="ident" id="6867559">nil</span><br>
<span class="lineno"></span><span class="op" id="6867563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6867566">func</span>&nbsp;<span class="op" id="6867571">(</span><span class="ident" id="6867572">dss</span>&nbsp;<span class="op" id="6867576">*</span><span class="ident" id="6867577"><a href="/net/mockserver_test.go.html#6866861">dualStackServer</a></span><span class="op" id="6867592">)</span>&nbsp;<span class="ident" id="6867594">teardown</span><span class="op" id="6867602">(</span><span class="op" id="6867603">)</span>&nbsp;<span class="builtintype" id="6867605">error</span>&nbsp;<span class="op" id="6867611">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867614"><a href="/net/mockserver_test.go.html#6867572">dss</a></span><span class="op" id="6867617">.</span><span class="ident" id="6867618">lnmu</span><span class="op" id="6867622">.</span><span class="ident" id="6867623">Lock</span><span class="op" id="6867627">(</span><span class="op" id="6867628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867631">for</span>&nbsp;<span class="ident" id="6867635">i</span>&nbsp;<span class="op" id="6867637">:=</span>&nbsp;<span class="keyword" id="6867640">range</span>&nbsp;<span class="ident" id="6867646"><a href="/net/mockserver_test.go.html#6867572">dss</a></span><span class="op" id="6867649">.</span><span class="ident" id="6867650">lns</span>&nbsp;<span class="op" id="6867654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867658">if</span>&nbsp;<span class="ident" id="6867661"><a href="/net/mockserver_test.go.html#6867572">dss</a></span><span class="op" id="6867664">.</span><span class="ident" id="6867665">lns</span><span class="op" id="6867668">[</span><span class="ident" id="6867669"><a href="/net/mockserver_test.go.html#6867635">i</a></span><span class="op" id="6867670">]</span><span class="op" id="6867671">.</span><span class="ident" id="6867672">ln</span>&nbsp;<span class="op" id="6867675">!=</span>&nbsp;<span class="ident" id="6867678">nil</span>&nbsp;<span class="op" id="6867682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867687"><a href="/net/mockserver_test.go.html#6867572">dss</a></span><span class="op" id="6867690">.</span><span class="ident" id="6867691">lns</span><span class="op" id="6867694">[</span><span class="ident" id="6867695"><a href="/net/mockserver_test.go.html#6867635">i</a></span><span class="op" id="6867696">]</span><span class="op" id="6867697">.</span><span class="ident" id="6867698">ln</span><span class="op" id="6867700">.</span><span class="ident" id="6867701">Close</span><span class="op" id="6867706">(</span><span class="op" id="6867707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6867711">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6867714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867717"><a href="/net/mockserver_test.go.html#6867572">dss</a></span><span class="op" id="6867720">.</span><span class="ident" id="6867721">lnmu</span><span class="op" id="6867725">.</span><span class="ident" id="6867726">Unlock</span><span class="op" id="6867732">(</span><span class="op" id="6867733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867736"><a href="/net/mockserver_test.go.html#6867572">dss</a></span><span class="op" id="6867739">.</span><span class="ident" id="6867740">cmu</span><span class="op" id="6867743">.</span><span class="ident" id="6867744">Lock</span><span class="op" id="6867748">(</span><span class="op" id="6867749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867752">for</span>&nbsp;<span class="ident" id="6867756">_</span><span class="op" id="6867757">,</span>&nbsp;<span class="ident" id="6867759">c</span>&nbsp;<span class="op" id="6867761">:=</span>&nbsp;<span class="keyword" id="6867764">range</span>&nbsp;<span class="ident" id="6867770"><a href="/net/mockserver_test.go.html#6867572">dss</a></span><span class="op" id="6867773">.</span><span class="ident" id="6867774">cs</span>&nbsp;<span class="op" id="6867777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867781"><a href="/net/mockserver_test.go.html#6867759">c</a></span><span class="op" id="6867782">.</span><span class="ident" id="6867783">Close</span><span class="op" id="6867788">(</span><span class="op" id="6867789">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6867792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867795"><a href="/net/mockserver_test.go.html#6867572">dss</a></span><span class="op" id="6867798">.</span><span class="ident" id="6867799">cmu</span><span class="op" id="6867802">.</span><span class="ident" id="6867803">Unlock</span><span class="op" id="6867809">(</span><span class="op" id="6867810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867813">return</span>&nbsp;<span class="ident" id="6867820">nil</span><br>
<span class="lineno"></span><span class="op" id="6867824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="6867827">func</span>&nbsp;<span class="ident" id="6867832">newDualStackServer</span><span class="op" id="6867850">(</span><span class="ident" id="6867851">lns</span>&nbsp;<span class="op" id="6867855">[</span><span class="op" id="6867856">]</span><span class="ident" id="6867857"><a href="/net/mockserver_test.go.html#6866791">streamListener</a></span><span class="op" id="6867871">)</span>&nbsp;<span class="op" id="6867873">(</span><span class="op" id="6867874">*</span><span class="ident" id="6867875"><a href="/net/mockserver_test.go.html#6866861">dualStackServer</a></span><span class="op" id="6867890">,</span>&nbsp;<span class="builtintype" id="6867892">error</span><span class="op" id="6867897">)</span>&nbsp;<span class="op" id="6867899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867902">dss</span>&nbsp;<span class="op" id="6867906">:=</span>&nbsp;<span class="op" id="6867909">&amp;</span><span class="ident" id="6867910"><a href="/net/mockserver_test.go.html#6866861">dualStackServer</a></span><span class="op" id="6867925">{</span><span class="ident" id="6867926">lns</span><span class="op" id="6867929">:</span>&nbsp;<span class="ident" id="6867931"><a href="/net/mockserver_test.go.html#6867851">lns</a></span><span class="op" id="6867934">,</span>&nbsp;<span class="ident" id="6867936">port</span><span class="op" id="6867940">:</span>&nbsp;<span class="string" id="6867942">&#34;0&#34;</span><span class="op" id="6867945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6867948">for</span>&nbsp;<span class="ident" id="6867952">i</span>&nbsp;<span class="op" id="6867954">:=</span>&nbsp;<span class="keyword" id="6867957">range</span>&nbsp;<span class="ident" id="6867963"><a href="/net/mockserver_test.go.html#6867902">dss</a></span><span class="op" id="6867966">.</span><span class="ident" id="6867967">lns</span>&nbsp;<span class="op" id="6867971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6867975">ln</span><span class="op" id="6867977">,</span>&nbsp;<span class="ident" id="6867979">err</span>&nbsp;<span class="op" id="6867983">:=</span>&nbsp;<span class="ident" id="6867986"><a href="/net/dial.go.html#2525176">Listen</a></span><span class="op" id="6867992">(</span><span class="ident" id="6867993"><a href="/net/mockserver_test.go.html#6867902">dss</a></span><span class="op" id="6867996">.</span><span class="ident" id="6867997">lns</span><span class="op" id="6868000">[</span><span class="ident" id="6868001"><a href="/net/mockserver_test.go.html#6867952">i</a></span><span class="op" id="6868002">]</span><span class="op" id="6868003">.</span><span class="ident" id="6868004">net</span><span class="op" id="6868007">,</span>&nbsp;<span class="ident" id="6868009"><a href="/net/mockserver_test.go.html#6867902">dss</a></span><span class="op" id="6868012">.</span><span class="ident" id="6868013">lns</span><span class="op" id="6868016">[</span><span class="ident" id="6868017"><a href="/net/mockserver_test.go.html#6867952">i</a></span><span class="op" id="6868018">]</span><span class="op" id="6868019">.</span><span class="ident" id="6868020">addr</span><span class="op" id="6868024">+</span><span class="string" id="6868025">&#34;:&#34;</span><span class="op" id="6868028">+</span><span class="ident" id="6868029"><a href="/net/mockserver_test.go.html#6867902">dss</a></span><span class="op" id="6868032">.</span><span class="ident" id="6868033">port</span><span class="op" id="6868037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6868041">if</span>&nbsp;<span class="ident" id="6868044"><a href="/net/mockserver_test.go.html#6867979">err</a></span>&nbsp;<span class="op" id="6868048">!=</span>&nbsp;<span class="ident" id="6868051">nil</span>&nbsp;<span class="op" id="6868055">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6868060"><a href="/net/mockserver_test.go.html#6867902">dss</a></span><span class="op" id="6868063">.</span><span class="ident" id="6868064">teardown</span><span class="op" id="6868072">(</span><span class="op" id="6868073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6868078">return</span>&nbsp;<span class="ident" id="6868085">nil</span><span class="op" id="6868088">,</span>&nbsp;<span class="ident" id="6868090"><a href="/net/mockserver_test.go.html#6867979">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6868096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6868100"><a href="/net/mockserver_test.go.html#6867902">dss</a></span><span class="op" id="6868103">.</span><span class="ident" id="6868104">lns</span><span class="op" id="6868107">[</span><span class="ident" id="6868108"><a href="/net/mockserver_test.go.html#6867952">i</a></span><span class="op" id="6868109">]</span><span class="op" id="6868110">.</span><span class="ident" id="6868111">ln</span>&nbsp;<span class="op" id="6868114">=</span>&nbsp;<span class="ident" id="6868116"><a href="/net/mockserver_test.go.html#6867975">ln</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6868121">if</span>&nbsp;<span class="ident" id="6868124"><a href="/net/mockserver_test.go.html#6867902">dss</a></span><span class="op" id="6868127">.</span><span class="ident" id="6868128">port</span>&nbsp;<span class="op" id="6868133">==</span>&nbsp;<span class="string" id="6868136">&#34;0&#34;</span>&nbsp;<span class="op" id="6868140">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6868145">if</span>&nbsp;<span class="ident" id="6868148">_</span><span class="op" id="6868149">,</span>&nbsp;<span class="ident" id="6868151"><a href="/net/mockserver_test.go.html#6867902">dss</a></span><span class="op" id="6868154">.</span><span class="ident" id="6868155">port</span><span class="op" id="6868159">,</span>&nbsp;<span class="ident" id="6868161"><a href="/net/mockserver_test.go.html#6867979">err</a></span>&nbsp;<span class="op" id="6868165">=</span>&nbsp;<span class="ident" id="6868167"><a href="/net/ipsock.go.html#2631267">SplitHostPort</a></span><span class="op" id="6868180">(</span><span class="ident" id="6868181"><a href="/net/mockserver_test.go.html#6867975">ln</a></span><span class="op" id="6868183">.</span><span class="ident" id="6868184">Addr</span><span class="op" id="6868188">(</span><span class="op" id="6868189">)</span><span class="op" id="6868190">.</span><span class="ident" id="6868191">String</span><span class="op" id="6868197">(</span><span class="op" id="6868198">)</span><span class="op" id="6868199">)</span><span class="op" id="6868200">;</span>&nbsp;<span class="ident" id="6868202"><a href="/net/mockserver_test.go.html#6867979">err</a></span>&nbsp;<span class="op" id="6868206">!=</span>&nbsp;<span class="ident" id="6868209">nil</span>&nbsp;<span class="op" id="6868213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6868219"><a href="/net/mockserver_test.go.html#6867902">dss</a></span><span class="op" id="6868222">.</span><span class="ident" id="6868223">teardown</span><span class="op" id="6868231">(</span><span class="op" id="6868232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6868238">return</span>&nbsp;<span class="ident" id="6868245">nil</span><span class="op" id="6868248">,</span>&nbsp;<span class="ident" id="6868250"><a href="/net/mockserver_test.go.html#6867979">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6868257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6868261">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6868264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6868267">return</span>&nbsp;<span class="ident" id="6868274"><a href="/net/mockserver_test.go.html#6867902">dss</a></span><span class="op" id="6868277">,</span>&nbsp;<span class="ident" id="6868279">nil</span><br>
<span class="lineno"></span><span class="op" id="6868283">}</span>
</div>
</body>
</html>
