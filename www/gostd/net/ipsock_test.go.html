<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8251703">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8251758">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8251812">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8251863">package</span>&nbsp;<span class="ident" id="8251871">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8251876">import</span>&nbsp;<span class="op" id="8251883">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8251886">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8251897">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8251907">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8251910">var</span>&nbsp;<span class="ident" id="8251914">testInetaddr</span>&nbsp;<span class="op" id="8251927">=</span>&nbsp;<span class="keyword" id="8251929">func</span><span class="op" id="8251933">(</span><span class="ident" id="8251934">ip</span>&nbsp;<span class="ident" id="8251937">IP</span><span class="op" id="8251939">)</span>&nbsp;<span class="ident" id="8251941">netaddr</span>&nbsp;<span class="op" id="8251949">{</span>&nbsp;<span class="keyword" id="8251951">return</span>&nbsp;<span class="op" id="8251958">&amp;</span><span class="ident" id="8251959">TCPAddr</span><span class="op" id="8251966">{</span><span class="ident" id="8251967">IP</span><span class="op" id="8251969">:</span>&nbsp;<span class="ident" id="8251971">ip</span><span class="op" id="8251973">,</span>&nbsp;<span class="ident" id="8251975">Port</span><span class="op" id="8251979">:</span>&nbsp;<span class="num" id="8251981">5682</span><span class="op" id="8251985">}</span>&nbsp;<span class="op" id="8251987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8251990">var</span>&nbsp;<span class="ident" id="8251994">firstFavoriteAddrTests</span>&nbsp;<span class="op" id="8252017">=</span>&nbsp;<span class="op" id="8252019">[</span><span class="op" id="8252020">]</span><span class="keyword" id="8252021">struct</span>&nbsp;<span class="op" id="8252028">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252031">filter</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="8252040">func</span><span class="op" id="8252044">(</span><span class="ident" id="8252045">IP</span><span class="op" id="8252047">)</span>&nbsp;<span class="ident" id="8252049">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252053">ips</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8252062">[</span><span class="op" id="8252063">]</span><span class="ident" id="8252064">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252068">inetaddr</span>&nbsp;<span class="keyword" id="8252077">func</span><span class="op" id="8252081">(</span><span class="ident" id="8252082">IP</span><span class="op" id="8252084">)</span>&nbsp;<span class="ident" id="8252086">netaddr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252095">addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8252104">netaddr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252113">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8252122">error</span><br>
<span class="lineno">20</span><span class="op" id="8252128">}</span><span class="op" id="8252129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252136">nil</span><span class="op" id="8252139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252143">[</span><span class="op" id="8252144">]</span><span class="ident" id="8252145">IP</span><span class="op" id="8252147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252152">IPv4</span><span class="op" id="8252156">(</span><span class="num" id="8252157">127</span><span class="op" id="8252160">,</span>&nbsp;<span class="num" id="8252162">0</span><span class="op" id="8252163">,</span>&nbsp;<span class="num" id="8252165">0</span><span class="op" id="8252166">,</span>&nbsp;<span class="num" id="8252168">1</span><span class="op" id="8252169">)</span><span class="op" id="8252170">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252175">IPv6loopback</span><span class="op" id="8252187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252191">}</span><span class="op" id="8252192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252196">testInetaddr</span><span class="op" id="8252208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252212">addrList</span><span class="op" id="8252220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252225">&amp;</span><span class="ident" id="8252226">TCPAddr</span><span class="op" id="8252233">{</span><span class="ident" id="8252234">IP</span><span class="op" id="8252236">:</span>&nbsp;<span class="ident" id="8252238">IPv4</span><span class="op" id="8252242">(</span><span class="num" id="8252243">127</span><span class="op" id="8252246">,</span>&nbsp;<span class="num" id="8252248">0</span><span class="op" id="8252249">,</span>&nbsp;<span class="num" id="8252251">0</span><span class="op" id="8252252">,</span>&nbsp;<span class="num" id="8252254">1</span><span class="op" id="8252255">)</span><span class="op" id="8252256">,</span>&nbsp;<span class="ident" id="8252258">Port</span><span class="op" id="8252262">:</span>&nbsp;<span class="num" id="8252264">5682</span><span class="op" id="8252268">}</span><span class="op" id="8252269">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252274">&amp;</span><span class="ident" id="8252275">TCPAddr</span><span class="op" id="8252282">{</span><span class="ident" id="8252283">IP</span><span class="op" id="8252285">:</span>&nbsp;<span class="ident" id="8252287">IPv6loopback</span><span class="op" id="8252299">,</span>&nbsp;<span class="ident" id="8252301">Port</span><span class="op" id="8252305">:</span>&nbsp;<span class="num" id="8252307">5682</span><span class="op" id="8252311">}</span><span class="op" id="8252312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252316">}</span><span class="op" id="8252317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252321">nil</span><span class="op" id="8252324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252327">}</span><span class="op" id="8252328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252331">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252335">nil</span><span class="op" id="8252338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252342">[</span><span class="op" id="8252343">]</span><span class="ident" id="8252344">IP</span><span class="op" id="8252346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252351">IPv6loopback</span><span class="op" id="8252363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252368">IPv4</span><span class="op" id="8252372">(</span><span class="num" id="8252373">127</span><span class="op" id="8252376">,</span>&nbsp;<span class="num" id="8252378">0</span><span class="op" id="8252379">,</span>&nbsp;<span class="num" id="8252381">0</span><span class="op" id="8252382">,</span>&nbsp;<span class="num" id="8252384">1</span><span class="op" id="8252385">)</span><span class="op" id="8252386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252390">}</span><span class="op" id="8252391">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252395">testInetaddr</span><span class="op" id="8252407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252411">addrList</span><span class="op" id="8252419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252424">&amp;</span><span class="ident" id="8252425">TCPAddr</span><span class="op" id="8252432">{</span><span class="ident" id="8252433">IP</span><span class="op" id="8252435">:</span>&nbsp;<span class="ident" id="8252437">IPv4</span><span class="op" id="8252441">(</span><span class="num" id="8252442">127</span><span class="op" id="8252445">,</span>&nbsp;<span class="num" id="8252447">0</span><span class="op" id="8252448">,</span>&nbsp;<span class="num" id="8252450">0</span><span class="op" id="8252451">,</span>&nbsp;<span class="num" id="8252453">1</span><span class="op" id="8252454">)</span><span class="op" id="8252455">,</span>&nbsp;<span class="ident" id="8252457">Port</span><span class="op" id="8252461">:</span>&nbsp;<span class="num" id="8252463">5682</span><span class="op" id="8252467">}</span><span class="op" id="8252468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252473">&amp;</span><span class="ident" id="8252474">TCPAddr</span><span class="op" id="8252481">{</span><span class="ident" id="8252482">IP</span><span class="op" id="8252484">:</span>&nbsp;<span class="ident" id="8252486">IPv6loopback</span><span class="op" id="8252498">,</span>&nbsp;<span class="ident" id="8252500">Port</span><span class="op" id="8252504">:</span>&nbsp;<span class="num" id="8252506">5682</span><span class="op" id="8252510">}</span><span class="op" id="8252511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252515">}</span><span class="op" id="8252516">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252520">nil</span><span class="op" id="8252523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252526">}</span><span class="op" id="8252527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252534">nil</span><span class="op" id="8252537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252541">[</span><span class="op" id="8252542">]</span><span class="ident" id="8252543">IP</span><span class="op" id="8252545">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252550">IPv4</span><span class="op" id="8252554">(</span><span class="num" id="8252555">127</span><span class="op" id="8252558">,</span>&nbsp;<span class="num" id="8252560">0</span><span class="op" id="8252561">,</span>&nbsp;<span class="num" id="8252563">0</span><span class="op" id="8252564">,</span>&nbsp;<span class="num" id="8252566">1</span><span class="op" id="8252567">)</span><span class="op" id="8252568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252573">IPv4</span><span class="op" id="8252577">(</span><span class="num" id="8252578">192</span><span class="op" id="8252581">,</span>&nbsp;<span class="num" id="8252583">168</span><span class="op" id="8252586">,</span>&nbsp;<span class="num" id="8252588">0</span><span class="op" id="8252589">,</span>&nbsp;<span class="num" id="8252591">1</span><span class="op" id="8252592">)</span><span class="op" id="8252593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252597">}</span><span class="op" id="8252598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252602">testInetaddr</span><span class="op" id="8252614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252618">&amp;</span><span class="ident" id="8252619">TCPAddr</span><span class="op" id="8252626">{</span><span class="ident" id="8252627">IP</span><span class="op" id="8252629">:</span>&nbsp;<span class="ident" id="8252631">IPv4</span><span class="op" id="8252635">(</span><span class="num" id="8252636">127</span><span class="op" id="8252639">,</span>&nbsp;<span class="num" id="8252641">0</span><span class="op" id="8252642">,</span>&nbsp;<span class="num" id="8252644">0</span><span class="op" id="8252645">,</span>&nbsp;<span class="num" id="8252647">1</span><span class="op" id="8252648">)</span><span class="op" id="8252649">,</span>&nbsp;<span class="ident" id="8252651">Port</span><span class="op" id="8252655">:</span>&nbsp;<span class="num" id="8252657">5682</span><span class="op" id="8252661">}</span><span class="op" id="8252662">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252666">nil</span><span class="op" id="8252669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252672">}</span><span class="op" id="8252673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252680">nil</span><span class="op" id="8252683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252687">[</span><span class="op" id="8252688">]</span><span class="ident" id="8252689">IP</span><span class="op" id="8252691">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252696">IPv6loopback</span><span class="op" id="8252708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252713">ParseIP</span><span class="op" id="8252720">(</span><span class="string" id="8252721">&#34;fe80::1&#34;</span><span class="op" id="8252730">)</span><span class="op" id="8252731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252735">}</span><span class="op" id="8252736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252740">testInetaddr</span><span class="op" id="8252752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252756">&amp;</span><span class="ident" id="8252757">TCPAddr</span><span class="op" id="8252764">{</span><span class="ident" id="8252765">IP</span><span class="op" id="8252767">:</span>&nbsp;<span class="ident" id="8252769">IPv6loopback</span><span class="op" id="8252781">,</span>&nbsp;<span class="ident" id="8252783">Port</span><span class="op" id="8252787">:</span>&nbsp;<span class="num" id="8252789">5682</span><span class="op" id="8252793">}</span><span class="op" id="8252794">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252798">nil</span><span class="op" id="8252801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252804">}</span><span class="op" id="8252805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252812">nil</span><span class="op" id="8252815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252819">[</span><span class="op" id="8252820">]</span><span class="ident" id="8252821">IP</span><span class="op" id="8252823">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252828">IPv4</span><span class="op" id="8252832">(</span><span class="num" id="8252833">127</span><span class="op" id="8252836">,</span>&nbsp;<span class="num" id="8252838">0</span><span class="op" id="8252839">,</span>&nbsp;<span class="num" id="8252841">0</span><span class="op" id="8252842">,</span>&nbsp;<span class="num" id="8252844">1</span><span class="op" id="8252845">)</span><span class="op" id="8252846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252851">IPv4</span><span class="op" id="8252855">(</span><span class="num" id="8252856">192</span><span class="op" id="8252859">,</span>&nbsp;<span class="num" id="8252861">168</span><span class="op" id="8252864">,</span>&nbsp;<span class="num" id="8252866">0</span><span class="op" id="8252867">,</span>&nbsp;<span class="num" id="8252869">1</span><span class="op" id="8252870">)</span><span class="op" id="8252871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252876">IPv6loopback</span><span class="op" id="8252888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252893">ParseIP</span><span class="op" id="8252900">(</span><span class="string" id="8252901">&#34;fe80::1&#34;</span><span class="op" id="8252910">)</span><span class="op" id="8252911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252915">}</span><span class="op" id="8252916">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252920">testInetaddr</span><span class="op" id="8252932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252936">addrList</span><span class="op" id="8252944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252949">&amp;</span><span class="ident" id="8252950">TCPAddr</span><span class="op" id="8252957">{</span><span class="ident" id="8252958">IP</span><span class="op" id="8252960">:</span>&nbsp;<span class="ident" id="8252962">IPv4</span><span class="op" id="8252966">(</span><span class="num" id="8252967">127</span><span class="op" id="8252970">,</span>&nbsp;<span class="num" id="8252972">0</span><span class="op" id="8252973">,</span>&nbsp;<span class="num" id="8252975">0</span><span class="op" id="8252976">,</span>&nbsp;<span class="num" id="8252978">1</span><span class="op" id="8252979">)</span><span class="op" id="8252980">,</span>&nbsp;<span class="ident" id="8252982">Port</span><span class="op" id="8252986">:</span>&nbsp;<span class="num" id="8252988">5682</span><span class="op" id="8252992">}</span><span class="op" id="8252993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252998">&amp;</span><span class="ident" id="8252999">TCPAddr</span><span class="op" id="8253006">{</span><span class="ident" id="8253007">IP</span><span class="op" id="8253009">:</span>&nbsp;<span class="ident" id="8253011">IPv6loopback</span><span class="op" id="8253023">,</span>&nbsp;<span class="ident" id="8253025">Port</span><span class="op" id="8253029">:</span>&nbsp;<span class="num" id="8253031">5682</span><span class="op" id="8253035">}</span><span class="op" id="8253036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253040">}</span><span class="op" id="8253041">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253045">nil</span><span class="op" id="8253048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253051">}</span><span class="op" id="8253052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253059">nil</span><span class="op" id="8253062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253066">[</span><span class="op" id="8253067">]</span><span class="ident" id="8253068">IP</span><span class="op" id="8253070">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253075">IPv6loopback</span><span class="op" id="8253087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253092">ParseIP</span><span class="op" id="8253099">(</span><span class="string" id="8253100">&#34;fe80::1&#34;</span><span class="op" id="8253109">)</span><span class="op" id="8253110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253115">IPv4</span><span class="op" id="8253119">(</span><span class="num" id="8253120">127</span><span class="op" id="8253123">,</span>&nbsp;<span class="num" id="8253125">0</span><span class="op" id="8253126">,</span>&nbsp;<span class="num" id="8253128">0</span><span class="op" id="8253129">,</span>&nbsp;<span class="num" id="8253131">1</span><span class="op" id="8253132">)</span><span class="op" id="8253133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253138">IPv4</span><span class="op" id="8253142">(</span><span class="num" id="8253143">192</span><span class="op" id="8253146">,</span>&nbsp;<span class="num" id="8253148">168</span><span class="op" id="8253151">,</span>&nbsp;<span class="num" id="8253153">0</span><span class="op" id="8253154">,</span>&nbsp;<span class="num" id="8253156">1</span><span class="op" id="8253157">)</span><span class="op" id="8253158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253162">}</span><span class="op" id="8253163">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253167">testInetaddr</span><span class="op" id="8253179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253183">addrList</span><span class="op" id="8253191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253196">&amp;</span><span class="ident" id="8253197">TCPAddr</span><span class="op" id="8253204">{</span><span class="ident" id="8253205">IP</span><span class="op" id="8253207">:</span>&nbsp;<span class="ident" id="8253209">IPv4</span><span class="op" id="8253213">(</span><span class="num" id="8253214">127</span><span class="op" id="8253217">,</span>&nbsp;<span class="num" id="8253219">0</span><span class="op" id="8253220">,</span>&nbsp;<span class="num" id="8253222">0</span><span class="op" id="8253223">,</span>&nbsp;<span class="num" id="8253225">1</span><span class="op" id="8253226">)</span><span class="op" id="8253227">,</span>&nbsp;<span class="ident" id="8253229">Port</span><span class="op" id="8253233">:</span>&nbsp;<span class="num" id="8253235">5682</span><span class="op" id="8253239">}</span><span class="op" id="8253240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253245">&amp;</span><span class="ident" id="8253246">TCPAddr</span><span class="op" id="8253253">{</span><span class="ident" id="8253254">IP</span><span class="op" id="8253256">:</span>&nbsp;<span class="ident" id="8253258">IPv6loopback</span><span class="op" id="8253270">,</span>&nbsp;<span class="ident" id="8253272">Port</span><span class="op" id="8253276">:</span>&nbsp;<span class="num" id="8253278">5682</span><span class="op" id="8253282">}</span><span class="op" id="8253283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253287">}</span><span class="op" id="8253288">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253292">nil</span><span class="op" id="8253295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253298">}</span><span class="op" id="8253299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253306">nil</span><span class="op" id="8253309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253313">[</span><span class="op" id="8253314">]</span><span class="ident" id="8253315">IP</span><span class="op" id="8253317">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253322">IPv4</span><span class="op" id="8253326">(</span><span class="num" id="8253327">127</span><span class="op" id="8253330">,</span>&nbsp;<span class="num" id="8253332">0</span><span class="op" id="8253333">,</span>&nbsp;<span class="num" id="8253335">0</span><span class="op" id="8253336">,</span>&nbsp;<span class="num" id="8253338">1</span><span class="op" id="8253339">)</span><span class="op" id="8253340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253345">IPv6loopback</span><span class="op" id="8253357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253362">IPv4</span><span class="op" id="8253366">(</span><span class="num" id="8253367">192</span><span class="op" id="8253370">,</span>&nbsp;<span class="num" id="8253372">168</span><span class="op" id="8253375">,</span>&nbsp;<span class="num" id="8253377">0</span><span class="op" id="8253378">,</span>&nbsp;<span class="num" id="8253380">1</span><span class="op" id="8253381">)</span><span class="op" id="8253382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253387">ParseIP</span><span class="op" id="8253394">(</span><span class="string" id="8253395">&#34;fe80::1&#34;</span><span class="op" id="8253404">)</span><span class="op" id="8253405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253409">}</span><span class="op" id="8253410">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253414">testInetaddr</span><span class="op" id="8253426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253430">addrList</span><span class="op" id="8253438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253443">&amp;</span><span class="ident" id="8253444">TCPAddr</span><span class="op" id="8253451">{</span><span class="ident" id="8253452">IP</span><span class="op" id="8253454">:</span>&nbsp;<span class="ident" id="8253456">IPv4</span><span class="op" id="8253460">(</span><span class="num" id="8253461">127</span><span class="op" id="8253464">,</span>&nbsp;<span class="num" id="8253466">0</span><span class="op" id="8253467">,</span>&nbsp;<span class="num" id="8253469">0</span><span class="op" id="8253470">,</span>&nbsp;<span class="num" id="8253472">1</span><span class="op" id="8253473">)</span><span class="op" id="8253474">,</span>&nbsp;<span class="ident" id="8253476">Port</span><span class="op" id="8253480">:</span>&nbsp;<span class="num" id="8253482">5682</span><span class="op" id="8253486">}</span><span class="op" id="8253487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253492">&amp;</span><span class="ident" id="8253493">TCPAddr</span><span class="op" id="8253500">{</span><span class="ident" id="8253501">IP</span><span class="op" id="8253503">:</span>&nbsp;<span class="ident" id="8253505">IPv6loopback</span><span class="op" id="8253517">,</span>&nbsp;<span class="ident" id="8253519">Port</span><span class="op" id="8253523">:</span>&nbsp;<span class="num" id="8253525">5682</span><span class="op" id="8253529">}</span><span class="op" id="8253530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253534">}</span><span class="op" id="8253535">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253539">nil</span><span class="op" id="8253542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253545">}</span><span class="op" id="8253546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253553">nil</span><span class="op" id="8253556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253560">[</span><span class="op" id="8253561">]</span><span class="ident" id="8253562">IP</span><span class="op" id="8253564">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253569">IPv6loopback</span><span class="op" id="8253581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253586">IPv4</span><span class="op" id="8253590">(</span><span class="num" id="8253591">127</span><span class="op" id="8253594">,</span>&nbsp;<span class="num" id="8253596">0</span><span class="op" id="8253597">,</span>&nbsp;<span class="num" id="8253599">0</span><span class="op" id="8253600">,</span>&nbsp;<span class="num" id="8253602">1</span><span class="op" id="8253603">)</span><span class="op" id="8253604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253609">ParseIP</span><span class="op" id="8253616">(</span><span class="string" id="8253617">&#34;fe80::1&#34;</span><span class="op" id="8253626">)</span><span class="op" id="8253627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253632">IPv4</span><span class="op" id="8253636">(</span><span class="num" id="8253637">192</span><span class="op" id="8253640">,</span>&nbsp;<span class="num" id="8253642">168</span><span class="op" id="8253645">,</span>&nbsp;<span class="num" id="8253647">0</span><span class="op" id="8253648">,</span>&nbsp;<span class="num" id="8253650">1</span><span class="op" id="8253651">)</span><span class="op" id="8253652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253656">}</span><span class="op" id="8253657">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253661">testInetaddr</span><span class="op" id="8253673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253677">addrList</span><span class="op" id="8253685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253690">&amp;</span><span class="ident" id="8253691">TCPAddr</span><span class="op" id="8253698">{</span><span class="ident" id="8253699">IP</span><span class="op" id="8253701">:</span>&nbsp;<span class="ident" id="8253703">IPv4</span><span class="op" id="8253707">(</span><span class="num" id="8253708">127</span><span class="op" id="8253711">,</span>&nbsp;<span class="num" id="8253713">0</span><span class="op" id="8253714">,</span>&nbsp;<span class="num" id="8253716">0</span><span class="op" id="8253717">,</span>&nbsp;<span class="num" id="8253719">1</span><span class="op" id="8253720">)</span><span class="op" id="8253721">,</span>&nbsp;<span class="ident" id="8253723">Port</span><span class="op" id="8253727">:</span>&nbsp;<span class="num" id="8253729">5682</span><span class="op" id="8253733">}</span><span class="op" id="8253734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253739">&amp;</span><span class="ident" id="8253740">TCPAddr</span><span class="op" id="8253747">{</span><span class="ident" id="8253748">IP</span><span class="op" id="8253750">:</span>&nbsp;<span class="ident" id="8253752">IPv6loopback</span><span class="op" id="8253764">,</span>&nbsp;<span class="ident" id="8253766">Port</span><span class="op" id="8253770">:</span>&nbsp;<span class="num" id="8253772">5682</span><span class="op" id="8253776">}</span><span class="op" id="8253777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253781">}</span><span class="op" id="8253782">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253786">nil</span><span class="op" id="8253789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253792">}</span><span class="op" id="8253793">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253801">ipv4only</span><span class="op" id="8253809">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253813">[</span><span class="op" id="8253814">]</span><span class="ident" id="8253815">IP</span><span class="op" id="8253817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253822">IPv4</span><span class="op" id="8253826">(</span><span class="num" id="8253827">127</span><span class="op" id="8253830">,</span>&nbsp;<span class="num" id="8253832">0</span><span class="op" id="8253833">,</span>&nbsp;<span class="num" id="8253835">0</span><span class="op" id="8253836">,</span>&nbsp;<span class="num" id="8253838">1</span><span class="op" id="8253839">)</span><span class="op" id="8253840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253845">IPv6loopback</span><span class="op" id="8253857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253861">}</span><span class="op" id="8253862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253866">testInetaddr</span><span class="op" id="8253878">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253882">&amp;</span><span class="ident" id="8253883">TCPAddr</span><span class="op" id="8253890">{</span><span class="ident" id="8253891">IP</span><span class="op" id="8253893">:</span>&nbsp;<span class="ident" id="8253895">IPv4</span><span class="op" id="8253899">(</span><span class="num" id="8253900">127</span><span class="op" id="8253903">,</span>&nbsp;<span class="num" id="8253905">0</span><span class="op" id="8253906">,</span>&nbsp;<span class="num" id="8253908">0</span><span class="op" id="8253909">,</span>&nbsp;<span class="num" id="8253911">1</span><span class="op" id="8253912">)</span><span class="op" id="8253913">,</span>&nbsp;<span class="ident" id="8253915">Port</span><span class="op" id="8253919">:</span>&nbsp;<span class="num" id="8253921">5682</span><span class="op" id="8253925">}</span><span class="op" id="8253926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253930">nil</span><span class="op" id="8253933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253936">}</span><span class="op" id="8253937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253944">ipv4only</span><span class="op" id="8253952">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8253956">[</span><span class="op" id="8253957">]</span><span class="ident" id="8253958">IP</span><span class="op" id="8253960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253965">IPv6loopback</span><span class="op" id="8253977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253982">IPv4</span><span class="op" id="8253986">(</span><span class="num" id="8253987">127</span><span class="op" id="8253990">,</span>&nbsp;<span class="num" id="8253992">0</span><span class="op" id="8253993">,</span>&nbsp;<span class="num" id="8253995">0</span><span class="op" id="8253996">,</span>&nbsp;<span class="num" id="8253998">1</span><span class="op" id="8253999">)</span><span class="op" id="8254000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254004">}</span><span class="op" id="8254005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254009">testInetaddr</span><span class="op" id="8254021">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254025">&amp;</span><span class="ident" id="8254026">TCPAddr</span><span class="op" id="8254033">{</span><span class="ident" id="8254034">IP</span><span class="op" id="8254036">:</span>&nbsp;<span class="ident" id="8254038">IPv4</span><span class="op" id="8254042">(</span><span class="num" id="8254043">127</span><span class="op" id="8254046">,</span>&nbsp;<span class="num" id="8254048">0</span><span class="op" id="8254049">,</span>&nbsp;<span class="num" id="8254051">0</span><span class="op" id="8254052">,</span>&nbsp;<span class="num" id="8254054">1</span><span class="op" id="8254055">)</span><span class="op" id="8254056">,</span>&nbsp;<span class="ident" id="8254058">Port</span><span class="op" id="8254062">:</span>&nbsp;<span class="num" id="8254064">5682</span><span class="op" id="8254068">}</span><span class="op" id="8254069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254073">nil</span><span class="op" id="8254076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254079">}</span><span class="op" id="8254080">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254084">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254088">ipv6only</span><span class="op" id="8254096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254100">[</span><span class="op" id="8254101">]</span><span class="ident" id="8254102">IP</span><span class="op" id="8254104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254109">IPv4</span><span class="op" id="8254113">(</span><span class="num" id="8254114">127</span><span class="op" id="8254117">,</span>&nbsp;<span class="num" id="8254119">0</span><span class="op" id="8254120">,</span>&nbsp;<span class="num" id="8254122">0</span><span class="op" id="8254123">,</span>&nbsp;<span class="num" id="8254125">1</span><span class="op" id="8254126">)</span><span class="op" id="8254127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254132">IPv6loopback</span><span class="op" id="8254144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254148">}</span><span class="op" id="8254149">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254153">testInetaddr</span><span class="op" id="8254165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254169">&amp;</span><span class="ident" id="8254170">TCPAddr</span><span class="op" id="8254177">{</span><span class="ident" id="8254178">IP</span><span class="op" id="8254180">:</span>&nbsp;<span class="ident" id="8254182">IPv6loopback</span><span class="op" id="8254194">,</span>&nbsp;<span class="ident" id="8254196">Port</span><span class="op" id="8254200">:</span>&nbsp;<span class="num" id="8254202">5682</span><span class="op" id="8254206">}</span><span class="op" id="8254207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254211">nil</span><span class="op" id="8254214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254217">}</span><span class="op" id="8254218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254221">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254225">ipv6only</span><span class="op" id="8254233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254237">[</span><span class="op" id="8254238">]</span><span class="ident" id="8254239">IP</span><span class="op" id="8254241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254246">IPv6loopback</span><span class="op" id="8254258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254263">IPv4</span><span class="op" id="8254267">(</span><span class="num" id="8254268">127</span><span class="op" id="8254271">,</span>&nbsp;<span class="num" id="8254273">0</span><span class="op" id="8254274">,</span>&nbsp;<span class="num" id="8254276">0</span><span class="op" id="8254277">,</span>&nbsp;<span class="num" id="8254279">1</span><span class="op" id="8254280">)</span><span class="op" id="8254281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254285">}</span><span class="op" id="8254286">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254290">testInetaddr</span><span class="op" id="8254302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254306">&amp;</span><span class="ident" id="8254307">TCPAddr</span><span class="op" id="8254314">{</span><span class="ident" id="8254315">IP</span><span class="op" id="8254317">:</span>&nbsp;<span class="ident" id="8254319">IPv6loopback</span><span class="op" id="8254331">,</span>&nbsp;<span class="ident" id="8254333">Port</span><span class="op" id="8254337">:</span>&nbsp;<span class="num" id="8254339">5682</span><span class="op" id="8254343">}</span><span class="op" id="8254344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254348">nil</span><span class="op" id="8254351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254354">}</span><span class="op" id="8254355">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254359">{</span><span class="ident" id="8254360">nil</span><span class="op" id="8254363">,</span>&nbsp;<span class="ident" id="8254365">nil</span><span class="op" id="8254368">,</span>&nbsp;<span class="ident" id="8254370">testInetaddr</span><span class="op" id="8254382">,</span>&nbsp;<span class="ident" id="8254384">nil</span><span class="op" id="8254387">,</span>&nbsp;<span class="ident" id="8254389">errNoSuitableAddress</span><span class="op" id="8254409">}</span><span class="op" id="8254410">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254414">{</span><span class="ident" id="8254415">ipv4only</span><span class="op" id="8254423">,</span>&nbsp;<span class="ident" id="8254425">nil</span><span class="op" id="8254428">,</span>&nbsp;<span class="ident" id="8254430">testInetaddr</span><span class="op" id="8254442">,</span>&nbsp;<span class="ident" id="8254444">nil</span><span class="op" id="8254447">,</span>&nbsp;<span class="ident" id="8254449">errNoSuitableAddress</span><span class="op" id="8254469">}</span><span class="op" id="8254470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254473">{</span><span class="ident" id="8254474">ipv4only</span><span class="op" id="8254482">,</span>&nbsp;<span class="op" id="8254484">[</span><span class="op" id="8254485">]</span><span class="ident" id="8254486">IP</span><span class="op" id="8254488">{</span><span class="ident" id="8254489">IPv6loopback</span><span class="op" id="8254501">}</span><span class="op" id="8254502">,</span>&nbsp;<span class="ident" id="8254504">testInetaddr</span><span class="op" id="8254516">,</span>&nbsp;<span class="ident" id="8254518">nil</span><span class="op" id="8254521">,</span>&nbsp;<span class="ident" id="8254523">errNoSuitableAddress</span><span class="op" id="8254543">}</span><span class="op" id="8254544">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254548">{</span><span class="ident" id="8254549">ipv6only</span><span class="op" id="8254557">,</span>&nbsp;<span class="ident" id="8254559">nil</span><span class="op" id="8254562">,</span>&nbsp;<span class="ident" id="8254564">testInetaddr</span><span class="op" id="8254576">,</span>&nbsp;<span class="ident" id="8254578">nil</span><span class="op" id="8254581">,</span>&nbsp;<span class="ident" id="8254583">errNoSuitableAddress</span><span class="op" id="8254603">}</span><span class="op" id="8254604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254607">{</span><span class="ident" id="8254608">ipv6only</span><span class="op" id="8254616">,</span>&nbsp;<span class="op" id="8254618">[</span><span class="op" id="8254619">]</span><span class="ident" id="8254620">IP</span><span class="op" id="8254622">{</span><span class="ident" id="8254623">IPv4</span><span class="op" id="8254627">(</span><span class="num" id="8254628">127</span><span class="op" id="8254631">,</span>&nbsp;<span class="num" id="8254633">0</span><span class="op" id="8254634">,</span>&nbsp;<span class="num" id="8254636">0</span><span class="op" id="8254637">,</span>&nbsp;<span class="num" id="8254639">1</span><span class="op" id="8254640">)</span><span class="op" id="8254641">}</span><span class="op" id="8254642">,</span>&nbsp;<span class="ident" id="8254644">testInetaddr</span><span class="op" id="8254656">,</span>&nbsp;<span class="ident" id="8254658">nil</span><span class="op" id="8254661">,</span>&nbsp;<span class="ident" id="8254663">errNoSuitableAddress</span><span class="op" id="8254683">}</span><span class="op" id="8254684">,</span><br>
<span class="lineno"></span><span class="op" id="8254686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8254689">func</span>&nbsp;<span class="ident" id="8254694">TestFirstFavoriteAddr</span><span class="op" id="8254715">(</span><span class="ident" id="8254716">t</span>&nbsp;<span class="op" id="8254718">*</span><span class="ident" id="8254719">testing</span><span class="op" id="8254726">.</span><span class="ident" id="8254727">T</span><span class="op" id="8254728">)</span>&nbsp;<span class="op" id="8254730">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8254733">if</span>&nbsp;<span class="op" id="8254736">!</span><span class="ident" id="8254737">supportsIPv4</span>&nbsp;<span class="op" id="8254750">||</span>&nbsp;<span class="op" id="8254753">!</span><span class="ident" id="8254754">supportsIPv6</span>&nbsp;<span class="op" id="8254767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254771">t</span><span class="op" id="8254772">.</span><span class="ident" id="8254773">Skip</span><span class="op" id="8254777">(</span><span class="string" id="8254778">&#34;ipv4&nbsp;or&nbsp;ipv6&nbsp;is&nbsp;not&nbsp;supported&#34;</span><span class="op" id="8254809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8254816">for</span>&nbsp;<span class="ident" id="8254820">i</span><span class="op" id="8254821">,</span>&nbsp;<span class="ident" id="8254823">tt</span>&nbsp;<span class="op" id="8254826">:=</span>&nbsp;<span class="keyword" id="8254829">range</span>&nbsp;<span class="ident" id="8254835">firstFavoriteAddrTests</span>&nbsp;<span class="op" id="8254858">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254862">addr</span><span class="op" id="8254866">,</span>&nbsp;<span class="ident" id="8254868">err</span>&nbsp;<span class="op" id="8254872">:=</span>&nbsp;<span class="ident" id="8254875">firstFavoriteAddr</span><span class="op" id="8254892">(</span><span class="ident" id="8254893">tt</span><span class="op" id="8254895">.</span><span class="ident" id="8254896">filter</span><span class="op" id="8254902">,</span>&nbsp;<span class="ident" id="8254904">tt</span><span class="op" id="8254906">.</span><span class="ident" id="8254907">ips</span><span class="op" id="8254910">,</span>&nbsp;<span class="ident" id="8254912">tt</span><span class="op" id="8254914">.</span><span class="ident" id="8254915">inetaddr</span><span class="op" id="8254923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8254927">if</span>&nbsp;<span class="ident" id="8254930">err</span>&nbsp;<span class="op" id="8254934">!=</span>&nbsp;<span class="ident" id="8254937">tt</span><span class="op" id="8254939">.</span><span class="ident" id="8254940">err</span>&nbsp;<span class="op" id="8254944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254949">t</span><span class="op" id="8254950">.</span><span class="ident" id="8254951">Errorf</span><span class="op" id="8254957">(</span><span class="string" id="8254958">&#34;#%v:&nbsp;got&nbsp;%v;&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="8254984">,</span>&nbsp;<span class="ident" id="8254986">i</span><span class="op" id="8254987">,</span>&nbsp;<span class="ident" id="8254989">err</span><span class="op" id="8254992">,</span>&nbsp;<span class="ident" id="8254994">tt</span><span class="op" id="8254996">.</span><span class="ident" id="8254997">err</span><span class="op" id="8255000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8255004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8255008">if</span>&nbsp;<span class="op" id="8255011">!</span><span class="ident" id="8255012">reflect</span><span class="op" id="8255019">.</span><span class="ident" id="8255020">DeepEqual</span><span class="op" id="8255029">(</span><span class="ident" id="8255030">addr</span><span class="op" id="8255034">,</span>&nbsp;<span class="ident" id="8255036">tt</span><span class="op" id="8255038">.</span><span class="ident" id="8255039">addr</span><span class="op" id="8255043">)</span>&nbsp;<span class="op" id="8255045">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8255050">t</span><span class="op" id="8255051">.</span><span class="ident" id="8255052">Errorf</span><span class="op" id="8255058">(</span><span class="string" id="8255059">&#34;#%v:&nbsp;got&nbsp;%v;&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="8255085">,</span>&nbsp;<span class="ident" id="8255087">i</span><span class="op" id="8255088">,</span>&nbsp;<span class="ident" id="8255090">addr</span><span class="op" id="8255094">,</span>&nbsp;<span class="ident" id="8255096">tt</span><span class="op" id="8255098">.</span><span class="ident" id="8255099">addr</span><span class="op" id="8255103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8255107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8255110">}</span><br>
<span class="lineno"></span><span class="op" id="8255112">}</span>
</div>
</body>
</html>
