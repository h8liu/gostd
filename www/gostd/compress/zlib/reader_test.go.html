<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7584545">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7584600">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7584654">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7584705">package</span>&nbsp;<span class="ident" id="7584713">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7584719">import</span>&nbsp;<span class="op" id="7584726">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7584729">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7584738">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7584744">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7584754">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7584757">type</span>&nbsp;<span class="ident" id="7584762">zlibTest</span>&nbsp;<span class="keyword" id="7584771">struct</span>&nbsp;<span class="op" id="7584778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7584781">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7584792">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7584800">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7584811">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7584819">compressed</span>&nbsp;<span class="op" id="7584830">[</span><span class="op" id="7584831">]</span><span class="builtintype" id="7584832">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7584838">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7584849">[</span><span class="op" id="7584850">]</span><span class="builtintype" id="7584851">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7584857">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7584868">error</span><br>
<span class="lineno"></span><span class="op" id="7584874">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7584877">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="7584953">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7584985">var</span>&nbsp;<span class="ident" id="7584989">zlibTests</span>&nbsp;<span class="op" id="7584999">=</span>&nbsp;<span class="op" id="7585001">[</span><span class="op" id="7585002">]</span><span class="ident" id="7585003">zlibTest</span><span class="op" id="7585011">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585018">&#34;empty&#34;</span><span class="op" id="7585025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585029">&#34;&#34;</span><span class="op" id="7585031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585035">[</span><span class="op" id="7585036">]</span><span class="builtintype" id="7585037">byte</span><span class="op" id="7585041">{</span><span class="num" id="7585042">0x78</span><span class="op" id="7585046">,</span>&nbsp;<span class="num" id="7585048">0x9c</span><span class="op" id="7585052">,</span>&nbsp;<span class="num" id="7585054">0x03</span><span class="op" id="7585058">,</span>&nbsp;<span class="num" id="7585060">0x00</span><span class="op" id="7585064">,</span>&nbsp;<span class="num" id="7585066">0x00</span><span class="op" id="7585070">,</span>&nbsp;<span class="num" id="7585072">0x00</span><span class="op" id="7585076">,</span>&nbsp;<span class="num" id="7585078">0x00</span><span class="op" id="7585082">,</span>&nbsp;<span class="num" id="7585084">0x01</span><span class="op" id="7585088">}</span><span class="op" id="7585089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585093">nil</span><span class="op" id="7585096">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585100">nil</span><span class="op" id="7585103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585106">}</span><span class="op" id="7585107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585114">&#34;goodbye&#34;</span><span class="op" id="7585123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585127">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7585143">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585147">[</span><span class="op" id="7585148">]</span><span class="builtintype" id="7585149">byte</span><span class="op" id="7585153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7585158">0x78</span><span class="op" id="7585162">,</span>&nbsp;<span class="num" id="7585164">0x9c</span><span class="op" id="7585168">,</span>&nbsp;<span class="num" id="7585170">0x4b</span><span class="op" id="7585174">,</span>&nbsp;<span class="num" id="7585176">0xcf</span><span class="op" id="7585180">,</span>&nbsp;<span class="num" id="7585182">0xcf</span><span class="op" id="7585186">,</span>&nbsp;<span class="num" id="7585188">0x4f</span><span class="op" id="7585192">,</span>&nbsp;<span class="num" id="7585194">0x49</span><span class="op" id="7585198">,</span>&nbsp;<span class="num" id="7585200">0xaa</span><span class="op" id="7585204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7585209">0x4c</span><span class="op" id="7585213">,</span>&nbsp;<span class="num" id="7585215">0xd5</span><span class="op" id="7585219">,</span>&nbsp;<span class="num" id="7585221">0x51</span><span class="op" id="7585225">,</span>&nbsp;<span class="num" id="7585227">0x28</span><span class="op" id="7585231">,</span>&nbsp;<span class="num" id="7585233">0xcf</span><span class="op" id="7585237">,</span>&nbsp;<span class="num" id="7585239">0x2f</span><span class="op" id="7585243">,</span>&nbsp;<span class="num" id="7585245">0xca</span><span class="op" id="7585249">,</span>&nbsp;<span class="num" id="7585251">0x49</span><span class="op" id="7585255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7585260">0x01</span><span class="op" id="7585264">,</span>&nbsp;<span class="num" id="7585266">0x00</span><span class="op" id="7585270">,</span>&nbsp;<span class="num" id="7585272">0x28</span><span class="op" id="7585276">,</span>&nbsp;<span class="num" id="7585278">0xa5</span><span class="op" id="7585282">,</span>&nbsp;<span class="num" id="7585284">0x05</span><span class="op" id="7585288">,</span>&nbsp;<span class="num" id="7585290">0x5e</span><span class="op" id="7585294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585298">}</span><span class="op" id="7585299">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585303">nil</span><span class="op" id="7585306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585310">nil</span><span class="op" id="7585313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585316">}</span><span class="op" id="7585317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585324">&#34;bad&nbsp;header&#34;</span><span class="op" id="7585336">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585340">&#34;&#34;</span><span class="op" id="7585342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585346">[</span><span class="op" id="7585347">]</span><span class="builtintype" id="7585348">byte</span><span class="op" id="7585352">{</span><span class="num" id="7585353">0x78</span><span class="op" id="7585357">,</span>&nbsp;<span class="num" id="7585359">0x9f</span><span class="op" id="7585363">,</span>&nbsp;<span class="num" id="7585365">0x03</span><span class="op" id="7585369">,</span>&nbsp;<span class="num" id="7585371">0x00</span><span class="op" id="7585375">,</span>&nbsp;<span class="num" id="7585377">0x00</span><span class="op" id="7585381">,</span>&nbsp;<span class="num" id="7585383">0x00</span><span class="op" id="7585387">,</span>&nbsp;<span class="num" id="7585389">0x00</span><span class="op" id="7585393">,</span>&nbsp;<span class="num" id="7585395">0x01</span><span class="op" id="7585399">}</span><span class="op" id="7585400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585404">nil</span><span class="op" id="7585407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585411">ErrHeader</span><span class="op" id="7585420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585423">}</span><span class="op" id="7585424">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585431">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="7585445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585449">&#34;&#34;</span><span class="op" id="7585451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585455">[</span><span class="op" id="7585456">]</span><span class="builtintype" id="7585457">byte</span><span class="op" id="7585461">{</span><span class="num" id="7585462">0x78</span><span class="op" id="7585466">,</span>&nbsp;<span class="num" id="7585468">0x9c</span><span class="op" id="7585472">,</span>&nbsp;<span class="num" id="7585474">0x03</span><span class="op" id="7585478">,</span>&nbsp;<span class="num" id="7585480">0x00</span><span class="op" id="7585484">,</span>&nbsp;<span class="num" id="7585486">0x00</span><span class="op" id="7585490">,</span>&nbsp;<span class="num" id="7585492">0x00</span><span class="op" id="7585496">,</span>&nbsp;<span class="num" id="7585498">0x00</span><span class="op" id="7585502">,</span>&nbsp;<span class="num" id="7585504">0xff</span><span class="op" id="7585508">}</span><span class="op" id="7585509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585513">nil</span><span class="op" id="7585516">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585520">ErrChecksum</span><span class="op" id="7585531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585534">}</span><span class="op" id="7585535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585542">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="7585559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585563">&#34;&#34;</span><span class="op" id="7585565">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585569">[</span><span class="op" id="7585570">]</span><span class="builtintype" id="7585571">byte</span><span class="op" id="7585575">{</span><span class="num" id="7585576">0x78</span><span class="op" id="7585580">,</span>&nbsp;<span class="num" id="7585582">0x9c</span><span class="op" id="7585586">,</span>&nbsp;<span class="num" id="7585588">0x03</span><span class="op" id="7585592">,</span>&nbsp;<span class="num" id="7585594">0x00</span><span class="op" id="7585598">,</span>&nbsp;<span class="num" id="7585600">0x00</span><span class="op" id="7585604">,</span>&nbsp;<span class="num" id="7585606">0x00</span><span class="op" id="7585610">}</span><span class="op" id="7585611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585615">nil</span><span class="op" id="7585618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585622">io</span><span class="op" id="7585624">.</span><span class="ident" id="7585625">ErrUnexpectedEOF</span><span class="op" id="7585641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585644">}</span><span class="op" id="7585645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585648">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585652">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="7585685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585689">&#34;&#34;</span><span class="op" id="7585691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585695">[</span><span class="op" id="7585696">]</span><span class="builtintype" id="7585697">byte</span><span class="op" id="7585701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7585706">0x78</span><span class="op" id="7585710">,</span>&nbsp;<span class="num" id="7585712">0x9c</span><span class="op" id="7585716">,</span>&nbsp;<span class="num" id="7585718">0x03</span><span class="op" id="7585722">,</span>&nbsp;<span class="num" id="7585724">0x00</span><span class="op" id="7585728">,</span>&nbsp;<span class="num" id="7585730">0x00</span><span class="op" id="7585734">,</span>&nbsp;<span class="num" id="7585736">0x00</span><span class="op" id="7585740">,</span>&nbsp;<span class="num" id="7585742">0x00</span><span class="op" id="7585746">,</span>&nbsp;<span class="num" id="7585748">0x01</span><span class="op" id="7585752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7585757">0x78</span><span class="op" id="7585761">,</span>&nbsp;<span class="num" id="7585763">0x9c</span><span class="op" id="7585767">,</span>&nbsp;<span class="num" id="7585769">0xff</span><span class="op" id="7585773">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585777">}</span><span class="op" id="7585778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585782">nil</span><span class="op" id="7585785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7585789">nil</span><span class="op" id="7585792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585795">}</span><span class="op" id="7585796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585799">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585803">&#34;dictionary&#34;</span><span class="op" id="7585815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7585819">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="7585836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585840">[</span><span class="op" id="7585841">]</span><span class="builtintype" id="7585842">byte</span><span class="op" id="7585846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7585851">0x78</span><span class="op" id="7585855">,</span>&nbsp;<span class="num" id="7585857">0xbb</span><span class="op" id="7585861">,</span>&nbsp;<span class="num" id="7585863">0x1c</span><span class="op" id="7585867">,</span>&nbsp;<span class="num" id="7585869">0x32</span><span class="op" id="7585873">,</span>&nbsp;<span class="num" id="7585875">0x04</span><span class="op" id="7585879">,</span>&nbsp;<span class="num" id="7585881">0x27</span><span class="op" id="7585885">,</span>&nbsp;<span class="num" id="7585887">0xf3</span><span class="op" id="7585891">,</span>&nbsp;<span class="num" id="7585893">0x00</span><span class="op" id="7585897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7585902">0xb1</span><span class="op" id="7585906">,</span>&nbsp;<span class="num" id="7585908">0x75</span><span class="op" id="7585912">,</span>&nbsp;<span class="num" id="7585914">0x20</span><span class="op" id="7585918">,</span>&nbsp;<span class="num" id="7585920">0x1c</span><span class="op" id="7585924">,</span>&nbsp;<span class="num" id="7585926">0x45</span><span class="op" id="7585930">,</span>&nbsp;<span class="num" id="7585932">0x2e</span><span class="op" id="7585936">,</span>&nbsp;<span class="num" id="7585938">0x00</span><span class="op" id="7585942">,</span>&nbsp;<span class="num" id="7585944">0x24</span><span class="op" id="7585948">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7585953">0x12</span><span class="op" id="7585957">,</span>&nbsp;<span class="num" id="7585959">0x04</span><span class="op" id="7585963">,</span>&nbsp;<span class="num" id="7585965">0x74</span><span class="op" id="7585969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585973">}</span><span class="op" id="7585974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7585978">[</span><span class="op" id="7585979">]</span><span class="builtintype" id="7585980">byte</span><span class="op" id="7585984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7585989">0x48</span><span class="op" id="7585993">,</span>&nbsp;<span class="num" id="7585995">0x65</span><span class="op" id="7585999">,</span>&nbsp;<span class="num" id="7586001">0x6c</span><span class="op" id="7586005">,</span>&nbsp;<span class="num" id="7586007">0x6c</span><span class="op" id="7586011">,</span>&nbsp;<span class="num" id="7586013">0x6f</span><span class="op" id="7586017">,</span>&nbsp;<span class="num" id="7586019">0x20</span><span class="op" id="7586023">,</span>&nbsp;<span class="num" id="7586025">0x57</span><span class="op" id="7586029">,</span>&nbsp;<span class="num" id="7586031">0x6f</span><span class="op" id="7586035">,</span>&nbsp;<span class="num" id="7586037">0x72</span><span class="op" id="7586041">,</span>&nbsp;<span class="num" id="7586043">0x6c</span><span class="op" id="7586047">,</span>&nbsp;<span class="num" id="7586049">0x64</span><span class="op" id="7586053">,</span>&nbsp;<span class="num" id="7586055">0x0a</span><span class="op" id="7586059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586063">}</span><span class="op" id="7586064">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586068">nil</span><span class="op" id="7586071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586074">}</span><span class="op" id="7586075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7586082">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="7586100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7586104">&#34;&#34;</span><span class="op" id="7586106">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586110">[</span><span class="op" id="7586111">]</span><span class="builtintype" id="7586112">byte</span><span class="op" id="7586116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7586121">0x78</span><span class="op" id="7586125">,</span>&nbsp;<span class="num" id="7586127">0xbb</span><span class="op" id="7586131">,</span>&nbsp;<span class="num" id="7586133">0x1c</span><span class="op" id="7586137">,</span>&nbsp;<span class="num" id="7586139">0x32</span><span class="op" id="7586143">,</span>&nbsp;<span class="num" id="7586145">0x04</span><span class="op" id="7586149">,</span>&nbsp;<span class="num" id="7586151">0x27</span><span class="op" id="7586155">,</span>&nbsp;<span class="num" id="7586157">0xf3</span><span class="op" id="7586161">,</span>&nbsp;<span class="num" id="7586163">0x00</span><span class="op" id="7586167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7586172">0xb1</span><span class="op" id="7586176">,</span>&nbsp;<span class="num" id="7586178">0x75</span><span class="op" id="7586182">,</span>&nbsp;<span class="num" id="7586184">0x20</span><span class="op" id="7586188">,</span>&nbsp;<span class="num" id="7586190">0x1c</span><span class="op" id="7586194">,</span>&nbsp;<span class="num" id="7586196">0x45</span><span class="op" id="7586200">,</span>&nbsp;<span class="num" id="7586202">0x2e</span><span class="op" id="7586206">,</span>&nbsp;<span class="num" id="7586208">0x00</span><span class="op" id="7586212">,</span>&nbsp;<span class="num" id="7586214">0x24</span><span class="op" id="7586218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7586223">0x12</span><span class="op" id="7586227">,</span>&nbsp;<span class="num" id="7586229">0x04</span><span class="op" id="7586233">,</span>&nbsp;<span class="num" id="7586235">0x74</span><span class="op" id="7586239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586243">}</span><span class="op" id="7586244">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586248">[</span><span class="op" id="7586249">]</span><span class="builtintype" id="7586250">byte</span><span class="op" id="7586254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7586259">0x48</span><span class="op" id="7586263">,</span>&nbsp;<span class="num" id="7586265">0x65</span><span class="op" id="7586269">,</span>&nbsp;<span class="num" id="7586271">0x6c</span><span class="op" id="7586275">,</span>&nbsp;<span class="num" id="7586277">0x6c</span><span class="op" id="7586281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586285">}</span><span class="op" id="7586286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586290">ErrDictionary</span><span class="op" id="7586303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586306">}</span><span class="op" id="7586307">,</span><br>
<span class="lineno">100</span><span class="op" id="7586309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7586312">func</span>&nbsp;<span class="ident" id="7586317">TestDecompressor</span><span class="op" id="7586333">(</span><span class="ident" id="7586334">t</span>&nbsp;<span class="op" id="7586336">*</span><span class="ident" id="7586337">testing</span><span class="op" id="7586344">.</span><span class="ident" id="7586345">T</span><span class="op" id="7586346">)</span>&nbsp;<span class="op" id="7586348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586351">b</span>&nbsp;<span class="op" id="7586353">:=</span>&nbsp;<span class="builtinfunc" id="7586356">new</span><span class="op" id="7586359">(</span><span class="ident" id="7586360">bytes</span><span class="op" id="7586365">.</span><span class="ident" id="7586366">Buffer</span><span class="op" id="7586372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7586375">for</span>&nbsp;<span class="ident" id="7586379">_</span><span class="op" id="7586380">,</span>&nbsp;<span class="ident" id="7586382">tt</span>&nbsp;<span class="op" id="7586385">:=</span>&nbsp;<span class="keyword" id="7586388">range</span>&nbsp;<span class="ident" id="7586394">zlibTests</span>&nbsp;<span class="op" id="7586404">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586408">in</span>&nbsp;<span class="op" id="7586411">:=</span>&nbsp;<span class="ident" id="7586414">bytes</span><span class="op" id="7586419">.</span><span class="ident" id="7586420">NewReader</span><span class="op" id="7586429">(</span><span class="ident" id="7586430">tt</span><span class="op" id="7586432">.</span><span class="ident" id="7586433">compressed</span><span class="op" id="7586443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586447">zlib</span><span class="op" id="7586451">,</span>&nbsp;<span class="ident" id="7586453">err</span>&nbsp;<span class="op" id="7586457">:=</span>&nbsp;<span class="ident" id="7586460">NewReaderDict</span><span class="op" id="7586473">(</span><span class="ident" id="7586474">in</span><span class="op" id="7586476">,</span>&nbsp;<span class="ident" id="7586478">tt</span><span class="op" id="7586480">.</span><span class="ident" id="7586481">dict</span><span class="op" id="7586485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7586489">if</span>&nbsp;<span class="ident" id="7586492">err</span>&nbsp;<span class="op" id="7586496">!=</span>&nbsp;<span class="ident" id="7586499">nil</span>&nbsp;<span class="op" id="7586503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7586508">if</span>&nbsp;<span class="ident" id="7586511">err</span>&nbsp;<span class="op" id="7586515">!=</span>&nbsp;<span class="ident" id="7586518">tt</span><span class="op" id="7586520">.</span><span class="ident" id="7586521">err</span>&nbsp;<span class="op" id="7586525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586531">t</span><span class="op" id="7586532">.</span><span class="ident" id="7586533">Errorf</span><span class="op" id="7586539">(</span><span class="string" id="7586540">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="7586559">,</span>&nbsp;<span class="ident" id="7586561">tt</span><span class="op" id="7586563">.</span><span class="ident" id="7586564">desc</span><span class="op" id="7586568">,</span>&nbsp;<span class="ident" id="7586570">err</span><span class="op" id="7586573">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7586583">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7586598">defer</span>&nbsp;<span class="ident" id="7586604">zlib</span><span class="op" id="7586608">.</span><span class="ident" id="7586609">Close</span><span class="op" id="7586614">(</span><span class="op" id="7586615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586619">b</span><span class="op" id="7586620">.</span><span class="ident" id="7586621">Reset</span><span class="op" id="7586626">(</span><span class="op" id="7586627">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586631">n</span><span class="op" id="7586632">,</span>&nbsp;<span class="ident" id="7586634">err</span>&nbsp;<span class="op" id="7586638">:=</span>&nbsp;<span class="ident" id="7586641">io</span><span class="op" id="7586643">.</span><span class="ident" id="7586644">Copy</span><span class="op" id="7586648">(</span><span class="ident" id="7586649">b</span><span class="op" id="7586650">,</span>&nbsp;<span class="ident" id="7586652">zlib</span><span class="op" id="7586656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7586660">if</span>&nbsp;<span class="ident" id="7586663">err</span>&nbsp;<span class="op" id="7586667">!=</span>&nbsp;<span class="ident" id="7586670">nil</span>&nbsp;<span class="op" id="7586674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7586679">if</span>&nbsp;<span class="ident" id="7586682">err</span>&nbsp;<span class="op" id="7586686">!=</span>&nbsp;<span class="ident" id="7586689">tt</span><span class="op" id="7586691">.</span><span class="ident" id="7586692">err</span>&nbsp;<span class="op" id="7586696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586702">t</span><span class="op" id="7586703">.</span><span class="ident" id="7586704">Errorf</span><span class="op" id="7586710">(</span><span class="string" id="7586711">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7586736">,</span>&nbsp;<span class="ident" id="7586738">tt</span><span class="op" id="7586740">.</span><span class="ident" id="7586741">desc</span><span class="op" id="7586745">,</span>&nbsp;<span class="ident" id="7586747">err</span><span class="op" id="7586750">,</span>&nbsp;<span class="ident" id="7586752">tt</span><span class="op" id="7586754">.</span><span class="ident" id="7586755">err</span><span class="op" id="7586758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586763">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7586768">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586783">s</span>&nbsp;<span class="op" id="7586785">:=</span>&nbsp;<span class="ident" id="7586788">b</span><span class="op" id="7586789">.</span><span class="ident" id="7586790">String</span><span class="op" id="7586796">(</span><span class="op" id="7586797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7586801">if</span>&nbsp;<span class="ident" id="7586804">s</span>&nbsp;<span class="op" id="7586806">!=</span>&nbsp;<span class="ident" id="7586809">tt</span><span class="op" id="7586811">.</span><span class="ident" id="7586812">raw</span>&nbsp;<span class="op" id="7586816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7586821">t</span><span class="op" id="7586822">.</span><span class="ident" id="7586823">Errorf</span><span class="op" id="7586829">(</span><span class="string" id="7586830">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="7586866">,</span>&nbsp;<span class="ident" id="7586868">tt</span><span class="op" id="7586870">.</span><span class="ident" id="7586871">desc</span><span class="op" id="7586875">,</span>&nbsp;<span class="ident" id="7586877">n</span><span class="op" id="7586878">,</span>&nbsp;<span class="ident" id="7586880">s</span><span class="op" id="7586881">,</span>&nbsp;<span class="builtinfunc" id="7586883">len</span><span class="op" id="7586886">(</span><span class="ident" id="7586887">tt</span><span class="op" id="7586889">.</span><span class="ident" id="7586890">raw</span><span class="op" id="7586893">)</span><span class="op" id="7586894">,</span>&nbsp;<span class="ident" id="7586896">tt</span><span class="op" id="7586898">.</span><span class="ident" id="7586899">raw</span><span class="op" id="7586902">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7586909">}</span><br>
<span class="lineno"></span><span class="op" id="7586911">}</span>
</div>
</body>
</html>
