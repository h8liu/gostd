<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>container/ring</h2>
<ul>
<li><a href="/gostd/container/ring/ring.go.html">ring.go</a></li>
<li><a href="/gostd/container/ring/ring_test.go.html" class="current">ring_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7959138">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7959193">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7959247">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7959298">package</span>&nbsp;<span class="ident" id="7959306">ring</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7959312">import</span>&nbsp;<span class="op" id="7959319">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7959322">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7959329">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7959339">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7959342">//&nbsp;For&nbsp;debugging&nbsp;-&nbsp;keep&nbsp;around.</span><br>
<span class="lineno"></span><span class="keyword" id="7959374">func</span>&nbsp;<span class="ident" id="7959379">dump</span><span class="op" id="7959383">(</span><span class="ident" id="7959384">r</span>&nbsp;<span class="op" id="7959386">*</span><span class="ident" id="7959387">Ring</span><span class="op" id="7959391">)</span>&nbsp;<span class="op" id="7959393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7959396">if</span>&nbsp;<span class="ident" id="7959399">r</span>&nbsp;<span class="op" id="7959401">==</span>&nbsp;<span class="builtintype" id="7959404">nil</span>&nbsp;<span class="op" id="7959408">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959412">fmt</span><span class="op" id="7959415">.</span><span class="ident" id="7959416">Println</span><span class="op" id="7959423">(</span><span class="string" id="7959424">&#34;empty&#34;</span><span class="op" id="7959431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7959435">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7959443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959446">i</span><span class="op" id="7959447">,</span>&nbsp;<span class="ident" id="7959449">n</span>&nbsp;<span class="op" id="7959451">:=</span>&nbsp;<span class="num" id="7959454">0</span><span class="op" id="7959455">,</span>&nbsp;<span class="ident" id="7959457">r</span><span class="op" id="7959458">.</span><span class="ident" id="7959459">Len</span><span class="op" id="7959462">(</span><span class="op" id="7959463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7959466">for</span>&nbsp;<span class="ident" id="7959470">p</span>&nbsp;<span class="op" id="7959472">:=</span>&nbsp;<span class="ident" id="7959475">r</span><span class="op" id="7959476">;</span>&nbsp;<span class="ident" id="7959478">i</span>&nbsp;<span class="op" id="7959480">&lt;</span>&nbsp;<span class="ident" id="7959482">n</span><span class="op" id="7959483">;</span>&nbsp;<span class="ident" id="7959485">p</span>&nbsp;<span class="op" id="7959487">=</span>&nbsp;<span class="ident" id="7959489">p</span><span class="op" id="7959490">.</span><span class="ident" id="7959491">next</span>&nbsp;<span class="op" id="7959496">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959500">fmt</span><span class="op" id="7959503">.</span><span class="ident" id="7959504">Printf</span><span class="op" id="7959510">(</span><span class="string" id="7959511">&#34;%4d:&nbsp;%p&nbsp;=&nbsp;{&lt;-&nbsp;%p&nbsp;|&nbsp;%p&nbsp;-&gt;}\n&#34;</span><span class="op" id="7959540">,</span>&nbsp;<span class="ident" id="7959542">i</span><span class="op" id="7959543">,</span>&nbsp;<span class="ident" id="7959545">p</span><span class="op" id="7959546">,</span>&nbsp;<span class="ident" id="7959548">p</span><span class="op" id="7959549">.</span><span class="ident" id="7959550">prev</span><span class="op" id="7959554">,</span>&nbsp;<span class="ident" id="7959556">p</span><span class="op" id="7959557">.</span><span class="ident" id="7959558">next</span><span class="op" id="7959562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959566">i</span><span class="op" id="7959567">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7959571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959574">fmt</span><span class="op" id="7959577">.</span><span class="ident" id="7959578">Println</span><span class="op" id="7959585">(</span><span class="op" id="7959586">)</span><br>
<span class="lineno"></span><span class="op" id="7959588">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7959591">func</span>&nbsp;<span class="ident" id="7959596">verify</span><span class="op" id="7959602">(</span><span class="ident" id="7959603">t</span>&nbsp;<span class="op" id="7959605">*</span><span class="ident" id="7959606">testing</span><span class="op" id="7959613">.</span><span class="ident" id="7959614">T</span><span class="op" id="7959615">,</span>&nbsp;<span class="ident" id="7959617">r</span>&nbsp;<span class="op" id="7959619">*</span><span class="ident" id="7959620">Ring</span><span class="op" id="7959624">,</span>&nbsp;<span class="ident" id="7959626">N</span>&nbsp;<span class="builtintype" id="7959628">int</span><span class="op" id="7959631">,</span>&nbsp;<span class="ident" id="7959633">sum</span>&nbsp;<span class="builtintype" id="7959637">int</span><span class="op" id="7959640">)</span>&nbsp;<span class="op" id="7959642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7959645">//&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959653">n</span>&nbsp;<span class="op" id="7959655">:=</span>&nbsp;<span class="ident" id="7959658">r</span><span class="op" id="7959659">.</span><span class="ident" id="7959660">Len</span><span class="op" id="7959663">(</span><span class="op" id="7959664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7959667">if</span>&nbsp;<span class="ident" id="7959670">n</span>&nbsp;<span class="op" id="7959672">!=</span>&nbsp;<span class="ident" id="7959675">N</span>&nbsp;<span class="op" id="7959677">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959681">t</span><span class="op" id="7959682">.</span><span class="ident" id="7959683">Errorf</span><span class="op" id="7959689">(</span><span class="string" id="7959690">&#34;r.Len()&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7959718">,</span>&nbsp;<span class="ident" id="7959720">n</span><span class="op" id="7959721">,</span>&nbsp;<span class="ident" id="7959723">N</span><span class="op" id="7959724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7959727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7959731">//&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959745">n</span>&nbsp;<span class="op" id="7959747">=</span>&nbsp;<span class="num" id="7959749">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959752">s</span>&nbsp;<span class="op" id="7959754">:=</span>&nbsp;<span class="num" id="7959757">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959760">r</span><span class="op" id="7959761">.</span><span class="ident" id="7959762">Do</span><span class="op" id="7959764">(</span><span class="keyword" id="7959765">func</span><span class="op" id="7959769">(</span><span class="ident" id="7959770">p</span>&nbsp;<span class="keyword" id="7959772">interface</span><span class="op" id="7959781">{</span><span class="op" id="7959782">}</span><span class="op" id="7959783">)</span>&nbsp;<span class="op" id="7959785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959789">n</span><span class="op" id="7959790">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7959795">if</span>&nbsp;<span class="ident" id="7959798">p</span>&nbsp;<span class="op" id="7959800">!=</span>&nbsp;<span class="builtintype" id="7959803">nil</span>&nbsp;<span class="op" id="7959807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959812">s</span>&nbsp;<span class="op" id="7959814">+=</span>&nbsp;<span class="ident" id="7959817">p</span><span class="op" id="7959818">.</span><span class="op" id="7959819">(</span><span class="builtintype" id="7959820">int</span><span class="op" id="7959823">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7959827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7959830">}</span><span class="op" id="7959831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7959834">if</span>&nbsp;<span class="ident" id="7959837">n</span>&nbsp;<span class="op" id="7959839">!=</span>&nbsp;<span class="ident" id="7959842">N</span>&nbsp;<span class="op" id="7959844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959848">t</span><span class="op" id="7959849">.</span><span class="ident" id="7959850">Errorf</span><span class="op" id="7959856">(</span><span class="string" id="7959857">&#34;number&nbsp;of&nbsp;forward&nbsp;iterations&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7959906">,</span>&nbsp;<span class="ident" id="7959908">n</span><span class="op" id="7959909">,</span>&nbsp;<span class="ident" id="7959911">N</span><span class="op" id="7959912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7959915">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7959918">if</span>&nbsp;<span class="ident" id="7959921">sum</span>&nbsp;<span class="op" id="7959925">&gt;=</span>&nbsp;<span class="num" id="7959928">0</span>&nbsp;<span class="op" id="7959930">&amp;&amp;</span>&nbsp;<span class="ident" id="7959933">s</span>&nbsp;<span class="op" id="7959935">!=</span>&nbsp;<span class="ident" id="7959938">sum</span>&nbsp;<span class="op" id="7959942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959946">t</span><span class="op" id="7959947">.</span><span class="ident" id="7959948">Errorf</span><span class="op" id="7959954">(</span><span class="string" id="7959955">&#34;forward&nbsp;ring&nbsp;sum&nbsp;=&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7959991">,</span>&nbsp;<span class="ident" id="7959993">s</span><span class="op" id="7959994">,</span>&nbsp;<span class="ident" id="7959996">sum</span><span class="op" id="7959999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960006">if</span>&nbsp;<span class="ident" id="7960009">r</span>&nbsp;<span class="op" id="7960011">==</span>&nbsp;<span class="builtintype" id="7960014">nil</span>&nbsp;<span class="op" id="7960018">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960022">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7960034">//&nbsp;connections</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960050">if</span>&nbsp;<span class="ident" id="7960053">r</span><span class="op" id="7960054">.</span><span class="ident" id="7960055">next</span>&nbsp;<span class="op" id="7960060">!=</span>&nbsp;<span class="builtintype" id="7960063">nil</span>&nbsp;<span class="op" id="7960067">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960071">var</span>&nbsp;<span class="ident" id="7960075">p</span>&nbsp;<span class="op" id="7960077">*</span><span class="ident" id="7960078">Ring</span>&nbsp;<span class="comment" id="7960083">//&nbsp;previous&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960105">for</span>&nbsp;<span class="ident" id="7960109">q</span>&nbsp;<span class="op" id="7960111">:=</span>&nbsp;<span class="ident" id="7960114">r</span><span class="op" id="7960115">;</span>&nbsp;<span class="ident" id="7960117">p</span>&nbsp;<span class="op" id="7960119">==</span>&nbsp;<span class="builtintype" id="7960122">nil</span>&nbsp;<span class="op" id="7960126">||</span>&nbsp;<span class="ident" id="7960129">q</span>&nbsp;<span class="op" id="7960131">!=</span>&nbsp;<span class="ident" id="7960134">r</span><span class="op" id="7960135">;</span>&nbsp;<span class="ident" id="7960137">q</span>&nbsp;<span class="op" id="7960139">=</span>&nbsp;<span class="ident" id="7960141">q</span><span class="op" id="7960142">.</span><span class="ident" id="7960143">next</span>&nbsp;<span class="op" id="7960148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960153">if</span>&nbsp;<span class="ident" id="7960156">p</span>&nbsp;<span class="op" id="7960158">!=</span>&nbsp;<span class="builtintype" id="7960161">nil</span>&nbsp;<span class="op" id="7960165">&amp;&amp;</span>&nbsp;<span class="ident" id="7960168">p</span>&nbsp;<span class="op" id="7960170">!=</span>&nbsp;<span class="ident" id="7960173">q</span><span class="op" id="7960174">.</span><span class="ident" id="7960175">prev</span>&nbsp;<span class="op" id="7960180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960186">t</span><span class="op" id="7960187">.</span><span class="ident" id="7960188">Errorf</span><span class="op" id="7960194">(</span><span class="string" id="7960195">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;q.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7960230">,</span>&nbsp;<span class="ident" id="7960232">p</span><span class="op" id="7960233">,</span>&nbsp;<span class="ident" id="7960235">q</span><span class="op" id="7960236">.</span><span class="ident" id="7960237">prev</span><span class="op" id="7960241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960246">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960251">p</span>&nbsp;<span class="op" id="7960253">=</span>&nbsp;<span class="ident" id="7960255">q</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960263">if</span>&nbsp;<span class="ident" id="7960266">p</span>&nbsp;<span class="op" id="7960268">!=</span>&nbsp;<span class="ident" id="7960271">r</span><span class="op" id="7960272">.</span><span class="ident" id="7960273">prev</span>&nbsp;<span class="op" id="7960278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960283">t</span><span class="op" id="7960284">.</span><span class="ident" id="7960285">Errorf</span><span class="op" id="7960291">(</span><span class="string" id="7960292">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;r.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7960327">,</span>&nbsp;<span class="ident" id="7960329">p</span><span class="op" id="7960330">,</span>&nbsp;<span class="ident" id="7960332">r</span><span class="op" id="7960333">.</span><span class="ident" id="7960334">prev</span><span class="op" id="7960338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960342">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7960349">//&nbsp;Next,&nbsp;Prev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960364">if</span>&nbsp;<span class="ident" id="7960367">r</span><span class="op" id="7960368">.</span><span class="ident" id="7960369">Next</span><span class="op" id="7960373">(</span><span class="op" id="7960374">)</span>&nbsp;<span class="op" id="7960376">!=</span>&nbsp;<span class="ident" id="7960379">r</span><span class="op" id="7960380">.</span><span class="ident" id="7960381">next</span>&nbsp;<span class="op" id="7960386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960390">t</span><span class="op" id="7960391">.</span><span class="ident" id="7960392">Errorf</span><span class="op" id="7960398">(</span><span class="string" id="7960399">&#34;r.Next()&nbsp;!=&nbsp;r.next&#34;</span><span class="op" id="7960419">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960425">if</span>&nbsp;<span class="ident" id="7960428">r</span><span class="op" id="7960429">.</span><span class="ident" id="7960430">Prev</span><span class="op" id="7960434">(</span><span class="op" id="7960435">)</span>&nbsp;<span class="op" id="7960437">!=</span>&nbsp;<span class="ident" id="7960440">r</span><span class="op" id="7960441">.</span><span class="ident" id="7960442">prev</span>&nbsp;<span class="op" id="7960447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960451">t</span><span class="op" id="7960452">.</span><span class="ident" id="7960453">Errorf</span><span class="op" id="7960459">(</span><span class="string" id="7960460">&#34;r.Prev()&nbsp;!=&nbsp;r.prev&#34;</span><span class="op" id="7960480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7960487">//&nbsp;Move</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960496">if</span>&nbsp;<span class="ident" id="7960499">r</span><span class="op" id="7960500">.</span><span class="ident" id="7960501">Move</span><span class="op" id="7960505">(</span><span class="num" id="7960506">0</span><span class="op" id="7960507">)</span>&nbsp;<span class="op" id="7960509">!=</span>&nbsp;<span class="ident" id="7960512">r</span>&nbsp;<span class="op" id="7960514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960518">t</span><span class="op" id="7960519">.</span><span class="ident" id="7960520">Errorf</span><span class="op" id="7960526">(</span><span class="string" id="7960527">&#34;r.Move(0)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7960543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960549">if</span>&nbsp;<span class="ident" id="7960552">r</span><span class="op" id="7960553">.</span><span class="ident" id="7960554">Move</span><span class="op" id="7960558">(</span><span class="ident" id="7960559">N</span><span class="op" id="7960560">)</span>&nbsp;<span class="op" id="7960562">!=</span>&nbsp;<span class="ident" id="7960565">r</span>&nbsp;<span class="op" id="7960567">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960571">t</span><span class="op" id="7960572">.</span><span class="ident" id="7960573">Errorf</span><span class="op" id="7960579">(</span><span class="string" id="7960580">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7960597">,</span>&nbsp;<span class="ident" id="7960599">N</span><span class="op" id="7960600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960606">if</span>&nbsp;<span class="ident" id="7960609">r</span><span class="op" id="7960610">.</span><span class="ident" id="7960611">Move</span><span class="op" id="7960615">(</span><span class="op" id="7960616">-</span><span class="ident" id="7960617">N</span><span class="op" id="7960618">)</span>&nbsp;<span class="op" id="7960620">!=</span>&nbsp;<span class="ident" id="7960623">r</span>&nbsp;<span class="op" id="7960625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960629">t</span><span class="op" id="7960630">.</span><span class="ident" id="7960631">Errorf</span><span class="op" id="7960637">(</span><span class="string" id="7960638">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7960655">,</span>&nbsp;<span class="op" id="7960657">-</span><span class="ident" id="7960658">N</span><span class="op" id="7960659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960662">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960665">for</span>&nbsp;<span class="ident" id="7960669">i</span>&nbsp;<span class="op" id="7960671">:=</span>&nbsp;<span class="num" id="7960674">0</span><span class="op" id="7960675">;</span>&nbsp;<span class="ident" id="7960677">i</span>&nbsp;<span class="op" id="7960679">&lt;</span>&nbsp;<span class="num" id="7960681">10</span><span class="op" id="7960683">;</span>&nbsp;<span class="ident" id="7960685">i</span><span class="op" id="7960686">++</span>&nbsp;<span class="op" id="7960689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960693">ni</span>&nbsp;<span class="op" id="7960696">:=</span>&nbsp;<span class="ident" id="7960699">N</span>&nbsp;<span class="op" id="7960701">+</span>&nbsp;<span class="ident" id="7960703">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960707">mi</span>&nbsp;<span class="op" id="7960710">:=</span>&nbsp;<span class="ident" id="7960713">ni</span>&nbsp;<span class="op" id="7960716">%</span>&nbsp;<span class="ident" id="7960718">N</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960722">if</span>&nbsp;<span class="ident" id="7960725">r</span><span class="op" id="7960726">.</span><span class="ident" id="7960727">Move</span><span class="op" id="7960731">(</span><span class="ident" id="7960732">ni</span><span class="op" id="7960734">)</span>&nbsp;<span class="op" id="7960736">!=</span>&nbsp;<span class="ident" id="7960739">r</span><span class="op" id="7960740">.</span><span class="ident" id="7960741">Move</span><span class="op" id="7960745">(</span><span class="ident" id="7960746">mi</span><span class="op" id="7960748">)</span>&nbsp;<span class="op" id="7960750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960755">t</span><span class="op" id="7960756">.</span><span class="ident" id="7960757">Errorf</span><span class="op" id="7960763">(</span><span class="string" id="7960764">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7960790">,</span>&nbsp;<span class="ident" id="7960792">ni</span><span class="op" id="7960794">,</span>&nbsp;<span class="ident" id="7960796">mi</span><span class="op" id="7960798">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960806">if</span>&nbsp;<span class="ident" id="7960809">r</span><span class="op" id="7960810">.</span><span class="ident" id="7960811">Move</span><span class="op" id="7960815">(</span><span class="op" id="7960816">-</span><span class="ident" id="7960817">ni</span><span class="op" id="7960819">)</span>&nbsp;<span class="op" id="7960821">!=</span>&nbsp;<span class="ident" id="7960824">r</span><span class="op" id="7960825">.</span><span class="ident" id="7960826">Move</span><span class="op" id="7960830">(</span><span class="op" id="7960831">-</span><span class="ident" id="7960832">mi</span><span class="op" id="7960834">)</span>&nbsp;<span class="op" id="7960836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960841">t</span><span class="op" id="7960842">.</span><span class="ident" id="7960843">Errorf</span><span class="op" id="7960849">(</span><span class="string" id="7960850">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7960876">,</span>&nbsp;<span class="op" id="7960878">-</span><span class="ident" id="7960879">ni</span><span class="op" id="7960881">,</span>&nbsp;<span class="op" id="7960883">-</span><span class="ident" id="7960884">mi</span><span class="op" id="7960886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960893">}</span><br>
<span class="lineno">95</span><span class="op" id="7960895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7960898">func</span>&nbsp;<span class="ident" id="7960903">TestCornerCases</span><span class="op" id="7960918">(</span><span class="ident" id="7960919">t</span>&nbsp;<span class="op" id="7960921">*</span><span class="ident" id="7960922">testing</span><span class="op" id="7960929">.</span><span class="ident" id="7960930">T</span><span class="op" id="7960931">)</span>&nbsp;<span class="op" id="7960933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7960936">var</span>&nbsp;<span class="op" id="7960940">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960944">r0</span>&nbsp;<span class="op" id="7960947">*</span><span class="ident" id="7960948">Ring</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960955">r1</span>&nbsp;<span class="ident" id="7960958">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7960964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7960967">//&nbsp;Basics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960978">verify</span><span class="op" id="7960984">(</span><span class="ident" id="7960985">t</span><span class="op" id="7960986">,</span>&nbsp;<span class="ident" id="7960988">r0</span><span class="op" id="7960990">,</span>&nbsp;<span class="num" id="7960992">0</span><span class="op" id="7960993">,</span>&nbsp;<span class="num" id="7960995">0</span><span class="op" id="7960996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7960999">verify</span><span class="op" id="7961005">(</span><span class="ident" id="7961006">t</span><span class="op" id="7961007">,</span>&nbsp;<span class="op" id="7961009">&amp;</span><span class="ident" id="7961010">r1</span><span class="op" id="7961012">,</span>&nbsp;<span class="num" id="7961014">1</span><span class="op" id="7961015">,</span>&nbsp;<span class="num" id="7961017">0</span><span class="op" id="7961018">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7961021">//&nbsp;Insert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961032">r1</span><span class="op" id="7961034">.</span><span class="ident" id="7961035">Link</span><span class="op" id="7961039">(</span><span class="ident" id="7961040">r0</span><span class="op" id="7961042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961045">verify</span><span class="op" id="7961051">(</span><span class="ident" id="7961052">t</span><span class="op" id="7961053">,</span>&nbsp;<span class="ident" id="7961055">r0</span><span class="op" id="7961057">,</span>&nbsp;<span class="num" id="7961059">0</span><span class="op" id="7961060">,</span>&nbsp;<span class="num" id="7961062">0</span><span class="op" id="7961063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961066">verify</span><span class="op" id="7961072">(</span><span class="ident" id="7961073">t</span><span class="op" id="7961074">,</span>&nbsp;<span class="op" id="7961076">&amp;</span><span class="ident" id="7961077">r1</span><span class="op" id="7961079">,</span>&nbsp;<span class="num" id="7961081">1</span><span class="op" id="7961082">,</span>&nbsp;<span class="num" id="7961084">0</span><span class="op" id="7961085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7961088">//&nbsp;Insert</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961099">r1</span><span class="op" id="7961101">.</span><span class="ident" id="7961102">Link</span><span class="op" id="7961106">(</span><span class="ident" id="7961107">r0</span><span class="op" id="7961109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961112">verify</span><span class="op" id="7961118">(</span><span class="ident" id="7961119">t</span><span class="op" id="7961120">,</span>&nbsp;<span class="ident" id="7961122">r0</span><span class="op" id="7961124">,</span>&nbsp;<span class="num" id="7961126">0</span><span class="op" id="7961127">,</span>&nbsp;<span class="num" id="7961129">0</span><span class="op" id="7961130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961133">verify</span><span class="op" id="7961139">(</span><span class="ident" id="7961140">t</span><span class="op" id="7961141">,</span>&nbsp;<span class="op" id="7961143">&amp;</span><span class="ident" id="7961144">r1</span><span class="op" id="7961146">,</span>&nbsp;<span class="num" id="7961148">1</span><span class="op" id="7961149">,</span>&nbsp;<span class="num" id="7961151">0</span><span class="op" id="7961152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7961155">//&nbsp;Unlink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961166">r1</span><span class="op" id="7961168">.</span><span class="ident" id="7961169">Unlink</span><span class="op" id="7961175">(</span><span class="num" id="7961176">0</span><span class="op" id="7961177">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961180">verify</span><span class="op" id="7961186">(</span><span class="ident" id="7961187">t</span><span class="op" id="7961188">,</span>&nbsp;<span class="op" id="7961190">&amp;</span><span class="ident" id="7961191">r1</span><span class="op" id="7961193">,</span>&nbsp;<span class="num" id="7961195">1</span><span class="op" id="7961196">,</span>&nbsp;<span class="num" id="7961198">0</span><span class="op" id="7961199">)</span><br>
<span class="lineno"></span><span class="op" id="7961201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7961204">func</span>&nbsp;<span class="ident" id="7961209">makeN</span><span class="op" id="7961214">(</span><span class="ident" id="7961215">n</span>&nbsp;<span class="builtintype" id="7961217">int</span><span class="op" id="7961220">)</span>&nbsp;<span class="op" id="7961222">*</span><span class="ident" id="7961223">Ring</span>&nbsp;<span class="op" id="7961228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961231">r</span>&nbsp;<span class="op" id="7961233">:=</span>&nbsp;<span class="ident" id="7961236">New</span><span class="op" id="7961239">(</span><span class="ident" id="7961240">n</span><span class="op" id="7961241">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7961244">for</span>&nbsp;<span class="ident" id="7961248">i</span>&nbsp;<span class="op" id="7961250">:=</span>&nbsp;<span class="num" id="7961253">1</span><span class="op" id="7961254">;</span>&nbsp;<span class="ident" id="7961256">i</span>&nbsp;<span class="op" id="7961258">&lt;=</span>&nbsp;<span class="ident" id="7961261">n</span><span class="op" id="7961262">;</span>&nbsp;<span class="ident" id="7961264">i</span><span class="op" id="7961265">++</span>&nbsp;<span class="op" id="7961268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961272">r</span><span class="op" id="7961273">.</span><span class="ident" id="7961274">Value</span>&nbsp;<span class="op" id="7961280">=</span>&nbsp;<span class="ident" id="7961282">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961286">r</span>&nbsp;<span class="op" id="7961288">=</span>&nbsp;<span class="ident" id="7961290">r</span><span class="op" id="7961291">.</span><span class="ident" id="7961292">Next</span><span class="op" id="7961296">(</span><span class="op" id="7961297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7961300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7961303">return</span>&nbsp;<span class="ident" id="7961310">r</span><br>
<span class="lineno">125</span><span class="op" id="7961312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7961315">func</span>&nbsp;<span class="ident" id="7961320">sumN</span><span class="op" id="7961324">(</span><span class="ident" id="7961325">n</span>&nbsp;<span class="builtintype" id="7961327">int</span><span class="op" id="7961330">)</span>&nbsp;<span class="builtintype" id="7961332">int</span>&nbsp;<span class="op" id="7961336">{</span>&nbsp;<span class="keyword" id="7961338">return</span>&nbsp;<span class="op" id="7961345">(</span><span class="ident" id="7961346">n</span><span class="op" id="7961347">*</span><span class="ident" id="7961348">n</span>&nbsp;<span class="op" id="7961350">+</span>&nbsp;<span class="ident" id="7961352">n</span><span class="op" id="7961353">)</span>&nbsp;<span class="op" id="7961355">/</span>&nbsp;<span class="num" id="7961357">2</span>&nbsp;<span class="op" id="7961359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7961362">func</span>&nbsp;<span class="ident" id="7961367">TestNew</span><span class="op" id="7961374">(</span><span class="ident" id="7961375">t</span>&nbsp;<span class="op" id="7961377">*</span><span class="ident" id="7961378">testing</span><span class="op" id="7961385">.</span><span class="ident" id="7961386">T</span><span class="op" id="7961387">)</span>&nbsp;<span class="op" id="7961389">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7961392">for</span>&nbsp;<span class="ident" id="7961396">i</span>&nbsp;<span class="op" id="7961398">:=</span>&nbsp;<span class="num" id="7961401">0</span><span class="op" id="7961402">;</span>&nbsp;<span class="ident" id="7961404">i</span>&nbsp;<span class="op" id="7961406">&lt;</span>&nbsp;<span class="num" id="7961408">10</span><span class="op" id="7961410">;</span>&nbsp;<span class="ident" id="7961412">i</span><span class="op" id="7961413">++</span>&nbsp;<span class="op" id="7961416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961420">r</span>&nbsp;<span class="op" id="7961422">:=</span>&nbsp;<span class="ident" id="7961425">New</span><span class="op" id="7961428">(</span><span class="ident" id="7961429">i</span><span class="op" id="7961430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961434">verify</span><span class="op" id="7961440">(</span><span class="ident" id="7961441">t</span><span class="op" id="7961442">,</span>&nbsp;<span class="ident" id="7961444">r</span><span class="op" id="7961445">,</span>&nbsp;<span class="ident" id="7961447">i</span><span class="op" id="7961448">,</span>&nbsp;<span class="op" id="7961450">-</span><span class="num" id="7961451">1</span><span class="op" id="7961452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7961455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7961458">for</span>&nbsp;<span class="ident" id="7961462">i</span>&nbsp;<span class="op" id="7961464">:=</span>&nbsp;<span class="num" id="7961467">0</span><span class="op" id="7961468">;</span>&nbsp;<span class="ident" id="7961470">i</span>&nbsp;<span class="op" id="7961472">&lt;</span>&nbsp;<span class="num" id="7961474">10</span><span class="op" id="7961476">;</span>&nbsp;<span class="ident" id="7961478">i</span><span class="op" id="7961479">++</span>&nbsp;<span class="op" id="7961482">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961486">r</span>&nbsp;<span class="op" id="7961488">:=</span>&nbsp;<span class="ident" id="7961491">makeN</span><span class="op" id="7961496">(</span><span class="ident" id="7961497">i</span><span class="op" id="7961498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961502">verify</span><span class="op" id="7961508">(</span><span class="ident" id="7961509">t</span><span class="op" id="7961510">,</span>&nbsp;<span class="ident" id="7961512">r</span><span class="op" id="7961513">,</span>&nbsp;<span class="ident" id="7961515">i</span><span class="op" id="7961516">,</span>&nbsp;<span class="ident" id="7961518">sumN</span><span class="op" id="7961522">(</span><span class="ident" id="7961523">i</span><span class="op" id="7961524">)</span><span class="op" id="7961525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7961528">}</span><br>
<span class="lineno"></span><span class="op" id="7961530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7961533">func</span>&nbsp;<span class="ident" id="7961538">TestLink1</span><span class="op" id="7961547">(</span><span class="ident" id="7961548">t</span>&nbsp;<span class="op" id="7961550">*</span><span class="ident" id="7961551">testing</span><span class="op" id="7961558">.</span><span class="ident" id="7961559">T</span><span class="op" id="7961560">)</span>&nbsp;<span class="op" id="7961562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961565">r1a</span>&nbsp;<span class="op" id="7961569">:=</span>&nbsp;<span class="ident" id="7961572">makeN</span><span class="op" id="7961577">(</span><span class="num" id="7961578">1</span><span class="op" id="7961579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7961582">var</span>&nbsp;<span class="ident" id="7961586">r1b</span>&nbsp;<span class="ident" id="7961590">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961596">r2a</span>&nbsp;<span class="op" id="7961600">:=</span>&nbsp;<span class="ident" id="7961603">r1a</span><span class="op" id="7961606">.</span><span class="ident" id="7961607">Link</span><span class="op" id="7961611">(</span><span class="op" id="7961612">&amp;</span><span class="ident" id="7961613">r1b</span><span class="op" id="7961616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961619">verify</span><span class="op" id="7961625">(</span><span class="ident" id="7961626">t</span><span class="op" id="7961627">,</span>&nbsp;<span class="ident" id="7961629">r2a</span><span class="op" id="7961632">,</span>&nbsp;<span class="num" id="7961634">2</span><span class="op" id="7961635">,</span>&nbsp;<span class="num" id="7961637">1</span><span class="op" id="7961638">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7961641">if</span>&nbsp;<span class="ident" id="7961644">r2a</span>&nbsp;<span class="op" id="7961648">!=</span>&nbsp;<span class="ident" id="7961651">r1a</span>&nbsp;<span class="op" id="7961655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961659">t</span><span class="op" id="7961660">.</span><span class="ident" id="7961661">Errorf</span><span class="op" id="7961667">(</span><span class="string" id="7961668">&#34;a)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7961694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7961697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961701">r2b</span>&nbsp;<span class="op" id="7961705">:=</span>&nbsp;<span class="ident" id="7961708">r2a</span><span class="op" id="7961711">.</span><span class="ident" id="7961712">Link</span><span class="op" id="7961716">(</span><span class="ident" id="7961717">r2a</span><span class="op" id="7961720">.</span><span class="ident" id="7961721">Next</span><span class="op" id="7961725">(</span><span class="op" id="7961726">)</span><span class="op" id="7961727">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961730">verify</span><span class="op" id="7961736">(</span><span class="ident" id="7961737">t</span><span class="op" id="7961738">,</span>&nbsp;<span class="ident" id="7961740">r2b</span><span class="op" id="7961743">,</span>&nbsp;<span class="num" id="7961745">2</span><span class="op" id="7961746">,</span>&nbsp;<span class="num" id="7961748">1</span><span class="op" id="7961749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7961752">if</span>&nbsp;<span class="ident" id="7961755">r2b</span>&nbsp;<span class="op" id="7961759">!=</span>&nbsp;<span class="ident" id="7961762">r2a</span><span class="op" id="7961765">.</span><span class="ident" id="7961766">Next</span><span class="op" id="7961770">(</span><span class="op" id="7961771">)</span>&nbsp;<span class="op" id="7961773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961777">t</span><span class="op" id="7961778">.</span><span class="ident" id="7961779">Errorf</span><span class="op" id="7961785">(</span><span class="string" id="7961786">&#34;b)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7961812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7961815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961819">r1c</span>&nbsp;<span class="op" id="7961823">:=</span>&nbsp;<span class="ident" id="7961826">r2b</span><span class="op" id="7961829">.</span><span class="ident" id="7961830">Link</span><span class="op" id="7961834">(</span><span class="ident" id="7961835">r2b</span><span class="op" id="7961838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961841">verify</span><span class="op" id="7961847">(</span><span class="ident" id="7961848">t</span><span class="op" id="7961849">,</span>&nbsp;<span class="ident" id="7961851">r1c</span><span class="op" id="7961854">,</span>&nbsp;<span class="num" id="7961856">1</span><span class="op" id="7961857">,</span>&nbsp;<span class="num" id="7961859">1</span><span class="op" id="7961860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961863">verify</span><span class="op" id="7961869">(</span><span class="ident" id="7961870">t</span><span class="op" id="7961871">,</span>&nbsp;<span class="ident" id="7961873">r2b</span><span class="op" id="7961876">,</span>&nbsp;<span class="num" id="7961878">1</span><span class="op" id="7961879">,</span>&nbsp;<span class="num" id="7961881">0</span><span class="op" id="7961882">)</span><br>
<span class="lineno"></span><span class="op" id="7961884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7961887">func</span>&nbsp;<span class="ident" id="7961892">TestLink2</span><span class="op" id="7961901">(</span><span class="ident" id="7961902">t</span>&nbsp;<span class="op" id="7961904">*</span><span class="ident" id="7961905">testing</span><span class="op" id="7961912">.</span><span class="ident" id="7961913">T</span><span class="op" id="7961914">)</span>&nbsp;<span class="op" id="7961916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7961919">var</span>&nbsp;<span class="ident" id="7961923">r0</span>&nbsp;<span class="op" id="7961926">*</span><span class="ident" id="7961927">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961933">r1a</span>&nbsp;<span class="op" id="7961937">:=</span>&nbsp;<span class="op" id="7961940">&amp;</span><span class="ident" id="7961941">Ring</span><span class="op" id="7961945">{</span><span class="ident" id="7961946">Value</span><span class="op" id="7961951">:</span>&nbsp;<span class="num" id="7961953">42</span><span class="op" id="7961955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961958">r1b</span>&nbsp;<span class="op" id="7961962">:=</span>&nbsp;<span class="op" id="7961965">&amp;</span><span class="ident" id="7961966">Ring</span><span class="op" id="7961970">{</span><span class="ident" id="7961971">Value</span><span class="op" id="7961976">:</span>&nbsp;<span class="num" id="7961978">77</span><span class="op" id="7961980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7961983">r10</span>&nbsp;<span class="op" id="7961987">:=</span>&nbsp;<span class="ident" id="7961990">makeN</span><span class="op" id="7961995">(</span><span class="num" id="7961996">10</span><span class="op" id="7961998">)</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962002">r1a</span><span class="op" id="7962005">.</span><span class="ident" id="7962006">Link</span><span class="op" id="7962010">(</span><span class="ident" id="7962011">r0</span><span class="op" id="7962013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962016">verify</span><span class="op" id="7962022">(</span><span class="ident" id="7962023">t</span><span class="op" id="7962024">,</span>&nbsp;<span class="ident" id="7962026">r1a</span><span class="op" id="7962029">,</span>&nbsp;<span class="num" id="7962031">1</span><span class="op" id="7962032">,</span>&nbsp;<span class="num" id="7962034">42</span><span class="op" id="7962036">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962040">r1a</span><span class="op" id="7962043">.</span><span class="ident" id="7962044">Link</span><span class="op" id="7962048">(</span><span class="ident" id="7962049">r1b</span><span class="op" id="7962052">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962055">verify</span><span class="op" id="7962061">(</span><span class="ident" id="7962062">t</span><span class="op" id="7962063">,</span>&nbsp;<span class="ident" id="7962065">r1a</span><span class="op" id="7962068">,</span>&nbsp;<span class="num" id="7962070">2</span><span class="op" id="7962071">,</span>&nbsp;<span class="num" id="7962073">42</span><span class="op" id="7962075">+</span><span class="num" id="7962076">77</span><span class="op" id="7962078">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962082">r10</span><span class="op" id="7962085">.</span><span class="ident" id="7962086">Link</span><span class="op" id="7962090">(</span><span class="ident" id="7962091">r0</span><span class="op" id="7962093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962096">verify</span><span class="op" id="7962102">(</span><span class="ident" id="7962103">t</span><span class="op" id="7962104">,</span>&nbsp;<span class="ident" id="7962106">r10</span><span class="op" id="7962109">,</span>&nbsp;<span class="num" id="7962111">10</span><span class="op" id="7962113">,</span>&nbsp;<span class="ident" id="7962115">sumN</span><span class="op" id="7962119">(</span><span class="num" id="7962120">10</span><span class="op" id="7962122">)</span><span class="op" id="7962123">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962127">r10</span><span class="op" id="7962130">.</span><span class="ident" id="7962131">Link</span><span class="op" id="7962135">(</span><span class="ident" id="7962136">r1a</span><span class="op" id="7962139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962142">verify</span><span class="op" id="7962148">(</span><span class="ident" id="7962149">t</span><span class="op" id="7962150">,</span>&nbsp;<span class="ident" id="7962152">r10</span><span class="op" id="7962155">,</span>&nbsp;<span class="num" id="7962157">12</span><span class="op" id="7962159">,</span>&nbsp;<span class="ident" id="7962161">sumN</span><span class="op" id="7962165">(</span><span class="num" id="7962166">10</span><span class="op" id="7962168">)</span><span class="op" id="7962169">+</span><span class="num" id="7962170">42</span><span class="op" id="7962172">+</span><span class="num" id="7962173">77</span><span class="op" id="7962175">)</span><br>
<span class="lineno"></span><span class="op" id="7962177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7962180">func</span>&nbsp;<span class="ident" id="7962185">TestLink3</span><span class="op" id="7962194">(</span><span class="ident" id="7962195">t</span>&nbsp;<span class="op" id="7962197">*</span><span class="ident" id="7962198">testing</span><span class="op" id="7962205">.</span><span class="ident" id="7962206">T</span><span class="op" id="7962207">)</span>&nbsp;<span class="op" id="7962209">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7962212">var</span>&nbsp;<span class="ident" id="7962216">r</span>&nbsp;<span class="ident" id="7962218">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962224">n</span>&nbsp;<span class="op" id="7962226">:=</span>&nbsp;<span class="num" id="7962229">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7962232">for</span>&nbsp;<span class="ident" id="7962236">i</span>&nbsp;<span class="op" id="7962238">:=</span>&nbsp;<span class="num" id="7962241">1</span><span class="op" id="7962242">;</span>&nbsp;<span class="ident" id="7962244">i</span>&nbsp;<span class="op" id="7962246">&lt;</span>&nbsp;<span class="num" id="7962248">100</span><span class="op" id="7962251">;</span>&nbsp;<span class="ident" id="7962253">i</span><span class="op" id="7962254">++</span>&nbsp;<span class="op" id="7962257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962261">n</span>&nbsp;<span class="op" id="7962263">+=</span>&nbsp;<span class="ident" id="7962266">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962270">verify</span><span class="op" id="7962276">(</span><span class="ident" id="7962277">t</span><span class="op" id="7962278">,</span>&nbsp;<span class="ident" id="7962280">r</span><span class="op" id="7962281">.</span><span class="ident" id="7962282">Link</span><span class="op" id="7962286">(</span><span class="ident" id="7962287">New</span><span class="op" id="7962290">(</span><span class="ident" id="7962291">i</span><span class="op" id="7962292">)</span><span class="op" id="7962293">)</span><span class="op" id="7962294">,</span>&nbsp;<span class="ident" id="7962296">n</span><span class="op" id="7962297">,</span>&nbsp;<span class="op" id="7962299">-</span><span class="num" id="7962300">1</span><span class="op" id="7962301">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7962304">}</span><br>
<span class="lineno"></span><span class="op" id="7962306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7962309">func</span>&nbsp;<span class="ident" id="7962314">TestUnlink</span><span class="op" id="7962324">(</span><span class="ident" id="7962325">t</span>&nbsp;<span class="op" id="7962327">*</span><span class="ident" id="7962328">testing</span><span class="op" id="7962335">.</span><span class="ident" id="7962336">T</span><span class="op" id="7962337">)</span>&nbsp;<span class="op" id="7962339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962342">r10</span>&nbsp;<span class="op" id="7962346">:=</span>&nbsp;<span class="ident" id="7962349">makeN</span><span class="op" id="7962354">(</span><span class="num" id="7962355">10</span><span class="op" id="7962357">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962360">s10</span>&nbsp;<span class="op" id="7962364">:=</span>&nbsp;<span class="ident" id="7962367">r10</span><span class="op" id="7962370">.</span><span class="ident" id="7962371">Move</span><span class="op" id="7962375">(</span><span class="num" id="7962376">6</span><span class="op" id="7962377">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962381">sum10</span>&nbsp;<span class="op" id="7962387">:=</span>&nbsp;<span class="ident" id="7962390">sumN</span><span class="op" id="7962394">(</span><span class="num" id="7962395">10</span><span class="op" id="7962397">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962401">verify</span><span class="op" id="7962407">(</span><span class="ident" id="7962408">t</span><span class="op" id="7962409">,</span>&nbsp;<span class="ident" id="7962411">r10</span><span class="op" id="7962414">,</span>&nbsp;<span class="num" id="7962416">10</span><span class="op" id="7962418">,</span>&nbsp;<span class="ident" id="7962420">sum10</span><span class="op" id="7962425">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962428">verify</span><span class="op" id="7962434">(</span><span class="ident" id="7962435">t</span><span class="op" id="7962436">,</span>&nbsp;<span class="ident" id="7962438">s10</span><span class="op" id="7962441">,</span>&nbsp;<span class="num" id="7962443">10</span><span class="op" id="7962445">,</span>&nbsp;<span class="ident" id="7962447">sum10</span><span class="op" id="7962452">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962456">r0</span>&nbsp;<span class="op" id="7962459">:=</span>&nbsp;<span class="ident" id="7962462">r10</span><span class="op" id="7962465">.</span><span class="ident" id="7962466">Unlink</span><span class="op" id="7962472">(</span><span class="num" id="7962473">0</span><span class="op" id="7962474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962477">verify</span><span class="op" id="7962483">(</span><span class="ident" id="7962484">t</span><span class="op" id="7962485">,</span>&nbsp;<span class="ident" id="7962487">r0</span><span class="op" id="7962489">,</span>&nbsp;<span class="num" id="7962491">0</span><span class="op" id="7962492">,</span>&nbsp;<span class="num" id="7962494">0</span><span class="op" id="7962495">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962499">r1</span>&nbsp;<span class="op" id="7962502">:=</span>&nbsp;<span class="ident" id="7962505">r10</span><span class="op" id="7962508">.</span><span class="ident" id="7962509">Unlink</span><span class="op" id="7962515">(</span><span class="num" id="7962516">1</span><span class="op" id="7962517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962520">verify</span><span class="op" id="7962526">(</span><span class="ident" id="7962527">t</span><span class="op" id="7962528">,</span>&nbsp;<span class="ident" id="7962530">r1</span><span class="op" id="7962532">,</span>&nbsp;<span class="num" id="7962534">1</span><span class="op" id="7962535">,</span>&nbsp;<span class="num" id="7962537">2</span><span class="op" id="7962538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962541">verify</span><span class="op" id="7962547">(</span><span class="ident" id="7962548">t</span><span class="op" id="7962549">,</span>&nbsp;<span class="ident" id="7962551">r10</span><span class="op" id="7962554">,</span>&nbsp;<span class="num" id="7962556">9</span><span class="op" id="7962557">,</span>&nbsp;<span class="ident" id="7962559">sum10</span><span class="op" id="7962564">-</span><span class="num" id="7962565">2</span><span class="op" id="7962566">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962570">r9</span>&nbsp;<span class="op" id="7962573">:=</span>&nbsp;<span class="ident" id="7962576">r10</span><span class="op" id="7962579">.</span><span class="ident" id="7962580">Unlink</span><span class="op" id="7962586">(</span><span class="num" id="7962587">9</span><span class="op" id="7962588">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962591">verify</span><span class="op" id="7962597">(</span><span class="ident" id="7962598">t</span><span class="op" id="7962599">,</span>&nbsp;<span class="ident" id="7962601">r9</span><span class="op" id="7962603">,</span>&nbsp;<span class="num" id="7962605">9</span><span class="op" id="7962606">,</span>&nbsp;<span class="ident" id="7962608">sum10</span><span class="op" id="7962613">-</span><span class="num" id="7962614">2</span><span class="op" id="7962615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962618">verify</span><span class="op" id="7962624">(</span><span class="ident" id="7962625">t</span><span class="op" id="7962626">,</span>&nbsp;<span class="ident" id="7962628">r10</span><span class="op" id="7962631">,</span>&nbsp;<span class="num" id="7962633">9</span><span class="op" id="7962634">,</span>&nbsp;<span class="ident" id="7962636">sum10</span><span class="op" id="7962641">-</span><span class="num" id="7962642">2</span><span class="op" id="7962643">)</span><br>
<span class="lineno"></span><span class="op" id="7962645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7962648">func</span>&nbsp;<span class="ident" id="7962653">TestLinkUnlink</span><span class="op" id="7962667">(</span><span class="ident" id="7962668">t</span>&nbsp;<span class="op" id="7962670">*</span><span class="ident" id="7962671">testing</span><span class="op" id="7962678">.</span><span class="ident" id="7962679">T</span><span class="op" id="7962680">)</span>&nbsp;<span class="op" id="7962682">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7962685">for</span>&nbsp;<span class="ident" id="7962689">i</span>&nbsp;<span class="op" id="7962691">:=</span>&nbsp;<span class="num" id="7962694">1</span><span class="op" id="7962695">;</span>&nbsp;<span class="ident" id="7962697">i</span>&nbsp;<span class="op" id="7962699">&lt;</span>&nbsp;<span class="num" id="7962701">4</span><span class="op" id="7962702">;</span>&nbsp;<span class="ident" id="7962704">i</span><span class="op" id="7962705">++</span>&nbsp;<span class="op" id="7962708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962712">ri</span>&nbsp;<span class="op" id="7962715">:=</span>&nbsp;<span class="ident" id="7962718">New</span><span class="op" id="7962721">(</span><span class="ident" id="7962722">i</span><span class="op" id="7962723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7962727">for</span>&nbsp;<span class="ident" id="7962731">j</span>&nbsp;<span class="op" id="7962733">:=</span>&nbsp;<span class="num" id="7962736">0</span><span class="op" id="7962737">;</span>&nbsp;<span class="ident" id="7962739">j</span>&nbsp;<span class="op" id="7962741">&lt;</span>&nbsp;<span class="ident" id="7962743">i</span><span class="op" id="7962744">;</span>&nbsp;<span class="ident" id="7962746">j</span><span class="op" id="7962747">++</span>&nbsp;<span class="op" id="7962750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962755">rj</span>&nbsp;<span class="op" id="7962758">:=</span>&nbsp;<span class="ident" id="7962761">ri</span><span class="op" id="7962763">.</span><span class="ident" id="7962764">Unlink</span><span class="op" id="7962770">(</span><span class="ident" id="7962771">j</span><span class="op" id="7962772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962777">verify</span><span class="op" id="7962783">(</span><span class="ident" id="7962784">t</span><span class="op" id="7962785">,</span>&nbsp;<span class="ident" id="7962787">rj</span><span class="op" id="7962789">,</span>&nbsp;<span class="ident" id="7962791">j</span><span class="op" id="7962792">,</span>&nbsp;<span class="op" id="7962794">-</span><span class="num" id="7962795">1</span><span class="op" id="7962796">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962801">verify</span><span class="op" id="7962807">(</span><span class="ident" id="7962808">t</span><span class="op" id="7962809">,</span>&nbsp;<span class="ident" id="7962811">ri</span><span class="op" id="7962813">,</span>&nbsp;<span class="ident" id="7962815">i</span><span class="op" id="7962816">-</span><span class="ident" id="7962817">j</span><span class="op" id="7962818">,</span>&nbsp;<span class="op" id="7962820">-</span><span class="num" id="7962821">1</span><span class="op" id="7962822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962827">ri</span><span class="op" id="7962829">.</span><span class="ident" id="7962830">Link</span><span class="op" id="7962834">(</span><span class="ident" id="7962835">rj</span><span class="op" id="7962837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962842">verify</span><span class="op" id="7962848">(</span><span class="ident" id="7962849">t</span><span class="op" id="7962850">,</span>&nbsp;<span class="ident" id="7962852">ri</span><span class="op" id="7962854">,</span>&nbsp;<span class="ident" id="7962856">i</span><span class="op" id="7962857">,</span>&nbsp;<span class="op" id="7962859">-</span><span class="num" id="7962860">1</span><span class="op" id="7962861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7962865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7962868">}</span><br>
<span class="lineno">220</span><span class="op" id="7962870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7962873">//&nbsp;Test&nbsp;that&nbsp;calling&nbsp;Move()&nbsp;on&nbsp;an&nbsp;empty&nbsp;Ring&nbsp;initializes&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="7962934">func</span>&nbsp;<span class="ident" id="7962939">TestMoveEmptyRing</span><span class="op" id="7962956">(</span><span class="ident" id="7962957">t</span>&nbsp;<span class="op" id="7962959">*</span><span class="ident" id="7962960">testing</span><span class="op" id="7962967">.</span><span class="ident" id="7962968">T</span><span class="op" id="7962969">)</span>&nbsp;<span class="op" id="7962971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7962974">var</span>&nbsp;<span class="ident" id="7962978">r</span>&nbsp;<span class="ident" id="7962980">Ring</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962987">r</span><span class="op" id="7962988">.</span><span class="ident" id="7962989">Move</span><span class="op" id="7962993">(</span><span class="num" id="7962994">1</span><span class="op" id="7962995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7962998">verify</span><span class="op" id="7963004">(</span><span class="ident" id="7963005">t</span><span class="op" id="7963006">,</span>&nbsp;<span class="op" id="7963008">&amp;</span><span class="ident" id="7963009">r</span><span class="op" id="7963010">,</span>&nbsp;<span class="num" id="7963012">1</span><span class="op" id="7963013">,</span>&nbsp;<span class="num" id="7963015">0</span><span class="op" id="7963016">)</span><br>
<span class="lineno"></span><span class="op" id="7963018">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
