<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/csv</h2>
<ul>
<li><a href="/gostd/encoding/csv/reader.go.html">reader.go</a></li>
<li><a href="/gostd/encoding/csv/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/encoding/csv/writer.go.html">writer.go</a></li>
<li><a href="/gostd/encoding/csv/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7798111">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7798166">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7798220">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7798271">package</span>&nbsp;<span class="ident" id="7798279">csv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7798284">import</span>&nbsp;<span class="op" id="7798291">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7798294">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7798303">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7798313">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7798323">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7798326">var</span>&nbsp;<span class="ident" id="7798330">writeTests</span>&nbsp;<span class="op" id="7798341">=</span>&nbsp;<span class="op" id="7798343">[</span><span class="op" id="7798344">]</span><span class="keyword" id="7798345">struct</span>&nbsp;<span class="op" id="7798352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798355">Input</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7798363">[</span><span class="op" id="7798364">]</span><span class="op" id="7798365">[</span><span class="op" id="7798366">]</span><span class="builtintype" id="7798367">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798375">Output</span>&nbsp;&nbsp;<span class="builtintype" id="7798383">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7798391">UseCRLF</span>&nbsp;<span class="builtintype" id="7798399">bool</span><br>
<span class="lineno"></span><span class="op" id="7798404">}</span><span class="op" id="7798405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798408">{</span><span class="ident" id="7798409">Input</span><span class="op" id="7798414">:</span>&nbsp;<span class="op" id="7798416">[</span><span class="op" id="7798417">]</span><span class="op" id="7798418">[</span><span class="op" id="7798419">]</span><span class="builtintype" id="7798420">string</span><span class="op" id="7798426">{</span><span class="op" id="7798427">{</span><span class="string" id="7798428">&#34;abc&#34;</span><span class="op" id="7798433">}</span><span class="op" id="7798434">}</span><span class="op" id="7798435">,</span>&nbsp;<span class="ident" id="7798437">Output</span><span class="op" id="7798443">:</span>&nbsp;<span class="string" id="7798445">&#34;abc\n&#34;</span><span class="op" id="7798452">}</span><span class="op" id="7798453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798456">{</span><span class="ident" id="7798457">Input</span><span class="op" id="7798462">:</span>&nbsp;<span class="op" id="7798464">[</span><span class="op" id="7798465">]</span><span class="op" id="7798466">[</span><span class="op" id="7798467">]</span><span class="builtintype" id="7798468">string</span><span class="op" id="7798474">{</span><span class="op" id="7798475">{</span><span class="string" id="7798476">&#34;abc&#34;</span><span class="op" id="7798481">}</span><span class="op" id="7798482">}</span><span class="op" id="7798483">,</span>&nbsp;<span class="ident" id="7798485">Output</span><span class="op" id="7798491">:</span>&nbsp;<span class="string" id="7798493">&#34;abc\r\n&#34;</span><span class="op" id="7798502">,</span>&nbsp;<span class="ident" id="7798504">UseCRLF</span><span class="op" id="7798511">:</span>&nbsp;<span class="builtintype" id="7798513">true</span><span class="op" id="7798517">}</span><span class="op" id="7798518">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798521">{</span><span class="ident" id="7798522">Input</span><span class="op" id="7798527">:</span>&nbsp;<span class="op" id="7798529">[</span><span class="op" id="7798530">]</span><span class="op" id="7798531">[</span><span class="op" id="7798532">]</span><span class="builtintype" id="7798533">string</span><span class="op" id="7798539">{</span><span class="op" id="7798540">{</span><span class="string" id="7798541">`&#34;abc&#34;`</span><span class="op" id="7798548">}</span><span class="op" id="7798549">}</span><span class="op" id="7798550">,</span>&nbsp;<span class="ident" id="7798552">Output</span><span class="op" id="7798558">:</span>&nbsp;<span class="string" id="7798560">`&#34;&#34;&#34;abc&#34;&#34;&#34;`</span>&nbsp;<span class="op" id="7798572">+</span>&nbsp;<span class="string" id="7798574">&#34;\n&#34;</span><span class="op" id="7798578">}</span><span class="op" id="7798579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798582">{</span><span class="ident" id="7798583">Input</span><span class="op" id="7798588">:</span>&nbsp;<span class="op" id="7798590">[</span><span class="op" id="7798591">]</span><span class="op" id="7798592">[</span><span class="op" id="7798593">]</span><span class="builtintype" id="7798594">string</span><span class="op" id="7798600">{</span><span class="op" id="7798601">{</span><span class="string" id="7798602">`a&#34;b`</span><span class="op" id="7798607">}</span><span class="op" id="7798608">}</span><span class="op" id="7798609">,</span>&nbsp;<span class="ident" id="7798611">Output</span><span class="op" id="7798617">:</span>&nbsp;<span class="string" id="7798619">`&#34;a&#34;&#34;b&#34;`</span>&nbsp;<span class="op" id="7798628">+</span>&nbsp;<span class="string" id="7798630">&#34;\n&#34;</span><span class="op" id="7798634">}</span><span class="op" id="7798635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798638">{</span><span class="ident" id="7798639">Input</span><span class="op" id="7798644">:</span>&nbsp;<span class="op" id="7798646">[</span><span class="op" id="7798647">]</span><span class="op" id="7798648">[</span><span class="op" id="7798649">]</span><span class="builtintype" id="7798650">string</span><span class="op" id="7798656">{</span><span class="op" id="7798657">{</span><span class="string" id="7798658">`&#34;a&#34;b&#34;`</span><span class="op" id="7798665">}</span><span class="op" id="7798666">}</span><span class="op" id="7798667">,</span>&nbsp;<span class="ident" id="7798669">Output</span><span class="op" id="7798675">:</span>&nbsp;<span class="string" id="7798677">`&#34;&#34;&#34;a&#34;&#34;b&#34;&#34;&#34;`</span>&nbsp;<span class="op" id="7798690">+</span>&nbsp;<span class="string" id="7798692">&#34;\n&#34;</span><span class="op" id="7798696">}</span><span class="op" id="7798697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798700">{</span><span class="ident" id="7798701">Input</span><span class="op" id="7798706">:</span>&nbsp;<span class="op" id="7798708">[</span><span class="op" id="7798709">]</span><span class="op" id="7798710">[</span><span class="op" id="7798711">]</span><span class="builtintype" id="7798712">string</span><span class="op" id="7798718">{</span><span class="op" id="7798719">{</span><span class="string" id="7798720">&#34;&nbsp;abc&#34;</span><span class="op" id="7798726">}</span><span class="op" id="7798727">}</span><span class="op" id="7798728">,</span>&nbsp;<span class="ident" id="7798730">Output</span><span class="op" id="7798736">:</span>&nbsp;<span class="string" id="7798738">`&#34;&nbsp;abc&#34;`</span>&nbsp;<span class="op" id="7798747">+</span>&nbsp;<span class="string" id="7798749">&#34;\n&#34;</span><span class="op" id="7798753">}</span><span class="op" id="7798754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798757">{</span><span class="ident" id="7798758">Input</span><span class="op" id="7798763">:</span>&nbsp;<span class="op" id="7798765">[</span><span class="op" id="7798766">]</span><span class="op" id="7798767">[</span><span class="op" id="7798768">]</span><span class="builtintype" id="7798769">string</span><span class="op" id="7798775">{</span><span class="op" id="7798776">{</span><span class="string" id="7798777">&#34;abc,def&#34;</span><span class="op" id="7798786">}</span><span class="op" id="7798787">}</span><span class="op" id="7798788">,</span>&nbsp;<span class="ident" id="7798790">Output</span><span class="op" id="7798796">:</span>&nbsp;<span class="string" id="7798798">`&#34;abc,def&#34;`</span>&nbsp;<span class="op" id="7798810">+</span>&nbsp;<span class="string" id="7798812">&#34;\n&#34;</span><span class="op" id="7798816">}</span><span class="op" id="7798817">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798820">{</span><span class="ident" id="7798821">Input</span><span class="op" id="7798826">:</span>&nbsp;<span class="op" id="7798828">[</span><span class="op" id="7798829">]</span><span class="op" id="7798830">[</span><span class="op" id="7798831">]</span><span class="builtintype" id="7798832">string</span><span class="op" id="7798838">{</span><span class="op" id="7798839">{</span><span class="string" id="7798840">&#34;abc&#34;</span><span class="op" id="7798845">,</span>&nbsp;<span class="string" id="7798847">&#34;def&#34;</span><span class="op" id="7798852">}</span><span class="op" id="7798853">}</span><span class="op" id="7798854">,</span>&nbsp;<span class="ident" id="7798856">Output</span><span class="op" id="7798862">:</span>&nbsp;<span class="string" id="7798864">&#34;abc,def\n&#34;</span><span class="op" id="7798875">}</span><span class="op" id="7798876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798879">{</span><span class="ident" id="7798880">Input</span><span class="op" id="7798885">:</span>&nbsp;<span class="op" id="7798887">[</span><span class="op" id="7798888">]</span><span class="op" id="7798889">[</span><span class="op" id="7798890">]</span><span class="builtintype" id="7798891">string</span><span class="op" id="7798897">{</span><span class="op" id="7798898">{</span><span class="string" id="7798899">&#34;abc&#34;</span><span class="op" id="7798904">}</span><span class="op" id="7798905">,</span>&nbsp;<span class="op" id="7798907">{</span><span class="string" id="7798908">&#34;def&#34;</span><span class="op" id="7798913">}</span><span class="op" id="7798914">}</span><span class="op" id="7798915">,</span>&nbsp;<span class="ident" id="7798917">Output</span><span class="op" id="7798923">:</span>&nbsp;<span class="string" id="7798925">&#34;abc\ndef\n&#34;</span><span class="op" id="7798937">}</span><span class="op" id="7798938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7798941">{</span><span class="ident" id="7798942">Input</span><span class="op" id="7798947">:</span>&nbsp;<span class="op" id="7798949">[</span><span class="op" id="7798950">]</span><span class="op" id="7798951">[</span><span class="op" id="7798952">]</span><span class="builtintype" id="7798953">string</span><span class="op" id="7798959">{</span><span class="op" id="7798960">{</span><span class="string" id="7798961">&#34;abc\ndef&#34;</span><span class="op" id="7798971">}</span><span class="op" id="7798972">}</span><span class="op" id="7798973">,</span>&nbsp;<span class="ident" id="7798975">Output</span><span class="op" id="7798981">:</span>&nbsp;<span class="string" id="7798983">&#34;\&#34;abc\ndef\&#34;\n&#34;</span><span class="op" id="7798999">}</span><span class="op" id="7799000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799003">{</span><span class="ident" id="7799004">Input</span><span class="op" id="7799009">:</span>&nbsp;<span class="op" id="7799011">[</span><span class="op" id="7799012">]</span><span class="op" id="7799013">[</span><span class="op" id="7799014">]</span><span class="builtintype" id="7799015">string</span><span class="op" id="7799021">{</span><span class="op" id="7799022">{</span><span class="string" id="7799023">&#34;abc\ndef&#34;</span><span class="op" id="7799033">}</span><span class="op" id="7799034">}</span><span class="op" id="7799035">,</span>&nbsp;<span class="ident" id="7799037">Output</span><span class="op" id="7799043">:</span>&nbsp;<span class="string" id="7799045">&#34;\&#34;abc\r\ndef\&#34;\r\n&#34;</span><span class="op" id="7799065">,</span>&nbsp;<span class="ident" id="7799067">UseCRLF</span><span class="op" id="7799074">:</span>&nbsp;<span class="builtintype" id="7799076">true</span><span class="op" id="7799080">}</span><span class="op" id="7799081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799084">{</span><span class="ident" id="7799085">Input</span><span class="op" id="7799090">:</span>&nbsp;<span class="op" id="7799092">[</span><span class="op" id="7799093">]</span><span class="op" id="7799094">[</span><span class="op" id="7799095">]</span><span class="builtintype" id="7799096">string</span><span class="op" id="7799102">{</span><span class="op" id="7799103">{</span><span class="string" id="7799104">&#34;abc\rdef&#34;</span><span class="op" id="7799114">}</span><span class="op" id="7799115">}</span><span class="op" id="7799116">,</span>&nbsp;<span class="ident" id="7799118">Output</span><span class="op" id="7799124">:</span>&nbsp;<span class="string" id="7799126">&#34;\&#34;abcdef\&#34;\r\n&#34;</span><span class="op" id="7799142">,</span>&nbsp;<span class="ident" id="7799144">UseCRLF</span><span class="op" id="7799151">:</span>&nbsp;<span class="builtintype" id="7799153">true</span><span class="op" id="7799157">}</span><span class="op" id="7799158">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799161">{</span><span class="ident" id="7799162">Input</span><span class="op" id="7799167">:</span>&nbsp;<span class="op" id="7799169">[</span><span class="op" id="7799170">]</span><span class="op" id="7799171">[</span><span class="op" id="7799172">]</span><span class="builtintype" id="7799173">string</span><span class="op" id="7799179">{</span><span class="op" id="7799180">{</span><span class="string" id="7799181">&#34;abc\rdef&#34;</span><span class="op" id="7799191">}</span><span class="op" id="7799192">}</span><span class="op" id="7799193">,</span>&nbsp;<span class="ident" id="7799195">Output</span><span class="op" id="7799201">:</span>&nbsp;<span class="string" id="7799203">&#34;\&#34;abc\rdef\&#34;\n&#34;</span><span class="op" id="7799219">,</span>&nbsp;<span class="ident" id="7799221">UseCRLF</span><span class="op" id="7799228">:</span>&nbsp;<span class="builtintype" id="7799230">false</span><span class="op" id="7799235">}</span><span class="op" id="7799236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799239">{</span><span class="ident" id="7799240">Input</span><span class="op" id="7799245">:</span>&nbsp;<span class="op" id="7799247">[</span><span class="op" id="7799248">]</span><span class="op" id="7799249">[</span><span class="op" id="7799250">]</span><span class="builtintype" id="7799251">string</span><span class="op" id="7799257">{</span><span class="op" id="7799258">{</span><span class="string" id="7799259">&#34;&#34;</span><span class="op" id="7799261">}</span><span class="op" id="7799262">}</span><span class="op" id="7799263">,</span>&nbsp;<span class="ident" id="7799265">Output</span><span class="op" id="7799271">:</span>&nbsp;<span class="string" id="7799273">&#34;\n&#34;</span><span class="op" id="7799277">}</span><span class="op" id="7799278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799281">{</span><span class="ident" id="7799282">Input</span><span class="op" id="7799287">:</span>&nbsp;<span class="op" id="7799289">[</span><span class="op" id="7799290">]</span><span class="op" id="7799291">[</span><span class="op" id="7799292">]</span><span class="builtintype" id="7799293">string</span><span class="op" id="7799299">{</span><span class="op" id="7799300">{</span><span class="string" id="7799301">&#34;&#34;</span><span class="op" id="7799303">,</span>&nbsp;<span class="string" id="7799305">&#34;&#34;</span><span class="op" id="7799307">}</span><span class="op" id="7799308">}</span><span class="op" id="7799309">,</span>&nbsp;<span class="ident" id="7799311">Output</span><span class="op" id="7799317">:</span>&nbsp;<span class="string" id="7799319">&#34;,\n&#34;</span><span class="op" id="7799324">}</span><span class="op" id="7799325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799328">{</span><span class="ident" id="7799329">Input</span><span class="op" id="7799334">:</span>&nbsp;<span class="op" id="7799336">[</span><span class="op" id="7799337">]</span><span class="op" id="7799338">[</span><span class="op" id="7799339">]</span><span class="builtintype" id="7799340">string</span><span class="op" id="7799346">{</span><span class="op" id="7799347">{</span><span class="string" id="7799348">&#34;&#34;</span><span class="op" id="7799350">,</span>&nbsp;<span class="string" id="7799352">&#34;&#34;</span><span class="op" id="7799354">,</span>&nbsp;<span class="string" id="7799356">&#34;&#34;</span><span class="op" id="7799358">}</span><span class="op" id="7799359">}</span><span class="op" id="7799360">,</span>&nbsp;<span class="ident" id="7799362">Output</span><span class="op" id="7799368">:</span>&nbsp;<span class="string" id="7799370">&#34;,,\n&#34;</span><span class="op" id="7799376">}</span><span class="op" id="7799377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799380">{</span><span class="ident" id="7799381">Input</span><span class="op" id="7799386">:</span>&nbsp;<span class="op" id="7799388">[</span><span class="op" id="7799389">]</span><span class="op" id="7799390">[</span><span class="op" id="7799391">]</span><span class="builtintype" id="7799392">string</span><span class="op" id="7799398">{</span><span class="op" id="7799399">{</span><span class="string" id="7799400">&#34;&#34;</span><span class="op" id="7799402">,</span>&nbsp;<span class="string" id="7799404">&#34;&#34;</span><span class="op" id="7799406">,</span>&nbsp;<span class="string" id="7799408">&#34;a&#34;</span><span class="op" id="7799411">}</span><span class="op" id="7799412">}</span><span class="op" id="7799413">,</span>&nbsp;<span class="ident" id="7799415">Output</span><span class="op" id="7799421">:</span>&nbsp;<span class="string" id="7799423">&#34;,,a\n&#34;</span><span class="op" id="7799430">}</span><span class="op" id="7799431">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799434">{</span><span class="ident" id="7799435">Input</span><span class="op" id="7799440">:</span>&nbsp;<span class="op" id="7799442">[</span><span class="op" id="7799443">]</span><span class="op" id="7799444">[</span><span class="op" id="7799445">]</span><span class="builtintype" id="7799446">string</span><span class="op" id="7799452">{</span><span class="op" id="7799453">{</span><span class="string" id="7799454">&#34;&#34;</span><span class="op" id="7799456">,</span>&nbsp;<span class="string" id="7799458">&#34;a&#34;</span><span class="op" id="7799461">,</span>&nbsp;<span class="string" id="7799463">&#34;&#34;</span><span class="op" id="7799465">}</span><span class="op" id="7799466">}</span><span class="op" id="7799467">,</span>&nbsp;<span class="ident" id="7799469">Output</span><span class="op" id="7799475">:</span>&nbsp;<span class="string" id="7799477">&#34;,a,\n&#34;</span><span class="op" id="7799484">}</span><span class="op" id="7799485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799488">{</span><span class="ident" id="7799489">Input</span><span class="op" id="7799494">:</span>&nbsp;<span class="op" id="7799496">[</span><span class="op" id="7799497">]</span><span class="op" id="7799498">[</span><span class="op" id="7799499">]</span><span class="builtintype" id="7799500">string</span><span class="op" id="7799506">{</span><span class="op" id="7799507">{</span><span class="string" id="7799508">&#34;&#34;</span><span class="op" id="7799510">,</span>&nbsp;<span class="string" id="7799512">&#34;a&#34;</span><span class="op" id="7799515">,</span>&nbsp;<span class="string" id="7799517">&#34;a&#34;</span><span class="op" id="7799520">}</span><span class="op" id="7799521">}</span><span class="op" id="7799522">,</span>&nbsp;<span class="ident" id="7799524">Output</span><span class="op" id="7799530">:</span>&nbsp;<span class="string" id="7799532">&#34;,a,a\n&#34;</span><span class="op" id="7799540">}</span><span class="op" id="7799541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799544">{</span><span class="ident" id="7799545">Input</span><span class="op" id="7799550">:</span>&nbsp;<span class="op" id="7799552">[</span><span class="op" id="7799553">]</span><span class="op" id="7799554">[</span><span class="op" id="7799555">]</span><span class="builtintype" id="7799556">string</span><span class="op" id="7799562">{</span><span class="op" id="7799563">{</span><span class="string" id="7799564">&#34;a&#34;</span><span class="op" id="7799567">,</span>&nbsp;<span class="string" id="7799569">&#34;&#34;</span><span class="op" id="7799571">,</span>&nbsp;<span class="string" id="7799573">&#34;&#34;</span><span class="op" id="7799575">}</span><span class="op" id="7799576">}</span><span class="op" id="7799577">,</span>&nbsp;<span class="ident" id="7799579">Output</span><span class="op" id="7799585">:</span>&nbsp;<span class="string" id="7799587">&#34;a,,\n&#34;</span><span class="op" id="7799594">}</span><span class="op" id="7799595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799598">{</span><span class="ident" id="7799599">Input</span><span class="op" id="7799604">:</span>&nbsp;<span class="op" id="7799606">[</span><span class="op" id="7799607">]</span><span class="op" id="7799608">[</span><span class="op" id="7799609">]</span><span class="builtintype" id="7799610">string</span><span class="op" id="7799616">{</span><span class="op" id="7799617">{</span><span class="string" id="7799618">&#34;a&#34;</span><span class="op" id="7799621">,</span>&nbsp;<span class="string" id="7799623">&#34;&#34;</span><span class="op" id="7799625">,</span>&nbsp;<span class="string" id="7799627">&#34;a&#34;</span><span class="op" id="7799630">}</span><span class="op" id="7799631">}</span><span class="op" id="7799632">,</span>&nbsp;<span class="ident" id="7799634">Output</span><span class="op" id="7799640">:</span>&nbsp;<span class="string" id="7799642">&#34;a,,a\n&#34;</span><span class="op" id="7799650">}</span><span class="op" id="7799651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799654">{</span><span class="ident" id="7799655">Input</span><span class="op" id="7799660">:</span>&nbsp;<span class="op" id="7799662">[</span><span class="op" id="7799663">]</span><span class="op" id="7799664">[</span><span class="op" id="7799665">]</span><span class="builtintype" id="7799666">string</span><span class="op" id="7799672">{</span><span class="op" id="7799673">{</span><span class="string" id="7799674">&#34;a&#34;</span><span class="op" id="7799677">,</span>&nbsp;<span class="string" id="7799679">&#34;a&#34;</span><span class="op" id="7799682">,</span>&nbsp;<span class="string" id="7799684">&#34;&#34;</span><span class="op" id="7799686">}</span><span class="op" id="7799687">}</span><span class="op" id="7799688">,</span>&nbsp;<span class="ident" id="7799690">Output</span><span class="op" id="7799696">:</span>&nbsp;<span class="string" id="7799698">&#34;a,a,\n&#34;</span><span class="op" id="7799706">}</span><span class="op" id="7799707">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799710">{</span><span class="ident" id="7799711">Input</span><span class="op" id="7799716">:</span>&nbsp;<span class="op" id="7799718">[</span><span class="op" id="7799719">]</span><span class="op" id="7799720">[</span><span class="op" id="7799721">]</span><span class="builtintype" id="7799722">string</span><span class="op" id="7799728">{</span><span class="op" id="7799729">{</span><span class="string" id="7799730">&#34;a&#34;</span><span class="op" id="7799733">,</span>&nbsp;<span class="string" id="7799735">&#34;a&#34;</span><span class="op" id="7799738">,</span>&nbsp;<span class="string" id="7799740">&#34;a&#34;</span><span class="op" id="7799743">}</span><span class="op" id="7799744">}</span><span class="op" id="7799745">,</span>&nbsp;<span class="ident" id="7799747">Output</span><span class="op" id="7799753">:</span>&nbsp;<span class="string" id="7799755">&#34;a,a,a\n&#34;</span><span class="op" id="7799764">}</span><span class="op" id="7799765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7799768">{</span><span class="ident" id="7799769">Input</span><span class="op" id="7799774">:</span>&nbsp;<span class="op" id="7799776">[</span><span class="op" id="7799777">]</span><span class="op" id="7799778">[</span><span class="op" id="7799779">]</span><span class="builtintype" id="7799780">string</span><span class="op" id="7799786">{</span><span class="op" id="7799787">{</span><span class="string" id="7799788">`\.`</span><span class="op" id="7799792">}</span><span class="op" id="7799793">}</span><span class="op" id="7799794">,</span>&nbsp;<span class="ident" id="7799796">Output</span><span class="op" id="7799802">:</span>&nbsp;<span class="string" id="7799804">&#34;\&#34;\\.\&#34;\n&#34;</span><span class="op" id="7799815">}</span><span class="op" id="7799816">,</span><br>
<span class="lineno"></span><span class="op" id="7799818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7799821">func</span>&nbsp;<span class="ident" id="7799826">TestWrite</span><span class="op" id="7799835">(</span><span class="ident" id="7799836">t</span>&nbsp;<span class="op" id="7799838">*</span><span class="ident" id="7799839">testing</span><span class="op" id="7799846">.</span><span class="ident" id="7799847">T</span><span class="op" id="7799848">)</span>&nbsp;<span class="op" id="7799850">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7799853">for</span>&nbsp;<span class="ident" id="7799857">n</span><span class="op" id="7799858">,</span>&nbsp;<span class="ident" id="7799860">tt</span>&nbsp;<span class="op" id="7799863">:=</span>&nbsp;<span class="keyword" id="7799866">range</span>&nbsp;<span class="ident" id="7799872">writeTests</span>&nbsp;<span class="op" id="7799883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799887">b</span>&nbsp;<span class="op" id="7799889">:=</span>&nbsp;<span class="op" id="7799892">&amp;</span><span class="ident" id="7799893">bytes</span><span class="op" id="7799898">.</span><span class="ident" id="7799899">Buffer</span><span class="op" id="7799905">{</span><span class="op" id="7799906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799910">f</span>&nbsp;<span class="op" id="7799912">:=</span>&nbsp;<span class="ident" id="7799915">NewWriter</span><span class="op" id="7799924">(</span><span class="ident" id="7799925">b</span><span class="op" id="7799926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799930">f</span><span class="op" id="7799931">.</span><span class="ident" id="7799932">UseCRLF</span>&nbsp;<span class="op" id="7799940">=</span>&nbsp;<span class="ident" id="7799942">tt</span><span class="op" id="7799944">.</span><span class="ident" id="7799945">UseCRLF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7799955">err</span>&nbsp;<span class="op" id="7799959">:=</span>&nbsp;<span class="ident" id="7799962">f</span><span class="op" id="7799963">.</span><span class="ident" id="7799964">WriteAll</span><span class="op" id="7799972">(</span><span class="ident" id="7799973">tt</span><span class="op" id="7799975">.</span><span class="ident" id="7799976">Input</span><span class="op" id="7799981">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7799985">if</span>&nbsp;<span class="ident" id="7799988">err</span>&nbsp;<span class="op" id="7799992">!=</span>&nbsp;<span class="ident" id="7799995">nil</span>&nbsp;<span class="op" id="7799999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800004">t</span><span class="op" id="7800005">.</span><span class="ident" id="7800006">Errorf</span><span class="op" id="7800012">(</span><span class="string" id="7800013">&#34;Unexpected&nbsp;error:&nbsp;%s\n&#34;</span><span class="op" id="7800037">,</span>&nbsp;<span class="ident" id="7800039">err</span><span class="op" id="7800042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800050">out</span>&nbsp;<span class="op" id="7800054">:=</span>&nbsp;<span class="ident" id="7800057">b</span><span class="op" id="7800058">.</span><span class="ident" id="7800059">String</span><span class="op" id="7800065">(</span><span class="op" id="7800066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800070">if</span>&nbsp;<span class="ident" id="7800073">out</span>&nbsp;<span class="op" id="7800077">!=</span>&nbsp;<span class="ident" id="7800080">tt</span><span class="op" id="7800082">.</span><span class="ident" id="7800083">Output</span>&nbsp;<span class="op" id="7800090">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800095">t</span><span class="op" id="7800096">.</span><span class="ident" id="7800097">Errorf</span><span class="op" id="7800103">(</span><span class="string" id="7800104">&#34;#%d:&nbsp;out=%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7800125">,</span>&nbsp;<span class="ident" id="7800127">n</span><span class="op" id="7800128">,</span>&nbsp;<span class="ident" id="7800130">out</span><span class="op" id="7800133">,</span>&nbsp;<span class="ident" id="7800135">tt</span><span class="op" id="7800137">.</span><span class="ident" id="7800138">Output</span><span class="op" id="7800144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800151">}</span><br>
<span class="lineno"></span><span class="op" id="7800153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7800156">type</span>&nbsp;<span class="ident" id="7800161">errorWriter</span>&nbsp;<span class="keyword" id="7800173">struct</span><span class="op" id="7800179">{</span><span class="op" id="7800180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7800183">func</span>&nbsp;<span class="op" id="7800188">(</span><span class="ident" id="7800189">e</span>&nbsp;<span class="ident" id="7800191">errorWriter</span><span class="op" id="7800202">)</span>&nbsp;<span class="ident" id="7800204">Write</span><span class="op" id="7800209">(</span><span class="ident" id="7800210">b</span>&nbsp;<span class="op" id="7800212">[</span><span class="op" id="7800213">]</span><span class="builtintype" id="7800214">byte</span><span class="op" id="7800218">)</span>&nbsp;<span class="op" id="7800220">(</span><span class="builtintype" id="7800221">int</span><span class="op" id="7800224">,</span>&nbsp;<span class="builtintype" id="7800226">error</span><span class="op" id="7800231">)</span>&nbsp;<span class="op" id="7800233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800236">return</span>&nbsp;<span class="num" id="7800243">0</span><span class="op" id="7800244">,</span>&nbsp;<span class="ident" id="7800246">errors</span><span class="op" id="7800252">.</span><span class="ident" id="7800253">New</span><span class="op" id="7800256">(</span><span class="string" id="7800257">&#34;Test&#34;</span><span class="op" id="7800263">)</span><br>
<span class="lineno"></span><span class="op" id="7800265">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7800268">func</span>&nbsp;<span class="ident" id="7800273">TestError</span><span class="op" id="7800282">(</span><span class="ident" id="7800283">t</span>&nbsp;<span class="op" id="7800285">*</span><span class="ident" id="7800286">testing</span><span class="op" id="7800293">.</span><span class="ident" id="7800294">T</span><span class="op" id="7800295">)</span>&nbsp;<span class="op" id="7800297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800300">b</span>&nbsp;<span class="op" id="7800302">:=</span>&nbsp;<span class="op" id="7800305">&amp;</span><span class="ident" id="7800306">bytes</span><span class="op" id="7800311">.</span><span class="ident" id="7800312">Buffer</span><span class="op" id="7800318">{</span><span class="op" id="7800319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800322">f</span>&nbsp;<span class="op" id="7800324">:=</span>&nbsp;<span class="ident" id="7800327">NewWriter</span><span class="op" id="7800336">(</span><span class="ident" id="7800337">b</span><span class="op" id="7800338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800341">f</span><span class="op" id="7800342">.</span><span class="ident" id="7800343">Write</span><span class="op" id="7800348">(</span><span class="op" id="7800349">[</span><span class="op" id="7800350">]</span><span class="builtintype" id="7800351">string</span><span class="op" id="7800357">{</span><span class="string" id="7800358">&#34;abc&#34;</span><span class="op" id="7800363">}</span><span class="op" id="7800364">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800367">f</span><span class="op" id="7800368">.</span><span class="ident" id="7800369">Flush</span><span class="op" id="7800374">(</span><span class="op" id="7800375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800378">err</span>&nbsp;<span class="op" id="7800382">:=</span>&nbsp;<span class="ident" id="7800385">f</span><span class="op" id="7800386">.</span><span class="ident" id="7800387">Error</span><span class="op" id="7800392">(</span><span class="op" id="7800393">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800397">if</span>&nbsp;<span class="ident" id="7800400">err</span>&nbsp;<span class="op" id="7800404">!=</span>&nbsp;<span class="ident" id="7800407">nil</span>&nbsp;<span class="op" id="7800411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800415">t</span><span class="op" id="7800416">.</span><span class="ident" id="7800417">Errorf</span><span class="op" id="7800423">(</span><span class="string" id="7800424">&#34;Unexpected&nbsp;error:&nbsp;%s\n&#34;</span><span class="op" id="7800448">,</span>&nbsp;<span class="ident" id="7800450">err</span><span class="op" id="7800453">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800460">f</span>&nbsp;<span class="op" id="7800462">=</span>&nbsp;<span class="ident" id="7800464">NewWriter</span><span class="op" id="7800473">(</span><span class="ident" id="7800474">errorWriter</span><span class="op" id="7800485">{</span><span class="op" id="7800486">}</span><span class="op" id="7800487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800490">f</span><span class="op" id="7800491">.</span><span class="ident" id="7800492">Write</span><span class="op" id="7800497">(</span><span class="op" id="7800498">[</span><span class="op" id="7800499">]</span><span class="builtintype" id="7800500">string</span><span class="op" id="7800506">{</span><span class="string" id="7800507">&#34;abc&#34;</span><span class="op" id="7800512">}</span><span class="op" id="7800513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800516">f</span><span class="op" id="7800517">.</span><span class="ident" id="7800518">Flush</span><span class="op" id="7800523">(</span><span class="op" id="7800524">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800527">err</span>&nbsp;<span class="op" id="7800531">=</span>&nbsp;<span class="ident" id="7800533">f</span><span class="op" id="7800534">.</span><span class="ident" id="7800535">Error</span><span class="op" id="7800540">(</span><span class="op" id="7800541">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7800545">if</span>&nbsp;<span class="ident" id="7800548">err</span>&nbsp;<span class="op" id="7800552">==</span>&nbsp;<span class="ident" id="7800555">nil</span>&nbsp;<span class="op" id="7800559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7800563">t</span><span class="op" id="7800564">.</span><span class="ident" id="7800565">Error</span><span class="op" id="7800570">(</span><span class="string" id="7800571">&#34;Error&nbsp;should&nbsp;not&nbsp;be&nbsp;nil&#34;</span><span class="op" id="7800596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7800599">}</span><br>
<span class="lineno">85</span><span class="op" id="7800601">}</span>
</div>
</body>
</html>
