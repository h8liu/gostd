<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/csv</h2>
<ul>
<li><a href="/gostd/encoding/csv/reader.go.html" class="current">reader.go</a></li>
<li><a href="/gostd/encoding/csv/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/encoding/csv/writer.go.html">writer.go</a></li>
<li><a href="/gostd/encoding/csv/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3131932">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3131987">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3132041">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3132092">//&nbsp;Package&nbsp;csv&nbsp;reads&nbsp;and&nbsp;writes&nbsp;comma-separated&nbsp;values&nbsp;(CSV)&nbsp;files.</span><br>
<span class="lineno"></span><span class="comment" id="3132160">//</span><br>
<span class="lineno"></span><span class="comment" id="3132163">//&nbsp;A&nbsp;csv&nbsp;file&nbsp;contains&nbsp;zero&nbsp;or&nbsp;more&nbsp;records&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;fields&nbsp;per&nbsp;record.</span><br>
<span class="lineno"></span><span class="comment" id="3132241">//&nbsp;Each&nbsp;record&nbsp;is&nbsp;separated&nbsp;by&nbsp;the&nbsp;newline&nbsp;character.&nbsp;The&nbsp;final&nbsp;record&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="3132316">//&nbsp;optionally&nbsp;be&nbsp;followed&nbsp;by&nbsp;a&nbsp;newline&nbsp;character.</span><br>
<span class="lineno">10</span><span class="comment" id="3132366">//</span><br>
<span class="lineno"></span><span class="comment" id="3132369">//&nbsp;&nbsp;&nbsp;&nbsp;field1,field2,field3</span><br>
<span class="lineno"></span><span class="comment" id="3132393">//</span><br>
<span class="lineno"></span><span class="comment" id="3132396">//&nbsp;White&nbsp;space&nbsp;is&nbsp;considered&nbsp;part&nbsp;of&nbsp;a&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="3132442">//</span><br>
<span class="lineno">15</span><span class="comment" id="3132445">//&nbsp;Carriage&nbsp;returns&nbsp;before&nbsp;newline&nbsp;characters&nbsp;are&nbsp;silently&nbsp;removed.</span><br>
<span class="lineno"></span><span class="comment" id="3132513">//</span><br>
<span class="lineno"></span><span class="comment" id="3132516">//&nbsp;Blank&nbsp;lines&nbsp;are&nbsp;ignored.&nbsp;&nbsp;A&nbsp;line&nbsp;with&nbsp;only&nbsp;whitespace&nbsp;characters&nbsp;(excluding</span><br>
<span class="lineno"></span><span class="comment" id="3132595">//&nbsp;the&nbsp;ending&nbsp;newline&nbsp;character)&nbsp;is&nbsp;not&nbsp;considered&nbsp;a&nbsp;blank&nbsp;line.</span><br>
<span class="lineno"></span><span class="comment" id="3132660">//</span><br>
<span class="lineno">20</span><span class="comment" id="3132663">//&nbsp;Fields&nbsp;which&nbsp;start&nbsp;and&nbsp;stop&nbsp;with&nbsp;the&nbsp;quote&nbsp;character&nbsp;&#34;&nbsp;are&nbsp;called</span><br>
<span class="lineno"></span><span class="comment" id="3132732">//&nbsp;quoted-fields.&nbsp;&nbsp;The&nbsp;beginning&nbsp;and&nbsp;ending&nbsp;quote&nbsp;are&nbsp;not&nbsp;part&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3132802">//&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="3132812">//</span><br>
<span class="lineno"></span><span class="comment" id="3132815">//&nbsp;The&nbsp;source:</span><br>
<span class="lineno">25</span><span class="comment" id="3132830">//</span><br>
<span class="lineno"></span><span class="comment" id="3132833">//&nbsp;&nbsp;&nbsp;&nbsp;normal&nbsp;string,&#34;quoted-field&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3132865">//</span><br>
<span class="lineno"></span><span class="comment" id="3132868">//&nbsp;results&nbsp;in&nbsp;the&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="3132893">//</span><br>
<span class="lineno">30</span><span class="comment" id="3132896">//&nbsp;&nbsp;&nbsp;&nbsp;{`normal&nbsp;string`,&nbsp;`quoted-field`}</span><br>
<span class="lineno"></span><span class="comment" id="3132933">//</span><br>
<span class="lineno"></span><span class="comment" id="3132936">//&nbsp;Within&nbsp;a&nbsp;quoted-field&nbsp;a&nbsp;quote&nbsp;character&nbsp;followed&nbsp;by&nbsp;a&nbsp;second&nbsp;quote</span><br>
<span class="lineno"></span><span class="comment" id="3133006">//&nbsp;character&nbsp;is&nbsp;considered&nbsp;a&nbsp;single&nbsp;quote.</span><br>
<span class="lineno"></span><span class="comment" id="3133049">//</span><br>
<span class="lineno">35</span><span class="comment" id="3133052">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;the&nbsp;&#34;&#34;word&#34;&#34;&nbsp;is&nbsp;true&#34;,&#34;a&nbsp;&#34;&#34;quoted-field&#34;&#34;&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3133099">//</span><br>
<span class="lineno"></span><span class="comment" id="3133102">//&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3133116">//</span><br>
<span class="lineno"></span><span class="comment" id="3133119">//&nbsp;&nbsp;&nbsp;&nbsp;{`the&nbsp;&#34;word&#34;&nbsp;is&nbsp;true`,&nbsp;`a&nbsp;&#34;quoted-field&#34;`}</span><br>
<span class="lineno">40</span><span class="comment" id="3133165">//</span><br>
<span class="lineno"></span><span class="comment" id="3133168">//&nbsp;Newlines&nbsp;and&nbsp;commas&nbsp;may&nbsp;be&nbsp;included&nbsp;in&nbsp;a&nbsp;quoted-field</span><br>
<span class="lineno"></span><span class="comment" id="3133225">//</span><br>
<span class="lineno"></span><span class="comment" id="3133228">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;Multi-line</span><br>
<span class="lineno"></span><span class="comment" id="3133243">//&nbsp;&nbsp;&nbsp;&nbsp;field&#34;,&#34;comma&nbsp;is&nbsp;,&#34;</span><br>
<span class="lineno">45</span><span class="comment" id="3133266">//</span><br>
<span class="lineno"></span><span class="comment" id="3133269">//&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3133283">//</span><br>
<span class="lineno"></span><span class="comment" id="3133286">//&nbsp;&nbsp;&nbsp;&nbsp;{`Multi-line</span><br>
<span class="lineno"></span><span class="comment" id="3133302">//&nbsp;&nbsp;&nbsp;&nbsp;field`,&nbsp;`comma&nbsp;is&nbsp;,`}</span><br>
<span class="lineno">50</span><span class="keyword" id="3133327">package</span>&nbsp;<span class="ident" id="3133335">csv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3133340">import</span>&nbsp;<span class="op" id="3133347">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3133350">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3133359">&#34;bytes&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3133368">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3133378">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3133385">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3133391">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="3133401">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3133404">//&nbsp;A&nbsp;ParseError&nbsp;is&nbsp;returned&nbsp;for&nbsp;parsing&nbsp;errors.</span><br>
<span class="lineno"></span><span class="comment" id="3133452">//&nbsp;The&nbsp;first&nbsp;line&nbsp;is&nbsp;1.&nbsp;&nbsp;The&nbsp;first&nbsp;column&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3133500">type</span>&nbsp;<span class="ident" id="3133505">ParseError</span>&nbsp;<span class="keyword" id="3133516">struct</span>&nbsp;<span class="op" id="3133523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3133526">Line</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3133533">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3133539">//&nbsp;Line&nbsp;where&nbsp;the&nbsp;error&nbsp;occurred</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3133573">Column</span>&nbsp;<span class="builtintype" id="3133580">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3133586">//&nbsp;Column&nbsp;(rune&nbsp;index)&nbsp;where&nbsp;the&nbsp;error&nbsp;occurred</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3133635">Err</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3133642">error</span>&nbsp;<span class="comment" id="3133648">//&nbsp;The&nbsp;actual&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="3133668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3133671">func</span>&nbsp;<span class="op" id="3133676">(</span><span class="ident" id="3133677">e</span>&nbsp;<span class="op" id="3133679">*</span><span class="ident" id="3133680"><a href="/gostd/encoding/csv/reader.go.html#3133505">ParseError</a></span><span class="op" id="3133690">)</span>&nbsp;<span class="ident" id="3133692">Error</span><span class="op" id="3133697">(</span><span class="op" id="3133698">)</span>&nbsp;<span class="builtintype" id="3133700">string</span>&nbsp;<span class="op" id="3133707">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3133710">return</span>&nbsp;<span class="ident" id="3133717"><a href="/gostd/encoding/csv/reader.go.html#3133378">fmt</a></span><span class="op" id="3133720">.</span><span class="ident" id="3133721"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3133728">(</span><span class="string" id="3133729">&#34;line&nbsp;%d,&nbsp;column&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="3133753">,</span>&nbsp;<span class="ident" id="3133755"><a href="/gostd/encoding/csv/reader.go.html#3133677">e</a></span><span class="op" id="3133756">.</span><span class="ident" id="3133757"><a href="/gostd/encoding/csv/reader.go.html#3133526">Line</a></span><span class="op" id="3133761">,</span>&nbsp;<span class="ident" id="3133763"><a href="/gostd/encoding/csv/reader.go.html#3133677">e</a></span><span class="op" id="3133764">.</span><span class="ident" id="3133765"><a href="/gostd/encoding/csv/reader.go.html#3133573">Column</a></span><span class="op" id="3133771">,</span>&nbsp;<span class="ident" id="3133773"><a href="/gostd/encoding/csv/reader.go.html#3133677">e</a></span><span class="op" id="3133774">.</span><span class="ident" id="3133775"><a href="/gostd/encoding/csv/reader.go.html#3133635">Err</a></span><span class="op" id="3133778">)</span><br>
<span class="lineno"></span><span class="op" id="3133780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3133783">//&nbsp;These&nbsp;are&nbsp;the&nbsp;errors&nbsp;that&nbsp;can&nbsp;be&nbsp;returned&nbsp;in&nbsp;ParseError.Error</span><br>
<span class="lineno"></span><span class="keyword" id="3133848">var</span>&nbsp;<span class="op" id="3133852">(</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3133855">ErrTrailingComma</span>&nbsp;<span class="op" id="3133872">=</span>&nbsp;<span class="ident" id="3133874"><a href="/gostd/encoding/csv/reader.go.html#3133368">errors</a></span><span class="op" id="3133880">.</span><span class="ident" id="3133881"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3133884">(</span><span class="string" id="3133885">&#34;extra&nbsp;delimiter&nbsp;at&nbsp;end&nbsp;of&nbsp;line&#34;</span><span class="op" id="3133917">)</span>&nbsp;<span class="comment" id="3133919">//&nbsp;no&nbsp;longer&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3133938">ErrBareQuote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3133955">=</span>&nbsp;<span class="ident" id="3133957"><a href="/gostd/encoding/csv/reader.go.html#3133368">errors</a></span><span class="op" id="3133963">.</span><span class="ident" id="3133964"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3133967">(</span><span class="string" id="3133968">&#34;bare&nbsp;\&#34;&nbsp;in&nbsp;non-quoted-field&#34;</span><span class="op" id="3133997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3134000">ErrQuote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3134017">=</span>&nbsp;<span class="ident" id="3134019"><a href="/gostd/encoding/csv/reader.go.html#3133368">errors</a></span><span class="op" id="3134025">.</span><span class="ident" id="3134026"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3134029">(</span><span class="string" id="3134030">&#34;extraneous&nbsp;\&#34;&nbsp;in&nbsp;field&#34;</span><span class="op" id="3134054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3134057">ErrFieldCount</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3134074">=</span>&nbsp;<span class="ident" id="3134076"><a href="/gostd/encoding/csv/reader.go.html#3133368">errors</a></span><span class="op" id="3134082">.</span><span class="ident" id="3134083"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3134086">(</span><span class="string" id="3134087">&#34;wrong&nbsp;number&nbsp;of&nbsp;fields&nbsp;in&nbsp;line&#34;</span><span class="op" id="3134119">)</span><br>
<span class="lineno"></span><span class="op" id="3134121">)</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="3134124">//&nbsp;A&nbsp;Reader&nbsp;reads&nbsp;records&nbsp;from&nbsp;a&nbsp;CSV-encoded&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="3134175">//</span><br>
<span class="lineno"></span><span class="comment" id="3134178">//&nbsp;As&nbsp;returned&nbsp;by&nbsp;NewReader,&nbsp;a&nbsp;Reader&nbsp;expects&nbsp;input&nbsp;conforming&nbsp;to&nbsp;RFC&nbsp;4180.</span><br>
<span class="lineno"></span><span class="comment" id="3134254">//&nbsp;The&nbsp;exported&nbsp;fields&nbsp;can&nbsp;be&nbsp;changed&nbsp;to&nbsp;customize&nbsp;the&nbsp;details&nbsp;before&nbsp;the</span><br>
<span class="lineno">85</span><span class="comment" id="3134328">//&nbsp;first&nbsp;call&nbsp;to&nbsp;Read&nbsp;or&nbsp;ReadAll.</span><br>
<span class="lineno"></span><span class="comment" id="3134362">//</span><br>
<span class="lineno"></span><span class="comment" id="3134365">//&nbsp;Comma&nbsp;is&nbsp;the&nbsp;field&nbsp;delimiter.&nbsp;&nbsp;It&nbsp;defaults&nbsp;to&nbsp;&#39;,&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="3134419">//</span><br>
<span class="lineno"></span><span class="comment" id="3134422">//&nbsp;Comment,&nbsp;if&nbsp;not&nbsp;0,&nbsp;is&nbsp;the&nbsp;comment&nbsp;character.&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="3134495">//&nbsp;Comment&nbsp;character&nbsp;are&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="3134529">//</span><br>
<span class="lineno"></span><span class="comment" id="3134532">//&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;positive,&nbsp;Read&nbsp;requires&nbsp;each&nbsp;record&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3134596">//&nbsp;have&nbsp;the&nbsp;given&nbsp;number&nbsp;of&nbsp;fields.&nbsp;&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;0,&nbsp;Read&nbsp;sets&nbsp;it&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3134674">//&nbsp;the&nbsp;number&nbsp;of&nbsp;fields&nbsp;in&nbsp;the&nbsp;first&nbsp;record,&nbsp;so&nbsp;that&nbsp;future&nbsp;records&nbsp;must</span><br>
<span class="lineno">95</span><span class="comment" id="3134747">//&nbsp;have&nbsp;the&nbsp;same&nbsp;field&nbsp;count.&nbsp;&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;negative,&nbsp;no&nbsp;check&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3134822">//&nbsp;made&nbsp;and&nbsp;records&nbsp;may&nbsp;have&nbsp;a&nbsp;variable&nbsp;number&nbsp;of&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="3134880">//</span><br>
<span class="lineno"></span><span class="comment" id="3134883">//&nbsp;If&nbsp;LazyQuotes&nbsp;is&nbsp;true,&nbsp;a&nbsp;quote&nbsp;may&nbsp;appear&nbsp;in&nbsp;an&nbsp;unquoted&nbsp;field&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3134955">//&nbsp;non-doubled&nbsp;quote&nbsp;may&nbsp;appear&nbsp;in&nbsp;a&nbsp;quoted&nbsp;field.</span><br>
<span class="lineno">100</span><span class="comment" id="3135006">//</span><br>
<span class="lineno"></span><span class="comment" id="3135009">//&nbsp;If&nbsp;TrimLeadingSpace&nbsp;is&nbsp;true,&nbsp;leading&nbsp;white&nbsp;space&nbsp;in&nbsp;a&nbsp;field&nbsp;is&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="keyword" id="3135084">type</span>&nbsp;<span class="ident" id="3135089">Reader</span>&nbsp;<span class="keyword" id="3135096">struct</span>&nbsp;<span class="op" id="3135103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135106">Comma</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3135123">rune</span>&nbsp;<span class="comment" id="3135128">//&nbsp;field&nbsp;delimiter&nbsp;(set&nbsp;to&nbsp;&#39;,&#39;&nbsp;by&nbsp;NewReader)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135174">Comment</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3135191">rune</span>&nbsp;<span class="comment" id="3135196">//&nbsp;comment&nbsp;character&nbsp;for&nbsp;start&nbsp;of&nbsp;line</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135236">FieldsPerRecord</span>&nbsp;&nbsp;<span class="builtintype" id="3135253">int</span>&nbsp;&nbsp;<span class="comment" id="3135258">//&nbsp;number&nbsp;of&nbsp;expected&nbsp;fields&nbsp;per&nbsp;record</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135299">LazyQuotes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3135316">bool</span>&nbsp;<span class="comment" id="3135321">//&nbsp;allow&nbsp;lazy&nbsp;quotes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135343">TrailingComma</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3135360">bool</span>&nbsp;<span class="comment" id="3135365">//&nbsp;ignored;&nbsp;here&nbsp;for&nbsp;backwards&nbsp;compatibility</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135411">TrimLeadingSpace</span>&nbsp;<span class="builtintype" id="3135428">bool</span>&nbsp;<span class="comment" id="3135433">//&nbsp;trim&nbsp;leading&nbsp;space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135456">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3135473">int</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135478">column</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3135495">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135500">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3135517">*</span><span class="ident" id="3135518"><a href="/gostd/encoding/csv/reader.go.html#3133350">bufio</a></span><span class="op" id="3135523">.</span><span class="ident" id="3135524"><a href="/gostd/bufio/bufio.go.html#1354974">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135532">field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135549"><a href="/gostd/encoding/csv/reader.go.html#3133359">bytes</a></span><span class="op" id="3135554">.</span><span class="ident" id="3135555"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span><span class="op" id="3135562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="comment" id="3135565">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;that&nbsp;reads&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="keyword" id="3135618">func</span>&nbsp;<span class="ident" id="3135623">NewReader</span><span class="op" id="3135632">(</span><span class="ident" id="3135633">r</span>&nbsp;<span class="ident" id="3135635"><a href="/gostd/encoding/csv/reader.go.html#3133385">io</a></span><span class="op" id="3135637">.</span><span class="ident" id="3135638"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="3135644">)</span>&nbsp;<span class="op" id="3135646">*</span><span class="ident" id="3135647"><a href="/gostd/encoding/csv/reader.go.html#3135089">Reader</a></span>&nbsp;<span class="op" id="3135654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3135657">return</span>&nbsp;<span class="op" id="3135664">&amp;</span><span class="ident" id="3135665"><a href="/gostd/encoding/csv/reader.go.html#3135089">Reader</a></span><span class="op" id="3135671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135675"><a href="/gostd/encoding/csv/reader.go.html#3135106">Comma</a></span><span class="op" id="3135680">:</span>&nbsp;<span class="string" id="3135682">&#39;,&#39;</span><span class="op" id="3135685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135689"><a href="/gostd/encoding/csv/reader.go.html#3135500">r</a></span><span class="op" id="3135690">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135696"><a href="/gostd/encoding/csv/reader.go.html#3133350">bufio</a></span><span class="op" id="3135701">.</span><span class="ident" id="3135702"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="3135711">(</span><span class="ident" id="3135712"><a href="/gostd/encoding/csv/reader.go.html#3135633">r</a></span><span class="op" id="3135713">)</span><span class="op" id="3135714">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3135717">}</span><br>
<span class="lineno"></span><span class="op" id="3135719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3135722">//&nbsp;error&nbsp;creates&nbsp;a&nbsp;new&nbsp;ParseError&nbsp;based&nbsp;on&nbsp;err.</span><br>
<span class="lineno"></span><span class="keyword" id="3135770">func</span>&nbsp;<span class="op" id="3135775">(</span><span class="ident" id="3135776">r</span>&nbsp;<span class="op" id="3135778">*</span><span class="ident" id="3135779"><a href="/gostd/encoding/csv/reader.go.html#3135089">Reader</a></span><span class="op" id="3135785">)</span>&nbsp;<span class="builtintype" id="3135787">error</span><span class="op" id="3135792">(</span><span class="ident" id="3135793">err</span>&nbsp;<span class="builtintype" id="3135797">error</span><span class="op" id="3135802">)</span>&nbsp;<span class="builtintype" id="3135804">error</span>&nbsp;<span class="op" id="3135810">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3135813">return</span>&nbsp;<span class="op" id="3135820">&amp;</span><span class="ident" id="3135821"><a href="/gostd/encoding/csv/reader.go.html#3133505">ParseError</a></span><span class="op" id="3135831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135835"><a href="/gostd/encoding/csv/reader.go.html#3133526">Line</a></span><span class="op" id="3135839">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3135843"><a href="/gostd/encoding/csv/reader.go.html#3135776">r</a></span><span class="op" id="3135844">.</span><span class="ident" id="3135845"><a href="/gostd/encoding/csv/reader.go.html#3135456">line</a></span><span class="op" id="3135849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135853"><a href="/gostd/encoding/csv/reader.go.html#3133573">Column</a></span><span class="op" id="3135859">:</span>&nbsp;<span class="ident" id="3135861"><a href="/gostd/encoding/csv/reader.go.html#3135776">r</a></span><span class="op" id="3135862">.</span><span class="ident" id="3135863"><a href="/gostd/encoding/csv/reader.go.html#3135478">column</a></span><span class="op" id="3135869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135873"><a href="/gostd/encoding/csv/reader.go.html#3133635">Err</a></span><span class="op" id="3135876">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3135881"><a href="/gostd/encoding/csv/reader.go.html#3135793">err</a></span><span class="op" id="3135884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3135887">}</span><br>
<span class="lineno">130</span><span class="op" id="3135889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3135892">//&nbsp;Read&nbsp;reads&nbsp;one&nbsp;record&nbsp;from&nbsp;r.&nbsp;&nbsp;The&nbsp;record&nbsp;is&nbsp;a&nbsp;slice&nbsp;of&nbsp;strings&nbsp;with&nbsp;each</span><br>
<span class="lineno"></span><span class="comment" id="3135969">//&nbsp;string&nbsp;representing&nbsp;one&nbsp;field.</span><br>
<span class="lineno"></span><span class="keyword" id="3136003">func</span>&nbsp;<span class="op" id="3136008">(</span><span class="ident" id="3136009">r</span>&nbsp;<span class="op" id="3136011">*</span><span class="ident" id="3136012"><a href="/gostd/encoding/csv/reader.go.html#3135089">Reader</a></span><span class="op" id="3136018">)</span>&nbsp;<span class="ident" id="3136020">Read</span><span class="op" id="3136024">(</span><span class="op" id="3136025">)</span>&nbsp;<span class="op" id="3136027">(</span><span class="ident" id="3136028">record</span>&nbsp;<span class="op" id="3136035">[</span><span class="op" id="3136036">]</span><span class="builtintype" id="3136037">string</span><span class="op" id="3136043">,</span>&nbsp;<span class="ident" id="3136045">err</span>&nbsp;<span class="builtintype" id="3136049">error</span><span class="op" id="3136054">)</span>&nbsp;<span class="op" id="3136056">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136059">for</span>&nbsp;<span class="op" id="3136063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3136067"><a href="/gostd/encoding/csv/reader.go.html#3136028">record</a></span><span class="op" id="3136073">,</span>&nbsp;<span class="ident" id="3136075"><a href="/gostd/encoding/csv/reader.go.html#3136045">err</a></span>&nbsp;<span class="op" id="3136079">=</span>&nbsp;<span class="ident" id="3136081"><a href="/gostd/encoding/csv/reader.go.html#3136009">r</a></span><span class="op" id="3136082">.</span><span class="ident" id="3136083"><a href="/gostd/encoding/csv/reader.go.html#3137831">parseRecord</a></span><span class="op" id="3136094">(</span><span class="op" id="3136095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136099">if</span>&nbsp;<span class="ident" id="3136102"><a href="/gostd/encoding/csv/reader.go.html#3136028">record</a></span>&nbsp;<span class="op" id="3136109">!=</span>&nbsp;<span class="builtintype" id="3136112">nil</span>&nbsp;<span class="op" id="3136116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136121">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3136129">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136133">if</span>&nbsp;<span class="ident" id="3136136"><a href="/gostd/encoding/csv/reader.go.html#3136045">err</a></span>&nbsp;<span class="op" id="3136140">!=</span>&nbsp;<span class="builtintype" id="3136143">nil</span>&nbsp;<span class="op" id="3136147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136152">return</span>&nbsp;<span class="builtintype" id="3136159">nil</span><span class="op" id="3136162">,</span>&nbsp;<span class="ident" id="3136164"><a href="/gostd/encoding/csv/reader.go.html#3136045">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3136170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3136173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136177">if</span>&nbsp;<span class="ident" id="3136180"><a href="/gostd/encoding/csv/reader.go.html#3136009">r</a></span><span class="op" id="3136181">.</span><span class="ident" id="3136182"><a href="/gostd/encoding/csv/reader.go.html#3135236">FieldsPerRecord</a></span>&nbsp;<span class="op" id="3136198">&gt;</span>&nbsp;<span class="num" id="3136200">0</span>&nbsp;<span class="op" id="3136202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136206">if</span>&nbsp;<span class="builtinfunc" id="3136209">len</span><span class="op" id="3136212">(</span><span class="ident" id="3136213"><a href="/gostd/encoding/csv/reader.go.html#3136028">record</a></span><span class="op" id="3136219">)</span>&nbsp;<span class="op" id="3136221">!=</span>&nbsp;<span class="ident" id="3136224"><a href="/gostd/encoding/csv/reader.go.html#3136009">r</a></span><span class="op" id="3136225">.</span><span class="ident" id="3136226"><a href="/gostd/encoding/csv/reader.go.html#3135236">FieldsPerRecord</a></span>&nbsp;<span class="op" id="3136242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3136247"><a href="/gostd/encoding/csv/reader.go.html#3136009">r</a></span><span class="op" id="3136248">.</span><span class="ident" id="3136249"><a href="/gostd/encoding/csv/reader.go.html#3135478">column</a></span>&nbsp;<span class="op" id="3136256">=</span>&nbsp;<span class="num" id="3136258">0</span>&nbsp;<span class="comment" id="3136260">//&nbsp;report&nbsp;at&nbsp;start&nbsp;of&nbsp;record</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136292">return</span>&nbsp;<span class="ident" id="3136299"><a href="/gostd/encoding/csv/reader.go.html#3136028">record</a></span><span class="op" id="3136305">,</span>&nbsp;<span class="ident" id="3136307"><a href="/gostd/encoding/csv/reader.go.html#3136009">r</a></span><span class="op" id="3136308">.</span><span class="builtintype" id="3136309"><a href="/gostd/encoding/csv/reader.go.html#3135787">error</a></span><span class="op" id="3136314">(</span><span class="ident" id="3136315"><a href="/gostd/encoding/csv/reader.go.html#3134057">ErrFieldCount</a></span><span class="op" id="3136328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3136332">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3136335">}</span>&nbsp;<span class="keyword" id="3136337">else</span>&nbsp;<span class="keyword" id="3136342">if</span>&nbsp;<span class="ident" id="3136345"><a href="/gostd/encoding/csv/reader.go.html#3136009">r</a></span><span class="op" id="3136346">.</span><span class="ident" id="3136347"><a href="/gostd/encoding/csv/reader.go.html#3135236">FieldsPerRecord</a></span>&nbsp;<span class="op" id="3136363">==</span>&nbsp;<span class="num" id="3136366">0</span>&nbsp;<span class="op" id="3136368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3136372"><a href="/gostd/encoding/csv/reader.go.html#3136009">r</a></span><span class="op" id="3136373">.</span><span class="ident" id="3136374"><a href="/gostd/encoding/csv/reader.go.html#3135236">FieldsPerRecord</a></span>&nbsp;<span class="op" id="3136390">=</span>&nbsp;<span class="builtinfunc" id="3136392">len</span><span class="op" id="3136395">(</span><span class="ident" id="3136396"><a href="/gostd/encoding/csv/reader.go.html#3136028">record</a></span><span class="op" id="3136402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3136405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136408">return</span>&nbsp;<span class="ident" id="3136415"><a href="/gostd/encoding/csv/reader.go.html#3136028">record</a></span><span class="op" id="3136421">,</span>&nbsp;<span class="builtintype" id="3136423">nil</span><br>
<span class="lineno"></span><span class="op" id="3136427">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="3136430">//&nbsp;ReadAll&nbsp;reads&nbsp;all&nbsp;the&nbsp;remaining&nbsp;records&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="3136481">//&nbsp;Each&nbsp;record&nbsp;is&nbsp;a&nbsp;slice&nbsp;of&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="3136518">//&nbsp;A&nbsp;successful&nbsp;call&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.&nbsp;Because&nbsp;ReadAll&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3136594">//&nbsp;defined&nbsp;to&nbsp;read&nbsp;until&nbsp;EOF,&nbsp;it&nbsp;does&nbsp;not&nbsp;treat&nbsp;end&nbsp;of&nbsp;file&nbsp;as&nbsp;an&nbsp;error&nbsp;to&nbsp;be</span><br>
<span class="lineno">160</span><span class="comment" id="3136672">//&nbsp;reported.</span><br>
<span class="lineno"></span><span class="keyword" id="3136685">func</span>&nbsp;<span class="op" id="3136690">(</span><span class="ident" id="3136691">r</span>&nbsp;<span class="op" id="3136693">*</span><span class="ident" id="3136694"><a href="/gostd/encoding/csv/reader.go.html#3135089">Reader</a></span><span class="op" id="3136700">)</span>&nbsp;<span class="ident" id="3136702">ReadAll</span><span class="op" id="3136709">(</span><span class="op" id="3136710">)</span>&nbsp;<span class="op" id="3136712">(</span><span class="ident" id="3136713">records</span>&nbsp;<span class="op" id="3136721">[</span><span class="op" id="3136722">]</span><span class="op" id="3136723">[</span><span class="op" id="3136724">]</span><span class="builtintype" id="3136725">string</span><span class="op" id="3136731">,</span>&nbsp;<span class="ident" id="3136733">err</span>&nbsp;<span class="builtintype" id="3136737">error</span><span class="op" id="3136742">)</span>&nbsp;<span class="op" id="3136744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136747">for</span>&nbsp;<span class="op" id="3136751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3136755">record</span><span class="op" id="3136761">,</span>&nbsp;<span class="ident" id="3136763">err</span>&nbsp;<span class="op" id="3136767">:=</span>&nbsp;<span class="ident" id="3136770"><a href="/gostd/encoding/csv/reader.go.html#3136691">r</a></span><span class="op" id="3136771">.</span><span class="ident" id="3136772"><a href="/gostd/encoding/csv/reader.go.html#3136020">Read</a></span><span class="op" id="3136776">(</span><span class="op" id="3136777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136781">if</span>&nbsp;<span class="ident" id="3136784"><a href="/gostd/encoding/csv/reader.go.html#3136763">err</a></span>&nbsp;<span class="op" id="3136788">==</span>&nbsp;<span class="ident" id="3136791"><a href="/gostd/encoding/csv/reader.go.html#3133385">io</a></span><span class="op" id="3136793">.</span><span class="ident" id="3136794"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="3136798">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136803">return</span>&nbsp;<span class="ident" id="3136810"><a href="/gostd/encoding/csv/reader.go.html#3136713">records</a></span><span class="op" id="3136817">,</span>&nbsp;<span class="builtintype" id="3136819">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3136825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136829">if</span>&nbsp;<span class="ident" id="3136832"><a href="/gostd/encoding/csv/reader.go.html#3136763">err</a></span>&nbsp;<span class="op" id="3136836">!=</span>&nbsp;<span class="builtintype" id="3136839">nil</span>&nbsp;<span class="op" id="3136843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3136848">return</span>&nbsp;<span class="builtintype" id="3136855">nil</span><span class="op" id="3136858">,</span>&nbsp;<span class="ident" id="3136860"><a href="/gostd/encoding/csv/reader.go.html#3136763">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3136866">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3136870"><a href="/gostd/encoding/csv/reader.go.html#3136713">records</a></span>&nbsp;<span class="op" id="3136878">=</span>&nbsp;<span class="builtinfunc" id="3136880">append</span><span class="op" id="3136886">(</span><span class="ident" id="3136887"><a href="/gostd/encoding/csv/reader.go.html#3136713">records</a></span><span class="op" id="3136894">,</span>&nbsp;<span class="ident" id="3136896"><a href="/gostd/encoding/csv/reader.go.html#3136755">record</a></span><span class="op" id="3136902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3136905">}</span><br>
<span class="lineno"></span><span class="op" id="3136907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3136910">//&nbsp;readRune&nbsp;reads&nbsp;one&nbsp;rune&nbsp;from&nbsp;r,&nbsp;folding&nbsp;\r\n&nbsp;to&nbsp;\n&nbsp;and&nbsp;keeping&nbsp;track</span><br>
<span class="lineno">175</span><span class="comment" id="3136982">//&nbsp;of&nbsp;how&nbsp;far&nbsp;into&nbsp;the&nbsp;line&nbsp;we&nbsp;have&nbsp;read.&nbsp;&nbsp;r.column&nbsp;will&nbsp;point&nbsp;to&nbsp;the&nbsp;start</span><br>
<span class="lineno"></span><span class="comment" id="3137058">//&nbsp;of&nbsp;this&nbsp;rune,&nbsp;not&nbsp;the&nbsp;end&nbsp;of&nbsp;this&nbsp;rune.</span><br>
<span class="lineno"></span><span class="keyword" id="3137101">func</span>&nbsp;<span class="op" id="3137106">(</span><span class="ident" id="3137107">r</span>&nbsp;<span class="op" id="3137109">*</span><span class="ident" id="3137110"><a href="/gostd/encoding/csv/reader.go.html#3135089">Reader</a></span><span class="op" id="3137116">)</span>&nbsp;<span class="ident" id="3137118">readRune</span><span class="op" id="3137126">(</span><span class="op" id="3137127">)</span>&nbsp;<span class="op" id="3137129">(</span><span class="builtintype" id="3137130">rune</span><span class="op" id="3137134">,</span>&nbsp;<span class="builtintype" id="3137136">error</span><span class="op" id="3137141">)</span>&nbsp;<span class="op" id="3137143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3137146">r1</span><span class="op" id="3137148">,</span>&nbsp;<span class="ident" id="3137150">_</span><span class="op" id="3137151">,</span>&nbsp;<span class="ident" id="3137153">err</span>&nbsp;<span class="op" id="3137157">:=</span>&nbsp;<span class="ident" id="3137160"><a href="/gostd/encoding/csv/reader.go.html#3137107">r</a></span><span class="op" id="3137161">.</span><span class="ident" id="3137162"><a href="/gostd/encoding/csv/reader.go.html#3135500">r</a></span><span class="op" id="3137163">.</span><span class="ident" id="3137164"><a href="/gostd/bufio/bufio.go.html#1359473">ReadRune</a></span><span class="op" id="3137172">(</span><span class="op" id="3137173">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3137177">//&nbsp;Handle&nbsp;\r\n&nbsp;here.&nbsp;&nbsp;We&nbsp;make&nbsp;the&nbsp;simplifying&nbsp;assumption&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3137240">//&nbsp;anytime&nbsp;\r&nbsp;is&nbsp;followed&nbsp;by&nbsp;\n&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;folded&nbsp;to&nbsp;\n.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3137302">//&nbsp;We&nbsp;will&nbsp;not&nbsp;detect&nbsp;files&nbsp;which&nbsp;contain&nbsp;both&nbsp;\r\n&nbsp;and&nbsp;bare&nbsp;\n.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3137368">if</span>&nbsp;<span class="ident" id="3137371"><a href="/gostd/encoding/csv/reader.go.html#3137146">r1</a></span>&nbsp;<span class="op" id="3137374">==</span>&nbsp;<span class="string" id="3137377">&#39;\r&#39;</span>&nbsp;<span class="op" id="3137382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3137386"><a href="/gostd/encoding/csv/reader.go.html#3137146">r1</a></span><span class="op" id="3137388">,</span>&nbsp;<span class="ident" id="3137390">_</span><span class="op" id="3137391">,</span>&nbsp;<span class="ident" id="3137393"><a href="/gostd/encoding/csv/reader.go.html#3137153">err</a></span>&nbsp;<span class="op" id="3137397">=</span>&nbsp;<span class="ident" id="3137399"><a href="/gostd/encoding/csv/reader.go.html#3137107">r</a></span><span class="op" id="3137400">.</span><span class="ident" id="3137401"><a href="/gostd/encoding/csv/reader.go.html#3135500">r</a></span><span class="op" id="3137402">.</span><span class="ident" id="3137403"><a href="/gostd/bufio/bufio.go.html#1359473">ReadRune</a></span><span class="op" id="3137411">(</span><span class="op" id="3137412">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3137416">if</span>&nbsp;<span class="ident" id="3137419"><a href="/gostd/encoding/csv/reader.go.html#3137153">err</a></span>&nbsp;<span class="op" id="3137423">==</span>&nbsp;<span class="builtintype" id="3137426">nil</span>&nbsp;<span class="op" id="3137430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3137435">if</span>&nbsp;<span class="ident" id="3137438"><a href="/gostd/encoding/csv/reader.go.html#3137146">r1</a></span>&nbsp;<span class="op" id="3137441">!=</span>&nbsp;<span class="string" id="3137444">&#39;\n&#39;</span>&nbsp;<span class="op" id="3137449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3137455"><a href="/gostd/encoding/csv/reader.go.html#3137107">r</a></span><span class="op" id="3137456">.</span><span class="ident" id="3137457"><a href="/gostd/encoding/csv/reader.go.html#3135500">r</a></span><span class="op" id="3137458">.</span><span class="ident" id="3137459"><a href="/gostd/bufio/bufio.go.html#1360199">UnreadRune</a></span><span class="op" id="3137469">(</span><span class="op" id="3137470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3137476"><a href="/gostd/encoding/csv/reader.go.html#3137146">r1</a></span>&nbsp;<span class="op" id="3137479">=</span>&nbsp;<span class="string" id="3137481">&#39;\r&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3137489">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3137493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3137496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3137499"><a href="/gostd/encoding/csv/reader.go.html#3137107">r</a></span><span class="op" id="3137500">.</span><span class="ident" id="3137501"><a href="/gostd/encoding/csv/reader.go.html#3135478">column</a></span><span class="op" id="3137507">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3137511">return</span>&nbsp;<span class="ident" id="3137518"><a href="/gostd/encoding/csv/reader.go.html#3137146">r1</a></span><span class="op" id="3137520">,</span>&nbsp;<span class="ident" id="3137522"><a href="/gostd/encoding/csv/reader.go.html#3137153">err</a></span><br>
<span class="lineno"></span><span class="op" id="3137526">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="3137529">//&nbsp;skip&nbsp;reads&nbsp;runes&nbsp;up&nbsp;to&nbsp;and&nbsp;including&nbsp;the&nbsp;rune&nbsp;delim&nbsp;or&nbsp;until&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="3137600">func</span>&nbsp;<span class="op" id="3137605">(</span><span class="ident" id="3137606">r</span>&nbsp;<span class="op" id="3137608">*</span><span class="ident" id="3137609"><a href="/gostd/encoding/csv/reader.go.html#3135089">Reader</a></span><span class="op" id="3137615">)</span>&nbsp;<span class="ident" id="3137617">skip</span><span class="op" id="3137621">(</span><span class="ident" id="3137622">delim</span>&nbsp;<span class="builtintype" id="3137628">rune</span><span class="op" id="3137632">)</span>&nbsp;<span class="builtintype" id="3137634">error</span>&nbsp;<span class="op" id="3137640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3137643">for</span>&nbsp;<span class="op" id="3137647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3137651">r1</span><span class="op" id="3137653">,</span>&nbsp;<span class="ident" id="3137655">err</span>&nbsp;<span class="op" id="3137659">:=</span>&nbsp;<span class="ident" id="3137662"><a href="/gostd/encoding/csv/reader.go.html#3137606">r</a></span><span class="op" id="3137663">.</span><span class="ident" id="3137664"><a href="/gostd/encoding/csv/reader.go.html#3137118">readRune</a></span><span class="op" id="3137672">(</span><span class="op" id="3137673">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3137677">if</span>&nbsp;<span class="ident" id="3137680"><a href="/gostd/encoding/csv/reader.go.html#3137655">err</a></span>&nbsp;<span class="op" id="3137684">!=</span>&nbsp;<span class="builtintype" id="3137687">nil</span>&nbsp;<span class="op" id="3137691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3137696">return</span>&nbsp;<span class="ident" id="3137703"><a href="/gostd/encoding/csv/reader.go.html#3137655">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3137709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3137713">if</span>&nbsp;<span class="ident" id="3137716"><a href="/gostd/encoding/csv/reader.go.html#3137651">r1</a></span>&nbsp;<span class="op" id="3137719">==</span>&nbsp;<span class="ident" id="3137722"><a href="/gostd/encoding/csv/reader.go.html#3137622">delim</a></span>&nbsp;<span class="op" id="3137728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3137733">return</span>&nbsp;<span class="builtintype" id="3137740">nil</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3137746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3137749">}</span><br>
<span class="lineno"></span><span class="op" id="3137751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3137754">//&nbsp;parseRecord&nbsp;reads&nbsp;and&nbsp;parses&nbsp;a&nbsp;single&nbsp;csv&nbsp;record&nbsp;from&nbsp;r.</span><br>
<span class="lineno">210</span><span class="keyword" id="3137814">func</span>&nbsp;<span class="op" id="3137819">(</span><span class="ident" id="3137820">r</span>&nbsp;<span class="op" id="3137822">*</span><span class="ident" id="3137823"><a href="/gostd/encoding/csv/reader.go.html#3135089">Reader</a></span><span class="op" id="3137829">)</span>&nbsp;<span class="ident" id="3137831">parseRecord</span><span class="op" id="3137842">(</span><span class="op" id="3137843">)</span>&nbsp;<span class="op" id="3137845">(</span><span class="ident" id="3137846">fields</span>&nbsp;<span class="op" id="3137853">[</span><span class="op" id="3137854">]</span><span class="builtintype" id="3137855">string</span><span class="op" id="3137861">,</span>&nbsp;<span class="ident" id="3137863">err</span>&nbsp;<span class="builtintype" id="3137867">error</span><span class="op" id="3137872">)</span>&nbsp;<span class="op" id="3137874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3137877">//&nbsp;Each&nbsp;record&nbsp;starts&nbsp;on&nbsp;a&nbsp;new&nbsp;line.&nbsp;&nbsp;We&nbsp;increment&nbsp;our&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3137938">//&nbsp;number&nbsp;(lines&nbsp;start&nbsp;at&nbsp;1,&nbsp;not&nbsp;0)&nbsp;and&nbsp;set&nbsp;column&nbsp;to&nbsp;-1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3137996">//&nbsp;so&nbsp;as&nbsp;we&nbsp;increment&nbsp;in&nbsp;readRune&nbsp;it&nbsp;points&nbsp;to&nbsp;the&nbsp;character&nbsp;we&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3138067"><a href="/gostd/encoding/csv/reader.go.html#3137820">r</a></span><span class="op" id="3138068">.</span><span class="ident" id="3138069"><a href="/gostd/encoding/csv/reader.go.html#3135456">line</a></span><span class="op" id="3138073">++</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3138077"><a href="/gostd/encoding/csv/reader.go.html#3137820">r</a></span><span class="op" id="3138078">.</span><span class="ident" id="3138079"><a href="/gostd/encoding/csv/reader.go.html#3135478">column</a></span>&nbsp;<span class="op" id="3138086">=</span>&nbsp;<span class="op" id="3138088">-</span><span class="num" id="3138089">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3138093">//&nbsp;Peek&nbsp;at&nbsp;the&nbsp;first&nbsp;rune.&nbsp;&nbsp;If&nbsp;it&nbsp;is&nbsp;an&nbsp;error&nbsp;we&nbsp;are&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3138153">//&nbsp;If&nbsp;we&nbsp;are&nbsp;support&nbsp;comments&nbsp;and&nbsp;it&nbsp;is&nbsp;the&nbsp;comment&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3138216">//&nbsp;then&nbsp;skip&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;line.</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3138251">r1</span><span class="op" id="3138253">,</span>&nbsp;<span class="ident" id="3138255">_</span><span class="op" id="3138256">,</span>&nbsp;<span class="ident" id="3138258"><a href="/gostd/encoding/csv/reader.go.html#3137863">err</a></span>&nbsp;<span class="op" id="3138262">:=</span>&nbsp;<span class="ident" id="3138265"><a href="/gostd/encoding/csv/reader.go.html#3137820">r</a></span><span class="op" id="3138266">.</span><span class="ident" id="3138267"><a href="/gostd/encoding/csv/reader.go.html#3135500">r</a></span><span class="op" id="3138268">.</span><span class="ident" id="3138269"><a href="/gostd/bufio/bufio.go.html#1359473">ReadRune</a></span><span class="op" id="3138277">(</span><span class="op" id="3138278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3138281">if</span>&nbsp;<span class="ident" id="3138284"><a href="/gostd/encoding/csv/reader.go.html#3137863">err</a></span>&nbsp;<span class="op" id="3138288">!=</span>&nbsp;<span class="builtintype" id="3138291">nil</span>&nbsp;<span class="op" id="3138295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3138299">return</span>&nbsp;<span class="builtintype" id="3138306">nil</span><span class="op" id="3138309">,</span>&nbsp;<span class="ident" id="3138311"><a href="/gostd/encoding/csv/reader.go.html#3137863">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3138316">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3138320">if</span>&nbsp;<span class="ident" id="3138323"><a href="/gostd/encoding/csv/reader.go.html#3137820">r</a></span><span class="op" id="3138324">.</span><span class="ident" id="3138325"><a href="/gostd/encoding/csv/reader.go.html#3135174">Comment</a></span>&nbsp;<span class="op" id="3138333">!=</span>&nbsp;<span class="num" id="3138336">0</span>&nbsp;<span class="op" id="3138338">&amp;&amp;</span>&nbsp;<span class="ident" id="3138341"><a href="/gostd/encoding/csv/reader.go.html#3138251">r1</a></span>&nbsp;<span class="op" id="3138344">==</span>&nbsp;<span class="ident" id="3138347"><a href="/gostd/encoding/csv/reader.go.html#3137820">r</a></span><span class="op" id="3138348">.</span><span class="ident" id="3138349"><a href="/gostd/encoding/csv/reader.go.html#3135174">Comment</a></span>&nbsp;<span class="op" id="3138357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3138361">return</span>&nbsp;<span class="builtintype" id="3138368">nil</span><span class="op" id="3138371">,</span>&nbsp;<span class="ident" id="3138373"><a href="/gostd/encoding/csv/reader.go.html#3137820">r</a></span><span class="op" id="3138374">.</span><span class="ident" id="3138375"><a href="/gostd/encoding/csv/reader.go.html#3137617">skip</a></span><span class="op" id="3138379">(</span><span class="string" id="3138380">&#39;\n&#39;</span><span class="op" id="3138384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3138387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3138390"><a href="/gostd/encoding/csv/reader.go.html#3137820">r</a></span><span class="op" id="3138391">.</span><span class="ident" id="3138392"><a href="/gostd/encoding/csv/reader.go.html#3135500">r</a></span><span class="op" id="3138393">.</span><span class="ident" id="3138394"><a href="/gostd/bufio/bufio.go.html#1360199">UnreadRune</a></span><span class="op" id="3138404">(</span><span class="op" id="3138405">)</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3138409">//&nbsp;At&nbsp;this&nbsp;point&nbsp;we&nbsp;have&nbsp;at&nbsp;least&nbsp;one&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3138455">for</span>&nbsp;<span class="op" id="3138459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3138463">haveField</span><span class="op" id="3138472">,</span>&nbsp;<span class="ident" id="3138474">delim</span><span class="op" id="3138479">,</span>&nbsp;<span class="ident" id="3138481">err</span>&nbsp;<span class="op" id="3138485">:=</span>&nbsp;<span class="ident" id="3138488"><a href="/gostd/encoding/csv/reader.go.html#3137820">r</a></span><span class="op" id="3138489">.</span><span class="ident" id="3138490"><a href="/gostd/encoding/csv/reader.go.html#3138867">parseField</a></span><span class="op" id="3138500">(</span><span class="op" id="3138501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3138505">if</span>&nbsp;<span class="ident" id="3138508"><a href="/gostd/encoding/csv/reader.go.html#3138463">haveField</a></span>&nbsp;<span class="op" id="3138518">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3138523"><a href="/gostd/encoding/csv/reader.go.html#3137846">fields</a></span>&nbsp;<span class="op" id="3138530">=</span>&nbsp;<span class="builtinfunc" id="3138532">append</span><span class="op" id="3138538">(</span><span class="ident" id="3138539"><a href="/gostd/encoding/csv/reader.go.html#3137846">fields</a></span><span class="op" id="3138545">,</span>&nbsp;<span class="ident" id="3138547"><a href="/gostd/encoding/csv/reader.go.html#3137820">r</a></span><span class="op" id="3138548">.</span><span class="ident" id="3138549"><a href="/gostd/encoding/csv/reader.go.html#3135532">field</a></span><span class="op" id="3138554">.</span><span class="ident" id="3138555"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="3138561">(</span><span class="op" id="3138562">)</span><span class="op" id="3138563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3138567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3138571">if</span>&nbsp;<span class="ident" id="3138574"><a href="/gostd/encoding/csv/reader.go.html#3138474">delim</a></span>&nbsp;<span class="op" id="3138580">==</span>&nbsp;<span class="string" id="3138583">&#39;\n&#39;</span>&nbsp;<span class="op" id="3138588">||</span>&nbsp;<span class="ident" id="3138591"><a href="/gostd/encoding/csv/reader.go.html#3138481">err</a></span>&nbsp;<span class="op" id="3138595">==</span>&nbsp;<span class="ident" id="3138598"><a href="/gostd/encoding/csv/reader.go.html#3133385">io</a></span><span class="op" id="3138600">.</span><span class="ident" id="3138601"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="3138605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3138610">return</span>&nbsp;<span class="ident" id="3138617"><a href="/gostd/encoding/csv/reader.go.html#3137846">fields</a></span><span class="op" id="3138623">,</span>&nbsp;<span class="ident" id="3138625"><a href="/gostd/encoding/csv/reader.go.html#3138481">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3138631">}</span>&nbsp;<span class="keyword" id="3138633">else</span>&nbsp;<span class="keyword" id="3138638">if</span>&nbsp;<span class="ident" id="3138641"><a href="/gostd/encoding/csv/reader.go.html#3138481">err</a></span>&nbsp;<span class="op" id="3138645">!=</span>&nbsp;<span class="builtintype" id="3138648">nil</span>&nbsp;<span class="op" id="3138652">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3138657">return</span>&nbsp;<span class="builtintype" id="3138664">nil</span><span class="op" id="3138667">,</span>&nbsp;<span class="ident" id="3138669"><a href="/gostd/encoding/csv/reader.go.html#3138481">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3138675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3138678">}</span><br>
<span class="lineno"></span><span class="op" id="3138680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="3138683">//&nbsp;parseField&nbsp;parses&nbsp;the&nbsp;next&nbsp;field&nbsp;in&nbsp;the&nbsp;record.&nbsp;&nbsp;The&nbsp;read&nbsp;field&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3138753">//&nbsp;located&nbsp;in&nbsp;r.field.&nbsp;&nbsp;Delim&nbsp;is&nbsp;the&nbsp;first&nbsp;character&nbsp;not&nbsp;part&nbsp;of&nbsp;the&nbsp;field</span><br>
<span class="lineno"></span><span class="comment" id="3138828">//&nbsp;(r.Comma&nbsp;or&nbsp;&#39;\n&#39;).</span><br>
<span class="lineno"></span><span class="keyword" id="3138850">func</span>&nbsp;<span class="op" id="3138855">(</span><span class="ident" id="3138856">r</span>&nbsp;<span class="op" id="3138858">*</span><span class="ident" id="3138859"><a href="/gostd/encoding/csv/reader.go.html#3135089">Reader</a></span><span class="op" id="3138865">)</span>&nbsp;<span class="ident" id="3138867">parseField</span><span class="op" id="3138877">(</span><span class="op" id="3138878">)</span>&nbsp;<span class="op" id="3138880">(</span><span class="ident" id="3138881">haveField</span>&nbsp;<span class="builtintype" id="3138891">bool</span><span class="op" id="3138895">,</span>&nbsp;<span class="ident" id="3138897">delim</span>&nbsp;<span class="builtintype" id="3138903">rune</span><span class="op" id="3138907">,</span>&nbsp;<span class="ident" id="3138909">err</span>&nbsp;<span class="builtintype" id="3138913">error</span><span class="op" id="3138918">)</span>&nbsp;<span class="op" id="3138920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3138923"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3138924">.</span><span class="ident" id="3138925"><a href="/gostd/encoding/csv/reader.go.html#3135532">field</a></span><span class="op" id="3138930">.</span><span class="ident" id="3138931"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="3138936">(</span><span class="op" id="3138937">)</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3138941">r1</span><span class="op" id="3138943">,</span>&nbsp;<span class="ident" id="3138945"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3138949">:=</span>&nbsp;<span class="ident" id="3138952"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3138953">.</span><span class="ident" id="3138954"><a href="/gostd/encoding/csv/reader.go.html#3137118">readRune</a></span><span class="op" id="3138962">(</span><span class="op" id="3138963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3138966">for</span>&nbsp;<span class="ident" id="3138970"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3138974">==</span>&nbsp;<span class="builtintype" id="3138977">nil</span>&nbsp;<span class="op" id="3138981">&amp;&amp;</span>&nbsp;<span class="ident" id="3138984"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3138985">.</span><span class="ident" id="3138986"><a href="/gostd/encoding/csv/reader.go.html#3135411">TrimLeadingSpace</a></span>&nbsp;<span class="op" id="3139003">&amp;&amp;</span>&nbsp;<span class="ident" id="3139006"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span>&nbsp;<span class="op" id="3139009">!=</span>&nbsp;<span class="string" id="3139012">&#39;\n&#39;</span>&nbsp;<span class="op" id="3139017">&amp;&amp;</span>&nbsp;<span class="ident" id="3139020"><a href="/gostd/encoding/csv/reader.go.html#3133391">unicode</a></span><span class="op" id="3139027">.</span><span class="ident" id="3139028"><a href="/gostd/unicode/graphic.go.html#1820663">IsSpace</a></span><span class="op" id="3139035">(</span><span class="ident" id="3139036"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3139038">)</span>&nbsp;<span class="op" id="3139040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3139044"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3139046">,</span>&nbsp;<span class="ident" id="3139048"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3139052">=</span>&nbsp;<span class="ident" id="3139054"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139055">.</span><span class="ident" id="3139056"><a href="/gostd/encoding/csv/reader.go.html#3137118">readRune</a></span><span class="op" id="3139064">(</span><span class="op" id="3139065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139068">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139072">if</span>&nbsp;<span class="ident" id="3139075"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3139079">==</span>&nbsp;<span class="ident" id="3139082"><a href="/gostd/encoding/csv/reader.go.html#3133385">io</a></span><span class="op" id="3139084">.</span><span class="ident" id="3139085"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="3139089">&amp;&amp;</span>&nbsp;<span class="ident" id="3139092"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139093">.</span><span class="ident" id="3139094"><a href="/gostd/encoding/csv/reader.go.html#3135478">column</a></span>&nbsp;<span class="op" id="3139101">!=</span>&nbsp;<span class="num" id="3139104">0</span>&nbsp;<span class="op" id="3139106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139110">return</span>&nbsp;<span class="builtintype" id="3139117">true</span><span class="op" id="3139121">,</span>&nbsp;<span class="num" id="3139123">0</span><span class="op" id="3139124">,</span>&nbsp;<span class="ident" id="3139126"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139134">if</span>&nbsp;<span class="ident" id="3139137"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3139141">!=</span>&nbsp;<span class="builtintype" id="3139144">nil</span>&nbsp;<span class="op" id="3139148">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139152">return</span>&nbsp;<span class="builtintype" id="3139159">false</span><span class="op" id="3139164">,</span>&nbsp;<span class="num" id="3139166">0</span><span class="op" id="3139167">,</span>&nbsp;<span class="ident" id="3139169"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139178">switch</span>&nbsp;<span class="ident" id="3139185"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span>&nbsp;<span class="op" id="3139188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139191">case</span>&nbsp;<span class="ident" id="3139196"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139197">.</span><span class="ident" id="3139198"><a href="/gostd/encoding/csv/reader.go.html#3135106">Comma</a></span><span class="op" id="3139203">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3139207">//&nbsp;will&nbsp;check&nbsp;below</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139229">case</span>&nbsp;<span class="string" id="3139234">&#39;\n&#39;</span><span class="op" id="3139238">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3139242">//&nbsp;We&nbsp;are&nbsp;a&nbsp;trailing&nbsp;empty&nbsp;field&nbsp;or&nbsp;a&nbsp;blank&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139293">if</span>&nbsp;<span class="ident" id="3139296"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139297">.</span><span class="ident" id="3139298"><a href="/gostd/encoding/csv/reader.go.html#3135478">column</a></span>&nbsp;<span class="op" id="3139305">==</span>&nbsp;<span class="num" id="3139308">0</span>&nbsp;<span class="op" id="3139310">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139315">return</span>&nbsp;<span class="builtintype" id="3139322">false</span><span class="op" id="3139327">,</span>&nbsp;<span class="ident" id="3139329"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3139331">,</span>&nbsp;<span class="builtintype" id="3139333">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139343">return</span>&nbsp;<span class="builtintype" id="3139350">true</span><span class="op" id="3139354">,</span>&nbsp;<span class="ident" id="3139356"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3139358">,</span>&nbsp;<span class="builtintype" id="3139360">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139366">case</span>&nbsp;<span class="string" id="3139371">&#39;&#34;&#39;</span><span class="op" id="3139374">:</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3139378">//&nbsp;quoted&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3139395">Quoted</span><span class="op" id="3139401">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139405">for</span>&nbsp;<span class="op" id="3139409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3139414"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3139416">,</span>&nbsp;<span class="ident" id="3139418"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3139422">=</span>&nbsp;<span class="ident" id="3139424"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139425">.</span><span class="ident" id="3139426"><a href="/gostd/encoding/csv/reader.go.html#3137118">readRune</a></span><span class="op" id="3139434">(</span><span class="op" id="3139435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139440">if</span>&nbsp;<span class="ident" id="3139443"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3139447">!=</span>&nbsp;<span class="builtintype" id="3139450">nil</span>&nbsp;<span class="op" id="3139454">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139460">if</span>&nbsp;<span class="ident" id="3139463"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3139467">==</span>&nbsp;<span class="ident" id="3139470"><a href="/gostd/encoding/csv/reader.go.html#3133385">io</a></span><span class="op" id="3139472">.</span><span class="ident" id="3139473"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="3139477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139484">if</span>&nbsp;<span class="ident" id="3139487"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139488">.</span><span class="ident" id="3139489"><a href="/gostd/encoding/csv/reader.go.html#3135299">LazyQuotes</a></span>&nbsp;<span class="op" id="3139500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139508">return</span>&nbsp;<span class="builtintype" id="3139515">true</span><span class="op" id="3139519">,</span>&nbsp;<span class="num" id="3139521">0</span><span class="op" id="3139522">,</span>&nbsp;<span class="ident" id="3139524"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139540">return</span>&nbsp;<span class="builtintype" id="3139547">false</span><span class="op" id="3139552">,</span>&nbsp;<span class="num" id="3139554">0</span><span class="op" id="3139555">,</span>&nbsp;<span class="ident" id="3139557"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139558">.</span><span class="builtintype" id="3139559"><a href="/gostd/encoding/csv/reader.go.html#3135787">error</a></span><span class="op" id="3139564">(</span><span class="ident" id="3139565"><a href="/gostd/encoding/csv/reader.go.html#3134000">ErrQuote</a></span><span class="op" id="3139573">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139585">return</span>&nbsp;<span class="builtintype" id="3139592">false</span><span class="op" id="3139597">,</span>&nbsp;<span class="num" id="3139599">0</span><span class="op" id="3139600">,</span>&nbsp;<span class="ident" id="3139602"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139614">switch</span>&nbsp;<span class="ident" id="3139621"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span>&nbsp;<span class="op" id="3139624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139629">case</span>&nbsp;<span class="string" id="3139634">&#39;&#34;&#39;</span><span class="op" id="3139637">:</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3139643"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3139645">,</span>&nbsp;<span class="ident" id="3139647"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3139651">=</span>&nbsp;<span class="ident" id="3139653"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139654">.</span><span class="ident" id="3139655"><a href="/gostd/encoding/csv/reader.go.html#3137118">readRune</a></span><span class="op" id="3139663">(</span><span class="op" id="3139664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139670">if</span>&nbsp;<span class="ident" id="3139673"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3139677">!=</span>&nbsp;<span class="builtintype" id="3139680">nil</span>&nbsp;<span class="op" id="3139684">||</span>&nbsp;<span class="ident" id="3139687"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span>&nbsp;<span class="op" id="3139690">==</span>&nbsp;<span class="ident" id="3139693"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139694">.</span><span class="ident" id="3139695"><a href="/gostd/encoding/csv/reader.go.html#3135106">Comma</a></span>&nbsp;<span class="op" id="3139701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139708">break</span>&nbsp;<span class="ident" id="3139714"><a href="/gostd/encoding/csv/reader.go.html#3139395">Quoted</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139731">if</span>&nbsp;<span class="ident" id="3139734"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span>&nbsp;<span class="op" id="3139737">==</span>&nbsp;<span class="string" id="3139740">&#39;\n&#39;</span>&nbsp;<span class="op" id="3139745">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139752">return</span>&nbsp;<span class="builtintype" id="3139759">true</span><span class="op" id="3139763">,</span>&nbsp;<span class="ident" id="3139765"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3139767">,</span>&nbsp;<span class="builtintype" id="3139769">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139783">if</span>&nbsp;<span class="ident" id="3139786"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span>&nbsp;<span class="op" id="3139789">!=</span>&nbsp;<span class="string" id="3139792">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="3139796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139803">if</span>&nbsp;<span class="op" id="3139806">!</span><span class="ident" id="3139807"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139808">.</span><span class="ident" id="3139809"><a href="/gostd/encoding/csv/reader.go.html#3135299">LazyQuotes</a></span>&nbsp;<span class="op" id="3139820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3139828"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139829">.</span><span class="ident" id="3139830"><a href="/gostd/encoding/csv/reader.go.html#3135478">column</a></span><span class="op" id="3139836">--</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139845">return</span>&nbsp;<span class="builtintype" id="3139852">false</span><span class="op" id="3139857">,</span>&nbsp;<span class="num" id="3139859">0</span><span class="op" id="3139860">,</span>&nbsp;<span class="ident" id="3139862"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139863">.</span><span class="builtintype" id="3139864"><a href="/gostd/encoding/csv/reader.go.html#3135787">error</a></span><span class="op" id="3139869">(</span><span class="ident" id="3139870"><a href="/gostd/encoding/csv/reader.go.html#3134000">ErrQuote</a></span><span class="op" id="3139878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3139892">//&nbsp;accept&nbsp;the&nbsp;bare&nbsp;quote</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3139922"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139923">.</span><span class="ident" id="3139924"><a href="/gostd/encoding/csv/reader.go.html#3135532">field</a></span><span class="op" id="3139929">.</span><span class="ident" id="3139930"><a href="/gostd/bytes/buffer.go.html#1390522">WriteRune</a></span><span class="op" id="3139939">(</span><span class="string" id="3139940">&#39;&#34;&#39;</span><span class="op" id="3139943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139949">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3139954">case</span>&nbsp;<span class="string" id="3139959">&#39;\n&#39;</span><span class="op" id="3139963">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3139969"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139970">.</span><span class="ident" id="3139971"><a href="/gostd/encoding/csv/reader.go.html#3135456">line</a></span><span class="op" id="3139975">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3139982"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3139983">.</span><span class="ident" id="3139984"><a href="/gostd/encoding/csv/reader.go.html#3135478">column</a></span>&nbsp;<span class="op" id="3139991">=</span>&nbsp;<span class="op" id="3139993">-</span><span class="num" id="3139994">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3139999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3140004"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3140005">.</span><span class="ident" id="3140006"><a href="/gostd/encoding/csv/reader.go.html#3135532">field</a></span><span class="op" id="3140011">.</span><span class="ident" id="3140012"><a href="/gostd/bytes/buffer.go.html#1390522">WriteRune</a></span><span class="op" id="3140021">(</span><span class="ident" id="3140022"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3140024">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3140028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140032">default</span><span class="op" id="3140039">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3140043">//&nbsp;unquoted&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140063">for</span>&nbsp;<span class="op" id="3140067">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3140072"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3140073">.</span><span class="ident" id="3140074"><a href="/gostd/encoding/csv/reader.go.html#3135532">field</a></span><span class="op" id="3140079">.</span><span class="ident" id="3140080"><a href="/gostd/bytes/buffer.go.html#1390522">WriteRune</a></span><span class="op" id="3140089">(</span><span class="ident" id="3140090"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3140092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3140097"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3140099">,</span>&nbsp;<span class="ident" id="3140101"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3140105">=</span>&nbsp;<span class="ident" id="3140107"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3140108">.</span><span class="ident" id="3140109"><a href="/gostd/encoding/csv/reader.go.html#3137118">readRune</a></span><span class="op" id="3140117">(</span><span class="op" id="3140118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140123">if</span>&nbsp;<span class="ident" id="3140126"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3140130">!=</span>&nbsp;<span class="builtintype" id="3140133">nil</span>&nbsp;<span class="op" id="3140137">||</span>&nbsp;<span class="ident" id="3140140"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span>&nbsp;<span class="op" id="3140143">==</span>&nbsp;<span class="ident" id="3140146"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3140147">.</span><span class="ident" id="3140148"><a href="/gostd/encoding/csv/reader.go.html#3135106">Comma</a></span>&nbsp;<span class="op" id="3140154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140160">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3140169">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140174">if</span>&nbsp;<span class="ident" id="3140177"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span>&nbsp;<span class="op" id="3140180">==</span>&nbsp;<span class="string" id="3140183">&#39;\n&#39;</span>&nbsp;<span class="op" id="3140188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140194">return</span>&nbsp;<span class="builtintype" id="3140201">true</span><span class="op" id="3140205">,</span>&nbsp;<span class="ident" id="3140207"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3140209">,</span>&nbsp;<span class="builtintype" id="3140211">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3140218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140223">if</span>&nbsp;<span class="op" id="3140226">!</span><span class="ident" id="3140227"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3140228">.</span><span class="ident" id="3140229"><a href="/gostd/encoding/csv/reader.go.html#3135299">LazyQuotes</a></span>&nbsp;<span class="op" id="3140240">&amp;&amp;</span>&nbsp;<span class="ident" id="3140243"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span>&nbsp;<span class="op" id="3140246">==</span>&nbsp;<span class="string" id="3140249">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="3140253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140259">return</span>&nbsp;<span class="builtintype" id="3140266">false</span><span class="op" id="3140271">,</span>&nbsp;<span class="num" id="3140273">0</span><span class="op" id="3140274">,</span>&nbsp;<span class="ident" id="3140276"><a href="/gostd/encoding/csv/reader.go.html#3138856">r</a></span><span class="op" id="3140277">.</span><span class="builtintype" id="3140278"><a href="/gostd/encoding/csv/reader.go.html#3135787">error</a></span><span class="op" id="3140283">(</span><span class="ident" id="3140284"><a href="/gostd/encoding/csv/reader.go.html#3133938">ErrBareQuote</a></span><span class="op" id="3140296">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3140301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3140305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3140308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140312">if</span>&nbsp;<span class="ident" id="3140315"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3140319">!=</span>&nbsp;<span class="builtintype" id="3140322">nil</span>&nbsp;<span class="op" id="3140326">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140330">if</span>&nbsp;<span class="ident" id="3140333"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span>&nbsp;<span class="op" id="3140337">==</span>&nbsp;<span class="ident" id="3140340"><a href="/gostd/encoding/csv/reader.go.html#3133385">io</a></span><span class="op" id="3140342">.</span><span class="ident" id="3140343"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="3140347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140352">return</span>&nbsp;<span class="builtintype" id="3140359">true</span><span class="op" id="3140363">,</span>&nbsp;<span class="num" id="3140365">0</span><span class="op" id="3140366">,</span>&nbsp;<span class="ident" id="3140368"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3140374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140378">return</span>&nbsp;<span class="builtintype" id="3140385">false</span><span class="op" id="3140390">,</span>&nbsp;<span class="num" id="3140392">0</span><span class="op" id="3140393">,</span>&nbsp;<span class="ident" id="3140395"><a href="/gostd/encoding/csv/reader.go.html#3138909">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3140400">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3140404">return</span>&nbsp;<span class="builtintype" id="3140411">true</span><span class="op" id="3140415">,</span>&nbsp;<span class="ident" id="3140417"><a href="/gostd/encoding/csv/reader.go.html#3138941">r1</a></span><span class="op" id="3140419">,</span>&nbsp;<span class="builtintype" id="3140421">nil</span><br>
<span class="lineno"></span><span class="op" id="3140425">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
