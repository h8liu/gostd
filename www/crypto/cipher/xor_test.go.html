<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8445118">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8445173">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8445227">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8445278">package</span>&nbsp;<span class="ident" id="8445286">cipher</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8445294">import</span>&nbsp;<span class="op" id="8445301">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8445304">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8445313">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8445323">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8445326">func</span>&nbsp;<span class="ident" id="8445331">TestXOR</span><span class="op" id="8445338">(</span><span class="ident" id="8445339">t</span>&nbsp;<span class="op" id="8445341">*</span><span class="ident" id="8445342">testing</span><span class="op" id="8445349">.</span><span class="ident" id="8445350">T</span><span class="op" id="8445351">)</span>&nbsp;<span class="op" id="8445353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445356">for</span>&nbsp;<span class="ident" id="8445360">alignP</span>&nbsp;<span class="op" id="8445367">:=</span>&nbsp;<span class="num" id="8445370">0</span><span class="op" id="8445371">;</span>&nbsp;<span class="ident" id="8445373">alignP</span>&nbsp;<span class="op" id="8445380">&lt;</span>&nbsp;<span class="num" id="8445382">2</span><span class="op" id="8445383">;</span>&nbsp;<span class="ident" id="8445385">alignP</span><span class="op" id="8445391">++</span>&nbsp;<span class="op" id="8445394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445398">for</span>&nbsp;<span class="ident" id="8445402">alignQ</span>&nbsp;<span class="op" id="8445409">:=</span>&nbsp;<span class="num" id="8445412">0</span><span class="op" id="8445413">;</span>&nbsp;<span class="ident" id="8445415">alignQ</span>&nbsp;<span class="op" id="8445422">&lt;</span>&nbsp;<span class="num" id="8445424">2</span><span class="op" id="8445425">;</span>&nbsp;<span class="ident" id="8445427">alignQ</span><span class="op" id="8445433">++</span>&nbsp;<span class="op" id="8445436">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445441">for</span>&nbsp;<span class="ident" id="8445445">alignD</span>&nbsp;<span class="op" id="8445452">:=</span>&nbsp;<span class="num" id="8445455">0</span><span class="op" id="8445456">;</span>&nbsp;<span class="ident" id="8445458">alignD</span>&nbsp;<span class="op" id="8445465">&lt;</span>&nbsp;<span class="num" id="8445467">2</span><span class="op" id="8445468">;</span>&nbsp;<span class="ident" id="8445470">alignD</span><span class="op" id="8445476">++</span>&nbsp;<span class="op" id="8445479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445485">p</span>&nbsp;<span class="op" id="8445487">:=</span>&nbsp;<span class="builtinfunc" id="8445490">make</span><span class="op" id="8445494">(</span><span class="op" id="8445495">[</span><span class="op" id="8445496">]</span><span class="builtintype" id="8445497">byte</span><span class="op" id="8445501">,</span>&nbsp;<span class="num" id="8445503">1024</span><span class="op" id="8445507">)</span><span class="op" id="8445508">[</span><span class="ident" id="8445509">alignP</span><span class="op" id="8445515">:</span><span class="op" id="8445516">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445522">q</span>&nbsp;<span class="op" id="8445524">:=</span>&nbsp;<span class="builtinfunc" id="8445527">make</span><span class="op" id="8445531">(</span><span class="op" id="8445532">[</span><span class="op" id="8445533">]</span><span class="builtintype" id="8445534">byte</span><span class="op" id="8445538">,</span>&nbsp;<span class="num" id="8445540">1024</span><span class="op" id="8445544">)</span><span class="op" id="8445545">[</span><span class="ident" id="8445546">alignQ</span><span class="op" id="8445552">:</span><span class="op" id="8445553">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445559">d1</span>&nbsp;<span class="op" id="8445562">:=</span>&nbsp;<span class="builtinfunc" id="8445565">make</span><span class="op" id="8445569">(</span><span class="op" id="8445570">[</span><span class="op" id="8445571">]</span><span class="builtintype" id="8445572">byte</span><span class="op" id="8445576">,</span>&nbsp;<span class="num" id="8445578">1024</span><span class="op" id="8445582">+</span><span class="ident" id="8445583">alignD</span><span class="op" id="8445589">)</span><span class="op" id="8445590">[</span><span class="ident" id="8445591">alignD</span><span class="op" id="8445597">:</span><span class="op" id="8445598">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445604">d2</span>&nbsp;<span class="op" id="8445607">:=</span>&nbsp;<span class="builtinfunc" id="8445610">make</span><span class="op" id="8445614">(</span><span class="op" id="8445615">[</span><span class="op" id="8445616">]</span><span class="builtintype" id="8445617">byte</span><span class="op" id="8445621">,</span>&nbsp;<span class="num" id="8445623">1024</span><span class="op" id="8445627">+</span><span class="ident" id="8445628">alignD</span><span class="op" id="8445634">)</span><span class="op" id="8445635">[</span><span class="ident" id="8445636">alignD</span><span class="op" id="8445642">:</span><span class="op" id="8445643">]</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445649">xorBytes</span><span class="op" id="8445657">(</span><span class="ident" id="8445658">d1</span><span class="op" id="8445660">,</span>&nbsp;<span class="ident" id="8445662">p</span><span class="op" id="8445663">,</span>&nbsp;<span class="ident" id="8445665">q</span><span class="op" id="8445666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445672">safeXORBytes</span><span class="op" id="8445684">(</span><span class="ident" id="8445685">d2</span><span class="op" id="8445687">,</span>&nbsp;<span class="ident" id="8445689">p</span><span class="op" id="8445690">,</span>&nbsp;<span class="ident" id="8445692">q</span><span class="op" id="8445693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445699">if</span>&nbsp;<span class="ident" id="8445702">bytes</span><span class="op" id="8445707">.</span><span class="ident" id="8445708">Compare</span><span class="op" id="8445715">(</span><span class="ident" id="8445716">d1</span><span class="op" id="8445718">,</span>&nbsp;<span class="ident" id="8445720">d2</span><span class="op" id="8445722">)</span>&nbsp;<span class="op" id="8445724">!=</span>&nbsp;<span class="num" id="8445727">0</span>&nbsp;<span class="op" id="8445729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445736">t</span><span class="op" id="8445737">.</span><span class="ident" id="8445738">Error</span><span class="op" id="8445743">(</span><span class="string" id="8445744">&#34;not&nbsp;equal&#34;</span><span class="op" id="8445755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445761">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445773">}</span><br>
<span class="lineno"></span><span class="op" id="8445775">}</span>
</div>
</body>
</html>
