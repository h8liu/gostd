<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc64</h2>
<ul>
<li><a href="/gostd/hash/crc64/crc64.go.html">crc64.go</a></li>
<li><a href="/gostd/hash/crc64/crc64_test.go.html">crc64_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5909047">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5909102">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5909156">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5909207">//&nbsp;Package&nbsp;crc64&nbsp;implements&nbsp;the&nbsp;64-bit&nbsp;cyclic&nbsp;redundancy&nbsp;check,&nbsp;or&nbsp;CRC-64,</span><br>
<span class="lineno"></span><span class="comment" id="5909282">//&nbsp;checksum.&nbsp;See&nbsp;http://en.wikipedia.org/wiki/Cyclic_redundancy_check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="5909356">//&nbsp;information.</span><br>
<span class="lineno"></span><span class="keyword" id="5909372">package</span>&nbsp;<span class="ident" id="5909380">crc64</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5909387">import</span>&nbsp;<span class="string" id="5909394">&#34;hash&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5909402">//&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;CRC-64&nbsp;checksum&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="5909445">const</span>&nbsp;<span class="ident" id="5909451">Size</span>&nbsp;<span class="op" id="5909456">=</span>&nbsp;<span class="num" id="5909458">8</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5909461">//&nbsp;Predefined&nbsp;polynomials.</span><br>
<span class="lineno"></span><span class="keyword" id="5909488">const</span>&nbsp;<span class="op" id="5909494">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5909497">//&nbsp;The&nbsp;ISO&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ISO&nbsp;3309&nbsp;and&nbsp;used&nbsp;in&nbsp;HDLC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909559">ISO</span>&nbsp;<span class="op" id="5909563">=</span>&nbsp;<span class="num" id="5909565">0xD800000000000000</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5909586">//&nbsp;The&nbsp;ECMA&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ECMA&nbsp;182.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909632">ECMA</span>&nbsp;<span class="op" id="5909637">=</span>&nbsp;<span class="num" id="5909639">0xC96C5795D7870F42</span><br>
<span class="lineno"></span><span class="op" id="5909658">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5909661">//&nbsp;Table&nbsp;is&nbsp;a&nbsp;256-word&nbsp;table&nbsp;representing&nbsp;the&nbsp;polynomial&nbsp;for&nbsp;efficient&nbsp;processing.</span><br>
<span class="lineno">25</span><span class="keyword" id="5909744">type</span>&nbsp;<span class="ident" id="5909749">Table</span>&nbsp;<span class="op" id="5909755">[</span><span class="num" id="5909756">256</span><span class="op" id="5909759">]</span><span class="ident" id="5909760">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5909768">//&nbsp;MakeTable&nbsp;returns&nbsp;the&nbsp;Table&nbsp;constructed&nbsp;from&nbsp;the&nbsp;specified&nbsp;polynomial.</span><br>
<span class="lineno"></span><span class="keyword" id="5909842">func</span>&nbsp;<span class="ident" id="5909847">MakeTable</span><span class="op" id="5909856">(</span><span class="ident" id="5909857">poly</span>&nbsp;<span class="ident" id="5909862">uint64</span><span class="op" id="5909868">)</span>&nbsp;<span class="op" id="5909870">*</span><span class="ident" id="5909871">Table</span>&nbsp;<span class="op" id="5909877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909880">t</span>&nbsp;<span class="op" id="5909882">:=</span>&nbsp;<span class="builtinfunc" id="5909885">new</span><span class="op" id="5909888">(</span><span class="ident" id="5909889">Table</span><span class="op" id="5909894">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909897">for</span>&nbsp;<span class="ident" id="5909901">i</span>&nbsp;<span class="op" id="5909903">:=</span>&nbsp;<span class="num" id="5909906">0</span><span class="op" id="5909907">;</span>&nbsp;<span class="ident" id="5909909">i</span>&nbsp;<span class="op" id="5909911">&lt;</span>&nbsp;<span class="num" id="5909913">256</span><span class="op" id="5909916">;</span>&nbsp;<span class="ident" id="5909918">i</span><span class="op" id="5909919">++</span>&nbsp;<span class="op" id="5909922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909926">crc</span>&nbsp;<span class="op" id="5909930">:=</span>&nbsp;<span class="ident" id="5909933">uint64</span><span class="op" id="5909939">(</span><span class="ident" id="5909940">i</span><span class="op" id="5909941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909945">for</span>&nbsp;<span class="ident" id="5909949">j</span>&nbsp;<span class="op" id="5909951">:=</span>&nbsp;<span class="num" id="5909954">0</span><span class="op" id="5909955">;</span>&nbsp;<span class="ident" id="5909957">j</span>&nbsp;<span class="op" id="5909959">&lt;</span>&nbsp;<span class="num" id="5909961">8</span><span class="op" id="5909962">;</span>&nbsp;<span class="ident" id="5909964">j</span><span class="op" id="5909965">++</span>&nbsp;<span class="op" id="5909968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909973">if</span>&nbsp;<span class="ident" id="5909976">crc</span><span class="op" id="5909979">&amp;</span><span class="num" id="5909980">1</span>&nbsp;<span class="op" id="5909982">==</span>&nbsp;<span class="num" id="5909985">1</span>&nbsp;<span class="op" id="5909987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909993">crc</span>&nbsp;<span class="op" id="5909997">=</span>&nbsp;<span class="op" id="5909999">(</span><span class="ident" id="5910000">crc</span>&nbsp;<span class="op" id="5910004">&gt;&gt;</span>&nbsp;<span class="num" id="5910007">1</span><span class="op" id="5910008">)</span>&nbsp;<span class="op" id="5910010">^</span>&nbsp;<span class="ident" id="5910012">poly</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5910020">}</span>&nbsp;<span class="keyword" id="5910022">else</span>&nbsp;<span class="op" id="5910027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5910033">crc</span>&nbsp;<span class="op" id="5910037">&gt;&gt;=</span>&nbsp;<span class="num" id="5910041">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5910046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5910050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5910054">t</span><span class="op" id="5910055">[</span><span class="ident" id="5910056">i</span><span class="op" id="5910057">]</span>&nbsp;<span class="op" id="5910059">=</span>&nbsp;<span class="ident" id="5910061">crc</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5910066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5910069">return</span>&nbsp;<span class="ident" id="5910076">t</span><br>
<span class="lineno"></span><span class="op" id="5910078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5910081">//&nbsp;digest&nbsp;represents&nbsp;the&nbsp;partial&nbsp;evaluation&nbsp;of&nbsp;a&nbsp;checksum.</span><br>
<span class="lineno">45</span><span class="keyword" id="5910140">type</span>&nbsp;<span class="ident" id="5910145">digest</span>&nbsp;<span class="keyword" id="5910152">struct</span>&nbsp;<span class="op" id="5910159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5910162">crc</span>&nbsp;<span class="ident" id="5910166">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5910174">tab</span>&nbsp;<span class="op" id="5910178">*</span><span class="ident" id="5910179">Table</span><br>
<span class="lineno"></span><span class="op" id="5910185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5910188">//&nbsp;New&nbsp;creates&nbsp;a&nbsp;new&nbsp;hash.Hash64&nbsp;computing&nbsp;the&nbsp;CRC-64&nbsp;checksum</span><br>
<span class="lineno"></span><span class="comment" id="5910251">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5910301">func</span>&nbsp;<span class="ident" id="5910306">New</span><span class="op" id="5910309">(</span><span class="ident" id="5910310">tab</span>&nbsp;<span class="op" id="5910314">*</span><span class="ident" id="5910315">Table</span><span class="op" id="5910320">)</span>&nbsp;<span class="ident" id="5910322">hash</span><span class="op" id="5910326">.</span><span class="ident" id="5910327">Hash64</span>&nbsp;<span class="op" id="5910334">{</span>&nbsp;<span class="keyword" id="5910336">return</span>&nbsp;<span class="op" id="5910343">&amp;</span><span class="ident" id="5910344">digest</span><span class="op" id="5910350">{</span><span class="num" id="5910351">0</span><span class="op" id="5910352">,</span>&nbsp;<span class="ident" id="5910354">tab</span><span class="op" id="5910357">}</span>&nbsp;<span class="op" id="5910359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5910362">func</span>&nbsp;<span class="op" id="5910367">(</span><span class="ident" id="5910368">d</span>&nbsp;<span class="op" id="5910370">*</span><span class="ident" id="5910371">digest</span><span class="op" id="5910377">)</span>&nbsp;<span class="ident" id="5910379">Size</span><span class="op" id="5910383">(</span><span class="op" id="5910384">)</span>&nbsp;<span class="builtintype" id="5910386">int</span>&nbsp;<span class="op" id="5910390">{</span>&nbsp;<span class="keyword" id="5910392">return</span>&nbsp;<span class="ident" id="5910399">Size</span>&nbsp;<span class="op" id="5910404">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5910407">func</span>&nbsp;<span class="op" id="5910412">(</span><span class="ident" id="5910413">d</span>&nbsp;<span class="op" id="5910415">*</span><span class="ident" id="5910416">digest</span><span class="op" id="5910422">)</span>&nbsp;<span class="ident" id="5910424">BlockSize</span><span class="op" id="5910433">(</span><span class="op" id="5910434">)</span>&nbsp;<span class="builtintype" id="5910436">int</span>&nbsp;<span class="op" id="5910440">{</span>&nbsp;<span class="keyword" id="5910442">return</span>&nbsp;<span class="num" id="5910449">1</span>&nbsp;<span class="op" id="5910451">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5910454">func</span>&nbsp;<span class="op" id="5910459">(</span><span class="ident" id="5910460">d</span>&nbsp;<span class="op" id="5910462">*</span><span class="ident" id="5910463">digest</span><span class="op" id="5910469">)</span>&nbsp;<span class="ident" id="5910471">Reset</span><span class="op" id="5910476">(</span><span class="op" id="5910477">)</span>&nbsp;<span class="op" id="5910479">{</span>&nbsp;<span class="ident" id="5910481">d</span><span class="op" id="5910482">.</span><span class="ident" id="5910483">crc</span>&nbsp;<span class="op" id="5910487">=</span>&nbsp;<span class="num" id="5910489">0</span>&nbsp;<span class="op" id="5910491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5910494">func</span>&nbsp;<span class="ident" id="5910499">update</span><span class="op" id="5910505">(</span><span class="ident" id="5910506">crc</span>&nbsp;<span class="ident" id="5910510">uint64</span><span class="op" id="5910516">,</span>&nbsp;<span class="ident" id="5910518">tab</span>&nbsp;<span class="op" id="5910522">*</span><span class="ident" id="5910523">Table</span><span class="op" id="5910528">,</span>&nbsp;<span class="ident" id="5910530">p</span>&nbsp;<span class="op" id="5910532">[</span><span class="op" id="5910533">]</span><span class="builtintype" id="5910534">byte</span><span class="op" id="5910538">)</span>&nbsp;<span class="ident" id="5910540">uint64</span>&nbsp;<span class="op" id="5910547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5910550">crc</span>&nbsp;<span class="op" id="5910554">=</span>&nbsp;<span class="op" id="5910556">^</span><span class="ident" id="5910557">crc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5910562">for</span>&nbsp;<span class="ident" id="5910566">_</span><span class="op" id="5910567">,</span>&nbsp;<span class="ident" id="5910569">v</span>&nbsp;<span class="op" id="5910571">:=</span>&nbsp;<span class="keyword" id="5910574">range</span>&nbsp;<span class="ident" id="5910580">p</span>&nbsp;<span class="op" id="5910582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5910586">crc</span>&nbsp;<span class="op" id="5910590">=</span>&nbsp;<span class="ident" id="5910592">tab</span><span class="op" id="5910595">[</span><span class="builtintype" id="5910596">byte</span><span class="op" id="5910600">(</span><span class="ident" id="5910601">crc</span><span class="op" id="5910604">)</span><span class="op" id="5910605">^</span><span class="ident" id="5910606">v</span><span class="op" id="5910607">]</span>&nbsp;<span class="op" id="5910609">^</span>&nbsp;<span class="op" id="5910611">(</span><span class="ident" id="5910612">crc</span>&nbsp;<span class="op" id="5910616">&gt;&gt;</span>&nbsp;<span class="num" id="5910619">8</span><span class="op" id="5910620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5910623">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5910626">return</span>&nbsp;<span class="op" id="5910633">^</span><span class="ident" id="5910634">crc</span><br>
<span class="lineno"></span><span class="op" id="5910638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5910641">//&nbsp;Update&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;adding&nbsp;the&nbsp;bytes&nbsp;in&nbsp;p&nbsp;to&nbsp;the&nbsp;crc.</span><br>
<span class="lineno"></span><span class="keyword" id="5910707">func</span>&nbsp;<span class="ident" id="5910712">Update</span><span class="op" id="5910718">(</span><span class="ident" id="5910719">crc</span>&nbsp;<span class="ident" id="5910723">uint64</span><span class="op" id="5910729">,</span>&nbsp;<span class="ident" id="5910731">tab</span>&nbsp;<span class="op" id="5910735">*</span><span class="ident" id="5910736">Table</span><span class="op" id="5910741">,</span>&nbsp;<span class="ident" id="5910743">p</span>&nbsp;<span class="op" id="5910745">[</span><span class="op" id="5910746">]</span><span class="builtintype" id="5910747">byte</span><span class="op" id="5910751">)</span>&nbsp;<span class="ident" id="5910753">uint64</span>&nbsp;<span class="op" id="5910760">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5910763">return</span>&nbsp;<span class="ident" id="5910770">update</span><span class="op" id="5910776">(</span><span class="ident" id="5910777">crc</span><span class="op" id="5910780">,</span>&nbsp;<span class="ident" id="5910782">tab</span><span class="op" id="5910785">,</span>&nbsp;<span class="ident" id="5910787">p</span><span class="op" id="5910788">)</span><br>
<span class="lineno"></span><span class="op" id="5910790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5910793">func</span>&nbsp;<span class="op" id="5910798">(</span><span class="ident" id="5910799">d</span>&nbsp;<span class="op" id="5910801">*</span><span class="ident" id="5910802">digest</span><span class="op" id="5910808">)</span>&nbsp;<span class="ident" id="5910810">Write</span><span class="op" id="5910815">(</span><span class="ident" id="5910816">p</span>&nbsp;<span class="op" id="5910818">[</span><span class="op" id="5910819">]</span><span class="builtintype" id="5910820">byte</span><span class="op" id="5910824">)</span>&nbsp;<span class="op" id="5910826">(</span><span class="ident" id="5910827">n</span>&nbsp;<span class="builtintype" id="5910829">int</span><span class="op" id="5910832">,</span>&nbsp;<span class="ident" id="5910834">err</span>&nbsp;<span class="builtintype" id="5910838">error</span><span class="op" id="5910843">)</span>&nbsp;<span class="op" id="5910845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5910848">d</span><span class="op" id="5910849">.</span><span class="ident" id="5910850">crc</span>&nbsp;<span class="op" id="5910854">=</span>&nbsp;<span class="ident" id="5910856">update</span><span class="op" id="5910862">(</span><span class="ident" id="5910863">d</span><span class="op" id="5910864">.</span><span class="ident" id="5910865">crc</span><span class="op" id="5910868">,</span>&nbsp;<span class="ident" id="5910870">d</span><span class="op" id="5910871">.</span><span class="ident" id="5910872">tab</span><span class="op" id="5910875">,</span>&nbsp;<span class="ident" id="5910877">p</span><span class="op" id="5910878">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5910881">return</span>&nbsp;<span class="builtinfunc" id="5910888">len</span><span class="op" id="5910891">(</span><span class="ident" id="5910892">p</span><span class="op" id="5910893">)</span><span class="op" id="5910894">,</span>&nbsp;<span class="ident" id="5910896">nil</span><br>
<span class="lineno"></span><span class="op" id="5910900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5910903">func</span>&nbsp;<span class="op" id="5910908">(</span><span class="ident" id="5910909">d</span>&nbsp;<span class="op" id="5910911">*</span><span class="ident" id="5910912">digest</span><span class="op" id="5910918">)</span>&nbsp;<span class="ident" id="5910920">Sum64</span><span class="op" id="5910925">(</span><span class="op" id="5910926">)</span>&nbsp;<span class="ident" id="5910928">uint64</span>&nbsp;<span class="op" id="5910935">{</span>&nbsp;<span class="keyword" id="5910937">return</span>&nbsp;<span class="ident" id="5910944">d</span><span class="op" id="5910945">.</span><span class="ident" id="5910946">crc</span>&nbsp;<span class="op" id="5910950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5910953">func</span>&nbsp;<span class="op" id="5910958">(</span><span class="ident" id="5910959">d</span>&nbsp;<span class="op" id="5910961">*</span><span class="ident" id="5910962">digest</span><span class="op" id="5910968">)</span>&nbsp;<span class="ident" id="5910970">Sum</span><span class="op" id="5910973">(</span><span class="ident" id="5910974">in</span>&nbsp;<span class="op" id="5910977">[</span><span class="op" id="5910978">]</span><span class="builtintype" id="5910979">byte</span><span class="op" id="5910983">)</span>&nbsp;<span class="op" id="5910985">[</span><span class="op" id="5910986">]</span><span class="builtintype" id="5910987">byte</span>&nbsp;<span class="op" id="5910992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5910995">s</span>&nbsp;<span class="op" id="5910997">:=</span>&nbsp;<span class="ident" id="5911000">d</span><span class="op" id="5911001">.</span><span class="ident" id="5911002">Sum64</span><span class="op" id="5911007">(</span><span class="op" id="5911008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5911011">return</span>&nbsp;<span class="builtinfunc" id="5911018">append</span><span class="op" id="5911024">(</span><span class="ident" id="5911025">in</span><span class="op" id="5911027">,</span>&nbsp;<span class="builtintype" id="5911029">byte</span><span class="op" id="5911033">(</span><span class="ident" id="5911034">s</span><span class="op" id="5911035">&gt;&gt;</span><span class="num" id="5911037">56</span><span class="op" id="5911039">)</span><span class="op" id="5911040">,</span>&nbsp;<span class="builtintype" id="5911042">byte</span><span class="op" id="5911046">(</span><span class="ident" id="5911047">s</span><span class="op" id="5911048">&gt;&gt;</span><span class="num" id="5911050">48</span><span class="op" id="5911052">)</span><span class="op" id="5911053">,</span>&nbsp;<span class="builtintype" id="5911055">byte</span><span class="op" id="5911059">(</span><span class="ident" id="5911060">s</span><span class="op" id="5911061">&gt;&gt;</span><span class="num" id="5911063">40</span><span class="op" id="5911065">)</span><span class="op" id="5911066">,</span>&nbsp;<span class="builtintype" id="5911068">byte</span><span class="op" id="5911072">(</span><span class="ident" id="5911073">s</span><span class="op" id="5911074">&gt;&gt;</span><span class="num" id="5911076">32</span><span class="op" id="5911078">)</span><span class="op" id="5911079">,</span>&nbsp;<span class="builtintype" id="5911081">byte</span><span class="op" id="5911085">(</span><span class="ident" id="5911086">s</span><span class="op" id="5911087">&gt;&gt;</span><span class="num" id="5911089">24</span><span class="op" id="5911091">)</span><span class="op" id="5911092">,</span>&nbsp;<span class="builtintype" id="5911094">byte</span><span class="op" id="5911098">(</span><span class="ident" id="5911099">s</span><span class="op" id="5911100">&gt;&gt;</span><span class="num" id="5911102">16</span><span class="op" id="5911104">)</span><span class="op" id="5911105">,</span>&nbsp;<span class="builtintype" id="5911107">byte</span><span class="op" id="5911111">(</span><span class="ident" id="5911112">s</span><span class="op" id="5911113">&gt;&gt;</span><span class="num" id="5911115">8</span><span class="op" id="5911116">)</span><span class="op" id="5911117">,</span>&nbsp;<span class="builtintype" id="5911119">byte</span><span class="op" id="5911123">(</span><span class="ident" id="5911124">s</span><span class="op" id="5911125">)</span><span class="op" id="5911126">)</span><br>
<span class="lineno"></span><span class="op" id="5911128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="5911131">//&nbsp;Checksum&nbsp;returns&nbsp;the&nbsp;CRC-64&nbsp;checksum&nbsp;of&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="5911179">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5911229">func</span>&nbsp;<span class="ident" id="5911234">Checksum</span><span class="op" id="5911242">(</span><span class="ident" id="5911243">data</span>&nbsp;<span class="op" id="5911248">[</span><span class="op" id="5911249">]</span><span class="builtintype" id="5911250">byte</span><span class="op" id="5911254">,</span>&nbsp;<span class="ident" id="5911256">tab</span>&nbsp;<span class="op" id="5911260">*</span><span class="ident" id="5911261">Table</span><span class="op" id="5911266">)</span>&nbsp;<span class="ident" id="5911268">uint64</span>&nbsp;<span class="op" id="5911275">{</span>&nbsp;<span class="keyword" id="5911277">return</span>&nbsp;<span class="ident" id="5911284">update</span><span class="op" id="5911290">(</span><span class="num" id="5911291">0</span><span class="op" id="5911292">,</span>&nbsp;<span class="ident" id="5911294">tab</span><span class="op" id="5911297">,</span>&nbsp;<span class="ident" id="5911299">data</span><span class="op" id="5911303">)</span>&nbsp;<span class="op" id="5911305">}</span>
</div>
</body>
</html>
