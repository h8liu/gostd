<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8024313">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8024369">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8024423">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8024474">package</span>&nbsp;<span class="ident" id="8024482">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8024488">import</span>&nbsp;<span class="op" id="8024495">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8024498">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8024508">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8024511">func</span>&nbsp;<span class="ident" id="8024516">TestTagParsing</span><span class="op" id="8024530">(</span><span class="ident" id="8024531">t</span>&nbsp;<span class="op" id="8024533">*</span><span class="ident" id="8024534"><a href="/encoding/json/tags_test.go.html#8024498">testing</a></span><span class="op" id="8024541">.</span><span class="ident" id="8024542">T</span><span class="op" id="8024543">)</span>&nbsp;<span class="op" id="8024545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024548">name</span><span class="op" id="8024552">,</span>&nbsp;<span class="ident" id="8024554">opts</span>&nbsp;<span class="op" id="8024559">:=</span>&nbsp;<span class="ident" id="8024562"><a href="/encoding/json/tags.go.html#3720683">parseTag</a></span><span class="op" id="8024570">(</span><span class="string" id="8024571">&#34;field,foobar,foo&#34;</span><span class="op" id="8024589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024592">if</span>&nbsp;<span class="ident" id="8024595"><a href="/encoding/json/tags_test.go.html#8024548">name</a></span>&nbsp;<span class="op" id="8024600">!=</span>&nbsp;<span class="string" id="8024603">&#34;field&#34;</span>&nbsp;<span class="op" id="8024611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024615"><a href="/encoding/json/tags_test.go.html#8024531">t</a></span><span class="op" id="8024616">.</span><span class="ident" id="8024617">Fatalf</span><span class="op" id="8024623">(</span><span class="string" id="8024624">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="8024647">,</span>&nbsp;<span class="ident" id="8024649"><a href="/encoding/json/tags_test.go.html#8024548">name</a></span><span class="op" id="8024653">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024659">for</span>&nbsp;<span class="ident" id="8024663">_</span><span class="op" id="8024664">,</span>&nbsp;<span class="ident" id="8024666">tt</span>&nbsp;<span class="op" id="8024669">:=</span>&nbsp;<span class="keyword" id="8024672">range</span>&nbsp;<span class="op" id="8024678">[</span><span class="op" id="8024679">]</span><span class="keyword" id="8024680">struct</span>&nbsp;<span class="op" id="8024687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024691">opt</span>&nbsp;&nbsp;<span class="builtintype" id="8024696">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024705">want</span>&nbsp;<span class="builtintype" id="8024710">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024716">}</span><span class="op" id="8024717">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024721">{</span><span class="string" id="8024722">&#34;foobar&#34;</span><span class="op" id="8024730">,</span>&nbsp;<span class="ident" id="8024732">true</span><span class="op" id="8024736">}</span><span class="op" id="8024737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024741">{</span><span class="string" id="8024742">&#34;foo&#34;</span><span class="op" id="8024747">,</span>&nbsp;<span class="ident" id="8024749">true</span><span class="op" id="8024753">}</span><span class="op" id="8024754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024758">{</span><span class="string" id="8024759">&#34;bar&#34;</span><span class="op" id="8024764">,</span>&nbsp;<span class="ident" id="8024766">false</span><span class="op" id="8024771">}</span><span class="op" id="8024772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024775">}</span>&nbsp;<span class="op" id="8024777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024781">if</span>&nbsp;<span class="ident" id="8024784"><a href="/encoding/json/tags_test.go.html#8024554">opts</a></span><span class="op" id="8024788">.</span><span class="ident" id="8024789">Contains</span><span class="op" id="8024797">(</span><span class="ident" id="8024798"><a href="/encoding/json/tags_test.go.html#8024666">tt</a></span><span class="op" id="8024800">.</span><span class="ident" id="8024801">opt</span><span class="op" id="8024804">)</span>&nbsp;<span class="op" id="8024806">!=</span>&nbsp;<span class="ident" id="8024809"><a href="/encoding/json/tags_test.go.html#8024666">tt</a></span><span class="op" id="8024811">.</span><span class="ident" id="8024812">want</span>&nbsp;<span class="op" id="8024817">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024822"><a href="/encoding/json/tags_test.go.html#8024531">t</a></span><span class="op" id="8024823">.</span><span class="ident" id="8024824">Errorf</span><span class="op" id="8024830">(</span><span class="string" id="8024831">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="8024850">,</span>&nbsp;<span class="ident" id="8024852"><a href="/encoding/json/tags_test.go.html#8024666">tt</a></span><span class="op" id="8024854">.</span><span class="ident" id="8024855">opt</span><span class="op" id="8024858">,</span>&nbsp;<span class="op" id="8024860">!</span><span class="ident" id="8024861"><a href="/encoding/json/tags_test.go.html#8024666">tt</a></span><span class="op" id="8024863">.</span><span class="ident" id="8024864">want</span><span class="op" id="8024868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024875">}</span><br>
<span class="lineno"></span><span class="op" id="8024877">}</span>
</div>
</body>
</html>
