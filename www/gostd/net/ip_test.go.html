<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6613165">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6613220">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6613274">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6613325">package</span>&nbsp;<span class="ident" id="6613333">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6613338">import</span>&nbsp;<span class="op" id="6613345">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6613348">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6613359">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6613370">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6613380">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6613383">var</span>&nbsp;<span class="ident" id="6613387">parseIPTests</span>&nbsp;<span class="op" id="6613400">=</span>&nbsp;<span class="op" id="6613402">[</span><span class="op" id="6613403">]</span><span class="keyword" id="6613404">struct</span>&nbsp;<span class="op" id="6613411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613414">in</span>&nbsp;&nbsp;<span class="builtintype" id="6613418">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613426">out</span>&nbsp;<span class="ident" id="6613430">IP</span><br>
<span class="lineno"></span><span class="op" id="6613433">}</span><span class="op" id="6613434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613437">{</span><span class="string" id="6613438">&#34;127.0.1.2&#34;</span><span class="op" id="6613449">,</span>&nbsp;<span class="ident" id="6613451">IPv4</span><span class="op" id="6613455">(</span><span class="num" id="6613456">127</span><span class="op" id="6613459">,</span>&nbsp;<span class="num" id="6613461">0</span><span class="op" id="6613462">,</span>&nbsp;<span class="num" id="6613464">1</span><span class="op" id="6613465">,</span>&nbsp;<span class="num" id="6613467">2</span><span class="op" id="6613468">)</span><span class="op" id="6613469">}</span><span class="op" id="6613470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613473">{</span><span class="string" id="6613474">&#34;127.0.0.1&#34;</span><span class="op" id="6613485">,</span>&nbsp;<span class="ident" id="6613487">IPv4</span><span class="op" id="6613491">(</span><span class="num" id="6613492">127</span><span class="op" id="6613495">,</span>&nbsp;<span class="num" id="6613497">0</span><span class="op" id="6613498">,</span>&nbsp;<span class="num" id="6613500">0</span><span class="op" id="6613501">,</span>&nbsp;<span class="num" id="6613503">1</span><span class="op" id="6613504">)</span><span class="op" id="6613505">}</span><span class="op" id="6613506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613509">{</span><span class="string" id="6613510">&#34;127.0.0.256&#34;</span><span class="op" id="6613523">,</span>&nbsp;<span class="ident" id="6613525">nil</span><span class="op" id="6613528">}</span><span class="op" id="6613529">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613532">{</span><span class="string" id="6613533">&#34;abc&#34;</span><span class="op" id="6613538">,</span>&nbsp;<span class="ident" id="6613540">nil</span><span class="op" id="6613543">}</span><span class="op" id="6613544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613547">{</span><span class="string" id="6613548">&#34;123:&#34;</span><span class="op" id="6613554">,</span>&nbsp;<span class="ident" id="6613556">nil</span><span class="op" id="6613559">}</span><span class="op" id="6613560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613563">{</span><span class="string" id="6613564">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="6613582">,</span>&nbsp;<span class="ident" id="6613584">IPv4</span><span class="op" id="6613588">(</span><span class="num" id="6613589">127</span><span class="op" id="6613592">,</span>&nbsp;<span class="num" id="6613594">0</span><span class="op" id="6613595">,</span>&nbsp;<span class="num" id="6613597">0</span><span class="op" id="6613598">,</span>&nbsp;<span class="num" id="6613600">1</span><span class="op" id="6613601">)</span><span class="op" id="6613602">}</span><span class="op" id="6613603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613606">{</span><span class="string" id="6613607">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="6613629">,</span>&nbsp;<span class="ident" id="6613631">IP</span><span class="op" id="6613633">{</span><span class="num" id="6613634">0x20</span><span class="op" id="6613638">,</span>&nbsp;<span class="num" id="6613640">0x01</span><span class="op" id="6613644">,</span>&nbsp;<span class="num" id="6613646">0x48</span><span class="op" id="6613650">,</span>&nbsp;<span class="num" id="6613652">0x60</span><span class="op" id="6613656">,</span>&nbsp;<span class="num" id="6613658">0</span><span class="op" id="6613659">,</span>&nbsp;<span class="num" id="6613661">0</span><span class="op" id="6613662">,</span>&nbsp;<span class="num" id="6613664">0x20</span><span class="op" id="6613668">,</span>&nbsp;<span class="num" id="6613670">0x01</span><span class="op" id="6613674">,</span>&nbsp;<span class="num" id="6613676">0</span><span class="op" id="6613677">,</span>&nbsp;<span class="num" id="6613679">0</span><span class="op" id="6613680">,</span>&nbsp;<span class="num" id="6613682">0</span><span class="op" id="6613683">,</span>&nbsp;<span class="num" id="6613685">0</span><span class="op" id="6613686">,</span>&nbsp;<span class="num" id="6613688">0</span><span class="op" id="6613689">,</span>&nbsp;<span class="num" id="6613691">0</span><span class="op" id="6613692">,</span>&nbsp;<span class="num" id="6613694">0x00</span><span class="op" id="6613698">,</span>&nbsp;<span class="num" id="6613700">0x68</span><span class="op" id="6613704">}</span><span class="op" id="6613705">}</span><span class="op" id="6613706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613709">{</span><span class="string" id="6613710">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="6613728">,</span>&nbsp;<span class="ident" id="6613730">IPv4</span><span class="op" id="6613734">(</span><span class="num" id="6613735">74</span><span class="op" id="6613737">,</span>&nbsp;<span class="num" id="6613739">125</span><span class="op" id="6613742">,</span>&nbsp;<span class="num" id="6613744">19</span><span class="op" id="6613746">,</span>&nbsp;<span class="num" id="6613748">99</span><span class="op" id="6613750">)</span><span class="op" id="6613751">}</span><span class="op" id="6613752">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613755">{</span><span class="string" id="6613756">&#34;fe80::1%lo0&#34;</span><span class="op" id="6613769">,</span>&nbsp;<span class="ident" id="6613771">nil</span><span class="op" id="6613774">}</span><span class="op" id="6613775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613778">{</span><span class="string" id="6613779">&#34;fe80::1%911&#34;</span><span class="op" id="6613792">,</span>&nbsp;<span class="ident" id="6613794">nil</span><span class="op" id="6613797">}</span><span class="op" id="6613798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613801">{</span><span class="string" id="6613802">&#34;&#34;</span><span class="op" id="6613804">,</span>&nbsp;<span class="ident" id="6613806">nil</span><span class="op" id="6613809">}</span><span class="op" id="6613810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613813">{</span><span class="string" id="6613814">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="6613840">,</span>&nbsp;<span class="ident" id="6613842">nil</span><span class="op" id="6613845">}</span><span class="op" id="6613846">,</span>&nbsp;<span class="comment" id="6613848">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="6613862">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="6613865">func</span>&nbsp;<span class="ident" id="6613870">TestParseIP</span><span class="op" id="6613881">(</span><span class="ident" id="6613882">t</span>&nbsp;<span class="op" id="6613884">*</span><span class="ident" id="6613885">testing</span><span class="op" id="6613892">.</span><span class="ident" id="6613893">T</span><span class="op" id="6613894">)</span>&nbsp;<span class="op" id="6613896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613899">for</span>&nbsp;<span class="ident" id="6613903">_</span><span class="op" id="6613904">,</span>&nbsp;<span class="ident" id="6613906">tt</span>&nbsp;<span class="op" id="6613909">:=</span>&nbsp;<span class="keyword" id="6613912">range</span>&nbsp;<span class="ident" id="6613918">parseIPTests</span>&nbsp;<span class="op" id="6613931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613935">if</span>&nbsp;<span class="ident" id="6613938">out</span>&nbsp;<span class="op" id="6613942">:=</span>&nbsp;<span class="ident" id="6613945">ParseIP</span><span class="op" id="6613952">(</span><span class="ident" id="6613953">tt</span><span class="op" id="6613955">.</span><span class="ident" id="6613956">in</span><span class="op" id="6613958">)</span><span class="op" id="6613959">;</span>&nbsp;<span class="op" id="6613961">!</span><span class="ident" id="6613962">reflect</span><span class="op" id="6613969">.</span><span class="ident" id="6613970">DeepEqual</span><span class="op" id="6613979">(</span><span class="ident" id="6613980">out</span><span class="op" id="6613983">,</span>&nbsp;<span class="ident" id="6613985">tt</span><span class="op" id="6613987">.</span><span class="ident" id="6613988">out</span><span class="op" id="6613991">)</span>&nbsp;<span class="op" id="6613993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613998">t</span><span class="op" id="6613999">.</span><span class="ident" id="6614000">Errorf</span><span class="op" id="6614006">(</span><span class="string" id="6614007">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6614034">,</span>&nbsp;<span class="ident" id="6614036">tt</span><span class="op" id="6614038">.</span><span class="ident" id="6614039">in</span><span class="op" id="6614041">,</span>&nbsp;<span class="ident" id="6614043">out</span><span class="op" id="6614046">,</span>&nbsp;<span class="ident" id="6614048">tt</span><span class="op" id="6614050">.</span><span class="ident" id="6614051">out</span><span class="op" id="6614054">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614062">if</span>&nbsp;<span class="ident" id="6614065">tt</span><span class="op" id="6614067">.</span><span class="ident" id="6614068">in</span>&nbsp;<span class="op" id="6614071">==</span>&nbsp;<span class="string" id="6614074">&#34;&#34;</span>&nbsp;<span class="op" id="6614077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6614082">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614124">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614135">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614139">var</span>&nbsp;<span class="ident" id="6614143">out</span>&nbsp;<span class="ident" id="6614147">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614152">if</span>&nbsp;<span class="ident" id="6614155">err</span>&nbsp;<span class="op" id="6614159">:=</span>&nbsp;<span class="ident" id="6614162">out</span><span class="op" id="6614165">.</span><span class="ident" id="6614166">UnmarshalText</span><span class="op" id="6614179">(</span><span class="op" id="6614180">[</span><span class="op" id="6614181">]</span><span class="builtintype" id="6614182">byte</span><span class="op" id="6614186">(</span><span class="ident" id="6614187">tt</span><span class="op" id="6614189">.</span><span class="ident" id="6614190">in</span><span class="op" id="6614192">)</span><span class="op" id="6614193">)</span><span class="op" id="6614194">;</span>&nbsp;<span class="op" id="6614196">!</span><span class="ident" id="6614197">reflect</span><span class="op" id="6614204">.</span><span class="ident" id="6614205">DeepEqual</span><span class="op" id="6614214">(</span><span class="ident" id="6614215">out</span><span class="op" id="6614218">,</span>&nbsp;<span class="ident" id="6614220">tt</span><span class="op" id="6614222">.</span><span class="ident" id="6614223">out</span><span class="op" id="6614226">)</span>&nbsp;<span class="op" id="6614228">||</span>&nbsp;<span class="op" id="6614231">(</span><span class="ident" id="6614232">tt</span><span class="op" id="6614234">.</span><span class="ident" id="6614235">out</span>&nbsp;<span class="op" id="6614239">==</span>&nbsp;<span class="ident" id="6614242">nil</span><span class="op" id="6614245">)</span>&nbsp;<span class="op" id="6614247">!=</span>&nbsp;<span class="op" id="6614250">(</span><span class="ident" id="6614251">err</span>&nbsp;<span class="op" id="6614255">!=</span>&nbsp;<span class="ident" id="6614258">nil</span><span class="op" id="6614261">)</span>&nbsp;<span class="op" id="6614263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614268">t</span><span class="op" id="6614269">.</span><span class="ident" id="6614270">Errorf</span><span class="op" id="6614276">(</span><span class="string" id="6614277">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6614317">,</span>&nbsp;<span class="ident" id="6614319">tt</span><span class="op" id="6614321">.</span><span class="ident" id="6614322">in</span><span class="op" id="6614324">,</span>&nbsp;<span class="ident" id="6614326">out</span><span class="op" id="6614329">,</span>&nbsp;<span class="ident" id="6614331">err</span><span class="op" id="6614334">,</span>&nbsp;<span class="ident" id="6614336">tt</span><span class="op" id="6614338">.</span><span class="ident" id="6614339">out</span><span class="op" id="6614342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614349">}</span><br>
<span class="lineno">45</span><span class="op" id="6614351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6614354">func</span>&nbsp;<span class="ident" id="6614359">BenchmarkParseIP</span><span class="op" id="6614375">(</span><span class="ident" id="6614376">b</span>&nbsp;<span class="op" id="6614378">*</span><span class="ident" id="6614379">testing</span><span class="op" id="6614386">.</span><span class="ident" id="6614387">B</span><span class="op" id="6614388">)</span>&nbsp;<span class="op" id="6614390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614393">for</span>&nbsp;<span class="ident" id="6614397">i</span>&nbsp;<span class="op" id="6614399">:=</span>&nbsp;<span class="num" id="6614402">0</span><span class="op" id="6614403">;</span>&nbsp;<span class="ident" id="6614405">i</span>&nbsp;<span class="op" id="6614407">&lt;</span>&nbsp;<span class="ident" id="6614409">b</span><span class="op" id="6614410">.</span><span class="ident" id="6614411">N</span><span class="op" id="6614412">;</span>&nbsp;<span class="ident" id="6614414">i</span><span class="op" id="6614415">++</span>&nbsp;<span class="op" id="6614418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614422">for</span>&nbsp;<span class="ident" id="6614426">_</span><span class="op" id="6614427">,</span>&nbsp;<span class="ident" id="6614429">tt</span>&nbsp;<span class="op" id="6614432">:=</span>&nbsp;<span class="keyword" id="6614435">range</span>&nbsp;<span class="ident" id="6614441">parseIPTests</span>&nbsp;<span class="op" id="6614454">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614459">ParseIP</span><span class="op" id="6614466">(</span><span class="ident" id="6614467">tt</span><span class="op" id="6614469">.</span><span class="ident" id="6614470">in</span><span class="op" id="6614472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614479">}</span><br>
<span class="lineno"></span><span class="op" id="6614481">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="6614484">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="6614498">func</span>&nbsp;<span class="ident" id="6614503">TestMarshalEmptyIP</span><span class="op" id="6614521">(</span><span class="ident" id="6614522">t</span>&nbsp;<span class="op" id="6614524">*</span><span class="ident" id="6614525">testing</span><span class="op" id="6614532">.</span><span class="ident" id="6614533">T</span><span class="op" id="6614534">)</span>&nbsp;<span class="op" id="6614536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614539">for</span>&nbsp;<span class="ident" id="6614543">_</span><span class="op" id="6614544">,</span>&nbsp;<span class="ident" id="6614546">in</span>&nbsp;<span class="op" id="6614549">:=</span>&nbsp;<span class="keyword" id="6614552">range</span>&nbsp;<span class="op" id="6614558">[</span><span class="op" id="6614559">]</span><span class="op" id="6614560">[</span><span class="op" id="6614561">]</span><span class="builtintype" id="6614562">byte</span><span class="op" id="6614566">{</span><span class="ident" id="6614567">nil</span><span class="op" id="6614570">,</span>&nbsp;<span class="op" id="6614572">[</span><span class="op" id="6614573">]</span><span class="builtintype" id="6614574">byte</span><span class="op" id="6614578">(</span><span class="string" id="6614579">&#34;&#34;</span><span class="op" id="6614581">)</span><span class="op" id="6614582">}</span>&nbsp;<span class="op" id="6614584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614588">var</span>&nbsp;<span class="ident" id="6614592">out</span>&nbsp;<span class="op" id="6614596">=</span>&nbsp;<span class="ident" id="6614598">IP</span><span class="op" id="6614600">{</span><span class="num" id="6614601">1</span><span class="op" id="6614602">,</span>&nbsp;<span class="num" id="6614604">2</span><span class="op" id="6614605">,</span>&nbsp;<span class="num" id="6614607">3</span><span class="op" id="6614608">,</span>&nbsp;<span class="num" id="6614610">4</span><span class="op" id="6614611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614615">if</span>&nbsp;<span class="ident" id="6614618">err</span>&nbsp;<span class="op" id="6614622">:=</span>&nbsp;<span class="ident" id="6614625">out</span><span class="op" id="6614628">.</span><span class="ident" id="6614629">UnmarshalText</span><span class="op" id="6614642">(</span><span class="ident" id="6614643">in</span><span class="op" id="6614645">)</span><span class="op" id="6614646">;</span>&nbsp;<span class="ident" id="6614648">err</span>&nbsp;<span class="op" id="6614652">!=</span>&nbsp;<span class="ident" id="6614655">nil</span>&nbsp;<span class="op" id="6614659">||</span>&nbsp;<span class="ident" id="6614662">out</span>&nbsp;<span class="op" id="6614666">!=</span>&nbsp;<span class="ident" id="6614669">nil</span>&nbsp;<span class="op" id="6614673">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614678">t</span><span class="op" id="6614679">.</span><span class="ident" id="6614680">Errorf</span><span class="op" id="6614686">(</span><span class="string" id="6614687">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="6614730">,</span>&nbsp;<span class="ident" id="6614732">in</span><span class="op" id="6614734">,</span>&nbsp;<span class="ident" id="6614736">out</span><span class="op" id="6614739">,</span>&nbsp;<span class="ident" id="6614741">err</span><span class="op" id="6614744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614754">var</span>&nbsp;<span class="ident" id="6614758">ip</span>&nbsp;<span class="ident" id="6614761">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614765">got</span><span class="op" id="6614768">,</span>&nbsp;<span class="ident" id="6614770">err</span>&nbsp;<span class="op" id="6614774">:=</span>&nbsp;<span class="ident" id="6614777">ip</span><span class="op" id="6614779">.</span><span class="ident" id="6614780">MarshalText</span><span class="op" id="6614791">(</span><span class="op" id="6614792">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614795">if</span>&nbsp;<span class="ident" id="6614798">err</span>&nbsp;<span class="op" id="6614802">!=</span>&nbsp;<span class="ident" id="6614805">nil</span>&nbsp;<span class="op" id="6614809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614813">t</span><span class="op" id="6614814">.</span><span class="ident" id="6614815">Fatal</span><span class="op" id="6614820">(</span><span class="ident" id="6614821">err</span><span class="op" id="6614824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614830">if</span>&nbsp;<span class="op" id="6614833">!</span><span class="ident" id="6614834">reflect</span><span class="op" id="6614841">.</span><span class="ident" id="6614842">DeepEqual</span><span class="op" id="6614851">(</span><span class="ident" id="6614852">got</span><span class="op" id="6614855">,</span>&nbsp;<span class="op" id="6614857">[</span><span class="op" id="6614858">]</span><span class="builtintype" id="6614859">byte</span><span class="op" id="6614863">(</span><span class="string" id="6614864">&#34;&#34;</span><span class="op" id="6614866">)</span><span class="op" id="6614867">)</span>&nbsp;<span class="op" id="6614869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614873">t</span><span class="op" id="6614874">.</span><span class="ident" id="6614875">Errorf</span><span class="op" id="6614881">(</span><span class="string" id="6614882">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="6614908">,</span>&nbsp;<span class="ident" id="6614910">got</span><span class="op" id="6614913">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614916">}</span><br>
<span class="lineno"></span><span class="op" id="6614918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6614921">var</span>&nbsp;<span class="ident" id="6614925">ipStringTests</span>&nbsp;<span class="op" id="6614939">=</span>&nbsp;<span class="op" id="6614941">[</span><span class="op" id="6614942">]</span><span class="keyword" id="6614943">struct</span>&nbsp;<span class="op" id="6614950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614953">in</span>&nbsp;&nbsp;<span class="ident" id="6614957">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614961">out</span>&nbsp;<span class="builtintype" id="6614965">string</span>&nbsp;<span class="comment" id="6614972">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="6614988">}</span><span class="op" id="6614989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614992">{</span><span class="ident" id="6614993">IP</span><span class="op" id="6614995">{</span><span class="num" id="6614996">0x20</span><span class="op" id="6615000">,</span>&nbsp;<span class="num" id="6615002">0x1</span><span class="op" id="6615005">,</span>&nbsp;<span class="num" id="6615007">0xd</span><span class="op" id="6615010">,</span>&nbsp;<span class="num" id="6615012">0xb8</span><span class="op" id="6615016">,</span>&nbsp;<span class="num" id="6615018">0</span><span class="op" id="6615019">,</span>&nbsp;<span class="num" id="6615021">0</span><span class="op" id="6615022">,</span>&nbsp;<span class="num" id="6615024">0</span><span class="op" id="6615025">,</span>&nbsp;<span class="num" id="6615027">0</span><span class="op" id="6615028">,</span>&nbsp;<span class="num" id="6615030">0</span><span class="op" id="6615031">,</span>&nbsp;<span class="num" id="6615033">0</span><span class="op" id="6615034">,</span>&nbsp;<span class="num" id="6615036">0x1</span><span class="op" id="6615039">,</span>&nbsp;<span class="num" id="6615041">0x23</span><span class="op" id="6615045">,</span>&nbsp;<span class="num" id="6615047">0</span><span class="op" id="6615048">,</span>&nbsp;<span class="num" id="6615050">0x12</span><span class="op" id="6615054">,</span>&nbsp;<span class="num" id="6615056">0</span><span class="op" id="6615057">,</span>&nbsp;<span class="num" id="6615059">0x1</span><span class="op" id="6615062">}</span><span class="op" id="6615063">,</span>&nbsp;<span class="string" id="6615065">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="6615085">}</span><span class="op" id="6615086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615089">{</span><span class="ident" id="6615090">IP</span><span class="op" id="6615092">{</span><span class="num" id="6615093">0x20</span><span class="op" id="6615097">,</span>&nbsp;<span class="num" id="6615099">0x1</span><span class="op" id="6615102">,</span>&nbsp;<span class="num" id="6615104">0xd</span><span class="op" id="6615107">,</span>&nbsp;<span class="num" id="6615109">0xb8</span><span class="op" id="6615113">,</span>&nbsp;<span class="num" id="6615115">0</span><span class="op" id="6615116">,</span>&nbsp;<span class="num" id="6615118">0</span><span class="op" id="6615119">,</span>&nbsp;<span class="num" id="6615121">0</span><span class="op" id="6615122">,</span>&nbsp;<span class="num" id="6615124">0</span><span class="op" id="6615125">,</span>&nbsp;<span class="num" id="6615127">0</span><span class="op" id="6615128">,</span>&nbsp;<span class="num" id="6615130">0</span><span class="op" id="6615131">,</span>&nbsp;<span class="num" id="6615133">0</span><span class="op" id="6615134">,</span>&nbsp;<span class="num" id="6615136">0</span><span class="op" id="6615137">,</span>&nbsp;<span class="num" id="6615139">0</span><span class="op" id="6615140">,</span>&nbsp;<span class="num" id="6615142">0</span><span class="op" id="6615143">,</span>&nbsp;<span class="num" id="6615145">0</span><span class="op" id="6615146">,</span>&nbsp;<span class="num" id="6615148">0x1</span><span class="op" id="6615151">}</span><span class="op" id="6615152">,</span>&nbsp;<span class="string" id="6615154">&#34;2001:db8::1&#34;</span><span class="op" id="6615167">}</span><span class="op" id="6615168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615171">{</span><span class="ident" id="6615172">IP</span><span class="op" id="6615174">{</span><span class="num" id="6615175">0x20</span><span class="op" id="6615179">,</span>&nbsp;<span class="num" id="6615181">0x1</span><span class="op" id="6615184">,</span>&nbsp;<span class="num" id="6615186">0xd</span><span class="op" id="6615189">,</span>&nbsp;<span class="num" id="6615191">0xb8</span><span class="op" id="6615195">,</span>&nbsp;<span class="num" id="6615197">0</span><span class="op" id="6615198">,</span>&nbsp;<span class="num" id="6615200">0</span><span class="op" id="6615201">,</span>&nbsp;<span class="num" id="6615203">0</span><span class="op" id="6615204">,</span>&nbsp;<span class="num" id="6615206">0x1</span><span class="op" id="6615209">,</span>&nbsp;<span class="num" id="6615211">0</span><span class="op" id="6615212">,</span>&nbsp;<span class="num" id="6615214">0</span><span class="op" id="6615215">,</span>&nbsp;<span class="num" id="6615217">0</span><span class="op" id="6615218">,</span>&nbsp;<span class="num" id="6615220">0x1</span><span class="op" id="6615223">,</span>&nbsp;<span class="num" id="6615225">0</span><span class="op" id="6615226">,</span>&nbsp;<span class="num" id="6615228">0</span><span class="op" id="6615229">,</span>&nbsp;<span class="num" id="6615231">0</span><span class="op" id="6615232">,</span>&nbsp;<span class="num" id="6615234">0x1</span><span class="op" id="6615237">}</span><span class="op" id="6615238">,</span>&nbsp;<span class="string" id="6615240">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="6615262">}</span><span class="op" id="6615263">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615266">{</span><span class="ident" id="6615267">IP</span><span class="op" id="6615269">{</span><span class="num" id="6615270">0x20</span><span class="op" id="6615274">,</span>&nbsp;<span class="num" id="6615276">0x1</span><span class="op" id="6615279">,</span>&nbsp;<span class="num" id="6615281">0xd</span><span class="op" id="6615284">,</span>&nbsp;<span class="num" id="6615286">0xb8</span><span class="op" id="6615290">,</span>&nbsp;<span class="num" id="6615292">0</span><span class="op" id="6615293">,</span>&nbsp;<span class="num" id="6615295">0x1</span><span class="op" id="6615298">,</span>&nbsp;<span class="num" id="6615300">0</span><span class="op" id="6615301">,</span>&nbsp;<span class="num" id="6615303">0</span><span class="op" id="6615304">,</span>&nbsp;<span class="num" id="6615306">0</span><span class="op" id="6615307">,</span>&nbsp;<span class="num" id="6615309">0x1</span><span class="op" id="6615312">,</span>&nbsp;<span class="num" id="6615314">0</span><span class="op" id="6615315">,</span>&nbsp;<span class="num" id="6615317">0</span><span class="op" id="6615318">,</span>&nbsp;<span class="num" id="6615320">0</span><span class="op" id="6615321">,</span>&nbsp;<span class="num" id="6615323">0x1</span><span class="op" id="6615326">,</span>&nbsp;<span class="num" id="6615328">0</span><span class="op" id="6615329">,</span>&nbsp;<span class="num" id="6615331">0</span><span class="op" id="6615332">}</span><span class="op" id="6615333">,</span>&nbsp;<span class="string" id="6615335">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="6615357">}</span><span class="op" id="6615358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615361">{</span><span class="ident" id="6615362">IP</span><span class="op" id="6615364">{</span><span class="num" id="6615365">0x20</span><span class="op" id="6615369">,</span>&nbsp;<span class="num" id="6615371">0x1</span><span class="op" id="6615374">,</span>&nbsp;<span class="num" id="6615376">0</span><span class="op" id="6615377">,</span>&nbsp;<span class="num" id="6615379">0</span><span class="op" id="6615380">,</span>&nbsp;<span class="num" id="6615382">0</span><span class="op" id="6615383">,</span>&nbsp;<span class="num" id="6615385">0</span><span class="op" id="6615386">,</span>&nbsp;<span class="num" id="6615388">0</span><span class="op" id="6615389">,</span>&nbsp;<span class="num" id="6615391">0</span><span class="op" id="6615392">,</span>&nbsp;<span class="num" id="6615394">0</span><span class="op" id="6615395">,</span>&nbsp;<span class="num" id="6615397">0x1</span><span class="op" id="6615400">,</span>&nbsp;<span class="num" id="6615402">0</span><span class="op" id="6615403">,</span>&nbsp;<span class="num" id="6615405">0</span><span class="op" id="6615406">,</span>&nbsp;<span class="num" id="6615408">0</span><span class="op" id="6615409">,</span>&nbsp;<span class="num" id="6615411">0</span><span class="op" id="6615412">,</span>&nbsp;<span class="num" id="6615414">0</span><span class="op" id="6615415">,</span>&nbsp;<span class="num" id="6615417">0x1</span><span class="op" id="6615420">}</span><span class="op" id="6615421">,</span>&nbsp;<span class="string" id="6615423">&#34;2001::1:0:0:1&#34;</span><span class="op" id="6615438">}</span><span class="op" id="6615439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615442">{</span><span class="ident" id="6615443">IP</span><span class="op" id="6615445">{</span><span class="num" id="6615446">0x20</span><span class="op" id="6615450">,</span>&nbsp;<span class="num" id="6615452">0x1</span><span class="op" id="6615455">,</span>&nbsp;<span class="num" id="6615457">0xd</span><span class="op" id="6615460">,</span>&nbsp;<span class="num" id="6615462">0xb8</span><span class="op" id="6615466">,</span>&nbsp;<span class="num" id="6615468">0</span><span class="op" id="6615469">,</span>&nbsp;<span class="num" id="6615471">0</span><span class="op" id="6615472">,</span>&nbsp;<span class="num" id="6615474">0</span><span class="op" id="6615475">,</span>&nbsp;<span class="num" id="6615477">0</span><span class="op" id="6615478">,</span>&nbsp;<span class="num" id="6615480">0</span><span class="op" id="6615481">,</span>&nbsp;<span class="num" id="6615483">0x1</span><span class="op" id="6615486">,</span>&nbsp;<span class="num" id="6615488">0</span><span class="op" id="6615489">,</span>&nbsp;<span class="num" id="6615491">0</span><span class="op" id="6615492">,</span>&nbsp;<span class="num" id="6615494">0</span><span class="op" id="6615495">,</span>&nbsp;<span class="num" id="6615497">0</span><span class="op" id="6615498">,</span>&nbsp;<span class="num" id="6615500">0</span><span class="op" id="6615501">,</span>&nbsp;<span class="num" id="6615503">0</span><span class="op" id="6615504">}</span><span class="op" id="6615505">,</span>&nbsp;<span class="string" id="6615507">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="6615525">}</span><span class="op" id="6615526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615529">{</span><span class="ident" id="6615530">IP</span><span class="op" id="6615532">{</span><span class="num" id="6615533">0x20</span><span class="op" id="6615537">,</span>&nbsp;<span class="num" id="6615539">0x1</span><span class="op" id="6615542">,</span>&nbsp;<span class="num" id="6615544">0xd</span><span class="op" id="6615547">,</span>&nbsp;<span class="num" id="6615549">0xb8</span><span class="op" id="6615553">,</span>&nbsp;<span class="num" id="6615555">0</span><span class="op" id="6615556">,</span>&nbsp;<span class="num" id="6615558">0</span><span class="op" id="6615559">,</span>&nbsp;<span class="num" id="6615561">0</span><span class="op" id="6615562">,</span>&nbsp;<span class="num" id="6615564">0</span><span class="op" id="6615565">,</span>&nbsp;<span class="num" id="6615567">0</span><span class="op" id="6615568">,</span>&nbsp;<span class="num" id="6615570">0x1</span><span class="op" id="6615573">,</span>&nbsp;<span class="num" id="6615575">0</span><span class="op" id="6615576">,</span>&nbsp;<span class="num" id="6615578">0</span><span class="op" id="6615579">,</span>&nbsp;<span class="num" id="6615581">0</span><span class="op" id="6615582">,</span>&nbsp;<span class="num" id="6615584">0</span><span class="op" id="6615585">,</span>&nbsp;<span class="num" id="6615587">0</span><span class="op" id="6615588">,</span>&nbsp;<span class="num" id="6615590">0x1</span><span class="op" id="6615593">}</span><span class="op" id="6615594">,</span>&nbsp;<span class="string" id="6615596">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="6615615">}</span><span class="op" id="6615616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615619">{</span><span class="ident" id="6615620">IP</span><span class="op" id="6615622">{</span><span class="num" id="6615623">0x20</span><span class="op" id="6615627">,</span>&nbsp;<span class="num" id="6615629">0x1</span><span class="op" id="6615632">,</span>&nbsp;<span class="num" id="6615634">0xD</span><span class="op" id="6615637">,</span>&nbsp;<span class="num" id="6615639">0xB8</span><span class="op" id="6615643">,</span>&nbsp;<span class="num" id="6615645">0</span><span class="op" id="6615646">,</span>&nbsp;<span class="num" id="6615648">0</span><span class="op" id="6615649">,</span>&nbsp;<span class="num" id="6615651">0</span><span class="op" id="6615652">,</span>&nbsp;<span class="num" id="6615654">0</span><span class="op" id="6615655">,</span>&nbsp;<span class="num" id="6615657">0</span><span class="op" id="6615658">,</span>&nbsp;<span class="num" id="6615660">0xA</span><span class="op" id="6615663">,</span>&nbsp;<span class="num" id="6615665">0</span><span class="op" id="6615666">,</span>&nbsp;<span class="num" id="6615668">0xB</span><span class="op" id="6615671">,</span>&nbsp;<span class="num" id="6615673">0</span><span class="op" id="6615674">,</span>&nbsp;<span class="num" id="6615676">0xC</span><span class="op" id="6615679">,</span>&nbsp;<span class="num" id="6615681">0</span><span class="op" id="6615682">,</span>&nbsp;<span class="num" id="6615684">0xD</span><span class="op" id="6615687">}</span><span class="op" id="6615688">,</span>&nbsp;<span class="string" id="6615690">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="6615709">}</span><span class="op" id="6615710">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615713">{</span><span class="ident" id="6615714">IPv4</span><span class="op" id="6615718">(</span><span class="num" id="6615719">192</span><span class="op" id="6615722">,</span>&nbsp;<span class="num" id="6615724">168</span><span class="op" id="6615727">,</span>&nbsp;<span class="num" id="6615729">0</span><span class="op" id="6615730">,</span>&nbsp;<span class="num" id="6615732">1</span><span class="op" id="6615733">)</span><span class="op" id="6615734">,</span>&nbsp;<span class="string" id="6615736">&#34;192.168.0.1&#34;</span><span class="op" id="6615749">}</span><span class="op" id="6615750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615753">{</span><span class="ident" id="6615754">nil</span><span class="op" id="6615757">,</span>&nbsp;<span class="string" id="6615759">&#34;&#34;</span><span class="op" id="6615761">}</span><span class="op" id="6615762">,</span><br>
<span class="lineno"></span><span class="op" id="6615764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6615767">func</span>&nbsp;<span class="ident" id="6615772">TestIPString</span><span class="op" id="6615784">(</span><span class="ident" id="6615785">t</span>&nbsp;<span class="op" id="6615787">*</span><span class="ident" id="6615788">testing</span><span class="op" id="6615795">.</span><span class="ident" id="6615796">T</span><span class="op" id="6615797">)</span>&nbsp;<span class="op" id="6615799">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615802">for</span>&nbsp;<span class="ident" id="6615806">_</span><span class="op" id="6615807">,</span>&nbsp;<span class="ident" id="6615809">tt</span>&nbsp;<span class="op" id="6615812">:=</span>&nbsp;<span class="keyword" id="6615815">range</span>&nbsp;<span class="ident" id="6615821">ipStringTests</span>&nbsp;<span class="op" id="6615835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615839">if</span>&nbsp;<span class="ident" id="6615842">tt</span><span class="op" id="6615844">.</span><span class="ident" id="6615845">in</span>&nbsp;<span class="op" id="6615848">!=</span>&nbsp;<span class="ident" id="6615851">nil</span>&nbsp;<span class="op" id="6615855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615860">if</span>&nbsp;<span class="ident" id="6615863">out</span>&nbsp;<span class="op" id="6615867">:=</span>&nbsp;<span class="ident" id="6615870">tt</span><span class="op" id="6615872">.</span><span class="ident" id="6615873">in</span><span class="op" id="6615875">.</span><span class="ident" id="6615876">String</span><span class="op" id="6615882">(</span><span class="op" id="6615883">)</span><span class="op" id="6615884">;</span>&nbsp;<span class="ident" id="6615886">out</span>&nbsp;<span class="op" id="6615890">!=</span>&nbsp;<span class="ident" id="6615893">tt</span><span class="op" id="6615895">.</span><span class="ident" id="6615896">out</span>&nbsp;<span class="op" id="6615900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615906">t</span><span class="op" id="6615907">.</span><span class="ident" id="6615908">Errorf</span><span class="op" id="6615914">(</span><span class="string" id="6615915">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6615944">,</span>&nbsp;<span class="ident" id="6615946">tt</span><span class="op" id="6615948">.</span><span class="ident" id="6615949">in</span><span class="op" id="6615951">,</span>&nbsp;<span class="ident" id="6615953">out</span><span class="op" id="6615956">,</span>&nbsp;<span class="ident" id="6615958">tt</span><span class="op" id="6615960">.</span><span class="ident" id="6615961">out</span><span class="op" id="6615964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615969">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615977">if</span>&nbsp;<span class="ident" id="6615980">out</span><span class="op" id="6615983">,</span>&nbsp;<span class="ident" id="6615985">err</span>&nbsp;<span class="op" id="6615989">:=</span>&nbsp;<span class="ident" id="6615992">tt</span><span class="op" id="6615994">.</span><span class="ident" id="6615995">in</span><span class="op" id="6615997">.</span><span class="ident" id="6615998">MarshalText</span><span class="op" id="6616009">(</span><span class="op" id="6616010">)</span><span class="op" id="6616011">;</span>&nbsp;<span class="builtintype" id="6616013">string</span><span class="op" id="6616019">(</span><span class="ident" id="6616020">out</span><span class="op" id="6616023">)</span>&nbsp;<span class="op" id="6616025">!=</span>&nbsp;<span class="ident" id="6616028">tt</span><span class="op" id="6616030">.</span><span class="ident" id="6616031">out</span>&nbsp;<span class="op" id="6616035">||</span>&nbsp;<span class="ident" id="6616038">err</span>&nbsp;<span class="op" id="6616042">!=</span>&nbsp;<span class="ident" id="6616045">nil</span>&nbsp;<span class="op" id="6616049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616054">t</span><span class="op" id="6616055">.</span><span class="ident" id="6616056">Errorf</span><span class="op" id="6616062">(</span><span class="string" id="6616063">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="6616106">,</span>&nbsp;<span class="ident" id="6616108">tt</span><span class="op" id="6616110">.</span><span class="ident" id="6616111">in</span><span class="op" id="6616113">,</span>&nbsp;<span class="ident" id="6616115">out</span><span class="op" id="6616118">,</span>&nbsp;<span class="ident" id="6616120">err</span><span class="op" id="6616123">,</span>&nbsp;<span class="ident" id="6616125">tt</span><span class="op" id="6616127">.</span><span class="ident" id="6616128">out</span><span class="op" id="6616131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616138">}</span><br>
<span class="lineno">100</span><span class="op" id="6616140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6616143">func</span>&nbsp;<span class="ident" id="6616148">BenchmarkIPString</span><span class="op" id="6616165">(</span><span class="ident" id="6616166">b</span>&nbsp;<span class="op" id="6616168">*</span><span class="ident" id="6616169">testing</span><span class="op" id="6616176">.</span><span class="ident" id="6616177">B</span><span class="op" id="6616178">)</span>&nbsp;<span class="op" id="6616180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616183">for</span>&nbsp;<span class="ident" id="6616187">i</span>&nbsp;<span class="op" id="6616189">:=</span>&nbsp;<span class="num" id="6616192">0</span><span class="op" id="6616193">;</span>&nbsp;<span class="ident" id="6616195">i</span>&nbsp;<span class="op" id="6616197">&lt;</span>&nbsp;<span class="ident" id="6616199">b</span><span class="op" id="6616200">.</span><span class="ident" id="6616201">N</span><span class="op" id="6616202">;</span>&nbsp;<span class="ident" id="6616204">i</span><span class="op" id="6616205">++</span>&nbsp;<span class="op" id="6616208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616212">for</span>&nbsp;<span class="ident" id="6616216">_</span><span class="op" id="6616217">,</span>&nbsp;<span class="ident" id="6616219">tt</span>&nbsp;<span class="op" id="6616222">:=</span>&nbsp;<span class="keyword" id="6616225">range</span>&nbsp;<span class="ident" id="6616231">ipStringTests</span>&nbsp;<span class="op" id="6616245">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616250">if</span>&nbsp;<span class="ident" id="6616253">tt</span><span class="op" id="6616255">.</span><span class="ident" id="6616256">in</span>&nbsp;<span class="op" id="6616259">!=</span>&nbsp;<span class="ident" id="6616262">nil</span>&nbsp;<span class="op" id="6616266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616272">tt</span><span class="op" id="6616274">.</span><span class="ident" id="6616275">in</span><span class="op" id="6616277">.</span><span class="ident" id="6616278">String</span><span class="op" id="6616284">(</span><span class="op" id="6616285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616297">}</span><br>
<span class="lineno">110</span><span class="op" id="6616299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6616302">var</span>&nbsp;<span class="ident" id="6616306">ipMaskTests</span>&nbsp;<span class="op" id="6616318">=</span>&nbsp;<span class="op" id="6616320">[</span><span class="op" id="6616321">]</span><span class="keyword" id="6616322">struct</span>&nbsp;<span class="op" id="6616329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616332">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6616337">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616341">mask</span>&nbsp;<span class="ident" id="6616346">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616354">out</span>&nbsp;&nbsp;<span class="ident" id="6616359">IP</span><br>
<span class="lineno"></span><span class="op" id="6616362">}</span><span class="op" id="6616363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616366">{</span><span class="ident" id="6616367">IPv4</span><span class="op" id="6616371">(</span><span class="num" id="6616372">192</span><span class="op" id="6616375">,</span>&nbsp;<span class="num" id="6616377">168</span><span class="op" id="6616380">,</span>&nbsp;<span class="num" id="6616382">1</span><span class="op" id="6616383">,</span>&nbsp;<span class="num" id="6616385">127</span><span class="op" id="6616388">)</span><span class="op" id="6616389">,</span>&nbsp;<span class="ident" id="6616391">IPv4Mask</span><span class="op" id="6616399">(</span><span class="num" id="6616400">255</span><span class="op" id="6616403">,</span>&nbsp;<span class="num" id="6616405">255</span><span class="op" id="6616408">,</span>&nbsp;<span class="num" id="6616410">255</span><span class="op" id="6616413">,</span>&nbsp;<span class="num" id="6616415">128</span><span class="op" id="6616418">)</span><span class="op" id="6616419">,</span>&nbsp;<span class="ident" id="6616421">IPv4</span><span class="op" id="6616425">(</span><span class="num" id="6616426">192</span><span class="op" id="6616429">,</span>&nbsp;<span class="num" id="6616431">168</span><span class="op" id="6616434">,</span>&nbsp;<span class="num" id="6616436">1</span><span class="op" id="6616437">,</span>&nbsp;<span class="num" id="6616439">0</span><span class="op" id="6616440">)</span><span class="op" id="6616441">}</span><span class="op" id="6616442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616445">{</span><span class="ident" id="6616446">IPv4</span><span class="op" id="6616450">(</span><span class="num" id="6616451">192</span><span class="op" id="6616454">,</span>&nbsp;<span class="num" id="6616456">168</span><span class="op" id="6616459">,</span>&nbsp;<span class="num" id="6616461">1</span><span class="op" id="6616462">,</span>&nbsp;<span class="num" id="6616464">127</span><span class="op" id="6616467">)</span><span class="op" id="6616468">,</span>&nbsp;<span class="ident" id="6616470">IPMask</span><span class="op" id="6616476">(</span><span class="ident" id="6616477">ParseIP</span><span class="op" id="6616484">(</span><span class="string" id="6616485">&#34;255.255.255.192&#34;</span><span class="op" id="6616502">)</span><span class="op" id="6616503">)</span><span class="op" id="6616504">,</span>&nbsp;<span class="ident" id="6616506">IPv4</span><span class="op" id="6616510">(</span><span class="num" id="6616511">192</span><span class="op" id="6616514">,</span>&nbsp;<span class="num" id="6616516">168</span><span class="op" id="6616519">,</span>&nbsp;<span class="num" id="6616521">1</span><span class="op" id="6616522">,</span>&nbsp;<span class="num" id="6616524">64</span><span class="op" id="6616526">)</span><span class="op" id="6616527">}</span><span class="op" id="6616528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616531">{</span><span class="ident" id="6616532">IPv4</span><span class="op" id="6616536">(</span><span class="num" id="6616537">192</span><span class="op" id="6616540">,</span>&nbsp;<span class="num" id="6616542">168</span><span class="op" id="6616545">,</span>&nbsp;<span class="num" id="6616547">1</span><span class="op" id="6616548">,</span>&nbsp;<span class="num" id="6616550">127</span><span class="op" id="6616553">)</span><span class="op" id="6616554">,</span>&nbsp;<span class="ident" id="6616556">IPMask</span><span class="op" id="6616562">(</span><span class="ident" id="6616563">ParseIP</span><span class="op" id="6616570">(</span><span class="string" id="6616571">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="6616612">)</span><span class="op" id="6616613">)</span><span class="op" id="6616614">,</span>&nbsp;<span class="ident" id="6616616">IPv4</span><span class="op" id="6616620">(</span><span class="num" id="6616621">192</span><span class="op" id="6616624">,</span>&nbsp;<span class="num" id="6616626">168</span><span class="op" id="6616629">,</span>&nbsp;<span class="num" id="6616631">1</span><span class="op" id="6616632">,</span>&nbsp;<span class="num" id="6616634">96</span><span class="op" id="6616636">)</span><span class="op" id="6616637">}</span><span class="op" id="6616638">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616641">{</span><span class="ident" id="6616642">IPv4</span><span class="op" id="6616646">(</span><span class="num" id="6616647">192</span><span class="op" id="6616650">,</span>&nbsp;<span class="num" id="6616652">168</span><span class="op" id="6616655">,</span>&nbsp;<span class="num" id="6616657">1</span><span class="op" id="6616658">,</span>&nbsp;<span class="num" id="6616660">127</span><span class="op" id="6616663">)</span><span class="op" id="6616664">,</span>&nbsp;<span class="ident" id="6616666">IPv4Mask</span><span class="op" id="6616674">(</span><span class="num" id="6616675">255</span><span class="op" id="6616678">,</span>&nbsp;<span class="num" id="6616680">0</span><span class="op" id="6616681">,</span>&nbsp;<span class="num" id="6616683">255</span><span class="op" id="6616686">,</span>&nbsp;<span class="num" id="6616688">0</span><span class="op" id="6616689">)</span><span class="op" id="6616690">,</span>&nbsp;<span class="ident" id="6616692">IPv4</span><span class="op" id="6616696">(</span><span class="num" id="6616697">192</span><span class="op" id="6616700">,</span>&nbsp;<span class="num" id="6616702">0</span><span class="op" id="6616703">,</span>&nbsp;<span class="num" id="6616705">1</span><span class="op" id="6616706">,</span>&nbsp;<span class="num" id="6616708">0</span><span class="op" id="6616709">)</span><span class="op" id="6616710">}</span><span class="op" id="6616711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616714">{</span><span class="ident" id="6616715">ParseIP</span><span class="op" id="6616722">(</span><span class="string" id="6616723">&#34;2001:db8::1&#34;</span><span class="op" id="6616736">)</span><span class="op" id="6616737">,</span>&nbsp;<span class="ident" id="6616739">IPMask</span><span class="op" id="6616745">(</span><span class="ident" id="6616746">ParseIP</span><span class="op" id="6616753">(</span><span class="string" id="6616754">&#34;ffff:ff80::&#34;</span><span class="op" id="6616767">)</span><span class="op" id="6616768">)</span><span class="op" id="6616769">,</span>&nbsp;<span class="ident" id="6616771">ParseIP</span><span class="op" id="6616778">(</span><span class="string" id="6616779">&#34;2001:d80::&#34;</span><span class="op" id="6616791">)</span><span class="op" id="6616792">}</span><span class="op" id="6616793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616796">{</span><span class="ident" id="6616797">ParseIP</span><span class="op" id="6616804">(</span><span class="string" id="6616805">&#34;2001:db8::1&#34;</span><span class="op" id="6616818">)</span><span class="op" id="6616819">,</span>&nbsp;<span class="ident" id="6616821">IPMask</span><span class="op" id="6616827">(</span><span class="ident" id="6616828">ParseIP</span><span class="op" id="6616835">(</span><span class="string" id="6616836">&#34;f0f0:0f0f::&#34;</span><span class="op" id="6616849">)</span><span class="op" id="6616850">)</span><span class="op" id="6616851">,</span>&nbsp;<span class="ident" id="6616853">ParseIP</span><span class="op" id="6616860">(</span><span class="string" id="6616861">&#34;2000:d08::&#34;</span><span class="op" id="6616873">)</span><span class="op" id="6616874">}</span><span class="op" id="6616875">,</span><br>
<span class="lineno"></span><span class="op" id="6616877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6616880">func</span>&nbsp;<span class="ident" id="6616885">TestIPMask</span><span class="op" id="6616895">(</span><span class="ident" id="6616896">t</span>&nbsp;<span class="op" id="6616898">*</span><span class="ident" id="6616899">testing</span><span class="op" id="6616906">.</span><span class="ident" id="6616907">T</span><span class="op" id="6616908">)</span>&nbsp;<span class="op" id="6616910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616913">for</span>&nbsp;<span class="ident" id="6616917">_</span><span class="op" id="6616918">,</span>&nbsp;<span class="ident" id="6616920">tt</span>&nbsp;<span class="op" id="6616923">:=</span>&nbsp;<span class="keyword" id="6616926">range</span>&nbsp;<span class="ident" id="6616932">ipMaskTests</span>&nbsp;<span class="op" id="6616944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616948">if</span>&nbsp;<span class="ident" id="6616951">out</span>&nbsp;<span class="op" id="6616955">:=</span>&nbsp;<span class="ident" id="6616958">tt</span><span class="op" id="6616960">.</span><span class="ident" id="6616961">in</span><span class="op" id="6616963">.</span><span class="ident" id="6616964">Mask</span><span class="op" id="6616968">(</span><span class="ident" id="6616969">tt</span><span class="op" id="6616971">.</span><span class="ident" id="6616972">mask</span><span class="op" id="6616976">)</span><span class="op" id="6616977">;</span>&nbsp;<span class="ident" id="6616979">out</span>&nbsp;<span class="op" id="6616983">==</span>&nbsp;<span class="ident" id="6616986">nil</span>&nbsp;<span class="op" id="6616990">||</span>&nbsp;<span class="op" id="6616993">!</span><span class="ident" id="6616994">tt</span><span class="op" id="6616996">.</span><span class="ident" id="6616997">out</span><span class="op" id="6617000">.</span><span class="ident" id="6617001">Equal</span><span class="op" id="6617006">(</span><span class="ident" id="6617007">out</span><span class="op" id="6617010">)</span>&nbsp;<span class="op" id="6617012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617017">t</span><span class="op" id="6617018">.</span><span class="ident" id="6617019">Errorf</span><span class="op" id="6617025">(</span><span class="string" id="6617026">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6617057">,</span>&nbsp;<span class="ident" id="6617059">tt</span><span class="op" id="6617061">.</span><span class="ident" id="6617062">in</span><span class="op" id="6617064">,</span>&nbsp;<span class="ident" id="6617066">tt</span><span class="op" id="6617068">.</span><span class="ident" id="6617069">mask</span><span class="op" id="6617073">,</span>&nbsp;<span class="ident" id="6617075">out</span><span class="op" id="6617078">,</span>&nbsp;<span class="ident" id="6617080">tt</span><span class="op" id="6617082">.</span><span class="ident" id="6617083">out</span><span class="op" id="6617086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617090">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617093">}</span><br>
<span class="lineno"></span><span class="op" id="6617095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6617098">var</span>&nbsp;<span class="ident" id="6617102">ipMaskStringTests</span>&nbsp;<span class="op" id="6617120">=</span>&nbsp;<span class="op" id="6617122">[</span><span class="op" id="6617123">]</span><span class="keyword" id="6617124">struct</span>&nbsp;<span class="op" id="6617131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617134">in</span>&nbsp;&nbsp;<span class="ident" id="6617138">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617146">out</span>&nbsp;<span class="builtintype" id="6617150">string</span><br>
<span class="lineno"></span><span class="op" id="6617157">}</span><span class="op" id="6617158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617161">{</span><span class="ident" id="6617162">IPv4Mask</span><span class="op" id="6617170">(</span><span class="num" id="6617171">255</span><span class="op" id="6617174">,</span>&nbsp;<span class="num" id="6617176">255</span><span class="op" id="6617179">,</span>&nbsp;<span class="num" id="6617181">255</span><span class="op" id="6617184">,</span>&nbsp;<span class="num" id="6617186">240</span><span class="op" id="6617189">)</span><span class="op" id="6617190">,</span>&nbsp;<span class="string" id="6617192">&#34;fffffff0&#34;</span><span class="op" id="6617202">}</span><span class="op" id="6617203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617206">{</span><span class="ident" id="6617207">IPv4Mask</span><span class="op" id="6617215">(</span><span class="num" id="6617216">255</span><span class="op" id="6617219">,</span>&nbsp;<span class="num" id="6617221">0</span><span class="op" id="6617222">,</span>&nbsp;<span class="num" id="6617224">128</span><span class="op" id="6617227">,</span>&nbsp;<span class="num" id="6617229">0</span><span class="op" id="6617230">)</span><span class="op" id="6617231">,</span>&nbsp;<span class="string" id="6617233">&#34;ff008000&#34;</span><span class="op" id="6617243">}</span><span class="op" id="6617244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617247">{</span><span class="ident" id="6617248">IPMask</span><span class="op" id="6617254">(</span><span class="ident" id="6617255">ParseIP</span><span class="op" id="6617262">(</span><span class="string" id="6617263">&#34;ffff:ff80::&#34;</span><span class="op" id="6617276">)</span><span class="op" id="6617277">)</span><span class="op" id="6617278">,</span>&nbsp;<span class="string" id="6617280">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="6617314">}</span><span class="op" id="6617315">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617318">{</span><span class="ident" id="6617319">IPMask</span><span class="op" id="6617325">(</span><span class="ident" id="6617326">ParseIP</span><span class="op" id="6617333">(</span><span class="string" id="6617334">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="6617353">)</span><span class="op" id="6617354">)</span><span class="op" id="6617355">,</span>&nbsp;<span class="string" id="6617357">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="6617391">}</span><span class="op" id="6617392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617395">{</span><span class="ident" id="6617396">nil</span><span class="op" id="6617399">,</span>&nbsp;<span class="string" id="6617401">&#34;&lt;nil&gt;&#34;</span><span class="op" id="6617408">}</span><span class="op" id="6617409">,</span><br>
<span class="lineno"></span><span class="op" id="6617411">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6617414">func</span>&nbsp;<span class="ident" id="6617419">TestIPMaskString</span><span class="op" id="6617435">(</span><span class="ident" id="6617436">t</span>&nbsp;<span class="op" id="6617438">*</span><span class="ident" id="6617439">testing</span><span class="op" id="6617446">.</span><span class="ident" id="6617447">T</span><span class="op" id="6617448">)</span>&nbsp;<span class="op" id="6617450">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6617453">for</span>&nbsp;<span class="ident" id="6617457">_</span><span class="op" id="6617458">,</span>&nbsp;<span class="ident" id="6617460">tt</span>&nbsp;<span class="op" id="6617463">:=</span>&nbsp;<span class="keyword" id="6617466">range</span>&nbsp;<span class="ident" id="6617472">ipMaskStringTests</span>&nbsp;<span class="op" id="6617490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6617494">if</span>&nbsp;<span class="ident" id="6617497">out</span>&nbsp;<span class="op" id="6617501">:=</span>&nbsp;<span class="ident" id="6617504">tt</span><span class="op" id="6617506">.</span><span class="ident" id="6617507">in</span><span class="op" id="6617509">.</span><span class="ident" id="6617510">String</span><span class="op" id="6617516">(</span><span class="op" id="6617517">)</span><span class="op" id="6617518">;</span>&nbsp;<span class="ident" id="6617520">out</span>&nbsp;<span class="op" id="6617524">!=</span>&nbsp;<span class="ident" id="6617527">tt</span><span class="op" id="6617529">.</span><span class="ident" id="6617530">out</span>&nbsp;<span class="op" id="6617534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617539">t</span><span class="op" id="6617540">.</span><span class="ident" id="6617541">Errorf</span><span class="op" id="6617547">(</span><span class="string" id="6617548">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6617581">,</span>&nbsp;<span class="ident" id="6617583">tt</span><span class="op" id="6617585">.</span><span class="ident" id="6617586">in</span><span class="op" id="6617588">,</span>&nbsp;<span class="ident" id="6617590">out</span><span class="op" id="6617593">,</span>&nbsp;<span class="ident" id="6617595">tt</span><span class="op" id="6617597">.</span><span class="ident" id="6617598">out</span><span class="op" id="6617601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617608">}</span><br>
<span class="lineno">150</span><span class="op" id="6617610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6617613">func</span>&nbsp;<span class="ident" id="6617618">BenchmarkIPMaskString</span><span class="op" id="6617639">(</span><span class="ident" id="6617640">b</span>&nbsp;<span class="op" id="6617642">*</span><span class="ident" id="6617643">testing</span><span class="op" id="6617650">.</span><span class="ident" id="6617651">B</span><span class="op" id="6617652">)</span>&nbsp;<span class="op" id="6617654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6617657">for</span>&nbsp;<span class="ident" id="6617661">i</span>&nbsp;<span class="op" id="6617663">:=</span>&nbsp;<span class="num" id="6617666">0</span><span class="op" id="6617667">;</span>&nbsp;<span class="ident" id="6617669">i</span>&nbsp;<span class="op" id="6617671">&lt;</span>&nbsp;<span class="ident" id="6617673">b</span><span class="op" id="6617674">.</span><span class="ident" id="6617675">N</span><span class="op" id="6617676">;</span>&nbsp;<span class="ident" id="6617678">i</span><span class="op" id="6617679">++</span>&nbsp;<span class="op" id="6617682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6617686">for</span>&nbsp;<span class="ident" id="6617690">_</span><span class="op" id="6617691">,</span>&nbsp;<span class="ident" id="6617693">tt</span>&nbsp;<span class="op" id="6617696">:=</span>&nbsp;<span class="keyword" id="6617699">range</span>&nbsp;<span class="ident" id="6617705">ipMaskStringTests</span>&nbsp;<span class="op" id="6617723">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617728">tt</span><span class="op" id="6617730">.</span><span class="ident" id="6617731">in</span><span class="op" id="6617733">.</span><span class="ident" id="6617734">String</span><span class="op" id="6617740">(</span><span class="op" id="6617741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617748">}</span><br>
<span class="lineno"></span><span class="op" id="6617750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6617753">var</span>&nbsp;<span class="ident" id="6617757">parseCIDRTests</span>&nbsp;<span class="op" id="6617772">=</span>&nbsp;<span class="op" id="6617774">[</span><span class="op" id="6617775">]</span><span class="keyword" id="6617776">struct</span>&nbsp;<span class="op" id="6617783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617786">in</span>&nbsp;&nbsp;<span class="builtintype" id="6617790">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617798">ip</span>&nbsp;&nbsp;<span class="ident" id="6617802">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617806">net</span>&nbsp;<span class="op" id="6617810">*</span><span class="ident" id="6617811">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617818">err</span>&nbsp;<span class="builtintype" id="6617822">error</span><br>
<span class="lineno">165</span><span class="op" id="6617828">}</span><span class="op" id="6617829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617832">{</span><span class="string" id="6617833">&#34;135.104.0.0/32&#34;</span><span class="op" id="6617849">,</span>&nbsp;<span class="ident" id="6617851">IPv4</span><span class="op" id="6617855">(</span><span class="num" id="6617856">135</span><span class="op" id="6617859">,</span>&nbsp;<span class="num" id="6617861">104</span><span class="op" id="6617864">,</span>&nbsp;<span class="num" id="6617866">0</span><span class="op" id="6617867">,</span>&nbsp;<span class="num" id="6617869">0</span><span class="op" id="6617870">)</span><span class="op" id="6617871">,</span>&nbsp;<span class="op" id="6617873">&amp;</span><span class="ident" id="6617874">IPNet</span><span class="op" id="6617879">{</span><span class="ident" id="6617880">IP</span><span class="op" id="6617882">:</span>&nbsp;<span class="ident" id="6617884">IPv4</span><span class="op" id="6617888">(</span><span class="num" id="6617889">135</span><span class="op" id="6617892">,</span>&nbsp;<span class="num" id="6617894">104</span><span class="op" id="6617897">,</span>&nbsp;<span class="num" id="6617899">0</span><span class="op" id="6617900">,</span>&nbsp;<span class="num" id="6617902">0</span><span class="op" id="6617903">)</span><span class="op" id="6617904">,</span>&nbsp;<span class="ident" id="6617906">Mask</span><span class="op" id="6617910">:</span>&nbsp;<span class="ident" id="6617912">IPv4Mask</span><span class="op" id="6617920">(</span><span class="num" id="6617921">255</span><span class="op" id="6617924">,</span>&nbsp;<span class="num" id="6617926">255</span><span class="op" id="6617929">,</span>&nbsp;<span class="num" id="6617931">255</span><span class="op" id="6617934">,</span>&nbsp;<span class="num" id="6617936">255</span><span class="op" id="6617939">)</span><span class="op" id="6617940">}</span><span class="op" id="6617941">,</span>&nbsp;<span class="ident" id="6617943">nil</span><span class="op" id="6617946">}</span><span class="op" id="6617947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617950">{</span><span class="string" id="6617951">&#34;0.0.0.0/24&#34;</span><span class="op" id="6617963">,</span>&nbsp;<span class="ident" id="6617965">IPv4</span><span class="op" id="6617969">(</span><span class="num" id="6617970">0</span><span class="op" id="6617971">,</span>&nbsp;<span class="num" id="6617973">0</span><span class="op" id="6617974">,</span>&nbsp;<span class="num" id="6617976">0</span><span class="op" id="6617977">,</span>&nbsp;<span class="num" id="6617979">0</span><span class="op" id="6617980">)</span><span class="op" id="6617981">,</span>&nbsp;<span class="op" id="6617983">&amp;</span><span class="ident" id="6617984">IPNet</span><span class="op" id="6617989">{</span><span class="ident" id="6617990">IP</span><span class="op" id="6617992">:</span>&nbsp;<span class="ident" id="6617994">IPv4</span><span class="op" id="6617998">(</span><span class="num" id="6617999">0</span><span class="op" id="6618000">,</span>&nbsp;<span class="num" id="6618002">0</span><span class="op" id="6618003">,</span>&nbsp;<span class="num" id="6618005">0</span><span class="op" id="6618006">,</span>&nbsp;<span class="num" id="6618008">0</span><span class="op" id="6618009">)</span><span class="op" id="6618010">,</span>&nbsp;<span class="ident" id="6618012">Mask</span><span class="op" id="6618016">:</span>&nbsp;<span class="ident" id="6618018">IPv4Mask</span><span class="op" id="6618026">(</span><span class="num" id="6618027">255</span><span class="op" id="6618030">,</span>&nbsp;<span class="num" id="6618032">255</span><span class="op" id="6618035">,</span>&nbsp;<span class="num" id="6618037">255</span><span class="op" id="6618040">,</span>&nbsp;<span class="num" id="6618042">0</span><span class="op" id="6618043">)</span><span class="op" id="6618044">}</span><span class="op" id="6618045">,</span>&nbsp;<span class="ident" id="6618047">nil</span><span class="op" id="6618050">}</span><span class="op" id="6618051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618054">{</span><span class="string" id="6618055">&#34;135.104.0.0/24&#34;</span><span class="op" id="6618071">,</span>&nbsp;<span class="ident" id="6618073">IPv4</span><span class="op" id="6618077">(</span><span class="num" id="6618078">135</span><span class="op" id="6618081">,</span>&nbsp;<span class="num" id="6618083">104</span><span class="op" id="6618086">,</span>&nbsp;<span class="num" id="6618088">0</span><span class="op" id="6618089">,</span>&nbsp;<span class="num" id="6618091">0</span><span class="op" id="6618092">)</span><span class="op" id="6618093">,</span>&nbsp;<span class="op" id="6618095">&amp;</span><span class="ident" id="6618096">IPNet</span><span class="op" id="6618101">{</span><span class="ident" id="6618102">IP</span><span class="op" id="6618104">:</span>&nbsp;<span class="ident" id="6618106">IPv4</span><span class="op" id="6618110">(</span><span class="num" id="6618111">135</span><span class="op" id="6618114">,</span>&nbsp;<span class="num" id="6618116">104</span><span class="op" id="6618119">,</span>&nbsp;<span class="num" id="6618121">0</span><span class="op" id="6618122">,</span>&nbsp;<span class="num" id="6618124">0</span><span class="op" id="6618125">)</span><span class="op" id="6618126">,</span>&nbsp;<span class="ident" id="6618128">Mask</span><span class="op" id="6618132">:</span>&nbsp;<span class="ident" id="6618134">IPv4Mask</span><span class="op" id="6618142">(</span><span class="num" id="6618143">255</span><span class="op" id="6618146">,</span>&nbsp;<span class="num" id="6618148">255</span><span class="op" id="6618151">,</span>&nbsp;<span class="num" id="6618153">255</span><span class="op" id="6618156">,</span>&nbsp;<span class="num" id="6618158">0</span><span class="op" id="6618159">)</span><span class="op" id="6618160">}</span><span class="op" id="6618161">,</span>&nbsp;<span class="ident" id="6618163">nil</span><span class="op" id="6618166">}</span><span class="op" id="6618167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618170">{</span><span class="string" id="6618171">&#34;135.104.0.1/32&#34;</span><span class="op" id="6618187">,</span>&nbsp;<span class="ident" id="6618189">IPv4</span><span class="op" id="6618193">(</span><span class="num" id="6618194">135</span><span class="op" id="6618197">,</span>&nbsp;<span class="num" id="6618199">104</span><span class="op" id="6618202">,</span>&nbsp;<span class="num" id="6618204">0</span><span class="op" id="6618205">,</span>&nbsp;<span class="num" id="6618207">1</span><span class="op" id="6618208">)</span><span class="op" id="6618209">,</span>&nbsp;<span class="op" id="6618211">&amp;</span><span class="ident" id="6618212">IPNet</span><span class="op" id="6618217">{</span><span class="ident" id="6618218">IP</span><span class="op" id="6618220">:</span>&nbsp;<span class="ident" id="6618222">IPv4</span><span class="op" id="6618226">(</span><span class="num" id="6618227">135</span><span class="op" id="6618230">,</span>&nbsp;<span class="num" id="6618232">104</span><span class="op" id="6618235">,</span>&nbsp;<span class="num" id="6618237">0</span><span class="op" id="6618238">,</span>&nbsp;<span class="num" id="6618240">1</span><span class="op" id="6618241">)</span><span class="op" id="6618242">,</span>&nbsp;<span class="ident" id="6618244">Mask</span><span class="op" id="6618248">:</span>&nbsp;<span class="ident" id="6618250">IPv4Mask</span><span class="op" id="6618258">(</span><span class="num" id="6618259">255</span><span class="op" id="6618262">,</span>&nbsp;<span class="num" id="6618264">255</span><span class="op" id="6618267">,</span>&nbsp;<span class="num" id="6618269">255</span><span class="op" id="6618272">,</span>&nbsp;<span class="num" id="6618274">255</span><span class="op" id="6618277">)</span><span class="op" id="6618278">}</span><span class="op" id="6618279">,</span>&nbsp;<span class="ident" id="6618281">nil</span><span class="op" id="6618284">}</span><span class="op" id="6618285">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618288">{</span><span class="string" id="6618289">&#34;135.104.0.1/24&#34;</span><span class="op" id="6618305">,</span>&nbsp;<span class="ident" id="6618307">IPv4</span><span class="op" id="6618311">(</span><span class="num" id="6618312">135</span><span class="op" id="6618315">,</span>&nbsp;<span class="num" id="6618317">104</span><span class="op" id="6618320">,</span>&nbsp;<span class="num" id="6618322">0</span><span class="op" id="6618323">,</span>&nbsp;<span class="num" id="6618325">1</span><span class="op" id="6618326">)</span><span class="op" id="6618327">,</span>&nbsp;<span class="op" id="6618329">&amp;</span><span class="ident" id="6618330">IPNet</span><span class="op" id="6618335">{</span><span class="ident" id="6618336">IP</span><span class="op" id="6618338">:</span>&nbsp;<span class="ident" id="6618340">IPv4</span><span class="op" id="6618344">(</span><span class="num" id="6618345">135</span><span class="op" id="6618348">,</span>&nbsp;<span class="num" id="6618350">104</span><span class="op" id="6618353">,</span>&nbsp;<span class="num" id="6618355">0</span><span class="op" id="6618356">,</span>&nbsp;<span class="num" id="6618358">0</span><span class="op" id="6618359">)</span><span class="op" id="6618360">,</span>&nbsp;<span class="ident" id="6618362">Mask</span><span class="op" id="6618366">:</span>&nbsp;<span class="ident" id="6618368">IPv4Mask</span><span class="op" id="6618376">(</span><span class="num" id="6618377">255</span><span class="op" id="6618380">,</span>&nbsp;<span class="num" id="6618382">255</span><span class="op" id="6618385">,</span>&nbsp;<span class="num" id="6618387">255</span><span class="op" id="6618390">,</span>&nbsp;<span class="num" id="6618392">0</span><span class="op" id="6618393">)</span><span class="op" id="6618394">}</span><span class="op" id="6618395">,</span>&nbsp;<span class="ident" id="6618397">nil</span><span class="op" id="6618400">}</span><span class="op" id="6618401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618404">{</span><span class="string" id="6618405">&#34;::1/128&#34;</span><span class="op" id="6618414">,</span>&nbsp;<span class="ident" id="6618416">ParseIP</span><span class="op" id="6618423">(</span><span class="string" id="6618424">&#34;::1&#34;</span><span class="op" id="6618429">)</span><span class="op" id="6618430">,</span>&nbsp;<span class="op" id="6618432">&amp;</span><span class="ident" id="6618433">IPNet</span><span class="op" id="6618438">{</span><span class="ident" id="6618439">IP</span><span class="op" id="6618441">:</span>&nbsp;<span class="ident" id="6618443">ParseIP</span><span class="op" id="6618450">(</span><span class="string" id="6618451">&#34;::1&#34;</span><span class="op" id="6618456">)</span><span class="op" id="6618457">,</span>&nbsp;<span class="ident" id="6618459">Mask</span><span class="op" id="6618463">:</span>&nbsp;<span class="ident" id="6618465">IPMask</span><span class="op" id="6618471">(</span><span class="ident" id="6618472">ParseIP</span><span class="op" id="6618479">(</span><span class="string" id="6618480">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="6618521">)</span><span class="op" id="6618522">)</span><span class="op" id="6618523">}</span><span class="op" id="6618524">,</span>&nbsp;<span class="ident" id="6618526">nil</span><span class="op" id="6618529">}</span><span class="op" id="6618530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618533">{</span><span class="string" id="6618534">&#34;abcd:2345::/127&#34;</span><span class="op" id="6618551">,</span>&nbsp;<span class="ident" id="6618553">ParseIP</span><span class="op" id="6618560">(</span><span class="string" id="6618561">&#34;abcd:2345::&#34;</span><span class="op" id="6618574">)</span><span class="op" id="6618575">,</span>&nbsp;<span class="op" id="6618577">&amp;</span><span class="ident" id="6618578">IPNet</span><span class="op" id="6618583">{</span><span class="ident" id="6618584">IP</span><span class="op" id="6618586">:</span>&nbsp;<span class="ident" id="6618588">ParseIP</span><span class="op" id="6618595">(</span><span class="string" id="6618596">&#34;abcd:2345::&#34;</span><span class="op" id="6618609">)</span><span class="op" id="6618610">,</span>&nbsp;<span class="ident" id="6618612">Mask</span><span class="op" id="6618616">:</span>&nbsp;<span class="ident" id="6618618">IPMask</span><span class="op" id="6618624">(</span><span class="ident" id="6618625">ParseIP</span><span class="op" id="6618632">(</span><span class="string" id="6618633">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="6618674">)</span><span class="op" id="6618675">)</span><span class="op" id="6618676">}</span><span class="op" id="6618677">,</span>&nbsp;<span class="ident" id="6618679">nil</span><span class="op" id="6618682">}</span><span class="op" id="6618683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618686">{</span><span class="string" id="6618687">&#34;abcd:2345::/65&#34;</span><span class="op" id="6618703">,</span>&nbsp;<span class="ident" id="6618705">ParseIP</span><span class="op" id="6618712">(</span><span class="string" id="6618713">&#34;abcd:2345::&#34;</span><span class="op" id="6618726">)</span><span class="op" id="6618727">,</span>&nbsp;<span class="op" id="6618729">&amp;</span><span class="ident" id="6618730">IPNet</span><span class="op" id="6618735">{</span><span class="ident" id="6618736">IP</span><span class="op" id="6618738">:</span>&nbsp;<span class="ident" id="6618740">ParseIP</span><span class="op" id="6618747">(</span><span class="string" id="6618748">&#34;abcd:2345::&#34;</span><span class="op" id="6618761">)</span><span class="op" id="6618762">,</span>&nbsp;<span class="ident" id="6618764">Mask</span><span class="op" id="6618768">:</span>&nbsp;<span class="ident" id="6618770">IPMask</span><span class="op" id="6618776">(</span><span class="ident" id="6618777">ParseIP</span><span class="op" id="6618784">(</span><span class="string" id="6618785">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="6618813">)</span><span class="op" id="6618814">)</span><span class="op" id="6618815">}</span><span class="op" id="6618816">,</span>&nbsp;<span class="ident" id="6618818">nil</span><span class="op" id="6618821">}</span><span class="op" id="6618822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618825">{</span><span class="string" id="6618826">&#34;abcd:2345::/64&#34;</span><span class="op" id="6618842">,</span>&nbsp;<span class="ident" id="6618844">ParseIP</span><span class="op" id="6618851">(</span><span class="string" id="6618852">&#34;abcd:2345::&#34;</span><span class="op" id="6618865">)</span><span class="op" id="6618866">,</span>&nbsp;<span class="op" id="6618868">&amp;</span><span class="ident" id="6618869">IPNet</span><span class="op" id="6618874">{</span><span class="ident" id="6618875">IP</span><span class="op" id="6618877">:</span>&nbsp;<span class="ident" id="6618879">ParseIP</span><span class="op" id="6618886">(</span><span class="string" id="6618887">&#34;abcd:2345::&#34;</span><span class="op" id="6618900">)</span><span class="op" id="6618901">,</span>&nbsp;<span class="ident" id="6618903">Mask</span><span class="op" id="6618907">:</span>&nbsp;<span class="ident" id="6618909">IPMask</span><span class="op" id="6618915">(</span><span class="ident" id="6618916">ParseIP</span><span class="op" id="6618923">(</span><span class="string" id="6618924">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="6618947">)</span><span class="op" id="6618948">)</span><span class="op" id="6618949">}</span><span class="op" id="6618950">,</span>&nbsp;<span class="ident" id="6618952">nil</span><span class="op" id="6618955">}</span><span class="op" id="6618956">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618959">{</span><span class="string" id="6618960">&#34;abcd:2345::/63&#34;</span><span class="op" id="6618976">,</span>&nbsp;<span class="ident" id="6618978">ParseIP</span><span class="op" id="6618985">(</span><span class="string" id="6618986">&#34;abcd:2345::&#34;</span><span class="op" id="6618999">)</span><span class="op" id="6619000">,</span>&nbsp;<span class="op" id="6619002">&amp;</span><span class="ident" id="6619003">IPNet</span><span class="op" id="6619008">{</span><span class="ident" id="6619009">IP</span><span class="op" id="6619011">:</span>&nbsp;<span class="ident" id="6619013">ParseIP</span><span class="op" id="6619020">(</span><span class="string" id="6619021">&#34;abcd:2345::&#34;</span><span class="op" id="6619034">)</span><span class="op" id="6619035">,</span>&nbsp;<span class="ident" id="6619037">Mask</span><span class="op" id="6619041">:</span>&nbsp;<span class="ident" id="6619043">IPMask</span><span class="op" id="6619049">(</span><span class="ident" id="6619050">ParseIP</span><span class="op" id="6619057">(</span><span class="string" id="6619058">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="6619081">)</span><span class="op" id="6619082">)</span><span class="op" id="6619083">}</span><span class="op" id="6619084">,</span>&nbsp;<span class="ident" id="6619086">nil</span><span class="op" id="6619089">}</span><span class="op" id="6619090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619093">{</span><span class="string" id="6619094">&#34;abcd:2345::/33&#34;</span><span class="op" id="6619110">,</span>&nbsp;<span class="ident" id="6619112">ParseIP</span><span class="op" id="6619119">(</span><span class="string" id="6619120">&#34;abcd:2345::&#34;</span><span class="op" id="6619133">)</span><span class="op" id="6619134">,</span>&nbsp;<span class="op" id="6619136">&amp;</span><span class="ident" id="6619137">IPNet</span><span class="op" id="6619142">{</span><span class="ident" id="6619143">IP</span><span class="op" id="6619145">:</span>&nbsp;<span class="ident" id="6619147">ParseIP</span><span class="op" id="6619154">(</span><span class="string" id="6619155">&#34;abcd:2345::&#34;</span><span class="op" id="6619168">)</span><span class="op" id="6619169">,</span>&nbsp;<span class="ident" id="6619171">Mask</span><span class="op" id="6619175">:</span>&nbsp;<span class="ident" id="6619177">IPMask</span><span class="op" id="6619183">(</span><span class="ident" id="6619184">ParseIP</span><span class="op" id="6619191">(</span><span class="string" id="6619192">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="6619210">)</span><span class="op" id="6619211">)</span><span class="op" id="6619212">}</span><span class="op" id="6619213">,</span>&nbsp;<span class="ident" id="6619215">nil</span><span class="op" id="6619218">}</span><span class="op" id="6619219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619222">{</span><span class="string" id="6619223">&#34;abcd:2345::/32&#34;</span><span class="op" id="6619239">,</span>&nbsp;<span class="ident" id="6619241">ParseIP</span><span class="op" id="6619248">(</span><span class="string" id="6619249">&#34;abcd:2345::&#34;</span><span class="op" id="6619262">)</span><span class="op" id="6619263">,</span>&nbsp;<span class="op" id="6619265">&amp;</span><span class="ident" id="6619266">IPNet</span><span class="op" id="6619271">{</span><span class="ident" id="6619272">IP</span><span class="op" id="6619274">:</span>&nbsp;<span class="ident" id="6619276">ParseIP</span><span class="op" id="6619283">(</span><span class="string" id="6619284">&#34;abcd:2345::&#34;</span><span class="op" id="6619297">)</span><span class="op" id="6619298">,</span>&nbsp;<span class="ident" id="6619300">Mask</span><span class="op" id="6619304">:</span>&nbsp;<span class="ident" id="6619306">IPMask</span><span class="op" id="6619312">(</span><span class="ident" id="6619313">ParseIP</span><span class="op" id="6619320">(</span><span class="string" id="6619321">&#34;ffff:ffff::&#34;</span><span class="op" id="6619334">)</span><span class="op" id="6619335">)</span><span class="op" id="6619336">}</span><span class="op" id="6619337">,</span>&nbsp;<span class="ident" id="6619339">nil</span><span class="op" id="6619342">}</span><span class="op" id="6619343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619346">{</span><span class="string" id="6619347">&#34;abcd:2344::/31&#34;</span><span class="op" id="6619363">,</span>&nbsp;<span class="ident" id="6619365">ParseIP</span><span class="op" id="6619372">(</span><span class="string" id="6619373">&#34;abcd:2344::&#34;</span><span class="op" id="6619386">)</span><span class="op" id="6619387">,</span>&nbsp;<span class="op" id="6619389">&amp;</span><span class="ident" id="6619390">IPNet</span><span class="op" id="6619395">{</span><span class="ident" id="6619396">IP</span><span class="op" id="6619398">:</span>&nbsp;<span class="ident" id="6619400">ParseIP</span><span class="op" id="6619407">(</span><span class="string" id="6619408">&#34;abcd:2344::&#34;</span><span class="op" id="6619421">)</span><span class="op" id="6619422">,</span>&nbsp;<span class="ident" id="6619424">Mask</span><span class="op" id="6619428">:</span>&nbsp;<span class="ident" id="6619430">IPMask</span><span class="op" id="6619436">(</span><span class="ident" id="6619437">ParseIP</span><span class="op" id="6619444">(</span><span class="string" id="6619445">&#34;ffff:fffe::&#34;</span><span class="op" id="6619458">)</span><span class="op" id="6619459">)</span><span class="op" id="6619460">}</span><span class="op" id="6619461">,</span>&nbsp;<span class="ident" id="6619463">nil</span><span class="op" id="6619466">}</span><span class="op" id="6619467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619470">{</span><span class="string" id="6619471">&#34;abcd:2300::/24&#34;</span><span class="op" id="6619487">,</span>&nbsp;<span class="ident" id="6619489">ParseIP</span><span class="op" id="6619496">(</span><span class="string" id="6619497">&#34;abcd:2300::&#34;</span><span class="op" id="6619510">)</span><span class="op" id="6619511">,</span>&nbsp;<span class="op" id="6619513">&amp;</span><span class="ident" id="6619514">IPNet</span><span class="op" id="6619519">{</span><span class="ident" id="6619520">IP</span><span class="op" id="6619522">:</span>&nbsp;<span class="ident" id="6619524">ParseIP</span><span class="op" id="6619531">(</span><span class="string" id="6619532">&#34;abcd:2300::&#34;</span><span class="op" id="6619545">)</span><span class="op" id="6619546">,</span>&nbsp;<span class="ident" id="6619548">Mask</span><span class="op" id="6619552">:</span>&nbsp;<span class="ident" id="6619554">IPMask</span><span class="op" id="6619560">(</span><span class="ident" id="6619561">ParseIP</span><span class="op" id="6619568">(</span><span class="string" id="6619569">&#34;ffff:ff00::&#34;</span><span class="op" id="6619582">)</span><span class="op" id="6619583">)</span><span class="op" id="6619584">}</span><span class="op" id="6619585">,</span>&nbsp;<span class="ident" id="6619587">nil</span><span class="op" id="6619590">}</span><span class="op" id="6619591">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619594">{</span><span class="string" id="6619595">&#34;abcd:2345::/24&#34;</span><span class="op" id="6619611">,</span>&nbsp;<span class="ident" id="6619613">ParseIP</span><span class="op" id="6619620">(</span><span class="string" id="6619621">&#34;abcd:2345::&#34;</span><span class="op" id="6619634">)</span><span class="op" id="6619635">,</span>&nbsp;<span class="op" id="6619637">&amp;</span><span class="ident" id="6619638">IPNet</span><span class="op" id="6619643">{</span><span class="ident" id="6619644">IP</span><span class="op" id="6619646">:</span>&nbsp;<span class="ident" id="6619648">ParseIP</span><span class="op" id="6619655">(</span><span class="string" id="6619656">&#34;abcd:2300::&#34;</span><span class="op" id="6619669">)</span><span class="op" id="6619670">,</span>&nbsp;<span class="ident" id="6619672">Mask</span><span class="op" id="6619676">:</span>&nbsp;<span class="ident" id="6619678">IPMask</span><span class="op" id="6619684">(</span><span class="ident" id="6619685">ParseIP</span><span class="op" id="6619692">(</span><span class="string" id="6619693">&#34;ffff:ff00::&#34;</span><span class="op" id="6619706">)</span><span class="op" id="6619707">)</span><span class="op" id="6619708">}</span><span class="op" id="6619709">,</span>&nbsp;<span class="ident" id="6619711">nil</span><span class="op" id="6619714">}</span><span class="op" id="6619715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619718">{</span><span class="string" id="6619719">&#34;2001:DB8::/48&#34;</span><span class="op" id="6619734">,</span>&nbsp;<span class="ident" id="6619736">ParseIP</span><span class="op" id="6619743">(</span><span class="string" id="6619744">&#34;2001:DB8::&#34;</span><span class="op" id="6619756">)</span><span class="op" id="6619757">,</span>&nbsp;<span class="op" id="6619759">&amp;</span><span class="ident" id="6619760">IPNet</span><span class="op" id="6619765">{</span><span class="ident" id="6619766">IP</span><span class="op" id="6619768">:</span>&nbsp;<span class="ident" id="6619770">ParseIP</span><span class="op" id="6619777">(</span><span class="string" id="6619778">&#34;2001:DB8::&#34;</span><span class="op" id="6619790">)</span><span class="op" id="6619791">,</span>&nbsp;<span class="ident" id="6619793">Mask</span><span class="op" id="6619797">:</span>&nbsp;<span class="ident" id="6619799">IPMask</span><span class="op" id="6619805">(</span><span class="ident" id="6619806">ParseIP</span><span class="op" id="6619813">(</span><span class="string" id="6619814">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="6619832">)</span><span class="op" id="6619833">)</span><span class="op" id="6619834">}</span><span class="op" id="6619835">,</span>&nbsp;<span class="ident" id="6619837">nil</span><span class="op" id="6619840">}</span><span class="op" id="6619841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619844">{</span><span class="string" id="6619845">&#34;2001:DB8::1/48&#34;</span><span class="op" id="6619861">,</span>&nbsp;<span class="ident" id="6619863">ParseIP</span><span class="op" id="6619870">(</span><span class="string" id="6619871">&#34;2001:DB8::1&#34;</span><span class="op" id="6619884">)</span><span class="op" id="6619885">,</span>&nbsp;<span class="op" id="6619887">&amp;</span><span class="ident" id="6619888">IPNet</span><span class="op" id="6619893">{</span><span class="ident" id="6619894">IP</span><span class="op" id="6619896">:</span>&nbsp;<span class="ident" id="6619898">ParseIP</span><span class="op" id="6619905">(</span><span class="string" id="6619906">&#34;2001:DB8::&#34;</span><span class="op" id="6619918">)</span><span class="op" id="6619919">,</span>&nbsp;<span class="ident" id="6619921">Mask</span><span class="op" id="6619925">:</span>&nbsp;<span class="ident" id="6619927">IPMask</span><span class="op" id="6619933">(</span><span class="ident" id="6619934">ParseIP</span><span class="op" id="6619941">(</span><span class="string" id="6619942">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="6619960">)</span><span class="op" id="6619961">)</span><span class="op" id="6619962">}</span><span class="op" id="6619963">,</span>&nbsp;<span class="ident" id="6619965">nil</span><span class="op" id="6619968">}</span><span class="op" id="6619969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619972">{</span><span class="string" id="6619973">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="6620000">,</span>&nbsp;<span class="ident" id="6620002">nil</span><span class="op" id="6620005">,</span>&nbsp;<span class="ident" id="6620007">nil</span><span class="op" id="6620010">,</span>&nbsp;<span class="op" id="6620012">&amp;</span><span class="ident" id="6620013">ParseError</span><span class="op" id="6620023">{</span><span class="string" id="6620024">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6620038">,</span>&nbsp;<span class="string" id="6620040">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="6620067">}</span><span class="op" id="6620068">}</span><span class="op" id="6620069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620072">{</span><span class="string" id="6620073">&#34;192.168.1.1/35&#34;</span><span class="op" id="6620089">,</span>&nbsp;<span class="ident" id="6620091">nil</span><span class="op" id="6620094">,</span>&nbsp;<span class="ident" id="6620096">nil</span><span class="op" id="6620099">,</span>&nbsp;<span class="op" id="6620101">&amp;</span><span class="ident" id="6620102">ParseError</span><span class="op" id="6620112">{</span><span class="string" id="6620113">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6620127">,</span>&nbsp;<span class="string" id="6620129">&#34;192.168.1.1/35&#34;</span><span class="op" id="6620145">}</span><span class="op" id="6620146">}</span><span class="op" id="6620147">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620150">{</span><span class="string" id="6620151">&#34;2001:db8::1/-1&#34;</span><span class="op" id="6620167">,</span>&nbsp;<span class="ident" id="6620169">nil</span><span class="op" id="6620172">,</span>&nbsp;<span class="ident" id="6620174">nil</span><span class="op" id="6620177">,</span>&nbsp;<span class="op" id="6620179">&amp;</span><span class="ident" id="6620180">ParseError</span><span class="op" id="6620190">{</span><span class="string" id="6620191">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6620205">,</span>&nbsp;<span class="string" id="6620207">&#34;2001:db8::1/-1&#34;</span><span class="op" id="6620223">}</span><span class="op" id="6620224">}</span><span class="op" id="6620225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620228">{</span><span class="string" id="6620229">&#34;&#34;</span><span class="op" id="6620231">,</span>&nbsp;<span class="ident" id="6620233">nil</span><span class="op" id="6620236">,</span>&nbsp;<span class="ident" id="6620238">nil</span><span class="op" id="6620241">,</span>&nbsp;<span class="op" id="6620243">&amp;</span><span class="ident" id="6620244">ParseError</span><span class="op" id="6620254">{</span><span class="string" id="6620255">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6620269">,</span>&nbsp;<span class="string" id="6620271">&#34;&#34;</span><span class="op" id="6620273">}</span><span class="op" id="6620274">}</span><span class="op" id="6620275">,</span><br>
<span class="lineno"></span><span class="op" id="6620277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6620280">func</span>&nbsp;<span class="ident" id="6620285">TestParseCIDR</span><span class="op" id="6620298">(</span><span class="ident" id="6620299">t</span>&nbsp;<span class="op" id="6620301">*</span><span class="ident" id="6620302">testing</span><span class="op" id="6620309">.</span><span class="ident" id="6620310">T</span><span class="op" id="6620311">)</span>&nbsp;<span class="op" id="6620313">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620316">for</span>&nbsp;<span class="ident" id="6620320">_</span><span class="op" id="6620321">,</span>&nbsp;<span class="ident" id="6620323">tt</span>&nbsp;<span class="op" id="6620326">:=</span>&nbsp;<span class="keyword" id="6620329">range</span>&nbsp;<span class="ident" id="6620335">parseCIDRTests</span>&nbsp;<span class="op" id="6620350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620354">ip</span><span class="op" id="6620356">,</span>&nbsp;<span class="ident" id="6620358">net</span><span class="op" id="6620361">,</span>&nbsp;<span class="ident" id="6620363">err</span>&nbsp;<span class="op" id="6620367">:=</span>&nbsp;<span class="ident" id="6620370">ParseCIDR</span><span class="op" id="6620379">(</span><span class="ident" id="6620380">tt</span><span class="op" id="6620382">.</span><span class="ident" id="6620383">in</span><span class="op" id="6620385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620389">if</span>&nbsp;<span class="op" id="6620392">!</span><span class="ident" id="6620393">reflect</span><span class="op" id="6620400">.</span><span class="ident" id="6620401">DeepEqual</span><span class="op" id="6620410">(</span><span class="ident" id="6620411">err</span><span class="op" id="6620414">,</span>&nbsp;<span class="ident" id="6620416">tt</span><span class="op" id="6620418">.</span><span class="ident" id="6620419">err</span><span class="op" id="6620422">)</span>&nbsp;<span class="op" id="6620424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620429">t</span><span class="op" id="6620430">.</span><span class="ident" id="6620431">Errorf</span><span class="op" id="6620437">(</span><span class="string" id="6620438">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6620475">,</span>&nbsp;<span class="ident" id="6620477">tt</span><span class="op" id="6620479">.</span><span class="ident" id="6620480">in</span><span class="op" id="6620482">,</span>&nbsp;<span class="ident" id="6620484">ip</span><span class="op" id="6620486">,</span>&nbsp;<span class="ident" id="6620488">net</span><span class="op" id="6620491">,</span>&nbsp;<span class="ident" id="6620493">tt</span><span class="op" id="6620495">.</span><span class="ident" id="6620496">ip</span><span class="op" id="6620498">,</span>&nbsp;<span class="ident" id="6620500">tt</span><span class="op" id="6620502">.</span><span class="ident" id="6620503">net</span><span class="op" id="6620506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620510">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620514">if</span>&nbsp;<span class="ident" id="6620517">err</span>&nbsp;<span class="op" id="6620521">==</span>&nbsp;<span class="ident" id="6620524">nil</span>&nbsp;<span class="op" id="6620528">&amp;&amp;</span>&nbsp;<span class="op" id="6620531">(</span><span class="op" id="6620532">!</span><span class="ident" id="6620533">tt</span><span class="op" id="6620535">.</span><span class="ident" id="6620536">ip</span><span class="op" id="6620538">.</span><span class="ident" id="6620539">Equal</span><span class="op" id="6620544">(</span><span class="ident" id="6620545">ip</span><span class="op" id="6620547">)</span>&nbsp;<span class="op" id="6620549">||</span>&nbsp;<span class="op" id="6620552">!</span><span class="ident" id="6620553">tt</span><span class="op" id="6620555">.</span><span class="ident" id="6620556">net</span><span class="op" id="6620559">.</span><span class="ident" id="6620560">IP</span><span class="op" id="6620562">.</span><span class="ident" id="6620563">Equal</span><span class="op" id="6620568">(</span><span class="ident" id="6620569">net</span><span class="op" id="6620572">.</span><span class="ident" id="6620573">IP</span><span class="op" id="6620575">)</span>&nbsp;<span class="op" id="6620577">||</span>&nbsp;<span class="op" id="6620580">!</span><span class="ident" id="6620581">reflect</span><span class="op" id="6620588">.</span><span class="ident" id="6620589">DeepEqual</span><span class="op" id="6620598">(</span><span class="ident" id="6620599">net</span><span class="op" id="6620602">.</span><span class="ident" id="6620603">Mask</span><span class="op" id="6620607">,</span>&nbsp;<span class="ident" id="6620609">tt</span><span class="op" id="6620611">.</span><span class="ident" id="6620612">net</span><span class="op" id="6620615">.</span><span class="ident" id="6620616">Mask</span><span class="op" id="6620620">)</span><span class="op" id="6620621">)</span>&nbsp;<span class="op" id="6620623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620628">t</span><span class="op" id="6620629">.</span><span class="ident" id="6620630">Errorf</span><span class="op" id="6620636">(</span><span class="string" id="6620637">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="6620686">,</span>&nbsp;<span class="ident" id="6620688">tt</span><span class="op" id="6620690">.</span><span class="ident" id="6620691">in</span><span class="op" id="6620693">,</span>&nbsp;<span class="ident" id="6620695">ip</span><span class="op" id="6620697">,</span>&nbsp;<span class="ident" id="6620699">net</span><span class="op" id="6620702">.</span><span class="ident" id="6620703">IP</span><span class="op" id="6620705">,</span>&nbsp;<span class="ident" id="6620707">net</span><span class="op" id="6620710">.</span><span class="ident" id="6620711">Mask</span><span class="op" id="6620715">,</span>&nbsp;<span class="ident" id="6620717">tt</span><span class="op" id="6620719">.</span><span class="ident" id="6620720">ip</span><span class="op" id="6620722">,</span>&nbsp;<span class="ident" id="6620724">tt</span><span class="op" id="6620726">.</span><span class="ident" id="6620727">net</span><span class="op" id="6620730">.</span><span class="ident" id="6620731">IP</span><span class="op" id="6620733">,</span>&nbsp;<span class="ident" id="6620735">tt</span><span class="op" id="6620737">.</span><span class="ident" id="6620738">net</span><span class="op" id="6620741">.</span><span class="ident" id="6620742">Mask</span><span class="op" id="6620746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620753">}</span><br>
<span class="lineno"></span><span class="op" id="6620755">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6620758">var</span>&nbsp;<span class="ident" id="6620762">ipNetContainsTests</span>&nbsp;<span class="op" id="6620781">=</span>&nbsp;<span class="op" id="6620783">[</span><span class="op" id="6620784">]</span><span class="keyword" id="6620785">struct</span>&nbsp;<span class="op" id="6620792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620795">ip</span>&nbsp;&nbsp;<span class="ident" id="6620799">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620803">net</span>&nbsp;<span class="op" id="6620807">*</span><span class="ident" id="6620808">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620815">ok</span>&nbsp;&nbsp;<span class="builtintype" id="6620819">bool</span><br>
<span class="lineno">205</span><span class="op" id="6620824">}</span><span class="op" id="6620825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620828">{</span><span class="ident" id="6620829">IPv4</span><span class="op" id="6620833">(</span><span class="num" id="6620834">172</span><span class="op" id="6620837">,</span>&nbsp;<span class="num" id="6620839">16</span><span class="op" id="6620841">,</span>&nbsp;<span class="num" id="6620843">1</span><span class="op" id="6620844">,</span>&nbsp;<span class="num" id="6620846">1</span><span class="op" id="6620847">)</span><span class="op" id="6620848">,</span>&nbsp;<span class="op" id="6620850">&amp;</span><span class="ident" id="6620851">IPNet</span><span class="op" id="6620856">{</span><span class="ident" id="6620857">IP</span><span class="op" id="6620859">:</span>&nbsp;<span class="ident" id="6620861">IPv4</span><span class="op" id="6620865">(</span><span class="num" id="6620866">172</span><span class="op" id="6620869">,</span>&nbsp;<span class="num" id="6620871">16</span><span class="op" id="6620873">,</span>&nbsp;<span class="num" id="6620875">0</span><span class="op" id="6620876">,</span>&nbsp;<span class="num" id="6620878">0</span><span class="op" id="6620879">)</span><span class="op" id="6620880">,</span>&nbsp;<span class="ident" id="6620882">Mask</span><span class="op" id="6620886">:</span>&nbsp;<span class="ident" id="6620888">CIDRMask</span><span class="op" id="6620896">(</span><span class="num" id="6620897">12</span><span class="op" id="6620899">,</span>&nbsp;<span class="num" id="6620901">32</span><span class="op" id="6620903">)</span><span class="op" id="6620904">}</span><span class="op" id="6620905">,</span>&nbsp;<span class="builtintype" id="6620907">true</span><span class="op" id="6620911">}</span><span class="op" id="6620912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620915">{</span><span class="ident" id="6620916">IPv4</span><span class="op" id="6620920">(</span><span class="num" id="6620921">172</span><span class="op" id="6620924">,</span>&nbsp;<span class="num" id="6620926">24</span><span class="op" id="6620928">,</span>&nbsp;<span class="num" id="6620930">0</span><span class="op" id="6620931">,</span>&nbsp;<span class="num" id="6620933">1</span><span class="op" id="6620934">)</span><span class="op" id="6620935">,</span>&nbsp;<span class="op" id="6620937">&amp;</span><span class="ident" id="6620938">IPNet</span><span class="op" id="6620943">{</span><span class="ident" id="6620944">IP</span><span class="op" id="6620946">:</span>&nbsp;<span class="ident" id="6620948">IPv4</span><span class="op" id="6620952">(</span><span class="num" id="6620953">172</span><span class="op" id="6620956">,</span>&nbsp;<span class="num" id="6620958">16</span><span class="op" id="6620960">,</span>&nbsp;<span class="num" id="6620962">0</span><span class="op" id="6620963">,</span>&nbsp;<span class="num" id="6620965">0</span><span class="op" id="6620966">)</span><span class="op" id="6620967">,</span>&nbsp;<span class="ident" id="6620969">Mask</span><span class="op" id="6620973">:</span>&nbsp;<span class="ident" id="6620975">CIDRMask</span><span class="op" id="6620983">(</span><span class="num" id="6620984">13</span><span class="op" id="6620986">,</span>&nbsp;<span class="num" id="6620988">32</span><span class="op" id="6620990">)</span><span class="op" id="6620991">}</span><span class="op" id="6620992">,</span>&nbsp;<span class="builtintype" id="6620994">false</span><span class="op" id="6620999">}</span><span class="op" id="6621000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621003">{</span><span class="ident" id="6621004">IPv4</span><span class="op" id="6621008">(</span><span class="num" id="6621009">192</span><span class="op" id="6621012">,</span>&nbsp;<span class="num" id="6621014">168</span><span class="op" id="6621017">,</span>&nbsp;<span class="num" id="6621019">0</span><span class="op" id="6621020">,</span>&nbsp;<span class="num" id="6621022">3</span><span class="op" id="6621023">)</span><span class="op" id="6621024">,</span>&nbsp;<span class="op" id="6621026">&amp;</span><span class="ident" id="6621027">IPNet</span><span class="op" id="6621032">{</span><span class="ident" id="6621033">IP</span><span class="op" id="6621035">:</span>&nbsp;<span class="ident" id="6621037">IPv4</span><span class="op" id="6621041">(</span><span class="num" id="6621042">192</span><span class="op" id="6621045">,</span>&nbsp;<span class="num" id="6621047">168</span><span class="op" id="6621050">,</span>&nbsp;<span class="num" id="6621052">0</span><span class="op" id="6621053">,</span>&nbsp;<span class="num" id="6621055">0</span><span class="op" id="6621056">)</span><span class="op" id="6621057">,</span>&nbsp;<span class="ident" id="6621059">Mask</span><span class="op" id="6621063">:</span>&nbsp;<span class="ident" id="6621065">IPv4Mask</span><span class="op" id="6621073">(</span><span class="num" id="6621074">0</span><span class="op" id="6621075">,</span>&nbsp;<span class="num" id="6621077">0</span><span class="op" id="6621078">,</span>&nbsp;<span class="num" id="6621080">255</span><span class="op" id="6621083">,</span>&nbsp;<span class="num" id="6621085">252</span><span class="op" id="6621088">)</span><span class="op" id="6621089">}</span><span class="op" id="6621090">,</span>&nbsp;<span class="builtintype" id="6621092">true</span><span class="op" id="6621096">}</span><span class="op" id="6621097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621100">{</span><span class="ident" id="6621101">IPv4</span><span class="op" id="6621105">(</span><span class="num" id="6621106">192</span><span class="op" id="6621109">,</span>&nbsp;<span class="num" id="6621111">168</span><span class="op" id="6621114">,</span>&nbsp;<span class="num" id="6621116">0</span><span class="op" id="6621117">,</span>&nbsp;<span class="num" id="6621119">4</span><span class="op" id="6621120">)</span><span class="op" id="6621121">,</span>&nbsp;<span class="op" id="6621123">&amp;</span><span class="ident" id="6621124">IPNet</span><span class="op" id="6621129">{</span><span class="ident" id="6621130">IP</span><span class="op" id="6621132">:</span>&nbsp;<span class="ident" id="6621134">IPv4</span><span class="op" id="6621138">(</span><span class="num" id="6621139">192</span><span class="op" id="6621142">,</span>&nbsp;<span class="num" id="6621144">168</span><span class="op" id="6621147">,</span>&nbsp;<span class="num" id="6621149">0</span><span class="op" id="6621150">,</span>&nbsp;<span class="num" id="6621152">0</span><span class="op" id="6621153">)</span><span class="op" id="6621154">,</span>&nbsp;<span class="ident" id="6621156">Mask</span><span class="op" id="6621160">:</span>&nbsp;<span class="ident" id="6621162">IPv4Mask</span><span class="op" id="6621170">(</span><span class="num" id="6621171">0</span><span class="op" id="6621172">,</span>&nbsp;<span class="num" id="6621174">255</span><span class="op" id="6621177">,</span>&nbsp;<span class="num" id="6621179">0</span><span class="op" id="6621180">,</span>&nbsp;<span class="num" id="6621182">252</span><span class="op" id="6621185">)</span><span class="op" id="6621186">}</span><span class="op" id="6621187">,</span>&nbsp;<span class="builtintype" id="6621189">false</span><span class="op" id="6621194">}</span><span class="op" id="6621195">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621198">{</span><span class="ident" id="6621199">ParseIP</span><span class="op" id="6621206">(</span><span class="string" id="6621207">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6621224">)</span><span class="op" id="6621225">,</span>&nbsp;<span class="op" id="6621227">&amp;</span><span class="ident" id="6621228">IPNet</span><span class="op" id="6621233">{</span><span class="ident" id="6621234">IP</span><span class="op" id="6621236">:</span>&nbsp;<span class="ident" id="6621238">ParseIP</span><span class="op" id="6621245">(</span><span class="string" id="6621246">&#34;2001:db8:1::&#34;</span><span class="op" id="6621260">)</span><span class="op" id="6621261">,</span>&nbsp;<span class="ident" id="6621263">Mask</span><span class="op" id="6621267">:</span>&nbsp;<span class="ident" id="6621269">CIDRMask</span><span class="op" id="6621277">(</span><span class="num" id="6621278">47</span><span class="op" id="6621280">,</span>&nbsp;<span class="num" id="6621282">128</span><span class="op" id="6621285">)</span><span class="op" id="6621286">}</span><span class="op" id="6621287">,</span>&nbsp;<span class="builtintype" id="6621289">true</span><span class="op" id="6621293">}</span><span class="op" id="6621294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621297">{</span><span class="ident" id="6621298">ParseIP</span><span class="op" id="6621305">(</span><span class="string" id="6621306">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6621323">)</span><span class="op" id="6621324">,</span>&nbsp;<span class="op" id="6621326">&amp;</span><span class="ident" id="6621327">IPNet</span><span class="op" id="6621332">{</span><span class="ident" id="6621333">IP</span><span class="op" id="6621335">:</span>&nbsp;<span class="ident" id="6621337">ParseIP</span><span class="op" id="6621344">(</span><span class="string" id="6621345">&#34;2001:db8:2::&#34;</span><span class="op" id="6621359">)</span><span class="op" id="6621360">,</span>&nbsp;<span class="ident" id="6621362">Mask</span><span class="op" id="6621366">:</span>&nbsp;<span class="ident" id="6621368">CIDRMask</span><span class="op" id="6621376">(</span><span class="num" id="6621377">47</span><span class="op" id="6621379">,</span>&nbsp;<span class="num" id="6621381">128</span><span class="op" id="6621384">)</span><span class="op" id="6621385">}</span><span class="op" id="6621386">,</span>&nbsp;<span class="builtintype" id="6621388">false</span><span class="op" id="6621393">}</span><span class="op" id="6621394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621397">{</span><span class="ident" id="6621398">ParseIP</span><span class="op" id="6621405">(</span><span class="string" id="6621406">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6621423">)</span><span class="op" id="6621424">,</span>&nbsp;<span class="op" id="6621426">&amp;</span><span class="ident" id="6621427">IPNet</span><span class="op" id="6621432">{</span><span class="ident" id="6621433">IP</span><span class="op" id="6621435">:</span>&nbsp;<span class="ident" id="6621437">ParseIP</span><span class="op" id="6621444">(</span><span class="string" id="6621445">&#34;2001:db8:1::&#34;</span><span class="op" id="6621459">)</span><span class="op" id="6621460">,</span>&nbsp;<span class="ident" id="6621462">Mask</span><span class="op" id="6621466">:</span>&nbsp;<span class="ident" id="6621468">IPMask</span><span class="op" id="6621474">(</span><span class="ident" id="6621475">ParseIP</span><span class="op" id="6621482">(</span><span class="string" id="6621483">&#34;ffff:0:ffff::&#34;</span><span class="op" id="6621498">)</span><span class="op" id="6621499">)</span><span class="op" id="6621500">}</span><span class="op" id="6621501">,</span>&nbsp;<span class="builtintype" id="6621503">true</span><span class="op" id="6621507">}</span><span class="op" id="6621508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621511">{</span><span class="ident" id="6621512">ParseIP</span><span class="op" id="6621519">(</span><span class="string" id="6621520">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6621537">)</span><span class="op" id="6621538">,</span>&nbsp;<span class="op" id="6621540">&amp;</span><span class="ident" id="6621541">IPNet</span><span class="op" id="6621546">{</span><span class="ident" id="6621547">IP</span><span class="op" id="6621549">:</span>&nbsp;<span class="ident" id="6621551">ParseIP</span><span class="op" id="6621558">(</span><span class="string" id="6621559">&#34;2001:db8:1::&#34;</span><span class="op" id="6621573">)</span><span class="op" id="6621574">,</span>&nbsp;<span class="ident" id="6621576">Mask</span><span class="op" id="6621580">:</span>&nbsp;<span class="ident" id="6621582">IPMask</span><span class="op" id="6621588">(</span><span class="ident" id="6621589">ParseIP</span><span class="op" id="6621596">(</span><span class="string" id="6621597">&#34;0:0:0:ffff::&#34;</span><span class="op" id="6621611">)</span><span class="op" id="6621612">)</span><span class="op" id="6621613">}</span><span class="op" id="6621614">,</span>&nbsp;<span class="builtintype" id="6621616">false</span><span class="op" id="6621621">}</span><span class="op" id="6621622">,</span><br>
<span class="lineno"></span><span class="op" id="6621624">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="6621627">func</span>&nbsp;<span class="ident" id="6621632">TestIPNetContains</span><span class="op" id="6621649">(</span><span class="ident" id="6621650">t</span>&nbsp;<span class="op" id="6621652">*</span><span class="ident" id="6621653">testing</span><span class="op" id="6621660">.</span><span class="ident" id="6621661">T</span><span class="op" id="6621662">)</span>&nbsp;<span class="op" id="6621664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621667">for</span>&nbsp;<span class="ident" id="6621671">_</span><span class="op" id="6621672">,</span>&nbsp;<span class="ident" id="6621674">tt</span>&nbsp;<span class="op" id="6621677">:=</span>&nbsp;<span class="keyword" id="6621680">range</span>&nbsp;<span class="ident" id="6621686">ipNetContainsTests</span>&nbsp;<span class="op" id="6621705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621709">if</span>&nbsp;<span class="ident" id="6621712">ok</span>&nbsp;<span class="op" id="6621715">:=</span>&nbsp;<span class="ident" id="6621718">tt</span><span class="op" id="6621720">.</span><span class="ident" id="6621721">net</span><span class="op" id="6621724">.</span><span class="ident" id="6621725">Contains</span><span class="op" id="6621733">(</span><span class="ident" id="6621734">tt</span><span class="op" id="6621736">.</span><span class="ident" id="6621737">ip</span><span class="op" id="6621739">)</span><span class="op" id="6621740">;</span>&nbsp;<span class="ident" id="6621742">ok</span>&nbsp;<span class="op" id="6621745">!=</span>&nbsp;<span class="ident" id="6621748">tt</span><span class="op" id="6621750">.</span><span class="ident" id="6621751">ok</span>&nbsp;<span class="op" id="6621754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621759">t</span><span class="op" id="6621760">.</span><span class="ident" id="6621761">Errorf</span><span class="op" id="6621767">(</span><span class="string" id="6621768">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6621806">,</span>&nbsp;<span class="ident" id="6621808">tt</span><span class="op" id="6621810">.</span><span class="ident" id="6621811">net</span><span class="op" id="6621814">,</span>&nbsp;<span class="ident" id="6621816">tt</span><span class="op" id="6621818">.</span><span class="ident" id="6621819">ip</span><span class="op" id="6621821">,</span>&nbsp;<span class="ident" id="6621823">ok</span><span class="op" id="6621825">,</span>&nbsp;<span class="ident" id="6621827">tt</span><span class="op" id="6621829">.</span><span class="ident" id="6621830">ok</span><span class="op" id="6621832">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621839">}</span><br>
<span class="lineno"></span><span class="op" id="6621841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6621844">var</span>&nbsp;<span class="ident" id="6621848">ipNetStringTests</span>&nbsp;<span class="op" id="6621865">=</span>&nbsp;<span class="op" id="6621867">[</span><span class="op" id="6621868">]</span><span class="keyword" id="6621869">struct</span>&nbsp;<span class="op" id="6621876">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621879">in</span>&nbsp;&nbsp;<span class="op" id="6621883">*</span><span class="ident" id="6621884">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621891">out</span>&nbsp;<span class="builtintype" id="6621895">string</span><br>
<span class="lineno"></span><span class="op" id="6621902">}</span><span class="op" id="6621903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621906">{</span><span class="op" id="6621907">&amp;</span><span class="ident" id="6621908">IPNet</span><span class="op" id="6621913">{</span><span class="ident" id="6621914">IP</span><span class="op" id="6621916">:</span>&nbsp;<span class="ident" id="6621918">IPv4</span><span class="op" id="6621922">(</span><span class="num" id="6621923">192</span><span class="op" id="6621926">,</span>&nbsp;<span class="num" id="6621928">168</span><span class="op" id="6621931">,</span>&nbsp;<span class="num" id="6621933">1</span><span class="op" id="6621934">,</span>&nbsp;<span class="num" id="6621936">0</span><span class="op" id="6621937">)</span><span class="op" id="6621938">,</span>&nbsp;<span class="ident" id="6621940">Mask</span><span class="op" id="6621944">:</span>&nbsp;<span class="ident" id="6621946">CIDRMask</span><span class="op" id="6621954">(</span><span class="num" id="6621955">26</span><span class="op" id="6621957">,</span>&nbsp;<span class="num" id="6621959">32</span><span class="op" id="6621961">)</span><span class="op" id="6621962">}</span><span class="op" id="6621963">,</span>&nbsp;<span class="string" id="6621965">&#34;192.168.1.0/26&#34;</span><span class="op" id="6621981">}</span><span class="op" id="6621982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621985">{</span><span class="op" id="6621986">&amp;</span><span class="ident" id="6621987">IPNet</span><span class="op" id="6621992">{</span><span class="ident" id="6621993">IP</span><span class="op" id="6621995">:</span>&nbsp;<span class="ident" id="6621997">IPv4</span><span class="op" id="6622001">(</span><span class="num" id="6622002">192</span><span class="op" id="6622005">,</span>&nbsp;<span class="num" id="6622007">168</span><span class="op" id="6622010">,</span>&nbsp;<span class="num" id="6622012">1</span><span class="op" id="6622013">,</span>&nbsp;<span class="num" id="6622015">0</span><span class="op" id="6622016">)</span><span class="op" id="6622017">,</span>&nbsp;<span class="ident" id="6622019">Mask</span><span class="op" id="6622023">:</span>&nbsp;<span class="ident" id="6622025">IPv4Mask</span><span class="op" id="6622033">(</span><span class="num" id="6622034">255</span><span class="op" id="6622037">,</span>&nbsp;<span class="num" id="6622039">0</span><span class="op" id="6622040">,</span>&nbsp;<span class="num" id="6622042">255</span><span class="op" id="6622045">,</span>&nbsp;<span class="num" id="6622047">0</span><span class="op" id="6622048">)</span><span class="op" id="6622049">}</span><span class="op" id="6622050">,</span>&nbsp;<span class="string" id="6622052">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="6622074">}</span><span class="op" id="6622075">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622078">{</span><span class="op" id="6622079">&amp;</span><span class="ident" id="6622080">IPNet</span><span class="op" id="6622085">{</span><span class="ident" id="6622086">IP</span><span class="op" id="6622088">:</span>&nbsp;<span class="ident" id="6622090">ParseIP</span><span class="op" id="6622097">(</span><span class="string" id="6622098">&#34;2001:db8::&#34;</span><span class="op" id="6622110">)</span><span class="op" id="6622111">,</span>&nbsp;<span class="ident" id="6622113">Mask</span><span class="op" id="6622117">:</span>&nbsp;<span class="ident" id="6622119">CIDRMask</span><span class="op" id="6622127">(</span><span class="num" id="6622128">55</span><span class="op" id="6622130">,</span>&nbsp;<span class="num" id="6622132">128</span><span class="op" id="6622135">)</span><span class="op" id="6622136">}</span><span class="op" id="6622137">,</span>&nbsp;<span class="string" id="6622139">&#34;2001:db8::/55&#34;</span><span class="op" id="6622154">}</span><span class="op" id="6622155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622158">{</span><span class="op" id="6622159">&amp;</span><span class="ident" id="6622160">IPNet</span><span class="op" id="6622165">{</span><span class="ident" id="6622166">IP</span><span class="op" id="6622168">:</span>&nbsp;<span class="ident" id="6622170">ParseIP</span><span class="op" id="6622177">(</span><span class="string" id="6622178">&#34;2001:db8::&#34;</span><span class="op" id="6622190">)</span><span class="op" id="6622191">,</span>&nbsp;<span class="ident" id="6622193">Mask</span><span class="op" id="6622197">:</span>&nbsp;<span class="ident" id="6622199">IPMask</span><span class="op" id="6622205">(</span><span class="ident" id="6622206">ParseIP</span><span class="op" id="6622213">(</span><span class="string" id="6622214">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="6622234">)</span><span class="op" id="6622235">)</span><span class="op" id="6622236">}</span><span class="op" id="6622237">,</span>&nbsp;<span class="string" id="6622239">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="6622284">}</span><span class="op" id="6622285">,</span><br>
<span class="lineno"></span><span class="op" id="6622287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6622290">func</span>&nbsp;<span class="ident" id="6622295">TestIPNetString</span><span class="op" id="6622310">(</span><span class="ident" id="6622311">t</span>&nbsp;<span class="op" id="6622313">*</span><span class="ident" id="6622314">testing</span><span class="op" id="6622321">.</span><span class="ident" id="6622322">T</span><span class="op" id="6622323">)</span>&nbsp;<span class="op" id="6622325">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622328">for</span>&nbsp;<span class="ident" id="6622332">_</span><span class="op" id="6622333">,</span>&nbsp;<span class="ident" id="6622335">tt</span>&nbsp;<span class="op" id="6622338">:=</span>&nbsp;<span class="keyword" id="6622341">range</span>&nbsp;<span class="ident" id="6622347">ipNetStringTests</span>&nbsp;<span class="op" id="6622364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622368">if</span>&nbsp;<span class="ident" id="6622371">out</span>&nbsp;<span class="op" id="6622375">:=</span>&nbsp;<span class="ident" id="6622378">tt</span><span class="op" id="6622380">.</span><span class="ident" id="6622381">in</span><span class="op" id="6622383">.</span><span class="ident" id="6622384">String</span><span class="op" id="6622390">(</span><span class="op" id="6622391">)</span><span class="op" id="6622392">;</span>&nbsp;<span class="ident" id="6622394">out</span>&nbsp;<span class="op" id="6622398">!=</span>&nbsp;<span class="ident" id="6622401">tt</span><span class="op" id="6622403">.</span><span class="ident" id="6622404">out</span>&nbsp;<span class="op" id="6622408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622413">t</span><span class="op" id="6622414">.</span><span class="ident" id="6622415">Errorf</span><span class="op" id="6622421">(</span><span class="string" id="6622422">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6622454">,</span>&nbsp;<span class="ident" id="6622456">tt</span><span class="op" id="6622458">.</span><span class="ident" id="6622459">in</span><span class="op" id="6622461">,</span>&nbsp;<span class="ident" id="6622463">out</span><span class="op" id="6622466">,</span>&nbsp;<span class="ident" id="6622468">tt</span><span class="op" id="6622470">.</span><span class="ident" id="6622471">out</span><span class="op" id="6622474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622481">}</span><br>
<span class="lineno">240</span><span class="op" id="6622483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6622486">var</span>&nbsp;<span class="ident" id="6622490">cidrMaskTests</span>&nbsp;<span class="op" id="6622504">=</span>&nbsp;<span class="op" id="6622506">[</span><span class="op" id="6622507">]</span><span class="keyword" id="6622508">struct</span>&nbsp;<span class="op" id="6622515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622518">ones</span>&nbsp;<span class="builtintype" id="6622523">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622528">bits</span>&nbsp;<span class="builtintype" id="6622533">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622538">out</span>&nbsp;&nbsp;<span class="ident" id="6622543">IPMask</span><br>
<span class="lineno"></span><span class="op" id="6622550">}</span><span class="op" id="6622551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622554">{</span><span class="num" id="6622555">0</span><span class="op" id="6622556">,</span>&nbsp;<span class="num" id="6622558">32</span><span class="op" id="6622560">,</span>&nbsp;<span class="ident" id="6622562">IPv4Mask</span><span class="op" id="6622570">(</span><span class="num" id="6622571">0</span><span class="op" id="6622572">,</span>&nbsp;<span class="num" id="6622574">0</span><span class="op" id="6622575">,</span>&nbsp;<span class="num" id="6622577">0</span><span class="op" id="6622578">,</span>&nbsp;<span class="num" id="6622580">0</span><span class="op" id="6622581">)</span><span class="op" id="6622582">}</span><span class="op" id="6622583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622586">{</span><span class="num" id="6622587">12</span><span class="op" id="6622589">,</span>&nbsp;<span class="num" id="6622591">32</span><span class="op" id="6622593">,</span>&nbsp;<span class="ident" id="6622595">IPv4Mask</span><span class="op" id="6622603">(</span><span class="num" id="6622604">255</span><span class="op" id="6622607">,</span>&nbsp;<span class="num" id="6622609">240</span><span class="op" id="6622612">,</span>&nbsp;<span class="num" id="6622614">0</span><span class="op" id="6622615">,</span>&nbsp;<span class="num" id="6622617">0</span><span class="op" id="6622618">)</span><span class="op" id="6622619">}</span><span class="op" id="6622620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622623">{</span><span class="num" id="6622624">24</span><span class="op" id="6622626">,</span>&nbsp;<span class="num" id="6622628">32</span><span class="op" id="6622630">,</span>&nbsp;<span class="ident" id="6622632">IPv4Mask</span><span class="op" id="6622640">(</span><span class="num" id="6622641">255</span><span class="op" id="6622644">,</span>&nbsp;<span class="num" id="6622646">255</span><span class="op" id="6622649">,</span>&nbsp;<span class="num" id="6622651">255</span><span class="op" id="6622654">,</span>&nbsp;<span class="num" id="6622656">0</span><span class="op" id="6622657">)</span><span class="op" id="6622658">}</span><span class="op" id="6622659">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622662">{</span><span class="num" id="6622663">32</span><span class="op" id="6622665">,</span>&nbsp;<span class="num" id="6622667">32</span><span class="op" id="6622669">,</span>&nbsp;<span class="ident" id="6622671">IPv4Mask</span><span class="op" id="6622679">(</span><span class="num" id="6622680">255</span><span class="op" id="6622683">,</span>&nbsp;<span class="num" id="6622685">255</span><span class="op" id="6622688">,</span>&nbsp;<span class="num" id="6622690">255</span><span class="op" id="6622693">,</span>&nbsp;<span class="num" id="6622695">255</span><span class="op" id="6622698">)</span><span class="op" id="6622699">}</span><span class="op" id="6622700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622703">{</span><span class="num" id="6622704">0</span><span class="op" id="6622705">,</span>&nbsp;<span class="num" id="6622707">128</span><span class="op" id="6622710">,</span>&nbsp;<span class="ident" id="6622712">IPMask</span><span class="op" id="6622718">{</span><span class="num" id="6622719">0</span><span class="op" id="6622720">,</span>&nbsp;<span class="num" id="6622722">0</span><span class="op" id="6622723">,</span>&nbsp;<span class="num" id="6622725">0</span><span class="op" id="6622726">,</span>&nbsp;<span class="num" id="6622728">0</span><span class="op" id="6622729">,</span>&nbsp;<span class="num" id="6622731">0</span><span class="op" id="6622732">,</span>&nbsp;<span class="num" id="6622734">0</span><span class="op" id="6622735">,</span>&nbsp;<span class="num" id="6622737">0</span><span class="op" id="6622738">,</span>&nbsp;<span class="num" id="6622740">0</span><span class="op" id="6622741">,</span>&nbsp;<span class="num" id="6622743">0</span><span class="op" id="6622744">,</span>&nbsp;<span class="num" id="6622746">0</span><span class="op" id="6622747">,</span>&nbsp;<span class="num" id="6622749">0</span><span class="op" id="6622750">,</span>&nbsp;<span class="num" id="6622752">0</span><span class="op" id="6622753">,</span>&nbsp;<span class="num" id="6622755">0</span><span class="op" id="6622756">,</span>&nbsp;<span class="num" id="6622758">0</span><span class="op" id="6622759">,</span>&nbsp;<span class="num" id="6622761">0</span><span class="op" id="6622762">,</span>&nbsp;<span class="num" id="6622764">0</span><span class="op" id="6622765">}</span><span class="op" id="6622766">}</span><span class="op" id="6622767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622770">{</span><span class="num" id="6622771">4</span><span class="op" id="6622772">,</span>&nbsp;<span class="num" id="6622774">128</span><span class="op" id="6622777">,</span>&nbsp;<span class="ident" id="6622779">IPMask</span><span class="op" id="6622785">{</span><span class="num" id="6622786">0xf0</span><span class="op" id="6622790">,</span>&nbsp;<span class="num" id="6622792">0</span><span class="op" id="6622793">,</span>&nbsp;<span class="num" id="6622795">0</span><span class="op" id="6622796">,</span>&nbsp;<span class="num" id="6622798">0</span><span class="op" id="6622799">,</span>&nbsp;<span class="num" id="6622801">0</span><span class="op" id="6622802">,</span>&nbsp;<span class="num" id="6622804">0</span><span class="op" id="6622805">,</span>&nbsp;<span class="num" id="6622807">0</span><span class="op" id="6622808">,</span>&nbsp;<span class="num" id="6622810">0</span><span class="op" id="6622811">,</span>&nbsp;<span class="num" id="6622813">0</span><span class="op" id="6622814">,</span>&nbsp;<span class="num" id="6622816">0</span><span class="op" id="6622817">,</span>&nbsp;<span class="num" id="6622819">0</span><span class="op" id="6622820">,</span>&nbsp;<span class="num" id="6622822">0</span><span class="op" id="6622823">,</span>&nbsp;<span class="num" id="6622825">0</span><span class="op" id="6622826">,</span>&nbsp;<span class="num" id="6622828">0</span><span class="op" id="6622829">,</span>&nbsp;<span class="num" id="6622831">0</span><span class="op" id="6622832">,</span>&nbsp;<span class="num" id="6622834">0</span><span class="op" id="6622835">}</span><span class="op" id="6622836">}</span><span class="op" id="6622837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622840">{</span><span class="num" id="6622841">48</span><span class="op" id="6622843">,</span>&nbsp;<span class="num" id="6622845">128</span><span class="op" id="6622848">,</span>&nbsp;<span class="ident" id="6622850">IPMask</span><span class="op" id="6622856">{</span><span class="num" id="6622857">0xff</span><span class="op" id="6622861">,</span>&nbsp;<span class="num" id="6622863">0xff</span><span class="op" id="6622867">,</span>&nbsp;<span class="num" id="6622869">0xff</span><span class="op" id="6622873">,</span>&nbsp;<span class="num" id="6622875">0xff</span><span class="op" id="6622879">,</span>&nbsp;<span class="num" id="6622881">0xff</span><span class="op" id="6622885">,</span>&nbsp;<span class="num" id="6622887">0xff</span><span class="op" id="6622891">,</span>&nbsp;<span class="num" id="6622893">0</span><span class="op" id="6622894">,</span>&nbsp;<span class="num" id="6622896">0</span><span class="op" id="6622897">,</span>&nbsp;<span class="num" id="6622899">0</span><span class="op" id="6622900">,</span>&nbsp;<span class="num" id="6622902">0</span><span class="op" id="6622903">,</span>&nbsp;<span class="num" id="6622905">0</span><span class="op" id="6622906">,</span>&nbsp;<span class="num" id="6622908">0</span><span class="op" id="6622909">,</span>&nbsp;<span class="num" id="6622911">0</span><span class="op" id="6622912">,</span>&nbsp;<span class="num" id="6622914">0</span><span class="op" id="6622915">,</span>&nbsp;<span class="num" id="6622917">0</span><span class="op" id="6622918">,</span>&nbsp;<span class="num" id="6622920">0</span><span class="op" id="6622921">}</span><span class="op" id="6622922">}</span><span class="op" id="6622923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622926">{</span><span class="num" id="6622927">128</span><span class="op" id="6622930">,</span>&nbsp;<span class="num" id="6622932">128</span><span class="op" id="6622935">,</span>&nbsp;<span class="ident" id="6622937">IPMask</span><span class="op" id="6622943">{</span><span class="num" id="6622944">0xff</span><span class="op" id="6622948">,</span>&nbsp;<span class="num" id="6622950">0xff</span><span class="op" id="6622954">,</span>&nbsp;<span class="num" id="6622956">0xff</span><span class="op" id="6622960">,</span>&nbsp;<span class="num" id="6622962">0xff</span><span class="op" id="6622966">,</span>&nbsp;<span class="num" id="6622968">0xff</span><span class="op" id="6622972">,</span>&nbsp;<span class="num" id="6622974">0xff</span><span class="op" id="6622978">,</span>&nbsp;<span class="num" id="6622980">0xff</span><span class="op" id="6622984">,</span>&nbsp;<span class="num" id="6622986">0xff</span><span class="op" id="6622990">,</span>&nbsp;<span class="num" id="6622992">0xff</span><span class="op" id="6622996">,</span>&nbsp;<span class="num" id="6622998">0xff</span><span class="op" id="6623002">,</span>&nbsp;<span class="num" id="6623004">0xff</span><span class="op" id="6623008">,</span>&nbsp;<span class="num" id="6623010">0xff</span><span class="op" id="6623014">,</span>&nbsp;<span class="num" id="6623016">0xff</span><span class="op" id="6623020">,</span>&nbsp;<span class="num" id="6623022">0xff</span><span class="op" id="6623026">,</span>&nbsp;<span class="num" id="6623028">0xff</span><span class="op" id="6623032">,</span>&nbsp;<span class="num" id="6623034">0xff</span><span class="op" id="6623038">}</span><span class="op" id="6623039">}</span><span class="op" id="6623040">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623043">{</span><span class="num" id="6623044">33</span><span class="op" id="6623046">,</span>&nbsp;<span class="num" id="6623048">32</span><span class="op" id="6623050">,</span>&nbsp;<span class="ident" id="6623052">nil</span><span class="op" id="6623055">}</span><span class="op" id="6623056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623059">{</span><span class="num" id="6623060">32</span><span class="op" id="6623062">,</span>&nbsp;<span class="num" id="6623064">33</span><span class="op" id="6623066">,</span>&nbsp;<span class="ident" id="6623068">nil</span><span class="op" id="6623071">}</span><span class="op" id="6623072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623075">{</span><span class="op" id="6623076">-</span><span class="num" id="6623077">1</span><span class="op" id="6623078">,</span>&nbsp;<span class="num" id="6623080">128</span><span class="op" id="6623083">,</span>&nbsp;<span class="ident" id="6623085">nil</span><span class="op" id="6623088">}</span><span class="op" id="6623089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623092">{</span><span class="num" id="6623093">128</span><span class="op" id="6623096">,</span>&nbsp;<span class="op" id="6623098">-</span><span class="num" id="6623099">1</span><span class="op" id="6623100">,</span>&nbsp;<span class="ident" id="6623102">nil</span><span class="op" id="6623105">}</span><span class="op" id="6623106">,</span><br>
<span class="lineno"></span><span class="op" id="6623108">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="6623111">func</span>&nbsp;<span class="ident" id="6623116">TestCIDRMask</span><span class="op" id="6623128">(</span><span class="ident" id="6623129">t</span>&nbsp;<span class="op" id="6623131">*</span><span class="ident" id="6623132">testing</span><span class="op" id="6623139">.</span><span class="ident" id="6623140">T</span><span class="op" id="6623141">)</span>&nbsp;<span class="op" id="6623143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623146">for</span>&nbsp;<span class="ident" id="6623150">_</span><span class="op" id="6623151">,</span>&nbsp;<span class="ident" id="6623153">tt</span>&nbsp;<span class="op" id="6623156">:=</span>&nbsp;<span class="keyword" id="6623159">range</span>&nbsp;<span class="ident" id="6623165">cidrMaskTests</span>&nbsp;<span class="op" id="6623179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623183">if</span>&nbsp;<span class="ident" id="6623186">out</span>&nbsp;<span class="op" id="6623190">:=</span>&nbsp;<span class="ident" id="6623193">CIDRMask</span><span class="op" id="6623201">(</span><span class="ident" id="6623202">tt</span><span class="op" id="6623204">.</span><span class="ident" id="6623205">ones</span><span class="op" id="6623209">,</span>&nbsp;<span class="ident" id="6623211">tt</span><span class="op" id="6623213">.</span><span class="ident" id="6623214">bits</span><span class="op" id="6623218">)</span><span class="op" id="6623219">;</span>&nbsp;<span class="op" id="6623221">!</span><span class="ident" id="6623222">reflect</span><span class="op" id="6623229">.</span><span class="ident" id="6623230">DeepEqual</span><span class="op" id="6623239">(</span><span class="ident" id="6623240">out</span><span class="op" id="6623243">,</span>&nbsp;<span class="ident" id="6623245">tt</span><span class="op" id="6623247">.</span><span class="ident" id="6623248">out</span><span class="op" id="6623251">)</span>&nbsp;<span class="op" id="6623253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623258">t</span><span class="op" id="6623259">.</span><span class="ident" id="6623260">Errorf</span><span class="op" id="6623266">(</span><span class="string" id="6623267">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6623299">,</span>&nbsp;<span class="ident" id="6623301">tt</span><span class="op" id="6623303">.</span><span class="ident" id="6623304">ones</span><span class="op" id="6623308">,</span>&nbsp;<span class="ident" id="6623310">tt</span><span class="op" id="6623312">.</span><span class="ident" id="6623313">bits</span><span class="op" id="6623317">,</span>&nbsp;<span class="ident" id="6623319">out</span><span class="op" id="6623322">,</span>&nbsp;<span class="ident" id="6623324">tt</span><span class="op" id="6623326">.</span><span class="ident" id="6623327">out</span><span class="op" id="6623330">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623337">}</span><br>
<span class="lineno"></span><span class="op" id="6623339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6623342">var</span>&nbsp;<span class="op" id="6623346">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623349">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6623364">=</span>&nbsp;<span class="ident" id="6623366">IP</span><span class="op" id="6623368">{</span><span class="num" id="6623369">192</span><span class="op" id="6623372">,</span>&nbsp;<span class="num" id="6623374">168</span><span class="op" id="6623377">,</span>&nbsp;<span class="num" id="6623379">0</span><span class="op" id="6623380">,</span>&nbsp;<span class="num" id="6623382">1</span><span class="op" id="6623383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623386">v4mappedv6addr</span>&nbsp;<span class="op" id="6623401">=</span>&nbsp;<span class="ident" id="6623403">IP</span><span class="op" id="6623405">{</span><span class="num" id="6623406">0</span><span class="op" id="6623407">,</span>&nbsp;<span class="num" id="6623409">0</span><span class="op" id="6623410">,</span>&nbsp;<span class="num" id="6623412">0</span><span class="op" id="6623413">,</span>&nbsp;<span class="num" id="6623415">0</span><span class="op" id="6623416">,</span>&nbsp;<span class="num" id="6623418">0</span><span class="op" id="6623419">,</span>&nbsp;<span class="num" id="6623421">0</span><span class="op" id="6623422">,</span>&nbsp;<span class="num" id="6623424">0</span><span class="op" id="6623425">,</span>&nbsp;<span class="num" id="6623427">0</span><span class="op" id="6623428">,</span>&nbsp;<span class="num" id="6623430">0</span><span class="op" id="6623431">,</span>&nbsp;<span class="num" id="6623433">0</span><span class="op" id="6623434">,</span>&nbsp;<span class="num" id="6623436">0xff</span><span class="op" id="6623440">,</span>&nbsp;<span class="num" id="6623442">0xff</span><span class="op" id="6623446">,</span>&nbsp;<span class="num" id="6623448">192</span><span class="op" id="6623451">,</span>&nbsp;<span class="num" id="6623453">168</span><span class="op" id="6623456">,</span>&nbsp;<span class="num" id="6623458">0</span><span class="op" id="6623459">,</span>&nbsp;<span class="num" id="6623461">1</span><span class="op" id="6623462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623465">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6623480">=</span>&nbsp;<span class="ident" id="6623482">IP</span><span class="op" id="6623484">{</span><span class="num" id="6623485">0x20</span><span class="op" id="6623489">,</span>&nbsp;<span class="num" id="6623491">0x1</span><span class="op" id="6623494">,</span>&nbsp;<span class="num" id="6623496">0xd</span><span class="op" id="6623499">,</span>&nbsp;<span class="num" id="6623501">0xb8</span><span class="op" id="6623505">,</span>&nbsp;<span class="num" id="6623507">0</span><span class="op" id="6623508">,</span>&nbsp;<span class="num" id="6623510">0</span><span class="op" id="6623511">,</span>&nbsp;<span class="num" id="6623513">0</span><span class="op" id="6623514">,</span>&nbsp;<span class="num" id="6623516">0</span><span class="op" id="6623517">,</span>&nbsp;<span class="num" id="6623519">0</span><span class="op" id="6623520">,</span>&nbsp;<span class="num" id="6623522">0</span><span class="op" id="6623523">,</span>&nbsp;<span class="num" id="6623525">0x1</span><span class="op" id="6623528">,</span>&nbsp;<span class="num" id="6623530">0x23</span><span class="op" id="6623534">,</span>&nbsp;<span class="num" id="6623536">0</span><span class="op" id="6623537">,</span>&nbsp;<span class="num" id="6623539">0x12</span><span class="op" id="6623543">,</span>&nbsp;<span class="num" id="6623545">0</span><span class="op" id="6623546">,</span>&nbsp;<span class="num" id="6623548">0x1</span><span class="op" id="6623551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623554">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6623569">=</span>&nbsp;<span class="ident" id="6623571">IPMask</span><span class="op" id="6623577">{</span><span class="num" id="6623578">255</span><span class="op" id="6623581">,</span>&nbsp;<span class="num" id="6623583">255</span><span class="op" id="6623586">,</span>&nbsp;<span class="num" id="6623588">255</span><span class="op" id="6623591">,</span>&nbsp;<span class="num" id="6623593">0</span><span class="op" id="6623594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623597">v4mappedv6mask</span>&nbsp;<span class="op" id="6623612">=</span>&nbsp;<span class="ident" id="6623614">IPMask</span><span class="op" id="6623620">{</span><span class="num" id="6623621">0xff</span><span class="op" id="6623625">,</span>&nbsp;<span class="num" id="6623627">0xff</span><span class="op" id="6623631">,</span>&nbsp;<span class="num" id="6623633">0xff</span><span class="op" id="6623637">,</span>&nbsp;<span class="num" id="6623639">0xff</span><span class="op" id="6623643">,</span>&nbsp;<span class="num" id="6623645">0xff</span><span class="op" id="6623649">,</span>&nbsp;<span class="num" id="6623651">0xff</span><span class="op" id="6623655">,</span>&nbsp;<span class="num" id="6623657">0xff</span><span class="op" id="6623661">,</span>&nbsp;<span class="num" id="6623663">0xff</span><span class="op" id="6623667">,</span>&nbsp;<span class="num" id="6623669">0xff</span><span class="op" id="6623673">,</span>&nbsp;<span class="num" id="6623675">0xff</span><span class="op" id="6623679">,</span>&nbsp;<span class="num" id="6623681">0xff</span><span class="op" id="6623685">,</span>&nbsp;<span class="num" id="6623687">0xff</span><span class="op" id="6623691">,</span>&nbsp;<span class="num" id="6623693">255</span><span class="op" id="6623696">,</span>&nbsp;<span class="num" id="6623698">255</span><span class="op" id="6623701">,</span>&nbsp;<span class="num" id="6623703">255</span><span class="op" id="6623706">,</span>&nbsp;<span class="num" id="6623708">0</span><span class="op" id="6623709">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623712">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6623727">=</span>&nbsp;<span class="ident" id="6623729">IPMask</span><span class="op" id="6623735">{</span><span class="num" id="6623736">0xff</span><span class="op" id="6623740">,</span>&nbsp;<span class="num" id="6623742">0xff</span><span class="op" id="6623746">,</span>&nbsp;<span class="num" id="6623748">0xff</span><span class="op" id="6623752">,</span>&nbsp;<span class="num" id="6623754">0xff</span><span class="op" id="6623758">,</span>&nbsp;<span class="num" id="6623760">0xff</span><span class="op" id="6623764">,</span>&nbsp;<span class="num" id="6623766">0xff</span><span class="op" id="6623770">,</span>&nbsp;<span class="num" id="6623772">0xff</span><span class="op" id="6623776">,</span>&nbsp;<span class="num" id="6623778">0xff</span><span class="op" id="6623782">,</span>&nbsp;<span class="num" id="6623784">0</span><span class="op" id="6623785">,</span>&nbsp;<span class="num" id="6623787">0</span><span class="op" id="6623788">,</span>&nbsp;<span class="num" id="6623790">0</span><span class="op" id="6623791">,</span>&nbsp;<span class="num" id="6623793">0</span><span class="op" id="6623794">,</span>&nbsp;<span class="num" id="6623796">0</span><span class="op" id="6623797">,</span>&nbsp;<span class="num" id="6623799">0</span><span class="op" id="6623800">,</span>&nbsp;<span class="num" id="6623802">0</span><span class="op" id="6623803">,</span>&nbsp;<span class="num" id="6623805">0</span><span class="op" id="6623806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623809">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6623824">=</span>&nbsp;<span class="ident" id="6623826">IP</span><span class="op" id="6623828">{</span><span class="num" id="6623829">192</span><span class="op" id="6623832">,</span>&nbsp;<span class="num" id="6623834">168</span><span class="op" id="6623837">,</span>&nbsp;<span class="num" id="6623839">0</span><span class="op" id="6623840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623843">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6623858">=</span>&nbsp;<span class="ident" id="6623860">IPMask</span><span class="op" id="6623866">{</span><span class="num" id="6623867">255</span><span class="op" id="6623870">,</span>&nbsp;<span class="num" id="6623872">255</span><span class="op" id="6623875">,</span>&nbsp;<span class="num" id="6623877">0</span><span class="op" id="6623878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623881">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6623896">=</span>&nbsp;<span class="ident" id="6623898">IPMask</span><span class="op" id="6623904">{</span><span class="num" id="6623905">0</span><span class="op" id="6623906">,</span>&nbsp;<span class="num" id="6623908">0</span><span class="op" id="6623909">,</span>&nbsp;<span class="num" id="6623911">0</span><span class="op" id="6623912">,</span>&nbsp;<span class="num" id="6623914">0</span><span class="op" id="6623915">}</span><br>
<span class="lineno"></span><span class="op" id="6623917">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6623920">var</span>&nbsp;<span class="ident" id="6623924">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="6623950">=</span>&nbsp;<span class="op" id="6623952">[</span><span class="op" id="6623953">]</span><span class="keyword" id="6623954">struct</span>&nbsp;<span class="op" id="6623961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623964">in</span>&nbsp;&nbsp;<span class="ident" id="6623968">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623975">out</span>&nbsp;<span class="ident" id="6623979">IPNet</span><br>
<span class="lineno"></span><span class="op" id="6623985">}</span><span class="op" id="6623986">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623989">{</span><span class="ident" id="6623990">IPNet</span><span class="op" id="6623995">{</span><span class="ident" id="6623996">IP</span><span class="op" id="6623998">:</span>&nbsp;<span class="ident" id="6624000">v4addr</span><span class="op" id="6624006">,</span>&nbsp;<span class="ident" id="6624008">Mask</span><span class="op" id="6624012">:</span>&nbsp;<span class="ident" id="6624014">v4mask</span><span class="op" id="6624020">}</span><span class="op" id="6624021">,</span>&nbsp;<span class="ident" id="6624023">IPNet</span><span class="op" id="6624028">{</span><span class="ident" id="6624029">IP</span><span class="op" id="6624031">:</span>&nbsp;<span class="ident" id="6624033">v4addr</span><span class="op" id="6624039">,</span>&nbsp;<span class="ident" id="6624041">Mask</span><span class="op" id="6624045">:</span>&nbsp;<span class="ident" id="6624047">v4mask</span><span class="op" id="6624053">}</span><span class="op" id="6624054">}</span><span class="op" id="6624055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624058">{</span><span class="ident" id="6624059">IPNet</span><span class="op" id="6624064">{</span><span class="ident" id="6624065">IP</span><span class="op" id="6624067">:</span>&nbsp;<span class="ident" id="6624069">v4addr</span><span class="op" id="6624075">,</span>&nbsp;<span class="ident" id="6624077">Mask</span><span class="op" id="6624081">:</span>&nbsp;<span class="ident" id="6624083">v4mappedv6mask</span><span class="op" id="6624097">}</span><span class="op" id="6624098">,</span>&nbsp;<span class="ident" id="6624100">IPNet</span><span class="op" id="6624105">{</span><span class="ident" id="6624106">IP</span><span class="op" id="6624108">:</span>&nbsp;<span class="ident" id="6624110">v4addr</span><span class="op" id="6624116">,</span>&nbsp;<span class="ident" id="6624118">Mask</span><span class="op" id="6624122">:</span>&nbsp;<span class="ident" id="6624124">v4mask</span><span class="op" id="6624130">}</span><span class="op" id="6624131">}</span><span class="op" id="6624132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624135">{</span><span class="ident" id="6624136">IPNet</span><span class="op" id="6624141">{</span><span class="ident" id="6624142">IP</span><span class="op" id="6624144">:</span>&nbsp;<span class="ident" id="6624146">v4mappedv6addr</span><span class="op" id="6624160">,</span>&nbsp;<span class="ident" id="6624162">Mask</span><span class="op" id="6624166">:</span>&nbsp;<span class="ident" id="6624168">v4mappedv6mask</span><span class="op" id="6624182">}</span><span class="op" id="6624183">,</span>&nbsp;<span class="ident" id="6624185">IPNet</span><span class="op" id="6624190">{</span><span class="ident" id="6624191">IP</span><span class="op" id="6624193">:</span>&nbsp;<span class="ident" id="6624195">v4addr</span><span class="op" id="6624201">,</span>&nbsp;<span class="ident" id="6624203">Mask</span><span class="op" id="6624207">:</span>&nbsp;<span class="ident" id="6624209">v4mask</span><span class="op" id="6624215">}</span><span class="op" id="6624216">}</span><span class="op" id="6624217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624220">{</span><span class="ident" id="6624221">IPNet</span><span class="op" id="6624226">{</span><span class="ident" id="6624227">IP</span><span class="op" id="6624229">:</span>&nbsp;<span class="ident" id="6624231">v4mappedv6addr</span><span class="op" id="6624245">,</span>&nbsp;<span class="ident" id="6624247">Mask</span><span class="op" id="6624251">:</span>&nbsp;<span class="ident" id="6624253">v6mask</span><span class="op" id="6624259">}</span><span class="op" id="6624260">,</span>&nbsp;<span class="ident" id="6624262">IPNet</span><span class="op" id="6624267">{</span><span class="ident" id="6624268">IP</span><span class="op" id="6624270">:</span>&nbsp;<span class="ident" id="6624272">v4addr</span><span class="op" id="6624278">,</span>&nbsp;<span class="ident" id="6624280">Mask</span><span class="op" id="6624284">:</span>&nbsp;<span class="ident" id="6624286">v4maskzero</span><span class="op" id="6624296">}</span><span class="op" id="6624297">}</span><span class="op" id="6624298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624301">{</span><span class="ident" id="6624302">IPNet</span><span class="op" id="6624307">{</span><span class="ident" id="6624308">IP</span><span class="op" id="6624310">:</span>&nbsp;<span class="ident" id="6624312">v4addr</span><span class="op" id="6624318">,</span>&nbsp;<span class="ident" id="6624320">Mask</span><span class="op" id="6624324">:</span>&nbsp;<span class="ident" id="6624326">v6mask</span><span class="op" id="6624332">}</span><span class="op" id="6624333">,</span>&nbsp;<span class="ident" id="6624335">IPNet</span><span class="op" id="6624340">{</span><span class="ident" id="6624341">IP</span><span class="op" id="6624343">:</span>&nbsp;<span class="ident" id="6624345">v4addr</span><span class="op" id="6624351">,</span>&nbsp;<span class="ident" id="6624353">Mask</span><span class="op" id="6624357">:</span>&nbsp;<span class="ident" id="6624359">v4maskzero</span><span class="op" id="6624369">}</span><span class="op" id="6624370">}</span><span class="op" id="6624371">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624374">{</span><span class="ident" id="6624375">IPNet</span><span class="op" id="6624380">{</span><span class="ident" id="6624381">IP</span><span class="op" id="6624383">:</span>&nbsp;<span class="ident" id="6624385">v6addr</span><span class="op" id="6624391">,</span>&nbsp;<span class="ident" id="6624393">Mask</span><span class="op" id="6624397">:</span>&nbsp;<span class="ident" id="6624399">v6mask</span><span class="op" id="6624405">}</span><span class="op" id="6624406">,</span>&nbsp;<span class="ident" id="6624408">IPNet</span><span class="op" id="6624413">{</span><span class="ident" id="6624414">IP</span><span class="op" id="6624416">:</span>&nbsp;<span class="ident" id="6624418">v6addr</span><span class="op" id="6624424">,</span>&nbsp;<span class="ident" id="6624426">Mask</span><span class="op" id="6624430">:</span>&nbsp;<span class="ident" id="6624432">v6mask</span><span class="op" id="6624438">}</span><span class="op" id="6624439">}</span><span class="op" id="6624440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624443">{</span><span class="ident" id="6624444">IPNet</span><span class="op" id="6624449">{</span><span class="ident" id="6624450">IP</span><span class="op" id="6624452">:</span>&nbsp;<span class="ident" id="6624454">v6addr</span><span class="op" id="6624460">,</span>&nbsp;<span class="ident" id="6624462">Mask</span><span class="op" id="6624466">:</span>&nbsp;<span class="ident" id="6624468">v4mappedv6mask</span><span class="op" id="6624482">}</span><span class="op" id="6624483">,</span>&nbsp;<span class="ident" id="6624485">IPNet</span><span class="op" id="6624490">{</span><span class="ident" id="6624491">IP</span><span class="op" id="6624493">:</span>&nbsp;<span class="ident" id="6624495">v6addr</span><span class="op" id="6624501">,</span>&nbsp;<span class="ident" id="6624503">Mask</span><span class="op" id="6624507">:</span>&nbsp;<span class="ident" id="6624509">v4mappedv6mask</span><span class="op" id="6624523">}</span><span class="op" id="6624524">}</span><span class="op" id="6624525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624528">{</span><span class="ident" id="6624529">in</span><span class="op" id="6624531">:</span>&nbsp;<span class="ident" id="6624533">IPNet</span><span class="op" id="6624538">{</span><span class="ident" id="6624539">IP</span><span class="op" id="6624541">:</span>&nbsp;<span class="ident" id="6624543">v6addr</span><span class="op" id="6624549">,</span>&nbsp;<span class="ident" id="6624551">Mask</span><span class="op" id="6624555">:</span>&nbsp;<span class="ident" id="6624557">v4mask</span><span class="op" id="6624563">}</span><span class="op" id="6624564">}</span><span class="op" id="6624565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624568">{</span><span class="ident" id="6624569">in</span><span class="op" id="6624571">:</span>&nbsp;<span class="ident" id="6624573">IPNet</span><span class="op" id="6624578">{</span><span class="ident" id="6624579">IP</span><span class="op" id="6624581">:</span>&nbsp;<span class="ident" id="6624583">v4addr</span><span class="op" id="6624589">,</span>&nbsp;<span class="ident" id="6624591">Mask</span><span class="op" id="6624595">:</span>&nbsp;<span class="ident" id="6624597">badmask</span><span class="op" id="6624604">}</span><span class="op" id="6624605">}</span><span class="op" id="6624606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624609">{</span><span class="ident" id="6624610">in</span><span class="op" id="6624612">:</span>&nbsp;<span class="ident" id="6624614">IPNet</span><span class="op" id="6624619">{</span><span class="ident" id="6624620">IP</span><span class="op" id="6624622">:</span>&nbsp;<span class="ident" id="6624624">v4mappedv6addr</span><span class="op" id="6624638">,</span>&nbsp;<span class="ident" id="6624640">Mask</span><span class="op" id="6624644">:</span>&nbsp;<span class="ident" id="6624646">badmask</span><span class="op" id="6624653">}</span><span class="op" id="6624654">}</span><span class="op" id="6624655">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624658">{</span><span class="ident" id="6624659">in</span><span class="op" id="6624661">:</span>&nbsp;<span class="ident" id="6624663">IPNet</span><span class="op" id="6624668">{</span><span class="ident" id="6624669">IP</span><span class="op" id="6624671">:</span>&nbsp;<span class="ident" id="6624673">v6addr</span><span class="op" id="6624679">,</span>&nbsp;<span class="ident" id="6624681">Mask</span><span class="op" id="6624685">:</span>&nbsp;<span class="ident" id="6624687">badmask</span><span class="op" id="6624694">}</span><span class="op" id="6624695">}</span><span class="op" id="6624696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624699">{</span><span class="ident" id="6624700">in</span><span class="op" id="6624702">:</span>&nbsp;<span class="ident" id="6624704">IPNet</span><span class="op" id="6624709">{</span><span class="ident" id="6624710">IP</span><span class="op" id="6624712">:</span>&nbsp;<span class="ident" id="6624714">badaddr</span><span class="op" id="6624721">,</span>&nbsp;<span class="ident" id="6624723">Mask</span><span class="op" id="6624727">:</span>&nbsp;<span class="ident" id="6624729">v4mask</span><span class="op" id="6624735">}</span><span class="op" id="6624736">}</span><span class="op" id="6624737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624740">{</span><span class="ident" id="6624741">in</span><span class="op" id="6624743">:</span>&nbsp;<span class="ident" id="6624745">IPNet</span><span class="op" id="6624750">{</span><span class="ident" id="6624751">IP</span><span class="op" id="6624753">:</span>&nbsp;<span class="ident" id="6624755">badaddr</span><span class="op" id="6624762">,</span>&nbsp;<span class="ident" id="6624764">Mask</span><span class="op" id="6624768">:</span>&nbsp;<span class="ident" id="6624770">v4mappedv6mask</span><span class="op" id="6624784">}</span><span class="op" id="6624785">}</span><span class="op" id="6624786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624789">{</span><span class="ident" id="6624790">in</span><span class="op" id="6624792">:</span>&nbsp;<span class="ident" id="6624794">IPNet</span><span class="op" id="6624799">{</span><span class="ident" id="6624800">IP</span><span class="op" id="6624802">:</span>&nbsp;<span class="ident" id="6624804">badaddr</span><span class="op" id="6624811">,</span>&nbsp;<span class="ident" id="6624813">Mask</span><span class="op" id="6624817">:</span>&nbsp;<span class="ident" id="6624819">v6mask</span><span class="op" id="6624825">}</span><span class="op" id="6624826">}</span><span class="op" id="6624827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624830">{</span><span class="ident" id="6624831">in</span><span class="op" id="6624833">:</span>&nbsp;<span class="ident" id="6624835">IPNet</span><span class="op" id="6624840">{</span><span class="ident" id="6624841">IP</span><span class="op" id="6624843">:</span>&nbsp;<span class="ident" id="6624845">badaddr</span><span class="op" id="6624852">,</span>&nbsp;<span class="ident" id="6624854">Mask</span><span class="op" id="6624858">:</span>&nbsp;<span class="ident" id="6624860">badmask</span><span class="op" id="6624867">}</span><span class="op" id="6624868">}</span><span class="op" id="6624869">,</span><br>
<span class="lineno">300</span><span class="op" id="6624871">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6624874">func</span>&nbsp;<span class="ident" id="6624879">TestNetworkNumberAndMask</span><span class="op" id="6624903">(</span><span class="ident" id="6624904">t</span>&nbsp;<span class="op" id="6624906">*</span><span class="ident" id="6624907">testing</span><span class="op" id="6624914">.</span><span class="ident" id="6624915">T</span><span class="op" id="6624916">)</span>&nbsp;<span class="op" id="6624918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6624921">for</span>&nbsp;<span class="ident" id="6624925">_</span><span class="op" id="6624926">,</span>&nbsp;<span class="ident" id="6624928">tt</span>&nbsp;<span class="op" id="6624931">:=</span>&nbsp;<span class="keyword" id="6624934">range</span>&nbsp;<span class="ident" id="6624940">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="6624966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624970">ip</span><span class="op" id="6624972">,</span>&nbsp;<span class="ident" id="6624974">m</span>&nbsp;<span class="op" id="6624976">:=</span>&nbsp;<span class="ident" id="6624979">networkNumberAndMask</span><span class="op" id="6624999">(</span><span class="op" id="6625000">&amp;</span><span class="ident" id="6625001">tt</span><span class="op" id="6625003">.</span><span class="ident" id="6625004">in</span><span class="op" id="6625006">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625010">out</span>&nbsp;<span class="op" id="6625014">:=</span>&nbsp;<span class="op" id="6625017">&amp;</span><span class="ident" id="6625018">IPNet</span><span class="op" id="6625023">{</span><span class="ident" id="6625024">IP</span><span class="op" id="6625026">:</span>&nbsp;<span class="ident" id="6625028">ip</span><span class="op" id="6625030">,</span>&nbsp;<span class="ident" id="6625032">Mask</span><span class="op" id="6625036">:</span>&nbsp;<span class="ident" id="6625038">m</span><span class="op" id="6625039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6625043">if</span>&nbsp;<span class="op" id="6625046">!</span><span class="ident" id="6625047">reflect</span><span class="op" id="6625054">.</span><span class="ident" id="6625055">DeepEqual</span><span class="op" id="6625064">(</span><span class="op" id="6625065">&amp;</span><span class="ident" id="6625066">tt</span><span class="op" id="6625068">.</span><span class="ident" id="6625069">out</span><span class="op" id="6625072">,</span>&nbsp;<span class="ident" id="6625074">out</span><span class="op" id="6625077">)</span>&nbsp;<span class="op" id="6625079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625084">t</span><span class="op" id="6625085">.</span><span class="ident" id="6625086">Errorf</span><span class="op" id="6625092">(</span><span class="string" id="6625093">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6625133">,</span>&nbsp;<span class="ident" id="6625135">tt</span><span class="op" id="6625137">.</span><span class="ident" id="6625138">in</span><span class="op" id="6625140">,</span>&nbsp;<span class="ident" id="6625142">out</span><span class="op" id="6625145">,</span>&nbsp;<span class="op" id="6625147">&amp;</span><span class="ident" id="6625148">tt</span><span class="op" id="6625150">.</span><span class="ident" id="6625151">out</span><span class="op" id="6625154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625161">}</span><br>
<span class="lineno">310</span><span class="op" id="6625163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6625166">var</span>&nbsp;<span class="ident" id="6625170">splitJoinTests</span>&nbsp;<span class="op" id="6625185">=</span>&nbsp;<span class="op" id="6625187">[</span><span class="op" id="6625188">]</span><span class="keyword" id="6625189">struct</span>&nbsp;<span class="op" id="6625196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625199">host</span>&nbsp;<span class="builtintype" id="6625204">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625212">port</span>&nbsp;<span class="builtintype" id="6625217">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625225">join</span>&nbsp;<span class="builtintype" id="6625230">string</span><br>
<span class="lineno"></span><span class="op" id="6625237">}</span><span class="op" id="6625238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625241">{</span><span class="string" id="6625242">&#34;www.google.com&#34;</span><span class="op" id="6625258">,</span>&nbsp;<span class="string" id="6625260">&#34;80&#34;</span><span class="op" id="6625264">,</span>&nbsp;<span class="string" id="6625266">&#34;www.google.com:80&#34;</span><span class="op" id="6625285">}</span><span class="op" id="6625286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625289">{</span><span class="string" id="6625290">&#34;127.0.0.1&#34;</span><span class="op" id="6625301">,</span>&nbsp;<span class="string" id="6625303">&#34;1234&#34;</span><span class="op" id="6625309">,</span>&nbsp;<span class="string" id="6625311">&#34;127.0.0.1:1234&#34;</span><span class="op" id="6625327">}</span><span class="op" id="6625328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625331">{</span><span class="string" id="6625332">&#34;::1&#34;</span><span class="op" id="6625337">,</span>&nbsp;<span class="string" id="6625339">&#34;80&#34;</span><span class="op" id="6625343">,</span>&nbsp;<span class="string" id="6625345">&#34;[::1]:80&#34;</span><span class="op" id="6625355">}</span><span class="op" id="6625356">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625359">{</span><span class="string" id="6625360">&#34;fe80::1%lo0&#34;</span><span class="op" id="6625373">,</span>&nbsp;<span class="string" id="6625375">&#34;80&#34;</span><span class="op" id="6625379">,</span>&nbsp;<span class="string" id="6625381">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="6625399">}</span><span class="op" id="6625400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625403">{</span><span class="string" id="6625404">&#34;localhost%lo0&#34;</span><span class="op" id="6625419">,</span>&nbsp;<span class="string" id="6625421">&#34;80&#34;</span><span class="op" id="6625425">,</span>&nbsp;<span class="string" id="6625427">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="6625447">}</span><span class="op" id="6625448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625451">{</span><span class="string" id="6625452">&#34;&#34;</span><span class="op" id="6625454">,</span>&nbsp;<span class="string" id="6625456">&#34;0&#34;</span><span class="op" id="6625459">,</span>&nbsp;<span class="string" id="6625461">&#34;:0&#34;</span><span class="op" id="6625465">}</span><span class="op" id="6625466">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625470">{</span><span class="string" id="6625471">&#34;google.com&#34;</span><span class="op" id="6625483">,</span>&nbsp;<span class="string" id="6625485">&#34;https%foo&#34;</span><span class="op" id="6625496">,</span>&nbsp;<span class="string" id="6625498">&#34;google.com:https%foo&#34;</span><span class="op" id="6625520">}</span><span class="op" id="6625521">,</span>&nbsp;<span class="comment" id="6625523">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625543">{</span><span class="string" id="6625544">&#34;127.0.0.1&#34;</span><span class="op" id="6625555">,</span>&nbsp;<span class="string" id="6625557">&#34;&#34;</span><span class="op" id="6625559">,</span>&nbsp;<span class="string" id="6625561">&#34;127.0.0.1:&#34;</span><span class="op" id="6625573">}</span><span class="op" id="6625574">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6625596">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625617">{</span><span class="string" id="6625618">&#34;www.google.com&#34;</span><span class="op" id="6625634">,</span>&nbsp;<span class="string" id="6625636">&#34;&#34;</span><span class="op" id="6625638">,</span>&nbsp;<span class="string" id="6625640">&#34;www.google.com:&#34;</span><span class="op" id="6625657">}</span><span class="op" id="6625658">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6625670">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="6625690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6625693">var</span>&nbsp;<span class="ident" id="6625697">splitFailureTests</span>&nbsp;<span class="op" id="6625715">=</span>&nbsp;<span class="op" id="6625717">[</span><span class="op" id="6625718">]</span><span class="keyword" id="6625719">struct</span>&nbsp;<span class="op" id="6625726">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625729">hostPort</span>&nbsp;<span class="builtintype" id="6625738">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625746">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6625755">string</span><br>
<span class="lineno"></span><span class="op" id="6625762">}</span><span class="op" id="6625763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625766">{</span><span class="string" id="6625767">&#34;www.google.com&#34;</span><span class="op" id="6625783">,</span>&nbsp;<span class="string" id="6625785">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6625810">}</span><span class="op" id="6625811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625814">{</span><span class="string" id="6625815">&#34;127.0.0.1&#34;</span><span class="op" id="6625826">,</span>&nbsp;<span class="string" id="6625828">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6625853">}</span><span class="op" id="6625854">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625857">{</span><span class="string" id="6625858">&#34;[::1]&#34;</span><span class="op" id="6625865">,</span>&nbsp;<span class="string" id="6625867">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6625892">}</span><span class="op" id="6625893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625896">{</span><span class="string" id="6625897">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="6625912">,</span>&nbsp;<span class="string" id="6625914">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6625939">}</span><span class="op" id="6625940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625943">{</span><span class="string" id="6625944">&#34;[localhost%lo0]&#34;</span><span class="op" id="6625961">,</span>&nbsp;<span class="string" id="6625963">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6625988">}</span><span class="op" id="6625989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625992">{</span><span class="string" id="6625993">&#34;localhost%lo0&#34;</span><span class="op" id="6626008">,</span>&nbsp;<span class="string" id="6626010">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626035">}</span><span class="op" id="6626036">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626040">{</span><span class="string" id="6626041">&#34;::1&#34;</span><span class="op" id="6626046">,</span>&nbsp;<span class="string" id="6626048">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626076">}</span><span class="op" id="6626077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626080">{</span><span class="string" id="6626081">&#34;fe80::1%lo0&#34;</span><span class="op" id="6626094">,</span>&nbsp;<span class="string" id="6626096">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626124">}</span><span class="op" id="6626125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626128">{</span><span class="string" id="6626129">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="6626145">,</span>&nbsp;<span class="string" id="6626147">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626175">}</span><span class="op" id="6626176">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626180">{</span><span class="string" id="6626181">&#34;localhost%lo0:80&#34;</span><span class="op" id="6626199">,</span>&nbsp;<span class="string" id="6626201">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626230">}</span><span class="op" id="6626231">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6626235">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626278">{</span><span class="string" id="6626279">&#34;[foo:bar]&#34;</span><span class="op" id="6626290">,</span>&nbsp;<span class="string" id="6626292">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626317">}</span><span class="op" id="6626318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626321">{</span><span class="string" id="6626322">&#34;[foo:bar]baz&#34;</span><span class="op" id="6626336">,</span>&nbsp;<span class="string" id="6626338">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626363">}</span><span class="op" id="6626364">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626367">{</span><span class="string" id="6626368">&#34;[foo]bar:baz&#34;</span><span class="op" id="6626382">,</span>&nbsp;<span class="string" id="6626384">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626409">}</span><span class="op" id="6626410">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626414">{</span><span class="string" id="6626415">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="6626432">,</span>&nbsp;<span class="string" id="6626434">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626462">}</span><span class="op" id="6626463">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626467">{</span><span class="string" id="6626468">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="6626484">,</span>&nbsp;<span class="string" id="6626486">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626513">}</span><span class="op" id="6626514">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626517">{</span><span class="string" id="6626518">&#34;foo[bar]:baz&#34;</span><span class="op" id="6626532">,</span>&nbsp;<span class="string" id="6626534">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626561">}</span><span class="op" id="6626562">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626566">{</span><span class="string" id="6626567">&#34;foo]bar:baz&#34;</span><span class="op" id="6626580">,</span>&nbsp;<span class="string" id="6626582">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6626609">}</span><span class="op" id="6626610">,</span><br>
<span class="lineno"></span><span class="op" id="6626612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="6626615">func</span>&nbsp;<span class="ident" id="6626620">TestSplitHostPort</span><span class="op" id="6626637">(</span><span class="ident" id="6626638">t</span>&nbsp;<span class="op" id="6626640">*</span><span class="ident" id="6626641">testing</span><span class="op" id="6626648">.</span><span class="ident" id="6626649">T</span><span class="op" id="6626650">)</span>&nbsp;<span class="op" id="6626652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6626655">for</span>&nbsp;<span class="ident" id="6626659">_</span><span class="op" id="6626660">,</span>&nbsp;<span class="ident" id="6626662">tt</span>&nbsp;<span class="op" id="6626665">:=</span>&nbsp;<span class="keyword" id="6626668">range</span>&nbsp;<span class="ident" id="6626674">splitJoinTests</span>&nbsp;<span class="op" id="6626689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6626693">if</span>&nbsp;<span class="ident" id="6626696">host</span><span class="op" id="6626700">,</span>&nbsp;<span class="ident" id="6626702">port</span><span class="op" id="6626706">,</span>&nbsp;<span class="ident" id="6626708">err</span>&nbsp;<span class="op" id="6626712">:=</span>&nbsp;<span class="ident" id="6626715">SplitHostPort</span><span class="op" id="6626728">(</span><span class="ident" id="6626729">tt</span><span class="op" id="6626731">.</span><span class="ident" id="6626732">join</span><span class="op" id="6626736">)</span><span class="op" id="6626737">;</span>&nbsp;<span class="ident" id="6626739">host</span>&nbsp;<span class="op" id="6626744">!=</span>&nbsp;<span class="ident" id="6626747">tt</span><span class="op" id="6626749">.</span><span class="ident" id="6626750">host</span>&nbsp;<span class="op" id="6626755">||</span>&nbsp;<span class="ident" id="6626758">port</span>&nbsp;<span class="op" id="6626763">!=</span>&nbsp;<span class="ident" id="6626766">tt</span><span class="op" id="6626768">.</span><span class="ident" id="6626769">port</span>&nbsp;<span class="op" id="6626774">||</span>&nbsp;<span class="ident" id="6626777">err</span>&nbsp;<span class="op" id="6626781">!=</span>&nbsp;<span class="ident" id="6626784">nil</span>&nbsp;<span class="op" id="6626788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6626793">t</span><span class="op" id="6626794">.</span><span class="ident" id="6626795">Errorf</span><span class="op" id="6626801">(</span><span class="string" id="6626802">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="6626852">,</span>&nbsp;<span class="ident" id="6626854">tt</span><span class="op" id="6626856">.</span><span class="ident" id="6626857">join</span><span class="op" id="6626861">,</span>&nbsp;<span class="ident" id="6626863">host</span><span class="op" id="6626867">,</span>&nbsp;<span class="ident" id="6626869">port</span><span class="op" id="6626873">,</span>&nbsp;<span class="ident" id="6626875">err</span><span class="op" id="6626878">,</span>&nbsp;<span class="ident" id="6626880">tt</span><span class="op" id="6626882">.</span><span class="ident" id="6626883">host</span><span class="op" id="6626887">,</span>&nbsp;<span class="ident" id="6626889">tt</span><span class="op" id="6626891">.</span><span class="ident" id="6626892">port</span><span class="op" id="6626896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626900">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6626903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6626906">for</span>&nbsp;<span class="ident" id="6626910">_</span><span class="op" id="6626911">,</span>&nbsp;<span class="ident" id="6626913">tt</span>&nbsp;<span class="op" id="6626916">:=</span>&nbsp;<span class="keyword" id="6626919">range</span>&nbsp;<span class="ident" id="6626925">splitFailureTests</span>&nbsp;<span class="op" id="6626943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6626947">if</span>&nbsp;<span class="ident" id="6626950">_</span><span class="op" id="6626951">,</span>&nbsp;<span class="ident" id="6626953">_</span><span class="op" id="6626954">,</span>&nbsp;<span class="ident" id="6626956">err</span>&nbsp;<span class="op" id="6626960">:=</span>&nbsp;<span class="ident" id="6626963">SplitHostPort</span><span class="op" id="6626976">(</span><span class="ident" id="6626977">tt</span><span class="op" id="6626979">.</span><span class="ident" id="6626980">hostPort</span><span class="op" id="6626988">)</span><span class="op" id="6626989">;</span>&nbsp;<span class="ident" id="6626991">err</span>&nbsp;<span class="op" id="6626995">==</span>&nbsp;<span class="ident" id="6626998">nil</span>&nbsp;<span class="op" id="6627002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627007">t</span><span class="op" id="6627008">.</span><span class="ident" id="6627009">Errorf</span><span class="op" id="6627015">(</span><span class="string" id="6627016">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="6627054">,</span>&nbsp;<span class="ident" id="6627056">tt</span><span class="op" id="6627058">.</span><span class="ident" id="6627059">hostPort</span><span class="op" id="6627067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627071">}</span>&nbsp;<span class="keyword" id="6627073">else</span>&nbsp;<span class="op" id="6627078">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627083">e</span>&nbsp;<span class="op" id="6627085">:=</span>&nbsp;<span class="ident" id="6627088">err</span><span class="op" id="6627091">.</span><span class="op" id="6627092">(</span><span class="op" id="6627093">*</span><span class="ident" id="6627094">AddrError</span><span class="op" id="6627103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6627108">if</span>&nbsp;<span class="ident" id="6627111">e</span><span class="op" id="6627112">.</span><span class="ident" id="6627113">Err</span>&nbsp;<span class="op" id="6627117">!=</span>&nbsp;<span class="ident" id="6627120">tt</span><span class="op" id="6627122">.</span><span class="ident" id="6627123">err</span>&nbsp;<span class="op" id="6627127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627133">t</span><span class="op" id="6627134">.</span><span class="ident" id="6627135">Errorf</span><span class="op" id="6627141">(</span><span class="string" id="6627142">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6627181">,</span>&nbsp;<span class="ident" id="6627183">tt</span><span class="op" id="6627185">.</span><span class="ident" id="6627186">hostPort</span><span class="op" id="6627194">,</span>&nbsp;<span class="ident" id="6627196">e</span><span class="op" id="6627197">.</span><span class="ident" id="6627198">Err</span><span class="op" id="6627201">,</span>&nbsp;<span class="ident" id="6627203">tt</span><span class="op" id="6627205">.</span><span class="ident" id="6627206">err</span><span class="op" id="6627209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627218">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627221">}</span><br>
<span class="lineno"></span><span class="op" id="6627223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6627226">func</span>&nbsp;<span class="ident" id="6627231">TestJoinHostPort</span><span class="op" id="6627247">(</span><span class="ident" id="6627248">t</span>&nbsp;<span class="op" id="6627250">*</span><span class="ident" id="6627251">testing</span><span class="op" id="6627258">.</span><span class="ident" id="6627259">T</span><span class="op" id="6627260">)</span>&nbsp;<span class="op" id="6627262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6627265">for</span>&nbsp;<span class="ident" id="6627269">_</span><span class="op" id="6627270">,</span>&nbsp;<span class="ident" id="6627272">tt</span>&nbsp;<span class="op" id="6627275">:=</span>&nbsp;<span class="keyword" id="6627278">range</span>&nbsp;<span class="ident" id="6627284">splitJoinTests</span>&nbsp;<span class="op" id="6627299">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6627303">if</span>&nbsp;<span class="ident" id="6627306">join</span>&nbsp;<span class="op" id="6627311">:=</span>&nbsp;<span class="ident" id="6627314">JoinHostPort</span><span class="op" id="6627326">(</span><span class="ident" id="6627327">tt</span><span class="op" id="6627329">.</span><span class="ident" id="6627330">host</span><span class="op" id="6627334">,</span>&nbsp;<span class="ident" id="6627336">tt</span><span class="op" id="6627338">.</span><span class="ident" id="6627339">port</span><span class="op" id="6627343">)</span><span class="op" id="6627344">;</span>&nbsp;<span class="ident" id="6627346">join</span>&nbsp;<span class="op" id="6627351">!=</span>&nbsp;<span class="ident" id="6627354">tt</span><span class="op" id="6627356">.</span><span class="ident" id="6627357">join</span>&nbsp;<span class="op" id="6627362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627367">t</span><span class="op" id="6627368">.</span><span class="ident" id="6627369">Errorf</span><span class="op" id="6627375">(</span><span class="string" id="6627376">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6627412">,</span>&nbsp;<span class="ident" id="6627414">tt</span><span class="op" id="6627416">.</span><span class="ident" id="6627417">host</span><span class="op" id="6627421">,</span>&nbsp;<span class="ident" id="6627423">tt</span><span class="op" id="6627425">.</span><span class="ident" id="6627426">port</span><span class="op" id="6627430">,</span>&nbsp;<span class="ident" id="6627432">join</span><span class="op" id="6627436">,</span>&nbsp;<span class="ident" id="6627438">tt</span><span class="op" id="6627440">.</span><span class="ident" id="6627441">join</span><span class="op" id="6627445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627452">}</span><br>
<span class="lineno"></span><span class="op" id="6627454">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="6627457">var</span>&nbsp;<span class="ident" id="6627461">ipAddrFamilyTests</span>&nbsp;<span class="op" id="6627479">=</span>&nbsp;<span class="op" id="6627481">[</span><span class="op" id="6627482">]</span><span class="keyword" id="6627483">struct</span>&nbsp;<span class="op" id="6627490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627493">in</span>&nbsp;&nbsp;<span class="ident" id="6627497">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627501">af4</span>&nbsp;<span class="builtintype" id="6627505">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627511">af6</span>&nbsp;<span class="builtintype" id="6627515">bool</span><br>
<span class="lineno">390</span><span class="op" id="6627520">}</span><span class="op" id="6627521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627524">{</span><span class="ident" id="6627525">IPv4bcast</span><span class="op" id="6627534">,</span>&nbsp;<span class="builtintype" id="6627536">true</span><span class="op" id="6627540">,</span>&nbsp;<span class="builtintype" id="6627542">false</span><span class="op" id="6627547">}</span><span class="op" id="6627548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627551">{</span><span class="ident" id="6627552">IPv4allsys</span><span class="op" id="6627562">,</span>&nbsp;<span class="builtintype" id="6627564">true</span><span class="op" id="6627568">,</span>&nbsp;<span class="builtintype" id="6627570">false</span><span class="op" id="6627575">}</span><span class="op" id="6627576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627579">{</span><span class="ident" id="6627580">IPv4allrouter</span><span class="op" id="6627593">,</span>&nbsp;<span class="builtintype" id="6627595">true</span><span class="op" id="6627599">,</span>&nbsp;<span class="builtintype" id="6627601">false</span><span class="op" id="6627606">}</span><span class="op" id="6627607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627610">{</span><span class="ident" id="6627611">IPv4zero</span><span class="op" id="6627619">,</span>&nbsp;<span class="builtintype" id="6627621">true</span><span class="op" id="6627625">,</span>&nbsp;<span class="builtintype" id="6627627">false</span><span class="op" id="6627632">}</span><span class="op" id="6627633">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627636">{</span><span class="ident" id="6627637">IPv4</span><span class="op" id="6627641">(</span><span class="num" id="6627642">224</span><span class="op" id="6627645">,</span>&nbsp;<span class="num" id="6627647">0</span><span class="op" id="6627648">,</span>&nbsp;<span class="num" id="6627650">0</span><span class="op" id="6627651">,</span>&nbsp;<span class="num" id="6627653">1</span><span class="op" id="6627654">)</span><span class="op" id="6627655">,</span>&nbsp;<span class="builtintype" id="6627657">true</span><span class="op" id="6627661">,</span>&nbsp;<span class="builtintype" id="6627663">false</span><span class="op" id="6627668">}</span><span class="op" id="6627669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627672">{</span><span class="ident" id="6627673">IPv4</span><span class="op" id="6627677">(</span><span class="num" id="6627678">127</span><span class="op" id="6627681">,</span>&nbsp;<span class="num" id="6627683">0</span><span class="op" id="6627684">,</span>&nbsp;<span class="num" id="6627686">0</span><span class="op" id="6627687">,</span>&nbsp;<span class="num" id="6627689">1</span><span class="op" id="6627690">)</span><span class="op" id="6627691">,</span>&nbsp;<span class="builtintype" id="6627693">true</span><span class="op" id="6627697">,</span>&nbsp;<span class="builtintype" id="6627699">false</span><span class="op" id="6627704">}</span><span class="op" id="6627705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627708">{</span><span class="ident" id="6627709">IPv4</span><span class="op" id="6627713">(</span><span class="num" id="6627714">240</span><span class="op" id="6627717">,</span>&nbsp;<span class="num" id="6627719">0</span><span class="op" id="6627720">,</span>&nbsp;<span class="num" id="6627722">0</span><span class="op" id="6627723">,</span>&nbsp;<span class="num" id="6627725">1</span><span class="op" id="6627726">)</span><span class="op" id="6627727">,</span>&nbsp;<span class="builtintype" id="6627729">true</span><span class="op" id="6627733">,</span>&nbsp;<span class="builtintype" id="6627735">false</span><span class="op" id="6627740">}</span><span class="op" id="6627741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627744">{</span><span class="ident" id="6627745">IPv6unspecified</span><span class="op" id="6627760">,</span>&nbsp;<span class="builtintype" id="6627762">false</span><span class="op" id="6627767">,</span>&nbsp;<span class="builtintype" id="6627769">true</span><span class="op" id="6627773">}</span><span class="op" id="6627774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627777">{</span><span class="ident" id="6627778">IPv6loopback</span><span class="op" id="6627790">,</span>&nbsp;<span class="builtintype" id="6627792">false</span><span class="op" id="6627797">,</span>&nbsp;<span class="builtintype" id="6627799">true</span><span class="op" id="6627803">}</span><span class="op" id="6627804">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627807">{</span><span class="ident" id="6627808">IPv6interfacelocalallnodes</span><span class="op" id="6627834">,</span>&nbsp;<span class="builtintype" id="6627836">false</span><span class="op" id="6627841">,</span>&nbsp;<span class="builtintype" id="6627843">true</span><span class="op" id="6627847">}</span><span class="op" id="6627848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627851">{</span><span class="ident" id="6627852">IPv6linklocalallnodes</span><span class="op" id="6627873">,</span>&nbsp;<span class="builtintype" id="6627875">false</span><span class="op" id="6627880">,</span>&nbsp;<span class="builtintype" id="6627882">true</span><span class="op" id="6627886">}</span><span class="op" id="6627887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627890">{</span><span class="ident" id="6627891">IPv6linklocalallrouters</span><span class="op" id="6627914">,</span>&nbsp;<span class="builtintype" id="6627916">false</span><span class="op" id="6627921">,</span>&nbsp;<span class="builtintype" id="6627923">true</span><span class="op" id="6627927">}</span><span class="op" id="6627928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627931">{</span><span class="ident" id="6627932">ParseIP</span><span class="op" id="6627939">(</span><span class="string" id="6627940">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="6627955">)</span><span class="op" id="6627956">,</span>&nbsp;<span class="builtintype" id="6627958">false</span><span class="op" id="6627963">,</span>&nbsp;<span class="builtintype" id="6627965">true</span><span class="op" id="6627969">}</span><span class="op" id="6627970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627973">{</span><span class="ident" id="6627974">ParseIP</span><span class="op" id="6627981">(</span><span class="string" id="6627982">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="6627997">)</span><span class="op" id="6627998">,</span>&nbsp;<span class="builtintype" id="6628000">false</span><span class="op" id="6628005">,</span>&nbsp;<span class="builtintype" id="6628007">true</span><span class="op" id="6628011">}</span><span class="op" id="6628012">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628015">{</span><span class="ident" id="6628016">ParseIP</span><span class="op" id="6628023">(</span><span class="string" id="6628024">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="6628044">)</span><span class="op" id="6628045">,</span>&nbsp;<span class="builtintype" id="6628047">false</span><span class="op" id="6628052">,</span>&nbsp;<span class="builtintype" id="6628054">true</span><span class="op" id="6628058">}</span><span class="op" id="6628059">,</span><br>
<span class="lineno"></span><span class="op" id="6628061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6628064">func</span>&nbsp;<span class="ident" id="6628069">TestIPAddrFamily</span><span class="op" id="6628085">(</span><span class="ident" id="6628086">t</span>&nbsp;<span class="op" id="6628088">*</span><span class="ident" id="6628089">testing</span><span class="op" id="6628096">.</span><span class="ident" id="6628097">T</span><span class="op" id="6628098">)</span>&nbsp;<span class="op" id="6628100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628103">for</span>&nbsp;<span class="ident" id="6628107">_</span><span class="op" id="6628108">,</span>&nbsp;<span class="ident" id="6628110">tt</span>&nbsp;<span class="op" id="6628113">:=</span>&nbsp;<span class="keyword" id="6628116">range</span>&nbsp;<span class="ident" id="6628122">ipAddrFamilyTests</span>&nbsp;<span class="op" id="6628140">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628144">if</span>&nbsp;<span class="ident" id="6628147">af</span>&nbsp;<span class="op" id="6628150">:=</span>&nbsp;<span class="ident" id="6628153">tt</span><span class="op" id="6628155">.</span><span class="ident" id="6628156">in</span><span class="op" id="6628158">.</span><span class="ident" id="6628159">To4</span><span class="op" id="6628162">(</span><span class="op" id="6628163">)</span>&nbsp;<span class="op" id="6628165">!=</span>&nbsp;<span class="ident" id="6628168">nil</span><span class="op" id="6628171">;</span>&nbsp;<span class="ident" id="6628173">af</span>&nbsp;<span class="op" id="6628176">!=</span>&nbsp;<span class="ident" id="6628179">tt</span><span class="op" id="6628181">.</span><span class="ident" id="6628182">af4</span>&nbsp;<span class="op" id="6628186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628191">t</span><span class="op" id="6628192">.</span><span class="ident" id="6628193">Errorf</span><span class="op" id="6628199">(</span><span class="string" id="6628200">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6628252">,</span>&nbsp;<span class="ident" id="6628254">tt</span><span class="op" id="6628256">.</span><span class="ident" id="6628257">in</span><span class="op" id="6628259">,</span>&nbsp;<span class="ident" id="6628261">af</span><span class="op" id="6628263">,</span>&nbsp;<span class="ident" id="6628265">tt</span><span class="op" id="6628267">.</span><span class="ident" id="6628268">af4</span><span class="op" id="6628271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628279">if</span>&nbsp;<span class="ident" id="6628282">af</span>&nbsp;<span class="op" id="6628285">:=</span>&nbsp;<span class="builtinfunc" id="6628288">len</span><span class="op" id="6628291">(</span><span class="ident" id="6628292">tt</span><span class="op" id="6628294">.</span><span class="ident" id="6628295">in</span><span class="op" id="6628297">)</span>&nbsp;<span class="op" id="6628299">==</span>&nbsp;<span class="ident" id="6628302">IPv6len</span>&nbsp;<span class="op" id="6628310">&amp;&amp;</span>&nbsp;<span class="ident" id="6628313">tt</span><span class="op" id="6628315">.</span><span class="ident" id="6628316">in</span><span class="op" id="6628318">.</span><span class="ident" id="6628319">To4</span><span class="op" id="6628322">(</span><span class="op" id="6628323">)</span>&nbsp;<span class="op" id="6628325">==</span>&nbsp;<span class="ident" id="6628328">nil</span><span class="op" id="6628331">;</span>&nbsp;<span class="ident" id="6628333">af</span>&nbsp;<span class="op" id="6628336">!=</span>&nbsp;<span class="ident" id="6628339">tt</span><span class="op" id="6628341">.</span><span class="ident" id="6628342">af6</span>&nbsp;<span class="op" id="6628346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628351">t</span><span class="op" id="6628352">.</span><span class="ident" id="6628353">Errorf</span><span class="op" id="6628359">(</span><span class="string" id="6628360">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6628412">,</span>&nbsp;<span class="ident" id="6628414">tt</span><span class="op" id="6628416">.</span><span class="ident" id="6628417">in</span><span class="op" id="6628419">,</span>&nbsp;<span class="ident" id="6628421">af</span><span class="op" id="6628423">,</span>&nbsp;<span class="ident" id="6628425">tt</span><span class="op" id="6628427">.</span><span class="ident" id="6628428">af6</span><span class="op" id="6628431">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628438">}</span><br>
<span class="lineno"></span><span class="op" id="6628440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6628443">var</span>&nbsp;<span class="ident" id="6628447">ipAddrScopeTests</span>&nbsp;<span class="op" id="6628464">=</span>&nbsp;<span class="op" id="6628466">[</span><span class="op" id="6628467">]</span><span class="keyword" id="6628468">struct</span>&nbsp;<span class="op" id="6628475">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628478">scope</span>&nbsp;<span class="keyword" id="6628484">func</span><span class="op" id="6628488">(</span><span class="ident" id="6628489">IP</span><span class="op" id="6628491">)</span>&nbsp;<span class="builtintype" id="6628493">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628499">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6628505">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628509">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6628515">bool</span><br>
<span class="lineno"></span><span class="op" id="6628520">}</span><span class="op" id="6628521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628524">{</span><span class="ident" id="6628525">IP</span><span class="op" id="6628527">.</span><span class="ident" id="6628528">IsUnspecified</span><span class="op" id="6628541">,</span>&nbsp;<span class="ident" id="6628543">IPv4zero</span><span class="op" id="6628551">,</span>&nbsp;<span class="builtintype" id="6628553">true</span><span class="op" id="6628557">}</span><span class="op" id="6628558">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628561">{</span><span class="ident" id="6628562">IP</span><span class="op" id="6628564">.</span><span class="ident" id="6628565">IsUnspecified</span><span class="op" id="6628578">,</span>&nbsp;<span class="ident" id="6628580">IPv4</span><span class="op" id="6628584">(</span><span class="num" id="6628585">127</span><span class="op" id="6628588">,</span>&nbsp;<span class="num" id="6628590">0</span><span class="op" id="6628591">,</span>&nbsp;<span class="num" id="6628593">0</span><span class="op" id="6628594">,</span>&nbsp;<span class="num" id="6628596">1</span><span class="op" id="6628597">)</span><span class="op" id="6628598">,</span>&nbsp;<span class="builtintype" id="6628600">false</span><span class="op" id="6628605">}</span><span class="op" id="6628606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628609">{</span><span class="ident" id="6628610">IP</span><span class="op" id="6628612">.</span><span class="ident" id="6628613">IsUnspecified</span><span class="op" id="6628626">,</span>&nbsp;<span class="ident" id="6628628">IPv6unspecified</span><span class="op" id="6628643">,</span>&nbsp;<span class="builtintype" id="6628645">true</span><span class="op" id="6628649">}</span><span class="op" id="6628650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628653">{</span><span class="ident" id="6628654">IP</span><span class="op" id="6628656">.</span><span class="ident" id="6628657">IsUnspecified</span><span class="op" id="6628670">,</span>&nbsp;<span class="ident" id="6628672">IPv6interfacelocalallnodes</span><span class="op" id="6628698">,</span>&nbsp;<span class="builtintype" id="6628700">false</span><span class="op" id="6628705">}</span><span class="op" id="6628706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628709">{</span><span class="ident" id="6628710">IP</span><span class="op" id="6628712">.</span><span class="ident" id="6628713">IsLoopback</span><span class="op" id="6628723">,</span>&nbsp;<span class="ident" id="6628725">IPv4</span><span class="op" id="6628729">(</span><span class="num" id="6628730">127</span><span class="op" id="6628733">,</span>&nbsp;<span class="num" id="6628735">0</span><span class="op" id="6628736">,</span>&nbsp;<span class="num" id="6628738">0</span><span class="op" id="6628739">,</span>&nbsp;<span class="num" id="6628741">1</span><span class="op" id="6628742">)</span><span class="op" id="6628743">,</span>&nbsp;<span class="builtintype" id="6628745">true</span><span class="op" id="6628749">}</span><span class="op" id="6628750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628753">{</span><span class="ident" id="6628754">IP</span><span class="op" id="6628756">.</span><span class="ident" id="6628757">IsLoopback</span><span class="op" id="6628767">,</span>&nbsp;<span class="ident" id="6628769">IPv4</span><span class="op" id="6628773">(</span><span class="num" id="6628774">127</span><span class="op" id="6628777">,</span>&nbsp;<span class="num" id="6628779">255</span><span class="op" id="6628782">,</span>&nbsp;<span class="num" id="6628784">255</span><span class="op" id="6628787">,</span>&nbsp;<span class="num" id="6628789">254</span><span class="op" id="6628792">)</span><span class="op" id="6628793">,</span>&nbsp;<span class="builtintype" id="6628795">true</span><span class="op" id="6628799">}</span><span class="op" id="6628800">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628803">{</span><span class="ident" id="6628804">IP</span><span class="op" id="6628806">.</span><span class="ident" id="6628807">IsLoopback</span><span class="op" id="6628817">,</span>&nbsp;<span class="ident" id="6628819">IPv4</span><span class="op" id="6628823">(</span><span class="num" id="6628824">128</span><span class="op" id="6628827">,</span>&nbsp;<span class="num" id="6628829">1</span><span class="op" id="6628830">,</span>&nbsp;<span class="num" id="6628832">2</span><span class="op" id="6628833">,</span>&nbsp;<span class="num" id="6628835">3</span><span class="op" id="6628836">)</span><span class="op" id="6628837">,</span>&nbsp;<span class="builtintype" id="6628839">false</span><span class="op" id="6628844">}</span><span class="op" id="6628845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628848">{</span><span class="ident" id="6628849">IP</span><span class="op" id="6628851">.</span><span class="ident" id="6628852">IsLoopback</span><span class="op" id="6628862">,</span>&nbsp;<span class="ident" id="6628864">IPv6loopback</span><span class="op" id="6628876">,</span>&nbsp;<span class="builtintype" id="6628878">true</span><span class="op" id="6628882">}</span><span class="op" id="6628883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628886">{</span><span class="ident" id="6628887">IP</span><span class="op" id="6628889">.</span><span class="ident" id="6628890">IsLoopback</span><span class="op" id="6628900">,</span>&nbsp;<span class="ident" id="6628902">IPv6linklocalallrouters</span><span class="op" id="6628925">,</span>&nbsp;<span class="builtintype" id="6628927">false</span><span class="op" id="6628932">}</span><span class="op" id="6628933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628936">{</span><span class="ident" id="6628937">IP</span><span class="op" id="6628939">.</span><span class="ident" id="6628940">IsMulticast</span><span class="op" id="6628951">,</span>&nbsp;<span class="ident" id="6628953">IPv4</span><span class="op" id="6628957">(</span><span class="num" id="6628958">224</span><span class="op" id="6628961">,</span>&nbsp;<span class="num" id="6628963">0</span><span class="op" id="6628964">,</span>&nbsp;<span class="num" id="6628966">0</span><span class="op" id="6628967">,</span>&nbsp;<span class="num" id="6628969">0</span><span class="op" id="6628970">)</span><span class="op" id="6628971">,</span>&nbsp;<span class="builtintype" id="6628973">true</span><span class="op" id="6628977">}</span><span class="op" id="6628978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628981">{</span><span class="ident" id="6628982">IP</span><span class="op" id="6628984">.</span><span class="ident" id="6628985">IsMulticast</span><span class="op" id="6628996">,</span>&nbsp;<span class="ident" id="6628998">IPv4</span><span class="op" id="6629002">(</span><span class="num" id="6629003">239</span><span class="op" id="6629006">,</span>&nbsp;<span class="num" id="6629008">0</span><span class="op" id="6629009">,</span>&nbsp;<span class="num" id="6629011">0</span><span class="op" id="6629012">,</span>&nbsp;<span class="num" id="6629014">0</span><span class="op" id="6629015">)</span><span class="op" id="6629016">,</span>&nbsp;<span class="builtintype" id="6629018">true</span><span class="op" id="6629022">}</span><span class="op" id="6629023">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629026">{</span><span class="ident" id="6629027">IP</span><span class="op" id="6629029">.</span><span class="ident" id="6629030">IsMulticast</span><span class="op" id="6629041">,</span>&nbsp;<span class="ident" id="6629043">IPv4</span><span class="op" id="6629047">(</span><span class="num" id="6629048">240</span><span class="op" id="6629051">,</span>&nbsp;<span class="num" id="6629053">0</span><span class="op" id="6629054">,</span>&nbsp;<span class="num" id="6629056">0</span><span class="op" id="6629057">,</span>&nbsp;<span class="num" id="6629059">0</span><span class="op" id="6629060">)</span><span class="op" id="6629061">,</span>&nbsp;<span class="builtintype" id="6629063">false</span><span class="op" id="6629068">}</span><span class="op" id="6629069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629072">{</span><span class="ident" id="6629073">IP</span><span class="op" id="6629075">.</span><span class="ident" id="6629076">IsMulticast</span><span class="op" id="6629087">,</span>&nbsp;<span class="ident" id="6629089">IPv6linklocalallnodes</span><span class="op" id="6629110">,</span>&nbsp;<span class="builtintype" id="6629112">true</span><span class="op" id="6629116">}</span><span class="op" id="6629117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629120">{</span><span class="ident" id="6629121">IP</span><span class="op" id="6629123">.</span><span class="ident" id="6629124">IsMulticast</span><span class="op" id="6629135">,</span>&nbsp;<span class="ident" id="6629137">IP</span><span class="op" id="6629139">{</span><span class="num" id="6629140">0xff</span><span class="op" id="6629144">,</span>&nbsp;<span class="num" id="6629146">0x05</span><span class="op" id="6629150">,</span>&nbsp;<span class="num" id="6629152">0</span><span class="op" id="6629153">,</span>&nbsp;<span class="num" id="6629155">0</span><span class="op" id="6629156">,</span>&nbsp;<span class="num" id="6629158">0</span><span class="op" id="6629159">,</span>&nbsp;<span class="num" id="6629161">0</span><span class="op" id="6629162">,</span>&nbsp;<span class="num" id="6629164">0</span><span class="op" id="6629165">,</span>&nbsp;<span class="num" id="6629167">0</span><span class="op" id="6629168">,</span>&nbsp;<span class="num" id="6629170">0</span><span class="op" id="6629171">,</span>&nbsp;<span class="num" id="6629173">0</span><span class="op" id="6629174">,</span>&nbsp;<span class="num" id="6629176">0</span><span class="op" id="6629177">,</span>&nbsp;<span class="num" id="6629179">0</span><span class="op" id="6629180">,</span>&nbsp;<span class="num" id="6629182">0</span><span class="op" id="6629183">,</span>&nbsp;<span class="num" id="6629185">0</span><span class="op" id="6629186">,</span>&nbsp;<span class="num" id="6629188">0</span><span class="op" id="6629189">,</span>&nbsp;<span class="num" id="6629191">0</span><span class="op" id="6629192">}</span><span class="op" id="6629193">,</span>&nbsp;<span class="builtintype" id="6629195">true</span><span class="op" id="6629199">}</span><span class="op" id="6629200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629203">{</span><span class="ident" id="6629204">IP</span><span class="op" id="6629206">.</span><span class="ident" id="6629207">IsMulticast</span><span class="op" id="6629218">,</span>&nbsp;<span class="ident" id="6629220">IP</span><span class="op" id="6629222">{</span><span class="num" id="6629223">0xfe</span><span class="op" id="6629227">,</span>&nbsp;<span class="num" id="6629229">0x80</span><span class="op" id="6629233">,</span>&nbsp;<span class="num" id="6629235">0</span><span class="op" id="6629236">,</span>&nbsp;<span class="num" id="6629238">0</span><span class="op" id="6629239">,</span>&nbsp;<span class="num" id="6629241">0</span><span class="op" id="6629242">,</span>&nbsp;<span class="num" id="6629244">0</span><span class="op" id="6629245">,</span>&nbsp;<span class="num" id="6629247">0</span><span class="op" id="6629248">,</span>&nbsp;<span class="num" id="6629250">0</span><span class="op" id="6629251">,</span>&nbsp;<span class="num" id="6629253">0</span><span class="op" id="6629254">,</span>&nbsp;<span class="num" id="6629256">0</span><span class="op" id="6629257">,</span>&nbsp;<span class="num" id="6629259">0</span><span class="op" id="6629260">,</span>&nbsp;<span class="num" id="6629262">0</span><span class="op" id="6629263">,</span>&nbsp;<span class="num" id="6629265">0</span><span class="op" id="6629266">,</span>&nbsp;<span class="num" id="6629268">0</span><span class="op" id="6629269">,</span>&nbsp;<span class="num" id="6629271">0</span><span class="op" id="6629272">,</span>&nbsp;<span class="num" id="6629274">0</span><span class="op" id="6629275">}</span><span class="op" id="6629276">,</span>&nbsp;<span class="builtintype" id="6629278">false</span><span class="op" id="6629283">}</span><span class="op" id="6629284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629287">{</span><span class="ident" id="6629288">IP</span><span class="op" id="6629290">.</span><span class="ident" id="6629291">IsLinkLocalMulticast</span><span class="op" id="6629311">,</span>&nbsp;<span class="ident" id="6629313">IPv4</span><span class="op" id="6629317">(</span><span class="num" id="6629318">224</span><span class="op" id="6629321">,</span>&nbsp;<span class="num" id="6629323">0</span><span class="op" id="6629324">,</span>&nbsp;<span class="num" id="6629326">0</span><span class="op" id="6629327">,</span>&nbsp;<span class="num" id="6629329">0</span><span class="op" id="6629330">)</span><span class="op" id="6629331">,</span>&nbsp;<span class="builtintype" id="6629333">true</span><span class="op" id="6629337">}</span><span class="op" id="6629338">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629341">{</span><span class="ident" id="6629342">IP</span><span class="op" id="6629344">.</span><span class="ident" id="6629345">IsLinkLocalMulticast</span><span class="op" id="6629365">,</span>&nbsp;<span class="ident" id="6629367">IPv4</span><span class="op" id="6629371">(</span><span class="num" id="6629372">239</span><span class="op" id="6629375">,</span>&nbsp;<span class="num" id="6629377">0</span><span class="op" id="6629378">,</span>&nbsp;<span class="num" id="6629380">0</span><span class="op" id="6629381">,</span>&nbsp;<span class="num" id="6629383">0</span><span class="op" id="6629384">)</span><span class="op" id="6629385">,</span>&nbsp;<span class="builtintype" id="6629387">false</span><span class="op" id="6629392">}</span><span class="op" id="6629393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629396">{</span><span class="ident" id="6629397">IP</span><span class="op" id="6629399">.</span><span class="ident" id="6629400">IsLinkLocalMulticast</span><span class="op" id="6629420">,</span>&nbsp;<span class="ident" id="6629422">IPv6linklocalallrouters</span><span class="op" id="6629445">,</span>&nbsp;<span class="builtintype" id="6629447">true</span><span class="op" id="6629451">}</span><span class="op" id="6629452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629455">{</span><span class="ident" id="6629456">IP</span><span class="op" id="6629458">.</span><span class="ident" id="6629459">IsLinkLocalMulticast</span><span class="op" id="6629479">,</span>&nbsp;<span class="ident" id="6629481">IP</span><span class="op" id="6629483">{</span><span class="num" id="6629484">0xff</span><span class="op" id="6629488">,</span>&nbsp;<span class="num" id="6629490">0x05</span><span class="op" id="6629494">,</span>&nbsp;<span class="num" id="6629496">0</span><span class="op" id="6629497">,</span>&nbsp;<span class="num" id="6629499">0</span><span class="op" id="6629500">,</span>&nbsp;<span class="num" id="6629502">0</span><span class="op" id="6629503">,</span>&nbsp;<span class="num" id="6629505">0</span><span class="op" id="6629506">,</span>&nbsp;<span class="num" id="6629508">0</span><span class="op" id="6629509">,</span>&nbsp;<span class="num" id="6629511">0</span><span class="op" id="6629512">,</span>&nbsp;<span class="num" id="6629514">0</span><span class="op" id="6629515">,</span>&nbsp;<span class="num" id="6629517">0</span><span class="op" id="6629518">,</span>&nbsp;<span class="num" id="6629520">0</span><span class="op" id="6629521">,</span>&nbsp;<span class="num" id="6629523">0</span><span class="op" id="6629524">,</span>&nbsp;<span class="num" id="6629526">0</span><span class="op" id="6629527">,</span>&nbsp;<span class="num" id="6629529">0</span><span class="op" id="6629530">,</span>&nbsp;<span class="num" id="6629532">0</span><span class="op" id="6629533">,</span>&nbsp;<span class="num" id="6629535">0</span><span class="op" id="6629536">}</span><span class="op" id="6629537">,</span>&nbsp;<span class="builtintype" id="6629539">false</span><span class="op" id="6629544">}</span><span class="op" id="6629545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629548">{</span><span class="ident" id="6629549">IP</span><span class="op" id="6629551">.</span><span class="ident" id="6629552">IsLinkLocalUnicast</span><span class="op" id="6629570">,</span>&nbsp;<span class="ident" id="6629572">IPv4</span><span class="op" id="6629576">(</span><span class="num" id="6629577">169</span><span class="op" id="6629580">,</span>&nbsp;<span class="num" id="6629582">254</span><span class="op" id="6629585">,</span>&nbsp;<span class="num" id="6629587">0</span><span class="op" id="6629588">,</span>&nbsp;<span class="num" id="6629590">0</span><span class="op" id="6629591">)</span><span class="op" id="6629592">,</span>&nbsp;<span class="builtintype" id="6629594">true</span><span class="op" id="6629598">}</span><span class="op" id="6629599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629602">{</span><span class="ident" id="6629603">IP</span><span class="op" id="6629605">.</span><span class="ident" id="6629606">IsLinkLocalUnicast</span><span class="op" id="6629624">,</span>&nbsp;<span class="ident" id="6629626">IPv4</span><span class="op" id="6629630">(</span><span class="num" id="6629631">169</span><span class="op" id="6629634">,</span>&nbsp;<span class="num" id="6629636">255</span><span class="op" id="6629639">,</span>&nbsp;<span class="num" id="6629641">0</span><span class="op" id="6629642">,</span>&nbsp;<span class="num" id="6629644">0</span><span class="op" id="6629645">)</span><span class="op" id="6629646">,</span>&nbsp;<span class="builtintype" id="6629648">false</span><span class="op" id="6629653">}</span><span class="op" id="6629654">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629657">{</span><span class="ident" id="6629658">IP</span><span class="op" id="6629660">.</span><span class="ident" id="6629661">IsLinkLocalUnicast</span><span class="op" id="6629679">,</span>&nbsp;<span class="ident" id="6629681">IP</span><span class="op" id="6629683">{</span><span class="num" id="6629684">0xfe</span><span class="op" id="6629688">,</span>&nbsp;<span class="num" id="6629690">0x80</span><span class="op" id="6629694">,</span>&nbsp;<span class="num" id="6629696">0</span><span class="op" id="6629697">,</span>&nbsp;<span class="num" id="6629699">0</span><span class="op" id="6629700">,</span>&nbsp;<span class="num" id="6629702">0</span><span class="op" id="6629703">,</span>&nbsp;<span class="num" id="6629705">0</span><span class="op" id="6629706">,</span>&nbsp;<span class="num" id="6629708">0</span><span class="op" id="6629709">,</span>&nbsp;<span class="num" id="6629711">0</span><span class="op" id="6629712">,</span>&nbsp;<span class="num" id="6629714">0</span><span class="op" id="6629715">,</span>&nbsp;<span class="num" id="6629717">0</span><span class="op" id="6629718">,</span>&nbsp;<span class="num" id="6629720">0</span><span class="op" id="6629721">,</span>&nbsp;<span class="num" id="6629723">0</span><span class="op" id="6629724">,</span>&nbsp;<span class="num" id="6629726">0</span><span class="op" id="6629727">,</span>&nbsp;<span class="num" id="6629729">0</span><span class="op" id="6629730">,</span>&nbsp;<span class="num" id="6629732">0</span><span class="op" id="6629733">,</span>&nbsp;<span class="num" id="6629735">0</span><span class="op" id="6629736">}</span><span class="op" id="6629737">,</span>&nbsp;<span class="builtintype" id="6629739">true</span><span class="op" id="6629743">}</span><span class="op" id="6629744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629747">{</span><span class="ident" id="6629748">IP</span><span class="op" id="6629750">.</span><span class="ident" id="6629751">IsLinkLocalUnicast</span><span class="op" id="6629769">,</span>&nbsp;<span class="ident" id="6629771">IP</span><span class="op" id="6629773">{</span><span class="num" id="6629774">0xfe</span><span class="op" id="6629778">,</span>&nbsp;<span class="num" id="6629780">0xc0</span><span class="op" id="6629784">,</span>&nbsp;<span class="num" id="6629786">0</span><span class="op" id="6629787">,</span>&nbsp;<span class="num" id="6629789">0</span><span class="op" id="6629790">,</span>&nbsp;<span class="num" id="6629792">0</span><span class="op" id="6629793">,</span>&nbsp;<span class="num" id="6629795">0</span><span class="op" id="6629796">,</span>&nbsp;<span class="num" id="6629798">0</span><span class="op" id="6629799">,</span>&nbsp;<span class="num" id="6629801">0</span><span class="op" id="6629802">,</span>&nbsp;<span class="num" id="6629804">0</span><span class="op" id="6629805">,</span>&nbsp;<span class="num" id="6629807">0</span><span class="op" id="6629808">,</span>&nbsp;<span class="num" id="6629810">0</span><span class="op" id="6629811">,</span>&nbsp;<span class="num" id="6629813">0</span><span class="op" id="6629814">,</span>&nbsp;<span class="num" id="6629816">0</span><span class="op" id="6629817">,</span>&nbsp;<span class="num" id="6629819">0</span><span class="op" id="6629820">,</span>&nbsp;<span class="num" id="6629822">0</span><span class="op" id="6629823">,</span>&nbsp;<span class="num" id="6629825">0</span><span class="op" id="6629826">}</span><span class="op" id="6629827">,</span>&nbsp;<span class="builtintype" id="6629829">false</span><span class="op" id="6629834">}</span><span class="op" id="6629835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629838">{</span><span class="ident" id="6629839">IP</span><span class="op" id="6629841">.</span><span class="ident" id="6629842">IsGlobalUnicast</span><span class="op" id="6629857">,</span>&nbsp;<span class="ident" id="6629859">IPv4</span><span class="op" id="6629863">(</span><span class="num" id="6629864">240</span><span class="op" id="6629867">,</span>&nbsp;<span class="num" id="6629869">0</span><span class="op" id="6629870">,</span>&nbsp;<span class="num" id="6629872">0</span><span class="op" id="6629873">,</span>&nbsp;<span class="num" id="6629875">0</span><span class="op" id="6629876">)</span><span class="op" id="6629877">,</span>&nbsp;<span class="builtintype" id="6629879">true</span><span class="op" id="6629883">}</span><span class="op" id="6629884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629887">{</span><span class="ident" id="6629888">IP</span><span class="op" id="6629890">.</span><span class="ident" id="6629891">IsGlobalUnicast</span><span class="op" id="6629906">,</span>&nbsp;<span class="ident" id="6629908">IPv4</span><span class="op" id="6629912">(</span><span class="num" id="6629913">232</span><span class="op" id="6629916">,</span>&nbsp;<span class="num" id="6629918">0</span><span class="op" id="6629919">,</span>&nbsp;<span class="num" id="6629921">0</span><span class="op" id="6629922">,</span>&nbsp;<span class="num" id="6629924">0</span><span class="op" id="6629925">)</span><span class="op" id="6629926">,</span>&nbsp;<span class="builtintype" id="6629928">false</span><span class="op" id="6629933">}</span><span class="op" id="6629934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629937">{</span><span class="ident" id="6629938">IP</span><span class="op" id="6629940">.</span><span class="ident" id="6629941">IsGlobalUnicast</span><span class="op" id="6629956">,</span>&nbsp;<span class="ident" id="6629958">IPv4</span><span class="op" id="6629962">(</span><span class="num" id="6629963">169</span><span class="op" id="6629966">,</span>&nbsp;<span class="num" id="6629968">254</span><span class="op" id="6629971">,</span>&nbsp;<span class="num" id="6629973">0</span><span class="op" id="6629974">,</span>&nbsp;<span class="num" id="6629976">0</span><span class="op" id="6629977">)</span><span class="op" id="6629978">,</span>&nbsp;<span class="builtintype" id="6629980">false</span><span class="op" id="6629985">}</span><span class="op" id="6629986">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629989">{</span><span class="ident" id="6629990">IP</span><span class="op" id="6629992">.</span><span class="ident" id="6629993">IsGlobalUnicast</span><span class="op" id="6630008">,</span>&nbsp;<span class="ident" id="6630010">IP</span><span class="op" id="6630012">{</span><span class="num" id="6630013">0x20</span><span class="op" id="6630017">,</span>&nbsp;<span class="num" id="6630019">0x1</span><span class="op" id="6630022">,</span>&nbsp;<span class="num" id="6630024">0xd</span><span class="op" id="6630027">,</span>&nbsp;<span class="num" id="6630029">0xb8</span><span class="op" id="6630033">,</span>&nbsp;<span class="num" id="6630035">0</span><span class="op" id="6630036">,</span>&nbsp;<span class="num" id="6630038">0</span><span class="op" id="6630039">,</span>&nbsp;<span class="num" id="6630041">0</span><span class="op" id="6630042">,</span>&nbsp;<span class="num" id="6630044">0</span><span class="op" id="6630045">,</span>&nbsp;<span class="num" id="6630047">0</span><span class="op" id="6630048">,</span>&nbsp;<span class="num" id="6630050">0</span><span class="op" id="6630051">,</span>&nbsp;<span class="num" id="6630053">0x1</span><span class="op" id="6630056">,</span>&nbsp;<span class="num" id="6630058">0x23</span><span class="op" id="6630062">,</span>&nbsp;<span class="num" id="6630064">0</span><span class="op" id="6630065">,</span>&nbsp;<span class="num" id="6630067">0x12</span><span class="op" id="6630071">,</span>&nbsp;<span class="num" id="6630073">0</span><span class="op" id="6630074">,</span>&nbsp;<span class="num" id="6630076">0x1</span><span class="op" id="6630079">}</span><span class="op" id="6630080">,</span>&nbsp;<span class="builtintype" id="6630082">true</span><span class="op" id="6630086">}</span><span class="op" id="6630087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630090">{</span><span class="ident" id="6630091">IP</span><span class="op" id="6630093">.</span><span class="ident" id="6630094">IsGlobalUnicast</span><span class="op" id="6630109">,</span>&nbsp;<span class="ident" id="6630111">IP</span><span class="op" id="6630113">{</span><span class="num" id="6630114">0xfe</span><span class="op" id="6630118">,</span>&nbsp;<span class="num" id="6630120">0x80</span><span class="op" id="6630124">,</span>&nbsp;<span class="num" id="6630126">0</span><span class="op" id="6630127">,</span>&nbsp;<span class="num" id="6630129">0</span><span class="op" id="6630130">,</span>&nbsp;<span class="num" id="6630132">0</span><span class="op" id="6630133">,</span>&nbsp;<span class="num" id="6630135">0</span><span class="op" id="6630136">,</span>&nbsp;<span class="num" id="6630138">0</span><span class="op" id="6630139">,</span>&nbsp;<span class="num" id="6630141">0</span><span class="op" id="6630142">,</span>&nbsp;<span class="num" id="6630144">0</span><span class="op" id="6630145">,</span>&nbsp;<span class="num" id="6630147">0</span><span class="op" id="6630148">,</span>&nbsp;<span class="num" id="6630150">0</span><span class="op" id="6630151">,</span>&nbsp;<span class="num" id="6630153">0</span><span class="op" id="6630154">,</span>&nbsp;<span class="num" id="6630156">0</span><span class="op" id="6630157">,</span>&nbsp;<span class="num" id="6630159">0</span><span class="op" id="6630160">,</span>&nbsp;<span class="num" id="6630162">0</span><span class="op" id="6630163">,</span>&nbsp;<span class="num" id="6630165">0</span><span class="op" id="6630166">}</span><span class="op" id="6630167">,</span>&nbsp;<span class="builtintype" id="6630169">false</span><span class="op" id="6630174">}</span><span class="op" id="6630175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630178">{</span><span class="ident" id="6630179">IP</span><span class="op" id="6630181">.</span><span class="ident" id="6630182">IsGlobalUnicast</span><span class="op" id="6630197">,</span>&nbsp;<span class="ident" id="6630199">IP</span><span class="op" id="6630201">{</span><span class="num" id="6630202">0xff</span><span class="op" id="6630206">,</span>&nbsp;<span class="num" id="6630208">0x05</span><span class="op" id="6630212">,</span>&nbsp;<span class="num" id="6630214">0</span><span class="op" id="6630215">,</span>&nbsp;<span class="num" id="6630217">0</span><span class="op" id="6630218">,</span>&nbsp;<span class="num" id="6630220">0</span><span class="op" id="6630221">,</span>&nbsp;<span class="num" id="6630223">0</span><span class="op" id="6630224">,</span>&nbsp;<span class="num" id="6630226">0</span><span class="op" id="6630227">,</span>&nbsp;<span class="num" id="6630229">0</span><span class="op" id="6630230">,</span>&nbsp;<span class="num" id="6630232">0</span><span class="op" id="6630233">,</span>&nbsp;<span class="num" id="6630235">0</span><span class="op" id="6630236">,</span>&nbsp;<span class="num" id="6630238">0</span><span class="op" id="6630239">,</span>&nbsp;<span class="num" id="6630241">0</span><span class="op" id="6630242">,</span>&nbsp;<span class="num" id="6630244">0</span><span class="op" id="6630245">,</span>&nbsp;<span class="num" id="6630247">0</span><span class="op" id="6630248">,</span>&nbsp;<span class="num" id="6630250">0</span><span class="op" id="6630251">,</span>&nbsp;<span class="num" id="6630253">0</span><span class="op" id="6630254">}</span><span class="op" id="6630255">,</span>&nbsp;<span class="builtintype" id="6630257">false</span><span class="op" id="6630262">}</span><span class="op" id="6630263">,</span><br>
<span class="lineno"></span><span class="op" id="6630265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="6630268">func</span>&nbsp;<span class="ident" id="6630273">name</span><span class="op" id="6630277">(</span><span class="ident" id="6630278">f</span>&nbsp;<span class="keyword" id="6630280">interface</span><span class="op" id="6630289">{</span><span class="op" id="6630290">}</span><span class="op" id="6630291">)</span>&nbsp;<span class="builtintype" id="6630293">string</span>&nbsp;<span class="op" id="6630300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630303">return</span>&nbsp;<span class="ident" id="6630310">runtime</span><span class="op" id="6630317">.</span><span class="ident" id="6630318">FuncForPC</span><span class="op" id="6630327">(</span><span class="ident" id="6630328">reflect</span><span class="op" id="6630335">.</span><span class="ident" id="6630336">ValueOf</span><span class="op" id="6630343">(</span><span class="ident" id="6630344">f</span><span class="op" id="6630345">)</span><span class="op" id="6630346">.</span><span class="ident" id="6630347">Pointer</span><span class="op" id="6630354">(</span><span class="op" id="6630355">)</span><span class="op" id="6630356">)</span><span class="op" id="6630357">.</span><span class="ident" id="6630358">Name</span><span class="op" id="6630362">(</span><span class="op" id="6630363">)</span><br>
<span class="lineno"></span><span class="op" id="6630365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6630368">func</span>&nbsp;<span class="ident" id="6630373">TestIPAddrScope</span><span class="op" id="6630388">(</span><span class="ident" id="6630389">t</span>&nbsp;<span class="op" id="6630391">*</span><span class="ident" id="6630392">testing</span><span class="op" id="6630399">.</span><span class="ident" id="6630400">T</span><span class="op" id="6630401">)</span>&nbsp;<span class="op" id="6630403">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630406">for</span>&nbsp;<span class="ident" id="6630410">_</span><span class="op" id="6630411">,</span>&nbsp;<span class="ident" id="6630413">tt</span>&nbsp;<span class="op" id="6630416">:=</span>&nbsp;<span class="keyword" id="6630419">range</span>&nbsp;<span class="ident" id="6630425">ipAddrScopeTests</span>&nbsp;<span class="op" id="6630442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630446">if</span>&nbsp;<span class="ident" id="6630449">ok</span>&nbsp;<span class="op" id="6630452">:=</span>&nbsp;<span class="ident" id="6630455">tt</span><span class="op" id="6630457">.</span><span class="ident" id="6630458">scope</span><span class="op" id="6630463">(</span><span class="ident" id="6630464">tt</span><span class="op" id="6630466">.</span><span class="ident" id="6630467">in</span><span class="op" id="6630469">)</span><span class="op" id="6630470">;</span>&nbsp;<span class="ident" id="6630472">ok</span>&nbsp;<span class="op" id="6630475">!=</span>&nbsp;<span class="ident" id="6630478">tt</span><span class="op" id="6630480">.</span><span class="ident" id="6630481">ok</span>&nbsp;<span class="op" id="6630484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630489">t</span><span class="op" id="6630490">.</span><span class="ident" id="6630491">Errorf</span><span class="op" id="6630497">(</span><span class="string" id="6630498">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6630520">,</span>&nbsp;<span class="ident" id="6630522">name</span><span class="op" id="6630526">(</span><span class="ident" id="6630527">tt</span><span class="op" id="6630529">.</span><span class="ident" id="6630530">scope</span><span class="op" id="6630535">)</span><span class="op" id="6630536">,</span>&nbsp;<span class="ident" id="6630538">tt</span><span class="op" id="6630540">.</span><span class="ident" id="6630541">in</span><span class="op" id="6630543">,</span>&nbsp;<span class="ident" id="6630545">ok</span><span class="op" id="6630547">,</span>&nbsp;<span class="ident" id="6630549">tt</span><span class="op" id="6630551">.</span><span class="ident" id="6630552">ok</span><span class="op" id="6630554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630561">}</span><br>
<span class="lineno">465</span><span class="op" id="6630563">}</span>
</div>
</body>
</html>
