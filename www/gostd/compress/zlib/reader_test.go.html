<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6630034">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6630089">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6630143">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6630194">package</span>&nbsp;<span class="ident" id="6630202">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6630208">import</span>&nbsp;<span class="op" id="6630215">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630218">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630227">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630233">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6630243">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6630246">type</span>&nbsp;<span class="ident" id="6630251">zlibTest</span>&nbsp;<span class="keyword" id="6630260">struct</span>&nbsp;<span class="op" id="6630267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630270">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6630281">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630289">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6630300">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630308">compressed</span>&nbsp;<span class="op" id="6630319">[</span><span class="op" id="6630320">]</span><span class="builtintype" id="6630321">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630327">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6630338">[</span><span class="op" id="6630339">]</span><span class="builtintype" id="6630340">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630346">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6630357">error</span><br>
<span class="lineno"></span><span class="op" id="6630363">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6630366">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="6630442">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6630474">var</span>&nbsp;<span class="ident" id="6630478">zlibTests</span>&nbsp;<span class="op" id="6630488">=</span>&nbsp;<span class="op" id="6630490">[</span><span class="op" id="6630491">]</span><span class="ident" id="6630492">zlibTest</span><span class="op" id="6630500">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630507">&#34;empty&#34;</span><span class="op" id="6630514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630518">&#34;&#34;</span><span class="op" id="6630520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630524">[</span><span class="op" id="6630525">]</span><span class="builtintype" id="6630526">byte</span><span class="op" id="6630530">{</span><span class="num" id="6630531">0x78</span><span class="op" id="6630535">,</span>&nbsp;<span class="num" id="6630537">0x9c</span><span class="op" id="6630541">,</span>&nbsp;<span class="num" id="6630543">0x03</span><span class="op" id="6630547">,</span>&nbsp;<span class="num" id="6630549">0x00</span><span class="op" id="6630553">,</span>&nbsp;<span class="num" id="6630555">0x00</span><span class="op" id="6630559">,</span>&nbsp;<span class="num" id="6630561">0x00</span><span class="op" id="6630565">,</span>&nbsp;<span class="num" id="6630567">0x00</span><span class="op" id="6630571">,</span>&nbsp;<span class="num" id="6630573">0x01</span><span class="op" id="6630577">}</span><span class="op" id="6630578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630582">nil</span><span class="op" id="6630585">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630589">nil</span><span class="op" id="6630592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630595">}</span><span class="op" id="6630596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630603">&#34;goodbye&#34;</span><span class="op" id="6630612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630616">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="6630632">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630636">[</span><span class="op" id="6630637">]</span><span class="builtintype" id="6630638">byte</span><span class="op" id="6630642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6630647">0x78</span><span class="op" id="6630651">,</span>&nbsp;<span class="num" id="6630653">0x9c</span><span class="op" id="6630657">,</span>&nbsp;<span class="num" id="6630659">0x4b</span><span class="op" id="6630663">,</span>&nbsp;<span class="num" id="6630665">0xcf</span><span class="op" id="6630669">,</span>&nbsp;<span class="num" id="6630671">0xcf</span><span class="op" id="6630675">,</span>&nbsp;<span class="num" id="6630677">0x4f</span><span class="op" id="6630681">,</span>&nbsp;<span class="num" id="6630683">0x49</span><span class="op" id="6630687">,</span>&nbsp;<span class="num" id="6630689">0xaa</span><span class="op" id="6630693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6630698">0x4c</span><span class="op" id="6630702">,</span>&nbsp;<span class="num" id="6630704">0xd5</span><span class="op" id="6630708">,</span>&nbsp;<span class="num" id="6630710">0x51</span><span class="op" id="6630714">,</span>&nbsp;<span class="num" id="6630716">0x28</span><span class="op" id="6630720">,</span>&nbsp;<span class="num" id="6630722">0xcf</span><span class="op" id="6630726">,</span>&nbsp;<span class="num" id="6630728">0x2f</span><span class="op" id="6630732">,</span>&nbsp;<span class="num" id="6630734">0xca</span><span class="op" id="6630738">,</span>&nbsp;<span class="num" id="6630740">0x49</span><span class="op" id="6630744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6630749">0x01</span><span class="op" id="6630753">,</span>&nbsp;<span class="num" id="6630755">0x00</span><span class="op" id="6630759">,</span>&nbsp;<span class="num" id="6630761">0x28</span><span class="op" id="6630765">,</span>&nbsp;<span class="num" id="6630767">0xa5</span><span class="op" id="6630771">,</span>&nbsp;<span class="num" id="6630773">0x05</span><span class="op" id="6630777">,</span>&nbsp;<span class="num" id="6630779">0x5e</span><span class="op" id="6630783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630787">}</span><span class="op" id="6630788">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630792">nil</span><span class="op" id="6630795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630799">nil</span><span class="op" id="6630802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630805">}</span><span class="op" id="6630806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630813">&#34;bad&nbsp;header&#34;</span><span class="op" id="6630825">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630829">&#34;&#34;</span><span class="op" id="6630831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630835">[</span><span class="op" id="6630836">]</span><span class="builtintype" id="6630837">byte</span><span class="op" id="6630841">{</span><span class="num" id="6630842">0x78</span><span class="op" id="6630846">,</span>&nbsp;<span class="num" id="6630848">0x9f</span><span class="op" id="6630852">,</span>&nbsp;<span class="num" id="6630854">0x03</span><span class="op" id="6630858">,</span>&nbsp;<span class="num" id="6630860">0x00</span><span class="op" id="6630864">,</span>&nbsp;<span class="num" id="6630866">0x00</span><span class="op" id="6630870">,</span>&nbsp;<span class="num" id="6630872">0x00</span><span class="op" id="6630876">,</span>&nbsp;<span class="num" id="6630878">0x00</span><span class="op" id="6630882">,</span>&nbsp;<span class="num" id="6630884">0x01</span><span class="op" id="6630888">}</span><span class="op" id="6630889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630893">nil</span><span class="op" id="6630896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630900">ErrHeader</span><span class="op" id="6630909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630912">}</span><span class="op" id="6630913">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630920">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="6630934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6630938">&#34;&#34;</span><span class="op" id="6630940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630944">[</span><span class="op" id="6630945">]</span><span class="builtintype" id="6630946">byte</span><span class="op" id="6630950">{</span><span class="num" id="6630951">0x78</span><span class="op" id="6630955">,</span>&nbsp;<span class="num" id="6630957">0x9c</span><span class="op" id="6630961">,</span>&nbsp;<span class="num" id="6630963">0x03</span><span class="op" id="6630967">,</span>&nbsp;<span class="num" id="6630969">0x00</span><span class="op" id="6630973">,</span>&nbsp;<span class="num" id="6630975">0x00</span><span class="op" id="6630979">,</span>&nbsp;<span class="num" id="6630981">0x00</span><span class="op" id="6630985">,</span>&nbsp;<span class="num" id="6630987">0x00</span><span class="op" id="6630991">,</span>&nbsp;<span class="num" id="6630993">0xff</span><span class="op" id="6630997">}</span><span class="op" id="6630998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631002">nil</span><span class="op" id="6631005">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631009">ErrChecksum</span><span class="op" id="6631020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631023">}</span><span class="op" id="6631024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6631031">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="6631048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6631052">&#34;&#34;</span><span class="op" id="6631054">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631058">[</span><span class="op" id="6631059">]</span><span class="builtintype" id="6631060">byte</span><span class="op" id="6631064">{</span><span class="num" id="6631065">0x78</span><span class="op" id="6631069">,</span>&nbsp;<span class="num" id="6631071">0x9c</span><span class="op" id="6631075">,</span>&nbsp;<span class="num" id="6631077">0x03</span><span class="op" id="6631081">,</span>&nbsp;<span class="num" id="6631083">0x00</span><span class="op" id="6631087">,</span>&nbsp;<span class="num" id="6631089">0x00</span><span class="op" id="6631093">,</span>&nbsp;<span class="num" id="6631095">0x00</span><span class="op" id="6631099">}</span><span class="op" id="6631100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631104">nil</span><span class="op" id="6631107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631111">io</span><span class="op" id="6631113">.</span><span class="ident" id="6631114">ErrUnexpectedEOF</span><span class="op" id="6631130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631133">}</span><span class="op" id="6631134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631137">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6631141">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="6631174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6631178">&#34;&#34;</span><span class="op" id="6631180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631184">[</span><span class="op" id="6631185">]</span><span class="builtintype" id="6631186">byte</span><span class="op" id="6631190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6631195">0x78</span><span class="op" id="6631199">,</span>&nbsp;<span class="num" id="6631201">0x9c</span><span class="op" id="6631205">,</span>&nbsp;<span class="num" id="6631207">0x03</span><span class="op" id="6631211">,</span>&nbsp;<span class="num" id="6631213">0x00</span><span class="op" id="6631217">,</span>&nbsp;<span class="num" id="6631219">0x00</span><span class="op" id="6631223">,</span>&nbsp;<span class="num" id="6631225">0x00</span><span class="op" id="6631229">,</span>&nbsp;<span class="num" id="6631231">0x00</span><span class="op" id="6631235">,</span>&nbsp;<span class="num" id="6631237">0x01</span><span class="op" id="6631241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6631246">0x78</span><span class="op" id="6631250">,</span>&nbsp;<span class="num" id="6631252">0x9c</span><span class="op" id="6631256">,</span>&nbsp;<span class="num" id="6631258">0xff</span><span class="op" id="6631262">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631266">}</span><span class="op" id="6631267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631271">nil</span><span class="op" id="6631274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631278">nil</span><span class="op" id="6631281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631284">}</span><span class="op" id="6631285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631288">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6631292">&#34;dictionary&#34;</span><span class="op" id="6631304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6631308">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="6631325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631329">[</span><span class="op" id="6631330">]</span><span class="builtintype" id="6631331">byte</span><span class="op" id="6631335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6631340">0x78</span><span class="op" id="6631344">,</span>&nbsp;<span class="num" id="6631346">0xbb</span><span class="op" id="6631350">,</span>&nbsp;<span class="num" id="6631352">0x1c</span><span class="op" id="6631356">,</span>&nbsp;<span class="num" id="6631358">0x32</span><span class="op" id="6631362">,</span>&nbsp;<span class="num" id="6631364">0x04</span><span class="op" id="6631368">,</span>&nbsp;<span class="num" id="6631370">0x27</span><span class="op" id="6631374">,</span>&nbsp;<span class="num" id="6631376">0xf3</span><span class="op" id="6631380">,</span>&nbsp;<span class="num" id="6631382">0x00</span><span class="op" id="6631386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6631391">0xb1</span><span class="op" id="6631395">,</span>&nbsp;<span class="num" id="6631397">0x75</span><span class="op" id="6631401">,</span>&nbsp;<span class="num" id="6631403">0x20</span><span class="op" id="6631407">,</span>&nbsp;<span class="num" id="6631409">0x1c</span><span class="op" id="6631413">,</span>&nbsp;<span class="num" id="6631415">0x45</span><span class="op" id="6631419">,</span>&nbsp;<span class="num" id="6631421">0x2e</span><span class="op" id="6631425">,</span>&nbsp;<span class="num" id="6631427">0x00</span><span class="op" id="6631431">,</span>&nbsp;<span class="num" id="6631433">0x24</span><span class="op" id="6631437">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6631442">0x12</span><span class="op" id="6631446">,</span>&nbsp;<span class="num" id="6631448">0x04</span><span class="op" id="6631452">,</span>&nbsp;<span class="num" id="6631454">0x74</span><span class="op" id="6631458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631462">}</span><span class="op" id="6631463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631467">[</span><span class="op" id="6631468">]</span><span class="builtintype" id="6631469">byte</span><span class="op" id="6631473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6631478">0x48</span><span class="op" id="6631482">,</span>&nbsp;<span class="num" id="6631484">0x65</span><span class="op" id="6631488">,</span>&nbsp;<span class="num" id="6631490">0x6c</span><span class="op" id="6631494">,</span>&nbsp;<span class="num" id="6631496">0x6c</span><span class="op" id="6631500">,</span>&nbsp;<span class="num" id="6631502">0x6f</span><span class="op" id="6631506">,</span>&nbsp;<span class="num" id="6631508">0x20</span><span class="op" id="6631512">,</span>&nbsp;<span class="num" id="6631514">0x57</span><span class="op" id="6631518">,</span>&nbsp;<span class="num" id="6631520">0x6f</span><span class="op" id="6631524">,</span>&nbsp;<span class="num" id="6631526">0x72</span><span class="op" id="6631530">,</span>&nbsp;<span class="num" id="6631532">0x6c</span><span class="op" id="6631536">,</span>&nbsp;<span class="num" id="6631538">0x64</span><span class="op" id="6631542">,</span>&nbsp;<span class="num" id="6631544">0x0a</span><span class="op" id="6631548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631552">}</span><span class="op" id="6631553">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631557">nil</span><span class="op" id="6631560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631563">}</span><span class="op" id="6631564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6631571">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="6631589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6631593">&#34;&#34;</span><span class="op" id="6631595">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631599">[</span><span class="op" id="6631600">]</span><span class="builtintype" id="6631601">byte</span><span class="op" id="6631605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6631610">0x78</span><span class="op" id="6631614">,</span>&nbsp;<span class="num" id="6631616">0xbb</span><span class="op" id="6631620">,</span>&nbsp;<span class="num" id="6631622">0x1c</span><span class="op" id="6631626">,</span>&nbsp;<span class="num" id="6631628">0x32</span><span class="op" id="6631632">,</span>&nbsp;<span class="num" id="6631634">0x04</span><span class="op" id="6631638">,</span>&nbsp;<span class="num" id="6631640">0x27</span><span class="op" id="6631644">,</span>&nbsp;<span class="num" id="6631646">0xf3</span><span class="op" id="6631650">,</span>&nbsp;<span class="num" id="6631652">0x00</span><span class="op" id="6631656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6631661">0xb1</span><span class="op" id="6631665">,</span>&nbsp;<span class="num" id="6631667">0x75</span><span class="op" id="6631671">,</span>&nbsp;<span class="num" id="6631673">0x20</span><span class="op" id="6631677">,</span>&nbsp;<span class="num" id="6631679">0x1c</span><span class="op" id="6631683">,</span>&nbsp;<span class="num" id="6631685">0x45</span><span class="op" id="6631689">,</span>&nbsp;<span class="num" id="6631691">0x2e</span><span class="op" id="6631695">,</span>&nbsp;<span class="num" id="6631697">0x00</span><span class="op" id="6631701">,</span>&nbsp;<span class="num" id="6631703">0x24</span><span class="op" id="6631707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6631712">0x12</span><span class="op" id="6631716">,</span>&nbsp;<span class="num" id="6631718">0x04</span><span class="op" id="6631722">,</span>&nbsp;<span class="num" id="6631724">0x74</span><span class="op" id="6631728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631732">}</span><span class="op" id="6631733">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631737">[</span><span class="op" id="6631738">]</span><span class="builtintype" id="6631739">byte</span><span class="op" id="6631743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6631748">0x48</span><span class="op" id="6631752">,</span>&nbsp;<span class="num" id="6631754">0x65</span><span class="op" id="6631758">,</span>&nbsp;<span class="num" id="6631760">0x6c</span><span class="op" id="6631764">,</span>&nbsp;<span class="num" id="6631766">0x6c</span><span class="op" id="6631770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631774">}</span><span class="op" id="6631775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631779">ErrDictionary</span><span class="op" id="6631792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631795">}</span><span class="op" id="6631796">,</span><br>
<span class="lineno">100</span><span class="op" id="6631798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6631801">func</span>&nbsp;<span class="ident" id="6631806">TestDecompressor</span><span class="op" id="6631822">(</span><span class="ident" id="6631823">t</span>&nbsp;<span class="op" id="6631825">*</span><span class="ident" id="6631826">testing</span><span class="op" id="6631833">.</span><span class="ident" id="6631834">T</span><span class="op" id="6631835">)</span>&nbsp;<span class="op" id="6631837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631840">b</span>&nbsp;<span class="op" id="6631842">:=</span>&nbsp;<span class="builtinfunc" id="6631845">new</span><span class="op" id="6631848">(</span><span class="ident" id="6631849">bytes</span><span class="op" id="6631854">.</span><span class="ident" id="6631855">Buffer</span><span class="op" id="6631861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631864">for</span>&nbsp;<span class="ident" id="6631868">_</span><span class="op" id="6631869">,</span>&nbsp;<span class="ident" id="6631871">tt</span>&nbsp;<span class="op" id="6631874">:=</span>&nbsp;<span class="keyword" id="6631877">range</span>&nbsp;<span class="ident" id="6631883">zlibTests</span>&nbsp;<span class="op" id="6631893">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631897">in</span>&nbsp;<span class="op" id="6631900">:=</span>&nbsp;<span class="ident" id="6631903">bytes</span><span class="op" id="6631908">.</span><span class="ident" id="6631909">NewReader</span><span class="op" id="6631918">(</span><span class="ident" id="6631919">tt</span><span class="op" id="6631921">.</span><span class="ident" id="6631922">compressed</span><span class="op" id="6631932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631936">zlib</span><span class="op" id="6631940">,</span>&nbsp;<span class="ident" id="6631942">err</span>&nbsp;<span class="op" id="6631946">:=</span>&nbsp;<span class="ident" id="6631949">NewReaderDict</span><span class="op" id="6631962">(</span><span class="ident" id="6631963">in</span><span class="op" id="6631965">,</span>&nbsp;<span class="ident" id="6631967">tt</span><span class="op" id="6631969">.</span><span class="ident" id="6631970">dict</span><span class="op" id="6631974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631978">if</span>&nbsp;<span class="ident" id="6631981">err</span>&nbsp;<span class="op" id="6631985">!=</span>&nbsp;<span class="ident" id="6631988">nil</span>&nbsp;<span class="op" id="6631992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631997">if</span>&nbsp;<span class="ident" id="6632000">err</span>&nbsp;<span class="op" id="6632004">!=</span>&nbsp;<span class="ident" id="6632007">tt</span><span class="op" id="6632009">.</span><span class="ident" id="6632010">err</span>&nbsp;<span class="op" id="6632014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632020">t</span><span class="op" id="6632021">.</span><span class="ident" id="6632022">Errorf</span><span class="op" id="6632028">(</span><span class="string" id="6632029">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="6632048">,</span>&nbsp;<span class="ident" id="6632050">tt</span><span class="op" id="6632052">.</span><span class="ident" id="6632053">desc</span><span class="op" id="6632057">,</span>&nbsp;<span class="ident" id="6632059">err</span><span class="op" id="6632062">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632072">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632087">defer</span>&nbsp;<span class="ident" id="6632093">zlib</span><span class="op" id="6632097">.</span><span class="ident" id="6632098">Close</span><span class="op" id="6632103">(</span><span class="op" id="6632104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632108">b</span><span class="op" id="6632109">.</span><span class="ident" id="6632110">Reset</span><span class="op" id="6632115">(</span><span class="op" id="6632116">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632120">n</span><span class="op" id="6632121">,</span>&nbsp;<span class="ident" id="6632123">err</span>&nbsp;<span class="op" id="6632127">:=</span>&nbsp;<span class="ident" id="6632130">io</span><span class="op" id="6632132">.</span><span class="ident" id="6632133">Copy</span><span class="op" id="6632137">(</span><span class="ident" id="6632138">b</span><span class="op" id="6632139">,</span>&nbsp;<span class="ident" id="6632141">zlib</span><span class="op" id="6632145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632149">if</span>&nbsp;<span class="ident" id="6632152">err</span>&nbsp;<span class="op" id="6632156">!=</span>&nbsp;<span class="ident" id="6632159">nil</span>&nbsp;<span class="op" id="6632163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632168">if</span>&nbsp;<span class="ident" id="6632171">err</span>&nbsp;<span class="op" id="6632175">!=</span>&nbsp;<span class="ident" id="6632178">tt</span><span class="op" id="6632180">.</span><span class="ident" id="6632181">err</span>&nbsp;<span class="op" id="6632185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632191">t</span><span class="op" id="6632192">.</span><span class="ident" id="6632193">Errorf</span><span class="op" id="6632199">(</span><span class="string" id="6632200">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6632225">,</span>&nbsp;<span class="ident" id="6632227">tt</span><span class="op" id="6632229">.</span><span class="ident" id="6632230">desc</span><span class="op" id="6632234">,</span>&nbsp;<span class="ident" id="6632236">err</span><span class="op" id="6632239">,</span>&nbsp;<span class="ident" id="6632241">tt</span><span class="op" id="6632243">.</span><span class="ident" id="6632244">err</span><span class="op" id="6632247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632252">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632257">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632272">s</span>&nbsp;<span class="op" id="6632274">:=</span>&nbsp;<span class="ident" id="6632277">b</span><span class="op" id="6632278">.</span><span class="ident" id="6632279">String</span><span class="op" id="6632285">(</span><span class="op" id="6632286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632290">if</span>&nbsp;<span class="ident" id="6632293">s</span>&nbsp;<span class="op" id="6632295">!=</span>&nbsp;<span class="ident" id="6632298">tt</span><span class="op" id="6632300">.</span><span class="ident" id="6632301">raw</span>&nbsp;<span class="op" id="6632305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632310">t</span><span class="op" id="6632311">.</span><span class="ident" id="6632312">Errorf</span><span class="op" id="6632318">(</span><span class="string" id="6632319">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="6632355">,</span>&nbsp;<span class="ident" id="6632357">tt</span><span class="op" id="6632359">.</span><span class="ident" id="6632360">desc</span><span class="op" id="6632364">,</span>&nbsp;<span class="ident" id="6632366">n</span><span class="op" id="6632367">,</span>&nbsp;<span class="ident" id="6632369">s</span><span class="op" id="6632370">,</span>&nbsp;<span class="builtinfunc" id="6632372">len</span><span class="op" id="6632375">(</span><span class="ident" id="6632376">tt</span><span class="op" id="6632378">.</span><span class="ident" id="6632379">raw</span><span class="op" id="6632382">)</span><span class="op" id="6632383">,</span>&nbsp;<span class="ident" id="6632385">tt</span><span class="op" id="6632387">.</span><span class="ident" id="6632388">raw</span><span class="op" id="6632391">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632398">}</span><br>
<span class="lineno"></span><span class="op" id="6632400">}</span>
</div>
</body>
</html>
