<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4301628">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4301684">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4301738">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4301789">//&nbsp;DWARF&nbsp;debug&nbsp;information&nbsp;entry&nbsp;parser.</span><br>
<span class="lineno"></span><span class="comment" id="4301830">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;data&nbsp;items&nbsp;of&nbsp;a&nbsp;given&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="4301889">//&nbsp;The&nbsp;first&nbsp;word&nbsp;in&nbsp;the&nbsp;entry&nbsp;is&nbsp;an&nbsp;index&nbsp;into&nbsp;what&nbsp;DWARF</span><br>
<span class="lineno"></span><span class="comment" id="4301948">//&nbsp;calls&nbsp;the&nbsp;``abbreviation&nbsp;table.&#39;&#39;&nbsp;&nbsp;An&nbsp;abbreviation&nbsp;is&nbsp;really</span><br>
<span class="lineno"></span><span class="comment" id="4302012">//&nbsp;just&nbsp;a&nbsp;type&nbsp;descriptor:&nbsp;it&#39;s&nbsp;an&nbsp;array&nbsp;of&nbsp;attribute&nbsp;tag/value&nbsp;format&nbsp;pairs.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="4302091">package</span>&nbsp;<span class="ident" id="4302099">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4302106">import</span>&nbsp;<span class="op" id="4302113">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4302116">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4302126">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="4302136">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4302139">//&nbsp;a&nbsp;single&nbsp;entry&#39;s&nbsp;description:&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attributes</span><br>
<span class="lineno"></span><span class="keyword" id="4302197">type</span>&nbsp;<span class="ident" id="4302202">abbrev</span>&nbsp;<span class="keyword" id="4302209">struct</span>&nbsp;<span class="op" id="4302216">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302219">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4302228">Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302233">children</span>&nbsp;<span class="builtintype" id="4302242">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302248">field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4302257">[</span><span class="op" id="4302258">]</span><span class="ident" id="4302259">afield</span><br>
<span class="lineno"></span><span class="op" id="4302266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="4302269">type</span>&nbsp;<span class="ident" id="4302274">afield</span>&nbsp;<span class="keyword" id="4302281">struct</span>&nbsp;<span class="op" id="4302288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302291">attr</span>&nbsp;<span class="ident" id="4302296">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302302">fmt</span>&nbsp;&nbsp;<span class="ident" id="4302307">format</span><br>
<span class="lineno"></span><span class="op" id="4302314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="4302317">//&nbsp;a&nbsp;map&nbsp;from&nbsp;entry&nbsp;format&nbsp;ids&nbsp;to&nbsp;their&nbsp;descriptions</span><br>
<span class="lineno"></span><span class="keyword" id="4302370">type</span>&nbsp;<span class="ident" id="4302375">abbrevTable</span>&nbsp;<span class="keyword" id="4302387">map</span><span class="op" id="4302390">[</span><span class="builtintype" id="4302391">uint32</span><span class="op" id="4302397">]</span><span class="ident" id="4302398">abbrev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4302406">//&nbsp;ParseAbbrev&nbsp;returns&nbsp;the&nbsp;abbreviation&nbsp;table&nbsp;that&nbsp;starts&nbsp;at&nbsp;byte&nbsp;off</span><br>
<span class="lineno"></span><span class="comment" id="4302476">//&nbsp;in&nbsp;the&nbsp;.debug_abbrev&nbsp;section.</span><br>
<span class="lineno">35</span><span class="keyword" id="4302509">func</span>&nbsp;<span class="op" id="4302514">(</span><span class="ident" id="4302515">d</span>&nbsp;<span class="op" id="4302517">*</span><span class="ident" id="4302518">Data</span><span class="op" id="4302522">)</span>&nbsp;<span class="ident" id="4302524">parseAbbrev</span><span class="op" id="4302535">(</span><span class="ident" id="4302536">off</span>&nbsp;<span class="builtintype" id="4302540">uint32</span><span class="op" id="4302546">)</span>&nbsp;<span class="op" id="4302548">(</span><span class="ident" id="4302549">abbrevTable</span><span class="op" id="4302560">,</span>&nbsp;<span class="builtintype" id="4302562">error</span><span class="op" id="4302567">)</span>&nbsp;<span class="op" id="4302569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302572">if</span>&nbsp;<span class="ident" id="4302575">m</span><span class="op" id="4302576">,</span>&nbsp;<span class="ident" id="4302578">ok</span>&nbsp;<span class="op" id="4302581">:=</span>&nbsp;<span class="ident" id="4302584">d</span><span class="op" id="4302585">.</span><span class="ident" id="4302586">abbrevCache</span><span class="op" id="4302597">[</span><span class="ident" id="4302598">off</span><span class="op" id="4302601">]</span><span class="op" id="4302602">;</span>&nbsp;<span class="ident" id="4302604">ok</span>&nbsp;<span class="op" id="4302607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302611">return</span>&nbsp;<span class="ident" id="4302618">m</span><span class="op" id="4302619">,</span>&nbsp;<span class="ident" id="4302621">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4302626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302630">data</span>&nbsp;<span class="op" id="4302635">:=</span>&nbsp;<span class="ident" id="4302638">d</span><span class="op" id="4302639">.</span><span class="ident" id="4302640">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302648">if</span>&nbsp;<span class="ident" id="4302651">off</span>&nbsp;<span class="op" id="4302655">&gt;</span>&nbsp;<span class="builtintype" id="4302657">uint32</span><span class="op" id="4302663">(</span><span class="builtinfunc" id="4302664">len</span><span class="op" id="4302667">(</span><span class="ident" id="4302668">data</span><span class="op" id="4302672">)</span><span class="op" id="4302673">)</span>&nbsp;<span class="op" id="4302675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302679">data</span>&nbsp;<span class="op" id="4302684">=</span>&nbsp;<span class="ident" id="4302686">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4302691">}</span>&nbsp;<span class="keyword" id="4302693">else</span>&nbsp;<span class="op" id="4302698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302702">data</span>&nbsp;<span class="op" id="4302707">=</span>&nbsp;<span class="ident" id="4302709">data</span><span class="op" id="4302713">[</span><span class="ident" id="4302714">off</span><span class="op" id="4302717">:</span><span class="op" id="4302718">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4302721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302724">b</span>&nbsp;<span class="op" id="4302726">:=</span>&nbsp;<span class="ident" id="4302729">makeBuf</span><span class="op" id="4302736">(</span><span class="ident" id="4302737">d</span><span class="op" id="4302738">,</span>&nbsp;<span class="ident" id="4302740">unknownFormat</span><span class="op" id="4302753">{</span><span class="op" id="4302754">}</span><span class="op" id="4302755">,</span>&nbsp;<span class="string" id="4302757">&#34;abbrev&#34;</span><span class="op" id="4302765">,</span>&nbsp;<span class="num" id="4302767">0</span><span class="op" id="4302768">,</span>&nbsp;<span class="ident" id="4302770">data</span><span class="op" id="4302774">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4302778">//&nbsp;Error&nbsp;handling&nbsp;is&nbsp;simplified&nbsp;by&nbsp;the&nbsp;buf&nbsp;getters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4302830">//&nbsp;returning&nbsp;an&nbsp;endless&nbsp;stream&nbsp;of&nbsp;0s&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302884">m</span>&nbsp;<span class="op" id="4302886">:=</span>&nbsp;<span class="builtinfunc" id="4302889">make</span><span class="op" id="4302893">(</span><span class="ident" id="4302894">abbrevTable</span><span class="op" id="4302905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302908">for</span>&nbsp;<span class="op" id="4302912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4302916">//&nbsp;Table&nbsp;ends&nbsp;with&nbsp;id&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302946">id</span>&nbsp;<span class="op" id="4302949">:=</span>&nbsp;<span class="builtintype" id="4302952">uint32</span><span class="op" id="4302958">(</span><span class="ident" id="4302959">b</span><span class="op" id="4302960">.</span><span class="builtintype" id="4302961">uint</span><span class="op" id="4302965">(</span><span class="op" id="4302966">)</span><span class="op" id="4302967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302971">if</span>&nbsp;<span class="ident" id="4302974">id</span>&nbsp;<span class="op" id="4302977">==</span>&nbsp;<span class="num" id="4302980">0</span>&nbsp;<span class="op" id="4302982">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302987">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4302995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4303000">//&nbsp;Walk&nbsp;over&nbsp;attributes,&nbsp;counting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303037">n</span>&nbsp;<span class="op" id="4303039">:=</span>&nbsp;<span class="num" id="4303042">0</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303046">b1</span>&nbsp;<span class="op" id="4303049">:=</span>&nbsp;<span class="ident" id="4303052">b</span>&nbsp;<span class="comment" id="4303054">//&nbsp;Read&nbsp;from&nbsp;copy&nbsp;of&nbsp;b.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303080">b1</span><span class="op" id="4303082">.</span><span class="builtintype" id="4303083">uint</span><span class="op" id="4303087">(</span><span class="op" id="4303088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303092">b1</span><span class="op" id="4303094">.</span><span class="builtintype" id="4303095">uint8</span><span class="op" id="4303100">(</span><span class="op" id="4303101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4303105">for</span>&nbsp;<span class="op" id="4303109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303114">tag</span>&nbsp;<span class="op" id="4303118">:=</span>&nbsp;<span class="ident" id="4303121">b1</span><span class="op" id="4303123">.</span><span class="builtintype" id="4303124">uint</span><span class="op" id="4303128">(</span><span class="op" id="4303129">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303134">fmt</span>&nbsp;<span class="op" id="4303138">:=</span>&nbsp;<span class="ident" id="4303141">b1</span><span class="op" id="4303143">.</span><span class="builtintype" id="4303144">uint</span><span class="op" id="4303148">(</span><span class="op" id="4303149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4303154">if</span>&nbsp;<span class="ident" id="4303157">tag</span>&nbsp;<span class="op" id="4303161">==</span>&nbsp;<span class="num" id="4303164">0</span>&nbsp;<span class="op" id="4303166">&amp;&amp;</span>&nbsp;<span class="ident" id="4303169">fmt</span>&nbsp;<span class="op" id="4303173">==</span>&nbsp;<span class="num" id="4303176">0</span>&nbsp;<span class="op" id="4303178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4303184">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4303193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303198">n</span><span class="op" id="4303199">++</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4303204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4303208">if</span>&nbsp;<span class="ident" id="4303211">b1</span><span class="op" id="4303213">.</span><span class="ident" id="4303214">err</span>&nbsp;<span class="op" id="4303218">!=</span>&nbsp;<span class="ident" id="4303221">nil</span>&nbsp;<span class="op" id="4303225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4303230">return</span>&nbsp;<span class="ident" id="4303237">nil</span><span class="op" id="4303240">,</span>&nbsp;<span class="ident" id="4303242">b1</span><span class="op" id="4303244">.</span><span class="ident" id="4303245">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4303251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4303256">//&nbsp;Walk&nbsp;over&nbsp;attributes&nbsp;again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4303318">var</span>&nbsp;<span class="ident" id="4303322">a</span>&nbsp;<span class="ident" id="4303324">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303333">a</span><span class="op" id="4303334">.</span><span class="ident" id="4303335">tag</span>&nbsp;<span class="op" id="4303339">=</span>&nbsp;<span class="ident" id="4303341">Tag</span><span class="op" id="4303344">(</span><span class="ident" id="4303345">b</span><span class="op" id="4303346">.</span><span class="builtintype" id="4303347">uint</span><span class="op" id="4303351">(</span><span class="op" id="4303352">)</span><span class="op" id="4303353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303357">a</span><span class="op" id="4303358">.</span><span class="ident" id="4303359">children</span>&nbsp;<span class="op" id="4303368">=</span>&nbsp;<span class="ident" id="4303370">b</span><span class="op" id="4303371">.</span><span class="builtintype" id="4303372">uint8</span><span class="op" id="4303377">(</span><span class="op" id="4303378">)</span>&nbsp;<span class="op" id="4303380">!=</span>&nbsp;<span class="num" id="4303383">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303387">a</span><span class="op" id="4303388">.</span><span class="ident" id="4303389">field</span>&nbsp;<span class="op" id="4303395">=</span>&nbsp;<span class="builtinfunc" id="4303397">make</span><span class="op" id="4303401">(</span><span class="op" id="4303402">[</span><span class="op" id="4303403">]</span><span class="ident" id="4303404">afield</span><span class="op" id="4303410">,</span>&nbsp;<span class="ident" id="4303412">n</span><span class="op" id="4303413">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4303417">for</span>&nbsp;<span class="ident" id="4303421">i</span>&nbsp;<span class="op" id="4303423">:=</span>&nbsp;<span class="keyword" id="4303426">range</span>&nbsp;<span class="ident" id="4303432">a</span><span class="op" id="4303433">.</span><span class="ident" id="4303434">field</span>&nbsp;<span class="op" id="4303440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303445">a</span><span class="op" id="4303446">.</span><span class="ident" id="4303447">field</span><span class="op" id="4303452">[</span><span class="ident" id="4303453">i</span><span class="op" id="4303454">]</span><span class="op" id="4303455">.</span><span class="ident" id="4303456">attr</span>&nbsp;<span class="op" id="4303461">=</span>&nbsp;<span class="ident" id="4303463">Attr</span><span class="op" id="4303467">(</span><span class="ident" id="4303468">b</span><span class="op" id="4303469">.</span><span class="builtintype" id="4303470">uint</span><span class="op" id="4303474">(</span><span class="op" id="4303475">)</span><span class="op" id="4303476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303481">a</span><span class="op" id="4303482">.</span><span class="ident" id="4303483">field</span><span class="op" id="4303488">[</span><span class="ident" id="4303489">i</span><span class="op" id="4303490">]</span><span class="op" id="4303491">.</span><span class="ident" id="4303492">fmt</span>&nbsp;<span class="op" id="4303496">=</span>&nbsp;<span class="ident" id="4303498">format</span><span class="op" id="4303504">(</span><span class="ident" id="4303505">b</span><span class="op" id="4303506">.</span><span class="builtintype" id="4303507">uint</span><span class="op" id="4303511">(</span><span class="op" id="4303512">)</span><span class="op" id="4303513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4303517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303521">b</span><span class="op" id="4303522">.</span><span class="builtintype" id="4303523">uint</span><span class="op" id="4303527">(</span><span class="op" id="4303528">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303532">b</span><span class="op" id="4303533">.</span><span class="builtintype" id="4303534">uint</span><span class="op" id="4303538">(</span><span class="op" id="4303539">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303544">m</span><span class="op" id="4303545">[</span><span class="ident" id="4303546">id</span><span class="op" id="4303548">]</span>&nbsp;<span class="op" id="4303550">=</span>&nbsp;<span class="ident" id="4303552">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4303555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4303558">if</span>&nbsp;<span class="ident" id="4303561">b</span><span class="op" id="4303562">.</span><span class="ident" id="4303563">err</span>&nbsp;<span class="op" id="4303567">!=</span>&nbsp;<span class="ident" id="4303570">nil</span>&nbsp;<span class="op" id="4303574">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4303578">return</span>&nbsp;<span class="ident" id="4303585">nil</span><span class="op" id="4303588">,</span>&nbsp;<span class="ident" id="4303590">b</span><span class="op" id="4303591">.</span><span class="ident" id="4303592">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4303597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303600">d</span><span class="op" id="4303601">.</span><span class="ident" id="4303602">abbrevCache</span><span class="op" id="4303613">[</span><span class="ident" id="4303614">off</span><span class="op" id="4303617">]</span>&nbsp;<span class="op" id="4303619">=</span>&nbsp;<span class="ident" id="4303621">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4303624">return</span>&nbsp;<span class="ident" id="4303631">m</span><span class="op" id="4303632">,</span>&nbsp;<span class="ident" id="4303634">nil</span><br>
<span class="lineno"></span><span class="op" id="4303638">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="4303641">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attribute/value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="keyword" id="4303693">type</span>&nbsp;<span class="ident" id="4303698">Entry</span>&nbsp;<span class="keyword" id="4303704">struct</span>&nbsp;<span class="op" id="4303711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303714">Offset</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4303723">Offset</span>&nbsp;<span class="comment" id="4303730">//&nbsp;offset&nbsp;of&nbsp;Entry&nbsp;in&nbsp;DWARF&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303764">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4303773">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4303780">//&nbsp;tag&nbsp;(kind&nbsp;of&nbsp;Entry)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303804">Children</span>&nbsp;<span class="builtintype" id="4303813">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4303820">//&nbsp;whether&nbsp;Entry&nbsp;is&nbsp;followed&nbsp;by&nbsp;children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303862">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4303871">[</span><span class="op" id="4303872">]</span><span class="ident" id="4303873">Field</span><br>
<span class="lineno"></span><span class="op" id="4303879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4303882">//&nbsp;A&nbsp;Field&nbsp;is&nbsp;a&nbsp;single&nbsp;attribute/value&nbsp;pair&nbsp;in&nbsp;an&nbsp;Entry.</span><br>
<span class="lineno">105</span><span class="keyword" id="4303939">type</span>&nbsp;<span class="ident" id="4303944">Field</span>&nbsp;<span class="keyword" id="4303950">struct</span>&nbsp;<span class="op" id="4303957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303960">Attr</span>&nbsp;<span class="ident" id="4303965">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4303971">Val</span>&nbsp;&nbsp;<span class="keyword" id="4303976">interface</span><span class="op" id="4303985">{</span><span class="op" id="4303986">}</span><br>
<span class="lineno"></span><span class="op" id="4303988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="4303991">//&nbsp;Val&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;attribute&nbsp;Attr&nbsp;in&nbsp;Entry,</span><br>
<span class="lineno"></span><span class="comment" id="4304057">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="4304098">//</span><br>
<span class="lineno"></span><span class="comment" id="4304101">//&nbsp;A&nbsp;common&nbsp;idiom&nbsp;is&nbsp;to&nbsp;merge&nbsp;the&nbsp;check&nbsp;for&nbsp;nil&nbsp;return&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="4304161">//&nbsp;the&nbsp;check&nbsp;that&nbsp;the&nbsp;value&nbsp;has&nbsp;the&nbsp;expected&nbsp;dynamic&nbsp;type,&nbsp;as&nbsp;in:</span><br>
<span class="lineno">115</span><span class="comment" id="4304227">//&nbsp;&nbsp;&nbsp;&nbspv,&nbsp;ok&nbsp;:=&nbsp;e.Val(AttrSibling).(int64);</span><br>
<span class="lineno"></span><span class="comment" id="4304267">//</span><br>
<span class="lineno"></span><span class="keyword" id="4304270">func</span>&nbsp;<span class="op" id="4304275">(</span><span class="ident" id="4304276">e</span>&nbsp;<span class="op" id="4304278">*</span><span class="ident" id="4304279">Entry</span><span class="op" id="4304284">)</span>&nbsp;<span class="ident" id="4304286">Val</span><span class="op" id="4304289">(</span><span class="ident" id="4304290">a</span>&nbsp;<span class="ident" id="4304292">Attr</span><span class="op" id="4304296">)</span>&nbsp;<span class="keyword" id="4304298">interface</span><span class="op" id="4304307">{</span><span class="op" id="4304308">}</span>&nbsp;<span class="op" id="4304310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4304313">for</span>&nbsp;<span class="ident" id="4304317">_</span><span class="op" id="4304318">,</span>&nbsp;<span class="ident" id="4304320">f</span>&nbsp;<span class="op" id="4304322">:=</span>&nbsp;<span class="keyword" id="4304325">range</span>&nbsp;<span class="ident" id="4304331">e</span><span class="op" id="4304332">.</span><span class="ident" id="4304333">Field</span>&nbsp;<span class="op" id="4304339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4304343">if</span>&nbsp;<span class="ident" id="4304346">f</span><span class="op" id="4304347">.</span><span class="ident" id="4304348">Attr</span>&nbsp;<span class="op" id="4304353">==</span>&nbsp;<span class="ident" id="4304356">a</span>&nbsp;<span class="op" id="4304358">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4304363">return</span>&nbsp;<span class="ident" id="4304370">f</span><span class="op" id="4304371">.</span><span class="ident" id="4304372">Val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4304378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4304381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4304384">return</span>&nbsp;<span class="ident" id="4304391">nil</span><br>
<span class="lineno"></span><span class="op" id="4304395">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="4304398">//&nbsp;An&nbsp;Offset&nbsp;represents&nbsp;the&nbsp;location&nbsp;of&nbsp;an&nbsp;Entry&nbsp;within&nbsp;the&nbsp;DWARF&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="4304470">//&nbsp;(See&nbsp;Reader.Seek.)</span><br>
<span class="lineno"></span><span class="keyword" id="4304492">type</span>&nbsp;<span class="ident" id="4304497">Offset</span>&nbsp;<span class="builtintype" id="4304504">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4304512">//&nbsp;Entry&nbsp;reads&nbsp;a&nbsp;single&nbsp;entry&nbsp;from&nbsp;buf,&nbsp;decoding</span><br>
<span class="lineno"></span><span class="comment" id="4304561">//&nbsp;according&nbsp;to&nbsp;the&nbsp;given&nbsp;abbreviation&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="4304607">func</span>&nbsp;<span class="op" id="4304612">(</span><span class="ident" id="4304613">b</span>&nbsp;<span class="op" id="4304615">*</span><span class="ident" id="4304616">buf</span><span class="op" id="4304619">)</span>&nbsp;<span class="ident" id="4304621">entry</span><span class="op" id="4304626">(</span><span class="ident" id="4304627">atab</span>&nbsp;<span class="ident" id="4304632">abbrevTable</span><span class="op" id="4304643">,</span>&nbsp;<span class="ident" id="4304645">ubase</span>&nbsp;<span class="ident" id="4304651">Offset</span><span class="op" id="4304657">)</span>&nbsp;<span class="op" id="4304659">*</span><span class="ident" id="4304660">Entry</span>&nbsp;<span class="op" id="4304666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4304669">off</span>&nbsp;<span class="op" id="4304673">:=</span>&nbsp;<span class="ident" id="4304676">b</span><span class="op" id="4304677">.</span><span class="ident" id="4304678">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4304683">id</span>&nbsp;<span class="op" id="4304686">:=</span>&nbsp;<span class="builtintype" id="4304689">uint32</span><span class="op" id="4304695">(</span><span class="ident" id="4304696">b</span><span class="op" id="4304697">.</span><span class="builtintype" id="4304698">uint</span><span class="op" id="4304702">(</span><span class="op" id="4304703">)</span><span class="op" id="4304704">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4304707">if</span>&nbsp;<span class="ident" id="4304710">id</span>&nbsp;<span class="op" id="4304713">==</span>&nbsp;<span class="num" id="4304716">0</span>&nbsp;<span class="op" id="4304718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4304722">return</span>&nbsp;<span class="op" id="4304729">&amp;</span><span class="ident" id="4304730">Entry</span><span class="op" id="4304735">{</span><span class="op" id="4304736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4304739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4304742">a</span><span class="op" id="4304743">,</span>&nbsp;<span class="ident" id="4304745">ok</span>&nbsp;<span class="op" id="4304748">:=</span>&nbsp;<span class="ident" id="4304751">atab</span><span class="op" id="4304755">[</span><span class="ident" id="4304756">id</span><span class="op" id="4304758">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4304761">if</span>&nbsp;<span class="op" id="4304764">!</span><span class="ident" id="4304765">ok</span>&nbsp;<span class="op" id="4304768">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4304772">b</span><span class="op" id="4304773">.</span><span class="builtintype" id="4304774">error</span><span class="op" id="4304779">(</span><span class="string" id="4304780">&#34;unknown&nbsp;abbreviation&nbsp;table&nbsp;index&#34;</span><span class="op" id="4304814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4304818">return</span>&nbsp;<span class="ident" id="4304825">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4304830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4304833">e</span>&nbsp;<span class="op" id="4304835">:=</span>&nbsp;<span class="op" id="4304838">&amp;</span><span class="ident" id="4304839">Entry</span><span class="op" id="4304844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4304848">Offset</span><span class="op" id="4304854">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4304858">off</span><span class="op" id="4304861">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4304865">Tag</span><span class="op" id="4304868">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4304875">a</span><span class="op" id="4304876">.</span><span class="ident" id="4304877">tag</span><span class="op" id="4304880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4304884">Children</span><span class="op" id="4304892">:</span>&nbsp;<span class="ident" id="4304894">a</span><span class="op" id="4304895">.</span><span class="ident" id="4304896">children</span><span class="op" id="4304904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4304908">Field</span><span class="op" id="4304913">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4304918">make</span><span class="op" id="4304922">(</span><span class="op" id="4304923">[</span><span class="op" id="4304924">]</span><span class="ident" id="4304925">Field</span><span class="op" id="4304930">,</span>&nbsp;<span class="builtinfunc" id="4304932">len</span><span class="op" id="4304935">(</span><span class="ident" id="4304936">a</span><span class="op" id="4304937">.</span><span class="ident" id="4304938">field</span><span class="op" id="4304943">)</span><span class="op" id="4304944">)</span><span class="op" id="4304945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4304948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4304951">for</span>&nbsp;<span class="ident" id="4304955">i</span>&nbsp;<span class="op" id="4304957">:=</span>&nbsp;<span class="keyword" id="4304960">range</span>&nbsp;<span class="ident" id="4304966">e</span><span class="op" id="4304967">.</span><span class="ident" id="4304968">Field</span>&nbsp;<span class="op" id="4304974">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4304978">e</span><span class="op" id="4304979">.</span><span class="ident" id="4304980">Field</span><span class="op" id="4304985">[</span><span class="ident" id="4304986">i</span><span class="op" id="4304987">]</span><span class="op" id="4304988">.</span><span class="ident" id="4304989">Attr</span>&nbsp;<span class="op" id="4304994">=</span>&nbsp;<span class="ident" id="4304996">a</span><span class="op" id="4304997">.</span><span class="ident" id="4304998">field</span><span class="op" id="4305003">[</span><span class="ident" id="4305004">i</span><span class="op" id="4305005">]</span><span class="op" id="4305006">.</span><span class="ident" id="4305007">attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305014">fmt</span>&nbsp;<span class="op" id="4305018">:=</span>&nbsp;<span class="ident" id="4305021">a</span><span class="op" id="4305022">.</span><span class="ident" id="4305023">field</span><span class="op" id="4305028">[</span><span class="ident" id="4305029">i</span><span class="op" id="4305030">]</span><span class="op" id="4305031">.</span><span class="ident" id="4305032">fmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305038">if</span>&nbsp;<span class="ident" id="4305041">fmt</span>&nbsp;<span class="op" id="4305045">==</span>&nbsp;<span class="ident" id="4305048">formIndirect</span>&nbsp;<span class="op" id="4305061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305066">fmt</span>&nbsp;<span class="op" id="4305070">=</span>&nbsp;<span class="ident" id="4305072">format</span><span class="op" id="4305078">(</span><span class="ident" id="4305079">b</span><span class="op" id="4305080">.</span><span class="builtintype" id="4305081">uint</span><span class="op" id="4305085">(</span><span class="op" id="4305086">)</span><span class="op" id="4305087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4305091">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305095">var</span>&nbsp;<span class="ident" id="4305099">val</span>&nbsp;<span class="keyword" id="4305103">interface</span><span class="op" id="4305112">{</span><span class="op" id="4305113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305117">switch</span>&nbsp;<span class="ident" id="4305124">fmt</span>&nbsp;<span class="op" id="4305128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305132">default</span><span class="op" id="4305139">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305144">b</span><span class="op" id="4305145">.</span><span class="builtintype" id="4305146">error</span><span class="op" id="4305151">(</span><span class="string" id="4305152">&#34;unknown&nbsp;entry&nbsp;attr&nbsp;format&nbsp;0x&#34;</span>&nbsp;<span class="op" id="4305183">+</span>&nbsp;<span class="ident" id="4305185">strconv</span><span class="op" id="4305192">.</span><span class="ident" id="4305193">FormatInt</span><span class="op" id="4305202">(</span><span class="ident" id="4305203">int64</span><span class="op" id="4305208">(</span><span class="ident" id="4305209">fmt</span><span class="op" id="4305212">)</span><span class="op" id="4305213">,</span>&nbsp;<span class="num" id="4305215">16</span><span class="op" id="4305217">)</span><span class="op" id="4305218">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4305223">//&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305236">case</span>&nbsp;<span class="ident" id="4305241">formAddr</span><span class="op" id="4305249">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305254">val</span>&nbsp;<span class="op" id="4305258">=</span>&nbsp;<span class="ident" id="4305260">b</span><span class="op" id="4305261">.</span><span class="ident" id="4305262">addr</span><span class="op" id="4305266">(</span><span class="op" id="4305267">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4305272">//&nbsp;block</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305283">case</span>&nbsp;<span class="ident" id="4305288">formDwarfBlock1</span><span class="op" id="4305303">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305308">val</span>&nbsp;<span class="op" id="4305312">=</span>&nbsp;<span class="ident" id="4305314">b</span><span class="op" id="4305315">.</span><span class="ident" id="4305316">bytes</span><span class="op" id="4305321">(</span><span class="builtintype" id="4305322">int</span><span class="op" id="4305325">(</span><span class="ident" id="4305326">b</span><span class="op" id="4305327">.</span><span class="builtintype" id="4305328">uint8</span><span class="op" id="4305333">(</span><span class="op" id="4305334">)</span><span class="op" id="4305335">)</span><span class="op" id="4305336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305340">case</span>&nbsp;<span class="ident" id="4305345">formDwarfBlock2</span><span class="op" id="4305360">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305365">val</span>&nbsp;<span class="op" id="4305369">=</span>&nbsp;<span class="ident" id="4305371">b</span><span class="op" id="4305372">.</span><span class="ident" id="4305373">bytes</span><span class="op" id="4305378">(</span><span class="builtintype" id="4305379">int</span><span class="op" id="4305382">(</span><span class="ident" id="4305383">b</span><span class="op" id="4305384">.</span><span class="builtintype" id="4305385">uint16</span><span class="op" id="4305391">(</span><span class="op" id="4305392">)</span><span class="op" id="4305393">)</span><span class="op" id="4305394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305398">case</span>&nbsp;<span class="ident" id="4305403">formDwarfBlock4</span><span class="op" id="4305418">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305423">val</span>&nbsp;<span class="op" id="4305427">=</span>&nbsp;<span class="ident" id="4305429">b</span><span class="op" id="4305430">.</span><span class="ident" id="4305431">bytes</span><span class="op" id="4305436">(</span><span class="builtintype" id="4305437">int</span><span class="op" id="4305440">(</span><span class="ident" id="4305441">b</span><span class="op" id="4305442">.</span><span class="builtintype" id="4305443">uint32</span><span class="op" id="4305449">(</span><span class="op" id="4305450">)</span><span class="op" id="4305451">)</span><span class="op" id="4305452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305456">case</span>&nbsp;<span class="ident" id="4305461">formDwarfBlock</span><span class="op" id="4305475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305480">val</span>&nbsp;<span class="op" id="4305484">=</span>&nbsp;<span class="ident" id="4305486">b</span><span class="op" id="4305487">.</span><span class="ident" id="4305488">bytes</span><span class="op" id="4305493">(</span><span class="builtintype" id="4305494">int</span><span class="op" id="4305497">(</span><span class="ident" id="4305498">b</span><span class="op" id="4305499">.</span><span class="builtintype" id="4305500">uint</span><span class="op" id="4305504">(</span><span class="op" id="4305505">)</span><span class="op" id="4305506">)</span><span class="op" id="4305507">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4305512">//&nbsp;constant</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305526">case</span>&nbsp;<span class="ident" id="4305531">formData1</span><span class="op" id="4305540">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305545">val</span>&nbsp;<span class="op" id="4305549">=</span>&nbsp;<span class="ident" id="4305551">int64</span><span class="op" id="4305556">(</span><span class="ident" id="4305557">b</span><span class="op" id="4305558">.</span><span class="builtintype" id="4305559">uint8</span><span class="op" id="4305564">(</span><span class="op" id="4305565">)</span><span class="op" id="4305566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305570">case</span>&nbsp;<span class="ident" id="4305575">formData2</span><span class="op" id="4305584">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305589">val</span>&nbsp;<span class="op" id="4305593">=</span>&nbsp;<span class="ident" id="4305595">int64</span><span class="op" id="4305600">(</span><span class="ident" id="4305601">b</span><span class="op" id="4305602">.</span><span class="builtintype" id="4305603">uint16</span><span class="op" id="4305609">(</span><span class="op" id="4305610">)</span><span class="op" id="4305611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305615">case</span>&nbsp;<span class="ident" id="4305620">formData4</span><span class="op" id="4305629">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305634">val</span>&nbsp;<span class="op" id="4305638">=</span>&nbsp;<span class="ident" id="4305640">int64</span><span class="op" id="4305645">(</span><span class="ident" id="4305646">b</span><span class="op" id="4305647">.</span><span class="builtintype" id="4305648">uint32</span><span class="op" id="4305654">(</span><span class="op" id="4305655">)</span><span class="op" id="4305656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305660">case</span>&nbsp;<span class="ident" id="4305665">formData8</span><span class="op" id="4305674">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305679">val</span>&nbsp;<span class="op" id="4305683">=</span>&nbsp;<span class="ident" id="4305685">int64</span><span class="op" id="4305690">(</span><span class="ident" id="4305691">b</span><span class="op" id="4305692">.</span><span class="ident" id="4305693">uint64</span><span class="op" id="4305699">(</span><span class="op" id="4305700">)</span><span class="op" id="4305701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305705">case</span>&nbsp;<span class="ident" id="4305710">formSdata</span><span class="op" id="4305719">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305724">val</span>&nbsp;<span class="op" id="4305728">=</span>&nbsp;<span class="ident" id="4305730">int64</span><span class="op" id="4305735">(</span><span class="ident" id="4305736">b</span><span class="op" id="4305737">.</span><span class="builtintype" id="4305738">int</span><span class="op" id="4305741">(</span><span class="op" id="4305742">)</span><span class="op" id="4305743">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305747">case</span>&nbsp;<span class="ident" id="4305752">formUdata</span><span class="op" id="4305761">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305766">val</span>&nbsp;<span class="op" id="4305770">=</span>&nbsp;<span class="ident" id="4305772">int64</span><span class="op" id="4305777">(</span><span class="ident" id="4305778">b</span><span class="op" id="4305779">.</span><span class="builtintype" id="4305780">uint</span><span class="op" id="4305784">(</span><span class="op" id="4305785">)</span><span class="op" id="4305786">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4305791">//&nbsp;flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305801">case</span>&nbsp;<span class="ident" id="4305806">formFlag</span><span class="op" id="4305814">:</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4305819">val</span>&nbsp;<span class="op" id="4305823">=</span>&nbsp;<span class="ident" id="4305825">b</span><span class="op" id="4305826">.</span><span class="builtintype" id="4305827">uint8</span><span class="op" id="4305832">(</span><span class="op" id="4305833">)</span>&nbsp;<span class="op" id="4305835">==</span>&nbsp;<span class="num" id="4305838">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4305842">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4305863">case</span>&nbsp;<span class="ident" id="4305868">formFlagPresent</span><span class="op" id="4305883">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4305888">//&nbsp;The&nbsp;attribute&nbsp;is&nbsp;implicitly&nbsp;indicated&nbsp;as&nbsp;present,&nbsp;and&nbsp;no&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4305960">//&nbsp;encoded&nbsp;in&nbsp;the&nbsp;debugging&nbsp;information&nbsp;entry&nbsp;itself.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306017">val</span>&nbsp;<span class="op" id="4306021">=</span>&nbsp;<span class="builtintype" id="4306023">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4306031">//&nbsp;reference&nbsp;to&nbsp;other&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306061">case</span>&nbsp;<span class="ident" id="4306066">formRefAddr</span><span class="op" id="4306077">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306082">vers</span>&nbsp;<span class="op" id="4306087">:=</span>&nbsp;<span class="ident" id="4306090">b</span><span class="op" id="4306091">.</span><span class="ident" id="4306092">format</span><span class="op" id="4306098">.</span><span class="ident" id="4306099">version</span><span class="op" id="4306106">(</span><span class="op" id="4306107">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306112">if</span>&nbsp;<span class="ident" id="4306115">vers</span>&nbsp;<span class="op" id="4306120">==</span>&nbsp;<span class="num" id="4306123">0</span>&nbsp;<span class="op" id="4306125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306131">b</span><span class="op" id="4306132">.</span><span class="builtintype" id="4306133">error</span><span class="op" id="4306138">(</span><span class="string" id="4306139">&#34;unknown&nbsp;version&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="4306177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4306182">}</span>&nbsp;<span class="keyword" id="4306184">else</span>&nbsp;<span class="keyword" id="4306189">if</span>&nbsp;<span class="ident" id="4306192">vers</span>&nbsp;<span class="op" id="4306197">==</span>&nbsp;<span class="num" id="4306200">2</span>&nbsp;<span class="op" id="4306202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306208">val</span>&nbsp;<span class="op" id="4306212">=</span>&nbsp;<span class="ident" id="4306214">Offset</span><span class="op" id="4306220">(</span><span class="ident" id="4306221">b</span><span class="op" id="4306222">.</span><span class="ident" id="4306223">addr</span><span class="op" id="4306227">(</span><span class="op" id="4306228">)</span><span class="op" id="4306229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4306234">}</span>&nbsp;<span class="keyword" id="4306236">else</span>&nbsp;<span class="op" id="4306241">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306247">is64</span><span class="op" id="4306251">,</span>&nbsp;<span class="ident" id="4306253">known</span>&nbsp;<span class="op" id="4306259">:=</span>&nbsp;<span class="ident" id="4306262">b</span><span class="op" id="4306263">.</span><span class="ident" id="4306264">format</span><span class="op" id="4306270">.</span><span class="ident" id="4306271">dwarf64</span><span class="op" id="4306278">(</span><span class="op" id="4306279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306285">if</span>&nbsp;<span class="op" id="4306288">!</span><span class="ident" id="4306289">known</span>&nbsp;<span class="op" id="4306295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306302">b</span><span class="op" id="4306303">.</span><span class="builtintype" id="4306304">error</span><span class="op" id="4306309">(</span><span class="string" id="4306310">&#34;unknown&nbsp;size&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="4306345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4306351">}</span>&nbsp;<span class="keyword" id="4306353">else</span>&nbsp;<span class="keyword" id="4306358">if</span>&nbsp;<span class="ident" id="4306361">is64</span>&nbsp;<span class="op" id="4306366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306373">val</span>&nbsp;<span class="op" id="4306377">=</span>&nbsp;<span class="ident" id="4306379">Offset</span><span class="op" id="4306385">(</span><span class="ident" id="4306386">b</span><span class="op" id="4306387">.</span><span class="ident" id="4306388">uint64</span><span class="op" id="4306394">(</span><span class="op" id="4306395">)</span><span class="op" id="4306396">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4306402">}</span>&nbsp;<span class="keyword" id="4306404">else</span>&nbsp;<span class="op" id="4306409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306416">val</span>&nbsp;<span class="op" id="4306420">=</span>&nbsp;<span class="ident" id="4306422">Offset</span><span class="op" id="4306428">(</span><span class="ident" id="4306429">b</span><span class="op" id="4306430">.</span><span class="builtintype" id="4306431">uint32</span><span class="op" id="4306437">(</span><span class="op" id="4306438">)</span><span class="op" id="4306439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4306445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4306450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306454">case</span>&nbsp;<span class="ident" id="4306459">formRef1</span><span class="op" id="4306467">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306472">val</span>&nbsp;<span class="op" id="4306476">=</span>&nbsp;<span class="ident" id="4306478">Offset</span><span class="op" id="4306484">(</span><span class="ident" id="4306485">b</span><span class="op" id="4306486">.</span><span class="builtintype" id="4306487">uint8</span><span class="op" id="4306492">(</span><span class="op" id="4306493">)</span><span class="op" id="4306494">)</span>&nbsp;<span class="op" id="4306496">+</span>&nbsp;<span class="ident" id="4306498">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306506">case</span>&nbsp;<span class="ident" id="4306511">formRef2</span><span class="op" id="4306519">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306524">val</span>&nbsp;<span class="op" id="4306528">=</span>&nbsp;<span class="ident" id="4306530">Offset</span><span class="op" id="4306536">(</span><span class="ident" id="4306537">b</span><span class="op" id="4306538">.</span><span class="builtintype" id="4306539">uint16</span><span class="op" id="4306545">(</span><span class="op" id="4306546">)</span><span class="op" id="4306547">)</span>&nbsp;<span class="op" id="4306549">+</span>&nbsp;<span class="ident" id="4306551">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306559">case</span>&nbsp;<span class="ident" id="4306564">formRef4</span><span class="op" id="4306572">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306577">val</span>&nbsp;<span class="op" id="4306581">=</span>&nbsp;<span class="ident" id="4306583">Offset</span><span class="op" id="4306589">(</span><span class="ident" id="4306590">b</span><span class="op" id="4306591">.</span><span class="builtintype" id="4306592">uint32</span><span class="op" id="4306598">(</span><span class="op" id="4306599">)</span><span class="op" id="4306600">)</span>&nbsp;<span class="op" id="4306602">+</span>&nbsp;<span class="ident" id="4306604">ubase</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306612">case</span>&nbsp;<span class="ident" id="4306617">formRef8</span><span class="op" id="4306625">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306630">val</span>&nbsp;<span class="op" id="4306634">=</span>&nbsp;<span class="ident" id="4306636">Offset</span><span class="op" id="4306642">(</span><span class="ident" id="4306643">b</span><span class="op" id="4306644">.</span><span class="ident" id="4306645">uint64</span><span class="op" id="4306651">(</span><span class="op" id="4306652">)</span><span class="op" id="4306653">)</span>&nbsp;<span class="op" id="4306655">+</span>&nbsp;<span class="ident" id="4306657">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306665">case</span>&nbsp;<span class="ident" id="4306670">formRefUdata</span><span class="op" id="4306682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306687">val</span>&nbsp;<span class="op" id="4306691">=</span>&nbsp;<span class="ident" id="4306693">Offset</span><span class="op" id="4306699">(</span><span class="ident" id="4306700">b</span><span class="op" id="4306701">.</span><span class="builtintype" id="4306702">uint</span><span class="op" id="4306706">(</span><span class="op" id="4306707">)</span><span class="op" id="4306708">)</span>&nbsp;<span class="op" id="4306710">+</span>&nbsp;<span class="ident" id="4306712">ubase</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4306721">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306733">case</span>&nbsp;<span class="ident" id="4306738">formString</span><span class="op" id="4306748">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306753">val</span>&nbsp;<span class="op" id="4306757">=</span>&nbsp;<span class="ident" id="4306759">b</span><span class="op" id="4306760">.</span><span class="builtintype" id="4306761">string</span><span class="op" id="4306767">(</span><span class="op" id="4306768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306772">case</span>&nbsp;<span class="ident" id="4306777">formStrp</span><span class="op" id="4306785">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306790">off</span>&nbsp;<span class="op" id="4306794">:=</span>&nbsp;<span class="ident" id="4306797">b</span><span class="op" id="4306798">.</span><span class="builtintype" id="4306799">uint32</span><span class="op" id="4306805">(</span><span class="op" id="4306806">)</span>&nbsp;<span class="comment" id="4306808">//&nbsp;offset&nbsp;into&nbsp;.debug_str</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306837">if</span>&nbsp;<span class="ident" id="4306840">b</span><span class="op" id="4306841">.</span><span class="ident" id="4306842">err</span>&nbsp;<span class="op" id="4306846">!=</span>&nbsp;<span class="ident" id="4306849">nil</span>&nbsp;<span class="op" id="4306853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306859">return</span>&nbsp;<span class="ident" id="4306866">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4306873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306878">b1</span>&nbsp;<span class="op" id="4306881">:=</span>&nbsp;<span class="ident" id="4306884">makeBuf</span><span class="op" id="4306891">(</span><span class="ident" id="4306892">b</span><span class="op" id="4306893">.</span><span class="ident" id="4306894">dwarf</span><span class="op" id="4306899">,</span>&nbsp;<span class="ident" id="4306901">unknownFormat</span><span class="op" id="4306914">{</span><span class="op" id="4306915">}</span><span class="op" id="4306916">,</span>&nbsp;<span class="string" id="4306918">&#34;str&#34;</span><span class="op" id="4306923">,</span>&nbsp;<span class="num" id="4306925">0</span><span class="op" id="4306926">,</span>&nbsp;<span class="ident" id="4306928">b</span><span class="op" id="4306929">.</span><span class="ident" id="4306930">dwarf</span><span class="op" id="4306935">.</span><span class="ident" id="4306936">str</span><span class="op" id="4306939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306944">b1</span><span class="op" id="4306946">.</span><span class="ident" id="4306947">skip</span><span class="op" id="4306951">(</span><span class="builtintype" id="4306952">int</span><span class="op" id="4306955">(</span><span class="ident" id="4306956">off</span><span class="op" id="4306959">)</span><span class="op" id="4306960">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4306965">val</span>&nbsp;<span class="op" id="4306969">=</span>&nbsp;<span class="ident" id="4306971">b1</span><span class="op" id="4306973">.</span><span class="builtintype" id="4306974">string</span><span class="op" id="4306980">(</span><span class="op" id="4306981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4306986">if</span>&nbsp;<span class="ident" id="4306989">b1</span><span class="op" id="4306991">.</span><span class="ident" id="4306992">err</span>&nbsp;<span class="op" id="4306996">!=</span>&nbsp;<span class="ident" id="4306999">nil</span>&nbsp;<span class="op" id="4307003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4307009">b</span><span class="op" id="4307010">.</span><span class="ident" id="4307011">err</span>&nbsp;<span class="op" id="4307015">=</span>&nbsp;<span class="ident" id="4307017">b1</span><span class="op" id="4307019">.</span><span class="ident" id="4307020">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4307028">return</span>&nbsp;<span class="ident" id="4307035">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4307042">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4307047">//&nbsp;lineptr,&nbsp;loclistptr,&nbsp;macptr,&nbsp;rangelistptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4307094">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4,&nbsp;but&nbsp;clang&nbsp;can&nbsp;generate&nbsp;them&nbsp;with&nbsp;-gdwarf-2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4307159">//&nbsp;Section&nbsp;reference,&nbsp;replacing&nbsp;use&nbsp;of&nbsp;formData4&nbsp;and&nbsp;formData8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4307225">case</span>&nbsp;<span class="ident" id="4307230">formSecOffset</span><span class="op" id="4307243">,</span>&nbsp;<span class="ident" id="4307245">formGnuRefAlt</span><span class="op" id="4307258">,</span>&nbsp;<span class="ident" id="4307260">formGnuStrpAlt</span><span class="op" id="4307274">:</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4307279">is64</span><span class="op" id="4307283">,</span>&nbsp;<span class="ident" id="4307285">known</span>&nbsp;<span class="op" id="4307291">:=</span>&nbsp;<span class="ident" id="4307294">b</span><span class="op" id="4307295">.</span><span class="ident" id="4307296">format</span><span class="op" id="4307302">.</span><span class="ident" id="4307303">dwarf64</span><span class="op" id="4307310">(</span><span class="op" id="4307311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4307316">if</span>&nbsp;<span class="op" id="4307319">!</span><span class="ident" id="4307320">known</span>&nbsp;<span class="op" id="4307326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4307332">b</span><span class="op" id="4307333">.</span><span class="builtintype" id="4307334">error</span><span class="op" id="4307339">(</span><span class="string" id="4307340">&#34;unknown&nbsp;size&nbsp;for&nbsp;form&nbsp;0x&#34;</span>&nbsp;<span class="op" id="4307367">+</span>&nbsp;<span class="ident" id="4307369">strconv</span><span class="op" id="4307376">.</span><span class="ident" id="4307377">FormatInt</span><span class="op" id="4307386">(</span><span class="ident" id="4307387">int64</span><span class="op" id="4307392">(</span><span class="ident" id="4307393">fmt</span><span class="op" id="4307396">)</span><span class="op" id="4307397">,</span>&nbsp;<span class="num" id="4307399">16</span><span class="op" id="4307401">)</span><span class="op" id="4307402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4307407">}</span>&nbsp;<span class="keyword" id="4307409">else</span>&nbsp;<span class="keyword" id="4307414">if</span>&nbsp;<span class="ident" id="4307417">is64</span>&nbsp;<span class="op" id="4307422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4307428">val</span>&nbsp;<span class="op" id="4307432">=</span>&nbsp;<span class="ident" id="4307434">int64</span><span class="op" id="4307439">(</span><span class="ident" id="4307440">b</span><span class="op" id="4307441">.</span><span class="ident" id="4307442">uint64</span><span class="op" id="4307448">(</span><span class="op" id="4307449">)</span><span class="op" id="4307450">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4307455">}</span>&nbsp;<span class="keyword" id="4307457">else</span>&nbsp;<span class="op" id="4307462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4307468">val</span>&nbsp;<span class="op" id="4307472">=</span>&nbsp;<span class="ident" id="4307474">int64</span><span class="op" id="4307479">(</span><span class="ident" id="4307480">b</span><span class="op" id="4307481">.</span><span class="builtintype" id="4307482">uint32</span><span class="op" id="4307488">(</span><span class="op" id="4307489">)</span><span class="op" id="4307490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4307495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4307500">//&nbsp;exprloc</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4307513">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4307534">case</span>&nbsp;<span class="ident" id="4307539">formExprloc</span><span class="op" id="4307550">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4307555">val</span>&nbsp;<span class="op" id="4307559">=</span>&nbsp;<span class="ident" id="4307561">b</span><span class="op" id="4307562">.</span><span class="ident" id="4307563">bytes</span><span class="op" id="4307568">(</span><span class="builtintype" id="4307569">int</span><span class="op" id="4307572">(</span><span class="ident" id="4307573">b</span><span class="op" id="4307574">.</span><span class="builtintype" id="4307575">uint</span><span class="op" id="4307579">(</span><span class="op" id="4307580">)</span><span class="op" id="4307581">)</span><span class="op" id="4307582">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4307587">//&nbsp;reference</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4307602">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4307623">case</span>&nbsp;<span class="ident" id="4307628">formRefSig8</span><span class="op" id="4307639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4307644">//&nbsp;64-bit&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4307673">val</span>&nbsp;<span class="op" id="4307677">=</span>&nbsp;<span class="ident" id="4307679">b</span><span class="op" id="4307680">.</span><span class="ident" id="4307681">uint64</span><span class="op" id="4307687">(</span><span class="op" id="4307688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4307692">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4307696">e</span><span class="op" id="4307697">.</span><span class="ident" id="4307698">Field</span><span class="op" id="4307703">[</span><span class="ident" id="4307704">i</span><span class="op" id="4307705">]</span><span class="op" id="4307706">.</span><span class="ident" id="4307707">Val</span>&nbsp;<span class="op" id="4307711">=</span>&nbsp;<span class="ident" id="4307713">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4307718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4307721">if</span>&nbsp;<span class="ident" id="4307724">b</span><span class="op" id="4307725">.</span><span class="ident" id="4307726">err</span>&nbsp;<span class="op" id="4307730">!=</span>&nbsp;<span class="ident" id="4307733">nil</span>&nbsp;<span class="op" id="4307737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4307741">return</span>&nbsp;<span class="ident" id="4307748">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4307753">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4307756">return</span>&nbsp;<span class="ident" id="4307763">e</span><br>
<span class="lineno"></span><span class="op" id="4307765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4307768">//&nbsp;A&nbsp;Reader&nbsp;allows&nbsp;reading&nbsp;Entry&nbsp;structures&nbsp;from&nbsp;a&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="4307843">//&nbsp;The&nbsp;Entry&nbsp;structures&nbsp;are&nbsp;arranged&nbsp;in&nbsp;a&nbsp;tree.&nbsp;&nbsp;The&nbsp;Reader&#39;s&nbsp;Next&nbsp;function</span><br>
<span class="lineno">275</span><span class="comment" id="4307919">//&nbsp;return&nbsp;successive&nbsp;entries&nbsp;from&nbsp;a&nbsp;pre-order&nbsp;traversal&nbsp;of&nbsp;the&nbsp;tree.</span><br>
<span class="lineno"></span><span class="comment" id="4307988">//&nbsp;If&nbsp;an&nbsp;entry&nbsp;has&nbsp;children,&nbsp;its&nbsp;Children&nbsp;field&nbsp;will&nbsp;be&nbsp;true,&nbsp;and&nbsp;the&nbsp;children</span><br>
<span class="lineno"></span><span class="comment" id="4308067">//&nbsp;follow,&nbsp;terminated&nbsp;by&nbsp;an&nbsp;Entry&nbsp;with&nbsp;Tag&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4308113">type</span>&nbsp;<span class="ident" id="4308118">Reader</span>&nbsp;<span class="keyword" id="4308125">struct</span>&nbsp;<span class="op" id="4308132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308135">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308148">buf</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308153">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308166">*</span><span class="ident" id="4308167">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308173">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4308186">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308193">unit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4308206">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308211">lastChildren</span>&nbsp;<span class="builtintype" id="4308224">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4308231">//&nbsp;.Children&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308276">lastSibling</span>&nbsp;&nbsp;<span class="ident" id="4308289">Offset</span>&nbsp;<span class="comment" id="4308296">//&nbsp;.Val(AttrSibling)&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno">285</span><span class="op" id="4308348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4308351">//&nbsp;Reader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;for&nbsp;Data.</span><br>
<span class="lineno"></span><span class="comment" id="4308392">//&nbsp;The&nbsp;reader&nbsp;is&nbsp;positioned&nbsp;at&nbsp;byte&nbsp;offset&nbsp;0&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="4308468">func</span>&nbsp;<span class="op" id="4308473">(</span><span class="ident" id="4308474">d</span>&nbsp;<span class="op" id="4308476">*</span><span class="ident" id="4308477">Data</span><span class="op" id="4308481">)</span>&nbsp;<span class="ident" id="4308483">Reader</span><span class="op" id="4308489">(</span><span class="op" id="4308490">)</span>&nbsp;<span class="op" id="4308492">*</span><span class="ident" id="4308493">Reader</span>&nbsp;<span class="op" id="4308500">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308503">r</span>&nbsp;<span class="op" id="4308505">:=</span>&nbsp;<span class="op" id="4308508">&amp;</span><span class="ident" id="4308509">Reader</span><span class="op" id="4308515">{</span><span class="ident" id="4308516">d</span><span class="op" id="4308517">:</span>&nbsp;<span class="ident" id="4308519">d</span><span class="op" id="4308520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308523">r</span><span class="op" id="4308524">.</span><span class="ident" id="4308525">Seek</span><span class="op" id="4308529">(</span><span class="num" id="4308530">0</span><span class="op" id="4308531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4308534">return</span>&nbsp;<span class="ident" id="4308541">r</span><br>
<span class="lineno"></span><span class="op" id="4308543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="4308546">//&nbsp;Seek&nbsp;positions&nbsp;the&nbsp;Reader&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="4308618">//&nbsp;Offset&nbsp;0&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;denote&nbsp;the&nbsp;first&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="4308669">func</span>&nbsp;<span class="op" id="4308674">(</span><span class="ident" id="4308675">r</span>&nbsp;<span class="op" id="4308677">*</span><span class="ident" id="4308678">Reader</span><span class="op" id="4308684">)</span>&nbsp;<span class="ident" id="4308686">Seek</span><span class="op" id="4308690">(</span><span class="ident" id="4308691">off</span>&nbsp;<span class="ident" id="4308695">Offset</span><span class="op" id="4308701">)</span>&nbsp;<span class="op" id="4308703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308706">d</span>&nbsp;<span class="op" id="4308708">:=</span>&nbsp;<span class="ident" id="4308711">r</span><span class="op" id="4308712">.</span><span class="ident" id="4308713">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308716">r</span><span class="op" id="4308717">.</span><span class="ident" id="4308718">err</span>&nbsp;<span class="op" id="4308722">=</span>&nbsp;<span class="ident" id="4308724">nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308729">r</span><span class="op" id="4308730">.</span><span class="ident" id="4308731">lastChildren</span>&nbsp;<span class="op" id="4308744">=</span>&nbsp;<span class="builtintype" id="4308746">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4308753">if</span>&nbsp;<span class="ident" id="4308756">off</span>&nbsp;<span class="op" id="4308760">==</span>&nbsp;<span class="num" id="4308763">0</span>&nbsp;<span class="op" id="4308765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4308769">if</span>&nbsp;<span class="builtinfunc" id="4308772">len</span><span class="op" id="4308775">(</span><span class="ident" id="4308776">d</span><span class="op" id="4308777">.</span><span class="ident" id="4308778">unit</span><span class="op" id="4308782">)</span>&nbsp;<span class="op" id="4308784">==</span>&nbsp;<span class="num" id="4308787">0</span>&nbsp;<span class="op" id="4308789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4308794">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4308803">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308807">u</span>&nbsp;<span class="op" id="4308809">:=</span>&nbsp;<span class="op" id="4308812">&amp;</span><span class="ident" id="4308813">d</span><span class="op" id="4308814">.</span><span class="ident" id="4308815">unit</span><span class="op" id="4308819">[</span><span class="num" id="4308820">0</span><span class="op" id="4308821">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308825">r</span><span class="op" id="4308826">.</span><span class="ident" id="4308827">unit</span>&nbsp;<span class="op" id="4308832">=</span>&nbsp;<span class="num" id="4308834">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308838">r</span><span class="op" id="4308839">.</span><span class="ident" id="4308840">b</span>&nbsp;<span class="op" id="4308842">=</span>&nbsp;<span class="ident" id="4308844">makeBuf</span><span class="op" id="4308851">(</span><span class="ident" id="4308852">r</span><span class="op" id="4308853">.</span><span class="ident" id="4308854">d</span><span class="op" id="4308855">,</span>&nbsp;<span class="ident" id="4308857">u</span><span class="op" id="4308858">,</span>&nbsp;<span class="string" id="4308860">&#34;info&#34;</span><span class="op" id="4308866">,</span>&nbsp;<span class="ident" id="4308868">u</span><span class="op" id="4308869">.</span><span class="ident" id="4308870">off</span><span class="op" id="4308873">,</span>&nbsp;<span class="ident" id="4308875">u</span><span class="op" id="4308876">.</span><span class="ident" id="4308877">data</span><span class="op" id="4308881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4308885">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4308893">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4308897">//&nbsp;TODO(rsc):&nbsp;binary&nbsp;search&nbsp;(maybe&nbsp;a&nbsp;new&nbsp;package)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4308948">var</span>&nbsp;<span class="ident" id="4308952">i</span>&nbsp;<span class="builtintype" id="4308954">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4308959">var</span>&nbsp;<span class="ident" id="4308963">u</span>&nbsp;<span class="op" id="4308965">*</span><span class="ident" id="4308966">unit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4308972">for</span>&nbsp;<span class="ident" id="4308976">i</span>&nbsp;<span class="op" id="4308978">=</span>&nbsp;<span class="keyword" id="4308980">range</span>&nbsp;<span class="ident" id="4308986">d</span><span class="op" id="4308987">.</span><span class="ident" id="4308988">unit</span>&nbsp;<span class="op" id="4308993">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4308997">u</span>&nbsp;<span class="op" id="4308999">=</span>&nbsp;<span class="op" id="4309001">&amp;</span><span class="ident" id="4309002">d</span><span class="op" id="4309003">.</span><span class="ident" id="4309004">unit</span><span class="op" id="4309008">[</span><span class="ident" id="4309009">i</span><span class="op" id="4309010">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309014">if</span>&nbsp;<span class="ident" id="4309017">u</span><span class="op" id="4309018">.</span><span class="ident" id="4309019">off</span>&nbsp;<span class="op" id="4309023">&lt;=</span>&nbsp;<span class="ident" id="4309026">off</span>&nbsp;<span class="op" id="4309030">&amp;&amp;</span>&nbsp;<span class="ident" id="4309033">off</span>&nbsp;<span class="op" id="4309037">&lt;</span>&nbsp;<span class="ident" id="4309039">u</span><span class="op" id="4309040">.</span><span class="ident" id="4309041">off</span><span class="op" id="4309044">+</span><span class="ident" id="4309045">Offset</span><span class="op" id="4309051">(</span><span class="builtinfunc" id="4309052">len</span><span class="op" id="4309055">(</span><span class="ident" id="4309056">u</span><span class="op" id="4309057">.</span><span class="ident" id="4309058">data</span><span class="op" id="4309062">)</span><span class="op" id="4309063">)</span>&nbsp;<span class="op" id="4309065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309070">r</span><span class="op" id="4309071">.</span><span class="ident" id="4309072">unit</span>&nbsp;<span class="op" id="4309077">=</span>&nbsp;<span class="ident" id="4309079">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309084">r</span><span class="op" id="4309085">.</span><span class="ident" id="4309086">b</span>&nbsp;<span class="op" id="4309088">=</span>&nbsp;<span class="ident" id="4309090">makeBuf</span><span class="op" id="4309097">(</span><span class="ident" id="4309098">r</span><span class="op" id="4309099">.</span><span class="ident" id="4309100">d</span><span class="op" id="4309101">,</span>&nbsp;<span class="ident" id="4309103">u</span><span class="op" id="4309104">,</span>&nbsp;<span class="string" id="4309106">&#34;info&#34;</span><span class="op" id="4309112">,</span>&nbsp;<span class="ident" id="4309114">off</span><span class="op" id="4309117">,</span>&nbsp;<span class="ident" id="4309119">u</span><span class="op" id="4309120">.</span><span class="ident" id="4309121">data</span><span class="op" id="4309125">[</span><span class="ident" id="4309126">off</span><span class="op" id="4309129">-</span><span class="ident" id="4309130">u</span><span class="op" id="4309131">.</span><span class="ident" id="4309132">off</span><span class="op" id="4309135">:</span><span class="op" id="4309136">]</span><span class="op" id="4309137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309142">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4309151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4309154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309157">r</span><span class="op" id="4309158">.</span><span class="ident" id="4309159">err</span>&nbsp;<span class="op" id="4309163">=</span>&nbsp;<span class="ident" id="4309165">errors</span><span class="op" id="4309171">.</span><span class="ident" id="4309172">New</span><span class="op" id="4309175">(</span><span class="string" id="4309176">&#34;offset&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="4309197">)</span><br>
<span class="lineno"></span><span class="op" id="4309199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="4309202">//&nbsp;maybeNextUnit&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;unit&nbsp;if&nbsp;this&nbsp;one&nbsp;is&nbsp;finished.</span><br>
<span class="lineno"></span><span class="keyword" id="4309270">func</span>&nbsp;<span class="op" id="4309275">(</span><span class="ident" id="4309276">r</span>&nbsp;<span class="op" id="4309278">*</span><span class="ident" id="4309279">Reader</span><span class="op" id="4309285">)</span>&nbsp;<span class="ident" id="4309287">maybeNextUnit</span><span class="op" id="4309300">(</span><span class="op" id="4309301">)</span>&nbsp;<span class="op" id="4309303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309306">for</span>&nbsp;<span class="builtinfunc" id="4309310">len</span><span class="op" id="4309313">(</span><span class="ident" id="4309314">r</span><span class="op" id="4309315">.</span><span class="ident" id="4309316">b</span><span class="op" id="4309317">.</span><span class="ident" id="4309318">data</span><span class="op" id="4309322">)</span>&nbsp;<span class="op" id="4309324">==</span>&nbsp;<span class="num" id="4309327">0</span>&nbsp;<span class="op" id="4309329">&amp;&amp;</span>&nbsp;<span class="ident" id="4309332">r</span><span class="op" id="4309333">.</span><span class="ident" id="4309334">unit</span><span class="op" id="4309338">+</span><span class="num" id="4309339">1</span>&nbsp;<span class="op" id="4309341">&lt;</span>&nbsp;<span class="builtinfunc" id="4309343">len</span><span class="op" id="4309346">(</span><span class="ident" id="4309347">r</span><span class="op" id="4309348">.</span><span class="ident" id="4309349">d</span><span class="op" id="4309350">.</span><span class="ident" id="4309351">unit</span><span class="op" id="4309355">)</span>&nbsp;<span class="op" id="4309357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309361">r</span><span class="op" id="4309362">.</span><span class="ident" id="4309363">unit</span><span class="op" id="4309367">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309372">u</span>&nbsp;<span class="op" id="4309374">:=</span>&nbsp;<span class="op" id="4309377">&amp;</span><span class="ident" id="4309378">r</span><span class="op" id="4309379">.</span><span class="ident" id="4309380">d</span><span class="op" id="4309381">.</span><span class="ident" id="4309382">unit</span><span class="op" id="4309386">[</span><span class="ident" id="4309387">r</span><span class="op" id="4309388">.</span><span class="ident" id="4309389">unit</span><span class="op" id="4309393">]</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309397">r</span><span class="op" id="4309398">.</span><span class="ident" id="4309399">b</span>&nbsp;<span class="op" id="4309401">=</span>&nbsp;<span class="ident" id="4309403">makeBuf</span><span class="op" id="4309410">(</span><span class="ident" id="4309411">r</span><span class="op" id="4309412">.</span><span class="ident" id="4309413">d</span><span class="op" id="4309414">,</span>&nbsp;<span class="ident" id="4309416">u</span><span class="op" id="4309417">,</span>&nbsp;<span class="string" id="4309419">&#34;info&#34;</span><span class="op" id="4309425">,</span>&nbsp;<span class="ident" id="4309427">u</span><span class="op" id="4309428">.</span><span class="ident" id="4309429">off</span><span class="op" id="4309432">,</span>&nbsp;<span class="ident" id="4309434">u</span><span class="op" id="4309435">.</span><span class="ident" id="4309436">data</span><span class="op" id="4309440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4309443">}</span><br>
<span class="lineno"></span><span class="op" id="4309445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4309448">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;entry&nbsp;from&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno">335</span><span class="comment" id="4309508">//&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;nil&nbsp;when&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="4309571">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;the&nbsp;current&nbsp;offset&nbsp;is&nbsp;invalid&nbsp;or&nbsp;the&nbsp;data&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4309646">//&nbsp;offset&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a&nbsp;valid&nbsp;Entry.</span><br>
<span class="lineno"></span><span class="keyword" id="4309692">func</span>&nbsp;<span class="op" id="4309697">(</span><span class="ident" id="4309698">r</span>&nbsp;<span class="op" id="4309700">*</span><span class="ident" id="4309701">Reader</span><span class="op" id="4309707">)</span>&nbsp;<span class="ident" id="4309709">Next</span><span class="op" id="4309713">(</span><span class="op" id="4309714">)</span>&nbsp;<span class="op" id="4309716">(</span><span class="op" id="4309717">*</span><span class="ident" id="4309718">Entry</span><span class="op" id="4309723">,</span>&nbsp;<span class="builtintype" id="4309725">error</span><span class="op" id="4309730">)</span>&nbsp;<span class="op" id="4309732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309735">if</span>&nbsp;<span class="ident" id="4309738">r</span><span class="op" id="4309739">.</span><span class="ident" id="4309740">err</span>&nbsp;<span class="op" id="4309744">!=</span>&nbsp;<span class="ident" id="4309747">nil</span>&nbsp;<span class="op" id="4309751">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309755">return</span>&nbsp;<span class="ident" id="4309762">nil</span><span class="op" id="4309765">,</span>&nbsp;<span class="ident" id="4309767">r</span><span class="op" id="4309768">.</span><span class="ident" id="4309769">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4309774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309777">r</span><span class="op" id="4309778">.</span><span class="ident" id="4309779">maybeNextUnit</span><span class="op" id="4309792">(</span><span class="op" id="4309793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309796">if</span>&nbsp;<span class="builtinfunc" id="4309799">len</span><span class="op" id="4309802">(</span><span class="ident" id="4309803">r</span><span class="op" id="4309804">.</span><span class="ident" id="4309805">b</span><span class="op" id="4309806">.</span><span class="ident" id="4309807">data</span><span class="op" id="4309811">)</span>&nbsp;<span class="op" id="4309813">==</span>&nbsp;<span class="num" id="4309816">0</span>&nbsp;<span class="op" id="4309818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309822">return</span>&nbsp;<span class="ident" id="4309829">nil</span><span class="op" id="4309832">,</span>&nbsp;<span class="ident" id="4309834">nil</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4309839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309842">u</span>&nbsp;<span class="op" id="4309844">:=</span>&nbsp;<span class="op" id="4309847">&amp;</span><span class="ident" id="4309848">r</span><span class="op" id="4309849">.</span><span class="ident" id="4309850">d</span><span class="op" id="4309851">.</span><span class="ident" id="4309852">unit</span><span class="op" id="4309856">[</span><span class="ident" id="4309857">r</span><span class="op" id="4309858">.</span><span class="ident" id="4309859">unit</span><span class="op" id="4309863">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309866">e</span>&nbsp;<span class="op" id="4309868">:=</span>&nbsp;<span class="ident" id="4309871">r</span><span class="op" id="4309872">.</span><span class="ident" id="4309873">b</span><span class="op" id="4309874">.</span><span class="ident" id="4309875">entry</span><span class="op" id="4309880">(</span><span class="ident" id="4309881">u</span><span class="op" id="4309882">.</span><span class="ident" id="4309883">atable</span><span class="op" id="4309889">,</span>&nbsp;<span class="ident" id="4309891">u</span><span class="op" id="4309892">.</span><span class="ident" id="4309893">base</span><span class="op" id="4309897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309900">if</span>&nbsp;<span class="ident" id="4309903">r</span><span class="op" id="4309904">.</span><span class="ident" id="4309905">b</span><span class="op" id="4309906">.</span><span class="ident" id="4309907">err</span>&nbsp;<span class="op" id="4309911">!=</span>&nbsp;<span class="ident" id="4309914">nil</span>&nbsp;<span class="op" id="4309918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309922">r</span><span class="op" id="4309923">.</span><span class="ident" id="4309924">err</span>&nbsp;<span class="op" id="4309928">=</span>&nbsp;<span class="ident" id="4309930">r</span><span class="op" id="4309931">.</span><span class="ident" id="4309932">b</span><span class="op" id="4309933">.</span><span class="ident" id="4309934">err</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309940">return</span>&nbsp;<span class="ident" id="4309947">nil</span><span class="op" id="4309950">,</span>&nbsp;<span class="ident" id="4309952">r</span><span class="op" id="4309953">.</span><span class="ident" id="4309954">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4309959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309962">if</span>&nbsp;<span class="ident" id="4309965">e</span>&nbsp;<span class="op" id="4309967">!=</span>&nbsp;<span class="ident" id="4309970">nil</span>&nbsp;<span class="op" id="4309974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309978">r</span><span class="op" id="4309979">.</span><span class="ident" id="4309980">lastChildren</span>&nbsp;<span class="op" id="4309993">=</span>&nbsp;<span class="ident" id="4309995">e</span><span class="op" id="4309996">.</span><span class="ident" id="4309997">Children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310008">if</span>&nbsp;<span class="ident" id="4310011">r</span><span class="op" id="4310012">.</span><span class="ident" id="4310013">lastChildren</span>&nbsp;<span class="op" id="4310026">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4310031">r</span><span class="op" id="4310032">.</span><span class="ident" id="4310033">lastSibling</span><span class="op" id="4310044">,</span>&nbsp;<span class="ident" id="4310046">_</span>&nbsp;<span class="op" id="4310048">=</span>&nbsp;<span class="ident" id="4310050">e</span><span class="op" id="4310051">.</span><span class="ident" id="4310052">Val</span><span class="op" id="4310055">(</span><span class="ident" id="4310056">AttrSibling</span><span class="op" id="4310067">)</span><span class="op" id="4310068">.</span><span class="op" id="4310069">(</span><span class="ident" id="4310070">Offset</span><span class="op" id="4310076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4310080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4310083">}</span>&nbsp;<span class="keyword" id="4310085">else</span>&nbsp;<span class="op" id="4310090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4310094">r</span><span class="op" id="4310095">.</span><span class="ident" id="4310096">lastChildren</span>&nbsp;<span class="op" id="4310109">=</span>&nbsp;<span class="builtintype" id="4310111">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4310118">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310121">return</span>&nbsp;<span class="ident" id="4310128">e</span><span class="op" id="4310129">,</span>&nbsp;<span class="ident" id="4310131">nil</span><br>
<span class="lineno"></span><span class="op" id="4310135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4310138">//&nbsp;SkipChildren&nbsp;skips&nbsp;over&nbsp;the&nbsp;child&nbsp;entries&nbsp;associated&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="4310199">//&nbsp;the&nbsp;last&nbsp;Entry&nbsp;returned&nbsp;by&nbsp;Next.&nbsp;&nbsp;If&nbsp;that&nbsp;Entry&nbsp;did&nbsp;not&nbsp;have</span><br>
<span class="lineno">365</span><span class="comment" id="4310263">//&nbsp;children&nbsp;or&nbsp;Next&nbsp;has&nbsp;not&nbsp;been&nbsp;called,&nbsp;SkipChildren&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="keyword" id="4310329">func</span>&nbsp;<span class="op" id="4310334">(</span><span class="ident" id="4310335">r</span>&nbsp;<span class="op" id="4310337">*</span><span class="ident" id="4310338">Reader</span><span class="op" id="4310344">)</span>&nbsp;<span class="ident" id="4310346">SkipChildren</span><span class="op" id="4310358">(</span><span class="op" id="4310359">)</span>&nbsp;<span class="op" id="4310361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310364">if</span>&nbsp;<span class="ident" id="4310367">r</span><span class="op" id="4310368">.</span><span class="ident" id="4310369">err</span>&nbsp;<span class="op" id="4310373">!=</span>&nbsp;<span class="ident" id="4310376">nil</span>&nbsp;<span class="op" id="4310380">||</span>&nbsp;<span class="op" id="4310383">!</span><span class="ident" id="4310384">r</span><span class="op" id="4310385">.</span><span class="ident" id="4310386">lastChildren</span>&nbsp;<span class="op" id="4310399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310403">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4310411">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4310415">//&nbsp;If&nbsp;the&nbsp;last&nbsp;entry&nbsp;had&nbsp;a&nbsp;sibling&nbsp;attribute,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4310462">//&nbsp;that&nbsp;attribute&nbsp;gives&nbsp;the&nbsp;offset&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4310510">//&nbsp;sibling,&nbsp;so&nbsp;we&nbsp;can&nbsp;avoid&nbsp;decoding&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4310552">//&nbsp;child&nbsp;subtrees.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310572">if</span>&nbsp;<span class="ident" id="4310575">r</span><span class="op" id="4310576">.</span><span class="ident" id="4310577">lastSibling</span>&nbsp;<span class="op" id="4310589">&gt;=</span>&nbsp;<span class="ident" id="4310592">r</span><span class="op" id="4310593">.</span><span class="ident" id="4310594">b</span><span class="op" id="4310595">.</span><span class="ident" id="4310596">off</span>&nbsp;<span class="op" id="4310600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4310604">r</span><span class="op" id="4310605">.</span><span class="ident" id="4310606">Seek</span><span class="op" id="4310610">(</span><span class="ident" id="4310611">r</span><span class="op" id="4310612">.</span><span class="ident" id="4310613">lastSibling</span><span class="op" id="4310624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310628">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4310636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310640">for</span>&nbsp;<span class="op" id="4310644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4310648">e</span><span class="op" id="4310649">,</span>&nbsp;<span class="ident" id="4310651">err</span>&nbsp;<span class="op" id="4310655">:=</span>&nbsp;<span class="ident" id="4310658">r</span><span class="op" id="4310659">.</span><span class="ident" id="4310660">Next</span><span class="op" id="4310664">(</span><span class="op" id="4310665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310669">if</span>&nbsp;<span class="ident" id="4310672">err</span>&nbsp;<span class="op" id="4310676">!=</span>&nbsp;<span class="ident" id="4310679">nil</span>&nbsp;<span class="op" id="4310683">||</span>&nbsp;<span class="ident" id="4310686">e</span>&nbsp;<span class="op" id="4310688">==</span>&nbsp;<span class="ident" id="4310691">nil</span>&nbsp;<span class="op" id="4310695">||</span>&nbsp;<span class="ident" id="4310698">e</span><span class="op" id="4310699">.</span><span class="ident" id="4310700">Tag</span>&nbsp;<span class="op" id="4310704">==</span>&nbsp;<span class="num" id="4310707">0</span>&nbsp;<span class="op" id="4310709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310714">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4310722">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310726">if</span>&nbsp;<span class="ident" id="4310729">e</span><span class="op" id="4310730">.</span><span class="ident" id="4310731">Children</span>&nbsp;<span class="op" id="4310740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4310745">r</span><span class="op" id="4310746">.</span><span class="ident" id="4310747">SkipChildren</span><span class="op" id="4310759">(</span><span class="op" id="4310760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4310764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4310767">}</span><br>
<span class="lineno"></span><span class="op" id="4310769">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="comment" id="4310772">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;reader.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;typeReader</span><br>
<span class="lineno"></span><span class="comment" id="4310843">//&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4310857">func</span>&nbsp;<span class="op" id="4310862">(</span><span class="ident" id="4310863">r</span>&nbsp;<span class="op" id="4310865">*</span><span class="ident" id="4310866">Reader</span><span class="op" id="4310872">)</span>&nbsp;<span class="ident" id="4310874">clone</span><span class="op" id="4310879">(</span><span class="op" id="4310880">)</span>&nbsp;<span class="ident" id="4310882">typeReader</span>&nbsp;<span class="op" id="4310893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4310896">return</span>&nbsp;<span class="ident" id="4310903">r</span><span class="op" id="4310904">.</span><span class="ident" id="4310905">d</span><span class="op" id="4310906">.</span><span class="ident" id="4310907">Reader</span><span class="op" id="4310913">(</span><span class="op" id="4310914">)</span><br>
<span class="lineno">395</span><span class="op" id="4310916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4310919">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;buffer&nbsp;offset.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4310985">//&nbsp;typeReader&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4311010">func</span>&nbsp;<span class="op" id="4311015">(</span><span class="ident" id="4311016">r</span>&nbsp;<span class="op" id="4311018">*</span><span class="ident" id="4311019">Reader</span><span class="op" id="4311025">)</span>&nbsp;<span class="ident" id="4311027">offset</span><span class="op" id="4311033">(</span><span class="op" id="4311034">)</span>&nbsp;<span class="ident" id="4311036">Offset</span>&nbsp;<span class="op" id="4311043">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4311046">return</span>&nbsp;<span class="ident" id="4311053">r</span><span class="op" id="4311054">.</span><span class="ident" id="4311055">b</span><span class="op" id="4311056">.</span><span class="ident" id="4311057">off</span><br>
<span class="lineno"></span><span class="op" id="4311061">}</span>
</div>
</body>
</html>
