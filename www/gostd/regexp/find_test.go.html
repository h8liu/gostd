<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6938673">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6938728">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6938782">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6938833">package</span>&nbsp;<span class="ident" id="6938841">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6938849">import</span>&nbsp;<span class="op" id="6938856">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6938859">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6938866">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6938877">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6938887">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6938890">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="6938967">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="6939047">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="6939130">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="6939208">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="6939255">type</span>&nbsp;<span class="ident" id="6939260">FindTest</span>&nbsp;<span class="keyword" id="6939269">struct</span>&nbsp;<span class="op" id="6939276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939279">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6939287">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939295">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6939303">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939311">matches</span>&nbsp;<span class="op" id="6939319">[</span><span class="op" id="6939320">]</span><span class="op" id="6939321">[</span><span class="op" id="6939322">]</span><span class="builtintype" id="6939323">int</span><br>
<span class="lineno"></span><span class="op" id="6939327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6939330">func</span>&nbsp;<span class="op" id="6939335">(</span><span class="ident" id="6939336">t</span>&nbsp;<span class="ident" id="6939338">FindTest</span><span class="op" id="6939346">)</span>&nbsp;<span class="ident" id="6939348">String</span><span class="op" id="6939354">(</span><span class="op" id="6939355">)</span>&nbsp;<span class="builtintype" id="6939357">string</span>&nbsp;<span class="op" id="6939364">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6939367">return</span>&nbsp;<span class="ident" id="6939374">fmt</span><span class="op" id="6939377">.</span><span class="ident" id="6939378">Sprintf</span><span class="op" id="6939385">(</span><span class="string" id="6939386">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="6939406">,</span>&nbsp;<span class="ident" id="6939408">t</span><span class="op" id="6939409">.</span><span class="ident" id="6939410">pat</span><span class="op" id="6939413">,</span>&nbsp;<span class="ident" id="6939415">t</span><span class="op" id="6939416">.</span><span class="ident" id="6939417">text</span><span class="op" id="6939421">)</span><br>
<span class="lineno"></span><span class="op" id="6939423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6939426">var</span>&nbsp;<span class="ident" id="6939430">findTests</span>&nbsp;<span class="op" id="6939440">=</span>&nbsp;<span class="op" id="6939442">[</span><span class="op" id="6939443">]</span><span class="ident" id="6939444">FindTest</span><span class="op" id="6939452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939455">{</span><span class="string" id="6939456">``</span><span class="op" id="6939458">,</span>&nbsp;<span class="string" id="6939460">``</span><span class="op" id="6939462">,</span>&nbsp;<span class="ident" id="6939464">build</span><span class="op" id="6939469">(</span><span class="num" id="6939470">1</span><span class="op" id="6939471">,</span>&nbsp;<span class="num" id="6939473">0</span><span class="op" id="6939474">,</span>&nbsp;<span class="num" id="6939476">0</span><span class="op" id="6939477">)</span><span class="op" id="6939478">}</span><span class="op" id="6939479">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939482">{</span><span class="string" id="6939483">`^abcdefg`</span><span class="op" id="6939493">,</span>&nbsp;<span class="string" id="6939495">&#34;abcdefg&#34;</span><span class="op" id="6939504">,</span>&nbsp;<span class="ident" id="6939506">build</span><span class="op" id="6939511">(</span><span class="num" id="6939512">1</span><span class="op" id="6939513">,</span>&nbsp;<span class="num" id="6939515">0</span><span class="op" id="6939516">,</span>&nbsp;<span class="num" id="6939518">7</span><span class="op" id="6939519">)</span><span class="op" id="6939520">}</span><span class="op" id="6939521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939524">{</span><span class="string" id="6939525">`a+`</span><span class="op" id="6939529">,</span>&nbsp;<span class="string" id="6939531">&#34;baaab&#34;</span><span class="op" id="6939538">,</span>&nbsp;<span class="ident" id="6939540">build</span><span class="op" id="6939545">(</span><span class="num" id="6939546">1</span><span class="op" id="6939547">,</span>&nbsp;<span class="num" id="6939549">1</span><span class="op" id="6939550">,</span>&nbsp;<span class="num" id="6939552">4</span><span class="op" id="6939553">)</span><span class="op" id="6939554">}</span><span class="op" id="6939555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939558">{</span><span class="string" id="6939559">&#34;abcd..&#34;</span><span class="op" id="6939567">,</span>&nbsp;<span class="string" id="6939569">&#34;abcdef&#34;</span><span class="op" id="6939577">,</span>&nbsp;<span class="ident" id="6939579">build</span><span class="op" id="6939584">(</span><span class="num" id="6939585">1</span><span class="op" id="6939586">,</span>&nbsp;<span class="num" id="6939588">0</span><span class="op" id="6939589">,</span>&nbsp;<span class="num" id="6939591">6</span><span class="op" id="6939592">)</span><span class="op" id="6939593">}</span><span class="op" id="6939594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939597">{</span><span class="string" id="6939598">`a`</span><span class="op" id="6939601">,</span>&nbsp;<span class="string" id="6939603">&#34;a&#34;</span><span class="op" id="6939606">,</span>&nbsp;<span class="ident" id="6939608">build</span><span class="op" id="6939613">(</span><span class="num" id="6939614">1</span><span class="op" id="6939615">,</span>&nbsp;<span class="num" id="6939617">0</span><span class="op" id="6939618">,</span>&nbsp;<span class="num" id="6939620">1</span><span class="op" id="6939621">)</span><span class="op" id="6939622">}</span><span class="op" id="6939623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939626">{</span><span class="string" id="6939627">`x`</span><span class="op" id="6939630">,</span>&nbsp;<span class="string" id="6939632">&#34;y&#34;</span><span class="op" id="6939635">,</span>&nbsp;<span class="ident" id="6939637">nil</span><span class="op" id="6939640">}</span><span class="op" id="6939641">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939644">{</span><span class="string" id="6939645">`b`</span><span class="op" id="6939648">,</span>&nbsp;<span class="string" id="6939650">&#34;abc&#34;</span><span class="op" id="6939655">,</span>&nbsp;<span class="ident" id="6939657">build</span><span class="op" id="6939662">(</span><span class="num" id="6939663">1</span><span class="op" id="6939664">,</span>&nbsp;<span class="num" id="6939666">1</span><span class="op" id="6939667">,</span>&nbsp;<span class="num" id="6939669">2</span><span class="op" id="6939670">)</span><span class="op" id="6939671">}</span><span class="op" id="6939672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939675">{</span><span class="string" id="6939676">`.`</span><span class="op" id="6939679">,</span>&nbsp;<span class="string" id="6939681">&#34;a&#34;</span><span class="op" id="6939684">,</span>&nbsp;<span class="ident" id="6939686">build</span><span class="op" id="6939691">(</span><span class="num" id="6939692">1</span><span class="op" id="6939693">,</span>&nbsp;<span class="num" id="6939695">0</span><span class="op" id="6939696">,</span>&nbsp;<span class="num" id="6939698">1</span><span class="op" id="6939699">)</span><span class="op" id="6939700">}</span><span class="op" id="6939701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939704">{</span><span class="string" id="6939705">`.*`</span><span class="op" id="6939709">,</span>&nbsp;<span class="string" id="6939711">&#34;abcdef&#34;</span><span class="op" id="6939719">,</span>&nbsp;<span class="ident" id="6939721">build</span><span class="op" id="6939726">(</span><span class="num" id="6939727">1</span><span class="op" id="6939728">,</span>&nbsp;<span class="num" id="6939730">0</span><span class="op" id="6939731">,</span>&nbsp;<span class="num" id="6939733">6</span><span class="op" id="6939734">)</span><span class="op" id="6939735">}</span><span class="op" id="6939736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939739">{</span><span class="string" id="6939740">`^`</span><span class="op" id="6939743">,</span>&nbsp;<span class="string" id="6939745">&#34;abcde&#34;</span><span class="op" id="6939752">,</span>&nbsp;<span class="ident" id="6939754">build</span><span class="op" id="6939759">(</span><span class="num" id="6939760">1</span><span class="op" id="6939761">,</span>&nbsp;<span class="num" id="6939763">0</span><span class="op" id="6939764">,</span>&nbsp;<span class="num" id="6939766">0</span><span class="op" id="6939767">)</span><span class="op" id="6939768">}</span><span class="op" id="6939769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939772">{</span><span class="string" id="6939773">`$`</span><span class="op" id="6939776">,</span>&nbsp;<span class="string" id="6939778">&#34;abcde&#34;</span><span class="op" id="6939785">,</span>&nbsp;<span class="ident" id="6939787">build</span><span class="op" id="6939792">(</span><span class="num" id="6939793">1</span><span class="op" id="6939794">,</span>&nbsp;<span class="num" id="6939796">5</span><span class="op" id="6939797">,</span>&nbsp;<span class="num" id="6939799">5</span><span class="op" id="6939800">)</span><span class="op" id="6939801">}</span><span class="op" id="6939802">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939805">{</span><span class="string" id="6939806">`^abcd$`</span><span class="op" id="6939814">,</span>&nbsp;<span class="string" id="6939816">&#34;abcd&#34;</span><span class="op" id="6939822">,</span>&nbsp;<span class="ident" id="6939824">build</span><span class="op" id="6939829">(</span><span class="num" id="6939830">1</span><span class="op" id="6939831">,</span>&nbsp;<span class="num" id="6939833">0</span><span class="op" id="6939834">,</span>&nbsp;<span class="num" id="6939836">4</span><span class="op" id="6939837">)</span><span class="op" id="6939838">}</span><span class="op" id="6939839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939842">{</span><span class="string" id="6939843">`^bcd&#39;`</span><span class="op" id="6939850">,</span>&nbsp;<span class="string" id="6939852">&#34;abcdef&#34;</span><span class="op" id="6939860">,</span>&nbsp;<span class="ident" id="6939862">nil</span><span class="op" id="6939865">}</span><span class="op" id="6939866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939869">{</span><span class="string" id="6939870">`^abcd$`</span><span class="op" id="6939878">,</span>&nbsp;<span class="string" id="6939880">&#34;abcde&#34;</span><span class="op" id="6939887">,</span>&nbsp;<span class="ident" id="6939889">nil</span><span class="op" id="6939892">}</span><span class="op" id="6939893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939896">{</span><span class="string" id="6939897">`a+`</span><span class="op" id="6939901">,</span>&nbsp;<span class="string" id="6939903">&#34;baaab&#34;</span><span class="op" id="6939910">,</span>&nbsp;<span class="ident" id="6939912">build</span><span class="op" id="6939917">(</span><span class="num" id="6939918">1</span><span class="op" id="6939919">,</span>&nbsp;<span class="num" id="6939921">1</span><span class="op" id="6939922">,</span>&nbsp;<span class="num" id="6939924">4</span><span class="op" id="6939925">)</span><span class="op" id="6939926">}</span><span class="op" id="6939927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939930">{</span><span class="string" id="6939931">`a*`</span><span class="op" id="6939935">,</span>&nbsp;<span class="string" id="6939937">&#34;baaab&#34;</span><span class="op" id="6939944">,</span>&nbsp;<span class="ident" id="6939946">build</span><span class="op" id="6939951">(</span><span class="num" id="6939952">3</span><span class="op" id="6939953">,</span>&nbsp;<span class="num" id="6939955">0</span><span class="op" id="6939956">,</span>&nbsp;<span class="num" id="6939958">0</span><span class="op" id="6939959">,</span>&nbsp;<span class="num" id="6939961">1</span><span class="op" id="6939962">,</span>&nbsp;<span class="num" id="6939964">4</span><span class="op" id="6939965">,</span>&nbsp;<span class="num" id="6939967">5</span><span class="op" id="6939968">,</span>&nbsp;<span class="num" id="6939970">5</span><span class="op" id="6939971">)</span><span class="op" id="6939972">}</span><span class="op" id="6939973">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939976">{</span><span class="string" id="6939977">`[a-z]+`</span><span class="op" id="6939985">,</span>&nbsp;<span class="string" id="6939987">&#34;abcd&#34;</span><span class="op" id="6939993">,</span>&nbsp;<span class="ident" id="6939995">build</span><span class="op" id="6940000">(</span><span class="num" id="6940001">1</span><span class="op" id="6940002">,</span>&nbsp;<span class="num" id="6940004">0</span><span class="op" id="6940005">,</span>&nbsp;<span class="num" id="6940007">4</span><span class="op" id="6940008">)</span><span class="op" id="6940009">}</span><span class="op" id="6940010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940013">{</span><span class="string" id="6940014">`[^a-z]+`</span><span class="op" id="6940023">,</span>&nbsp;<span class="string" id="6940025">&#34;ab1234cd&#34;</span><span class="op" id="6940035">,</span>&nbsp;<span class="ident" id="6940037">build</span><span class="op" id="6940042">(</span><span class="num" id="6940043">1</span><span class="op" id="6940044">,</span>&nbsp;<span class="num" id="6940046">2</span><span class="op" id="6940047">,</span>&nbsp;<span class="num" id="6940049">6</span><span class="op" id="6940050">)</span><span class="op" id="6940051">}</span><span class="op" id="6940052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940055">{</span><span class="string" id="6940056">`[a\-\]z]+`</span><span class="op" id="6940067">,</span>&nbsp;<span class="string" id="6940069">&#34;az]-bcz&#34;</span><span class="op" id="6940078">,</span>&nbsp;<span class="ident" id="6940080">build</span><span class="op" id="6940085">(</span><span class="num" id="6940086">2</span><span class="op" id="6940087">,</span>&nbsp;<span class="num" id="6940089">0</span><span class="op" id="6940090">,</span>&nbsp;<span class="num" id="6940092">4</span><span class="op" id="6940093">,</span>&nbsp;<span class="num" id="6940095">6</span><span class="op" id="6940096">,</span>&nbsp;<span class="num" id="6940098">7</span><span class="op" id="6940099">)</span><span class="op" id="6940100">}</span><span class="op" id="6940101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940104">{</span><span class="string" id="6940105">`[^\n]+`</span><span class="op" id="6940113">,</span>&nbsp;<span class="string" id="6940115">&#34;abcd\n&#34;</span><span class="op" id="6940123">,</span>&nbsp;<span class="ident" id="6940125">build</span><span class="op" id="6940130">(</span><span class="num" id="6940131">1</span><span class="op" id="6940132">,</span>&nbsp;<span class="num" id="6940134">0</span><span class="op" id="6940135">,</span>&nbsp;<span class="num" id="6940137">4</span><span class="op" id="6940138">)</span><span class="op" id="6940139">}</span><span class="op" id="6940140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940143">{</span><span class="string" id="6940144">`[日本語]+`</span><span class="op" id="6940158">,</span>&nbsp;<span class="string" id="6940160">&#34;日本語日本語&#34;</span><span class="op" id="6940180">,</span>&nbsp;<span class="ident" id="6940182">build</span><span class="op" id="6940187">(</span><span class="num" id="6940188">1</span><span class="op" id="6940189">,</span>&nbsp;<span class="num" id="6940191">0</span><span class="op" id="6940192">,</span>&nbsp;<span class="num" id="6940194">18</span><span class="op" id="6940196">)</span><span class="op" id="6940197">}</span><span class="op" id="6940198">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940201">{</span><span class="string" id="6940202">`日本語+`</span><span class="op" id="6940214">,</span>&nbsp;<span class="string" id="6940216">&#34;日本語&#34;</span><span class="op" id="6940227">,</span>&nbsp;<span class="ident" id="6940229">build</span><span class="op" id="6940234">(</span><span class="num" id="6940235">1</span><span class="op" id="6940236">,</span>&nbsp;<span class="num" id="6940238">0</span><span class="op" id="6940239">,</span>&nbsp;<span class="num" id="6940241">9</span><span class="op" id="6940242">)</span><span class="op" id="6940243">}</span><span class="op" id="6940244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940247">{</span><span class="string" id="6940248">`日本語+`</span><span class="op" id="6940260">,</span>&nbsp;<span class="string" id="6940262">&#34;日本語語語語&#34;</span><span class="op" id="6940282">,</span>&nbsp;<span class="ident" id="6940284">build</span><span class="op" id="6940289">(</span><span class="num" id="6940290">1</span><span class="op" id="6940291">,</span>&nbsp;<span class="num" id="6940293">0</span><span class="op" id="6940294">,</span>&nbsp;<span class="num" id="6940296">18</span><span class="op" id="6940298">)</span><span class="op" id="6940299">}</span><span class="op" id="6940300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940303">{</span><span class="string" id="6940304">`()`</span><span class="op" id="6940308">,</span>&nbsp;<span class="string" id="6940310">&#34;&#34;</span><span class="op" id="6940312">,</span>&nbsp;<span class="ident" id="6940314">build</span><span class="op" id="6940319">(</span><span class="num" id="6940320">1</span><span class="op" id="6940321">,</span>&nbsp;<span class="num" id="6940323">0</span><span class="op" id="6940324">,</span>&nbsp;<span class="num" id="6940326">0</span><span class="op" id="6940327">,</span>&nbsp;<span class="num" id="6940329">0</span><span class="op" id="6940330">,</span>&nbsp;<span class="num" id="6940332">0</span><span class="op" id="6940333">)</span><span class="op" id="6940334">}</span><span class="op" id="6940335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940338">{</span><span class="string" id="6940339">`(a)`</span><span class="op" id="6940344">,</span>&nbsp;<span class="string" id="6940346">&#34;a&#34;</span><span class="op" id="6940349">,</span>&nbsp;<span class="ident" id="6940351">build</span><span class="op" id="6940356">(</span><span class="num" id="6940357">1</span><span class="op" id="6940358">,</span>&nbsp;<span class="num" id="6940360">0</span><span class="op" id="6940361">,</span>&nbsp;<span class="num" id="6940363">1</span><span class="op" id="6940364">,</span>&nbsp;<span class="num" id="6940366">0</span><span class="op" id="6940367">,</span>&nbsp;<span class="num" id="6940369">1</span><span class="op" id="6940370">)</span><span class="op" id="6940371">}</span><span class="op" id="6940372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940375">{</span><span class="string" id="6940376">`(.)(.)`</span><span class="op" id="6940384">,</span>&nbsp;<span class="string" id="6940386">&#34;日a&#34;</span><span class="op" id="6940392">,</span>&nbsp;<span class="ident" id="6940394">build</span><span class="op" id="6940399">(</span><span class="num" id="6940400">1</span><span class="op" id="6940401">,</span>&nbsp;<span class="num" id="6940403">0</span><span class="op" id="6940404">,</span>&nbsp;<span class="num" id="6940406">4</span><span class="op" id="6940407">,</span>&nbsp;<span class="num" id="6940409">0</span><span class="op" id="6940410">,</span>&nbsp;<span class="num" id="6940412">3</span><span class="op" id="6940413">,</span>&nbsp;<span class="num" id="6940415">3</span><span class="op" id="6940416">,</span>&nbsp;<span class="num" id="6940418">4</span><span class="op" id="6940419">)</span><span class="op" id="6940420">}</span><span class="op" id="6940421">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940424">{</span><span class="string" id="6940425">`(.*)`</span><span class="op" id="6940431">,</span>&nbsp;<span class="string" id="6940433">&#34;&#34;</span><span class="op" id="6940435">,</span>&nbsp;<span class="ident" id="6940437">build</span><span class="op" id="6940442">(</span><span class="num" id="6940443">1</span><span class="op" id="6940444">,</span>&nbsp;<span class="num" id="6940446">0</span><span class="op" id="6940447">,</span>&nbsp;<span class="num" id="6940449">0</span><span class="op" id="6940450">,</span>&nbsp;<span class="num" id="6940452">0</span><span class="op" id="6940453">,</span>&nbsp;<span class="num" id="6940455">0</span><span class="op" id="6940456">)</span><span class="op" id="6940457">}</span><span class="op" id="6940458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940461">{</span><span class="string" id="6940462">`(.*)`</span><span class="op" id="6940468">,</span>&nbsp;<span class="string" id="6940470">&#34;abcd&#34;</span><span class="op" id="6940476">,</span>&nbsp;<span class="ident" id="6940478">build</span><span class="op" id="6940483">(</span><span class="num" id="6940484">1</span><span class="op" id="6940485">,</span>&nbsp;<span class="num" id="6940487">0</span><span class="op" id="6940488">,</span>&nbsp;<span class="num" id="6940490">4</span><span class="op" id="6940491">,</span>&nbsp;<span class="num" id="6940493">0</span><span class="op" id="6940494">,</span>&nbsp;<span class="num" id="6940496">4</span><span class="op" id="6940497">)</span><span class="op" id="6940498">}</span><span class="op" id="6940499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940502">{</span><span class="string" id="6940503">`(..)(..)`</span><span class="op" id="6940513">,</span>&nbsp;<span class="string" id="6940515">&#34;abcd&#34;</span><span class="op" id="6940521">,</span>&nbsp;<span class="ident" id="6940523">build</span><span class="op" id="6940528">(</span><span class="num" id="6940529">1</span><span class="op" id="6940530">,</span>&nbsp;<span class="num" id="6940532">0</span><span class="op" id="6940533">,</span>&nbsp;<span class="num" id="6940535">4</span><span class="op" id="6940536">,</span>&nbsp;<span class="num" id="6940538">0</span><span class="op" id="6940539">,</span>&nbsp;<span class="num" id="6940541">2</span><span class="op" id="6940542">,</span>&nbsp;<span class="num" id="6940544">2</span><span class="op" id="6940545">,</span>&nbsp;<span class="num" id="6940547">4</span><span class="op" id="6940548">)</span><span class="op" id="6940549">}</span><span class="op" id="6940550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940553">{</span><span class="string" id="6940554">`(([^xyz]*)(d))`</span><span class="op" id="6940570">,</span>&nbsp;<span class="string" id="6940572">&#34;abcd&#34;</span><span class="op" id="6940578">,</span>&nbsp;<span class="ident" id="6940580">build</span><span class="op" id="6940585">(</span><span class="num" id="6940586">1</span><span class="op" id="6940587">,</span>&nbsp;<span class="num" id="6940589">0</span><span class="op" id="6940590">,</span>&nbsp;<span class="num" id="6940592">4</span><span class="op" id="6940593">,</span>&nbsp;<span class="num" id="6940595">0</span><span class="op" id="6940596">,</span>&nbsp;<span class="num" id="6940598">4</span><span class="op" id="6940599">,</span>&nbsp;<span class="num" id="6940601">0</span><span class="op" id="6940602">,</span>&nbsp;<span class="num" id="6940604">3</span><span class="op" id="6940605">,</span>&nbsp;<span class="num" id="6940607">3</span><span class="op" id="6940608">,</span>&nbsp;<span class="num" id="6940610">4</span><span class="op" id="6940611">)</span><span class="op" id="6940612">}</span><span class="op" id="6940613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940616">{</span><span class="string" id="6940617">`((a|b|c)*(d))`</span><span class="op" id="6940632">,</span>&nbsp;<span class="string" id="6940634">&#34;abcd&#34;</span><span class="op" id="6940640">,</span>&nbsp;<span class="ident" id="6940642">build</span><span class="op" id="6940647">(</span><span class="num" id="6940648">1</span><span class="op" id="6940649">,</span>&nbsp;<span class="num" id="6940651">0</span><span class="op" id="6940652">,</span>&nbsp;<span class="num" id="6940654">4</span><span class="op" id="6940655">,</span>&nbsp;<span class="num" id="6940657">0</span><span class="op" id="6940658">,</span>&nbsp;<span class="num" id="6940660">4</span><span class="op" id="6940661">,</span>&nbsp;<span class="num" id="6940663">2</span><span class="op" id="6940664">,</span>&nbsp;<span class="num" id="6940666">3</span><span class="op" id="6940667">,</span>&nbsp;<span class="num" id="6940669">3</span><span class="op" id="6940670">,</span>&nbsp;<span class="num" id="6940672">4</span><span class="op" id="6940673">)</span><span class="op" id="6940674">}</span><span class="op" id="6940675">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940678">{</span><span class="string" id="6940679">`(((a|b|c)*)(d))`</span><span class="op" id="6940696">,</span>&nbsp;<span class="string" id="6940698">&#34;abcd&#34;</span><span class="op" id="6940704">,</span>&nbsp;<span class="ident" id="6940706">build</span><span class="op" id="6940711">(</span><span class="num" id="6940712">1</span><span class="op" id="6940713">,</span>&nbsp;<span class="num" id="6940715">0</span><span class="op" id="6940716">,</span>&nbsp;<span class="num" id="6940718">4</span><span class="op" id="6940719">,</span>&nbsp;<span class="num" id="6940721">0</span><span class="op" id="6940722">,</span>&nbsp;<span class="num" id="6940724">4</span><span class="op" id="6940725">,</span>&nbsp;<span class="num" id="6940727">0</span><span class="op" id="6940728">,</span>&nbsp;<span class="num" id="6940730">3</span><span class="op" id="6940731">,</span>&nbsp;<span class="num" id="6940733">2</span><span class="op" id="6940734">,</span>&nbsp;<span class="num" id="6940736">3</span><span class="op" id="6940737">,</span>&nbsp;<span class="num" id="6940739">3</span><span class="op" id="6940740">,</span>&nbsp;<span class="num" id="6940742">4</span><span class="op" id="6940743">)</span><span class="op" id="6940744">}</span><span class="op" id="6940745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940748">{</span><span class="string" id="6940749">`\a\f\n\r\t\v`</span><span class="op" id="6940763">,</span>&nbsp;<span class="string" id="6940765">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="6940779">,</span>&nbsp;<span class="ident" id="6940781">build</span><span class="op" id="6940786">(</span><span class="num" id="6940787">1</span><span class="op" id="6940788">,</span>&nbsp;<span class="num" id="6940790">0</span><span class="op" id="6940791">,</span>&nbsp;<span class="num" id="6940793">6</span><span class="op" id="6940794">)</span><span class="op" id="6940795">}</span><span class="op" id="6940796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940799">{</span><span class="string" id="6940800">`[\a\f\n\r\t\v]+`</span><span class="op" id="6940817">,</span>&nbsp;<span class="string" id="6940819">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="6940833">,</span>&nbsp;<span class="ident" id="6940835">build</span><span class="op" id="6940840">(</span><span class="num" id="6940841">1</span><span class="op" id="6940842">,</span>&nbsp;<span class="num" id="6940844">0</span><span class="op" id="6940845">,</span>&nbsp;<span class="num" id="6940847">6</span><span class="op" id="6940848">)</span><span class="op" id="6940849">}</span><span class="op" id="6940850">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940854">{</span><span class="string" id="6940855">`a*(|(b))c*`</span><span class="op" id="6940867">,</span>&nbsp;<span class="string" id="6940869">&#34;aacc&#34;</span><span class="op" id="6940875">,</span>&nbsp;<span class="ident" id="6940877">build</span><span class="op" id="6940882">(</span><span class="num" id="6940883">1</span><span class="op" id="6940884">,</span>&nbsp;<span class="num" id="6940886">0</span><span class="op" id="6940887">,</span>&nbsp;<span class="num" id="6940889">4</span><span class="op" id="6940890">,</span>&nbsp;<span class="num" id="6940892">2</span><span class="op" id="6940893">,</span>&nbsp;<span class="num" id="6940895">2</span><span class="op" id="6940896">,</span>&nbsp;<span class="op" id="6940898">-</span><span class="num" id="6940899">1</span><span class="op" id="6940900">,</span>&nbsp;<span class="op" id="6940902">-</span><span class="num" id="6940903">1</span><span class="op" id="6940904">)</span><span class="op" id="6940905">}</span><span class="op" id="6940906">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940909">{</span><span class="string" id="6940910">`(.*).*`</span><span class="op" id="6940918">,</span>&nbsp;<span class="string" id="6940920">&#34;ab&#34;</span><span class="op" id="6940924">,</span>&nbsp;<span class="ident" id="6940926">build</span><span class="op" id="6940931">(</span><span class="num" id="6940932">1</span><span class="op" id="6940933">,</span>&nbsp;<span class="num" id="6940935">0</span><span class="op" id="6940936">,</span>&nbsp;<span class="num" id="6940938">2</span><span class="op" id="6940939">,</span>&nbsp;<span class="num" id="6940941">0</span><span class="op" id="6940942">,</span>&nbsp;<span class="num" id="6940944">2</span><span class="op" id="6940945">)</span><span class="op" id="6940946">}</span><span class="op" id="6940947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940950">{</span><span class="string" id="6940951">`[.]`</span><span class="op" id="6940956">,</span>&nbsp;<span class="string" id="6940958">&#34;.&#34;</span><span class="op" id="6940961">,</span>&nbsp;<span class="ident" id="6940963">build</span><span class="op" id="6940968">(</span><span class="num" id="6940969">1</span><span class="op" id="6940970">,</span>&nbsp;<span class="num" id="6940972">0</span><span class="op" id="6940973">,</span>&nbsp;<span class="num" id="6940975">1</span><span class="op" id="6940976">)</span><span class="op" id="6940977">}</span><span class="op" id="6940978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940981">{</span><span class="string" id="6940982">`/$`</span><span class="op" id="6940986">,</span>&nbsp;<span class="string" id="6940988">&#34;/abc/&#34;</span><span class="op" id="6940995">,</span>&nbsp;<span class="ident" id="6940997">build</span><span class="op" id="6941002">(</span><span class="num" id="6941003">1</span><span class="op" id="6941004">,</span>&nbsp;<span class="num" id="6941006">4</span><span class="op" id="6941007">,</span>&nbsp;<span class="num" id="6941009">5</span><span class="op" id="6941010">)</span><span class="op" id="6941011">}</span><span class="op" id="6941012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941015">{</span><span class="string" id="6941016">`/$`</span><span class="op" id="6941020">,</span>&nbsp;<span class="string" id="6941022">&#34;/abc&#34;</span><span class="op" id="6941028">,</span>&nbsp;<span class="ident" id="6941030">nil</span><span class="op" id="6941033">}</span><span class="op" id="6941034">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6941038">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941059">{</span><span class="string" id="6941060">`.`</span><span class="op" id="6941063">,</span>&nbsp;<span class="string" id="6941065">&#34;abc&#34;</span><span class="op" id="6941070">,</span>&nbsp;<span class="ident" id="6941072">build</span><span class="op" id="6941077">(</span><span class="num" id="6941078">3</span><span class="op" id="6941079">,</span>&nbsp;<span class="num" id="6941081">0</span><span class="op" id="6941082">,</span>&nbsp;<span class="num" id="6941084">1</span><span class="op" id="6941085">,</span>&nbsp;<span class="num" id="6941087">1</span><span class="op" id="6941088">,</span>&nbsp;<span class="num" id="6941090">2</span><span class="op" id="6941091">,</span>&nbsp;<span class="num" id="6941093">2</span><span class="op" id="6941094">,</span>&nbsp;<span class="num" id="6941096">3</span><span class="op" id="6941097">)</span><span class="op" id="6941098">}</span><span class="op" id="6941099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941102">{</span><span class="string" id="6941103">`(.)`</span><span class="op" id="6941108">,</span>&nbsp;<span class="string" id="6941110">&#34;abc&#34;</span><span class="op" id="6941115">,</span>&nbsp;<span class="ident" id="6941117">build</span><span class="op" id="6941122">(</span><span class="num" id="6941123">3</span><span class="op" id="6941124">,</span>&nbsp;<span class="num" id="6941126">0</span><span class="op" id="6941127">,</span>&nbsp;<span class="num" id="6941129">1</span><span class="op" id="6941130">,</span>&nbsp;<span class="num" id="6941132">0</span><span class="op" id="6941133">,</span>&nbsp;<span class="num" id="6941135">1</span><span class="op" id="6941136">,</span>&nbsp;<span class="num" id="6941138">1</span><span class="op" id="6941139">,</span>&nbsp;<span class="num" id="6941141">2</span><span class="op" id="6941142">,</span>&nbsp;<span class="num" id="6941144">1</span><span class="op" id="6941145">,</span>&nbsp;<span class="num" id="6941147">2</span><span class="op" id="6941148">,</span>&nbsp;<span class="num" id="6941150">2</span><span class="op" id="6941151">,</span>&nbsp;<span class="num" id="6941153">3</span><span class="op" id="6941154">,</span>&nbsp;<span class="num" id="6941156">2</span><span class="op" id="6941157">,</span>&nbsp;<span class="num" id="6941159">3</span><span class="op" id="6941160">)</span><span class="op" id="6941161">}</span><span class="op" id="6941162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941165">{</span><span class="string" id="6941166">`.(.)`</span><span class="op" id="6941172">,</span>&nbsp;<span class="string" id="6941174">&#34;abcd&#34;</span><span class="op" id="6941180">,</span>&nbsp;<span class="ident" id="6941182">build</span><span class="op" id="6941187">(</span><span class="num" id="6941188">2</span><span class="op" id="6941189">,</span>&nbsp;<span class="num" id="6941191">0</span><span class="op" id="6941192">,</span>&nbsp;<span class="num" id="6941194">2</span><span class="op" id="6941195">,</span>&nbsp;<span class="num" id="6941197">1</span><span class="op" id="6941198">,</span>&nbsp;<span class="num" id="6941200">2</span><span class="op" id="6941201">,</span>&nbsp;<span class="num" id="6941203">2</span><span class="op" id="6941204">,</span>&nbsp;<span class="num" id="6941206">4</span><span class="op" id="6941207">,</span>&nbsp;<span class="num" id="6941209">3</span><span class="op" id="6941210">,</span>&nbsp;<span class="num" id="6941212">4</span><span class="op" id="6941213">)</span><span class="op" id="6941214">}</span><span class="op" id="6941215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941218">{</span><span class="string" id="6941219">`ab*`</span><span class="op" id="6941224">,</span>&nbsp;<span class="string" id="6941226">&#34;abbaab&#34;</span><span class="op" id="6941234">,</span>&nbsp;<span class="ident" id="6941236">build</span><span class="op" id="6941241">(</span><span class="num" id="6941242">3</span><span class="op" id="6941243">,</span>&nbsp;<span class="num" id="6941245">0</span><span class="op" id="6941246">,</span>&nbsp;<span class="num" id="6941248">3</span><span class="op" id="6941249">,</span>&nbsp;<span class="num" id="6941251">3</span><span class="op" id="6941252">,</span>&nbsp;<span class="num" id="6941254">4</span><span class="op" id="6941255">,</span>&nbsp;<span class="num" id="6941257">4</span><span class="op" id="6941258">,</span>&nbsp;<span class="num" id="6941260">6</span><span class="op" id="6941261">)</span><span class="op" id="6941262">}</span><span class="op" id="6941263">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941266">{</span><span class="string" id="6941267">`a(b*)`</span><span class="op" id="6941274">,</span>&nbsp;<span class="string" id="6941276">&#34;abbaab&#34;</span><span class="op" id="6941284">,</span>&nbsp;<span class="ident" id="6941286">build</span><span class="op" id="6941291">(</span><span class="num" id="6941292">3</span><span class="op" id="6941293">,</span>&nbsp;<span class="num" id="6941295">0</span><span class="op" id="6941296">,</span>&nbsp;<span class="num" id="6941298">3</span><span class="op" id="6941299">,</span>&nbsp;<span class="num" id="6941301">1</span><span class="op" id="6941302">,</span>&nbsp;<span class="num" id="6941304">3</span><span class="op" id="6941305">,</span>&nbsp;<span class="num" id="6941307">3</span><span class="op" id="6941308">,</span>&nbsp;<span class="num" id="6941310">4</span><span class="op" id="6941311">,</span>&nbsp;<span class="num" id="6941313">4</span><span class="op" id="6941314">,</span>&nbsp;<span class="num" id="6941316">4</span><span class="op" id="6941317">,</span>&nbsp;<span class="num" id="6941319">4</span><span class="op" id="6941320">,</span>&nbsp;<span class="num" id="6941322">6</span><span class="op" id="6941323">,</span>&nbsp;<span class="num" id="6941325">5</span><span class="op" id="6941326">,</span>&nbsp;<span class="num" id="6941328">6</span><span class="op" id="6941329">)</span><span class="op" id="6941330">}</span><span class="op" id="6941331">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6941335">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941350">{</span><span class="string" id="6941351">`ab$`</span><span class="op" id="6941356">,</span>&nbsp;<span class="string" id="6941358">&#34;cab&#34;</span><span class="op" id="6941363">,</span>&nbsp;<span class="ident" id="6941365">build</span><span class="op" id="6941370">(</span><span class="num" id="6941371">1</span><span class="op" id="6941372">,</span>&nbsp;<span class="num" id="6941374">1</span><span class="op" id="6941375">,</span>&nbsp;<span class="num" id="6941377">3</span><span class="op" id="6941378">)</span><span class="op" id="6941379">}</span><span class="op" id="6941380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941383">{</span><span class="string" id="6941384">`axxb$`</span><span class="op" id="6941391">,</span>&nbsp;<span class="string" id="6941393">&#34;axxcb&#34;</span><span class="op" id="6941400">,</span>&nbsp;<span class="ident" id="6941402">nil</span><span class="op" id="6941405">}</span><span class="op" id="6941406">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941409">{</span><span class="string" id="6941410">`data`</span><span class="op" id="6941416">,</span>&nbsp;<span class="string" id="6941418">&#34;daXY&nbsp;data&#34;</span><span class="op" id="6941429">,</span>&nbsp;<span class="ident" id="6941431">build</span><span class="op" id="6941436">(</span><span class="num" id="6941437">1</span><span class="op" id="6941438">,</span>&nbsp;<span class="num" id="6941440">5</span><span class="op" id="6941441">,</span>&nbsp;<span class="num" id="6941443">9</span><span class="op" id="6941444">)</span><span class="op" id="6941445">}</span><span class="op" id="6941446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941449">{</span><span class="string" id="6941450">`da(.)a$`</span><span class="op" id="6941459">,</span>&nbsp;<span class="string" id="6941461">&#34;daXY&nbsp;data&#34;</span><span class="op" id="6941472">,</span>&nbsp;<span class="ident" id="6941474">build</span><span class="op" id="6941479">(</span><span class="num" id="6941480">1</span><span class="op" id="6941481">,</span>&nbsp;<span class="num" id="6941483">5</span><span class="op" id="6941484">,</span>&nbsp;<span class="num" id="6941486">9</span><span class="op" id="6941487">,</span>&nbsp;<span class="num" id="6941489">7</span><span class="op" id="6941490">,</span>&nbsp;<span class="num" id="6941492">8</span><span class="op" id="6941493">)</span><span class="op" id="6941494">}</span><span class="op" id="6941495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941498">{</span><span class="string" id="6941499">`zx+`</span><span class="op" id="6941504">,</span>&nbsp;<span class="string" id="6941506">&#34;zzx&#34;</span><span class="op" id="6941511">,</span>&nbsp;<span class="ident" id="6941513">build</span><span class="op" id="6941518">(</span><span class="num" id="6941519">1</span><span class="op" id="6941520">,</span>&nbsp;<span class="num" id="6941522">1</span><span class="op" id="6941523">,</span>&nbsp;<span class="num" id="6941525">3</span><span class="op" id="6941526">)</span><span class="op" id="6941527">}</span><span class="op" id="6941528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941531">{</span><span class="string" id="6941532">`ab$`</span><span class="op" id="6941537">,</span>&nbsp;<span class="string" id="6941539">&#34;abcab&#34;</span><span class="op" id="6941546">,</span>&nbsp;<span class="ident" id="6941548">build</span><span class="op" id="6941553">(</span><span class="num" id="6941554">1</span><span class="op" id="6941555">,</span>&nbsp;<span class="num" id="6941557">3</span><span class="op" id="6941558">,</span>&nbsp;<span class="num" id="6941560">5</span><span class="op" id="6941561">)</span><span class="op" id="6941562">}</span><span class="op" id="6941563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941566">{</span><span class="string" id="6941567">`(aa)*$`</span><span class="op" id="6941575">,</span>&nbsp;<span class="string" id="6941577">&#34;a&#34;</span><span class="op" id="6941580">,</span>&nbsp;<span class="ident" id="6941582">build</span><span class="op" id="6941587">(</span><span class="num" id="6941588">1</span><span class="op" id="6941589">,</span>&nbsp;<span class="num" id="6941591">1</span><span class="op" id="6941592">,</span>&nbsp;<span class="num" id="6941594">1</span><span class="op" id="6941595">,</span>&nbsp;<span class="op" id="6941597">-</span><span class="num" id="6941598">1</span><span class="op" id="6941599">,</span>&nbsp;<span class="op" id="6941601">-</span><span class="num" id="6941602">1</span><span class="op" id="6941603">)</span><span class="op" id="6941604">}</span><span class="op" id="6941605">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941608">{</span><span class="string" id="6941609">`(?:.|(?:.a))`</span><span class="op" id="6941623">,</span>&nbsp;<span class="string" id="6941625">&#34;&#34;</span><span class="op" id="6941627">,</span>&nbsp;<span class="ident" id="6941629">nil</span><span class="op" id="6941632">}</span><span class="op" id="6941633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941636">{</span><span class="string" id="6941637">`(?:A(?:A|a))`</span><span class="op" id="6941651">,</span>&nbsp;<span class="string" id="6941653">&#34;Aa&#34;</span><span class="op" id="6941657">,</span>&nbsp;<span class="ident" id="6941659">build</span><span class="op" id="6941664">(</span><span class="num" id="6941665">1</span><span class="op" id="6941666">,</span>&nbsp;<span class="num" id="6941668">0</span><span class="op" id="6941669">,</span>&nbsp;<span class="num" id="6941671">2</span><span class="op" id="6941672">)</span><span class="op" id="6941673">}</span><span class="op" id="6941674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941677">{</span><span class="string" id="6941678">`(?:A|(?:A|a))`</span><span class="op" id="6941693">,</span>&nbsp;<span class="string" id="6941695">&#34;a&#34;</span><span class="op" id="6941698">,</span>&nbsp;<span class="ident" id="6941700">build</span><span class="op" id="6941705">(</span><span class="num" id="6941706">1</span><span class="op" id="6941707">,</span>&nbsp;<span class="num" id="6941709">0</span><span class="op" id="6941710">,</span>&nbsp;<span class="num" id="6941712">1</span><span class="op" id="6941713">)</span><span class="op" id="6941714">}</span><span class="op" id="6941715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941718">{</span><span class="string" id="6941719">`(a){0}`</span><span class="op" id="6941727">,</span>&nbsp;<span class="string" id="6941729">&#34;&#34;</span><span class="op" id="6941731">,</span>&nbsp;<span class="ident" id="6941733">build</span><span class="op" id="6941738">(</span><span class="num" id="6941739">1</span><span class="op" id="6941740">,</span>&nbsp;<span class="num" id="6941742">0</span><span class="op" id="6941743">,</span>&nbsp;<span class="num" id="6941745">0</span><span class="op" id="6941746">,</span>&nbsp;<span class="op" id="6941748">-</span><span class="num" id="6941749">1</span><span class="op" id="6941750">,</span>&nbsp;<span class="op" id="6941752">-</span><span class="num" id="6941753">1</span><span class="op" id="6941754">)</span><span class="op" id="6941755">}</span><span class="op" id="6941756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941759">{</span><span class="string" id="6941760">`(?-s)(?:(?:^).)`</span><span class="op" id="6941777">,</span>&nbsp;<span class="string" id="6941779">&#34;\n&#34;</span><span class="op" id="6941783">,</span>&nbsp;<span class="ident" id="6941785">nil</span><span class="op" id="6941788">}</span><span class="op" id="6941789">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941792">{</span><span class="string" id="6941793">`(?s)(?:(?:^).)`</span><span class="op" id="6941809">,</span>&nbsp;<span class="string" id="6941811">&#34;\n&#34;</span><span class="op" id="6941815">,</span>&nbsp;<span class="ident" id="6941817">build</span><span class="op" id="6941822">(</span><span class="num" id="6941823">1</span><span class="op" id="6941824">,</span>&nbsp;<span class="num" id="6941826">0</span><span class="op" id="6941827">,</span>&nbsp;<span class="num" id="6941829">1</span><span class="op" id="6941830">)</span><span class="op" id="6941831">}</span><span class="op" id="6941832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941835">{</span><span class="string" id="6941836">`(?:(?:^).)`</span><span class="op" id="6941848">,</span>&nbsp;<span class="string" id="6941850">&#34;\n&#34;</span><span class="op" id="6941854">,</span>&nbsp;<span class="ident" id="6941856">nil</span><span class="op" id="6941859">}</span><span class="op" id="6941860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941863">{</span><span class="string" id="6941864">`\b`</span><span class="op" id="6941868">,</span>&nbsp;<span class="string" id="6941870">&#34;x&#34;</span><span class="op" id="6941873">,</span>&nbsp;<span class="ident" id="6941875">build</span><span class="op" id="6941880">(</span><span class="num" id="6941881">2</span><span class="op" id="6941882">,</span>&nbsp;<span class="num" id="6941884">0</span><span class="op" id="6941885">,</span>&nbsp;<span class="num" id="6941887">0</span><span class="op" id="6941888">,</span>&nbsp;<span class="num" id="6941890">1</span><span class="op" id="6941891">,</span>&nbsp;<span class="num" id="6941893">1</span><span class="op" id="6941894">)</span><span class="op" id="6941895">}</span><span class="op" id="6941896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941899">{</span><span class="string" id="6941900">`\b`</span><span class="op" id="6941904">,</span>&nbsp;<span class="string" id="6941906">&#34;xx&#34;</span><span class="op" id="6941910">,</span>&nbsp;<span class="ident" id="6941912">build</span><span class="op" id="6941917">(</span><span class="num" id="6941918">2</span><span class="op" id="6941919">,</span>&nbsp;<span class="num" id="6941921">0</span><span class="op" id="6941922">,</span>&nbsp;<span class="num" id="6941924">0</span><span class="op" id="6941925">,</span>&nbsp;<span class="num" id="6941927">2</span><span class="op" id="6941928">,</span>&nbsp;<span class="num" id="6941930">2</span><span class="op" id="6941931">)</span><span class="op" id="6941932">}</span><span class="op" id="6941933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941936">{</span><span class="string" id="6941937">`\b`</span><span class="op" id="6941941">,</span>&nbsp;<span class="string" id="6941943">&#34;x&nbsp;y&#34;</span><span class="op" id="6941948">,</span>&nbsp;<span class="ident" id="6941950">build</span><span class="op" id="6941955">(</span><span class="num" id="6941956">4</span><span class="op" id="6941957">,</span>&nbsp;<span class="num" id="6941959">0</span><span class="op" id="6941960">,</span>&nbsp;<span class="num" id="6941962">0</span><span class="op" id="6941963">,</span>&nbsp;<span class="num" id="6941965">1</span><span class="op" id="6941966">,</span>&nbsp;<span class="num" id="6941968">1</span><span class="op" id="6941969">,</span>&nbsp;<span class="num" id="6941971">2</span><span class="op" id="6941972">,</span>&nbsp;<span class="num" id="6941974">2</span><span class="op" id="6941975">,</span>&nbsp;<span class="num" id="6941977">3</span><span class="op" id="6941978">,</span>&nbsp;<span class="num" id="6941980">3</span><span class="op" id="6941981">)</span><span class="op" id="6941982">}</span><span class="op" id="6941983">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941986">{</span><span class="string" id="6941987">`\b`</span><span class="op" id="6941991">,</span>&nbsp;<span class="string" id="6941993">&#34;xx&nbsp;yy&#34;</span><span class="op" id="6942000">,</span>&nbsp;<span class="ident" id="6942002">build</span><span class="op" id="6942007">(</span><span class="num" id="6942008">4</span><span class="op" id="6942009">,</span>&nbsp;<span class="num" id="6942011">0</span><span class="op" id="6942012">,</span>&nbsp;<span class="num" id="6942014">0</span><span class="op" id="6942015">,</span>&nbsp;<span class="num" id="6942017">2</span><span class="op" id="6942018">,</span>&nbsp;<span class="num" id="6942020">2</span><span class="op" id="6942021">,</span>&nbsp;<span class="num" id="6942023">3</span><span class="op" id="6942024">,</span>&nbsp;<span class="num" id="6942026">3</span><span class="op" id="6942027">,</span>&nbsp;<span class="num" id="6942029">5</span><span class="op" id="6942030">,</span>&nbsp;<span class="num" id="6942032">5</span><span class="op" id="6942033">)</span><span class="op" id="6942034">}</span><span class="op" id="6942035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942038">{</span><span class="string" id="6942039">`\B`</span><span class="op" id="6942043">,</span>&nbsp;<span class="string" id="6942045">&#34;x&#34;</span><span class="op" id="6942048">,</span>&nbsp;<span class="ident" id="6942050">nil</span><span class="op" id="6942053">}</span><span class="op" id="6942054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942057">{</span><span class="string" id="6942058">`\B`</span><span class="op" id="6942062">,</span>&nbsp;<span class="string" id="6942064">&#34;xx&#34;</span><span class="op" id="6942068">,</span>&nbsp;<span class="ident" id="6942070">build</span><span class="op" id="6942075">(</span><span class="num" id="6942076">1</span><span class="op" id="6942077">,</span>&nbsp;<span class="num" id="6942079">1</span><span class="op" id="6942080">,</span>&nbsp;<span class="num" id="6942082">1</span><span class="op" id="6942083">)</span><span class="op" id="6942084">}</span><span class="op" id="6942085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942088">{</span><span class="string" id="6942089">`\B`</span><span class="op" id="6942093">,</span>&nbsp;<span class="string" id="6942095">&#34;x&nbsp;y&#34;</span><span class="op" id="6942100">,</span>&nbsp;<span class="ident" id="6942102">nil</span><span class="op" id="6942105">}</span><span class="op" id="6942106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942109">{</span><span class="string" id="6942110">`\B`</span><span class="op" id="6942114">,</span>&nbsp;<span class="string" id="6942116">&#34;xx&nbsp;yy&#34;</span><span class="op" id="6942123">,</span>&nbsp;<span class="ident" id="6942125">build</span><span class="op" id="6942130">(</span><span class="num" id="6942131">2</span><span class="op" id="6942132">,</span>&nbsp;<span class="num" id="6942134">1</span><span class="op" id="6942135">,</span>&nbsp;<span class="num" id="6942137">1</span><span class="op" id="6942138">,</span>&nbsp;<span class="num" id="6942140">4</span><span class="op" id="6942141">,</span>&nbsp;<span class="num" id="6942143">4</span><span class="op" id="6942144">)</span><span class="op" id="6942145">}</span><span class="op" id="6942146">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6942150">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942164">{</span><span class="string" id="6942165">`[^\S\s]`</span><span class="op" id="6942174">,</span>&nbsp;<span class="string" id="6942176">&#34;abcd&#34;</span><span class="op" id="6942182">,</span>&nbsp;<span class="ident" id="6942184">nil</span><span class="op" id="6942187">}</span><span class="op" id="6942188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942191">{</span><span class="string" id="6942192">`[^\S[:space:]]`</span><span class="op" id="6942208">,</span>&nbsp;<span class="string" id="6942210">&#34;abcd&#34;</span><span class="op" id="6942216">,</span>&nbsp;<span class="ident" id="6942218">nil</span><span class="op" id="6942221">}</span><span class="op" id="6942222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942225">{</span><span class="string" id="6942226">`[^\D\d]`</span><span class="op" id="6942235">,</span>&nbsp;<span class="string" id="6942237">&#34;abcd&#34;</span><span class="op" id="6942243">,</span>&nbsp;<span class="ident" id="6942245">nil</span><span class="op" id="6942248">}</span><span class="op" id="6942249">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942252">{</span><span class="string" id="6942253">`[^\D[:digit:]]`</span><span class="op" id="6942269">,</span>&nbsp;<span class="string" id="6942271">&#34;abcd&#34;</span><span class="op" id="6942277">,</span>&nbsp;<span class="ident" id="6942279">nil</span><span class="op" id="6942282">}</span><span class="op" id="6942283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942286">{</span><span class="string" id="6942287">`(?i)\W`</span><span class="op" id="6942295">,</span>&nbsp;<span class="string" id="6942297">&#34;x&#34;</span><span class="op" id="6942300">,</span>&nbsp;<span class="ident" id="6942302">nil</span><span class="op" id="6942305">}</span><span class="op" id="6942306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942309">{</span><span class="string" id="6942310">`(?i)\W`</span><span class="op" id="6942318">,</span>&nbsp;<span class="string" id="6942320">&#34;k&#34;</span><span class="op" id="6942323">,</span>&nbsp;<span class="ident" id="6942325">nil</span><span class="op" id="6942328">}</span><span class="op" id="6942329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942332">{</span><span class="string" id="6942333">`(?i)\W`</span><span class="op" id="6942341">,</span>&nbsp;<span class="string" id="6942343">&#34;s&#34;</span><span class="op" id="6942346">,</span>&nbsp;<span class="ident" id="6942348">nil</span><span class="op" id="6942351">}</span><span class="op" id="6942352">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6942356">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942397">{</span><span class="string" id="6942398">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="6942462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942466">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="6942499">,</span>&nbsp;<span class="ident" id="6942501">build</span><span class="op" id="6942506">(</span><span class="num" id="6942507">1</span><span class="op" id="6942508">,</span>&nbsp;<span class="num" id="6942510">0</span><span class="op" id="6942511">,</span>&nbsp;<span class="num" id="6942513">31</span><span class="op" id="6942515">)</span><span class="op" id="6942516">}</span><span class="op" id="6942517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942520">{</span><span class="string" id="6942521">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="6942588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942592">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="6942625">,</span>&nbsp;<span class="ident" id="6942627">build</span><span class="op" id="6942632">(</span><span class="num" id="6942633">1</span><span class="op" id="6942634">,</span>&nbsp;<span class="num" id="6942636">0</span><span class="op" id="6942637">,</span>&nbsp;<span class="num" id="6942639">31</span><span class="op" id="6942641">)</span><span class="op" id="6942642">}</span><span class="op" id="6942643">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942646">{</span><span class="string" id="6942647">&#34;\\`&#34;</span><span class="op" id="6942652">,</span>&nbsp;<span class="string" id="6942654">&#34;`&#34;</span><span class="op" id="6942657">,</span>&nbsp;<span class="ident" id="6942659">build</span><span class="op" id="6942664">(</span><span class="num" id="6942665">1</span><span class="op" id="6942666">,</span>&nbsp;<span class="num" id="6942668">0</span><span class="op" id="6942669">,</span>&nbsp;<span class="num" id="6942671">1</span><span class="op" id="6942672">)</span><span class="op" id="6942673">}</span><span class="op" id="6942674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942677">{</span><span class="string" id="6942678">&#34;[\\`]+&#34;</span><span class="op" id="6942686">,</span>&nbsp;<span class="string" id="6942688">&#34;`&#34;</span><span class="op" id="6942691">,</span>&nbsp;<span class="ident" id="6942693">build</span><span class="op" id="6942698">(</span><span class="num" id="6942699">1</span><span class="op" id="6942700">,</span>&nbsp;<span class="num" id="6942702">0</span><span class="op" id="6942703">,</span>&nbsp;<span class="num" id="6942705">1</span><span class="op" id="6942706">)</span><span class="op" id="6942707">}</span><span class="op" id="6942708">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6942712">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942760">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942764">&#34;.&#34;</span><span class="op" id="6942767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942771">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="6942809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942813">build</span><span class="op" id="6942818">(</span><span class="num" id="6942819">36</span><span class="op" id="6942821">,</span>&nbsp;<span class="num" id="6942823">0</span><span class="op" id="6942824">,</span>&nbsp;<span class="num" id="6942826">1</span><span class="op" id="6942827">,</span>&nbsp;<span class="num" id="6942829">1</span><span class="op" id="6942830">,</span>&nbsp;<span class="num" id="6942832">2</span><span class="op" id="6942833">,</span>&nbsp;<span class="num" id="6942835">2</span><span class="op" id="6942836">,</span>&nbsp;<span class="num" id="6942838">3</span><span class="op" id="6942839">,</span>&nbsp;<span class="num" id="6942841">3</span><span class="op" id="6942842">,</span>&nbsp;<span class="num" id="6942844">4</span><span class="op" id="6942845">,</span>&nbsp;<span class="num" id="6942847">4</span><span class="op" id="6942848">,</span>&nbsp;<span class="num" id="6942850">5</span><span class="op" id="6942851">,</span>&nbsp;<span class="num" id="6942853">5</span><span class="op" id="6942854">,</span>&nbsp;<span class="num" id="6942856">6</span><span class="op" id="6942857">,</span>&nbsp;<span class="num" id="6942859">6</span><span class="op" id="6942860">,</span>&nbsp;<span class="num" id="6942862">7</span><span class="op" id="6942863">,</span>&nbsp;<span class="num" id="6942865">7</span><span class="op" id="6942866">,</span>&nbsp;<span class="num" id="6942868">8</span><span class="op" id="6942869">,</span>&nbsp;<span class="num" id="6942871">8</span><span class="op" id="6942872">,</span>&nbsp;<span class="num" id="6942874">9</span><span class="op" id="6942875">,</span>&nbsp;<span class="num" id="6942877">9</span><span class="op" id="6942878">,</span>&nbsp;<span class="num" id="6942880">10</span><span class="op" id="6942882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6942887">10</span><span class="op" id="6942889">,</span>&nbsp;<span class="num" id="6942891">11</span><span class="op" id="6942893">,</span>&nbsp;<span class="num" id="6942895">11</span><span class="op" id="6942897">,</span>&nbsp;<span class="num" id="6942899">12</span><span class="op" id="6942901">,</span>&nbsp;<span class="num" id="6942903">12</span><span class="op" id="6942905">,</span>&nbsp;<span class="num" id="6942907">13</span><span class="op" id="6942909">,</span>&nbsp;<span class="num" id="6942911">13</span><span class="op" id="6942913">,</span>&nbsp;<span class="num" id="6942915">14</span><span class="op" id="6942917">,</span>&nbsp;<span class="num" id="6942919">14</span><span class="op" id="6942921">,</span>&nbsp;<span class="num" id="6942923">15</span><span class="op" id="6942925">,</span>&nbsp;<span class="num" id="6942927">15</span><span class="op" id="6942929">,</span>&nbsp;<span class="num" id="6942931">16</span><span class="op" id="6942933">,</span>&nbsp;<span class="num" id="6942935">16</span><span class="op" id="6942937">,</span>&nbsp;<span class="num" id="6942939">17</span><span class="op" id="6942941">,</span>&nbsp;<span class="num" id="6942943">17</span><span class="op" id="6942945">,</span>&nbsp;<span class="num" id="6942947">18</span><span class="op" id="6942949">,</span>&nbsp;<span class="num" id="6942951">18</span><span class="op" id="6942953">,</span>&nbsp;<span class="num" id="6942955">19</span><span class="op" id="6942957">,</span>&nbsp;<span class="num" id="6942959">19</span><span class="op" id="6942961">,</span>&nbsp;<span class="num" id="6942963">20</span><span class="op" id="6942965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6942970">20</span><span class="op" id="6942972">,</span>&nbsp;<span class="num" id="6942974">21</span><span class="op" id="6942976">,</span>&nbsp;<span class="num" id="6942978">21</span><span class="op" id="6942980">,</span>&nbsp;<span class="num" id="6942982">22</span><span class="op" id="6942984">,</span>&nbsp;<span class="num" id="6942986">22</span><span class="op" id="6942988">,</span>&nbsp;<span class="num" id="6942990">23</span><span class="op" id="6942992">,</span>&nbsp;<span class="num" id="6942994">23</span><span class="op" id="6942996">,</span>&nbsp;<span class="num" id="6942998">24</span><span class="op" id="6943000">,</span>&nbsp;<span class="num" id="6943002">24</span><span class="op" id="6943004">,</span>&nbsp;<span class="num" id="6943006">25</span><span class="op" id="6943008">,</span>&nbsp;<span class="num" id="6943010">25</span><span class="op" id="6943012">,</span>&nbsp;<span class="num" id="6943014">26</span><span class="op" id="6943016">,</span>&nbsp;<span class="num" id="6943018">26</span><span class="op" id="6943020">,</span>&nbsp;<span class="num" id="6943022">27</span><span class="op" id="6943024">,</span>&nbsp;<span class="num" id="6943026">27</span><span class="op" id="6943028">,</span>&nbsp;<span class="num" id="6943030">28</span><span class="op" id="6943032">,</span>&nbsp;<span class="num" id="6943034">28</span><span class="op" id="6943036">,</span>&nbsp;<span class="num" id="6943038">29</span><span class="op" id="6943040">,</span>&nbsp;<span class="num" id="6943042">29</span><span class="op" id="6943044">,</span>&nbsp;<span class="num" id="6943046">30</span><span class="op" id="6943048">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6943053">30</span><span class="op" id="6943055">,</span>&nbsp;<span class="num" id="6943057">31</span><span class="op" id="6943059">,</span>&nbsp;<span class="num" id="6943061">31</span><span class="op" id="6943063">,</span>&nbsp;<span class="num" id="6943065">32</span><span class="op" id="6943067">,</span>&nbsp;<span class="num" id="6943069">32</span><span class="op" id="6943071">,</span>&nbsp;<span class="num" id="6943073">33</span><span class="op" id="6943075">,</span>&nbsp;<span class="num" id="6943077">33</span><span class="op" id="6943079">,</span>&nbsp;<span class="num" id="6943081">34</span><span class="op" id="6943083">,</span>&nbsp;<span class="num" id="6943085">34</span><span class="op" id="6943087">,</span>&nbsp;<span class="num" id="6943089">35</span><span class="op" id="6943091">,</span>&nbsp;<span class="num" id="6943093">35</span><span class="op" id="6943095">,</span>&nbsp;<span class="num" id="6943097">36</span><span class="op" id="6943099">)</span><span class="op" id="6943100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6943103">}</span><span class="op" id="6943104">,</span><br>
<span class="lineno"></span><span class="op" id="6943106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6943109">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="6943187">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="6943247">func</span>&nbsp;<span class="ident" id="6943252">build</span><span class="op" id="6943257">(</span><span class="ident" id="6943258">n</span>&nbsp;<span class="builtintype" id="6943260">int</span><span class="op" id="6943263">,</span>&nbsp;<span class="ident" id="6943265">x</span>&nbsp;<span class="op" id="6943267">...</span><span class="builtintype" id="6943270">int</span><span class="op" id="6943273">)</span>&nbsp;<span class="op" id="6943275">[</span><span class="op" id="6943276">]</span><span class="op" id="6943277">[</span><span class="op" id="6943278">]</span><span class="builtintype" id="6943279">int</span>&nbsp;<span class="op" id="6943283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943286">ret</span>&nbsp;<span class="op" id="6943290">:=</span>&nbsp;<span class="builtinfunc" id="6943293">make</span><span class="op" id="6943297">(</span><span class="op" id="6943298">[</span><span class="op" id="6943299">]</span><span class="op" id="6943300">[</span><span class="op" id="6943301">]</span><span class="builtintype" id="6943302">int</span><span class="op" id="6943305">,</span>&nbsp;<span class="ident" id="6943307">n</span><span class="op" id="6943308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943311">runLength</span>&nbsp;<span class="op" id="6943321">:=</span>&nbsp;<span class="builtinfunc" id="6943324">len</span><span class="op" id="6943327">(</span><span class="ident" id="6943328">x</span><span class="op" id="6943329">)</span>&nbsp;<span class="op" id="6943331">/</span>&nbsp;<span class="ident" id="6943333">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943336">j</span>&nbsp;<span class="op" id="6943338">:=</span>&nbsp;<span class="num" id="6943341">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943344">for</span>&nbsp;<span class="ident" id="6943348">i</span>&nbsp;<span class="op" id="6943350">:=</span>&nbsp;<span class="keyword" id="6943353">range</span>&nbsp;<span class="ident" id="6943359">ret</span>&nbsp;<span class="op" id="6943363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943367">ret</span><span class="op" id="6943370">[</span><span class="ident" id="6943371">i</span><span class="op" id="6943372">]</span>&nbsp;<span class="op" id="6943374">=</span>&nbsp;<span class="builtinfunc" id="6943376">make</span><span class="op" id="6943380">(</span><span class="op" id="6943381">[</span><span class="op" id="6943382">]</span><span class="builtintype" id="6943383">int</span><span class="op" id="6943386">,</span>&nbsp;<span class="ident" id="6943388">runLength</span><span class="op" id="6943397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6943401">copy</span><span class="op" id="6943405">(</span><span class="ident" id="6943406">ret</span><span class="op" id="6943409">[</span><span class="ident" id="6943410">i</span><span class="op" id="6943411">]</span><span class="op" id="6943412">,</span>&nbsp;<span class="ident" id="6943414">x</span><span class="op" id="6943415">[</span><span class="ident" id="6943416">j</span><span class="op" id="6943417">:</span><span class="op" id="6943418">]</span><span class="op" id="6943419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943423">j</span>&nbsp;<span class="op" id="6943425">+=</span>&nbsp;<span class="ident" id="6943428">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943440">if</span>&nbsp;<span class="ident" id="6943443">j</span>&nbsp;<span class="op" id="6943445">&gt;</span>&nbsp;<span class="builtinfunc" id="6943447">len</span><span class="op" id="6943450">(</span><span class="ident" id="6943451">x</span><span class="op" id="6943452">)</span>&nbsp;<span class="op" id="6943454">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6943459">panic</span><span class="op" id="6943464">(</span><span class="string" id="6943465">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="6943486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6943490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6943493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943496">return</span>&nbsp;<span class="ident" id="6943503">ret</span><br>
<span class="lineno"></span><span class="op" id="6943507">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="6943510">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6943538">func</span>&nbsp;<span class="ident" id="6943543">TestFind</span><span class="op" id="6943551">(</span><span class="ident" id="6943552">t</span>&nbsp;<span class="op" id="6943554">*</span><span class="ident" id="6943555">testing</span><span class="op" id="6943562">.</span><span class="ident" id="6943563">T</span><span class="op" id="6943564">)</span>&nbsp;<span class="op" id="6943566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943569">for</span>&nbsp;<span class="ident" id="6943573">_</span><span class="op" id="6943574">,</span>&nbsp;<span class="ident" id="6943576">test</span>&nbsp;<span class="op" id="6943581">:=</span>&nbsp;<span class="keyword" id="6943584">range</span>&nbsp;<span class="ident" id="6943590">findTests</span>&nbsp;<span class="op" id="6943600">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943604">re</span>&nbsp;<span class="op" id="6943607">:=</span>&nbsp;<span class="ident" id="6943610">MustCompile</span><span class="op" id="6943621">(</span><span class="ident" id="6943622">test</span><span class="op" id="6943626">.</span><span class="ident" id="6943627">pat</span><span class="op" id="6943630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943634">if</span>&nbsp;<span class="ident" id="6943637">re</span><span class="op" id="6943639">.</span><span class="ident" id="6943640">String</span><span class="op" id="6943646">(</span><span class="op" id="6943647">)</span>&nbsp;<span class="op" id="6943649">!=</span>&nbsp;<span class="ident" id="6943652">test</span><span class="op" id="6943656">.</span><span class="ident" id="6943657">pat</span>&nbsp;<span class="op" id="6943661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943666">t</span><span class="op" id="6943667">.</span><span class="ident" id="6943668">Errorf</span><span class="op" id="6943674">(</span><span class="string" id="6943675">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="6943708">,</span>&nbsp;<span class="ident" id="6943710">re</span><span class="op" id="6943712">.</span><span class="ident" id="6943713">String</span><span class="op" id="6943719">(</span><span class="op" id="6943720">)</span><span class="op" id="6943721">,</span>&nbsp;<span class="ident" id="6943723">test</span><span class="op" id="6943727">.</span><span class="ident" id="6943728">pat</span><span class="op" id="6943731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6943735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943739">result</span>&nbsp;<span class="op" id="6943746">:=</span>&nbsp;<span class="ident" id="6943749">re</span><span class="op" id="6943751">.</span><span class="ident" id="6943752">Find</span><span class="op" id="6943756">(</span><span class="op" id="6943757">[</span><span class="op" id="6943758">]</span><span class="builtintype" id="6943759">byte</span><span class="op" id="6943763">(</span><span class="ident" id="6943764">test</span><span class="op" id="6943768">.</span><span class="ident" id="6943769">text</span><span class="op" id="6943773">)</span><span class="op" id="6943774">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943778">switch</span>&nbsp;<span class="op" id="6943785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943789">case</span>&nbsp;<span class="builtinfunc" id="6943794">len</span><span class="op" id="6943797">(</span><span class="ident" id="6943798">test</span><span class="op" id="6943802">.</span><span class="ident" id="6943803">matches</span><span class="op" id="6943810">)</span>&nbsp;<span class="op" id="6943812">==</span>&nbsp;<span class="num" id="6943815">0</span>&nbsp;<span class="op" id="6943817">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6943820">len</span><span class="op" id="6943823">(</span><span class="ident" id="6943824">result</span><span class="op" id="6943830">)</span>&nbsp;<span class="op" id="6943832">==</span>&nbsp;<span class="num" id="6943835">0</span><span class="op" id="6943836">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6943841">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943849">case</span>&nbsp;<span class="ident" id="6943854">test</span><span class="op" id="6943858">.</span><span class="ident" id="6943859">matches</span>&nbsp;<span class="op" id="6943867">==</span>&nbsp;<span class="ident" id="6943870">nil</span>&nbsp;<span class="op" id="6943874">&amp;&amp;</span>&nbsp;<span class="ident" id="6943877">result</span>&nbsp;<span class="op" id="6943884">!=</span>&nbsp;<span class="ident" id="6943887">nil</span><span class="op" id="6943890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943895">t</span><span class="op" id="6943896">.</span><span class="ident" id="6943897">Errorf</span><span class="op" id="6943903">(</span><span class="string" id="6943904">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6943936">,</span>&nbsp;<span class="ident" id="6943938">test</span><span class="op" id="6943942">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943946">case</span>&nbsp;<span class="ident" id="6943951">test</span><span class="op" id="6943955">.</span><span class="ident" id="6943956">matches</span>&nbsp;<span class="op" id="6943964">!=</span>&nbsp;<span class="ident" id="6943967">nil</span>&nbsp;<span class="op" id="6943971">&amp;&amp;</span>&nbsp;<span class="ident" id="6943974">result</span>&nbsp;<span class="op" id="6943981">==</span>&nbsp;<span class="ident" id="6943984">nil</span><span class="op" id="6943987">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943992">t</span><span class="op" id="6943993">.</span><span class="ident" id="6943994">Errorf</span><span class="op" id="6944000">(</span><span class="string" id="6944001">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6944031">,</span>&nbsp;<span class="ident" id="6944033">test</span><span class="op" id="6944037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6944041">case</span>&nbsp;<span class="ident" id="6944046">test</span><span class="op" id="6944050">.</span><span class="ident" id="6944051">matches</span>&nbsp;<span class="op" id="6944059">!=</span>&nbsp;<span class="ident" id="6944062">nil</span>&nbsp;<span class="op" id="6944066">&amp;&amp;</span>&nbsp;<span class="ident" id="6944069">result</span>&nbsp;<span class="op" id="6944076">!=</span>&nbsp;<span class="ident" id="6944079">nil</span><span class="op" id="6944082">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6944087">expect</span>&nbsp;<span class="op" id="6944094">:=</span>&nbsp;<span class="ident" id="6944097">test</span><span class="op" id="6944101">.</span><span class="ident" id="6944102">text</span><span class="op" id="6944106">[</span><span class="ident" id="6944107">test</span><span class="op" id="6944111">.</span><span class="ident" id="6944112">matches</span><span class="op" id="6944119">[</span><span class="num" id="6944120">0</span><span class="op" id="6944121">]</span><span class="op" id="6944122">[</span><span class="num" id="6944123">0</span><span class="op" id="6944124">]</span><span class="op" id="6944125">:</span><span class="ident" id="6944126">test</span><span class="op" id="6944130">.</span><span class="ident" id="6944131">matches</span><span class="op" id="6944138">[</span><span class="num" id="6944139">0</span><span class="op" id="6944140">]</span><span class="op" id="6944141">[</span><span class="num" id="6944142">1</span><span class="op" id="6944143">]</span><span class="op" id="6944144">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6944149">if</span>&nbsp;<span class="ident" id="6944152">expect</span>&nbsp;<span class="op" id="6944159">!=</span>&nbsp;<span class="builtintype" id="6944162">string</span><span class="op" id="6944168">(</span><span class="ident" id="6944169">result</span><span class="op" id="6944175">)</span>&nbsp;<span class="op" id="6944177">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6944183">t</span><span class="op" id="6944184">.</span><span class="ident" id="6944185">Errorf</span><span class="op" id="6944191">(</span><span class="string" id="6944192">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6944216">,</span>&nbsp;<span class="ident" id="6944218">expect</span><span class="op" id="6944224">,</span>&nbsp;<span class="ident" id="6944226">result</span><span class="op" id="6944232">,</span>&nbsp;<span class="ident" id="6944234">test</span><span class="op" id="6944238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6944243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6944247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6944250">}</span><br>
<span class="lineno"></span><span class="op" id="6944252">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="6944255">func</span>&nbsp;<span class="ident" id="6944260">TestFindString</span><span class="op" id="6944274">(</span><span class="ident" id="6944275">t</span>&nbsp;<span class="op" id="6944277">*</span><span class="ident" id="6944278">testing</span><span class="op" id="6944285">.</span><span class="ident" id="6944286">T</span><span class="op" id="6944287">)</span>&nbsp;<span class="op" id="6944289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6944292">for</span>&nbsp;<span class="ident" id="6944296">_</span><span class="op" id="6944297">,</span>&nbsp;<span class="ident" id="6944299">test</span>&nbsp;<span class="op" id="6944304">:=</span>&nbsp;<span class="keyword" id="6944307">range</span>&nbsp;<span class="ident" id="6944313">findTests</span>&nbsp;<span class="op" id="6944323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6944327">result</span>&nbsp;<span class="op" id="6944334">:=</span>&nbsp;<span class="ident" id="6944337">MustCompile</span><span class="op" id="6944348">(</span><span class="ident" id="6944349">test</span><span class="op" id="6944353">.</span><span class="ident" id="6944354">pat</span><span class="op" id="6944357">)</span><span class="op" id="6944358">.</span><span class="ident" id="6944359">FindString</span><span class="op" id="6944369">(</span><span class="ident" id="6944370">test</span><span class="op" id="6944374">.</span><span class="ident" id="6944375">text</span><span class="op" id="6944379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6944383">switch</span>&nbsp;<span class="op" id="6944390">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6944394">case</span>&nbsp;<span class="builtinfunc" id="6944399">len</span><span class="op" id="6944402">(</span><span class="ident" id="6944403">test</span><span class="op" id="6944407">.</span><span class="ident" id="6944408">matches</span><span class="op" id="6944415">)</span>&nbsp;<span class="op" id="6944417">==</span>&nbsp;<span class="num" id="6944420">0</span>&nbsp;<span class="op" id="6944422">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6944425">len</span><span class="op" id="6944428">(</span><span class="ident" id="6944429">result</span><span class="op" id="6944435">)</span>&nbsp;<span class="op" id="6944437">==</span>&nbsp;<span class="num" id="6944440">0</span><span class="op" id="6944441">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6944446">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6944454">case</span>&nbsp;<span class="ident" id="6944459">test</span><span class="op" id="6944463">.</span><span class="ident" id="6944464">matches</span>&nbsp;<span class="op" id="6944472">==</span>&nbsp;<span class="ident" id="6944475">nil</span>&nbsp;<span class="op" id="6944479">&amp;&amp;</span>&nbsp;<span class="ident" id="6944482">result</span>&nbsp;<span class="op" id="6944489">!=</span>&nbsp;<span class="string" id="6944492">&#34;&#34;</span><span class="op" id="6944494">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6944499">t</span><span class="op" id="6944500">.</span><span class="ident" id="6944501">Errorf</span><span class="op" id="6944507">(</span><span class="string" id="6944508">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6944540">,</span>&nbsp;<span class="ident" id="6944542">test</span><span class="op" id="6944546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6944550">case</span>&nbsp;<span class="ident" id="6944555">test</span><span class="op" id="6944559">.</span><span class="ident" id="6944560">matches</span>&nbsp;<span class="op" id="6944568">!=</span>&nbsp;<span class="ident" id="6944571">nil</span>&nbsp;<span class="op" id="6944575">&amp;&amp;</span>&nbsp;<span class="ident" id="6944578">result</span>&nbsp;<span class="op" id="6944585">==</span>&nbsp;<span class="string" id="6944588">&#34;&#34;</span><span class="op" id="6944590">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6944595">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6944675">if</span>&nbsp;<span class="ident" id="6944678">test</span><span class="op" id="6944682">.</span><span class="ident" id="6944683">matches</span><span class="op" id="6944690">[</span><span class="num" id="6944691">0</span><span class="op" id="6944692">]</span><span class="op" id="6944693">[</span><span class="num" id="6944694">0</span><span class="op" id="6944695">]</span>&nbsp;<span class="op" id="6944697">!=</span>&nbsp;<span class="ident" id="6944700">test</span><span class="op" id="6944704">.</span><span class="ident" id="6944705">matches</span><span class="op" id="6944712">[</span><span class="num" id="6944713">0</span><span class="op" id="6944714">]</span><span class="op" id="6944715">[</span><span class="num" id="6944716">1</span><span class="op" id="6944717">]</span>&nbsp;<span class="op" id="6944719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6944725">t</span><span class="op" id="6944726">.</span><span class="ident" id="6944727">Errorf</span><span class="op" id="6944733">(</span><span class="string" id="6944734">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6944764">,</span>&nbsp;<span class="ident" id="6944766">test</span><span class="op" id="6944770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6944775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6944779">case</span>&nbsp;<span class="ident" id="6944784">test</span><span class="op" id="6944788">.</span><span class="ident" id="6944789">matches</span>&nbsp;<span class="op" id="6944797">!=</span>&nbsp;<span class="ident" id="6944800">nil</span>&nbsp;<span class="op" id="6944804">&amp;&amp;</span>&nbsp;<span class="ident" id="6944807">result</span>&nbsp;<span class="op" id="6944814">!=</span>&nbsp;<span class="string" id="6944817">&#34;&#34;</span><span class="op" id="6944819">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6944824">expect</span>&nbsp;<span class="op" id="6944831">:=</span>&nbsp;<span class="ident" id="6944834">test</span><span class="op" id="6944838">.</span><span class="ident" id="6944839">text</span><span class="op" id="6944843">[</span><span class="ident" id="6944844">test</span><span class="op" id="6944848">.</span><span class="ident" id="6944849">matches</span><span class="op" id="6944856">[</span><span class="num" id="6944857">0</span><span class="op" id="6944858">]</span><span class="op" id="6944859">[</span><span class="num" id="6944860">0</span><span class="op" id="6944861">]</span><span class="op" id="6944862">:</span><span class="ident" id="6944863">test</span><span class="op" id="6944867">.</span><span class="ident" id="6944868">matches</span><span class="op" id="6944875">[</span><span class="num" id="6944876">0</span><span class="op" id="6944877">]</span><span class="op" id="6944878">[</span><span class="num" id="6944879">1</span><span class="op" id="6944880">]</span><span class="op" id="6944881">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6944886">if</span>&nbsp;<span class="ident" id="6944889">expect</span>&nbsp;<span class="op" id="6944896">!=</span>&nbsp;<span class="ident" id="6944899">result</span>&nbsp;<span class="op" id="6944906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6944912">t</span><span class="op" id="6944913">.</span><span class="ident" id="6944914">Errorf</span><span class="op" id="6944920">(</span><span class="string" id="6944921">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6944945">,</span>&nbsp;<span class="ident" id="6944947">expect</span><span class="op" id="6944953">,</span>&nbsp;<span class="ident" id="6944955">result</span><span class="op" id="6944961">,</span>&nbsp;<span class="ident" id="6944963">test</span><span class="op" id="6944967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6944972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6944976">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6944979">}</span><br>
<span class="lineno"></span><span class="op" id="6944981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6944984">func</span>&nbsp;<span class="ident" id="6944989">testFindIndex</span><span class="op" id="6945002">(</span><span class="ident" id="6945003">test</span>&nbsp;<span class="op" id="6945008">*</span><span class="ident" id="6945009">FindTest</span><span class="op" id="6945017">,</span>&nbsp;<span class="ident" id="6945019">result</span>&nbsp;<span class="op" id="6945026">[</span><span class="op" id="6945027">]</span><span class="builtintype" id="6945028">int</span><span class="op" id="6945031">,</span>&nbsp;<span class="ident" id="6945033">t</span>&nbsp;<span class="op" id="6945035">*</span><span class="ident" id="6945036">testing</span><span class="op" id="6945043">.</span><span class="ident" id="6945044">T</span><span class="op" id="6945045">)</span>&nbsp;<span class="op" id="6945047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6945050">switch</span>&nbsp;<span class="op" id="6945057">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6945060">case</span>&nbsp;<span class="builtinfunc" id="6945065">len</span><span class="op" id="6945068">(</span><span class="ident" id="6945069">test</span><span class="op" id="6945073">.</span><span class="ident" id="6945074">matches</span><span class="op" id="6945081">)</span>&nbsp;<span class="op" id="6945083">==</span>&nbsp;<span class="num" id="6945086">0</span>&nbsp;<span class="op" id="6945088">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6945091">len</span><span class="op" id="6945094">(</span><span class="ident" id="6945095">result</span><span class="op" id="6945101">)</span>&nbsp;<span class="op" id="6945103">==</span>&nbsp;<span class="num" id="6945106">0</span><span class="op" id="6945107">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6945111">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6945118">case</span>&nbsp;<span class="ident" id="6945123">test</span><span class="op" id="6945127">.</span><span class="ident" id="6945128">matches</span>&nbsp;<span class="op" id="6945136">==</span>&nbsp;<span class="ident" id="6945139">nil</span>&nbsp;<span class="op" id="6945143">&amp;&amp;</span>&nbsp;<span class="ident" id="6945146">result</span>&nbsp;<span class="op" id="6945153">!=</span>&nbsp;<span class="ident" id="6945156">nil</span><span class="op" id="6945159">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6945163">t</span><span class="op" id="6945164">.</span><span class="ident" id="6945165">Errorf</span><span class="op" id="6945171">(</span><span class="string" id="6945172">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6945204">,</span>&nbsp;<span class="ident" id="6945206">test</span><span class="op" id="6945210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6945213">case</span>&nbsp;<span class="ident" id="6945218">test</span><span class="op" id="6945222">.</span><span class="ident" id="6945223">matches</span>&nbsp;<span class="op" id="6945231">!=</span>&nbsp;<span class="ident" id="6945234">nil</span>&nbsp;<span class="op" id="6945238">&amp;&amp;</span>&nbsp;<span class="ident" id="6945241">result</span>&nbsp;<span class="op" id="6945248">==</span>&nbsp;<span class="ident" id="6945251">nil</span><span class="op" id="6945254">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6945258">t</span><span class="op" id="6945259">.</span><span class="ident" id="6945260">Errorf</span><span class="op" id="6945266">(</span><span class="string" id="6945267">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6945297">,</span>&nbsp;<span class="ident" id="6945299">test</span><span class="op" id="6945303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6945306">case</span>&nbsp;<span class="ident" id="6945311">test</span><span class="op" id="6945315">.</span><span class="ident" id="6945316">matches</span>&nbsp;<span class="op" id="6945324">!=</span>&nbsp;<span class="ident" id="6945327">nil</span>&nbsp;<span class="op" id="6945331">&amp;&amp;</span>&nbsp;<span class="ident" id="6945334">result</span>&nbsp;<span class="op" id="6945341">!=</span>&nbsp;<span class="ident" id="6945344">nil</span><span class="op" id="6945347">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6945351">expect</span>&nbsp;<span class="op" id="6945358">:=</span>&nbsp;<span class="ident" id="6945361">test</span><span class="op" id="6945365">.</span><span class="ident" id="6945366">matches</span><span class="op" id="6945373">[</span><span class="num" id="6945374">0</span><span class="op" id="6945375">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6945379">if</span>&nbsp;<span class="ident" id="6945382">expect</span><span class="op" id="6945388">[</span><span class="num" id="6945389">0</span><span class="op" id="6945390">]</span>&nbsp;<span class="op" id="6945392">!=</span>&nbsp;<span class="ident" id="6945395">result</span><span class="op" id="6945401">[</span><span class="num" id="6945402">0</span><span class="op" id="6945403">]</span>&nbsp;<span class="op" id="6945405">||</span>&nbsp;<span class="ident" id="6945408">expect</span><span class="op" id="6945414">[</span><span class="num" id="6945415">1</span><span class="op" id="6945416">]</span>&nbsp;<span class="op" id="6945418">!=</span>&nbsp;<span class="ident" id="6945421">result</span><span class="op" id="6945427">[</span><span class="num" id="6945428">1</span><span class="op" id="6945429">]</span>&nbsp;<span class="op" id="6945431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6945436">t</span><span class="op" id="6945437">.</span><span class="ident" id="6945438">Errorf</span><span class="op" id="6945444">(</span><span class="string" id="6945445">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6945469">,</span>&nbsp;<span class="ident" id="6945471">expect</span><span class="op" id="6945477">,</span>&nbsp;<span class="ident" id="6945479">result</span><span class="op" id="6945485">,</span>&nbsp;<span class="ident" id="6945487">test</span><span class="op" id="6945491">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6945495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6945498">}</span><br>
<span class="lineno"></span><span class="op" id="6945500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6945503">func</span>&nbsp;<span class="ident" id="6945508">TestFindIndex</span><span class="op" id="6945521">(</span><span class="ident" id="6945522">t</span>&nbsp;<span class="op" id="6945524">*</span><span class="ident" id="6945525">testing</span><span class="op" id="6945532">.</span><span class="ident" id="6945533">T</span><span class="op" id="6945534">)</span>&nbsp;<span class="op" id="6945536">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6945539">for</span>&nbsp;<span class="ident" id="6945543">_</span><span class="op" id="6945544">,</span>&nbsp;<span class="ident" id="6945546">test</span>&nbsp;<span class="op" id="6945551">:=</span>&nbsp;<span class="keyword" id="6945554">range</span>&nbsp;<span class="ident" id="6945560">findTests</span>&nbsp;<span class="op" id="6945570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6945574">testFindIndex</span><span class="op" id="6945587">(</span><span class="op" id="6945588">&amp;</span><span class="ident" id="6945589">test</span><span class="op" id="6945593">,</span>&nbsp;<span class="ident" id="6945595">MustCompile</span><span class="op" id="6945606">(</span><span class="ident" id="6945607">test</span><span class="op" id="6945611">.</span><span class="ident" id="6945612">pat</span><span class="op" id="6945615">)</span><span class="op" id="6945616">.</span><span class="ident" id="6945617">FindIndex</span><span class="op" id="6945626">(</span><span class="op" id="6945627">[</span><span class="op" id="6945628">]</span><span class="builtintype" id="6945629">byte</span><span class="op" id="6945633">(</span><span class="ident" id="6945634">test</span><span class="op" id="6945638">.</span><span class="ident" id="6945639">text</span><span class="op" id="6945643">)</span><span class="op" id="6945644">)</span><span class="op" id="6945645">,</span>&nbsp;<span class="ident" id="6945647">t</span><span class="op" id="6945648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6945651">}</span><br>
<span class="lineno"></span><span class="op" id="6945653">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="6945656">func</span>&nbsp;<span class="ident" id="6945661">TestFindStringIndex</span><span class="op" id="6945680">(</span><span class="ident" id="6945681">t</span>&nbsp;<span class="op" id="6945683">*</span><span class="ident" id="6945684">testing</span><span class="op" id="6945691">.</span><span class="ident" id="6945692">T</span><span class="op" id="6945693">)</span>&nbsp;<span class="op" id="6945695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6945698">for</span>&nbsp;<span class="ident" id="6945702">_</span><span class="op" id="6945703">,</span>&nbsp;<span class="ident" id="6945705">test</span>&nbsp;<span class="op" id="6945710">:=</span>&nbsp;<span class="keyword" id="6945713">range</span>&nbsp;<span class="ident" id="6945719">findTests</span>&nbsp;<span class="op" id="6945729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6945733">testFindIndex</span><span class="op" id="6945746">(</span><span class="op" id="6945747">&amp;</span><span class="ident" id="6945748">test</span><span class="op" id="6945752">,</span>&nbsp;<span class="ident" id="6945754">MustCompile</span><span class="op" id="6945765">(</span><span class="ident" id="6945766">test</span><span class="op" id="6945770">.</span><span class="ident" id="6945771">pat</span><span class="op" id="6945774">)</span><span class="op" id="6945775">.</span><span class="ident" id="6945776">FindStringIndex</span><span class="op" id="6945791">(</span><span class="ident" id="6945792">test</span><span class="op" id="6945796">.</span><span class="ident" id="6945797">text</span><span class="op" id="6945801">)</span><span class="op" id="6945802">,</span>&nbsp;<span class="ident" id="6945804">t</span><span class="op" id="6945805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6945808">}</span><br>
<span class="lineno"></span><span class="op" id="6945810">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="6945813">func</span>&nbsp;<span class="ident" id="6945818">TestFindReaderIndex</span><span class="op" id="6945837">(</span><span class="ident" id="6945838">t</span>&nbsp;<span class="op" id="6945840">*</span><span class="ident" id="6945841">testing</span><span class="op" id="6945848">.</span><span class="ident" id="6945849">T</span><span class="op" id="6945850">)</span>&nbsp;<span class="op" id="6945852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6945855">for</span>&nbsp;<span class="ident" id="6945859">_</span><span class="op" id="6945860">,</span>&nbsp;<span class="ident" id="6945862">test</span>&nbsp;<span class="op" id="6945867">:=</span>&nbsp;<span class="keyword" id="6945870">range</span>&nbsp;<span class="ident" id="6945876">findTests</span>&nbsp;<span class="op" id="6945886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6945890">testFindIndex</span><span class="op" id="6945903">(</span><span class="op" id="6945904">&amp;</span><span class="ident" id="6945905">test</span><span class="op" id="6945909">,</span>&nbsp;<span class="ident" id="6945911">MustCompile</span><span class="op" id="6945922">(</span><span class="ident" id="6945923">test</span><span class="op" id="6945927">.</span><span class="ident" id="6945928">pat</span><span class="op" id="6945931">)</span><span class="op" id="6945932">.</span><span class="ident" id="6945933">FindReaderIndex</span><span class="op" id="6945948">(</span><span class="ident" id="6945949">strings</span><span class="op" id="6945956">.</span><span class="ident" id="6945957">NewReader</span><span class="op" id="6945966">(</span><span class="ident" id="6945967">test</span><span class="op" id="6945971">.</span><span class="ident" id="6945972">text</span><span class="op" id="6945976">)</span><span class="op" id="6945977">)</span><span class="op" id="6945978">,</span>&nbsp;<span class="ident" id="6945980">t</span><span class="op" id="6945981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6945984">}</span><br>
<span class="lineno">225</span><span class="op" id="6945986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6945989">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6946024">func</span>&nbsp;<span class="ident" id="6946029">TestFindAll</span><span class="op" id="6946040">(</span><span class="ident" id="6946041">t</span>&nbsp;<span class="op" id="6946043">*</span><span class="ident" id="6946044">testing</span><span class="op" id="6946051">.</span><span class="ident" id="6946052">T</span><span class="op" id="6946053">)</span>&nbsp;<span class="op" id="6946055">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946058">for</span>&nbsp;<span class="ident" id="6946062">_</span><span class="op" id="6946063">,</span>&nbsp;<span class="ident" id="6946065">test</span>&nbsp;<span class="op" id="6946070">:=</span>&nbsp;<span class="keyword" id="6946073">range</span>&nbsp;<span class="ident" id="6946079">findTests</span>&nbsp;<span class="op" id="6946089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6946093">result</span>&nbsp;<span class="op" id="6946100">:=</span>&nbsp;<span class="ident" id="6946103">MustCompile</span><span class="op" id="6946114">(</span><span class="ident" id="6946115">test</span><span class="op" id="6946119">.</span><span class="ident" id="6946120">pat</span><span class="op" id="6946123">)</span><span class="op" id="6946124">.</span><span class="ident" id="6946125">FindAll</span><span class="op" id="6946132">(</span><span class="op" id="6946133">[</span><span class="op" id="6946134">]</span><span class="builtintype" id="6946135">byte</span><span class="op" id="6946139">(</span><span class="ident" id="6946140">test</span><span class="op" id="6946144">.</span><span class="ident" id="6946145">text</span><span class="op" id="6946149">)</span><span class="op" id="6946150">,</span>&nbsp;<span class="op" id="6946152">-</span><span class="num" id="6946153">1</span><span class="op" id="6946154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946158">switch</span>&nbsp;<span class="op" id="6946165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946169">case</span>&nbsp;<span class="ident" id="6946174">test</span><span class="op" id="6946178">.</span><span class="ident" id="6946179">matches</span>&nbsp;<span class="op" id="6946187">==</span>&nbsp;<span class="ident" id="6946190">nil</span>&nbsp;<span class="op" id="6946194">&amp;&amp;</span>&nbsp;<span class="ident" id="6946197">result</span>&nbsp;<span class="op" id="6946204">==</span>&nbsp;<span class="ident" id="6946207">nil</span><span class="op" id="6946210">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6946215">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946223">case</span>&nbsp;<span class="ident" id="6946228">test</span><span class="op" id="6946232">.</span><span class="ident" id="6946233">matches</span>&nbsp;<span class="op" id="6946241">==</span>&nbsp;<span class="ident" id="6946244">nil</span>&nbsp;<span class="op" id="6946248">&amp;&amp;</span>&nbsp;<span class="ident" id="6946251">result</span>&nbsp;<span class="op" id="6946258">!=</span>&nbsp;<span class="ident" id="6946261">nil</span><span class="op" id="6946264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6946269">t</span><span class="op" id="6946270">.</span><span class="ident" id="6946271">Errorf</span><span class="op" id="6946277">(</span><span class="string" id="6946278">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6946310">,</span>&nbsp;<span class="ident" id="6946312">test</span><span class="op" id="6946316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946320">case</span>&nbsp;<span class="ident" id="6946325">test</span><span class="op" id="6946329">.</span><span class="ident" id="6946330">matches</span>&nbsp;<span class="op" id="6946338">!=</span>&nbsp;<span class="ident" id="6946341">nil</span>&nbsp;<span class="op" id="6946345">&amp;&amp;</span>&nbsp;<span class="ident" id="6946348">result</span>&nbsp;<span class="op" id="6946355">==</span>&nbsp;<span class="ident" id="6946358">nil</span><span class="op" id="6946361">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6946366">t</span><span class="op" id="6946367">.</span><span class="ident" id="6946368">Fatalf</span><span class="op" id="6946374">(</span><span class="string" id="6946375">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6946405">,</span>&nbsp;<span class="ident" id="6946407">test</span><span class="op" id="6946411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946415">case</span>&nbsp;<span class="ident" id="6946420">test</span><span class="op" id="6946424">.</span><span class="ident" id="6946425">matches</span>&nbsp;<span class="op" id="6946433">!=</span>&nbsp;<span class="ident" id="6946436">nil</span>&nbsp;<span class="op" id="6946440">&amp;&amp;</span>&nbsp;<span class="ident" id="6946443">result</span>&nbsp;<span class="op" id="6946450">!=</span>&nbsp;<span class="ident" id="6946453">nil</span><span class="op" id="6946456">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946461">if</span>&nbsp;<span class="builtinfunc" id="6946464">len</span><span class="op" id="6946467">(</span><span class="ident" id="6946468">test</span><span class="op" id="6946472">.</span><span class="ident" id="6946473">matches</span><span class="op" id="6946480">)</span>&nbsp;<span class="op" id="6946482">!=</span>&nbsp;<span class="builtinfunc" id="6946485">len</span><span class="op" id="6946488">(</span><span class="ident" id="6946489">result</span><span class="op" id="6946495">)</span>&nbsp;<span class="op" id="6946497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6946503">t</span><span class="op" id="6946504">.</span><span class="ident" id="6946505">Errorf</span><span class="op" id="6946511">(</span><span class="string" id="6946512">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6946545">,</span>&nbsp;<span class="builtinfunc" id="6946547">len</span><span class="op" id="6946550">(</span><span class="ident" id="6946551">test</span><span class="op" id="6946555">.</span><span class="ident" id="6946556">matches</span><span class="op" id="6946563">)</span><span class="op" id="6946564">,</span>&nbsp;<span class="builtinfunc" id="6946566">len</span><span class="op" id="6946569">(</span><span class="ident" id="6946570">result</span><span class="op" id="6946576">)</span><span class="op" id="6946577">,</span>&nbsp;<span class="ident" id="6946579">test</span><span class="op" id="6946583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946589">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6946601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946606">for</span>&nbsp;<span class="ident" id="6946610">k</span><span class="op" id="6946611">,</span>&nbsp;<span class="ident" id="6946613">e</span>&nbsp;<span class="op" id="6946615">:=</span>&nbsp;<span class="keyword" id="6946618">range</span>&nbsp;<span class="ident" id="6946624">test</span><span class="op" id="6946628">.</span><span class="ident" id="6946629">matches</span>&nbsp;<span class="op" id="6946637">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6946643">expect</span>&nbsp;<span class="op" id="6946650">:=</span>&nbsp;<span class="ident" id="6946653">test</span><span class="op" id="6946657">.</span><span class="ident" id="6946658">text</span><span class="op" id="6946662">[</span><span class="ident" id="6946663">e</span><span class="op" id="6946664">[</span><span class="num" id="6946665">0</span><span class="op" id="6946666">]</span><span class="op" id="6946667">:</span><span class="ident" id="6946668">e</span><span class="op" id="6946669">[</span><span class="num" id="6946670">1</span><span class="op" id="6946671">]</span><span class="op" id="6946672">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946678">if</span>&nbsp;<span class="ident" id="6946681">expect</span>&nbsp;<span class="op" id="6946688">!=</span>&nbsp;<span class="builtintype" id="6946691">string</span><span class="op" id="6946697">(</span><span class="ident" id="6946698">result</span><span class="op" id="6946704">[</span><span class="ident" id="6946705">k</span><span class="op" id="6946706">]</span><span class="op" id="6946707">)</span>&nbsp;<span class="op" id="6946709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6946716">t</span><span class="op" id="6946717">.</span><span class="ident" id="6946718">Errorf</span><span class="op" id="6946724">(</span><span class="string" id="6946725">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6946759">,</span>&nbsp;<span class="ident" id="6946761">k</span><span class="op" id="6946762">,</span>&nbsp;<span class="ident" id="6946764">expect</span><span class="op" id="6946770">,</span>&nbsp;<span class="ident" id="6946772">result</span><span class="op" id="6946778">[</span><span class="ident" id="6946779">k</span><span class="op" id="6946780">]</span><span class="op" id="6946781">,</span>&nbsp;<span class="ident" id="6946783">test</span><span class="op" id="6946787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6946793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6946798">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6946802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6946805">}</span><br>
<span class="lineno"></span><span class="op" id="6946807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6946810">func</span>&nbsp;<span class="ident" id="6946815">TestFindAllString</span><span class="op" id="6946832">(</span><span class="ident" id="6946833">t</span>&nbsp;<span class="op" id="6946835">*</span><span class="ident" id="6946836">testing</span><span class="op" id="6946843">.</span><span class="ident" id="6946844">T</span><span class="op" id="6946845">)</span>&nbsp;<span class="op" id="6946847">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946850">for</span>&nbsp;<span class="ident" id="6946854">_</span><span class="op" id="6946855">,</span>&nbsp;<span class="ident" id="6946857">test</span>&nbsp;<span class="op" id="6946862">:=</span>&nbsp;<span class="keyword" id="6946865">range</span>&nbsp;<span class="ident" id="6946871">findTests</span>&nbsp;<span class="op" id="6946881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6946885">result</span>&nbsp;<span class="op" id="6946892">:=</span>&nbsp;<span class="ident" id="6946895">MustCompile</span><span class="op" id="6946906">(</span><span class="ident" id="6946907">test</span><span class="op" id="6946911">.</span><span class="ident" id="6946912">pat</span><span class="op" id="6946915">)</span><span class="op" id="6946916">.</span><span class="ident" id="6946917">FindAllString</span><span class="op" id="6946930">(</span><span class="ident" id="6946931">test</span><span class="op" id="6946935">.</span><span class="ident" id="6946936">text</span><span class="op" id="6946940">,</span>&nbsp;<span class="op" id="6946942">-</span><span class="num" id="6946943">1</span><span class="op" id="6946944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946948">switch</span>&nbsp;<span class="op" id="6946955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6946959">case</span>&nbsp;<span class="ident" id="6946964">test</span><span class="op" id="6946968">.</span><span class="ident" id="6946969">matches</span>&nbsp;<span class="op" id="6946977">==</span>&nbsp;<span class="ident" id="6946980">nil</span>&nbsp;<span class="op" id="6946984">&amp;&amp;</span>&nbsp;<span class="ident" id="6946987">result</span>&nbsp;<span class="op" id="6946994">==</span>&nbsp;<span class="ident" id="6946997">nil</span><span class="op" id="6947000">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6947005">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947013">case</span>&nbsp;<span class="ident" id="6947018">test</span><span class="op" id="6947022">.</span><span class="ident" id="6947023">matches</span>&nbsp;<span class="op" id="6947031">==</span>&nbsp;<span class="ident" id="6947034">nil</span>&nbsp;<span class="op" id="6947038">&amp;&amp;</span>&nbsp;<span class="ident" id="6947041">result</span>&nbsp;<span class="op" id="6947048">!=</span>&nbsp;<span class="ident" id="6947051">nil</span><span class="op" id="6947054">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6947059">t</span><span class="op" id="6947060">.</span><span class="ident" id="6947061">Errorf</span><span class="op" id="6947067">(</span><span class="string" id="6947068">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6947100">,</span>&nbsp;<span class="ident" id="6947102">test</span><span class="op" id="6947106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947110">case</span>&nbsp;<span class="ident" id="6947115">test</span><span class="op" id="6947119">.</span><span class="ident" id="6947120">matches</span>&nbsp;<span class="op" id="6947128">!=</span>&nbsp;<span class="ident" id="6947131">nil</span>&nbsp;<span class="op" id="6947135">&amp;&amp;</span>&nbsp;<span class="ident" id="6947138">result</span>&nbsp;<span class="op" id="6947145">==</span>&nbsp;<span class="ident" id="6947148">nil</span><span class="op" id="6947151">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6947156">t</span><span class="op" id="6947157">.</span><span class="ident" id="6947158">Errorf</span><span class="op" id="6947164">(</span><span class="string" id="6947165">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6947195">,</span>&nbsp;<span class="ident" id="6947197">test</span><span class="op" id="6947201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947205">case</span>&nbsp;<span class="ident" id="6947210">test</span><span class="op" id="6947214">.</span><span class="ident" id="6947215">matches</span>&nbsp;<span class="op" id="6947223">!=</span>&nbsp;<span class="ident" id="6947226">nil</span>&nbsp;<span class="op" id="6947230">&amp;&amp;</span>&nbsp;<span class="ident" id="6947233">result</span>&nbsp;<span class="op" id="6947240">!=</span>&nbsp;<span class="ident" id="6947243">nil</span><span class="op" id="6947246">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947251">if</span>&nbsp;<span class="builtinfunc" id="6947254">len</span><span class="op" id="6947257">(</span><span class="ident" id="6947258">test</span><span class="op" id="6947262">.</span><span class="ident" id="6947263">matches</span><span class="op" id="6947270">)</span>&nbsp;<span class="op" id="6947272">!=</span>&nbsp;<span class="builtinfunc" id="6947275">len</span><span class="op" id="6947278">(</span><span class="ident" id="6947279">result</span><span class="op" id="6947285">)</span>&nbsp;<span class="op" id="6947287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6947293">t</span><span class="op" id="6947294">.</span><span class="ident" id="6947295">Errorf</span><span class="op" id="6947301">(</span><span class="string" id="6947302">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6947335">,</span>&nbsp;<span class="builtinfunc" id="6947337">len</span><span class="op" id="6947340">(</span><span class="ident" id="6947341">test</span><span class="op" id="6947345">.</span><span class="ident" id="6947346">matches</span><span class="op" id="6947353">)</span><span class="op" id="6947354">,</span>&nbsp;<span class="builtinfunc" id="6947356">len</span><span class="op" id="6947359">(</span><span class="ident" id="6947360">result</span><span class="op" id="6947366">)</span><span class="op" id="6947367">,</span>&nbsp;<span class="ident" id="6947369">test</span><span class="op" id="6947373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947379">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6947391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947396">for</span>&nbsp;<span class="ident" id="6947400">k</span><span class="op" id="6947401">,</span>&nbsp;<span class="ident" id="6947403">e</span>&nbsp;<span class="op" id="6947405">:=</span>&nbsp;<span class="keyword" id="6947408">range</span>&nbsp;<span class="ident" id="6947414">test</span><span class="op" id="6947418">.</span><span class="ident" id="6947419">matches</span>&nbsp;<span class="op" id="6947427">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6947433">expect</span>&nbsp;<span class="op" id="6947440">:=</span>&nbsp;<span class="ident" id="6947443">test</span><span class="op" id="6947447">.</span><span class="ident" id="6947448">text</span><span class="op" id="6947452">[</span><span class="ident" id="6947453">e</span><span class="op" id="6947454">[</span><span class="num" id="6947455">0</span><span class="op" id="6947456">]</span><span class="op" id="6947457">:</span><span class="ident" id="6947458">e</span><span class="op" id="6947459">[</span><span class="num" id="6947460">1</span><span class="op" id="6947461">]</span><span class="op" id="6947462">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947468">if</span>&nbsp;<span class="ident" id="6947471">expect</span>&nbsp;<span class="op" id="6947478">!=</span>&nbsp;<span class="ident" id="6947481">result</span><span class="op" id="6947487">[</span><span class="ident" id="6947488">k</span><span class="op" id="6947489">]</span>&nbsp;<span class="op" id="6947491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6947498">t</span><span class="op" id="6947499">.</span><span class="ident" id="6947500">Errorf</span><span class="op" id="6947506">(</span><span class="string" id="6947507">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6947531">,</span>&nbsp;<span class="ident" id="6947533">expect</span><span class="op" id="6947539">,</span>&nbsp;<span class="ident" id="6947541">result</span><span class="op" id="6947547">,</span>&nbsp;<span class="ident" id="6947549">test</span><span class="op" id="6947553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6947559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6947564">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6947568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6947571">}</span><br>
<span class="lineno"></span><span class="op" id="6947573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6947576">func</span>&nbsp;<span class="ident" id="6947581">testFindAllIndex</span><span class="op" id="6947597">(</span><span class="ident" id="6947598">test</span>&nbsp;<span class="op" id="6947603">*</span><span class="ident" id="6947604">FindTest</span><span class="op" id="6947612">,</span>&nbsp;<span class="ident" id="6947614">result</span>&nbsp;<span class="op" id="6947621">[</span><span class="op" id="6947622">]</span><span class="op" id="6947623">[</span><span class="op" id="6947624">]</span><span class="builtintype" id="6947625">int</span><span class="op" id="6947628">,</span>&nbsp;<span class="ident" id="6947630">t</span>&nbsp;<span class="op" id="6947632">*</span><span class="ident" id="6947633">testing</span><span class="op" id="6947640">.</span><span class="ident" id="6947641">T</span><span class="op" id="6947642">)</span>&nbsp;<span class="op" id="6947644">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947647">switch</span>&nbsp;<span class="op" id="6947654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947657">case</span>&nbsp;<span class="ident" id="6947662">test</span><span class="op" id="6947666">.</span><span class="ident" id="6947667">matches</span>&nbsp;<span class="op" id="6947675">==</span>&nbsp;<span class="ident" id="6947678">nil</span>&nbsp;<span class="op" id="6947682">&amp;&amp;</span>&nbsp;<span class="ident" id="6947685">result</span>&nbsp;<span class="op" id="6947692">==</span>&nbsp;<span class="ident" id="6947695">nil</span><span class="op" id="6947698">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6947702">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947709">case</span>&nbsp;<span class="ident" id="6947714">test</span><span class="op" id="6947718">.</span><span class="ident" id="6947719">matches</span>&nbsp;<span class="op" id="6947727">==</span>&nbsp;<span class="ident" id="6947730">nil</span>&nbsp;<span class="op" id="6947734">&amp;&amp;</span>&nbsp;<span class="ident" id="6947737">result</span>&nbsp;<span class="op" id="6947744">!=</span>&nbsp;<span class="ident" id="6947747">nil</span><span class="op" id="6947750">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6947754">t</span><span class="op" id="6947755">.</span><span class="ident" id="6947756">Errorf</span><span class="op" id="6947762">(</span><span class="string" id="6947763">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6947795">,</span>&nbsp;<span class="ident" id="6947797">test</span><span class="op" id="6947801">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947804">case</span>&nbsp;<span class="ident" id="6947809">test</span><span class="op" id="6947813">.</span><span class="ident" id="6947814">matches</span>&nbsp;<span class="op" id="6947822">!=</span>&nbsp;<span class="ident" id="6947825">nil</span>&nbsp;<span class="op" id="6947829">&amp;&amp;</span>&nbsp;<span class="ident" id="6947832">result</span>&nbsp;<span class="op" id="6947839">==</span>&nbsp;<span class="ident" id="6947842">nil</span><span class="op" id="6947845">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6947849">t</span><span class="op" id="6947850">.</span><span class="ident" id="6947851">Errorf</span><span class="op" id="6947857">(</span><span class="string" id="6947858">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6947888">,</span>&nbsp;<span class="ident" id="6947890">test</span><span class="op" id="6947894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947897">case</span>&nbsp;<span class="ident" id="6947902">test</span><span class="op" id="6947906">.</span><span class="ident" id="6947907">matches</span>&nbsp;<span class="op" id="6947915">!=</span>&nbsp;<span class="ident" id="6947918">nil</span>&nbsp;<span class="op" id="6947922">&amp;&amp;</span>&nbsp;<span class="ident" id="6947925">result</span>&nbsp;<span class="op" id="6947932">!=</span>&nbsp;<span class="ident" id="6947935">nil</span><span class="op" id="6947938">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6947942">if</span>&nbsp;<span class="builtinfunc" id="6947945">len</span><span class="op" id="6947948">(</span><span class="ident" id="6947949">test</span><span class="op" id="6947953">.</span><span class="ident" id="6947954">matches</span><span class="op" id="6947961">)</span>&nbsp;<span class="op" id="6947963">!=</span>&nbsp;<span class="builtinfunc" id="6947966">len</span><span class="op" id="6947969">(</span><span class="ident" id="6947970">result</span><span class="op" id="6947976">)</span>&nbsp;<span class="op" id="6947978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6947983">t</span><span class="op" id="6947984">.</span><span class="ident" id="6947985">Errorf</span><span class="op" id="6947991">(</span><span class="string" id="6947992">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6948025">,</span>&nbsp;<span class="builtinfunc" id="6948027">len</span><span class="op" id="6948030">(</span><span class="ident" id="6948031">test</span><span class="op" id="6948035">.</span><span class="ident" id="6948036">matches</span><span class="op" id="6948043">)</span><span class="op" id="6948044">,</span>&nbsp;<span class="builtinfunc" id="6948046">len</span><span class="op" id="6948049">(</span><span class="ident" id="6948050">result</span><span class="op" id="6948056">)</span><span class="op" id="6948057">,</span>&nbsp;<span class="ident" id="6948059">test</span><span class="op" id="6948063">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6948068">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6948077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6948081">for</span>&nbsp;<span class="ident" id="6948085">k</span><span class="op" id="6948086">,</span>&nbsp;<span class="ident" id="6948088">e</span>&nbsp;<span class="op" id="6948090">:=</span>&nbsp;<span class="keyword" id="6948093">range</span>&nbsp;<span class="ident" id="6948099">test</span><span class="op" id="6948103">.</span><span class="ident" id="6948104">matches</span>&nbsp;<span class="op" id="6948112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6948117">if</span>&nbsp;<span class="ident" id="6948120">e</span><span class="op" id="6948121">[</span><span class="num" id="6948122">0</span><span class="op" id="6948123">]</span>&nbsp;<span class="op" id="6948125">!=</span>&nbsp;<span class="ident" id="6948128">result</span><span class="op" id="6948134">[</span><span class="ident" id="6948135">k</span><span class="op" id="6948136">]</span><span class="op" id="6948137">[</span><span class="num" id="6948138">0</span><span class="op" id="6948139">]</span>&nbsp;<span class="op" id="6948141">||</span>&nbsp;<span class="ident" id="6948144">e</span><span class="op" id="6948145">[</span><span class="num" id="6948146">1</span><span class="op" id="6948147">]</span>&nbsp;<span class="op" id="6948149">!=</span>&nbsp;<span class="ident" id="6948152">result</span><span class="op" id="6948158">[</span><span class="ident" id="6948159">k</span><span class="op" id="6948160">]</span><span class="op" id="6948161">[</span><span class="num" id="6948162">1</span><span class="op" id="6948163">]</span>&nbsp;<span class="op" id="6948165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6948171">t</span><span class="op" id="6948172">.</span><span class="ident" id="6948173">Errorf</span><span class="op" id="6948179">(</span><span class="string" id="6948180">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6948214">,</span>&nbsp;<span class="ident" id="6948216">k</span><span class="op" id="6948217">,</span>&nbsp;<span class="ident" id="6948219">e</span><span class="op" id="6948220">,</span>&nbsp;<span class="ident" id="6948222">result</span><span class="op" id="6948228">[</span><span class="ident" id="6948229">k</span><span class="op" id="6948230">]</span><span class="op" id="6948231">,</span>&nbsp;<span class="ident" id="6948233">test</span><span class="op" id="6948237">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6948242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6948246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6948249">}</span><br>
<span class="lineno"></span><span class="op" id="6948251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="6948254">func</span>&nbsp;<span class="ident" id="6948259">TestFindAllIndex</span><span class="op" id="6948275">(</span><span class="ident" id="6948276">t</span>&nbsp;<span class="op" id="6948278">*</span><span class="ident" id="6948279">testing</span><span class="op" id="6948286">.</span><span class="ident" id="6948287">T</span><span class="op" id="6948288">)</span>&nbsp;<span class="op" id="6948290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6948293">for</span>&nbsp;<span class="ident" id="6948297">_</span><span class="op" id="6948298">,</span>&nbsp;<span class="ident" id="6948300">test</span>&nbsp;<span class="op" id="6948305">:=</span>&nbsp;<span class="keyword" id="6948308">range</span>&nbsp;<span class="ident" id="6948314">findTests</span>&nbsp;<span class="op" id="6948324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6948328">testFindAllIndex</span><span class="op" id="6948344">(</span><span class="op" id="6948345">&amp;</span><span class="ident" id="6948346">test</span><span class="op" id="6948350">,</span>&nbsp;<span class="ident" id="6948352">MustCompile</span><span class="op" id="6948363">(</span><span class="ident" id="6948364">test</span><span class="op" id="6948368">.</span><span class="ident" id="6948369">pat</span><span class="op" id="6948372">)</span><span class="op" id="6948373">.</span><span class="ident" id="6948374">FindAllIndex</span><span class="op" id="6948386">(</span><span class="op" id="6948387">[</span><span class="op" id="6948388">]</span><span class="builtintype" id="6948389">byte</span><span class="op" id="6948393">(</span><span class="ident" id="6948394">test</span><span class="op" id="6948398">.</span><span class="ident" id="6948399">text</span><span class="op" id="6948403">)</span><span class="op" id="6948404">,</span>&nbsp;<span class="op" id="6948406">-</span><span class="num" id="6948407">1</span><span class="op" id="6948408">)</span><span class="op" id="6948409">,</span>&nbsp;<span class="ident" id="6948411">t</span><span class="op" id="6948412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6948415">}</span><br>
<span class="lineno"></span><span class="op" id="6948417">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="6948420">func</span>&nbsp;<span class="ident" id="6948425">TestFindAllStringIndex</span><span class="op" id="6948447">(</span><span class="ident" id="6948448">t</span>&nbsp;<span class="op" id="6948450">*</span><span class="ident" id="6948451">testing</span><span class="op" id="6948458">.</span><span class="ident" id="6948459">T</span><span class="op" id="6948460">)</span>&nbsp;<span class="op" id="6948462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6948465">for</span>&nbsp;<span class="ident" id="6948469">_</span><span class="op" id="6948470">,</span>&nbsp;<span class="ident" id="6948472">test</span>&nbsp;<span class="op" id="6948477">:=</span>&nbsp;<span class="keyword" id="6948480">range</span>&nbsp;<span class="ident" id="6948486">findTests</span>&nbsp;<span class="op" id="6948496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6948500">testFindAllIndex</span><span class="op" id="6948516">(</span><span class="op" id="6948517">&amp;</span><span class="ident" id="6948518">test</span><span class="op" id="6948522">,</span>&nbsp;<span class="ident" id="6948524">MustCompile</span><span class="op" id="6948535">(</span><span class="ident" id="6948536">test</span><span class="op" id="6948540">.</span><span class="ident" id="6948541">pat</span><span class="op" id="6948544">)</span><span class="op" id="6948545">.</span><span class="ident" id="6948546">FindAllStringIndex</span><span class="op" id="6948564">(</span><span class="ident" id="6948565">test</span><span class="op" id="6948569">.</span><span class="ident" id="6948570">text</span><span class="op" id="6948574">,</span>&nbsp;<span class="op" id="6948576">-</span><span class="num" id="6948577">1</span><span class="op" id="6948578">)</span><span class="op" id="6948579">,</span>&nbsp;<span class="ident" id="6948581">t</span><span class="op" id="6948582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6948585">}</span><br>
<span class="lineno">310</span><span class="op" id="6948587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6948590">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6948623">func</span>&nbsp;<span class="ident" id="6948628">testSubmatchBytes</span><span class="op" id="6948645">(</span><span class="ident" id="6948646">test</span>&nbsp;<span class="op" id="6948651">*</span><span class="ident" id="6948652">FindTest</span><span class="op" id="6948660">,</span>&nbsp;<span class="ident" id="6948662">n</span>&nbsp;<span class="builtintype" id="6948664">int</span><span class="op" id="6948667">,</span>&nbsp;<span class="ident" id="6948669">submatches</span>&nbsp;<span class="op" id="6948680">[</span><span class="op" id="6948681">]</span><span class="builtintype" id="6948682">int</span><span class="op" id="6948685">,</span>&nbsp;<span class="ident" id="6948687">result</span>&nbsp;<span class="op" id="6948694">[</span><span class="op" id="6948695">]</span><span class="op" id="6948696">[</span><span class="op" id="6948697">]</span><span class="builtintype" id="6948698">byte</span><span class="op" id="6948702">,</span>&nbsp;<span class="ident" id="6948704">t</span>&nbsp;<span class="op" id="6948706">*</span><span class="ident" id="6948707">testing</span><span class="op" id="6948714">.</span><span class="ident" id="6948715">T</span><span class="op" id="6948716">)</span>&nbsp;<span class="op" id="6948718">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6948721">if</span>&nbsp;<span class="builtinfunc" id="6948724">len</span><span class="op" id="6948727">(</span><span class="ident" id="6948728">submatches</span><span class="op" id="6948738">)</span>&nbsp;<span class="op" id="6948740">!=</span>&nbsp;<span class="builtinfunc" id="6948743">len</span><span class="op" id="6948746">(</span><span class="ident" id="6948747">result</span><span class="op" id="6948753">)</span><span class="op" id="6948754">*</span><span class="num" id="6948755">2</span>&nbsp;<span class="op" id="6948757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6948761">t</span><span class="op" id="6948762">.</span><span class="ident" id="6948763">Errorf</span><span class="op" id="6948769">(</span><span class="string" id="6948770">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6948816">,</span>&nbsp;<span class="ident" id="6948818">n</span><span class="op" id="6948819">,</span>&nbsp;<span class="builtinfunc" id="6948821">len</span><span class="op" id="6948824">(</span><span class="ident" id="6948825">submatches</span><span class="op" id="6948835">)</span><span class="op" id="6948836">/</span><span class="num" id="6948837">2</span><span class="op" id="6948838">,</span>&nbsp;<span class="builtinfunc" id="6948840">len</span><span class="op" id="6948843">(</span><span class="ident" id="6948844">result</span><span class="op" id="6948850">)</span><span class="op" id="6948851">,</span>&nbsp;<span class="ident" id="6948853">test</span><span class="op" id="6948857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6948861">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6948869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6948872">for</span>&nbsp;<span class="ident" id="6948876">k</span>&nbsp;<span class="op" id="6948878">:=</span>&nbsp;<span class="num" id="6948881">0</span><span class="op" id="6948882">;</span>&nbsp;<span class="ident" id="6948884">k</span>&nbsp;<span class="op" id="6948886">&lt;</span>&nbsp;<span class="builtinfunc" id="6948888">len</span><span class="op" id="6948891">(</span><span class="ident" id="6948892">submatches</span><span class="op" id="6948902">)</span><span class="op" id="6948903">;</span>&nbsp;<span class="ident" id="6948905">k</span>&nbsp;<span class="op" id="6948907">+=</span>&nbsp;<span class="num" id="6948910">2</span>&nbsp;<span class="op" id="6948912">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6948916">if</span>&nbsp;<span class="ident" id="6948919">submatches</span><span class="op" id="6948929">[</span><span class="ident" id="6948930">k</span><span class="op" id="6948931">]</span>&nbsp;<span class="op" id="6948933">==</span>&nbsp;<span class="op" id="6948936">-</span><span class="num" id="6948937">1</span>&nbsp;<span class="op" id="6948939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6948944">if</span>&nbsp;<span class="ident" id="6948947">result</span><span class="op" id="6948953">[</span><span class="ident" id="6948954">k</span><span class="op" id="6948955">/</span><span class="num" id="6948956">2</span><span class="op" id="6948957">]</span>&nbsp;<span class="op" id="6948959">!=</span>&nbsp;<span class="ident" id="6948962">nil</span>&nbsp;<span class="op" id="6948966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6948972">t</span><span class="op" id="6948973">.</span><span class="ident" id="6948974">Errorf</span><span class="op" id="6948980">(</span><span class="string" id="6948981">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6949016">,</span>&nbsp;<span class="ident" id="6949018">n</span><span class="op" id="6949019">,</span>&nbsp;<span class="ident" id="6949021">result</span><span class="op" id="6949027">,</span>&nbsp;<span class="ident" id="6949029">test</span><span class="op" id="6949033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6949038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949043">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6949054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6949058">expect</span>&nbsp;<span class="op" id="6949065">:=</span>&nbsp;<span class="ident" id="6949068">test</span><span class="op" id="6949072">.</span><span class="ident" id="6949073">text</span><span class="op" id="6949077">[</span><span class="ident" id="6949078">submatches</span><span class="op" id="6949088">[</span><span class="ident" id="6949089">k</span><span class="op" id="6949090">]</span><span class="op" id="6949091">:</span><span class="ident" id="6949092">submatches</span><span class="op" id="6949102">[</span><span class="ident" id="6949103">k</span><span class="op" id="6949104">+</span><span class="num" id="6949105">1</span><span class="op" id="6949106">]</span><span class="op" id="6949107">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949111">if</span>&nbsp;<span class="ident" id="6949114">expect</span>&nbsp;<span class="op" id="6949121">!=</span>&nbsp;<span class="builtintype" id="6949124">string</span><span class="op" id="6949130">(</span><span class="ident" id="6949131">result</span><span class="op" id="6949137">[</span><span class="ident" id="6949138">k</span><span class="op" id="6949139">/</span><span class="num" id="6949140">2</span><span class="op" id="6949141">]</span><span class="op" id="6949142">)</span>&nbsp;<span class="op" id="6949144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6949149">t</span><span class="op" id="6949150">.</span><span class="ident" id="6949151">Errorf</span><span class="op" id="6949157">(</span><span class="string" id="6949158">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6949192">,</span>&nbsp;<span class="ident" id="6949194">n</span><span class="op" id="6949195">,</span>&nbsp;<span class="ident" id="6949197">expect</span><span class="op" id="6949203">,</span>&nbsp;<span class="ident" id="6949205">result</span><span class="op" id="6949211">,</span>&nbsp;<span class="ident" id="6949213">test</span><span class="op" id="6949217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949222">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6949231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6949234">}</span><br>
<span class="lineno"></span><span class="op" id="6949236">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6949239">func</span>&nbsp;<span class="ident" id="6949244">TestFindSubmatch</span><span class="op" id="6949260">(</span><span class="ident" id="6949261">t</span>&nbsp;<span class="op" id="6949263">*</span><span class="ident" id="6949264">testing</span><span class="op" id="6949271">.</span><span class="ident" id="6949272">T</span><span class="op" id="6949273">)</span>&nbsp;<span class="op" id="6949275">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949278">for</span>&nbsp;<span class="ident" id="6949282">_</span><span class="op" id="6949283">,</span>&nbsp;<span class="ident" id="6949285">test</span>&nbsp;<span class="op" id="6949290">:=</span>&nbsp;<span class="keyword" id="6949293">range</span>&nbsp;<span class="ident" id="6949299">findTests</span>&nbsp;<span class="op" id="6949309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6949313">result</span>&nbsp;<span class="op" id="6949320">:=</span>&nbsp;<span class="ident" id="6949323">MustCompile</span><span class="op" id="6949334">(</span><span class="ident" id="6949335">test</span><span class="op" id="6949339">.</span><span class="ident" id="6949340">pat</span><span class="op" id="6949343">)</span><span class="op" id="6949344">.</span><span class="ident" id="6949345">FindSubmatch</span><span class="op" id="6949357">(</span><span class="op" id="6949358">[</span><span class="op" id="6949359">]</span><span class="builtintype" id="6949360">byte</span><span class="op" id="6949364">(</span><span class="ident" id="6949365">test</span><span class="op" id="6949369">.</span><span class="ident" id="6949370">text</span><span class="op" id="6949374">)</span><span class="op" id="6949375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949379">switch</span>&nbsp;<span class="op" id="6949386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949390">case</span>&nbsp;<span class="ident" id="6949395">test</span><span class="op" id="6949399">.</span><span class="ident" id="6949400">matches</span>&nbsp;<span class="op" id="6949408">==</span>&nbsp;<span class="ident" id="6949411">nil</span>&nbsp;<span class="op" id="6949415">&amp;&amp;</span>&nbsp;<span class="ident" id="6949418">result</span>&nbsp;<span class="op" id="6949425">==</span>&nbsp;<span class="ident" id="6949428">nil</span><span class="op" id="6949431">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6949436">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949444">case</span>&nbsp;<span class="ident" id="6949449">test</span><span class="op" id="6949453">.</span><span class="ident" id="6949454">matches</span>&nbsp;<span class="op" id="6949462">==</span>&nbsp;<span class="ident" id="6949465">nil</span>&nbsp;<span class="op" id="6949469">&amp;&amp;</span>&nbsp;<span class="ident" id="6949472">result</span>&nbsp;<span class="op" id="6949479">!=</span>&nbsp;<span class="ident" id="6949482">nil</span><span class="op" id="6949485">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6949490">t</span><span class="op" id="6949491">.</span><span class="ident" id="6949492">Errorf</span><span class="op" id="6949498">(</span><span class="string" id="6949499">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6949531">,</span>&nbsp;<span class="ident" id="6949533">test</span><span class="op" id="6949537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949541">case</span>&nbsp;<span class="ident" id="6949546">test</span><span class="op" id="6949550">.</span><span class="ident" id="6949551">matches</span>&nbsp;<span class="op" id="6949559">!=</span>&nbsp;<span class="ident" id="6949562">nil</span>&nbsp;<span class="op" id="6949566">&amp;&amp;</span>&nbsp;<span class="ident" id="6949569">result</span>&nbsp;<span class="op" id="6949576">==</span>&nbsp;<span class="ident" id="6949579">nil</span><span class="op" id="6949582">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6949587">t</span><span class="op" id="6949588">.</span><span class="ident" id="6949589">Errorf</span><span class="op" id="6949595">(</span><span class="string" id="6949596">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6949626">,</span>&nbsp;<span class="ident" id="6949628">test</span><span class="op" id="6949632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949636">case</span>&nbsp;<span class="ident" id="6949641">test</span><span class="op" id="6949645">.</span><span class="ident" id="6949646">matches</span>&nbsp;<span class="op" id="6949654">!=</span>&nbsp;<span class="ident" id="6949657">nil</span>&nbsp;<span class="op" id="6949661">&amp;&amp;</span>&nbsp;<span class="ident" id="6949664">result</span>&nbsp;<span class="op" id="6949671">!=</span>&nbsp;<span class="ident" id="6949674">nil</span><span class="op" id="6949677">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6949682">testSubmatchBytes</span><span class="op" id="6949699">(</span><span class="op" id="6949700">&amp;</span><span class="ident" id="6949701">test</span><span class="op" id="6949705">,</span>&nbsp;<span class="num" id="6949707">0</span><span class="op" id="6949708">,</span>&nbsp;<span class="ident" id="6949710">test</span><span class="op" id="6949714">.</span><span class="ident" id="6949715">matches</span><span class="op" id="6949722">[</span><span class="num" id="6949723">0</span><span class="op" id="6949724">]</span><span class="op" id="6949725">,</span>&nbsp;<span class="ident" id="6949727">result</span><span class="op" id="6949733">,</span>&nbsp;<span class="ident" id="6949735">t</span><span class="op" id="6949736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6949740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6949743">}</span><br>
<span class="lineno"></span><span class="op" id="6949745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="6949748">func</span>&nbsp;<span class="ident" id="6949753">testSubmatchString</span><span class="op" id="6949771">(</span><span class="ident" id="6949772">test</span>&nbsp;<span class="op" id="6949777">*</span><span class="ident" id="6949778">FindTest</span><span class="op" id="6949786">,</span>&nbsp;<span class="ident" id="6949788">n</span>&nbsp;<span class="builtintype" id="6949790">int</span><span class="op" id="6949793">,</span>&nbsp;<span class="ident" id="6949795">submatches</span>&nbsp;<span class="op" id="6949806">[</span><span class="op" id="6949807">]</span><span class="builtintype" id="6949808">int</span><span class="op" id="6949811">,</span>&nbsp;<span class="ident" id="6949813">result</span>&nbsp;<span class="op" id="6949820">[</span><span class="op" id="6949821">]</span><span class="builtintype" id="6949822">string</span><span class="op" id="6949828">,</span>&nbsp;<span class="ident" id="6949830">t</span>&nbsp;<span class="op" id="6949832">*</span><span class="ident" id="6949833">testing</span><span class="op" id="6949840">.</span><span class="ident" id="6949841">T</span><span class="op" id="6949842">)</span>&nbsp;<span class="op" id="6949844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949847">if</span>&nbsp;<span class="builtinfunc" id="6949850">len</span><span class="op" id="6949853">(</span><span class="ident" id="6949854">submatches</span><span class="op" id="6949864">)</span>&nbsp;<span class="op" id="6949866">!=</span>&nbsp;<span class="builtinfunc" id="6949869">len</span><span class="op" id="6949872">(</span><span class="ident" id="6949873">result</span><span class="op" id="6949879">)</span><span class="op" id="6949880">*</span><span class="num" id="6949881">2</span>&nbsp;<span class="op" id="6949883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6949887">t</span><span class="op" id="6949888">.</span><span class="ident" id="6949889">Errorf</span><span class="op" id="6949895">(</span><span class="string" id="6949896">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6949942">,</span>&nbsp;<span class="ident" id="6949944">n</span><span class="op" id="6949945">,</span>&nbsp;<span class="builtinfunc" id="6949947">len</span><span class="op" id="6949950">(</span><span class="ident" id="6949951">submatches</span><span class="op" id="6949961">)</span><span class="op" id="6949962">/</span><span class="num" id="6949963">2</span><span class="op" id="6949964">,</span>&nbsp;<span class="builtinfunc" id="6949966">len</span><span class="op" id="6949969">(</span><span class="ident" id="6949970">result</span><span class="op" id="6949976">)</span><span class="op" id="6949977">,</span>&nbsp;<span class="ident" id="6949979">test</span><span class="op" id="6949983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949987">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6949995">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6949998">for</span>&nbsp;<span class="ident" id="6950002">k</span>&nbsp;<span class="op" id="6950004">:=</span>&nbsp;<span class="num" id="6950007">0</span><span class="op" id="6950008">;</span>&nbsp;<span class="ident" id="6950010">k</span>&nbsp;<span class="op" id="6950012">&lt;</span>&nbsp;<span class="builtinfunc" id="6950014">len</span><span class="op" id="6950017">(</span><span class="ident" id="6950018">submatches</span><span class="op" id="6950028">)</span><span class="op" id="6950029">;</span>&nbsp;<span class="ident" id="6950031">k</span>&nbsp;<span class="op" id="6950033">+=</span>&nbsp;<span class="num" id="6950036">2</span>&nbsp;<span class="op" id="6950038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950042">if</span>&nbsp;<span class="ident" id="6950045">submatches</span><span class="op" id="6950055">[</span><span class="ident" id="6950056">k</span><span class="op" id="6950057">]</span>&nbsp;<span class="op" id="6950059">==</span>&nbsp;<span class="op" id="6950062">-</span><span class="num" id="6950063">1</span>&nbsp;<span class="op" id="6950065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950070">if</span>&nbsp;<span class="ident" id="6950073">result</span><span class="op" id="6950079">[</span><span class="ident" id="6950080">k</span><span class="op" id="6950081">/</span><span class="num" id="6950082">2</span><span class="op" id="6950083">]</span>&nbsp;<span class="op" id="6950085">!=</span>&nbsp;<span class="string" id="6950088">&#34;&#34;</span>&nbsp;<span class="op" id="6950091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6950097">t</span><span class="op" id="6950098">.</span><span class="ident" id="6950099">Errorf</span><span class="op" id="6950105">(</span><span class="string" id="6950106">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6950141">,</span>&nbsp;<span class="ident" id="6950143">n</span><span class="op" id="6950144">,</span>&nbsp;<span class="ident" id="6950146">result</span><span class="op" id="6950152">,</span>&nbsp;<span class="ident" id="6950154">test</span><span class="op" id="6950158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6950163">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950168">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6950179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6950183">expect</span>&nbsp;<span class="op" id="6950190">:=</span>&nbsp;<span class="ident" id="6950193">test</span><span class="op" id="6950197">.</span><span class="ident" id="6950198">text</span><span class="op" id="6950202">[</span><span class="ident" id="6950203">submatches</span><span class="op" id="6950213">[</span><span class="ident" id="6950214">k</span><span class="op" id="6950215">]</span><span class="op" id="6950216">:</span><span class="ident" id="6950217">submatches</span><span class="op" id="6950227">[</span><span class="ident" id="6950228">k</span><span class="op" id="6950229">+</span><span class="num" id="6950230">1</span><span class="op" id="6950231">]</span><span class="op" id="6950232">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950236">if</span>&nbsp;<span class="ident" id="6950239">expect</span>&nbsp;<span class="op" id="6950246">!=</span>&nbsp;<span class="ident" id="6950249">result</span><span class="op" id="6950255">[</span><span class="ident" id="6950256">k</span><span class="op" id="6950257">/</span><span class="num" id="6950258">2</span><span class="op" id="6950259">]</span>&nbsp;<span class="op" id="6950261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6950266">t</span><span class="op" id="6950267">.</span><span class="ident" id="6950268">Errorf</span><span class="op" id="6950274">(</span><span class="string" id="6950275">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6950309">,</span>&nbsp;<span class="ident" id="6950311">n</span><span class="op" id="6950312">,</span>&nbsp;<span class="ident" id="6950314">expect</span><span class="op" id="6950320">,</span>&nbsp;<span class="ident" id="6950322">result</span><span class="op" id="6950328">,</span>&nbsp;<span class="ident" id="6950330">test</span><span class="op" id="6950334">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950339">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6950348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6950351">}</span><br>
<span class="lineno"></span><span class="op" id="6950353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="6950356">func</span>&nbsp;<span class="ident" id="6950361">TestFindStringSubmatch</span><span class="op" id="6950383">(</span><span class="ident" id="6950384">t</span>&nbsp;<span class="op" id="6950386">*</span><span class="ident" id="6950387">testing</span><span class="op" id="6950394">.</span><span class="ident" id="6950395">T</span><span class="op" id="6950396">)</span>&nbsp;<span class="op" id="6950398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950401">for</span>&nbsp;<span class="ident" id="6950405">_</span><span class="op" id="6950406">,</span>&nbsp;<span class="ident" id="6950408">test</span>&nbsp;<span class="op" id="6950413">:=</span>&nbsp;<span class="keyword" id="6950416">range</span>&nbsp;<span class="ident" id="6950422">findTests</span>&nbsp;<span class="op" id="6950432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6950436">result</span>&nbsp;<span class="op" id="6950443">:=</span>&nbsp;<span class="ident" id="6950446">MustCompile</span><span class="op" id="6950457">(</span><span class="ident" id="6950458">test</span><span class="op" id="6950462">.</span><span class="ident" id="6950463">pat</span><span class="op" id="6950466">)</span><span class="op" id="6950467">.</span><span class="ident" id="6950468">FindStringSubmatch</span><span class="op" id="6950486">(</span><span class="ident" id="6950487">test</span><span class="op" id="6950491">.</span><span class="ident" id="6950492">text</span><span class="op" id="6950496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950500">switch</span>&nbsp;<span class="op" id="6950507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950511">case</span>&nbsp;<span class="ident" id="6950516">test</span><span class="op" id="6950520">.</span><span class="ident" id="6950521">matches</span>&nbsp;<span class="op" id="6950529">==</span>&nbsp;<span class="ident" id="6950532">nil</span>&nbsp;<span class="op" id="6950536">&amp;&amp;</span>&nbsp;<span class="ident" id="6950539">result</span>&nbsp;<span class="op" id="6950546">==</span>&nbsp;<span class="ident" id="6950549">nil</span><span class="op" id="6950552">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6950557">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950565">case</span>&nbsp;<span class="ident" id="6950570">test</span><span class="op" id="6950574">.</span><span class="ident" id="6950575">matches</span>&nbsp;<span class="op" id="6950583">==</span>&nbsp;<span class="ident" id="6950586">nil</span>&nbsp;<span class="op" id="6950590">&amp;&amp;</span>&nbsp;<span class="ident" id="6950593">result</span>&nbsp;<span class="op" id="6950600">!=</span>&nbsp;<span class="ident" id="6950603">nil</span><span class="op" id="6950606">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6950611">t</span><span class="op" id="6950612">.</span><span class="ident" id="6950613">Errorf</span><span class="op" id="6950619">(</span><span class="string" id="6950620">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6950652">,</span>&nbsp;<span class="ident" id="6950654">test</span><span class="op" id="6950658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950662">case</span>&nbsp;<span class="ident" id="6950667">test</span><span class="op" id="6950671">.</span><span class="ident" id="6950672">matches</span>&nbsp;<span class="op" id="6950680">!=</span>&nbsp;<span class="ident" id="6950683">nil</span>&nbsp;<span class="op" id="6950687">&amp;&amp;</span>&nbsp;<span class="ident" id="6950690">result</span>&nbsp;<span class="op" id="6950697">==</span>&nbsp;<span class="ident" id="6950700">nil</span><span class="op" id="6950703">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6950708">t</span><span class="op" id="6950709">.</span><span class="ident" id="6950710">Errorf</span><span class="op" id="6950716">(</span><span class="string" id="6950717">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6950747">,</span>&nbsp;<span class="ident" id="6950749">test</span><span class="op" id="6950753">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950757">case</span>&nbsp;<span class="ident" id="6950762">test</span><span class="op" id="6950766">.</span><span class="ident" id="6950767">matches</span>&nbsp;<span class="op" id="6950775">!=</span>&nbsp;<span class="ident" id="6950778">nil</span>&nbsp;<span class="op" id="6950782">&amp;&amp;</span>&nbsp;<span class="ident" id="6950785">result</span>&nbsp;<span class="op" id="6950792">!=</span>&nbsp;<span class="ident" id="6950795">nil</span><span class="op" id="6950798">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6950803">testSubmatchString</span><span class="op" id="6950821">(</span><span class="op" id="6950822">&amp;</span><span class="ident" id="6950823">test</span><span class="op" id="6950827">,</span>&nbsp;<span class="num" id="6950829">0</span><span class="op" id="6950830">,</span>&nbsp;<span class="ident" id="6950832">test</span><span class="op" id="6950836">.</span><span class="ident" id="6950837">matches</span><span class="op" id="6950844">[</span><span class="num" id="6950845">0</span><span class="op" id="6950846">]</span><span class="op" id="6950847">,</span>&nbsp;<span class="ident" id="6950849">result</span><span class="op" id="6950855">,</span>&nbsp;<span class="ident" id="6950857">t</span><span class="op" id="6950858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6950862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6950865">}</span><br>
<span class="lineno"></span><span class="op" id="6950867">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="6950870">func</span>&nbsp;<span class="ident" id="6950875">testSubmatchIndices</span><span class="op" id="6950894">(</span><span class="ident" id="6950895">test</span>&nbsp;<span class="op" id="6950900">*</span><span class="ident" id="6950901">FindTest</span><span class="op" id="6950909">,</span>&nbsp;<span class="ident" id="6950911">n</span>&nbsp;<span class="builtintype" id="6950913">int</span><span class="op" id="6950916">,</span>&nbsp;<span class="ident" id="6950918">expect</span><span class="op" id="6950924">,</span>&nbsp;<span class="ident" id="6950926">result</span>&nbsp;<span class="op" id="6950933">[</span><span class="op" id="6950934">]</span><span class="builtintype" id="6950935">int</span><span class="op" id="6950938">,</span>&nbsp;<span class="ident" id="6950940">t</span>&nbsp;<span class="op" id="6950942">*</span><span class="ident" id="6950943">testing</span><span class="op" id="6950950">.</span><span class="ident" id="6950951">T</span><span class="op" id="6950952">)</span>&nbsp;<span class="op" id="6950954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6950957">if</span>&nbsp;<span class="builtinfunc" id="6950960">len</span><span class="op" id="6950963">(</span><span class="ident" id="6950964">expect</span><span class="op" id="6950970">)</span>&nbsp;<span class="op" id="6950972">!=</span>&nbsp;<span class="builtinfunc" id="6950975">len</span><span class="op" id="6950978">(</span><span class="ident" id="6950979">result</span><span class="op" id="6950985">)</span>&nbsp;<span class="op" id="6950987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6950991">t</span><span class="op" id="6950992">.</span><span class="ident" id="6950993">Errorf</span><span class="op" id="6950999">(</span><span class="string" id="6951000">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6951043">,</span>&nbsp;<span class="ident" id="6951045">n</span><span class="op" id="6951046">,</span>&nbsp;<span class="builtinfunc" id="6951048">len</span><span class="op" id="6951051">(</span><span class="ident" id="6951052">expect</span><span class="op" id="6951058">)</span><span class="op" id="6951059">/</span><span class="num" id="6951060">2</span><span class="op" id="6951061">,</span>&nbsp;<span class="builtinfunc" id="6951063">len</span><span class="op" id="6951066">(</span><span class="ident" id="6951067">result</span><span class="op" id="6951073">)</span><span class="op" id="6951074">/</span><span class="num" id="6951075">2</span><span class="op" id="6951076">,</span>&nbsp;<span class="ident" id="6951078">test</span><span class="op" id="6951082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6951086">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6951094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6951097">for</span>&nbsp;<span class="ident" id="6951101">k</span><span class="op" id="6951102">,</span>&nbsp;<span class="ident" id="6951104">e</span>&nbsp;<span class="op" id="6951106">:=</span>&nbsp;<span class="keyword" id="6951109">range</span>&nbsp;<span class="ident" id="6951115">expect</span>&nbsp;<span class="op" id="6951122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6951126">if</span>&nbsp;<span class="ident" id="6951129">e</span>&nbsp;<span class="op" id="6951131">!=</span>&nbsp;<span class="ident" id="6951134">result</span><span class="op" id="6951140">[</span><span class="ident" id="6951141">k</span><span class="op" id="6951142">]</span>&nbsp;<span class="op" id="6951144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6951149">t</span><span class="op" id="6951150">.</span><span class="ident" id="6951151">Errorf</span><span class="op" id="6951157">(</span><span class="string" id="6951158">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6951208">,</span>&nbsp;<span class="ident" id="6951210">n</span><span class="op" id="6951211">,</span>&nbsp;<span class="ident" id="6951213">expect</span><span class="op" id="6951219">,</span>&nbsp;<span class="ident" id="6951221">result</span><span class="op" id="6951227">,</span>&nbsp;<span class="ident" id="6951229">test</span><span class="op" id="6951233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6951237">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6951240">}</span><br>
<span class="lineno"></span><span class="op" id="6951242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6951245">func</span>&nbsp;<span class="ident" id="6951250">testFindSubmatchIndex</span><span class="op" id="6951271">(</span><span class="ident" id="6951272">test</span>&nbsp;<span class="op" id="6951277">*</span><span class="ident" id="6951278">FindTest</span><span class="op" id="6951286">,</span>&nbsp;<span class="ident" id="6951288">result</span>&nbsp;<span class="op" id="6951295">[</span><span class="op" id="6951296">]</span><span class="builtintype" id="6951297">int</span><span class="op" id="6951300">,</span>&nbsp;<span class="ident" id="6951302">t</span>&nbsp;<span class="op" id="6951304">*</span><span class="ident" id="6951305">testing</span><span class="op" id="6951312">.</span><span class="ident" id="6951313">T</span><span class="op" id="6951314">)</span>&nbsp;<span class="op" id="6951316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6951319">switch</span>&nbsp;<span class="op" id="6951326">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6951329">case</span>&nbsp;<span class="ident" id="6951334">test</span><span class="op" id="6951338">.</span><span class="ident" id="6951339">matches</span>&nbsp;<span class="op" id="6951347">==</span>&nbsp;<span class="ident" id="6951350">nil</span>&nbsp;<span class="op" id="6951354">&amp;&amp;</span>&nbsp;<span class="ident" id="6951357">result</span>&nbsp;<span class="op" id="6951364">==</span>&nbsp;<span class="ident" id="6951367">nil</span><span class="op" id="6951370">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6951374">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6951381">case</span>&nbsp;<span class="ident" id="6951386">test</span><span class="op" id="6951390">.</span><span class="ident" id="6951391">matches</span>&nbsp;<span class="op" id="6951399">==</span>&nbsp;<span class="ident" id="6951402">nil</span>&nbsp;<span class="op" id="6951406">&amp;&amp;</span>&nbsp;<span class="ident" id="6951409">result</span>&nbsp;<span class="op" id="6951416">!=</span>&nbsp;<span class="ident" id="6951419">nil</span><span class="op" id="6951422">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6951426">t</span><span class="op" id="6951427">.</span><span class="ident" id="6951428">Errorf</span><span class="op" id="6951434">(</span><span class="string" id="6951435">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6951467">,</span>&nbsp;<span class="ident" id="6951469">test</span><span class="op" id="6951473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6951476">case</span>&nbsp;<span class="ident" id="6951481">test</span><span class="op" id="6951485">.</span><span class="ident" id="6951486">matches</span>&nbsp;<span class="op" id="6951494">!=</span>&nbsp;<span class="ident" id="6951497">nil</span>&nbsp;<span class="op" id="6951501">&amp;&amp;</span>&nbsp;<span class="ident" id="6951504">result</span>&nbsp;<span class="op" id="6951511">==</span>&nbsp;<span class="ident" id="6951514">nil</span><span class="op" id="6951517">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6951521">t</span><span class="op" id="6951522">.</span><span class="ident" id="6951523">Errorf</span><span class="op" id="6951529">(</span><span class="string" id="6951530">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6951560">,</span>&nbsp;<span class="ident" id="6951562">test</span><span class="op" id="6951566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6951569">case</span>&nbsp;<span class="ident" id="6951574">test</span><span class="op" id="6951578">.</span><span class="ident" id="6951579">matches</span>&nbsp;<span class="op" id="6951587">!=</span>&nbsp;<span class="ident" id="6951590">nil</span>&nbsp;<span class="op" id="6951594">&amp;&amp;</span>&nbsp;<span class="ident" id="6951597">result</span>&nbsp;<span class="op" id="6951604">!=</span>&nbsp;<span class="ident" id="6951607">nil</span><span class="op" id="6951610">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6951614">testSubmatchIndices</span><span class="op" id="6951633">(</span><span class="ident" id="6951634">test</span><span class="op" id="6951638">,</span>&nbsp;<span class="num" id="6951640">0</span><span class="op" id="6951641">,</span>&nbsp;<span class="ident" id="6951643">test</span><span class="op" id="6951647">.</span><span class="ident" id="6951648">matches</span><span class="op" id="6951655">[</span><span class="num" id="6951656">0</span><span class="op" id="6951657">]</span><span class="op" id="6951658">,</span>&nbsp;<span class="ident" id="6951660">result</span><span class="op" id="6951666">,</span>&nbsp;<span class="ident" id="6951668">t</span><span class="op" id="6951669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6951672">}</span><br>
<span class="lineno"></span><span class="op" id="6951674">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="6951677">func</span>&nbsp;<span class="ident" id="6951682">TestFindSubmatchIndex</span><span class="op" id="6951703">(</span><span class="ident" id="6951704">t</span>&nbsp;<span class="op" id="6951706">*</span><span class="ident" id="6951707">testing</span><span class="op" id="6951714">.</span><span class="ident" id="6951715">T</span><span class="op" id="6951716">)</span>&nbsp;<span class="op" id="6951718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6951721">for</span>&nbsp;<span class="ident" id="6951725">_</span><span class="op" id="6951726">,</span>&nbsp;<span class="ident" id="6951728">test</span>&nbsp;<span class="op" id="6951733">:=</span>&nbsp;<span class="keyword" id="6951736">range</span>&nbsp;<span class="ident" id="6951742">findTests</span>&nbsp;<span class="op" id="6951752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6951756">testFindSubmatchIndex</span><span class="op" id="6951777">(</span><span class="op" id="6951778">&amp;</span><span class="ident" id="6951779">test</span><span class="op" id="6951783">,</span>&nbsp;<span class="ident" id="6951785">MustCompile</span><span class="op" id="6951796">(</span><span class="ident" id="6951797">test</span><span class="op" id="6951801">.</span><span class="ident" id="6951802">pat</span><span class="op" id="6951805">)</span><span class="op" id="6951806">.</span><span class="ident" id="6951807">FindSubmatchIndex</span><span class="op" id="6951824">(</span><span class="op" id="6951825">[</span><span class="op" id="6951826">]</span><span class="builtintype" id="6951827">byte</span><span class="op" id="6951831">(</span><span class="ident" id="6951832">test</span><span class="op" id="6951836">.</span><span class="ident" id="6951837">text</span><span class="op" id="6951841">)</span><span class="op" id="6951842">)</span><span class="op" id="6951843">,</span>&nbsp;<span class="ident" id="6951845">t</span><span class="op" id="6951846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6951849">}</span><br>
<span class="lineno">415</span><span class="op" id="6951851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6951854">func</span>&nbsp;<span class="ident" id="6951859">TestFindStringSubmatchIndex</span><span class="op" id="6951886">(</span><span class="ident" id="6951887">t</span>&nbsp;<span class="op" id="6951889">*</span><span class="ident" id="6951890">testing</span><span class="op" id="6951897">.</span><span class="ident" id="6951898">T</span><span class="op" id="6951899">)</span>&nbsp;<span class="op" id="6951901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6951904">for</span>&nbsp;<span class="ident" id="6951908">_</span><span class="op" id="6951909">,</span>&nbsp;<span class="ident" id="6951911">test</span>&nbsp;<span class="op" id="6951916">:=</span>&nbsp;<span class="keyword" id="6951919">range</span>&nbsp;<span class="ident" id="6951925">findTests</span>&nbsp;<span class="op" id="6951935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6951939">testFindSubmatchIndex</span><span class="op" id="6951960">(</span><span class="op" id="6951961">&amp;</span><span class="ident" id="6951962">test</span><span class="op" id="6951966">,</span>&nbsp;<span class="ident" id="6951968">MustCompile</span><span class="op" id="6951979">(</span><span class="ident" id="6951980">test</span><span class="op" id="6951984">.</span><span class="ident" id="6951985">pat</span><span class="op" id="6951988">)</span><span class="op" id="6951989">.</span><span class="ident" id="6951990">FindStringSubmatchIndex</span><span class="op" id="6952013">(</span><span class="ident" id="6952014">test</span><span class="op" id="6952018">.</span><span class="ident" id="6952019">text</span><span class="op" id="6952023">)</span><span class="op" id="6952024">,</span>&nbsp;<span class="ident" id="6952026">t</span><span class="op" id="6952027">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6952030">}</span><br>
<span class="lineno"></span><span class="op" id="6952032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6952035">func</span>&nbsp;<span class="ident" id="6952040">TestFindReaderSubmatchIndex</span><span class="op" id="6952067">(</span><span class="ident" id="6952068">t</span>&nbsp;<span class="op" id="6952070">*</span><span class="ident" id="6952071">testing</span><span class="op" id="6952078">.</span><span class="ident" id="6952079">T</span><span class="op" id="6952080">)</span>&nbsp;<span class="op" id="6952082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6952085">for</span>&nbsp;<span class="ident" id="6952089">_</span><span class="op" id="6952090">,</span>&nbsp;<span class="ident" id="6952092">test</span>&nbsp;<span class="op" id="6952097">:=</span>&nbsp;<span class="keyword" id="6952100">range</span>&nbsp;<span class="ident" id="6952106">findTests</span>&nbsp;<span class="op" id="6952116">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6952120">testFindSubmatchIndex</span><span class="op" id="6952141">(</span><span class="op" id="6952142">&amp;</span><span class="ident" id="6952143">test</span><span class="op" id="6952147">,</span>&nbsp;<span class="ident" id="6952149">MustCompile</span><span class="op" id="6952160">(</span><span class="ident" id="6952161">test</span><span class="op" id="6952165">.</span><span class="ident" id="6952166">pat</span><span class="op" id="6952169">)</span><span class="op" id="6952170">.</span><span class="ident" id="6952171">FindReaderSubmatchIndex</span><span class="op" id="6952194">(</span><span class="ident" id="6952195">strings</span><span class="op" id="6952202">.</span><span class="ident" id="6952203">NewReader</span><span class="op" id="6952212">(</span><span class="ident" id="6952213">test</span><span class="op" id="6952217">.</span><span class="ident" id="6952218">text</span><span class="op" id="6952222">)</span><span class="op" id="6952223">)</span><span class="op" id="6952224">,</span>&nbsp;<span class="ident" id="6952226">t</span><span class="op" id="6952227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6952230">}</span><br>
<span class="lineno"></span><span class="op" id="6952232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6952235">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="6952279">func</span>&nbsp;<span class="ident" id="6952284">TestFindAllSubmatch</span><span class="op" id="6952303">(</span><span class="ident" id="6952304">t</span>&nbsp;<span class="op" id="6952306">*</span><span class="ident" id="6952307">testing</span><span class="op" id="6952314">.</span><span class="ident" id="6952315">T</span><span class="op" id="6952316">)</span>&nbsp;<span class="op" id="6952318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6952321">for</span>&nbsp;<span class="ident" id="6952325">_</span><span class="op" id="6952326">,</span>&nbsp;<span class="ident" id="6952328">test</span>&nbsp;<span class="op" id="6952333">:=</span>&nbsp;<span class="keyword" id="6952336">range</span>&nbsp;<span class="ident" id="6952342">findTests</span>&nbsp;<span class="op" id="6952352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6952356">result</span>&nbsp;<span class="op" id="6952363">:=</span>&nbsp;<span class="ident" id="6952366">MustCompile</span><span class="op" id="6952377">(</span><span class="ident" id="6952378">test</span><span class="op" id="6952382">.</span><span class="ident" id="6952383">pat</span><span class="op" id="6952386">)</span><span class="op" id="6952387">.</span><span class="ident" id="6952388">FindAllSubmatch</span><span class="op" id="6952403">(</span><span class="op" id="6952404">[</span><span class="op" id="6952405">]</span><span class="builtintype" id="6952406">byte</span><span class="op" id="6952410">(</span><span class="ident" id="6952411">test</span><span class="op" id="6952415">.</span><span class="ident" id="6952416">text</span><span class="op" id="6952420">)</span><span class="op" id="6952421">,</span>&nbsp;<span class="op" id="6952423">-</span><span class="num" id="6952424">1</span><span class="op" id="6952425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6952429">switch</span>&nbsp;<span class="op" id="6952436">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6952440">case</span>&nbsp;<span class="ident" id="6952445">test</span><span class="op" id="6952449">.</span><span class="ident" id="6952450">matches</span>&nbsp;<span class="op" id="6952458">==</span>&nbsp;<span class="ident" id="6952461">nil</span>&nbsp;<span class="op" id="6952465">&amp;&amp;</span>&nbsp;<span class="ident" id="6952468">result</span>&nbsp;<span class="op" id="6952475">==</span>&nbsp;<span class="ident" id="6952478">nil</span><span class="op" id="6952481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6952486">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6952494">case</span>&nbsp;<span class="ident" id="6952499">test</span><span class="op" id="6952503">.</span><span class="ident" id="6952504">matches</span>&nbsp;<span class="op" id="6952512">==</span>&nbsp;<span class="ident" id="6952515">nil</span>&nbsp;<span class="op" id="6952519">&amp;&amp;</span>&nbsp;<span class="ident" id="6952522">result</span>&nbsp;<span class="op" id="6952529">!=</span>&nbsp;<span class="ident" id="6952532">nil</span><span class="op" id="6952535">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6952540">t</span><span class="op" id="6952541">.</span><span class="ident" id="6952542">Errorf</span><span class="op" id="6952548">(</span><span class="string" id="6952549">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6952581">,</span>&nbsp;<span class="ident" id="6952583">test</span><span class="op" id="6952587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6952591">case</span>&nbsp;<span class="ident" id="6952596">test</span><span class="op" id="6952600">.</span><span class="ident" id="6952601">matches</span>&nbsp;<span class="op" id="6952609">!=</span>&nbsp;<span class="ident" id="6952612">nil</span>&nbsp;<span class="op" id="6952616">&amp;&amp;</span>&nbsp;<span class="ident" id="6952619">result</span>&nbsp;<span class="op" id="6952626">==</span>&nbsp;<span class="ident" id="6952629">nil</span><span class="op" id="6952632">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6952637">t</span><span class="op" id="6952638">.</span><span class="ident" id="6952639">Errorf</span><span class="op" id="6952645">(</span><span class="string" id="6952646">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6952676">,</span>&nbsp;<span class="ident" id="6952678">test</span><span class="op" id="6952682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6952686">case</span>&nbsp;<span class="builtinfunc" id="6952691">len</span><span class="op" id="6952694">(</span><span class="ident" id="6952695">test</span><span class="op" id="6952699">.</span><span class="ident" id="6952700">matches</span><span class="op" id="6952707">)</span>&nbsp;<span class="op" id="6952709">!=</span>&nbsp;<span class="builtinfunc" id="6952712">len</span><span class="op" id="6952715">(</span><span class="ident" id="6952716">result</span><span class="op" id="6952722">)</span><span class="op" id="6952723">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6952728">t</span><span class="op" id="6952729">.</span><span class="ident" id="6952730">Errorf</span><span class="op" id="6952736">(</span><span class="string" id="6952737">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6952770">,</span>&nbsp;<span class="builtinfunc" id="6952772">len</span><span class="op" id="6952775">(</span><span class="ident" id="6952776">test</span><span class="op" id="6952780">.</span><span class="ident" id="6952781">matches</span><span class="op" id="6952788">)</span><span class="op" id="6952789">,</span>&nbsp;<span class="builtinfunc" id="6952791">len</span><span class="op" id="6952794">(</span><span class="ident" id="6952795">result</span><span class="op" id="6952801">)</span><span class="op" id="6952802">,</span>&nbsp;<span class="ident" id="6952804">test</span><span class="op" id="6952808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6952812">case</span>&nbsp;<span class="ident" id="6952817">test</span><span class="op" id="6952821">.</span><span class="ident" id="6952822">matches</span>&nbsp;<span class="op" id="6952830">!=</span>&nbsp;<span class="ident" id="6952833">nil</span>&nbsp;<span class="op" id="6952837">&amp;&amp;</span>&nbsp;<span class="ident" id="6952840">result</span>&nbsp;<span class="op" id="6952847">!=</span>&nbsp;<span class="ident" id="6952850">nil</span><span class="op" id="6952853">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6952858">for</span>&nbsp;<span class="ident" id="6952862">k</span><span class="op" id="6952863">,</span>&nbsp;<span class="ident" id="6952865">match</span>&nbsp;<span class="op" id="6952871">:=</span>&nbsp;<span class="keyword" id="6952874">range</span>&nbsp;<span class="ident" id="6952880">test</span><span class="op" id="6952884">.</span><span class="ident" id="6952885">matches</span>&nbsp;<span class="op" id="6952893">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6952899">testSubmatchBytes</span><span class="op" id="6952916">(</span><span class="op" id="6952917">&amp;</span><span class="ident" id="6952918">test</span><span class="op" id="6952922">,</span>&nbsp;<span class="ident" id="6952924">k</span><span class="op" id="6952925">,</span>&nbsp;<span class="ident" id="6952927">match</span><span class="op" id="6952932">,</span>&nbsp;<span class="ident" id="6952934">result</span><span class="op" id="6952940">[</span><span class="ident" id="6952941">k</span><span class="op" id="6952942">]</span><span class="op" id="6952943">,</span>&nbsp;<span class="ident" id="6952945">t</span><span class="op" id="6952946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6952951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6952955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6952958">}</span><br>
<span class="lineno"></span><span class="op" id="6952960">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="6952963">func</span>&nbsp;<span class="ident" id="6952968">TestFindAllStringSubmatch</span><span class="op" id="6952993">(</span><span class="ident" id="6952994">t</span>&nbsp;<span class="op" id="6952996">*</span><span class="ident" id="6952997">testing</span><span class="op" id="6953004">.</span><span class="ident" id="6953005">T</span><span class="op" id="6953006">)</span>&nbsp;<span class="op" id="6953008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953011">for</span>&nbsp;<span class="ident" id="6953015">_</span><span class="op" id="6953016">,</span>&nbsp;<span class="ident" id="6953018">test</span>&nbsp;<span class="op" id="6953023">:=</span>&nbsp;<span class="keyword" id="6953026">range</span>&nbsp;<span class="ident" id="6953032">findTests</span>&nbsp;<span class="op" id="6953042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6953046">result</span>&nbsp;<span class="op" id="6953053">:=</span>&nbsp;<span class="ident" id="6953056">MustCompile</span><span class="op" id="6953067">(</span><span class="ident" id="6953068">test</span><span class="op" id="6953072">.</span><span class="ident" id="6953073">pat</span><span class="op" id="6953076">)</span><span class="op" id="6953077">.</span><span class="ident" id="6953078">FindAllStringSubmatch</span><span class="op" id="6953099">(</span><span class="ident" id="6953100">test</span><span class="op" id="6953104">.</span><span class="ident" id="6953105">text</span><span class="op" id="6953109">,</span>&nbsp;<span class="op" id="6953111">-</span><span class="num" id="6953112">1</span><span class="op" id="6953113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953117">switch</span>&nbsp;<span class="op" id="6953124">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953128">case</span>&nbsp;<span class="ident" id="6953133">test</span><span class="op" id="6953137">.</span><span class="ident" id="6953138">matches</span>&nbsp;<span class="op" id="6953146">==</span>&nbsp;<span class="ident" id="6953149">nil</span>&nbsp;<span class="op" id="6953153">&amp;&amp;</span>&nbsp;<span class="ident" id="6953156">result</span>&nbsp;<span class="op" id="6953163">==</span>&nbsp;<span class="ident" id="6953166">nil</span><span class="op" id="6953169">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6953174">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953182">case</span>&nbsp;<span class="ident" id="6953187">test</span><span class="op" id="6953191">.</span><span class="ident" id="6953192">matches</span>&nbsp;<span class="op" id="6953200">==</span>&nbsp;<span class="ident" id="6953203">nil</span>&nbsp;<span class="op" id="6953207">&amp;&amp;</span>&nbsp;<span class="ident" id="6953210">result</span>&nbsp;<span class="op" id="6953217">!=</span>&nbsp;<span class="ident" id="6953220">nil</span><span class="op" id="6953223">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6953228">t</span><span class="op" id="6953229">.</span><span class="ident" id="6953230">Errorf</span><span class="op" id="6953236">(</span><span class="string" id="6953237">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6953269">,</span>&nbsp;<span class="ident" id="6953271">test</span><span class="op" id="6953275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953279">case</span>&nbsp;<span class="ident" id="6953284">test</span><span class="op" id="6953288">.</span><span class="ident" id="6953289">matches</span>&nbsp;<span class="op" id="6953297">!=</span>&nbsp;<span class="ident" id="6953300">nil</span>&nbsp;<span class="op" id="6953304">&amp;&amp;</span>&nbsp;<span class="ident" id="6953307">result</span>&nbsp;<span class="op" id="6953314">==</span>&nbsp;<span class="ident" id="6953317">nil</span><span class="op" id="6953320">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6953325">t</span><span class="op" id="6953326">.</span><span class="ident" id="6953327">Errorf</span><span class="op" id="6953333">(</span><span class="string" id="6953334">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6953364">,</span>&nbsp;<span class="ident" id="6953366">test</span><span class="op" id="6953370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953374">case</span>&nbsp;<span class="builtinfunc" id="6953379">len</span><span class="op" id="6953382">(</span><span class="ident" id="6953383">test</span><span class="op" id="6953387">.</span><span class="ident" id="6953388">matches</span><span class="op" id="6953395">)</span>&nbsp;<span class="op" id="6953397">!=</span>&nbsp;<span class="builtinfunc" id="6953400">len</span><span class="op" id="6953403">(</span><span class="ident" id="6953404">result</span><span class="op" id="6953410">)</span><span class="op" id="6953411">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6953416">t</span><span class="op" id="6953417">.</span><span class="ident" id="6953418">Errorf</span><span class="op" id="6953424">(</span><span class="string" id="6953425">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6953458">,</span>&nbsp;<span class="builtinfunc" id="6953460">len</span><span class="op" id="6953463">(</span><span class="ident" id="6953464">test</span><span class="op" id="6953468">.</span><span class="ident" id="6953469">matches</span><span class="op" id="6953476">)</span><span class="op" id="6953477">,</span>&nbsp;<span class="builtinfunc" id="6953479">len</span><span class="op" id="6953482">(</span><span class="ident" id="6953483">result</span><span class="op" id="6953489">)</span><span class="op" id="6953490">,</span>&nbsp;<span class="ident" id="6953492">test</span><span class="op" id="6953496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953500">case</span>&nbsp;<span class="ident" id="6953505">test</span><span class="op" id="6953509">.</span><span class="ident" id="6953510">matches</span>&nbsp;<span class="op" id="6953518">!=</span>&nbsp;<span class="ident" id="6953521">nil</span>&nbsp;<span class="op" id="6953525">&amp;&amp;</span>&nbsp;<span class="ident" id="6953528">result</span>&nbsp;<span class="op" id="6953535">!=</span>&nbsp;<span class="ident" id="6953538">nil</span><span class="op" id="6953541">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953546">for</span>&nbsp;<span class="ident" id="6953550">k</span><span class="op" id="6953551">,</span>&nbsp;<span class="ident" id="6953553">match</span>&nbsp;<span class="op" id="6953559">:=</span>&nbsp;<span class="keyword" id="6953562">range</span>&nbsp;<span class="ident" id="6953568">test</span><span class="op" id="6953572">.</span><span class="ident" id="6953573">matches</span>&nbsp;<span class="op" id="6953581">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6953587">testSubmatchString</span><span class="op" id="6953605">(</span><span class="op" id="6953606">&amp;</span><span class="ident" id="6953607">test</span><span class="op" id="6953611">,</span>&nbsp;<span class="ident" id="6953613">k</span><span class="op" id="6953614">,</span>&nbsp;<span class="ident" id="6953616">match</span><span class="op" id="6953621">,</span>&nbsp;<span class="ident" id="6953623">result</span><span class="op" id="6953629">[</span><span class="ident" id="6953630">k</span><span class="op" id="6953631">]</span><span class="op" id="6953632">,</span>&nbsp;<span class="ident" id="6953634">t</span><span class="op" id="6953635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6953640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6953644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6953647">}</span><br>
<span class="lineno"></span><span class="op" id="6953649">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="6953652">func</span>&nbsp;<span class="ident" id="6953657">testFindAllSubmatchIndex</span><span class="op" id="6953681">(</span><span class="ident" id="6953682">test</span>&nbsp;<span class="op" id="6953687">*</span><span class="ident" id="6953688">FindTest</span><span class="op" id="6953696">,</span>&nbsp;<span class="ident" id="6953698">result</span>&nbsp;<span class="op" id="6953705">[</span><span class="op" id="6953706">]</span><span class="op" id="6953707">[</span><span class="op" id="6953708">]</span><span class="builtintype" id="6953709">int</span><span class="op" id="6953712">,</span>&nbsp;<span class="ident" id="6953714">t</span>&nbsp;<span class="op" id="6953716">*</span><span class="ident" id="6953717">testing</span><span class="op" id="6953724">.</span><span class="ident" id="6953725">T</span><span class="op" id="6953726">)</span>&nbsp;<span class="op" id="6953728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953731">switch</span>&nbsp;<span class="op" id="6953738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953741">case</span>&nbsp;<span class="ident" id="6953746">test</span><span class="op" id="6953750">.</span><span class="ident" id="6953751">matches</span>&nbsp;<span class="op" id="6953759">==</span>&nbsp;<span class="ident" id="6953762">nil</span>&nbsp;<span class="op" id="6953766">&amp;&amp;</span>&nbsp;<span class="ident" id="6953769">result</span>&nbsp;<span class="op" id="6953776">==</span>&nbsp;<span class="ident" id="6953779">nil</span><span class="op" id="6953782">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6953786">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953793">case</span>&nbsp;<span class="ident" id="6953798">test</span><span class="op" id="6953802">.</span><span class="ident" id="6953803">matches</span>&nbsp;<span class="op" id="6953811">==</span>&nbsp;<span class="ident" id="6953814">nil</span>&nbsp;<span class="op" id="6953818">&amp;&amp;</span>&nbsp;<span class="ident" id="6953821">result</span>&nbsp;<span class="op" id="6953828">!=</span>&nbsp;<span class="ident" id="6953831">nil</span><span class="op" id="6953834">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6953838">t</span><span class="op" id="6953839">.</span><span class="ident" id="6953840">Errorf</span><span class="op" id="6953846">(</span><span class="string" id="6953847">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6953879">,</span>&nbsp;<span class="ident" id="6953881">test</span><span class="op" id="6953885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953888">case</span>&nbsp;<span class="ident" id="6953893">test</span><span class="op" id="6953897">.</span><span class="ident" id="6953898">matches</span>&nbsp;<span class="op" id="6953906">!=</span>&nbsp;<span class="ident" id="6953909">nil</span>&nbsp;<span class="op" id="6953913">&amp;&amp;</span>&nbsp;<span class="ident" id="6953916">result</span>&nbsp;<span class="op" id="6953923">==</span>&nbsp;<span class="ident" id="6953926">nil</span><span class="op" id="6953929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6953933">t</span><span class="op" id="6953934">.</span><span class="ident" id="6953935">Errorf</span><span class="op" id="6953941">(</span><span class="string" id="6953942">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6953972">,</span>&nbsp;<span class="ident" id="6953974">test</span><span class="op" id="6953978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6953981">case</span>&nbsp;<span class="builtinfunc" id="6953986">len</span><span class="op" id="6953989">(</span><span class="ident" id="6953990">test</span><span class="op" id="6953994">.</span><span class="ident" id="6953995">matches</span><span class="op" id="6954002">)</span>&nbsp;<span class="op" id="6954004">!=</span>&nbsp;<span class="builtinfunc" id="6954007">len</span><span class="op" id="6954010">(</span><span class="ident" id="6954011">result</span><span class="op" id="6954017">)</span><span class="op" id="6954018">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6954022">t</span><span class="op" id="6954023">.</span><span class="ident" id="6954024">Errorf</span><span class="op" id="6954030">(</span><span class="string" id="6954031">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6954064">,</span>&nbsp;<span class="builtinfunc" id="6954066">len</span><span class="op" id="6954069">(</span><span class="ident" id="6954070">test</span><span class="op" id="6954074">.</span><span class="ident" id="6954075">matches</span><span class="op" id="6954082">)</span><span class="op" id="6954083">,</span>&nbsp;<span class="builtinfunc" id="6954085">len</span><span class="op" id="6954088">(</span><span class="ident" id="6954089">result</span><span class="op" id="6954095">)</span><span class="op" id="6954096">,</span>&nbsp;<span class="ident" id="6954098">test</span><span class="op" id="6954102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6954105">case</span>&nbsp;<span class="ident" id="6954110">test</span><span class="op" id="6954114">.</span><span class="ident" id="6954115">matches</span>&nbsp;<span class="op" id="6954123">!=</span>&nbsp;<span class="ident" id="6954126">nil</span>&nbsp;<span class="op" id="6954130">&amp;&amp;</span>&nbsp;<span class="ident" id="6954133">result</span>&nbsp;<span class="op" id="6954140">!=</span>&nbsp;<span class="ident" id="6954143">nil</span><span class="op" id="6954146">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6954150">for</span>&nbsp;<span class="ident" id="6954154">k</span><span class="op" id="6954155">,</span>&nbsp;<span class="ident" id="6954157">match</span>&nbsp;<span class="op" id="6954163">:=</span>&nbsp;<span class="keyword" id="6954166">range</span>&nbsp;<span class="ident" id="6954172">test</span><span class="op" id="6954176">.</span><span class="ident" id="6954177">matches</span>&nbsp;<span class="op" id="6954185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6954190">testSubmatchIndices</span><span class="op" id="6954209">(</span><span class="ident" id="6954210">test</span><span class="op" id="6954214">,</span>&nbsp;<span class="ident" id="6954216">k</span><span class="op" id="6954217">,</span>&nbsp;<span class="ident" id="6954219">match</span><span class="op" id="6954224">,</span>&nbsp;<span class="ident" id="6954226">result</span><span class="op" id="6954232">[</span><span class="ident" id="6954233">k</span><span class="op" id="6954234">]</span><span class="op" id="6954235">,</span>&nbsp;<span class="ident" id="6954237">t</span><span class="op" id="6954238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6954242">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6954245">}</span><br>
<span class="lineno"></span><span class="op" id="6954247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6954250">func</span>&nbsp;<span class="ident" id="6954255">TestFindAllSubmatchIndex</span><span class="op" id="6954279">(</span><span class="ident" id="6954280">t</span>&nbsp;<span class="op" id="6954282">*</span><span class="ident" id="6954283">testing</span><span class="op" id="6954290">.</span><span class="ident" id="6954291">T</span><span class="op" id="6954292">)</span>&nbsp;<span class="op" id="6954294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6954297">for</span>&nbsp;<span class="ident" id="6954301">_</span><span class="op" id="6954302">,</span>&nbsp;<span class="ident" id="6954304">test</span>&nbsp;<span class="op" id="6954309">:=</span>&nbsp;<span class="keyword" id="6954312">range</span>&nbsp;<span class="ident" id="6954318">findTests</span>&nbsp;<span class="op" id="6954328">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6954332">testFindAllSubmatchIndex</span><span class="op" id="6954356">(</span><span class="op" id="6954357">&amp;</span><span class="ident" id="6954358">test</span><span class="op" id="6954362">,</span>&nbsp;<span class="ident" id="6954364">MustCompile</span><span class="op" id="6954375">(</span><span class="ident" id="6954376">test</span><span class="op" id="6954380">.</span><span class="ident" id="6954381">pat</span><span class="op" id="6954384">)</span><span class="op" id="6954385">.</span><span class="ident" id="6954386">FindAllSubmatchIndex</span><span class="op" id="6954406">(</span><span class="op" id="6954407">[</span><span class="op" id="6954408">]</span><span class="builtintype" id="6954409">byte</span><span class="op" id="6954413">(</span><span class="ident" id="6954414">test</span><span class="op" id="6954418">.</span><span class="ident" id="6954419">text</span><span class="op" id="6954423">)</span><span class="op" id="6954424">,</span>&nbsp;<span class="op" id="6954426">-</span><span class="num" id="6954427">1</span><span class="op" id="6954428">)</span><span class="op" id="6954429">,</span>&nbsp;<span class="ident" id="6954431">t</span><span class="op" id="6954432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6954435">}</span><br>
<span class="lineno"></span><span class="op" id="6954437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6954440">func</span>&nbsp;<span class="ident" id="6954445">TestFindAllStringSubmatchIndex</span><span class="op" id="6954475">(</span><span class="ident" id="6954476">t</span>&nbsp;<span class="op" id="6954478">*</span><span class="ident" id="6954479">testing</span><span class="op" id="6954486">.</span><span class="ident" id="6954487">T</span><span class="op" id="6954488">)</span>&nbsp;<span class="op" id="6954490">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6954493">for</span>&nbsp;<span class="ident" id="6954497">_</span><span class="op" id="6954498">,</span>&nbsp;<span class="ident" id="6954500">test</span>&nbsp;<span class="op" id="6954505">:=</span>&nbsp;<span class="keyword" id="6954508">range</span>&nbsp;<span class="ident" id="6954514">findTests</span>&nbsp;<span class="op" id="6954524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6954528">testFindAllSubmatchIndex</span><span class="op" id="6954552">(</span><span class="op" id="6954553">&amp;</span><span class="ident" id="6954554">test</span><span class="op" id="6954558">,</span>&nbsp;<span class="ident" id="6954560">MustCompile</span><span class="op" id="6954571">(</span><span class="ident" id="6954572">test</span><span class="op" id="6954576">.</span><span class="ident" id="6954577">pat</span><span class="op" id="6954580">)</span><span class="op" id="6954581">.</span><span class="ident" id="6954582">FindAllStringSubmatchIndex</span><span class="op" id="6954608">(</span><span class="ident" id="6954609">test</span><span class="op" id="6954613">.</span><span class="ident" id="6954614">text</span><span class="op" id="6954618">,</span>&nbsp;<span class="op" id="6954620">-</span><span class="num" id="6954621">1</span><span class="op" id="6954622">)</span><span class="op" id="6954623">,</span>&nbsp;<span class="ident" id="6954625">t</span><span class="op" id="6954626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6954629">}</span><br>
<span class="lineno"></span><span class="op" id="6954631">}</span>
</div>
</body>
</html>
