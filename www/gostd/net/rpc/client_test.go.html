<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8376332">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8376387">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8376441">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8376492">package</span>&nbsp;<span class="ident" id="8376500">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8376505">import</span>&nbsp;<span class="op" id="8376512">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376515">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376525">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376532">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376539">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376550">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376561">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8376571">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8376574">type</span>&nbsp;<span class="ident" id="8376579">shutdownCodec</span>&nbsp;<span class="keyword" id="8376593">struct</span>&nbsp;<span class="op" id="8376600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376603">responded</span>&nbsp;<span class="keyword" id="8376613">chan</span>&nbsp;<span class="builtintype" id="8376618">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376623">closed</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8376633">bool</span><br>
<span class="lineno"></span><span class="op" id="8376638">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8376641">func</span>&nbsp;<span class="op" id="8376646">(</span><span class="ident" id="8376647">c</span>&nbsp;<span class="op" id="8376649">*</span><span class="ident" id="8376650">shutdownCodec</span><span class="op" id="8376663">)</span>&nbsp;<span class="ident" id="8376665">WriteRequest</span><span class="op" id="8376677">(</span><span class="op" id="8376678">*</span><span class="ident" id="8376679">Request</span><span class="op" id="8376686">,</span>&nbsp;<span class="keyword" id="8376688">interface</span><span class="op" id="8376697">{</span><span class="op" id="8376698">}</span><span class="op" id="8376699">)</span>&nbsp;<span class="builtintype" id="8376701">error</span>&nbsp;<span class="op" id="8376707">{</span>&nbsp;<span class="keyword" id="8376709">return</span>&nbsp;<span class="ident" id="8376716">nil</span>&nbsp;<span class="op" id="8376720">}</span><br>
<span class="lineno"></span><span class="keyword" id="8376722">func</span>&nbsp;<span class="op" id="8376727">(</span><span class="ident" id="8376728">c</span>&nbsp;<span class="op" id="8376730">*</span><span class="ident" id="8376731">shutdownCodec</span><span class="op" id="8376744">)</span>&nbsp;<span class="ident" id="8376746">ReadResponseBody</span><span class="op" id="8376762">(</span><span class="keyword" id="8376763">interface</span><span class="op" id="8376772">{</span><span class="op" id="8376773">}</span><span class="op" id="8376774">)</span>&nbsp;<span class="builtintype" id="8376776">error</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376788">{</span>&nbsp;<span class="keyword" id="8376790">return</span>&nbsp;<span class="ident" id="8376797">nil</span>&nbsp;<span class="op" id="8376801">}</span><br>
<span class="lineno"></span><span class="keyword" id="8376803">func</span>&nbsp;<span class="op" id="8376808">(</span><span class="ident" id="8376809">c</span>&nbsp;<span class="op" id="8376811">*</span><span class="ident" id="8376812">shutdownCodec</span><span class="op" id="8376825">)</span>&nbsp;<span class="ident" id="8376827">ReadResponseHeader</span><span class="op" id="8376845">(</span><span class="op" id="8376846">*</span><span class="ident" id="8376847">Response</span><span class="op" id="8376855">)</span>&nbsp;<span class="builtintype" id="8376857">error</span>&nbsp;<span class="op" id="8376863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376866">c</span><span class="op" id="8376867">.</span><span class="ident" id="8376868">responded</span>&nbsp;<span class="op" id="8376878">&lt;-</span>&nbsp;<span class="num" id="8376881">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8376884">return</span>&nbsp;<span class="ident" id="8376891">errors</span><span class="op" id="8376897">.</span><span class="ident" id="8376898">New</span><span class="op" id="8376901">(</span><span class="string" id="8376902">&#34;shutdownCodec&nbsp;ReadResponseHeader&#34;</span><span class="op" id="8376936">)</span><br>
<span class="lineno"></span><span class="op" id="8376938">}</span><br>
<span class="lineno"></span><span class="keyword" id="8376940">func</span>&nbsp;<span class="op" id="8376945">(</span><span class="ident" id="8376946">c</span>&nbsp;<span class="op" id="8376948">*</span><span class="ident" id="8376949">shutdownCodec</span><span class="op" id="8376962">)</span>&nbsp;<span class="ident" id="8376964">Close</span><span class="op" id="8376969">(</span><span class="op" id="8376970">)</span>&nbsp;<span class="builtintype" id="8376972">error</span>&nbsp;<span class="op" id="8376978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376981">c</span><span class="op" id="8376982">.</span><span class="ident" id="8376983">closed</span>&nbsp;<span class="op" id="8376990">=</span>&nbsp;<span class="builtintype" id="8376992">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8376998">return</span>&nbsp;<span class="ident" id="8377005">nil</span><br>
<span class="lineno">30</span><span class="op" id="8377009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8377012">func</span>&nbsp;<span class="ident" id="8377017">TestCloseCodec</span><span class="op" id="8377031">(</span><span class="ident" id="8377032">t</span>&nbsp;<span class="op" id="8377034">*</span><span class="ident" id="8377035">testing</span><span class="op" id="8377042">.</span><span class="ident" id="8377043">T</span><span class="op" id="8377044">)</span>&nbsp;<span class="op" id="8377046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377049">codec</span>&nbsp;<span class="op" id="8377055">:=</span>&nbsp;<span class="op" id="8377058">&amp;</span><span class="ident" id="8377059">shutdownCodec</span><span class="op" id="8377072">{</span><span class="ident" id="8377073">responded</span><span class="op" id="8377082">:</span>&nbsp;<span class="builtinfunc" id="8377084">make</span><span class="op" id="8377088">(</span><span class="keyword" id="8377089">chan</span>&nbsp;<span class="builtintype" id="8377094">int</span><span class="op" id="8377097">)</span><span class="op" id="8377098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377101">client</span>&nbsp;<span class="op" id="8377108">:=</span>&nbsp;<span class="ident" id="8377111">NewClientWithCodec</span><span class="op" id="8377129">(</span><span class="ident" id="8377130">codec</span><span class="op" id="8377135">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377138">&lt;-</span><span class="ident" id="8377140">codec</span><span class="op" id="8377145">.</span><span class="ident" id="8377146">responded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377157">client</span><span class="op" id="8377163">.</span><span class="ident" id="8377164">Close</span><span class="op" id="8377169">(</span><span class="op" id="8377170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8377173">if</span>&nbsp;<span class="op" id="8377176">!</span><span class="ident" id="8377177">codec</span><span class="op" id="8377182">.</span><span class="ident" id="8377183">closed</span>&nbsp;<span class="op" id="8377190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377194">t</span><span class="op" id="8377195">.</span><span class="ident" id="8377196">Error</span><span class="op" id="8377201">(</span><span class="string" id="8377202">&#34;client.Close&nbsp;did&nbsp;not&nbsp;close&nbsp;codec&#34;</span><span class="op" id="8377236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377239">}</span><br>
<span class="lineno">40</span><span class="op" id="8377241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8377244">//&nbsp;Test&nbsp;that&nbsp;errors&nbsp;in&nbsp;gob&nbsp;shut&nbsp;down&nbsp;the&nbsp;connection.&nbsp;Issue&nbsp;7689.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8377310">type</span>&nbsp;<span class="ident" id="8377315">R</span>&nbsp;<span class="keyword" id="8377317">struct</span>&nbsp;<span class="op" id="8377324">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377327">msg</span>&nbsp;<span class="op" id="8377331">[</span><span class="op" id="8377332">]</span><span class="builtintype" id="8377333">byte</span>&nbsp;<span class="comment" id="8377338">//&nbsp;Not&nbsp;exported,&nbsp;so&nbsp;R&nbsp;does&nbsp;not&nbsp;work&nbsp;with&nbsp;gob.</span><br>
<span class="lineno"></span><span class="op" id="8377384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8377387">type</span>&nbsp;<span class="ident" id="8377392">S</span>&nbsp;<span class="keyword" id="8377394">struct</span><span class="op" id="8377400">{</span><span class="op" id="8377401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="8377404">func</span>&nbsp;<span class="op" id="8377409">(</span><span class="ident" id="8377410">s</span>&nbsp;<span class="op" id="8377412">*</span><span class="ident" id="8377413">S</span><span class="op" id="8377414">)</span>&nbsp;<span class="ident" id="8377416">Recv</span><span class="op" id="8377420">(</span><span class="ident" id="8377421">nul</span>&nbsp;<span class="op" id="8377425">*</span><span class="keyword" id="8377426">struct</span><span class="op" id="8377432">{</span><span class="op" id="8377433">}</span><span class="op" id="8377434">,</span>&nbsp;<span class="ident" id="8377436">reply</span>&nbsp;<span class="op" id="8377442">*</span><span class="ident" id="8377443">R</span><span class="op" id="8377444">)</span>&nbsp;<span class="builtintype" id="8377446">error</span>&nbsp;<span class="op" id="8377452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377455">*</span><span class="ident" id="8377456">reply</span>&nbsp;<span class="op" id="8377462">=</span>&nbsp;<span class="ident" id="8377464">R</span><span class="op" id="8377465">{</span><span class="op" id="8377466">[</span><span class="op" id="8377467">]</span><span class="builtintype" id="8377468">byte</span><span class="op" id="8377472">(</span><span class="string" id="8377473">&#34;foo&#34;</span><span class="op" id="8377478">)</span><span class="op" id="8377479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8377482">return</span>&nbsp;<span class="ident" id="8377489">nil</span><br>
<span class="lineno"></span><span class="op" id="8377493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="8377496">func</span>&nbsp;<span class="ident" id="8377501">TestGobError</span><span class="op" id="8377513">(</span><span class="ident" id="8377514">t</span>&nbsp;<span class="op" id="8377516">*</span><span class="ident" id="8377517">testing</span><span class="op" id="8377524">.</span><span class="ident" id="8377525">T</span><span class="op" id="8377526">)</span>&nbsp;<span class="op" id="8377528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8377531">if</span>&nbsp;<span class="ident" id="8377534">runtime</span><span class="op" id="8377541">.</span><span class="ident" id="8377542">GOOS</span>&nbsp;<span class="op" id="8377547">==</span>&nbsp;<span class="string" id="8377550">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8377558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377562">t</span><span class="op" id="8377563">.</span><span class="ident" id="8377564">Skip</span><span class="op" id="8377568">(</span><span class="string" id="8377569">&#34;skipping&nbsp;test;&nbsp;see&nbsp;http://golang.org/issue/8908&#34;</span><span class="op" id="8377618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8377624">defer</span>&nbsp;<span class="keyword" id="8377630">func</span><span class="op" id="8377634">(</span><span class="op" id="8377635">)</span>&nbsp;<span class="op" id="8377637">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377641">err</span>&nbsp;<span class="op" id="8377645">:=</span>&nbsp;<span class="builtinfunc" id="8377648">recover</span><span class="op" id="8377655">(</span><span class="op" id="8377656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8377660">if</span>&nbsp;<span class="ident" id="8377663">err</span>&nbsp;<span class="op" id="8377667">==</span>&nbsp;<span class="ident" id="8377670">nil</span>&nbsp;<span class="op" id="8377674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377679">t</span><span class="op" id="8377680">.</span><span class="ident" id="8377681">Fatal</span><span class="op" id="8377686">(</span><span class="string" id="8377687">&#34;no&nbsp;error&#34;</span><span class="op" id="8377697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8377705">if</span>&nbsp;<span class="op" id="8377708">!</span><span class="ident" id="8377709">strings</span><span class="op" id="8377716">.</span><span class="ident" id="8377717">Contains</span><span class="op" id="8377725">(</span><span class="string" id="8377726">&#34;reading&nbsp;body&nbsp;EOF&#34;</span><span class="op" id="8377744">,</span>&nbsp;<span class="ident" id="8377746">err</span><span class="op" id="8377749">.</span><span class="op" id="8377750">(</span><span class="builtintype" id="8377751">error</span><span class="op" id="8377756">)</span><span class="op" id="8377757">.</span><span class="ident" id="8377758">Error</span><span class="op" id="8377763">(</span><span class="op" id="8377764">)</span><span class="op" id="8377765">)</span>&nbsp;<span class="op" id="8377767">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377772">t</span><span class="op" id="8377773">.</span><span class="ident" id="8377774">Fatal</span><span class="op" id="8377779">(</span><span class="string" id="8377780">&#34;expected&nbsp;`reading&nbsp;body&nbsp;EOF&#39;,&nbsp;got&#34;</span><span class="op" id="8377814">,</span>&nbsp;<span class="ident" id="8377816">err</span><span class="op" id="8377819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377826">}</span><span class="op" id="8377827">(</span><span class="op" id="8377828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377831">Register</span><span class="op" id="8377839">(</span><span class="builtinfunc" id="8377840">new</span><span class="op" id="8377843">(</span><span class="ident" id="8377844">S</span><span class="op" id="8377845">)</span><span class="op" id="8377846">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377850">listen</span><span class="op" id="8377856">,</span>&nbsp;<span class="ident" id="8377858">err</span>&nbsp;<span class="op" id="8377862">:=</span>&nbsp;<span class="ident" id="8377865">net</span><span class="op" id="8377868">.</span><span class="ident" id="8377869">Listen</span><span class="op" id="8377875">(</span><span class="string" id="8377876">&#34;tcp&#34;</span><span class="op" id="8377881">,</span>&nbsp;<span class="string" id="8377883">&#34;127.0.0.1:0&#34;</span><span class="op" id="8377896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8377899">if</span>&nbsp;<span class="ident" id="8377902">err</span>&nbsp;<span class="op" id="8377906">!=</span>&nbsp;<span class="ident" id="8377909">nil</span>&nbsp;<span class="op" id="8377913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8377917">panic</span><span class="op" id="8377922">(</span><span class="ident" id="8377923">err</span><span class="op" id="8377926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8377932">go</span>&nbsp;<span class="ident" id="8377935">Accept</span><span class="op" id="8377941">(</span><span class="ident" id="8377942">listen</span><span class="op" id="8377948">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377952">client</span><span class="op" id="8377958">,</span>&nbsp;<span class="ident" id="8377960">err</span>&nbsp;<span class="op" id="8377964">:=</span>&nbsp;<span class="ident" id="8377967">Dial</span><span class="op" id="8377971">(</span><span class="string" id="8377972">&#34;tcp&#34;</span><span class="op" id="8377977">,</span>&nbsp;<span class="ident" id="8377979">listen</span><span class="op" id="8377985">.</span><span class="ident" id="8377986">Addr</span><span class="op" id="8377990">(</span><span class="op" id="8377991">)</span><span class="op" id="8377992">.</span><span class="ident" id="8377993">String</span><span class="op" id="8377999">(</span><span class="op" id="8378000">)</span><span class="op" id="8378001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378004">if</span>&nbsp;<span class="ident" id="8378007">err</span>&nbsp;<span class="op" id="8378011">!=</span>&nbsp;<span class="ident" id="8378014">nil</span>&nbsp;<span class="op" id="8378018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8378022">panic</span><span class="op" id="8378027">(</span><span class="ident" id="8378028">err</span><span class="op" id="8378031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378034">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378038">var</span>&nbsp;<span class="ident" id="8378042">reply</span>&nbsp;<span class="ident" id="8378048">Reply</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378055">err</span>&nbsp;<span class="op" id="8378059">=</span>&nbsp;<span class="ident" id="8378061">client</span><span class="op" id="8378067">.</span><span class="ident" id="8378068">Call</span><span class="op" id="8378072">(</span><span class="string" id="8378073">&#34;S.Recv&#34;</span><span class="op" id="8378081">,</span>&nbsp;<span class="op" id="8378083">&amp;</span><span class="keyword" id="8378084">struct</span><span class="op" id="8378090">{</span><span class="op" id="8378091">}</span><span class="op" id="8378092">{</span><span class="op" id="8378093">}</span><span class="op" id="8378094">,</span>&nbsp;<span class="op" id="8378096">&amp;</span><span class="ident" id="8378097">reply</span><span class="op" id="8378102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378105">if</span>&nbsp;<span class="ident" id="8378108">err</span>&nbsp;<span class="op" id="8378112">!=</span>&nbsp;<span class="ident" id="8378115">nil</span>&nbsp;<span class="op" id="8378119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8378123">panic</span><span class="op" id="8378128">(</span><span class="ident" id="8378129">err</span><span class="op" id="8378132">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378139">fmt</span><span class="op" id="8378142">.</span><span class="ident" id="8378143">Printf</span><span class="op" id="8378149">(</span><span class="string" id="8378150">&#34;%#v\n&#34;</span><span class="op" id="8378157">,</span>&nbsp;<span class="ident" id="8378159">reply</span><span class="op" id="8378164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378167">client</span><span class="op" id="8378173">.</span><span class="ident" id="8378174">Close</span><span class="op" id="8378179">(</span><span class="op" id="8378180">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378184">listen</span><span class="op" id="8378190">.</span><span class="ident" id="8378191">Close</span><span class="op" id="8378196">(</span><span class="op" id="8378197">)</span><br>
<span class="lineno"></span><span class="op" id="8378199">}</span>
</div>
</body>
</html>
