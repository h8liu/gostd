<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6908549">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6908604">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6908658">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6908709">package</span>&nbsp;<span class="ident" id="6908717">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6908726">import</span>&nbsp;<span class="op" id="6908733">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6908736">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6908748">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6908761">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6908767">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6908784">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6908795">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6908805">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6908808">var</span>&nbsp;<span class="ident" id="6908812">fset</span>&nbsp;<span class="op" id="6908817">=</span>&nbsp;<span class="ident" id="6908819">token</span><span class="op" id="6908824">.</span><span class="ident" id="6908825">NewFileSet</span><span class="op" id="6908835">(</span><span class="op" id="6908836">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6908839">const</span>&nbsp;<span class="comment" id="6908845">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="6908857">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908860">special</span>&nbsp;<span class="op" id="6908868">=</span>&nbsp;<span class="ident" id="6908870">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908876">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908885">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908895">keyword</span><br>
<span class="lineno"></span><span class="op" id="6908903">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6908906">func</span>&nbsp;<span class="ident" id="6908911">tokenclass</span><span class="op" id="6908921">(</span><span class="ident" id="6908922">tok</span>&nbsp;<span class="ident" id="6908926">token</span><span class="op" id="6908931">.</span><span class="ident" id="6908932">Token</span><span class="op" id="6908937">)</span>&nbsp;<span class="builtintype" id="6908939">int</span>&nbsp;<span class="op" id="6908943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908946">switch</span>&nbsp;<span class="op" id="6908953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908956">case</span>&nbsp;<span class="ident" id="6908961">tok</span><span class="op" id="6908964">.</span><span class="ident" id="6908965">IsLiteral</span><span class="op" id="6908974">(</span><span class="op" id="6908975">)</span><span class="op" id="6908976">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908980">return</span>&nbsp;<span class="ident" id="6908987">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908996">case</span>&nbsp;<span class="ident" id="6909001">tok</span><span class="op" id="6909004">.</span><span class="ident" id="6909005">IsOperator</span><span class="op" id="6909015">(</span><span class="op" id="6909016">)</span><span class="op" id="6909017">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6909021">return</span>&nbsp;<span class="ident" id="6909028">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6909038">case</span>&nbsp;<span class="ident" id="6909043">tok</span><span class="op" id="6909046">.</span><span class="ident" id="6909047">IsKeyword</span><span class="op" id="6909056">(</span><span class="op" id="6909057">)</span><span class="op" id="6909058">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6909062">return</span>&nbsp;<span class="ident" id="6909069">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6909081">return</span>&nbsp;<span class="ident" id="6909088">special</span><br>
<span class="lineno">35</span><span class="op" id="6909096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6909099">type</span>&nbsp;<span class="ident" id="6909104">elt</span>&nbsp;<span class="keyword" id="6909108">struct</span>&nbsp;<span class="op" id="6909115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909118">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6909124">token</span><span class="op" id="6909129">.</span><span class="ident" id="6909130">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909137">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6909143">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909151">class</span>&nbsp;<span class="builtintype" id="6909157">int</span><br>
<span class="lineno"></span><span class="op" id="6909161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6909164">var</span>&nbsp;<span class="ident" id="6909168">tokens</span>&nbsp;<span class="op" id="6909175">=</span>&nbsp;<span class="op" id="6909177">[</span><span class="op" id="6909178">...</span><span class="op" id="6909181">]</span><span class="ident" id="6909182">elt</span><span class="op" id="6909185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6909188">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909207">{</span><span class="ident" id="6909208">token</span><span class="op" id="6909213">.</span><span class="ident" id="6909214">COMMENT</span><span class="op" id="6909221">,</span>&nbsp;<span class="string" id="6909223">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6909240">,</span>&nbsp;<span class="ident" id="6909242">special</span><span class="op" id="6909249">}</span><span class="op" id="6909250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909253">{</span><span class="ident" id="6909254">token</span><span class="op" id="6909259">.</span><span class="ident" id="6909260">COMMENT</span><span class="op" id="6909267">,</span>&nbsp;<span class="string" id="6909269">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="6909286">,</span>&nbsp;<span class="ident" id="6909288">special</span><span class="op" id="6909295">}</span><span class="op" id="6909296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909299">{</span><span class="ident" id="6909300">token</span><span class="op" id="6909305">.</span><span class="ident" id="6909306">COMMENT</span><span class="op" id="6909313">,</span>&nbsp;<span class="string" id="6909315">&#34;/*\r*/&#34;</span><span class="op" id="6909323">,</span>&nbsp;<span class="ident" id="6909325">special</span><span class="op" id="6909332">}</span><span class="op" id="6909333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909336">{</span><span class="ident" id="6909337">token</span><span class="op" id="6909342">.</span><span class="ident" id="6909343">COMMENT</span><span class="op" id="6909350">,</span>&nbsp;<span class="string" id="6909352">&#34;//\r\n&#34;</span><span class="op" id="6909360">,</span>&nbsp;<span class="ident" id="6909362">special</span><span class="op" id="6909369">}</span><span class="op" id="6909370">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6909374">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909414">{</span><span class="ident" id="6909415">token</span><span class="op" id="6909420">.</span><span class="ident" id="6909421">IDENT</span><span class="op" id="6909426">,</span>&nbsp;<span class="string" id="6909428">&#34;foobar&#34;</span><span class="op" id="6909436">,</span>&nbsp;<span class="ident" id="6909438">literal</span><span class="op" id="6909445">}</span><span class="op" id="6909446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909449">{</span><span class="ident" id="6909450">token</span><span class="op" id="6909455">.</span><span class="ident" id="6909456">IDENT</span><span class="op" id="6909461">,</span>&nbsp;<span class="string" id="6909463">&#34;a۰۱۸&#34;</span><span class="op" id="6909472">,</span>&nbsp;<span class="ident" id="6909474">literal</span><span class="op" id="6909481">}</span><span class="op" id="6909482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909485">{</span><span class="ident" id="6909486">token</span><span class="op" id="6909491">.</span><span class="ident" id="6909492">IDENT</span><span class="op" id="6909497">,</span>&nbsp;<span class="string" id="6909499">&#34;foo६४&#34;</span><span class="op" id="6909510">,</span>&nbsp;<span class="ident" id="6909512">literal</span><span class="op" id="6909519">}</span><span class="op" id="6909520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909523">{</span><span class="ident" id="6909524">token</span><span class="op" id="6909529">.</span><span class="ident" id="6909530">IDENT</span><span class="op" id="6909535">,</span>&nbsp;<span class="string" id="6909537">&#34;bar９８７６&#34;</span><span class="op" id="6909554">,</span>&nbsp;<span class="ident" id="6909556">literal</span><span class="op" id="6909563">}</span><span class="op" id="6909564">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909567">{</span><span class="ident" id="6909568">token</span><span class="op" id="6909573">.</span><span class="ident" id="6909574">IDENT</span><span class="op" id="6909579">,</span>&nbsp;<span class="string" id="6909581">&#34;ŝ&#34;</span><span class="op" id="6909585">,</span>&nbsp;<span class="ident" id="6909587">literal</span><span class="op" id="6909594">}</span><span class="op" id="6909595">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6909600">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909625">{</span><span class="ident" id="6909626">token</span><span class="op" id="6909631">.</span><span class="ident" id="6909632">IDENT</span><span class="op" id="6909637">,</span>&nbsp;<span class="string" id="6909639">&#34;ŝfoo&#34;</span><span class="op" id="6909646">,</span>&nbsp;<span class="ident" id="6909648">literal</span><span class="op" id="6909655">}</span><span class="op" id="6909656">,</span>&nbsp;<span class="comment" id="6909658">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909683">{</span><span class="ident" id="6909684">token</span><span class="op" id="6909689">.</span><span class="ident" id="6909690">INT</span><span class="op" id="6909693">,</span>&nbsp;<span class="string" id="6909695">&#34;0&#34;</span><span class="op" id="6909698">,</span>&nbsp;<span class="ident" id="6909700">literal</span><span class="op" id="6909707">}</span><span class="op" id="6909708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909711">{</span><span class="ident" id="6909712">token</span><span class="op" id="6909717">.</span><span class="ident" id="6909718">INT</span><span class="op" id="6909721">,</span>&nbsp;<span class="string" id="6909723">&#34;1&#34;</span><span class="op" id="6909726">,</span>&nbsp;<span class="ident" id="6909728">literal</span><span class="op" id="6909735">}</span><span class="op" id="6909736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909739">{</span><span class="ident" id="6909740">token</span><span class="op" id="6909745">.</span><span class="ident" id="6909746">INT</span><span class="op" id="6909749">,</span>&nbsp;<span class="string" id="6909751">&#34;123456789012345678890&#34;</span><span class="op" id="6909774">,</span>&nbsp;<span class="ident" id="6909776">literal</span><span class="op" id="6909783">}</span><span class="op" id="6909784">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909787">{</span><span class="ident" id="6909788">token</span><span class="op" id="6909793">.</span><span class="ident" id="6909794">INT</span><span class="op" id="6909797">,</span>&nbsp;<span class="string" id="6909799">&#34;01234567&#34;</span><span class="op" id="6909809">,</span>&nbsp;<span class="ident" id="6909811">literal</span><span class="op" id="6909818">}</span><span class="op" id="6909819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909822">{</span><span class="ident" id="6909823">token</span><span class="op" id="6909828">.</span><span class="ident" id="6909829">INT</span><span class="op" id="6909832">,</span>&nbsp;<span class="string" id="6909834">&#34;0xcafebabe&#34;</span><span class="op" id="6909846">,</span>&nbsp;<span class="ident" id="6909848">literal</span><span class="op" id="6909855">}</span><span class="op" id="6909856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909859">{</span><span class="ident" id="6909860">token</span><span class="op" id="6909865">.</span><span class="ident" id="6909866">FLOAT</span><span class="op" id="6909871">,</span>&nbsp;<span class="string" id="6909873">&#34;0.&#34;</span><span class="op" id="6909877">,</span>&nbsp;<span class="ident" id="6909879">literal</span><span class="op" id="6909886">}</span><span class="op" id="6909887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909890">{</span><span class="ident" id="6909891">token</span><span class="op" id="6909896">.</span><span class="ident" id="6909897">FLOAT</span><span class="op" id="6909902">,</span>&nbsp;<span class="string" id="6909904">&#34;.0&#34;</span><span class="op" id="6909908">,</span>&nbsp;<span class="ident" id="6909910">literal</span><span class="op" id="6909917">}</span><span class="op" id="6909918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909921">{</span><span class="ident" id="6909922">token</span><span class="op" id="6909927">.</span><span class="ident" id="6909928">FLOAT</span><span class="op" id="6909933">,</span>&nbsp;<span class="string" id="6909935">&#34;3.14159265&#34;</span><span class="op" id="6909947">,</span>&nbsp;<span class="ident" id="6909949">literal</span><span class="op" id="6909956">}</span><span class="op" id="6909957">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909960">{</span><span class="ident" id="6909961">token</span><span class="op" id="6909966">.</span><span class="ident" id="6909967">FLOAT</span><span class="op" id="6909972">,</span>&nbsp;<span class="string" id="6909974">&#34;1e0&#34;</span><span class="op" id="6909979">,</span>&nbsp;<span class="ident" id="6909981">literal</span><span class="op" id="6909988">}</span><span class="op" id="6909989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909992">{</span><span class="ident" id="6909993">token</span><span class="op" id="6909998">.</span><span class="ident" id="6909999">FLOAT</span><span class="op" id="6910004">,</span>&nbsp;<span class="string" id="6910006">&#34;1e+100&#34;</span><span class="op" id="6910014">,</span>&nbsp;<span class="ident" id="6910016">literal</span><span class="op" id="6910023">}</span><span class="op" id="6910024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910027">{</span><span class="ident" id="6910028">token</span><span class="op" id="6910033">.</span><span class="ident" id="6910034">FLOAT</span><span class="op" id="6910039">,</span>&nbsp;<span class="string" id="6910041">&#34;1e-100&#34;</span><span class="op" id="6910049">,</span>&nbsp;<span class="ident" id="6910051">literal</span><span class="op" id="6910058">}</span><span class="op" id="6910059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910062">{</span><span class="ident" id="6910063">token</span><span class="op" id="6910068">.</span><span class="ident" id="6910069">FLOAT</span><span class="op" id="6910074">,</span>&nbsp;<span class="string" id="6910076">&#34;2.71828e-1000&#34;</span><span class="op" id="6910091">,</span>&nbsp;<span class="ident" id="6910093">literal</span><span class="op" id="6910100">}</span><span class="op" id="6910101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910104">{</span><span class="ident" id="6910105">token</span><span class="op" id="6910110">.</span><span class="ident" id="6910111">IMAG</span><span class="op" id="6910115">,</span>&nbsp;<span class="string" id="6910117">&#34;0i&#34;</span><span class="op" id="6910121">,</span>&nbsp;<span class="ident" id="6910123">literal</span><span class="op" id="6910130">}</span><span class="op" id="6910131">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910134">{</span><span class="ident" id="6910135">token</span><span class="op" id="6910140">.</span><span class="ident" id="6910141">IMAG</span><span class="op" id="6910145">,</span>&nbsp;<span class="string" id="6910147">&#34;1i&#34;</span><span class="op" id="6910151">,</span>&nbsp;<span class="ident" id="6910153">literal</span><span class="op" id="6910160">}</span><span class="op" id="6910161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910164">{</span><span class="ident" id="6910165">token</span><span class="op" id="6910170">.</span><span class="ident" id="6910171">IMAG</span><span class="op" id="6910175">,</span>&nbsp;<span class="string" id="6910177">&#34;012345678901234567889i&#34;</span><span class="op" id="6910201">,</span>&nbsp;<span class="ident" id="6910203">literal</span><span class="op" id="6910210">}</span><span class="op" id="6910211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910214">{</span><span class="ident" id="6910215">token</span><span class="op" id="6910220">.</span><span class="ident" id="6910221">IMAG</span><span class="op" id="6910225">,</span>&nbsp;<span class="string" id="6910227">&#34;123456789012345678890i&#34;</span><span class="op" id="6910251">,</span>&nbsp;<span class="ident" id="6910253">literal</span><span class="op" id="6910260">}</span><span class="op" id="6910261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910264">{</span><span class="ident" id="6910265">token</span><span class="op" id="6910270">.</span><span class="ident" id="6910271">IMAG</span><span class="op" id="6910275">,</span>&nbsp;<span class="string" id="6910277">&#34;0.i&#34;</span><span class="op" id="6910282">,</span>&nbsp;<span class="ident" id="6910284">literal</span><span class="op" id="6910291">}</span><span class="op" id="6910292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910295">{</span><span class="ident" id="6910296">token</span><span class="op" id="6910301">.</span><span class="ident" id="6910302">IMAG</span><span class="op" id="6910306">,</span>&nbsp;<span class="string" id="6910308">&#34;.0i&#34;</span><span class="op" id="6910313">,</span>&nbsp;<span class="ident" id="6910315">literal</span><span class="op" id="6910322">}</span><span class="op" id="6910323">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910326">{</span><span class="ident" id="6910327">token</span><span class="op" id="6910332">.</span><span class="ident" id="6910333">IMAG</span><span class="op" id="6910337">,</span>&nbsp;<span class="string" id="6910339">&#34;3.14159265i&#34;</span><span class="op" id="6910352">,</span>&nbsp;<span class="ident" id="6910354">literal</span><span class="op" id="6910361">}</span><span class="op" id="6910362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910365">{</span><span class="ident" id="6910366">token</span><span class="op" id="6910371">.</span><span class="ident" id="6910372">IMAG</span><span class="op" id="6910376">,</span>&nbsp;<span class="string" id="6910378">&#34;1e0i&#34;</span><span class="op" id="6910384">,</span>&nbsp;<span class="ident" id="6910386">literal</span><span class="op" id="6910393">}</span><span class="op" id="6910394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910397">{</span><span class="ident" id="6910398">token</span><span class="op" id="6910403">.</span><span class="ident" id="6910404">IMAG</span><span class="op" id="6910408">,</span>&nbsp;<span class="string" id="6910410">&#34;1e+100i&#34;</span><span class="op" id="6910419">,</span>&nbsp;<span class="ident" id="6910421">literal</span><span class="op" id="6910428">}</span><span class="op" id="6910429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910432">{</span><span class="ident" id="6910433">token</span><span class="op" id="6910438">.</span><span class="ident" id="6910439">IMAG</span><span class="op" id="6910443">,</span>&nbsp;<span class="string" id="6910445">&#34;1e-100i&#34;</span><span class="op" id="6910454">,</span>&nbsp;<span class="ident" id="6910456">literal</span><span class="op" id="6910463">}</span><span class="op" id="6910464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910467">{</span><span class="ident" id="6910468">token</span><span class="op" id="6910473">.</span><span class="ident" id="6910474">IMAG</span><span class="op" id="6910478">,</span>&nbsp;<span class="string" id="6910480">&#34;2.71828e-1000i&#34;</span><span class="op" id="6910496">,</span>&nbsp;<span class="ident" id="6910498">literal</span><span class="op" id="6910505">}</span><span class="op" id="6910506">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910509">{</span><span class="ident" id="6910510">token</span><span class="op" id="6910515">.</span><span class="ident" id="6910516">CHAR</span><span class="op" id="6910520">,</span>&nbsp;<span class="string" id="6910522">&#34;&#39;a&#39;&#34;</span><span class="op" id="6910527">,</span>&nbsp;<span class="ident" id="6910529">literal</span><span class="op" id="6910536">}</span><span class="op" id="6910537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910540">{</span><span class="ident" id="6910541">token</span><span class="op" id="6910546">.</span><span class="ident" id="6910547">CHAR</span><span class="op" id="6910551">,</span>&nbsp;<span class="string" id="6910553">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="6910562">,</span>&nbsp;<span class="ident" id="6910564">literal</span><span class="op" id="6910571">}</span><span class="op" id="6910572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910575">{</span><span class="ident" id="6910576">token</span><span class="op" id="6910581">.</span><span class="ident" id="6910582">CHAR</span><span class="op" id="6910586">,</span>&nbsp;<span class="string" id="6910588">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="6910597">,</span>&nbsp;<span class="ident" id="6910599">literal</span><span class="op" id="6910606">}</span><span class="op" id="6910607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910610">{</span><span class="ident" id="6910611">token</span><span class="op" id="6910616">.</span><span class="ident" id="6910617">CHAR</span><span class="op" id="6910621">,</span>&nbsp;<span class="string" id="6910623">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="6910634">,</span>&nbsp;<span class="ident" id="6910636">literal</span><span class="op" id="6910643">}</span><span class="op" id="6910644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910647">{</span><span class="ident" id="6910648">token</span><span class="op" id="6910653">.</span><span class="ident" id="6910654">CHAR</span><span class="op" id="6910658">,</span>&nbsp;<span class="string" id="6910660">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="6910675">,</span>&nbsp;<span class="ident" id="6910677">literal</span><span class="op" id="6910684">}</span><span class="op" id="6910685">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910688">{</span><span class="ident" id="6910689">token</span><span class="op" id="6910694">.</span><span class="ident" id="6910695">STRING</span><span class="op" id="6910701">,</span>&nbsp;<span class="string" id="6910703">&#34;`foobar`&#34;</span><span class="op" id="6910713">,</span>&nbsp;<span class="ident" id="6910715">literal</span><span class="op" id="6910722">}</span><span class="op" id="6910723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910726">{</span><span class="ident" id="6910727">token</span><span class="op" id="6910732">.</span><span class="ident" id="6910733">STRING</span><span class="op" id="6910739">,</span>&nbsp;<span class="string" id="6910741">&#34;`&#34;</span>&nbsp;<span class="op" id="6910745">+</span>&nbsp;<span class="string" id="6910747">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="6910782">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6910786">&#34;`&#34;</span><span class="op" id="6910789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910793">literal</span><span class="op" id="6910800">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910803">}</span><span class="op" id="6910804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910807">{</span><span class="ident" id="6910808">token</span><span class="op" id="6910813">.</span><span class="ident" id="6910814">STRING</span><span class="op" id="6910820">,</span>&nbsp;<span class="string" id="6910822">&#34;`\r`&#34;</span><span class="op" id="6910828">,</span>&nbsp;<span class="ident" id="6910830">literal</span><span class="op" id="6910837">}</span><span class="op" id="6910838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910841">{</span><span class="ident" id="6910842">token</span><span class="op" id="6910847">.</span><span class="ident" id="6910848">STRING</span><span class="op" id="6910854">,</span>&nbsp;<span class="string" id="6910856">&#34;`foo\r\nbar`&#34;</span><span class="op" id="6910870">,</span>&nbsp;<span class="ident" id="6910872">literal</span><span class="op" id="6910879">}</span><span class="op" id="6910880">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6910884">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910913">{</span><span class="ident" id="6910914">token</span><span class="op" id="6910919">.</span><span class="ident" id="6910920">ADD</span><span class="op" id="6910923">,</span>&nbsp;<span class="string" id="6910925">&#34;+&#34;</span><span class="op" id="6910928">,</span>&nbsp;<span class="ident" id="6910930">operator</span><span class="op" id="6910938">}</span><span class="op" id="6910939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910942">{</span><span class="ident" id="6910943">token</span><span class="op" id="6910948">.</span><span class="ident" id="6910949">SUB</span><span class="op" id="6910952">,</span>&nbsp;<span class="string" id="6910954">&#34;-&#34;</span><span class="op" id="6910957">,</span>&nbsp;<span class="ident" id="6910959">operator</span><span class="op" id="6910967">}</span><span class="op" id="6910968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910971">{</span><span class="ident" id="6910972">token</span><span class="op" id="6910977">.</span><span class="ident" id="6910978">MUL</span><span class="op" id="6910981">,</span>&nbsp;<span class="string" id="6910983">&#34;*&#34;</span><span class="op" id="6910986">,</span>&nbsp;<span class="ident" id="6910988">operator</span><span class="op" id="6910996">}</span><span class="op" id="6910997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911000">{</span><span class="ident" id="6911001">token</span><span class="op" id="6911006">.</span><span class="ident" id="6911007">QUO</span><span class="op" id="6911010">,</span>&nbsp;<span class="string" id="6911012">&#34;/&#34;</span><span class="op" id="6911015">,</span>&nbsp;<span class="ident" id="6911017">operator</span><span class="op" id="6911025">}</span><span class="op" id="6911026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911029">{</span><span class="ident" id="6911030">token</span><span class="op" id="6911035">.</span><span class="ident" id="6911036">REM</span><span class="op" id="6911039">,</span>&nbsp;<span class="string" id="6911041">&#34;%&#34;</span><span class="op" id="6911044">,</span>&nbsp;<span class="ident" id="6911046">operator</span><span class="op" id="6911054">}</span><span class="op" id="6911055">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911059">{</span><span class="ident" id="6911060">token</span><span class="op" id="6911065">.</span><span class="ident" id="6911066">AND</span><span class="op" id="6911069">,</span>&nbsp;<span class="string" id="6911071">&#34;&amp;&#34;</span><span class="op" id="6911074">,</span>&nbsp;<span class="ident" id="6911076">operator</span><span class="op" id="6911084">}</span><span class="op" id="6911085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911088">{</span><span class="ident" id="6911089">token</span><span class="op" id="6911094">.</span><span class="ident" id="6911095">OR</span><span class="op" id="6911097">,</span>&nbsp;<span class="string" id="6911099">&#34;|&#34;</span><span class="op" id="6911102">,</span>&nbsp;<span class="ident" id="6911104">operator</span><span class="op" id="6911112">}</span><span class="op" id="6911113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911116">{</span><span class="ident" id="6911117">token</span><span class="op" id="6911122">.</span><span class="ident" id="6911123">XOR</span><span class="op" id="6911126">,</span>&nbsp;<span class="string" id="6911128">&#34;^&#34;</span><span class="op" id="6911131">,</span>&nbsp;<span class="ident" id="6911133">operator</span><span class="op" id="6911141">}</span><span class="op" id="6911142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911145">{</span><span class="ident" id="6911146">token</span><span class="op" id="6911151">.</span><span class="ident" id="6911152">SHL</span><span class="op" id="6911155">,</span>&nbsp;<span class="string" id="6911157">&#34;&lt;&lt;&#34;</span><span class="op" id="6911161">,</span>&nbsp;<span class="ident" id="6911163">operator</span><span class="op" id="6911171">}</span><span class="op" id="6911172">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911175">{</span><span class="ident" id="6911176">token</span><span class="op" id="6911181">.</span><span class="ident" id="6911182">SHR</span><span class="op" id="6911185">,</span>&nbsp;<span class="string" id="6911187">&#34;&gt;&gt;&#34;</span><span class="op" id="6911191">,</span>&nbsp;<span class="ident" id="6911193">operator</span><span class="op" id="6911201">}</span><span class="op" id="6911202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911205">{</span><span class="ident" id="6911206">token</span><span class="op" id="6911211">.</span><span class="ident" id="6911212">AND_NOT</span><span class="op" id="6911219">,</span>&nbsp;<span class="string" id="6911221">&#34;&amp;^&#34;</span><span class="op" id="6911225">,</span>&nbsp;<span class="ident" id="6911227">operator</span><span class="op" id="6911235">}</span><span class="op" id="6911236">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911240">{</span><span class="ident" id="6911241">token</span><span class="op" id="6911246">.</span><span class="ident" id="6911247">ADD_ASSIGN</span><span class="op" id="6911257">,</span>&nbsp;<span class="string" id="6911259">&#34;+=&#34;</span><span class="op" id="6911263">,</span>&nbsp;<span class="ident" id="6911265">operator</span><span class="op" id="6911273">}</span><span class="op" id="6911274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911277">{</span><span class="ident" id="6911278">token</span><span class="op" id="6911283">.</span><span class="ident" id="6911284">SUB_ASSIGN</span><span class="op" id="6911294">,</span>&nbsp;<span class="string" id="6911296">&#34;-=&#34;</span><span class="op" id="6911300">,</span>&nbsp;<span class="ident" id="6911302">operator</span><span class="op" id="6911310">}</span><span class="op" id="6911311">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911314">{</span><span class="ident" id="6911315">token</span><span class="op" id="6911320">.</span><span class="ident" id="6911321">MUL_ASSIGN</span><span class="op" id="6911331">,</span>&nbsp;<span class="string" id="6911333">&#34;*=&#34;</span><span class="op" id="6911337">,</span>&nbsp;<span class="ident" id="6911339">operator</span><span class="op" id="6911347">}</span><span class="op" id="6911348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911351">{</span><span class="ident" id="6911352">token</span><span class="op" id="6911357">.</span><span class="ident" id="6911358">QUO_ASSIGN</span><span class="op" id="6911368">,</span>&nbsp;<span class="string" id="6911370">&#34;/=&#34;</span><span class="op" id="6911374">,</span>&nbsp;<span class="ident" id="6911376">operator</span><span class="op" id="6911384">}</span><span class="op" id="6911385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911388">{</span><span class="ident" id="6911389">token</span><span class="op" id="6911394">.</span><span class="ident" id="6911395">REM_ASSIGN</span><span class="op" id="6911405">,</span>&nbsp;<span class="string" id="6911407">&#34;%=&#34;</span><span class="op" id="6911411">,</span>&nbsp;<span class="ident" id="6911413">operator</span><span class="op" id="6911421">}</span><span class="op" id="6911422">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911426">{</span><span class="ident" id="6911427">token</span><span class="op" id="6911432">.</span><span class="ident" id="6911433">AND_ASSIGN</span><span class="op" id="6911443">,</span>&nbsp;<span class="string" id="6911445">&#34;&amp;=&#34;</span><span class="op" id="6911449">,</span>&nbsp;<span class="ident" id="6911451">operator</span><span class="op" id="6911459">}</span><span class="op" id="6911460">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911463">{</span><span class="ident" id="6911464">token</span><span class="op" id="6911469">.</span><span class="ident" id="6911470">OR_ASSIGN</span><span class="op" id="6911479">,</span>&nbsp;<span class="string" id="6911481">&#34;|=&#34;</span><span class="op" id="6911485">,</span>&nbsp;<span class="ident" id="6911487">operator</span><span class="op" id="6911495">}</span><span class="op" id="6911496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911499">{</span><span class="ident" id="6911500">token</span><span class="op" id="6911505">.</span><span class="ident" id="6911506">XOR_ASSIGN</span><span class="op" id="6911516">,</span>&nbsp;<span class="string" id="6911518">&#34;^=&#34;</span><span class="op" id="6911522">,</span>&nbsp;<span class="ident" id="6911524">operator</span><span class="op" id="6911532">}</span><span class="op" id="6911533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911536">{</span><span class="ident" id="6911537">token</span><span class="op" id="6911542">.</span><span class="ident" id="6911543">SHL_ASSIGN</span><span class="op" id="6911553">,</span>&nbsp;<span class="string" id="6911555">&#34;&lt;&lt;=&#34;</span><span class="op" id="6911560">,</span>&nbsp;<span class="ident" id="6911562">operator</span><span class="op" id="6911570">}</span><span class="op" id="6911571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911574">{</span><span class="ident" id="6911575">token</span><span class="op" id="6911580">.</span><span class="ident" id="6911581">SHR_ASSIGN</span><span class="op" id="6911591">,</span>&nbsp;<span class="string" id="6911593">&#34;&gt;&gt;=&#34;</span><span class="op" id="6911598">,</span>&nbsp;<span class="ident" id="6911600">operator</span><span class="op" id="6911608">}</span><span class="op" id="6911609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911612">{</span><span class="ident" id="6911613">token</span><span class="op" id="6911618">.</span><span class="ident" id="6911619">AND_NOT_ASSIGN</span><span class="op" id="6911633">,</span>&nbsp;<span class="string" id="6911635">&#34;&amp;^=&#34;</span><span class="op" id="6911640">,</span>&nbsp;<span class="ident" id="6911642">operator</span><span class="op" id="6911650">}</span><span class="op" id="6911651">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911655">{</span><span class="ident" id="6911656">token</span><span class="op" id="6911661">.</span><span class="ident" id="6911662">LAND</span><span class="op" id="6911666">,</span>&nbsp;<span class="string" id="6911668">&#34;&amp;&amp;&#34;</span><span class="op" id="6911672">,</span>&nbsp;<span class="ident" id="6911674">operator</span><span class="op" id="6911682">}</span><span class="op" id="6911683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911686">{</span><span class="ident" id="6911687">token</span><span class="op" id="6911692">.</span><span class="ident" id="6911693">LOR</span><span class="op" id="6911696">,</span>&nbsp;<span class="string" id="6911698">&#34;||&#34;</span><span class="op" id="6911702">,</span>&nbsp;<span class="ident" id="6911704">operator</span><span class="op" id="6911712">}</span><span class="op" id="6911713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911716">{</span><span class="ident" id="6911717">token</span><span class="op" id="6911722">.</span><span class="ident" id="6911723">ARROW</span><span class="op" id="6911728">,</span>&nbsp;<span class="string" id="6911730">&#34;&lt;-&#34;</span><span class="op" id="6911734">,</span>&nbsp;<span class="ident" id="6911736">operator</span><span class="op" id="6911744">}</span><span class="op" id="6911745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911748">{</span><span class="ident" id="6911749">token</span><span class="op" id="6911754">.</span><span class="ident" id="6911755">INC</span><span class="op" id="6911758">,</span>&nbsp;<span class="string" id="6911760">&#34;++&#34;</span><span class="op" id="6911764">,</span>&nbsp;<span class="ident" id="6911766">operator</span><span class="op" id="6911774">}</span><span class="op" id="6911775">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911778">{</span><span class="ident" id="6911779">token</span><span class="op" id="6911784">.</span><span class="ident" id="6911785">DEC</span><span class="op" id="6911788">,</span>&nbsp;<span class="string" id="6911790">&#34;--&#34;</span><span class="op" id="6911794">,</span>&nbsp;<span class="ident" id="6911796">operator</span><span class="op" id="6911804">}</span><span class="op" id="6911805">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911809">{</span><span class="ident" id="6911810">token</span><span class="op" id="6911815">.</span><span class="ident" id="6911816">EQL</span><span class="op" id="6911819">,</span>&nbsp;<span class="string" id="6911821">&#34;==&#34;</span><span class="op" id="6911825">,</span>&nbsp;<span class="ident" id="6911827">operator</span><span class="op" id="6911835">}</span><span class="op" id="6911836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911839">{</span><span class="ident" id="6911840">token</span><span class="op" id="6911845">.</span><span class="ident" id="6911846">LSS</span><span class="op" id="6911849">,</span>&nbsp;<span class="string" id="6911851">&#34;&lt;&#34;</span><span class="op" id="6911854">,</span>&nbsp;<span class="ident" id="6911856">operator</span><span class="op" id="6911864">}</span><span class="op" id="6911865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911868">{</span><span class="ident" id="6911869">token</span><span class="op" id="6911874">.</span><span class="ident" id="6911875">GTR</span><span class="op" id="6911878">,</span>&nbsp;<span class="string" id="6911880">&#34;&gt;&#34;</span><span class="op" id="6911883">,</span>&nbsp;<span class="ident" id="6911885">operator</span><span class="op" id="6911893">}</span><span class="op" id="6911894">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911897">{</span><span class="ident" id="6911898">token</span><span class="op" id="6911903">.</span><span class="ident" id="6911904">ASSIGN</span><span class="op" id="6911910">,</span>&nbsp;<span class="string" id="6911912">&#34;=&#34;</span><span class="op" id="6911915">,</span>&nbsp;<span class="ident" id="6911917">operator</span><span class="op" id="6911925">}</span><span class="op" id="6911926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911929">{</span><span class="ident" id="6911930">token</span><span class="op" id="6911935">.</span><span class="ident" id="6911936">NOT</span><span class="op" id="6911939">,</span>&nbsp;<span class="string" id="6911941">&#34;!&#34;</span><span class="op" id="6911944">,</span>&nbsp;<span class="ident" id="6911946">operator</span><span class="op" id="6911954">}</span><span class="op" id="6911955">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911959">{</span><span class="ident" id="6911960">token</span><span class="op" id="6911965">.</span><span class="ident" id="6911966">NEQ</span><span class="op" id="6911969">,</span>&nbsp;<span class="string" id="6911971">&#34;!=&#34;</span><span class="op" id="6911975">,</span>&nbsp;<span class="ident" id="6911977">operator</span><span class="op" id="6911985">}</span><span class="op" id="6911986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911989">{</span><span class="ident" id="6911990">token</span><span class="op" id="6911995">.</span><span class="ident" id="6911996">LEQ</span><span class="op" id="6911999">,</span>&nbsp;<span class="string" id="6912001">&#34;&lt;=&#34;</span><span class="op" id="6912005">,</span>&nbsp;<span class="ident" id="6912007">operator</span><span class="op" id="6912015">}</span><span class="op" id="6912016">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912019">{</span><span class="ident" id="6912020">token</span><span class="op" id="6912025">.</span><span class="ident" id="6912026">GEQ</span><span class="op" id="6912029">,</span>&nbsp;<span class="string" id="6912031">&#34;&gt;=&#34;</span><span class="op" id="6912035">,</span>&nbsp;<span class="ident" id="6912037">operator</span><span class="op" id="6912045">}</span><span class="op" id="6912046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912049">{</span><span class="ident" id="6912050">token</span><span class="op" id="6912055">.</span><span class="ident" id="6912056">DEFINE</span><span class="op" id="6912062">,</span>&nbsp;<span class="string" id="6912064">&#34;:=&#34;</span><span class="op" id="6912068">,</span>&nbsp;<span class="ident" id="6912070">operator</span><span class="op" id="6912078">}</span><span class="op" id="6912079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912082">{</span><span class="ident" id="6912083">token</span><span class="op" id="6912088">.</span><span class="ident" id="6912089">ELLIPSIS</span><span class="op" id="6912097">,</span>&nbsp;<span class="string" id="6912099">&#34;...&#34;</span><span class="op" id="6912104">,</span>&nbsp;<span class="ident" id="6912106">operator</span><span class="op" id="6912114">}</span><span class="op" id="6912115">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912119">{</span><span class="ident" id="6912120">token</span><span class="op" id="6912125">.</span><span class="ident" id="6912126">LPAREN</span><span class="op" id="6912132">,</span>&nbsp;<span class="string" id="6912134">&#34;(&#34;</span><span class="op" id="6912137">,</span>&nbsp;<span class="ident" id="6912139">operator</span><span class="op" id="6912147">}</span><span class="op" id="6912148">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912151">{</span><span class="ident" id="6912152">token</span><span class="op" id="6912157">.</span><span class="ident" id="6912158">LBRACK</span><span class="op" id="6912164">,</span>&nbsp;<span class="string" id="6912166">&#34;[&#34;</span><span class="op" id="6912169">,</span>&nbsp;<span class="ident" id="6912171">operator</span><span class="op" id="6912179">}</span><span class="op" id="6912180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912183">{</span><span class="ident" id="6912184">token</span><span class="op" id="6912189">.</span><span class="ident" id="6912190">LBRACE</span><span class="op" id="6912196">,</span>&nbsp;<span class="string" id="6912198">&#34;{&#34;</span><span class="op" id="6912201">,</span>&nbsp;<span class="ident" id="6912203">operator</span><span class="op" id="6912211">}</span><span class="op" id="6912212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912215">{</span><span class="ident" id="6912216">token</span><span class="op" id="6912221">.</span><span class="ident" id="6912222">COMMA</span><span class="op" id="6912227">,</span>&nbsp;<span class="string" id="6912229">&#34;,&#34;</span><span class="op" id="6912232">,</span>&nbsp;<span class="ident" id="6912234">operator</span><span class="op" id="6912242">}</span><span class="op" id="6912243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912246">{</span><span class="ident" id="6912247">token</span><span class="op" id="6912252">.</span><span class="ident" id="6912253">PERIOD</span><span class="op" id="6912259">,</span>&nbsp;<span class="string" id="6912261">&#34;.&#34;</span><span class="op" id="6912264">,</span>&nbsp;<span class="ident" id="6912266">operator</span><span class="op" id="6912274">}</span><span class="op" id="6912275">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912279">{</span><span class="ident" id="6912280">token</span><span class="op" id="6912285">.</span><span class="ident" id="6912286">RPAREN</span><span class="op" id="6912292">,</span>&nbsp;<span class="string" id="6912294">&#34;)&#34;</span><span class="op" id="6912297">,</span>&nbsp;<span class="ident" id="6912299">operator</span><span class="op" id="6912307">}</span><span class="op" id="6912308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912311">{</span><span class="ident" id="6912312">token</span><span class="op" id="6912317">.</span><span class="ident" id="6912318">RBRACK</span><span class="op" id="6912324">,</span>&nbsp;<span class="string" id="6912326">&#34;]&#34;</span><span class="op" id="6912329">,</span>&nbsp;<span class="ident" id="6912331">operator</span><span class="op" id="6912339">}</span><span class="op" id="6912340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912343">{</span><span class="ident" id="6912344">token</span><span class="op" id="6912349">.</span><span class="ident" id="6912350">RBRACE</span><span class="op" id="6912356">,</span>&nbsp;<span class="string" id="6912358">&#34;}&#34;</span><span class="op" id="6912361">,</span>&nbsp;<span class="ident" id="6912363">operator</span><span class="op" id="6912371">}</span><span class="op" id="6912372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912375">{</span><span class="ident" id="6912376">token</span><span class="op" id="6912381">.</span><span class="ident" id="6912382">SEMICOLON</span><span class="op" id="6912391">,</span>&nbsp;<span class="string" id="6912393">&#34;;&#34;</span><span class="op" id="6912396">,</span>&nbsp;<span class="ident" id="6912398">operator</span><span class="op" id="6912406">}</span><span class="op" id="6912407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912410">{</span><span class="ident" id="6912411">token</span><span class="op" id="6912416">.</span><span class="ident" id="6912417">COLON</span><span class="op" id="6912422">,</span>&nbsp;<span class="string" id="6912424">&#34;:&#34;</span><span class="op" id="6912427">,</span>&nbsp;<span class="ident" id="6912429">operator</span><span class="op" id="6912437">}</span><span class="op" id="6912438">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6912442">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912455">{</span><span class="ident" id="6912456">token</span><span class="op" id="6912461">.</span><span class="ident" id="6912462">BREAK</span><span class="op" id="6912467">,</span>&nbsp;<span class="string" id="6912469">&#34;break&#34;</span><span class="op" id="6912476">,</span>&nbsp;<span class="ident" id="6912478">keyword</span><span class="op" id="6912485">}</span><span class="op" id="6912486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912489">{</span><span class="ident" id="6912490">token</span><span class="op" id="6912495">.</span><span class="ident" id="6912496">CASE</span><span class="op" id="6912500">,</span>&nbsp;<span class="string" id="6912502">&#34;case&#34;</span><span class="op" id="6912508">,</span>&nbsp;<span class="ident" id="6912510">keyword</span><span class="op" id="6912517">}</span><span class="op" id="6912518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912521">{</span><span class="ident" id="6912522">token</span><span class="op" id="6912527">.</span><span class="ident" id="6912528">CHAN</span><span class="op" id="6912532">,</span>&nbsp;<span class="string" id="6912534">&#34;chan&#34;</span><span class="op" id="6912540">,</span>&nbsp;<span class="ident" id="6912542">keyword</span><span class="op" id="6912549">}</span><span class="op" id="6912550">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912553">{</span><span class="ident" id="6912554">token</span><span class="op" id="6912559">.</span><span class="ident" id="6912560">CONST</span><span class="op" id="6912565">,</span>&nbsp;<span class="string" id="6912567">&#34;const&#34;</span><span class="op" id="6912574">,</span>&nbsp;<span class="ident" id="6912576">keyword</span><span class="op" id="6912583">}</span><span class="op" id="6912584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912587">{</span><span class="ident" id="6912588">token</span><span class="op" id="6912593">.</span><span class="ident" id="6912594">CONTINUE</span><span class="op" id="6912602">,</span>&nbsp;<span class="string" id="6912604">&#34;continue&#34;</span><span class="op" id="6912614">,</span>&nbsp;<span class="ident" id="6912616">keyword</span><span class="op" id="6912623">}</span><span class="op" id="6912624">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912628">{</span><span class="ident" id="6912629">token</span><span class="op" id="6912634">.</span><span class="ident" id="6912635">DEFAULT</span><span class="op" id="6912642">,</span>&nbsp;<span class="string" id="6912644">&#34;default&#34;</span><span class="op" id="6912653">,</span>&nbsp;<span class="ident" id="6912655">keyword</span><span class="op" id="6912662">}</span><span class="op" id="6912663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912666">{</span><span class="ident" id="6912667">token</span><span class="op" id="6912672">.</span><span class="ident" id="6912673">DEFER</span><span class="op" id="6912678">,</span>&nbsp;<span class="string" id="6912680">&#34;defer&#34;</span><span class="op" id="6912687">,</span>&nbsp;<span class="ident" id="6912689">keyword</span><span class="op" id="6912696">}</span><span class="op" id="6912697">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912700">{</span><span class="ident" id="6912701">token</span><span class="op" id="6912706">.</span><span class="ident" id="6912707">ELSE</span><span class="op" id="6912711">,</span>&nbsp;<span class="string" id="6912713">&#34;else&#34;</span><span class="op" id="6912719">,</span>&nbsp;<span class="ident" id="6912721">keyword</span><span class="op" id="6912728">}</span><span class="op" id="6912729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912732">{</span><span class="ident" id="6912733">token</span><span class="op" id="6912738">.</span><span class="ident" id="6912739">FALLTHROUGH</span><span class="op" id="6912750">,</span>&nbsp;<span class="string" id="6912752">&#34;fallthrough&#34;</span><span class="op" id="6912765">,</span>&nbsp;<span class="ident" id="6912767">keyword</span><span class="op" id="6912774">}</span><span class="op" id="6912775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912778">{</span><span class="ident" id="6912779">token</span><span class="op" id="6912784">.</span><span class="ident" id="6912785">FOR</span><span class="op" id="6912788">,</span>&nbsp;<span class="string" id="6912790">&#34;for&#34;</span><span class="op" id="6912795">,</span>&nbsp;<span class="ident" id="6912797">keyword</span><span class="op" id="6912804">}</span><span class="op" id="6912805">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912809">{</span><span class="ident" id="6912810">token</span><span class="op" id="6912815">.</span><span class="ident" id="6912816">FUNC</span><span class="op" id="6912820">,</span>&nbsp;<span class="string" id="6912822">&#34;func&#34;</span><span class="op" id="6912828">,</span>&nbsp;<span class="ident" id="6912830">keyword</span><span class="op" id="6912837">}</span><span class="op" id="6912838">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912841">{</span><span class="ident" id="6912842">token</span><span class="op" id="6912847">.</span><span class="ident" id="6912848">GO</span><span class="op" id="6912850">,</span>&nbsp;<span class="string" id="6912852">&#34;go&#34;</span><span class="op" id="6912856">,</span>&nbsp;<span class="ident" id="6912858">keyword</span><span class="op" id="6912865">}</span><span class="op" id="6912866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912869">{</span><span class="ident" id="6912870">token</span><span class="op" id="6912875">.</span><span class="ident" id="6912876">GOTO</span><span class="op" id="6912880">,</span>&nbsp;<span class="string" id="6912882">&#34;goto&#34;</span><span class="op" id="6912888">,</span>&nbsp;<span class="ident" id="6912890">keyword</span><span class="op" id="6912897">}</span><span class="op" id="6912898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912901">{</span><span class="ident" id="6912902">token</span><span class="op" id="6912907">.</span><span class="ident" id="6912908">IF</span><span class="op" id="6912910">,</span>&nbsp;<span class="string" id="6912912">&#34;if&#34;</span><span class="op" id="6912916">,</span>&nbsp;<span class="ident" id="6912918">keyword</span><span class="op" id="6912925">}</span><span class="op" id="6912926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912929">{</span><span class="ident" id="6912930">token</span><span class="op" id="6912935">.</span><span class="ident" id="6912936">IMPORT</span><span class="op" id="6912942">,</span>&nbsp;<span class="string" id="6912944">&#34;import&#34;</span><span class="op" id="6912952">,</span>&nbsp;<span class="ident" id="6912954">keyword</span><span class="op" id="6912961">}</span><span class="op" id="6912962">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912966">{</span><span class="ident" id="6912967">token</span><span class="op" id="6912972">.</span><span class="ident" id="6912973">INTERFACE</span><span class="op" id="6912982">,</span>&nbsp;<span class="string" id="6912984">&#34;interface&#34;</span><span class="op" id="6912995">,</span>&nbsp;<span class="ident" id="6912997">keyword</span><span class="op" id="6913004">}</span><span class="op" id="6913005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913008">{</span><span class="ident" id="6913009">token</span><span class="op" id="6913014">.</span><span class="ident" id="6913015">MAP</span><span class="op" id="6913018">,</span>&nbsp;<span class="string" id="6913020">&#34;map&#34;</span><span class="op" id="6913025">,</span>&nbsp;<span class="ident" id="6913027">keyword</span><span class="op" id="6913034">}</span><span class="op" id="6913035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913038">{</span><span class="ident" id="6913039">token</span><span class="op" id="6913044">.</span><span class="ident" id="6913045">PACKAGE</span><span class="op" id="6913052">,</span>&nbsp;<span class="string" id="6913054">&#34;package&#34;</span><span class="op" id="6913063">,</span>&nbsp;<span class="ident" id="6913065">keyword</span><span class="op" id="6913072">}</span><span class="op" id="6913073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913076">{</span><span class="ident" id="6913077">token</span><span class="op" id="6913082">.</span><span class="ident" id="6913083">RANGE</span><span class="op" id="6913088">,</span>&nbsp;<span class="string" id="6913090">&#34;range&#34;</span><span class="op" id="6913097">,</span>&nbsp;<span class="ident" id="6913099">keyword</span><span class="op" id="6913106">}</span><span class="op" id="6913107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913110">{</span><span class="ident" id="6913111">token</span><span class="op" id="6913116">.</span><span class="ident" id="6913117">RETURN</span><span class="op" id="6913123">,</span>&nbsp;<span class="string" id="6913125">&#34;return&#34;</span><span class="op" id="6913133">,</span>&nbsp;<span class="ident" id="6913135">keyword</span><span class="op" id="6913142">}</span><span class="op" id="6913143">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913147">{</span><span class="ident" id="6913148">token</span><span class="op" id="6913153">.</span><span class="ident" id="6913154">SELECT</span><span class="op" id="6913160">,</span>&nbsp;<span class="string" id="6913162">&#34;select&#34;</span><span class="op" id="6913170">,</span>&nbsp;<span class="ident" id="6913172">keyword</span><span class="op" id="6913179">}</span><span class="op" id="6913180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913183">{</span><span class="ident" id="6913184">token</span><span class="op" id="6913189">.</span><span class="ident" id="6913190">STRUCT</span><span class="op" id="6913196">,</span>&nbsp;<span class="string" id="6913198">&#34;struct&#34;</span><span class="op" id="6913206">,</span>&nbsp;<span class="ident" id="6913208">keyword</span><span class="op" id="6913215">}</span><span class="op" id="6913216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913219">{</span><span class="ident" id="6913220">token</span><span class="op" id="6913225">.</span><span class="ident" id="6913226">SWITCH</span><span class="op" id="6913232">,</span>&nbsp;<span class="string" id="6913234">&#34;switch&#34;</span><span class="op" id="6913242">,</span>&nbsp;<span class="ident" id="6913244">keyword</span><span class="op" id="6913251">}</span><span class="op" id="6913252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913255">{</span><span class="ident" id="6913256">token</span><span class="op" id="6913261">.</span><span class="ident" id="6913262">TYPE</span><span class="op" id="6913266">,</span>&nbsp;<span class="string" id="6913268">&#34;type&#34;</span><span class="op" id="6913274">,</span>&nbsp;<span class="ident" id="6913276">keyword</span><span class="op" id="6913283">}</span><span class="op" id="6913284">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913287">{</span><span class="ident" id="6913288">token</span><span class="op" id="6913293">.</span><span class="ident" id="6913294">VAR</span><span class="op" id="6913297">,</span>&nbsp;<span class="string" id="6913299">&#34;var&#34;</span><span class="op" id="6913304">,</span>&nbsp;<span class="ident" id="6913306">keyword</span><span class="op" id="6913313">}</span><span class="op" id="6913314">,</span><br>
<span class="lineno"></span><span class="op" id="6913316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6913319">const</span>&nbsp;<span class="ident" id="6913325">whitespace</span>&nbsp;<span class="op" id="6913336">=</span>&nbsp;<span class="string" id="6913338">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="6913353">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="6913376">var</span>&nbsp;<span class="ident" id="6913380">source</span>&nbsp;<span class="op" id="6913387">=</span>&nbsp;<span class="keyword" id="6913389">func</span><span class="op" id="6913393">(</span><span class="op" id="6913394">)</span>&nbsp;<span class="op" id="6913396">[</span><span class="op" id="6913397">]</span><span class="builtintype" id="6913398">byte</span>&nbsp;<span class="op" id="6913403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913406">var</span>&nbsp;<span class="ident" id="6913410">src</span>&nbsp;<span class="op" id="6913414">[</span><span class="op" id="6913415">]</span><span class="builtintype" id="6913416">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913422">for</span>&nbsp;<span class="ident" id="6913426">_</span><span class="op" id="6913427">,</span>&nbsp;<span class="ident" id="6913429">t</span>&nbsp;<span class="op" id="6913431">:=</span>&nbsp;<span class="keyword" id="6913434">range</span>&nbsp;<span class="ident" id="6913440">tokens</span>&nbsp;<span class="op" id="6913447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913451">src</span>&nbsp;<span class="op" id="6913455">=</span>&nbsp;<span class="builtinfunc" id="6913457">append</span><span class="op" id="6913463">(</span><span class="ident" id="6913464">src</span><span class="op" id="6913467">,</span>&nbsp;<span class="ident" id="6913469">t</span><span class="op" id="6913470">.</span><span class="ident" id="6913471">lit</span><span class="op" id="6913474">...</span><span class="op" id="6913477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913481">src</span>&nbsp;<span class="op" id="6913485">=</span>&nbsp;<span class="builtinfunc" id="6913487">append</span><span class="op" id="6913493">(</span><span class="ident" id="6913494">src</span><span class="op" id="6913497">,</span>&nbsp;<span class="ident" id="6913499">whitespace</span><span class="op" id="6913509">...</span><span class="op" id="6913512">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913518">return</span>&nbsp;<span class="ident" id="6913525">src</span><br>
<span class="lineno"></span><span class="op" id="6913529">}</span><span class="op" id="6913530">(</span><span class="op" id="6913531">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6913534">func</span>&nbsp;<span class="ident" id="6913539">newlineCount</span><span class="op" id="6913551">(</span><span class="ident" id="6913552">s</span>&nbsp;<span class="builtintype" id="6913554">string</span><span class="op" id="6913560">)</span>&nbsp;<span class="builtintype" id="6913562">int</span>&nbsp;<span class="op" id="6913566">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913569">n</span>&nbsp;<span class="op" id="6913571">:=</span>&nbsp;<span class="num" id="6913574">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913577">for</span>&nbsp;<span class="ident" id="6913581">i</span>&nbsp;<span class="op" id="6913583">:=</span>&nbsp;<span class="num" id="6913586">0</span><span class="op" id="6913587">;</span>&nbsp;<span class="ident" id="6913589">i</span>&nbsp;<span class="op" id="6913591">&lt;</span>&nbsp;<span class="builtinfunc" id="6913593">len</span><span class="op" id="6913596">(</span><span class="ident" id="6913597">s</span><span class="op" id="6913598">)</span><span class="op" id="6913599">;</span>&nbsp;<span class="ident" id="6913601">i</span><span class="op" id="6913602">++</span>&nbsp;<span class="op" id="6913605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913609">if</span>&nbsp;<span class="ident" id="6913612">s</span><span class="op" id="6913613">[</span><span class="ident" id="6913614">i</span><span class="op" id="6913615">]</span>&nbsp;<span class="op" id="6913617">==</span>&nbsp;<span class="string" id="6913620">&#39;\n&#39;</span>&nbsp;<span class="op" id="6913625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913630">n</span><span class="op" id="6913631">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913636">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913642">return</span>&nbsp;<span class="ident" id="6913649">n</span><br>
<span class="lineno"></span><span class="op" id="6913651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6913654">func</span>&nbsp;<span class="ident" id="6913659">checkPos</span><span class="op" id="6913667">(</span><span class="ident" id="6913668">t</span>&nbsp;<span class="op" id="6913670">*</span><span class="ident" id="6913671">testing</span><span class="op" id="6913678">.</span><span class="ident" id="6913679">T</span><span class="op" id="6913680">,</span>&nbsp;<span class="ident" id="6913682">lit</span>&nbsp;<span class="builtintype" id="6913686">string</span><span class="op" id="6913692">,</span>&nbsp;<span class="ident" id="6913694">p</span>&nbsp;<span class="ident" id="6913696">token</span><span class="op" id="6913701">.</span><span class="ident" id="6913702">Pos</span><span class="op" id="6913705">,</span>&nbsp;<span class="ident" id="6913707">expected</span>&nbsp;<span class="ident" id="6913716">token</span><span class="op" id="6913721">.</span><span class="ident" id="6913722">Position</span><span class="op" id="6913730">)</span>&nbsp;<span class="op" id="6913732">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913735">pos</span>&nbsp;<span class="op" id="6913739">:=</span>&nbsp;<span class="ident" id="6913742">fset</span><span class="op" id="6913746">.</span><span class="ident" id="6913747">Position</span><span class="op" id="6913755">(</span><span class="ident" id="6913756">p</span><span class="op" id="6913757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913760">if</span>&nbsp;<span class="ident" id="6913763">pos</span><span class="op" id="6913766">.</span><span class="ident" id="6913767">Filename</span>&nbsp;<span class="op" id="6913776">!=</span>&nbsp;<span class="ident" id="6913779">expected</span><span class="op" id="6913787">.</span><span class="ident" id="6913788">Filename</span>&nbsp;<span class="op" id="6913797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913801">t</span><span class="op" id="6913802">.</span><span class="ident" id="6913803">Errorf</span><span class="op" id="6913809">(</span><span class="string" id="6913810">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="6913852">,</span>&nbsp;<span class="ident" id="6913854">lit</span><span class="op" id="6913857">,</span>&nbsp;<span class="ident" id="6913859">pos</span><span class="op" id="6913862">.</span><span class="ident" id="6913863">Filename</span><span class="op" id="6913871">,</span>&nbsp;<span class="ident" id="6913873">expected</span><span class="op" id="6913881">.</span><span class="ident" id="6913882">Filename</span><span class="op" id="6913890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913896">if</span>&nbsp;<span class="ident" id="6913899">pos</span><span class="op" id="6913902">.</span><span class="ident" id="6913903">Offset</span>&nbsp;<span class="op" id="6913910">!=</span>&nbsp;<span class="ident" id="6913913">expected</span><span class="op" id="6913921">.</span><span class="ident" id="6913922">Offset</span>&nbsp;<span class="op" id="6913929">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913933">t</span><span class="op" id="6913934">.</span><span class="ident" id="6913935">Errorf</span><span class="op" id="6913941">(</span><span class="string" id="6913942">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6913984">,</span>&nbsp;<span class="ident" id="6913986">lit</span><span class="op" id="6913989">,</span>&nbsp;<span class="ident" id="6913991">pos</span><span class="op" id="6913994">.</span><span class="ident" id="6913995">Offset</span><span class="op" id="6914001">,</span>&nbsp;<span class="ident" id="6914003">expected</span><span class="op" id="6914011">.</span><span class="ident" id="6914012">Offset</span><span class="op" id="6914018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914024">if</span>&nbsp;<span class="ident" id="6914027">pos</span><span class="op" id="6914030">.</span><span class="ident" id="6914031">Line</span>&nbsp;<span class="op" id="6914036">!=</span>&nbsp;<span class="ident" id="6914039">expected</span><span class="op" id="6914047">.</span><span class="ident" id="6914048">Line</span>&nbsp;<span class="op" id="6914053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914057">t</span><span class="op" id="6914058">.</span><span class="ident" id="6914059">Errorf</span><span class="op" id="6914065">(</span><span class="string" id="6914066">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6914104">,</span>&nbsp;<span class="ident" id="6914106">lit</span><span class="op" id="6914109">,</span>&nbsp;<span class="ident" id="6914111">pos</span><span class="op" id="6914114">.</span><span class="ident" id="6914115">Line</span><span class="op" id="6914119">,</span>&nbsp;<span class="ident" id="6914121">expected</span><span class="op" id="6914129">.</span><span class="ident" id="6914130">Line</span><span class="op" id="6914134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914137">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914140">if</span>&nbsp;<span class="ident" id="6914143">pos</span><span class="op" id="6914146">.</span><span class="ident" id="6914147">Column</span>&nbsp;<span class="op" id="6914154">!=</span>&nbsp;<span class="ident" id="6914157">expected</span><span class="op" id="6914165">.</span><span class="ident" id="6914166">Column</span>&nbsp;<span class="op" id="6914173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914177">t</span><span class="op" id="6914178">.</span><span class="ident" id="6914179">Errorf</span><span class="op" id="6914185">(</span><span class="string" id="6914186">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6914226">,</span>&nbsp;<span class="ident" id="6914228">lit</span><span class="op" id="6914231">,</span>&nbsp;<span class="ident" id="6914233">pos</span><span class="op" id="6914236">.</span><span class="ident" id="6914237">Column</span><span class="op" id="6914243">,</span>&nbsp;<span class="ident" id="6914245">expected</span><span class="op" id="6914253">.</span><span class="ident" id="6914254">Column</span><span class="op" id="6914260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914263">}</span><br>
<span class="lineno"></span><span class="op" id="6914265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="6914268">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="6914328">func</span>&nbsp;<span class="ident" id="6914333">TestScan</span><span class="op" id="6914341">(</span><span class="ident" id="6914342">t</span>&nbsp;<span class="op" id="6914344">*</span><span class="ident" id="6914345">testing</span><span class="op" id="6914352">.</span><span class="ident" id="6914353">T</span><span class="op" id="6914354">)</span>&nbsp;<span class="op" id="6914356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914359">whitespace_linecount</span>&nbsp;<span class="op" id="6914380">:=</span>&nbsp;<span class="ident" id="6914383">newlineCount</span><span class="op" id="6914395">(</span><span class="ident" id="6914396">whitespace</span><span class="op" id="6914406">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6914410">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914428">eh</span>&nbsp;<span class="op" id="6914431">:=</span>&nbsp;<span class="keyword" id="6914434">func</span><span class="op" id="6914438">(</span><span class="ident" id="6914439">_</span>&nbsp;<span class="ident" id="6914441">token</span><span class="op" id="6914446">.</span><span class="ident" id="6914447">Position</span><span class="op" id="6914455">,</span>&nbsp;<span class="ident" id="6914457">msg</span>&nbsp;<span class="builtintype" id="6914461">string</span><span class="op" id="6914467">)</span>&nbsp;<span class="op" id="6914469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914473">t</span><span class="op" id="6914474">.</span><span class="ident" id="6914475">Errorf</span><span class="op" id="6914481">(</span><span class="string" id="6914482">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="6914515">,</span>&nbsp;<span class="ident" id="6914517">msg</span><span class="op" id="6914520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6914527">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914543">var</span>&nbsp;<span class="ident" id="6914547">s</span>&nbsp;<span class="ident" id="6914549">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914558">s</span><span class="op" id="6914559">.</span><span class="ident" id="6914560">Init</span><span class="op" id="6914564">(</span><span class="ident" id="6914565">fset</span><span class="op" id="6914569">.</span><span class="ident" id="6914570">AddFile</span><span class="op" id="6914577">(</span><span class="string" id="6914578">&#34;&#34;</span><span class="op" id="6914580">,</span>&nbsp;<span class="ident" id="6914582">fset</span><span class="op" id="6914586">.</span><span class="ident" id="6914587">Base</span><span class="op" id="6914591">(</span><span class="op" id="6914592">)</span><span class="op" id="6914593">,</span>&nbsp;<span class="builtinfunc" id="6914595">len</span><span class="op" id="6914598">(</span><span class="ident" id="6914599">source</span><span class="op" id="6914605">)</span><span class="op" id="6914606">)</span><span class="op" id="6914607">,</span>&nbsp;<span class="ident" id="6914609">source</span><span class="op" id="6914615">,</span>&nbsp;<span class="ident" id="6914617">eh</span><span class="op" id="6914619">,</span>&nbsp;<span class="ident" id="6914621">ScanComments</span><span class="op" id="6914633">|</span><span class="ident" id="6914634">dontInsertSemis</span><span class="op" id="6914649">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6914653">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914682">epos</span>&nbsp;<span class="op" id="6914687">:=</span>&nbsp;<span class="ident" id="6914690">token</span><span class="op" id="6914695">.</span><span class="ident" id="6914696">Position</span><span class="op" id="6914704">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914708">Filename</span><span class="op" id="6914716">:</span>&nbsp;<span class="string" id="6914718">&#34;&#34;</span><span class="op" id="6914720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914724">Offset</span><span class="op" id="6914730">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="6914734">0</span><span class="op" id="6914735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914739">Line</span><span class="op" id="6914743">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6914749">1</span><span class="op" id="6914750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914754">Column</span><span class="op" id="6914760">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="6914764">1</span><span class="op" id="6914765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914768">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914772">index</span>&nbsp;<span class="op" id="6914778">:=</span>&nbsp;<span class="num" id="6914781">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914784">for</span>&nbsp;<span class="op" id="6914788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914792">pos</span><span class="op" id="6914795">,</span>&nbsp;<span class="ident" id="6914797">tok</span><span class="op" id="6914800">,</span>&nbsp;<span class="ident" id="6914802">lit</span>&nbsp;<span class="op" id="6914806">:=</span>&nbsp;<span class="ident" id="6914809">s</span><span class="op" id="6914810">.</span><span class="ident" id="6914811">Scan</span><span class="op" id="6914815">(</span><span class="op" id="6914816">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6914821">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914841">if</span>&nbsp;<span class="ident" id="6914844">tok</span>&nbsp;<span class="op" id="6914848">==</span>&nbsp;<span class="ident" id="6914851">token</span><span class="op" id="6914856">.</span><span class="ident" id="6914857">EOF</span>&nbsp;<span class="op" id="6914861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6914866">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914891">epos</span><span class="op" id="6914895">.</span><span class="ident" id="6914896">Line</span>&nbsp;<span class="op" id="6914901">=</span>&nbsp;<span class="ident" id="6914903">newlineCount</span><span class="op" id="6914915">(</span><span class="builtintype" id="6914916">string</span><span class="op" id="6914922">(</span><span class="ident" id="6914923">source</span><span class="op" id="6914929">)</span><span class="op" id="6914930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914935">epos</span><span class="op" id="6914939">.</span><span class="ident" id="6914940">Column</span>&nbsp;<span class="op" id="6914947">=</span>&nbsp;<span class="num" id="6914949">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914957">checkPos</span><span class="op" id="6914965">(</span><span class="ident" id="6914966">t</span><span class="op" id="6914967">,</span>&nbsp;<span class="ident" id="6914969">lit</span><span class="op" id="6914972">,</span>&nbsp;<span class="ident" id="6914974">pos</span><span class="op" id="6914977">,</span>&nbsp;<span class="ident" id="6914979">epos</span><span class="op" id="6914983">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6914988">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915005">e</span>&nbsp;<span class="op" id="6915007">:=</span>&nbsp;<span class="ident" id="6915010">elt</span><span class="op" id="6915013">{</span><span class="ident" id="6915014">token</span><span class="op" id="6915019">.</span><span class="ident" id="6915020">EOF</span><span class="op" id="6915023">,</span>&nbsp;<span class="string" id="6915025">&#34;&#34;</span><span class="op" id="6915027">,</span>&nbsp;<span class="ident" id="6915029">special</span><span class="op" id="6915036">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915040">if</span>&nbsp;<span class="ident" id="6915043">index</span>&nbsp;<span class="op" id="6915049">&lt;</span>&nbsp;<span class="builtinfunc" id="6915051">len</span><span class="op" id="6915054">(</span><span class="ident" id="6915055">tokens</span><span class="op" id="6915061">)</span>&nbsp;<span class="op" id="6915063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915068">e</span>&nbsp;<span class="op" id="6915070">=</span>&nbsp;<span class="ident" id="6915072">tokens</span><span class="op" id="6915078">[</span><span class="ident" id="6915079">index</span><span class="op" id="6915084">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915089">index</span><span class="op" id="6915094">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915103">if</span>&nbsp;<span class="ident" id="6915106">tok</span>&nbsp;<span class="op" id="6915110">!=</span>&nbsp;<span class="ident" id="6915113">e</span><span class="op" id="6915114">.</span><span class="ident" id="6915115">tok</span>&nbsp;<span class="op" id="6915119">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915124">t</span><span class="op" id="6915125">.</span><span class="ident" id="6915126">Errorf</span><span class="op" id="6915132">(</span><span class="string" id="6915133">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="6915172">,</span>&nbsp;<span class="ident" id="6915174">lit</span><span class="op" id="6915177">,</span>&nbsp;<span class="ident" id="6915179">tok</span><span class="op" id="6915182">,</span>&nbsp;<span class="ident" id="6915184">e</span><span class="op" id="6915185">.</span><span class="ident" id="6915186">tok</span><span class="op" id="6915189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6915198">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915221">if</span>&nbsp;<span class="ident" id="6915224">tokenclass</span><span class="op" id="6915234">(</span><span class="ident" id="6915235">tok</span><span class="op" id="6915238">)</span>&nbsp;<span class="op" id="6915240">!=</span>&nbsp;<span class="ident" id="6915243">e</span><span class="op" id="6915244">.</span><span class="ident" id="6915245">class</span>&nbsp;<span class="op" id="6915251">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915256">t</span><span class="op" id="6915257">.</span><span class="ident" id="6915258">Errorf</span><span class="op" id="6915264">(</span><span class="string" id="6915265">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6915304">,</span>&nbsp;<span class="ident" id="6915306">lit</span><span class="op" id="6915309">,</span>&nbsp;<span class="ident" id="6915311">tokenclass</span><span class="op" id="6915321">(</span><span class="ident" id="6915322">tok</span><span class="op" id="6915325">)</span><span class="op" id="6915326">,</span>&nbsp;<span class="ident" id="6915328">e</span><span class="op" id="6915329">.</span><span class="ident" id="6915330">class</span><span class="op" id="6915335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6915344">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915363">elit</span>&nbsp;<span class="op" id="6915368">:=</span>&nbsp;<span class="string" id="6915371">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915376">switch</span>&nbsp;<span class="ident" id="6915383">e</span><span class="op" id="6915384">.</span><span class="ident" id="6915385">tok</span>&nbsp;<span class="op" id="6915389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915393">case</span>&nbsp;<span class="ident" id="6915398">token</span><span class="op" id="6915403">.</span><span class="ident" id="6915404">COMMENT</span><span class="op" id="6915411">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6915416">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915441">elit</span>&nbsp;<span class="op" id="6915446">=</span>&nbsp;<span class="builtintype" id="6915448">string</span><span class="op" id="6915454">(</span><span class="ident" id="6915455">stripCR</span><span class="op" id="6915462">(</span><span class="op" id="6915463">[</span><span class="op" id="6915464">]</span><span class="builtintype" id="6915465">byte</span><span class="op" id="6915469">(</span><span class="ident" id="6915470">e</span><span class="op" id="6915471">.</span><span class="ident" id="6915472">lit</span><span class="op" id="6915475">)</span><span class="op" id="6915476">)</span><span class="op" id="6915477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6915482">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915534">if</span>&nbsp;<span class="ident" id="6915537">elit</span><span class="op" id="6915541">[</span><span class="num" id="6915542">1</span><span class="op" id="6915543">]</span>&nbsp;<span class="op" id="6915545">==</span>&nbsp;<span class="string" id="6915548">&#39;/&#39;</span>&nbsp;<span class="op" id="6915552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915558">elit</span>&nbsp;<span class="op" id="6915563">=</span>&nbsp;<span class="ident" id="6915565">elit</span><span class="op" id="6915569">[</span><span class="num" id="6915570">0</span>&nbsp;<span class="op" id="6915572">:</span>&nbsp;<span class="builtinfunc" id="6915574">len</span><span class="op" id="6915577">(</span><span class="ident" id="6915578">elit</span><span class="op" id="6915582">)</span><span class="op" id="6915583">-</span><span class="num" id="6915584">1</span><span class="op" id="6915585">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915594">case</span>&nbsp;<span class="ident" id="6915599">token</span><span class="op" id="6915604">.</span><span class="ident" id="6915605">IDENT</span><span class="op" id="6915610">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915615">elit</span>&nbsp;<span class="op" id="6915620">=</span>&nbsp;<span class="ident" id="6915622">e</span><span class="op" id="6915623">.</span><span class="ident" id="6915624">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915630">case</span>&nbsp;<span class="ident" id="6915635">token</span><span class="op" id="6915640">.</span><span class="ident" id="6915641">SEMICOLON</span><span class="op" id="6915650">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915655">elit</span>&nbsp;<span class="op" id="6915660">=</span>&nbsp;<span class="string" id="6915662">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915668">default</span><span class="op" id="6915675">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915680">if</span>&nbsp;<span class="ident" id="6915683">e</span><span class="op" id="6915684">.</span><span class="ident" id="6915685">tok</span><span class="op" id="6915688">.</span><span class="ident" id="6915689">IsLiteral</span><span class="op" id="6915698">(</span><span class="op" id="6915699">)</span>&nbsp;<span class="op" id="6915701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6915707">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915744">elit</span>&nbsp;<span class="op" id="6915749">=</span>&nbsp;<span class="ident" id="6915751">e</span><span class="op" id="6915752">.</span><span class="ident" id="6915753">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915761">if</span>&nbsp;<span class="ident" id="6915764">elit</span><span class="op" id="6915768">[</span><span class="num" id="6915769">0</span><span class="op" id="6915770">]</span>&nbsp;<span class="op" id="6915772">==</span>&nbsp;<span class="string" id="6915775">&#39;`&#39;</span>&nbsp;<span class="op" id="6915779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915786">elit</span>&nbsp;<span class="op" id="6915791">=</span>&nbsp;<span class="builtintype" id="6915793">string</span><span class="op" id="6915799">(</span><span class="ident" id="6915800">stripCR</span><span class="op" id="6915807">(</span><span class="op" id="6915808">[</span><span class="op" id="6915809">]</span><span class="builtintype" id="6915810">byte</span><span class="op" id="6915814">(</span><span class="ident" id="6915815">elit</span><span class="op" id="6915819">)</span><span class="op" id="6915820">)</span><span class="op" id="6915821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915832">}</span>&nbsp;<span class="keyword" id="6915834">else</span>&nbsp;<span class="keyword" id="6915839">if</span>&nbsp;<span class="ident" id="6915842">e</span><span class="op" id="6915843">.</span><span class="ident" id="6915844">tok</span><span class="op" id="6915847">.</span><span class="ident" id="6915848">IsKeyword</span><span class="op" id="6915857">(</span><span class="op" id="6915858">)</span>&nbsp;<span class="op" id="6915860">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915866">elit</span>&nbsp;<span class="op" id="6915871">=</span>&nbsp;<span class="ident" id="6915873">e</span><span class="op" id="6915874">.</span><span class="ident" id="6915875">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915890">if</span>&nbsp;<span class="ident" id="6915893">lit</span>&nbsp;<span class="op" id="6915897">!=</span>&nbsp;<span class="ident" id="6915900">elit</span>&nbsp;<span class="op" id="6915905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915910">t</span><span class="op" id="6915911">.</span><span class="ident" id="6915912">Errorf</span><span class="op" id="6915918">(</span><span class="string" id="6915919">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6915960">,</span>&nbsp;<span class="ident" id="6915962">lit</span><span class="op" id="6915965">,</span>&nbsp;<span class="ident" id="6915967">lit</span><span class="op" id="6915970">,</span>&nbsp;<span class="ident" id="6915972">elit</span><span class="op" id="6915976">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915985">if</span>&nbsp;<span class="ident" id="6915988">tok</span>&nbsp;<span class="op" id="6915992">==</span>&nbsp;<span class="ident" id="6915995">token</span><span class="op" id="6916000">.</span><span class="ident" id="6916001">EOF</span>&nbsp;<span class="op" id="6916005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916010">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916018">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6916023">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916044">epos</span><span class="op" id="6916048">.</span><span class="ident" id="6916049">Offset</span>&nbsp;<span class="op" id="6916056">+=</span>&nbsp;<span class="builtinfunc" id="6916059">len</span><span class="op" id="6916062">(</span><span class="ident" id="6916063">e</span><span class="op" id="6916064">.</span><span class="ident" id="6916065">lit</span><span class="op" id="6916068">)</span>&nbsp;<span class="op" id="6916070">+</span>&nbsp;<span class="builtinfunc" id="6916072">len</span><span class="op" id="6916075">(</span><span class="ident" id="6916076">whitespace</span><span class="op" id="6916086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916090">epos</span><span class="op" id="6916094">.</span><span class="ident" id="6916095">Line</span>&nbsp;<span class="op" id="6916100">+=</span>&nbsp;<span class="ident" id="6916103">newlineCount</span><span class="op" id="6916115">(</span><span class="ident" id="6916116">e</span><span class="op" id="6916117">.</span><span class="ident" id="6916118">lit</span><span class="op" id="6916121">)</span>&nbsp;<span class="op" id="6916123">+</span>&nbsp;<span class="ident" id="6916125">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916152">if</span>&nbsp;<span class="ident" id="6916155">s</span><span class="op" id="6916156">.</span><span class="ident" id="6916157">ErrorCount</span>&nbsp;<span class="op" id="6916168">!=</span>&nbsp;<span class="num" id="6916171">0</span>&nbsp;<span class="op" id="6916173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916177">t</span><span class="op" id="6916178">.</span><span class="ident" id="6916179">Errorf</span><span class="op" id="6916185">(</span><span class="string" id="6916186">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6916203">,</span>&nbsp;<span class="ident" id="6916205">s</span><span class="op" id="6916206">.</span><span class="ident" id="6916207">ErrorCount</span><span class="op" id="6916217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916220">}</span><br>
<span class="lineno">310</span><span class="op" id="6916222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6916225">func</span>&nbsp;<span class="ident" id="6916230">checkSemi</span><span class="op" id="6916239">(</span><span class="ident" id="6916240">t</span>&nbsp;<span class="op" id="6916242">*</span><span class="ident" id="6916243">testing</span><span class="op" id="6916250">.</span><span class="ident" id="6916251">T</span><span class="op" id="6916252">,</span>&nbsp;<span class="ident" id="6916254">line</span>&nbsp;<span class="builtintype" id="6916259">string</span><span class="op" id="6916265">,</span>&nbsp;<span class="ident" id="6916267">mode</span>&nbsp;<span class="ident" id="6916272">Mode</span><span class="op" id="6916276">)</span>&nbsp;<span class="op" id="6916278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916281">var</span>&nbsp;<span class="ident" id="6916285">S</span>&nbsp;<span class="ident" id="6916287">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916296">file</span>&nbsp;<span class="op" id="6916301">:=</span>&nbsp;<span class="ident" id="6916304">fset</span><span class="op" id="6916308">.</span><span class="ident" id="6916309">AddFile</span><span class="op" id="6916316">(</span><span class="string" id="6916317">&#34;TestSemis&#34;</span><span class="op" id="6916328">,</span>&nbsp;<span class="ident" id="6916330">fset</span><span class="op" id="6916334">.</span><span class="ident" id="6916335">Base</span><span class="op" id="6916339">(</span><span class="op" id="6916340">)</span><span class="op" id="6916341">,</span>&nbsp;<span class="builtinfunc" id="6916343">len</span><span class="op" id="6916346">(</span><span class="ident" id="6916347">line</span><span class="op" id="6916351">)</span><span class="op" id="6916352">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916355">S</span><span class="op" id="6916356">.</span><span class="ident" id="6916357">Init</span><span class="op" id="6916361">(</span><span class="ident" id="6916362">file</span><span class="op" id="6916366">,</span>&nbsp;<span class="op" id="6916368">[</span><span class="op" id="6916369">]</span><span class="builtintype" id="6916370">byte</span><span class="op" id="6916374">(</span><span class="ident" id="6916375">line</span><span class="op" id="6916379">)</span><span class="op" id="6916380">,</span>&nbsp;<span class="ident" id="6916382">nil</span><span class="op" id="6916385">,</span>&nbsp;<span class="ident" id="6916387">mode</span><span class="op" id="6916391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916394">pos</span><span class="op" id="6916397">,</span>&nbsp;<span class="ident" id="6916399">tok</span><span class="op" id="6916402">,</span>&nbsp;<span class="ident" id="6916404">lit</span>&nbsp;<span class="op" id="6916408">:=</span>&nbsp;<span class="ident" id="6916411">S</span><span class="op" id="6916412">.</span><span class="ident" id="6916413">Scan</span><span class="op" id="6916417">(</span><span class="op" id="6916418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916421">for</span>&nbsp;<span class="ident" id="6916425">tok</span>&nbsp;<span class="op" id="6916429">!=</span>&nbsp;<span class="ident" id="6916432">token</span><span class="op" id="6916437">.</span><span class="ident" id="6916438">EOF</span>&nbsp;<span class="op" id="6916442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916446">if</span>&nbsp;<span class="ident" id="6916449">tok</span>&nbsp;<span class="op" id="6916453">==</span>&nbsp;<span class="ident" id="6916456">token</span><span class="op" id="6916461">.</span><span class="ident" id="6916462">ILLEGAL</span>&nbsp;<span class="op" id="6916470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6916475">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6916522">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916564">semiLit</span>&nbsp;<span class="op" id="6916572">:=</span>&nbsp;<span class="string" id="6916575">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916583">if</span>&nbsp;<span class="ident" id="6916586">lit</span><span class="op" id="6916589">[</span><span class="num" id="6916590">0</span><span class="op" id="6916591">]</span>&nbsp;<span class="op" id="6916593">==</span>&nbsp;<span class="string" id="6916596">&#39;#&#39;</span>&nbsp;<span class="op" id="6916600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916606">semiLit</span>&nbsp;<span class="op" id="6916614">=</span>&nbsp;<span class="string" id="6916616">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916623">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6916628">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916665">semiPos</span>&nbsp;<span class="op" id="6916673">:=</span>&nbsp;<span class="ident" id="6916676">file</span><span class="op" id="6916680">.</span><span class="ident" id="6916681">Position</span><span class="op" id="6916689">(</span><span class="ident" id="6916690">pos</span><span class="op" id="6916693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916698">semiPos</span><span class="op" id="6916705">.</span><span class="ident" id="6916706">Offset</span><span class="op" id="6916712">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916718">semiPos</span><span class="op" id="6916725">.</span><span class="ident" id="6916726">Column</span><span class="op" id="6916732">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916738">pos</span><span class="op" id="6916741">,</span>&nbsp;<span class="ident" id="6916743">tok</span><span class="op" id="6916746">,</span>&nbsp;<span class="ident" id="6916748">lit</span>&nbsp;<span class="op" id="6916752">=</span>&nbsp;<span class="ident" id="6916754">S</span><span class="op" id="6916755">.</span><span class="ident" id="6916756">Scan</span><span class="op" id="6916760">(</span><span class="op" id="6916761">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916766">if</span>&nbsp;<span class="ident" id="6916769">tok</span>&nbsp;<span class="op" id="6916773">==</span>&nbsp;<span class="ident" id="6916776">token</span><span class="op" id="6916781">.</span><span class="ident" id="6916782">SEMICOLON</span>&nbsp;<span class="op" id="6916792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916798">if</span>&nbsp;<span class="ident" id="6916801">lit</span>&nbsp;<span class="op" id="6916805">!=</span>&nbsp;<span class="ident" id="6916808">semiLit</span>&nbsp;<span class="op" id="6916816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916823">t</span><span class="op" id="6916824">.</span><span class="ident" id="6916825">Errorf</span><span class="op" id="6916831">(</span><span class="string" id="6916832">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="6916873">,</span>&nbsp;<span class="ident" id="6916875">line</span><span class="op" id="6916879">,</span>&nbsp;<span class="ident" id="6916881">lit</span><span class="op" id="6916884">,</span>&nbsp;<span class="ident" id="6916886">semiLit</span><span class="op" id="6916893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916905">checkPos</span><span class="op" id="6916913">(</span><span class="ident" id="6916914">t</span><span class="op" id="6916915">,</span>&nbsp;<span class="ident" id="6916917">line</span><span class="op" id="6916921">,</span>&nbsp;<span class="ident" id="6916923">pos</span><span class="op" id="6916926">,</span>&nbsp;<span class="ident" id="6916928">semiPos</span><span class="op" id="6916935">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916940">}</span>&nbsp;<span class="keyword" id="6916942">else</span>&nbsp;<span class="op" id="6916947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916953">t</span><span class="op" id="6916954">.</span><span class="ident" id="6916955">Errorf</span><span class="op" id="6916961">(</span><span class="string" id="6916962">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="6917000">,</span>&nbsp;<span class="ident" id="6917002">line</span><span class="op" id="6917006">,</span>&nbsp;<span class="ident" id="6917008">tok</span><span class="op" id="6917011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6917016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6917020">}</span>&nbsp;<span class="keyword" id="6917022">else</span>&nbsp;<span class="keyword" id="6917027">if</span>&nbsp;<span class="ident" id="6917030">tok</span>&nbsp;<span class="op" id="6917034">==</span>&nbsp;<span class="ident" id="6917037">token</span><span class="op" id="6917042">.</span><span class="ident" id="6917043">SEMICOLON</span>&nbsp;<span class="op" id="6917053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917058">t</span><span class="op" id="6917059">.</span><span class="ident" id="6917060">Errorf</span><span class="op" id="6917066">(</span><span class="string" id="6917067">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="6917107">,</span>&nbsp;<span class="ident" id="6917109">line</span><span class="op" id="6917113">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6917117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917121">pos</span><span class="op" id="6917124">,</span>&nbsp;<span class="ident" id="6917126">tok</span><span class="op" id="6917129">,</span>&nbsp;<span class="ident" id="6917131">lit</span>&nbsp;<span class="op" id="6917135">=</span>&nbsp;<span class="ident" id="6917137">S</span><span class="op" id="6917138">.</span><span class="ident" id="6917139">Scan</span><span class="op" id="6917143">(</span><span class="op" id="6917144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6917147">}</span><br>
<span class="lineno"></span><span class="op" id="6917149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="6917152">var</span>&nbsp;<span class="ident" id="6917156">lines</span>&nbsp;<span class="op" id="6917162">=</span>&nbsp;<span class="op" id="6917164">[</span><span class="op" id="6917165">]</span><span class="builtintype" id="6917166">string</span><span class="op" id="6917172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6917175">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6917225">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917277">&#34;&#34;</span><span class="op" id="6917279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917282">&#34;\ufeff#;&#34;</span><span class="op" id="6917292">,</span>&nbsp;<span class="comment" id="6917294">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917319">&#34;#;&#34;</span><span class="op" id="6917323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917326">&#34;foo$\n&#34;</span><span class="op" id="6917334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917337">&#34;123$\n&#34;</span><span class="op" id="6917345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917348">&#34;1.2$\n&#34;</span><span class="op" id="6917356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917359">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="6917367">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917370">`&#34;x&#34;`</span>&nbsp;<span class="op" id="6917376">+</span>&nbsp;<span class="string" id="6917378">&#34;$\n&#34;</span><span class="op" id="6917383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917386">&#34;`x`$\n&#34;</span><span class="op" id="6917394">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917398">&#34;+\n&#34;</span><span class="op" id="6917403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917406">&#34;-\n&#34;</span><span class="op" id="6917411">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917414">&#34;*\n&#34;</span><span class="op" id="6917419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917422">&#34;/\n&#34;</span><span class="op" id="6917427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917430">&#34;%\n&#34;</span><span class="op" id="6917435">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917439">&#34;&amp;\n&#34;</span><span class="op" id="6917444">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917447">&#34;|\n&#34;</span><span class="op" id="6917452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917455">&#34;^\n&#34;</span><span class="op" id="6917460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917463">&#34;&lt;&lt;\n&#34;</span><span class="op" id="6917469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917472">&#34;&gt;&gt;\n&#34;</span><span class="op" id="6917478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917481">&#34;&amp;^\n&#34;</span><span class="op" id="6917487">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917491">&#34;+=\n&#34;</span><span class="op" id="6917497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917500">&#34;-=\n&#34;</span><span class="op" id="6917506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917509">&#34;*=\n&#34;</span><span class="op" id="6917515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917518">&#34;/=\n&#34;</span><span class="op" id="6917524">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917527">&#34;%=\n&#34;</span><span class="op" id="6917533">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917537">&#34;&amp;=\n&#34;</span><span class="op" id="6917543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917546">&#34;|=\n&#34;</span><span class="op" id="6917552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917555">&#34;^=\n&#34;</span><span class="op" id="6917561">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917564">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="6917571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917574">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="6917581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917584">&#34;&amp;^=\n&#34;</span><span class="op" id="6917591">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917595">&#34;&amp;&amp;\n&#34;</span><span class="op" id="6917601">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917604">&#34;||\n&#34;</span><span class="op" id="6917610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917613">&#34;&lt;-\n&#34;</span><span class="op" id="6917619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917622">&#34;++$\n&#34;</span><span class="op" id="6917629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917632">&#34;--$\n&#34;</span><span class="op" id="6917639">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917643">&#34;==\n&#34;</span><span class="op" id="6917649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917652">&#34;&lt;\n&#34;</span><span class="op" id="6917657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917660">&#34;&gt;\n&#34;</span><span class="op" id="6917665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917668">&#34;=\n&#34;</span><span class="op" id="6917673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917676">&#34;!\n&#34;</span><span class="op" id="6917681">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917685">&#34;!=\n&#34;</span><span class="op" id="6917691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917694">&#34;&lt;=\n&#34;</span><span class="op" id="6917700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917703">&#34;&gt;=\n&#34;</span><span class="op" id="6917709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917712">&#34;:=\n&#34;</span><span class="op" id="6917718">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917721">&#34;...\n&#34;</span><span class="op" id="6917728">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917732">&#34;(\n&#34;</span><span class="op" id="6917737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917740">&#34;[\n&#34;</span><span class="op" id="6917745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917748">&#34;{\n&#34;</span><span class="op" id="6917753">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917756">&#34;,\n&#34;</span><span class="op" id="6917761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917764">&#34;.\n&#34;</span><span class="op" id="6917769">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917773">&#34;)$\n&#34;</span><span class="op" id="6917779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917782">&#34;]$\n&#34;</span><span class="op" id="6917788">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917791">&#34;}$\n&#34;</span><span class="op" id="6917797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917800">&#34;#;\n&#34;</span><span class="op" id="6917806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917809">&#34;:\n&#34;</span><span class="op" id="6917814">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917818">&#34;break$\n&#34;</span><span class="op" id="6917828">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917831">&#34;case\n&#34;</span><span class="op" id="6917839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917842">&#34;chan\n&#34;</span><span class="op" id="6917850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917853">&#34;const\n&#34;</span><span class="op" id="6917862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917865">&#34;continue$\n&#34;</span><span class="op" id="6917878">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917882">&#34;default\n&#34;</span><span class="op" id="6917893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917896">&#34;defer\n&#34;</span><span class="op" id="6917905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917908">&#34;else\n&#34;</span><span class="op" id="6917916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917919">&#34;fallthrough$\n&#34;</span><span class="op" id="6917935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917938">&#34;for\n&#34;</span><span class="op" id="6917945">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917949">&#34;func\n&#34;</span><span class="op" id="6917957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917960">&#34;go\n&#34;</span><span class="op" id="6917966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917969">&#34;goto\n&#34;</span><span class="op" id="6917977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917980">&#34;if\n&#34;</span><span class="op" id="6917986">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6917989">&#34;import\n&#34;</span><span class="op" id="6917999">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918003">&#34;interface\n&#34;</span><span class="op" id="6918016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918019">&#34;map\n&#34;</span><span class="op" id="6918026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918029">&#34;package\n&#34;</span><span class="op" id="6918040">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918043">&#34;range\n&#34;</span><span class="op" id="6918052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918055">&#34;return$\n&#34;</span><span class="op" id="6918066">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918070">&#34;select\n&#34;</span><span class="op" id="6918080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918083">&#34;struct\n&#34;</span><span class="op" id="6918093">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918096">&#34;switch\n&#34;</span><span class="op" id="6918106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918109">&#34;type\n&#34;</span><span class="op" id="6918117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918120">&#34;var\n&#34;</span><span class="op" id="6918127">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918131">&#34;foo$//comment\n&#34;</span><span class="op" id="6918148">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918151">&#34;foo$//comment&#34;</span><span class="op" id="6918166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918169">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="6918188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918191">&#34;foo$/*\n*/&#34;</span><span class="op" id="6918203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918206">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="6918229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918232">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="6918248">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918252">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="6918274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918277">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="6918297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918300">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="6918323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918326">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="6918342">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918345">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="6918381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918384">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="6918413">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918417">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="6918444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918447">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="6918480">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918483">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="6918554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918557">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="6918597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918600">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="6918643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918646">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="6918689">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918693">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="6918760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918763">&#34;package&nbsp;main$&#34;</span><span class="op" id="6918778">,</span><br>
<span class="lineno"></span><span class="op" id="6918780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6918783">func</span>&nbsp;<span class="ident" id="6918788">TestSemis</span><span class="op" id="6918797">(</span><span class="ident" id="6918798">t</span>&nbsp;<span class="op" id="6918800">*</span><span class="ident" id="6918801">testing</span><span class="op" id="6918808">.</span><span class="ident" id="6918809">T</span><span class="op" id="6918810">)</span>&nbsp;<span class="op" id="6918812">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6918815">for</span>&nbsp;<span class="ident" id="6918819">_</span><span class="op" id="6918820">,</span>&nbsp;<span class="ident" id="6918822">line</span>&nbsp;<span class="op" id="6918827">:=</span>&nbsp;<span class="keyword" id="6918830">range</span>&nbsp;<span class="ident" id="6918836">lines</span>&nbsp;<span class="op" id="6918842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6918846">checkSemi</span><span class="op" id="6918855">(</span><span class="ident" id="6918856">t</span><span class="op" id="6918857">,</span>&nbsp;<span class="ident" id="6918859">line</span><span class="op" id="6918863">,</span>&nbsp;<span class="num" id="6918865">0</span><span class="op" id="6918866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6918870">checkSemi</span><span class="op" id="6918879">(</span><span class="ident" id="6918880">t</span><span class="op" id="6918881">,</span>&nbsp;<span class="ident" id="6918883">line</span><span class="op" id="6918887">,</span>&nbsp;<span class="ident" id="6918889">ScanComments</span><span class="op" id="6918901">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6918906">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6918971">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6919012">for</span>&nbsp;<span class="ident" id="6919016">i</span>&nbsp;<span class="op" id="6919018">:=</span>&nbsp;<span class="builtinfunc" id="6919021">len</span><span class="op" id="6919024">(</span><span class="ident" id="6919025">line</span><span class="op" id="6919029">)</span>&nbsp;<span class="op" id="6919031">-</span>&nbsp;<span class="num" id="6919033">1</span><span class="op" id="6919034">;</span>&nbsp;<span class="ident" id="6919036">i</span>&nbsp;<span class="op" id="6919038">&gt;=</span>&nbsp;<span class="num" id="6919041">0</span>&nbsp;<span class="op" id="6919043">&amp;&amp;</span>&nbsp;<span class="ident" id="6919046">line</span><span class="op" id="6919050">[</span><span class="ident" id="6919051">i</span><span class="op" id="6919052">]</span>&nbsp;<span class="op" id="6919054">==</span>&nbsp;<span class="string" id="6919057">&#39;\n&#39;</span><span class="op" id="6919061">;</span>&nbsp;<span class="ident" id="6919063">i</span><span class="op" id="6919064">--</span>&nbsp;<span class="op" id="6919067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6919072">checkSemi</span><span class="op" id="6919081">(</span><span class="ident" id="6919082">t</span><span class="op" id="6919083">,</span>&nbsp;<span class="ident" id="6919085">line</span><span class="op" id="6919089">[</span><span class="num" id="6919090">0</span><span class="op" id="6919091">:</span><span class="ident" id="6919092">i</span><span class="op" id="6919093">]</span><span class="op" id="6919094">,</span>&nbsp;<span class="num" id="6919096">0</span><span class="op" id="6919097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6919102">checkSemi</span><span class="op" id="6919111">(</span><span class="ident" id="6919112">t</span><span class="op" id="6919113">,</span>&nbsp;<span class="ident" id="6919115">line</span><span class="op" id="6919119">[</span><span class="num" id="6919120">0</span><span class="op" id="6919121">:</span><span class="ident" id="6919122">i</span><span class="op" id="6919123">]</span><span class="op" id="6919124">,</span>&nbsp;<span class="ident" id="6919126">ScanComments</span><span class="op" id="6919138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919142">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919145">}</span><br>
<span class="lineno"></span><span class="op" id="6919147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6919150">type</span>&nbsp;<span class="ident" id="6919155">segment</span>&nbsp;<span class="keyword" id="6919163">struct</span>&nbsp;<span class="op" id="6919170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6919173">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="6919182">string</span>&nbsp;<span class="comment" id="6919189">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6919215">filename</span>&nbsp;<span class="builtintype" id="6919224">string</span>&nbsp;<span class="comment" id="6919231">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6919262">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6919271">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6919278">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="6919311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6919314">var</span>&nbsp;<span class="ident" id="6919318">segments</span>&nbsp;<span class="op" id="6919327">=</span>&nbsp;<span class="op" id="6919329">[</span><span class="op" id="6919330">]</span><span class="ident" id="6919331">segment</span><span class="op" id="6919338">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6919341">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919418">{</span><span class="string" id="6919419">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="6919428">,</span>&nbsp;<span class="ident" id="6919430">filepath</span><span class="op" id="6919438">.</span><span class="ident" id="6919439">Join</span><span class="op" id="6919443">(</span><span class="string" id="6919444">&#34;dir&#34;</span><span class="op" id="6919449">,</span>&nbsp;<span class="string" id="6919451">&#34;TestLineComments&#34;</span><span class="op" id="6919469">)</span><span class="op" id="6919470">,</span>&nbsp;<span class="num" id="6919472">1</span><span class="op" id="6919473">}</span><span class="op" id="6919474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919477">{</span><span class="string" id="6919478">&#34;\nline2&#34;</span><span class="op" id="6919487">,</span>&nbsp;<span class="ident" id="6919489">filepath</span><span class="op" id="6919497">.</span><span class="ident" id="6919498">Join</span><span class="op" id="6919502">(</span><span class="string" id="6919503">&#34;dir&#34;</span><span class="op" id="6919508">,</span>&nbsp;<span class="string" id="6919510">&#34;TestLineComments&#34;</span><span class="op" id="6919528">)</span><span class="op" id="6919529">,</span>&nbsp;<span class="num" id="6919531">2</span><span class="op" id="6919532">}</span><span class="op" id="6919533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919536">{</span><span class="string" id="6919537">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="6919567">,</span>&nbsp;<span class="ident" id="6919569">filepath</span><span class="op" id="6919577">.</span><span class="ident" id="6919578">Join</span><span class="op" id="6919582">(</span><span class="string" id="6919583">&#34;dir&#34;</span><span class="op" id="6919588">,</span>&nbsp;<span class="string" id="6919590">&#34;TestLineComments&#34;</span><span class="op" id="6919608">)</span><span class="op" id="6919609">,</span>&nbsp;<span class="num" id="6919611">3</span><span class="op" id="6919612">}</span><span class="op" id="6919613">,</span>&nbsp;<span class="comment" id="6919615">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919645">{</span><span class="string" id="6919646">&#34;\nline4&#34;</span><span class="op" id="6919655">,</span>&nbsp;<span class="ident" id="6919657">filepath</span><span class="op" id="6919665">.</span><span class="ident" id="6919666">Join</span><span class="op" id="6919670">(</span><span class="string" id="6919671">&#34;dir&#34;</span><span class="op" id="6919676">,</span>&nbsp;<span class="string" id="6919678">&#34;TestLineComments&#34;</span><span class="op" id="6919696">)</span><span class="op" id="6919697">,</span>&nbsp;<span class="num" id="6919699">4</span><span class="op" id="6919700">}</span><span class="op" id="6919701">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919704">{</span><span class="string" id="6919705">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="6919739">,</span>&nbsp;<span class="ident" id="6919741">filepath</span><span class="op" id="6919749">.</span><span class="ident" id="6919750">Join</span><span class="op" id="6919754">(</span><span class="string" id="6919755">&#34;dir&#34;</span><span class="op" id="6919760">,</span>&nbsp;<span class="string" id="6919762">&#34;File1.go&#34;</span><span class="op" id="6919772">)</span><span class="op" id="6919773">,</span>&nbsp;<span class="num" id="6919775">100</span><span class="op" id="6919778">}</span><span class="op" id="6919779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919782">{</span><span class="string" id="6919783">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="6919810">,</span>&nbsp;<span class="string" id="6919812">&#34;&#34;</span><span class="op" id="6919814">,</span>&nbsp;<span class="num" id="6919816">42</span><span class="op" id="6919818">}</span><span class="op" id="6919819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919822">{</span><span class="string" id="6919823">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="6919857">,</span>&nbsp;<span class="ident" id="6919859">filepath</span><span class="op" id="6919867">.</span><span class="ident" id="6919868">Join</span><span class="op" id="6919872">(</span><span class="string" id="6919873">&#34;dir&#34;</span><span class="op" id="6919878">,</span>&nbsp;<span class="string" id="6919880">&#34;File2.go&#34;</span><span class="op" id="6919890">)</span><span class="op" id="6919891">,</span>&nbsp;<span class="num" id="6919893">200</span><span class="op" id="6919896">}</span><span class="op" id="6919897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919900">{</span><span class="string" id="6919901">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="6919930">,</span>&nbsp;<span class="ident" id="6919932">filepath</span><span class="op" id="6919940">.</span><span class="ident" id="6919941">Join</span><span class="op" id="6919945">(</span><span class="string" id="6919946">&#34;dir&#34;</span><span class="op" id="6919951">,</span>&nbsp;<span class="string" id="6919953">&#34;foo&#34;</span><span class="op" id="6919958">)</span><span class="op" id="6919959">,</span>&nbsp;<span class="num" id="6919961">42</span><span class="op" id="6919963">}</span><span class="op" id="6919964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6919967">{</span><span class="string" id="6919968">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="6919996">,</span>&nbsp;<span class="ident" id="6919998">filepath</span><span class="op" id="6920006">.</span><span class="ident" id="6920007">Join</span><span class="op" id="6920011">(</span><span class="string" id="6920012">&#34;dir&#34;</span><span class="op" id="6920017">,</span>&nbsp;<span class="string" id="6920019">&#34;foo&#34;</span><span class="op" id="6920024">)</span><span class="op" id="6920025">,</span>&nbsp;<span class="num" id="6920027">44</span><span class="op" id="6920029">}</span><span class="op" id="6920030">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6920042">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920072">{</span><span class="string" id="6920073">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="6920100">,</span>&nbsp;<span class="ident" id="6920102">filepath</span><span class="op" id="6920110">.</span><span class="ident" id="6920111">Join</span><span class="op" id="6920115">(</span><span class="string" id="6920116">&#34;dir&#34;</span><span class="op" id="6920121">,</span>&nbsp;<span class="string" id="6920123">&#34;foo&#34;</span><span class="op" id="6920128">)</span><span class="op" id="6920129">,</span>&nbsp;<span class="num" id="6920131">46</span><span class="op" id="6920133">}</span><span class="op" id="6920134">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6920147">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920177">{</span><span class="string" id="6920178">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="6920216">,</span>&nbsp;<span class="ident" id="6920218">filepath</span><span class="op" id="6920226">.</span><span class="ident" id="6920227">Join</span><span class="op" id="6920231">(</span><span class="string" id="6920232">&#34;dir&#34;</span><span class="op" id="6920237">,</span>&nbsp;<span class="string" id="6920239">&#34;foo&#34;</span><span class="op" id="6920244">)</span><span class="op" id="6920245">,</span>&nbsp;<span class="num" id="6920247">48</span><span class="op" id="6920249">}</span><span class="op" id="6920250">,</span>&nbsp;<span class="comment" id="6920252">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920282">{</span><span class="string" id="6920283">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="6920312">,</span>&nbsp;<span class="ident" id="6920314">filepath</span><span class="op" id="6920322">.</span><span class="ident" id="6920323">Join</span><span class="op" id="6920327">(</span><span class="string" id="6920328">&#34;dir&#34;</span><span class="op" id="6920333">,</span>&nbsp;<span class="string" id="6920335">&#34;foo&#34;</span><span class="op" id="6920340">)</span><span class="op" id="6920341">,</span>&nbsp;<span class="num" id="6920343">42</span><span class="op" id="6920345">}</span><span class="op" id="6920346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920349">{</span><span class="string" id="6920350">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="6920390">,</span>&nbsp;<span class="ident" id="6920392">filepath</span><span class="op" id="6920400">.</span><span class="ident" id="6920401">Join</span><span class="op" id="6920405">(</span><span class="string" id="6920406">&#34;dir&#34;</span><span class="op" id="6920411">,</span>&nbsp;<span class="string" id="6920413">&#34;a&#34;</span><span class="op" id="6920416">,</span>&nbsp;<span class="string" id="6920418">&#34;b&#34;</span><span class="op" id="6920421">,</span>&nbsp;<span class="string" id="6920423">&#34;c&#34;</span><span class="op" id="6920426">,</span>&nbsp;<span class="string" id="6920428">&#34;File1.go&#34;</span><span class="op" id="6920438">)</span><span class="op" id="6920439">,</span>&nbsp;<span class="num" id="6920441">100</span><span class="op" id="6920444">}</span><span class="op" id="6920445">,</span><br>
<span class="lineno"></span><span class="op" id="6920447">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="6920450">var</span>&nbsp;<span class="ident" id="6920454">unixsegments</span>&nbsp;<span class="op" id="6920467">=</span>&nbsp;<span class="op" id="6920469">[</span><span class="op" id="6920470">]</span><span class="ident" id="6920471">segment</span><span class="op" id="6920478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920481">{</span><span class="string" id="6920482">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="6920510">,</span>&nbsp;<span class="string" id="6920512">&#34;/bar&#34;</span><span class="op" id="6920518">,</span>&nbsp;<span class="num" id="6920520">42</span><span class="op" id="6920522">}</span><span class="op" id="6920523">,</span><br>
<span class="lineno"></span><span class="op" id="6920525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="6920528">var</span>&nbsp;<span class="ident" id="6920532">winsegments</span>&nbsp;<span class="op" id="6920544">=</span>&nbsp;<span class="op" id="6920546">[</span><span class="op" id="6920547">]</span><span class="ident" id="6920548">segment</span><span class="op" id="6920555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920558">{</span><span class="string" id="6920559">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="6920590">,</span>&nbsp;<span class="string" id="6920592">&#34;c:\\bar&#34;</span><span class="op" id="6920601">,</span>&nbsp;<span class="num" id="6920603">42</span><span class="op" id="6920605">}</span><span class="op" id="6920606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920609">{</span><span class="string" id="6920610">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="6920653">,</span>&nbsp;<span class="string" id="6920655">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="6920674">,</span>&nbsp;<span class="num" id="6920676">100</span><span class="op" id="6920679">}</span><span class="op" id="6920680">,</span><br>
<span class="lineno"></span><span class="op" id="6920682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="6920685">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="6920771">func</span>&nbsp;<span class="ident" id="6920776">TestLineComments</span><span class="op" id="6920792">(</span><span class="ident" id="6920793">t</span>&nbsp;<span class="op" id="6920795">*</span><span class="ident" id="6920796">testing</span><span class="op" id="6920803">.</span><span class="ident" id="6920804">T</span><span class="op" id="6920805">)</span>&nbsp;<span class="op" id="6920807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920810">segs</span>&nbsp;<span class="op" id="6920815">:=</span>&nbsp;<span class="ident" id="6920818">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6920828">if</span>&nbsp;<span class="ident" id="6920831">runtime</span><span class="op" id="6920838">.</span><span class="ident" id="6920839">GOOS</span>&nbsp;<span class="op" id="6920844">==</span>&nbsp;<span class="string" id="6920847">&#34;windows&#34;</span>&nbsp;<span class="op" id="6920857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920861">segs</span>&nbsp;<span class="op" id="6920866">=</span>&nbsp;<span class="builtinfunc" id="6920868">append</span><span class="op" id="6920874">(</span><span class="ident" id="6920875">segs</span><span class="op" id="6920879">,</span>&nbsp;<span class="ident" id="6920881">winsegments</span><span class="op" id="6920892">...</span><span class="op" id="6920895">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920898">}</span>&nbsp;<span class="keyword" id="6920900">else</span>&nbsp;<span class="op" id="6920905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920909">segs</span>&nbsp;<span class="op" id="6920914">=</span>&nbsp;<span class="builtinfunc" id="6920916">append</span><span class="op" id="6920922">(</span><span class="ident" id="6920923">segs</span><span class="op" id="6920927">,</span>&nbsp;<span class="ident" id="6920929">unixsegments</span><span class="op" id="6920941">...</span><span class="op" id="6920944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6920951">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6920967">var</span>&nbsp;<span class="ident" id="6920971">src</span>&nbsp;<span class="builtintype" id="6920975">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6920983">for</span>&nbsp;<span class="ident" id="6920987">_</span><span class="op" id="6920988">,</span>&nbsp;<span class="ident" id="6920990">e</span>&nbsp;<span class="op" id="6920992">:=</span>&nbsp;<span class="keyword" id="6920995">range</span>&nbsp;<span class="ident" id="6921001">segs</span>&nbsp;<span class="op" id="6921006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921010">src</span>&nbsp;<span class="op" id="6921014">+=</span>&nbsp;<span class="ident" id="6921017">e</span><span class="op" id="6921018">.</span><span class="ident" id="6921019">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6921028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6921032">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921048">var</span>&nbsp;<span class="ident" id="6921052">S</span>&nbsp;<span class="ident" id="6921054">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921063">file</span>&nbsp;<span class="op" id="6921068">:=</span>&nbsp;<span class="ident" id="6921071">fset</span><span class="op" id="6921075">.</span><span class="ident" id="6921076">AddFile</span><span class="op" id="6921083">(</span><span class="ident" id="6921084">filepath</span><span class="op" id="6921092">.</span><span class="ident" id="6921093">Join</span><span class="op" id="6921097">(</span><span class="string" id="6921098">&#34;dir&#34;</span><span class="op" id="6921103">,</span>&nbsp;<span class="string" id="6921105">&#34;TestLineComments&#34;</span><span class="op" id="6921123">)</span><span class="op" id="6921124">,</span>&nbsp;<span class="ident" id="6921126">fset</span><span class="op" id="6921130">.</span><span class="ident" id="6921131">Base</span><span class="op" id="6921135">(</span><span class="op" id="6921136">)</span><span class="op" id="6921137">,</span>&nbsp;<span class="builtinfunc" id="6921139">len</span><span class="op" id="6921142">(</span><span class="ident" id="6921143">src</span><span class="op" id="6921146">)</span><span class="op" id="6921147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921150">S</span><span class="op" id="6921151">.</span><span class="ident" id="6921152">Init</span><span class="op" id="6921156">(</span><span class="ident" id="6921157">file</span><span class="op" id="6921161">,</span>&nbsp;<span class="op" id="6921163">[</span><span class="op" id="6921164">]</span><span class="builtintype" id="6921165">byte</span><span class="op" id="6921169">(</span><span class="ident" id="6921170">src</span><span class="op" id="6921173">)</span><span class="op" id="6921174">,</span>&nbsp;<span class="ident" id="6921176">nil</span><span class="op" id="6921179">,</span>&nbsp;<span class="ident" id="6921181">dontInsertSemis</span><span class="op" id="6921196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921199">for</span>&nbsp;<span class="ident" id="6921203">_</span><span class="op" id="6921204">,</span>&nbsp;<span class="ident" id="6921206">s</span>&nbsp;<span class="op" id="6921208">:=</span>&nbsp;<span class="keyword" id="6921211">range</span>&nbsp;<span class="ident" id="6921217">segs</span>&nbsp;<span class="op" id="6921222">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921226">p</span><span class="op" id="6921227">,</span>&nbsp;<span class="ident" id="6921229">_</span><span class="op" id="6921230">,</span>&nbsp;<span class="ident" id="6921232">lit</span>&nbsp;<span class="op" id="6921236">:=</span>&nbsp;<span class="ident" id="6921239">S</span><span class="op" id="6921240">.</span><span class="ident" id="6921241">Scan</span><span class="op" id="6921245">(</span><span class="op" id="6921246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921250">pos</span>&nbsp;<span class="op" id="6921254">:=</span>&nbsp;<span class="ident" id="6921257">file</span><span class="op" id="6921261">.</span><span class="ident" id="6921262">Position</span><span class="op" id="6921270">(</span><span class="ident" id="6921271">p</span><span class="op" id="6921272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921276">checkPos</span><span class="op" id="6921284">(</span><span class="ident" id="6921285">t</span><span class="op" id="6921286">,</span>&nbsp;<span class="ident" id="6921288">lit</span><span class="op" id="6921291">,</span>&nbsp;<span class="ident" id="6921293">p</span><span class="op" id="6921294">,</span>&nbsp;<span class="ident" id="6921296">token</span><span class="op" id="6921301">.</span><span class="ident" id="6921302">Position</span><span class="op" id="6921310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921315">Filename</span><span class="op" id="6921323">:</span>&nbsp;<span class="ident" id="6921325">s</span><span class="op" id="6921326">.</span><span class="ident" id="6921327">filename</span><span class="op" id="6921335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921340">Offset</span><span class="op" id="6921346">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6921350">pos</span><span class="op" id="6921353">.</span><span class="ident" id="6921354">Offset</span><span class="op" id="6921360">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921365">Line</span><span class="op" id="6921369">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6921375">s</span><span class="op" id="6921376">.</span><span class="ident" id="6921377">line</span><span class="op" id="6921381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921386">Column</span><span class="op" id="6921392">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6921396">pos</span><span class="op" id="6921399">.</span><span class="ident" id="6921400">Column</span><span class="op" id="6921406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6921410">}</span><span class="op" id="6921411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6921414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921418">if</span>&nbsp;<span class="ident" id="6921421">S</span><span class="op" id="6921422">.</span><span class="ident" id="6921423">ErrorCount</span>&nbsp;<span class="op" id="6921434">!=</span>&nbsp;<span class="num" id="6921437">0</span>&nbsp;<span class="op" id="6921439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921443">t</span><span class="op" id="6921444">.</span><span class="ident" id="6921445">Errorf</span><span class="op" id="6921451">(</span><span class="string" id="6921452">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6921469">,</span>&nbsp;<span class="ident" id="6921471">S</span><span class="op" id="6921472">.</span><span class="ident" id="6921473">ErrorCount</span><span class="op" id="6921483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6921486">}</span><br>
<span class="lineno"></span><span class="op" id="6921488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="6921491">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="6921568">func</span>&nbsp;<span class="ident" id="6921573">TestInit</span><span class="op" id="6921581">(</span><span class="ident" id="6921582">t</span>&nbsp;<span class="op" id="6921584">*</span><span class="ident" id="6921585">testing</span><span class="op" id="6921592">.</span><span class="ident" id="6921593">T</span><span class="op" id="6921594">)</span>&nbsp;<span class="op" id="6921596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921599">var</span>&nbsp;<span class="ident" id="6921603">s</span>&nbsp;<span class="ident" id="6921605">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6921615">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921628">src1</span>&nbsp;<span class="op" id="6921633">:=</span>&nbsp;<span class="string" id="6921636">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921651">f1</span>&nbsp;<span class="op" id="6921654">:=</span>&nbsp;<span class="ident" id="6921657">fset</span><span class="op" id="6921661">.</span><span class="ident" id="6921662">AddFile</span><span class="op" id="6921669">(</span><span class="string" id="6921670">&#34;src1&#34;</span><span class="op" id="6921676">,</span>&nbsp;<span class="ident" id="6921678">fset</span><span class="op" id="6921682">.</span><span class="ident" id="6921683">Base</span><span class="op" id="6921687">(</span><span class="op" id="6921688">)</span><span class="op" id="6921689">,</span>&nbsp;<span class="builtinfunc" id="6921691">len</span><span class="op" id="6921694">(</span><span class="ident" id="6921695">src1</span><span class="op" id="6921699">)</span><span class="op" id="6921700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921703">s</span><span class="op" id="6921704">.</span><span class="ident" id="6921705">Init</span><span class="op" id="6921709">(</span><span class="ident" id="6921710">f1</span><span class="op" id="6921712">,</span>&nbsp;<span class="op" id="6921714">[</span><span class="op" id="6921715">]</span><span class="builtintype" id="6921716">byte</span><span class="op" id="6921720">(</span><span class="ident" id="6921721">src1</span><span class="op" id="6921725">)</span><span class="op" id="6921726">,</span>&nbsp;<span class="ident" id="6921728">nil</span><span class="op" id="6921731">,</span>&nbsp;<span class="ident" id="6921733">dontInsertSemis</span><span class="op" id="6921748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921751">if</span>&nbsp;<span class="ident" id="6921754">f1</span><span class="op" id="6921756">.</span><span class="ident" id="6921757">Size</span><span class="op" id="6921761">(</span><span class="op" id="6921762">)</span>&nbsp;<span class="op" id="6921764">!=</span>&nbsp;<span class="builtinfunc" id="6921767">len</span><span class="op" id="6921770">(</span><span class="ident" id="6921771">src1</span><span class="op" id="6921775">)</span>&nbsp;<span class="op" id="6921777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921781">t</span><span class="op" id="6921782">.</span><span class="ident" id="6921783">Errorf</span><span class="op" id="6921789">(</span><span class="string" id="6921790">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6921826">,</span>&nbsp;<span class="ident" id="6921828">f1</span><span class="op" id="6921830">.</span><span class="ident" id="6921831">Size</span><span class="op" id="6921835">(</span><span class="op" id="6921836">)</span><span class="op" id="6921837">,</span>&nbsp;<span class="builtinfunc" id="6921839">len</span><span class="op" id="6921842">(</span><span class="ident" id="6921843">src1</span><span class="op" id="6921847">)</span><span class="op" id="6921848">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6921851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921854">s</span><span class="op" id="6921855">.</span><span class="ident" id="6921856">Scan</span><span class="op" id="6921860">(</span><span class="op" id="6921861">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6921876">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921883">s</span><span class="op" id="6921884">.</span><span class="ident" id="6921885">Scan</span><span class="op" id="6921889">(</span><span class="op" id="6921890">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6921905">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921914">_</span><span class="op" id="6921915">,</span>&nbsp;<span class="ident" id="6921917">tok</span><span class="op" id="6921920">,</span>&nbsp;<span class="ident" id="6921922">_</span>&nbsp;<span class="op" id="6921924">:=</span>&nbsp;<span class="ident" id="6921927">s</span><span class="op" id="6921928">.</span><span class="ident" id="6921929">Scan</span><span class="op" id="6921933">(</span><span class="op" id="6921934">)</span>&nbsp;<span class="comment" id="6921936">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921942">if</span>&nbsp;<span class="ident" id="6921945">tok</span>&nbsp;<span class="op" id="6921949">!=</span>&nbsp;<span class="ident" id="6921952">token</span><span class="op" id="6921957">.</span><span class="ident" id="6921958">LBRACE</span>&nbsp;<span class="op" id="6921965">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921969">t</span><span class="op" id="6921970">.</span><span class="ident" id="6921971">Errorf</span><span class="op" id="6921977">(</span><span class="string" id="6921978">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="6922010">,</span>&nbsp;<span class="ident" id="6922012">tok</span><span class="op" id="6922015">,</span>&nbsp;<span class="ident" id="6922017">token</span><span class="op" id="6922022">.</span><span class="ident" id="6922023">LBRACE</span><span class="op" id="6922029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6922032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6922036">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922049">src2</span>&nbsp;<span class="op" id="6922054">:=</span>&nbsp;<span class="string" id="6922057">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922072">f2</span>&nbsp;<span class="op" id="6922075">:=</span>&nbsp;<span class="ident" id="6922078">fset</span><span class="op" id="6922082">.</span><span class="ident" id="6922083">AddFile</span><span class="op" id="6922090">(</span><span class="string" id="6922091">&#34;src2&#34;</span><span class="op" id="6922097">,</span>&nbsp;<span class="ident" id="6922099">fset</span><span class="op" id="6922103">.</span><span class="ident" id="6922104">Base</span><span class="op" id="6922108">(</span><span class="op" id="6922109">)</span><span class="op" id="6922110">,</span>&nbsp;<span class="builtinfunc" id="6922112">len</span><span class="op" id="6922115">(</span><span class="ident" id="6922116">src2</span><span class="op" id="6922120">)</span><span class="op" id="6922121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922124">s</span><span class="op" id="6922125">.</span><span class="ident" id="6922126">Init</span><span class="op" id="6922130">(</span><span class="ident" id="6922131">f2</span><span class="op" id="6922133">,</span>&nbsp;<span class="op" id="6922135">[</span><span class="op" id="6922136">]</span><span class="builtintype" id="6922137">byte</span><span class="op" id="6922141">(</span><span class="ident" id="6922142">src2</span><span class="op" id="6922146">)</span><span class="op" id="6922147">,</span>&nbsp;<span class="ident" id="6922149">nil</span><span class="op" id="6922152">,</span>&nbsp;<span class="ident" id="6922154">dontInsertSemis</span><span class="op" id="6922169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922172">if</span>&nbsp;<span class="ident" id="6922175">f2</span><span class="op" id="6922177">.</span><span class="ident" id="6922178">Size</span><span class="op" id="6922182">(</span><span class="op" id="6922183">)</span>&nbsp;<span class="op" id="6922185">!=</span>&nbsp;<span class="builtinfunc" id="6922188">len</span><span class="op" id="6922191">(</span><span class="ident" id="6922192">src2</span><span class="op" id="6922196">)</span>&nbsp;<span class="op" id="6922198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922202">t</span><span class="op" id="6922203">.</span><span class="ident" id="6922204">Errorf</span><span class="op" id="6922210">(</span><span class="string" id="6922211">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6922247">,</span>&nbsp;<span class="ident" id="6922249">f2</span><span class="op" id="6922251">.</span><span class="ident" id="6922252">Size</span><span class="op" id="6922256">(</span><span class="op" id="6922257">)</span><span class="op" id="6922258">,</span>&nbsp;<span class="builtinfunc" id="6922260">len</span><span class="op" id="6922263">(</span><span class="ident" id="6922264">src2</span><span class="op" id="6922268">)</span><span class="op" id="6922269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6922272">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922275">_</span><span class="op" id="6922276">,</span>&nbsp;<span class="ident" id="6922278">tok</span><span class="op" id="6922281">,</span>&nbsp;<span class="ident" id="6922283">_</span>&nbsp;<span class="op" id="6922285">=</span>&nbsp;<span class="ident" id="6922287">s</span><span class="op" id="6922288">.</span><span class="ident" id="6922289">Scan</span><span class="op" id="6922293">(</span><span class="op" id="6922294">)</span>&nbsp;<span class="comment" id="6922296">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922303">if</span>&nbsp;<span class="ident" id="6922306">tok</span>&nbsp;<span class="op" id="6922310">!=</span>&nbsp;<span class="ident" id="6922313">token</span><span class="op" id="6922318">.</span><span class="ident" id="6922319">GO</span>&nbsp;<span class="op" id="6922322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922326">t</span><span class="op" id="6922327">.</span><span class="ident" id="6922328">Errorf</span><span class="op" id="6922334">(</span><span class="string" id="6922335">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="6922367">,</span>&nbsp;<span class="ident" id="6922369">tok</span><span class="op" id="6922372">,</span>&nbsp;<span class="ident" id="6922374">token</span><span class="op" id="6922379">.</span><span class="ident" id="6922380">GO</span><span class="op" id="6922382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6922385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922389">if</span>&nbsp;<span class="ident" id="6922392">s</span><span class="op" id="6922393">.</span><span class="ident" id="6922394">ErrorCount</span>&nbsp;<span class="op" id="6922405">!=</span>&nbsp;<span class="num" id="6922408">0</span>&nbsp;<span class="op" id="6922410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922414">t</span><span class="op" id="6922415">.</span><span class="ident" id="6922416">Errorf</span><span class="op" id="6922422">(</span><span class="string" id="6922423">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6922440">,</span>&nbsp;<span class="ident" id="6922442">s</span><span class="op" id="6922443">.</span><span class="ident" id="6922444">ErrorCount</span><span class="op" id="6922454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6922457">}</span><br>
<span class="lineno"></span><span class="op" id="6922459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="6922462">func</span>&nbsp;<span class="ident" id="6922467">TestStdErrorHander</span><span class="op" id="6922485">(</span><span class="ident" id="6922486">t</span>&nbsp;<span class="op" id="6922488">*</span><span class="ident" id="6922489">testing</span><span class="op" id="6922496">.</span><span class="ident" id="6922497">T</span><span class="op" id="6922498">)</span>&nbsp;<span class="op" id="6922500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922503">const</span>&nbsp;<span class="ident" id="6922509">src</span>&nbsp;<span class="op" id="6922513">=</span>&nbsp;<span class="string" id="6922515">&#34;@\n&#34;</span>&nbsp;<span class="op" id="6922521">+</span>&nbsp;<span class="comment" id="6922523">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6922562">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="6922570">+</span>&nbsp;<span class="comment" id="6922572">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6922605">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="6922625">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6922629">&#34;@\n&#34;</span>&nbsp;<span class="op" id="6922635">+</span>&nbsp;<span class="comment" id="6922637">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6922672">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="6922691">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6922695">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="6922703">+</span>&nbsp;<span class="comment" id="6922705">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6922744">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="6922763">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6922767">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="6922775">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922808">var</span>&nbsp;<span class="ident" id="6922812">list</span>&nbsp;<span class="ident" id="6922817">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922828">eh</span>&nbsp;<span class="op" id="6922831">:=</span>&nbsp;<span class="keyword" id="6922834">func</span><span class="op" id="6922838">(</span><span class="ident" id="6922839">pos</span>&nbsp;<span class="ident" id="6922843">token</span><span class="op" id="6922848">.</span><span class="ident" id="6922849">Position</span><span class="op" id="6922857">,</span>&nbsp;<span class="ident" id="6922859">msg</span>&nbsp;<span class="builtintype" id="6922863">string</span><span class="op" id="6922869">)</span>&nbsp;<span class="op" id="6922871">{</span>&nbsp;<span class="ident" id="6922873">list</span><span class="op" id="6922877">.</span><span class="ident" id="6922878">Add</span><span class="op" id="6922881">(</span><span class="ident" id="6922882">pos</span><span class="op" id="6922885">,</span>&nbsp;<span class="ident" id="6922887">msg</span><span class="op" id="6922890">)</span>&nbsp;<span class="op" id="6922892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922896">var</span>&nbsp;<span class="ident" id="6922900">s</span>&nbsp;<span class="ident" id="6922902">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922911">s</span><span class="op" id="6922912">.</span><span class="ident" id="6922913">Init</span><span class="op" id="6922917">(</span><span class="ident" id="6922918">fset</span><span class="op" id="6922922">.</span><span class="ident" id="6922923">AddFile</span><span class="op" id="6922930">(</span><span class="string" id="6922931">&#34;File1&#34;</span><span class="op" id="6922938">,</span>&nbsp;<span class="ident" id="6922940">fset</span><span class="op" id="6922944">.</span><span class="ident" id="6922945">Base</span><span class="op" id="6922949">(</span><span class="op" id="6922950">)</span><span class="op" id="6922951">,</span>&nbsp;<span class="builtinfunc" id="6922953">len</span><span class="op" id="6922956">(</span><span class="ident" id="6922957">src</span><span class="op" id="6922960">)</span><span class="op" id="6922961">)</span><span class="op" id="6922962">,</span>&nbsp;<span class="op" id="6922964">[</span><span class="op" id="6922965">]</span><span class="builtintype" id="6922966">byte</span><span class="op" id="6922970">(</span><span class="ident" id="6922971">src</span><span class="op" id="6922974">)</span><span class="op" id="6922975">,</span>&nbsp;<span class="ident" id="6922977">eh</span><span class="op" id="6922979">,</span>&nbsp;<span class="ident" id="6922981">dontInsertSemis</span><span class="op" id="6922996">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922999">for</span>&nbsp;<span class="op" id="6923003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923007">if</span>&nbsp;<span class="ident" id="6923010">_</span><span class="op" id="6923011">,</span>&nbsp;<span class="ident" id="6923013">tok</span><span class="op" id="6923016">,</span>&nbsp;<span class="ident" id="6923018">_</span>&nbsp;<span class="op" id="6923020">:=</span>&nbsp;<span class="ident" id="6923023">s</span><span class="op" id="6923024">.</span><span class="ident" id="6923025">Scan</span><span class="op" id="6923029">(</span><span class="op" id="6923030">)</span><span class="op" id="6923031">;</span>&nbsp;<span class="ident" id="6923033">tok</span>&nbsp;<span class="op" id="6923037">==</span>&nbsp;<span class="ident" id="6923040">token</span><span class="op" id="6923045">.</span><span class="ident" id="6923046">EOF</span>&nbsp;<span class="op" id="6923050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923055">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923066">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923070">if</span>&nbsp;<span class="builtinfunc" id="6923073">len</span><span class="op" id="6923076">(</span><span class="ident" id="6923077">list</span><span class="op" id="6923081">)</span>&nbsp;<span class="op" id="6923083">!=</span>&nbsp;<span class="ident" id="6923086">s</span><span class="op" id="6923087">.</span><span class="ident" id="6923088">ErrorCount</span>&nbsp;<span class="op" id="6923099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923103">t</span><span class="op" id="6923104">.</span><span class="ident" id="6923105">Errorf</span><span class="op" id="6923111">(</span><span class="string" id="6923112">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6923142">,</span>&nbsp;<span class="builtinfunc" id="6923144">len</span><span class="op" id="6923147">(</span><span class="ident" id="6923148">list</span><span class="op" id="6923152">)</span><span class="op" id="6923153">,</span>&nbsp;<span class="ident" id="6923155">s</span><span class="op" id="6923156">.</span><span class="ident" id="6923157">ErrorCount</span><span class="op" id="6923167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923174">if</span>&nbsp;<span class="builtinfunc" id="6923177">len</span><span class="op" id="6923180">(</span><span class="ident" id="6923181">list</span><span class="op" id="6923185">)</span>&nbsp;<span class="op" id="6923187">!=</span>&nbsp;<span class="num" id="6923190">9</span>&nbsp;<span class="op" id="6923192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923196">t</span><span class="op" id="6923197">.</span><span class="ident" id="6923198">Errorf</span><span class="op" id="6923204">(</span><span class="string" id="6923205">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="6923238">,</span>&nbsp;<span class="builtinfunc" id="6923240">len</span><span class="op" id="6923243">(</span><span class="ident" id="6923244">list</span><span class="op" id="6923248">)</span><span class="op" id="6923249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923253">PrintError</span><span class="op" id="6923263">(</span><span class="ident" id="6923264">os</span><span class="op" id="6923266">.</span><span class="ident" id="6923267">Stderr</span><span class="op" id="6923273">,</span>&nbsp;<span class="ident" id="6923275">list</span><span class="op" id="6923279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923286">list</span><span class="op" id="6923290">.</span><span class="ident" id="6923291">Sort</span><span class="op" id="6923295">(</span><span class="op" id="6923296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923299">if</span>&nbsp;<span class="builtinfunc" id="6923302">len</span><span class="op" id="6923305">(</span><span class="ident" id="6923306">list</span><span class="op" id="6923310">)</span>&nbsp;<span class="op" id="6923312">!=</span>&nbsp;<span class="num" id="6923315">9</span>&nbsp;<span class="op" id="6923317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923321">t</span><span class="op" id="6923322">.</span><span class="ident" id="6923323">Errorf</span><span class="op" id="6923329">(</span><span class="string" id="6923330">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="6923366">,</span>&nbsp;<span class="builtinfunc" id="6923368">len</span><span class="op" id="6923371">(</span><span class="ident" id="6923372">list</span><span class="op" id="6923376">)</span><span class="op" id="6923377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923381">PrintError</span><span class="op" id="6923391">(</span><span class="ident" id="6923392">os</span><span class="op" id="6923394">.</span><span class="ident" id="6923395">Stderr</span><span class="op" id="6923401">,</span>&nbsp;<span class="ident" id="6923403">list</span><span class="op" id="6923407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923410">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923414">list</span><span class="op" id="6923418">.</span><span class="ident" id="6923419">RemoveMultiples</span><span class="op" id="6923434">(</span><span class="op" id="6923435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923438">if</span>&nbsp;<span class="builtinfunc" id="6923441">len</span><span class="op" id="6923444">(</span><span class="ident" id="6923445">list</span><span class="op" id="6923449">)</span>&nbsp;<span class="op" id="6923451">!=</span>&nbsp;<span class="num" id="6923454">4</span>&nbsp;<span class="op" id="6923456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923460">t</span><span class="op" id="6923461">.</span><span class="ident" id="6923462">Errorf</span><span class="op" id="6923468">(</span><span class="string" id="6923469">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="6923511">,</span>&nbsp;<span class="builtinfunc" id="6923513">len</span><span class="op" id="6923516">(</span><span class="ident" id="6923517">list</span><span class="op" id="6923521">)</span><span class="op" id="6923522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923526">PrintError</span><span class="op" id="6923536">(</span><span class="ident" id="6923537">os</span><span class="op" id="6923539">.</span><span class="ident" id="6923540">Stderr</span><span class="op" id="6923546">,</span>&nbsp;<span class="ident" id="6923548">list</span><span class="op" id="6923552">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923555">}</span><br>
<span class="lineno"></span><span class="op" id="6923557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6923560">type</span>&nbsp;<span class="ident" id="6923565">errorCollector</span>&nbsp;<span class="keyword" id="6923580">struct</span>&nbsp;<span class="op" id="6923587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923590">cnt</span>&nbsp;<span class="builtintype" id="6923594">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6923609">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923642">msg</span>&nbsp;<span class="builtintype" id="6923646">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6923661">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923696">pos</span>&nbsp;<span class="ident" id="6923700">token</span><span class="op" id="6923705">.</span><span class="ident" id="6923706">Position</span>&nbsp;<span class="comment" id="6923715">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="6923750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6923753">func</span>&nbsp;<span class="ident" id="6923758">checkError</span><span class="op" id="6923768">(</span><span class="ident" id="6923769">t</span>&nbsp;<span class="op" id="6923771">*</span><span class="ident" id="6923772">testing</span><span class="op" id="6923779">.</span><span class="ident" id="6923780">T</span><span class="op" id="6923781">,</span>&nbsp;<span class="ident" id="6923783">src</span>&nbsp;<span class="builtintype" id="6923787">string</span><span class="op" id="6923793">,</span>&nbsp;<span class="ident" id="6923795">tok</span>&nbsp;<span class="ident" id="6923799">token</span><span class="op" id="6923804">.</span><span class="ident" id="6923805">Token</span><span class="op" id="6923810">,</span>&nbsp;<span class="ident" id="6923812">pos</span>&nbsp;<span class="builtintype" id="6923816">int</span><span class="op" id="6923819">,</span>&nbsp;<span class="ident" id="6923821">lit</span><span class="op" id="6923824">,</span>&nbsp;<span class="ident" id="6923826">err</span>&nbsp;<span class="builtintype" id="6923830">string</span><span class="op" id="6923836">)</span>&nbsp;<span class="op" id="6923838">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923841">var</span>&nbsp;<span class="ident" id="6923845">s</span>&nbsp;<span class="ident" id="6923847">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923856">var</span>&nbsp;<span class="ident" id="6923860">h</span>&nbsp;<span class="ident" id="6923862">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923878">eh</span>&nbsp;<span class="op" id="6923881">:=</span>&nbsp;<span class="keyword" id="6923884">func</span><span class="op" id="6923888">(</span><span class="ident" id="6923889">pos</span>&nbsp;<span class="ident" id="6923893">token</span><span class="op" id="6923898">.</span><span class="ident" id="6923899">Position</span><span class="op" id="6923907">,</span>&nbsp;<span class="ident" id="6923909">msg</span>&nbsp;<span class="builtintype" id="6923913">string</span><span class="op" id="6923919">)</span>&nbsp;<span class="op" id="6923921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923925">h</span><span class="op" id="6923926">.</span><span class="ident" id="6923927">cnt</span><span class="op" id="6923930">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923935">h</span><span class="op" id="6923936">.</span><span class="ident" id="6923937">msg</span>&nbsp;<span class="op" id="6923941">=</span>&nbsp;<span class="ident" id="6923943">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923949">h</span><span class="op" id="6923950">.</span><span class="ident" id="6923951">pos</span>&nbsp;<span class="op" id="6923955">=</span>&nbsp;<span class="ident" id="6923957">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923965">s</span><span class="op" id="6923966">.</span><span class="ident" id="6923967">Init</span><span class="op" id="6923971">(</span><span class="ident" id="6923972">fset</span><span class="op" id="6923976">.</span><span class="ident" id="6923977">AddFile</span><span class="op" id="6923984">(</span><span class="string" id="6923985">&#34;&#34;</span><span class="op" id="6923987">,</span>&nbsp;<span class="ident" id="6923989">fset</span><span class="op" id="6923993">.</span><span class="ident" id="6923994">Base</span><span class="op" id="6923998">(</span><span class="op" id="6923999">)</span><span class="op" id="6924000">,</span>&nbsp;<span class="builtinfunc" id="6924002">len</span><span class="op" id="6924005">(</span><span class="ident" id="6924006">src</span><span class="op" id="6924009">)</span><span class="op" id="6924010">)</span><span class="op" id="6924011">,</span>&nbsp;<span class="op" id="6924013">[</span><span class="op" id="6924014">]</span><span class="builtintype" id="6924015">byte</span><span class="op" id="6924019">(</span><span class="ident" id="6924020">src</span><span class="op" id="6924023">)</span><span class="op" id="6924024">,</span>&nbsp;<span class="ident" id="6924026">eh</span><span class="op" id="6924028">,</span>&nbsp;<span class="ident" id="6924030">ScanComments</span><span class="op" id="6924042">|</span><span class="ident" id="6924043">dontInsertSemis</span><span class="op" id="6924058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924061">_</span><span class="op" id="6924062">,</span>&nbsp;<span class="ident" id="6924064">tok0</span><span class="op" id="6924068">,</span>&nbsp;<span class="ident" id="6924070">lit0</span>&nbsp;<span class="op" id="6924075">:=</span>&nbsp;<span class="ident" id="6924078">s</span><span class="op" id="6924079">.</span><span class="ident" id="6924080">Scan</span><span class="op" id="6924084">(</span><span class="op" id="6924085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924088">if</span>&nbsp;<span class="ident" id="6924091">tok0</span>&nbsp;<span class="op" id="6924096">!=</span>&nbsp;<span class="ident" id="6924099">tok</span>&nbsp;<span class="op" id="6924103">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924107">t</span><span class="op" id="6924108">.</span><span class="ident" id="6924109">Errorf</span><span class="op" id="6924115">(</span><span class="string" id="6924116">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="6924141">,</span>&nbsp;<span class="ident" id="6924143">src</span><span class="op" id="6924146">,</span>&nbsp;<span class="ident" id="6924148">tok0</span><span class="op" id="6924152">,</span>&nbsp;<span class="ident" id="6924154">tok</span><span class="op" id="6924157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924163">if</span>&nbsp;<span class="ident" id="6924166">tok0</span>&nbsp;<span class="op" id="6924171">!=</span>&nbsp;<span class="ident" id="6924174">token</span><span class="op" id="6924179">.</span><span class="ident" id="6924180">ILLEGAL</span>&nbsp;<span class="op" id="6924188">&amp;&amp;</span>&nbsp;<span class="ident" id="6924191">lit0</span>&nbsp;<span class="op" id="6924196">!=</span>&nbsp;<span class="ident" id="6924199">lit</span>&nbsp;<span class="op" id="6924203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924207">t</span><span class="op" id="6924208">.</span><span class="ident" id="6924209">Errorf</span><span class="op" id="6924215">(</span><span class="string" id="6924216">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6924249">,</span>&nbsp;<span class="ident" id="6924251">src</span><span class="op" id="6924254">,</span>&nbsp;<span class="ident" id="6924256">lit0</span><span class="op" id="6924260">,</span>&nbsp;<span class="ident" id="6924262">lit</span><span class="op" id="6924265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924268">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924271">cnt</span>&nbsp;<span class="op" id="6924275">:=</span>&nbsp;<span class="num" id="6924278">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924281">if</span>&nbsp;<span class="ident" id="6924284">err</span>&nbsp;<span class="op" id="6924288">!=</span>&nbsp;<span class="string" id="6924291">&#34;&#34;</span>&nbsp;<span class="op" id="6924294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924298">cnt</span>&nbsp;<span class="op" id="6924302">=</span>&nbsp;<span class="num" id="6924304">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924310">if</span>&nbsp;<span class="ident" id="6924313">h</span><span class="op" id="6924314">.</span><span class="ident" id="6924315">cnt</span>&nbsp;<span class="op" id="6924319">!=</span>&nbsp;<span class="ident" id="6924322">cnt</span>&nbsp;<span class="op" id="6924326">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924330">t</span><span class="op" id="6924331">.</span><span class="ident" id="6924332">Errorf</span><span class="op" id="6924338">(</span><span class="string" id="6924339">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6924368">,</span>&nbsp;<span class="ident" id="6924370">src</span><span class="op" id="6924373">,</span>&nbsp;<span class="ident" id="6924375">h</span><span class="op" id="6924376">.</span><span class="ident" id="6924377">cnt</span><span class="op" id="6924380">,</span>&nbsp;<span class="ident" id="6924382">cnt</span><span class="op" id="6924385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924391">if</span>&nbsp;<span class="ident" id="6924394">h</span><span class="op" id="6924395">.</span><span class="ident" id="6924396">msg</span>&nbsp;<span class="op" id="6924400">!=</span>&nbsp;<span class="ident" id="6924403">err</span>&nbsp;<span class="op" id="6924407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924411">t</span><span class="op" id="6924412">.</span><span class="ident" id="6924413">Errorf</span><span class="op" id="6924419">(</span><span class="string" id="6924420">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6924449">,</span>&nbsp;<span class="ident" id="6924451">src</span><span class="op" id="6924454">,</span>&nbsp;<span class="ident" id="6924456">h</span><span class="op" id="6924457">.</span><span class="ident" id="6924458">msg</span><span class="op" id="6924461">,</span>&nbsp;<span class="ident" id="6924463">err</span><span class="op" id="6924466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924469">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924472">if</span>&nbsp;<span class="ident" id="6924475">h</span><span class="op" id="6924476">.</span><span class="ident" id="6924477">pos</span><span class="op" id="6924480">.</span><span class="ident" id="6924481">Offset</span>&nbsp;<span class="op" id="6924488">!=</span>&nbsp;<span class="ident" id="6924491">pos</span>&nbsp;<span class="op" id="6924495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924499">t</span><span class="op" id="6924500">.</span><span class="ident" id="6924501">Errorf</span><span class="op" id="6924507">(</span><span class="string" id="6924508">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6924540">,</span>&nbsp;<span class="ident" id="6924542">src</span><span class="op" id="6924545">,</span>&nbsp;<span class="ident" id="6924547">h</span><span class="op" id="6924548">.</span><span class="ident" id="6924549">pos</span><span class="op" id="6924552">.</span><span class="ident" id="6924553">Offset</span><span class="op" id="6924559">,</span>&nbsp;<span class="ident" id="6924561">pos</span><span class="op" id="6924564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924567">}</span><br>
<span class="lineno"></span><span class="op" id="6924569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="6924572">var</span>&nbsp;<span class="ident" id="6924576">errors</span>&nbsp;<span class="op" id="6924583">=</span>&nbsp;<span class="op" id="6924585">[</span><span class="op" id="6924586">]</span><span class="keyword" id="6924587">struct</span>&nbsp;<span class="op" id="6924594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924597">src</span>&nbsp;<span class="builtintype" id="6924601">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924609">tok</span>&nbsp;<span class="ident" id="6924613">token</span><span class="op" id="6924618">.</span><span class="ident" id="6924619">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924626">pos</span>&nbsp;<span class="builtintype" id="6924630">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924635">lit</span>&nbsp;<span class="builtintype" id="6924639">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924647">err</span>&nbsp;<span class="builtintype" id="6924651">string</span><br>
<span class="lineno"></span><span class="op" id="6924658">}</span><span class="op" id="6924659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924662">{</span><span class="string" id="6924663">&#34;\a&#34;</span><span class="op" id="6924667">,</span>&nbsp;<span class="ident" id="6924669">token</span><span class="op" id="6924674">.</span><span class="ident" id="6924675">ILLEGAL</span><span class="op" id="6924682">,</span>&nbsp;<span class="num" id="6924684">0</span><span class="op" id="6924685">,</span>&nbsp;<span class="string" id="6924687">&#34;&#34;</span><span class="op" id="6924689">,</span>&nbsp;<span class="string" id="6924691">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="6924717">}</span><span class="op" id="6924718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924721">{</span><span class="string" id="6924722">`#`</span><span class="op" id="6924725">,</span>&nbsp;<span class="ident" id="6924727">token</span><span class="op" id="6924732">.</span><span class="ident" id="6924733">ILLEGAL</span><span class="op" id="6924740">,</span>&nbsp;<span class="num" id="6924742">0</span><span class="op" id="6924743">,</span>&nbsp;<span class="string" id="6924745">&#34;&#34;</span><span class="op" id="6924747">,</span>&nbsp;<span class="string" id="6924749">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="6924779">}</span><span class="op" id="6924780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924783">{</span><span class="string" id="6924784">`…`</span><span class="op" id="6924789">,</span>&nbsp;<span class="ident" id="6924791">token</span><span class="op" id="6924796">.</span><span class="ident" id="6924797">ILLEGAL</span><span class="op" id="6924804">,</span>&nbsp;<span class="num" id="6924806">0</span><span class="op" id="6924807">,</span>&nbsp;<span class="string" id="6924809">&#34;&#34;</span><span class="op" id="6924811">,</span>&nbsp;<span class="string" id="6924813">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="6924845">}</span><span class="op" id="6924846">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924849">{</span><span class="string" id="6924850">`&#39;&nbsp;&#39;`</span><span class="op" id="6924855">,</span>&nbsp;<span class="ident" id="6924857">token</span><span class="op" id="6924862">.</span><span class="ident" id="6924863">CHAR</span><span class="op" id="6924867">,</span>&nbsp;<span class="num" id="6924869">0</span><span class="op" id="6924870">,</span>&nbsp;<span class="string" id="6924872">`&#39;&nbsp;&#39;`</span><span class="op" id="6924877">,</span>&nbsp;<span class="string" id="6924879">&#34;&#34;</span><span class="op" id="6924881">}</span><span class="op" id="6924882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924885">{</span><span class="string" id="6924886">`&#39;&#39;`</span><span class="op" id="6924890">,</span>&nbsp;<span class="ident" id="6924892">token</span><span class="op" id="6924897">.</span><span class="ident" id="6924898">CHAR</span><span class="op" id="6924902">,</span>&nbsp;<span class="num" id="6924904">0</span><span class="op" id="6924905">,</span>&nbsp;<span class="string" id="6924907">`&#39;&#39;`</span><span class="op" id="6924911">,</span>&nbsp;<span class="string" id="6924913">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="6924935">}</span><span class="op" id="6924936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924939">{</span><span class="string" id="6924940">`&#39;12&#39;`</span><span class="op" id="6924946">,</span>&nbsp;<span class="ident" id="6924948">token</span><span class="op" id="6924953">.</span><span class="ident" id="6924954">CHAR</span><span class="op" id="6924958">,</span>&nbsp;<span class="num" id="6924960">0</span><span class="op" id="6924961">,</span>&nbsp;<span class="string" id="6924963">`&#39;12&#39;`</span><span class="op" id="6924969">,</span>&nbsp;<span class="string" id="6924971">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="6924993">}</span><span class="op" id="6924994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924997">{</span><span class="string" id="6924998">`&#39;123&#39;`</span><span class="op" id="6925005">,</span>&nbsp;<span class="ident" id="6925007">token</span><span class="op" id="6925012">.</span><span class="ident" id="6925013">CHAR</span><span class="op" id="6925017">,</span>&nbsp;<span class="num" id="6925019">0</span><span class="op" id="6925020">,</span>&nbsp;<span class="string" id="6925022">`&#39;123&#39;`</span><span class="op" id="6925029">,</span>&nbsp;<span class="string" id="6925031">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="6925053">}</span><span class="op" id="6925054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925057">{</span><span class="string" id="6925058">`&#39;\0&#39;`</span><span class="op" id="6925064">,</span>&nbsp;<span class="ident" id="6925066">token</span><span class="op" id="6925071">.</span><span class="ident" id="6925072">CHAR</span><span class="op" id="6925076">,</span>&nbsp;<span class="num" id="6925078">3</span><span class="op" id="6925079">,</span>&nbsp;<span class="string" id="6925081">`&#39;\0&#39;`</span><span class="op" id="6925087">,</span>&nbsp;<span class="string" id="6925089">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925138">}</span><span class="op" id="6925139">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925142">{</span><span class="string" id="6925143">`&#39;\07&#39;`</span><span class="op" id="6925150">,</span>&nbsp;<span class="ident" id="6925152">token</span><span class="op" id="6925157">.</span><span class="ident" id="6925158">CHAR</span><span class="op" id="6925162">,</span>&nbsp;<span class="num" id="6925164">4</span><span class="op" id="6925165">,</span>&nbsp;<span class="string" id="6925167">`&#39;\07&#39;`</span><span class="op" id="6925174">,</span>&nbsp;<span class="string" id="6925176">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925225">}</span><span class="op" id="6925226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925229">{</span><span class="string" id="6925230">`&#39;\8&#39;`</span><span class="op" id="6925236">,</span>&nbsp;<span class="ident" id="6925238">token</span><span class="op" id="6925243">.</span><span class="ident" id="6925244">CHAR</span><span class="op" id="6925248">,</span>&nbsp;<span class="num" id="6925250">2</span><span class="op" id="6925251">,</span>&nbsp;<span class="string" id="6925253">`&#39;\8&#39;`</span><span class="op" id="6925259">,</span>&nbsp;<span class="string" id="6925261">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925286">}</span><span class="op" id="6925287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925290">{</span><span class="string" id="6925291">`&#39;\08&#39;`</span><span class="op" id="6925298">,</span>&nbsp;<span class="ident" id="6925300">token</span><span class="op" id="6925305">.</span><span class="ident" id="6925306">CHAR</span><span class="op" id="6925310">,</span>&nbsp;<span class="num" id="6925312">3</span><span class="op" id="6925313">,</span>&nbsp;<span class="string" id="6925315">`&#39;\08&#39;`</span><span class="op" id="6925322">,</span>&nbsp;<span class="string" id="6925324">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925373">}</span><span class="op" id="6925374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925377">{</span><span class="string" id="6925378">`&#39;\x&#39;`</span><span class="op" id="6925384">,</span>&nbsp;<span class="ident" id="6925386">token</span><span class="op" id="6925391">.</span><span class="ident" id="6925392">CHAR</span><span class="op" id="6925396">,</span>&nbsp;<span class="num" id="6925398">3</span><span class="op" id="6925399">,</span>&nbsp;<span class="string" id="6925401">`&#39;\x&#39;`</span><span class="op" id="6925407">,</span>&nbsp;<span class="string" id="6925409">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925458">}</span><span class="op" id="6925459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925462">{</span><span class="string" id="6925463">`&#39;\x0&#39;`</span><span class="op" id="6925470">,</span>&nbsp;<span class="ident" id="6925472">token</span><span class="op" id="6925477">.</span><span class="ident" id="6925478">CHAR</span><span class="op" id="6925482">,</span>&nbsp;<span class="num" id="6925484">4</span><span class="op" id="6925485">,</span>&nbsp;<span class="string" id="6925487">`&#39;\x0&#39;`</span><span class="op" id="6925494">,</span>&nbsp;<span class="string" id="6925496">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925545">}</span><span class="op" id="6925546">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925549">{</span><span class="string" id="6925550">`&#39;\x0g&#39;`</span><span class="op" id="6925558">,</span>&nbsp;<span class="ident" id="6925560">token</span><span class="op" id="6925565">.</span><span class="ident" id="6925566">CHAR</span><span class="op" id="6925570">,</span>&nbsp;<span class="num" id="6925572">4</span><span class="op" id="6925573">,</span>&nbsp;<span class="string" id="6925575">`&#39;\x0g&#39;`</span><span class="op" id="6925583">,</span>&nbsp;<span class="string" id="6925585">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925634">}</span><span class="op" id="6925635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925638">{</span><span class="string" id="6925639">`&#39;\u&#39;`</span><span class="op" id="6925645">,</span>&nbsp;<span class="ident" id="6925647">token</span><span class="op" id="6925652">.</span><span class="ident" id="6925653">CHAR</span><span class="op" id="6925657">,</span>&nbsp;<span class="num" id="6925659">3</span><span class="op" id="6925660">,</span>&nbsp;<span class="string" id="6925662">`&#39;\u&#39;`</span><span class="op" id="6925668">,</span>&nbsp;<span class="string" id="6925670">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925719">}</span><span class="op" id="6925720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925723">{</span><span class="string" id="6925724">`&#39;\u0&#39;`</span><span class="op" id="6925731">,</span>&nbsp;<span class="ident" id="6925733">token</span><span class="op" id="6925738">.</span><span class="ident" id="6925739">CHAR</span><span class="op" id="6925743">,</span>&nbsp;<span class="num" id="6925745">4</span><span class="op" id="6925746">,</span>&nbsp;<span class="string" id="6925748">`&#39;\u0&#39;`</span><span class="op" id="6925755">,</span>&nbsp;<span class="string" id="6925757">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925806">}</span><span class="op" id="6925807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925810">{</span><span class="string" id="6925811">`&#39;\u00&#39;`</span><span class="op" id="6925819">,</span>&nbsp;<span class="ident" id="6925821">token</span><span class="op" id="6925826">.</span><span class="ident" id="6925827">CHAR</span><span class="op" id="6925831">,</span>&nbsp;<span class="num" id="6925833">5</span><span class="op" id="6925834">,</span>&nbsp;<span class="string" id="6925836">`&#39;\u00&#39;`</span><span class="op" id="6925844">,</span>&nbsp;<span class="string" id="6925846">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925895">}</span><span class="op" id="6925896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925899">{</span><span class="string" id="6925900">`&#39;\u000&#39;`</span><span class="op" id="6925909">,</span>&nbsp;<span class="ident" id="6925911">token</span><span class="op" id="6925916">.</span><span class="ident" id="6925917">CHAR</span><span class="op" id="6925921">,</span>&nbsp;<span class="num" id="6925923">6</span><span class="op" id="6925924">,</span>&nbsp;<span class="string" id="6925926">`&#39;\u000&#39;`</span><span class="op" id="6925935">,</span>&nbsp;<span class="string" id="6925937">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6925986">}</span><span class="op" id="6925987">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925990">{</span><span class="string" id="6925991">`&#39;\u000`</span><span class="op" id="6925999">,</span>&nbsp;<span class="ident" id="6926001">token</span><span class="op" id="6926006">.</span><span class="ident" id="6926007">CHAR</span><span class="op" id="6926011">,</span>&nbsp;<span class="num" id="6926013">6</span><span class="op" id="6926014">,</span>&nbsp;<span class="string" id="6926016">`&#39;\u000`</span><span class="op" id="6926024">,</span>&nbsp;<span class="string" id="6926026">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6926058">}</span><span class="op" id="6926059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926062">{</span><span class="string" id="6926063">`&#39;\u0000&#39;`</span><span class="op" id="6926073">,</span>&nbsp;<span class="ident" id="6926075">token</span><span class="op" id="6926080">.</span><span class="ident" id="6926081">CHAR</span><span class="op" id="6926085">,</span>&nbsp;<span class="num" id="6926087">0</span><span class="op" id="6926088">,</span>&nbsp;<span class="string" id="6926090">`&#39;\u0000&#39;`</span><span class="op" id="6926100">,</span>&nbsp;<span class="string" id="6926102">&#34;&#34;</span><span class="op" id="6926104">}</span><span class="op" id="6926105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926108">{</span><span class="string" id="6926109">`&#39;\U&#39;`</span><span class="op" id="6926115">,</span>&nbsp;<span class="ident" id="6926117">token</span><span class="op" id="6926122">.</span><span class="ident" id="6926123">CHAR</span><span class="op" id="6926127">,</span>&nbsp;<span class="num" id="6926129">3</span><span class="op" id="6926130">,</span>&nbsp;<span class="string" id="6926132">`&#39;\U&#39;`</span><span class="op" id="6926138">,</span>&nbsp;<span class="string" id="6926140">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6926189">}</span><span class="op" id="6926190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926193">{</span><span class="string" id="6926194">`&#39;\U0&#39;`</span><span class="op" id="6926201">,</span>&nbsp;<span class="ident" id="6926203">token</span><span class="op" id="6926208">.</span><span class="ident" id="6926209">CHAR</span><span class="op" id="6926213">,</span>&nbsp;<span class="num" id="6926215">4</span><span class="op" id="6926216">,</span>&nbsp;<span class="string" id="6926218">`&#39;\U0&#39;`</span><span class="op" id="6926225">,</span>&nbsp;<span class="string" id="6926227">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6926276">}</span><span class="op" id="6926277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926280">{</span><span class="string" id="6926281">`&#39;\U00&#39;`</span><span class="op" id="6926289">,</span>&nbsp;<span class="ident" id="6926291">token</span><span class="op" id="6926296">.</span><span class="ident" id="6926297">CHAR</span><span class="op" id="6926301">,</span>&nbsp;<span class="num" id="6926303">5</span><span class="op" id="6926304">,</span>&nbsp;<span class="string" id="6926306">`&#39;\U00&#39;`</span><span class="op" id="6926314">,</span>&nbsp;<span class="string" id="6926316">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6926365">}</span><span class="op" id="6926366">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926369">{</span><span class="string" id="6926370">`&#39;\U000&#39;`</span><span class="op" id="6926379">,</span>&nbsp;<span class="ident" id="6926381">token</span><span class="op" id="6926386">.</span><span class="ident" id="6926387">CHAR</span><span class="op" id="6926391">,</span>&nbsp;<span class="num" id="6926393">6</span><span class="op" id="6926394">,</span>&nbsp;<span class="string" id="6926396">`&#39;\U000&#39;`</span><span class="op" id="6926405">,</span>&nbsp;<span class="string" id="6926407">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6926456">}</span><span class="op" id="6926457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926460">{</span><span class="string" id="6926461">`&#39;\U0000&#39;`</span><span class="op" id="6926471">,</span>&nbsp;<span class="ident" id="6926473">token</span><span class="op" id="6926478">.</span><span class="ident" id="6926479">CHAR</span><span class="op" id="6926483">,</span>&nbsp;<span class="num" id="6926485">7</span><span class="op" id="6926486">,</span>&nbsp;<span class="string" id="6926488">`&#39;\U0000&#39;`</span><span class="op" id="6926498">,</span>&nbsp;<span class="string" id="6926500">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6926549">}</span><span class="op" id="6926550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926553">{</span><span class="string" id="6926554">`&#39;\U00000&#39;`</span><span class="op" id="6926565">,</span>&nbsp;<span class="ident" id="6926567">token</span><span class="op" id="6926572">.</span><span class="ident" id="6926573">CHAR</span><span class="op" id="6926577">,</span>&nbsp;<span class="num" id="6926579">8</span><span class="op" id="6926580">,</span>&nbsp;<span class="string" id="6926582">`&#39;\U00000&#39;`</span><span class="op" id="6926593">,</span>&nbsp;<span class="string" id="6926595">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6926644">}</span><span class="op" id="6926645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926648">{</span><span class="string" id="6926649">`&#39;\U000000&#39;`</span><span class="op" id="6926661">,</span>&nbsp;<span class="ident" id="6926663">token</span><span class="op" id="6926668">.</span><span class="ident" id="6926669">CHAR</span><span class="op" id="6926673">,</span>&nbsp;<span class="num" id="6926675">9</span><span class="op" id="6926676">,</span>&nbsp;<span class="string" id="6926678">`&#39;\U000000&#39;`</span><span class="op" id="6926690">,</span>&nbsp;<span class="string" id="6926692">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6926741">}</span><span class="op" id="6926742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926745">{</span><span class="string" id="6926746">`&#39;\U0000000&#39;`</span><span class="op" id="6926759">,</span>&nbsp;<span class="ident" id="6926761">token</span><span class="op" id="6926766">.</span><span class="ident" id="6926767">CHAR</span><span class="op" id="6926771">,</span>&nbsp;<span class="num" id="6926773">10</span><span class="op" id="6926775">,</span>&nbsp;<span class="string" id="6926777">`&#39;\U0000000&#39;`</span><span class="op" id="6926790">,</span>&nbsp;<span class="string" id="6926792">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6926841">}</span><span class="op" id="6926842">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926845">{</span><span class="string" id="6926846">`&#39;\U0000000`</span><span class="op" id="6926858">,</span>&nbsp;<span class="ident" id="6926860">token</span><span class="op" id="6926865">.</span><span class="ident" id="6926866">CHAR</span><span class="op" id="6926870">,</span>&nbsp;<span class="num" id="6926872">10</span><span class="op" id="6926874">,</span>&nbsp;<span class="string" id="6926876">`&#39;\U0000000`</span><span class="op" id="6926888">,</span>&nbsp;<span class="string" id="6926890">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6926922">}</span><span class="op" id="6926923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926926">{</span><span class="string" id="6926927">`&#39;\U00000000&#39;`</span><span class="op" id="6926941">,</span>&nbsp;<span class="ident" id="6926943">token</span><span class="op" id="6926948">.</span><span class="ident" id="6926949">CHAR</span><span class="op" id="6926953">,</span>&nbsp;<span class="num" id="6926955">0</span><span class="op" id="6926956">,</span>&nbsp;<span class="string" id="6926958">`&#39;\U00000000&#39;`</span><span class="op" id="6926972">,</span>&nbsp;<span class="string" id="6926974">&#34;&#34;</span><span class="op" id="6926976">}</span><span class="op" id="6926977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926980">{</span><span class="string" id="6926981">`&#39;\Uffffffff&#39;`</span><span class="op" id="6926995">,</span>&nbsp;<span class="ident" id="6926997">token</span><span class="op" id="6927002">.</span><span class="ident" id="6927003">CHAR</span><span class="op" id="6927007">,</span>&nbsp;<span class="num" id="6927009">2</span><span class="op" id="6927010">,</span>&nbsp;<span class="string" id="6927012">`&#39;\Uffffffff&#39;`</span><span class="op" id="6927026">,</span>&nbsp;<span class="string" id="6927028">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="6927075">}</span><span class="op" id="6927076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927079">{</span><span class="string" id="6927080">`&#39;`</span><span class="op" id="6927083">,</span>&nbsp;<span class="ident" id="6927085">token</span><span class="op" id="6927090">.</span><span class="ident" id="6927091">CHAR</span><span class="op" id="6927095">,</span>&nbsp;<span class="num" id="6927097">0</span><span class="op" id="6927098">,</span>&nbsp;<span class="string" id="6927100">`&#39;`</span><span class="op" id="6927103">,</span>&nbsp;<span class="string" id="6927105">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6927134">}</span><span class="op" id="6927135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927138">{</span><span class="string" id="6927139">`&#39;\`</span><span class="op" id="6927143">,</span>&nbsp;<span class="ident" id="6927145">token</span><span class="op" id="6927150">.</span><span class="ident" id="6927151">CHAR</span><span class="op" id="6927155">,</span>&nbsp;<span class="num" id="6927157">2</span><span class="op" id="6927158">,</span>&nbsp;<span class="string" id="6927160">`&#39;\`</span><span class="op" id="6927164">,</span>&nbsp;<span class="string" id="6927166">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6927198">}</span><span class="op" id="6927199">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927202">{</span><span class="string" id="6927203">&#34;&#39;\n&#34;</span><span class="op" id="6927208">,</span>&nbsp;<span class="ident" id="6927210">token</span><span class="op" id="6927215">.</span><span class="ident" id="6927216">CHAR</span><span class="op" id="6927220">,</span>&nbsp;<span class="num" id="6927222">0</span><span class="op" id="6927223">,</span>&nbsp;<span class="string" id="6927225">&#34;&#39;&#34;</span><span class="op" id="6927228">,</span>&nbsp;<span class="string" id="6927230">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6927259">}</span><span class="op" id="6927260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927263">{</span><span class="string" id="6927264">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="6927272">,</span>&nbsp;<span class="ident" id="6927274">token</span><span class="op" id="6927279">.</span><span class="ident" id="6927280">CHAR</span><span class="op" id="6927284">,</span>&nbsp;<span class="num" id="6927286">0</span><span class="op" id="6927287">,</span>&nbsp;<span class="string" id="6927289">&#34;&#39;&#34;</span><span class="op" id="6927292">,</span>&nbsp;<span class="string" id="6927294">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6927323">}</span><span class="op" id="6927324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927327">{</span><span class="string" id="6927328">`&#34;&#34;`</span><span class="op" id="6927332">,</span>&nbsp;<span class="ident" id="6927334">token</span><span class="op" id="6927339">.</span><span class="ident" id="6927340">STRING</span><span class="op" id="6927346">,</span>&nbsp;<span class="num" id="6927348">0</span><span class="op" id="6927349">,</span>&nbsp;<span class="string" id="6927351">`&#34;&#34;`</span><span class="op" id="6927355">,</span>&nbsp;<span class="string" id="6927357">&#34;&#34;</span><span class="op" id="6927359">}</span><span class="op" id="6927360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927363">{</span><span class="string" id="6927364">`&#34;abc`</span><span class="op" id="6927370">,</span>&nbsp;<span class="ident" id="6927372">token</span><span class="op" id="6927377">.</span><span class="ident" id="6927378">STRING</span><span class="op" id="6927384">,</span>&nbsp;<span class="num" id="6927386">0</span><span class="op" id="6927387">,</span>&nbsp;<span class="string" id="6927389">`&#34;abc`</span><span class="op" id="6927395">,</span>&nbsp;<span class="string" id="6927397">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6927428">}</span><span class="op" id="6927429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927432">{</span><span class="string" id="6927433">&#34;\&#34;abc\n&#34;</span><span class="op" id="6927442">,</span>&nbsp;<span class="ident" id="6927444">token</span><span class="op" id="6927449">.</span><span class="ident" id="6927450">STRING</span><span class="op" id="6927456">,</span>&nbsp;<span class="num" id="6927458">0</span><span class="op" id="6927459">,</span>&nbsp;<span class="string" id="6927461">`&#34;abc`</span><span class="op" id="6927467">,</span>&nbsp;<span class="string" id="6927469">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6927500">}</span><span class="op" id="6927501">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927504">{</span><span class="string" id="6927505">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="6927517">,</span>&nbsp;<span class="ident" id="6927519">token</span><span class="op" id="6927524">.</span><span class="ident" id="6927525">STRING</span><span class="op" id="6927531">,</span>&nbsp;<span class="num" id="6927533">0</span><span class="op" id="6927534">,</span>&nbsp;<span class="string" id="6927536">`&#34;abc`</span><span class="op" id="6927542">,</span>&nbsp;<span class="string" id="6927544">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6927575">}</span><span class="op" id="6927576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927579">{</span><span class="string" id="6927580">&#34;``&#34;</span><span class="op" id="6927584">,</span>&nbsp;<span class="ident" id="6927586">token</span><span class="op" id="6927591">.</span><span class="ident" id="6927592">STRING</span><span class="op" id="6927598">,</span>&nbsp;<span class="num" id="6927600">0</span><span class="op" id="6927601">,</span>&nbsp;<span class="string" id="6927603">&#34;``&#34;</span><span class="op" id="6927607">,</span>&nbsp;<span class="string" id="6927609">&#34;&#34;</span><span class="op" id="6927611">}</span><span class="op" id="6927612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927615">{</span><span class="string" id="6927616">&#34;`&#34;</span><span class="op" id="6927619">,</span>&nbsp;<span class="ident" id="6927621">token</span><span class="op" id="6927626">.</span><span class="ident" id="6927627">STRING</span><span class="op" id="6927633">,</span>&nbsp;<span class="num" id="6927635">0</span><span class="op" id="6927636">,</span>&nbsp;<span class="string" id="6927638">&#34;`&#34;</span><span class="op" id="6927641">,</span>&nbsp;<span class="string" id="6927643">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6927678">}</span><span class="op" id="6927679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927682">{</span><span class="string" id="6927683">&#34;/**/&#34;</span><span class="op" id="6927689">,</span>&nbsp;<span class="ident" id="6927691">token</span><span class="op" id="6927696">.</span><span class="ident" id="6927697">COMMENT</span><span class="op" id="6927704">,</span>&nbsp;<span class="num" id="6927706">0</span><span class="op" id="6927707">,</span>&nbsp;<span class="string" id="6927709">&#34;/**/&#34;</span><span class="op" id="6927715">,</span>&nbsp;<span class="string" id="6927717">&#34;&#34;</span><span class="op" id="6927719">}</span><span class="op" id="6927720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927723">{</span><span class="string" id="6927724">&#34;/*&#34;</span><span class="op" id="6927728">,</span>&nbsp;<span class="ident" id="6927730">token</span><span class="op" id="6927735">.</span><span class="ident" id="6927736">COMMENT</span><span class="op" id="6927743">,</span>&nbsp;<span class="num" id="6927745">0</span><span class="op" id="6927746">,</span>&nbsp;<span class="string" id="6927748">&#34;/*&#34;</span><span class="op" id="6927752">,</span>&nbsp;<span class="string" id="6927754">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6927778">}</span><span class="op" id="6927779">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927782">{</span><span class="string" id="6927783">&#34;077&#34;</span><span class="op" id="6927788">,</span>&nbsp;<span class="ident" id="6927790">token</span><span class="op" id="6927795">.</span><span class="ident" id="6927796">INT</span><span class="op" id="6927799">,</span>&nbsp;<span class="num" id="6927801">0</span><span class="op" id="6927802">,</span>&nbsp;<span class="string" id="6927804">&#34;077&#34;</span><span class="op" id="6927809">,</span>&nbsp;<span class="string" id="6927811">&#34;&#34;</span><span class="op" id="6927813">}</span><span class="op" id="6927814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927817">{</span><span class="string" id="6927818">&#34;078.&#34;</span><span class="op" id="6927824">,</span>&nbsp;<span class="ident" id="6927826">token</span><span class="op" id="6927831">.</span><span class="ident" id="6927832">FLOAT</span><span class="op" id="6927837">,</span>&nbsp;<span class="num" id="6927839">0</span><span class="op" id="6927840">,</span>&nbsp;<span class="string" id="6927842">&#34;078.&#34;</span><span class="op" id="6927848">,</span>&nbsp;<span class="string" id="6927850">&#34;&#34;</span><span class="op" id="6927852">}</span><span class="op" id="6927853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927856">{</span><span class="string" id="6927857">&#34;07801234567.&#34;</span><span class="op" id="6927871">,</span>&nbsp;<span class="ident" id="6927873">token</span><span class="op" id="6927878">.</span><span class="ident" id="6927879">FLOAT</span><span class="op" id="6927884">,</span>&nbsp;<span class="num" id="6927886">0</span><span class="op" id="6927887">,</span>&nbsp;<span class="string" id="6927889">&#34;07801234567.&#34;</span><span class="op" id="6927903">,</span>&nbsp;<span class="string" id="6927905">&#34;&#34;</span><span class="op" id="6927907">}</span><span class="op" id="6927908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927911">{</span><span class="string" id="6927912">&#34;078e0&#34;</span><span class="op" id="6927919">,</span>&nbsp;<span class="ident" id="6927921">token</span><span class="op" id="6927926">.</span><span class="ident" id="6927927">FLOAT</span><span class="op" id="6927932">,</span>&nbsp;<span class="num" id="6927934">0</span><span class="op" id="6927935">,</span>&nbsp;<span class="string" id="6927937">&#34;078e0&#34;</span><span class="op" id="6927944">,</span>&nbsp;<span class="string" id="6927946">&#34;&#34;</span><span class="op" id="6927948">}</span><span class="op" id="6927949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927952">{</span><span class="string" id="6927953">&#34;078&#34;</span><span class="op" id="6927958">,</span>&nbsp;<span class="ident" id="6927960">token</span><span class="op" id="6927965">.</span><span class="ident" id="6927966">INT</span><span class="op" id="6927969">,</span>&nbsp;<span class="num" id="6927971">0</span><span class="op" id="6927972">,</span>&nbsp;<span class="string" id="6927974">&#34;078&#34;</span><span class="op" id="6927979">,</span>&nbsp;<span class="string" id="6927981">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6928003">}</span><span class="op" id="6928004">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928007">{</span><span class="string" id="6928008">&#34;07800000009&#34;</span><span class="op" id="6928021">,</span>&nbsp;<span class="ident" id="6928023">token</span><span class="op" id="6928028">.</span><span class="ident" id="6928029">INT</span><span class="op" id="6928032">,</span>&nbsp;<span class="num" id="6928034">0</span><span class="op" id="6928035">,</span>&nbsp;<span class="string" id="6928037">&#34;07800000009&#34;</span><span class="op" id="6928050">,</span>&nbsp;<span class="string" id="6928052">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6928074">}</span><span class="op" id="6928075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928078">{</span><span class="string" id="6928079">&#34;0x&#34;</span><span class="op" id="6928083">,</span>&nbsp;<span class="ident" id="6928085">token</span><span class="op" id="6928090">.</span><span class="ident" id="6928091">INT</span><span class="op" id="6928094">,</span>&nbsp;<span class="num" id="6928096">0</span><span class="op" id="6928097">,</span>&nbsp;<span class="string" id="6928099">&#34;0x&#34;</span><span class="op" id="6928103">,</span>&nbsp;<span class="string" id="6928105">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6928133">}</span><span class="op" id="6928134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928137">{</span><span class="string" id="6928138">&#34;0X&#34;</span><span class="op" id="6928142">,</span>&nbsp;<span class="ident" id="6928144">token</span><span class="op" id="6928149">.</span><span class="ident" id="6928150">INT</span><span class="op" id="6928153">,</span>&nbsp;<span class="num" id="6928155">0</span><span class="op" id="6928156">,</span>&nbsp;<span class="string" id="6928158">&#34;0X&#34;</span><span class="op" id="6928162">,</span>&nbsp;<span class="string" id="6928164">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6928192">}</span><span class="op" id="6928193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928196">{</span><span class="string" id="6928197">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="6928213">,</span>&nbsp;<span class="ident" id="6928215">token</span><span class="op" id="6928220">.</span><span class="ident" id="6928221">STRING</span><span class="op" id="6928227">,</span>&nbsp;<span class="num" id="6928229">4</span><span class="op" id="6928230">,</span>&nbsp;<span class="string" id="6928232">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="6928248">,</span>&nbsp;<span class="string" id="6928250">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6928273">}</span><span class="op" id="6928274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928277">{</span><span class="string" id="6928278">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="6928294">,</span>&nbsp;<span class="ident" id="6928296">token</span><span class="op" id="6928301">.</span><span class="ident" id="6928302">STRING</span><span class="op" id="6928308">,</span>&nbsp;<span class="num" id="6928310">4</span><span class="op" id="6928311">,</span>&nbsp;<span class="string" id="6928313">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="6928329">,</span>&nbsp;<span class="string" id="6928331">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6928355">}</span><span class="op" id="6928356">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928359">{</span><span class="string" id="6928360">&#34;\ufeff\ufeff&#34;</span><span class="op" id="6928374">,</span>&nbsp;<span class="ident" id="6928376">token</span><span class="op" id="6928381">.</span><span class="ident" id="6928382">ILLEGAL</span><span class="op" id="6928389">,</span>&nbsp;<span class="num" id="6928391">3</span><span class="op" id="6928392">,</span>&nbsp;<span class="string" id="6928394">&#34;\ufeff\ufeff&#34;</span><span class="op" id="6928408">,</span>&nbsp;<span class="string" id="6928410">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="6928435">}</span><span class="op" id="6928436">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6928461">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928491">{</span><span class="string" id="6928492">&#34;//\ufeff&#34;</span><span class="op" id="6928502">,</span>&nbsp;<span class="ident" id="6928504">token</span><span class="op" id="6928509">.</span><span class="ident" id="6928510">COMMENT</span><span class="op" id="6928517">,</span>&nbsp;<span class="num" id="6928519">2</span><span class="op" id="6928520">,</span>&nbsp;<span class="string" id="6928522">&#34;//\ufeff&#34;</span><span class="op" id="6928532">,</span>&nbsp;<span class="string" id="6928534">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="6928559">}</span><span class="op" id="6928560">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6928593">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928623">{</span><span class="string" id="6928624">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="6928634">+</span>&nbsp;<span class="string" id="6928636">`&#39;`</span><span class="op" id="6928639">,</span>&nbsp;<span class="ident" id="6928641">token</span><span class="op" id="6928646">.</span><span class="ident" id="6928647">CHAR</span><span class="op" id="6928651">,</span>&nbsp;<span class="num" id="6928653">1</span><span class="op" id="6928654">,</span>&nbsp;<span class="string" id="6928656">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="6928666">+</span>&nbsp;<span class="string" id="6928668">`&#39;`</span><span class="op" id="6928671">,</span>&nbsp;<span class="string" id="6928673">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="6928698">}</span><span class="op" id="6928699">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6928725">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928755">{</span><span class="string" id="6928756">`&#34;`</span>&nbsp;<span class="op" id="6928760">+</span>&nbsp;<span class="string" id="6928762">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="6928777">+</span>&nbsp;<span class="string" id="6928779">`&#34;`</span><span class="op" id="6928782">,</span>&nbsp;<span class="ident" id="6928784">token</span><span class="op" id="6928789">.</span><span class="ident" id="6928790">STRING</span><span class="op" id="6928796">,</span>&nbsp;<span class="num" id="6928798">4</span><span class="op" id="6928799">,</span>&nbsp;<span class="string" id="6928801">`&#34;`</span>&nbsp;<span class="op" id="6928805">+</span>&nbsp;<span class="string" id="6928807">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="6928822">+</span>&nbsp;<span class="string" id="6928824">`&#34;`</span><span class="op" id="6928827">,</span>&nbsp;<span class="string" id="6928829">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="6928854">}</span><span class="op" id="6928855">,</span>&nbsp;<span class="comment" id="6928857">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="6928886">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="6928889">func</span>&nbsp;<span class="ident" id="6928894">TestScanErrors</span><span class="op" id="6928908">(</span><span class="ident" id="6928909">t</span>&nbsp;<span class="op" id="6928911">*</span><span class="ident" id="6928912">testing</span><span class="op" id="6928919">.</span><span class="ident" id="6928920">T</span><span class="op" id="6928921">)</span>&nbsp;<span class="op" id="6928923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928926">for</span>&nbsp;<span class="ident" id="6928930">_</span><span class="op" id="6928931">,</span>&nbsp;<span class="ident" id="6928933">e</span>&nbsp;<span class="op" id="6928935">:=</span>&nbsp;<span class="keyword" id="6928938">range</span>&nbsp;<span class="ident" id="6928944">errors</span>&nbsp;<span class="op" id="6928951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928955">checkError</span><span class="op" id="6928965">(</span><span class="ident" id="6928966">t</span><span class="op" id="6928967">,</span>&nbsp;<span class="ident" id="6928969">e</span><span class="op" id="6928970">.</span><span class="ident" id="6928971">src</span><span class="op" id="6928974">,</span>&nbsp;<span class="ident" id="6928976">e</span><span class="op" id="6928977">.</span><span class="ident" id="6928978">tok</span><span class="op" id="6928981">,</span>&nbsp;<span class="ident" id="6928983">e</span><span class="op" id="6928984">.</span><span class="ident" id="6928985">pos</span><span class="op" id="6928988">,</span>&nbsp;<span class="ident" id="6928990">e</span><span class="op" id="6928991">.</span><span class="ident" id="6928992">lit</span><span class="op" id="6928995">,</span>&nbsp;<span class="ident" id="6928997">e</span><span class="op" id="6928998">.</span><span class="ident" id="6928999">err</span><span class="op" id="6929002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6929005">}</span><br>
<span class="lineno">735</span><span class="op" id="6929007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6929010">func</span>&nbsp;<span class="ident" id="6929015">BenchmarkScan</span><span class="op" id="6929028">(</span><span class="ident" id="6929029">b</span>&nbsp;<span class="op" id="6929031">*</span><span class="ident" id="6929032">testing</span><span class="op" id="6929039">.</span><span class="ident" id="6929040">B</span><span class="op" id="6929041">)</span>&nbsp;<span class="op" id="6929043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929046">b</span><span class="op" id="6929047">.</span><span class="ident" id="6929048">StopTimer</span><span class="op" id="6929057">(</span><span class="op" id="6929058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929061">fset</span>&nbsp;<span class="op" id="6929066">:=</span>&nbsp;<span class="ident" id="6929069">token</span><span class="op" id="6929074">.</span><span class="ident" id="6929075">NewFileSet</span><span class="op" id="6929085">(</span><span class="op" id="6929086">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929089">file</span>&nbsp;<span class="op" id="6929094">:=</span>&nbsp;<span class="ident" id="6929097">fset</span><span class="op" id="6929101">.</span><span class="ident" id="6929102">AddFile</span><span class="op" id="6929109">(</span><span class="string" id="6929110">&#34;&#34;</span><span class="op" id="6929112">,</span>&nbsp;<span class="ident" id="6929114">fset</span><span class="op" id="6929118">.</span><span class="ident" id="6929119">Base</span><span class="op" id="6929123">(</span><span class="op" id="6929124">)</span><span class="op" id="6929125">,</span>&nbsp;<span class="builtinfunc" id="6929127">len</span><span class="op" id="6929130">(</span><span class="ident" id="6929131">source</span><span class="op" id="6929137">)</span><span class="op" id="6929138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929141">var</span>&nbsp;<span class="ident" id="6929145">s</span>&nbsp;<span class="ident" id="6929147">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929156">b</span><span class="op" id="6929157">.</span><span class="ident" id="6929158">StartTimer</span><span class="op" id="6929168">(</span><span class="op" id="6929169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929172">for</span>&nbsp;<span class="ident" id="6929176">i</span>&nbsp;<span class="op" id="6929178">:=</span>&nbsp;<span class="num" id="6929181">0</span><span class="op" id="6929182">;</span>&nbsp;<span class="ident" id="6929184">i</span>&nbsp;<span class="op" id="6929186">&lt;</span>&nbsp;<span class="ident" id="6929188">b</span><span class="op" id="6929189">.</span><span class="ident" id="6929190">N</span><span class="op" id="6929191">;</span>&nbsp;<span class="ident" id="6929193">i</span><span class="op" id="6929194">++</span>&nbsp;<span class="op" id="6929197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929201">s</span><span class="op" id="6929202">.</span><span class="ident" id="6929203">Init</span><span class="op" id="6929207">(</span><span class="ident" id="6929208">file</span><span class="op" id="6929212">,</span>&nbsp;<span class="ident" id="6929214">source</span><span class="op" id="6929220">,</span>&nbsp;<span class="ident" id="6929222">nil</span><span class="op" id="6929225">,</span>&nbsp;<span class="ident" id="6929227">ScanComments</span><span class="op" id="6929239">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929243">for</span>&nbsp;<span class="op" id="6929247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929252">_</span><span class="op" id="6929253">,</span>&nbsp;<span class="ident" id="6929255">tok</span><span class="op" id="6929258">,</span>&nbsp;<span class="ident" id="6929260">_</span>&nbsp;<span class="op" id="6929262">:=</span>&nbsp;<span class="ident" id="6929265">s</span><span class="op" id="6929266">.</span><span class="ident" id="6929267">Scan</span><span class="op" id="6929271">(</span><span class="op" id="6929272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929277">if</span>&nbsp;<span class="ident" id="6929280">tok</span>&nbsp;<span class="op" id="6929284">==</span>&nbsp;<span class="ident" id="6929287">token</span><span class="op" id="6929292">.</span><span class="ident" id="6929293">EOF</span>&nbsp;<span class="op" id="6929297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929303">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6929312">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6929316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6929319">}</span><br>
<span class="lineno"></span><span class="op" id="6929321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6929324">func</span>&nbsp;<span class="ident" id="6929329">BenchmarkScanFile</span><span class="op" id="6929346">(</span><span class="ident" id="6929347">b</span>&nbsp;<span class="op" id="6929349">*</span><span class="ident" id="6929350">testing</span><span class="op" id="6929357">.</span><span class="ident" id="6929358">B</span><span class="op" id="6929359">)</span>&nbsp;<span class="op" id="6929361">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929364">b</span><span class="op" id="6929365">.</span><span class="ident" id="6929366">StopTimer</span><span class="op" id="6929375">(</span><span class="op" id="6929376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929379">const</span>&nbsp;<span class="ident" id="6929385">filename</span>&nbsp;<span class="op" id="6929394">=</span>&nbsp;<span class="string" id="6929396">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929410">src</span><span class="op" id="6929413">,</span>&nbsp;<span class="ident" id="6929415">err</span>&nbsp;<span class="op" id="6929419">:=</span>&nbsp;<span class="ident" id="6929422">ioutil</span><span class="op" id="6929428">.</span><span class="ident" id="6929429">ReadFile</span><span class="op" id="6929437">(</span><span class="ident" id="6929438">filename</span><span class="op" id="6929446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929449">if</span>&nbsp;<span class="ident" id="6929452">err</span>&nbsp;<span class="op" id="6929456">!=</span>&nbsp;<span class="ident" id="6929459">nil</span>&nbsp;<span class="op" id="6929463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6929467">panic</span><span class="op" id="6929472">(</span><span class="ident" id="6929473">err</span><span class="op" id="6929476">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6929479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929482">fset</span>&nbsp;<span class="op" id="6929487">:=</span>&nbsp;<span class="ident" id="6929490">token</span><span class="op" id="6929495">.</span><span class="ident" id="6929496">NewFileSet</span><span class="op" id="6929506">(</span><span class="op" id="6929507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929510">file</span>&nbsp;<span class="op" id="6929515">:=</span>&nbsp;<span class="ident" id="6929518">fset</span><span class="op" id="6929522">.</span><span class="ident" id="6929523">AddFile</span><span class="op" id="6929530">(</span><span class="ident" id="6929531">filename</span><span class="op" id="6929539">,</span>&nbsp;<span class="ident" id="6929541">fset</span><span class="op" id="6929545">.</span><span class="ident" id="6929546">Base</span><span class="op" id="6929550">(</span><span class="op" id="6929551">)</span><span class="op" id="6929552">,</span>&nbsp;<span class="builtinfunc" id="6929554">len</span><span class="op" id="6929557">(</span><span class="ident" id="6929558">src</span><span class="op" id="6929561">)</span><span class="op" id="6929562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929565">b</span><span class="op" id="6929566">.</span><span class="ident" id="6929567">SetBytes</span><span class="op" id="6929575">(</span><span class="ident" id="6929576">int64</span><span class="op" id="6929581">(</span><span class="builtinfunc" id="6929582">len</span><span class="op" id="6929585">(</span><span class="ident" id="6929586">src</span><span class="op" id="6929589">)</span><span class="op" id="6929590">)</span><span class="op" id="6929591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929594">var</span>&nbsp;<span class="ident" id="6929598">s</span>&nbsp;<span class="ident" id="6929600">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929609">b</span><span class="op" id="6929610">.</span><span class="ident" id="6929611">StartTimer</span><span class="op" id="6929621">(</span><span class="op" id="6929622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929625">for</span>&nbsp;<span class="ident" id="6929629">i</span>&nbsp;<span class="op" id="6929631">:=</span>&nbsp;<span class="num" id="6929634">0</span><span class="op" id="6929635">;</span>&nbsp;<span class="ident" id="6929637">i</span>&nbsp;<span class="op" id="6929639">&lt;</span>&nbsp;<span class="ident" id="6929641">b</span><span class="op" id="6929642">.</span><span class="ident" id="6929643">N</span><span class="op" id="6929644">;</span>&nbsp;<span class="ident" id="6929646">i</span><span class="op" id="6929647">++</span>&nbsp;<span class="op" id="6929650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929654">s</span><span class="op" id="6929655">.</span><span class="ident" id="6929656">Init</span><span class="op" id="6929660">(</span><span class="ident" id="6929661">file</span><span class="op" id="6929665">,</span>&nbsp;<span class="ident" id="6929667">src</span><span class="op" id="6929670">,</span>&nbsp;<span class="ident" id="6929672">nil</span><span class="op" id="6929675">,</span>&nbsp;<span class="ident" id="6929677">ScanComments</span><span class="op" id="6929689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929693">for</span>&nbsp;<span class="op" id="6929697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6929702">_</span><span class="op" id="6929703">,</span>&nbsp;<span class="ident" id="6929705">tok</span><span class="op" id="6929708">,</span>&nbsp;<span class="ident" id="6929710">_</span>&nbsp;<span class="op" id="6929712">:=</span>&nbsp;<span class="ident" id="6929715">s</span><span class="op" id="6929716">.</span><span class="ident" id="6929717">Scan</span><span class="op" id="6929721">(</span><span class="op" id="6929722">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929727">if</span>&nbsp;<span class="ident" id="6929730">tok</span>&nbsp;<span class="op" id="6929734">==</span>&nbsp;<span class="ident" id="6929737">token</span><span class="op" id="6929742">.</span><span class="ident" id="6929743">EOF</span>&nbsp;<span class="op" id="6929747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6929753">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6929762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6929766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6929769">}</span><br>
<span class="lineno">775</span><span class="op" id="6929771">}</span>
</div>
</body>
</html>
