<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/csv</h2>
<ul>
<li><a href="/gostd/encoding/csv/reader.go.html">reader.go</a></li>
<li><a href="/gostd/encoding/csv/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/encoding/csv/writer.go.html">writer.go</a></li>
<li><a href="/gostd/encoding/csv/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7425485">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7425540">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7425594">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7425645">package</span>&nbsp;<span class="ident" id="7425653">csv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7425658">import</span>&nbsp;<span class="op" id="7425665">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7425668">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7425677">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7425687">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7425697">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7425700">var</span>&nbsp;<span class="ident" id="7425704">writeTests</span>&nbsp;<span class="op" id="7425715">=</span>&nbsp;<span class="op" id="7425717">[</span><span class="op" id="7425718">]</span><span class="keyword" id="7425719">struct</span>&nbsp;<span class="op" id="7425726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7425729">Input</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7425737">[</span><span class="op" id="7425738">]</span><span class="op" id="7425739">[</span><span class="op" id="7425740">]</span><span class="builtintype" id="7425741">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7425749">Output</span>&nbsp;&nbsp;<span class="builtintype" id="7425757">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7425765">UseCRLF</span>&nbsp;<span class="builtintype" id="7425773">bool</span><br>
<span class="lineno"></span><span class="op" id="7425778">}</span><span class="op" id="7425779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425782">{</span><span class="ident" id="7425783">Input</span><span class="op" id="7425788">:</span>&nbsp;<span class="op" id="7425790">[</span><span class="op" id="7425791">]</span><span class="op" id="7425792">[</span><span class="op" id="7425793">]</span><span class="builtintype" id="7425794">string</span><span class="op" id="7425800">{</span><span class="op" id="7425801">{</span><span class="string" id="7425802">&#34;abc&#34;</span><span class="op" id="7425807">}</span><span class="op" id="7425808">}</span><span class="op" id="7425809">,</span>&nbsp;<span class="ident" id="7425811">Output</span><span class="op" id="7425817">:</span>&nbsp;<span class="string" id="7425819">&#34;abc\n&#34;</span><span class="op" id="7425826">}</span><span class="op" id="7425827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425830">{</span><span class="ident" id="7425831">Input</span><span class="op" id="7425836">:</span>&nbsp;<span class="op" id="7425838">[</span><span class="op" id="7425839">]</span><span class="op" id="7425840">[</span><span class="op" id="7425841">]</span><span class="builtintype" id="7425842">string</span><span class="op" id="7425848">{</span><span class="op" id="7425849">{</span><span class="string" id="7425850">&#34;abc&#34;</span><span class="op" id="7425855">}</span><span class="op" id="7425856">}</span><span class="op" id="7425857">,</span>&nbsp;<span class="ident" id="7425859">Output</span><span class="op" id="7425865">:</span>&nbsp;<span class="string" id="7425867">&#34;abc\r\n&#34;</span><span class="op" id="7425876">,</span>&nbsp;<span class="ident" id="7425878">UseCRLF</span><span class="op" id="7425885">:</span>&nbsp;<span class="builtintype" id="7425887">true</span><span class="op" id="7425891">}</span><span class="op" id="7425892">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425895">{</span><span class="ident" id="7425896">Input</span><span class="op" id="7425901">:</span>&nbsp;<span class="op" id="7425903">[</span><span class="op" id="7425904">]</span><span class="op" id="7425905">[</span><span class="op" id="7425906">]</span><span class="builtintype" id="7425907">string</span><span class="op" id="7425913">{</span><span class="op" id="7425914">{</span><span class="string" id="7425915">`&#34;abc&#34;`</span><span class="op" id="7425922">}</span><span class="op" id="7425923">}</span><span class="op" id="7425924">,</span>&nbsp;<span class="ident" id="7425926">Output</span><span class="op" id="7425932">:</span>&nbsp;<span class="string" id="7425934">`&#34;&#34;&#34;abc&#34;&#34;&#34;`</span>&nbsp;<span class="op" id="7425946">+</span>&nbsp;<span class="string" id="7425948">&#34;\n&#34;</span><span class="op" id="7425952">}</span><span class="op" id="7425953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425956">{</span><span class="ident" id="7425957">Input</span><span class="op" id="7425962">:</span>&nbsp;<span class="op" id="7425964">[</span><span class="op" id="7425965">]</span><span class="op" id="7425966">[</span><span class="op" id="7425967">]</span><span class="builtintype" id="7425968">string</span><span class="op" id="7425974">{</span><span class="op" id="7425975">{</span><span class="string" id="7425976">`a&#34;b`</span><span class="op" id="7425981">}</span><span class="op" id="7425982">}</span><span class="op" id="7425983">,</span>&nbsp;<span class="ident" id="7425985">Output</span><span class="op" id="7425991">:</span>&nbsp;<span class="string" id="7425993">`&#34;a&#34;&#34;b&#34;`</span>&nbsp;<span class="op" id="7426002">+</span>&nbsp;<span class="string" id="7426004">&#34;\n&#34;</span><span class="op" id="7426008">}</span><span class="op" id="7426009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426012">{</span><span class="ident" id="7426013">Input</span><span class="op" id="7426018">:</span>&nbsp;<span class="op" id="7426020">[</span><span class="op" id="7426021">]</span><span class="op" id="7426022">[</span><span class="op" id="7426023">]</span><span class="builtintype" id="7426024">string</span><span class="op" id="7426030">{</span><span class="op" id="7426031">{</span><span class="string" id="7426032">`&#34;a&#34;b&#34;`</span><span class="op" id="7426039">}</span><span class="op" id="7426040">}</span><span class="op" id="7426041">,</span>&nbsp;<span class="ident" id="7426043">Output</span><span class="op" id="7426049">:</span>&nbsp;<span class="string" id="7426051">`&#34;&#34;&#34;a&#34;&#34;b&#34;&#34;&#34;`</span>&nbsp;<span class="op" id="7426064">+</span>&nbsp;<span class="string" id="7426066">&#34;\n&#34;</span><span class="op" id="7426070">}</span><span class="op" id="7426071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426074">{</span><span class="ident" id="7426075">Input</span><span class="op" id="7426080">:</span>&nbsp;<span class="op" id="7426082">[</span><span class="op" id="7426083">]</span><span class="op" id="7426084">[</span><span class="op" id="7426085">]</span><span class="builtintype" id="7426086">string</span><span class="op" id="7426092">{</span><span class="op" id="7426093">{</span><span class="string" id="7426094">&#34;&nbsp;abc&#34;</span><span class="op" id="7426100">}</span><span class="op" id="7426101">}</span><span class="op" id="7426102">,</span>&nbsp;<span class="ident" id="7426104">Output</span><span class="op" id="7426110">:</span>&nbsp;<span class="string" id="7426112">`&#34;&nbsp;abc&#34;`</span>&nbsp;<span class="op" id="7426121">+</span>&nbsp;<span class="string" id="7426123">&#34;\n&#34;</span><span class="op" id="7426127">}</span><span class="op" id="7426128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426131">{</span><span class="ident" id="7426132">Input</span><span class="op" id="7426137">:</span>&nbsp;<span class="op" id="7426139">[</span><span class="op" id="7426140">]</span><span class="op" id="7426141">[</span><span class="op" id="7426142">]</span><span class="builtintype" id="7426143">string</span><span class="op" id="7426149">{</span><span class="op" id="7426150">{</span><span class="string" id="7426151">&#34;abc,def&#34;</span><span class="op" id="7426160">}</span><span class="op" id="7426161">}</span><span class="op" id="7426162">,</span>&nbsp;<span class="ident" id="7426164">Output</span><span class="op" id="7426170">:</span>&nbsp;<span class="string" id="7426172">`&#34;abc,def&#34;`</span>&nbsp;<span class="op" id="7426184">+</span>&nbsp;<span class="string" id="7426186">&#34;\n&#34;</span><span class="op" id="7426190">}</span><span class="op" id="7426191">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426194">{</span><span class="ident" id="7426195">Input</span><span class="op" id="7426200">:</span>&nbsp;<span class="op" id="7426202">[</span><span class="op" id="7426203">]</span><span class="op" id="7426204">[</span><span class="op" id="7426205">]</span><span class="builtintype" id="7426206">string</span><span class="op" id="7426212">{</span><span class="op" id="7426213">{</span><span class="string" id="7426214">&#34;abc&#34;</span><span class="op" id="7426219">,</span>&nbsp;<span class="string" id="7426221">&#34;def&#34;</span><span class="op" id="7426226">}</span><span class="op" id="7426227">}</span><span class="op" id="7426228">,</span>&nbsp;<span class="ident" id="7426230">Output</span><span class="op" id="7426236">:</span>&nbsp;<span class="string" id="7426238">&#34;abc,def\n&#34;</span><span class="op" id="7426249">}</span><span class="op" id="7426250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426253">{</span><span class="ident" id="7426254">Input</span><span class="op" id="7426259">:</span>&nbsp;<span class="op" id="7426261">[</span><span class="op" id="7426262">]</span><span class="op" id="7426263">[</span><span class="op" id="7426264">]</span><span class="builtintype" id="7426265">string</span><span class="op" id="7426271">{</span><span class="op" id="7426272">{</span><span class="string" id="7426273">&#34;abc&#34;</span><span class="op" id="7426278">}</span><span class="op" id="7426279">,</span>&nbsp;<span class="op" id="7426281">{</span><span class="string" id="7426282">&#34;def&#34;</span><span class="op" id="7426287">}</span><span class="op" id="7426288">}</span><span class="op" id="7426289">,</span>&nbsp;<span class="ident" id="7426291">Output</span><span class="op" id="7426297">:</span>&nbsp;<span class="string" id="7426299">&#34;abc\ndef\n&#34;</span><span class="op" id="7426311">}</span><span class="op" id="7426312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426315">{</span><span class="ident" id="7426316">Input</span><span class="op" id="7426321">:</span>&nbsp;<span class="op" id="7426323">[</span><span class="op" id="7426324">]</span><span class="op" id="7426325">[</span><span class="op" id="7426326">]</span><span class="builtintype" id="7426327">string</span><span class="op" id="7426333">{</span><span class="op" id="7426334">{</span><span class="string" id="7426335">&#34;abc\ndef&#34;</span><span class="op" id="7426345">}</span><span class="op" id="7426346">}</span><span class="op" id="7426347">,</span>&nbsp;<span class="ident" id="7426349">Output</span><span class="op" id="7426355">:</span>&nbsp;<span class="string" id="7426357">&#34;\&#34;abc\ndef\&#34;\n&#34;</span><span class="op" id="7426373">}</span><span class="op" id="7426374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426377">{</span><span class="ident" id="7426378">Input</span><span class="op" id="7426383">:</span>&nbsp;<span class="op" id="7426385">[</span><span class="op" id="7426386">]</span><span class="op" id="7426387">[</span><span class="op" id="7426388">]</span><span class="builtintype" id="7426389">string</span><span class="op" id="7426395">{</span><span class="op" id="7426396">{</span><span class="string" id="7426397">&#34;abc\ndef&#34;</span><span class="op" id="7426407">}</span><span class="op" id="7426408">}</span><span class="op" id="7426409">,</span>&nbsp;<span class="ident" id="7426411">Output</span><span class="op" id="7426417">:</span>&nbsp;<span class="string" id="7426419">&#34;\&#34;abc\r\ndef\&#34;\r\n&#34;</span><span class="op" id="7426439">,</span>&nbsp;<span class="ident" id="7426441">UseCRLF</span><span class="op" id="7426448">:</span>&nbsp;<span class="builtintype" id="7426450">true</span><span class="op" id="7426454">}</span><span class="op" id="7426455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426458">{</span><span class="ident" id="7426459">Input</span><span class="op" id="7426464">:</span>&nbsp;<span class="op" id="7426466">[</span><span class="op" id="7426467">]</span><span class="op" id="7426468">[</span><span class="op" id="7426469">]</span><span class="builtintype" id="7426470">string</span><span class="op" id="7426476">{</span><span class="op" id="7426477">{</span><span class="string" id="7426478">&#34;abc\rdef&#34;</span><span class="op" id="7426488">}</span><span class="op" id="7426489">}</span><span class="op" id="7426490">,</span>&nbsp;<span class="ident" id="7426492">Output</span><span class="op" id="7426498">:</span>&nbsp;<span class="string" id="7426500">&#34;\&#34;abcdef\&#34;\r\n&#34;</span><span class="op" id="7426516">,</span>&nbsp;<span class="ident" id="7426518">UseCRLF</span><span class="op" id="7426525">:</span>&nbsp;<span class="builtintype" id="7426527">true</span><span class="op" id="7426531">}</span><span class="op" id="7426532">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426535">{</span><span class="ident" id="7426536">Input</span><span class="op" id="7426541">:</span>&nbsp;<span class="op" id="7426543">[</span><span class="op" id="7426544">]</span><span class="op" id="7426545">[</span><span class="op" id="7426546">]</span><span class="builtintype" id="7426547">string</span><span class="op" id="7426553">{</span><span class="op" id="7426554">{</span><span class="string" id="7426555">&#34;abc\rdef&#34;</span><span class="op" id="7426565">}</span><span class="op" id="7426566">}</span><span class="op" id="7426567">,</span>&nbsp;<span class="ident" id="7426569">Output</span><span class="op" id="7426575">:</span>&nbsp;<span class="string" id="7426577">&#34;\&#34;abc\rdef\&#34;\n&#34;</span><span class="op" id="7426593">,</span>&nbsp;<span class="ident" id="7426595">UseCRLF</span><span class="op" id="7426602">:</span>&nbsp;<span class="builtintype" id="7426604">false</span><span class="op" id="7426609">}</span><span class="op" id="7426610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426613">{</span><span class="ident" id="7426614">Input</span><span class="op" id="7426619">:</span>&nbsp;<span class="op" id="7426621">[</span><span class="op" id="7426622">]</span><span class="op" id="7426623">[</span><span class="op" id="7426624">]</span><span class="builtintype" id="7426625">string</span><span class="op" id="7426631">{</span><span class="op" id="7426632">{</span><span class="string" id="7426633">&#34;&#34;</span><span class="op" id="7426635">}</span><span class="op" id="7426636">}</span><span class="op" id="7426637">,</span>&nbsp;<span class="ident" id="7426639">Output</span><span class="op" id="7426645">:</span>&nbsp;<span class="string" id="7426647">&#34;\n&#34;</span><span class="op" id="7426651">}</span><span class="op" id="7426652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426655">{</span><span class="ident" id="7426656">Input</span><span class="op" id="7426661">:</span>&nbsp;<span class="op" id="7426663">[</span><span class="op" id="7426664">]</span><span class="op" id="7426665">[</span><span class="op" id="7426666">]</span><span class="builtintype" id="7426667">string</span><span class="op" id="7426673">{</span><span class="op" id="7426674">{</span><span class="string" id="7426675">&#34;&#34;</span><span class="op" id="7426677">,</span>&nbsp;<span class="string" id="7426679">&#34;&#34;</span><span class="op" id="7426681">}</span><span class="op" id="7426682">}</span><span class="op" id="7426683">,</span>&nbsp;<span class="ident" id="7426685">Output</span><span class="op" id="7426691">:</span>&nbsp;<span class="string" id="7426693">&#34;,\n&#34;</span><span class="op" id="7426698">}</span><span class="op" id="7426699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426702">{</span><span class="ident" id="7426703">Input</span><span class="op" id="7426708">:</span>&nbsp;<span class="op" id="7426710">[</span><span class="op" id="7426711">]</span><span class="op" id="7426712">[</span><span class="op" id="7426713">]</span><span class="builtintype" id="7426714">string</span><span class="op" id="7426720">{</span><span class="op" id="7426721">{</span><span class="string" id="7426722">&#34;&#34;</span><span class="op" id="7426724">,</span>&nbsp;<span class="string" id="7426726">&#34;&#34;</span><span class="op" id="7426728">,</span>&nbsp;<span class="string" id="7426730">&#34;&#34;</span><span class="op" id="7426732">}</span><span class="op" id="7426733">}</span><span class="op" id="7426734">,</span>&nbsp;<span class="ident" id="7426736">Output</span><span class="op" id="7426742">:</span>&nbsp;<span class="string" id="7426744">&#34;,,\n&#34;</span><span class="op" id="7426750">}</span><span class="op" id="7426751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426754">{</span><span class="ident" id="7426755">Input</span><span class="op" id="7426760">:</span>&nbsp;<span class="op" id="7426762">[</span><span class="op" id="7426763">]</span><span class="op" id="7426764">[</span><span class="op" id="7426765">]</span><span class="builtintype" id="7426766">string</span><span class="op" id="7426772">{</span><span class="op" id="7426773">{</span><span class="string" id="7426774">&#34;&#34;</span><span class="op" id="7426776">,</span>&nbsp;<span class="string" id="7426778">&#34;&#34;</span><span class="op" id="7426780">,</span>&nbsp;<span class="string" id="7426782">&#34;a&#34;</span><span class="op" id="7426785">}</span><span class="op" id="7426786">}</span><span class="op" id="7426787">,</span>&nbsp;<span class="ident" id="7426789">Output</span><span class="op" id="7426795">:</span>&nbsp;<span class="string" id="7426797">&#34;,,a\n&#34;</span><span class="op" id="7426804">}</span><span class="op" id="7426805">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426808">{</span><span class="ident" id="7426809">Input</span><span class="op" id="7426814">:</span>&nbsp;<span class="op" id="7426816">[</span><span class="op" id="7426817">]</span><span class="op" id="7426818">[</span><span class="op" id="7426819">]</span><span class="builtintype" id="7426820">string</span><span class="op" id="7426826">{</span><span class="op" id="7426827">{</span><span class="string" id="7426828">&#34;&#34;</span><span class="op" id="7426830">,</span>&nbsp;<span class="string" id="7426832">&#34;a&#34;</span><span class="op" id="7426835">,</span>&nbsp;<span class="string" id="7426837">&#34;&#34;</span><span class="op" id="7426839">}</span><span class="op" id="7426840">}</span><span class="op" id="7426841">,</span>&nbsp;<span class="ident" id="7426843">Output</span><span class="op" id="7426849">:</span>&nbsp;<span class="string" id="7426851">&#34;,a,\n&#34;</span><span class="op" id="7426858">}</span><span class="op" id="7426859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426862">{</span><span class="ident" id="7426863">Input</span><span class="op" id="7426868">:</span>&nbsp;<span class="op" id="7426870">[</span><span class="op" id="7426871">]</span><span class="op" id="7426872">[</span><span class="op" id="7426873">]</span><span class="builtintype" id="7426874">string</span><span class="op" id="7426880">{</span><span class="op" id="7426881">{</span><span class="string" id="7426882">&#34;&#34;</span><span class="op" id="7426884">,</span>&nbsp;<span class="string" id="7426886">&#34;a&#34;</span><span class="op" id="7426889">,</span>&nbsp;<span class="string" id="7426891">&#34;a&#34;</span><span class="op" id="7426894">}</span><span class="op" id="7426895">}</span><span class="op" id="7426896">,</span>&nbsp;<span class="ident" id="7426898">Output</span><span class="op" id="7426904">:</span>&nbsp;<span class="string" id="7426906">&#34;,a,a\n&#34;</span><span class="op" id="7426914">}</span><span class="op" id="7426915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426918">{</span><span class="ident" id="7426919">Input</span><span class="op" id="7426924">:</span>&nbsp;<span class="op" id="7426926">[</span><span class="op" id="7426927">]</span><span class="op" id="7426928">[</span><span class="op" id="7426929">]</span><span class="builtintype" id="7426930">string</span><span class="op" id="7426936">{</span><span class="op" id="7426937">{</span><span class="string" id="7426938">&#34;a&#34;</span><span class="op" id="7426941">,</span>&nbsp;<span class="string" id="7426943">&#34;&#34;</span><span class="op" id="7426945">,</span>&nbsp;<span class="string" id="7426947">&#34;&#34;</span><span class="op" id="7426949">}</span><span class="op" id="7426950">}</span><span class="op" id="7426951">,</span>&nbsp;<span class="ident" id="7426953">Output</span><span class="op" id="7426959">:</span>&nbsp;<span class="string" id="7426961">&#34;a,,\n&#34;</span><span class="op" id="7426968">}</span><span class="op" id="7426969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426972">{</span><span class="ident" id="7426973">Input</span><span class="op" id="7426978">:</span>&nbsp;<span class="op" id="7426980">[</span><span class="op" id="7426981">]</span><span class="op" id="7426982">[</span><span class="op" id="7426983">]</span><span class="builtintype" id="7426984">string</span><span class="op" id="7426990">{</span><span class="op" id="7426991">{</span><span class="string" id="7426992">&#34;a&#34;</span><span class="op" id="7426995">,</span>&nbsp;<span class="string" id="7426997">&#34;&#34;</span><span class="op" id="7426999">,</span>&nbsp;<span class="string" id="7427001">&#34;a&#34;</span><span class="op" id="7427004">}</span><span class="op" id="7427005">}</span><span class="op" id="7427006">,</span>&nbsp;<span class="ident" id="7427008">Output</span><span class="op" id="7427014">:</span>&nbsp;<span class="string" id="7427016">&#34;a,,a\n&#34;</span><span class="op" id="7427024">}</span><span class="op" id="7427025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427028">{</span><span class="ident" id="7427029">Input</span><span class="op" id="7427034">:</span>&nbsp;<span class="op" id="7427036">[</span><span class="op" id="7427037">]</span><span class="op" id="7427038">[</span><span class="op" id="7427039">]</span><span class="builtintype" id="7427040">string</span><span class="op" id="7427046">{</span><span class="op" id="7427047">{</span><span class="string" id="7427048">&#34;a&#34;</span><span class="op" id="7427051">,</span>&nbsp;<span class="string" id="7427053">&#34;a&#34;</span><span class="op" id="7427056">,</span>&nbsp;<span class="string" id="7427058">&#34;&#34;</span><span class="op" id="7427060">}</span><span class="op" id="7427061">}</span><span class="op" id="7427062">,</span>&nbsp;<span class="ident" id="7427064">Output</span><span class="op" id="7427070">:</span>&nbsp;<span class="string" id="7427072">&#34;a,a,\n&#34;</span><span class="op" id="7427080">}</span><span class="op" id="7427081">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427084">{</span><span class="ident" id="7427085">Input</span><span class="op" id="7427090">:</span>&nbsp;<span class="op" id="7427092">[</span><span class="op" id="7427093">]</span><span class="op" id="7427094">[</span><span class="op" id="7427095">]</span><span class="builtintype" id="7427096">string</span><span class="op" id="7427102">{</span><span class="op" id="7427103">{</span><span class="string" id="7427104">&#34;a&#34;</span><span class="op" id="7427107">,</span>&nbsp;<span class="string" id="7427109">&#34;a&#34;</span><span class="op" id="7427112">,</span>&nbsp;<span class="string" id="7427114">&#34;a&#34;</span><span class="op" id="7427117">}</span><span class="op" id="7427118">}</span><span class="op" id="7427119">,</span>&nbsp;<span class="ident" id="7427121">Output</span><span class="op" id="7427127">:</span>&nbsp;<span class="string" id="7427129">&#34;a,a,a\n&#34;</span><span class="op" id="7427138">}</span><span class="op" id="7427139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427142">{</span><span class="ident" id="7427143">Input</span><span class="op" id="7427148">:</span>&nbsp;<span class="op" id="7427150">[</span><span class="op" id="7427151">]</span><span class="op" id="7427152">[</span><span class="op" id="7427153">]</span><span class="builtintype" id="7427154">string</span><span class="op" id="7427160">{</span><span class="op" id="7427161">{</span><span class="string" id="7427162">`\.`</span><span class="op" id="7427166">}</span><span class="op" id="7427167">}</span><span class="op" id="7427168">,</span>&nbsp;<span class="ident" id="7427170">Output</span><span class="op" id="7427176">:</span>&nbsp;<span class="string" id="7427178">&#34;\&#34;\\.\&#34;\n&#34;</span><span class="op" id="7427189">}</span><span class="op" id="7427190">,</span><br>
<span class="lineno"></span><span class="op" id="7427192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7427195">func</span>&nbsp;<span class="ident" id="7427200">TestWrite</span><span class="op" id="7427209">(</span><span class="ident" id="7427210">t</span>&nbsp;<span class="op" id="7427212">*</span><span class="ident" id="7427213">testing</span><span class="op" id="7427220">.</span><span class="ident" id="7427221">T</span><span class="op" id="7427222">)</span>&nbsp;<span class="op" id="7427224">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427227">for</span>&nbsp;<span class="ident" id="7427231">n</span><span class="op" id="7427232">,</span>&nbsp;<span class="ident" id="7427234">tt</span>&nbsp;<span class="op" id="7427237">:=</span>&nbsp;<span class="keyword" id="7427240">range</span>&nbsp;<span class="ident" id="7427246">writeTests</span>&nbsp;<span class="op" id="7427257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427261">b</span>&nbsp;<span class="op" id="7427263">:=</span>&nbsp;<span class="op" id="7427266">&amp;</span><span class="ident" id="7427267">bytes</span><span class="op" id="7427272">.</span><span class="ident" id="7427273">Buffer</span><span class="op" id="7427279">{</span><span class="op" id="7427280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427284">f</span>&nbsp;<span class="op" id="7427286">:=</span>&nbsp;<span class="ident" id="7427289">NewWriter</span><span class="op" id="7427298">(</span><span class="ident" id="7427299">b</span><span class="op" id="7427300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427304">f</span><span class="op" id="7427305">.</span><span class="ident" id="7427306">UseCRLF</span>&nbsp;<span class="op" id="7427314">=</span>&nbsp;<span class="ident" id="7427316">tt</span><span class="op" id="7427318">.</span><span class="ident" id="7427319">UseCRLF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427329">err</span>&nbsp;<span class="op" id="7427333">:=</span>&nbsp;<span class="ident" id="7427336">f</span><span class="op" id="7427337">.</span><span class="ident" id="7427338">WriteAll</span><span class="op" id="7427346">(</span><span class="ident" id="7427347">tt</span><span class="op" id="7427349">.</span><span class="ident" id="7427350">Input</span><span class="op" id="7427355">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427359">if</span>&nbsp;<span class="ident" id="7427362">err</span>&nbsp;<span class="op" id="7427366">!=</span>&nbsp;<span class="ident" id="7427369">nil</span>&nbsp;<span class="op" id="7427373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427378">t</span><span class="op" id="7427379">.</span><span class="ident" id="7427380">Errorf</span><span class="op" id="7427386">(</span><span class="string" id="7427387">&#34;Unexpected&nbsp;error:&nbsp;%s\n&#34;</span><span class="op" id="7427411">,</span>&nbsp;<span class="ident" id="7427413">err</span><span class="op" id="7427416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427424">out</span>&nbsp;<span class="op" id="7427428">:=</span>&nbsp;<span class="ident" id="7427431">b</span><span class="op" id="7427432">.</span><span class="ident" id="7427433">String</span><span class="op" id="7427439">(</span><span class="op" id="7427440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427444">if</span>&nbsp;<span class="ident" id="7427447">out</span>&nbsp;<span class="op" id="7427451">!=</span>&nbsp;<span class="ident" id="7427454">tt</span><span class="op" id="7427456">.</span><span class="ident" id="7427457">Output</span>&nbsp;<span class="op" id="7427464">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427469">t</span><span class="op" id="7427470">.</span><span class="ident" id="7427471">Errorf</span><span class="op" id="7427477">(</span><span class="string" id="7427478">&#34;#%d:&nbsp;out=%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7427499">,</span>&nbsp;<span class="ident" id="7427501">n</span><span class="op" id="7427502">,</span>&nbsp;<span class="ident" id="7427504">out</span><span class="op" id="7427507">,</span>&nbsp;<span class="ident" id="7427509">tt</span><span class="op" id="7427511">.</span><span class="ident" id="7427512">Output</span><span class="op" id="7427518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427525">}</span><br>
<span class="lineno"></span><span class="op" id="7427527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7427530">type</span>&nbsp;<span class="ident" id="7427535">errorWriter</span>&nbsp;<span class="keyword" id="7427547">struct</span><span class="op" id="7427553">{</span><span class="op" id="7427554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7427557">func</span>&nbsp;<span class="op" id="7427562">(</span><span class="ident" id="7427563">e</span>&nbsp;<span class="ident" id="7427565">errorWriter</span><span class="op" id="7427576">)</span>&nbsp;<span class="ident" id="7427578">Write</span><span class="op" id="7427583">(</span><span class="ident" id="7427584">b</span>&nbsp;<span class="op" id="7427586">[</span><span class="op" id="7427587">]</span><span class="builtintype" id="7427588">byte</span><span class="op" id="7427592">)</span>&nbsp;<span class="op" id="7427594">(</span><span class="builtintype" id="7427595">int</span><span class="op" id="7427598">,</span>&nbsp;<span class="builtintype" id="7427600">error</span><span class="op" id="7427605">)</span>&nbsp;<span class="op" id="7427607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427610">return</span>&nbsp;<span class="num" id="7427617">0</span><span class="op" id="7427618">,</span>&nbsp;<span class="ident" id="7427620">errors</span><span class="op" id="7427626">.</span><span class="ident" id="7427627">New</span><span class="op" id="7427630">(</span><span class="string" id="7427631">&#34;Test&#34;</span><span class="op" id="7427637">)</span><br>
<span class="lineno"></span><span class="op" id="7427639">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7427642">func</span>&nbsp;<span class="ident" id="7427647">TestError</span><span class="op" id="7427656">(</span><span class="ident" id="7427657">t</span>&nbsp;<span class="op" id="7427659">*</span><span class="ident" id="7427660">testing</span><span class="op" id="7427667">.</span><span class="ident" id="7427668">T</span><span class="op" id="7427669">)</span>&nbsp;<span class="op" id="7427671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427674">b</span>&nbsp;<span class="op" id="7427676">:=</span>&nbsp;<span class="op" id="7427679">&amp;</span><span class="ident" id="7427680">bytes</span><span class="op" id="7427685">.</span><span class="ident" id="7427686">Buffer</span><span class="op" id="7427692">{</span><span class="op" id="7427693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427696">f</span>&nbsp;<span class="op" id="7427698">:=</span>&nbsp;<span class="ident" id="7427701">NewWriter</span><span class="op" id="7427710">(</span><span class="ident" id="7427711">b</span><span class="op" id="7427712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427715">f</span><span class="op" id="7427716">.</span><span class="ident" id="7427717">Write</span><span class="op" id="7427722">(</span><span class="op" id="7427723">[</span><span class="op" id="7427724">]</span><span class="builtintype" id="7427725">string</span><span class="op" id="7427731">{</span><span class="string" id="7427732">&#34;abc&#34;</span><span class="op" id="7427737">}</span><span class="op" id="7427738">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427741">f</span><span class="op" id="7427742">.</span><span class="ident" id="7427743">Flush</span><span class="op" id="7427748">(</span><span class="op" id="7427749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427752">err</span>&nbsp;<span class="op" id="7427756">:=</span>&nbsp;<span class="ident" id="7427759">f</span><span class="op" id="7427760">.</span><span class="ident" id="7427761">Error</span><span class="op" id="7427766">(</span><span class="op" id="7427767">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427771">if</span>&nbsp;<span class="ident" id="7427774">err</span>&nbsp;<span class="op" id="7427778">!=</span>&nbsp;<span class="ident" id="7427781">nil</span>&nbsp;<span class="op" id="7427785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427789">t</span><span class="op" id="7427790">.</span><span class="ident" id="7427791">Errorf</span><span class="op" id="7427797">(</span><span class="string" id="7427798">&#34;Unexpected&nbsp;error:&nbsp;%s\n&#34;</span><span class="op" id="7427822">,</span>&nbsp;<span class="ident" id="7427824">err</span><span class="op" id="7427827">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427834">f</span>&nbsp;<span class="op" id="7427836">=</span>&nbsp;<span class="ident" id="7427838">NewWriter</span><span class="op" id="7427847">(</span><span class="ident" id="7427848">errorWriter</span><span class="op" id="7427859">{</span><span class="op" id="7427860">}</span><span class="op" id="7427861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427864">f</span><span class="op" id="7427865">.</span><span class="ident" id="7427866">Write</span><span class="op" id="7427871">(</span><span class="op" id="7427872">[</span><span class="op" id="7427873">]</span><span class="builtintype" id="7427874">string</span><span class="op" id="7427880">{</span><span class="string" id="7427881">&#34;abc&#34;</span><span class="op" id="7427886">}</span><span class="op" id="7427887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427890">f</span><span class="op" id="7427891">.</span><span class="ident" id="7427892">Flush</span><span class="op" id="7427897">(</span><span class="op" id="7427898">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427901">err</span>&nbsp;<span class="op" id="7427905">=</span>&nbsp;<span class="ident" id="7427907">f</span><span class="op" id="7427908">.</span><span class="ident" id="7427909">Error</span><span class="op" id="7427914">(</span><span class="op" id="7427915">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427919">if</span>&nbsp;<span class="ident" id="7427922">err</span>&nbsp;<span class="op" id="7427926">==</span>&nbsp;<span class="ident" id="7427929">nil</span>&nbsp;<span class="op" id="7427933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427937">t</span><span class="op" id="7427938">.</span><span class="ident" id="7427939">Error</span><span class="op" id="7427944">(</span><span class="string" id="7427945">&#34;Error&nbsp;should&nbsp;not&nbsp;be&nbsp;nil&#34;</span><span class="op" id="7427970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427973">}</span><br>
<span class="lineno">85</span><span class="op" id="7427975">}</span>
</div>
</body>
</html>
