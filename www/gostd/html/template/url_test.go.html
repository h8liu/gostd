<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7169866">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7169921">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7169975">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7170026">package</span>&nbsp;<span class="ident" id="7170034">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7170044">import</span>&nbsp;<span class="op" id="7170051">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7170054">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7170064">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7170067">func</span>&nbsp;<span class="ident" id="7170072">TestURLNormalizer</span><span class="op" id="7170089">(</span><span class="ident" id="7170090">t</span>&nbsp;<span class="op" id="7170092">*</span><span class="ident" id="7170093">testing</span><span class="op" id="7170100">.</span><span class="ident" id="7170101">T</span><span class="op" id="7170102">)</span>&nbsp;<span class="op" id="7170104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7170107">tests</span>&nbsp;<span class="op" id="7170113">:=</span>&nbsp;<span class="op" id="7170116">[</span><span class="op" id="7170117">]</span><span class="keyword" id="7170118">struct</span>&nbsp;<span class="op" id="7170125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7170129">url</span><span class="op" id="7170132">,</span>&nbsp;<span class="ident" id="7170134">want</span>&nbsp;<span class="builtintype" id="7170139">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170147">}</span><span class="op" id="7170148">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170152">{</span><span class="string" id="7170153">&#34;&#34;</span><span class="op" id="7170155">,</span>&nbsp;<span class="string" id="7170157">&#34;&#34;</span><span class="op" id="7170159">}</span><span class="op" id="7170160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7170169">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7170222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7170227">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7170280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170284">}</span><span class="op" id="7170285">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170289">{</span><span class="string" id="7170290">&#34;&nbsp;&#34;</span><span class="op" id="7170293">,</span>&nbsp;<span class="string" id="7170295">&#34;%20&#34;</span><span class="op" id="7170300">}</span><span class="op" id="7170301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170305">{</span><span class="string" id="7170306">&#34;%7c&#34;</span><span class="op" id="7170311">,</span>&nbsp;<span class="string" id="7170313">&#34;%7c&#34;</span><span class="op" id="7170318">}</span><span class="op" id="7170319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170323">{</span><span class="string" id="7170324">&#34;%7C&#34;</span><span class="op" id="7170329">,</span>&nbsp;<span class="string" id="7170331">&#34;%7C&#34;</span><span class="op" id="7170336">}</span><span class="op" id="7170337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170341">{</span><span class="string" id="7170342">&#34;%2&#34;</span><span class="op" id="7170346">,</span>&nbsp;<span class="string" id="7170348">&#34;%252&#34;</span><span class="op" id="7170354">}</span><span class="op" id="7170355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170359">{</span><span class="string" id="7170360">&#34;%&#34;</span><span class="op" id="7170363">,</span>&nbsp;<span class="string" id="7170365">&#34;%25&#34;</span><span class="op" id="7170370">}</span><span class="op" id="7170371">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170375">{</span><span class="string" id="7170376">&#34;%z&#34;</span><span class="op" id="7170380">,</span>&nbsp;<span class="string" id="7170382">&#34;%25z&#34;</span><span class="op" id="7170388">}</span><span class="op" id="7170389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170393">{</span><span class="string" id="7170394">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="7170414">,</span>&nbsp;<span class="string" id="7170416">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="7170441">}</span><span class="op" id="7170442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7170448">for</span>&nbsp;<span class="ident" id="7170452">_</span><span class="op" id="7170453">,</span>&nbsp;<span class="ident" id="7170455">test</span>&nbsp;<span class="op" id="7170460">:=</span>&nbsp;<span class="keyword" id="7170463">range</span>&nbsp;<span class="ident" id="7170469">tests</span>&nbsp;<span class="op" id="7170475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7170479">if</span>&nbsp;<span class="ident" id="7170482">got</span>&nbsp;<span class="op" id="7170486">:=</span>&nbsp;<span class="ident" id="7170489">urlNormalizer</span><span class="op" id="7170502">(</span><span class="ident" id="7170503">test</span><span class="op" id="7170507">.</span><span class="ident" id="7170508">url</span><span class="op" id="7170511">)</span><span class="op" id="7170512">;</span>&nbsp;<span class="ident" id="7170514">test</span><span class="op" id="7170518">.</span><span class="ident" id="7170519">want</span>&nbsp;<span class="op" id="7170524">!=</span>&nbsp;<span class="ident" id="7170527">got</span>&nbsp;<span class="op" id="7170531">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7170536">t</span><span class="op" id="7170537">.</span><span class="ident" id="7170538">Errorf</span><span class="op" id="7170544">(</span><span class="string" id="7170545">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="7170576">,</span>&nbsp;<span class="ident" id="7170578">test</span><span class="op" id="7170582">.</span><span class="ident" id="7170583">url</span><span class="op" id="7170586">,</span>&nbsp;<span class="ident" id="7170588">test</span><span class="op" id="7170592">.</span><span class="ident" id="7170593">want</span><span class="op" id="7170597">,</span>&nbsp;<span class="ident" id="7170599">got</span><span class="op" id="7170602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7170610">if</span>&nbsp;<span class="ident" id="7170613">test</span><span class="op" id="7170617">.</span><span class="ident" id="7170618">want</span>&nbsp;<span class="op" id="7170623">!=</span>&nbsp;<span class="ident" id="7170626">urlNormalizer</span><span class="op" id="7170639">(</span><span class="ident" id="7170640">test</span><span class="op" id="7170644">.</span><span class="ident" id="7170645">want</span><span class="op" id="7170649">)</span>&nbsp;<span class="op" id="7170651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7170656">t</span><span class="op" id="7170657">.</span><span class="ident" id="7170658">Errorf</span><span class="op" id="7170664">(</span><span class="string" id="7170665">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="7170685">,</span>&nbsp;<span class="ident" id="7170687">test</span><span class="op" id="7170691">.</span><span class="ident" id="7170692">want</span><span class="op" id="7170696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170700">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7170703">}</span><br>
<span class="lineno"></span><span class="op" id="7170705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7170708">func</span>&nbsp;<span class="ident" id="7170713">TestURLFilters</span><span class="op" id="7170727">(</span><span class="ident" id="7170728">t</span>&nbsp;<span class="op" id="7170730">*</span><span class="ident" id="7170731">testing</span><span class="op" id="7170738">.</span><span class="ident" id="7170739">T</span><span class="op" id="7170740">)</span>&nbsp;<span class="op" id="7170742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7170745">input</span>&nbsp;<span class="op" id="7170751">:=</span>&nbsp;<span class="op" id="7170754">(</span><span class="string" id="7170755">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="7170816">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7170820">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="7170887">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7170891">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="7170910">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7170914">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="7170933">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7170937">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="7170956">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7170960">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="7170979">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7170983">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7171002">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171006">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="7171028">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171032">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="7171074">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7171078">tests</span>&nbsp;<span class="op" id="7171084">:=</span>&nbsp;<span class="op" id="7171087">[</span><span class="op" id="7171088">]</span><span class="keyword" id="7171089">struct</span>&nbsp;<span class="op" id="7171096">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7171100">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7171108">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7171117">escaper</span>&nbsp;<span class="keyword" id="7171125">func</span><span class="op" id="7171129">(</span><span class="op" id="7171130">...</span><span class="keyword" id="7171133">interface</span><span class="op" id="7171142">{</span><span class="op" id="7171143">}</span><span class="op" id="7171144">)</span>&nbsp;<span class="builtintype" id="7171146">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7171155">escaped</span>&nbsp;<span class="builtintype" id="7171163">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7171171">}</span><span class="op" id="7171172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7171176">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171181">&#34;urlEscaper&#34;</span><span class="op" id="7171193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7171198">urlEscaper</span><span class="op" id="7171208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171213">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7171264">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171270">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7171321">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171327">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="7171374">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171380">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="7171411">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171417">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7171438">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171444">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="7171471">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171477">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7171498">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171504">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7171531">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171537">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7171590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7171594">}</span><span class="op" id="7171595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7171599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171604">&#34;urlNormalizer&#34;</span><span class="op" id="7171619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7171624">urlNormalizer</span><span class="op" id="7171637">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171642">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7171693">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171699">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7171750">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171756">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="7171787">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171793">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="7171816">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171822">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7171841">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171847">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="7171870">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171876">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7171897">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171903">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7171930">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7171936">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7171989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7171993">}</span><span class="op" id="7171994">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7171997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7172001">for</span>&nbsp;<span class="ident" id="7172005">_</span><span class="op" id="7172006">,</span>&nbsp;<span class="ident" id="7172008">test</span>&nbsp;<span class="op" id="7172013">:=</span>&nbsp;<span class="keyword" id="7172016">range</span>&nbsp;<span class="ident" id="7172022">tests</span>&nbsp;<span class="op" id="7172028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7172032">if</span>&nbsp;<span class="ident" id="7172035">s</span>&nbsp;<span class="op" id="7172037">:=</span>&nbsp;<span class="ident" id="7172040">test</span><span class="op" id="7172044">.</span><span class="ident" id="7172045">escaper</span><span class="op" id="7172052">(</span><span class="ident" id="7172053">input</span><span class="op" id="7172058">)</span><span class="op" id="7172059">;</span>&nbsp;<span class="ident" id="7172061">s</span>&nbsp;<span class="op" id="7172063">!=</span>&nbsp;<span class="ident" id="7172066">test</span><span class="op" id="7172070">.</span><span class="ident" id="7172071">escaped</span>&nbsp;<span class="op" id="7172079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7172084">t</span><span class="op" id="7172085">.</span><span class="ident" id="7172086">Errorf</span><span class="op" id="7172092">(</span><span class="string" id="7172093">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="7172120">,</span>&nbsp;<span class="ident" id="7172122">test</span><span class="op" id="7172126">.</span><span class="ident" id="7172127">name</span><span class="op" id="7172131">,</span>&nbsp;<span class="ident" id="7172133">test</span><span class="op" id="7172137">.</span><span class="ident" id="7172138">escaped</span><span class="op" id="7172145">,</span>&nbsp;<span class="ident" id="7172147">s</span><span class="op" id="7172148">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7172153">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7172164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7172167">}</span><br>
<span class="lineno"></span><span class="op" id="7172169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7172172">func</span>&nbsp;<span class="ident" id="7172177">BenchmarkURLEscaper</span><span class="op" id="7172196">(</span><span class="ident" id="7172197">b</span>&nbsp;<span class="op" id="7172199">*</span><span class="ident" id="7172200">testing</span><span class="op" id="7172207">.</span><span class="ident" id="7172208">B</span><span class="op" id="7172209">)</span>&nbsp;<span class="op" id="7172211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7172214">for</span>&nbsp;<span class="ident" id="7172218">i</span>&nbsp;<span class="op" id="7172220">:=</span>&nbsp;<span class="num" id="7172223">0</span><span class="op" id="7172224">;</span>&nbsp;<span class="ident" id="7172226">i</span>&nbsp;<span class="op" id="7172228">&lt;</span>&nbsp;<span class="ident" id="7172230">b</span><span class="op" id="7172231">.</span><span class="ident" id="7172232">N</span><span class="op" id="7172233">;</span>&nbsp;<span class="ident" id="7172235">i</span><span class="op" id="7172236">++</span>&nbsp;<span class="op" id="7172239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7172243">urlEscaper</span><span class="op" id="7172253">(</span><span class="string" id="7172254">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7172303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7172306">}</span><br>
<span class="lineno"></span><span class="op" id="7172308">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="7172311">func</span>&nbsp;<span class="ident" id="7172316">BenchmarkURLEscaperNoSpecials</span><span class="op" id="7172345">(</span><span class="ident" id="7172346">b</span>&nbsp;<span class="op" id="7172348">*</span><span class="ident" id="7172349">testing</span><span class="op" id="7172356">.</span><span class="ident" id="7172357">B</span><span class="op" id="7172358">)</span>&nbsp;<span class="op" id="7172360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7172363">for</span>&nbsp;<span class="ident" id="7172367">i</span>&nbsp;<span class="op" id="7172369">:=</span>&nbsp;<span class="num" id="7172372">0</span><span class="op" id="7172373">;</span>&nbsp;<span class="ident" id="7172375">i</span>&nbsp;<span class="op" id="7172377">&lt;</span>&nbsp;<span class="ident" id="7172379">b</span><span class="op" id="7172380">.</span><span class="ident" id="7172381">N</span><span class="op" id="7172382">;</span>&nbsp;<span class="ident" id="7172384">i</span><span class="op" id="7172385">++</span>&nbsp;<span class="op" id="7172388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7172392">urlEscaper</span><span class="op" id="7172402">(</span><span class="string" id="7172403">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="7172441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7172444">}</span><br>
<span class="lineno">100</span><span class="op" id="7172446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7172449">func</span>&nbsp;<span class="ident" id="7172454">BenchmarkURLNormalizer</span><span class="op" id="7172476">(</span><span class="ident" id="7172477">b</span>&nbsp;<span class="op" id="7172479">*</span><span class="ident" id="7172480">testing</span><span class="op" id="7172487">.</span><span class="ident" id="7172488">B</span><span class="op" id="7172489">)</span>&nbsp;<span class="op" id="7172491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7172494">for</span>&nbsp;<span class="ident" id="7172498">i</span>&nbsp;<span class="op" id="7172500">:=</span>&nbsp;<span class="num" id="7172503">0</span><span class="op" id="7172504">;</span>&nbsp;<span class="ident" id="7172506">i</span>&nbsp;<span class="op" id="7172508">&lt;</span>&nbsp;<span class="ident" id="7172510">b</span><span class="op" id="7172511">.</span><span class="ident" id="7172512">N</span><span class="op" id="7172513">;</span>&nbsp;<span class="ident" id="7172515">i</span><span class="op" id="7172516">++</span>&nbsp;<span class="op" id="7172519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7172523">urlNormalizer</span><span class="op" id="7172536">(</span><span class="string" id="7172537">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="7172585">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7172588">}</span><br>
<span class="lineno"></span><span class="op" id="7172590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7172593">func</span>&nbsp;<span class="ident" id="7172598">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="7172630">(</span><span class="ident" id="7172631">b</span>&nbsp;<span class="op" id="7172633">*</span><span class="ident" id="7172634">testing</span><span class="op" id="7172641">.</span><span class="ident" id="7172642">B</span><span class="op" id="7172643">)</span>&nbsp;<span class="op" id="7172645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7172648">for</span>&nbsp;<span class="ident" id="7172652">i</span>&nbsp;<span class="op" id="7172654">:=</span>&nbsp;<span class="num" id="7172657">0</span><span class="op" id="7172658">;</span>&nbsp;<span class="ident" id="7172660">i</span>&nbsp;<span class="op" id="7172662">&lt;</span>&nbsp;<span class="ident" id="7172664">b</span><span class="op" id="7172665">.</span><span class="ident" id="7172666">N</span><span class="op" id="7172667">;</span>&nbsp;<span class="ident" id="7172669">i</span><span class="op" id="7172670">++</span>&nbsp;<span class="op" id="7172673">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7172677">urlNormalizer</span><span class="op" id="7172690">(</span><span class="string" id="7172691">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7172740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7172743">}</span><br>
<span class="lineno"></span><span class="op" id="7172745">}</span>
</div>
</body>
</html>
