<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime/multipart</h2>
<ul>
<li><a href="/gostd/mime/multipart/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/mime/multipart/formdata.go.html" class="current">formdata.go</a></li>
<li><a href="/gostd/mime/multipart/formdata_test.go.html">formdata_test.go</a></li>
<li><a href="/gostd/mime/multipart/multipart.go.html">multipart.go</a></li>
<li><a href="/gostd/mime/multipart/multipart_test.go.html">multipart_test.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable.go.html">quotedprintable.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable_test.go.html">quotedprintable_test.go</a></li>
<li><a href="/gostd/mime/multipart/writer.go.html">writer.go</a></li>
<li><a href="/gostd/mime/multipart/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3374187">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3374242">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3374296">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3374347">package</span>&nbsp;<span class="ident" id="3374355">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3374366">import</span>&nbsp;<span class="op" id="3374373">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3374376">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3374385">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3374395">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3374401">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3374414">&#34;net/textproto&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3374431">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3374436">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3374439">//&nbsp;TODO(adg,bradfitz):&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;unify&nbsp;the&nbsp;DoS-prevention&nbsp;strategy&nbsp;here</span><br>
<span class="lineno"></span><span class="comment" id="3374515">//&nbsp;with&nbsp;that&nbsp;of&nbsp;the&nbsp;http&nbsp;package&#39;s&nbsp;ParseForm.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3374562">//&nbsp;ReadForm&nbsp;parses&nbsp;an&nbsp;entire&nbsp;multipart&nbsp;message&nbsp;whose&nbsp;parts&nbsp;have</span><br>
<span class="lineno">20</span><span class="comment" id="3374626">//&nbsp;a&nbsp;Content-Disposition&nbsp;of&nbsp;&#34;form-data&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3374667">//&nbsp;It&nbsp;stores&nbsp;up&nbsp;to&nbsp;maxMemory&nbsp;bytes&nbsp;of&nbsp;the&nbsp;file&nbsp;parts&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="3374730">//&nbsp;and&nbsp;the&nbsp;remainder&nbsp;on&nbsp;disk&nbsp;in&nbsp;temporary&nbsp;files.</span><br>
<span class="lineno"></span><span class="keyword" id="3374779">func</span>&nbsp;<span class="op" id="3374784">(</span><span class="ident" id="3374785">r</span>&nbsp;<span class="op" id="3374787">*</span><span class="ident" id="3374788">Reader</span><span class="op" id="3374794">)</span>&nbsp;<span class="ident" id="3374796">ReadForm</span><span class="op" id="3374804">(</span><span class="ident" id="3374805">maxMemory</span>&nbsp;<span class="ident" id="3374815">int64</span><span class="op" id="3374820">)</span>&nbsp;<span class="op" id="3374822">(</span><span class="ident" id="3374823">f</span>&nbsp;<span class="op" id="3374825">*</span><span class="ident" id="3374826">Form</span><span class="op" id="3374830">,</span>&nbsp;<span class="ident" id="3374832">err</span>&nbsp;<span class="builtintype" id="3374836">error</span><span class="op" id="3374841">)</span>&nbsp;<span class="op" id="3374843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3374846">form</span>&nbsp;<span class="op" id="3374851">:=</span>&nbsp;<span class="op" id="3374854">&amp;</span><span class="ident" id="3374855">Form</span><span class="op" id="3374859">{</span><span class="builtinfunc" id="3374860">make</span><span class="op" id="3374864">(</span><span class="keyword" id="3374865">map</span><span class="op" id="3374868">[</span><span class="builtintype" id="3374869">string</span><span class="op" id="3374875">]</span><span class="op" id="3374876">[</span><span class="op" id="3374877">]</span><span class="builtintype" id="3374878">string</span><span class="op" id="3374884">)</span><span class="op" id="3374885">,</span>&nbsp;<span class="builtinfunc" id="3374887">make</span><span class="op" id="3374891">(</span><span class="keyword" id="3374892">map</span><span class="op" id="3374895">[</span><span class="builtintype" id="3374896">string</span><span class="op" id="3374902">]</span><span class="op" id="3374903">[</span><span class="op" id="3374904">]</span><span class="op" id="3374905">*</span><span class="ident" id="3374906">FileHeader</span><span class="op" id="3374916">)</span><span class="op" id="3374917">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374920">defer</span>&nbsp;<span class="keyword" id="3374926">func</span><span class="op" id="3374930">(</span><span class="op" id="3374931">)</span>&nbsp;<span class="op" id="3374933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374937">if</span>&nbsp;<span class="ident" id="3374940">err</span>&nbsp;<span class="op" id="3374944">!=</span>&nbsp;<span class="ident" id="3374947">nil</span>&nbsp;<span class="op" id="3374951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3374956">form</span><span class="op" id="3374960">.</span><span class="ident" id="3374961">RemoveAll</span><span class="op" id="3374970">(</span><span class="op" id="3374971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3374975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3374978">}</span><span class="op" id="3374979">(</span><span class="op" id="3374980">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3374984">maxValueBytes</span>&nbsp;<span class="op" id="3374998">:=</span>&nbsp;<span class="ident" id="3375001">int64</span><span class="op" id="3375006">(</span><span class="num" id="3375007">10</span>&nbsp;<span class="op" id="3375010">&lt;&lt;</span>&nbsp;<span class="num" id="3375013">20</span><span class="op" id="3375015">)</span>&nbsp;<span class="comment" id="3375017">//&nbsp;10&nbsp;MB&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;text.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375045">for</span>&nbsp;<span class="op" id="3375049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375053">p</span><span class="op" id="3375054">,</span>&nbsp;<span class="ident" id="3375056">err</span>&nbsp;<span class="op" id="3375060">:=</span>&nbsp;<span class="ident" id="3375063">r</span><span class="op" id="3375064">.</span><span class="ident" id="3375065">NextPart</span><span class="op" id="3375073">(</span><span class="op" id="3375074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375078">if</span>&nbsp;<span class="ident" id="3375081">err</span>&nbsp;<span class="op" id="3375085">==</span>&nbsp;<span class="ident" id="3375088">io</span><span class="op" id="3375090">.</span><span class="ident" id="3375091">EOF</span>&nbsp;<span class="op" id="3375095">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375100">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3375108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375112">if</span>&nbsp;<span class="ident" id="3375115">err</span>&nbsp;<span class="op" id="3375119">!=</span>&nbsp;<span class="ident" id="3375122">nil</span>&nbsp;<span class="op" id="3375126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375131">return</span>&nbsp;<span class="ident" id="3375138">nil</span><span class="op" id="3375141">,</span>&nbsp;<span class="ident" id="3375143">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3375149">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375154">name</span>&nbsp;<span class="op" id="3375159">:=</span>&nbsp;<span class="ident" id="3375162">p</span><span class="op" id="3375163">.</span><span class="ident" id="3375164">FormName</span><span class="op" id="3375172">(</span><span class="op" id="3375173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375177">if</span>&nbsp;<span class="ident" id="3375180">name</span>&nbsp;<span class="op" id="3375185">==</span>&nbsp;<span class="string" id="3375188">&#34;&#34;</span>&nbsp;<span class="op" id="3375191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375196">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3375207">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375211">filename</span>&nbsp;<span class="op" id="3375220">:=</span>&nbsp;<span class="ident" id="3375223">p</span><span class="op" id="3375224">.</span><span class="ident" id="3375225">FileName</span><span class="op" id="3375233">(</span><span class="op" id="3375234">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375239">var</span>&nbsp;<span class="ident" id="3375243">b</span>&nbsp;<span class="ident" id="3375245">bytes</span><span class="op" id="3375250">.</span><span class="ident" id="3375251">Buffer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375261">if</span>&nbsp;<span class="ident" id="3375264">filename</span>&nbsp;<span class="op" id="3375273">==</span>&nbsp;<span class="string" id="3375276">&#34;&#34;</span>&nbsp;<span class="op" id="3375279">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3375284">//&nbsp;value,&nbsp;store&nbsp;as&nbsp;string&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375323">n</span><span class="op" id="3375324">,</span>&nbsp;<span class="ident" id="3375326">err</span>&nbsp;<span class="op" id="3375330">:=</span>&nbsp;<span class="ident" id="3375333">io</span><span class="op" id="3375335">.</span><span class="ident" id="3375336">CopyN</span><span class="op" id="3375341">(</span><span class="op" id="3375342">&amp;</span><span class="ident" id="3375343">b</span><span class="op" id="3375344">,</span>&nbsp;<span class="ident" id="3375346">p</span><span class="op" id="3375347">,</span>&nbsp;<span class="ident" id="3375349">maxValueBytes</span><span class="op" id="3375362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375367">if</span>&nbsp;<span class="ident" id="3375370">err</span>&nbsp;<span class="op" id="3375374">!=</span>&nbsp;<span class="ident" id="3375377">nil</span>&nbsp;<span class="op" id="3375381">&amp;&amp;</span>&nbsp;<span class="ident" id="3375384">err</span>&nbsp;<span class="op" id="3375388">!=</span>&nbsp;<span class="ident" id="3375391">io</span><span class="op" id="3375393">.</span><span class="ident" id="3375394">EOF</span>&nbsp;<span class="op" id="3375398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375404">return</span>&nbsp;<span class="ident" id="3375411">nil</span><span class="op" id="3375414">,</span>&nbsp;<span class="ident" id="3375416">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3375423">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375428">maxValueBytes</span>&nbsp;<span class="op" id="3375442">-=</span>&nbsp;<span class="ident" id="3375445">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375450">if</span>&nbsp;<span class="ident" id="3375453">maxValueBytes</span>&nbsp;<span class="op" id="3375467">==</span>&nbsp;<span class="num" id="3375470">0</span>&nbsp;<span class="op" id="3375472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375478">return</span>&nbsp;<span class="ident" id="3375485">nil</span><span class="op" id="3375488">,</span>&nbsp;<span class="ident" id="3375490">errors</span><span class="op" id="3375496">.</span><span class="ident" id="3375497">New</span><span class="op" id="3375500">(</span><span class="string" id="3375501">&#34;multipart:&nbsp;message&nbsp;too&nbsp;large&#34;</span><span class="op" id="3375531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3375536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375541">form</span><span class="op" id="3375545">.</span><span class="ident" id="3375546">Value</span><span class="op" id="3375551">[</span><span class="ident" id="3375552">name</span><span class="op" id="3375556">]</span>&nbsp;<span class="op" id="3375558">=</span>&nbsp;<span class="builtinfunc" id="3375560">append</span><span class="op" id="3375566">(</span><span class="ident" id="3375567">form</span><span class="op" id="3375571">.</span><span class="ident" id="3375572">Value</span><span class="op" id="3375577">[</span><span class="ident" id="3375578">name</span><span class="op" id="3375582">]</span><span class="op" id="3375583">,</span>&nbsp;<span class="ident" id="3375585">b</span><span class="op" id="3375586">.</span><span class="ident" id="3375587">String</span><span class="op" id="3375593">(</span><span class="op" id="3375594">)</span><span class="op" id="3375595">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375600">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3375611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3375616">//&nbsp;file,&nbsp;store&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375654">fh</span>&nbsp;<span class="op" id="3375657">:=</span>&nbsp;<span class="op" id="3375660">&amp;</span><span class="ident" id="3375661">FileHeader</span><span class="op" id="3375671">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375676">Filename</span><span class="op" id="3375684">:</span>&nbsp;<span class="ident" id="3375686">filename</span><span class="op" id="3375694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375699">Header</span><span class="op" id="3375705">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3375709">p</span><span class="op" id="3375710">.</span><span class="ident" id="3375711">Header</span><span class="op" id="3375717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3375721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375725">n</span><span class="op" id="3375726">,</span>&nbsp;<span class="ident" id="3375728">err</span>&nbsp;<span class="op" id="3375732">:=</span>&nbsp;<span class="ident" id="3375735">io</span><span class="op" id="3375737">.</span><span class="ident" id="3375738">CopyN</span><span class="op" id="3375743">(</span><span class="op" id="3375744">&amp;</span><span class="ident" id="3375745">b</span><span class="op" id="3375746">,</span>&nbsp;<span class="ident" id="3375748">p</span><span class="op" id="3375749">,</span>&nbsp;<span class="ident" id="3375751">maxMemory</span><span class="op" id="3375760">+</span><span class="num" id="3375761">1</span><span class="op" id="3375762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375766">if</span>&nbsp;<span class="ident" id="3375769">err</span>&nbsp;<span class="op" id="3375773">!=</span>&nbsp;<span class="ident" id="3375776">nil</span>&nbsp;<span class="op" id="3375780">&amp;&amp;</span>&nbsp;<span class="ident" id="3375783">err</span>&nbsp;<span class="op" id="3375787">!=</span>&nbsp;<span class="ident" id="3375790">io</span><span class="op" id="3375792">.</span><span class="ident" id="3375793">EOF</span>&nbsp;<span class="op" id="3375797">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375802">return</span>&nbsp;<span class="ident" id="3375809">nil</span><span class="op" id="3375812">,</span>&nbsp;<span class="ident" id="3375814">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3375820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375824">if</span>&nbsp;<span class="ident" id="3375827">n</span>&nbsp;<span class="op" id="3375829">&gt;</span>&nbsp;<span class="ident" id="3375831">maxMemory</span>&nbsp;<span class="op" id="3375841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3375846">//&nbsp;too&nbsp;big,&nbsp;write&nbsp;to&nbsp;disk&nbsp;and&nbsp;flush&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3375892">file</span><span class="op" id="3375896">,</span>&nbsp;<span class="ident" id="3375898">err</span>&nbsp;<span class="op" id="3375902">:=</span>&nbsp;<span class="ident" id="3375905">ioutil</span><span class="op" id="3375911">.</span><span class="ident" id="3375912">TempFile</span><span class="op" id="3375920">(</span><span class="string" id="3375921">&#34;&#34;</span><span class="op" id="3375923">,</span>&nbsp;<span class="string" id="3375925">&#34;multipart-&#34;</span><span class="op" id="3375937">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375942">if</span>&nbsp;<span class="ident" id="3375945">err</span>&nbsp;<span class="op" id="3375949">!=</span>&nbsp;<span class="ident" id="3375952">nil</span>&nbsp;<span class="op" id="3375956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375962">return</span>&nbsp;<span class="ident" id="3375969">nil</span><span class="op" id="3375972">,</span>&nbsp;<span class="ident" id="3375974">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3375981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3375986">defer</span>&nbsp;<span class="ident" id="3375992">file</span><span class="op" id="3375996">.</span><span class="ident" id="3375997">Close</span><span class="op" id="3376002">(</span><span class="op" id="3376003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376008">_</span><span class="op" id="3376009">,</span>&nbsp;<span class="ident" id="3376011">err</span>&nbsp;<span class="op" id="3376015">=</span>&nbsp;<span class="ident" id="3376017">io</span><span class="op" id="3376019">.</span><span class="ident" id="3376020">Copy</span><span class="op" id="3376024">(</span><span class="ident" id="3376025">file</span><span class="op" id="3376029">,</span>&nbsp;<span class="ident" id="3376031">io</span><span class="op" id="3376033">.</span><span class="ident" id="3376034">MultiReader</span><span class="op" id="3376045">(</span><span class="op" id="3376046">&amp;</span><span class="ident" id="3376047">b</span><span class="op" id="3376048">,</span>&nbsp;<span class="ident" id="3376050">p</span><span class="op" id="3376051">)</span><span class="op" id="3376052">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3376057">if</span>&nbsp;<span class="ident" id="3376060">err</span>&nbsp;<span class="op" id="3376064">!=</span>&nbsp;<span class="ident" id="3376067">nil</span>&nbsp;<span class="op" id="3376071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376077">os</span><span class="op" id="3376079">.</span><span class="ident" id="3376080">Remove</span><span class="op" id="3376086">(</span><span class="ident" id="3376087">file</span><span class="op" id="3376091">.</span><span class="ident" id="3376092">Name</span><span class="op" id="3376096">(</span><span class="op" id="3376097">)</span><span class="op" id="3376098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3376104">return</span>&nbsp;<span class="ident" id="3376111">nil</span><span class="op" id="3376114">,</span>&nbsp;<span class="ident" id="3376116">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3376123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376128">fh</span><span class="op" id="3376130">.</span><span class="ident" id="3376131">tmpfile</span>&nbsp;<span class="op" id="3376139">=</span>&nbsp;<span class="ident" id="3376141">file</span><span class="op" id="3376145">.</span><span class="ident" id="3376146">Name</span><span class="op" id="3376150">(</span><span class="op" id="3376151">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3376155">}</span>&nbsp;<span class="keyword" id="3376157">else</span>&nbsp;<span class="op" id="3376162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376167">fh</span><span class="op" id="3376169">.</span><span class="ident" id="3376170">content</span>&nbsp;<span class="op" id="3376178">=</span>&nbsp;<span class="ident" id="3376180">b</span><span class="op" id="3376181">.</span><span class="ident" id="3376182">Bytes</span><span class="op" id="3376187">(</span><span class="op" id="3376188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376193">maxMemory</span>&nbsp;<span class="op" id="3376203">-=</span>&nbsp;<span class="ident" id="3376206">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3376210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376214">form</span><span class="op" id="3376218">.</span><span class="ident" id="3376219">File</span><span class="op" id="3376223">[</span><span class="ident" id="3376224">name</span><span class="op" id="3376228">]</span>&nbsp;<span class="op" id="3376230">=</span>&nbsp;<span class="builtinfunc" id="3376232">append</span><span class="op" id="3376238">(</span><span class="ident" id="3376239">form</span><span class="op" id="3376243">.</span><span class="ident" id="3376244">File</span><span class="op" id="3376248">[</span><span class="ident" id="3376249">name</span><span class="op" id="3376253">]</span><span class="op" id="3376254">,</span>&nbsp;<span class="ident" id="3376256">fh</span><span class="op" id="3376258">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3376261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3376265">return</span>&nbsp;<span class="ident" id="3376272">form</span><span class="op" id="3376276">,</span>&nbsp;<span class="ident" id="3376278">nil</span><br>
<span class="lineno"></span><span class="op" id="3376282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3376285">//&nbsp;Form&nbsp;is&nbsp;a&nbsp;parsed&nbsp;multipart&nbsp;form.</span><br>
<span class="lineno"></span><span class="comment" id="3376321">//&nbsp;Its&nbsp;File&nbsp;parts&nbsp;are&nbsp;stored&nbsp;either&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk,</span><br>
<span class="lineno"></span><span class="comment" id="3376379">//&nbsp;and&nbsp;are&nbsp;accessible&nbsp;via&nbsp;the&nbsp;*FileHeader&#39;s&nbsp;Open&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="3376436">//&nbsp;Its&nbsp;Value&nbsp;parts&nbsp;are&nbsp;stored&nbsp;as&nbsp;strings.</span><br>
<span class="lineno"></span><span class="comment" id="3376478">//&nbsp;Both&nbsp;are&nbsp;keyed&nbsp;by&nbsp;field&nbsp;name.</span><br>
<span class="lineno">100</span><span class="keyword" id="3376511">type</span>&nbsp;<span class="ident" id="3376516">Form</span>&nbsp;<span class="keyword" id="3376521">struct</span>&nbsp;<span class="op" id="3376528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376531">Value</span>&nbsp;<span class="keyword" id="3376537">map</span><span class="op" id="3376540">[</span><span class="builtintype" id="3376541">string</span><span class="op" id="3376547">]</span><span class="op" id="3376548">[</span><span class="op" id="3376549">]</span><span class="builtintype" id="3376550">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376558">File</span>&nbsp;&nbsp;<span class="keyword" id="3376564">map</span><span class="op" id="3376567">[</span><span class="builtintype" id="3376568">string</span><span class="op" id="3376574">]</span><span class="op" id="3376575">[</span><span class="op" id="3376576">]</span><span class="op" id="3376577">*</span><span class="ident" id="3376578">FileHeader</span><br>
<span class="lineno"></span><span class="op" id="3376589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3376592">//&nbsp;RemoveAll&nbsp;removes&nbsp;any&nbsp;temporary&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;Form.</span><br>
<span class="lineno"></span><span class="keyword" id="3376657">func</span>&nbsp;<span class="op" id="3376662">(</span><span class="ident" id="3376663">f</span>&nbsp;<span class="op" id="3376665">*</span><span class="ident" id="3376666">Form</span><span class="op" id="3376670">)</span>&nbsp;<span class="ident" id="3376672">RemoveAll</span><span class="op" id="3376681">(</span><span class="op" id="3376682">)</span>&nbsp;<span class="builtintype" id="3376684">error</span>&nbsp;<span class="op" id="3376690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3376693">var</span>&nbsp;<span class="ident" id="3376697">err</span>&nbsp;<span class="builtintype" id="3376701">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3376708">for</span>&nbsp;<span class="ident" id="3376712">_</span><span class="op" id="3376713">,</span>&nbsp;<span class="ident" id="3376715">fhs</span>&nbsp;<span class="op" id="3376719">:=</span>&nbsp;<span class="keyword" id="3376722">range</span>&nbsp;<span class="ident" id="3376728">f</span><span class="op" id="3376729">.</span><span class="ident" id="3376730">File</span>&nbsp;<span class="op" id="3376735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3376739">for</span>&nbsp;<span class="ident" id="3376743">_</span><span class="op" id="3376744">,</span>&nbsp;<span class="ident" id="3376746">fh</span>&nbsp;<span class="op" id="3376749">:=</span>&nbsp;<span class="keyword" id="3376752">range</span>&nbsp;<span class="ident" id="3376758">fhs</span>&nbsp;<span class="op" id="3376762">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3376767">if</span>&nbsp;<span class="ident" id="3376770">fh</span><span class="op" id="3376772">.</span><span class="ident" id="3376773">tmpfile</span>&nbsp;<span class="op" id="3376781">!=</span>&nbsp;<span class="string" id="3376784">&#34;&#34;</span>&nbsp;<span class="op" id="3376787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376793">e</span>&nbsp;<span class="op" id="3376795">:=</span>&nbsp;<span class="ident" id="3376798">os</span><span class="op" id="3376800">.</span><span class="ident" id="3376801">Remove</span><span class="op" id="3376807">(</span><span class="ident" id="3376808">fh</span><span class="op" id="3376810">.</span><span class="ident" id="3376811">tmpfile</span><span class="op" id="3376818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3376824">if</span>&nbsp;<span class="ident" id="3376827">e</span>&nbsp;<span class="op" id="3376829">!=</span>&nbsp;<span class="ident" id="3376832">nil</span>&nbsp;<span class="op" id="3376836">&amp;&amp;</span>&nbsp;<span class="ident" id="3376839">err</span>&nbsp;<span class="op" id="3376843">==</span>&nbsp;<span class="ident" id="3376846">nil</span>&nbsp;<span class="op" id="3376850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376857">err</span>&nbsp;<span class="op" id="3376861">=</span>&nbsp;<span class="ident" id="3376863">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3376869">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3376874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3376878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3376881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3376884">return</span>&nbsp;<span class="ident" id="3376891">err</span><br>
<span class="lineno"></span><span class="op" id="3376895">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="3376898">//&nbsp;A&nbsp;FileHeader&nbsp;describes&nbsp;a&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;request.</span><br>
<span class="lineno"></span><span class="keyword" id="3376960">type</span>&nbsp;<span class="ident" id="3376965">FileHeader</span>&nbsp;<span class="keyword" id="3376976">struct</span>&nbsp;<span class="op" id="3376983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3376986">Filename</span>&nbsp;<span class="builtintype" id="3376995">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3377003">Header</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3377012">textproto</span><span class="op" id="3377021">.</span><span class="ident" id="3377022">MIMEHeader</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3377035">content</span>&nbsp;<span class="op" id="3377043">[</span><span class="op" id="3377044">]</span><span class="builtintype" id="3377045">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3377051">tmpfile</span>&nbsp;<span class="builtintype" id="3377059">string</span><br>
<span class="lineno"></span><span class="op" id="3377066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3377069">//&nbsp;Open&nbsp;opens&nbsp;and&nbsp;returns&nbsp;the&nbsp;FileHeader&#39;s&nbsp;associated&nbsp;File.</span><br>
<span class="lineno"></span><span class="keyword" id="3377129">func</span>&nbsp;<span class="op" id="3377134">(</span><span class="ident" id="3377135">fh</span>&nbsp;<span class="op" id="3377138">*</span><span class="ident" id="3377139">FileHeader</span><span class="op" id="3377149">)</span>&nbsp;<span class="ident" id="3377151">Open</span><span class="op" id="3377155">(</span><span class="op" id="3377156">)</span>&nbsp;<span class="op" id="3377158">(</span><span class="ident" id="3377159">File</span><span class="op" id="3377163">,</span>&nbsp;<span class="builtintype" id="3377165">error</span><span class="op" id="3377170">)</span>&nbsp;<span class="op" id="3377172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3377175">if</span>&nbsp;<span class="ident" id="3377178">b</span>&nbsp;<span class="op" id="3377180">:=</span>&nbsp;<span class="ident" id="3377183">fh</span><span class="op" id="3377185">.</span><span class="ident" id="3377186">content</span><span class="op" id="3377193">;</span>&nbsp;<span class="ident" id="3377195">b</span>&nbsp;<span class="op" id="3377197">!=</span>&nbsp;<span class="ident" id="3377200">nil</span>&nbsp;<span class="op" id="3377204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3377208">r</span>&nbsp;<span class="op" id="3377210">:=</span>&nbsp;<span class="ident" id="3377213">io</span><span class="op" id="3377215">.</span><span class="ident" id="3377216">NewSectionReader</span><span class="op" id="3377232">(</span><span class="ident" id="3377233">bytes</span><span class="op" id="3377238">.</span><span class="ident" id="3377239">NewReader</span><span class="op" id="3377248">(</span><span class="ident" id="3377249">b</span><span class="op" id="3377250">)</span><span class="op" id="3377251">,</span>&nbsp;<span class="num" id="3377253">0</span><span class="op" id="3377254">,</span>&nbsp;<span class="ident" id="3377256">int64</span><span class="op" id="3377261">(</span><span class="builtinfunc" id="3377262">len</span><span class="op" id="3377265">(</span><span class="ident" id="3377266">b</span><span class="op" id="3377267">)</span><span class="op" id="3377268">)</span><span class="op" id="3377269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3377273">return</span>&nbsp;<span class="ident" id="3377280">sectionReadCloser</span><span class="op" id="3377297">{</span><span class="ident" id="3377298">r</span><span class="op" id="3377299">}</span><span class="op" id="3377300">,</span>&nbsp;<span class="ident" id="3377302">nil</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3377307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3377310">return</span>&nbsp;<span class="ident" id="3377317">os</span><span class="op" id="3377319">.</span><span class="ident" id="3377320">Open</span><span class="op" id="3377324">(</span><span class="ident" id="3377325">fh</span><span class="op" id="3377327">.</span><span class="ident" id="3377328">tmpfile</span><span class="op" id="3377335">)</span><br>
<span class="lineno"></span><span class="op" id="3377337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3377340">//&nbsp;File&nbsp;is&nbsp;an&nbsp;interface&nbsp;to&nbsp;access&nbsp;the&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;message.</span><br>
<span class="lineno">140</span><span class="comment" id="3377412">//&nbsp;Its&nbsp;contents&nbsp;may&nbsp;be&nbsp;either&nbsp;stored&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk.</span><br>
<span class="lineno"></span><span class="comment" id="3377471">//&nbsp;If&nbsp;stored&nbsp;on&nbsp;disk,&nbsp;the&nbsp;File&#39;s&nbsp;underlying&nbsp;concrete&nbsp;type&nbsp;will&nbsp;be&nbsp;an&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="keyword" id="3377550">type</span>&nbsp;<span class="ident" id="3377555">File</span>&nbsp;<span class="keyword" id="3377560">interface</span>&nbsp;<span class="op" id="3377570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3377573">io</span><span class="op" id="3377575">.</span><span class="ident" id="3377576">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3377584">io</span><span class="op" id="3377586">.</span><span class="ident" id="3377587">ReaderAt</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3377597">io</span><span class="op" id="3377599">.</span><span class="ident" id="3377600">Seeker</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3377608">io</span><span class="op" id="3377610">.</span><span class="ident" id="3377611">Closer</span><br>
<span class="lineno"></span><span class="op" id="3377618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3377621">//&nbsp;helper&nbsp;types&nbsp;to&nbsp;turn&nbsp;a&nbsp;[]byte&nbsp;into&nbsp;a&nbsp;File</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="3377667">type</span>&nbsp;<span class="ident" id="3377672">sectionReadCloser</span>&nbsp;<span class="keyword" id="3377690">struct</span>&nbsp;<span class="op" id="3377697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3377700">*</span><span class="ident" id="3377701">io</span><span class="op" id="3377703">.</span><span class="ident" id="3377704">SectionReader</span><br>
<span class="lineno"></span><span class="op" id="3377718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="3377721">func</span>&nbsp;<span class="op" id="3377726">(</span><span class="ident" id="3377727">rc</span>&nbsp;<span class="ident" id="3377730">sectionReadCloser</span><span class="op" id="3377747">)</span>&nbsp;<span class="ident" id="3377749">Close</span><span class="op" id="3377754">(</span><span class="op" id="3377755">)</span>&nbsp;<span class="builtintype" id="3377757">error</span>&nbsp;<span class="op" id="3377763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3377766">return</span>&nbsp;<span class="ident" id="3377773">nil</span><br>
<span class="lineno"></span><span class="op" id="3377777">}</span>
</div>
</body>
</html>
