<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>syscall</h2>
<ul>
<li><a href="/gostd/syscall/creds_test.go.html">creds_test.go</a></li>
<li><a href="/gostd/syscall/env_unix.go.html">env_unix.go</a></li>
<li><a href="/gostd/syscall/exec_linux.go.html">exec_linux.go</a></li>
<li><a href="/gostd/syscall/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/syscall/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/syscall/flock.go.html">flock.go</a></li>
<li><a href="/gostd/syscall/lsf_linux.go.html">lsf_linux.go</a></li>
<li><a href="/gostd/syscall/mmap_unix_test.go.html">mmap_unix_test.go</a></li>
<li><a href="/gostd/syscall/netlink_linux.go.html">netlink_linux.go</a></li>
<li><a href="/gostd/syscall/race0.go.html">race0.go</a></li>
<li><a href="/gostd/syscall/sockcmsg_linux.go.html">sockcmsg_linux.go</a></li>
<li><a href="/gostd/syscall/sockcmsg_unix.go.html">sockcmsg_unix.go</a></li>
<li><a href="/gostd/syscall/str.go.html">str.go</a></li>
<li><a href="/gostd/syscall/syscall.go.html">syscall.go</a></li>
<li><a href="/gostd/syscall/syscall_linux.go.html">syscall_linux.go</a></li>
<li><a href="/gostd/syscall/syscall_linux_amd64.go.html">syscall_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/syscall_test.go.html">syscall_test.go</a></li>
<li><a href="/gostd/syscall/syscall_unix.go.html">syscall_unix.go</a></li>
<li><a href="/gostd/syscall/syscall_unix_test.go.html">syscall_unix_test.go</a></li>
<li><a href="/gostd/syscall/zerrors_linux_amd64.go.html">zerrors_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/zsyscall_linux_amd64.go.html">zsyscall_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/zsysnum_linux_amd64.go.html">zsysnum_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/ztypes_linux_amd64.go.html">ztypes_linux_amd64.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2423550">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2423605">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2423659">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2423710">package</span>&nbsp;<span class="ident" id="2423718">syscall</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2423727">//sys&nbsp;&nbsp;&nbsp;&nbspChown(path&nbsp;string,&nbsp;uid&nbsp;int,&nbsp;gid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2423782">//sys&nbsp;&nbsp;&nbsp;&nbspFchown(fd&nbsp;int,&nbsp;uid&nbsp;int,&nbsp;gid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2423833">//sys&nbsp;&nbsp;&nbsp;&nbspFstat(fd&nbsp;int,&nbsp;stat&nbsp;*Stat_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">10</span><span class="comment" id="2423879">//sys&nbsp;&nbsp;&nbsp;&nbspFstatfs(fd&nbsp;int,&nbsp;buf&nbsp;*Statfs_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2423928">//sys&nbsp;&nbsp;&nbsp;&nbspFtruncate(fd&nbsp;int,&nbsp;length&nbsp;int64)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2423978">//sysnb&nbsp;&nbsp;&nbsp;&nbspGetegid()&nbsp;(egid&nbsp;int)</span><br>
<span class="lineno"></span><span class="comment" id="2424007">//sysnb&nbsp;&nbsp;&nbsp;&nbspGeteuid()&nbsp;(euid&nbsp;int)</span><br>
<span class="lineno"></span><span class="comment" id="2424036">//sysnb&nbsp;&nbsp;&nbsp;&nbspGetgid()&nbsp;(gid&nbsp;int)</span><br>
<span class="lineno">15</span><span class="comment" id="2424063">//sysnb&nbsp;&nbsp;&nbsp;&nbspGetrlimit(resource&nbsp;int,&nbsp;rlim&nbsp;*Rlimit)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2424121">//sysnb&nbsp;&nbsp;&nbsp;&nbspGetuid()&nbsp;(uid&nbsp;int)</span><br>
<span class="lineno"></span><span class="comment" id="2424148">//sys&nbsp;&nbsp;&nbsp;&nbspIoperm(from&nbsp;int,&nbsp;num&nbsp;int,&nbsp;on&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2424200">//sys&nbsp;&nbsp;&nbsp;&nbspIopl(level&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2424234">//sys&nbsp;&nbsp;&nbsp;&nbspLchown(path&nbsp;string,&nbsp;uid&nbsp;int,&nbsp;gid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">20</span><span class="comment" id="2424290">//sys&nbsp;&nbsp;&nbsp;&nbspListen(s&nbsp;int,&nbsp;n&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2424329">//sys&nbsp;&nbsp;&nbsp;&nbspLstat(path&nbsp;string,&nbsp;stat&nbsp;*Stat_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2424380">//sys&nbsp;&nbsp;&nbsp;&nbspPread(fd&nbsp;int,&nbsp;p&nbsp;[]byte,&nbsp;offset&nbsp;int64)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)&nbsp;=&nbsp;SYS_PREAD64</span><br>
<span class="lineno"></span><span class="comment" id="2424457">//sys&nbsp;&nbsp;&nbsp;&nbspPwrite(fd&nbsp;int,&nbsp;p&nbsp;[]byte,&nbsp;offset&nbsp;int64)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)&nbsp;=&nbsp;SYS_PWRITE64</span><br>
<span class="lineno"></span><span class="comment" id="2424536">//sys&nbsp;&nbsp;&nbsp;&nbspSeek(fd&nbsp;int,&nbsp;offset&nbsp;int64,&nbsp;whence&nbsp;int)&nbsp;(off&nbsp;int64,&nbsp;err&nbsp;error)&nbsp;=&nbsp;SYS_LSEEK</span><br>
<span class="lineno">25</span><span class="comment" id="2424616">//sys&nbsp;&nbsp;&nbsp;&nbspSelect(nfd&nbsp;int,&nbsp;r&nbsp;*FdSet,&nbsp;w&nbsp;*FdSet,&nbsp;e&nbsp;*FdSet,&nbsp;timeout&nbsp;*Timeval)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2424705">//sys&nbsp;&nbsp;&nbsp;&nbspsendfile(outfd&nbsp;int,&nbsp;infd&nbsp;int,&nbsp;offset&nbsp;*int64,&nbsp;count&nbsp;int)&nbsp;(written&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2424792">//sys&nbsp;&nbsp;&nbsp;&nbspSetfsgid(gid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2424828">//sys&nbsp;&nbsp;&nbsp;&nbspSetfsuid(uid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2424864">//sysnb&nbsp;&nbsp;&nbsp;&nbspSetregid(rgid&nbsp;int,&nbsp;egid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">30</span><span class="comment" id="2424913">//sysnb&nbsp;&nbsp;&nbsp;&nbspSetresgid(rgid&nbsp;int,&nbsp;egid&nbsp;int,&nbsp;sgid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2424973">//sysnb&nbsp;&nbsp;&nbsp;&nbspSetresuid(ruid&nbsp;int,&nbsp;euid&nbsp;int,&nbsp;suid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425033">//sysnb&nbsp;&nbsp;&nbsp;&nbspSetrlimit(resource&nbsp;int,&nbsp;rlim&nbsp;*Rlimit)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425091">//sysnb&nbsp;&nbsp;&nbsp;&nbspSetreuid(ruid&nbsp;int,&nbsp;euid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425140">//sys&nbsp;&nbsp;&nbsp;&nbspShutdown(fd&nbsp;int,&nbsp;how&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">35</span><span class="comment" id="2425184">//sys&nbsp;&nbsp;&nbsp;&nbspSplice(rfd&nbsp;int,&nbsp;roff&nbsp;*int64,&nbsp;wfd&nbsp;int,&nbsp;woff&nbsp;*int64,&nbsp;len&nbsp;int,&nbsp;flags&nbsp;int)&nbsp;(n&nbsp;int64,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425282">//sys&nbsp;&nbsp;&nbsp;&nbspStat(path&nbsp;string,&nbsp;stat&nbsp;*Stat_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425332">//sys&nbsp;&nbsp;&nbsp;&nbspStatfs(path&nbsp;string,&nbsp;buf&nbsp;*Statfs_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425385">//sys&nbsp;&nbsp;&nbsp;&nbspSyncFileRange(fd&nbsp;int,&nbsp;off&nbsp;int64,&nbsp;n&nbsp;int64,&nbsp;flags&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425456">//sys&nbsp;&nbsp;&nbsp;&nbspTruncate(path&nbsp;string,&nbsp;length&nbsp;int64)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">40</span><span class="comment" id="2425510">//sys&nbsp;&nbsp;&nbsp;&nbspaccept(s&nbsp;int,&nbsp;rsa&nbsp;*RawSockaddrAny,&nbsp;addrlen&nbsp;*_Socklen)&nbsp;(fd&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425590">//sys&nbsp;&nbsp;&nbsp;&nbspaccept4(s&nbsp;int,&nbsp;rsa&nbsp;*RawSockaddrAny,&nbsp;addrlen&nbsp;*_Socklen,&nbsp;flags&nbsp;int)&nbsp;(fd&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425682">//sys&nbsp;&nbsp;&nbsp;&nbspbind(s&nbsp;int,&nbsp;addr&nbsp;unsafe.Pointer,&nbsp;addrlen&nbsp;_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425751">//sys&nbsp;&nbsp;&nbsp;&nbspconnect(s&nbsp;int,&nbsp;addr&nbsp;unsafe.Pointer,&nbsp;addrlen&nbsp;_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425823">//sysnb&nbsp;&nbsp;&nbsp;&nbspgetgroups(n&nbsp;int,&nbsp;list&nbsp;*_Gid_t)&nbsp;(nn&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno">45</span><span class="comment" id="2425882">//sysnb&nbsp;&nbsp;&nbsp;&nbspsetgroups(n&nbsp;int,&nbsp;list&nbsp;*_Gid_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2425933">//sys&nbsp;&nbsp;&nbsp;&nbspgetsockopt(s&nbsp;int,&nbsp;level&nbsp;int,&nbsp;name&nbsp;int,&nbsp;val&nbsp;unsafe.Pointer,&nbsp;vallen&nbsp;*_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2426028">//sys&nbsp;&nbsp;&nbsp;&nbspsetsockopt(s&nbsp;int,&nbsp;level&nbsp;int,&nbsp;name&nbsp;int,&nbsp;val&nbsp;unsafe.Pointer,&nbsp;vallen&nbsp;uintptr)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2426121">//sysnb&nbsp;&nbsp;&nbsp;&nbspsocket(domain&nbsp;int,&nbsp;typ&nbsp;int,&nbsp;proto&nbsp;int)&nbsp;(fd&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2426188">//sysnb&nbsp;&nbsp;&nbsp;&nbspsocketpair(domain&nbsp;int,&nbsp;typ&nbsp;int,&nbsp;proto&nbsp;int,&nbsp;fd&nbsp;*[2]int32)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">50</span><span class="comment" id="2426265">//sysnb&nbsp;&nbsp;&nbsp;&nbspgetpeername(fd&nbsp;int,&nbsp;rsa&nbsp;*RawSockaddrAny,&nbsp;addrlen&nbsp;*_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2426345">//sysnb&nbsp;&nbsp;&nbsp;&nbspgetsockname(fd&nbsp;int,&nbsp;rsa&nbsp;*RawSockaddrAny,&nbsp;addrlen&nbsp;*_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2426425">//sys&nbsp;&nbsp;&nbsp;&nbsprecvfrom(fd&nbsp;int,&nbsp;p&nbsp;[]byte,&nbsp;flags&nbsp;int,&nbsp;from&nbsp;*RawSockaddrAny,&nbsp;fromlen&nbsp;*_Socklen)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2426529">//sys&nbsp;&nbsp;&nbsp;&nbspsendto(s&nbsp;int,&nbsp;buf&nbsp;[]byte,&nbsp;flags&nbsp;int,&nbsp;to&nbsp;unsafe.Pointer,&nbsp;addrlen&nbsp;_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2426621">//sys&nbsp;&nbsp;&nbsp;&nbsprecvmsg(s&nbsp;int,&nbsp;msg&nbsp;*Msghdr,&nbsp;flags&nbsp;int)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno">55</span><span class="comment" id="2426685">//sys&nbsp;&nbsp;&nbsp;&nbspsendmsg(s&nbsp;int,&nbsp;msg&nbsp;*Msghdr,&nbsp;flags&nbsp;int)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="2426749">//sys&nbsp;&nbsp;&nbsp;&nbspmmap(addr&nbsp;uintptr,&nbsp;length&nbsp;uintptr,&nbsp;prot&nbsp;int,&nbsp;flags&nbsp;int,&nbsp;fd&nbsp;int,&nbsp;offset&nbsp;int64)&nbsp;(xaddr&nbsp;uintptr,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2426861">func</span>&nbsp;<span class="ident" id="2426866">Getpagesize</span><span class="op" id="2426877">(</span><span class="op" id="2426878">)</span>&nbsp;<span class="builtintype" id="2426880">int</span>&nbsp;<span class="op" id="2426884">{</span>&nbsp;<span class="keyword" id="2426886">return</span>&nbsp;<span class="num" id="2426893">4096</span>&nbsp;<span class="op" id="2426898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="2426901">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="2426915">func</span>&nbsp;<span class="ident" id="2426920">gettimeofday</span><span class="op" id="2426932">(</span><span class="ident" id="2426933">tv</span>&nbsp;<span class="op" id="2426936">*</span><span class="ident" id="2426937">Timeval</span><span class="op" id="2426944">)</span>&nbsp;<span class="op" id="2426946">(</span><span class="ident" id="2426947">err</span>&nbsp;<span class="ident" id="2426951">Errno</span><span class="op" id="2426956">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2426959">func</span>&nbsp;<span class="ident" id="2426964">Gettimeofday</span><span class="op" id="2426976">(</span><span class="ident" id="2426977">tv</span>&nbsp;<span class="op" id="2426980">*</span><span class="ident" id="2426981">Timeval</span><span class="op" id="2426988">)</span>&nbsp;<span class="op" id="2426990">(</span><span class="ident" id="2426991">err</span>&nbsp;<span class="builtintype" id="2426995">error</span><span class="op" id="2427000">)</span>&nbsp;<span class="op" id="2427002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427005">errno</span>&nbsp;<span class="op" id="2427011">:=</span>&nbsp;<span class="ident" id="2427014">gettimeofday</span><span class="op" id="2427026">(</span><span class="ident" id="2427027">tv</span><span class="op" id="2427029">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427032">if</span>&nbsp;<span class="ident" id="2427035">errno</span>&nbsp;<span class="op" id="2427041">!=</span>&nbsp;<span class="num" id="2427044">0</span>&nbsp;<span class="op" id="2427046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427050">return</span>&nbsp;<span class="ident" id="2427057">errno</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427067">return</span>&nbsp;<span class="ident" id="2427074">nil</span><br>
<span class="lineno"></span><span class="op" id="2427078">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="2427081">func</span>&nbsp;<span class="ident" id="2427086">Time</span><span class="op" id="2427090">(</span><span class="ident" id="2427091">t</span>&nbsp;<span class="op" id="2427093">*</span><span class="ident" id="2427094">Time_t</span><span class="op" id="2427100">)</span>&nbsp;<span class="op" id="2427102">(</span><span class="ident" id="2427103">tt</span>&nbsp;<span class="ident" id="2427106">Time_t</span><span class="op" id="2427112">,</span>&nbsp;<span class="ident" id="2427114">err</span>&nbsp;<span class="builtintype" id="2427118">error</span><span class="op" id="2427123">)</span>&nbsp;<span class="op" id="2427125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427128">var</span>&nbsp;<span class="ident" id="2427132">tv</span>&nbsp;<span class="ident" id="2427135">Timeval</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427144">errno</span>&nbsp;<span class="op" id="2427150">:=</span>&nbsp;<span class="ident" id="2427153">gettimeofday</span><span class="op" id="2427165">(</span><span class="op" id="2427166">&amp;</span><span class="ident" id="2427167">tv</span><span class="op" id="2427169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427172">if</span>&nbsp;<span class="ident" id="2427175">errno</span>&nbsp;<span class="op" id="2427181">!=</span>&nbsp;<span class="num" id="2427184">0</span>&nbsp;<span class="op" id="2427186">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427190">return</span>&nbsp;<span class="num" id="2427197">0</span><span class="op" id="2427198">,</span>&nbsp;<span class="ident" id="2427200">errno</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427210">if</span>&nbsp;<span class="ident" id="2427213">t</span>&nbsp;<span class="op" id="2427215">!=</span>&nbsp;<span class="ident" id="2427218">nil</span>&nbsp;<span class="op" id="2427222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427226">*</span><span class="ident" id="2427227">t</span>&nbsp;<span class="op" id="2427229">=</span>&nbsp;<span class="ident" id="2427231">Time_t</span><span class="op" id="2427237">(</span><span class="ident" id="2427238">tv</span><span class="op" id="2427240">.</span><span class="ident" id="2427241">Sec</span><span class="op" id="2427244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427247">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427250">return</span>&nbsp;<span class="ident" id="2427257">Time_t</span><span class="op" id="2427263">(</span><span class="ident" id="2427264">tv</span><span class="op" id="2427266">.</span><span class="ident" id="2427267">Sec</span><span class="op" id="2427270">)</span><span class="op" id="2427271">,</span>&nbsp;<span class="ident" id="2427273">nil</span><br>
<span class="lineno"></span><span class="op" id="2427277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2427280">func</span>&nbsp;<span class="ident" id="2427285">TimespecToNsec</span><span class="op" id="2427299">(</span><span class="ident" id="2427300">ts</span>&nbsp;<span class="ident" id="2427303">Timespec</span><span class="op" id="2427311">)</span>&nbsp;<span class="ident" id="2427313">int64</span>&nbsp;<span class="op" id="2427319">{</span>&nbsp;<span class="keyword" id="2427321">return</span>&nbsp;<span class="ident" id="2427328">int64</span><span class="op" id="2427333">(</span><span class="ident" id="2427334">ts</span><span class="op" id="2427336">.</span><span class="ident" id="2427337">Sec</span><span class="op" id="2427340">)</span><span class="op" id="2427341">*</span><span class="num" id="2427342">1e9</span>&nbsp;<span class="op" id="2427346">+</span>&nbsp;<span class="ident" id="2427348">int64</span><span class="op" id="2427353">(</span><span class="ident" id="2427354">ts</span><span class="op" id="2427356">.</span><span class="ident" id="2427357">Nsec</span><span class="op" id="2427361">)</span>&nbsp;<span class="op" id="2427363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="2427366">func</span>&nbsp;<span class="ident" id="2427371">NsecToTimespec</span><span class="op" id="2427385">(</span><span class="ident" id="2427386">nsec</span>&nbsp;<span class="ident" id="2427391">int64</span><span class="op" id="2427396">)</span>&nbsp;<span class="op" id="2427398">(</span><span class="ident" id="2427399">ts</span>&nbsp;<span class="ident" id="2427402">Timespec</span><span class="op" id="2427410">)</span>&nbsp;<span class="op" id="2427412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427415">ts</span><span class="op" id="2427417">.</span><span class="ident" id="2427418">Sec</span>&nbsp;<span class="op" id="2427422">=</span>&nbsp;<span class="ident" id="2427424">nsec</span>&nbsp;<span class="op" id="2427429">/</span>&nbsp;<span class="num" id="2427431">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427436">ts</span><span class="op" id="2427438">.</span><span class="ident" id="2427439">Nsec</span>&nbsp;<span class="op" id="2427444">=</span>&nbsp;<span class="ident" id="2427446">nsec</span>&nbsp;<span class="op" id="2427451">%</span>&nbsp;<span class="num" id="2427453">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427458">return</span><br>
<span class="lineno"></span><span class="op" id="2427465">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="2427468">func</span>&nbsp;<span class="ident" id="2427473">TimevalToNsec</span><span class="op" id="2427486">(</span><span class="ident" id="2427487">tv</span>&nbsp;<span class="ident" id="2427490">Timeval</span><span class="op" id="2427497">)</span>&nbsp;<span class="ident" id="2427499">int64</span>&nbsp;<span class="op" id="2427505">{</span>&nbsp;<span class="keyword" id="2427507">return</span>&nbsp;<span class="ident" id="2427514">int64</span><span class="op" id="2427519">(</span><span class="ident" id="2427520">tv</span><span class="op" id="2427522">.</span><span class="ident" id="2427523">Sec</span><span class="op" id="2427526">)</span><span class="op" id="2427527">*</span><span class="num" id="2427528">1e9</span>&nbsp;<span class="op" id="2427532">+</span>&nbsp;<span class="ident" id="2427534">int64</span><span class="op" id="2427539">(</span><span class="ident" id="2427540">tv</span><span class="op" id="2427542">.</span><span class="ident" id="2427543">Usec</span><span class="op" id="2427547">)</span><span class="op" id="2427548">*</span><span class="num" id="2427549">1e3</span>&nbsp;<span class="op" id="2427553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2427556">func</span>&nbsp;<span class="ident" id="2427561">NsecToTimeval</span><span class="op" id="2427574">(</span><span class="ident" id="2427575">nsec</span>&nbsp;<span class="ident" id="2427580">int64</span><span class="op" id="2427585">)</span>&nbsp;<span class="op" id="2427587">(</span><span class="ident" id="2427588">tv</span>&nbsp;<span class="ident" id="2427591">Timeval</span><span class="op" id="2427598">)</span>&nbsp;<span class="op" id="2427600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427603">nsec</span>&nbsp;<span class="op" id="2427608">+=</span>&nbsp;<span class="num" id="2427611">999</span>&nbsp;<span class="comment" id="2427615">//&nbsp;round&nbsp;up&nbsp;to&nbsp;microsecond</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427643">tv</span><span class="op" id="2427645">.</span><span class="ident" id="2427646">Sec</span>&nbsp;<span class="op" id="2427650">=</span>&nbsp;<span class="ident" id="2427652">nsec</span>&nbsp;<span class="op" id="2427657">/</span>&nbsp;<span class="num" id="2427659">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427664">tv</span><span class="op" id="2427666">.</span><span class="ident" id="2427667">Usec</span>&nbsp;<span class="op" id="2427672">=</span>&nbsp;<span class="ident" id="2427674">nsec</span>&nbsp;<span class="op" id="2427679">%</span>&nbsp;<span class="num" id="2427681">1e9</span>&nbsp;<span class="op" id="2427685">/</span>&nbsp;<span class="num" id="2427687">1e3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427692">return</span><br>
<span class="lineno"></span><span class="op" id="2427699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="2427702">func</span>&nbsp;<span class="op" id="2427707">(</span><span class="ident" id="2427708">r</span>&nbsp;<span class="op" id="2427710">*</span><span class="ident" id="2427711">PtraceRegs</span><span class="op" id="2427721">)</span>&nbsp;<span class="ident" id="2427723">PC</span><span class="op" id="2427725">(</span><span class="op" id="2427726">)</span>&nbsp;<span class="ident" id="2427728">uint64</span>&nbsp;<span class="op" id="2427735">{</span>&nbsp;<span class="keyword" id="2427737">return</span>&nbsp;<span class="ident" id="2427744">r</span><span class="op" id="2427745">.</span><span class="ident" id="2427746">Rip</span>&nbsp;<span class="op" id="2427750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2427753">func</span>&nbsp;<span class="op" id="2427758">(</span><span class="ident" id="2427759">r</span>&nbsp;<span class="op" id="2427761">*</span><span class="ident" id="2427762">PtraceRegs</span><span class="op" id="2427772">)</span>&nbsp;<span class="ident" id="2427774">SetPC</span><span class="op" id="2427779">(</span><span class="ident" id="2427780">pc</span>&nbsp;<span class="ident" id="2427783">uint64</span><span class="op" id="2427789">)</span>&nbsp;<span class="op" id="2427791">{</span>&nbsp;<span class="ident" id="2427793">r</span><span class="op" id="2427794">.</span><span class="ident" id="2427795">Rip</span>&nbsp;<span class="op" id="2427799">=</span>&nbsp;<span class="ident" id="2427801">pc</span>&nbsp;<span class="op" id="2427804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2427807">func</span>&nbsp;<span class="op" id="2427812">(</span><span class="ident" id="2427813">iov</span>&nbsp;<span class="op" id="2427817">*</span><span class="ident" id="2427818">Iovec</span><span class="op" id="2427823">)</span>&nbsp;<span class="ident" id="2427825">SetLen</span><span class="op" id="2427831">(</span><span class="ident" id="2427832">length</span>&nbsp;<span class="builtintype" id="2427839">int</span><span class="op" id="2427842">)</span>&nbsp;<span class="op" id="2427844">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427847">iov</span><span class="op" id="2427850">.</span><span class="ident" id="2427851">Len</span>&nbsp;<span class="op" id="2427855">=</span>&nbsp;<span class="ident" id="2427857">uint64</span><span class="op" id="2427863">(</span><span class="ident" id="2427864">length</span><span class="op" id="2427870">)</span><br>
<span class="lineno"></span><span class="op" id="2427872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2427875">func</span>&nbsp;<span class="op" id="2427880">(</span><span class="ident" id="2427881">msghdr</span>&nbsp;<span class="op" id="2427888">*</span><span class="ident" id="2427889">Msghdr</span><span class="op" id="2427895">)</span>&nbsp;<span class="ident" id="2427897">SetControllen</span><span class="op" id="2427910">(</span><span class="ident" id="2427911">length</span>&nbsp;<span class="builtintype" id="2427918">int</span><span class="op" id="2427921">)</span>&nbsp;<span class="op" id="2427923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427926">msghdr</span><span class="op" id="2427932">.</span><span class="ident" id="2427933">Controllen</span>&nbsp;<span class="op" id="2427944">=</span>&nbsp;<span class="ident" id="2427946">uint64</span><span class="op" id="2427952">(</span><span class="ident" id="2427953">length</span><span class="op" id="2427959">)</span><br>
<span class="lineno">110</span><span class="op" id="2427961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2427964">func</span>&nbsp;<span class="op" id="2427969">(</span><span class="ident" id="2427970">cmsg</span>&nbsp;<span class="op" id="2427975">*</span><span class="ident" id="2427976">Cmsghdr</span><span class="op" id="2427983">)</span>&nbsp;<span class="ident" id="2427985">SetLen</span><span class="op" id="2427991">(</span><span class="ident" id="2427992">length</span>&nbsp;<span class="builtintype" id="2427999">int</span><span class="op" id="2428002">)</span>&nbsp;<span class="op" id="2428004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2428007">cmsg</span><span class="op" id="2428011">.</span><span class="ident" id="2428012">Len</span>&nbsp;<span class="op" id="2428016">=</span>&nbsp;<span class="ident" id="2428018">uint64</span><span class="op" id="2428024">(</span><span class="ident" id="2428025">length</span><span class="op" id="2428031">)</span><br>
<span class="lineno"></span><span class="op" id="2428033">}</span>
</div>
</body>
</html>
