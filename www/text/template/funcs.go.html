<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3561147">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3561202">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3561256">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3561307">package</span>&nbsp;<span class="ident" id="3561315">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3561325">import</span>&nbsp;<span class="op" id="3561332">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561335">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561344">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561354">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561361">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561367">&#34;net/url&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561378">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561389">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561400">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561411">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3561426">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3561429">//&nbsp;FuncMap&nbsp;is&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;map&nbsp;defining&nbsp;the&nbsp;mapping&nbsp;from&nbsp;names&nbsp;to&nbsp;functions.</span><br>
<span class="lineno">20</span><span class="comment" id="3561509">//&nbsp;Each&nbsp;function&nbsp;must&nbsp;have&nbsp;either&nbsp;a&nbsp;single&nbsp;return&nbsp;value,&nbsp;or&nbsp;two&nbsp;return&nbsp;values&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3561590">//&nbsp;which&nbsp;the&nbsp;second&nbsp;has&nbsp;type&nbsp;error.&nbsp;In&nbsp;that&nbsp;case,&nbsp;if&nbsp;the&nbsp;second&nbsp;(error)</span><br>
<span class="lineno"></span><span class="comment" id="3561662">//&nbsp;return&nbsp;value&nbsp;evaluates&nbsp;to&nbsp;non-nil&nbsp;during&nbsp;execution,&nbsp;execution&nbsp;terminates&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3561742">//&nbsp;Execute&nbsp;returns&nbsp;that&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="3561773">type</span>&nbsp;<span class="ident" id="3561778">FuncMap</span>&nbsp;<span class="keyword" id="3561786">map</span><span class="op" id="3561789">[</span><span class="builtintype" id="3561790">string</span><span class="op" id="3561796">]</span><span class="keyword" id="3561797">interface</span><span class="op" id="3561806">{</span><span class="op" id="3561807">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3561810">var</span>&nbsp;<span class="ident" id="3561814">builtins</span>&nbsp;<span class="op" id="3561823">=</span>&nbsp;<span class="ident" id="3561825"><a href="/text/template/funcs.go.html#3561778">FuncMap</a></span><span class="op" id="3561832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561835">&#34;and&#34;</span><span class="op" id="3561840">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3561847"><a href="/text/template/funcs.go.html#3567528">and</a></span><span class="op" id="3561850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561853">&#34;call&#34;</span><span class="op" id="3561859">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3561865"><a href="/text/template/funcs.go.html#3565923">call</a></span><span class="op" id="3561869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561872">&#34;html&#34;</span><span class="op" id="3561878">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3561884"><a href="/text/template/funcs.go.html#3573302">HTMLEscaper</a></span><span class="op" id="3561895">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561898">&#34;index&#34;</span><span class="op" id="3561905">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3561910"><a href="/text/template/funcs.go.html#3564030">index</a></span><span class="op" id="3561915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561918">&#34;js&#34;</span><span class="op" id="3561922">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3561930"><a href="/text/template/funcs.go.html#3575094">JSEscaper</a></span><span class="op" id="3561939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561942">&#34;len&#34;</span><span class="op" id="3561947">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3561954"><a href="/text/template/funcs.go.html#3565413">length</a></span><span class="op" id="3561960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561963">&#34;not&#34;</span><span class="op" id="3561968">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3561975"><a href="/text/template/funcs.go.html#3568080">not</a></span><span class="op" id="3561978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561981">&#34;or&#34;</span><span class="op" id="3561985">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3561993"><a href="/text/template/funcs.go.html#3567840">or</a></span><span class="op" id="3561995">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3561998">&#34;print&#34;</span><span class="op" id="3562005">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3562010"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3562013">.</span><span class="ident" id="3562014">Sprint</span><span class="op" id="3562020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562023">&#34;printf&#34;</span><span class="op" id="3562031">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3562035"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3562038">.</span><span class="ident" id="3562039">Sprintf</span><span class="op" id="3562046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562049">&#34;println&#34;</span><span class="op" id="3562058">:</span>&nbsp;&nbsp;<span class="ident" id="3562061"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3562064">.</span><span class="ident" id="3562065">Sprintln</span><span class="op" id="3562073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562076">&#34;urlquery&#34;</span><span class="op" id="3562086">:</span>&nbsp;<span class="ident" id="3562088"><a href="/text/template/funcs.go.html#3575325">URLQueryEscaper</a></span><span class="op" id="3562103">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3562107">//&nbsp;Comparisons</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562123">&#34;eq&#34;</span><span class="op" id="3562127">:</span>&nbsp;<span class="ident" id="3562129"><a href="/text/template/funcs.go.html#3569233">eq</a></span><span class="op" id="3562131">,</span>&nbsp;<span class="comment" id="3562133">//&nbsp;==</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562140">&#34;ge&#34;</span><span class="op" id="3562144">:</span>&nbsp;<span class="ident" id="3562146"><a href="/text/template/funcs.go.html#3572054">ge</a></span><span class="op" id="3562148">,</span>&nbsp;<span class="comment" id="3562150">//&nbsp;&gt;=</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562157">&#34;gt&#34;</span><span class="op" id="3562161">:</span>&nbsp;<span class="ident" id="3562163"><a href="/text/template/funcs.go.html#3571834">gt</a></span><span class="op" id="3562165">,</span>&nbsp;<span class="comment" id="3562167">//&nbsp;&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562173">&#34;le&#34;</span><span class="op" id="3562177">:</span>&nbsp;<span class="ident" id="3562179"><a href="/text/template/funcs.go.html#3571615">le</a></span><span class="op" id="3562181">,</span>&nbsp;<span class="comment" id="3562183">//&nbsp;&lt;=</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562190">&#34;lt&#34;</span><span class="op" id="3562194">:</span>&nbsp;<span class="ident" id="3562196"><a href="/text/template/funcs.go.html#3570620">lt</a></span><span class="op" id="3562198">,</span>&nbsp;<span class="comment" id="3562200">//&nbsp;&lt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562206">&#34;ne&#34;</span><span class="op" id="3562210">:</span>&nbsp;<span class="ident" id="3562212"><a href="/text/template/funcs.go.html#3570452">ne</a></span><span class="op" id="3562214">,</span>&nbsp;<span class="comment" id="3562216">//&nbsp;!=</span><br>
<span class="lineno"></span><span class="op" id="3562222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3562225">var</span>&nbsp;<span class="ident" id="3562229">builtinFuncs</span>&nbsp;<span class="op" id="3562242">=</span>&nbsp;<span class="ident" id="3562244"><a href="/text/template/funcs.go.html#3562345">createValueFuncs</a></span><span class="op" id="3562260">(</span><span class="ident" id="3562261"><a href="/text/template/funcs.go.html#3561814">builtins</a></span><span class="op" id="3562269">)</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="3562272">//&nbsp;createValueFuncs&nbsp;turns&nbsp;a&nbsp;FuncMap&nbsp;into&nbsp;a&nbsp;map[string]reflect.Value</span><br>
<span class="lineno"></span><span class="keyword" id="3562340">func</span>&nbsp;<span class="ident" id="3562345">createValueFuncs</span><span class="op" id="3562361">(</span><span class="ident" id="3562362">funcMap</span>&nbsp;<span class="ident" id="3562370"><a href="/text/template/funcs.go.html#3561778">FuncMap</a></span><span class="op" id="3562377">)</span>&nbsp;<span class="keyword" id="3562379">map</span><span class="op" id="3562382">[</span><span class="builtintype" id="3562383">string</span><span class="op" id="3562389">]</span><span class="ident" id="3562390"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3562397">.</span><span class="ident" id="3562398">Value</span>&nbsp;<span class="op" id="3562404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562407">m</span>&nbsp;<span class="op" id="3562409">:=</span>&nbsp;<span class="builtinfunc" id="3562412">make</span><span class="op" id="3562416">(</span><span class="keyword" id="3562417">map</span><span class="op" id="3562420">[</span><span class="builtintype" id="3562421">string</span><span class="op" id="3562427">]</span><span class="ident" id="3562428"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3562435">.</span><span class="ident" id="3562436">Value</span><span class="op" id="3562441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562444"><a href="/text/template/funcs.go.html#3562579">addValueFuncs</a></span><span class="op" id="3562457">(</span><span class="ident" id="3562458"><a href="/text/template/funcs.go.html#3562407">m</a></span><span class="op" id="3562459">,</span>&nbsp;<span class="ident" id="3562461"><a href="/text/template/funcs.go.html#3562362">funcMap</a></span><span class="op" id="3562468">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562471">return</span>&nbsp;<span class="ident" id="3562478"><a href="/text/template/funcs.go.html#3562407">m</a></span><br>
<span class="lineno"></span><span class="op" id="3562480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3562483">//&nbsp;addValueFuncs&nbsp;adds&nbsp;to&nbsp;values&nbsp;the&nbsp;functions&nbsp;in&nbsp;funcs,&nbsp;converting&nbsp;them&nbsp;to&nbsp;reflect.Values.</span><br>
<span class="lineno"></span><span class="keyword" id="3562574">func</span>&nbsp;<span class="ident" id="3562579">addValueFuncs</span><span class="op" id="3562592">(</span><span class="ident" id="3562593">out</span>&nbsp;<span class="keyword" id="3562597">map</span><span class="op" id="3562600">[</span><span class="builtintype" id="3562601">string</span><span class="op" id="3562607">]</span><span class="ident" id="3562608"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3562615">.</span><span class="ident" id="3562616">Value</span><span class="op" id="3562621">,</span>&nbsp;<span class="ident" id="3562623">in</span>&nbsp;<span class="ident" id="3562626"><a href="/text/template/funcs.go.html#3561778">FuncMap</a></span><span class="op" id="3562633">)</span>&nbsp;<span class="op" id="3562635">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562638">for</span>&nbsp;<span class="ident" id="3562642">name</span><span class="op" id="3562646">,</span>&nbsp;<span class="ident" id="3562648">fn</span>&nbsp;<span class="op" id="3562651">:=</span>&nbsp;<span class="keyword" id="3562654">range</span>&nbsp;<span class="ident" id="3562660"><a href="/text/template/funcs.go.html#3562623">in</a></span>&nbsp;<span class="op" id="3562663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562667">v</span>&nbsp;<span class="op" id="3562669">:=</span>&nbsp;<span class="ident" id="3562672"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3562679">.</span><span class="ident" id="3562680">ValueOf</span><span class="op" id="3562687">(</span><span class="ident" id="3562688"><a href="/text/template/funcs.go.html#3562648">fn</a></span><span class="op" id="3562690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562694">if</span>&nbsp;<span class="ident" id="3562697"><a href="/text/template/funcs.go.html#3562667">v</a></span><span class="op" id="3562698">.</span><span class="ident" id="3562699">Kind</span><span class="op" id="3562703">(</span><span class="op" id="3562704">)</span>&nbsp;<span class="op" id="3562706">!=</span>&nbsp;<span class="ident" id="3562709"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3562716">.</span><span class="ident" id="3562717">Func</span>&nbsp;<span class="op" id="3562722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3562727">panic</span><span class="op" id="3562732">(</span><span class="string" id="3562733">&#34;value&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="3562746">+</span>&nbsp;<span class="ident" id="3562748"><a href="/text/template/funcs.go.html#3562642">name</a></span>&nbsp;<span class="op" id="3562753">+</span>&nbsp;<span class="string" id="3562755">&#34;&nbsp;not&nbsp;a&nbsp;function&#34;</span><span class="op" id="3562772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562776">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562780">if</span>&nbsp;<span class="op" id="3562783">!</span><span class="ident" id="3562784"><a href="/text/template/funcs.go.html#3563212">goodFunc</a></span><span class="op" id="3562792">(</span><span class="ident" id="3562793"><a href="/text/template/funcs.go.html#3562667">v</a></span><span class="op" id="3562794">.</span><span class="ident" id="3562795">Type</span><span class="op" id="3562799">(</span><span class="op" id="3562800">)</span><span class="op" id="3562801">)</span>&nbsp;<span class="op" id="3562803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3562808">panic</span><span class="op" id="3562813">(</span><span class="ident" id="3562814"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3562817">.</span><span class="ident" id="3562818">Errorf</span><span class="op" id="3562824">(</span><span class="string" id="3562825">&#34;can&#39;t&nbsp;install&nbsp;method/function&nbsp;%q&nbsp;with&nbsp;%d&nbsp;results&#34;</span><span class="op" id="3562875">,</span>&nbsp;<span class="ident" id="3562877"><a href="/text/template/funcs.go.html#3562642">name</a></span><span class="op" id="3562881">,</span>&nbsp;<span class="ident" id="3562883"><a href="/text/template/funcs.go.html#3562667">v</a></span><span class="op" id="3562884">.</span><span class="ident" id="3562885">Type</span><span class="op" id="3562889">(</span><span class="op" id="3562890">)</span><span class="op" id="3562891">.</span><span class="ident" id="3562892">NumOut</span><span class="op" id="3562898">(</span><span class="op" id="3562899">)</span><span class="op" id="3562900">)</span><span class="op" id="3562901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562909"><a href="/text/template/funcs.go.html#3562593">out</a></span><span class="op" id="3562912">[</span><span class="ident" id="3562913"><a href="/text/template/funcs.go.html#3562642">name</a></span><span class="op" id="3562917">]</span>&nbsp;<span class="op" id="3562919">=</span>&nbsp;<span class="ident" id="3562921"><a href="/text/template/funcs.go.html#3562667">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562924">}</span><br>
<span class="lineno">70</span><span class="op" id="3562926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3562929">//&nbsp;addFuncs&nbsp;adds&nbsp;to&nbsp;values&nbsp;the&nbsp;functions&nbsp;in&nbsp;funcs.&nbsp;It&nbsp;does&nbsp;no&nbsp;checking&nbsp;of&nbsp;the&nbsp;input&nbsp;-</span><br>
<span class="lineno"></span><span class="comment" id="3563015">//&nbsp;call&nbsp;addValueFuncs&nbsp;first.</span><br>
<span class="lineno"></span><span class="keyword" id="3563044">func</span>&nbsp;<span class="ident" id="3563049">addFuncs</span><span class="op" id="3563057">(</span><span class="ident" id="3563058">out</span><span class="op" id="3563061">,</span>&nbsp;<span class="ident" id="3563063">in</span>&nbsp;<span class="ident" id="3563066"><a href="/text/template/funcs.go.html#3561778">FuncMap</a></span><span class="op" id="3563073">)</span>&nbsp;<span class="op" id="3563075">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563078">for</span>&nbsp;<span class="ident" id="3563082">name</span><span class="op" id="3563086">,</span>&nbsp;<span class="ident" id="3563088">fn</span>&nbsp;<span class="op" id="3563091">:=</span>&nbsp;<span class="keyword" id="3563094">range</span>&nbsp;<span class="ident" id="3563100"><a href="/text/template/funcs.go.html#3563063">in</a></span>&nbsp;<span class="op" id="3563103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3563107"><a href="/text/template/funcs.go.html#3563058">out</a></span><span class="op" id="3563110">[</span><span class="ident" id="3563111"><a href="/text/template/funcs.go.html#3563082">name</a></span><span class="op" id="3563115">]</span>&nbsp;<span class="op" id="3563117">=</span>&nbsp;<span class="ident" id="3563119"><a href="/text/template/funcs.go.html#3563088">fn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3563123">}</span><br>
<span class="lineno"></span><span class="op" id="3563125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="3563128">//&nbsp;goodFunc&nbsp;checks&nbsp;that&nbsp;the&nbsp;function&nbsp;or&nbsp;method&nbsp;has&nbsp;the&nbsp;right&nbsp;result&nbsp;signature.</span><br>
<span class="lineno"></span><span class="keyword" id="3563207">func</span>&nbsp;<span class="ident" id="3563212">goodFunc</span><span class="op" id="3563220">(</span><span class="ident" id="3563221">typ</span>&nbsp;<span class="ident" id="3563225"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3563232">.</span><span class="ident" id="3563233">Type</span><span class="op" id="3563237">)</span>&nbsp;<span class="builtintype" id="3563239">bool</span>&nbsp;<span class="op" id="3563244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3563247">//&nbsp;We&nbsp;allow&nbsp;functions&nbsp;with&nbsp;1&nbsp;result&nbsp;or&nbsp;2&nbsp;results&nbsp;where&nbsp;the&nbsp;second&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563327">switch</span>&nbsp;<span class="op" id="3563334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563337">case</span>&nbsp;<span class="ident" id="3563342"><a href="/text/template/funcs.go.html#3563221">typ</a></span><span class="op" id="3563345">.</span><span class="ident" id="3563346">NumOut</span><span class="op" id="3563352">(</span><span class="op" id="3563353">)</span>&nbsp;<span class="op" id="3563355">==</span>&nbsp;<span class="num" id="3563358">1</span><span class="op" id="3563359">:</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563363">return</span>&nbsp;<span class="ident" id="3563370">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563376">case</span>&nbsp;<span class="ident" id="3563381"><a href="/text/template/funcs.go.html#3563221">typ</a></span><span class="op" id="3563384">.</span><span class="ident" id="3563385">NumOut</span><span class="op" id="3563391">(</span><span class="op" id="3563392">)</span>&nbsp;<span class="op" id="3563394">==</span>&nbsp;<span class="num" id="3563397">2</span>&nbsp;<span class="op" id="3563399">&amp;&amp;</span>&nbsp;<span class="ident" id="3563402"><a href="/text/template/funcs.go.html#3563221">typ</a></span><span class="op" id="3563405">.</span><span class="ident" id="3563406">Out</span><span class="op" id="3563409">(</span><span class="num" id="3563410">1</span><span class="op" id="3563411">)</span>&nbsp;<span class="op" id="3563413">==</span>&nbsp;<span class="ident" id="3563416"><a href="/text/template/exec.go.html#3550879">errorType</a></span><span class="op" id="3563425">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563429">return</span>&nbsp;<span class="ident" id="3563436">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3563442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563445">return</span>&nbsp;<span class="ident" id="3563452">false</span><br>
<span class="lineno">90</span><span class="op" id="3563458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3563461">//&nbsp;findFunction&nbsp;looks&nbsp;for&nbsp;a&nbsp;function&nbsp;in&nbsp;the&nbsp;template,&nbsp;and&nbsp;global&nbsp;map.</span><br>
<span class="lineno"></span><span class="keyword" id="3563531">func</span>&nbsp;<span class="ident" id="3563536">findFunction</span><span class="op" id="3563548">(</span><span class="ident" id="3563549">name</span>&nbsp;<span class="builtintype" id="3563554">string</span><span class="op" id="3563560">,</span>&nbsp;<span class="ident" id="3563562">tmpl</span>&nbsp;<span class="op" id="3563567">*</span><span class="ident" id="3563568"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3563576">)</span>&nbsp;<span class="op" id="3563578">(</span><span class="ident" id="3563579"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3563586">.</span><span class="ident" id="3563587">Value</span><span class="op" id="3563592">,</span>&nbsp;<span class="builtintype" id="3563594">bool</span><span class="op" id="3563598">)</span>&nbsp;<span class="op" id="3563600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563603">if</span>&nbsp;<span class="ident" id="3563606"><a href="/text/template/funcs.go.html#3563562">tmpl</a></span>&nbsp;<span class="op" id="3563611">!=</span>&nbsp;<span class="ident" id="3563614">nil</span>&nbsp;<span class="op" id="3563618">&amp;&amp;</span>&nbsp;<span class="ident" id="3563621"><a href="/text/template/funcs.go.html#3563562">tmpl</a></span><span class="op" id="3563625">.</span><span class="ident" id="3563626">common</span>&nbsp;<span class="op" id="3563633">!=</span>&nbsp;<span class="ident" id="3563636">nil</span>&nbsp;<span class="op" id="3563640">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563644">if</span>&nbsp;<span class="ident" id="3563647">fn</span>&nbsp;<span class="op" id="3563650">:=</span>&nbsp;<span class="ident" id="3563653"><a href="/text/template/funcs.go.html#3563562">tmpl</a></span><span class="op" id="3563657">.</span><span class="ident" id="3563658">execFuncs</span><span class="op" id="3563667">[</span><span class="ident" id="3563668"><a href="/text/template/funcs.go.html#3563549">name</a></span><span class="op" id="3563672">]</span><span class="op" id="3563673">;</span>&nbsp;<span class="ident" id="3563675"><a href="/text/template/funcs.go.html#3563647">fn</a></span><span class="op" id="3563677">.</span><span class="ident" id="3563678">IsValid</span><span class="op" id="3563685">(</span><span class="op" id="3563686">)</span>&nbsp;<span class="op" id="3563688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563693">return</span>&nbsp;<span class="ident" id="3563700"><a href="/text/template/funcs.go.html#3563647">fn</a></span><span class="op" id="3563702">,</span>&nbsp;<span class="ident" id="3563704">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3563711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3563714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563717">if</span>&nbsp;<span class="ident" id="3563720">fn</span>&nbsp;<span class="op" id="3563723">:=</span>&nbsp;<span class="ident" id="3563726"><a href="/text/template/funcs.go.html#3562229">builtinFuncs</a></span><span class="op" id="3563738">[</span><span class="ident" id="3563739"><a href="/text/template/funcs.go.html#3563549">name</a></span><span class="op" id="3563743">]</span><span class="op" id="3563744">;</span>&nbsp;<span class="ident" id="3563746"><a href="/text/template/funcs.go.html#3563720">fn</a></span><span class="op" id="3563748">.</span><span class="ident" id="3563749">IsValid</span><span class="op" id="3563756">(</span><span class="op" id="3563757">)</span>&nbsp;<span class="op" id="3563759">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563763">return</span>&nbsp;<span class="ident" id="3563770"><a href="/text/template/funcs.go.html#3563720">fn</a></span><span class="op" id="3563772">,</span>&nbsp;<span class="ident" id="3563774">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3563780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563783">return</span>&nbsp;<span class="ident" id="3563790"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3563797">.</span><span class="ident" id="3563798">Value</span><span class="op" id="3563803">{</span><span class="op" id="3563804">}</span><span class="op" id="3563805">,</span>&nbsp;<span class="ident" id="3563807">false</span><br>
<span class="lineno"></span><span class="op" id="3563813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3563816">//&nbsp;Indexing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3563830">//&nbsp;index&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;indexing&nbsp;its&nbsp;first&nbsp;argument&nbsp;by&nbsp;the&nbsp;following</span><br>
<span class="lineno"></span><span class="comment" id="3563906">//&nbsp;arguments.&nbsp;&nbsp;Thus&nbsp;&#34;index&nbsp;x&nbsp;1&nbsp;2&nbsp;3&#34;&nbsp;is,&nbsp;in&nbsp;Go&nbsp;syntax,&nbsp;x[1][2][3].&nbsp;Each</span><br>
<span class="lineno"></span><span class="comment" id="3563977">//&nbsp;indexed&nbsp;item&nbsp;must&nbsp;be&nbsp;a&nbsp;map,&nbsp;slice,&nbsp;or&nbsp;array.</span><br>
<span class="lineno">110</span><span class="keyword" id="3564025">func</span>&nbsp;<span class="ident" id="3564030">index</span><span class="op" id="3564035">(</span><span class="ident" id="3564036">item</span>&nbsp;<span class="keyword" id="3564041">interface</span><span class="op" id="3564050">{</span><span class="op" id="3564051">}</span><span class="op" id="3564052">,</span>&nbsp;<span class="ident" id="3564054">indices</span>&nbsp;<span class="op" id="3564062">...</span><span class="keyword" id="3564065">interface</span><span class="op" id="3564074">{</span><span class="op" id="3564075">}</span><span class="op" id="3564076">)</span>&nbsp;<span class="op" id="3564078">(</span><span class="keyword" id="3564079">interface</span><span class="op" id="3564088">{</span><span class="op" id="3564089">}</span><span class="op" id="3564090">,</span>&nbsp;<span class="builtintype" id="3564092">error</span><span class="op" id="3564097">)</span>&nbsp;<span class="op" id="3564099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3564102">v</span>&nbsp;<span class="op" id="3564104">:=</span>&nbsp;<span class="ident" id="3564107"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564114">.</span><span class="ident" id="3564115">ValueOf</span><span class="op" id="3564122">(</span><span class="ident" id="3564123"><a href="/text/template/funcs.go.html#3564036">item</a></span><span class="op" id="3564127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564130">for</span>&nbsp;<span class="ident" id="3564134">_</span><span class="op" id="3564135">,</span>&nbsp;<span class="ident" id="3564137">i</span>&nbsp;<span class="op" id="3564139">:=</span>&nbsp;<span class="keyword" id="3564142">range</span>&nbsp;<span class="ident" id="3564148"><a href="/text/template/funcs.go.html#3564054">indices</a></span>&nbsp;<span class="op" id="3564156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3564160">index</span>&nbsp;<span class="op" id="3564166">:=</span>&nbsp;<span class="ident" id="3564169"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564176">.</span><span class="ident" id="3564177">ValueOf</span><span class="op" id="3564184">(</span><span class="ident" id="3564185"><a href="/text/template/funcs.go.html#3564137">i</a></span><span class="op" id="3564186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564190">var</span>&nbsp;<span class="ident" id="3564194">isNil</span>&nbsp;<span class="builtintype" id="3564200">bool</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564207">if</span>&nbsp;<span class="ident" id="3564210"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3564211">,</span>&nbsp;<span class="ident" id="3564213"><a href="/text/template/funcs.go.html#3564194">isNil</a></span>&nbsp;<span class="op" id="3564219">=</span>&nbsp;<span class="ident" id="3564221"><a href="/text/template/exec.go.html#3558720">indirect</a></span><span class="op" id="3564229">(</span><span class="ident" id="3564230"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3564231">)</span><span class="op" id="3564232">;</span>&nbsp;<span class="ident" id="3564234"><a href="/text/template/funcs.go.html#3564194">isNil</a></span>&nbsp;<span class="op" id="3564240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564245">return</span>&nbsp;<span class="ident" id="3564252">nil</span><span class="op" id="3564255">,</span>&nbsp;<span class="ident" id="3564257"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3564260">.</span><span class="ident" id="3564261">Errorf</span><span class="op" id="3564267">(</span><span class="string" id="3564268">&#34;index&nbsp;of&nbsp;nil&nbsp;pointer&#34;</span><span class="op" id="3564290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3564294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564298">switch</span>&nbsp;<span class="ident" id="3564305"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3564306">.</span><span class="ident" id="3564307">Kind</span><span class="op" id="3564311">(</span><span class="op" id="3564312">)</span>&nbsp;<span class="op" id="3564314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564318">case</span>&nbsp;<span class="ident" id="3564323"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564330">.</span><span class="ident" id="3564331">Array</span><span class="op" id="3564336">,</span>&nbsp;<span class="ident" id="3564338"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564345">.</span><span class="ident" id="3564346">Slice</span><span class="op" id="3564351">,</span>&nbsp;<span class="ident" id="3564353"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564360">.</span><span class="ident" id="3564361">String</span><span class="op" id="3564367">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564372">var</span>&nbsp;<span class="ident" id="3564376">x</span>&nbsp;<span class="ident" id="3564378">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564387">switch</span>&nbsp;<span class="ident" id="3564394"><a href="/text/template/funcs.go.html#3564160">index</a></span><span class="op" id="3564399">.</span><span class="ident" id="3564400">Kind</span><span class="op" id="3564404">(</span><span class="op" id="3564405">)</span>&nbsp;<span class="op" id="3564407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564412">case</span>&nbsp;<span class="ident" id="3564417"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564424">.</span><span class="ident" id="3564425">Int</span><span class="op" id="3564428">,</span>&nbsp;<span class="ident" id="3564430"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564437">.</span><span class="ident" id="3564438">Int8</span><span class="op" id="3564442">,</span>&nbsp;<span class="ident" id="3564444"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564451">.</span><span class="ident" id="3564452">Int16</span><span class="op" id="3564457">,</span>&nbsp;<span class="ident" id="3564459"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564466">.</span><span class="ident" id="3564467">Int32</span><span class="op" id="3564472">,</span>&nbsp;<span class="ident" id="3564474"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564481">.</span><span class="ident" id="3564482">Int64</span><span class="op" id="3564487">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3564493"><a href="/text/template/funcs.go.html#3564376">x</a></span>&nbsp;<span class="op" id="3564495">=</span>&nbsp;<span class="ident" id="3564497"><a href="/text/template/funcs.go.html#3564160">index</a></span><span class="op" id="3564502">.</span><span class="ident" id="3564503">Int</span><span class="op" id="3564506">(</span><span class="op" id="3564507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564512">case</span>&nbsp;<span class="ident" id="3564517"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564524">.</span><span class="ident" id="3564525">Uint</span><span class="op" id="3564529">,</span>&nbsp;<span class="ident" id="3564531"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564538">.</span><span class="ident" id="3564539">Uint8</span><span class="op" id="3564544">,</span>&nbsp;<span class="ident" id="3564546"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564553">.</span><span class="ident" id="3564554">Uint16</span><span class="op" id="3564560">,</span>&nbsp;<span class="ident" id="3564562"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564569">.</span><span class="ident" id="3564570">Uint32</span><span class="op" id="3564576">,</span>&nbsp;<span class="ident" id="3564578"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564585">.</span><span class="ident" id="3564586">Uint64</span><span class="op" id="3564592">,</span>&nbsp;<span class="ident" id="3564594"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564601">.</span><span class="ident" id="3564602">Uintptr</span><span class="op" id="3564609">:</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3564615"><a href="/text/template/funcs.go.html#3564376">x</a></span>&nbsp;<span class="op" id="3564617">=</span>&nbsp;<span class="ident" id="3564619">int64</span><span class="op" id="3564624">(</span><span class="ident" id="3564625"><a href="/text/template/funcs.go.html#3564160">index</a></span><span class="op" id="3564630">.</span><span class="ident" id="3564631">Uint</span><span class="op" id="3564635">(</span><span class="op" id="3564636">)</span><span class="op" id="3564637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564642">default</span><span class="op" id="3564649">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564655">return</span>&nbsp;<span class="ident" id="3564662">nil</span><span class="op" id="3564665">,</span>&nbsp;<span class="ident" id="3564667"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3564670">.</span><span class="ident" id="3564671">Errorf</span><span class="op" id="3564677">(</span><span class="string" id="3564678">&#34;cannot&nbsp;index&nbsp;slice/array&nbsp;with&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3564717">,</span>&nbsp;<span class="ident" id="3564719"><a href="/text/template/funcs.go.html#3564160">index</a></span><span class="op" id="3564724">.</span><span class="ident" id="3564725">Type</span><span class="op" id="3564729">(</span><span class="op" id="3564730">)</span><span class="op" id="3564731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3564736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564741">if</span>&nbsp;<span class="ident" id="3564744"><a href="/text/template/funcs.go.html#3564376">x</a></span>&nbsp;<span class="op" id="3564746">&lt;</span>&nbsp;<span class="num" id="3564748">0</span>&nbsp;<span class="op" id="3564750">||</span>&nbsp;<span class="ident" id="3564753"><a href="/text/template/funcs.go.html#3564376">x</a></span>&nbsp;<span class="op" id="3564755">&gt;=</span>&nbsp;<span class="ident" id="3564758">int64</span><span class="op" id="3564763">(</span><span class="ident" id="3564764"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3564765">.</span><span class="ident" id="3564766">Len</span><span class="op" id="3564769">(</span><span class="op" id="3564770">)</span><span class="op" id="3564771">)</span>&nbsp;<span class="op" id="3564773">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564779">return</span>&nbsp;<span class="ident" id="3564786">nil</span><span class="op" id="3564789">,</span>&nbsp;<span class="ident" id="3564791"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3564794">.</span><span class="ident" id="3564795">Errorf</span><span class="op" id="3564801">(</span><span class="string" id="3564802">&#34;index&nbsp;out&nbsp;of&nbsp;range:&nbsp;%d&#34;</span><span class="op" id="3564826">,</span>&nbsp;<span class="ident" id="3564828"><a href="/text/template/funcs.go.html#3564376">x</a></span><span class="op" id="3564829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3564834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3564839"><a href="/text/template/funcs.go.html#3564102">v</a></span>&nbsp;<span class="op" id="3564841">=</span>&nbsp;<span class="ident" id="3564843"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3564844">.</span><span class="ident" id="3564845">Index</span><span class="op" id="3564850">(</span><span class="builtintype" id="3564851">int</span><span class="op" id="3564854">(</span><span class="ident" id="3564855"><a href="/text/template/funcs.go.html#3564376">x</a></span><span class="op" id="3564856">)</span><span class="op" id="3564857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564861">case</span>&nbsp;<span class="ident" id="3564866"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564873">.</span><span class="ident" id="3564874">Map</span><span class="op" id="3564877">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564882">if</span>&nbsp;<span class="op" id="3564885">!</span><span class="ident" id="3564886"><a href="/text/template/funcs.go.html#3564160">index</a></span><span class="op" id="3564891">.</span><span class="ident" id="3564892">IsValid</span><span class="op" id="3564899">(</span><span class="op" id="3564900">)</span>&nbsp;<span class="op" id="3564902">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3564908"><a href="/text/template/funcs.go.html#3564160">index</a></span>&nbsp;<span class="op" id="3564914">=</span>&nbsp;<span class="ident" id="3564916"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3564923">.</span><span class="ident" id="3564924">Zero</span><span class="op" id="3564928">(</span><span class="ident" id="3564929"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3564930">.</span><span class="ident" id="3564931">Type</span><span class="op" id="3564935">(</span><span class="op" id="3564936">)</span><span class="op" id="3564937">.</span><span class="ident" id="3564938">Key</span><span class="op" id="3564941">(</span><span class="op" id="3564942">)</span><span class="op" id="3564943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3564948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3564953">if</span>&nbsp;<span class="op" id="3564956">!</span><span class="ident" id="3564957"><a href="/text/template/funcs.go.html#3564160">index</a></span><span class="op" id="3564962">.</span><span class="ident" id="3564963">Type</span><span class="op" id="3564967">(</span><span class="op" id="3564968">)</span><span class="op" id="3564969">.</span><span class="ident" id="3564970">AssignableTo</span><span class="op" id="3564982">(</span><span class="ident" id="3564983"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3564984">.</span><span class="ident" id="3564985">Type</span><span class="op" id="3564989">(</span><span class="op" id="3564990">)</span><span class="op" id="3564991">.</span><span class="ident" id="3564992">Key</span><span class="op" id="3564995">(</span><span class="op" id="3564996">)</span><span class="op" id="3564997">)</span>&nbsp;<span class="op" id="3564999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565005">return</span>&nbsp;<span class="ident" id="3565012">nil</span><span class="op" id="3565015">,</span>&nbsp;<span class="ident" id="3565017"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3565020">.</span><span class="ident" id="3565021">Errorf</span><span class="op" id="3565027">(</span><span class="string" id="3565028">&#34;%s&nbsp;is&nbsp;not&nbsp;index&nbsp;type&nbsp;for&nbsp;%s&#34;</span><span class="op" id="3565057">,</span>&nbsp;<span class="ident" id="3565059"><a href="/text/template/funcs.go.html#3564160">index</a></span><span class="op" id="3565064">.</span><span class="ident" id="3565065">Type</span><span class="op" id="3565069">(</span><span class="op" id="3565070">)</span><span class="op" id="3565071">,</span>&nbsp;<span class="ident" id="3565073"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3565074">.</span><span class="ident" id="3565075">Type</span><span class="op" id="3565079">(</span><span class="op" id="3565080">)</span><span class="op" id="3565081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3565086">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565091">if</span>&nbsp;<span class="ident" id="3565094">x</span>&nbsp;<span class="op" id="3565096">:=</span>&nbsp;<span class="ident" id="3565099"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3565100">.</span><span class="ident" id="3565101">MapIndex</span><span class="op" id="3565109">(</span><span class="ident" id="3565110"><a href="/text/template/funcs.go.html#3564160">index</a></span><span class="op" id="3565115">)</span><span class="op" id="3565116">;</span>&nbsp;<span class="ident" id="3565118"><a href="/text/template/funcs.go.html#3565094">x</a></span><span class="op" id="3565119">.</span><span class="ident" id="3565120">IsValid</span><span class="op" id="3565127">(</span><span class="op" id="3565128">)</span>&nbsp;<span class="op" id="3565130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3565136"><a href="/text/template/funcs.go.html#3564102">v</a></span>&nbsp;<span class="op" id="3565138">=</span>&nbsp;<span class="ident" id="3565140"><a href="/text/template/funcs.go.html#3565094">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3565145">}</span>&nbsp;<span class="keyword" id="3565147">else</span>&nbsp;<span class="op" id="3565152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3565158"><a href="/text/template/funcs.go.html#3564102">v</a></span>&nbsp;<span class="op" id="3565160">=</span>&nbsp;<span class="ident" id="3565162"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3565169">.</span><span class="ident" id="3565170">Zero</span><span class="op" id="3565174">(</span><span class="ident" id="3565175"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3565176">.</span><span class="ident" id="3565177">Type</span><span class="op" id="3565181">(</span><span class="op" id="3565182">)</span><span class="op" id="3565183">.</span><span class="ident" id="3565184">Elem</span><span class="op" id="3565188">(</span><span class="op" id="3565189">)</span><span class="op" id="3565190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3565195">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565199">default</span><span class="op" id="3565206">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565211">return</span>&nbsp;<span class="ident" id="3565218">nil</span><span class="op" id="3565221">,</span>&nbsp;<span class="ident" id="3565223"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3565226">.</span><span class="ident" id="3565227">Errorf</span><span class="op" id="3565233">(</span><span class="string" id="3565234">&#34;can&#39;t&nbsp;index&nbsp;item&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3565263">,</span>&nbsp;<span class="ident" id="3565265"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3565266">.</span><span class="ident" id="3565267">Type</span><span class="op" id="3565271">(</span><span class="op" id="3565272">)</span><span class="op" id="3565273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3565277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3565280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565283">return</span>&nbsp;<span class="ident" id="3565290"><a href="/text/template/funcs.go.html#3564102">v</a></span><span class="op" id="3565291">.</span><span class="ident" id="3565292">Interface</span><span class="op" id="3565301">(</span><span class="op" id="3565302">)</span><span class="op" id="3565303">,</span>&nbsp;<span class="ident" id="3565305">nil</span><br>
<span class="lineno">150</span><span class="op" id="3565309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3565312">//&nbsp;Length</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3565323">//&nbsp;length&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;item,&nbsp;with&nbsp;an&nbsp;error&nbsp;if&nbsp;it&nbsp;has&nbsp;no&nbsp;defined&nbsp;length.</span><br>
<span class="lineno">155</span><span class="keyword" id="3565408">func</span>&nbsp;<span class="ident" id="3565413">length</span><span class="op" id="3565419">(</span><span class="ident" id="3565420">item</span>&nbsp;<span class="keyword" id="3565425">interface</span><span class="op" id="3565434">{</span><span class="op" id="3565435">}</span><span class="op" id="3565436">)</span>&nbsp;<span class="op" id="3565438">(</span><span class="builtintype" id="3565439">int</span><span class="op" id="3565442">,</span>&nbsp;<span class="builtintype" id="3565444">error</span><span class="op" id="3565449">)</span>&nbsp;<span class="op" id="3565451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3565454">v</span><span class="op" id="3565455">,</span>&nbsp;<span class="ident" id="3565457">isNil</span>&nbsp;<span class="op" id="3565463">:=</span>&nbsp;<span class="ident" id="3565466"><a href="/text/template/exec.go.html#3558720">indirect</a></span><span class="op" id="3565474">(</span><span class="ident" id="3565475"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3565482">.</span><span class="ident" id="3565483">ValueOf</span><span class="op" id="3565490">(</span><span class="ident" id="3565491"><a href="/text/template/funcs.go.html#3565420">item</a></span><span class="op" id="3565495">)</span><span class="op" id="3565496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565499">if</span>&nbsp;<span class="ident" id="3565502"><a href="/text/template/funcs.go.html#3565457">isNil</a></span>&nbsp;<span class="op" id="3565508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565512">return</span>&nbsp;<span class="num" id="3565519">0</span><span class="op" id="3565520">,</span>&nbsp;<span class="ident" id="3565522"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3565525">.</span><span class="ident" id="3565526">Errorf</span><span class="op" id="3565532">(</span><span class="string" id="3565533">&#34;len&nbsp;of&nbsp;nil&nbsp;pointer&#34;</span><span class="op" id="3565553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3565556">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565559">switch</span>&nbsp;<span class="ident" id="3565566"><a href="/text/template/funcs.go.html#3565454">v</a></span><span class="op" id="3565567">.</span><span class="ident" id="3565568">Kind</span><span class="op" id="3565572">(</span><span class="op" id="3565573">)</span>&nbsp;<span class="op" id="3565575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565578">case</span>&nbsp;<span class="ident" id="3565583"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3565590">.</span><span class="ident" id="3565591">Array</span><span class="op" id="3565596">,</span>&nbsp;<span class="ident" id="3565598"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3565605">.</span><span class="ident" id="3565606">Chan</span><span class="op" id="3565610">,</span>&nbsp;<span class="ident" id="3565612"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3565619">.</span><span class="ident" id="3565620">Map</span><span class="op" id="3565623">,</span>&nbsp;<span class="ident" id="3565625"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3565632">.</span><span class="ident" id="3565633">Slice</span><span class="op" id="3565638">,</span>&nbsp;<span class="ident" id="3565640"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3565647">.</span><span class="ident" id="3565648">String</span><span class="op" id="3565654">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565658">return</span>&nbsp;<span class="ident" id="3565665"><a href="/text/template/funcs.go.html#3565454">v</a></span><span class="op" id="3565666">.</span><span class="ident" id="3565667">Len</span><span class="op" id="3565670">(</span><span class="op" id="3565671">)</span><span class="op" id="3565672">,</span>&nbsp;<span class="ident" id="3565674">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3565679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3565682">return</span>&nbsp;<span class="num" id="3565689">0</span><span class="op" id="3565690">,</span>&nbsp;<span class="ident" id="3565692"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3565695">.</span><span class="ident" id="3565696">Errorf</span><span class="op" id="3565702">(</span><span class="string" id="3565703">&#34;len&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3565719">,</span>&nbsp;<span class="ident" id="3565721"><a href="/text/template/funcs.go.html#3565454">v</a></span><span class="op" id="3565722">.</span><span class="ident" id="3565723">Type</span><span class="op" id="3565727">(</span><span class="op" id="3565728">)</span><span class="op" id="3565729">)</span><br>
<span class="lineno">165</span><span class="op" id="3565731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3565734">//&nbsp;Function&nbsp;invocation</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3565758">//&nbsp;call&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;evaluating&nbsp;the&nbsp;first&nbsp;argument&nbsp;as&nbsp;a&nbsp;function.</span><br>
<span class="lineno">170</span><span class="comment" id="3565833">//&nbsp;The&nbsp;function&nbsp;must&nbsp;return&nbsp;1&nbsp;result,&nbsp;or&nbsp;2&nbsp;results,&nbsp;the&nbsp;second&nbsp;of&nbsp;which&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="3565918">func</span>&nbsp;<span class="ident" id="3565923">call</span><span class="op" id="3565927">(</span><span class="ident" id="3565928">fn</span>&nbsp;<span class="keyword" id="3565931">interface</span><span class="op" id="3565940">{</span><span class="op" id="3565941">}</span><span class="op" id="3565942">,</span>&nbsp;<span class="ident" id="3565944">args</span>&nbsp;<span class="op" id="3565949">...</span><span class="keyword" id="3565952">interface</span><span class="op" id="3565961">{</span><span class="op" id="3565962">}</span><span class="op" id="3565963">)</span>&nbsp;<span class="op" id="3565965">(</span><span class="keyword" id="3565966">interface</span><span class="op" id="3565975">{</span><span class="op" id="3565976">}</span><span class="op" id="3565977">,</span>&nbsp;<span class="builtintype" id="3565979">error</span><span class="op" id="3565984">)</span>&nbsp;<span class="op" id="3565986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3565989">v</span>&nbsp;<span class="op" id="3565991">:=</span>&nbsp;<span class="ident" id="3565994"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3566001">.</span><span class="ident" id="3566002">ValueOf</span><span class="op" id="3566009">(</span><span class="ident" id="3566010"><a href="/text/template/funcs.go.html#3565928">fn</a></span><span class="op" id="3566012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3566015">typ</span>&nbsp;<span class="op" id="3566019">:=</span>&nbsp;<span class="ident" id="3566022"><a href="/text/template/funcs.go.html#3565989">v</a></span><span class="op" id="3566023">.</span><span class="ident" id="3566024">Type</span><span class="op" id="3566028">(</span><span class="op" id="3566029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566032">if</span>&nbsp;<span class="ident" id="3566035"><a href="/text/template/funcs.go.html#3566015">typ</a></span><span class="op" id="3566038">.</span><span class="ident" id="3566039">Kind</span><span class="op" id="3566043">(</span><span class="op" id="3566044">)</span>&nbsp;<span class="op" id="3566046">!=</span>&nbsp;<span class="ident" id="3566049"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3566056">.</span><span class="ident" id="3566057">Func</span>&nbsp;<span class="op" id="3566062">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566066">return</span>&nbsp;<span class="ident" id="3566073">nil</span><span class="op" id="3566076">,</span>&nbsp;<span class="ident" id="3566078"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3566081">.</span><span class="ident" id="3566082">Errorf</span><span class="op" id="3566088">(</span><span class="string" id="3566089">&#34;non-function&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3566114">,</span>&nbsp;<span class="ident" id="3566116"><a href="/text/template/funcs.go.html#3566015">typ</a></span><span class="op" id="3566119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3566122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566125">if</span>&nbsp;<span class="op" id="3566128">!</span><span class="ident" id="3566129"><a href="/text/template/funcs.go.html#3563212">goodFunc</a></span><span class="op" id="3566137">(</span><span class="ident" id="3566138"><a href="/text/template/funcs.go.html#3566015">typ</a></span><span class="op" id="3566141">)</span>&nbsp;<span class="op" id="3566143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566147">return</span>&nbsp;<span class="ident" id="3566154">nil</span><span class="op" id="3566157">,</span>&nbsp;<span class="ident" id="3566159"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3566162">.</span><span class="ident" id="3566163">Errorf</span><span class="op" id="3566169">(</span><span class="string" id="3566170">&#34;function&nbsp;called&nbsp;with&nbsp;%d&nbsp;args;&nbsp;should&nbsp;be&nbsp;1&nbsp;or&nbsp;2&#34;</span><span class="op" id="3566218">,</span>&nbsp;<span class="ident" id="3566220"><a href="/text/template/funcs.go.html#3566015">typ</a></span><span class="op" id="3566223">.</span><span class="ident" id="3566224">NumOut</span><span class="op" id="3566230">(</span><span class="op" id="3566231">)</span><span class="op" id="3566232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3566235">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3566238">numIn</span>&nbsp;<span class="op" id="3566244">:=</span>&nbsp;<span class="ident" id="3566247"><a href="/text/template/funcs.go.html#3566015">typ</a></span><span class="op" id="3566250">.</span><span class="ident" id="3566251">NumIn</span><span class="op" id="3566256">(</span><span class="op" id="3566257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566260">var</span>&nbsp;<span class="ident" id="3566264">dddType</span>&nbsp;<span class="ident" id="3566272"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3566279">.</span><span class="ident" id="3566280">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566286">if</span>&nbsp;<span class="ident" id="3566289"><a href="/text/template/funcs.go.html#3566015">typ</a></span><span class="op" id="3566292">.</span><span class="ident" id="3566293">IsVariadic</span><span class="op" id="3566303">(</span><span class="op" id="3566304">)</span>&nbsp;<span class="op" id="3566306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566310">if</span>&nbsp;<span class="builtinfunc" id="3566313">len</span><span class="op" id="3566316">(</span><span class="ident" id="3566317"><a href="/text/template/funcs.go.html#3565944">args</a></span><span class="op" id="3566321">)</span>&nbsp;<span class="op" id="3566323">&lt;</span>&nbsp;<span class="ident" id="3566325"><a href="/text/template/funcs.go.html#3566238">numIn</a></span><span class="op" id="3566330">-</span><span class="num" id="3566331">1</span>&nbsp;<span class="op" id="3566333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566338">return</span>&nbsp;<span class="ident" id="3566345">nil</span><span class="op" id="3566348">,</span>&nbsp;<span class="ident" id="3566350"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3566353">.</span><span class="ident" id="3566354">Errorf</span><span class="op" id="3566360">(</span><span class="string" id="3566361">&#34;wrong&nbsp;number&nbsp;of&nbsp;args:&nbsp;got&nbsp;%d&nbsp;want&nbsp;at&nbsp;least&nbsp;%d&#34;</span><span class="op" id="3566408">,</span>&nbsp;<span class="builtinfunc" id="3566410">len</span><span class="op" id="3566413">(</span><span class="ident" id="3566414"><a href="/text/template/funcs.go.html#3565944">args</a></span><span class="op" id="3566418">)</span><span class="op" id="3566419">,</span>&nbsp;<span class="ident" id="3566421"><a href="/text/template/funcs.go.html#3566238">numIn</a></span><span class="op" id="3566426">-</span><span class="num" id="3566427">1</span><span class="op" id="3566428">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3566432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3566436"><a href="/text/template/funcs.go.html#3566264">dddType</a></span>&nbsp;<span class="op" id="3566444">=</span>&nbsp;<span class="ident" id="3566446"><a href="/text/template/funcs.go.html#3566015">typ</a></span><span class="op" id="3566449">.</span><span class="ident" id="3566450">In</span><span class="op" id="3566452">(</span><span class="ident" id="3566453"><a href="/text/template/funcs.go.html#3566238">numIn</a></span>&nbsp;<span class="op" id="3566459">-</span>&nbsp;<span class="num" id="3566461">1</span><span class="op" id="3566462">)</span><span class="op" id="3566463">.</span><span class="ident" id="3566464">Elem</span><span class="op" id="3566468">(</span><span class="op" id="3566469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3566472">}</span>&nbsp;<span class="keyword" id="3566474">else</span>&nbsp;<span class="op" id="3566479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566483">if</span>&nbsp;<span class="builtinfunc" id="3566486">len</span><span class="op" id="3566489">(</span><span class="ident" id="3566490"><a href="/text/template/funcs.go.html#3565944">args</a></span><span class="op" id="3566494">)</span>&nbsp;<span class="op" id="3566496">!=</span>&nbsp;<span class="ident" id="3566499"><a href="/text/template/funcs.go.html#3566238">numIn</a></span>&nbsp;<span class="op" id="3566505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566510">return</span>&nbsp;<span class="ident" id="3566517">nil</span><span class="op" id="3566520">,</span>&nbsp;<span class="ident" id="3566522"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3566525">.</span><span class="ident" id="3566526">Errorf</span><span class="op" id="3566532">(</span><span class="string" id="3566533">&#34;wrong&nbsp;number&nbsp;of&nbsp;args:&nbsp;got&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="3566571">,</span>&nbsp;<span class="builtinfunc" id="3566573">len</span><span class="op" id="3566576">(</span><span class="ident" id="3566577"><a href="/text/template/funcs.go.html#3565944">args</a></span><span class="op" id="3566581">)</span><span class="op" id="3566582">,</span>&nbsp;<span class="ident" id="3566584"><a href="/text/template/funcs.go.html#3566238">numIn</a></span><span class="op" id="3566589">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3566593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3566596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3566599">argv</span>&nbsp;<span class="op" id="3566604">:=</span>&nbsp;<span class="builtinfunc" id="3566607">make</span><span class="op" id="3566611">(</span><span class="op" id="3566612">[</span><span class="op" id="3566613">]</span><span class="ident" id="3566614"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3566621">.</span><span class="ident" id="3566622">Value</span><span class="op" id="3566627">,</span>&nbsp;<span class="builtinfunc" id="3566629">len</span><span class="op" id="3566632">(</span><span class="ident" id="3566633"><a href="/text/template/funcs.go.html#3565944">args</a></span><span class="op" id="3566637">)</span><span class="op" id="3566638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566641">for</span>&nbsp;<span class="ident" id="3566645">i</span><span class="op" id="3566646">,</span>&nbsp;<span class="ident" id="3566648">arg</span>&nbsp;<span class="op" id="3566652">:=</span>&nbsp;<span class="keyword" id="3566655">range</span>&nbsp;<span class="ident" id="3566661"><a href="/text/template/funcs.go.html#3565944">args</a></span>&nbsp;<span class="op" id="3566666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3566670">value</span>&nbsp;<span class="op" id="3566676">:=</span>&nbsp;<span class="ident" id="3566679"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3566686">.</span><span class="ident" id="3566687">ValueOf</span><span class="op" id="3566694">(</span><span class="ident" id="3566695"><a href="/text/template/funcs.go.html#3566648">arg</a></span><span class="op" id="3566698">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3566702">//&nbsp;Compute&nbsp;the&nbsp;expected&nbsp;type.&nbsp;Clumsy&nbsp;because&nbsp;of&nbsp;variadics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566763">var</span>&nbsp;<span class="ident" id="3566767">argType</span>&nbsp;<span class="ident" id="3566775"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3566782">.</span><span class="ident" id="3566783">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566790">if</span>&nbsp;<span class="op" id="3566793">!</span><span class="ident" id="3566794"><a href="/text/template/funcs.go.html#3566015">typ</a></span><span class="op" id="3566797">.</span><span class="ident" id="3566798">IsVariadic</span><span class="op" id="3566808">(</span><span class="op" id="3566809">)</span>&nbsp;<span class="op" id="3566811">||</span>&nbsp;<span class="ident" id="3566814"><a href="/text/template/funcs.go.html#3566645">i</a></span>&nbsp;<span class="op" id="3566816">&lt;</span>&nbsp;<span class="ident" id="3566818"><a href="/text/template/funcs.go.html#3566238">numIn</a></span><span class="op" id="3566823">-</span><span class="num" id="3566824">1</span>&nbsp;<span class="op" id="3566826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3566831"><a href="/text/template/funcs.go.html#3566767">argType</a></span>&nbsp;<span class="op" id="3566839">=</span>&nbsp;<span class="ident" id="3566841"><a href="/text/template/funcs.go.html#3566015">typ</a></span><span class="op" id="3566844">.</span><span class="ident" id="3566845">In</span><span class="op" id="3566847">(</span><span class="ident" id="3566848"><a href="/text/template/funcs.go.html#3566645">i</a></span><span class="op" id="3566849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3566853">}</span>&nbsp;<span class="keyword" id="3566855">else</span>&nbsp;<span class="op" id="3566860">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3566865"><a href="/text/template/funcs.go.html#3566767">argType</a></span>&nbsp;<span class="op" id="3566873">=</span>&nbsp;<span class="ident" id="3566875"><a href="/text/template/funcs.go.html#3566264">dddType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3566885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566889">if</span>&nbsp;<span class="op" id="3566892">!</span><span class="ident" id="3566893"><a href="/text/template/funcs.go.html#3566670">value</a></span><span class="op" id="3566898">.</span><span class="ident" id="3566899">IsValid</span><span class="op" id="3566906">(</span><span class="op" id="3566907">)</span>&nbsp;<span class="op" id="3566909">&amp;&amp;</span>&nbsp;<span class="ident" id="3566912"><a href="/text/template/exec.go.html#3553094">canBeNil</a></span><span class="op" id="3566920">(</span><span class="ident" id="3566921"><a href="/text/template/funcs.go.html#3566767">argType</a></span><span class="op" id="3566928">)</span>&nbsp;<span class="op" id="3566930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3566935"><a href="/text/template/funcs.go.html#3566670">value</a></span>&nbsp;<span class="op" id="3566941">=</span>&nbsp;<span class="ident" id="3566943"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3566950">.</span><span class="ident" id="3566951">Zero</span><span class="op" id="3566955">(</span><span class="ident" id="3566956"><a href="/text/template/funcs.go.html#3566767">argType</a></span><span class="op" id="3566963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3566967">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3566971">if</span>&nbsp;<span class="op" id="3566974">!</span><span class="ident" id="3566975"><a href="/text/template/funcs.go.html#3566670">value</a></span><span class="op" id="3566980">.</span><span class="ident" id="3566981">Type</span><span class="op" id="3566985">(</span><span class="op" id="3566986">)</span><span class="op" id="3566987">.</span><span class="ident" id="3566988">AssignableTo</span><span class="op" id="3567000">(</span><span class="ident" id="3567001"><a href="/text/template/funcs.go.html#3566767">argType</a></span><span class="op" id="3567008">)</span>&nbsp;<span class="op" id="3567010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567015">return</span>&nbsp;<span class="ident" id="3567022">nil</span><span class="op" id="3567025">,</span>&nbsp;<span class="ident" id="3567027"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3567030">.</span><span class="ident" id="3567031">Errorf</span><span class="op" id="3567037">(</span><span class="string" id="3567038">&#34;arg&nbsp;%d&nbsp;has&nbsp;type&nbsp;%s;&nbsp;should&nbsp;be&nbsp;%s&#34;</span><span class="op" id="3567072">,</span>&nbsp;<span class="ident" id="3567074"><a href="/text/template/funcs.go.html#3566645">i</a></span><span class="op" id="3567075">,</span>&nbsp;<span class="ident" id="3567077"><a href="/text/template/funcs.go.html#3566670">value</a></span><span class="op" id="3567082">.</span><span class="ident" id="3567083">Type</span><span class="op" id="3567087">(</span><span class="op" id="3567088">)</span><span class="op" id="3567089">,</span>&nbsp;<span class="ident" id="3567091"><a href="/text/template/funcs.go.html#3566767">argType</a></span><span class="op" id="3567098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3567102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3567106"><a href="/text/template/funcs.go.html#3566599">argv</a></span><span class="op" id="3567110">[</span><span class="ident" id="3567111"><a href="/text/template/funcs.go.html#3566645">i</a></span><span class="op" id="3567112">]</span>&nbsp;<span class="op" id="3567114">=</span>&nbsp;<span class="ident" id="3567116"><a href="/text/template/funcs.go.html#3566670">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3567123">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3567126">result</span>&nbsp;<span class="op" id="3567133">:=</span>&nbsp;<span class="ident" id="3567136"><a href="/text/template/funcs.go.html#3565989">v</a></span><span class="op" id="3567137">.</span><span class="ident" id="3567138">Call</span><span class="op" id="3567142">(</span><span class="ident" id="3567143"><a href="/text/template/funcs.go.html#3566599">argv</a></span><span class="op" id="3567147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567150">if</span>&nbsp;<span class="builtinfunc" id="3567153">len</span><span class="op" id="3567156">(</span><span class="ident" id="3567157"><a href="/text/template/funcs.go.html#3567126">result</a></span><span class="op" id="3567163">)</span>&nbsp;<span class="op" id="3567165">==</span>&nbsp;<span class="num" id="3567168">2</span>&nbsp;<span class="op" id="3567170">&amp;&amp;</span>&nbsp;<span class="op" id="3567173">!</span><span class="ident" id="3567174"><a href="/text/template/funcs.go.html#3567126">result</a></span><span class="op" id="3567180">[</span><span class="num" id="3567181">1</span><span class="op" id="3567182">]</span><span class="op" id="3567183">.</span><span class="ident" id="3567184">IsNil</span><span class="op" id="3567189">(</span><span class="op" id="3567190">)</span>&nbsp;<span class="op" id="3567192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567196">return</span>&nbsp;<span class="ident" id="3567203"><a href="/text/template/funcs.go.html#3567126">result</a></span><span class="op" id="3567209">[</span><span class="num" id="3567210">0</span><span class="op" id="3567211">]</span><span class="op" id="3567212">.</span><span class="ident" id="3567213">Interface</span><span class="op" id="3567222">(</span><span class="op" id="3567223">)</span><span class="op" id="3567224">,</span>&nbsp;<span class="ident" id="3567226"><a href="/text/template/funcs.go.html#3567126">result</a></span><span class="op" id="3567232">[</span><span class="num" id="3567233">1</span><span class="op" id="3567234">]</span><span class="op" id="3567235">.</span><span class="ident" id="3567236">Interface</span><span class="op" id="3567245">(</span><span class="op" id="3567246">)</span><span class="op" id="3567247">.</span><span class="op" id="3567248">(</span><span class="builtintype" id="3567249">error</span><span class="op" id="3567254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3567257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567260">return</span>&nbsp;<span class="ident" id="3567267"><a href="/text/template/funcs.go.html#3567126">result</a></span><span class="op" id="3567273">[</span><span class="num" id="3567274">0</span><span class="op" id="3567275">]</span><span class="op" id="3567276">.</span><span class="ident" id="3567277">Interface</span><span class="op" id="3567286">(</span><span class="op" id="3567287">)</span><span class="op" id="3567288">,</span>&nbsp;<span class="ident" id="3567290">nil</span><br>
<span class="lineno">215</span><span class="op" id="3567294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3567297">//&nbsp;Boolean&nbsp;logic.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3567316">func</span>&nbsp;<span class="ident" id="3567321">truth</span><span class="op" id="3567326">(</span><span class="ident" id="3567327">a</span>&nbsp;<span class="keyword" id="3567329">interface</span><span class="op" id="3567338">{</span><span class="op" id="3567339">}</span><span class="op" id="3567340">)</span>&nbsp;<span class="builtintype" id="3567342">bool</span>&nbsp;<span class="op" id="3567347">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3567350">t</span><span class="op" id="3567351">,</span>&nbsp;<span class="ident" id="3567353">_</span>&nbsp;<span class="op" id="3567355">:=</span>&nbsp;<span class="ident" id="3567358"><a href="/text/template/exec.go.html#3540717">isTrue</a></span><span class="op" id="3567364">(</span><span class="ident" id="3567365"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3567372">.</span><span class="ident" id="3567373">ValueOf</span><span class="op" id="3567380">(</span><span class="ident" id="3567381"><a href="/text/template/funcs.go.html#3567327">a</a></span><span class="op" id="3567382">)</span><span class="op" id="3567383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567386">return</span>&nbsp;<span class="ident" id="3567393"><a href="/text/template/funcs.go.html#3567350">t</a></span><br>
<span class="lineno"></span><span class="op" id="3567395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3567398">//&nbsp;and&nbsp;computes&nbsp;the&nbsp;Boolean&nbsp;AND&nbsp;of&nbsp;its&nbsp;arguments,&nbsp;returning</span><br>
<span class="lineno">225</span><span class="comment" id="3567458">//&nbsp;the&nbsp;first&nbsp;false&nbsp;argument&nbsp;it&nbsp;encounters,&nbsp;or&nbsp;the&nbsp;last&nbsp;argument.</span><br>
<span class="lineno"></span><span class="keyword" id="3567523">func</span>&nbsp;<span class="ident" id="3567528">and</span><span class="op" id="3567531">(</span><span class="ident" id="3567532">arg0</span>&nbsp;<span class="keyword" id="3567537">interface</span><span class="op" id="3567546">{</span><span class="op" id="3567547">}</span><span class="op" id="3567548">,</span>&nbsp;<span class="ident" id="3567550">args</span>&nbsp;<span class="op" id="3567555">...</span><span class="keyword" id="3567558">interface</span><span class="op" id="3567567">{</span><span class="op" id="3567568">}</span><span class="op" id="3567569">)</span>&nbsp;<span class="keyword" id="3567571">interface</span><span class="op" id="3567580">{</span><span class="op" id="3567581">}</span>&nbsp;<span class="op" id="3567583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567586">if</span>&nbsp;<span class="op" id="3567589">!</span><span class="ident" id="3567590"><a href="/text/template/funcs.go.html#3567321">truth</a></span><span class="op" id="3567595">(</span><span class="ident" id="3567596"><a href="/text/template/funcs.go.html#3567532">arg0</a></span><span class="op" id="3567600">)</span>&nbsp;<span class="op" id="3567602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567606">return</span>&nbsp;<span class="ident" id="3567613"><a href="/text/template/funcs.go.html#3567532">arg0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3567619">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567622">for</span>&nbsp;<span class="ident" id="3567626">i</span>&nbsp;<span class="op" id="3567628">:=</span>&nbsp;<span class="keyword" id="3567631">range</span>&nbsp;<span class="ident" id="3567637"><a href="/text/template/funcs.go.html#3567550">args</a></span>&nbsp;<span class="op" id="3567642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3567646"><a href="/text/template/funcs.go.html#3567532">arg0</a></span>&nbsp;<span class="op" id="3567651">=</span>&nbsp;<span class="ident" id="3567653"><a href="/text/template/funcs.go.html#3567550">args</a></span><span class="op" id="3567657">[</span><span class="ident" id="3567658"><a href="/text/template/funcs.go.html#3567626">i</a></span><span class="op" id="3567659">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567663">if</span>&nbsp;<span class="op" id="3567666">!</span><span class="ident" id="3567667"><a href="/text/template/funcs.go.html#3567321">truth</a></span><span class="op" id="3567672">(</span><span class="ident" id="3567673"><a href="/text/template/funcs.go.html#3567532">arg0</a></span><span class="op" id="3567677">)</span>&nbsp;<span class="op" id="3567679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567684">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3567692">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3567695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567698">return</span>&nbsp;<span class="ident" id="3567705"><a href="/text/template/funcs.go.html#3567532">arg0</a></span><br>
<span class="lineno"></span><span class="op" id="3567710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3567713">//&nbsp;or&nbsp;computes&nbsp;the&nbsp;Boolean&nbsp;OR&nbsp;of&nbsp;its&nbsp;arguments,&nbsp;returning</span><br>
<span class="lineno">240</span><span class="comment" id="3567771">//&nbsp;the&nbsp;first&nbsp;true&nbsp;argument&nbsp;it&nbsp;encounters,&nbsp;or&nbsp;the&nbsp;last&nbsp;argument.</span><br>
<span class="lineno"></span><span class="keyword" id="3567835">func</span>&nbsp;<span class="ident" id="3567840">or</span><span class="op" id="3567842">(</span><span class="ident" id="3567843">arg0</span>&nbsp;<span class="keyword" id="3567848">interface</span><span class="op" id="3567857">{</span><span class="op" id="3567858">}</span><span class="op" id="3567859">,</span>&nbsp;<span class="ident" id="3567861">args</span>&nbsp;<span class="op" id="3567866">...</span><span class="keyword" id="3567869">interface</span><span class="op" id="3567878">{</span><span class="op" id="3567879">}</span><span class="op" id="3567880">)</span>&nbsp;<span class="keyword" id="3567882">interface</span><span class="op" id="3567891">{</span><span class="op" id="3567892">}</span>&nbsp;<span class="op" id="3567894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567897">if</span>&nbsp;<span class="ident" id="3567900"><a href="/text/template/funcs.go.html#3567321">truth</a></span><span class="op" id="3567905">(</span><span class="ident" id="3567906"><a href="/text/template/funcs.go.html#3567843">arg0</a></span><span class="op" id="3567910">)</span>&nbsp;<span class="op" id="3567912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567916">return</span>&nbsp;<span class="ident" id="3567923"><a href="/text/template/funcs.go.html#3567843">arg0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3567929">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567932">for</span>&nbsp;<span class="ident" id="3567936">i</span>&nbsp;<span class="op" id="3567938">:=</span>&nbsp;<span class="keyword" id="3567941">range</span>&nbsp;<span class="ident" id="3567947"><a href="/text/template/funcs.go.html#3567861">args</a></span>&nbsp;<span class="op" id="3567952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3567956"><a href="/text/template/funcs.go.html#3567843">arg0</a></span>&nbsp;<span class="op" id="3567961">=</span>&nbsp;<span class="ident" id="3567963"><a href="/text/template/funcs.go.html#3567861">args</a></span><span class="op" id="3567967">[</span><span class="ident" id="3567968"><a href="/text/template/funcs.go.html#3567936">i</a></span><span class="op" id="3567969">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567973">if</span>&nbsp;<span class="ident" id="3567976"><a href="/text/template/funcs.go.html#3567321">truth</a></span><span class="op" id="3567981">(</span><span class="ident" id="3567982"><a href="/text/template/funcs.go.html#3567843">arg0</a></span><span class="op" id="3567986">)</span>&nbsp;<span class="op" id="3567988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3567993">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3568001">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3568004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568007">return</span>&nbsp;<span class="ident" id="3568014"><a href="/text/template/funcs.go.html#3567843">arg0</a></span><br>
<span class="lineno"></span><span class="op" id="3568019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3568022">//&nbsp;not&nbsp;returns&nbsp;the&nbsp;Boolean&nbsp;negation&nbsp;of&nbsp;its&nbsp;argument.</span><br>
<span class="lineno">255</span><span class="keyword" id="3568075">func</span>&nbsp;<span class="ident" id="3568080">not</span><span class="op" id="3568083">(</span><span class="ident" id="3568084">arg</span>&nbsp;<span class="keyword" id="3568088">interface</span><span class="op" id="3568097">{</span><span class="op" id="3568098">}</span><span class="op" id="3568099">)</span>&nbsp;<span class="op" id="3568101">(</span><span class="ident" id="3568102">truth</span>&nbsp;<span class="builtintype" id="3568108">bool</span><span class="op" id="3568112">)</span>&nbsp;<span class="op" id="3568114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568117"><a href="/text/template/funcs.go.html#3568102">truth</a></span><span class="op" id="3568122">,</span>&nbsp;<span class="ident" id="3568124">_</span>&nbsp;<span class="op" id="3568126">=</span>&nbsp;<span class="ident" id="3568128"><a href="/text/template/exec.go.html#3540717">isTrue</a></span><span class="op" id="3568134">(</span><span class="ident" id="3568135"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568142">.</span><span class="ident" id="3568143">ValueOf</span><span class="op" id="3568150">(</span><span class="ident" id="3568151"><a href="/text/template/funcs.go.html#3568084">arg</a></span><span class="op" id="3568154">)</span><span class="op" id="3568155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568158">return</span>&nbsp;<span class="op" id="3568165">!</span><span class="ident" id="3568166"><a href="/text/template/funcs.go.html#3568102">truth</a></span><br>
<span class="lineno"></span><span class="op" id="3568172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="3568175">//&nbsp;Comparison.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3568191">//&nbsp;TODO:&nbsp;Perhaps&nbsp;allow&nbsp;comparison&nbsp;between&nbsp;signed&nbsp;and&nbsp;unsigned&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3568264">var</span>&nbsp;<span class="op" id="3568268">(</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568271">errBadComparisonType</span>&nbsp;<span class="op" id="3568292">=</span>&nbsp;<span class="ident" id="3568294"><a href="/text/template/funcs.go.html#3561344">errors</a></span><span class="op" id="3568300">.</span><span class="ident" id="3568301">New</span><span class="op" id="3568304">(</span><span class="string" id="3568305">&#34;invalid&nbsp;type&nbsp;for&nbsp;comparison&#34;</span><span class="op" id="3568334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568337">errBadComparison</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568358">=</span>&nbsp;<span class="ident" id="3568360"><a href="/text/template/funcs.go.html#3561344">errors</a></span><span class="op" id="3568366">.</span><span class="ident" id="3568367">New</span><span class="op" id="3568370">(</span><span class="string" id="3568371">&#34;incompatible&nbsp;types&nbsp;for&nbsp;comparison&#34;</span><span class="op" id="3568406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568409">errNoComparison</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568430">=</span>&nbsp;<span class="ident" id="3568432"><a href="/text/template/funcs.go.html#3561344">errors</a></span><span class="op" id="3568438">.</span><span class="ident" id="3568439">New</span><span class="op" id="3568442">(</span><span class="string" id="3568443">&#34;missing&nbsp;argument&nbsp;for&nbsp;comparison&#34;</span><span class="op" id="3568476">)</span><br>
<span class="lineno"></span><span class="op" id="3568478">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="3568481">type</span>&nbsp;<span class="ident" id="3568486">kind</span>&nbsp;<span class="builtintype" id="3568491">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3568496">const</span>&nbsp;<span class="op" id="3568502">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568505">invalidKind</span>&nbsp;<span class="ident" id="3568517"><a href="/text/template/funcs.go.html#3568486">kind</a></span>&nbsp;<span class="op" id="3568522">=</span>&nbsp;<span class="ident" id="3568524">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568530">boolKind</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568540">complexKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568553">intKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568562">floatKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568573">integerKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568586">stringKind</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3568598">uintKind</span><br>
<span class="lineno"></span><span class="op" id="3568607">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3568610">func</span>&nbsp;<span class="ident" id="3568615">basicKind</span><span class="op" id="3568624">(</span><span class="ident" id="3568625">v</span>&nbsp;<span class="ident" id="3568627"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568634">.</span><span class="ident" id="3568635">Value</span><span class="op" id="3568640">)</span>&nbsp;<span class="op" id="3568642">(</span><span class="ident" id="3568643"><a href="/text/template/funcs.go.html#3568486">kind</a></span><span class="op" id="3568647">,</span>&nbsp;<span class="builtintype" id="3568649">error</span><span class="op" id="3568654">)</span>&nbsp;<span class="op" id="3568656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568659">switch</span>&nbsp;<span class="ident" id="3568666"><a href="/text/template/funcs.go.html#3568625">v</a></span><span class="op" id="3568667">.</span><span class="ident" id="3568668">Kind</span><span class="op" id="3568672">(</span><span class="op" id="3568673">)</span>&nbsp;<span class="op" id="3568675">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568678">case</span>&nbsp;<span class="ident" id="3568683"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568690">.</span><span class="ident" id="3568691">Bool</span><span class="op" id="3568695">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568699">return</span>&nbsp;<span class="ident" id="3568706"><a href="/text/template/funcs.go.html#3568530">boolKind</a></span><span class="op" id="3568714">,</span>&nbsp;<span class="ident" id="3568716">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568721">case</span>&nbsp;<span class="ident" id="3568726"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568733">.</span><span class="ident" id="3568734">Int</span><span class="op" id="3568737">,</span>&nbsp;<span class="ident" id="3568739"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568746">.</span><span class="ident" id="3568747">Int8</span><span class="op" id="3568751">,</span>&nbsp;<span class="ident" id="3568753"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568760">.</span><span class="ident" id="3568761">Int16</span><span class="op" id="3568766">,</span>&nbsp;<span class="ident" id="3568768"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568775">.</span><span class="ident" id="3568776">Int32</span><span class="op" id="3568781">,</span>&nbsp;<span class="ident" id="3568783"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568790">.</span><span class="ident" id="3568791">Int64</span><span class="op" id="3568796">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568800">return</span>&nbsp;<span class="ident" id="3568807"><a href="/text/template/funcs.go.html#3568553">intKind</a></span><span class="op" id="3568814">,</span>&nbsp;<span class="ident" id="3568816">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568821">case</span>&nbsp;<span class="ident" id="3568826"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568833">.</span><span class="ident" id="3568834">Uint</span><span class="op" id="3568838">,</span>&nbsp;<span class="ident" id="3568840"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568847">.</span><span class="ident" id="3568848">Uint8</span><span class="op" id="3568853">,</span>&nbsp;<span class="ident" id="3568855"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568862">.</span><span class="ident" id="3568863">Uint16</span><span class="op" id="3568869">,</span>&nbsp;<span class="ident" id="3568871"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568878">.</span><span class="ident" id="3568879">Uint32</span><span class="op" id="3568885">,</span>&nbsp;<span class="ident" id="3568887"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568894">.</span><span class="ident" id="3568895">Uint64</span><span class="op" id="3568901">,</span>&nbsp;<span class="ident" id="3568903"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568910">.</span><span class="ident" id="3568911">Uintptr</span><span class="op" id="3568918">:</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568922">return</span>&nbsp;<span class="ident" id="3568929"><a href="/text/template/funcs.go.html#3568598">uintKind</a></span><span class="op" id="3568937">,</span>&nbsp;<span class="ident" id="3568939">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568944">case</span>&nbsp;<span class="ident" id="3568949"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568956">.</span><span class="ident" id="3568957">Float32</span><span class="op" id="3568964">,</span>&nbsp;<span class="ident" id="3568966"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3568973">.</span><span class="ident" id="3568974">Float64</span><span class="op" id="3568981">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3568985">return</span>&nbsp;<span class="ident" id="3568992"><a href="/text/template/funcs.go.html#3568562">floatKind</a></span><span class="op" id="3569001">,</span>&nbsp;<span class="ident" id="3569003">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569008">case</span>&nbsp;<span class="ident" id="3569013"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3569020">.</span><span class="ident" id="3569021">Complex64</span><span class="op" id="3569030">,</span>&nbsp;<span class="ident" id="3569032"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3569039">.</span><span class="ident" id="3569040">Complex128</span><span class="op" id="3569050">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569054">return</span>&nbsp;<span class="ident" id="3569061"><a href="/text/template/funcs.go.html#3568540">complexKind</a></span><span class="op" id="3569072">,</span>&nbsp;<span class="ident" id="3569074">nil</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569079">case</span>&nbsp;<span class="ident" id="3569084"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3569091">.</span><span class="ident" id="3569092">String</span><span class="op" id="3569098">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569102">return</span>&nbsp;<span class="ident" id="3569109"><a href="/text/template/funcs.go.html#3568586">stringKind</a></span><span class="op" id="3569119">,</span>&nbsp;<span class="ident" id="3569121">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3569126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569129">return</span>&nbsp;<span class="ident" id="3569136"><a href="/text/template/funcs.go.html#3568505">invalidKind</a></span><span class="op" id="3569147">,</span>&nbsp;<span class="ident" id="3569149"><a href="/text/template/funcs.go.html#3568271">errBadComparisonType</a></span><br>
<span class="lineno"></span><span class="op" id="3569170">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="3569173">//&nbsp;eq&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;==&nbsp;b&nbsp;||&nbsp;a&nbsp;==&nbsp;c&nbsp;||&nbsp;...</span><br>
<span class="lineno"></span><span class="keyword" id="3569228">func</span>&nbsp;<span class="ident" id="3569233">eq</span><span class="op" id="3569235">(</span><span class="ident" id="3569236">arg1</span>&nbsp;<span class="keyword" id="3569241">interface</span><span class="op" id="3569250">{</span><span class="op" id="3569251">}</span><span class="op" id="3569252">,</span>&nbsp;<span class="ident" id="3569254">arg2</span>&nbsp;<span class="op" id="3569259">...</span><span class="keyword" id="3569262">interface</span><span class="op" id="3569271">{</span><span class="op" id="3569272">}</span><span class="op" id="3569273">)</span>&nbsp;<span class="op" id="3569275">(</span><span class="builtintype" id="3569276">bool</span><span class="op" id="3569280">,</span>&nbsp;<span class="builtintype" id="3569282">error</span><span class="op" id="3569287">)</span>&nbsp;<span class="op" id="3569289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3569292">v1</span>&nbsp;<span class="op" id="3569295">:=</span>&nbsp;<span class="ident" id="3569298"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3569305">.</span><span class="ident" id="3569306">ValueOf</span><span class="op" id="3569313">(</span><span class="ident" id="3569314"><a href="/text/template/funcs.go.html#3569236">arg1</a></span><span class="op" id="3569318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3569321">k1</span><span class="op" id="3569323">,</span>&nbsp;<span class="ident" id="3569325">err</span>&nbsp;<span class="op" id="3569329">:=</span>&nbsp;<span class="ident" id="3569332"><a href="/text/template/funcs.go.html#3568615">basicKind</a></span><span class="op" id="3569341">(</span><span class="ident" id="3569342"><a href="/text/template/funcs.go.html#3569292">v1</a></span><span class="op" id="3569344">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569347">if</span>&nbsp;<span class="ident" id="3569350"><a href="/text/template/funcs.go.html#3569325">err</a></span>&nbsp;<span class="op" id="3569354">!=</span>&nbsp;<span class="ident" id="3569357">nil</span>&nbsp;<span class="op" id="3569361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569365">return</span>&nbsp;<span class="ident" id="3569372">false</span><span class="op" id="3569377">,</span>&nbsp;<span class="ident" id="3569379"><a href="/text/template/funcs.go.html#3569325">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3569384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569387">if</span>&nbsp;<span class="builtinfunc" id="3569390">len</span><span class="op" id="3569393">(</span><span class="ident" id="3569394"><a href="/text/template/funcs.go.html#3569254">arg2</a></span><span class="op" id="3569398">)</span>&nbsp;<span class="op" id="3569400">==</span>&nbsp;<span class="num" id="3569403">0</span>&nbsp;<span class="op" id="3569405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569409">return</span>&nbsp;<span class="ident" id="3569416">false</span><span class="op" id="3569421">,</span>&nbsp;<span class="ident" id="3569423"><a href="/text/template/funcs.go.html#3568409">errNoComparison</a></span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3569440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569443">for</span>&nbsp;<span class="ident" id="3569447">_</span><span class="op" id="3569448">,</span>&nbsp;<span class="ident" id="3569450">arg</span>&nbsp;<span class="op" id="3569454">:=</span>&nbsp;<span class="keyword" id="3569457">range</span>&nbsp;<span class="ident" id="3569463"><a href="/text/template/funcs.go.html#3569254">arg2</a></span>&nbsp;<span class="op" id="3569468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3569472">v2</span>&nbsp;<span class="op" id="3569475">:=</span>&nbsp;<span class="ident" id="3569478"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3569485">.</span><span class="ident" id="3569486">ValueOf</span><span class="op" id="3569493">(</span><span class="ident" id="3569494"><a href="/text/template/funcs.go.html#3569450">arg</a></span><span class="op" id="3569497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3569501">k2</span><span class="op" id="3569503">,</span>&nbsp;<span class="ident" id="3569505">err</span>&nbsp;<span class="op" id="3569509">:=</span>&nbsp;<span class="ident" id="3569512"><a href="/text/template/funcs.go.html#3568615">basicKind</a></span><span class="op" id="3569521">(</span><span class="ident" id="3569522"><a href="/text/template/funcs.go.html#3569472">v2</a></span><span class="op" id="3569524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569528">if</span>&nbsp;<span class="ident" id="3569531"><a href="/text/template/funcs.go.html#3569505">err</a></span>&nbsp;<span class="op" id="3569535">!=</span>&nbsp;<span class="ident" id="3569538">nil</span>&nbsp;<span class="op" id="3569542">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569547">return</span>&nbsp;<span class="ident" id="3569554">false</span><span class="op" id="3569559">,</span>&nbsp;<span class="ident" id="3569561"><a href="/text/template/funcs.go.html#3569505">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3569567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3569571">truth</span>&nbsp;<span class="op" id="3569577">:=</span>&nbsp;<span class="ident" id="3569580">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569588">if</span>&nbsp;<span class="ident" id="3569591"><a href="/text/template/funcs.go.html#3569321">k1</a></span>&nbsp;<span class="op" id="3569594">!=</span>&nbsp;<span class="ident" id="3569597"><a href="/text/template/funcs.go.html#3569501">k2</a></span>&nbsp;<span class="op" id="3569600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3569605">//&nbsp;Special&nbsp;case:&nbsp;Can&nbsp;compare&nbsp;integer&nbsp;values&nbsp;regardless&nbsp;of&nbsp;type&#39;s&nbsp;sign.</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569679">switch</span>&nbsp;<span class="op" id="3569686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569691">case</span>&nbsp;<span class="ident" id="3569696"><a href="/text/template/funcs.go.html#3569321">k1</a></span>&nbsp;<span class="op" id="3569699">==</span>&nbsp;<span class="ident" id="3569702"><a href="/text/template/funcs.go.html#3568553">intKind</a></span>&nbsp;<span class="op" id="3569710">&amp;&amp;</span>&nbsp;<span class="ident" id="3569713"><a href="/text/template/funcs.go.html#3569501">k2</a></span>&nbsp;<span class="op" id="3569716">==</span>&nbsp;<span class="ident" id="3569719"><a href="/text/template/funcs.go.html#3568598">uintKind</a></span><span class="op" id="3569727">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3569733"><a href="/text/template/funcs.go.html#3569571">truth</a></span>&nbsp;<span class="op" id="3569739">=</span>&nbsp;<span class="ident" id="3569741"><a href="/text/template/funcs.go.html#3569292">v1</a></span><span class="op" id="3569743">.</span><span class="ident" id="3569744">Int</span><span class="op" id="3569747">(</span><span class="op" id="3569748">)</span>&nbsp;<span class="op" id="3569750">&gt;=</span>&nbsp;<span class="num" id="3569753">0</span>&nbsp;<span class="op" id="3569755">&amp;&amp;</span>&nbsp;<span class="ident" id="3569758">uint64</span><span class="op" id="3569764">(</span><span class="ident" id="3569765"><a href="/text/template/funcs.go.html#3569292">v1</a></span><span class="op" id="3569767">.</span><span class="ident" id="3569768">Int</span><span class="op" id="3569771">(</span><span class="op" id="3569772">)</span><span class="op" id="3569773">)</span>&nbsp;<span class="op" id="3569775">==</span>&nbsp;<span class="ident" id="3569778"><a href="/text/template/funcs.go.html#3569472">v2</a></span><span class="op" id="3569780">.</span><span class="ident" id="3569781">Uint</span><span class="op" id="3569785">(</span><span class="op" id="3569786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569791">case</span>&nbsp;<span class="ident" id="3569796"><a href="/text/template/funcs.go.html#3569321">k1</a></span>&nbsp;<span class="op" id="3569799">==</span>&nbsp;<span class="ident" id="3569802"><a href="/text/template/funcs.go.html#3568598">uintKind</a></span>&nbsp;<span class="op" id="3569811">&amp;&amp;</span>&nbsp;<span class="ident" id="3569814"><a href="/text/template/funcs.go.html#3569501">k2</a></span>&nbsp;<span class="op" id="3569817">==</span>&nbsp;<span class="ident" id="3569820"><a href="/text/template/funcs.go.html#3568553">intKind</a></span><span class="op" id="3569827">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3569833"><a href="/text/template/funcs.go.html#3569571">truth</a></span>&nbsp;<span class="op" id="3569839">=</span>&nbsp;<span class="ident" id="3569841"><a href="/text/template/funcs.go.html#3569472">v2</a></span><span class="op" id="3569843">.</span><span class="ident" id="3569844">Int</span><span class="op" id="3569847">(</span><span class="op" id="3569848">)</span>&nbsp;<span class="op" id="3569850">&gt;=</span>&nbsp;<span class="num" id="3569853">0</span>&nbsp;<span class="op" id="3569855">&amp;&amp;</span>&nbsp;<span class="ident" id="3569858"><a href="/text/template/funcs.go.html#3569292">v1</a></span><span class="op" id="3569860">.</span><span class="ident" id="3569861">Uint</span><span class="op" id="3569865">(</span><span class="op" id="3569866">)</span>&nbsp;<span class="op" id="3569868">==</span>&nbsp;<span class="ident" id="3569871">uint64</span><span class="op" id="3569877">(</span><span class="ident" id="3569878"><a href="/text/template/funcs.go.html#3569472">v2</a></span><span class="op" id="3569880">.</span><span class="ident" id="3569881">Int</span><span class="op" id="3569884">(</span><span class="op" id="3569885">)</span><span class="op" id="3569886">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569891">default</span><span class="op" id="3569898">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569904">return</span>&nbsp;<span class="ident" id="3569911">false</span><span class="op" id="3569916">,</span>&nbsp;<span class="ident" id="3569918"><a href="/text/template/funcs.go.html#3568337">errBadComparison</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3569938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3569942">}</span>&nbsp;<span class="keyword" id="3569944">else</span>&nbsp;<span class="op" id="3569949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569954">switch</span>&nbsp;<span class="ident" id="3569961"><a href="/text/template/funcs.go.html#3569321">k1</a></span>&nbsp;<span class="op" id="3569964">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3569969">case</span>&nbsp;<span class="ident" id="3569974"><a href="/text/template/funcs.go.html#3568530">boolKind</a></span><span class="op" id="3569982">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3569988"><a href="/text/template/funcs.go.html#3569571">truth</a></span>&nbsp;<span class="op" id="3569994">=</span>&nbsp;<span class="ident" id="3569996"><a href="/text/template/funcs.go.html#3569292">v1</a></span><span class="op" id="3569998">.</span><span class="ident" id="3569999">Bool</span><span class="op" id="3570003">(</span><span class="op" id="3570004">)</span>&nbsp;<span class="op" id="3570006">==</span>&nbsp;<span class="ident" id="3570009"><a href="/text/template/funcs.go.html#3569472">v2</a></span><span class="op" id="3570011">.</span><span class="ident" id="3570012">Bool</span><span class="op" id="3570016">(</span><span class="op" id="3570017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570022">case</span>&nbsp;<span class="ident" id="3570027"><a href="/text/template/funcs.go.html#3568540">complexKind</a></span><span class="op" id="3570038">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570044"><a href="/text/template/funcs.go.html#3569571">truth</a></span>&nbsp;<span class="op" id="3570050">=</span>&nbsp;<span class="ident" id="3570052"><a href="/text/template/funcs.go.html#3569292">v1</a></span><span class="op" id="3570054">.</span><span class="ident" id="3570055">Complex</span><span class="op" id="3570062">(</span><span class="op" id="3570063">)</span>&nbsp;<span class="op" id="3570065">==</span>&nbsp;<span class="ident" id="3570068"><a href="/text/template/funcs.go.html#3569472">v2</a></span><span class="op" id="3570070">.</span><span class="ident" id="3570071">Complex</span><span class="op" id="3570078">(</span><span class="op" id="3570079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570084">case</span>&nbsp;<span class="ident" id="3570089"><a href="/text/template/funcs.go.html#3568562">floatKind</a></span><span class="op" id="3570098">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570104"><a href="/text/template/funcs.go.html#3569571">truth</a></span>&nbsp;<span class="op" id="3570110">=</span>&nbsp;<span class="ident" id="3570112"><a href="/text/template/funcs.go.html#3569292">v1</a></span><span class="op" id="3570114">.</span><span class="ident" id="3570115">Float</span><span class="op" id="3570120">(</span><span class="op" id="3570121">)</span>&nbsp;<span class="op" id="3570123">==</span>&nbsp;<span class="ident" id="3570126"><a href="/text/template/funcs.go.html#3569472">v2</a></span><span class="op" id="3570128">.</span><span class="ident" id="3570129">Float</span><span class="op" id="3570134">(</span><span class="op" id="3570135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570140">case</span>&nbsp;<span class="ident" id="3570145"><a href="/text/template/funcs.go.html#3568553">intKind</a></span><span class="op" id="3570152">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570158"><a href="/text/template/funcs.go.html#3569571">truth</a></span>&nbsp;<span class="op" id="3570164">=</span>&nbsp;<span class="ident" id="3570166"><a href="/text/template/funcs.go.html#3569292">v1</a></span><span class="op" id="3570168">.</span><span class="ident" id="3570169">Int</span><span class="op" id="3570172">(</span><span class="op" id="3570173">)</span>&nbsp;<span class="op" id="3570175">==</span>&nbsp;<span class="ident" id="3570178"><a href="/text/template/funcs.go.html#3569472">v2</a></span><span class="op" id="3570180">.</span><span class="ident" id="3570181">Int</span><span class="op" id="3570184">(</span><span class="op" id="3570185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570190">case</span>&nbsp;<span class="ident" id="3570195"><a href="/text/template/funcs.go.html#3568586">stringKind</a></span><span class="op" id="3570205">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570211"><a href="/text/template/funcs.go.html#3569571">truth</a></span>&nbsp;<span class="op" id="3570217">=</span>&nbsp;<span class="ident" id="3570219"><a href="/text/template/funcs.go.html#3569292">v1</a></span><span class="op" id="3570221">.</span><span class="ident" id="3570222">String</span><span class="op" id="3570228">(</span><span class="op" id="3570229">)</span>&nbsp;<span class="op" id="3570231">==</span>&nbsp;<span class="ident" id="3570234"><a href="/text/template/funcs.go.html#3569472">v2</a></span><span class="op" id="3570236">.</span><span class="ident" id="3570237">String</span><span class="op" id="3570243">(</span><span class="op" id="3570244">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570249">case</span>&nbsp;<span class="ident" id="3570254"><a href="/text/template/funcs.go.html#3568598">uintKind</a></span><span class="op" id="3570262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570268"><a href="/text/template/funcs.go.html#3569571">truth</a></span>&nbsp;<span class="op" id="3570274">=</span>&nbsp;<span class="ident" id="3570276"><a href="/text/template/funcs.go.html#3569292">v1</a></span><span class="op" id="3570278">.</span><span class="ident" id="3570279">Uint</span><span class="op" id="3570283">(</span><span class="op" id="3570284">)</span>&nbsp;<span class="op" id="3570286">==</span>&nbsp;<span class="ident" id="3570289"><a href="/text/template/funcs.go.html#3569472">v2</a></span><span class="op" id="3570291">.</span><span class="ident" id="3570292">Uint</span><span class="op" id="3570296">(</span><span class="op" id="3570297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570302">default</span><span class="op" id="3570309">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3570315">panic</span><span class="op" id="3570320">(</span><span class="string" id="3570321">&#34;invalid&nbsp;kind&#34;</span><span class="op" id="3570335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3570340">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3570344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570348">if</span>&nbsp;<span class="ident" id="3570351"><a href="/text/template/funcs.go.html#3569571">truth</a></span>&nbsp;<span class="op" id="3570357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570362">return</span>&nbsp;<span class="ident" id="3570369">true</span><span class="op" id="3570373">,</span>&nbsp;<span class="ident" id="3570375">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3570381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3570384">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570387">return</span>&nbsp;<span class="ident" id="3570394">false</span><span class="op" id="3570399">,</span>&nbsp;<span class="ident" id="3570401">nil</span><br>
<span class="lineno"></span><span class="op" id="3570405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3570408">//&nbsp;ne&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;!=&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3570447">func</span>&nbsp;<span class="ident" id="3570452">ne</span><span class="op" id="3570454">(</span><span class="ident" id="3570455">arg1</span><span class="op" id="3570459">,</span>&nbsp;<span class="ident" id="3570461">arg2</span>&nbsp;<span class="keyword" id="3570466">interface</span><span class="op" id="3570475">{</span><span class="op" id="3570476">}</span><span class="op" id="3570477">)</span>&nbsp;<span class="op" id="3570479">(</span><span class="builtintype" id="3570480">bool</span><span class="op" id="3570484">,</span>&nbsp;<span class="builtintype" id="3570486">error</span><span class="op" id="3570491">)</span>&nbsp;<span class="op" id="3570493">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3570496">//&nbsp;!=&nbsp;is&nbsp;the&nbsp;inverse&nbsp;of&nbsp;==.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570525">equal</span><span class="op" id="3570530">,</span>&nbsp;<span class="ident" id="3570532">err</span>&nbsp;<span class="op" id="3570536">:=</span>&nbsp;<span class="ident" id="3570539"><a href="/text/template/funcs.go.html#3569233">eq</a></span><span class="op" id="3570541">(</span><span class="ident" id="3570542"><a href="/text/template/funcs.go.html#3570455">arg1</a></span><span class="op" id="3570546">,</span>&nbsp;<span class="ident" id="3570548"><a href="/text/template/funcs.go.html#3570461">arg2</a></span><span class="op" id="3570552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570555">return</span>&nbsp;<span class="op" id="3570562">!</span><span class="ident" id="3570563"><a href="/text/template/funcs.go.html#3570525">equal</a></span><span class="op" id="3570568">,</span>&nbsp;<span class="ident" id="3570570"><a href="/text/template/funcs.go.html#3570532">err</a></span><br>
<span class="lineno"></span><span class="op" id="3570574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="3570577">//&nbsp;lt&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;&lt;&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3570615">func</span>&nbsp;<span class="ident" id="3570620">lt</span><span class="op" id="3570622">(</span><span class="ident" id="3570623">arg1</span><span class="op" id="3570627">,</span>&nbsp;<span class="ident" id="3570629">arg2</span>&nbsp;<span class="keyword" id="3570634">interface</span><span class="op" id="3570643">{</span><span class="op" id="3570644">}</span><span class="op" id="3570645">)</span>&nbsp;<span class="op" id="3570647">(</span><span class="builtintype" id="3570648">bool</span><span class="op" id="3570652">,</span>&nbsp;<span class="builtintype" id="3570654">error</span><span class="op" id="3570659">)</span>&nbsp;<span class="op" id="3570661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570664">v1</span>&nbsp;<span class="op" id="3570667">:=</span>&nbsp;<span class="ident" id="3570670"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3570677">.</span><span class="ident" id="3570678">ValueOf</span><span class="op" id="3570685">(</span><span class="ident" id="3570686"><a href="/text/template/funcs.go.html#3570623">arg1</a></span><span class="op" id="3570690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570693">k1</span><span class="op" id="3570695">,</span>&nbsp;<span class="ident" id="3570697">err</span>&nbsp;<span class="op" id="3570701">:=</span>&nbsp;<span class="ident" id="3570704"><a href="/text/template/funcs.go.html#3568615">basicKind</a></span><span class="op" id="3570713">(</span><span class="ident" id="3570714"><a href="/text/template/funcs.go.html#3570664">v1</a></span><span class="op" id="3570716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570719">if</span>&nbsp;<span class="ident" id="3570722"><a href="/text/template/funcs.go.html#3570697">err</a></span>&nbsp;<span class="op" id="3570726">!=</span>&nbsp;<span class="ident" id="3570729">nil</span>&nbsp;<span class="op" id="3570733">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570737">return</span>&nbsp;<span class="ident" id="3570744">false</span><span class="op" id="3570749">,</span>&nbsp;<span class="ident" id="3570751"><a href="/text/template/funcs.go.html#3570697">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3570756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570759">v2</span>&nbsp;<span class="op" id="3570762">:=</span>&nbsp;<span class="ident" id="3570765"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3570772">.</span><span class="ident" id="3570773">ValueOf</span><span class="op" id="3570780">(</span><span class="ident" id="3570781"><a href="/text/template/funcs.go.html#3570629">arg2</a></span><span class="op" id="3570785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570788">k2</span><span class="op" id="3570790">,</span>&nbsp;<span class="ident" id="3570792"><a href="/text/template/funcs.go.html#3570697">err</a></span>&nbsp;<span class="op" id="3570796">:=</span>&nbsp;<span class="ident" id="3570799"><a href="/text/template/funcs.go.html#3568615">basicKind</a></span><span class="op" id="3570808">(</span><span class="ident" id="3570809"><a href="/text/template/funcs.go.html#3570759">v2</a></span><span class="op" id="3570811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570814">if</span>&nbsp;<span class="ident" id="3570817"><a href="/text/template/funcs.go.html#3570697">err</a></span>&nbsp;<span class="op" id="3570821">!=</span>&nbsp;<span class="ident" id="3570824">nil</span>&nbsp;<span class="op" id="3570828">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570832">return</span>&nbsp;<span class="ident" id="3570839">false</span><span class="op" id="3570844">,</span>&nbsp;<span class="ident" id="3570846"><a href="/text/template/funcs.go.html#3570697">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3570851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3570854">truth</span>&nbsp;<span class="op" id="3570860">:=</span>&nbsp;<span class="ident" id="3570863">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570870">if</span>&nbsp;<span class="ident" id="3570873"><a href="/text/template/funcs.go.html#3570693">k1</a></span>&nbsp;<span class="op" id="3570876">!=</span>&nbsp;<span class="ident" id="3570879"><a href="/text/template/funcs.go.html#3570788">k2</a></span>&nbsp;<span class="op" id="3570882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3570886">//&nbsp;Special&nbsp;case:&nbsp;Can&nbsp;compare&nbsp;integer&nbsp;values&nbsp;regardless&nbsp;of&nbsp;type&#39;s&nbsp;sign.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570959">switch</span>&nbsp;<span class="op" id="3570966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3570970">case</span>&nbsp;<span class="ident" id="3570975"><a href="/text/template/funcs.go.html#3570693">k1</a></span>&nbsp;<span class="op" id="3570978">==</span>&nbsp;<span class="ident" id="3570981"><a href="/text/template/funcs.go.html#3568553">intKind</a></span>&nbsp;<span class="op" id="3570989">&amp;&amp;</span>&nbsp;<span class="ident" id="3570992"><a href="/text/template/funcs.go.html#3570788">k2</a></span>&nbsp;<span class="op" id="3570995">==</span>&nbsp;<span class="ident" id="3570998"><a href="/text/template/funcs.go.html#3568598">uintKind</a></span><span class="op" id="3571006">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3571011"><a href="/text/template/funcs.go.html#3570854">truth</a></span>&nbsp;<span class="op" id="3571017">=</span>&nbsp;<span class="ident" id="3571019"><a href="/text/template/funcs.go.html#3570664">v1</a></span><span class="op" id="3571021">.</span><span class="ident" id="3571022">Int</span><span class="op" id="3571025">(</span><span class="op" id="3571026">)</span>&nbsp;<span class="op" id="3571028">&lt;</span>&nbsp;<span class="num" id="3571030">0</span>&nbsp;<span class="op" id="3571032">||</span>&nbsp;<span class="ident" id="3571035">uint64</span><span class="op" id="3571041">(</span><span class="ident" id="3571042"><a href="/text/template/funcs.go.html#3570664">v1</a></span><span class="op" id="3571044">.</span><span class="ident" id="3571045">Int</span><span class="op" id="3571048">(</span><span class="op" id="3571049">)</span><span class="op" id="3571050">)</span>&nbsp;<span class="op" id="3571052">&lt;</span>&nbsp;<span class="ident" id="3571054"><a href="/text/template/funcs.go.html#3570759">v2</a></span><span class="op" id="3571056">.</span><span class="ident" id="3571057">Uint</span><span class="op" id="3571061">(</span><span class="op" id="3571062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571066">case</span>&nbsp;<span class="ident" id="3571071"><a href="/text/template/funcs.go.html#3570693">k1</a></span>&nbsp;<span class="op" id="3571074">==</span>&nbsp;<span class="ident" id="3571077"><a href="/text/template/funcs.go.html#3568598">uintKind</a></span>&nbsp;<span class="op" id="3571086">&amp;&amp;</span>&nbsp;<span class="ident" id="3571089"><a href="/text/template/funcs.go.html#3570788">k2</a></span>&nbsp;<span class="op" id="3571092">==</span>&nbsp;<span class="ident" id="3571095"><a href="/text/template/funcs.go.html#3568553">intKind</a></span><span class="op" id="3571102">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3571107"><a href="/text/template/funcs.go.html#3570854">truth</a></span>&nbsp;<span class="op" id="3571113">=</span>&nbsp;<span class="ident" id="3571115"><a href="/text/template/funcs.go.html#3570759">v2</a></span><span class="op" id="3571117">.</span><span class="ident" id="3571118">Int</span><span class="op" id="3571121">(</span><span class="op" id="3571122">)</span>&nbsp;<span class="op" id="3571124">&gt;=</span>&nbsp;<span class="num" id="3571127">0</span>&nbsp;<span class="op" id="3571129">&amp;&amp;</span>&nbsp;<span class="ident" id="3571132"><a href="/text/template/funcs.go.html#3570664">v1</a></span><span class="op" id="3571134">.</span><span class="ident" id="3571135">Uint</span><span class="op" id="3571139">(</span><span class="op" id="3571140">)</span>&nbsp;<span class="op" id="3571142">&lt;</span>&nbsp;<span class="ident" id="3571144">uint64</span><span class="op" id="3571150">(</span><span class="ident" id="3571151"><a href="/text/template/funcs.go.html#3570759">v2</a></span><span class="op" id="3571153">.</span><span class="ident" id="3571154">Int</span><span class="op" id="3571157">(</span><span class="op" id="3571158">)</span><span class="op" id="3571159">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571163">default</span><span class="op" id="3571170">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571175">return</span>&nbsp;<span class="ident" id="3571182">false</span><span class="op" id="3571187">,</span>&nbsp;<span class="ident" id="3571189"><a href="/text/template/funcs.go.html#3568337">errBadComparison</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3571208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3571211">}</span>&nbsp;<span class="keyword" id="3571213">else</span>&nbsp;<span class="op" id="3571218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571222">switch</span>&nbsp;<span class="ident" id="3571229"><a href="/text/template/funcs.go.html#3570693">k1</a></span>&nbsp;<span class="op" id="3571232">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571236">case</span>&nbsp;<span class="ident" id="3571241"><a href="/text/template/funcs.go.html#3568530">boolKind</a></span><span class="op" id="3571249">,</span>&nbsp;<span class="ident" id="3571251"><a href="/text/template/funcs.go.html#3568540">complexKind</a></span><span class="op" id="3571262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571267">return</span>&nbsp;<span class="ident" id="3571274">false</span><span class="op" id="3571279">,</span>&nbsp;<span class="ident" id="3571281"><a href="/text/template/funcs.go.html#3568271">errBadComparisonType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571304">case</span>&nbsp;<span class="ident" id="3571309"><a href="/text/template/funcs.go.html#3568562">floatKind</a></span><span class="op" id="3571318">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3571323"><a href="/text/template/funcs.go.html#3570854">truth</a></span>&nbsp;<span class="op" id="3571329">=</span>&nbsp;<span class="ident" id="3571331"><a href="/text/template/funcs.go.html#3570664">v1</a></span><span class="op" id="3571333">.</span><span class="ident" id="3571334">Float</span><span class="op" id="3571339">(</span><span class="op" id="3571340">)</span>&nbsp;<span class="op" id="3571342">&lt;</span>&nbsp;<span class="ident" id="3571344"><a href="/text/template/funcs.go.html#3570759">v2</a></span><span class="op" id="3571346">.</span><span class="ident" id="3571347">Float</span><span class="op" id="3571352">(</span><span class="op" id="3571353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571357">case</span>&nbsp;<span class="ident" id="3571362"><a href="/text/template/funcs.go.html#3568553">intKind</a></span><span class="op" id="3571369">:</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3571374"><a href="/text/template/funcs.go.html#3570854">truth</a></span>&nbsp;<span class="op" id="3571380">=</span>&nbsp;<span class="ident" id="3571382"><a href="/text/template/funcs.go.html#3570664">v1</a></span><span class="op" id="3571384">.</span><span class="ident" id="3571385">Int</span><span class="op" id="3571388">(</span><span class="op" id="3571389">)</span>&nbsp;<span class="op" id="3571391">&lt;</span>&nbsp;<span class="ident" id="3571393"><a href="/text/template/funcs.go.html#3570759">v2</a></span><span class="op" id="3571395">.</span><span class="ident" id="3571396">Int</span><span class="op" id="3571399">(</span><span class="op" id="3571400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571404">case</span>&nbsp;<span class="ident" id="3571409"><a href="/text/template/funcs.go.html#3568586">stringKind</a></span><span class="op" id="3571419">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3571424"><a href="/text/template/funcs.go.html#3570854">truth</a></span>&nbsp;<span class="op" id="3571430">=</span>&nbsp;<span class="ident" id="3571432"><a href="/text/template/funcs.go.html#3570664">v1</a></span><span class="op" id="3571434">.</span><span class="ident" id="3571435">String</span><span class="op" id="3571441">(</span><span class="op" id="3571442">)</span>&nbsp;<span class="op" id="3571444">&lt;</span>&nbsp;<span class="ident" id="3571446"><a href="/text/template/funcs.go.html#3570759">v2</a></span><span class="op" id="3571448">.</span><span class="ident" id="3571449">String</span><span class="op" id="3571455">(</span><span class="op" id="3571456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571460">case</span>&nbsp;<span class="ident" id="3571465"><a href="/text/template/funcs.go.html#3568598">uintKind</a></span><span class="op" id="3571473">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3571478"><a href="/text/template/funcs.go.html#3570854">truth</a></span>&nbsp;<span class="op" id="3571484">=</span>&nbsp;<span class="ident" id="3571486"><a href="/text/template/funcs.go.html#3570664">v1</a></span><span class="op" id="3571488">.</span><span class="ident" id="3571489">Uint</span><span class="op" id="3571493">(</span><span class="op" id="3571494">)</span>&nbsp;<span class="op" id="3571496">&lt;</span>&nbsp;<span class="ident" id="3571498"><a href="/text/template/funcs.go.html#3570759">v2</a></span><span class="op" id="3571500">.</span><span class="ident" id="3571501">Uint</span><span class="op" id="3571505">(</span><span class="op" id="3571506">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571510">default</span><span class="op" id="3571517">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3571522">panic</span><span class="op" id="3571527">(</span><span class="string" id="3571528">&#34;invalid&nbsp;kind&#34;</span><span class="op" id="3571542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3571546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3571549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571552">return</span>&nbsp;<span class="ident" id="3571559"><a href="/text/template/funcs.go.html#3570854">truth</a></span><span class="op" id="3571564">,</span>&nbsp;<span class="ident" id="3571566">nil</span><br>
<span class="lineno">400</span><span class="op" id="3571570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3571573">//&nbsp;le&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;&lt;=&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3571610">func</span>&nbsp;<span class="ident" id="3571615">le</span><span class="op" id="3571617">(</span><span class="ident" id="3571618">arg1</span><span class="op" id="3571622">,</span>&nbsp;<span class="ident" id="3571624">arg2</span>&nbsp;<span class="keyword" id="3571629">interface</span><span class="op" id="3571638">{</span><span class="op" id="3571639">}</span><span class="op" id="3571640">)</span>&nbsp;<span class="op" id="3571642">(</span><span class="builtintype" id="3571643">bool</span><span class="op" id="3571647">,</span>&nbsp;<span class="builtintype" id="3571649">error</span><span class="op" id="3571654">)</span>&nbsp;<span class="op" id="3571656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3571659">//&nbsp;&lt;=&nbsp;is&nbsp;&lt;&nbsp;or&nbsp;==.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3571678">lessThan</span><span class="op" id="3571686">,</span>&nbsp;<span class="ident" id="3571688">err</span>&nbsp;<span class="op" id="3571692">:=</span>&nbsp;<span class="ident" id="3571695"><a href="/text/template/funcs.go.html#3570620">lt</a></span><span class="op" id="3571697">(</span><span class="ident" id="3571698"><a href="/text/template/funcs.go.html#3571618">arg1</a></span><span class="op" id="3571702">,</span>&nbsp;<span class="ident" id="3571704"><a href="/text/template/funcs.go.html#3571624">arg2</a></span><span class="op" id="3571708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571711">if</span>&nbsp;<span class="ident" id="3571714"><a href="/text/template/funcs.go.html#3571678">lessThan</a></span>&nbsp;<span class="op" id="3571723">||</span>&nbsp;<span class="ident" id="3571726"><a href="/text/template/funcs.go.html#3571688">err</a></span>&nbsp;<span class="op" id="3571730">!=</span>&nbsp;<span class="ident" id="3571733">nil</span>&nbsp;<span class="op" id="3571737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571741">return</span>&nbsp;<span class="ident" id="3571748"><a href="/text/template/funcs.go.html#3571678">lessThan</a></span><span class="op" id="3571756">,</span>&nbsp;<span class="ident" id="3571758"><a href="/text/template/funcs.go.html#3571688">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3571763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571766">return</span>&nbsp;<span class="ident" id="3571773"><a href="/text/template/funcs.go.html#3569233">eq</a></span><span class="op" id="3571775">(</span><span class="ident" id="3571776"><a href="/text/template/funcs.go.html#3571618">arg1</a></span><span class="op" id="3571780">,</span>&nbsp;<span class="ident" id="3571782"><a href="/text/template/funcs.go.html#3571624">arg2</a></span><span class="op" id="3571786">)</span><br>
<span class="lineno">410</span><span class="op" id="3571788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3571791">//&nbsp;gt&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;&gt;&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3571829">func</span>&nbsp;<span class="ident" id="3571834">gt</span><span class="op" id="3571836">(</span><span class="ident" id="3571837">arg1</span><span class="op" id="3571841">,</span>&nbsp;<span class="ident" id="3571843">arg2</span>&nbsp;<span class="keyword" id="3571848">interface</span><span class="op" id="3571857">{</span><span class="op" id="3571858">}</span><span class="op" id="3571859">)</span>&nbsp;<span class="op" id="3571861">(</span><span class="builtintype" id="3571862">bool</span><span class="op" id="3571866">,</span>&nbsp;<span class="builtintype" id="3571868">error</span><span class="op" id="3571873">)</span>&nbsp;<span class="op" id="3571875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3571878">//&nbsp;&gt;&nbsp;is&nbsp;the&nbsp;inverse&nbsp;of&nbsp;&lt;=.</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3571906">lessOrEqual</span><span class="op" id="3571917">,</span>&nbsp;<span class="ident" id="3571919">err</span>&nbsp;<span class="op" id="3571923">:=</span>&nbsp;<span class="ident" id="3571926"><a href="/text/template/funcs.go.html#3571615">le</a></span><span class="op" id="3571928">(</span><span class="ident" id="3571929"><a href="/text/template/funcs.go.html#3571837">arg1</a></span><span class="op" id="3571933">,</span>&nbsp;<span class="ident" id="3571935"><a href="/text/template/funcs.go.html#3571843">arg2</a></span><span class="op" id="3571939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571942">if</span>&nbsp;<span class="ident" id="3571945"><a href="/text/template/funcs.go.html#3571919">err</a></span>&nbsp;<span class="op" id="3571949">!=</span>&nbsp;<span class="ident" id="3571952">nil</span>&nbsp;<span class="op" id="3571956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571960">return</span>&nbsp;<span class="ident" id="3571967">false</span><span class="op" id="3571972">,</span>&nbsp;<span class="ident" id="3571974"><a href="/text/template/funcs.go.html#3571919">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3571979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3571982">return</span>&nbsp;<span class="op" id="3571989">!</span><span class="ident" id="3571990"><a href="/text/template/funcs.go.html#3571906">lessOrEqual</a></span><span class="op" id="3572001">,</span>&nbsp;<span class="ident" id="3572003">nil</span><br>
<span class="lineno">420</span><span class="op" id="3572007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3572010">//&nbsp;ge&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;&gt;=&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3572049">func</span>&nbsp;<span class="ident" id="3572054">ge</span><span class="op" id="3572056">(</span><span class="ident" id="3572057">arg1</span><span class="op" id="3572061">,</span>&nbsp;<span class="ident" id="3572063">arg2</span>&nbsp;<span class="keyword" id="3572068">interface</span><span class="op" id="3572077">{</span><span class="op" id="3572078">}</span><span class="op" id="3572079">)</span>&nbsp;<span class="op" id="3572081">(</span><span class="builtintype" id="3572082">bool</span><span class="op" id="3572086">,</span>&nbsp;<span class="builtintype" id="3572088">error</span><span class="op" id="3572093">)</span>&nbsp;<span class="op" id="3572095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3572098">//&nbsp;&gt;=&nbsp;is&nbsp;the&nbsp;inverse&nbsp;of&nbsp;&lt;.</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572126">lessThan</span><span class="op" id="3572134">,</span>&nbsp;<span class="ident" id="3572136">err</span>&nbsp;<span class="op" id="3572140">:=</span>&nbsp;<span class="ident" id="3572143"><a href="/text/template/funcs.go.html#3570620">lt</a></span><span class="op" id="3572145">(</span><span class="ident" id="3572146"><a href="/text/template/funcs.go.html#3572057">arg1</a></span><span class="op" id="3572150">,</span>&nbsp;<span class="ident" id="3572152"><a href="/text/template/funcs.go.html#3572063">arg2</a></span><span class="op" id="3572156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572159">if</span>&nbsp;<span class="ident" id="3572162"><a href="/text/template/funcs.go.html#3572136">err</a></span>&nbsp;<span class="op" id="3572166">!=</span>&nbsp;<span class="ident" id="3572169">nil</span>&nbsp;<span class="op" id="3572173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572177">return</span>&nbsp;<span class="ident" id="3572184">false</span><span class="op" id="3572189">,</span>&nbsp;<span class="ident" id="3572191"><a href="/text/template/funcs.go.html#3572136">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3572196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572199">return</span>&nbsp;<span class="op" id="3572206">!</span><span class="ident" id="3572207"><a href="/text/template/funcs.go.html#3572126">lessThan</a></span><span class="op" id="3572215">,</span>&nbsp;<span class="ident" id="3572217">nil</span><br>
<span class="lineno">430</span><span class="op" id="3572221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3572224">//&nbsp;HTML&nbsp;escaping.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3572243">var</span>&nbsp;<span class="op" id="3572247">(</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572250">htmlQuot</span>&nbsp;<span class="op" id="3572259">=</span>&nbsp;<span class="op" id="3572261">[</span><span class="op" id="3572262">]</span><span class="builtintype" id="3572263">byte</span><span class="op" id="3572267">(</span><span class="string" id="3572268">&#34;&amp;#34;&#34;</span><span class="op" id="3572275">)</span>&nbsp;<span class="comment" id="3572277">//&nbsp;shorter&nbsp;than&nbsp;&#34;&amp;quot;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572303">htmlApos</span>&nbsp;<span class="op" id="3572312">=</span>&nbsp;<span class="op" id="3572314">[</span><span class="op" id="3572315">]</span><span class="builtintype" id="3572316">byte</span><span class="op" id="3572320">(</span><span class="string" id="3572321">&#34;&amp;#39;&#34;</span><span class="op" id="3572328">)</span>&nbsp;<span class="comment" id="3572330">//&nbsp;shorter&nbsp;than&nbsp;&#34;&amp;apos;&#34;&nbsp;and&nbsp;apos&nbsp;was&nbsp;not&nbsp;in&nbsp;HTML&nbsp;until&nbsp;HTML5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572393">htmlAmp</span>&nbsp;&nbsp;<span class="op" id="3572402">=</span>&nbsp;<span class="op" id="3572404">[</span><span class="op" id="3572405">]</span><span class="builtintype" id="3572406">byte</span><span class="op" id="3572410">(</span><span class="string" id="3572411">&#34;&amp;amp;&#34;</span><span class="op" id="3572418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572421">htmlLt</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3572430">=</span>&nbsp;<span class="op" id="3572432">[</span><span class="op" id="3572433">]</span><span class="builtintype" id="3572434">byte</span><span class="op" id="3572438">(</span><span class="string" id="3572439">&#34;&amp;lt;&#34;</span><span class="op" id="3572445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572448">htmlGt</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3572457">=</span>&nbsp;<span class="op" id="3572459">[</span><span class="op" id="3572460">]</span><span class="builtintype" id="3572461">byte</span><span class="op" id="3572465">(</span><span class="string" id="3572466">&#34;&amp;gt;&#34;</span><span class="op" id="3572472">)</span><br>
<span class="lineno">440</span><span class="op" id="3572474">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3572477">//&nbsp;HTMLEscape&nbsp;writes&nbsp;to&nbsp;w&nbsp;the&nbsp;escaped&nbsp;HTML&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3572557">func</span>&nbsp;<span class="ident" id="3572562">HTMLEscape</span><span class="op" id="3572572">(</span><span class="ident" id="3572573">w</span>&nbsp;<span class="ident" id="3572575"><a href="/text/template/funcs.go.html#3561361">io</a></span><span class="op" id="3572577">.</span><span class="ident" id="3572578">Writer</span><span class="op" id="3572584">,</span>&nbsp;<span class="ident" id="3572586">b</span>&nbsp;<span class="op" id="3572588">[</span><span class="op" id="3572589">]</span><span class="builtintype" id="3572590">byte</span><span class="op" id="3572594">)</span>&nbsp;<span class="op" id="3572596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572599">last</span>&nbsp;<span class="op" id="3572604">:=</span>&nbsp;<span class="num" id="3572607">0</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572610">for</span>&nbsp;<span class="ident" id="3572614">i</span><span class="op" id="3572615">,</span>&nbsp;<span class="ident" id="3572617">c</span>&nbsp;<span class="op" id="3572619">:=</span>&nbsp;<span class="keyword" id="3572622">range</span>&nbsp;<span class="ident" id="3572628"><a href="/text/template/funcs.go.html#3572586">b</a></span>&nbsp;<span class="op" id="3572630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572634">var</span>&nbsp;<span class="ident" id="3572638">html</span>&nbsp;<span class="op" id="3572643">[</span><span class="op" id="3572644">]</span><span class="builtintype" id="3572645">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572652">switch</span>&nbsp;<span class="ident" id="3572659"><a href="/text/template/funcs.go.html#3572617">c</a></span>&nbsp;<span class="op" id="3572661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572665">case</span>&nbsp;<span class="string" id="3572670">&#39;&#34;&#39;</span><span class="op" id="3572673">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572678"><a href="/text/template/funcs.go.html#3572638">html</a></span>&nbsp;<span class="op" id="3572683">=</span>&nbsp;<span class="ident" id="3572685"><a href="/text/template/funcs.go.html#3572250">htmlQuot</a></span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572696">case</span>&nbsp;<span class="string" id="3572701">&#39;\&#39;&#39;</span><span class="op" id="3572705">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572710"><a href="/text/template/funcs.go.html#3572638">html</a></span>&nbsp;<span class="op" id="3572715">=</span>&nbsp;<span class="ident" id="3572717"><a href="/text/template/funcs.go.html#3572303">htmlApos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572728">case</span>&nbsp;<span class="string" id="3572733">&#39;&amp;&#39;</span><span class="op" id="3572736">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572741"><a href="/text/template/funcs.go.html#3572638">html</a></span>&nbsp;<span class="op" id="3572746">=</span>&nbsp;<span class="ident" id="3572748"><a href="/text/template/funcs.go.html#3572393">htmlAmp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572758">case</span>&nbsp;<span class="string" id="3572763">&#39;&lt;&#39;</span><span class="op" id="3572766">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572771"><a href="/text/template/funcs.go.html#3572638">html</a></span>&nbsp;<span class="op" id="3572776">=</span>&nbsp;<span class="ident" id="3572778"><a href="/text/template/funcs.go.html#3572421">htmlLt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572787">case</span>&nbsp;<span class="string" id="3572792">&#39;&gt;&#39;</span><span class="op" id="3572795">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572800"><a href="/text/template/funcs.go.html#3572638">html</a></span>&nbsp;<span class="op" id="3572805">=</span>&nbsp;<span class="ident" id="3572807"><a href="/text/template/funcs.go.html#3572448">htmlGt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572816">default</span><span class="op" id="3572823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3572828">continue</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3572839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572843"><a href="/text/template/funcs.go.html#3572573">w</a></span><span class="op" id="3572844">.</span><span class="ident" id="3572845">Write</span><span class="op" id="3572850">(</span><span class="ident" id="3572851"><a href="/text/template/funcs.go.html#3572586">b</a></span><span class="op" id="3572852">[</span><span class="ident" id="3572853"><a href="/text/template/funcs.go.html#3572599">last</a></span><span class="op" id="3572857">:</span><span class="ident" id="3572858"><a href="/text/template/funcs.go.html#3572614">i</a></span><span class="op" id="3572859">]</span><span class="op" id="3572860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572864"><a href="/text/template/funcs.go.html#3572573">w</a></span><span class="op" id="3572865">.</span><span class="ident" id="3572866">Write</span><span class="op" id="3572871">(</span><span class="ident" id="3572872"><a href="/text/template/funcs.go.html#3572638">html</a></span><span class="op" id="3572876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572880"><a href="/text/template/funcs.go.html#3572599">last</a></span>&nbsp;<span class="op" id="3572885">=</span>&nbsp;<span class="ident" id="3572887"><a href="/text/template/funcs.go.html#3572614">i</a></span>&nbsp;<span class="op" id="3572889">+</span>&nbsp;<span class="num" id="3572891">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3572894">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3572897"><a href="/text/template/funcs.go.html#3572573">w</a></span><span class="op" id="3572898">.</span><span class="ident" id="3572899">Write</span><span class="op" id="3572904">(</span><span class="ident" id="3572905"><a href="/text/template/funcs.go.html#3572586">b</a></span><span class="op" id="3572906">[</span><span class="ident" id="3572907"><a href="/text/template/funcs.go.html#3572599">last</a></span><span class="op" id="3572911">:</span><span class="op" id="3572912">]</span><span class="op" id="3572913">)</span><br>
<span class="lineno"></span><span class="op" id="3572915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3572918">//&nbsp;HTMLEscapeString&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;HTML&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3573000">func</span>&nbsp;<span class="ident" id="3573005">HTMLEscapeString</span><span class="op" id="3573021">(</span><span class="ident" id="3573022">s</span>&nbsp;<span class="builtintype" id="3573024">string</span><span class="op" id="3573030">)</span>&nbsp;<span class="builtintype" id="3573032">string</span>&nbsp;<span class="op" id="3573039">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3573042">//&nbsp;Avoid&nbsp;allocation&nbsp;if&nbsp;we&nbsp;can.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3573074">if</span>&nbsp;<span class="ident" id="3573077"><a href="/text/template/funcs.go.html#3561389">strings</a></span><span class="op" id="3573084">.</span><span class="ident" id="3573085">IndexAny</span><span class="op" id="3573093">(</span><span class="ident" id="3573094"><a href="/text/template/funcs.go.html#3573022">s</a></span><span class="op" id="3573095">,</span>&nbsp;<span class="string" id="3573097">`&#39;&#34;&amp;&lt;&gt;`</span><span class="op" id="3573104">)</span>&nbsp;<span class="op" id="3573106">&lt;</span>&nbsp;<span class="num" id="3573108">0</span>&nbsp;<span class="op" id="3573110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3573114">return</span>&nbsp;<span class="ident" id="3573121"><a href="/text/template/funcs.go.html#3573022">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3573124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3573127">var</span>&nbsp;<span class="ident" id="3573131">b</span>&nbsp;<span class="ident" id="3573133"><a href="/text/template/funcs.go.html#3561335">bytes</a></span><span class="op" id="3573138">.</span><span class="ident" id="3573139">Buffer</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573147"><a href="/text/template/funcs.go.html#3572562">HTMLEscape</a></span><span class="op" id="3573157">(</span><span class="op" id="3573158">&amp;</span><span class="ident" id="3573159"><a href="/text/template/funcs.go.html#3573131">b</a></span><span class="op" id="3573160">,</span>&nbsp;<span class="op" id="3573162">[</span><span class="op" id="3573163">]</span><span class="builtintype" id="3573164">byte</span><span class="op" id="3573168">(</span><span class="ident" id="3573169"><a href="/text/template/funcs.go.html#3573022">s</a></span><span class="op" id="3573170">)</span><span class="op" id="3573171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3573174">return</span>&nbsp;<span class="ident" id="3573181"><a href="/text/template/funcs.go.html#3573131">b</a></span><span class="op" id="3573182">.</span><span class="ident" id="3573183">String</span><span class="op" id="3573189">(</span><span class="op" id="3573190">)</span><br>
<span class="lineno"></span><span class="op" id="3573192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3573195">//&nbsp;HTMLEscaper&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;HTML&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;textual</span><br>
<span class="lineno">480</span><span class="comment" id="3573261">//&nbsp;representation&nbsp;of&nbsp;its&nbsp;arguments.</span><br>
<span class="lineno"></span><span class="keyword" id="3573297">func</span>&nbsp;<span class="ident" id="3573302">HTMLEscaper</span><span class="op" id="3573313">(</span><span class="ident" id="3573314">args</span>&nbsp;<span class="op" id="3573319">...</span><span class="keyword" id="3573322">interface</span><span class="op" id="3573331">{</span><span class="op" id="3573332">}</span><span class="op" id="3573333">)</span>&nbsp;<span class="builtintype" id="3573335">string</span>&nbsp;<span class="op" id="3573342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3573345">return</span>&nbsp;<span class="ident" id="3573352"><a href="/text/template/funcs.go.html#3573005">HTMLEscapeString</a></span><span class="op" id="3573368">(</span><span class="ident" id="3573369"><a href="/text/template/funcs.go.html#3575688">evalArgs</a></span><span class="op" id="3573377">(</span><span class="ident" id="3573378"><a href="/text/template/funcs.go.html#3573314">args</a></span><span class="op" id="3573382">)</span><span class="op" id="3573383">)</span><br>
<span class="lineno"></span><span class="op" id="3573385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">485</span><span class="comment" id="3573388">//&nbsp;JavaScript&nbsp;escaping.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3573413">var</span>&nbsp;<span class="op" id="3573417">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573420">jsLowUni</span>&nbsp;<span class="op" id="3573429">=</span>&nbsp;<span class="op" id="3573431">[</span><span class="op" id="3573432">]</span><span class="builtintype" id="3573433">byte</span><span class="op" id="3573437">(</span><span class="string" id="3573438">`\u00`</span><span class="op" id="3573444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573447">hex</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3573456">=</span>&nbsp;<span class="op" id="3573458">[</span><span class="op" id="3573459">]</span><span class="builtintype" id="3573460">byte</span><span class="op" id="3573464">(</span><span class="string" id="3573465">&#34;0123456789ABCDEF&#34;</span><span class="op" id="3573483">)</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573487">jsBackslash</span>&nbsp;<span class="op" id="3573499">=</span>&nbsp;<span class="op" id="3573501">[</span><span class="op" id="3573502">]</span><span class="builtintype" id="3573503">byte</span><span class="op" id="3573507">(</span><span class="string" id="3573508">`\\`</span><span class="op" id="3573512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573515">jsApos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3573527">=</span>&nbsp;<span class="op" id="3573529">[</span><span class="op" id="3573530">]</span><span class="builtintype" id="3573531">byte</span><span class="op" id="3573535">(</span><span class="string" id="3573536">`\&#39;`</span><span class="op" id="3573540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573543">jsQuot</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3573555">=</span>&nbsp;<span class="op" id="3573557">[</span><span class="op" id="3573558">]</span><span class="builtintype" id="3573559">byte</span><span class="op" id="3573563">(</span><span class="string" id="3573564">`\&#34;`</span><span class="op" id="3573568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573571">jsLt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3573583">=</span>&nbsp;<span class="op" id="3573585">[</span><span class="op" id="3573586">]</span><span class="builtintype" id="3573587">byte</span><span class="op" id="3573591">(</span><span class="string" id="3573592">`\x3C`</span><span class="op" id="3573598">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573601">jsGt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3573613">=</span>&nbsp;<span class="op" id="3573615">[</span><span class="op" id="3573616">]</span><span class="builtintype" id="3573617">byte</span><span class="op" id="3573621">(</span><span class="string" id="3573622">`\x3E`</span><span class="op" id="3573628">)</span><br>
<span class="lineno"></span><span class="op" id="3573630">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3573633">//&nbsp;JSEscape&nbsp;writes&nbsp;to&nbsp;w&nbsp;the&nbsp;escaped&nbsp;JavaScript&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3573717">func</span>&nbsp;<span class="ident" id="3573722">JSEscape</span><span class="op" id="3573730">(</span><span class="ident" id="3573731">w</span>&nbsp;<span class="ident" id="3573733"><a href="/text/template/funcs.go.html#3561361">io</a></span><span class="op" id="3573735">.</span><span class="ident" id="3573736">Writer</span><span class="op" id="3573742">,</span>&nbsp;<span class="ident" id="3573744">b</span>&nbsp;<span class="op" id="3573746">[</span><span class="op" id="3573747">]</span><span class="builtintype" id="3573748">byte</span><span class="op" id="3573752">)</span>&nbsp;<span class="op" id="3573754">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573757">last</span>&nbsp;<span class="op" id="3573762">:=</span>&nbsp;<span class="num" id="3573765">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3573768">for</span>&nbsp;<span class="ident" id="3573772">i</span>&nbsp;<span class="op" id="3573774">:=</span>&nbsp;<span class="num" id="3573777">0</span><span class="op" id="3573778">;</span>&nbsp;<span class="ident" id="3573780"><a href="/text/template/funcs.go.html#3573772">i</a></span>&nbsp;<span class="op" id="3573782">&lt;</span>&nbsp;<span class="builtinfunc" id="3573784">len</span><span class="op" id="3573787">(</span><span class="ident" id="3573788"><a href="/text/template/funcs.go.html#3573744">b</a></span><span class="op" id="3573789">)</span><span class="op" id="3573790">;</span>&nbsp;<span class="ident" id="3573792"><a href="/text/template/funcs.go.html#3573772">i</a></span><span class="op" id="3573793">++</span>&nbsp;<span class="op" id="3573796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573800">c</span>&nbsp;<span class="op" id="3573802">:=</span>&nbsp;<span class="ident" id="3573805"><a href="/text/template/funcs.go.html#3573744">b</a></span><span class="op" id="3573806">[</span><span class="ident" id="3573807"><a href="/text/template/funcs.go.html#3573772">i</a></span><span class="op" id="3573808">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3573813">if</span>&nbsp;<span class="op" id="3573816">!</span><span class="ident" id="3573817"><a href="/text/template/funcs.go.html#3574853">jsIsSpecial</a></span><span class="op" id="3573828">(</span><span class="builtintype" id="3573829">rune</span><span class="op" id="3573833">(</span><span class="ident" id="3573834"><a href="/text/template/funcs.go.html#3573800">c</a></span><span class="op" id="3573835">)</span><span class="op" id="3573836">)</span>&nbsp;<span class="op" id="3573838">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3573843">//&nbsp;fast&nbsp;path:&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3573874">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3573885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3573889"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3573890">.</span><span class="ident" id="3573891">Write</span><span class="op" id="3573896">(</span><span class="ident" id="3573897"><a href="/text/template/funcs.go.html#3573744">b</a></span><span class="op" id="3573898">[</span><span class="ident" id="3573899"><a href="/text/template/funcs.go.html#3573757">last</a></span><span class="op" id="3573903">:</span><span class="ident" id="3573904"><a href="/text/template/funcs.go.html#3573772">i</a></span><span class="op" id="3573905">]</span><span class="op" id="3573906">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3573911">if</span>&nbsp;<span class="ident" id="3573914"><a href="/text/template/funcs.go.html#3573800">c</a></span>&nbsp;<span class="op" id="3573916">&lt;</span>&nbsp;<span class="ident" id="3573918"><a href="/text/template/funcs.go.html#3561411">utf8</a></span><span class="op" id="3573922">.</span><span class="ident" id="3573923">RuneSelf</span>&nbsp;<span class="op" id="3573932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3573937">//&nbsp;Quotes,&nbsp;slashes&nbsp;and&nbsp;angle&nbsp;brackets&nbsp;get&nbsp;quoted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3573990">//&nbsp;Control&nbsp;characters&nbsp;get&nbsp;written&nbsp;as&nbsp;\u00XX.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574038">switch</span>&nbsp;<span class="ident" id="3574045"><a href="/text/template/funcs.go.html#3573800">c</a></span>&nbsp;<span class="op" id="3574047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574052">case</span>&nbsp;<span class="string" id="3574057">&#39;\\&#39;</span><span class="op" id="3574061">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574067"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574068">.</span><span class="ident" id="3574069">Write</span><span class="op" id="3574074">(</span><span class="ident" id="3574075"><a href="/text/template/funcs.go.html#3573487">jsBackslash</a></span><span class="op" id="3574086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574091">case</span>&nbsp;<span class="string" id="3574096">&#39;\&#39;&#39;</span><span class="op" id="3574100">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574106"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574107">.</span><span class="ident" id="3574108">Write</span><span class="op" id="3574113">(</span><span class="ident" id="3574114"><a href="/text/template/funcs.go.html#3573515">jsApos</a></span><span class="op" id="3574120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574125">case</span>&nbsp;<span class="string" id="3574130">&#39;&#34;&#39;</span><span class="op" id="3574133">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574139"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574140">.</span><span class="ident" id="3574141">Write</span><span class="op" id="3574146">(</span><span class="ident" id="3574147"><a href="/text/template/funcs.go.html#3573543">jsQuot</a></span><span class="op" id="3574153">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574158">case</span>&nbsp;<span class="string" id="3574163">&#39;&lt;&#39;</span><span class="op" id="3574166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574172"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574173">.</span><span class="ident" id="3574174">Write</span><span class="op" id="3574179">(</span><span class="ident" id="3574180"><a href="/text/template/funcs.go.html#3573571">jsLt</a></span><span class="op" id="3574184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574189">case</span>&nbsp;<span class="string" id="3574194">&#39;&gt;&#39;</span><span class="op" id="3574197">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574203"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574204">.</span><span class="ident" id="3574205">Write</span><span class="op" id="3574210">(</span><span class="ident" id="3574211"><a href="/text/template/funcs.go.html#3573601">jsGt</a></span><span class="op" id="3574215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574220">default</span><span class="op" id="3574227">:</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574233"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574234">.</span><span class="ident" id="3574235">Write</span><span class="op" id="3574240">(</span><span class="ident" id="3574241"><a href="/text/template/funcs.go.html#3573420">jsLowUni</a></span><span class="op" id="3574249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574255">t</span><span class="op" id="3574256">,</span>&nbsp;<span class="ident" id="3574258">b</span>&nbsp;<span class="op" id="3574260">:=</span>&nbsp;<span class="ident" id="3574263"><a href="/text/template/funcs.go.html#3573800">c</a></span><span class="op" id="3574264">&gt;&gt;</span><span class="num" id="3574266">4</span><span class="op" id="3574267">,</span>&nbsp;<span class="ident" id="3574269"><a href="/text/template/funcs.go.html#3573800">c</a></span><span class="op" id="3574270">&amp;</span><span class="num" id="3574271">0x0f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574280"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574281">.</span><span class="ident" id="3574282">Write</span><span class="op" id="3574287">(</span><span class="ident" id="3574288"><a href="/text/template/funcs.go.html#3573447">hex</a></span><span class="op" id="3574291">[</span><span class="ident" id="3574292"><a href="/text/template/funcs.go.html#3574255">t</a></span>&nbsp;<span class="op" id="3574294">:</span>&nbsp;<span class="ident" id="3574296"><a href="/text/template/funcs.go.html#3574255">t</a></span><span class="op" id="3574297">+</span><span class="num" id="3574298">1</span><span class="op" id="3574299">]</span><span class="op" id="3574300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574306"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574307">.</span><span class="ident" id="3574308">Write</span><span class="op" id="3574313">(</span><span class="ident" id="3574314"><a href="/text/template/funcs.go.html#3573447">hex</a></span><span class="op" id="3574317">[</span><span class="ident" id="3574318"><a href="/text/template/funcs.go.html#3574258">b</a></span>&nbsp;<span class="op" id="3574320">:</span>&nbsp;<span class="ident" id="3574322"><a href="/text/template/funcs.go.html#3574258">b</a></span><span class="op" id="3574323">+</span><span class="num" id="3574324">1</span><span class="op" id="3574325">]</span><span class="op" id="3574326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3574331">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3574335">}</span>&nbsp;<span class="keyword" id="3574337">else</span>&nbsp;<span class="op" id="3574342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3574347">//&nbsp;Unicode&nbsp;rune.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574367">r</span><span class="op" id="3574368">,</span>&nbsp;<span class="ident" id="3574370">size</span>&nbsp;<span class="op" id="3574375">:=</span>&nbsp;<span class="ident" id="3574378"><a href="/text/template/funcs.go.html#3561411">utf8</a></span><span class="op" id="3574382">.</span><span class="ident" id="3574383">DecodeRune</span><span class="op" id="3574393">(</span><span class="ident" id="3574394"><a href="/text/template/funcs.go.html#3573744">b</a></span><span class="op" id="3574395">[</span><span class="ident" id="3574396"><a href="/text/template/funcs.go.html#3573772">i</a></span><span class="op" id="3574397">:</span><span class="op" id="3574398">]</span><span class="op" id="3574399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574404">if</span>&nbsp;<span class="ident" id="3574407"><a href="/text/template/funcs.go.html#3561400">unicode</a></span><span class="op" id="3574414">.</span><span class="ident" id="3574415">IsPrint</span><span class="op" id="3574422">(</span><span class="ident" id="3574423"><a href="/text/template/funcs.go.html#3574367">r</a></span><span class="op" id="3574424">)</span>&nbsp;<span class="op" id="3574426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574432"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574433">.</span><span class="ident" id="3574434">Write</span><span class="op" id="3574439">(</span><span class="ident" id="3574440"><a href="/text/template/funcs.go.html#3573744">b</a></span><span class="op" id="3574441">[</span><span class="ident" id="3574442"><a href="/text/template/funcs.go.html#3573772">i</a></span>&nbsp;<span class="op" id="3574444">:</span>&nbsp;<span class="ident" id="3574446"><a href="/text/template/funcs.go.html#3573772">i</a></span><span class="op" id="3574447">+</span><span class="ident" id="3574448"><a href="/text/template/funcs.go.html#3574370">size</a></span><span class="op" id="3574452">]</span><span class="op" id="3574453">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3574458">}</span>&nbsp;<span class="keyword" id="3574460">else</span>&nbsp;<span class="op" id="3574465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574471"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3574474">.</span><span class="ident" id="3574475">Fprintf</span><span class="op" id="3574482">(</span><span class="ident" id="3574483"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574484">,</span>&nbsp;<span class="string" id="3574486">&#34;\\u%04X&#34;</span><span class="op" id="3574495">,</span>&nbsp;<span class="ident" id="3574497"><a href="/text/template/funcs.go.html#3574367">r</a></span><span class="op" id="3574498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3574503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574508"><a href="/text/template/funcs.go.html#3573772">i</a></span>&nbsp;<span class="op" id="3574510">+=</span>&nbsp;<span class="ident" id="3574513"><a href="/text/template/funcs.go.html#3574370">size</a></span>&nbsp;<span class="op" id="3574518">-</span>&nbsp;<span class="num" id="3574520">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3574524">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574528"><a href="/text/template/funcs.go.html#3573757">last</a></span>&nbsp;<span class="op" id="3574533">=</span>&nbsp;<span class="ident" id="3574535"><a href="/text/template/funcs.go.html#3573772">i</a></span>&nbsp;<span class="op" id="3574537">+</span>&nbsp;<span class="num" id="3574539">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3574542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574545"><a href="/text/template/funcs.go.html#3573731">w</a></span><span class="op" id="3574546">.</span><span class="ident" id="3574547">Write</span><span class="op" id="3574552">(</span><span class="ident" id="3574553"><a href="/text/template/funcs.go.html#3573744">b</a></span><span class="op" id="3574554">[</span><span class="ident" id="3574555"><a href="/text/template/funcs.go.html#3573757">last</a></span><span class="op" id="3574559">:</span><span class="op" id="3574560">]</span><span class="op" id="3574561">)</span><br>
<span class="lineno"></span><span class="op" id="3574563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span><span class="comment" id="3574566">//&nbsp;JSEscapeString&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;JavaScript&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3574652">func</span>&nbsp;<span class="ident" id="3574657">JSEscapeString</span><span class="op" id="3574671">(</span><span class="ident" id="3574672">s</span>&nbsp;<span class="builtintype" id="3574674">string</span><span class="op" id="3574680">)</span>&nbsp;<span class="builtintype" id="3574682">string</span>&nbsp;<span class="op" id="3574689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3574692">//&nbsp;Avoid&nbsp;allocation&nbsp;if&nbsp;we&nbsp;can.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574724">if</span>&nbsp;<span class="ident" id="3574727"><a href="/text/template/funcs.go.html#3561389">strings</a></span><span class="op" id="3574734">.</span><span class="ident" id="3574735">IndexFunc</span><span class="op" id="3574744">(</span><span class="ident" id="3574745"><a href="/text/template/funcs.go.html#3574672">s</a></span><span class="op" id="3574746">,</span>&nbsp;<span class="ident" id="3574748"><a href="/text/template/funcs.go.html#3574853">jsIsSpecial</a></span><span class="op" id="3574759">)</span>&nbsp;<span class="op" id="3574761">&lt;</span>&nbsp;<span class="num" id="3574763">0</span>&nbsp;<span class="op" id="3574765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574769">return</span>&nbsp;<span class="ident" id="3574776"><a href="/text/template/funcs.go.html#3574672">s</a></span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3574779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574782">var</span>&nbsp;<span class="ident" id="3574786">b</span>&nbsp;<span class="ident" id="3574788"><a href="/text/template/funcs.go.html#3561335">bytes</a></span><span class="op" id="3574793">.</span><span class="ident" id="3574794">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574802"><a href="/text/template/funcs.go.html#3573722">JSEscape</a></span><span class="op" id="3574810">(</span><span class="op" id="3574811">&amp;</span><span class="ident" id="3574812"><a href="/text/template/funcs.go.html#3574786">b</a></span><span class="op" id="3574813">,</span>&nbsp;<span class="op" id="3574815">[</span><span class="op" id="3574816">]</span><span class="builtintype" id="3574817">byte</span><span class="op" id="3574821">(</span><span class="ident" id="3574822"><a href="/text/template/funcs.go.html#3574672">s</a></span><span class="op" id="3574823">)</span><span class="op" id="3574824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574827">return</span>&nbsp;<span class="ident" id="3574834"><a href="/text/template/funcs.go.html#3574786">b</a></span><span class="op" id="3574835">.</span><span class="ident" id="3574836">String</span><span class="op" id="3574842">(</span><span class="op" id="3574843">)</span><br>
<span class="lineno"></span><span class="op" id="3574845">}</span><br>
<span class="lineno">555</span><br>
<span class="lineno"></span><span class="keyword" id="3574848">func</span>&nbsp;<span class="ident" id="3574853">jsIsSpecial</span><span class="op" id="3574864">(</span><span class="ident" id="3574865">r</span>&nbsp;<span class="builtintype" id="3574867">rune</span><span class="op" id="3574871">)</span>&nbsp;<span class="builtintype" id="3574873">bool</span>&nbsp;<span class="op" id="3574878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574881">switch</span>&nbsp;<span class="ident" id="3574888"><a href="/text/template/funcs.go.html#3574865">r</a></span>&nbsp;<span class="op" id="3574890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574893">case</span>&nbsp;<span class="string" id="3574898">&#39;\\&#39;</span><span class="op" id="3574902">,</span>&nbsp;<span class="string" id="3574904">&#39;\&#39;&#39;</span><span class="op" id="3574908">,</span>&nbsp;<span class="string" id="3574910">&#39;&#34;&#39;</span><span class="op" id="3574913">,</span>&nbsp;<span class="string" id="3574915">&#39;&lt;&#39;</span><span class="op" id="3574918">,</span>&nbsp;<span class="string" id="3574920">&#39;&gt;&#39;</span><span class="op" id="3574923">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574927">return</span>&nbsp;<span class="ident" id="3574934">true</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3574940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3574943">return</span>&nbsp;<span class="ident" id="3574950"><a href="/text/template/funcs.go.html#3574865">r</a></span>&nbsp;<span class="op" id="3574952">&lt;</span>&nbsp;<span class="string" id="3574954">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3574958">||</span>&nbsp;<span class="ident" id="3574961"><a href="/text/template/funcs.go.html#3561411">utf8</a></span><span class="op" id="3574965">.</span><span class="ident" id="3574966">RuneSelf</span>&nbsp;<span class="op" id="3574975">&lt;=</span>&nbsp;<span class="ident" id="3574978"><a href="/text/template/funcs.go.html#3574865">r</a></span><br>
<span class="lineno"></span><span class="op" id="3574980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3574983">//&nbsp;JSEscaper&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;JavaScript&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;textual</span><br>
<span class="lineno">565</span><span class="comment" id="3575053">//&nbsp;representation&nbsp;of&nbsp;its&nbsp;arguments.</span><br>
<span class="lineno"></span><span class="keyword" id="3575089">func</span>&nbsp;<span class="ident" id="3575094">JSEscaper</span><span class="op" id="3575103">(</span><span class="ident" id="3575104">args</span>&nbsp;<span class="op" id="3575109">...</span><span class="keyword" id="3575112">interface</span><span class="op" id="3575121">{</span><span class="op" id="3575122">}</span><span class="op" id="3575123">)</span>&nbsp;<span class="builtintype" id="3575125">string</span>&nbsp;<span class="op" id="3575132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575135">return</span>&nbsp;<span class="ident" id="3575142"><a href="/text/template/funcs.go.html#3574657">JSEscapeString</a></span><span class="op" id="3575156">(</span><span class="ident" id="3575157"><a href="/text/template/funcs.go.html#3575688">evalArgs</a></span><span class="op" id="3575165">(</span><span class="ident" id="3575166"><a href="/text/template/funcs.go.html#3575104">args</a></span><span class="op" id="3575170">)</span><span class="op" id="3575171">)</span><br>
<span class="lineno"></span><span class="op" id="3575173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">570</span><span class="comment" id="3575176">//&nbsp;URLQueryEscaper&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;value&nbsp;of&nbsp;the&nbsp;textual&nbsp;representation&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3575254">//&nbsp;its&nbsp;arguments&nbsp;in&nbsp;a&nbsp;form&nbsp;suitable&nbsp;for&nbsp;embedding&nbsp;in&nbsp;a&nbsp;URL&nbsp;query.</span><br>
<span class="lineno"></span><span class="keyword" id="3575320">func</span>&nbsp;<span class="ident" id="3575325">URLQueryEscaper</span><span class="op" id="3575340">(</span><span class="ident" id="3575341">args</span>&nbsp;<span class="op" id="3575346">...</span><span class="keyword" id="3575349">interface</span><span class="op" id="3575358">{</span><span class="op" id="3575359">}</span><span class="op" id="3575360">)</span>&nbsp;<span class="builtintype" id="3575362">string</span>&nbsp;<span class="op" id="3575369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575372">return</span>&nbsp;<span class="ident" id="3575379"><a href="/text/template/funcs.go.html#3561367">url</a></span><span class="op" id="3575382">.</span><span class="ident" id="3575383">QueryEscape</span><span class="op" id="3575394">(</span><span class="ident" id="3575395"><a href="/text/template/funcs.go.html#3575688">evalArgs</a></span><span class="op" id="3575403">(</span><span class="ident" id="3575404"><a href="/text/template/funcs.go.html#3575341">args</a></span><span class="op" id="3575408">)</span><span class="op" id="3575409">)</span><br>
<span class="lineno"></span><span class="op" id="3575411">}</span><br>
<span class="lineno">575</span><br>
<span class="lineno"></span><span class="comment" id="3575414">//&nbsp;evalArgs&nbsp;formats&nbsp;the&nbsp;list&nbsp;of&nbsp;arguments&nbsp;into&nbsp;a&nbsp;string.&nbsp;It&nbsp;is&nbsp;therefore&nbsp;equivalent&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3575501">//&nbsp;&nbsp;&nbsp;&nbspfmt.Sprint(args...)</span><br>
<span class="lineno"></span><span class="comment" id="3575524">//&nbsp;except&nbsp;that&nbsp;each&nbsp;argument&nbsp;is&nbsp;indirected&nbsp;(if&nbsp;a&nbsp;pointer),&nbsp;as&nbsp;required,</span><br>
<span class="lineno"></span><span class="comment" id="3575596">//&nbsp;using&nbsp;the&nbsp;same&nbsp;rules&nbsp;as&nbsp;the&nbsp;default&nbsp;string&nbsp;evaluation&nbsp;during&nbsp;template</span><br>
<span class="lineno">580</span><span class="comment" id="3575669">//&nbsp;execution.</span><br>
<span class="lineno"></span><span class="keyword" id="3575683">func</span>&nbsp;<span class="ident" id="3575688">evalArgs</span><span class="op" id="3575696">(</span><span class="ident" id="3575697">args</span>&nbsp;<span class="op" id="3575702">[</span><span class="op" id="3575703">]</span><span class="keyword" id="3575704">interface</span><span class="op" id="3575713">{</span><span class="op" id="3575714">}</span><span class="op" id="3575715">)</span>&nbsp;<span class="builtintype" id="3575717">string</span>&nbsp;<span class="op" id="3575724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575727">ok</span>&nbsp;<span class="op" id="3575730">:=</span>&nbsp;<span class="ident" id="3575733">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575740">var</span>&nbsp;<span class="ident" id="3575744">s</span>&nbsp;<span class="builtintype" id="3575746">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3575754">//&nbsp;Fast&nbsp;path&nbsp;for&nbsp;simple&nbsp;common&nbsp;case.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575792">if</span>&nbsp;<span class="builtinfunc" id="3575795">len</span><span class="op" id="3575798">(</span><span class="ident" id="3575799"><a href="/text/template/funcs.go.html#3575697">args</a></span><span class="op" id="3575803">)</span>&nbsp;<span class="op" id="3575805">==</span>&nbsp;<span class="num" id="3575808">1</span>&nbsp;<span class="op" id="3575810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575814"><a href="/text/template/funcs.go.html#3575744">s</a></span><span class="op" id="3575815">,</span>&nbsp;<span class="ident" id="3575817"><a href="/text/template/funcs.go.html#3575727">ok</a></span>&nbsp;<span class="op" id="3575820">=</span>&nbsp;<span class="ident" id="3575822"><a href="/text/template/funcs.go.html#3575697">args</a></span><span class="op" id="3575826">[</span><span class="num" id="3575827">0</span><span class="op" id="3575828">]</span><span class="op" id="3575829">.</span><span class="op" id="3575830">(</span><span class="builtintype" id="3575831">string</span><span class="op" id="3575837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3575840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575843">if</span>&nbsp;<span class="op" id="3575846">!</span><span class="ident" id="3575847"><a href="/text/template/funcs.go.html#3575727">ok</a></span>&nbsp;<span class="op" id="3575850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575854">for</span>&nbsp;<span class="ident" id="3575858">i</span><span class="op" id="3575859">,</span>&nbsp;<span class="ident" id="3575861">arg</span>&nbsp;<span class="op" id="3575865">:=</span>&nbsp;<span class="keyword" id="3575868">range</span>&nbsp;<span class="ident" id="3575874"><a href="/text/template/funcs.go.html#3575697">args</a></span>&nbsp;<span class="op" id="3575879">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575884">a</span><span class="op" id="3575885">,</span>&nbsp;<span class="ident" id="3575887">ok</span>&nbsp;<span class="op" id="3575890">:=</span>&nbsp;<span class="ident" id="3575893"><a href="/text/template/exec.go.html#3559413">printableValue</a></span><span class="op" id="3575907">(</span><span class="ident" id="3575908"><a href="/text/template/funcs.go.html#3561378">reflect</a></span><span class="op" id="3575915">.</span><span class="ident" id="3575916">ValueOf</span><span class="op" id="3575923">(</span><span class="ident" id="3575924"><a href="/text/template/funcs.go.html#3575861">arg</a></span><span class="op" id="3575927">)</span><span class="op" id="3575928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575933">if</span>&nbsp;<span class="ident" id="3575936"><a href="/text/template/funcs.go.html#3575887">ok</a></span>&nbsp;<span class="op" id="3575939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575945"><a href="/text/template/funcs.go.html#3575697">args</a></span><span class="op" id="3575949">[</span><span class="ident" id="3575950"><a href="/text/template/funcs.go.html#3575858">i</a></span><span class="op" id="3575951">]</span>&nbsp;<span class="op" id="3575953">=</span>&nbsp;<span class="ident" id="3575955"><a href="/text/template/funcs.go.html#3575884">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3575960">}</span>&nbsp;<span class="comment" id="3575962">//&nbsp;else&nbsp;left&nbsp;fmt&nbsp;do&nbsp;its&nbsp;thing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3575994">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575998"><a href="/text/template/funcs.go.html#3575744">s</a></span>&nbsp;<span class="op" id="3576000">=</span>&nbsp;<span class="ident" id="3576002"><a href="/text/template/funcs.go.html#3561354">fmt</a></span><span class="op" id="3576005">.</span><span class="ident" id="3576006">Sprint</span><span class="op" id="3576012">(</span><span class="ident" id="3576013"><a href="/text/template/funcs.go.html#3575697">args</a></span><span class="op" id="3576017">...</span><span class="op" id="3576020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3576023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3576026">return</span>&nbsp;<span class="ident" id="3576033"><a href="/text/template/funcs.go.html#3575744">s</a></span><br>
<span class="lineno"></span><span class="op" id="3576035">}</span>
</div>
</body>
</html>
