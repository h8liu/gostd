<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6466575">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6466630">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6466684">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6466735">package</span>&nbsp;<span class="ident" id="6466743">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6466749">import</span>&nbsp;<span class="op" id="6466756">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6466759">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6466768">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6466783">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6466793">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6466796">const</span>&nbsp;<span class="op" id="6466802">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6466805">dstw</span><span class="op" id="6466809">,</span>&nbsp;<span class="ident" id="6466811">dsth</span>&nbsp;<span class="op" id="6466816">=</span>&nbsp;<span class="num" id="6466818">640</span><span class="op" id="6466821">,</span>&nbsp;<span class="num" id="6466823">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6466828">srcw</span><span class="op" id="6466832">,</span>&nbsp;<span class="ident" id="6466834">srch</span>&nbsp;<span class="op" id="6466839">=</span>&nbsp;<span class="num" id="6466841">400</span><span class="op" id="6466844">,</span>&nbsp;<span class="num" id="6466846">300</span><br>
<span class="lineno"></span><span class="op" id="6466850">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6466853">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6466927">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="6466989">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="6467055">func</span>&nbsp;<span class="ident" id="6467060">bench</span><span class="op" id="6467065">(</span><span class="ident" id="6467066">b</span>&nbsp;<span class="op" id="6467068">*</span><span class="ident" id="6467069">testing</span><span class="op" id="6467076">.</span><span class="ident" id="6467077">B</span><span class="op" id="6467078">,</span>&nbsp;<span class="ident" id="6467080">dcm</span><span class="op" id="6467083">,</span>&nbsp;<span class="ident" id="6467085">scm</span><span class="op" id="6467088">,</span>&nbsp;<span class="ident" id="6467090">mcm</span>&nbsp;<span class="ident" id="6467094">color</span><span class="op" id="6467099">.</span><span class="ident" id="6467100">Model</span><span class="op" id="6467105">,</span>&nbsp;<span class="ident" id="6467107">op</span>&nbsp;<span class="ident" id="6467110">Op</span><span class="op" id="6467112">)</span>&nbsp;<span class="op" id="6467114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467117">b</span><span class="op" id="6467118">.</span><span class="ident" id="6467119">StopTimer</span><span class="op" id="6467128">(</span><span class="op" id="6467129">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467133">var</span>&nbsp;<span class="ident" id="6467137">dst</span>&nbsp;<span class="ident" id="6467141">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467148">switch</span>&nbsp;<span class="ident" id="6467155">dcm</span>&nbsp;<span class="op" id="6467159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467162">case</span>&nbsp;<span class="ident" id="6467167">color</span><span class="op" id="6467172">.</span><span class="ident" id="6467173">RGBAModel</span><span class="op" id="6467182">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467186">dst1</span>&nbsp;<span class="op" id="6467191">:=</span>&nbsp;<span class="ident" id="6467194">image</span><span class="op" id="6467199">.</span><span class="ident" id="6467200">NewRGBA</span><span class="op" id="6467207">(</span><span class="ident" id="6467208">image</span><span class="op" id="6467213">.</span><span class="ident" id="6467214">Rect</span><span class="op" id="6467218">(</span><span class="num" id="6467219">0</span><span class="op" id="6467220">,</span>&nbsp;<span class="num" id="6467222">0</span><span class="op" id="6467223">,</span>&nbsp;<span class="ident" id="6467225">dstw</span><span class="op" id="6467229">,</span>&nbsp;<span class="ident" id="6467231">dsth</span><span class="op" id="6467235">)</span><span class="op" id="6467236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467240">for</span>&nbsp;<span class="ident" id="6467244">y</span>&nbsp;<span class="op" id="6467246">:=</span>&nbsp;<span class="num" id="6467249">0</span><span class="op" id="6467250">;</span>&nbsp;<span class="ident" id="6467252">y</span>&nbsp;<span class="op" id="6467254">&lt;</span>&nbsp;<span class="ident" id="6467256">dsth</span><span class="op" id="6467260">;</span>&nbsp;<span class="ident" id="6467262">y</span><span class="op" id="6467263">++</span>&nbsp;<span class="op" id="6467266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467271">for</span>&nbsp;<span class="ident" id="6467275">x</span>&nbsp;<span class="op" id="6467277">:=</span>&nbsp;<span class="num" id="6467280">0</span><span class="op" id="6467281">;</span>&nbsp;<span class="ident" id="6467283">x</span>&nbsp;<span class="op" id="6467285">&lt;</span>&nbsp;<span class="ident" id="6467287">dstw</span><span class="op" id="6467291">;</span>&nbsp;<span class="ident" id="6467293">x</span><span class="op" id="6467294">++</span>&nbsp;<span class="op" id="6467297">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467303">dst1</span><span class="op" id="6467307">.</span><span class="ident" id="6467308">SetRGBA</span><span class="op" id="6467315">(</span><span class="ident" id="6467316">x</span><span class="op" id="6467317">,</span>&nbsp;<span class="ident" id="6467319">y</span><span class="op" id="6467320">,</span>&nbsp;<span class="ident" id="6467322">color</span><span class="op" id="6467327">.</span><span class="ident" id="6467328">RGBA</span><span class="op" id="6467332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6467339">uint8</span><span class="op" id="6467344">(</span><span class="num" id="6467345">5</span>&nbsp;<span class="op" id="6467347">*</span>&nbsp;<span class="ident" id="6467349">x</span>&nbsp;<span class="op" id="6467351">%</span>&nbsp;<span class="num" id="6467353">0x100</span><span class="op" id="6467358">)</span><span class="op" id="6467359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6467366">uint8</span><span class="op" id="6467371">(</span><span class="num" id="6467372">7</span>&nbsp;<span class="op" id="6467374">*</span>&nbsp;<span class="ident" id="6467376">y</span>&nbsp;<span class="op" id="6467378">%</span>&nbsp;<span class="num" id="6467380">0x100</span><span class="op" id="6467385">)</span><span class="op" id="6467386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6467393">uint8</span><span class="op" id="6467398">(</span><span class="op" id="6467399">(</span><span class="num" id="6467400">7</span><span class="op" id="6467401">*</span><span class="ident" id="6467402">x</span>&nbsp;<span class="op" id="6467404">+</span>&nbsp;<span class="num" id="6467406">5</span><span class="op" id="6467407">*</span><span class="ident" id="6467408">y</span><span class="op" id="6467409">)</span>&nbsp;<span class="op" id="6467411">%</span>&nbsp;<span class="num" id="6467413">0x100</span><span class="op" id="6467418">)</span><span class="op" id="6467419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6467426">0xff</span><span class="op" id="6467430">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467436">}</span><span class="op" id="6467437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467450">dst</span>&nbsp;<span class="op" id="6467454">=</span>&nbsp;<span class="ident" id="6467456">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467462">case</span>&nbsp;<span class="ident" id="6467467">color</span><span class="op" id="6467472">.</span><span class="ident" id="6467473">RGBA64Model</span><span class="op" id="6467484">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467488">dst1</span>&nbsp;<span class="op" id="6467493">:=</span>&nbsp;<span class="ident" id="6467496">image</span><span class="op" id="6467501">.</span><span class="ident" id="6467502">NewRGBA64</span><span class="op" id="6467511">(</span><span class="ident" id="6467512">image</span><span class="op" id="6467517">.</span><span class="ident" id="6467518">Rect</span><span class="op" id="6467522">(</span><span class="num" id="6467523">0</span><span class="op" id="6467524">,</span>&nbsp;<span class="num" id="6467526">0</span><span class="op" id="6467527">,</span>&nbsp;<span class="ident" id="6467529">dstw</span><span class="op" id="6467533">,</span>&nbsp;<span class="ident" id="6467535">dsth</span><span class="op" id="6467539">)</span><span class="op" id="6467540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467544">for</span>&nbsp;<span class="ident" id="6467548">y</span>&nbsp;<span class="op" id="6467550">:=</span>&nbsp;<span class="num" id="6467553">0</span><span class="op" id="6467554">;</span>&nbsp;<span class="ident" id="6467556">y</span>&nbsp;<span class="op" id="6467558">&lt;</span>&nbsp;<span class="ident" id="6467560">dsth</span><span class="op" id="6467564">;</span>&nbsp;<span class="ident" id="6467566">y</span><span class="op" id="6467567">++</span>&nbsp;<span class="op" id="6467570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467575">for</span>&nbsp;<span class="ident" id="6467579">x</span>&nbsp;<span class="op" id="6467581">:=</span>&nbsp;<span class="num" id="6467584">0</span><span class="op" id="6467585">;</span>&nbsp;<span class="ident" id="6467587">x</span>&nbsp;<span class="op" id="6467589">&lt;</span>&nbsp;<span class="ident" id="6467591">dstw</span><span class="op" id="6467595">;</span>&nbsp;<span class="ident" id="6467597">x</span><span class="op" id="6467598">++</span>&nbsp;<span class="op" id="6467601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467607">dst1</span><span class="op" id="6467611">.</span><span class="ident" id="6467612">SetRGBA64</span><span class="op" id="6467621">(</span><span class="ident" id="6467622">x</span><span class="op" id="6467623">,</span>&nbsp;<span class="ident" id="6467625">y</span><span class="op" id="6467626">,</span>&nbsp;<span class="ident" id="6467628">color</span><span class="op" id="6467633">.</span><span class="ident" id="6467634">RGBA64</span><span class="op" id="6467640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6467647">uint16</span><span class="op" id="6467653">(</span><span class="num" id="6467654">53</span>&nbsp;<span class="op" id="6467657">*</span>&nbsp;<span class="ident" id="6467659">x</span>&nbsp;<span class="op" id="6467661">%</span>&nbsp;<span class="num" id="6467663">0x10000</span><span class="op" id="6467670">)</span><span class="op" id="6467671">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6467678">uint16</span><span class="op" id="6467684">(</span><span class="num" id="6467685">59</span>&nbsp;<span class="op" id="6467688">*</span>&nbsp;<span class="ident" id="6467690">y</span>&nbsp;<span class="op" id="6467692">%</span>&nbsp;<span class="num" id="6467694">0x10000</span><span class="op" id="6467701">)</span><span class="op" id="6467702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6467709">uint16</span><span class="op" id="6467715">(</span><span class="op" id="6467716">(</span><span class="num" id="6467717">59</span><span class="op" id="6467719">*</span><span class="ident" id="6467720">x</span>&nbsp;<span class="op" id="6467722">+</span>&nbsp;<span class="num" id="6467724">53</span><span class="op" id="6467726">*</span><span class="ident" id="6467727">y</span><span class="op" id="6467728">)</span>&nbsp;<span class="op" id="6467730">%</span>&nbsp;<span class="num" id="6467732">0x10000</span><span class="op" id="6467739">)</span><span class="op" id="6467740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6467747">0xffff</span><span class="op" id="6467753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467759">}</span><span class="op" id="6467760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467765">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467773">dst</span>&nbsp;<span class="op" id="6467777">=</span>&nbsp;<span class="ident" id="6467779">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467785">default</span><span class="op" id="6467792">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467796">b</span><span class="op" id="6467797">.</span><span class="ident" id="6467798">Fatal</span><span class="op" id="6467803">(</span><span class="string" id="6467804">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="6467837">,</span>&nbsp;<span class="ident" id="6467839">dcm</span><span class="op" id="6467842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467845">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467849">var</span>&nbsp;<span class="ident" id="6467853">src</span>&nbsp;<span class="ident" id="6467857">image</span><span class="op" id="6467862">.</span><span class="ident" id="6467863">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467870">switch</span>&nbsp;<span class="ident" id="6467877">scm</span>&nbsp;<span class="op" id="6467881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467884">case</span>&nbsp;<span class="ident" id="6467889">nil</span><span class="op" id="6467892">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467896">src</span>&nbsp;<span class="op" id="6467900">=</span>&nbsp;<span class="op" id="6467902">&amp;</span><span class="ident" id="6467903">image</span><span class="op" id="6467908">.</span><span class="ident" id="6467909">Uniform</span><span class="op" id="6467916">{</span><span class="ident" id="6467917">C</span><span class="op" id="6467918">:</span>&nbsp;<span class="ident" id="6467920">color</span><span class="op" id="6467925">.</span><span class="ident" id="6467926">RGBA</span><span class="op" id="6467930">{</span><span class="num" id="6467931">0x11</span><span class="op" id="6467935">,</span>&nbsp;<span class="num" id="6467937">0x22</span><span class="op" id="6467941">,</span>&nbsp;<span class="num" id="6467943">0x33</span><span class="op" id="6467947">,</span>&nbsp;<span class="num" id="6467949">0xff</span><span class="op" id="6467953">}</span><span class="op" id="6467954">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467957">case</span>&nbsp;<span class="ident" id="6467962">color</span><span class="op" id="6467967">.</span><span class="ident" id="6467968">RGBAModel</span><span class="op" id="6467977">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467981">src1</span>&nbsp;<span class="op" id="6467986">:=</span>&nbsp;<span class="ident" id="6467989">image</span><span class="op" id="6467994">.</span><span class="ident" id="6467995">NewRGBA</span><span class="op" id="6468002">(</span><span class="ident" id="6468003">image</span><span class="op" id="6468008">.</span><span class="ident" id="6468009">Rect</span><span class="op" id="6468013">(</span><span class="num" id="6468014">0</span><span class="op" id="6468015">,</span>&nbsp;<span class="num" id="6468017">0</span><span class="op" id="6468018">,</span>&nbsp;<span class="ident" id="6468020">srcw</span><span class="op" id="6468024">,</span>&nbsp;<span class="ident" id="6468026">srch</span><span class="op" id="6468030">)</span><span class="op" id="6468031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468035">for</span>&nbsp;<span class="ident" id="6468039">y</span>&nbsp;<span class="op" id="6468041">:=</span>&nbsp;<span class="num" id="6468044">0</span><span class="op" id="6468045">;</span>&nbsp;<span class="ident" id="6468047">y</span>&nbsp;<span class="op" id="6468049">&lt;</span>&nbsp;<span class="ident" id="6468051">srch</span><span class="op" id="6468055">;</span>&nbsp;<span class="ident" id="6468057">y</span><span class="op" id="6468058">++</span>&nbsp;<span class="op" id="6468061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468066">for</span>&nbsp;<span class="ident" id="6468070">x</span>&nbsp;<span class="op" id="6468072">:=</span>&nbsp;<span class="num" id="6468075">0</span><span class="op" id="6468076">;</span>&nbsp;<span class="ident" id="6468078">x</span>&nbsp;<span class="op" id="6468080">&lt;</span>&nbsp;<span class="ident" id="6468082">srcw</span><span class="op" id="6468086">;</span>&nbsp;<span class="ident" id="6468088">x</span><span class="op" id="6468089">++</span>&nbsp;<span class="op" id="6468092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468098">src1</span><span class="op" id="6468102">.</span><span class="ident" id="6468103">SetRGBA</span><span class="op" id="6468110">(</span><span class="ident" id="6468111">x</span><span class="op" id="6468112">,</span>&nbsp;<span class="ident" id="6468114">y</span><span class="op" id="6468115">,</span>&nbsp;<span class="ident" id="6468117">color</span><span class="op" id="6468122">.</span><span class="ident" id="6468123">RGBA</span><span class="op" id="6468127">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6468134">uint8</span><span class="op" id="6468139">(</span><span class="num" id="6468140">13</span>&nbsp;<span class="op" id="6468143">*</span>&nbsp;<span class="ident" id="6468145">x</span>&nbsp;<span class="op" id="6468147">%</span>&nbsp;<span class="num" id="6468149">0x80</span><span class="op" id="6468153">)</span><span class="op" id="6468154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6468161">uint8</span><span class="op" id="6468166">(</span><span class="num" id="6468167">11</span>&nbsp;<span class="op" id="6468170">*</span>&nbsp;<span class="ident" id="6468172">y</span>&nbsp;<span class="op" id="6468174">%</span>&nbsp;<span class="num" id="6468176">0x80</span><span class="op" id="6468180">)</span><span class="op" id="6468181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6468188">uint8</span><span class="op" id="6468193">(</span><span class="op" id="6468194">(</span><span class="num" id="6468195">11</span><span class="op" id="6468197">*</span><span class="ident" id="6468198">x</span>&nbsp;<span class="op" id="6468200">+</span>&nbsp;<span class="num" id="6468202">13</span><span class="op" id="6468204">*</span><span class="ident" id="6468205">y</span><span class="op" id="6468206">)</span>&nbsp;<span class="op" id="6468208">%</span>&nbsp;<span class="num" id="6468210">0x80</span><span class="op" id="6468214">)</span><span class="op" id="6468215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6468222">0x7f</span><span class="op" id="6468226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468232">}</span><span class="op" id="6468233">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468238">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468246">src</span>&nbsp;<span class="op" id="6468250">=</span>&nbsp;<span class="ident" id="6468252">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468258">case</span>&nbsp;<span class="ident" id="6468263">color</span><span class="op" id="6468268">.</span><span class="ident" id="6468269">RGBA64Model</span><span class="op" id="6468280">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468284">src1</span>&nbsp;<span class="op" id="6468289">:=</span>&nbsp;<span class="ident" id="6468292">image</span><span class="op" id="6468297">.</span><span class="ident" id="6468298">NewRGBA64</span><span class="op" id="6468307">(</span><span class="ident" id="6468308">image</span><span class="op" id="6468313">.</span><span class="ident" id="6468314">Rect</span><span class="op" id="6468318">(</span><span class="num" id="6468319">0</span><span class="op" id="6468320">,</span>&nbsp;<span class="num" id="6468322">0</span><span class="op" id="6468323">,</span>&nbsp;<span class="ident" id="6468325">srcw</span><span class="op" id="6468329">,</span>&nbsp;<span class="ident" id="6468331">srch</span><span class="op" id="6468335">)</span><span class="op" id="6468336">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468340">for</span>&nbsp;<span class="ident" id="6468344">y</span>&nbsp;<span class="op" id="6468346">:=</span>&nbsp;<span class="num" id="6468349">0</span><span class="op" id="6468350">;</span>&nbsp;<span class="ident" id="6468352">y</span>&nbsp;<span class="op" id="6468354">&lt;</span>&nbsp;<span class="ident" id="6468356">srch</span><span class="op" id="6468360">;</span>&nbsp;<span class="ident" id="6468362">y</span><span class="op" id="6468363">++</span>&nbsp;<span class="op" id="6468366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468371">for</span>&nbsp;<span class="ident" id="6468375">x</span>&nbsp;<span class="op" id="6468377">:=</span>&nbsp;<span class="num" id="6468380">0</span><span class="op" id="6468381">;</span>&nbsp;<span class="ident" id="6468383">x</span>&nbsp;<span class="op" id="6468385">&lt;</span>&nbsp;<span class="ident" id="6468387">srcw</span><span class="op" id="6468391">;</span>&nbsp;<span class="ident" id="6468393">x</span><span class="op" id="6468394">++</span>&nbsp;<span class="op" id="6468397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468403">src1</span><span class="op" id="6468407">.</span><span class="ident" id="6468408">SetRGBA64</span><span class="op" id="6468417">(</span><span class="ident" id="6468418">x</span><span class="op" id="6468419">,</span>&nbsp;<span class="ident" id="6468421">y</span><span class="op" id="6468422">,</span>&nbsp;<span class="ident" id="6468424">color</span><span class="op" id="6468429">.</span><span class="ident" id="6468430">RGBA64</span><span class="op" id="6468436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6468443">uint16</span><span class="op" id="6468449">(</span><span class="num" id="6468450">103</span>&nbsp;<span class="op" id="6468454">*</span>&nbsp;<span class="ident" id="6468456">x</span>&nbsp;<span class="op" id="6468458">%</span>&nbsp;<span class="num" id="6468460">0x8000</span><span class="op" id="6468466">)</span><span class="op" id="6468467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6468474">uint16</span><span class="op" id="6468480">(</span><span class="num" id="6468481">101</span>&nbsp;<span class="op" id="6468485">*</span>&nbsp;<span class="ident" id="6468487">y</span>&nbsp;<span class="op" id="6468489">%</span>&nbsp;<span class="num" id="6468491">0x8000</span><span class="op" id="6468497">)</span><span class="op" id="6468498">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6468505">uint16</span><span class="op" id="6468511">(</span><span class="op" id="6468512">(</span><span class="num" id="6468513">101</span><span class="op" id="6468516">*</span><span class="ident" id="6468517">x</span>&nbsp;<span class="op" id="6468519">+</span>&nbsp;<span class="num" id="6468521">103</span><span class="op" id="6468524">*</span><span class="ident" id="6468525">y</span><span class="op" id="6468526">)</span>&nbsp;<span class="op" id="6468528">%</span>&nbsp;<span class="num" id="6468530">0x8000</span><span class="op" id="6468536">)</span><span class="op" id="6468537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6468544">0x7fff</span><span class="op" id="6468550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468556">}</span><span class="op" id="6468557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468566">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468570">src</span>&nbsp;<span class="op" id="6468574">=</span>&nbsp;<span class="ident" id="6468576">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468582">case</span>&nbsp;<span class="ident" id="6468587">color</span><span class="op" id="6468592">.</span><span class="ident" id="6468593">NRGBAModel</span><span class="op" id="6468603">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468607">src1</span>&nbsp;<span class="op" id="6468612">:=</span>&nbsp;<span class="ident" id="6468615">image</span><span class="op" id="6468620">.</span><span class="ident" id="6468621">NewNRGBA</span><span class="op" id="6468629">(</span><span class="ident" id="6468630">image</span><span class="op" id="6468635">.</span><span class="ident" id="6468636">Rect</span><span class="op" id="6468640">(</span><span class="num" id="6468641">0</span><span class="op" id="6468642">,</span>&nbsp;<span class="num" id="6468644">0</span><span class="op" id="6468645">,</span>&nbsp;<span class="ident" id="6468647">srcw</span><span class="op" id="6468651">,</span>&nbsp;<span class="ident" id="6468653">srch</span><span class="op" id="6468657">)</span><span class="op" id="6468658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468662">for</span>&nbsp;<span class="ident" id="6468666">y</span>&nbsp;<span class="op" id="6468668">:=</span>&nbsp;<span class="num" id="6468671">0</span><span class="op" id="6468672">;</span>&nbsp;<span class="ident" id="6468674">y</span>&nbsp;<span class="op" id="6468676">&lt;</span>&nbsp;<span class="ident" id="6468678">srch</span><span class="op" id="6468682">;</span>&nbsp;<span class="ident" id="6468684">y</span><span class="op" id="6468685">++</span>&nbsp;<span class="op" id="6468688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468693">for</span>&nbsp;<span class="ident" id="6468697">x</span>&nbsp;<span class="op" id="6468699">:=</span>&nbsp;<span class="num" id="6468702">0</span><span class="op" id="6468703">;</span>&nbsp;<span class="ident" id="6468705">x</span>&nbsp;<span class="op" id="6468707">&lt;</span>&nbsp;<span class="ident" id="6468709">srcw</span><span class="op" id="6468713">;</span>&nbsp;<span class="ident" id="6468715">x</span><span class="op" id="6468716">++</span>&nbsp;<span class="op" id="6468719">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468725">src1</span><span class="op" id="6468729">.</span><span class="ident" id="6468730">SetNRGBA</span><span class="op" id="6468738">(</span><span class="ident" id="6468739">x</span><span class="op" id="6468740">,</span>&nbsp;<span class="ident" id="6468742">y</span><span class="op" id="6468743">,</span>&nbsp;<span class="ident" id="6468745">color</span><span class="op" id="6468750">.</span><span class="ident" id="6468751">NRGBA</span><span class="op" id="6468756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6468763">uint8</span><span class="op" id="6468768">(</span><span class="num" id="6468769">13</span>&nbsp;<span class="op" id="6468772">*</span>&nbsp;<span class="ident" id="6468774">x</span>&nbsp;<span class="op" id="6468776">%</span>&nbsp;<span class="num" id="6468778">0x100</span><span class="op" id="6468783">)</span><span class="op" id="6468784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6468791">uint8</span><span class="op" id="6468796">(</span><span class="num" id="6468797">11</span>&nbsp;<span class="op" id="6468800">*</span>&nbsp;<span class="ident" id="6468802">y</span>&nbsp;<span class="op" id="6468804">%</span>&nbsp;<span class="num" id="6468806">0x100</span><span class="op" id="6468811">)</span><span class="op" id="6468812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6468819">uint8</span><span class="op" id="6468824">(</span><span class="op" id="6468825">(</span><span class="num" id="6468826">11</span><span class="op" id="6468828">*</span><span class="ident" id="6468829">x</span>&nbsp;<span class="op" id="6468831">+</span>&nbsp;<span class="num" id="6468833">13</span><span class="op" id="6468835">*</span><span class="ident" id="6468836">y</span><span class="op" id="6468837">)</span>&nbsp;<span class="op" id="6468839">%</span>&nbsp;<span class="num" id="6468841">0x100</span><span class="op" id="6468846">)</span><span class="op" id="6468847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6468854">0x7f</span><span class="op" id="6468858">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468864">}</span><span class="op" id="6468865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468878">src</span>&nbsp;<span class="op" id="6468882">=</span>&nbsp;<span class="ident" id="6468884">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468890">case</span>&nbsp;<span class="ident" id="6468895">color</span><span class="op" id="6468900">.</span><span class="ident" id="6468901">YCbCrModel</span><span class="op" id="6468911">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468915">yy</span>&nbsp;<span class="op" id="6468918">:=</span>&nbsp;<span class="builtinfunc" id="6468921">make</span><span class="op" id="6468925">(</span><span class="op" id="6468926">[</span><span class="op" id="6468927">]</span><span class="builtintype" id="6468928">uint8</span><span class="op" id="6468933">,</span>&nbsp;<span class="ident" id="6468935">srcw</span><span class="op" id="6468939">*</span><span class="ident" id="6468940">srch</span><span class="op" id="6468944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468948">cb</span>&nbsp;<span class="op" id="6468951">:=</span>&nbsp;<span class="builtinfunc" id="6468954">make</span><span class="op" id="6468958">(</span><span class="op" id="6468959">[</span><span class="op" id="6468960">]</span><span class="builtintype" id="6468961">uint8</span><span class="op" id="6468966">,</span>&nbsp;<span class="ident" id="6468968">srcw</span><span class="op" id="6468972">*</span><span class="ident" id="6468973">srch</span><span class="op" id="6468977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468981">cr</span>&nbsp;<span class="op" id="6468984">:=</span>&nbsp;<span class="builtinfunc" id="6468987">make</span><span class="op" id="6468991">(</span><span class="op" id="6468992">[</span><span class="op" id="6468993">]</span><span class="builtintype" id="6468994">uint8</span><span class="op" id="6468999">,</span>&nbsp;<span class="ident" id="6469001">srcw</span><span class="op" id="6469005">*</span><span class="ident" id="6469006">srch</span><span class="op" id="6469010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469014">for</span>&nbsp;<span class="ident" id="6469018">i</span>&nbsp;<span class="op" id="6469020">:=</span>&nbsp;<span class="keyword" id="6469023">range</span>&nbsp;<span class="ident" id="6469029">yy</span>&nbsp;<span class="op" id="6469032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469037">yy</span><span class="op" id="6469039">[</span><span class="ident" id="6469040">i</span><span class="op" id="6469041">]</span>&nbsp;<span class="op" id="6469043">=</span>&nbsp;<span class="builtintype" id="6469045">uint8</span><span class="op" id="6469050">(</span><span class="num" id="6469051">3</span>&nbsp;<span class="op" id="6469053">*</span>&nbsp;<span class="ident" id="6469055">i</span>&nbsp;<span class="op" id="6469057">%</span>&nbsp;<span class="num" id="6469059">0x100</span><span class="op" id="6469064">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469069">cb</span><span class="op" id="6469071">[</span><span class="ident" id="6469072">i</span><span class="op" id="6469073">]</span>&nbsp;<span class="op" id="6469075">=</span>&nbsp;<span class="builtintype" id="6469077">uint8</span><span class="op" id="6469082">(</span><span class="num" id="6469083">5</span>&nbsp;<span class="op" id="6469085">*</span>&nbsp;<span class="ident" id="6469087">i</span>&nbsp;<span class="op" id="6469089">%</span>&nbsp;<span class="num" id="6469091">0x100</span><span class="op" id="6469096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469101">cr</span><span class="op" id="6469103">[</span><span class="ident" id="6469104">i</span><span class="op" id="6469105">]</span>&nbsp;<span class="op" id="6469107">=</span>&nbsp;<span class="builtintype" id="6469109">uint8</span><span class="op" id="6469114">(</span><span class="num" id="6469115">7</span>&nbsp;<span class="op" id="6469117">*</span>&nbsp;<span class="ident" id="6469119">i</span>&nbsp;<span class="op" id="6469121">%</span>&nbsp;<span class="num" id="6469123">0x100</span><span class="op" id="6469128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469136">src</span>&nbsp;<span class="op" id="6469140">=</span>&nbsp;<span class="op" id="6469142">&amp;</span><span class="ident" id="6469143">image</span><span class="op" id="6469148">.</span><span class="ident" id="6469149">YCbCr</span><span class="op" id="6469154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469159">Y</span><span class="op" id="6469160">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469175">yy</span><span class="op" id="6469177">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469182">Cb</span><span class="op" id="6469184">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469198">cb</span><span class="op" id="6469200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469205">Cr</span><span class="op" id="6469207">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469221">cr</span><span class="op" id="6469223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469228">YStride</span><span class="op" id="6469235">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469244">srcw</span><span class="op" id="6469248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469253">CStride</span><span class="op" id="6469260">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469269">srcw</span><span class="op" id="6469273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469278">SubsampleRatio</span><span class="op" id="6469292">:</span>&nbsp;<span class="ident" id="6469294">image</span><span class="op" id="6469299">.</span><span class="ident" id="6469300">YCbCrSubsampleRatio444</span><span class="op" id="6469322">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469327">Rect</span><span class="op" id="6469331">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469343">image</span><span class="op" id="6469348">.</span><span class="ident" id="6469349">Rect</span><span class="op" id="6469353">(</span><span class="num" id="6469354">0</span><span class="op" id="6469355">,</span>&nbsp;<span class="num" id="6469357">0</span><span class="op" id="6469358">,</span>&nbsp;<span class="ident" id="6469360">srcw</span><span class="op" id="6469364">,</span>&nbsp;<span class="ident" id="6469366">srch</span><span class="op" id="6469370">)</span><span class="op" id="6469371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469378">default</span><span class="op" id="6469385">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469389">b</span><span class="op" id="6469390">.</span><span class="ident" id="6469391">Fatal</span><span class="op" id="6469396">(</span><span class="string" id="6469397">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="6469425">,</span>&nbsp;<span class="ident" id="6469427">scm</span><span class="op" id="6469430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469433">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469437">var</span>&nbsp;<span class="ident" id="6469441">mask</span>&nbsp;<span class="ident" id="6469446">image</span><span class="op" id="6469451">.</span><span class="ident" id="6469452">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469459">switch</span>&nbsp;<span class="ident" id="6469466">mcm</span>&nbsp;<span class="op" id="6469470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469473">case</span>&nbsp;<span class="ident" id="6469478">nil</span><span class="op" id="6469481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6469485">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469496">case</span>&nbsp;<span class="ident" id="6469501">color</span><span class="op" id="6469506">.</span><span class="ident" id="6469507">AlphaModel</span><span class="op" id="6469517">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469521">mask1</span>&nbsp;<span class="op" id="6469527">:=</span>&nbsp;<span class="ident" id="6469530">image</span><span class="op" id="6469535">.</span><span class="ident" id="6469536">NewAlpha</span><span class="op" id="6469544">(</span><span class="ident" id="6469545">image</span><span class="op" id="6469550">.</span><span class="ident" id="6469551">Rect</span><span class="op" id="6469555">(</span><span class="num" id="6469556">0</span><span class="op" id="6469557">,</span>&nbsp;<span class="num" id="6469559">0</span><span class="op" id="6469560">,</span>&nbsp;<span class="ident" id="6469562">srcw</span><span class="op" id="6469566">,</span>&nbsp;<span class="ident" id="6469568">srch</span><span class="op" id="6469572">)</span><span class="op" id="6469573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469577">for</span>&nbsp;<span class="ident" id="6469581">y</span>&nbsp;<span class="op" id="6469583">:=</span>&nbsp;<span class="num" id="6469586">0</span><span class="op" id="6469587">;</span>&nbsp;<span class="ident" id="6469589">y</span>&nbsp;<span class="op" id="6469591">&lt;</span>&nbsp;<span class="ident" id="6469593">srch</span><span class="op" id="6469597">;</span>&nbsp;<span class="ident" id="6469599">y</span><span class="op" id="6469600">++</span>&nbsp;<span class="op" id="6469603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469608">for</span>&nbsp;<span class="ident" id="6469612">x</span>&nbsp;<span class="op" id="6469614">:=</span>&nbsp;<span class="num" id="6469617">0</span><span class="op" id="6469618">;</span>&nbsp;<span class="ident" id="6469620">x</span>&nbsp;<span class="op" id="6469622">&lt;</span>&nbsp;<span class="ident" id="6469624">srcw</span><span class="op" id="6469628">;</span>&nbsp;<span class="ident" id="6469630">x</span><span class="op" id="6469631">++</span>&nbsp;<span class="op" id="6469634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469640">a</span>&nbsp;<span class="op" id="6469642">:=</span>&nbsp;<span class="builtintype" id="6469645">uint8</span><span class="op" id="6469650">(</span><span class="op" id="6469651">(</span><span class="num" id="6469652">23</span><span class="op" id="6469654">*</span><span class="ident" id="6469655">x</span>&nbsp;<span class="op" id="6469657">+</span>&nbsp;<span class="num" id="6469659">29</span><span class="op" id="6469661">*</span><span class="ident" id="6469662">y</span><span class="op" id="6469663">)</span>&nbsp;<span class="op" id="6469665">%</span>&nbsp;<span class="num" id="6469667">0x100</span><span class="op" id="6469672">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6469678">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6469724">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469775">if</span>&nbsp;<span class="ident" id="6469778">a</span>&nbsp;<span class="op" id="6469780">&gt;=</span>&nbsp;<span class="num" id="6469783">0xc0</span>&nbsp;<span class="op" id="6469788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469795">mask1</span><span class="op" id="6469800">.</span><span class="ident" id="6469801">SetAlpha</span><span class="op" id="6469809">(</span><span class="ident" id="6469810">x</span><span class="op" id="6469811">,</span>&nbsp;<span class="ident" id="6469813">y</span><span class="op" id="6469814">,</span>&nbsp;<span class="ident" id="6469816">color</span><span class="op" id="6469821">.</span><span class="ident" id="6469822">Alpha</span><span class="op" id="6469827">{</span><span class="ident" id="6469828">a</span><span class="op" id="6469829">}</span><span class="op" id="6469830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469836">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469849">mask</span>&nbsp;<span class="op" id="6469854">=</span>&nbsp;<span class="ident" id="6469856">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469863">default</span><span class="op" id="6469870">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469874">b</span><span class="op" id="6469875">.</span><span class="ident" id="6469876">Fatal</span><span class="op" id="6469881">(</span><span class="string" id="6469882">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="6469908">,</span>&nbsp;<span class="ident" id="6469910">mcm</span><span class="op" id="6469913">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469920">b</span><span class="op" id="6469921">.</span><span class="ident" id="6469922">StartTimer</span><span class="op" id="6469932">(</span><span class="op" id="6469933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469936">for</span>&nbsp;<span class="ident" id="6469940">i</span>&nbsp;<span class="op" id="6469942">:=</span>&nbsp;<span class="num" id="6469945">0</span><span class="op" id="6469946">;</span>&nbsp;<span class="ident" id="6469948">i</span>&nbsp;<span class="op" id="6469950">&lt;</span>&nbsp;<span class="ident" id="6469952">b</span><span class="op" id="6469953">.</span><span class="ident" id="6469954">N</span><span class="op" id="6469955">;</span>&nbsp;<span class="ident" id="6469957">i</span><span class="op" id="6469958">++</span>&nbsp;<span class="op" id="6469961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6469965">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470018">x</span>&nbsp;<span class="op" id="6470020">:=</span>&nbsp;<span class="num" id="6470023">3</span>&nbsp;<span class="op" id="6470025">*</span>&nbsp;<span class="ident" id="6470027">i</span>&nbsp;<span class="op" id="6470029">%</span>&nbsp;<span class="op" id="6470031">(</span><span class="ident" id="6470032">dstw</span>&nbsp;<span class="op" id="6470037">-</span>&nbsp;<span class="ident" id="6470039">srcw</span><span class="op" id="6470043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470047">y</span>&nbsp;<span class="op" id="6470049">:=</span>&nbsp;<span class="num" id="6470052">7</span>&nbsp;<span class="op" id="6470054">*</span>&nbsp;<span class="ident" id="6470056">i</span>&nbsp;<span class="op" id="6470058">%</span>&nbsp;<span class="op" id="6470060">(</span><span class="ident" id="6470061">dsth</span>&nbsp;<span class="op" id="6470066">-</span>&nbsp;<span class="ident" id="6470068">srch</span><span class="op" id="6470072">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470077">DrawMask</span><span class="op" id="6470085">(</span><span class="ident" id="6470086">dst</span><span class="op" id="6470089">,</span>&nbsp;<span class="ident" id="6470091">dst</span><span class="op" id="6470094">.</span><span class="ident" id="6470095">Bounds</span><span class="op" id="6470101">(</span><span class="op" id="6470102">)</span><span class="op" id="6470103">.</span><span class="ident" id="6470104">Add</span><span class="op" id="6470107">(</span><span class="ident" id="6470108">image</span><span class="op" id="6470113">.</span><span class="ident" id="6470114">Pt</span><span class="op" id="6470116">(</span><span class="ident" id="6470117">x</span><span class="op" id="6470118">,</span>&nbsp;<span class="ident" id="6470120">y</span><span class="op" id="6470121">)</span><span class="op" id="6470122">)</span><span class="op" id="6470123">,</span>&nbsp;<span class="ident" id="6470125">src</span><span class="op" id="6470128">,</span>&nbsp;<span class="ident" id="6470130">image</span><span class="op" id="6470135">.</span><span class="ident" id="6470136">ZP</span><span class="op" id="6470138">,</span>&nbsp;<span class="ident" id="6470140">mask</span><span class="op" id="6470144">,</span>&nbsp;<span class="ident" id="6470146">image</span><span class="op" id="6470151">.</span><span class="ident" id="6470152">ZP</span><span class="op" id="6470154">,</span>&nbsp;<span class="ident" id="6470156">op</span><span class="op" id="6470158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470161">}</span><br>
<span class="lineno">150</span><span class="op" id="6470163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6470166">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6470247">func</span>&nbsp;<span class="ident" id="6470252">BenchmarkFillOver</span><span class="op" id="6470269">(</span><span class="ident" id="6470270">b</span>&nbsp;<span class="op" id="6470272">*</span><span class="ident" id="6470273">testing</span><span class="op" id="6470280">.</span><span class="ident" id="6470281">B</span><span class="op" id="6470282">)</span>&nbsp;<span class="op" id="6470284">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470287">bench</span><span class="op" id="6470292">(</span><span class="ident" id="6470293">b</span><span class="op" id="6470294">,</span>&nbsp;<span class="ident" id="6470296">color</span><span class="op" id="6470301">.</span><span class="ident" id="6470302">RGBAModel</span><span class="op" id="6470311">,</span>&nbsp;<span class="ident" id="6470313">nil</span><span class="op" id="6470316">,</span>&nbsp;<span class="ident" id="6470318">nil</span><span class="op" id="6470321">,</span>&nbsp;<span class="ident" id="6470323">Over</span><span class="op" id="6470327">)</span><br>
<span class="lineno"></span><span class="op" id="6470329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6470332">func</span>&nbsp;<span class="ident" id="6470337">BenchmarkFillSrc</span><span class="op" id="6470353">(</span><span class="ident" id="6470354">b</span>&nbsp;<span class="op" id="6470356">*</span><span class="ident" id="6470357">testing</span><span class="op" id="6470364">.</span><span class="ident" id="6470365">B</span><span class="op" id="6470366">)</span>&nbsp;<span class="op" id="6470368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470371">bench</span><span class="op" id="6470376">(</span><span class="ident" id="6470377">b</span><span class="op" id="6470378">,</span>&nbsp;<span class="ident" id="6470380">color</span><span class="op" id="6470385">.</span><span class="ident" id="6470386">RGBAModel</span><span class="op" id="6470395">,</span>&nbsp;<span class="ident" id="6470397">nil</span><span class="op" id="6470400">,</span>&nbsp;<span class="ident" id="6470402">nil</span><span class="op" id="6470405">,</span>&nbsp;<span class="ident" id="6470407">Src</span><span class="op" id="6470410">)</span><br>
<span class="lineno">160</span><span class="op" id="6470412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6470415">func</span>&nbsp;<span class="ident" id="6470420">BenchmarkCopyOver</span><span class="op" id="6470437">(</span><span class="ident" id="6470438">b</span>&nbsp;<span class="op" id="6470440">*</span><span class="ident" id="6470441">testing</span><span class="op" id="6470448">.</span><span class="ident" id="6470449">B</span><span class="op" id="6470450">)</span>&nbsp;<span class="op" id="6470452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470455">bench</span><span class="op" id="6470460">(</span><span class="ident" id="6470461">b</span><span class="op" id="6470462">,</span>&nbsp;<span class="ident" id="6470464">color</span><span class="op" id="6470469">.</span><span class="ident" id="6470470">RGBAModel</span><span class="op" id="6470479">,</span>&nbsp;<span class="ident" id="6470481">color</span><span class="op" id="6470486">.</span><span class="ident" id="6470487">RGBAModel</span><span class="op" id="6470496">,</span>&nbsp;<span class="ident" id="6470498">nil</span><span class="op" id="6470501">,</span>&nbsp;<span class="ident" id="6470503">Over</span><span class="op" id="6470507">)</span><br>
<span class="lineno"></span><span class="op" id="6470509">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="6470512">func</span>&nbsp;<span class="ident" id="6470517">BenchmarkCopySrc</span><span class="op" id="6470533">(</span><span class="ident" id="6470534">b</span>&nbsp;<span class="op" id="6470536">*</span><span class="ident" id="6470537">testing</span><span class="op" id="6470544">.</span><span class="ident" id="6470545">B</span><span class="op" id="6470546">)</span>&nbsp;<span class="op" id="6470548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470551">bench</span><span class="op" id="6470556">(</span><span class="ident" id="6470557">b</span><span class="op" id="6470558">,</span>&nbsp;<span class="ident" id="6470560">color</span><span class="op" id="6470565">.</span><span class="ident" id="6470566">RGBAModel</span><span class="op" id="6470575">,</span>&nbsp;<span class="ident" id="6470577">color</span><span class="op" id="6470582">.</span><span class="ident" id="6470583">RGBAModel</span><span class="op" id="6470592">,</span>&nbsp;<span class="ident" id="6470594">nil</span><span class="op" id="6470597">,</span>&nbsp;<span class="ident" id="6470599">Src</span><span class="op" id="6470602">)</span><br>
<span class="lineno"></span><span class="op" id="6470604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="6470607">func</span>&nbsp;<span class="ident" id="6470612">BenchmarkNRGBAOver</span><span class="op" id="6470630">(</span><span class="ident" id="6470631">b</span>&nbsp;<span class="op" id="6470633">*</span><span class="ident" id="6470634">testing</span><span class="op" id="6470641">.</span><span class="ident" id="6470642">B</span><span class="op" id="6470643">)</span>&nbsp;<span class="op" id="6470645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470648">bench</span><span class="op" id="6470653">(</span><span class="ident" id="6470654">b</span><span class="op" id="6470655">,</span>&nbsp;<span class="ident" id="6470657">color</span><span class="op" id="6470662">.</span><span class="ident" id="6470663">RGBAModel</span><span class="op" id="6470672">,</span>&nbsp;<span class="ident" id="6470674">color</span><span class="op" id="6470679">.</span><span class="ident" id="6470680">NRGBAModel</span><span class="op" id="6470690">,</span>&nbsp;<span class="ident" id="6470692">nil</span><span class="op" id="6470695">,</span>&nbsp;<span class="ident" id="6470697">Over</span><span class="op" id="6470701">)</span><br>
<span class="lineno"></span><span class="op" id="6470703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6470706">func</span>&nbsp;<span class="ident" id="6470711">BenchmarkNRGBASrc</span><span class="op" id="6470728">(</span><span class="ident" id="6470729">b</span>&nbsp;<span class="op" id="6470731">*</span><span class="ident" id="6470732">testing</span><span class="op" id="6470739">.</span><span class="ident" id="6470740">B</span><span class="op" id="6470741">)</span>&nbsp;<span class="op" id="6470743">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470746">bench</span><span class="op" id="6470751">(</span><span class="ident" id="6470752">b</span><span class="op" id="6470753">,</span>&nbsp;<span class="ident" id="6470755">color</span><span class="op" id="6470760">.</span><span class="ident" id="6470761">RGBAModel</span><span class="op" id="6470770">,</span>&nbsp;<span class="ident" id="6470772">color</span><span class="op" id="6470777">.</span><span class="ident" id="6470778">NRGBAModel</span><span class="op" id="6470788">,</span>&nbsp;<span class="ident" id="6470790">nil</span><span class="op" id="6470793">,</span>&nbsp;<span class="ident" id="6470795">Src</span><span class="op" id="6470798">)</span><br>
<span class="lineno"></span><span class="op" id="6470800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6470803">func</span>&nbsp;<span class="ident" id="6470808">BenchmarkYCbCr</span><span class="op" id="6470822">(</span><span class="ident" id="6470823">b</span>&nbsp;<span class="op" id="6470825">*</span><span class="ident" id="6470826">testing</span><span class="op" id="6470833">.</span><span class="ident" id="6470834">B</span><span class="op" id="6470835">)</span>&nbsp;<span class="op" id="6470837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470840">bench</span><span class="op" id="6470845">(</span><span class="ident" id="6470846">b</span><span class="op" id="6470847">,</span>&nbsp;<span class="ident" id="6470849">color</span><span class="op" id="6470854">.</span><span class="ident" id="6470855">RGBAModel</span><span class="op" id="6470864">,</span>&nbsp;<span class="ident" id="6470866">color</span><span class="op" id="6470871">.</span><span class="ident" id="6470872">YCbCrModel</span><span class="op" id="6470882">,</span>&nbsp;<span class="ident" id="6470884">nil</span><span class="op" id="6470887">,</span>&nbsp;<span class="ident" id="6470889">Over</span><span class="op" id="6470893">)</span><br>
<span class="lineno">180</span><span class="op" id="6470895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6470898">func</span>&nbsp;<span class="ident" id="6470903">BenchmarkGlyphOver</span><span class="op" id="6470921">(</span><span class="ident" id="6470922">b</span>&nbsp;<span class="op" id="6470924">*</span><span class="ident" id="6470925">testing</span><span class="op" id="6470932">.</span><span class="ident" id="6470933">B</span><span class="op" id="6470934">)</span>&nbsp;<span class="op" id="6470936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470939">bench</span><span class="op" id="6470944">(</span><span class="ident" id="6470945">b</span><span class="op" id="6470946">,</span>&nbsp;<span class="ident" id="6470948">color</span><span class="op" id="6470953">.</span><span class="ident" id="6470954">RGBAModel</span><span class="op" id="6470963">,</span>&nbsp;<span class="ident" id="6470965">nil</span><span class="op" id="6470968">,</span>&nbsp;<span class="ident" id="6470970">color</span><span class="op" id="6470975">.</span><span class="ident" id="6470976">AlphaModel</span><span class="op" id="6470986">,</span>&nbsp;<span class="ident" id="6470988">Over</span><span class="op" id="6470992">)</span><br>
<span class="lineno"></span><span class="op" id="6470994">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="6470997">func</span>&nbsp;<span class="ident" id="6471002">BenchmarkRGBA</span><span class="op" id="6471015">(</span><span class="ident" id="6471016">b</span>&nbsp;<span class="op" id="6471018">*</span><span class="ident" id="6471019">testing</span><span class="op" id="6471026">.</span><span class="ident" id="6471027">B</span><span class="op" id="6471028">)</span>&nbsp;<span class="op" id="6471030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471033">bench</span><span class="op" id="6471038">(</span><span class="ident" id="6471039">b</span><span class="op" id="6471040">,</span>&nbsp;<span class="ident" id="6471042">color</span><span class="op" id="6471047">.</span><span class="ident" id="6471048">RGBAModel</span><span class="op" id="6471057">,</span>&nbsp;<span class="ident" id="6471059">color</span><span class="op" id="6471064">.</span><span class="ident" id="6471065">RGBA64Model</span><span class="op" id="6471076">,</span>&nbsp;<span class="ident" id="6471078">nil</span><span class="op" id="6471081">,</span>&nbsp;<span class="ident" id="6471083">Src</span><span class="op" id="6471086">)</span><br>
<span class="lineno"></span><span class="op" id="6471088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="6471091">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6471167">func</span>&nbsp;<span class="ident" id="6471172">BenchmarkGenericOver</span><span class="op" id="6471192">(</span><span class="ident" id="6471193">b</span>&nbsp;<span class="op" id="6471195">*</span><span class="ident" id="6471196">testing</span><span class="op" id="6471203">.</span><span class="ident" id="6471204">B</span><span class="op" id="6471205">)</span>&nbsp;<span class="op" id="6471207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471210">bench</span><span class="op" id="6471215">(</span><span class="ident" id="6471216">b</span><span class="op" id="6471217">,</span>&nbsp;<span class="ident" id="6471219">color</span><span class="op" id="6471224">.</span><span class="ident" id="6471225">RGBA64Model</span><span class="op" id="6471236">,</span>&nbsp;<span class="ident" id="6471238">color</span><span class="op" id="6471243">.</span><span class="ident" id="6471244">RGBA64Model</span><span class="op" id="6471255">,</span>&nbsp;<span class="ident" id="6471257">nil</span><span class="op" id="6471260">,</span>&nbsp;<span class="ident" id="6471262">Over</span><span class="op" id="6471266">)</span><br>
<span class="lineno"></span><span class="op" id="6471268">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="6471271">func</span>&nbsp;<span class="ident" id="6471276">BenchmarkGenericMaskOver</span><span class="op" id="6471300">(</span><span class="ident" id="6471301">b</span>&nbsp;<span class="op" id="6471303">*</span><span class="ident" id="6471304">testing</span><span class="op" id="6471311">.</span><span class="ident" id="6471312">B</span><span class="op" id="6471313">)</span>&nbsp;<span class="op" id="6471315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471318">bench</span><span class="op" id="6471323">(</span><span class="ident" id="6471324">b</span><span class="op" id="6471325">,</span>&nbsp;<span class="ident" id="6471327">color</span><span class="op" id="6471332">.</span><span class="ident" id="6471333">RGBA64Model</span><span class="op" id="6471344">,</span>&nbsp;<span class="ident" id="6471346">color</span><span class="op" id="6471351">.</span><span class="ident" id="6471352">RGBA64Model</span><span class="op" id="6471363">,</span>&nbsp;<span class="ident" id="6471365">color</span><span class="op" id="6471370">.</span><span class="ident" id="6471371">AlphaModel</span><span class="op" id="6471381">,</span>&nbsp;<span class="ident" id="6471383">Over</span><span class="op" id="6471387">)</span><br>
<span class="lineno"></span><span class="op" id="6471389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="6471392">func</span>&nbsp;<span class="ident" id="6471397">BenchmarkGenericSrc</span><span class="op" id="6471416">(</span><span class="ident" id="6471417">b</span>&nbsp;<span class="op" id="6471419">*</span><span class="ident" id="6471420">testing</span><span class="op" id="6471427">.</span><span class="ident" id="6471428">B</span><span class="op" id="6471429">)</span>&nbsp;<span class="op" id="6471431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471434">bench</span><span class="op" id="6471439">(</span><span class="ident" id="6471440">b</span><span class="op" id="6471441">,</span>&nbsp;<span class="ident" id="6471443">color</span><span class="op" id="6471448">.</span><span class="ident" id="6471449">RGBA64Model</span><span class="op" id="6471460">,</span>&nbsp;<span class="ident" id="6471462">color</span><span class="op" id="6471467">.</span><span class="ident" id="6471468">RGBA64Model</span><span class="op" id="6471479">,</span>&nbsp;<span class="ident" id="6471481">nil</span><span class="op" id="6471484">,</span>&nbsp;<span class="ident" id="6471486">Src</span><span class="op" id="6471489">)</span><br>
<span class="lineno"></span><span class="op" id="6471491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6471494">func</span>&nbsp;<span class="ident" id="6471499">BenchmarkGenericMaskSrc</span><span class="op" id="6471522">(</span><span class="ident" id="6471523">b</span>&nbsp;<span class="op" id="6471525">*</span><span class="ident" id="6471526">testing</span><span class="op" id="6471533">.</span><span class="ident" id="6471534">B</span><span class="op" id="6471535">)</span>&nbsp;<span class="op" id="6471537">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471540">bench</span><span class="op" id="6471545">(</span><span class="ident" id="6471546">b</span><span class="op" id="6471547">,</span>&nbsp;<span class="ident" id="6471549">color</span><span class="op" id="6471554">.</span><span class="ident" id="6471555">RGBA64Model</span><span class="op" id="6471566">,</span>&nbsp;<span class="ident" id="6471568">color</span><span class="op" id="6471573">.</span><span class="ident" id="6471574">RGBA64Model</span><span class="op" id="6471585">,</span>&nbsp;<span class="ident" id="6471587">color</span><span class="op" id="6471592">.</span><span class="ident" id="6471593">AlphaModel</span><span class="op" id="6471603">,</span>&nbsp;<span class="ident" id="6471605">Src</span><span class="op" id="6471608">)</span><br>
<span class="lineno"></span><span class="op" id="6471610">}</span>
</div>
</body>
</html>
