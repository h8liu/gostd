<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8219799">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8219854">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8219908">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8219959">package</span>&nbsp;<span class="ident" id="8219967">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8219973">import</span>&nbsp;<span class="op" id="8219980">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8219983">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8219992">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8220007">&#34;image/png&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8220020">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8220026">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8220036">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="8220039">func</span>&nbsp;<span class="ident" id="8220044">eq</span><span class="op" id="8220046">(</span><span class="ident" id="8220047">c0</span><span class="op" id="8220049">,</span>&nbsp;<span class="ident" id="8220051">c1</span>&nbsp;<span class="ident" id="8220054"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8220059">.</span><span class="ident" id="8220060">Color</span><span class="op" id="8220065">)</span>&nbsp;<span class="builtintype" id="8220067">bool</span>&nbsp;<span class="op" id="8220072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220075">r0</span><span class="op" id="8220077">,</span>&nbsp;<span class="ident" id="8220079">g0</span><span class="op" id="8220081">,</span>&nbsp;<span class="ident" id="8220083">b0</span><span class="op" id="8220085">,</span>&nbsp;<span class="ident" id="8220087">a0</span>&nbsp;<span class="op" id="8220090">:=</span>&nbsp;<span class="ident" id="8220093"><a href="/image/draw/draw_test.go.html#8220047">c0</a></span><span class="op" id="8220095">.</span><span class="ident" id="8220096">RGBA</span><span class="op" id="8220100">(</span><span class="op" id="8220101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220104">r1</span><span class="op" id="8220106">,</span>&nbsp;<span class="ident" id="8220108">g1</span><span class="op" id="8220110">,</span>&nbsp;<span class="ident" id="8220112">b1</span><span class="op" id="8220114">,</span>&nbsp;<span class="ident" id="8220116">a1</span>&nbsp;<span class="op" id="8220119">:=</span>&nbsp;<span class="ident" id="8220122"><a href="/image/draw/draw_test.go.html#8220051">c1</a></span><span class="op" id="8220124">.</span><span class="ident" id="8220125">RGBA</span><span class="op" id="8220129">(</span><span class="op" id="8220130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220133">return</span>&nbsp;<span class="ident" id="8220140"><a href="/image/draw/draw_test.go.html#8220075">r0</a></span>&nbsp;<span class="op" id="8220143">==</span>&nbsp;<span class="ident" id="8220146"><a href="/image/draw/draw_test.go.html#8220104">r1</a></span>&nbsp;<span class="op" id="8220149">&amp;&amp;</span>&nbsp;<span class="ident" id="8220152"><a href="/image/draw/draw_test.go.html#8220079">g0</a></span>&nbsp;<span class="op" id="8220155">==</span>&nbsp;<span class="ident" id="8220158"><a href="/image/draw/draw_test.go.html#8220108">g1</a></span>&nbsp;<span class="op" id="8220161">&amp;&amp;</span>&nbsp;<span class="ident" id="8220164"><a href="/image/draw/draw_test.go.html#8220083">b0</a></span>&nbsp;<span class="op" id="8220167">==</span>&nbsp;<span class="ident" id="8220170"><a href="/image/draw/draw_test.go.html#8220112">b1</a></span>&nbsp;<span class="op" id="8220173">&amp;&amp;</span>&nbsp;<span class="ident" id="8220176"><a href="/image/draw/draw_test.go.html#8220087">a0</a></span>&nbsp;<span class="op" id="8220179">==</span>&nbsp;<span class="ident" id="8220182"><a href="/image/draw/draw_test.go.html#8220116">a1</a></span><br>
<span class="lineno"></span><span class="op" id="8220185">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8220188">func</span>&nbsp;<span class="ident" id="8220193">fillBlue</span><span class="op" id="8220201">(</span><span class="ident" id="8220202">alpha</span>&nbsp;<span class="builtintype" id="8220208">int</span><span class="op" id="8220211">)</span>&nbsp;<span class="ident" id="8220213"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220218">.</span><span class="ident" id="8220219">Image</span>&nbsp;<span class="op" id="8220225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220228">return</span>&nbsp;<span class="ident" id="8220235"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220240">.</span><span class="ident" id="8220241">NewUniform</span><span class="op" id="8220251">(</span><span class="ident" id="8220252"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8220257">.</span><span class="ident" id="8220258">RGBA</span><span class="op" id="8220262">{</span><span class="num" id="8220263">0</span><span class="op" id="8220264">,</span>&nbsp;<span class="num" id="8220266">0</span><span class="op" id="8220267">,</span>&nbsp;<span class="builtintype" id="8220269">uint8</span><span class="op" id="8220274">(</span><span class="ident" id="8220275"><a href="/image/draw/draw_test.go.html#8220202">alpha</a></span><span class="op" id="8220280">)</span><span class="op" id="8220281">,</span>&nbsp;<span class="builtintype" id="8220283">uint8</span><span class="op" id="8220288">(</span><span class="ident" id="8220289"><a href="/image/draw/draw_test.go.html#8220202">alpha</a></span><span class="op" id="8220294">)</span><span class="op" id="8220295">}</span><span class="op" id="8220296">)</span><br>
<span class="lineno"></span><span class="op" id="8220298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8220301">func</span>&nbsp;<span class="ident" id="8220306">fillAlpha</span><span class="op" id="8220315">(</span><span class="ident" id="8220316">alpha</span>&nbsp;<span class="builtintype" id="8220322">int</span><span class="op" id="8220325">)</span>&nbsp;<span class="ident" id="8220327"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220332">.</span><span class="ident" id="8220333">Image</span>&nbsp;<span class="op" id="8220339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220342">return</span>&nbsp;<span class="ident" id="8220349"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220354">.</span><span class="ident" id="8220355">NewUniform</span><span class="op" id="8220365">(</span><span class="ident" id="8220366"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8220371">.</span><span class="ident" id="8220372">Alpha</span><span class="op" id="8220377">{</span><span class="builtintype" id="8220378">uint8</span><span class="op" id="8220383">(</span><span class="ident" id="8220384"><a href="/image/draw/draw_test.go.html#8220316">alpha</a></span><span class="op" id="8220389">)</span><span class="op" id="8220390">}</span><span class="op" id="8220391">)</span><br>
<span class="lineno"></span><span class="op" id="8220393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8220396">func</span>&nbsp;<span class="ident" id="8220401">vgradGreen</span><span class="op" id="8220411">(</span><span class="ident" id="8220412">alpha</span>&nbsp;<span class="builtintype" id="8220418">int</span><span class="op" id="8220421">)</span>&nbsp;<span class="ident" id="8220423"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220428">.</span><span class="ident" id="8220429">Image</span>&nbsp;<span class="op" id="8220435">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220438">m</span>&nbsp;<span class="op" id="8220440">:=</span>&nbsp;<span class="ident" id="8220443"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220448">.</span><span class="ident" id="8220449">NewRGBA</span><span class="op" id="8220456">(</span><span class="ident" id="8220457"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220462">.</span><span class="ident" id="8220463">Rect</span><span class="op" id="8220467">(</span><span class="num" id="8220468">0</span><span class="op" id="8220469">,</span>&nbsp;<span class="num" id="8220471">0</span><span class="op" id="8220472">,</span>&nbsp;<span class="num" id="8220474">16</span><span class="op" id="8220476">,</span>&nbsp;<span class="num" id="8220478">16</span><span class="op" id="8220480">)</span><span class="op" id="8220481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220484">for</span>&nbsp;<span class="ident" id="8220488">y</span>&nbsp;<span class="op" id="8220490">:=</span>&nbsp;<span class="num" id="8220493">0</span><span class="op" id="8220494">;</span>&nbsp;<span class="ident" id="8220496"><a href="/image/draw/draw_test.go.html#8220488">y</a></span>&nbsp;<span class="op" id="8220498">&lt;</span>&nbsp;<span class="num" id="8220500">16</span><span class="op" id="8220502">;</span>&nbsp;<span class="ident" id="8220504"><a href="/image/draw/draw_test.go.html#8220488">y</a></span><span class="op" id="8220505">++</span>&nbsp;<span class="op" id="8220508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220512">for</span>&nbsp;<span class="ident" id="8220516">x</span>&nbsp;<span class="op" id="8220518">:=</span>&nbsp;<span class="num" id="8220521">0</span><span class="op" id="8220522">;</span>&nbsp;<span class="ident" id="8220524"><a href="/image/draw/draw_test.go.html#8220516">x</a></span>&nbsp;<span class="op" id="8220526">&lt;</span>&nbsp;<span class="num" id="8220528">16</span><span class="op" id="8220530">;</span>&nbsp;<span class="ident" id="8220532"><a href="/image/draw/draw_test.go.html#8220516">x</a></span><span class="op" id="8220533">++</span>&nbsp;<span class="op" id="8220536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220541"><a href="/image/draw/draw_test.go.html#8220438">m</a></span><span class="op" id="8220542">.</span><span class="ident" id="8220543">Set</span><span class="op" id="8220546">(</span><span class="ident" id="8220547"><a href="/image/draw/draw_test.go.html#8220516">x</a></span><span class="op" id="8220548">,</span>&nbsp;<span class="ident" id="8220550"><a href="/image/draw/draw_test.go.html#8220488">y</a></span><span class="op" id="8220551">,</span>&nbsp;<span class="ident" id="8220553"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8220558">.</span><span class="ident" id="8220559">RGBA</span><span class="op" id="8220563">{</span><span class="num" id="8220564">0</span><span class="op" id="8220565">,</span>&nbsp;<span class="builtintype" id="8220567">uint8</span><span class="op" id="8220572">(</span><span class="ident" id="8220573"><a href="/image/draw/draw_test.go.html#8220488">y</a></span>&nbsp;<span class="op" id="8220575">*</span>&nbsp;<span class="ident" id="8220577"><a href="/image/draw/draw_test.go.html#8220412">alpha</a></span>&nbsp;<span class="op" id="8220583">/</span>&nbsp;<span class="num" id="8220585">15</span><span class="op" id="8220587">)</span><span class="op" id="8220588">,</span>&nbsp;<span class="num" id="8220590">0</span><span class="op" id="8220591">,</span>&nbsp;<span class="builtintype" id="8220593">uint8</span><span class="op" id="8220598">(</span><span class="ident" id="8220599"><a href="/image/draw/draw_test.go.html#8220412">alpha</a></span><span class="op" id="8220604">)</span><span class="op" id="8220605">}</span><span class="op" id="8220606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220610">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220616">return</span>&nbsp;<span class="ident" id="8220623"><a href="/image/draw/draw_test.go.html#8220438">m</a></span><br>
<span class="lineno"></span><span class="op" id="8220625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8220628">func</span>&nbsp;<span class="ident" id="8220633">vgradAlpha</span><span class="op" id="8220643">(</span><span class="ident" id="8220644">alpha</span>&nbsp;<span class="builtintype" id="8220650">int</span><span class="op" id="8220653">)</span>&nbsp;<span class="ident" id="8220655"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220660">.</span><span class="ident" id="8220661">Image</span>&nbsp;<span class="op" id="8220667">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220670">m</span>&nbsp;<span class="op" id="8220672">:=</span>&nbsp;<span class="ident" id="8220675"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220680">.</span><span class="ident" id="8220681">NewAlpha</span><span class="op" id="8220689">(</span><span class="ident" id="8220690"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220695">.</span><span class="ident" id="8220696">Rect</span><span class="op" id="8220700">(</span><span class="num" id="8220701">0</span><span class="op" id="8220702">,</span>&nbsp;<span class="num" id="8220704">0</span><span class="op" id="8220705">,</span>&nbsp;<span class="num" id="8220707">16</span><span class="op" id="8220709">,</span>&nbsp;<span class="num" id="8220711">16</span><span class="op" id="8220713">)</span><span class="op" id="8220714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220717">for</span>&nbsp;<span class="ident" id="8220721">y</span>&nbsp;<span class="op" id="8220723">:=</span>&nbsp;<span class="num" id="8220726">0</span><span class="op" id="8220727">;</span>&nbsp;<span class="ident" id="8220729"><a href="/image/draw/draw_test.go.html#8220721">y</a></span>&nbsp;<span class="op" id="8220731">&lt;</span>&nbsp;<span class="num" id="8220733">16</span><span class="op" id="8220735">;</span>&nbsp;<span class="ident" id="8220737"><a href="/image/draw/draw_test.go.html#8220721">y</a></span><span class="op" id="8220738">++</span>&nbsp;<span class="op" id="8220741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220745">for</span>&nbsp;<span class="ident" id="8220749">x</span>&nbsp;<span class="op" id="8220751">:=</span>&nbsp;<span class="num" id="8220754">0</span><span class="op" id="8220755">;</span>&nbsp;<span class="ident" id="8220757"><a href="/image/draw/draw_test.go.html#8220749">x</a></span>&nbsp;<span class="op" id="8220759">&lt;</span>&nbsp;<span class="num" id="8220761">16</span><span class="op" id="8220763">;</span>&nbsp;<span class="ident" id="8220765"><a href="/image/draw/draw_test.go.html#8220749">x</a></span><span class="op" id="8220766">++</span>&nbsp;<span class="op" id="8220769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220774"><a href="/image/draw/draw_test.go.html#8220670">m</a></span><span class="op" id="8220775">.</span><span class="ident" id="8220776">Set</span><span class="op" id="8220779">(</span><span class="ident" id="8220780"><a href="/image/draw/draw_test.go.html#8220749">x</a></span><span class="op" id="8220781">,</span>&nbsp;<span class="ident" id="8220783"><a href="/image/draw/draw_test.go.html#8220721">y</a></span><span class="op" id="8220784">,</span>&nbsp;<span class="ident" id="8220786"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8220791">.</span><span class="ident" id="8220792">Alpha</span><span class="op" id="8220797">{</span><span class="builtintype" id="8220798">uint8</span><span class="op" id="8220803">(</span><span class="ident" id="8220804"><a href="/image/draw/draw_test.go.html#8220721">y</a></span>&nbsp;<span class="op" id="8220806">*</span>&nbsp;<span class="ident" id="8220808"><a href="/image/draw/draw_test.go.html#8220644">alpha</a></span>&nbsp;<span class="op" id="8220814">/</span>&nbsp;<span class="num" id="8220816">15</span><span class="op" id="8220818">)</span><span class="op" id="8220819">}</span><span class="op" id="8220820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220824">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220830">return</span>&nbsp;<span class="ident" id="8220837"><a href="/image/draw/draw_test.go.html#8220670">m</a></span><br>
<span class="lineno"></span><span class="op" id="8220839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8220842">func</span>&nbsp;<span class="ident" id="8220847">vgradGreenNRGBA</span><span class="op" id="8220862">(</span><span class="ident" id="8220863">alpha</span>&nbsp;<span class="builtintype" id="8220869">int</span><span class="op" id="8220872">)</span>&nbsp;<span class="ident" id="8220874"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220879">.</span><span class="ident" id="8220880">Image</span>&nbsp;<span class="op" id="8220886">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220889">m</span>&nbsp;<span class="op" id="8220891">:=</span>&nbsp;<span class="ident" id="8220894"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220899">.</span><span class="ident" id="8220900">NewNRGBA</span><span class="op" id="8220908">(</span><span class="ident" id="8220909"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8220914">.</span><span class="ident" id="8220915">Rect</span><span class="op" id="8220919">(</span><span class="num" id="8220920">0</span><span class="op" id="8220921">,</span>&nbsp;<span class="num" id="8220923">0</span><span class="op" id="8220924">,</span>&nbsp;<span class="num" id="8220926">16</span><span class="op" id="8220928">,</span>&nbsp;<span class="num" id="8220930">16</span><span class="op" id="8220932">)</span><span class="op" id="8220933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220936">for</span>&nbsp;<span class="ident" id="8220940">y</span>&nbsp;<span class="op" id="8220942">:=</span>&nbsp;<span class="num" id="8220945">0</span><span class="op" id="8220946">;</span>&nbsp;<span class="ident" id="8220948"><a href="/image/draw/draw_test.go.html#8220940">y</a></span>&nbsp;<span class="op" id="8220950">&lt;</span>&nbsp;<span class="num" id="8220952">16</span><span class="op" id="8220954">;</span>&nbsp;<span class="ident" id="8220956"><a href="/image/draw/draw_test.go.html#8220940">y</a></span><span class="op" id="8220957">++</span>&nbsp;<span class="op" id="8220960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220964">for</span>&nbsp;<span class="ident" id="8220968">x</span>&nbsp;<span class="op" id="8220970">:=</span>&nbsp;<span class="num" id="8220973">0</span><span class="op" id="8220974">;</span>&nbsp;<span class="ident" id="8220976"><a href="/image/draw/draw_test.go.html#8220968">x</a></span>&nbsp;<span class="op" id="8220978">&lt;</span>&nbsp;<span class="num" id="8220980">16</span><span class="op" id="8220982">;</span>&nbsp;<span class="ident" id="8220984"><a href="/image/draw/draw_test.go.html#8220968">x</a></span><span class="op" id="8220985">++</span>&nbsp;<span class="op" id="8220988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220993"><a href="/image/draw/draw_test.go.html#8220889">m</a></span><span class="op" id="8220994">.</span><span class="ident" id="8220995">Set</span><span class="op" id="8220998">(</span><span class="ident" id="8220999"><a href="/image/draw/draw_test.go.html#8220968">x</a></span><span class="op" id="8221000">,</span>&nbsp;<span class="ident" id="8221002"><a href="/image/draw/draw_test.go.html#8220940">y</a></span><span class="op" id="8221003">,</span>&nbsp;<span class="ident" id="8221005"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8221010">.</span><span class="ident" id="8221011">RGBA</span><span class="op" id="8221015">{</span><span class="num" id="8221016">0</span><span class="op" id="8221017">,</span>&nbsp;<span class="builtintype" id="8221019">uint8</span><span class="op" id="8221024">(</span><span class="ident" id="8221025"><a href="/image/draw/draw_test.go.html#8220940">y</a></span>&nbsp;<span class="op" id="8221027">*</span>&nbsp;<span class="num" id="8221029">0x11</span><span class="op" id="8221033">)</span><span class="op" id="8221034">,</span>&nbsp;<span class="num" id="8221036">0</span><span class="op" id="8221037">,</span>&nbsp;<span class="builtintype" id="8221039">uint8</span><span class="op" id="8221044">(</span><span class="ident" id="8221045"><a href="/image/draw/draw_test.go.html#8220863">alpha</a></span><span class="op" id="8221050">)</span><span class="op" id="8221051">}</span><span class="op" id="8221052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221056">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221062">return</span>&nbsp;<span class="ident" id="8221069"><a href="/image/draw/draw_test.go.html#8220889">m</a></span><br>
<span class="lineno"></span><span class="op" id="8221071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8221074">func</span>&nbsp;<span class="ident" id="8221079">vgradCr</span><span class="op" id="8221086">(</span><span class="op" id="8221087">)</span>&nbsp;<span class="ident" id="8221089"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8221094">.</span><span class="ident" id="8221095">Image</span>&nbsp;<span class="op" id="8221101">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221104">m</span>&nbsp;<span class="op" id="8221106">:=</span>&nbsp;<span class="op" id="8221109">&amp;</span><span class="ident" id="8221110"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8221115">.</span><span class="ident" id="8221116">YCbCr</span><span class="op" id="8221121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221125">Y</span><span class="op" id="8221126">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8221141">make</span><span class="op" id="8221145">(</span><span class="op" id="8221146">[</span><span class="op" id="8221147">]</span><span class="builtintype" id="8221148">byte</span><span class="op" id="8221152">,</span>&nbsp;<span class="num" id="8221154">16</span><span class="op" id="8221156">*</span><span class="num" id="8221157">16</span><span class="op" id="8221159">)</span><span class="op" id="8221160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221164">Cb</span><span class="op" id="8221166">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8221180">make</span><span class="op" id="8221184">(</span><span class="op" id="8221185">[</span><span class="op" id="8221186">]</span><span class="builtintype" id="8221187">byte</span><span class="op" id="8221191">,</span>&nbsp;<span class="num" id="8221193">16</span><span class="op" id="8221195">*</span><span class="num" id="8221196">16</span><span class="op" id="8221198">)</span><span class="op" id="8221199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221203">Cr</span><span class="op" id="8221205">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8221219">make</span><span class="op" id="8221223">(</span><span class="op" id="8221224">[</span><span class="op" id="8221225">]</span><span class="builtintype" id="8221226">byte</span><span class="op" id="8221230">,</span>&nbsp;<span class="num" id="8221232">16</span><span class="op" id="8221234">*</span><span class="num" id="8221235">16</span><span class="op" id="8221237">)</span><span class="op" id="8221238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221242">YStride</span><span class="op" id="8221249">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8221258">16</span><span class="op" id="8221260">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221264">CStride</span><span class="op" id="8221271">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8221280">16</span><span class="op" id="8221282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221286">SubsampleRatio</span><span class="op" id="8221300">:</span>&nbsp;<span class="ident" id="8221302"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8221307">.</span><span class="ident" id="8221308">YCbCrSubsampleRatio444</span><span class="op" id="8221330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221334">Rect</span><span class="op" id="8221338">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221350"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8221355">.</span><span class="ident" id="8221356">Rect</span><span class="op" id="8221360">(</span><span class="num" id="8221361">0</span><span class="op" id="8221362">,</span>&nbsp;<span class="num" id="8221364">0</span><span class="op" id="8221365">,</span>&nbsp;<span class="num" id="8221367">16</span><span class="op" id="8221369">,</span>&nbsp;<span class="num" id="8221371">16</span><span class="op" id="8221373">)</span><span class="op" id="8221374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221380">for</span>&nbsp;<span class="ident" id="8221384">y</span>&nbsp;<span class="op" id="8221386">:=</span>&nbsp;<span class="num" id="8221389">0</span><span class="op" id="8221390">;</span>&nbsp;<span class="ident" id="8221392"><a href="/image/draw/draw_test.go.html#8221384">y</a></span>&nbsp;<span class="op" id="8221394">&lt;</span>&nbsp;<span class="num" id="8221396">16</span><span class="op" id="8221398">;</span>&nbsp;<span class="ident" id="8221400"><a href="/image/draw/draw_test.go.html#8221384">y</a></span><span class="op" id="8221401">++</span>&nbsp;<span class="op" id="8221404">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221408">for</span>&nbsp;<span class="ident" id="8221412">x</span>&nbsp;<span class="op" id="8221414">:=</span>&nbsp;<span class="num" id="8221417">0</span><span class="op" id="8221418">;</span>&nbsp;<span class="ident" id="8221420"><a href="/image/draw/draw_test.go.html#8221412">x</a></span>&nbsp;<span class="op" id="8221422">&lt;</span>&nbsp;<span class="num" id="8221424">16</span><span class="op" id="8221426">;</span>&nbsp;<span class="ident" id="8221428"><a href="/image/draw/draw_test.go.html#8221412">x</a></span><span class="op" id="8221429">++</span>&nbsp;<span class="op" id="8221432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221437"><a href="/image/draw/draw_test.go.html#8221104">m</a></span><span class="op" id="8221438">.</span><span class="ident" id="8221439">Cr</span><span class="op" id="8221441">[</span><span class="ident" id="8221442"><a href="/image/draw/draw_test.go.html#8221384">y</a></span><span class="op" id="8221443">*</span><span class="ident" id="8221444"><a href="/image/draw/draw_test.go.html#8221104">m</a></span><span class="op" id="8221445">.</span><span class="ident" id="8221446">CStride</span><span class="op" id="8221453">+</span><span class="ident" id="8221454"><a href="/image/draw/draw_test.go.html#8221412">x</a></span><span class="op" id="8221455">]</span>&nbsp;<span class="op" id="8221457">=</span>&nbsp;<span class="builtintype" id="8221459">uint8</span><span class="op" id="8221464">(</span><span class="ident" id="8221465"><a href="/image/draw/draw_test.go.html#8221384">y</a></span>&nbsp;<span class="op" id="8221467">*</span>&nbsp;<span class="num" id="8221469">0x11</span><span class="op" id="8221473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221483">return</span>&nbsp;<span class="ident" id="8221490"><a href="/image/draw/draw_test.go.html#8221104">m</a></span><br>
<span class="lineno">75</span><span class="op" id="8221492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8221495">func</span>&nbsp;<span class="ident" id="8221500">hgradRed</span><span class="op" id="8221508">(</span><span class="ident" id="8221509">alpha</span>&nbsp;<span class="builtintype" id="8221515">int</span><span class="op" id="8221518">)</span>&nbsp;<span class="ident" id="8221520"><a href="/image/draw/draw.go.html#6113511">Image</a></span>&nbsp;<span class="op" id="8221526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221529">m</span>&nbsp;<span class="op" id="8221531">:=</span>&nbsp;<span class="ident" id="8221534"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8221539">.</span><span class="ident" id="8221540">NewRGBA</span><span class="op" id="8221547">(</span><span class="ident" id="8221548"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8221553">.</span><span class="ident" id="8221554">Rect</span><span class="op" id="8221558">(</span><span class="num" id="8221559">0</span><span class="op" id="8221560">,</span>&nbsp;<span class="num" id="8221562">0</span><span class="op" id="8221563">,</span>&nbsp;<span class="num" id="8221565">16</span><span class="op" id="8221567">,</span>&nbsp;<span class="num" id="8221569">16</span><span class="op" id="8221571">)</span><span class="op" id="8221572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221575">for</span>&nbsp;<span class="ident" id="8221579">y</span>&nbsp;<span class="op" id="8221581">:=</span>&nbsp;<span class="num" id="8221584">0</span><span class="op" id="8221585">;</span>&nbsp;<span class="ident" id="8221587"><a href="/image/draw/draw_test.go.html#8221579">y</a></span>&nbsp;<span class="op" id="8221589">&lt;</span>&nbsp;<span class="num" id="8221591">16</span><span class="op" id="8221593">;</span>&nbsp;<span class="ident" id="8221595"><a href="/image/draw/draw_test.go.html#8221579">y</a></span><span class="op" id="8221596">++</span>&nbsp;<span class="op" id="8221599">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221603">for</span>&nbsp;<span class="ident" id="8221607">x</span>&nbsp;<span class="op" id="8221609">:=</span>&nbsp;<span class="num" id="8221612">0</span><span class="op" id="8221613">;</span>&nbsp;<span class="ident" id="8221615"><a href="/image/draw/draw_test.go.html#8221607">x</a></span>&nbsp;<span class="op" id="8221617">&lt;</span>&nbsp;<span class="num" id="8221619">16</span><span class="op" id="8221621">;</span>&nbsp;<span class="ident" id="8221623"><a href="/image/draw/draw_test.go.html#8221607">x</a></span><span class="op" id="8221624">++</span>&nbsp;<span class="op" id="8221627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221632"><a href="/image/draw/draw_test.go.html#8221529">m</a></span><span class="op" id="8221633">.</span><span class="ident" id="8221634">Set</span><span class="op" id="8221637">(</span><span class="ident" id="8221638"><a href="/image/draw/draw_test.go.html#8221607">x</a></span><span class="op" id="8221639">,</span>&nbsp;<span class="ident" id="8221641"><a href="/image/draw/draw_test.go.html#8221579">y</a></span><span class="op" id="8221642">,</span>&nbsp;<span class="ident" id="8221644"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8221649">.</span><span class="ident" id="8221650">RGBA</span><span class="op" id="8221654">{</span><span class="builtintype" id="8221655">uint8</span><span class="op" id="8221660">(</span><span class="ident" id="8221661"><a href="/image/draw/draw_test.go.html#8221607">x</a></span>&nbsp;<span class="op" id="8221663">*</span>&nbsp;<span class="ident" id="8221665"><a href="/image/draw/draw_test.go.html#8221509">alpha</a></span>&nbsp;<span class="op" id="8221671">/</span>&nbsp;<span class="num" id="8221673">15</span><span class="op" id="8221675">)</span><span class="op" id="8221676">,</span>&nbsp;<span class="num" id="8221678">0</span><span class="op" id="8221679">,</span>&nbsp;<span class="num" id="8221681">0</span><span class="op" id="8221682">,</span>&nbsp;<span class="builtintype" id="8221684">uint8</span><span class="op" id="8221689">(</span><span class="ident" id="8221690"><a href="/image/draw/draw_test.go.html#8221509">alpha</a></span><span class="op" id="8221695">)</span><span class="op" id="8221696">}</span><span class="op" id="8221697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221707">return</span>&nbsp;<span class="ident" id="8221714"><a href="/image/draw/draw_test.go.html#8221529">m</a></span><br>
<span class="lineno">85</span><span class="op" id="8221716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8221719">func</span>&nbsp;<span class="ident" id="8221724">gradYellow</span><span class="op" id="8221734">(</span><span class="ident" id="8221735">alpha</span>&nbsp;<span class="builtintype" id="8221741">int</span><span class="op" id="8221744">)</span>&nbsp;<span class="ident" id="8221746"><a href="/image/draw/draw.go.html#6113511">Image</a></span>&nbsp;<span class="op" id="8221752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221755">m</span>&nbsp;<span class="op" id="8221757">:=</span>&nbsp;<span class="ident" id="8221760"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8221765">.</span><span class="ident" id="8221766">NewRGBA</span><span class="op" id="8221773">(</span><span class="ident" id="8221774"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8221779">.</span><span class="ident" id="8221780">Rect</span><span class="op" id="8221784">(</span><span class="num" id="8221785">0</span><span class="op" id="8221786">,</span>&nbsp;<span class="num" id="8221788">0</span><span class="op" id="8221789">,</span>&nbsp;<span class="num" id="8221791">16</span><span class="op" id="8221793">,</span>&nbsp;<span class="num" id="8221795">16</span><span class="op" id="8221797">)</span><span class="op" id="8221798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221801">for</span>&nbsp;<span class="ident" id="8221805">y</span>&nbsp;<span class="op" id="8221807">:=</span>&nbsp;<span class="num" id="8221810">0</span><span class="op" id="8221811">;</span>&nbsp;<span class="ident" id="8221813"><a href="/image/draw/draw_test.go.html#8221805">y</a></span>&nbsp;<span class="op" id="8221815">&lt;</span>&nbsp;<span class="num" id="8221817">16</span><span class="op" id="8221819">;</span>&nbsp;<span class="ident" id="8221821"><a href="/image/draw/draw_test.go.html#8221805">y</a></span><span class="op" id="8221822">++</span>&nbsp;<span class="op" id="8221825">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221829">for</span>&nbsp;<span class="ident" id="8221833">x</span>&nbsp;<span class="op" id="8221835">:=</span>&nbsp;<span class="num" id="8221838">0</span><span class="op" id="8221839">;</span>&nbsp;<span class="ident" id="8221841"><a href="/image/draw/draw_test.go.html#8221833">x</a></span>&nbsp;<span class="op" id="8221843">&lt;</span>&nbsp;<span class="num" id="8221845">16</span><span class="op" id="8221847">;</span>&nbsp;<span class="ident" id="8221849"><a href="/image/draw/draw_test.go.html#8221833">x</a></span><span class="op" id="8221850">++</span>&nbsp;<span class="op" id="8221853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221858"><a href="/image/draw/draw_test.go.html#8221755">m</a></span><span class="op" id="8221859">.</span><span class="ident" id="8221860">Set</span><span class="op" id="8221863">(</span><span class="ident" id="8221864"><a href="/image/draw/draw_test.go.html#8221833">x</a></span><span class="op" id="8221865">,</span>&nbsp;<span class="ident" id="8221867"><a href="/image/draw/draw_test.go.html#8221805">y</a></span><span class="op" id="8221868">,</span>&nbsp;<span class="ident" id="8221870"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8221875">.</span><span class="ident" id="8221876">RGBA</span><span class="op" id="8221880">{</span><span class="builtintype" id="8221881">uint8</span><span class="op" id="8221886">(</span><span class="ident" id="8221887"><a href="/image/draw/draw_test.go.html#8221833">x</a></span>&nbsp;<span class="op" id="8221889">*</span>&nbsp;<span class="ident" id="8221891"><a href="/image/draw/draw_test.go.html#8221735">alpha</a></span>&nbsp;<span class="op" id="8221897">/</span>&nbsp;<span class="num" id="8221899">15</span><span class="op" id="8221901">)</span><span class="op" id="8221902">,</span>&nbsp;<span class="builtintype" id="8221904">uint8</span><span class="op" id="8221909">(</span><span class="ident" id="8221910"><a href="/image/draw/draw_test.go.html#8221805">y</a></span>&nbsp;<span class="op" id="8221912">*</span>&nbsp;<span class="ident" id="8221914"><a href="/image/draw/draw_test.go.html#8221735">alpha</a></span>&nbsp;<span class="op" id="8221920">/</span>&nbsp;<span class="num" id="8221922">15</span><span class="op" id="8221924">)</span><span class="op" id="8221925">,</span>&nbsp;<span class="num" id="8221927">0</span><span class="op" id="8221928">,</span>&nbsp;<span class="builtintype" id="8221930">uint8</span><span class="op" id="8221935">(</span><span class="ident" id="8221936"><a href="/image/draw/draw_test.go.html#8221735">alpha</a></span><span class="op" id="8221941">)</span><span class="op" id="8221942">}</span><span class="op" id="8221943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221953">return</span>&nbsp;<span class="ident" id="8221960"><a href="/image/draw/draw_test.go.html#8221755">m</a></span><br>
<span class="lineno">95</span><span class="op" id="8221962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8221965">type</span>&nbsp;<span class="ident" id="8221970">drawTest</span>&nbsp;<span class="keyword" id="8221979">struct</span>&nbsp;<span class="op" id="8221986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221989">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8221998">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222006">src</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8222015"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8222020">.</span><span class="ident" id="8222021">Image</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222028">mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8222037"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8222042">.</span><span class="ident" id="8222043">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222050">op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8222059"><a href="/image/draw/draw.go.html#6113895">Op</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222063">expected</span>&nbsp;<span class="ident" id="8222072"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8222077">.</span><span class="ident" id="8222078">Color</span><br>
<span class="lineno"></span><span class="op" id="8222084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="8222087">var</span>&nbsp;<span class="ident" id="8222091">drawTests</span>&nbsp;<span class="op" id="8222101">=</span>&nbsp;<span class="op" id="8222103">[</span><span class="op" id="8222104">]</span><span class="ident" id="8222105"><a href="/image/draw/draw_test.go.html#8221970">drawTest</a></span><span class="op" id="8222113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8222116">//&nbsp;Uniform&nbsp;mask&nbsp;(0%&nbsp;opaque).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222146">{</span><span class="string" id="8222147">&#34;nop&#34;</span><span class="op" id="8222152">,</span>&nbsp;<span class="ident" id="8222154"><a href="/image/draw/draw_test.go.html#8220401">vgradGreen</a></span><span class="op" id="8222164">(</span><span class="num" id="8222165">255</span><span class="op" id="8222168">)</span><span class="op" id="8222169">,</span>&nbsp;<span class="ident" id="8222171"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8222180">(</span><span class="num" id="8222181">0</span><span class="op" id="8222182">)</span><span class="op" id="8222183">,</span>&nbsp;<span class="ident" id="8222185"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8222189">,</span>&nbsp;<span class="ident" id="8222191"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8222196">.</span><span class="ident" id="8222197">RGBA</span><span class="op" id="8222201">{</span><span class="num" id="8222202">136</span><span class="op" id="8222205">,</span>&nbsp;<span class="num" id="8222207">0</span><span class="op" id="8222208">,</span>&nbsp;<span class="num" id="8222210">0</span><span class="op" id="8222211">,</span>&nbsp;<span class="num" id="8222213">255</span><span class="op" id="8222216">}</span><span class="op" id="8222217">}</span><span class="op" id="8222218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222221">{</span><span class="string" id="8222222">&#34;clear&#34;</span><span class="op" id="8222229">,</span>&nbsp;<span class="ident" id="8222231"><a href="/image/draw/draw_test.go.html#8220401">vgradGreen</a></span><span class="op" id="8222241">(</span><span class="num" id="8222242">255</span><span class="op" id="8222245">)</span><span class="op" id="8222246">,</span>&nbsp;<span class="ident" id="8222248"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8222257">(</span><span class="num" id="8222258">0</span><span class="op" id="8222259">)</span><span class="op" id="8222260">,</span>&nbsp;<span class="ident" id="8222262"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8222265">,</span>&nbsp;<span class="ident" id="8222267"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8222272">.</span><span class="ident" id="8222273">RGBA</span><span class="op" id="8222277">{</span><span class="num" id="8222278">0</span><span class="op" id="8222279">,</span>&nbsp;<span class="num" id="8222281">0</span><span class="op" id="8222282">,</span>&nbsp;<span class="num" id="8222284">0</span><span class="op" id="8222285">,</span>&nbsp;<span class="num" id="8222287">0</span><span class="op" id="8222288">}</span><span class="op" id="8222289">}</span><span class="op" id="8222290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8222293">//&nbsp;Uniform&nbsp;mask&nbsp;(100%,&nbsp;75%,&nbsp;nil)&nbsp;and&nbsp;uniform&nbsp;source.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8222347">//&nbsp;At&nbsp;(x,&nbsp;y)&nbsp;==&nbsp;(8,&nbsp;8):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8222372">//&nbsp;The&nbsp;destination&nbsp;pixel&nbsp;is&nbsp;{136,&nbsp;0,&nbsp;0,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8222419">//&nbsp;The&nbsp;source&nbsp;pixel&nbsp;is&nbsp;{0,&nbsp;0,&nbsp;90,&nbsp;90}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222459">{</span><span class="string" id="8222460">&#34;fill&#34;</span><span class="op" id="8222466">,</span>&nbsp;<span class="ident" id="8222468"><a href="/image/draw/draw_test.go.html#8220193">fillBlue</a></span><span class="op" id="8222476">(</span><span class="num" id="8222477">90</span><span class="op" id="8222479">)</span><span class="op" id="8222480">,</span>&nbsp;<span class="ident" id="8222482"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8222491">(</span><span class="num" id="8222492">255</span><span class="op" id="8222495">)</span><span class="op" id="8222496">,</span>&nbsp;<span class="ident" id="8222498"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8222502">,</span>&nbsp;<span class="ident" id="8222504"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8222509">.</span><span class="ident" id="8222510">RGBA</span><span class="op" id="8222514">{</span><span class="num" id="8222515">88</span><span class="op" id="8222517">,</span>&nbsp;<span class="num" id="8222519">0</span><span class="op" id="8222520">,</span>&nbsp;<span class="num" id="8222522">90</span><span class="op" id="8222524">,</span>&nbsp;<span class="num" id="8222526">255</span><span class="op" id="8222529">}</span><span class="op" id="8222530">}</span><span class="op" id="8222531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222534">{</span><span class="string" id="8222535">&#34;fillSrc&#34;</span><span class="op" id="8222544">,</span>&nbsp;<span class="ident" id="8222546"><a href="/image/draw/draw_test.go.html#8220193">fillBlue</a></span><span class="op" id="8222554">(</span><span class="num" id="8222555">90</span><span class="op" id="8222557">)</span><span class="op" id="8222558">,</span>&nbsp;<span class="ident" id="8222560"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8222569">(</span><span class="num" id="8222570">255</span><span class="op" id="8222573">)</span><span class="op" id="8222574">,</span>&nbsp;<span class="ident" id="8222576"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8222579">,</span>&nbsp;<span class="ident" id="8222581"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8222586">.</span><span class="ident" id="8222587">RGBA</span><span class="op" id="8222591">{</span><span class="num" id="8222592">0</span><span class="op" id="8222593">,</span>&nbsp;<span class="num" id="8222595">0</span><span class="op" id="8222596">,</span>&nbsp;<span class="num" id="8222598">90</span><span class="op" id="8222600">,</span>&nbsp;<span class="num" id="8222602">90</span><span class="op" id="8222604">}</span><span class="op" id="8222605">}</span><span class="op" id="8222606">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222609">{</span><span class="string" id="8222610">&#34;fillAlpha&#34;</span><span class="op" id="8222621">,</span>&nbsp;<span class="ident" id="8222623"><a href="/image/draw/draw_test.go.html#8220193">fillBlue</a></span><span class="op" id="8222631">(</span><span class="num" id="8222632">90</span><span class="op" id="8222634">)</span><span class="op" id="8222635">,</span>&nbsp;<span class="ident" id="8222637"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8222646">(</span><span class="num" id="8222647">192</span><span class="op" id="8222650">)</span><span class="op" id="8222651">,</span>&nbsp;<span class="ident" id="8222653"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8222657">,</span>&nbsp;<span class="ident" id="8222659"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8222664">.</span><span class="ident" id="8222665">RGBA</span><span class="op" id="8222669">{</span><span class="num" id="8222670">100</span><span class="op" id="8222673">,</span>&nbsp;<span class="num" id="8222675">0</span><span class="op" id="8222676">,</span>&nbsp;<span class="num" id="8222678">68</span><span class="op" id="8222680">,</span>&nbsp;<span class="num" id="8222682">255</span><span class="op" id="8222685">}</span><span class="op" id="8222686">}</span><span class="op" id="8222687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222690">{</span><span class="string" id="8222691">&#34;fillAlphaSrc&#34;</span><span class="op" id="8222705">,</span>&nbsp;<span class="ident" id="8222707"><a href="/image/draw/draw_test.go.html#8220193">fillBlue</a></span><span class="op" id="8222715">(</span><span class="num" id="8222716">90</span><span class="op" id="8222718">)</span><span class="op" id="8222719">,</span>&nbsp;<span class="ident" id="8222721"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8222730">(</span><span class="num" id="8222731">192</span><span class="op" id="8222734">)</span><span class="op" id="8222735">,</span>&nbsp;<span class="ident" id="8222737"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8222740">,</span>&nbsp;<span class="ident" id="8222742"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8222747">.</span><span class="ident" id="8222748">RGBA</span><span class="op" id="8222752">{</span><span class="num" id="8222753">0</span><span class="op" id="8222754">,</span>&nbsp;<span class="num" id="8222756">0</span><span class="op" id="8222757">,</span>&nbsp;<span class="num" id="8222759">68</span><span class="op" id="8222761">,</span>&nbsp;<span class="num" id="8222763">68</span><span class="op" id="8222765">}</span><span class="op" id="8222766">}</span><span class="op" id="8222767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222770">{</span><span class="string" id="8222771">&#34;fillNil&#34;</span><span class="op" id="8222780">,</span>&nbsp;<span class="ident" id="8222782"><a href="/image/draw/draw_test.go.html#8220193">fillBlue</a></span><span class="op" id="8222790">(</span><span class="num" id="8222791">90</span><span class="op" id="8222793">)</span><span class="op" id="8222794">,</span>&nbsp;<span class="ident" id="8222796">nil</span><span class="op" id="8222799">,</span>&nbsp;<span class="ident" id="8222801"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8222805">,</span>&nbsp;<span class="ident" id="8222807"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8222812">.</span><span class="ident" id="8222813">RGBA</span><span class="op" id="8222817">{</span><span class="num" id="8222818">88</span><span class="op" id="8222820">,</span>&nbsp;<span class="num" id="8222822">0</span><span class="op" id="8222823">,</span>&nbsp;<span class="num" id="8222825">90</span><span class="op" id="8222827">,</span>&nbsp;<span class="num" id="8222829">255</span><span class="op" id="8222832">}</span><span class="op" id="8222833">}</span><span class="op" id="8222834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222837">{</span><span class="string" id="8222838">&#34;fillNilSrc&#34;</span><span class="op" id="8222850">,</span>&nbsp;<span class="ident" id="8222852"><a href="/image/draw/draw_test.go.html#8220193">fillBlue</a></span><span class="op" id="8222860">(</span><span class="num" id="8222861">90</span><span class="op" id="8222863">)</span><span class="op" id="8222864">,</span>&nbsp;<span class="ident" id="8222866">nil</span><span class="op" id="8222869">,</span>&nbsp;<span class="ident" id="8222871"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8222874">,</span>&nbsp;<span class="ident" id="8222876"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8222881">.</span><span class="ident" id="8222882">RGBA</span><span class="op" id="8222886">{</span><span class="num" id="8222887">0</span><span class="op" id="8222888">,</span>&nbsp;<span class="num" id="8222890">0</span><span class="op" id="8222891">,</span>&nbsp;<span class="num" id="8222893">90</span><span class="op" id="8222895">,</span>&nbsp;<span class="num" id="8222897">90</span><span class="op" id="8222899">}</span><span class="op" id="8222900">}</span><span class="op" id="8222901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8222904">//&nbsp;Uniform&nbsp;mask&nbsp;(100%,&nbsp;75%,&nbsp;nil)&nbsp;and&nbsp;variable&nbsp;source.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8222959">//&nbsp;At&nbsp;(x,&nbsp;y)&nbsp;==&nbsp;(8,&nbsp;8):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8222984">//&nbsp;The&nbsp;destination&nbsp;pixel&nbsp;is&nbsp;{136,&nbsp;0,&nbsp;0,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8223031">//&nbsp;The&nbsp;source&nbsp;pixel&nbsp;is&nbsp;{0,&nbsp;48,&nbsp;0,&nbsp;90}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223071">{</span><span class="string" id="8223072">&#34;copy&#34;</span><span class="op" id="8223078">,</span>&nbsp;<span class="ident" id="8223080"><a href="/image/draw/draw_test.go.html#8220401">vgradGreen</a></span><span class="op" id="8223090">(</span><span class="num" id="8223091">90</span><span class="op" id="8223093">)</span><span class="op" id="8223094">,</span>&nbsp;<span class="ident" id="8223096"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8223105">(</span><span class="num" id="8223106">255</span><span class="op" id="8223109">)</span><span class="op" id="8223110">,</span>&nbsp;<span class="ident" id="8223112"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8223116">,</span>&nbsp;<span class="ident" id="8223118"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8223123">.</span><span class="ident" id="8223124">RGBA</span><span class="op" id="8223128">{</span><span class="num" id="8223129">88</span><span class="op" id="8223131">,</span>&nbsp;<span class="num" id="8223133">48</span><span class="op" id="8223135">,</span>&nbsp;<span class="num" id="8223137">0</span><span class="op" id="8223138">,</span>&nbsp;<span class="num" id="8223140">255</span><span class="op" id="8223143">}</span><span class="op" id="8223144">}</span><span class="op" id="8223145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223148">{</span><span class="string" id="8223149">&#34;copySrc&#34;</span><span class="op" id="8223158">,</span>&nbsp;<span class="ident" id="8223160"><a href="/image/draw/draw_test.go.html#8220401">vgradGreen</a></span><span class="op" id="8223170">(</span><span class="num" id="8223171">90</span><span class="op" id="8223173">)</span><span class="op" id="8223174">,</span>&nbsp;<span class="ident" id="8223176"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8223185">(</span><span class="num" id="8223186">255</span><span class="op" id="8223189">)</span><span class="op" id="8223190">,</span>&nbsp;<span class="ident" id="8223192"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8223195">,</span>&nbsp;<span class="ident" id="8223197"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8223202">.</span><span class="ident" id="8223203">RGBA</span><span class="op" id="8223207">{</span><span class="num" id="8223208">0</span><span class="op" id="8223209">,</span>&nbsp;<span class="num" id="8223211">48</span><span class="op" id="8223213">,</span>&nbsp;<span class="num" id="8223215">0</span><span class="op" id="8223216">,</span>&nbsp;<span class="num" id="8223218">90</span><span class="op" id="8223220">}</span><span class="op" id="8223221">}</span><span class="op" id="8223222">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223225">{</span><span class="string" id="8223226">&#34;copyAlpha&#34;</span><span class="op" id="8223237">,</span>&nbsp;<span class="ident" id="8223239"><a href="/image/draw/draw_test.go.html#8220401">vgradGreen</a></span><span class="op" id="8223249">(</span><span class="num" id="8223250">90</span><span class="op" id="8223252">)</span><span class="op" id="8223253">,</span>&nbsp;<span class="ident" id="8223255"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8223264">(</span><span class="num" id="8223265">192</span><span class="op" id="8223268">)</span><span class="op" id="8223269">,</span>&nbsp;<span class="ident" id="8223271"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8223275">,</span>&nbsp;<span class="ident" id="8223277"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8223282">.</span><span class="ident" id="8223283">RGBA</span><span class="op" id="8223287">{</span><span class="num" id="8223288">100</span><span class="op" id="8223291">,</span>&nbsp;<span class="num" id="8223293">36</span><span class="op" id="8223295">,</span>&nbsp;<span class="num" id="8223297">0</span><span class="op" id="8223298">,</span>&nbsp;<span class="num" id="8223300">255</span><span class="op" id="8223303">}</span><span class="op" id="8223304">}</span><span class="op" id="8223305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223308">{</span><span class="string" id="8223309">&#34;copyAlphaSrc&#34;</span><span class="op" id="8223323">,</span>&nbsp;<span class="ident" id="8223325"><a href="/image/draw/draw_test.go.html#8220401">vgradGreen</a></span><span class="op" id="8223335">(</span><span class="num" id="8223336">90</span><span class="op" id="8223338">)</span><span class="op" id="8223339">,</span>&nbsp;<span class="ident" id="8223341"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8223350">(</span><span class="num" id="8223351">192</span><span class="op" id="8223354">)</span><span class="op" id="8223355">,</span>&nbsp;<span class="ident" id="8223357"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8223360">,</span>&nbsp;<span class="ident" id="8223362"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8223367">.</span><span class="ident" id="8223368">RGBA</span><span class="op" id="8223372">{</span><span class="num" id="8223373">0</span><span class="op" id="8223374">,</span>&nbsp;<span class="num" id="8223376">36</span><span class="op" id="8223378">,</span>&nbsp;<span class="num" id="8223380">0</span><span class="op" id="8223381">,</span>&nbsp;<span class="num" id="8223383">68</span><span class="op" id="8223385">}</span><span class="op" id="8223386">}</span><span class="op" id="8223387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223390">{</span><span class="string" id="8223391">&#34;copyNil&#34;</span><span class="op" id="8223400">,</span>&nbsp;<span class="ident" id="8223402"><a href="/image/draw/draw_test.go.html#8220401">vgradGreen</a></span><span class="op" id="8223412">(</span><span class="num" id="8223413">90</span><span class="op" id="8223415">)</span><span class="op" id="8223416">,</span>&nbsp;<span class="ident" id="8223418">nil</span><span class="op" id="8223421">,</span>&nbsp;<span class="ident" id="8223423"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8223427">,</span>&nbsp;<span class="ident" id="8223429"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8223434">.</span><span class="ident" id="8223435">RGBA</span><span class="op" id="8223439">{</span><span class="num" id="8223440">88</span><span class="op" id="8223442">,</span>&nbsp;<span class="num" id="8223444">48</span><span class="op" id="8223446">,</span>&nbsp;<span class="num" id="8223448">0</span><span class="op" id="8223449">,</span>&nbsp;<span class="num" id="8223451">255</span><span class="op" id="8223454">}</span><span class="op" id="8223455">}</span><span class="op" id="8223456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223459">{</span><span class="string" id="8223460">&#34;copyNilSrc&#34;</span><span class="op" id="8223472">,</span>&nbsp;<span class="ident" id="8223474"><a href="/image/draw/draw_test.go.html#8220401">vgradGreen</a></span><span class="op" id="8223484">(</span><span class="num" id="8223485">90</span><span class="op" id="8223487">)</span><span class="op" id="8223488">,</span>&nbsp;<span class="ident" id="8223490">nil</span><span class="op" id="8223493">,</span>&nbsp;<span class="ident" id="8223495"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8223498">,</span>&nbsp;<span class="ident" id="8223500"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8223505">.</span><span class="ident" id="8223506">RGBA</span><span class="op" id="8223510">{</span><span class="num" id="8223511">0</span><span class="op" id="8223512">,</span>&nbsp;<span class="num" id="8223514">48</span><span class="op" id="8223516">,</span>&nbsp;<span class="num" id="8223518">0</span><span class="op" id="8223519">,</span>&nbsp;<span class="num" id="8223521">90</span><span class="op" id="8223523">}</span><span class="op" id="8223524">}</span><span class="op" id="8223525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8223528">//&nbsp;Uniform&nbsp;mask&nbsp;(100%,&nbsp;75%,&nbsp;nil)&nbsp;and&nbsp;variable&nbsp;NRGBA&nbsp;source.</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8223589">//&nbsp;At&nbsp;(x,&nbsp;y)&nbsp;==&nbsp;(8,&nbsp;8):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8223614">//&nbsp;The&nbsp;destination&nbsp;pixel&nbsp;is&nbsp;{136,&nbsp;0,&nbsp;0,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8223661">//&nbsp;The&nbsp;source&nbsp;pixel&nbsp;is&nbsp;{0,&nbsp;136,&nbsp;0,&nbsp;90}&nbsp;in&nbsp;NRGBA-space,&nbsp;which&nbsp;is&nbsp;{0,&nbsp;48,&nbsp;0,&nbsp;90}&nbsp;in&nbsp;RGBA-space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8223756">//&nbsp;The&nbsp;result&nbsp;pixel&nbsp;is&nbsp;different&nbsp;than&nbsp;in&nbsp;the&nbsp;&#34;copy*&#34;&nbsp;test&nbsp;cases&nbsp;because&nbsp;of&nbsp;rounding&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223849">{</span><span class="string" id="8223850">&#34;nrgba&#34;</span><span class="op" id="8223857">,</span>&nbsp;<span class="ident" id="8223859"><a href="/image/draw/draw_test.go.html#8220847">vgradGreenNRGBA</a></span><span class="op" id="8223874">(</span><span class="num" id="8223875">90</span><span class="op" id="8223877">)</span><span class="op" id="8223878">,</span>&nbsp;<span class="ident" id="8223880"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8223889">(</span><span class="num" id="8223890">255</span><span class="op" id="8223893">)</span><span class="op" id="8223894">,</span>&nbsp;<span class="ident" id="8223896"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8223900">,</span>&nbsp;<span class="ident" id="8223902"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8223907">.</span><span class="ident" id="8223908">RGBA</span><span class="op" id="8223912">{</span><span class="num" id="8223913">88</span><span class="op" id="8223915">,</span>&nbsp;<span class="num" id="8223917">46</span><span class="op" id="8223919">,</span>&nbsp;<span class="num" id="8223921">0</span><span class="op" id="8223922">,</span>&nbsp;<span class="num" id="8223924">255</span><span class="op" id="8223927">}</span><span class="op" id="8223928">}</span><span class="op" id="8223929">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223932">{</span><span class="string" id="8223933">&#34;nrgbaSrc&#34;</span><span class="op" id="8223943">,</span>&nbsp;<span class="ident" id="8223945"><a href="/image/draw/draw_test.go.html#8220847">vgradGreenNRGBA</a></span><span class="op" id="8223960">(</span><span class="num" id="8223961">90</span><span class="op" id="8223963">)</span><span class="op" id="8223964">,</span>&nbsp;<span class="ident" id="8223966"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8223975">(</span><span class="num" id="8223976">255</span><span class="op" id="8223979">)</span><span class="op" id="8223980">,</span>&nbsp;<span class="ident" id="8223982"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8223985">,</span>&nbsp;<span class="ident" id="8223987"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8223992">.</span><span class="ident" id="8223993">RGBA</span><span class="op" id="8223997">{</span><span class="num" id="8223998">0</span><span class="op" id="8223999">,</span>&nbsp;<span class="num" id="8224001">46</span><span class="op" id="8224003">,</span>&nbsp;<span class="num" id="8224005">0</span><span class="op" id="8224006">,</span>&nbsp;<span class="num" id="8224008">90</span><span class="op" id="8224010">}</span><span class="op" id="8224011">}</span><span class="op" id="8224012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224015">{</span><span class="string" id="8224016">&#34;nrgbaAlpha&#34;</span><span class="op" id="8224028">,</span>&nbsp;<span class="ident" id="8224030"><a href="/image/draw/draw_test.go.html#8220847">vgradGreenNRGBA</a></span><span class="op" id="8224045">(</span><span class="num" id="8224046">90</span><span class="op" id="8224048">)</span><span class="op" id="8224049">,</span>&nbsp;<span class="ident" id="8224051"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8224060">(</span><span class="num" id="8224061">192</span><span class="op" id="8224064">)</span><span class="op" id="8224065">,</span>&nbsp;<span class="ident" id="8224067"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8224071">,</span>&nbsp;<span class="ident" id="8224073"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8224078">.</span><span class="ident" id="8224079">RGBA</span><span class="op" id="8224083">{</span><span class="num" id="8224084">100</span><span class="op" id="8224087">,</span>&nbsp;<span class="num" id="8224089">34</span><span class="op" id="8224091">,</span>&nbsp;<span class="num" id="8224093">0</span><span class="op" id="8224094">,</span>&nbsp;<span class="num" id="8224096">255</span><span class="op" id="8224099">}</span><span class="op" id="8224100">}</span><span class="op" id="8224101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224104">{</span><span class="string" id="8224105">&#34;nrgbaAlphaSrc&#34;</span><span class="op" id="8224120">,</span>&nbsp;<span class="ident" id="8224122"><a href="/image/draw/draw_test.go.html#8220847">vgradGreenNRGBA</a></span><span class="op" id="8224137">(</span><span class="num" id="8224138">90</span><span class="op" id="8224140">)</span><span class="op" id="8224141">,</span>&nbsp;<span class="ident" id="8224143"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8224152">(</span><span class="num" id="8224153">192</span><span class="op" id="8224156">)</span><span class="op" id="8224157">,</span>&nbsp;<span class="ident" id="8224159"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8224162">,</span>&nbsp;<span class="ident" id="8224164"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8224169">.</span><span class="ident" id="8224170">RGBA</span><span class="op" id="8224174">{</span><span class="num" id="8224175">0</span><span class="op" id="8224176">,</span>&nbsp;<span class="num" id="8224178">34</span><span class="op" id="8224180">,</span>&nbsp;<span class="num" id="8224182">0</span><span class="op" id="8224183">,</span>&nbsp;<span class="num" id="8224185">68</span><span class="op" id="8224187">}</span><span class="op" id="8224188">}</span><span class="op" id="8224189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224192">{</span><span class="string" id="8224193">&#34;nrgbaNil&#34;</span><span class="op" id="8224203">,</span>&nbsp;<span class="ident" id="8224205"><a href="/image/draw/draw_test.go.html#8220847">vgradGreenNRGBA</a></span><span class="op" id="8224220">(</span><span class="num" id="8224221">90</span><span class="op" id="8224223">)</span><span class="op" id="8224224">,</span>&nbsp;<span class="ident" id="8224226">nil</span><span class="op" id="8224229">,</span>&nbsp;<span class="ident" id="8224231"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8224235">,</span>&nbsp;<span class="ident" id="8224237"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8224242">.</span><span class="ident" id="8224243">RGBA</span><span class="op" id="8224247">{</span><span class="num" id="8224248">88</span><span class="op" id="8224250">,</span>&nbsp;<span class="num" id="8224252">46</span><span class="op" id="8224254">,</span>&nbsp;<span class="num" id="8224256">0</span><span class="op" id="8224257">,</span>&nbsp;<span class="num" id="8224259">255</span><span class="op" id="8224262">}</span><span class="op" id="8224263">}</span><span class="op" id="8224264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224267">{</span><span class="string" id="8224268">&#34;nrgbaNilSrc&#34;</span><span class="op" id="8224281">,</span>&nbsp;<span class="ident" id="8224283"><a href="/image/draw/draw_test.go.html#8220847">vgradGreenNRGBA</a></span><span class="op" id="8224298">(</span><span class="num" id="8224299">90</span><span class="op" id="8224301">)</span><span class="op" id="8224302">,</span>&nbsp;<span class="ident" id="8224304">nil</span><span class="op" id="8224307">,</span>&nbsp;<span class="ident" id="8224309"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8224312">,</span>&nbsp;<span class="ident" id="8224314"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8224319">.</span><span class="ident" id="8224320">RGBA</span><span class="op" id="8224324">{</span><span class="num" id="8224325">0</span><span class="op" id="8224326">,</span>&nbsp;<span class="num" id="8224328">46</span><span class="op" id="8224330">,</span>&nbsp;<span class="num" id="8224332">0</span><span class="op" id="8224333">,</span>&nbsp;<span class="num" id="8224335">90</span><span class="op" id="8224337">}</span><span class="op" id="8224338">}</span><span class="op" id="8224339">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8224342">//&nbsp;Uniform&nbsp;mask&nbsp;(100%,&nbsp;75%,&nbsp;nil)&nbsp;and&nbsp;variable&nbsp;YCbCr&nbsp;source.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8224403">//&nbsp;At&nbsp;(x,&nbsp;y)&nbsp;==&nbsp;(8,&nbsp;8):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8224428">//&nbsp;The&nbsp;destination&nbsp;pixel&nbsp;is&nbsp;{136,&nbsp;0,&nbsp;0,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8224475">//&nbsp;The&nbsp;source&nbsp;pixel&nbsp;is&nbsp;{0,&nbsp;0,&nbsp;136}&nbsp;in&nbsp;YCbCr-space,&nbsp;which&nbsp;is&nbsp;{11,&nbsp;38,&nbsp;0,&nbsp;255}&nbsp;in&nbsp;RGB-space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224567">{</span><span class="string" id="8224568">&#34;ycbcr&#34;</span><span class="op" id="8224575">,</span>&nbsp;<span class="ident" id="8224577"><a href="/image/draw/draw_test.go.html#8221079">vgradCr</a></span><span class="op" id="8224584">(</span><span class="op" id="8224585">)</span><span class="op" id="8224586">,</span>&nbsp;<span class="ident" id="8224588"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8224597">(</span><span class="num" id="8224598">255</span><span class="op" id="8224601">)</span><span class="op" id="8224602">,</span>&nbsp;<span class="ident" id="8224604"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8224608">,</span>&nbsp;<span class="ident" id="8224610"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8224615">.</span><span class="ident" id="8224616">RGBA</span><span class="op" id="8224620">{</span><span class="num" id="8224621">11</span><span class="op" id="8224623">,</span>&nbsp;<span class="num" id="8224625">38</span><span class="op" id="8224627">,</span>&nbsp;<span class="num" id="8224629">0</span><span class="op" id="8224630">,</span>&nbsp;<span class="num" id="8224632">255</span><span class="op" id="8224635">}</span><span class="op" id="8224636">}</span><span class="op" id="8224637">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224640">{</span><span class="string" id="8224641">&#34;ycbcrSrc&#34;</span><span class="op" id="8224651">,</span>&nbsp;<span class="ident" id="8224653"><a href="/image/draw/draw_test.go.html#8221079">vgradCr</a></span><span class="op" id="8224660">(</span><span class="op" id="8224661">)</span><span class="op" id="8224662">,</span>&nbsp;<span class="ident" id="8224664"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8224673">(</span><span class="num" id="8224674">255</span><span class="op" id="8224677">)</span><span class="op" id="8224678">,</span>&nbsp;<span class="ident" id="8224680"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8224683">,</span>&nbsp;<span class="ident" id="8224685"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8224690">.</span><span class="ident" id="8224691">RGBA</span><span class="op" id="8224695">{</span><span class="num" id="8224696">11</span><span class="op" id="8224698">,</span>&nbsp;<span class="num" id="8224700">38</span><span class="op" id="8224702">,</span>&nbsp;<span class="num" id="8224704">0</span><span class="op" id="8224705">,</span>&nbsp;<span class="num" id="8224707">255</span><span class="op" id="8224710">}</span><span class="op" id="8224711">}</span><span class="op" id="8224712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224715">{</span><span class="string" id="8224716">&#34;ycbcrAlpha&#34;</span><span class="op" id="8224728">,</span>&nbsp;<span class="ident" id="8224730"><a href="/image/draw/draw_test.go.html#8221079">vgradCr</a></span><span class="op" id="8224737">(</span><span class="op" id="8224738">)</span><span class="op" id="8224739">,</span>&nbsp;<span class="ident" id="8224741"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8224750">(</span><span class="num" id="8224751">192</span><span class="op" id="8224754">)</span><span class="op" id="8224755">,</span>&nbsp;<span class="ident" id="8224757"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8224761">,</span>&nbsp;<span class="ident" id="8224763"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8224768">.</span><span class="ident" id="8224769">RGBA</span><span class="op" id="8224773">{</span><span class="num" id="8224774">42</span><span class="op" id="8224776">,</span>&nbsp;<span class="num" id="8224778">28</span><span class="op" id="8224780">,</span>&nbsp;<span class="num" id="8224782">0</span><span class="op" id="8224783">,</span>&nbsp;<span class="num" id="8224785">255</span><span class="op" id="8224788">}</span><span class="op" id="8224789">}</span><span class="op" id="8224790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224793">{</span><span class="string" id="8224794">&#34;ycbcrAlphaSrc&#34;</span><span class="op" id="8224809">,</span>&nbsp;<span class="ident" id="8224811"><a href="/image/draw/draw_test.go.html#8221079">vgradCr</a></span><span class="op" id="8224818">(</span><span class="op" id="8224819">)</span><span class="op" id="8224820">,</span>&nbsp;<span class="ident" id="8224822"><a href="/image/draw/draw_test.go.html#8220306">fillAlpha</a></span><span class="op" id="8224831">(</span><span class="num" id="8224832">192</span><span class="op" id="8224835">)</span><span class="op" id="8224836">,</span>&nbsp;<span class="ident" id="8224838"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8224841">,</span>&nbsp;<span class="ident" id="8224843"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8224848">.</span><span class="ident" id="8224849">RGBA</span><span class="op" id="8224853">{</span><span class="num" id="8224854">8</span><span class="op" id="8224855">,</span>&nbsp;<span class="num" id="8224857">28</span><span class="op" id="8224859">,</span>&nbsp;<span class="num" id="8224861">0</span><span class="op" id="8224862">,</span>&nbsp;<span class="num" id="8224864">192</span><span class="op" id="8224867">}</span><span class="op" id="8224868">}</span><span class="op" id="8224869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224872">{</span><span class="string" id="8224873">&#34;ycbcrNil&#34;</span><span class="op" id="8224883">,</span>&nbsp;<span class="ident" id="8224885"><a href="/image/draw/draw_test.go.html#8221079">vgradCr</a></span><span class="op" id="8224892">(</span><span class="op" id="8224893">)</span><span class="op" id="8224894">,</span>&nbsp;<span class="ident" id="8224896">nil</span><span class="op" id="8224899">,</span>&nbsp;<span class="ident" id="8224901"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8224905">,</span>&nbsp;<span class="ident" id="8224907"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8224912">.</span><span class="ident" id="8224913">RGBA</span><span class="op" id="8224917">{</span><span class="num" id="8224918">11</span><span class="op" id="8224920">,</span>&nbsp;<span class="num" id="8224922">38</span><span class="op" id="8224924">,</span>&nbsp;<span class="num" id="8224926">0</span><span class="op" id="8224927">,</span>&nbsp;<span class="num" id="8224929">255</span><span class="op" id="8224932">}</span><span class="op" id="8224933">}</span><span class="op" id="8224934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224937">{</span><span class="string" id="8224938">&#34;ycbcrNilSrc&#34;</span><span class="op" id="8224951">,</span>&nbsp;<span class="ident" id="8224953"><a href="/image/draw/draw_test.go.html#8221079">vgradCr</a></span><span class="op" id="8224960">(</span><span class="op" id="8224961">)</span><span class="op" id="8224962">,</span>&nbsp;<span class="ident" id="8224964">nil</span><span class="op" id="8224967">,</span>&nbsp;<span class="ident" id="8224969"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8224972">,</span>&nbsp;<span class="ident" id="8224974"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8224979">.</span><span class="ident" id="8224980">RGBA</span><span class="op" id="8224984">{</span><span class="num" id="8224985">11</span><span class="op" id="8224987">,</span>&nbsp;<span class="num" id="8224989">38</span><span class="op" id="8224991">,</span>&nbsp;<span class="num" id="8224993">0</span><span class="op" id="8224994">,</span>&nbsp;<span class="num" id="8224996">255</span><span class="op" id="8224999">}</span><span class="op" id="8225000">}</span><span class="op" id="8225001">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8225004">//&nbsp;Variable&nbsp;mask&nbsp;and&nbsp;variable&nbsp;source.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8225043">//&nbsp;At&nbsp;(x,&nbsp;y)&nbsp;==&nbsp;(8,&nbsp;8):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8225068">//&nbsp;The&nbsp;destination&nbsp;pixel&nbsp;is&nbsp;{136,&nbsp;0,&nbsp;0,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8225115">//&nbsp;The&nbsp;source&nbsp;pixel&nbsp;is&nbsp;{0,&nbsp;0,&nbsp;255,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8225157">//&nbsp;The&nbsp;mask&nbsp;pixel&#39;s&nbsp;alpha&nbsp;is&nbsp;102,&nbsp;or&nbsp;40%.</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225200">{</span><span class="string" id="8225201">&#34;generic&#34;</span><span class="op" id="8225210">,</span>&nbsp;<span class="ident" id="8225212"><a href="/image/draw/draw_test.go.html#8220193">fillBlue</a></span><span class="op" id="8225220">(</span><span class="num" id="8225221">255</span><span class="op" id="8225224">)</span><span class="op" id="8225225">,</span>&nbsp;<span class="ident" id="8225227"><a href="/image/draw/draw_test.go.html#8220633">vgradAlpha</a></span><span class="op" id="8225237">(</span><span class="num" id="8225238">192</span><span class="op" id="8225241">)</span><span class="op" id="8225242">,</span>&nbsp;<span class="ident" id="8225244"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8225248">,</span>&nbsp;<span class="ident" id="8225250"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8225255">.</span><span class="ident" id="8225256">RGBA</span><span class="op" id="8225260">{</span><span class="num" id="8225261">81</span><span class="op" id="8225263">,</span>&nbsp;<span class="num" id="8225265">0</span><span class="op" id="8225266">,</span>&nbsp;<span class="num" id="8225268">102</span><span class="op" id="8225271">,</span>&nbsp;<span class="num" id="8225273">255</span><span class="op" id="8225276">}</span><span class="op" id="8225277">}</span><span class="op" id="8225278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225281">{</span><span class="string" id="8225282">&#34;genericSrc&#34;</span><span class="op" id="8225294">,</span>&nbsp;<span class="ident" id="8225296"><a href="/image/draw/draw_test.go.html#8220193">fillBlue</a></span><span class="op" id="8225304">(</span><span class="num" id="8225305">255</span><span class="op" id="8225308">)</span><span class="op" id="8225309">,</span>&nbsp;<span class="ident" id="8225311"><a href="/image/draw/draw_test.go.html#8220633">vgradAlpha</a></span><span class="op" id="8225321">(</span><span class="num" id="8225322">192</span><span class="op" id="8225325">)</span><span class="op" id="8225326">,</span>&nbsp;<span class="ident" id="8225328"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8225331">,</span>&nbsp;<span class="ident" id="8225333"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8225338">.</span><span class="ident" id="8225339">RGBA</span><span class="op" id="8225343">{</span><span class="num" id="8225344">0</span><span class="op" id="8225345">,</span>&nbsp;<span class="num" id="8225347">0</span><span class="op" id="8225348">,</span>&nbsp;<span class="num" id="8225350">102</span><span class="op" id="8225353">,</span>&nbsp;<span class="num" id="8225355">102</span><span class="op" id="8225358">}</span><span class="op" id="8225359">}</span><span class="op" id="8225360">,</span><br>
<span class="lineno"></span><span class="op" id="8225362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8225365">func</span>&nbsp;<span class="ident" id="8225370">makeGolden</span><span class="op" id="8225380">(</span><span class="ident" id="8225381">dst</span>&nbsp;<span class="ident" id="8225385"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225390">.</span><span class="ident" id="8225391">Image</span><span class="op" id="8225396">,</span>&nbsp;<span class="ident" id="8225398">r</span>&nbsp;<span class="ident" id="8225400"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225405">.</span><span class="ident" id="8225406">Rectangle</span><span class="op" id="8225415">,</span>&nbsp;<span class="ident" id="8225417">src</span>&nbsp;<span class="ident" id="8225421"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225426">.</span><span class="ident" id="8225427">Image</span><span class="op" id="8225432">,</span>&nbsp;<span class="ident" id="8225434">sp</span>&nbsp;<span class="ident" id="8225437"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225442">.</span><span class="ident" id="8225443">Point</span><span class="op" id="8225448">,</span>&nbsp;<span class="ident" id="8225450">mask</span>&nbsp;<span class="ident" id="8225455"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225460">.</span><span class="ident" id="8225461">Image</span><span class="op" id="8225466">,</span>&nbsp;<span class="ident" id="8225468">mp</span>&nbsp;<span class="ident" id="8225471"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225476">.</span><span class="ident" id="8225477">Point</span><span class="op" id="8225482">,</span>&nbsp;<span class="ident" id="8225484">op</span>&nbsp;<span class="ident" id="8225487"><a href="/image/draw/draw.go.html#6113895">Op</a></span><span class="op" id="8225489">)</span>&nbsp;<span class="ident" id="8225491"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225496">.</span><span class="ident" id="8225497">Image</span>&nbsp;<span class="op" id="8225503">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8225506">//&nbsp;Since&nbsp;golden&nbsp;is&nbsp;a&nbsp;newly&nbsp;allocated&nbsp;image,&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;to&nbsp;check&nbsp;if&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8225581">//&nbsp;input&nbsp;source&nbsp;and&nbsp;mask&nbsp;images&nbsp;and&nbsp;the&nbsp;output&nbsp;golden&nbsp;image&nbsp;overlap.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225651">b</span>&nbsp;<span class="op" id="8225653">:=</span>&nbsp;<span class="ident" id="8225656"><a href="/image/draw/draw_test.go.html#8225381">dst</a></span><span class="op" id="8225659">.</span><span class="ident" id="8225660">Bounds</span><span class="op" id="8225666">(</span><span class="op" id="8225667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225670">sb</span>&nbsp;<span class="op" id="8225673">:=</span>&nbsp;<span class="ident" id="8225676"><a href="/image/draw/draw_test.go.html#8225417">src</a></span><span class="op" id="8225679">.</span><span class="ident" id="8225680">Bounds</span><span class="op" id="8225686">(</span><span class="op" id="8225687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225690">mb</span>&nbsp;<span class="op" id="8225693">:=</span>&nbsp;<span class="ident" id="8225696"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225701">.</span><span class="ident" id="8225702">Rect</span><span class="op" id="8225706">(</span><span class="op" id="8225707">-</span><span class="num" id="8225708">1e9</span><span class="op" id="8225711">,</span>&nbsp;<span class="op" id="8225713">-</span><span class="num" id="8225714">1e9</span><span class="op" id="8225717">,</span>&nbsp;<span class="num" id="8225719">1e9</span><span class="op" id="8225722">,</span>&nbsp;<span class="num" id="8225724">1e9</span><span class="op" id="8225727">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8225730">if</span>&nbsp;<span class="ident" id="8225733"><a href="/image/draw/draw_test.go.html#8225450">mask</a></span>&nbsp;<span class="op" id="8225738">!=</span>&nbsp;<span class="ident" id="8225741">nil</span>&nbsp;<span class="op" id="8225745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225749"><a href="/image/draw/draw_test.go.html#8225690">mb</a></span>&nbsp;<span class="op" id="8225752">=</span>&nbsp;<span class="ident" id="8225754"><a href="/image/draw/draw_test.go.html#8225450">mask</a></span><span class="op" id="8225758">.</span><span class="ident" id="8225759">Bounds</span><span class="op" id="8225765">(</span><span class="op" id="8225766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225772">golden</span>&nbsp;<span class="op" id="8225779">:=</span>&nbsp;<span class="ident" id="8225782"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225787">.</span><span class="ident" id="8225788">NewRGBA</span><span class="op" id="8225795">(</span><span class="ident" id="8225796"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225801">.</span><span class="ident" id="8225802">Rect</span><span class="op" id="8225806">(</span><span class="num" id="8225807">0</span><span class="op" id="8225808">,</span>&nbsp;<span class="num" id="8225810">0</span><span class="op" id="8225811">,</span>&nbsp;<span class="ident" id="8225813"><a href="/image/draw/draw_test.go.html#8225651">b</a></span><span class="op" id="8225814">.</span><span class="ident" id="8225815">Max</span><span class="op" id="8225818">.</span><span class="ident" id="8225819">X</span><span class="op" id="8225820">,</span>&nbsp;<span class="ident" id="8225822"><a href="/image/draw/draw_test.go.html#8225651">b</a></span><span class="op" id="8225823">.</span><span class="ident" id="8225824">Max</span><span class="op" id="8225827">.</span><span class="ident" id="8225828">Y</span><span class="op" id="8225829">)</span><span class="op" id="8225830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8225833">for</span>&nbsp;<span class="ident" id="8225837">y</span>&nbsp;<span class="op" id="8225839">:=</span>&nbsp;<span class="ident" id="8225842"><a href="/image/draw/draw_test.go.html#8225398">r</a></span><span class="op" id="8225843">.</span><span class="ident" id="8225844">Min</span><span class="op" id="8225847">.</span><span class="ident" id="8225848">Y</span><span class="op" id="8225849">;</span>&nbsp;<span class="ident" id="8225851"><a href="/image/draw/draw_test.go.html#8225837">y</a></span>&nbsp;<span class="op" id="8225853">&lt;</span>&nbsp;<span class="ident" id="8225855"><a href="/image/draw/draw_test.go.html#8225398">r</a></span><span class="op" id="8225856">.</span><span class="ident" id="8225857">Max</span><span class="op" id="8225860">.</span><span class="ident" id="8225861">Y</span><span class="op" id="8225862">;</span>&nbsp;<span class="ident" id="8225864"><a href="/image/draw/draw_test.go.html#8225837">y</a></span><span class="op" id="8225865">++</span>&nbsp;<span class="op" id="8225868">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225872">sy</span>&nbsp;<span class="op" id="8225875">:=</span>&nbsp;<span class="ident" id="8225878"><a href="/image/draw/draw_test.go.html#8225837">y</a></span>&nbsp;<span class="op" id="8225880">+</span>&nbsp;<span class="ident" id="8225882"><a href="/image/draw/draw_test.go.html#8225434">sp</a></span><span class="op" id="8225884">.</span><span class="ident" id="8225885">Y</span>&nbsp;<span class="op" id="8225887">-</span>&nbsp;<span class="ident" id="8225889"><a href="/image/draw/draw_test.go.html#8225398">r</a></span><span class="op" id="8225890">.</span><span class="ident" id="8225891">Min</span><span class="op" id="8225894">.</span><span class="ident" id="8225895">Y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225899">my</span>&nbsp;<span class="op" id="8225902">:=</span>&nbsp;<span class="ident" id="8225905"><a href="/image/draw/draw_test.go.html#8225837">y</a></span>&nbsp;<span class="op" id="8225907">+</span>&nbsp;<span class="ident" id="8225909"><a href="/image/draw/draw_test.go.html#8225468">mp</a></span><span class="op" id="8225911">.</span><span class="ident" id="8225912">Y</span>&nbsp;<span class="op" id="8225914">-</span>&nbsp;<span class="ident" id="8225916"><a href="/image/draw/draw_test.go.html#8225398">r</a></span><span class="op" id="8225917">.</span><span class="ident" id="8225918">Min</span><span class="op" id="8225921">.</span><span class="ident" id="8225922">Y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8225926">for</span>&nbsp;<span class="ident" id="8225930">x</span>&nbsp;<span class="op" id="8225932">:=</span>&nbsp;<span class="ident" id="8225935"><a href="/image/draw/draw_test.go.html#8225398">r</a></span><span class="op" id="8225936">.</span><span class="ident" id="8225937">Min</span><span class="op" id="8225940">.</span><span class="ident" id="8225941">X</span><span class="op" id="8225942">;</span>&nbsp;<span class="ident" id="8225944"><a href="/image/draw/draw_test.go.html#8225930">x</a></span>&nbsp;<span class="op" id="8225946">&lt;</span>&nbsp;<span class="ident" id="8225948"><a href="/image/draw/draw_test.go.html#8225398">r</a></span><span class="op" id="8225949">.</span><span class="ident" id="8225950">Max</span><span class="op" id="8225953">.</span><span class="ident" id="8225954">X</span><span class="op" id="8225955">;</span>&nbsp;<span class="ident" id="8225957"><a href="/image/draw/draw_test.go.html#8225930">x</a></span><span class="op" id="8225958">++</span>&nbsp;<span class="op" id="8225961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8225966">if</span>&nbsp;<span class="op" id="8225969">!</span><span class="op" id="8225970">(</span><span class="ident" id="8225971"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8225976">.</span><span class="ident" id="8225977">Pt</span><span class="op" id="8225979">(</span><span class="ident" id="8225980"><a href="/image/draw/draw_test.go.html#8225930">x</a></span><span class="op" id="8225981">,</span>&nbsp;<span class="ident" id="8225983"><a href="/image/draw/draw_test.go.html#8225837">y</a></span><span class="op" id="8225984">)</span><span class="op" id="8225985">.</span><span class="ident" id="8225986">In</span><span class="op" id="8225988">(</span><span class="ident" id="8225989"><a href="/image/draw/draw_test.go.html#8225651">b</a></span><span class="op" id="8225990">)</span><span class="op" id="8225991">)</span>&nbsp;<span class="op" id="8225993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8225999">continue</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226016">sx</span>&nbsp;<span class="op" id="8226019">:=</span>&nbsp;<span class="ident" id="8226022"><a href="/image/draw/draw_test.go.html#8225930">x</a></span>&nbsp;<span class="op" id="8226024">+</span>&nbsp;<span class="ident" id="8226026"><a href="/image/draw/draw_test.go.html#8225434">sp</a></span><span class="op" id="8226028">.</span><span class="ident" id="8226029">X</span>&nbsp;<span class="op" id="8226031">-</span>&nbsp;<span class="ident" id="8226033"><a href="/image/draw/draw_test.go.html#8225398">r</a></span><span class="op" id="8226034">.</span><span class="ident" id="8226035">Min</span><span class="op" id="8226038">.</span><span class="ident" id="8226039">X</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226044">if</span>&nbsp;<span class="op" id="8226047">!</span><span class="op" id="8226048">(</span><span class="ident" id="8226049"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226054">.</span><span class="ident" id="8226055">Pt</span><span class="op" id="8226057">(</span><span class="ident" id="8226058"><a href="/image/draw/draw_test.go.html#8226016">sx</a></span><span class="op" id="8226060">,</span>&nbsp;<span class="ident" id="8226062"><a href="/image/draw/draw_test.go.html#8225872">sy</a></span><span class="op" id="8226064">)</span><span class="op" id="8226065">.</span><span class="ident" id="8226066">In</span><span class="op" id="8226068">(</span><span class="ident" id="8226069"><a href="/image/draw/draw_test.go.html#8225670">sb</a></span><span class="op" id="8226071">)</span><span class="op" id="8226072">)</span>&nbsp;<span class="op" id="8226074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226080">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226092">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226097">mx</span>&nbsp;<span class="op" id="8226100">:=</span>&nbsp;<span class="ident" id="8226103"><a href="/image/draw/draw_test.go.html#8225930">x</a></span>&nbsp;<span class="op" id="8226105">+</span>&nbsp;<span class="ident" id="8226107"><a href="/image/draw/draw_test.go.html#8225468">mp</a></span><span class="op" id="8226109">.</span><span class="ident" id="8226110">X</span>&nbsp;<span class="op" id="8226112">-</span>&nbsp;<span class="ident" id="8226114"><a href="/image/draw/draw_test.go.html#8225398">r</a></span><span class="op" id="8226115">.</span><span class="ident" id="8226116">Min</span><span class="op" id="8226119">.</span><span class="ident" id="8226120">X</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226125">if</span>&nbsp;<span class="op" id="8226128">!</span><span class="op" id="8226129">(</span><span class="ident" id="8226130"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226135">.</span><span class="ident" id="8226136">Pt</span><span class="op" id="8226138">(</span><span class="ident" id="8226139"><a href="/image/draw/draw_test.go.html#8226097">mx</a></span><span class="op" id="8226141">,</span>&nbsp;<span class="ident" id="8226143"><a href="/image/draw/draw_test.go.html#8225899">my</a></span><span class="op" id="8226145">)</span><span class="op" id="8226146">.</span><span class="ident" id="8226147">In</span><span class="op" id="8226149">(</span><span class="ident" id="8226150"><a href="/image/draw/draw_test.go.html#8225690">mb</a></span><span class="op" id="8226152">)</span><span class="op" id="8226153">)</span>&nbsp;<span class="op" id="8226155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226161">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226179">const</span>&nbsp;<span class="ident" id="8226185">M</span>&nbsp;<span class="op" id="8226187">=</span>&nbsp;<span class="num" id="8226189">1</span><span class="op" id="8226190">&lt;&lt;</span><span class="num" id="8226192">16</span>&nbsp;<span class="op" id="8226195">-</span>&nbsp;<span class="num" id="8226197">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226202">var</span>&nbsp;<span class="ident" id="8226206">dr</span><span class="op" id="8226208">,</span>&nbsp;<span class="ident" id="8226210">dg</span><span class="op" id="8226212">,</span>&nbsp;<span class="ident" id="8226214">db</span><span class="op" id="8226216">,</span>&nbsp;<span class="ident" id="8226218">da</span>&nbsp;<span class="builtintype" id="8226221">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226231">if</span>&nbsp;<span class="ident" id="8226234"><a href="/image/draw/draw_test.go.html#8225484">op</a></span>&nbsp;<span class="op" id="8226237">==</span>&nbsp;<span class="ident" id="8226240"><a href="/image/draw/draw.go.html#6113959">Over</a></span>&nbsp;<span class="op" id="8226245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226251"><a href="/image/draw/draw_test.go.html#8226206">dr</a></span><span class="op" id="8226253">,</span>&nbsp;<span class="ident" id="8226255"><a href="/image/draw/draw_test.go.html#8226210">dg</a></span><span class="op" id="8226257">,</span>&nbsp;<span class="ident" id="8226259"><a href="/image/draw/draw_test.go.html#8226214">db</a></span><span class="op" id="8226261">,</span>&nbsp;<span class="ident" id="8226263"><a href="/image/draw/draw_test.go.html#8226218">da</a></span>&nbsp;<span class="op" id="8226266">=</span>&nbsp;<span class="ident" id="8226268"><a href="/image/draw/draw_test.go.html#8225381">dst</a></span><span class="op" id="8226271">.</span><span class="ident" id="8226272">At</span><span class="op" id="8226274">(</span><span class="ident" id="8226275"><a href="/image/draw/draw_test.go.html#8225930">x</a></span><span class="op" id="8226276">,</span>&nbsp;<span class="ident" id="8226278"><a href="/image/draw/draw_test.go.html#8225837">y</a></span><span class="op" id="8226279">)</span><span class="op" id="8226280">.</span><span class="ident" id="8226281">RGBA</span><span class="op" id="8226285">(</span><span class="op" id="8226286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226291">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226296">sr</span><span class="op" id="8226298">,</span>&nbsp;<span class="ident" id="8226300">sg</span><span class="op" id="8226302">,</span>&nbsp;<span class="ident" id="8226304">sb</span><span class="op" id="8226306">,</span>&nbsp;<span class="ident" id="8226308">sa</span>&nbsp;<span class="op" id="8226311">:=</span>&nbsp;<span class="ident" id="8226314"><a href="/image/draw/draw_test.go.html#8225417">src</a></span><span class="op" id="8226317">.</span><span class="ident" id="8226318">At</span><span class="op" id="8226320">(</span><span class="ident" id="8226321"><a href="/image/draw/draw_test.go.html#8226016">sx</a></span><span class="op" id="8226323">,</span>&nbsp;<span class="ident" id="8226325"><a href="/image/draw/draw_test.go.html#8225872">sy</a></span><span class="op" id="8226327">)</span><span class="op" id="8226328">.</span><span class="ident" id="8226329">RGBA</span><span class="op" id="8226333">(</span><span class="op" id="8226334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226339">ma</span>&nbsp;<span class="op" id="8226342">:=</span>&nbsp;<span class="builtintype" id="8226345">uint32</span><span class="op" id="8226351">(</span><span class="ident" id="8226352"><a href="/image/draw/draw_test.go.html#8226185">M</a></span><span class="op" id="8226353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226358">if</span>&nbsp;<span class="ident" id="8226361"><a href="/image/draw/draw_test.go.html#8225450">mask</a></span>&nbsp;<span class="op" id="8226366">!=</span>&nbsp;<span class="ident" id="8226369">nil</span>&nbsp;<span class="op" id="8226373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226379">_</span><span class="op" id="8226380">,</span>&nbsp;<span class="ident" id="8226382">_</span><span class="op" id="8226383">,</span>&nbsp;<span class="ident" id="8226385">_</span><span class="op" id="8226386">,</span>&nbsp;<span class="ident" id="8226388"><a href="/image/draw/draw_test.go.html#8226339">ma</a></span>&nbsp;<span class="op" id="8226391">=</span>&nbsp;<span class="ident" id="8226393"><a href="/image/draw/draw_test.go.html#8225450">mask</a></span><span class="op" id="8226397">.</span><span class="ident" id="8226398">At</span><span class="op" id="8226400">(</span><span class="ident" id="8226401"><a href="/image/draw/draw_test.go.html#8226097">mx</a></span><span class="op" id="8226403">,</span>&nbsp;<span class="ident" id="8226405"><a href="/image/draw/draw_test.go.html#8225899">my</a></span><span class="op" id="8226407">)</span><span class="op" id="8226408">.</span><span class="ident" id="8226409">RGBA</span><span class="op" id="8226413">(</span><span class="op" id="8226414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226419">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226424">a</span>&nbsp;<span class="op" id="8226426">:=</span>&nbsp;<span class="ident" id="8226429"><a href="/image/draw/draw_test.go.html#8226185">M</a></span>&nbsp;<span class="op" id="8226431">-</span>&nbsp;<span class="op" id="8226433">(</span><span class="ident" id="8226434"><a href="/image/draw/draw_test.go.html#8226308">sa</a></span>&nbsp;<span class="op" id="8226437">*</span>&nbsp;<span class="ident" id="8226439"><a href="/image/draw/draw_test.go.html#8226339">ma</a></span>&nbsp;<span class="op" id="8226442">/</span>&nbsp;<span class="ident" id="8226444"><a href="/image/draw/draw_test.go.html#8226185">M</a></span><span class="op" id="8226445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226450"><a href="/image/draw/draw_test.go.html#8225772">golden</a></span><span class="op" id="8226456">.</span><span class="ident" id="8226457">Set</span><span class="op" id="8226460">(</span><span class="ident" id="8226461"><a href="/image/draw/draw_test.go.html#8225930">x</a></span><span class="op" id="8226462">,</span>&nbsp;<span class="ident" id="8226464"><a href="/image/draw/draw_test.go.html#8225837">y</a></span><span class="op" id="8226465">,</span>&nbsp;<span class="ident" id="8226467"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8226472">.</span><span class="ident" id="8226473">RGBA64</span><span class="op" id="8226479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8226485">uint16</span><span class="op" id="8226491">(</span><span class="op" id="8226492">(</span><span class="ident" id="8226493"><a href="/image/draw/draw_test.go.html#8226206">dr</a></span><span class="op" id="8226495">*</span><span class="ident" id="8226496"><a href="/image/draw/draw_test.go.html#8226424">a</a></span>&nbsp;<span class="op" id="8226498">+</span>&nbsp;<span class="ident" id="8226500"><a href="/image/draw/draw_test.go.html#8226296">sr</a></span><span class="op" id="8226502">*</span><span class="ident" id="8226503"><a href="/image/draw/draw_test.go.html#8226339">ma</a></span><span class="op" id="8226505">)</span>&nbsp;<span class="op" id="8226507">/</span>&nbsp;<span class="ident" id="8226509"><a href="/image/draw/draw_test.go.html#8226185">M</a></span><span class="op" id="8226510">)</span><span class="op" id="8226511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8226517">uint16</span><span class="op" id="8226523">(</span><span class="op" id="8226524">(</span><span class="ident" id="8226525"><a href="/image/draw/draw_test.go.html#8226210">dg</a></span><span class="op" id="8226527">*</span><span class="ident" id="8226528"><a href="/image/draw/draw_test.go.html#8226424">a</a></span>&nbsp;<span class="op" id="8226530">+</span>&nbsp;<span class="ident" id="8226532"><a href="/image/draw/draw_test.go.html#8226300">sg</a></span><span class="op" id="8226534">*</span><span class="ident" id="8226535"><a href="/image/draw/draw_test.go.html#8226339">ma</a></span><span class="op" id="8226537">)</span>&nbsp;<span class="op" id="8226539">/</span>&nbsp;<span class="ident" id="8226541"><a href="/image/draw/draw_test.go.html#8226185">M</a></span><span class="op" id="8226542">)</span><span class="op" id="8226543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8226549">uint16</span><span class="op" id="8226555">(</span><span class="op" id="8226556">(</span><span class="ident" id="8226557"><a href="/image/draw/draw_test.go.html#8226214">db</a></span><span class="op" id="8226559">*</span><span class="ident" id="8226560"><a href="/image/draw/draw_test.go.html#8226424">a</a></span>&nbsp;<span class="op" id="8226562">+</span>&nbsp;<span class="ident" id="8226564"><a href="/image/draw/draw_test.go.html#8226304">sb</a></span><span class="op" id="8226566">*</span><span class="ident" id="8226567"><a href="/image/draw/draw_test.go.html#8226339">ma</a></span><span class="op" id="8226569">)</span>&nbsp;<span class="op" id="8226571">/</span>&nbsp;<span class="ident" id="8226573"><a href="/image/draw/draw_test.go.html#8226185">M</a></span><span class="op" id="8226574">)</span><span class="op" id="8226575">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8226581">uint16</span><span class="op" id="8226587">(</span><span class="op" id="8226588">(</span><span class="ident" id="8226589"><a href="/image/draw/draw_test.go.html#8226218">da</a></span><span class="op" id="8226591">*</span><span class="ident" id="8226592"><a href="/image/draw/draw_test.go.html#8226424">a</a></span>&nbsp;<span class="op" id="8226594">+</span>&nbsp;<span class="ident" id="8226596"><a href="/image/draw/draw_test.go.html#8226308">sa</a></span><span class="op" id="8226598">*</span><span class="ident" id="8226599"><a href="/image/draw/draw_test.go.html#8226339">ma</a></span><span class="op" id="8226601">)</span>&nbsp;<span class="op" id="8226603">/</span>&nbsp;<span class="ident" id="8226605"><a href="/image/draw/draw_test.go.html#8226185">M</a></span><span class="op" id="8226606">)</span><span class="op" id="8226607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226612">}</span><span class="op" id="8226613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226623">return</span>&nbsp;<span class="ident" id="8226630"><a href="/image/draw/draw_test.go.html#8225772">golden</a></span><span class="op" id="8226636">.</span><span class="ident" id="8226637">SubImage</span><span class="op" id="8226645">(</span><span class="ident" id="8226646"><a href="/image/draw/draw_test.go.html#8225651">b</a></span><span class="op" id="8226647">)</span><br>
<span class="lineno">205</span><span class="op" id="8226649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8226652">func</span>&nbsp;<span class="ident" id="8226657">TestDraw</span><span class="op" id="8226665">(</span><span class="ident" id="8226666">t</span>&nbsp;<span class="op" id="8226668">*</span><span class="ident" id="8226669"><a href="/image/draw/draw_test.go.html#8220026">testing</a></span><span class="op" id="8226676">.</span><span class="ident" id="8226677">T</span><span class="op" id="8226678">)</span>&nbsp;<span class="op" id="8226680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226683">rr</span>&nbsp;<span class="op" id="8226686">:=</span>&nbsp;<span class="op" id="8226689">[</span><span class="op" id="8226690">]</span><span class="ident" id="8226691"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226696">.</span><span class="ident" id="8226697">Rectangle</span><span class="op" id="8226706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226710"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226715">.</span><span class="ident" id="8226716">Rect</span><span class="op" id="8226720">(</span><span class="num" id="8226721">0</span><span class="op" id="8226722">,</span>&nbsp;<span class="num" id="8226724">0</span><span class="op" id="8226725">,</span>&nbsp;<span class="num" id="8226727">0</span><span class="op" id="8226728">,</span>&nbsp;<span class="num" id="8226730">0</span><span class="op" id="8226731">)</span><span class="op" id="8226732">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226736"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226741">.</span><span class="ident" id="8226742">Rect</span><span class="op" id="8226746">(</span><span class="num" id="8226747">0</span><span class="op" id="8226748">,</span>&nbsp;<span class="num" id="8226750">0</span><span class="op" id="8226751">,</span>&nbsp;<span class="num" id="8226753">16</span><span class="op" id="8226755">,</span>&nbsp;<span class="num" id="8226757">16</span><span class="op" id="8226759">)</span><span class="op" id="8226760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226764"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226769">.</span><span class="ident" id="8226770">Rect</span><span class="op" id="8226774">(</span><span class="num" id="8226775">3</span><span class="op" id="8226776">,</span>&nbsp;<span class="num" id="8226778">5</span><span class="op" id="8226779">,</span>&nbsp;<span class="num" id="8226781">12</span><span class="op" id="8226783">,</span>&nbsp;<span class="num" id="8226785">10</span><span class="op" id="8226787">)</span><span class="op" id="8226788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226792"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226797">.</span><span class="ident" id="8226798">Rect</span><span class="op" id="8226802">(</span><span class="num" id="8226803">0</span><span class="op" id="8226804">,</span>&nbsp;<span class="num" id="8226806">0</span><span class="op" id="8226807">,</span>&nbsp;<span class="num" id="8226809">9</span><span class="op" id="8226810">,</span>&nbsp;<span class="num" id="8226812">9</span><span class="op" id="8226813">)</span><span class="op" id="8226814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226818"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226823">.</span><span class="ident" id="8226824">Rect</span><span class="op" id="8226828">(</span><span class="num" id="8226829">8</span><span class="op" id="8226830">,</span>&nbsp;<span class="num" id="8226832">8</span><span class="op" id="8226833">,</span>&nbsp;<span class="num" id="8226835">16</span><span class="op" id="8226837">,</span>&nbsp;<span class="num" id="8226839">16</span><span class="op" id="8226841">)</span><span class="op" id="8226842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226846"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226851">.</span><span class="ident" id="8226852">Rect</span><span class="op" id="8226856">(</span><span class="num" id="8226857">8</span><span class="op" id="8226858">,</span>&nbsp;<span class="num" id="8226860">0</span><span class="op" id="8226861">,</span>&nbsp;<span class="num" id="8226863">9</span><span class="op" id="8226864">,</span>&nbsp;<span class="num" id="8226866">16</span><span class="op" id="8226868">)</span><span class="op" id="8226869">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226873"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226878">.</span><span class="ident" id="8226879">Rect</span><span class="op" id="8226883">(</span><span class="num" id="8226884">0</span><span class="op" id="8226885">,</span>&nbsp;<span class="num" id="8226887">8</span><span class="op" id="8226888">,</span>&nbsp;<span class="num" id="8226890">16</span><span class="op" id="8226892">,</span>&nbsp;<span class="num" id="8226894">9</span><span class="op" id="8226895">)</span><span class="op" id="8226896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226900"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226905">.</span><span class="ident" id="8226906">Rect</span><span class="op" id="8226910">(</span><span class="num" id="8226911">8</span><span class="op" id="8226912">,</span>&nbsp;<span class="num" id="8226914">8</span><span class="op" id="8226915">,</span>&nbsp;<span class="num" id="8226917">9</span><span class="op" id="8226918">,</span>&nbsp;<span class="num" id="8226920">9</span><span class="op" id="8226921">)</span><span class="op" id="8226922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226926"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8226931">.</span><span class="ident" id="8226932">Rect</span><span class="op" id="8226936">(</span><span class="num" id="8226937">8</span><span class="op" id="8226938">,</span>&nbsp;<span class="num" id="8226940">8</span><span class="op" id="8226941">,</span>&nbsp;<span class="num" id="8226943">8</span><span class="op" id="8226944">,</span>&nbsp;<span class="num" id="8226946">8</span><span class="op" id="8226947">)</span><span class="op" id="8226948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226954">for</span>&nbsp;<span class="ident" id="8226958">_</span><span class="op" id="8226959">,</span>&nbsp;<span class="ident" id="8226961">r</span>&nbsp;<span class="op" id="8226963">:=</span>&nbsp;<span class="keyword" id="8226966">range</span>&nbsp;<span class="ident" id="8226972"><a href="/image/draw/draw_test.go.html#8226683">rr</a></span>&nbsp;<span class="op" id="8226975">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226978">loop</span><span class="op" id="8226982">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226986">for</span>&nbsp;<span class="ident" id="8226990">_</span><span class="op" id="8226991">,</span>&nbsp;<span class="ident" id="8226993">test</span>&nbsp;<span class="op" id="8226998">:=</span>&nbsp;<span class="keyword" id="8227001">range</span>&nbsp;<span class="ident" id="8227007"><a href="/image/draw/draw_test.go.html#8222091">drawTests</a></span>&nbsp;<span class="op" id="8227017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227022">dst</span>&nbsp;<span class="op" id="8227026">:=</span>&nbsp;<span class="ident" id="8227029"><a href="/image/draw/draw_test.go.html#8221500">hgradRed</a></span><span class="op" id="8227037">(</span><span class="num" id="8227038">255</span><span class="op" id="8227041">)</span><span class="op" id="8227042">.</span><span class="op" id="8227043">(</span><span class="op" id="8227044">*</span><span class="ident" id="8227045"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8227050">.</span><span class="ident" id="8227051">RGBA</span><span class="op" id="8227055">)</span><span class="op" id="8227056">.</span><span class="ident" id="8227057">SubImage</span><span class="op" id="8227065">(</span><span class="ident" id="8227066"><a href="/image/draw/draw_test.go.html#8226961">r</a></span><span class="op" id="8227067">)</span><span class="op" id="8227068">.</span><span class="op" id="8227069">(</span><span class="ident" id="8227070"><a href="/image/draw/draw.go.html#6113511">Image</a></span><span class="op" id="8227075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8227080">//&nbsp;Draw&nbsp;the&nbsp;(src,&nbsp;mask,&nbsp;op)&nbsp;onto&nbsp;a&nbsp;copy&nbsp;of&nbsp;dst&nbsp;using&nbsp;a&nbsp;slow&nbsp;but&nbsp;obviously&nbsp;correct&nbsp;implementation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227181">golden</span>&nbsp;<span class="op" id="8227188">:=</span>&nbsp;<span class="ident" id="8227191"><a href="/image/draw/draw_test.go.html#8225370">makeGolden</a></span><span class="op" id="8227201">(</span><span class="ident" id="8227202"><a href="/image/draw/draw_test.go.html#8227022">dst</a></span><span class="op" id="8227205">,</span>&nbsp;<span class="ident" id="8227207"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8227212">.</span><span class="ident" id="8227213">Rect</span><span class="op" id="8227217">(</span><span class="num" id="8227218">0</span><span class="op" id="8227219">,</span>&nbsp;<span class="num" id="8227221">0</span><span class="op" id="8227222">,</span>&nbsp;<span class="num" id="8227224">16</span><span class="op" id="8227226">,</span>&nbsp;<span class="num" id="8227228">16</span><span class="op" id="8227230">)</span><span class="op" id="8227231">,</span>&nbsp;<span class="ident" id="8227233"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8227237">.</span><span class="ident" id="8227238">src</span><span class="op" id="8227241">,</span>&nbsp;<span class="ident" id="8227243"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8227248">.</span><span class="ident" id="8227249">ZP</span><span class="op" id="8227251">,</span>&nbsp;<span class="ident" id="8227253"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8227257">.</span><span class="ident" id="8227258">mask</span><span class="op" id="8227262">,</span>&nbsp;<span class="ident" id="8227264"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8227269">.</span><span class="ident" id="8227270">ZP</span><span class="op" id="8227272">,</span>&nbsp;<span class="ident" id="8227274"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8227278">.</span><span class="ident" id="8227279">op</span><span class="op" id="8227281">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227286">b</span>&nbsp;<span class="op" id="8227288">:=</span>&nbsp;<span class="ident" id="8227291"><a href="/image/draw/draw_test.go.html#8227022">dst</a></span><span class="op" id="8227294">.</span><span class="ident" id="8227295">Bounds</span><span class="op" id="8227301">(</span><span class="op" id="8227302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227307">if</span>&nbsp;<span class="op" id="8227310">!</span><span class="ident" id="8227311"><a href="/image/draw/draw_test.go.html#8227286">b</a></span><span class="op" id="8227312">.</span><span class="ident" id="8227313">Eq</span><span class="op" id="8227315">(</span><span class="ident" id="8227316"><a href="/image/draw/draw_test.go.html#8227181">golden</a></span><span class="op" id="8227322">.</span><span class="ident" id="8227323">Bounds</span><span class="op" id="8227329">(</span><span class="op" id="8227330">)</span><span class="op" id="8227331">)</span>&nbsp;<span class="op" id="8227333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227339"><a href="/image/draw/draw_test.go.html#8226666">t</a></span><span class="op" id="8227340">.</span><span class="ident" id="8227341">Errorf</span><span class="op" id="8227347">(</span><span class="string" id="8227348">&#34;draw&nbsp;%v&nbsp;%s:&nbsp;bounds&nbsp;%v&nbsp;versus&nbsp;%v&#34;</span><span class="op" id="8227381">,</span>&nbsp;<span class="ident" id="8227383"><a href="/image/draw/draw_test.go.html#8226961">r</a></span><span class="op" id="8227384">,</span>&nbsp;<span class="ident" id="8227386"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8227390">.</span><span class="ident" id="8227391">desc</span><span class="op" id="8227395">,</span>&nbsp;<span class="ident" id="8227397"><a href="/image/draw/draw_test.go.html#8227022">dst</a></span><span class="op" id="8227400">.</span><span class="ident" id="8227401">Bounds</span><span class="op" id="8227407">(</span><span class="op" id="8227408">)</span><span class="op" id="8227409">,</span>&nbsp;<span class="ident" id="8227411"><a href="/image/draw/draw_test.go.html#8227181">golden</a></span><span class="op" id="8227417">.</span><span class="ident" id="8227418">Bounds</span><span class="op" id="8227424">(</span><span class="op" id="8227425">)</span><span class="op" id="8227426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227432">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227444">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8227449">//&nbsp;Draw&nbsp;the&nbsp;same&nbsp;combination&nbsp;onto&nbsp;the&nbsp;actual&nbsp;dst&nbsp;using&nbsp;the&nbsp;optimized&nbsp;DrawMask&nbsp;implementation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227546"><a href="/image/draw/draw.go.html#6116076">DrawMask</a></span><span class="op" id="8227554">(</span><span class="ident" id="8227555"><a href="/image/draw/draw_test.go.html#8227022">dst</a></span><span class="op" id="8227558">,</span>&nbsp;<span class="ident" id="8227560"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8227565">.</span><span class="ident" id="8227566">Rect</span><span class="op" id="8227570">(</span><span class="num" id="8227571">0</span><span class="op" id="8227572">,</span>&nbsp;<span class="num" id="8227574">0</span><span class="op" id="8227575">,</span>&nbsp;<span class="num" id="8227577">16</span><span class="op" id="8227579">,</span>&nbsp;<span class="num" id="8227581">16</span><span class="op" id="8227583">)</span><span class="op" id="8227584">,</span>&nbsp;<span class="ident" id="8227586"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8227590">.</span><span class="ident" id="8227591">src</span><span class="op" id="8227594">,</span>&nbsp;<span class="ident" id="8227596"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8227601">.</span><span class="ident" id="8227602">ZP</span><span class="op" id="8227604">,</span>&nbsp;<span class="ident" id="8227606"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8227610">.</span><span class="ident" id="8227611">mask</span><span class="op" id="8227615">,</span>&nbsp;<span class="ident" id="8227617"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8227622">.</span><span class="ident" id="8227623">ZP</span><span class="op" id="8227625">,</span>&nbsp;<span class="ident" id="8227627"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8227631">.</span><span class="ident" id="8227632">op</span><span class="op" id="8227634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227639">if</span>&nbsp;<span class="ident" id="8227642"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8227647">.</span><span class="ident" id="8227648">Pt</span><span class="op" id="8227650">(</span><span class="num" id="8227651">8</span><span class="op" id="8227652">,</span>&nbsp;<span class="num" id="8227654">8</span><span class="op" id="8227655">)</span><span class="op" id="8227656">.</span><span class="ident" id="8227657">In</span><span class="op" id="8227659">(</span><span class="ident" id="8227660"><a href="/image/draw/draw_test.go.html#8226961">r</a></span><span class="op" id="8227661">)</span>&nbsp;<span class="op" id="8227663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8227669">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;resultant&nbsp;pixel&nbsp;at&nbsp;(8,&nbsp;8)&nbsp;matches&nbsp;what&nbsp;we&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8227740">//&nbsp;(the&nbsp;expected&nbsp;value&nbsp;can&nbsp;be&nbsp;verified&nbsp;by&nbsp;hand).</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227793">if</span>&nbsp;<span class="op" id="8227796">!</span><span class="ident" id="8227797"><a href="/image/draw/draw_test.go.html#8220044">eq</a></span><span class="op" id="8227799">(</span><span class="ident" id="8227800"><a href="/image/draw/draw_test.go.html#8227022">dst</a></span><span class="op" id="8227803">.</span><span class="ident" id="8227804">At</span><span class="op" id="8227806">(</span><span class="num" id="8227807">8</span><span class="op" id="8227808">,</span>&nbsp;<span class="num" id="8227810">8</span><span class="op" id="8227811">)</span><span class="op" id="8227812">,</span>&nbsp;<span class="ident" id="8227814"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8227818">.</span><span class="ident" id="8227819">expected</span><span class="op" id="8227827">)</span>&nbsp;<span class="op" id="8227829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227836"><a href="/image/draw/draw_test.go.html#8226666">t</a></span><span class="op" id="8227837">.</span><span class="ident" id="8227838">Errorf</span><span class="op" id="8227844">(</span><span class="string" id="8227845">&#34;draw&nbsp;%v&nbsp;%s:&nbsp;at&nbsp;(8,&nbsp;8)&nbsp;%v&nbsp;versus&nbsp;%v&#34;</span><span class="op" id="8227881">,</span>&nbsp;<span class="ident" id="8227883"><a href="/image/draw/draw_test.go.html#8226961">r</a></span><span class="op" id="8227884">,</span>&nbsp;<span class="ident" id="8227886"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8227890">.</span><span class="ident" id="8227891">desc</span><span class="op" id="8227895">,</span>&nbsp;<span class="ident" id="8227897"><a href="/image/draw/draw_test.go.html#8227022">dst</a></span><span class="op" id="8227900">.</span><span class="ident" id="8227901">At</span><span class="op" id="8227903">(</span><span class="num" id="8227904">8</span><span class="op" id="8227905">,</span>&nbsp;<span class="num" id="8227907">8</span><span class="op" id="8227908">)</span><span class="op" id="8227909">,</span>&nbsp;<span class="ident" id="8227911"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8227915">.</span><span class="ident" id="8227916">expected</span><span class="op" id="8227924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227931">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227949">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8227954">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;resultant&nbsp;dst&nbsp;image&nbsp;matches&nbsp;the&nbsp;golden&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228022">for</span>&nbsp;<span class="ident" id="8228026">y</span>&nbsp;<span class="op" id="8228028">:=</span>&nbsp;<span class="ident" id="8228031"><a href="/image/draw/draw_test.go.html#8227286">b</a></span><span class="op" id="8228032">.</span><span class="ident" id="8228033">Min</span><span class="op" id="8228036">.</span><span class="ident" id="8228037">Y</span><span class="op" id="8228038">;</span>&nbsp;<span class="ident" id="8228040"><a href="/image/draw/draw_test.go.html#8228026">y</a></span>&nbsp;<span class="op" id="8228042">&lt;</span>&nbsp;<span class="ident" id="8228044"><a href="/image/draw/draw_test.go.html#8227286">b</a></span><span class="op" id="8228045">.</span><span class="ident" id="8228046">Max</span><span class="op" id="8228049">.</span><span class="ident" id="8228050">Y</span><span class="op" id="8228051">;</span>&nbsp;<span class="ident" id="8228053"><a href="/image/draw/draw_test.go.html#8228026">y</a></span><span class="op" id="8228054">++</span>&nbsp;<span class="op" id="8228057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228063">for</span>&nbsp;<span class="ident" id="8228067">x</span>&nbsp;<span class="op" id="8228069">:=</span>&nbsp;<span class="ident" id="8228072"><a href="/image/draw/draw_test.go.html#8227286">b</a></span><span class="op" id="8228073">.</span><span class="ident" id="8228074">Min</span><span class="op" id="8228077">.</span><span class="ident" id="8228078">X</span><span class="op" id="8228079">;</span>&nbsp;<span class="ident" id="8228081"><a href="/image/draw/draw_test.go.html#8228067">x</a></span>&nbsp;<span class="op" id="8228083">&lt;</span>&nbsp;<span class="ident" id="8228085"><a href="/image/draw/draw_test.go.html#8227286">b</a></span><span class="op" id="8228086">.</span><span class="ident" id="8228087">Max</span><span class="op" id="8228090">.</span><span class="ident" id="8228091">X</span><span class="op" id="8228092">;</span>&nbsp;<span class="ident" id="8228094"><a href="/image/draw/draw_test.go.html#8228067">x</a></span><span class="op" id="8228095">++</span>&nbsp;<span class="op" id="8228098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228105">if</span>&nbsp;<span class="op" id="8228108">!</span><span class="ident" id="8228109"><a href="/image/draw/draw_test.go.html#8220044">eq</a></span><span class="op" id="8228111">(</span><span class="ident" id="8228112"><a href="/image/draw/draw_test.go.html#8227022">dst</a></span><span class="op" id="8228115">.</span><span class="ident" id="8228116">At</span><span class="op" id="8228118">(</span><span class="ident" id="8228119"><a href="/image/draw/draw_test.go.html#8228067">x</a></span><span class="op" id="8228120">,</span>&nbsp;<span class="ident" id="8228122"><a href="/image/draw/draw_test.go.html#8228026">y</a></span><span class="op" id="8228123">)</span><span class="op" id="8228124">,</span>&nbsp;<span class="ident" id="8228126"><a href="/image/draw/draw_test.go.html#8227181">golden</a></span><span class="op" id="8228132">.</span><span class="ident" id="8228133">At</span><span class="op" id="8228135">(</span><span class="ident" id="8228136"><a href="/image/draw/draw_test.go.html#8228067">x</a></span><span class="op" id="8228137">,</span>&nbsp;<span class="ident" id="8228139"><a href="/image/draw/draw_test.go.html#8228026">y</a></span><span class="op" id="8228140">)</span><span class="op" id="8228141">)</span>&nbsp;<span class="op" id="8228143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228151"><a href="/image/draw/draw_test.go.html#8226666">t</a></span><span class="op" id="8228152">.</span><span class="ident" id="8228153">Errorf</span><span class="op" id="8228159">(</span><span class="string" id="8228160">&#34;draw&nbsp;%v&nbsp;%s:&nbsp;at&nbsp;(%d,&nbsp;%d),&nbsp;%v&nbsp;versus&nbsp;golden&nbsp;%v&#34;</span><span class="op" id="8228206">,</span>&nbsp;<span class="ident" id="8228208"><a href="/image/draw/draw_test.go.html#8226961">r</a></span><span class="op" id="8228209">,</span>&nbsp;<span class="ident" id="8228211"><a href="/image/draw/draw_test.go.html#8226993">test</a></span><span class="op" id="8228215">.</span><span class="ident" id="8228216">desc</span><span class="op" id="8228220">,</span>&nbsp;<span class="ident" id="8228222"><a href="/image/draw/draw_test.go.html#8228067">x</a></span><span class="op" id="8228223">,</span>&nbsp;<span class="ident" id="8228225"><a href="/image/draw/draw_test.go.html#8228026">y</a></span><span class="op" id="8228226">,</span>&nbsp;<span class="ident" id="8228228"><a href="/image/draw/draw_test.go.html#8227022">dst</a></span><span class="op" id="8228231">.</span><span class="ident" id="8228232">At</span><span class="op" id="8228234">(</span><span class="ident" id="8228235"><a href="/image/draw/draw_test.go.html#8228067">x</a></span><span class="op" id="8228236">,</span>&nbsp;<span class="ident" id="8228238"><a href="/image/draw/draw_test.go.html#8228026">y</a></span><span class="op" id="8228239">)</span><span class="op" id="8228240">,</span>&nbsp;<span class="ident" id="8228242"><a href="/image/draw/draw_test.go.html#8227181">golden</a></span><span class="op" id="8228248">.</span><span class="ident" id="8228249">At</span><span class="op" id="8228251">(</span><span class="ident" id="8228252"><a href="/image/draw/draw_test.go.html#8228067">x</a></span><span class="op" id="8228253">,</span>&nbsp;<span class="ident" id="8228255"><a href="/image/draw/draw_test.go.html#8228026">y</a></span><span class="op" id="8228256">)</span><span class="op" id="8228257">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228265">continue</span>&nbsp;<span class="ident" id="8228274">loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228299">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228302">}</span><br>
<span class="lineno"></span><span class="op" id="8228304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8228307">func</span>&nbsp;<span class="ident" id="8228312">TestDrawOverlap</span><span class="op" id="8228327">(</span><span class="ident" id="8228328">t</span>&nbsp;<span class="op" id="8228330">*</span><span class="ident" id="8228331"><a href="/image/draw/draw_test.go.html#8220026">testing</a></span><span class="op" id="8228338">.</span><span class="ident" id="8228339">T</span><span class="op" id="8228340">)</span>&nbsp;<span class="op" id="8228342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228345">for</span>&nbsp;<span class="ident" id="8228349">_</span><span class="op" id="8228350">,</span>&nbsp;<span class="ident" id="8228352">op</span>&nbsp;<span class="op" id="8228355">:=</span>&nbsp;<span class="keyword" id="8228358">range</span>&nbsp;<span class="op" id="8228364">[</span><span class="op" id="8228365">]</span><span class="ident" id="8228366"><a href="/image/draw/draw.go.html#6113895">Op</a></span><span class="op" id="8228368">{</span><span class="ident" id="8228369"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8228373">,</span>&nbsp;<span class="ident" id="8228375"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8228378">}</span>&nbsp;<span class="op" id="8228380">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228384">for</span>&nbsp;<span class="ident" id="8228388">yoff</span>&nbsp;<span class="op" id="8228393">:=</span>&nbsp;<span class="op" id="8228396">-</span><span class="num" id="8228397">2</span><span class="op" id="8228398">;</span>&nbsp;<span class="ident" id="8228400"><a href="/image/draw/draw_test.go.html#8228388">yoff</a></span>&nbsp;<span class="op" id="8228405">&lt;=</span>&nbsp;<span class="num" id="8228408">2</span><span class="op" id="8228409">;</span>&nbsp;<span class="ident" id="8228411"><a href="/image/draw/draw_test.go.html#8228388">yoff</a></span><span class="op" id="8228415">++</span>&nbsp;<span class="op" id="8228418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228422">loop</span><span class="op" id="8228426">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228431">for</span>&nbsp;<span class="ident" id="8228435">xoff</span>&nbsp;<span class="op" id="8228440">:=</span>&nbsp;<span class="op" id="8228443">-</span><span class="num" id="8228444">2</span><span class="op" id="8228445">;</span>&nbsp;<span class="ident" id="8228447"><a href="/image/draw/draw_test.go.html#8228435">xoff</a></span>&nbsp;<span class="op" id="8228452">&lt;=</span>&nbsp;<span class="num" id="8228455">2</span><span class="op" id="8228456">;</span>&nbsp;<span class="ident" id="8228458"><a href="/image/draw/draw_test.go.html#8228435">xoff</a></span><span class="op" id="8228462">++</span>&nbsp;<span class="op" id="8228465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228471">m</span>&nbsp;<span class="op" id="8228473">:=</span>&nbsp;<span class="ident" id="8228476"><a href="/image/draw/draw_test.go.html#8221724">gradYellow</a></span><span class="op" id="8228486">(</span><span class="num" id="8228487">127</span><span class="op" id="8228490">)</span><span class="op" id="8228491">.</span><span class="op" id="8228492">(</span><span class="op" id="8228493">*</span><span class="ident" id="8228494"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8228499">.</span><span class="ident" id="8228500">RGBA</span><span class="op" id="8228504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228510">dst</span>&nbsp;<span class="op" id="8228514">:=</span>&nbsp;<span class="ident" id="8228517"><a href="/image/draw/draw_test.go.html#8228471">m</a></span><span class="op" id="8228518">.</span><span class="ident" id="8228519">SubImage</span><span class="op" id="8228527">(</span><span class="ident" id="8228528"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8228533">.</span><span class="ident" id="8228534">Rect</span><span class="op" id="8228538">(</span><span class="num" id="8228539">5</span><span class="op" id="8228540">,</span>&nbsp;<span class="num" id="8228542">5</span><span class="op" id="8228543">,</span>&nbsp;<span class="num" id="8228545">10</span><span class="op" id="8228547">,</span>&nbsp;<span class="num" id="8228549">10</span><span class="op" id="8228551">)</span><span class="op" id="8228552">)</span><span class="op" id="8228553">.</span><span class="op" id="8228554">(</span><span class="op" id="8228555">*</span><span class="ident" id="8228556"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8228561">.</span><span class="ident" id="8228562">RGBA</span><span class="op" id="8228566">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228572">src</span>&nbsp;<span class="op" id="8228576">:=</span>&nbsp;<span class="ident" id="8228579"><a href="/image/draw/draw_test.go.html#8228471">m</a></span><span class="op" id="8228580">.</span><span class="ident" id="8228581">SubImage</span><span class="op" id="8228589">(</span><span class="ident" id="8228590"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8228595">.</span><span class="ident" id="8228596">Rect</span><span class="op" id="8228600">(</span><span class="num" id="8228601">5</span><span class="op" id="8228602">+</span><span class="ident" id="8228603"><a href="/image/draw/draw_test.go.html#8228435">xoff</a></span><span class="op" id="8228607">,</span>&nbsp;<span class="num" id="8228609">5</span><span class="op" id="8228610">+</span><span class="ident" id="8228611"><a href="/image/draw/draw_test.go.html#8228388">yoff</a></span><span class="op" id="8228615">,</span>&nbsp;<span class="num" id="8228617">10</span><span class="op" id="8228619">+</span><span class="ident" id="8228620"><a href="/image/draw/draw_test.go.html#8228435">xoff</a></span><span class="op" id="8228624">,</span>&nbsp;<span class="num" id="8228626">10</span><span class="op" id="8228628">+</span><span class="ident" id="8228629"><a href="/image/draw/draw_test.go.html#8228388">yoff</a></span><span class="op" id="8228633">)</span><span class="op" id="8228634">)</span><span class="op" id="8228635">.</span><span class="op" id="8228636">(</span><span class="op" id="8228637">*</span><span class="ident" id="8228638"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8228643">.</span><span class="ident" id="8228644">RGBA</span><span class="op" id="8228648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228654">b</span>&nbsp;<span class="op" id="8228656">:=</span>&nbsp;<span class="ident" id="8228659"><a href="/image/draw/draw_test.go.html#8228510">dst</a></span><span class="op" id="8228662">.</span><span class="ident" id="8228663">Bounds</span><span class="op" id="8228669">(</span><span class="op" id="8228670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8228676">//&nbsp;Draw&nbsp;the&nbsp;(src,&nbsp;mask,&nbsp;op)&nbsp;onto&nbsp;a&nbsp;copy&nbsp;of&nbsp;dst&nbsp;using&nbsp;a&nbsp;slow&nbsp;but&nbsp;obviously&nbsp;correct&nbsp;implementation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228778">golden</span>&nbsp;<span class="op" id="8228785">:=</span>&nbsp;<span class="ident" id="8228788"><a href="/image/draw/draw_test.go.html#8225370">makeGolden</a></span><span class="op" id="8228798">(</span><span class="ident" id="8228799"><a href="/image/draw/draw_test.go.html#8228510">dst</a></span><span class="op" id="8228802">,</span>&nbsp;<span class="ident" id="8228804"><a href="/image/draw/draw_test.go.html#8228654">b</a></span><span class="op" id="8228805">,</span>&nbsp;<span class="ident" id="8228807"><a href="/image/draw/draw_test.go.html#8228572">src</a></span><span class="op" id="8228810">,</span>&nbsp;<span class="ident" id="8228812"><a href="/image/draw/draw_test.go.html#8228572">src</a></span><span class="op" id="8228815">.</span><span class="ident" id="8228816">Bounds</span><span class="op" id="8228822">(</span><span class="op" id="8228823">)</span><span class="op" id="8228824">.</span><span class="ident" id="8228825">Min</span><span class="op" id="8228828">,</span>&nbsp;<span class="ident" id="8228830">nil</span><span class="op" id="8228833">,</span>&nbsp;<span class="ident" id="8228835"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8228840">.</span><span class="ident" id="8228841">ZP</span><span class="op" id="8228843">,</span>&nbsp;<span class="ident" id="8228845"><a href="/image/draw/draw_test.go.html#8228352">op</a></span><span class="op" id="8228847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228853">if</span>&nbsp;<span class="op" id="8228856">!</span><span class="ident" id="8228857"><a href="/image/draw/draw_test.go.html#8228654">b</a></span><span class="op" id="8228858">.</span><span class="ident" id="8228859">Eq</span><span class="op" id="8228861">(</span><span class="ident" id="8228862"><a href="/image/draw/draw_test.go.html#8228778">golden</a></span><span class="op" id="8228868">.</span><span class="ident" id="8228869">Bounds</span><span class="op" id="8228875">(</span><span class="op" id="8228876">)</span><span class="op" id="8228877">)</span>&nbsp;<span class="op" id="8228879">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228886"><a href="/image/draw/draw_test.go.html#8228328">t</a></span><span class="op" id="8228887">.</span><span class="ident" id="8228888">Errorf</span><span class="op" id="8228894">(</span><span class="string" id="8228895">&#34;drawOverlap&nbsp;xoff=%d,yoff=%d:&nbsp;bounds&nbsp;%v&nbsp;versus&nbsp;%v&#34;</span><span class="op" id="8228945">,</span>&nbsp;<span class="ident" id="8228947"><a href="/image/draw/draw_test.go.html#8228435">xoff</a></span><span class="op" id="8228951">,</span>&nbsp;<span class="ident" id="8228953"><a href="/image/draw/draw_test.go.html#8228388">yoff</a></span><span class="op" id="8228957">,</span>&nbsp;<span class="ident" id="8228959"><a href="/image/draw/draw_test.go.html#8228510">dst</a></span><span class="op" id="8228962">.</span><span class="ident" id="8228963">Bounds</span><span class="op" id="8228969">(</span><span class="op" id="8228970">)</span><span class="op" id="8228971">,</span>&nbsp;<span class="ident" id="8228973"><a href="/image/draw/draw_test.go.html#8228778">golden</a></span><span class="op" id="8228979">.</span><span class="ident" id="8228980">Bounds</span><span class="op" id="8228986">(</span><span class="op" id="8228987">)</span><span class="op" id="8228988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228995">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8229014">//&nbsp;Draw&nbsp;the&nbsp;same&nbsp;combination&nbsp;onto&nbsp;the&nbsp;actual&nbsp;dst&nbsp;using&nbsp;the&nbsp;optimized&nbsp;DrawMask&nbsp;implementation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229112"><a href="/image/draw/draw.go.html#6116076">DrawMask</a></span><span class="op" id="8229120">(</span><span class="ident" id="8229121"><a href="/image/draw/draw_test.go.html#8228510">dst</a></span><span class="op" id="8229124">,</span>&nbsp;<span class="ident" id="8229126"><a href="/image/draw/draw_test.go.html#8228654">b</a></span><span class="op" id="8229127">,</span>&nbsp;<span class="ident" id="8229129"><a href="/image/draw/draw_test.go.html#8228572">src</a></span><span class="op" id="8229132">,</span>&nbsp;<span class="ident" id="8229134"><a href="/image/draw/draw_test.go.html#8228572">src</a></span><span class="op" id="8229137">.</span><span class="ident" id="8229138">Bounds</span><span class="op" id="8229144">(</span><span class="op" id="8229145">)</span><span class="op" id="8229146">.</span><span class="ident" id="8229147">Min</span><span class="op" id="8229150">,</span>&nbsp;<span class="ident" id="8229152">nil</span><span class="op" id="8229155">,</span>&nbsp;<span class="ident" id="8229157"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8229162">.</span><span class="ident" id="8229163">ZP</span><span class="op" id="8229165">,</span>&nbsp;<span class="ident" id="8229167"><a href="/image/draw/draw_test.go.html#8228352">op</a></span><span class="op" id="8229169">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8229175">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;resultant&nbsp;dst&nbsp;image&nbsp;matches&nbsp;the&nbsp;golden&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229244">for</span>&nbsp;<span class="ident" id="8229248">y</span>&nbsp;<span class="op" id="8229250">:=</span>&nbsp;<span class="ident" id="8229253"><a href="/image/draw/draw_test.go.html#8228654">b</a></span><span class="op" id="8229254">.</span><span class="ident" id="8229255">Min</span><span class="op" id="8229258">.</span><span class="ident" id="8229259">Y</span><span class="op" id="8229260">;</span>&nbsp;<span class="ident" id="8229262"><a href="/image/draw/draw_test.go.html#8229248">y</a></span>&nbsp;<span class="op" id="8229264">&lt;</span>&nbsp;<span class="ident" id="8229266"><a href="/image/draw/draw_test.go.html#8228654">b</a></span><span class="op" id="8229267">.</span><span class="ident" id="8229268">Max</span><span class="op" id="8229271">.</span><span class="ident" id="8229272">Y</span><span class="op" id="8229273">;</span>&nbsp;<span class="ident" id="8229275"><a href="/image/draw/draw_test.go.html#8229248">y</a></span><span class="op" id="8229276">++</span>&nbsp;<span class="op" id="8229279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229286">for</span>&nbsp;<span class="ident" id="8229290">x</span>&nbsp;<span class="op" id="8229292">:=</span>&nbsp;<span class="ident" id="8229295"><a href="/image/draw/draw_test.go.html#8228654">b</a></span><span class="op" id="8229296">.</span><span class="ident" id="8229297">Min</span><span class="op" id="8229300">.</span><span class="ident" id="8229301">X</span><span class="op" id="8229302">;</span>&nbsp;<span class="ident" id="8229304"><a href="/image/draw/draw_test.go.html#8229290">x</a></span>&nbsp;<span class="op" id="8229306">&lt;</span>&nbsp;<span class="ident" id="8229308"><a href="/image/draw/draw_test.go.html#8228654">b</a></span><span class="op" id="8229309">.</span><span class="ident" id="8229310">Max</span><span class="op" id="8229313">.</span><span class="ident" id="8229314">X</span><span class="op" id="8229315">;</span>&nbsp;<span class="ident" id="8229317"><a href="/image/draw/draw_test.go.html#8229290">x</a></span><span class="op" id="8229318">++</span>&nbsp;<span class="op" id="8229321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229329">if</span>&nbsp;<span class="op" id="8229332">!</span><span class="ident" id="8229333"><a href="/image/draw/draw_test.go.html#8220044">eq</a></span><span class="op" id="8229335">(</span><span class="ident" id="8229336"><a href="/image/draw/draw_test.go.html#8228510">dst</a></span><span class="op" id="8229339">.</span><span class="ident" id="8229340">At</span><span class="op" id="8229342">(</span><span class="ident" id="8229343"><a href="/image/draw/draw_test.go.html#8229290">x</a></span><span class="op" id="8229344">,</span>&nbsp;<span class="ident" id="8229346"><a href="/image/draw/draw_test.go.html#8229248">y</a></span><span class="op" id="8229347">)</span><span class="op" id="8229348">,</span>&nbsp;<span class="ident" id="8229350"><a href="/image/draw/draw_test.go.html#8228778">golden</a></span><span class="op" id="8229356">.</span><span class="ident" id="8229357">At</span><span class="op" id="8229359">(</span><span class="ident" id="8229360"><a href="/image/draw/draw_test.go.html#8229290">x</a></span><span class="op" id="8229361">,</span>&nbsp;<span class="ident" id="8229363"><a href="/image/draw/draw_test.go.html#8229248">y</a></span><span class="op" id="8229364">)</span><span class="op" id="8229365">)</span>&nbsp;<span class="op" id="8229367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229376"><a href="/image/draw/draw_test.go.html#8228328">t</a></span><span class="op" id="8229377">.</span><span class="ident" id="8229378">Errorf</span><span class="op" id="8229384">(</span><span class="string" id="8229385">&#34;drawOverlap&nbsp;xoff=%d,yoff=%d:&nbsp;at&nbsp;(%d,&nbsp;%d),&nbsp;%v&nbsp;versus&nbsp;golden&nbsp;%v&#34;</span><span class="op" id="8229448">,</span>&nbsp;<span class="ident" id="8229450"><a href="/image/draw/draw_test.go.html#8228435">xoff</a></span><span class="op" id="8229454">,</span>&nbsp;<span class="ident" id="8229456"><a href="/image/draw/draw_test.go.html#8228388">yoff</a></span><span class="op" id="8229460">,</span>&nbsp;<span class="ident" id="8229462"><a href="/image/draw/draw_test.go.html#8229290">x</a></span><span class="op" id="8229463">,</span>&nbsp;<span class="ident" id="8229465"><a href="/image/draw/draw_test.go.html#8229248">y</a></span><span class="op" id="8229466">,</span>&nbsp;<span class="ident" id="8229468"><a href="/image/draw/draw_test.go.html#8228510">dst</a></span><span class="op" id="8229471">.</span><span class="ident" id="8229472">At</span><span class="op" id="8229474">(</span><span class="ident" id="8229475"><a href="/image/draw/draw_test.go.html#8229290">x</a></span><span class="op" id="8229476">,</span>&nbsp;<span class="ident" id="8229478"><a href="/image/draw/draw_test.go.html#8229248">y</a></span><span class="op" id="8229479">)</span><span class="op" id="8229480">,</span>&nbsp;<span class="ident" id="8229482"><a href="/image/draw/draw_test.go.html#8228778">golden</a></span><span class="op" id="8229488">.</span><span class="ident" id="8229489">At</span><span class="op" id="8229491">(</span><span class="ident" id="8229492"><a href="/image/draw/draw_test.go.html#8229290">x</a></span><span class="op" id="8229493">,</span>&nbsp;<span class="ident" id="8229495"><a href="/image/draw/draw_test.go.html#8229248">y</a></span><span class="op" id="8229496">)</span><span class="op" id="8229497">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229506">continue</span>&nbsp;<span class="ident" id="8229515">loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229544">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229551">}</span><br>
<span class="lineno"></span><span class="op" id="8229553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8229556">//&nbsp;TestNonZeroSrcPt&nbsp;checks&nbsp;drawing&nbsp;with&nbsp;a&nbsp;non-zero&nbsp;src&nbsp;point&nbsp;parameter.</span><br>
<span class="lineno">285</span><span class="keyword" id="8229628">func</span>&nbsp;<span class="ident" id="8229633">TestNonZeroSrcPt</span><span class="op" id="8229649">(</span><span class="ident" id="8229650">t</span>&nbsp;<span class="op" id="8229652">*</span><span class="ident" id="8229653"><a href="/image/draw/draw_test.go.html#8220026">testing</a></span><span class="op" id="8229660">.</span><span class="ident" id="8229661">T</span><span class="op" id="8229662">)</span>&nbsp;<span class="op" id="8229664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229667">a</span>&nbsp;<span class="op" id="8229669">:=</span>&nbsp;<span class="ident" id="8229672"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8229677">.</span><span class="ident" id="8229678">NewRGBA</span><span class="op" id="8229685">(</span><span class="ident" id="8229686"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8229691">.</span><span class="ident" id="8229692">Rect</span><span class="op" id="8229696">(</span><span class="num" id="8229697">0</span><span class="op" id="8229698">,</span>&nbsp;<span class="num" id="8229700">0</span><span class="op" id="8229701">,</span>&nbsp;<span class="num" id="8229703">1</span><span class="op" id="8229704">,</span>&nbsp;<span class="num" id="8229706">1</span><span class="op" id="8229707">)</span><span class="op" id="8229708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229711">b</span>&nbsp;<span class="op" id="8229713">:=</span>&nbsp;<span class="ident" id="8229716"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8229721">.</span><span class="ident" id="8229722">NewRGBA</span><span class="op" id="8229729">(</span><span class="ident" id="8229730"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8229735">.</span><span class="ident" id="8229736">Rect</span><span class="op" id="8229740">(</span><span class="num" id="8229741">0</span><span class="op" id="8229742">,</span>&nbsp;<span class="num" id="8229744">0</span><span class="op" id="8229745">,</span>&nbsp;<span class="num" id="8229747">2</span><span class="op" id="8229748">,</span>&nbsp;<span class="num" id="8229750">2</span><span class="op" id="8229751">)</span><span class="op" id="8229752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229755"><a href="/image/draw/draw_test.go.html#8229711">b</a></span><span class="op" id="8229756">.</span><span class="ident" id="8229757">Set</span><span class="op" id="8229760">(</span><span class="num" id="8229761">0</span><span class="op" id="8229762">,</span>&nbsp;<span class="num" id="8229764">0</span><span class="op" id="8229765">,</span>&nbsp;<span class="ident" id="8229767"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8229772">.</span><span class="ident" id="8229773">RGBA</span><span class="op" id="8229777">{</span><span class="num" id="8229778">0</span><span class="op" id="8229779">,</span>&nbsp;<span class="num" id="8229781">0</span><span class="op" id="8229782">,</span>&nbsp;<span class="num" id="8229784">0</span><span class="op" id="8229785">,</span>&nbsp;<span class="num" id="8229787">5</span><span class="op" id="8229788">}</span><span class="op" id="8229789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229792"><a href="/image/draw/draw_test.go.html#8229711">b</a></span><span class="op" id="8229793">.</span><span class="ident" id="8229794">Set</span><span class="op" id="8229797">(</span><span class="num" id="8229798">1</span><span class="op" id="8229799">,</span>&nbsp;<span class="num" id="8229801">0</span><span class="op" id="8229802">,</span>&nbsp;<span class="ident" id="8229804"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8229809">.</span><span class="ident" id="8229810">RGBA</span><span class="op" id="8229814">{</span><span class="num" id="8229815">0</span><span class="op" id="8229816">,</span>&nbsp;<span class="num" id="8229818">0</span><span class="op" id="8229819">,</span>&nbsp;<span class="num" id="8229821">5</span><span class="op" id="8229822">,</span>&nbsp;<span class="num" id="8229824">5</span><span class="op" id="8229825">}</span><span class="op" id="8229826">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229829"><a href="/image/draw/draw_test.go.html#8229711">b</a></span><span class="op" id="8229830">.</span><span class="ident" id="8229831">Set</span><span class="op" id="8229834">(</span><span class="num" id="8229835">0</span><span class="op" id="8229836">,</span>&nbsp;<span class="num" id="8229838">1</span><span class="op" id="8229839">,</span>&nbsp;<span class="ident" id="8229841"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8229846">.</span><span class="ident" id="8229847">RGBA</span><span class="op" id="8229851">{</span><span class="num" id="8229852">0</span><span class="op" id="8229853">,</span>&nbsp;<span class="num" id="8229855">5</span><span class="op" id="8229856">,</span>&nbsp;<span class="num" id="8229858">0</span><span class="op" id="8229859">,</span>&nbsp;<span class="num" id="8229861">5</span><span class="op" id="8229862">}</span><span class="op" id="8229863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229866"><a href="/image/draw/draw_test.go.html#8229711">b</a></span><span class="op" id="8229867">.</span><span class="ident" id="8229868">Set</span><span class="op" id="8229871">(</span><span class="num" id="8229872">1</span><span class="op" id="8229873">,</span>&nbsp;<span class="num" id="8229875">1</span><span class="op" id="8229876">,</span>&nbsp;<span class="ident" id="8229878"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8229883">.</span><span class="ident" id="8229884">RGBA</span><span class="op" id="8229888">{</span><span class="num" id="8229889">5</span><span class="op" id="8229890">,</span>&nbsp;<span class="num" id="8229892">0</span><span class="op" id="8229893">,</span>&nbsp;<span class="num" id="8229895">0</span><span class="op" id="8229896">,</span>&nbsp;<span class="num" id="8229898">5</span><span class="op" id="8229899">}</span><span class="op" id="8229900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229903"><a href="/image/draw/draw.go.html#6115755">Draw</a></span><span class="op" id="8229907">(</span><span class="ident" id="8229908"><a href="/image/draw/draw_test.go.html#8229667">a</a></span><span class="op" id="8229909">,</span>&nbsp;<span class="ident" id="8229911"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8229916">.</span><span class="ident" id="8229917">Rect</span><span class="op" id="8229921">(</span><span class="num" id="8229922">0</span><span class="op" id="8229923">,</span>&nbsp;<span class="num" id="8229925">0</span><span class="op" id="8229926">,</span>&nbsp;<span class="num" id="8229928">1</span><span class="op" id="8229929">,</span>&nbsp;<span class="num" id="8229931">1</span><span class="op" id="8229932">)</span><span class="op" id="8229933">,</span>&nbsp;<span class="ident" id="8229935"><a href="/image/draw/draw_test.go.html#8229711">b</a></span><span class="op" id="8229936">,</span>&nbsp;<span class="ident" id="8229938"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8229943">.</span><span class="ident" id="8229944">Pt</span><span class="op" id="8229946">(</span><span class="num" id="8229947">1</span><span class="op" id="8229948">,</span>&nbsp;<span class="num" id="8229950">1</span><span class="op" id="8229951">)</span><span class="op" id="8229952">,</span>&nbsp;<span class="ident" id="8229954"><a href="/image/draw/draw.go.html#6113959">Over</a></span><span class="op" id="8229958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229961">if</span>&nbsp;<span class="op" id="8229964">!</span><span class="ident" id="8229965"><a href="/image/draw/draw_test.go.html#8220044">eq</a></span><span class="op" id="8229967">(</span><span class="ident" id="8229968"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8229973">.</span><span class="ident" id="8229974">RGBA</span><span class="op" id="8229978">{</span><span class="num" id="8229979">5</span><span class="op" id="8229980">,</span>&nbsp;<span class="num" id="8229982">0</span><span class="op" id="8229983">,</span>&nbsp;<span class="num" id="8229985">0</span><span class="op" id="8229986">,</span>&nbsp;<span class="num" id="8229988">5</span><span class="op" id="8229989">}</span><span class="op" id="8229990">,</span>&nbsp;<span class="ident" id="8229992"><a href="/image/draw/draw_test.go.html#8229667">a</a></span><span class="op" id="8229993">.</span><span class="ident" id="8229994">At</span><span class="op" id="8229996">(</span><span class="num" id="8229997">0</span><span class="op" id="8229998">,</span>&nbsp;<span class="num" id="8230000">0</span><span class="op" id="8230001">)</span><span class="op" id="8230002">)</span>&nbsp;<span class="op" id="8230004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230008"><a href="/image/draw/draw_test.go.html#8229650">t</a></span><span class="op" id="8230009">.</span><span class="ident" id="8230010">Errorf</span><span class="op" id="8230016">(</span><span class="string" id="8230017">&#34;non-zero&nbsp;src&nbsp;pt:&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8230050">,</span>&nbsp;<span class="ident" id="8230052"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8230057">.</span><span class="ident" id="8230058">RGBA</span><span class="op" id="8230062">{</span><span class="num" id="8230063">5</span><span class="op" id="8230064">,</span>&nbsp;<span class="num" id="8230066">0</span><span class="op" id="8230067">,</span>&nbsp;<span class="num" id="8230069">0</span><span class="op" id="8230070">,</span>&nbsp;<span class="num" id="8230072">5</span><span class="op" id="8230073">}</span><span class="op" id="8230074">,</span>&nbsp;<span class="ident" id="8230076"><a href="/image/draw/draw_test.go.html#8229667">a</a></span><span class="op" id="8230077">.</span><span class="ident" id="8230078">At</span><span class="op" id="8230080">(</span><span class="num" id="8230081">0</span><span class="op" id="8230082">,</span>&nbsp;<span class="num" id="8230084">0</span><span class="op" id="8230085">)</span><span class="op" id="8230086">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230089">}</span><br>
<span class="lineno"></span><span class="op" id="8230091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8230094">func</span>&nbsp;<span class="ident" id="8230099">TestFill</span><span class="op" id="8230107">(</span><span class="ident" id="8230108">t</span>&nbsp;<span class="op" id="8230110">*</span><span class="ident" id="8230111"><a href="/image/draw/draw_test.go.html#8220026">testing</a></span><span class="op" id="8230118">.</span><span class="ident" id="8230119">T</span><span class="op" id="8230120">)</span>&nbsp;<span class="op" id="8230122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230125">rr</span>&nbsp;<span class="op" id="8230128">:=</span>&nbsp;<span class="op" id="8230131">[</span><span class="op" id="8230132">]</span><span class="ident" id="8230133"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230138">.</span><span class="ident" id="8230139">Rectangle</span><span class="op" id="8230148">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230152"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230157">.</span><span class="ident" id="8230158">Rect</span><span class="op" id="8230162">(</span><span class="num" id="8230163">0</span><span class="op" id="8230164">,</span>&nbsp;<span class="num" id="8230166">0</span><span class="op" id="8230167">,</span>&nbsp;<span class="num" id="8230169">0</span><span class="op" id="8230170">,</span>&nbsp;<span class="num" id="8230172">0</span><span class="op" id="8230173">)</span><span class="op" id="8230174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230178"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230183">.</span><span class="ident" id="8230184">Rect</span><span class="op" id="8230188">(</span><span class="num" id="8230189">0</span><span class="op" id="8230190">,</span>&nbsp;<span class="num" id="8230192">0</span><span class="op" id="8230193">,</span>&nbsp;<span class="num" id="8230195">40</span><span class="op" id="8230197">,</span>&nbsp;<span class="num" id="8230199">30</span><span class="op" id="8230201">)</span><span class="op" id="8230202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230206"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230211">.</span><span class="ident" id="8230212">Rect</span><span class="op" id="8230216">(</span><span class="num" id="8230217">10</span><span class="op" id="8230219">,</span>&nbsp;<span class="num" id="8230221">0</span><span class="op" id="8230222">,</span>&nbsp;<span class="num" id="8230224">40</span><span class="op" id="8230226">,</span>&nbsp;<span class="num" id="8230228">30</span><span class="op" id="8230230">)</span><span class="op" id="8230231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230235"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230240">.</span><span class="ident" id="8230241">Rect</span><span class="op" id="8230245">(</span><span class="num" id="8230246">0</span><span class="op" id="8230247">,</span>&nbsp;<span class="num" id="8230249">20</span><span class="op" id="8230251">,</span>&nbsp;<span class="num" id="8230253">40</span><span class="op" id="8230255">,</span>&nbsp;<span class="num" id="8230257">30</span><span class="op" id="8230259">)</span><span class="op" id="8230260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230264"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230269">.</span><span class="ident" id="8230270">Rect</span><span class="op" id="8230274">(</span><span class="num" id="8230275">10</span><span class="op" id="8230277">,</span>&nbsp;<span class="num" id="8230279">20</span><span class="op" id="8230281">,</span>&nbsp;<span class="num" id="8230283">40</span><span class="op" id="8230285">,</span>&nbsp;<span class="num" id="8230287">30</span><span class="op" id="8230289">)</span><span class="op" id="8230290">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230294"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230299">.</span><span class="ident" id="8230300">Rect</span><span class="op" id="8230304">(</span><span class="num" id="8230305">10</span><span class="op" id="8230307">,</span>&nbsp;<span class="num" id="8230309">20</span><span class="op" id="8230311">,</span>&nbsp;<span class="num" id="8230313">15</span><span class="op" id="8230315">,</span>&nbsp;<span class="num" id="8230317">25</span><span class="op" id="8230319">)</span><span class="op" id="8230320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230324"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230329">.</span><span class="ident" id="8230330">Rect</span><span class="op" id="8230334">(</span><span class="num" id="8230335">10</span><span class="op" id="8230337">,</span>&nbsp;<span class="num" id="8230339">0</span><span class="op" id="8230340">,</span>&nbsp;<span class="num" id="8230342">35</span><span class="op" id="8230344">,</span>&nbsp;<span class="num" id="8230346">30</span><span class="op" id="8230348">)</span><span class="op" id="8230349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230353"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230358">.</span><span class="ident" id="8230359">Rect</span><span class="op" id="8230363">(</span><span class="num" id="8230364">0</span><span class="op" id="8230365">,</span>&nbsp;<span class="num" id="8230367">15</span><span class="op" id="8230369">,</span>&nbsp;<span class="num" id="8230371">40</span><span class="op" id="8230373">,</span>&nbsp;<span class="num" id="8230375">16</span><span class="op" id="8230377">)</span><span class="op" id="8230378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230382"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230387">.</span><span class="ident" id="8230388">Rect</span><span class="op" id="8230392">(</span><span class="num" id="8230393">24</span><span class="op" id="8230395">,</span>&nbsp;<span class="num" id="8230397">24</span><span class="op" id="8230399">,</span>&nbsp;<span class="num" id="8230401">25</span><span class="op" id="8230403">,</span>&nbsp;<span class="num" id="8230405">25</span><span class="op" id="8230407">)</span><span class="op" id="8230408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230412"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230417">.</span><span class="ident" id="8230418">Rect</span><span class="op" id="8230422">(</span><span class="num" id="8230423">23</span><span class="op" id="8230425">,</span>&nbsp;<span class="num" id="8230427">23</span><span class="op" id="8230429">,</span>&nbsp;<span class="num" id="8230431">26</span><span class="op" id="8230433">,</span>&nbsp;<span class="num" id="8230435">26</span><span class="op" id="8230437">)</span><span class="op" id="8230438">,</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230442"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230447">.</span><span class="ident" id="8230448">Rect</span><span class="op" id="8230452">(</span><span class="num" id="8230453">22</span><span class="op" id="8230455">,</span>&nbsp;<span class="num" id="8230457">22</span><span class="op" id="8230459">,</span>&nbsp;<span class="num" id="8230461">27</span><span class="op" id="8230463">,</span>&nbsp;<span class="num" id="8230465">27</span><span class="op" id="8230467">)</span><span class="op" id="8230468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230472"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230477">.</span><span class="ident" id="8230478">Rect</span><span class="op" id="8230482">(</span><span class="num" id="8230483">21</span><span class="op" id="8230485">,</span>&nbsp;<span class="num" id="8230487">21</span><span class="op" id="8230489">,</span>&nbsp;<span class="num" id="8230491">28</span><span class="op" id="8230493">,</span>&nbsp;<span class="num" id="8230495">28</span><span class="op" id="8230497">)</span><span class="op" id="8230498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230502"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230507">.</span><span class="ident" id="8230508">Rect</span><span class="op" id="8230512">(</span><span class="num" id="8230513">20</span><span class="op" id="8230515">,</span>&nbsp;<span class="num" id="8230517">20</span><span class="op" id="8230519">,</span>&nbsp;<span class="num" id="8230521">29</span><span class="op" id="8230523">,</span>&nbsp;<span class="num" id="8230525">29</span><span class="op" id="8230527">)</span><span class="op" id="8230528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230534">for</span>&nbsp;<span class="ident" id="8230538">_</span><span class="op" id="8230539">,</span>&nbsp;<span class="ident" id="8230541">r</span>&nbsp;<span class="op" id="8230543">:=</span>&nbsp;<span class="keyword" id="8230546">range</span>&nbsp;<span class="ident" id="8230552"><a href="/image/draw/draw_test.go.html#8230125">rr</a></span>&nbsp;<span class="op" id="8230555">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230559">m</span>&nbsp;<span class="op" id="8230561">:=</span>&nbsp;<span class="ident" id="8230564"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230569">.</span><span class="ident" id="8230570">NewRGBA</span><span class="op" id="8230577">(</span><span class="ident" id="8230578"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230583">.</span><span class="ident" id="8230584">Rect</span><span class="op" id="8230588">(</span><span class="num" id="8230589">0</span><span class="op" id="8230590">,</span>&nbsp;<span class="num" id="8230592">0</span><span class="op" id="8230593">,</span>&nbsp;<span class="num" id="8230595">40</span><span class="op" id="8230597">,</span>&nbsp;<span class="num" id="8230599">30</span><span class="op" id="8230601">)</span><span class="op" id="8230602">)</span><span class="op" id="8230603">.</span><span class="ident" id="8230604">SubImage</span><span class="op" id="8230612">(</span><span class="ident" id="8230613"><a href="/image/draw/draw_test.go.html#8230541">r</a></span><span class="op" id="8230614">)</span><span class="op" id="8230615">.</span><span class="op" id="8230616">(</span><span class="op" id="8230617">*</span><span class="ident" id="8230618"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230623">.</span><span class="ident" id="8230624">RGBA</span><span class="op" id="8230628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230632">b</span>&nbsp;<span class="op" id="8230634">:=</span>&nbsp;<span class="ident" id="8230637"><a href="/image/draw/draw_test.go.html#8230559">m</a></span><span class="op" id="8230638">.</span><span class="ident" id="8230639">Bounds</span><span class="op" id="8230645">(</span><span class="op" id="8230646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230650">c</span>&nbsp;<span class="op" id="8230652">:=</span>&nbsp;<span class="ident" id="8230655"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8230660">.</span><span class="ident" id="8230661">RGBA</span><span class="op" id="8230665">{</span><span class="num" id="8230666">11</span><span class="op" id="8230668">,</span>&nbsp;<span class="num" id="8230670">0</span><span class="op" id="8230671">,</span>&nbsp;<span class="num" id="8230673">0</span><span class="op" id="8230674">,</span>&nbsp;<span class="num" id="8230676">255</span><span class="op" id="8230679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230683">src</span>&nbsp;<span class="op" id="8230687">:=</span>&nbsp;<span class="op" id="8230690">&amp;</span><span class="ident" id="8230691"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8230696">.</span><span class="ident" id="8230697">Uniform</span><span class="op" id="8230704">{</span><span class="ident" id="8230705">C</span><span class="op" id="8230706">:</span>&nbsp;<span class="ident" id="8230708"><a href="/image/draw/draw_test.go.html#8230650">c</a></span><span class="op" id="8230709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230713">check</span>&nbsp;<span class="op" id="8230719">:=</span>&nbsp;<span class="keyword" id="8230722">func</span><span class="op" id="8230726">(</span><span class="ident" id="8230727">desc</span>&nbsp;<span class="builtintype" id="8230732">string</span><span class="op" id="8230738">)</span>&nbsp;<span class="op" id="8230740">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230745">for</span>&nbsp;<span class="ident" id="8230749">y</span>&nbsp;<span class="op" id="8230751">:=</span>&nbsp;<span class="ident" id="8230754"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8230755">.</span><span class="ident" id="8230756">Min</span><span class="op" id="8230759">.</span><span class="ident" id="8230760">Y</span><span class="op" id="8230761">;</span>&nbsp;<span class="ident" id="8230763"><a href="/image/draw/draw_test.go.html#8230749">y</a></span>&nbsp;<span class="op" id="8230765">&lt;</span>&nbsp;<span class="ident" id="8230767"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8230768">.</span><span class="ident" id="8230769">Max</span><span class="op" id="8230772">.</span><span class="ident" id="8230773">Y</span><span class="op" id="8230774">;</span>&nbsp;<span class="ident" id="8230776"><a href="/image/draw/draw_test.go.html#8230749">y</a></span><span class="op" id="8230777">++</span>&nbsp;<span class="op" id="8230780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230786">for</span>&nbsp;<span class="ident" id="8230790">x</span>&nbsp;<span class="op" id="8230792">:=</span>&nbsp;<span class="ident" id="8230795"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8230796">.</span><span class="ident" id="8230797">Min</span><span class="op" id="8230800">.</span><span class="ident" id="8230801">X</span><span class="op" id="8230802">;</span>&nbsp;<span class="ident" id="8230804"><a href="/image/draw/draw_test.go.html#8230790">x</a></span>&nbsp;<span class="op" id="8230806">&lt;</span>&nbsp;<span class="ident" id="8230808"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8230809">.</span><span class="ident" id="8230810">Max</span><span class="op" id="8230813">.</span><span class="ident" id="8230814">X</span><span class="op" id="8230815">;</span>&nbsp;<span class="ident" id="8230817"><a href="/image/draw/draw_test.go.html#8230790">x</a></span><span class="op" id="8230818">++</span>&nbsp;<span class="op" id="8230821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230828">if</span>&nbsp;<span class="op" id="8230831">!</span><span class="ident" id="8230832"><a href="/image/draw/draw_test.go.html#8220044">eq</a></span><span class="op" id="8230834">(</span><span class="ident" id="8230835"><a href="/image/draw/draw_test.go.html#8230650">c</a></span><span class="op" id="8230836">,</span>&nbsp;<span class="ident" id="8230838"><a href="/image/draw/draw_test.go.html#8230559">m</a></span><span class="op" id="8230839">.</span><span class="ident" id="8230840">At</span><span class="op" id="8230842">(</span><span class="ident" id="8230843"><a href="/image/draw/draw_test.go.html#8230790">x</a></span><span class="op" id="8230844">,</span>&nbsp;<span class="ident" id="8230846"><a href="/image/draw/draw_test.go.html#8230749">y</a></span><span class="op" id="8230847">)</span><span class="op" id="8230848">)</span>&nbsp;<span class="op" id="8230850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230858"><a href="/image/draw/draw_test.go.html#8230108">t</a></span><span class="op" id="8230859">.</span><span class="ident" id="8230860">Errorf</span><span class="op" id="8230866">(</span><span class="string" id="8230867">&#34;%s&nbsp;fill:&nbsp;at&nbsp;(%d,&nbsp;%d),&nbsp;sub-image&nbsp;bounds=%v:&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8230926">,</span>&nbsp;<span class="ident" id="8230928"><a href="/image/draw/draw_test.go.html#8230727">desc</a></span><span class="op" id="8230932">,</span>&nbsp;<span class="ident" id="8230934"><a href="/image/draw/draw_test.go.html#8230790">x</a></span><span class="op" id="8230935">,</span>&nbsp;<span class="ident" id="8230937"><a href="/image/draw/draw_test.go.html#8230749">y</a></span><span class="op" id="8230938">,</span>&nbsp;<span class="ident" id="8230940"><a href="/image/draw/draw_test.go.html#8230541">r</a></span><span class="op" id="8230941">,</span>&nbsp;<span class="ident" id="8230943"><a href="/image/draw/draw_test.go.html#8230650">c</a></span><span class="op" id="8230944">,</span>&nbsp;<span class="ident" id="8230946"><a href="/image/draw/draw_test.go.html#8230559">m</a></span><span class="op" id="8230947">.</span><span class="ident" id="8230948">At</span><span class="op" id="8230950">(</span><span class="ident" id="8230951"><a href="/image/draw/draw_test.go.html#8230790">x</a></span><span class="op" id="8230952">,</span>&nbsp;<span class="ident" id="8230954"><a href="/image/draw/draw_test.go.html#8230749">y</a></span><span class="op" id="8230955">)</span><span class="op" id="8230956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230964">return</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8230995">//&nbsp;Draw&nbsp;1&nbsp;pixel&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231024">for</span>&nbsp;<span class="ident" id="8231028">y</span>&nbsp;<span class="op" id="8231030">:=</span>&nbsp;<span class="ident" id="8231033"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231034">.</span><span class="ident" id="8231035">Min</span><span class="op" id="8231038">.</span><span class="ident" id="8231039">Y</span><span class="op" id="8231040">;</span>&nbsp;<span class="ident" id="8231042"><a href="/image/draw/draw_test.go.html#8231028">y</a></span>&nbsp;<span class="op" id="8231044">&lt;</span>&nbsp;<span class="ident" id="8231046"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231047">.</span><span class="ident" id="8231048">Max</span><span class="op" id="8231051">.</span><span class="ident" id="8231052">Y</span><span class="op" id="8231053">;</span>&nbsp;<span class="ident" id="8231055"><a href="/image/draw/draw_test.go.html#8231028">y</a></span><span class="op" id="8231056">++</span>&nbsp;<span class="op" id="8231059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231064">for</span>&nbsp;<span class="ident" id="8231068">x</span>&nbsp;<span class="op" id="8231070">:=</span>&nbsp;<span class="ident" id="8231073"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231074">.</span><span class="ident" id="8231075">Min</span><span class="op" id="8231078">.</span><span class="ident" id="8231079">X</span><span class="op" id="8231080">;</span>&nbsp;<span class="ident" id="8231082"><a href="/image/draw/draw_test.go.html#8231068">x</a></span>&nbsp;<span class="op" id="8231084">&lt;</span>&nbsp;<span class="ident" id="8231086"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231087">.</span><span class="ident" id="8231088">Max</span><span class="op" id="8231091">.</span><span class="ident" id="8231092">X</span><span class="op" id="8231093">;</span>&nbsp;<span class="ident" id="8231095"><a href="/image/draw/draw_test.go.html#8231068">x</a></span><span class="op" id="8231096">++</span>&nbsp;<span class="op" id="8231099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231105"><a href="/image/draw/draw.go.html#6116076">DrawMask</a></span><span class="op" id="8231113">(</span><span class="ident" id="8231114"><a href="/image/draw/draw_test.go.html#8230559">m</a></span><span class="op" id="8231115">,</span>&nbsp;<span class="ident" id="8231117"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231122">.</span><span class="ident" id="8231123">Rect</span><span class="op" id="8231127">(</span><span class="ident" id="8231128"><a href="/image/draw/draw_test.go.html#8231068">x</a></span><span class="op" id="8231129">,</span>&nbsp;<span class="ident" id="8231131"><a href="/image/draw/draw_test.go.html#8231028">y</a></span><span class="op" id="8231132">,</span>&nbsp;<span class="ident" id="8231134"><a href="/image/draw/draw_test.go.html#8231068">x</a></span><span class="op" id="8231135">+</span><span class="num" id="8231136">1</span><span class="op" id="8231137">,</span>&nbsp;<span class="ident" id="8231139"><a href="/image/draw/draw_test.go.html#8231028">y</a></span><span class="op" id="8231140">+</span><span class="num" id="8231141">1</span><span class="op" id="8231142">)</span><span class="op" id="8231143">,</span>&nbsp;<span class="ident" id="8231145"><a href="/image/draw/draw_test.go.html#8230683">src</a></span><span class="op" id="8231148">,</span>&nbsp;<span class="ident" id="8231150"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231155">.</span><span class="ident" id="8231156">ZP</span><span class="op" id="8231158">,</span>&nbsp;<span class="ident" id="8231160">nil</span><span class="op" id="8231163">,</span>&nbsp;<span class="ident" id="8231165"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231170">.</span><span class="ident" id="8231171">ZP</span><span class="op" id="8231173">,</span>&nbsp;<span class="ident" id="8231175"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8231178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231187">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231191"><a href="/image/draw/draw_test.go.html#8230713">check</a></span><span class="op" id="8231196">(</span><span class="string" id="8231197">&#34;pixel&#34;</span><span class="op" id="8231204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8231208">//&nbsp;Draw&nbsp;1&nbsp;row&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231235"><a href="/image/draw/draw_test.go.html#8230650">c</a></span>&nbsp;<span class="op" id="8231237">=</span>&nbsp;<span class="ident" id="8231239"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8231244">.</span><span class="ident" id="8231245">RGBA</span><span class="op" id="8231249">{</span><span class="num" id="8231250">0</span><span class="op" id="8231251">,</span>&nbsp;<span class="num" id="8231253">22</span><span class="op" id="8231255">,</span>&nbsp;<span class="num" id="8231257">0</span><span class="op" id="8231258">,</span>&nbsp;<span class="num" id="8231260">255</span><span class="op" id="8231263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231267"><a href="/image/draw/draw_test.go.html#8230683">src</a></span>&nbsp;<span class="op" id="8231271">=</span>&nbsp;<span class="op" id="8231273">&amp;</span><span class="ident" id="8231274"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231279">.</span><span class="ident" id="8231280">Uniform</span><span class="op" id="8231287">{</span><span class="ident" id="8231288">C</span><span class="op" id="8231289">:</span>&nbsp;<span class="ident" id="8231291"><a href="/image/draw/draw_test.go.html#8230650">c</a></span><span class="op" id="8231292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231296">for</span>&nbsp;<span class="ident" id="8231300">y</span>&nbsp;<span class="op" id="8231302">:=</span>&nbsp;<span class="ident" id="8231305"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231306">.</span><span class="ident" id="8231307">Min</span><span class="op" id="8231310">.</span><span class="ident" id="8231311">Y</span><span class="op" id="8231312">;</span>&nbsp;<span class="ident" id="8231314"><a href="/image/draw/draw_test.go.html#8231300">y</a></span>&nbsp;<span class="op" id="8231316">&lt;</span>&nbsp;<span class="ident" id="8231318"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231319">.</span><span class="ident" id="8231320">Max</span><span class="op" id="8231323">.</span><span class="ident" id="8231324">Y</span><span class="op" id="8231325">;</span>&nbsp;<span class="ident" id="8231327"><a href="/image/draw/draw_test.go.html#8231300">y</a></span><span class="op" id="8231328">++</span>&nbsp;<span class="op" id="8231331">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231336"><a href="/image/draw/draw.go.html#6116076">DrawMask</a></span><span class="op" id="8231344">(</span><span class="ident" id="8231345"><a href="/image/draw/draw_test.go.html#8230559">m</a></span><span class="op" id="8231346">,</span>&nbsp;<span class="ident" id="8231348"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231353">.</span><span class="ident" id="8231354">Rect</span><span class="op" id="8231358">(</span><span class="ident" id="8231359"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231360">.</span><span class="ident" id="8231361">Min</span><span class="op" id="8231364">.</span><span class="ident" id="8231365">X</span><span class="op" id="8231366">,</span>&nbsp;<span class="ident" id="8231368"><a href="/image/draw/draw_test.go.html#8231300">y</a></span><span class="op" id="8231369">,</span>&nbsp;<span class="ident" id="8231371"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231372">.</span><span class="ident" id="8231373">Max</span><span class="op" id="8231376">.</span><span class="ident" id="8231377">X</span><span class="op" id="8231378">,</span>&nbsp;<span class="ident" id="8231380"><a href="/image/draw/draw_test.go.html#8231300">y</a></span><span class="op" id="8231381">+</span><span class="num" id="8231382">1</span><span class="op" id="8231383">)</span><span class="op" id="8231384">,</span>&nbsp;<span class="ident" id="8231386"><a href="/image/draw/draw_test.go.html#8230683">src</a></span><span class="op" id="8231389">,</span>&nbsp;<span class="ident" id="8231391"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231396">.</span><span class="ident" id="8231397">ZP</span><span class="op" id="8231399">,</span>&nbsp;<span class="ident" id="8231401">nil</span><span class="op" id="8231404">,</span>&nbsp;<span class="ident" id="8231406"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231411">.</span><span class="ident" id="8231412">ZP</span><span class="op" id="8231414">,</span>&nbsp;<span class="ident" id="8231416"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8231419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231427"><a href="/image/draw/draw_test.go.html#8230713">check</a></span><span class="op" id="8231432">(</span><span class="string" id="8231433">&#34;row&#34;</span><span class="op" id="8231438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8231442">//&nbsp;Draw&nbsp;1&nbsp;column&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231472"><a href="/image/draw/draw_test.go.html#8230650">c</a></span>&nbsp;<span class="op" id="8231474">=</span>&nbsp;<span class="ident" id="8231476"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8231481">.</span><span class="ident" id="8231482">RGBA</span><span class="op" id="8231486">{</span><span class="num" id="8231487">0</span><span class="op" id="8231488">,</span>&nbsp;<span class="num" id="8231490">0</span><span class="op" id="8231491">,</span>&nbsp;<span class="num" id="8231493">33</span><span class="op" id="8231495">,</span>&nbsp;<span class="num" id="8231497">255</span><span class="op" id="8231500">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231504"><a href="/image/draw/draw_test.go.html#8230683">src</a></span>&nbsp;<span class="op" id="8231508">=</span>&nbsp;<span class="op" id="8231510">&amp;</span><span class="ident" id="8231511"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231516">.</span><span class="ident" id="8231517">Uniform</span><span class="op" id="8231524">{</span><span class="ident" id="8231525">C</span><span class="op" id="8231526">:</span>&nbsp;<span class="ident" id="8231528"><a href="/image/draw/draw_test.go.html#8230650">c</a></span><span class="op" id="8231529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231533">for</span>&nbsp;<span class="ident" id="8231537">x</span>&nbsp;<span class="op" id="8231539">:=</span>&nbsp;<span class="ident" id="8231542"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231543">.</span><span class="ident" id="8231544">Min</span><span class="op" id="8231547">.</span><span class="ident" id="8231548">X</span><span class="op" id="8231549">;</span>&nbsp;<span class="ident" id="8231551"><a href="/image/draw/draw_test.go.html#8231537">x</a></span>&nbsp;<span class="op" id="8231553">&lt;</span>&nbsp;<span class="ident" id="8231555"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231556">.</span><span class="ident" id="8231557">Max</span><span class="op" id="8231560">.</span><span class="ident" id="8231561">X</span><span class="op" id="8231562">;</span>&nbsp;<span class="ident" id="8231564"><a href="/image/draw/draw_test.go.html#8231537">x</a></span><span class="op" id="8231565">++</span>&nbsp;<span class="op" id="8231568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231573"><a href="/image/draw/draw.go.html#6116076">DrawMask</a></span><span class="op" id="8231581">(</span><span class="ident" id="8231582"><a href="/image/draw/draw_test.go.html#8230559">m</a></span><span class="op" id="8231583">,</span>&nbsp;<span class="ident" id="8231585"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231590">.</span><span class="ident" id="8231591">Rect</span><span class="op" id="8231595">(</span><span class="ident" id="8231596"><a href="/image/draw/draw_test.go.html#8231537">x</a></span><span class="op" id="8231597">,</span>&nbsp;<span class="ident" id="8231599"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231600">.</span><span class="ident" id="8231601">Min</span><span class="op" id="8231604">.</span><span class="ident" id="8231605">Y</span><span class="op" id="8231606">,</span>&nbsp;<span class="ident" id="8231608"><a href="/image/draw/draw_test.go.html#8231537">x</a></span><span class="op" id="8231609">+</span><span class="num" id="8231610">1</span><span class="op" id="8231611">,</span>&nbsp;<span class="ident" id="8231613"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231614">.</span><span class="ident" id="8231615">Max</span><span class="op" id="8231618">.</span><span class="ident" id="8231619">Y</span><span class="op" id="8231620">)</span><span class="op" id="8231621">,</span>&nbsp;<span class="ident" id="8231623"><a href="/image/draw/draw_test.go.html#8230683">src</a></span><span class="op" id="8231626">,</span>&nbsp;<span class="ident" id="8231628"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231633">.</span><span class="ident" id="8231634">ZP</span><span class="op" id="8231636">,</span>&nbsp;<span class="ident" id="8231638">nil</span><span class="op" id="8231641">,</span>&nbsp;<span class="ident" id="8231643"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231648">.</span><span class="ident" id="8231649">ZP</span><span class="op" id="8231651">,</span>&nbsp;<span class="ident" id="8231653"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8231656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231664"><a href="/image/draw/draw_test.go.html#8230713">check</a></span><span class="op" id="8231669">(</span><span class="string" id="8231670">&#34;column&#34;</span><span class="op" id="8231678">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8231682">//&nbsp;Draw&nbsp;the&nbsp;whole&nbsp;image&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231717"><a href="/image/draw/draw_test.go.html#8230650">c</a></span>&nbsp;<span class="op" id="8231719">=</span>&nbsp;<span class="ident" id="8231721"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8231726">.</span><span class="ident" id="8231727">RGBA</span><span class="op" id="8231731">{</span><span class="num" id="8231732">44</span><span class="op" id="8231734">,</span>&nbsp;<span class="num" id="8231736">55</span><span class="op" id="8231738">,</span>&nbsp;<span class="num" id="8231740">66</span><span class="op" id="8231742">,</span>&nbsp;<span class="num" id="8231744">77</span><span class="op" id="8231746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231750"><a href="/image/draw/draw_test.go.html#8230683">src</a></span>&nbsp;<span class="op" id="8231754">=</span>&nbsp;<span class="op" id="8231756">&amp;</span><span class="ident" id="8231757"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231762">.</span><span class="ident" id="8231763">Uniform</span><span class="op" id="8231770">{</span><span class="ident" id="8231771">C</span><span class="op" id="8231772">:</span>&nbsp;<span class="ident" id="8231774"><a href="/image/draw/draw_test.go.html#8230650">c</a></span><span class="op" id="8231775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231779"><a href="/image/draw/draw.go.html#6116076">DrawMask</a></span><span class="op" id="8231787">(</span><span class="ident" id="8231788"><a href="/image/draw/draw_test.go.html#8230559">m</a></span><span class="op" id="8231789">,</span>&nbsp;<span class="ident" id="8231791"><a href="/image/draw/draw_test.go.html#8230632">b</a></span><span class="op" id="8231792">,</span>&nbsp;<span class="ident" id="8231794"><a href="/image/draw/draw_test.go.html#8230683">src</a></span><span class="op" id="8231797">,</span>&nbsp;<span class="ident" id="8231799"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231804">.</span><span class="ident" id="8231805">ZP</span><span class="op" id="8231807">,</span>&nbsp;<span class="ident" id="8231809">nil</span><span class="op" id="8231812">,</span>&nbsp;<span class="ident" id="8231814"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8231819">.</span><span class="ident" id="8231820">ZP</span><span class="op" id="8231822">,</span>&nbsp;<span class="ident" id="8231824"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8231827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231831"><a href="/image/draw/draw_test.go.html#8230713">check</a></span><span class="op" id="8231836">(</span><span class="string" id="8231837">&#34;whole&#34;</span><span class="op" id="8231844">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231847">}</span><br>
<span class="lineno"></span><span class="op" id="8231849">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8231852">//&nbsp;TestFloydSteinbergCheckerboard&nbsp;tests&nbsp;that&nbsp;the&nbsp;result&nbsp;of&nbsp;Floyd-Steinberg</span><br>
<span class="lineno"></span><span class="comment" id="8231927">//&nbsp;error&nbsp;diffusion&nbsp;of&nbsp;a&nbsp;uniform&nbsp;50%&nbsp;gray&nbsp;source&nbsp;image&nbsp;with&nbsp;a&nbsp;black-and-white</span><br>
<span class="lineno">360</span><span class="comment" id="8232004">//&nbsp;palette&nbsp;is&nbsp;a&nbsp;checkerboard&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="8232042">func</span>&nbsp;<span class="ident" id="8232047">TestFloydSteinbergCheckerboard</span><span class="op" id="8232077">(</span><span class="ident" id="8232078">t</span>&nbsp;<span class="op" id="8232080">*</span><span class="ident" id="8232081"><a href="/image/draw/draw_test.go.html#8220026">testing</a></span><span class="op" id="8232088">.</span><span class="ident" id="8232089">T</span><span class="op" id="8232090">)</span>&nbsp;<span class="op" id="8232092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232095">b</span>&nbsp;<span class="op" id="8232097">:=</span>&nbsp;<span class="ident" id="8232100"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8232105">.</span><span class="ident" id="8232106">Rect</span><span class="op" id="8232110">(</span><span class="num" id="8232111">0</span><span class="op" id="8232112">,</span>&nbsp;<span class="num" id="8232114">0</span><span class="op" id="8232115">,</span>&nbsp;<span class="num" id="8232117">640</span><span class="op" id="8232120">,</span>&nbsp;<span class="num" id="8232122">480</span><span class="op" id="8232125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8232128">//&nbsp;We&nbsp;can&#39;t&nbsp;represent&nbsp;50%&nbsp;exactly,&nbsp;but&nbsp;0x7fff&nbsp;/&nbsp;0xffff&nbsp;is&nbsp;close&nbsp;enough.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232201">src</span>&nbsp;<span class="op" id="8232205">:=</span>&nbsp;<span class="op" id="8232208">&amp;</span><span class="ident" id="8232209"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8232214">.</span><span class="ident" id="8232215">Uniform</span><span class="op" id="8232222">{</span><span class="ident" id="8232223"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8232228">.</span><span class="ident" id="8232229">Gray16</span><span class="op" id="8232235">{</span><span class="num" id="8232236">0x7fff</span><span class="op" id="8232242">}</span><span class="op" id="8232243">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232246">dst</span>&nbsp;<span class="op" id="8232250">:=</span>&nbsp;<span class="ident" id="8232253"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8232258">.</span><span class="ident" id="8232259">NewPaletted</span><span class="op" id="8232270">(</span><span class="ident" id="8232271"><a href="/image/draw/draw_test.go.html#8232095">b</a></span><span class="op" id="8232272">,</span>&nbsp;<span class="ident" id="8232274"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8232279">.</span><span class="ident" id="8232280">Palette</span><span class="op" id="8232287">{</span><span class="ident" id="8232288"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8232293">.</span><span class="ident" id="8232294">Black</span><span class="op" id="8232299">,</span>&nbsp;<span class="ident" id="8232301"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8232306">.</span><span class="ident" id="8232307">White</span><span class="op" id="8232312">}</span><span class="op" id="8232313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232316"><a href="/image/draw/draw.go.html#6114594">FloydSteinberg</a></span><span class="op" id="8232330">.</span><span class="ident" id="8232331">Draw</span><span class="op" id="8232335">(</span><span class="ident" id="8232336"><a href="/image/draw/draw_test.go.html#8232246">dst</a></span><span class="op" id="8232339">,</span>&nbsp;<span class="ident" id="8232341"><a href="/image/draw/draw_test.go.html#8232095">b</a></span><span class="op" id="8232342">,</span>&nbsp;<span class="ident" id="8232344"><a href="/image/draw/draw_test.go.html#8232201">src</a></span><span class="op" id="8232347">,</span>&nbsp;<span class="ident" id="8232349"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8232354">.</span><span class="ident" id="8232355">Point</span><span class="op" id="8232360">{</span><span class="op" id="8232361">}</span><span class="op" id="8232362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232365">nErr</span>&nbsp;<span class="op" id="8232370">:=</span>&nbsp;<span class="num" id="8232373">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8232376">for</span>&nbsp;<span class="ident" id="8232380">y</span>&nbsp;<span class="op" id="8232382">:=</span>&nbsp;<span class="ident" id="8232385"><a href="/image/draw/draw_test.go.html#8232095">b</a></span><span class="op" id="8232386">.</span><span class="ident" id="8232387">Min</span><span class="op" id="8232390">.</span><span class="ident" id="8232391">Y</span><span class="op" id="8232392">;</span>&nbsp;<span class="ident" id="8232394"><a href="/image/draw/draw_test.go.html#8232380">y</a></span>&nbsp;<span class="op" id="8232396">&lt;</span>&nbsp;<span class="ident" id="8232398"><a href="/image/draw/draw_test.go.html#8232095">b</a></span><span class="op" id="8232399">.</span><span class="ident" id="8232400">Max</span><span class="op" id="8232403">.</span><span class="ident" id="8232404">Y</span><span class="op" id="8232405">;</span>&nbsp;<span class="ident" id="8232407"><a href="/image/draw/draw_test.go.html#8232380">y</a></span><span class="op" id="8232408">++</span>&nbsp;<span class="op" id="8232411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8232415">for</span>&nbsp;<span class="ident" id="8232419">x</span>&nbsp;<span class="op" id="8232421">:=</span>&nbsp;<span class="ident" id="8232424"><a href="/image/draw/draw_test.go.html#8232095">b</a></span><span class="op" id="8232425">.</span><span class="ident" id="8232426">Min</span><span class="op" id="8232429">.</span><span class="ident" id="8232430">X</span><span class="op" id="8232431">;</span>&nbsp;<span class="ident" id="8232433"><a href="/image/draw/draw_test.go.html#8232419">x</a></span>&nbsp;<span class="op" id="8232435">&lt;</span>&nbsp;<span class="ident" id="8232437"><a href="/image/draw/draw_test.go.html#8232095">b</a></span><span class="op" id="8232438">.</span><span class="ident" id="8232439">Max</span><span class="op" id="8232442">.</span><span class="ident" id="8232443">X</span><span class="op" id="8232444">;</span>&nbsp;<span class="ident" id="8232446"><a href="/image/draw/draw_test.go.html#8232419">x</a></span><span class="op" id="8232447">++</span>&nbsp;<span class="op" id="8232450">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232455">got</span>&nbsp;<span class="op" id="8232459">:=</span>&nbsp;<span class="ident" id="8232462"><a href="/image/draw/draw_test.go.html#8232246">dst</a></span><span class="op" id="8232465">.</span><span class="ident" id="8232466">Pix</span><span class="op" id="8232469">[</span><span class="ident" id="8232470"><a href="/image/draw/draw_test.go.html#8232246">dst</a></span><span class="op" id="8232473">.</span><span class="ident" id="8232474">PixOffset</span><span class="op" id="8232483">(</span><span class="ident" id="8232484"><a href="/image/draw/draw_test.go.html#8232419">x</a></span><span class="op" id="8232485">,</span>&nbsp;<span class="ident" id="8232487"><a href="/image/draw/draw_test.go.html#8232380">y</a></span><span class="op" id="8232488">)</span><span class="op" id="8232489">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232494">want</span>&nbsp;<span class="op" id="8232499">:=</span>&nbsp;<span class="builtintype" id="8232502">uint8</span><span class="op" id="8232507">(</span><span class="ident" id="8232508"><a href="/image/draw/draw_test.go.html#8232419">x</a></span><span class="op" id="8232509">+</span><span class="ident" id="8232510"><a href="/image/draw/draw_test.go.html#8232380">y</a></span><span class="op" id="8232511">)</span>&nbsp;<span class="op" id="8232513">%</span>&nbsp;<span class="num" id="8232515">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8232520">if</span>&nbsp;<span class="ident" id="8232523"><a href="/image/draw/draw_test.go.html#8232455">got</a></span>&nbsp;<span class="op" id="8232527">!=</span>&nbsp;<span class="ident" id="8232530"><a href="/image/draw/draw_test.go.html#8232494">want</a></span>&nbsp;<span class="op" id="8232535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232541"><a href="/image/draw/draw_test.go.html#8232078">t</a></span><span class="op" id="8232542">.</span><span class="ident" id="8232543">Errorf</span><span class="op" id="8232549">(</span><span class="string" id="8232550">&#34;at&nbsp;(%d,&nbsp;%d):&nbsp;got&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8232580">,</span>&nbsp;<span class="ident" id="8232582"><a href="/image/draw/draw_test.go.html#8232419">x</a></span><span class="op" id="8232583">,</span>&nbsp;<span class="ident" id="8232585"><a href="/image/draw/draw_test.go.html#8232380">y</a></span><span class="op" id="8232586">,</span>&nbsp;<span class="ident" id="8232588"><a href="/image/draw/draw_test.go.html#8232455">got</a></span><span class="op" id="8232591">,</span>&nbsp;<span class="ident" id="8232593"><a href="/image/draw/draw_test.go.html#8232494">want</a></span><span class="op" id="8232597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8232603">if</span>&nbsp;<span class="ident" id="8232606"><a href="/image/draw/draw_test.go.html#8232365">nErr</a></span><span class="op" id="8232610">++</span><span class="op" id="8232612">;</span>&nbsp;<span class="ident" id="8232614"><a href="/image/draw/draw_test.go.html#8232365">nErr</a></span>&nbsp;<span class="op" id="8232619">==</span>&nbsp;<span class="num" id="8232622">10</span>&nbsp;<span class="op" id="8232625">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232632"><a href="/image/draw/draw_test.go.html#8232078">t</a></span><span class="op" id="8232633">.</span><span class="ident" id="8232634">Fatal</span><span class="op" id="8232639">(</span><span class="string" id="8232640">&#34;there&nbsp;may&nbsp;be&nbsp;more&nbsp;errors&#34;</span><span class="op" id="8232666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232684">}</span><br>
<span class="lineno">380</span><span class="op" id="8232686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8232689">//&nbsp;embeddedPaletted&nbsp;is&nbsp;an&nbsp;Image&nbsp;that&nbsp;behaves&nbsp;like&nbsp;an&nbsp;*image.Paletted&nbsp;but&nbsp;whose</span><br>
<span class="lineno"></span><span class="comment" id="8232768">//&nbsp;type&nbsp;is&nbsp;not&nbsp;*image.Paletted.</span><br>
<span class="lineno"></span><span class="keyword" id="8232800">type</span>&nbsp;<span class="ident" id="8232805">embeddedPaletted</span>&nbsp;<span class="keyword" id="8232822">struct</span>&nbsp;<span class="op" id="8232829">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232832">*</span><span class="ident" id="8232833"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8232838">.</span><span class="ident" id="8232839">Paletted</span><br>
<span class="lineno"></span><span class="op" id="8232848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8232851">//&nbsp;TestPaletted&nbsp;tests&nbsp;that&nbsp;the&nbsp;drawPaletted&nbsp;function&nbsp;behaves&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="8232921">//&nbsp;regardless&nbsp;of&nbsp;whether&nbsp;dst&nbsp;is&nbsp;an&nbsp;*image.Paletted.</span><br>
<span class="lineno">390</span><span class="keyword" id="8232973">func</span>&nbsp;<span class="ident" id="8232978">TestPaletted</span><span class="op" id="8232990">(</span><span class="ident" id="8232991">t</span>&nbsp;<span class="op" id="8232993">*</span><span class="ident" id="8232994"><a href="/image/draw/draw_test.go.html#8220026">testing</a></span><span class="op" id="8233001">.</span><span class="ident" id="8233002">T</span><span class="op" id="8233003">)</span>&nbsp;<span class="op" id="8233005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233008">f</span><span class="op" id="8233009">,</span>&nbsp;<span class="ident" id="8233011">err</span>&nbsp;<span class="op" id="8233015">:=</span>&nbsp;<span class="ident" id="8233018"><a href="/image/draw/draw_test.go.html#8220020">os</a></span><span class="op" id="8233020">.</span><span class="ident" id="8233021">Open</span><span class="op" id="8233025">(</span><span class="string" id="8233026">&#34;../testdata/video-001.png&#34;</span><span class="op" id="8233053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233056">if</span>&nbsp;<span class="ident" id="8233059"><a href="/image/draw/draw_test.go.html#8233011">err</a></span>&nbsp;<span class="op" id="8233063">!=</span>&nbsp;<span class="ident" id="8233066">nil</span>&nbsp;<span class="op" id="8233070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233074"><a href="/image/draw/draw_test.go.html#8232991">t</a></span><span class="op" id="8233075">.</span><span class="ident" id="8233076">Fatalf</span><span class="op" id="8233082">(</span><span class="string" id="8233083">&#34;open:&nbsp;%v&#34;</span><span class="op" id="8233093">,</span>&nbsp;<span class="ident" id="8233095"><a href="/image/draw/draw_test.go.html#8233011">err</a></span><span class="op" id="8233098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233101">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233104">defer</span>&nbsp;<span class="ident" id="8233110"><a href="/image/draw/draw_test.go.html#8233008">f</a></span><span class="op" id="8233111">.</span><span class="ident" id="8233112">Close</span><span class="op" id="8233117">(</span><span class="op" id="8233118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233121">src</span><span class="op" id="8233124">,</span>&nbsp;<span class="ident" id="8233126"><a href="/image/draw/draw_test.go.html#8233011">err</a></span>&nbsp;<span class="op" id="8233130">:=</span>&nbsp;<span class="ident" id="8233133"><a href="/image/draw/draw_test.go.html#8220007">png</a></span><span class="op" id="8233136">.</span><span class="ident" id="8233137">Decode</span><span class="op" id="8233143">(</span><span class="ident" id="8233144"><a href="/image/draw/draw_test.go.html#8233008">f</a></span><span class="op" id="8233145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233148">if</span>&nbsp;<span class="ident" id="8233151"><a href="/image/draw/draw_test.go.html#8233011">err</a></span>&nbsp;<span class="op" id="8233155">!=</span>&nbsp;<span class="ident" id="8233158">nil</span>&nbsp;<span class="op" id="8233162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233166"><a href="/image/draw/draw_test.go.html#8232991">t</a></span><span class="op" id="8233167">.</span><span class="ident" id="8233168">Fatalf</span><span class="op" id="8233174">(</span><span class="string" id="8233175">&#34;decode:&nbsp;%v&#34;</span><span class="op" id="8233187">,</span>&nbsp;<span class="ident" id="8233189"><a href="/image/draw/draw_test.go.html#8233011">err</a></span><span class="op" id="8233192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233195">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233198">b</span>&nbsp;<span class="op" id="8233200">:=</span>&nbsp;<span class="ident" id="8233203"><a href="/image/draw/draw_test.go.html#8233121">src</a></span><span class="op" id="8233206">.</span><span class="ident" id="8233207">Bounds</span><span class="op" id="8233213">(</span><span class="op" id="8233214">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233218">cgaPalette</span>&nbsp;<span class="op" id="8233229">:=</span>&nbsp;<span class="ident" id="8233232"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8233237">.</span><span class="ident" id="8233238">Palette</span><span class="op" id="8233245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233249"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8233254">.</span><span class="ident" id="8233255">RGBA</span><span class="op" id="8233259">{</span><span class="num" id="8233260">0x00</span><span class="op" id="8233264">,</span>&nbsp;<span class="num" id="8233266">0x00</span><span class="op" id="8233270">,</span>&nbsp;<span class="num" id="8233272">0x00</span><span class="op" id="8233276">,</span>&nbsp;<span class="num" id="8233278">0xff</span><span class="op" id="8233282">}</span><span class="op" id="8233283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233287"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8233292">.</span><span class="ident" id="8233293">RGBA</span><span class="op" id="8233297">{</span><span class="num" id="8233298">0x55</span><span class="op" id="8233302">,</span>&nbsp;<span class="num" id="8233304">0xff</span><span class="op" id="8233308">,</span>&nbsp;<span class="num" id="8233310">0xff</span><span class="op" id="8233314">,</span>&nbsp;<span class="num" id="8233316">0xff</span><span class="op" id="8233320">}</span><span class="op" id="8233321">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233325"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8233330">.</span><span class="ident" id="8233331">RGBA</span><span class="op" id="8233335">{</span><span class="num" id="8233336">0xff</span><span class="op" id="8233340">,</span>&nbsp;<span class="num" id="8233342">0x55</span><span class="op" id="8233346">,</span>&nbsp;<span class="num" id="8233348">0xff</span><span class="op" id="8233352">,</span>&nbsp;<span class="num" id="8233354">0xff</span><span class="op" id="8233358">}</span><span class="op" id="8233359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233363"><a href="/image/draw/draw_test.go.html#8219992">color</a></span><span class="op" id="8233368">.</span><span class="ident" id="8233369">RGBA</span><span class="op" id="8233373">{</span><span class="num" id="8233374">0xff</span><span class="op" id="8233378">,</span>&nbsp;<span class="num" id="8233380">0xff</span><span class="op" id="8233384">,</span>&nbsp;<span class="num" id="8233386">0xff</span><span class="op" id="8233390">,</span>&nbsp;<span class="num" id="8233392">0xff</span><span class="op" id="8233396">}</span><span class="op" id="8233397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233403">drawers</span>&nbsp;<span class="op" id="8233411">:=</span>&nbsp;<span class="keyword" id="8233414">map</span><span class="op" id="8233417">[</span><span class="builtintype" id="8233418">string</span><span class="op" id="8233424">]</span><span class="ident" id="8233425"><a href="/image/draw/draw.go.html#6114281">Drawer</a></span><span class="op" id="8233431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8233435">&#34;src&#34;</span><span class="op" id="8233440">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8233454"><a href="/image/draw/draw.go.html#6114010">Src</a></span><span class="op" id="8233457">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8233461">&#34;floyd-steinberg&#34;</span><span class="op" id="8233478">:</span>&nbsp;<span class="ident" id="8233480"><a href="/image/draw/draw.go.html#6114594">FloydSteinberg</a></span><span class="op" id="8233494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="8233500">loop</span><span class="op" id="8233504">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233507">for</span>&nbsp;<span class="ident" id="8233511">dName</span><span class="op" id="8233516">,</span>&nbsp;<span class="ident" id="8233518">d</span>&nbsp;<span class="op" id="8233520">:=</span>&nbsp;<span class="keyword" id="8233523">range</span>&nbsp;<span class="ident" id="8233529"><a href="/image/draw/draw_test.go.html#8233403">drawers</a></span>&nbsp;<span class="op" id="8233537">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233541">dst0</span>&nbsp;<span class="op" id="8233546">:=</span>&nbsp;<span class="ident" id="8233549"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8233554">.</span><span class="ident" id="8233555">NewPaletted</span><span class="op" id="8233566">(</span><span class="ident" id="8233567"><a href="/image/draw/draw_test.go.html#8233198">b</a></span><span class="op" id="8233568">,</span>&nbsp;<span class="ident" id="8233570"><a href="/image/draw/draw_test.go.html#8233218">cgaPalette</a></span><span class="op" id="8233580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233584">dst1</span>&nbsp;<span class="op" id="8233589">:=</span>&nbsp;<span class="ident" id="8233592"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8233597">.</span><span class="ident" id="8233598">NewPaletted</span><span class="op" id="8233609">(</span><span class="ident" id="8233610"><a href="/image/draw/draw_test.go.html#8233198">b</a></span><span class="op" id="8233611">,</span>&nbsp;<span class="ident" id="8233613"><a href="/image/draw/draw_test.go.html#8233218">cgaPalette</a></span><span class="op" id="8233623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233627"><a href="/image/draw/draw_test.go.html#8233518">d</a></span><span class="op" id="8233628">.</span><span class="ident" id="8233629">Draw</span><span class="op" id="8233633">(</span><span class="ident" id="8233634"><a href="/image/draw/draw_test.go.html#8233541">dst0</a></span><span class="op" id="8233638">,</span>&nbsp;<span class="ident" id="8233640"><a href="/image/draw/draw_test.go.html#8233198">b</a></span><span class="op" id="8233641">,</span>&nbsp;<span class="ident" id="8233643"><a href="/image/draw/draw_test.go.html#8233121">src</a></span><span class="op" id="8233646">,</span>&nbsp;<span class="ident" id="8233648"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8233653">.</span><span class="ident" id="8233654">Point</span><span class="op" id="8233659">{</span><span class="op" id="8233660">}</span><span class="op" id="8233661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233665"><a href="/image/draw/draw_test.go.html#8233518">d</a></span><span class="op" id="8233666">.</span><span class="ident" id="8233667">Draw</span><span class="op" id="8233671">(</span><span class="ident" id="8233672"><a href="/image/draw/draw_test.go.html#8232805">embeddedPaletted</a></span><span class="op" id="8233688">{</span><span class="ident" id="8233689"><a href="/image/draw/draw_test.go.html#8233584">dst1</a></span><span class="op" id="8233693">}</span><span class="op" id="8233694">,</span>&nbsp;<span class="ident" id="8233696"><a href="/image/draw/draw_test.go.html#8233198">b</a></span><span class="op" id="8233697">,</span>&nbsp;<span class="ident" id="8233699"><a href="/image/draw/draw_test.go.html#8233121">src</a></span><span class="op" id="8233702">,</span>&nbsp;<span class="ident" id="8233704"><a href="/image/draw/draw_test.go.html#8219983">image</a></span><span class="op" id="8233709">.</span><span class="ident" id="8233710">Point</span><span class="op" id="8233715">{</span><span class="op" id="8233716">}</span><span class="op" id="8233717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233721">for</span>&nbsp;<span class="ident" id="8233725">y</span>&nbsp;<span class="op" id="8233727">:=</span>&nbsp;<span class="ident" id="8233730"><a href="/image/draw/draw_test.go.html#8233198">b</a></span><span class="op" id="8233731">.</span><span class="ident" id="8233732">Min</span><span class="op" id="8233735">.</span><span class="ident" id="8233736">Y</span><span class="op" id="8233737">;</span>&nbsp;<span class="ident" id="8233739"><a href="/image/draw/draw_test.go.html#8233725">y</a></span>&nbsp;<span class="op" id="8233741">&lt;</span>&nbsp;<span class="ident" id="8233743"><a href="/image/draw/draw_test.go.html#8233198">b</a></span><span class="op" id="8233744">.</span><span class="ident" id="8233745">Max</span><span class="op" id="8233748">.</span><span class="ident" id="8233749">Y</span><span class="op" id="8233750">;</span>&nbsp;<span class="ident" id="8233752"><a href="/image/draw/draw_test.go.html#8233725">y</a></span><span class="op" id="8233753">++</span>&nbsp;<span class="op" id="8233756">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233761">for</span>&nbsp;<span class="ident" id="8233765">x</span>&nbsp;<span class="op" id="8233767">:=</span>&nbsp;<span class="ident" id="8233770"><a href="/image/draw/draw_test.go.html#8233198">b</a></span><span class="op" id="8233771">.</span><span class="ident" id="8233772">Min</span><span class="op" id="8233775">.</span><span class="ident" id="8233776">X</span><span class="op" id="8233777">;</span>&nbsp;<span class="ident" id="8233779"><a href="/image/draw/draw_test.go.html#8233765">x</a></span>&nbsp;<span class="op" id="8233781">&lt;</span>&nbsp;<span class="ident" id="8233783"><a href="/image/draw/draw_test.go.html#8233198">b</a></span><span class="op" id="8233784">.</span><span class="ident" id="8233785">Max</span><span class="op" id="8233788">.</span><span class="ident" id="8233789">X</span><span class="op" id="8233790">;</span>&nbsp;<span class="ident" id="8233792"><a href="/image/draw/draw_test.go.html#8233765">x</a></span><span class="op" id="8233793">++</span>&nbsp;<span class="op" id="8233796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233802">if</span>&nbsp;<span class="op" id="8233805">!</span><span class="ident" id="8233806"><a href="/image/draw/draw_test.go.html#8220044">eq</a></span><span class="op" id="8233808">(</span><span class="ident" id="8233809"><a href="/image/draw/draw_test.go.html#8233541">dst0</a></span><span class="op" id="8233813">.</span><span class="ident" id="8233814">At</span><span class="op" id="8233816">(</span><span class="ident" id="8233817"><a href="/image/draw/draw_test.go.html#8233765">x</a></span><span class="op" id="8233818">,</span>&nbsp;<span class="ident" id="8233820"><a href="/image/draw/draw_test.go.html#8233725">y</a></span><span class="op" id="8233821">)</span><span class="op" id="8233822">,</span>&nbsp;<span class="ident" id="8233824"><a href="/image/draw/draw_test.go.html#8233584">dst1</a></span><span class="op" id="8233828">.</span><span class="ident" id="8233829">At</span><span class="op" id="8233831">(</span><span class="ident" id="8233832"><a href="/image/draw/draw_test.go.html#8233765">x</a></span><span class="op" id="8233833">,</span>&nbsp;<span class="ident" id="8233835"><a href="/image/draw/draw_test.go.html#8233725">y</a></span><span class="op" id="8233836">)</span><span class="op" id="8233837">)</span>&nbsp;<span class="op" id="8233839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233846"><a href="/image/draw/draw_test.go.html#8232991">t</a></span><span class="op" id="8233847">.</span><span class="ident" id="8233848">Errorf</span><span class="op" id="8233854">(</span><span class="string" id="8233855">&#34;%s:&nbsp;at&nbsp;(%d,&nbsp;%d),&nbsp;%v&nbsp;versus&nbsp;%v&#34;</span><span class="op" id="8233886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233894"><a href="/image/draw/draw_test.go.html#8233511">dName</a></span><span class="op" id="8233899">,</span>&nbsp;<span class="ident" id="8233901"><a href="/image/draw/draw_test.go.html#8233765">x</a></span><span class="op" id="8233902">,</span>&nbsp;<span class="ident" id="8233904"><a href="/image/draw/draw_test.go.html#8233725">y</a></span><span class="op" id="8233905">,</span>&nbsp;<span class="ident" id="8233907"><a href="/image/draw/draw_test.go.html#8233541">dst0</a></span><span class="op" id="8233911">.</span><span class="ident" id="8233912">At</span><span class="op" id="8233914">(</span><span class="ident" id="8233915"><a href="/image/draw/draw_test.go.html#8233765">x</a></span><span class="op" id="8233916">,</span>&nbsp;<span class="ident" id="8233918"><a href="/image/draw/draw_test.go.html#8233725">y</a></span><span class="op" id="8233919">)</span><span class="op" id="8233920">,</span>&nbsp;<span class="ident" id="8233922"><a href="/image/draw/draw_test.go.html#8233584">dst1</a></span><span class="op" id="8233926">.</span><span class="ident" id="8233927">At</span><span class="op" id="8233929">(</span><span class="ident" id="8233930"><a href="/image/draw/draw_test.go.html#8233765">x</a></span><span class="op" id="8233931">,</span>&nbsp;<span class="ident" id="8233933"><a href="/image/draw/draw_test.go.html#8233725">y</a></span><span class="op" id="8233934">)</span><span class="op" id="8233935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233942">continue</span>&nbsp;<span class="ident" id="8233951">loop</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233972">}</span><br>
<span class="lineno"></span><span class="op" id="8233974">}</span>
</div>
</body>
</html>
