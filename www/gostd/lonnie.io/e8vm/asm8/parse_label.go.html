<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5109242">package</span>&nbsp;<span class="ident" id="5109250">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5109256">import</span>&nbsp;<span class="op" id="5109263">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5109266">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5109288">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5109291">func</span>&nbsp;<span class="ident" id="5109296">isLabelStart</span><span class="op" id="5109308">(</span><span class="ident" id="5109309">s</span>&nbsp;<span class="builtintype" id="5109311">string</span><span class="op" id="5109317">)</span>&nbsp;<span class="builtintype" id="5109319">bool</span>&nbsp;<span class="op" id="5109324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109327">return</span>&nbsp;<span class="builtinfunc" id="5109334">len</span><span class="op" id="5109337">(</span><span class="ident" id="5109338">s</span><span class="op" id="5109339">)</span>&nbsp;<span class="op" id="5109341">&gt;</span>&nbsp;<span class="num" id="5109343">0</span>&nbsp;<span class="op" id="5109345">&amp;&amp;</span>&nbsp;<span class="ident" id="5109348">s</span><span class="op" id="5109349">[</span><span class="num" id="5109350">0</span><span class="op" id="5109351">]</span>&nbsp;<span class="op" id="5109353">==</span>&nbsp;<span class="string" id="5109356">&#39;.&#39;</span><br>
<span class="lineno"></span><span class="op" id="5109360">}</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5109363">func</span>&nbsp;<span class="ident" id="5109368">isLabel</span><span class="op" id="5109375">(</span><span class="ident" id="5109376">s</span>&nbsp;<span class="builtintype" id="5109378">string</span><span class="op" id="5109384">)</span>&nbsp;<span class="builtintype" id="5109386">bool</span>&nbsp;<span class="op" id="5109391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109394">if</span>&nbsp;<span class="builtinfunc" id="5109397">len</span><span class="op" id="5109400">(</span><span class="ident" id="5109401">s</span><span class="op" id="5109402">)</span>&nbsp;<span class="op" id="5109404">&lt;=</span>&nbsp;<span class="num" id="5109407">1</span>&nbsp;<span class="op" id="5109409">||</span>&nbsp;<span class="ident" id="5109412">s</span><span class="op" id="5109413">[</span><span class="num" id="5109414">0</span><span class="op" id="5109415">]</span>&nbsp;<span class="op" id="5109417">!=</span>&nbsp;<span class="string" id="5109420">&#39;.&#39;</span>&nbsp;<span class="op" id="5109424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109428">return</span>&nbsp;<span class="builtintype" id="5109435">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109442">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109446">for</span>&nbsp;<span class="ident" id="5109450">i</span><span class="op" id="5109451">,</span>&nbsp;<span class="ident" id="5109453">r</span>&nbsp;<span class="op" id="5109455">:=</span>&nbsp;<span class="keyword" id="5109458">range</span>&nbsp;<span class="ident" id="5109464">s</span><span class="op" id="5109465">[</span><span class="num" id="5109466">1</span><span class="op" id="5109467">:</span><span class="op" id="5109468">]</span>&nbsp;<span class="op" id="5109470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109474">if</span>&nbsp;<span class="ident" id="5109477">r</span>&nbsp;<span class="op" id="5109479">&gt;=</span>&nbsp;<span class="string" id="5109482">&#39;0&#39;</span>&nbsp;<span class="op" id="5109486">&amp;&amp;</span>&nbsp;<span class="ident" id="5109489">r</span>&nbsp;<span class="op" id="5109491">&lt;=</span>&nbsp;<span class="string" id="5109494">&#39;9&#39;</span>&nbsp;<span class="op" id="5109498">&amp;&amp;</span>&nbsp;<span class="ident" id="5109501">i</span>&nbsp;<span class="op" id="5109503">&gt;</span>&nbsp;<span class="num" id="5109505">0</span>&nbsp;<span class="op" id="5109507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109512">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109523">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109527">if</span>&nbsp;<span class="ident" id="5109530">r</span>&nbsp;<span class="op" id="5109532">&gt;=</span>&nbsp;<span class="string" id="5109535">&#39;a&#39;</span>&nbsp;<span class="op" id="5109539">&amp;&amp;</span>&nbsp;<span class="ident" id="5109542">r</span>&nbsp;<span class="op" id="5109544">&lt;=</span>&nbsp;<span class="string" id="5109547">&#39;z&#39;</span>&nbsp;<span class="op" id="5109551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109556">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109571">if</span>&nbsp;<span class="ident" id="5109574">r</span>&nbsp;<span class="op" id="5109576">&gt;=</span>&nbsp;<span class="string" id="5109579">&#39;A&#39;</span>&nbsp;<span class="op" id="5109583">&amp;&amp;</span>&nbsp;<span class="ident" id="5109586">r</span>&nbsp;<span class="op" id="5109588">&lt;=</span>&nbsp;<span class="string" id="5109591">&#39;Z&#39;</span>&nbsp;<span class="op" id="5109595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109600">continue</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109615">if</span>&nbsp;<span class="ident" id="5109618">r</span>&nbsp;<span class="op" id="5109620">==</span>&nbsp;<span class="string" id="5109623">&#39;_&#39;</span>&nbsp;<span class="op" id="5109627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109632">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109647">return</span>&nbsp;<span class="builtintype" id="5109654">false</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109664">return</span>&nbsp;<span class="builtintype" id="5109671">true</span><br>
<span class="lineno"></span><span class="op" id="5109676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5109679">func</span>&nbsp;<span class="ident" id="5109684">parseLabel</span><span class="op" id="5109694">(</span><span class="ident" id="5109695">p</span>&nbsp;<span class="op" id="5109697">*</span><span class="ident" id="5109698">parser</span><span class="op" id="5109704">,</span>&nbsp;<span class="ident" id="5109706">t</span>&nbsp;<span class="op" id="5109708">*</span><span class="ident" id="5109709">lex8</span><span class="op" id="5109713">.</span><span class="ident" id="5109714">Token</span><span class="op" id="5109719">)</span>&nbsp;<span class="builtintype" id="5109721">bool</span>&nbsp;<span class="op" id="5109726">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109729">if</span>&nbsp;<span class="ident" id="5109732">t</span><span class="op" id="5109733">.</span><span class="ident" id="5109734">Type</span>&nbsp;<span class="op" id="5109739">!=</span>&nbsp;<span class="ident" id="5109742">Operand</span>&nbsp;<span class="op" id="5109750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5109754">panic</span><span class="op" id="5109759">(</span><span class="string" id="5109760">&#34;not&nbsp;an&nbsp;operand&#34;</span><span class="op" id="5109776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5109783">lab</span>&nbsp;<span class="op" id="5109787">:=</span>&nbsp;<span class="ident" id="5109790">t</span><span class="op" id="5109791">.</span><span class="ident" id="5109792">Lit</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109797">if</span>&nbsp;<span class="op" id="5109800">!</span><span class="ident" id="5109801">isLabelStart</span><span class="op" id="5109813">(</span><span class="ident" id="5109814">lab</span><span class="op" id="5109817">)</span>&nbsp;<span class="op" id="5109819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109823">return</span>&nbsp;<span class="builtintype" id="5109830">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109841">if</span>&nbsp;<span class="op" id="5109844">!</span><span class="ident" id="5109845">isLabel</span><span class="op" id="5109852">(</span><span class="ident" id="5109853">lab</span><span class="op" id="5109856">)</span>&nbsp;<span class="op" id="5109858">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5109862">p</span><span class="op" id="5109863">.</span><span class="ident" id="5109864">err</span><span class="op" id="5109867">(</span><span class="ident" id="5109868">t</span><span class="op" id="5109869">.</span><span class="ident" id="5109870">Pos</span><span class="op" id="5109873">,</span>&nbsp;<span class="string" id="5109875">&#34;invalid&nbsp;label:&nbsp;%q&#34;</span><span class="op" id="5109894">,</span>&nbsp;<span class="ident" id="5109896">lab</span><span class="op" id="5109899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109906">return</span>&nbsp;<span class="builtintype" id="5109913">true</span><br>
<span class="lineno"></span><span class="op" id="5109918">}</span>
</div>
</body>
</html>
