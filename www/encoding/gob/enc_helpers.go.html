<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3196420">//&nbsp;Created&nbsp;by&nbsp;encgen&nbsp;--output&nbsp;enc_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3196479">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3196534">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="3196588">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3196639">package</span>&nbsp;<span class="ident" id="3196647">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3196652">import</span>&nbsp;<span class="op" id="3196659">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3196662">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="3196672">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3196675">var</span>&nbsp;<span class="ident" id="3196679">encArrayHelper</span>&nbsp;<span class="op" id="3196694">=</span>&nbsp;<span class="keyword" id="3196696">map</span><span class="op" id="3196699">[</span><span class="ident" id="3196700">reflect</span><span class="op" id="3196707">.</span><span class="ident" id="3196708">Kind</span><span class="op" id="3196712">]</span><span class="ident" id="3196713">encHelper</span><span class="op" id="3196722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196725">reflect</span><span class="op" id="3196732">.</span><span class="ident" id="3196733">Bool</span><span class="op" id="3196737">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3196745">encBoolArray</span><span class="op" id="3196757">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196760">reflect</span><span class="op" id="3196767">.</span><span class="ident" id="3196768">Complex64</span><span class="op" id="3196777">:</span>&nbsp;&nbsp;<span class="ident" id="3196780">encComplex64Array</span><span class="op" id="3196797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196800">reflect</span><span class="op" id="3196807">.</span><span class="ident" id="3196808">Complex128</span><span class="op" id="3196818">:</span>&nbsp;<span class="ident" id="3196820">encComplex128Array</span><span class="op" id="3196838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196841">reflect</span><span class="op" id="3196848">.</span><span class="ident" id="3196849">Float32</span><span class="op" id="3196856">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3196861">encFloat32Array</span><span class="op" id="3196876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196879">reflect</span><span class="op" id="3196886">.</span><span class="ident" id="3196887">Float64</span><span class="op" id="3196894">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3196899">encFloat64Array</span><span class="op" id="3196914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196917">reflect</span><span class="op" id="3196924">.</span><span class="ident" id="3196925">Int</span><span class="op" id="3196928">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3196937">encIntArray</span><span class="op" id="3196948">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196951">reflect</span><span class="op" id="3196958">.</span><span class="ident" id="3196959">Int16</span><span class="op" id="3196964">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3196971">encInt16Array</span><span class="op" id="3196984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196987">reflect</span><span class="op" id="3196994">.</span><span class="ident" id="3196995">Int32</span><span class="op" id="3197000">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197007">encInt32Array</span><span class="op" id="3197020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197023">reflect</span><span class="op" id="3197030">.</span><span class="ident" id="3197031">Int64</span><span class="op" id="3197036">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197043">encInt64Array</span><span class="op" id="3197056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197059">reflect</span><span class="op" id="3197066">.</span><span class="ident" id="3197067">Int8</span><span class="op" id="3197071">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197079">encInt8Array</span><span class="op" id="3197091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197094">reflect</span><span class="op" id="3197101">.</span><span class="ident" id="3197102">String</span><span class="op" id="3197108">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197114">encStringArray</span><span class="op" id="3197128">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197131">reflect</span><span class="op" id="3197138">.</span><span class="ident" id="3197139">Uint</span><span class="op" id="3197143">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197151">encUintArray</span><span class="op" id="3197163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197166">reflect</span><span class="op" id="3197173">.</span><span class="ident" id="3197174">Uint16</span><span class="op" id="3197180">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197186">encUint16Array</span><span class="op" id="3197200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197203">reflect</span><span class="op" id="3197210">.</span><span class="ident" id="3197211">Uint32</span><span class="op" id="3197217">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197223">encUint32Array</span><span class="op" id="3197237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197240">reflect</span><span class="op" id="3197247">.</span><span class="ident" id="3197248">Uint64</span><span class="op" id="3197254">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197260">encUint64Array</span><span class="op" id="3197274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197277">reflect</span><span class="op" id="3197284">.</span><span class="ident" id="3197285">Uintptr</span><span class="op" id="3197292">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197297">encUintptrArray</span><span class="op" id="3197312">,</span><br>
<span class="lineno">30</span><span class="op" id="3197314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3197317">var</span>&nbsp;<span class="ident" id="3197321">encSliceHelper</span>&nbsp;<span class="op" id="3197336">=</span>&nbsp;<span class="keyword" id="3197338">map</span><span class="op" id="3197341">[</span><span class="ident" id="3197342">reflect</span><span class="op" id="3197349">.</span><span class="ident" id="3197350">Kind</span><span class="op" id="3197354">]</span><span class="ident" id="3197355">encHelper</span><span class="op" id="3197364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197367">reflect</span><span class="op" id="3197374">.</span><span class="ident" id="3197375">Bool</span><span class="op" id="3197379">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197387">encBoolSlice</span><span class="op" id="3197399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197402">reflect</span><span class="op" id="3197409">.</span><span class="ident" id="3197410">Complex64</span><span class="op" id="3197419">:</span>&nbsp;&nbsp;<span class="ident" id="3197422">encComplex64Slice</span><span class="op" id="3197439">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197442">reflect</span><span class="op" id="3197449">.</span><span class="ident" id="3197450">Complex128</span><span class="op" id="3197460">:</span>&nbsp;<span class="ident" id="3197462">encComplex128Slice</span><span class="op" id="3197480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197483">reflect</span><span class="op" id="3197490">.</span><span class="ident" id="3197491">Float32</span><span class="op" id="3197498">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197503">encFloat32Slice</span><span class="op" id="3197518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197521">reflect</span><span class="op" id="3197528">.</span><span class="ident" id="3197529">Float64</span><span class="op" id="3197536">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197541">encFloat64Slice</span><span class="op" id="3197556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197559">reflect</span><span class="op" id="3197566">.</span><span class="ident" id="3197567">Int</span><span class="op" id="3197570">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197579">encIntSlice</span><span class="op" id="3197590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197593">reflect</span><span class="op" id="3197600">.</span><span class="ident" id="3197601">Int16</span><span class="op" id="3197606">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197613">encInt16Slice</span><span class="op" id="3197626">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197629">reflect</span><span class="op" id="3197636">.</span><span class="ident" id="3197637">Int32</span><span class="op" id="3197642">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197649">encInt32Slice</span><span class="op" id="3197662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197665">reflect</span><span class="op" id="3197672">.</span><span class="ident" id="3197673">Int64</span><span class="op" id="3197678">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197685">encInt64Slice</span><span class="op" id="3197698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197701">reflect</span><span class="op" id="3197708">.</span><span class="ident" id="3197709">Int8</span><span class="op" id="3197713">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197721">encInt8Slice</span><span class="op" id="3197733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197736">reflect</span><span class="op" id="3197743">.</span><span class="ident" id="3197744">String</span><span class="op" id="3197750">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197756">encStringSlice</span><span class="op" id="3197770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197773">reflect</span><span class="op" id="3197780">.</span><span class="ident" id="3197781">Uint</span><span class="op" id="3197785">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197793">encUintSlice</span><span class="op" id="3197805">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197808">reflect</span><span class="op" id="3197815">.</span><span class="ident" id="3197816">Uint16</span><span class="op" id="3197822">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197828">encUint16Slice</span><span class="op" id="3197842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197845">reflect</span><span class="op" id="3197852">.</span><span class="ident" id="3197853">Uint32</span><span class="op" id="3197859">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197865">encUint32Slice</span><span class="op" id="3197879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197882">reflect</span><span class="op" id="3197889">.</span><span class="ident" id="3197890">Uint64</span><span class="op" id="3197896">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197902">encUint64Slice</span><span class="op" id="3197916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197919">reflect</span><span class="op" id="3197926">.</span><span class="ident" id="3197927">Uintptr</span><span class="op" id="3197934">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3197939">encUintptrSlice</span><span class="op" id="3197954">,</span><br>
<span class="lineno"></span><span class="op" id="3197956">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="3197959">func</span>&nbsp;<span class="ident" id="3197964">encBoolArray</span><span class="op" id="3197976">(</span><span class="ident" id="3197977">state</span>&nbsp;<span class="op" id="3197983">*</span><span class="ident" id="3197984">encoderState</span><span class="op" id="3197996">,</span>&nbsp;<span class="ident" id="3197998">v</span>&nbsp;<span class="ident" id="3198000">reflect</span><span class="op" id="3198007">.</span><span class="ident" id="3198008">Value</span><span class="op" id="3198013">)</span>&nbsp;<span class="builtintype" id="3198015">bool</span>&nbsp;<span class="op" id="3198020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3198023">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198064">if</span>&nbsp;<span class="op" id="3198067">!</span><span class="ident" id="3198068">v</span><span class="op" id="3198069">.</span><span class="ident" id="3198070">CanAddr</span><span class="op" id="3198077">(</span><span class="op" id="3198078">)</span>&nbsp;<span class="op" id="3198080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198084">return</span>&nbsp;<span class="ident" id="3198091">false</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198101">return</span>&nbsp;<span class="ident" id="3198108">encBoolSlice</span><span class="op" id="3198120">(</span><span class="ident" id="3198121">state</span><span class="op" id="3198126">,</span>&nbsp;<span class="ident" id="3198128">v</span><span class="op" id="3198129">.</span><span class="ident" id="3198130">Slice</span><span class="op" id="3198135">(</span><span class="num" id="3198136">0</span><span class="op" id="3198137">,</span>&nbsp;<span class="ident" id="3198139">v</span><span class="op" id="3198140">.</span><span class="ident" id="3198141">Len</span><span class="op" id="3198144">(</span><span class="op" id="3198145">)</span><span class="op" id="3198146">)</span><span class="op" id="3198147">)</span><br>
<span class="lineno"></span><span class="op" id="3198149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3198152">func</span>&nbsp;<span class="ident" id="3198157">encBoolSlice</span><span class="op" id="3198169">(</span><span class="ident" id="3198170">state</span>&nbsp;<span class="op" id="3198176">*</span><span class="ident" id="3198177">encoderState</span><span class="op" id="3198189">,</span>&nbsp;<span class="ident" id="3198191">v</span>&nbsp;<span class="ident" id="3198193">reflect</span><span class="op" id="3198200">.</span><span class="ident" id="3198201">Value</span><span class="op" id="3198206">)</span>&nbsp;<span class="builtintype" id="3198208">bool</span>&nbsp;<span class="op" id="3198213">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198216">slice</span><span class="op" id="3198221">,</span>&nbsp;<span class="ident" id="3198223">ok</span>&nbsp;<span class="op" id="3198226">:=</span>&nbsp;<span class="ident" id="3198229">v</span><span class="op" id="3198230">.</span><span class="ident" id="3198231">Interface</span><span class="op" id="3198240">(</span><span class="op" id="3198241">)</span><span class="op" id="3198242">.</span><span class="op" id="3198243">(</span><span class="op" id="3198244">[</span><span class="op" id="3198245">]</span><span class="builtintype" id="3198246">bool</span><span class="op" id="3198250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198253">if</span>&nbsp;<span class="op" id="3198256">!</span><span class="ident" id="3198257">ok</span>&nbsp;<span class="op" id="3198260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3198264">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198339">return</span>&nbsp;<span class="ident" id="3198346">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198353">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198356">for</span>&nbsp;<span class="ident" id="3198360">_</span><span class="op" id="3198361">,</span>&nbsp;<span class="ident" id="3198363">x</span>&nbsp;<span class="op" id="3198365">:=</span>&nbsp;<span class="keyword" id="3198368">range</span>&nbsp;<span class="ident" id="3198374">slice</span>&nbsp;<span class="op" id="3198380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198384">if</span>&nbsp;<span class="ident" id="3198387">x</span>&nbsp;<span class="op" id="3198389">!=</span>&nbsp;<span class="ident" id="3198392">false</span>&nbsp;<span class="op" id="3198398">||</span>&nbsp;<span class="ident" id="3198401">state</span><span class="op" id="3198406">.</span><span class="ident" id="3198407">sendZero</span>&nbsp;<span class="op" id="3198416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198421">if</span>&nbsp;<span class="ident" id="3198424">x</span>&nbsp;<span class="op" id="3198426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198432">state</span><span class="op" id="3198437">.</span><span class="ident" id="3198438">encodeUint</span><span class="op" id="3198448">(</span><span class="num" id="3198449">1</span><span class="op" id="3198450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198455">}</span>&nbsp;<span class="keyword" id="3198457">else</span>&nbsp;<span class="op" id="3198462">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198468">state</span><span class="op" id="3198473">.</span><span class="ident" id="3198474">encodeUint</span><span class="op" id="3198484">(</span><span class="num" id="3198485">0</span><span class="op" id="3198486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198501">return</span>&nbsp;<span class="ident" id="3198508">true</span><br>
<span class="lineno">75</span><span class="op" id="3198513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3198516">func</span>&nbsp;<span class="ident" id="3198521">encComplex64Array</span><span class="op" id="3198538">(</span><span class="ident" id="3198539">state</span>&nbsp;<span class="op" id="3198545">*</span><span class="ident" id="3198546">encoderState</span><span class="op" id="3198558">,</span>&nbsp;<span class="ident" id="3198560">v</span>&nbsp;<span class="ident" id="3198562">reflect</span><span class="op" id="3198569">.</span><span class="ident" id="3198570">Value</span><span class="op" id="3198575">)</span>&nbsp;<span class="builtintype" id="3198577">bool</span>&nbsp;<span class="op" id="3198582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3198585">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198626">if</span>&nbsp;<span class="op" id="3198629">!</span><span class="ident" id="3198630">v</span><span class="op" id="3198631">.</span><span class="ident" id="3198632">CanAddr</span><span class="op" id="3198639">(</span><span class="op" id="3198640">)</span>&nbsp;<span class="op" id="3198642">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198646">return</span>&nbsp;<span class="ident" id="3198653">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198663">return</span>&nbsp;<span class="ident" id="3198670">encComplex64Slice</span><span class="op" id="3198687">(</span><span class="ident" id="3198688">state</span><span class="op" id="3198693">,</span>&nbsp;<span class="ident" id="3198695">v</span><span class="op" id="3198696">.</span><span class="ident" id="3198697">Slice</span><span class="op" id="3198702">(</span><span class="num" id="3198703">0</span><span class="op" id="3198704">,</span>&nbsp;<span class="ident" id="3198706">v</span><span class="op" id="3198707">.</span><span class="ident" id="3198708">Len</span><span class="op" id="3198711">(</span><span class="op" id="3198712">)</span><span class="op" id="3198713">)</span><span class="op" id="3198714">)</span><br>
<span class="lineno"></span><span class="op" id="3198716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="3198719">func</span>&nbsp;<span class="ident" id="3198724">encComplex64Slice</span><span class="op" id="3198741">(</span><span class="ident" id="3198742">state</span>&nbsp;<span class="op" id="3198748">*</span><span class="ident" id="3198749">encoderState</span><span class="op" id="3198761">,</span>&nbsp;<span class="ident" id="3198763">v</span>&nbsp;<span class="ident" id="3198765">reflect</span><span class="op" id="3198772">.</span><span class="ident" id="3198773">Value</span><span class="op" id="3198778">)</span>&nbsp;<span class="builtintype" id="3198780">bool</span>&nbsp;<span class="op" id="3198785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198788">slice</span><span class="op" id="3198793">,</span>&nbsp;<span class="ident" id="3198795">ok</span>&nbsp;<span class="op" id="3198798">:=</span>&nbsp;<span class="ident" id="3198801">v</span><span class="op" id="3198802">.</span><span class="ident" id="3198803">Interface</span><span class="op" id="3198812">(</span><span class="op" id="3198813">)</span><span class="op" id="3198814">.</span><span class="op" id="3198815">(</span><span class="op" id="3198816">[</span><span class="op" id="3198817">]</span><span class="builtintype" id="3198818">complex64</span><span class="op" id="3198827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198830">if</span>&nbsp;<span class="op" id="3198833">!</span><span class="ident" id="3198834">ok</span>&nbsp;<span class="op" id="3198837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3198841">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198926">return</span>&nbsp;<span class="ident" id="3198933">false</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198943">for</span>&nbsp;<span class="ident" id="3198947">_</span><span class="op" id="3198948">,</span>&nbsp;<span class="ident" id="3198950">x</span>&nbsp;<span class="op" id="3198952">:=</span>&nbsp;<span class="keyword" id="3198955">range</span>&nbsp;<span class="ident" id="3198961">slice</span>&nbsp;<span class="op" id="3198967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198971">if</span>&nbsp;<span class="ident" id="3198974">x</span>&nbsp;<span class="op" id="3198976">!=</span>&nbsp;<span class="num" id="3198979">0</span><span class="op" id="3198980">+</span><span class="num" id="3198981">0i</span>&nbsp;<span class="op" id="3198984">||</span>&nbsp;<span class="ident" id="3198987">state</span><span class="op" id="3198992">.</span><span class="ident" id="3198993">sendZero</span>&nbsp;<span class="op" id="3199002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3199007">rpart</span>&nbsp;<span class="op" id="3199013">:=</span>&nbsp;<span class="ident" id="3199016">floatBits</span><span class="op" id="3199025">(</span><span class="builtintype" id="3199026">float64</span><span class="op" id="3199033">(</span><span class="builtinfunc" id="3199034">real</span><span class="op" id="3199038">(</span><span class="ident" id="3199039">x</span><span class="op" id="3199040">)</span><span class="op" id="3199041">)</span><span class="op" id="3199042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3199047">ipart</span>&nbsp;<span class="op" id="3199053">:=</span>&nbsp;<span class="ident" id="3199056">floatBits</span><span class="op" id="3199065">(</span><span class="builtintype" id="3199066">float64</span><span class="op" id="3199073">(</span><span class="builtinfunc" id="3199074">imag</span><span class="op" id="3199078">(</span><span class="ident" id="3199079">x</span><span class="op" id="3199080">)</span><span class="op" id="3199081">)</span><span class="op" id="3199082">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3199087">state</span><span class="op" id="3199092">.</span><span class="ident" id="3199093">encodeUint</span><span class="op" id="3199103">(</span><span class="ident" id="3199104">rpart</span><span class="op" id="3199109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3199114">state</span><span class="op" id="3199119">.</span><span class="ident" id="3199120">encodeUint</span><span class="op" id="3199130">(</span><span class="ident" id="3199131">ipart</span><span class="op" id="3199136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3199140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3199143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199146">return</span>&nbsp;<span class="ident" id="3199153">true</span><br>
<span class="lineno">100</span><span class="op" id="3199158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3199161">func</span>&nbsp;<span class="ident" id="3199166">encComplex128Array</span><span class="op" id="3199184">(</span><span class="ident" id="3199185">state</span>&nbsp;<span class="op" id="3199191">*</span><span class="ident" id="3199192">encoderState</span><span class="op" id="3199204">,</span>&nbsp;<span class="ident" id="3199206">v</span>&nbsp;<span class="ident" id="3199208">reflect</span><span class="op" id="3199215">.</span><span class="ident" id="3199216">Value</span><span class="op" id="3199221">)</span>&nbsp;<span class="builtintype" id="3199223">bool</span>&nbsp;<span class="op" id="3199228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3199231">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199272">if</span>&nbsp;<span class="op" id="3199275">!</span><span class="ident" id="3199276">v</span><span class="op" id="3199277">.</span><span class="ident" id="3199278">CanAddr</span><span class="op" id="3199285">(</span><span class="op" id="3199286">)</span>&nbsp;<span class="op" id="3199288">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199292">return</span>&nbsp;<span class="ident" id="3199299">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3199306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199309">return</span>&nbsp;<span class="ident" id="3199316">encComplex128Slice</span><span class="op" id="3199334">(</span><span class="ident" id="3199335">state</span><span class="op" id="3199340">,</span>&nbsp;<span class="ident" id="3199342">v</span><span class="op" id="3199343">.</span><span class="ident" id="3199344">Slice</span><span class="op" id="3199349">(</span><span class="num" id="3199350">0</span><span class="op" id="3199351">,</span>&nbsp;<span class="ident" id="3199353">v</span><span class="op" id="3199354">.</span><span class="ident" id="3199355">Len</span><span class="op" id="3199358">(</span><span class="op" id="3199359">)</span><span class="op" id="3199360">)</span><span class="op" id="3199361">)</span><br>
<span class="lineno"></span><span class="op" id="3199363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="3199366">func</span>&nbsp;<span class="ident" id="3199371">encComplex128Slice</span><span class="op" id="3199389">(</span><span class="ident" id="3199390">state</span>&nbsp;<span class="op" id="3199396">*</span><span class="ident" id="3199397">encoderState</span><span class="op" id="3199409">,</span>&nbsp;<span class="ident" id="3199411">v</span>&nbsp;<span class="ident" id="3199413">reflect</span><span class="op" id="3199420">.</span><span class="ident" id="3199421">Value</span><span class="op" id="3199426">)</span>&nbsp;<span class="builtintype" id="3199428">bool</span>&nbsp;<span class="op" id="3199433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3199436">slice</span><span class="op" id="3199441">,</span>&nbsp;<span class="ident" id="3199443">ok</span>&nbsp;<span class="op" id="3199446">:=</span>&nbsp;<span class="ident" id="3199449">v</span><span class="op" id="3199450">.</span><span class="ident" id="3199451">Interface</span><span class="op" id="3199460">(</span><span class="op" id="3199461">)</span><span class="op" id="3199462">.</span><span class="op" id="3199463">(</span><span class="op" id="3199464">[</span><span class="op" id="3199465">]</span><span class="builtintype" id="3199466">complex128</span><span class="op" id="3199476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199479">if</span>&nbsp;<span class="op" id="3199482">!</span><span class="ident" id="3199483">ok</span>&nbsp;<span class="op" id="3199486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3199490">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199577">return</span>&nbsp;<span class="ident" id="3199584">false</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3199591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199594">for</span>&nbsp;<span class="ident" id="3199598">_</span><span class="op" id="3199599">,</span>&nbsp;<span class="ident" id="3199601">x</span>&nbsp;<span class="op" id="3199603">:=</span>&nbsp;<span class="keyword" id="3199606">range</span>&nbsp;<span class="ident" id="3199612">slice</span>&nbsp;<span class="op" id="3199618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199622">if</span>&nbsp;<span class="ident" id="3199625">x</span>&nbsp;<span class="op" id="3199627">!=</span>&nbsp;<span class="num" id="3199630">0</span><span class="op" id="3199631">+</span><span class="num" id="3199632">0i</span>&nbsp;<span class="op" id="3199635">||</span>&nbsp;<span class="ident" id="3199638">state</span><span class="op" id="3199643">.</span><span class="ident" id="3199644">sendZero</span>&nbsp;<span class="op" id="3199653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3199658">rpart</span>&nbsp;<span class="op" id="3199664">:=</span>&nbsp;<span class="ident" id="3199667">floatBits</span><span class="op" id="3199676">(</span><span class="builtinfunc" id="3199677">real</span><span class="op" id="3199681">(</span><span class="ident" id="3199682">x</span><span class="op" id="3199683">)</span><span class="op" id="3199684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3199689">ipart</span>&nbsp;<span class="op" id="3199695">:=</span>&nbsp;<span class="ident" id="3199698">floatBits</span><span class="op" id="3199707">(</span><span class="builtinfunc" id="3199708">imag</span><span class="op" id="3199712">(</span><span class="ident" id="3199713">x</span><span class="op" id="3199714">)</span><span class="op" id="3199715">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3199720">state</span><span class="op" id="3199725">.</span><span class="ident" id="3199726">encodeUint</span><span class="op" id="3199736">(</span><span class="ident" id="3199737">rpart</span><span class="op" id="3199742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3199747">state</span><span class="op" id="3199752">.</span><span class="ident" id="3199753">encodeUint</span><span class="op" id="3199763">(</span><span class="ident" id="3199764">ipart</span><span class="op" id="3199769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3199773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3199776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199779">return</span>&nbsp;<span class="ident" id="3199786">true</span><br>
<span class="lineno">125</span><span class="op" id="3199791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3199794">func</span>&nbsp;<span class="ident" id="3199799">encFloat32Array</span><span class="op" id="3199814">(</span><span class="ident" id="3199815">state</span>&nbsp;<span class="op" id="3199821">*</span><span class="ident" id="3199822">encoderState</span><span class="op" id="3199834">,</span>&nbsp;<span class="ident" id="3199836">v</span>&nbsp;<span class="ident" id="3199838">reflect</span><span class="op" id="3199845">.</span><span class="ident" id="3199846">Value</span><span class="op" id="3199851">)</span>&nbsp;<span class="builtintype" id="3199853">bool</span>&nbsp;<span class="op" id="3199858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3199861">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199902">if</span>&nbsp;<span class="op" id="3199905">!</span><span class="ident" id="3199906">v</span><span class="op" id="3199907">.</span><span class="ident" id="3199908">CanAddr</span><span class="op" id="3199915">(</span><span class="op" id="3199916">)</span>&nbsp;<span class="op" id="3199918">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199922">return</span>&nbsp;<span class="ident" id="3199929">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3199936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199939">return</span>&nbsp;<span class="ident" id="3199946">encFloat32Slice</span><span class="op" id="3199961">(</span><span class="ident" id="3199962">state</span><span class="op" id="3199967">,</span>&nbsp;<span class="ident" id="3199969">v</span><span class="op" id="3199970">.</span><span class="ident" id="3199971">Slice</span><span class="op" id="3199976">(</span><span class="num" id="3199977">0</span><span class="op" id="3199978">,</span>&nbsp;<span class="ident" id="3199980">v</span><span class="op" id="3199981">.</span><span class="ident" id="3199982">Len</span><span class="op" id="3199985">(</span><span class="op" id="3199986">)</span><span class="op" id="3199987">)</span><span class="op" id="3199988">)</span><br>
<span class="lineno"></span><span class="op" id="3199990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="3199993">func</span>&nbsp;<span class="ident" id="3199998">encFloat32Slice</span><span class="op" id="3200013">(</span><span class="ident" id="3200014">state</span>&nbsp;<span class="op" id="3200020">*</span><span class="ident" id="3200021">encoderState</span><span class="op" id="3200033">,</span>&nbsp;<span class="ident" id="3200035">v</span>&nbsp;<span class="ident" id="3200037">reflect</span><span class="op" id="3200044">.</span><span class="ident" id="3200045">Value</span><span class="op" id="3200050">)</span>&nbsp;<span class="builtintype" id="3200052">bool</span>&nbsp;<span class="op" id="3200057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3200060">slice</span><span class="op" id="3200065">,</span>&nbsp;<span class="ident" id="3200067">ok</span>&nbsp;<span class="op" id="3200070">:=</span>&nbsp;<span class="ident" id="3200073">v</span><span class="op" id="3200074">.</span><span class="ident" id="3200075">Interface</span><span class="op" id="3200084">(</span><span class="op" id="3200085">)</span><span class="op" id="3200086">.</span><span class="op" id="3200087">(</span><span class="op" id="3200088">[</span><span class="op" id="3200089">]</span><span class="builtintype" id="3200090">float32</span><span class="op" id="3200097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200100">if</span>&nbsp;<span class="op" id="3200103">!</span><span class="ident" id="3200104">ok</span>&nbsp;<span class="op" id="3200107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3200111">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200192">return</span>&nbsp;<span class="ident" id="3200199">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3200206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200209">for</span>&nbsp;<span class="ident" id="3200213">_</span><span class="op" id="3200214">,</span>&nbsp;<span class="ident" id="3200216">x</span>&nbsp;<span class="op" id="3200218">:=</span>&nbsp;<span class="keyword" id="3200221">range</span>&nbsp;<span class="ident" id="3200227">slice</span>&nbsp;<span class="op" id="3200233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200237">if</span>&nbsp;<span class="ident" id="3200240">x</span>&nbsp;<span class="op" id="3200242">!=</span>&nbsp;<span class="num" id="3200245">0</span>&nbsp;<span class="op" id="3200247">||</span>&nbsp;<span class="ident" id="3200250">state</span><span class="op" id="3200255">.</span><span class="ident" id="3200256">sendZero</span>&nbsp;<span class="op" id="3200265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3200270">bits</span>&nbsp;<span class="op" id="3200275">:=</span>&nbsp;<span class="ident" id="3200278">floatBits</span><span class="op" id="3200287">(</span><span class="builtintype" id="3200288">float64</span><span class="op" id="3200295">(</span><span class="ident" id="3200296">x</span><span class="op" id="3200297">)</span><span class="op" id="3200298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3200303">state</span><span class="op" id="3200308">.</span><span class="ident" id="3200309">encodeUint</span><span class="op" id="3200319">(</span><span class="ident" id="3200320">bits</span><span class="op" id="3200324">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3200328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3200331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200334">return</span>&nbsp;<span class="ident" id="3200341">true</span><br>
<span class="lineno"></span><span class="op" id="3200346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="3200349">func</span>&nbsp;<span class="ident" id="3200354">encFloat64Array</span><span class="op" id="3200369">(</span><span class="ident" id="3200370">state</span>&nbsp;<span class="op" id="3200376">*</span><span class="ident" id="3200377">encoderState</span><span class="op" id="3200389">,</span>&nbsp;<span class="ident" id="3200391">v</span>&nbsp;<span class="ident" id="3200393">reflect</span><span class="op" id="3200400">.</span><span class="ident" id="3200401">Value</span><span class="op" id="3200406">)</span>&nbsp;<span class="builtintype" id="3200408">bool</span>&nbsp;<span class="op" id="3200413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3200416">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200457">if</span>&nbsp;<span class="op" id="3200460">!</span><span class="ident" id="3200461">v</span><span class="op" id="3200462">.</span><span class="ident" id="3200463">CanAddr</span><span class="op" id="3200470">(</span><span class="op" id="3200471">)</span>&nbsp;<span class="op" id="3200473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200477">return</span>&nbsp;<span class="ident" id="3200484">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3200491">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200494">return</span>&nbsp;<span class="ident" id="3200501">encFloat64Slice</span><span class="op" id="3200516">(</span><span class="ident" id="3200517">state</span><span class="op" id="3200522">,</span>&nbsp;<span class="ident" id="3200524">v</span><span class="op" id="3200525">.</span><span class="ident" id="3200526">Slice</span><span class="op" id="3200531">(</span><span class="num" id="3200532">0</span><span class="op" id="3200533">,</span>&nbsp;<span class="ident" id="3200535">v</span><span class="op" id="3200536">.</span><span class="ident" id="3200537">Len</span><span class="op" id="3200540">(</span><span class="op" id="3200541">)</span><span class="op" id="3200542">)</span><span class="op" id="3200543">)</span><br>
<span class="lineno"></span><span class="op" id="3200545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3200548">func</span>&nbsp;<span class="ident" id="3200553">encFloat64Slice</span><span class="op" id="3200568">(</span><span class="ident" id="3200569">state</span>&nbsp;<span class="op" id="3200575">*</span><span class="ident" id="3200576">encoderState</span><span class="op" id="3200588">,</span>&nbsp;<span class="ident" id="3200590">v</span>&nbsp;<span class="ident" id="3200592">reflect</span><span class="op" id="3200599">.</span><span class="ident" id="3200600">Value</span><span class="op" id="3200605">)</span>&nbsp;<span class="builtintype" id="3200607">bool</span>&nbsp;<span class="op" id="3200612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3200615">slice</span><span class="op" id="3200620">,</span>&nbsp;<span class="ident" id="3200622">ok</span>&nbsp;<span class="op" id="3200625">:=</span>&nbsp;<span class="ident" id="3200628">v</span><span class="op" id="3200629">.</span><span class="ident" id="3200630">Interface</span><span class="op" id="3200639">(</span><span class="op" id="3200640">)</span><span class="op" id="3200641">.</span><span class="op" id="3200642">(</span><span class="op" id="3200643">[</span><span class="op" id="3200644">]</span><span class="builtintype" id="3200645">float64</span><span class="op" id="3200652">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200655">if</span>&nbsp;<span class="op" id="3200658">!</span><span class="ident" id="3200659">ok</span>&nbsp;<span class="op" id="3200662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3200666">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200747">return</span>&nbsp;<span class="ident" id="3200754">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3200761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200764">for</span>&nbsp;<span class="ident" id="3200768">_</span><span class="op" id="3200769">,</span>&nbsp;<span class="ident" id="3200771">x</span>&nbsp;<span class="op" id="3200773">:=</span>&nbsp;<span class="keyword" id="3200776">range</span>&nbsp;<span class="ident" id="3200782">slice</span>&nbsp;<span class="op" id="3200788">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200792">if</span>&nbsp;<span class="ident" id="3200795">x</span>&nbsp;<span class="op" id="3200797">!=</span>&nbsp;<span class="num" id="3200800">0</span>&nbsp;<span class="op" id="3200802">||</span>&nbsp;<span class="ident" id="3200805">state</span><span class="op" id="3200810">.</span><span class="ident" id="3200811">sendZero</span>&nbsp;<span class="op" id="3200820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3200825">bits</span>&nbsp;<span class="op" id="3200830">:=</span>&nbsp;<span class="ident" id="3200833">floatBits</span><span class="op" id="3200842">(</span><span class="ident" id="3200843">x</span><span class="op" id="3200844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3200849">state</span><span class="op" id="3200854">.</span><span class="ident" id="3200855">encodeUint</span><span class="op" id="3200865">(</span><span class="ident" id="3200866">bits</span><span class="op" id="3200870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3200874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3200877">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200880">return</span>&nbsp;<span class="ident" id="3200887">true</span><br>
<span class="lineno"></span><span class="op" id="3200892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3200895">func</span>&nbsp;<span class="ident" id="3200900">encIntArray</span><span class="op" id="3200911">(</span><span class="ident" id="3200912">state</span>&nbsp;<span class="op" id="3200918">*</span><span class="ident" id="3200919">encoderState</span><span class="op" id="3200931">,</span>&nbsp;<span class="ident" id="3200933">v</span>&nbsp;<span class="ident" id="3200935">reflect</span><span class="op" id="3200942">.</span><span class="ident" id="3200943">Value</span><span class="op" id="3200948">)</span>&nbsp;<span class="builtintype" id="3200950">bool</span>&nbsp;<span class="op" id="3200955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3200958">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200999">if</span>&nbsp;<span class="op" id="3201002">!</span><span class="ident" id="3201003">v</span><span class="op" id="3201004">.</span><span class="ident" id="3201005">CanAddr</span><span class="op" id="3201012">(</span><span class="op" id="3201013">)</span>&nbsp;<span class="op" id="3201015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201019">return</span>&nbsp;<span class="ident" id="3201026">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201036">return</span>&nbsp;<span class="ident" id="3201043">encIntSlice</span><span class="op" id="3201054">(</span><span class="ident" id="3201055">state</span><span class="op" id="3201060">,</span>&nbsp;<span class="ident" id="3201062">v</span><span class="op" id="3201063">.</span><span class="ident" id="3201064">Slice</span><span class="op" id="3201069">(</span><span class="num" id="3201070">0</span><span class="op" id="3201071">,</span>&nbsp;<span class="ident" id="3201073">v</span><span class="op" id="3201074">.</span><span class="ident" id="3201075">Len</span><span class="op" id="3201078">(</span><span class="op" id="3201079">)</span><span class="op" id="3201080">)</span><span class="op" id="3201081">)</span><br>
<span class="lineno"></span><span class="op" id="3201083">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="3201086">func</span>&nbsp;<span class="ident" id="3201091">encIntSlice</span><span class="op" id="3201102">(</span><span class="ident" id="3201103">state</span>&nbsp;<span class="op" id="3201109">*</span><span class="ident" id="3201110">encoderState</span><span class="op" id="3201122">,</span>&nbsp;<span class="ident" id="3201124">v</span>&nbsp;<span class="ident" id="3201126">reflect</span><span class="op" id="3201133">.</span><span class="ident" id="3201134">Value</span><span class="op" id="3201139">)</span>&nbsp;<span class="builtintype" id="3201141">bool</span>&nbsp;<span class="op" id="3201146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201149">slice</span><span class="op" id="3201154">,</span>&nbsp;<span class="ident" id="3201156">ok</span>&nbsp;<span class="op" id="3201159">:=</span>&nbsp;<span class="ident" id="3201162">v</span><span class="op" id="3201163">.</span><span class="ident" id="3201164">Interface</span><span class="op" id="3201173">(</span><span class="op" id="3201174">)</span><span class="op" id="3201175">.</span><span class="op" id="3201176">(</span><span class="op" id="3201177">[</span><span class="op" id="3201178">]</span><span class="builtintype" id="3201179">int</span><span class="op" id="3201182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201185">if</span>&nbsp;<span class="op" id="3201188">!</span><span class="ident" id="3201189">ok</span>&nbsp;<span class="op" id="3201192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3201196">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201269">return</span>&nbsp;<span class="ident" id="3201276">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201286">for</span>&nbsp;<span class="ident" id="3201290">_</span><span class="op" id="3201291">,</span>&nbsp;<span class="ident" id="3201293">x</span>&nbsp;<span class="op" id="3201295">:=</span>&nbsp;<span class="keyword" id="3201298">range</span>&nbsp;<span class="ident" id="3201304">slice</span>&nbsp;<span class="op" id="3201310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201314">if</span>&nbsp;<span class="ident" id="3201317">x</span>&nbsp;<span class="op" id="3201319">!=</span>&nbsp;<span class="num" id="3201322">0</span>&nbsp;<span class="op" id="3201324">||</span>&nbsp;<span class="ident" id="3201327">state</span><span class="op" id="3201332">.</span><span class="ident" id="3201333">sendZero</span>&nbsp;<span class="op" id="3201342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201347">state</span><span class="op" id="3201352">.</span><span class="ident" id="3201353">encodeInt</span><span class="op" id="3201362">(</span><span class="ident" id="3201363">int64</span><span class="op" id="3201368">(</span><span class="ident" id="3201369">x</span><span class="op" id="3201370">)</span><span class="op" id="3201371">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201381">return</span>&nbsp;<span class="ident" id="3201388">true</span><br>
<span class="lineno"></span><span class="op" id="3201393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="3201396">func</span>&nbsp;<span class="ident" id="3201401">encInt16Array</span><span class="op" id="3201414">(</span><span class="ident" id="3201415">state</span>&nbsp;<span class="op" id="3201421">*</span><span class="ident" id="3201422">encoderState</span><span class="op" id="3201434">,</span>&nbsp;<span class="ident" id="3201436">v</span>&nbsp;<span class="ident" id="3201438">reflect</span><span class="op" id="3201445">.</span><span class="ident" id="3201446">Value</span><span class="op" id="3201451">)</span>&nbsp;<span class="builtintype" id="3201453">bool</span>&nbsp;<span class="op" id="3201458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3201461">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201502">if</span>&nbsp;<span class="op" id="3201505">!</span><span class="ident" id="3201506">v</span><span class="op" id="3201507">.</span><span class="ident" id="3201508">CanAddr</span><span class="op" id="3201515">(</span><span class="op" id="3201516">)</span>&nbsp;<span class="op" id="3201518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201522">return</span>&nbsp;<span class="ident" id="3201529">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201536">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201539">return</span>&nbsp;<span class="ident" id="3201546">encInt16Slice</span><span class="op" id="3201559">(</span><span class="ident" id="3201560">state</span><span class="op" id="3201565">,</span>&nbsp;<span class="ident" id="3201567">v</span><span class="op" id="3201568">.</span><span class="ident" id="3201569">Slice</span><span class="op" id="3201574">(</span><span class="num" id="3201575">0</span><span class="op" id="3201576">,</span>&nbsp;<span class="ident" id="3201578">v</span><span class="op" id="3201579">.</span><span class="ident" id="3201580">Len</span><span class="op" id="3201583">(</span><span class="op" id="3201584">)</span><span class="op" id="3201585">)</span><span class="op" id="3201586">)</span><br>
<span class="lineno"></span><span class="op" id="3201588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3201591">func</span>&nbsp;<span class="ident" id="3201596">encInt16Slice</span><span class="op" id="3201609">(</span><span class="ident" id="3201610">state</span>&nbsp;<span class="op" id="3201616">*</span><span class="ident" id="3201617">encoderState</span><span class="op" id="3201629">,</span>&nbsp;<span class="ident" id="3201631">v</span>&nbsp;<span class="ident" id="3201633">reflect</span><span class="op" id="3201640">.</span><span class="ident" id="3201641">Value</span><span class="op" id="3201646">)</span>&nbsp;<span class="builtintype" id="3201648">bool</span>&nbsp;<span class="op" id="3201653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201656">slice</span><span class="op" id="3201661">,</span>&nbsp;<span class="ident" id="3201663">ok</span>&nbsp;<span class="op" id="3201666">:=</span>&nbsp;<span class="ident" id="3201669">v</span><span class="op" id="3201670">.</span><span class="ident" id="3201671">Interface</span><span class="op" id="3201680">(</span><span class="op" id="3201681">)</span><span class="op" id="3201682">.</span><span class="op" id="3201683">(</span><span class="op" id="3201684">[</span><span class="op" id="3201685">]</span><span class="builtintype" id="3201686">int16</span><span class="op" id="3201691">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201694">if</span>&nbsp;<span class="op" id="3201697">!</span><span class="ident" id="3201698">ok</span>&nbsp;<span class="op" id="3201701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3201705">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201782">return</span>&nbsp;<span class="ident" id="3201789">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201799">for</span>&nbsp;<span class="ident" id="3201803">_</span><span class="op" id="3201804">,</span>&nbsp;<span class="ident" id="3201806">x</span>&nbsp;<span class="op" id="3201808">:=</span>&nbsp;<span class="keyword" id="3201811">range</span>&nbsp;<span class="ident" id="3201817">slice</span>&nbsp;<span class="op" id="3201823">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201827">if</span>&nbsp;<span class="ident" id="3201830">x</span>&nbsp;<span class="op" id="3201832">!=</span>&nbsp;<span class="num" id="3201835">0</span>&nbsp;<span class="op" id="3201837">||</span>&nbsp;<span class="ident" id="3201840">state</span><span class="op" id="3201845">.</span><span class="ident" id="3201846">sendZero</span>&nbsp;<span class="op" id="3201855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201860">state</span><span class="op" id="3201865">.</span><span class="ident" id="3201866">encodeInt</span><span class="op" id="3201875">(</span><span class="ident" id="3201876">int64</span><span class="op" id="3201881">(</span><span class="ident" id="3201882">x</span><span class="op" id="3201883">)</span><span class="op" id="3201884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201894">return</span>&nbsp;<span class="ident" id="3201901">true</span><br>
<span class="lineno">215</span><span class="op" id="3201906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3201909">func</span>&nbsp;<span class="ident" id="3201914">encInt32Array</span><span class="op" id="3201927">(</span><span class="ident" id="3201928">state</span>&nbsp;<span class="op" id="3201934">*</span><span class="ident" id="3201935">encoderState</span><span class="op" id="3201947">,</span>&nbsp;<span class="ident" id="3201949">v</span>&nbsp;<span class="ident" id="3201951">reflect</span><span class="op" id="3201958">.</span><span class="ident" id="3201959">Value</span><span class="op" id="3201964">)</span>&nbsp;<span class="builtintype" id="3201966">bool</span>&nbsp;<span class="op" id="3201971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3201974">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202015">if</span>&nbsp;<span class="op" id="3202018">!</span><span class="ident" id="3202019">v</span><span class="op" id="3202020">.</span><span class="ident" id="3202021">CanAddr</span><span class="op" id="3202028">(</span><span class="op" id="3202029">)</span>&nbsp;<span class="op" id="3202031">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202035">return</span>&nbsp;<span class="ident" id="3202042">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3202049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202052">return</span>&nbsp;<span class="ident" id="3202059">encInt32Slice</span><span class="op" id="3202072">(</span><span class="ident" id="3202073">state</span><span class="op" id="3202078">,</span>&nbsp;<span class="ident" id="3202080">v</span><span class="op" id="3202081">.</span><span class="ident" id="3202082">Slice</span><span class="op" id="3202087">(</span><span class="num" id="3202088">0</span><span class="op" id="3202089">,</span>&nbsp;<span class="ident" id="3202091">v</span><span class="op" id="3202092">.</span><span class="ident" id="3202093">Len</span><span class="op" id="3202096">(</span><span class="op" id="3202097">)</span><span class="op" id="3202098">)</span><span class="op" id="3202099">)</span><br>
<span class="lineno"></span><span class="op" id="3202101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="3202104">func</span>&nbsp;<span class="ident" id="3202109">encInt32Slice</span><span class="op" id="3202122">(</span><span class="ident" id="3202123">state</span>&nbsp;<span class="op" id="3202129">*</span><span class="ident" id="3202130">encoderState</span><span class="op" id="3202142">,</span>&nbsp;<span class="ident" id="3202144">v</span>&nbsp;<span class="ident" id="3202146">reflect</span><span class="op" id="3202153">.</span><span class="ident" id="3202154">Value</span><span class="op" id="3202159">)</span>&nbsp;<span class="builtintype" id="3202161">bool</span>&nbsp;<span class="op" id="3202166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3202169">slice</span><span class="op" id="3202174">,</span>&nbsp;<span class="ident" id="3202176">ok</span>&nbsp;<span class="op" id="3202179">:=</span>&nbsp;<span class="ident" id="3202182">v</span><span class="op" id="3202183">.</span><span class="ident" id="3202184">Interface</span><span class="op" id="3202193">(</span><span class="op" id="3202194">)</span><span class="op" id="3202195">.</span><span class="op" id="3202196">(</span><span class="op" id="3202197">[</span><span class="op" id="3202198">]</span><span class="builtintype" id="3202199">int32</span><span class="op" id="3202204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202207">if</span>&nbsp;<span class="op" id="3202210">!</span><span class="ident" id="3202211">ok</span>&nbsp;<span class="op" id="3202214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3202218">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202295">return</span>&nbsp;<span class="ident" id="3202302">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3202309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202312">for</span>&nbsp;<span class="ident" id="3202316">_</span><span class="op" id="3202317">,</span>&nbsp;<span class="ident" id="3202319">x</span>&nbsp;<span class="op" id="3202321">:=</span>&nbsp;<span class="keyword" id="3202324">range</span>&nbsp;<span class="ident" id="3202330">slice</span>&nbsp;<span class="op" id="3202336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202340">if</span>&nbsp;<span class="ident" id="3202343">x</span>&nbsp;<span class="op" id="3202345">!=</span>&nbsp;<span class="num" id="3202348">0</span>&nbsp;<span class="op" id="3202350">||</span>&nbsp;<span class="ident" id="3202353">state</span><span class="op" id="3202358">.</span><span class="ident" id="3202359">sendZero</span>&nbsp;<span class="op" id="3202368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3202373">state</span><span class="op" id="3202378">.</span><span class="ident" id="3202379">encodeInt</span><span class="op" id="3202388">(</span><span class="ident" id="3202389">int64</span><span class="op" id="3202394">(</span><span class="ident" id="3202395">x</span><span class="op" id="3202396">)</span><span class="op" id="3202397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3202401">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3202404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202407">return</span>&nbsp;<span class="ident" id="3202414">true</span><br>
<span class="lineno"></span><span class="op" id="3202419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3202422">func</span>&nbsp;<span class="ident" id="3202427">encInt64Array</span><span class="op" id="3202440">(</span><span class="ident" id="3202441">state</span>&nbsp;<span class="op" id="3202447">*</span><span class="ident" id="3202448">encoderState</span><span class="op" id="3202460">,</span>&nbsp;<span class="ident" id="3202462">v</span>&nbsp;<span class="ident" id="3202464">reflect</span><span class="op" id="3202471">.</span><span class="ident" id="3202472">Value</span><span class="op" id="3202477">)</span>&nbsp;<span class="builtintype" id="3202479">bool</span>&nbsp;<span class="op" id="3202484">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3202487">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202528">if</span>&nbsp;<span class="op" id="3202531">!</span><span class="ident" id="3202532">v</span><span class="op" id="3202533">.</span><span class="ident" id="3202534">CanAddr</span><span class="op" id="3202541">(</span><span class="op" id="3202542">)</span>&nbsp;<span class="op" id="3202544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202548">return</span>&nbsp;<span class="ident" id="3202555">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3202562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202565">return</span>&nbsp;<span class="ident" id="3202572">encInt64Slice</span><span class="op" id="3202585">(</span><span class="ident" id="3202586">state</span><span class="op" id="3202591">,</span>&nbsp;<span class="ident" id="3202593">v</span><span class="op" id="3202594">.</span><span class="ident" id="3202595">Slice</span><span class="op" id="3202600">(</span><span class="num" id="3202601">0</span><span class="op" id="3202602">,</span>&nbsp;<span class="ident" id="3202604">v</span><span class="op" id="3202605">.</span><span class="ident" id="3202606">Len</span><span class="op" id="3202609">(</span><span class="op" id="3202610">)</span><span class="op" id="3202611">)</span><span class="op" id="3202612">)</span><br>
<span class="lineno">245</span><span class="op" id="3202614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3202617">func</span>&nbsp;<span class="ident" id="3202622">encInt64Slice</span><span class="op" id="3202635">(</span><span class="ident" id="3202636">state</span>&nbsp;<span class="op" id="3202642">*</span><span class="ident" id="3202643">encoderState</span><span class="op" id="3202655">,</span>&nbsp;<span class="ident" id="3202657">v</span>&nbsp;<span class="ident" id="3202659">reflect</span><span class="op" id="3202666">.</span><span class="ident" id="3202667">Value</span><span class="op" id="3202672">)</span>&nbsp;<span class="builtintype" id="3202674">bool</span>&nbsp;<span class="op" id="3202679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3202682">slice</span><span class="op" id="3202687">,</span>&nbsp;<span class="ident" id="3202689">ok</span>&nbsp;<span class="op" id="3202692">:=</span>&nbsp;<span class="ident" id="3202695">v</span><span class="op" id="3202696">.</span><span class="ident" id="3202697">Interface</span><span class="op" id="3202706">(</span><span class="op" id="3202707">)</span><span class="op" id="3202708">.</span><span class="op" id="3202709">(</span><span class="op" id="3202710">[</span><span class="op" id="3202711">]</span><span class="ident" id="3202712">int64</span><span class="op" id="3202717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202720">if</span>&nbsp;<span class="op" id="3202723">!</span><span class="ident" id="3202724">ok</span>&nbsp;<span class="op" id="3202727">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3202731">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202808">return</span>&nbsp;<span class="ident" id="3202815">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3202822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202825">for</span>&nbsp;<span class="ident" id="3202829">_</span><span class="op" id="3202830">,</span>&nbsp;<span class="ident" id="3202832">x</span>&nbsp;<span class="op" id="3202834">:=</span>&nbsp;<span class="keyword" id="3202837">range</span>&nbsp;<span class="ident" id="3202843">slice</span>&nbsp;<span class="op" id="3202849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202853">if</span>&nbsp;<span class="ident" id="3202856">x</span>&nbsp;<span class="op" id="3202858">!=</span>&nbsp;<span class="num" id="3202861">0</span>&nbsp;<span class="op" id="3202863">||</span>&nbsp;<span class="ident" id="3202866">state</span><span class="op" id="3202871">.</span><span class="ident" id="3202872">sendZero</span>&nbsp;<span class="op" id="3202881">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3202886">state</span><span class="op" id="3202891">.</span><span class="ident" id="3202892">encodeInt</span><span class="op" id="3202901">(</span><span class="ident" id="3202902">x</span><span class="op" id="3202903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3202907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3202910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202913">return</span>&nbsp;<span class="ident" id="3202920">true</span><br>
<span class="lineno"></span><span class="op" id="3202925">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="3202928">func</span>&nbsp;<span class="ident" id="3202933">encInt8Array</span><span class="op" id="3202945">(</span><span class="ident" id="3202946">state</span>&nbsp;<span class="op" id="3202952">*</span><span class="ident" id="3202953">encoderState</span><span class="op" id="3202965">,</span>&nbsp;<span class="ident" id="3202967">v</span>&nbsp;<span class="ident" id="3202969">reflect</span><span class="op" id="3202976">.</span><span class="ident" id="3202977">Value</span><span class="op" id="3202982">)</span>&nbsp;<span class="builtintype" id="3202984">bool</span>&nbsp;<span class="op" id="3202989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3202992">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203033">if</span>&nbsp;<span class="op" id="3203036">!</span><span class="ident" id="3203037">v</span><span class="op" id="3203038">.</span><span class="ident" id="3203039">CanAddr</span><span class="op" id="3203046">(</span><span class="op" id="3203047">)</span>&nbsp;<span class="op" id="3203049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203053">return</span>&nbsp;<span class="ident" id="3203060">false</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203070">return</span>&nbsp;<span class="ident" id="3203077">encInt8Slice</span><span class="op" id="3203089">(</span><span class="ident" id="3203090">state</span><span class="op" id="3203095">,</span>&nbsp;<span class="ident" id="3203097">v</span><span class="op" id="3203098">.</span><span class="ident" id="3203099">Slice</span><span class="op" id="3203104">(</span><span class="num" id="3203105">0</span><span class="op" id="3203106">,</span>&nbsp;<span class="ident" id="3203108">v</span><span class="op" id="3203109">.</span><span class="ident" id="3203110">Len</span><span class="op" id="3203113">(</span><span class="op" id="3203114">)</span><span class="op" id="3203115">)</span><span class="op" id="3203116">)</span><br>
<span class="lineno"></span><span class="op" id="3203118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3203121">func</span>&nbsp;<span class="ident" id="3203126">encInt8Slice</span><span class="op" id="3203138">(</span><span class="ident" id="3203139">state</span>&nbsp;<span class="op" id="3203145">*</span><span class="ident" id="3203146">encoderState</span><span class="op" id="3203158">,</span>&nbsp;<span class="ident" id="3203160">v</span>&nbsp;<span class="ident" id="3203162">reflect</span><span class="op" id="3203169">.</span><span class="ident" id="3203170">Value</span><span class="op" id="3203175">)</span>&nbsp;<span class="builtintype" id="3203177">bool</span>&nbsp;<span class="op" id="3203182">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203185">slice</span><span class="op" id="3203190">,</span>&nbsp;<span class="ident" id="3203192">ok</span>&nbsp;<span class="op" id="3203195">:=</span>&nbsp;<span class="ident" id="3203198">v</span><span class="op" id="3203199">.</span><span class="ident" id="3203200">Interface</span><span class="op" id="3203209">(</span><span class="op" id="3203210">)</span><span class="op" id="3203211">.</span><span class="op" id="3203212">(</span><span class="op" id="3203213">[</span><span class="op" id="3203214">]</span><span class="builtintype" id="3203215">int8</span><span class="op" id="3203219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203222">if</span>&nbsp;<span class="op" id="3203225">!</span><span class="ident" id="3203226">ok</span>&nbsp;<span class="op" id="3203229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3203233">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203308">return</span>&nbsp;<span class="ident" id="3203315">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203322">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203325">for</span>&nbsp;<span class="ident" id="3203329">_</span><span class="op" id="3203330">,</span>&nbsp;<span class="ident" id="3203332">x</span>&nbsp;<span class="op" id="3203334">:=</span>&nbsp;<span class="keyword" id="3203337">range</span>&nbsp;<span class="ident" id="3203343">slice</span>&nbsp;<span class="op" id="3203349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203353">if</span>&nbsp;<span class="ident" id="3203356">x</span>&nbsp;<span class="op" id="3203358">!=</span>&nbsp;<span class="num" id="3203361">0</span>&nbsp;<span class="op" id="3203363">||</span>&nbsp;<span class="ident" id="3203366">state</span><span class="op" id="3203371">.</span><span class="ident" id="3203372">sendZero</span>&nbsp;<span class="op" id="3203381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203386">state</span><span class="op" id="3203391">.</span><span class="ident" id="3203392">encodeInt</span><span class="op" id="3203401">(</span><span class="ident" id="3203402">int64</span><span class="op" id="3203407">(</span><span class="ident" id="3203408">x</span><span class="op" id="3203409">)</span><span class="op" id="3203410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203417">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203420">return</span>&nbsp;<span class="ident" id="3203427">true</span><br>
<span class="lineno"></span><span class="op" id="3203432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3203435">func</span>&nbsp;<span class="ident" id="3203440">encStringArray</span><span class="op" id="3203454">(</span><span class="ident" id="3203455">state</span>&nbsp;<span class="op" id="3203461">*</span><span class="ident" id="3203462">encoderState</span><span class="op" id="3203474">,</span>&nbsp;<span class="ident" id="3203476">v</span>&nbsp;<span class="ident" id="3203478">reflect</span><span class="op" id="3203485">.</span><span class="ident" id="3203486">Value</span><span class="op" id="3203491">)</span>&nbsp;<span class="builtintype" id="3203493">bool</span>&nbsp;<span class="op" id="3203498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3203501">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203542">if</span>&nbsp;<span class="op" id="3203545">!</span><span class="ident" id="3203546">v</span><span class="op" id="3203547">.</span><span class="ident" id="3203548">CanAddr</span><span class="op" id="3203555">(</span><span class="op" id="3203556">)</span>&nbsp;<span class="op" id="3203558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203562">return</span>&nbsp;<span class="ident" id="3203569">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203579">return</span>&nbsp;<span class="ident" id="3203586">encStringSlice</span><span class="op" id="3203600">(</span><span class="ident" id="3203601">state</span><span class="op" id="3203606">,</span>&nbsp;<span class="ident" id="3203608">v</span><span class="op" id="3203609">.</span><span class="ident" id="3203610">Slice</span><span class="op" id="3203615">(</span><span class="num" id="3203616">0</span><span class="op" id="3203617">,</span>&nbsp;<span class="ident" id="3203619">v</span><span class="op" id="3203620">.</span><span class="ident" id="3203621">Len</span><span class="op" id="3203624">(</span><span class="op" id="3203625">)</span><span class="op" id="3203626">)</span><span class="op" id="3203627">)</span><br>
<span class="lineno"></span><span class="op" id="3203629">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="3203632">func</span>&nbsp;<span class="ident" id="3203637">encStringSlice</span><span class="op" id="3203651">(</span><span class="ident" id="3203652">state</span>&nbsp;<span class="op" id="3203658">*</span><span class="ident" id="3203659">encoderState</span><span class="op" id="3203671">,</span>&nbsp;<span class="ident" id="3203673">v</span>&nbsp;<span class="ident" id="3203675">reflect</span><span class="op" id="3203682">.</span><span class="ident" id="3203683">Value</span><span class="op" id="3203688">)</span>&nbsp;<span class="builtintype" id="3203690">bool</span>&nbsp;<span class="op" id="3203695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203698">slice</span><span class="op" id="3203703">,</span>&nbsp;<span class="ident" id="3203705">ok</span>&nbsp;<span class="op" id="3203708">:=</span>&nbsp;<span class="ident" id="3203711">v</span><span class="op" id="3203712">.</span><span class="ident" id="3203713">Interface</span><span class="op" id="3203722">(</span><span class="op" id="3203723">)</span><span class="op" id="3203724">.</span><span class="op" id="3203725">(</span><span class="op" id="3203726">[</span><span class="op" id="3203727">]</span><span class="builtintype" id="3203728">string</span><span class="op" id="3203734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203737">if</span>&nbsp;<span class="op" id="3203740">!</span><span class="ident" id="3203741">ok</span>&nbsp;<span class="op" id="3203744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3203748">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203827">return</span>&nbsp;<span class="ident" id="3203834">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203844">for</span>&nbsp;<span class="ident" id="3203848">_</span><span class="op" id="3203849">,</span>&nbsp;<span class="ident" id="3203851">x</span>&nbsp;<span class="op" id="3203853">:=</span>&nbsp;<span class="keyword" id="3203856">range</span>&nbsp;<span class="ident" id="3203862">slice</span>&nbsp;<span class="op" id="3203868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203872">if</span>&nbsp;<span class="ident" id="3203875">x</span>&nbsp;<span class="op" id="3203877">!=</span>&nbsp;<span class="string" id="3203880">&#34;&#34;</span>&nbsp;<span class="op" id="3203883">||</span>&nbsp;<span class="ident" id="3203886">state</span><span class="op" id="3203891">.</span><span class="ident" id="3203892">sendZero</span>&nbsp;<span class="op" id="3203901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203906">state</span><span class="op" id="3203911">.</span><span class="ident" id="3203912">encodeUint</span><span class="op" id="3203922">(</span><span class="ident" id="3203923">uint64</span><span class="op" id="3203929">(</span><span class="builtinfunc" id="3203930">len</span><span class="op" id="3203933">(</span><span class="ident" id="3203934">x</span><span class="op" id="3203935">)</span><span class="op" id="3203936">)</span><span class="op" id="3203937">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203942">state</span><span class="op" id="3203947">.</span><span class="ident" id="3203948">b</span><span class="op" id="3203949">.</span><span class="ident" id="3203950">WriteString</span><span class="op" id="3203961">(</span><span class="ident" id="3203962">x</span><span class="op" id="3203963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203973">return</span>&nbsp;<span class="ident" id="3203980">true</span><br>
<span class="lineno"></span><span class="op" id="3203985">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="3203988">func</span>&nbsp;<span class="ident" id="3203993">encUintArray</span><span class="op" id="3204005">(</span><span class="ident" id="3204006">state</span>&nbsp;<span class="op" id="3204012">*</span><span class="ident" id="3204013">encoderState</span><span class="op" id="3204025">,</span>&nbsp;<span class="ident" id="3204027">v</span>&nbsp;<span class="ident" id="3204029">reflect</span><span class="op" id="3204036">.</span><span class="ident" id="3204037">Value</span><span class="op" id="3204042">)</span>&nbsp;<span class="builtintype" id="3204044">bool</span>&nbsp;<span class="op" id="3204049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3204052">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204093">if</span>&nbsp;<span class="op" id="3204096">!</span><span class="ident" id="3204097">v</span><span class="op" id="3204098">.</span><span class="ident" id="3204099">CanAddr</span><span class="op" id="3204106">(</span><span class="op" id="3204107">)</span>&nbsp;<span class="op" id="3204109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204113">return</span>&nbsp;<span class="ident" id="3204120">false</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3204127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204130">return</span>&nbsp;<span class="ident" id="3204137">encUintSlice</span><span class="op" id="3204149">(</span><span class="ident" id="3204150">state</span><span class="op" id="3204155">,</span>&nbsp;<span class="ident" id="3204157">v</span><span class="op" id="3204158">.</span><span class="ident" id="3204159">Slice</span><span class="op" id="3204164">(</span><span class="num" id="3204165">0</span><span class="op" id="3204166">,</span>&nbsp;<span class="ident" id="3204168">v</span><span class="op" id="3204169">.</span><span class="ident" id="3204170">Len</span><span class="op" id="3204173">(</span><span class="op" id="3204174">)</span><span class="op" id="3204175">)</span><span class="op" id="3204176">)</span><br>
<span class="lineno"></span><span class="op" id="3204178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3204181">func</span>&nbsp;<span class="ident" id="3204186">encUintSlice</span><span class="op" id="3204198">(</span><span class="ident" id="3204199">state</span>&nbsp;<span class="op" id="3204205">*</span><span class="ident" id="3204206">encoderState</span><span class="op" id="3204218">,</span>&nbsp;<span class="ident" id="3204220">v</span>&nbsp;<span class="ident" id="3204222">reflect</span><span class="op" id="3204229">.</span><span class="ident" id="3204230">Value</span><span class="op" id="3204235">)</span>&nbsp;<span class="builtintype" id="3204237">bool</span>&nbsp;<span class="op" id="3204242">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3204245">slice</span><span class="op" id="3204250">,</span>&nbsp;<span class="ident" id="3204252">ok</span>&nbsp;<span class="op" id="3204255">:=</span>&nbsp;<span class="ident" id="3204258">v</span><span class="op" id="3204259">.</span><span class="ident" id="3204260">Interface</span><span class="op" id="3204269">(</span><span class="op" id="3204270">)</span><span class="op" id="3204271">.</span><span class="op" id="3204272">(</span><span class="op" id="3204273">[</span><span class="op" id="3204274">]</span><span class="builtintype" id="3204275">uint</span><span class="op" id="3204279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204282">if</span>&nbsp;<span class="op" id="3204285">!</span><span class="ident" id="3204286">ok</span>&nbsp;<span class="op" id="3204289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3204293">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204368">return</span>&nbsp;<span class="ident" id="3204375">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3204382">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204385">for</span>&nbsp;<span class="ident" id="3204389">_</span><span class="op" id="3204390">,</span>&nbsp;<span class="ident" id="3204392">x</span>&nbsp;<span class="op" id="3204394">:=</span>&nbsp;<span class="keyword" id="3204397">range</span>&nbsp;<span class="ident" id="3204403">slice</span>&nbsp;<span class="op" id="3204409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204413">if</span>&nbsp;<span class="ident" id="3204416">x</span>&nbsp;<span class="op" id="3204418">!=</span>&nbsp;<span class="num" id="3204421">0</span>&nbsp;<span class="op" id="3204423">||</span>&nbsp;<span class="ident" id="3204426">state</span><span class="op" id="3204431">.</span><span class="ident" id="3204432">sendZero</span>&nbsp;<span class="op" id="3204441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3204446">state</span><span class="op" id="3204451">.</span><span class="ident" id="3204452">encodeUint</span><span class="op" id="3204462">(</span><span class="ident" id="3204463">uint64</span><span class="op" id="3204469">(</span><span class="ident" id="3204470">x</span><span class="op" id="3204471">)</span><span class="op" id="3204472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3204476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3204479">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204482">return</span>&nbsp;<span class="ident" id="3204489">true</span><br>
<span class="lineno"></span><span class="op" id="3204494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3204497">func</span>&nbsp;<span class="ident" id="3204502">encUint16Array</span><span class="op" id="3204516">(</span><span class="ident" id="3204517">state</span>&nbsp;<span class="op" id="3204523">*</span><span class="ident" id="3204524">encoderState</span><span class="op" id="3204536">,</span>&nbsp;<span class="ident" id="3204538">v</span>&nbsp;<span class="ident" id="3204540">reflect</span><span class="op" id="3204547">.</span><span class="ident" id="3204548">Value</span><span class="op" id="3204553">)</span>&nbsp;<span class="builtintype" id="3204555">bool</span>&nbsp;<span class="op" id="3204560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3204563">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204604">if</span>&nbsp;<span class="op" id="3204607">!</span><span class="ident" id="3204608">v</span><span class="op" id="3204609">.</span><span class="ident" id="3204610">CanAddr</span><span class="op" id="3204617">(</span><span class="op" id="3204618">)</span>&nbsp;<span class="op" id="3204620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204624">return</span>&nbsp;<span class="ident" id="3204631">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3204638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204641">return</span>&nbsp;<span class="ident" id="3204648">encUint16Slice</span><span class="op" id="3204662">(</span><span class="ident" id="3204663">state</span><span class="op" id="3204668">,</span>&nbsp;<span class="ident" id="3204670">v</span><span class="op" id="3204671">.</span><span class="ident" id="3204672">Slice</span><span class="op" id="3204677">(</span><span class="num" id="3204678">0</span><span class="op" id="3204679">,</span>&nbsp;<span class="ident" id="3204681">v</span><span class="op" id="3204682">.</span><span class="ident" id="3204683">Len</span><span class="op" id="3204686">(</span><span class="op" id="3204687">)</span><span class="op" id="3204688">)</span><span class="op" id="3204689">)</span><br>
<span class="lineno"></span><span class="op" id="3204691">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="3204694">func</span>&nbsp;<span class="ident" id="3204699">encUint16Slice</span><span class="op" id="3204713">(</span><span class="ident" id="3204714">state</span>&nbsp;<span class="op" id="3204720">*</span><span class="ident" id="3204721">encoderState</span><span class="op" id="3204733">,</span>&nbsp;<span class="ident" id="3204735">v</span>&nbsp;<span class="ident" id="3204737">reflect</span><span class="op" id="3204744">.</span><span class="ident" id="3204745">Value</span><span class="op" id="3204750">)</span>&nbsp;<span class="builtintype" id="3204752">bool</span>&nbsp;<span class="op" id="3204757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3204760">slice</span><span class="op" id="3204765">,</span>&nbsp;<span class="ident" id="3204767">ok</span>&nbsp;<span class="op" id="3204770">:=</span>&nbsp;<span class="ident" id="3204773">v</span><span class="op" id="3204774">.</span><span class="ident" id="3204775">Interface</span><span class="op" id="3204784">(</span><span class="op" id="3204785">)</span><span class="op" id="3204786">.</span><span class="op" id="3204787">(</span><span class="op" id="3204788">[</span><span class="op" id="3204789">]</span><span class="builtintype" id="3204790">uint16</span><span class="op" id="3204796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204799">if</span>&nbsp;<span class="op" id="3204802">!</span><span class="ident" id="3204803">ok</span>&nbsp;<span class="op" id="3204806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3204810">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204889">return</span>&nbsp;<span class="ident" id="3204896">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3204903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204906">for</span>&nbsp;<span class="ident" id="3204910">_</span><span class="op" id="3204911">,</span>&nbsp;<span class="ident" id="3204913">x</span>&nbsp;<span class="op" id="3204915">:=</span>&nbsp;<span class="keyword" id="3204918">range</span>&nbsp;<span class="ident" id="3204924">slice</span>&nbsp;<span class="op" id="3204930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204934">if</span>&nbsp;<span class="ident" id="3204937">x</span>&nbsp;<span class="op" id="3204939">!=</span>&nbsp;<span class="num" id="3204942">0</span>&nbsp;<span class="op" id="3204944">||</span>&nbsp;<span class="ident" id="3204947">state</span><span class="op" id="3204952">.</span><span class="ident" id="3204953">sendZero</span>&nbsp;<span class="op" id="3204962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3204967">state</span><span class="op" id="3204972">.</span><span class="ident" id="3204973">encodeUint</span><span class="op" id="3204983">(</span><span class="ident" id="3204984">uint64</span><span class="op" id="3204990">(</span><span class="ident" id="3204991">x</span><span class="op" id="3204992">)</span><span class="op" id="3204993">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3204997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205003">return</span>&nbsp;<span class="ident" id="3205010">true</span><br>
<span class="lineno"></span><span class="op" id="3205015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="3205018">func</span>&nbsp;<span class="ident" id="3205023">encUint32Array</span><span class="op" id="3205037">(</span><span class="ident" id="3205038">state</span>&nbsp;<span class="op" id="3205044">*</span><span class="ident" id="3205045">encoderState</span><span class="op" id="3205057">,</span>&nbsp;<span class="ident" id="3205059">v</span>&nbsp;<span class="ident" id="3205061">reflect</span><span class="op" id="3205068">.</span><span class="ident" id="3205069">Value</span><span class="op" id="3205074">)</span>&nbsp;<span class="builtintype" id="3205076">bool</span>&nbsp;<span class="op" id="3205081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3205084">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205125">if</span>&nbsp;<span class="op" id="3205128">!</span><span class="ident" id="3205129">v</span><span class="op" id="3205130">.</span><span class="ident" id="3205131">CanAddr</span><span class="op" id="3205138">(</span><span class="op" id="3205139">)</span>&nbsp;<span class="op" id="3205141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205145">return</span>&nbsp;<span class="ident" id="3205152">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205159">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205162">return</span>&nbsp;<span class="ident" id="3205169">encUint32Slice</span><span class="op" id="3205183">(</span><span class="ident" id="3205184">state</span><span class="op" id="3205189">,</span>&nbsp;<span class="ident" id="3205191">v</span><span class="op" id="3205192">.</span><span class="ident" id="3205193">Slice</span><span class="op" id="3205198">(</span><span class="num" id="3205199">0</span><span class="op" id="3205200">,</span>&nbsp;<span class="ident" id="3205202">v</span><span class="op" id="3205203">.</span><span class="ident" id="3205204">Len</span><span class="op" id="3205207">(</span><span class="op" id="3205208">)</span><span class="op" id="3205209">)</span><span class="op" id="3205210">)</span><br>
<span class="lineno"></span><span class="op" id="3205212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3205215">func</span>&nbsp;<span class="ident" id="3205220">encUint32Slice</span><span class="op" id="3205234">(</span><span class="ident" id="3205235">state</span>&nbsp;<span class="op" id="3205241">*</span><span class="ident" id="3205242">encoderState</span><span class="op" id="3205254">,</span>&nbsp;<span class="ident" id="3205256">v</span>&nbsp;<span class="ident" id="3205258">reflect</span><span class="op" id="3205265">.</span><span class="ident" id="3205266">Value</span><span class="op" id="3205271">)</span>&nbsp;<span class="builtintype" id="3205273">bool</span>&nbsp;<span class="op" id="3205278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205281">slice</span><span class="op" id="3205286">,</span>&nbsp;<span class="ident" id="3205288">ok</span>&nbsp;<span class="op" id="3205291">:=</span>&nbsp;<span class="ident" id="3205294">v</span><span class="op" id="3205295">.</span><span class="ident" id="3205296">Interface</span><span class="op" id="3205305">(</span><span class="op" id="3205306">)</span><span class="op" id="3205307">.</span><span class="op" id="3205308">(</span><span class="op" id="3205309">[</span><span class="op" id="3205310">]</span><span class="builtintype" id="3205311">uint32</span><span class="op" id="3205317">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205320">if</span>&nbsp;<span class="op" id="3205323">!</span><span class="ident" id="3205324">ok</span>&nbsp;<span class="op" id="3205327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3205331">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205410">return</span>&nbsp;<span class="ident" id="3205417">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205427">for</span>&nbsp;<span class="ident" id="3205431">_</span><span class="op" id="3205432">,</span>&nbsp;<span class="ident" id="3205434">x</span>&nbsp;<span class="op" id="3205436">:=</span>&nbsp;<span class="keyword" id="3205439">range</span>&nbsp;<span class="ident" id="3205445">slice</span>&nbsp;<span class="op" id="3205451">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205455">if</span>&nbsp;<span class="ident" id="3205458">x</span>&nbsp;<span class="op" id="3205460">!=</span>&nbsp;<span class="num" id="3205463">0</span>&nbsp;<span class="op" id="3205465">||</span>&nbsp;<span class="ident" id="3205468">state</span><span class="op" id="3205473">.</span><span class="ident" id="3205474">sendZero</span>&nbsp;<span class="op" id="3205483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205488">state</span><span class="op" id="3205493">.</span><span class="ident" id="3205494">encodeUint</span><span class="op" id="3205504">(</span><span class="ident" id="3205505">uint64</span><span class="op" id="3205511">(</span><span class="ident" id="3205512">x</span><span class="op" id="3205513">)</span><span class="op" id="3205514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205524">return</span>&nbsp;<span class="ident" id="3205531">true</span><br>
<span class="lineno">370</span><span class="op" id="3205536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3205539">func</span>&nbsp;<span class="ident" id="3205544">encUint64Array</span><span class="op" id="3205558">(</span><span class="ident" id="3205559">state</span>&nbsp;<span class="op" id="3205565">*</span><span class="ident" id="3205566">encoderState</span><span class="op" id="3205578">,</span>&nbsp;<span class="ident" id="3205580">v</span>&nbsp;<span class="ident" id="3205582">reflect</span><span class="op" id="3205589">.</span><span class="ident" id="3205590">Value</span><span class="op" id="3205595">)</span>&nbsp;<span class="builtintype" id="3205597">bool</span>&nbsp;<span class="op" id="3205602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3205605">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205646">if</span>&nbsp;<span class="op" id="3205649">!</span><span class="ident" id="3205650">v</span><span class="op" id="3205651">.</span><span class="ident" id="3205652">CanAddr</span><span class="op" id="3205659">(</span><span class="op" id="3205660">)</span>&nbsp;<span class="op" id="3205662">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205666">return</span>&nbsp;<span class="ident" id="3205673">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205683">return</span>&nbsp;<span class="ident" id="3205690">encUint64Slice</span><span class="op" id="3205704">(</span><span class="ident" id="3205705">state</span><span class="op" id="3205710">,</span>&nbsp;<span class="ident" id="3205712">v</span><span class="op" id="3205713">.</span><span class="ident" id="3205714">Slice</span><span class="op" id="3205719">(</span><span class="num" id="3205720">0</span><span class="op" id="3205721">,</span>&nbsp;<span class="ident" id="3205723">v</span><span class="op" id="3205724">.</span><span class="ident" id="3205725">Len</span><span class="op" id="3205728">(</span><span class="op" id="3205729">)</span><span class="op" id="3205730">)</span><span class="op" id="3205731">)</span><br>
<span class="lineno"></span><span class="op" id="3205733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="3205736">func</span>&nbsp;<span class="ident" id="3205741">encUint64Slice</span><span class="op" id="3205755">(</span><span class="ident" id="3205756">state</span>&nbsp;<span class="op" id="3205762">*</span><span class="ident" id="3205763">encoderState</span><span class="op" id="3205775">,</span>&nbsp;<span class="ident" id="3205777">v</span>&nbsp;<span class="ident" id="3205779">reflect</span><span class="op" id="3205786">.</span><span class="ident" id="3205787">Value</span><span class="op" id="3205792">)</span>&nbsp;<span class="builtintype" id="3205794">bool</span>&nbsp;<span class="op" id="3205799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205802">slice</span><span class="op" id="3205807">,</span>&nbsp;<span class="ident" id="3205809">ok</span>&nbsp;<span class="op" id="3205812">:=</span>&nbsp;<span class="ident" id="3205815">v</span><span class="op" id="3205816">.</span><span class="ident" id="3205817">Interface</span><span class="op" id="3205826">(</span><span class="op" id="3205827">)</span><span class="op" id="3205828">.</span><span class="op" id="3205829">(</span><span class="op" id="3205830">[</span><span class="op" id="3205831">]</span><span class="ident" id="3205832">uint64</span><span class="op" id="3205838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205841">if</span>&nbsp;<span class="op" id="3205844">!</span><span class="ident" id="3205845">ok</span>&nbsp;<span class="op" id="3205848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3205852">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205931">return</span>&nbsp;<span class="ident" id="3205938">false</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205948">for</span>&nbsp;<span class="ident" id="3205952">_</span><span class="op" id="3205953">,</span>&nbsp;<span class="ident" id="3205955">x</span>&nbsp;<span class="op" id="3205957">:=</span>&nbsp;<span class="keyword" id="3205960">range</span>&nbsp;<span class="ident" id="3205966">slice</span>&nbsp;<span class="op" id="3205972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205976">if</span>&nbsp;<span class="ident" id="3205979">x</span>&nbsp;<span class="op" id="3205981">!=</span>&nbsp;<span class="num" id="3205984">0</span>&nbsp;<span class="op" id="3205986">||</span>&nbsp;<span class="ident" id="3205989">state</span><span class="op" id="3205994">.</span><span class="ident" id="3205995">sendZero</span>&nbsp;<span class="op" id="3206004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206009">state</span><span class="op" id="3206014">.</span><span class="ident" id="3206015">encodeUint</span><span class="op" id="3206025">(</span><span class="ident" id="3206026">x</span><span class="op" id="3206027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206031">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206037">return</span>&nbsp;<span class="ident" id="3206044">true</span><br>
<span class="lineno"></span><span class="op" id="3206049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3206052">func</span>&nbsp;<span class="ident" id="3206057">encUintptrArray</span><span class="op" id="3206072">(</span><span class="ident" id="3206073">state</span>&nbsp;<span class="op" id="3206079">*</span><span class="ident" id="3206080">encoderState</span><span class="op" id="3206092">,</span>&nbsp;<span class="ident" id="3206094">v</span>&nbsp;<span class="ident" id="3206096">reflect</span><span class="op" id="3206103">.</span><span class="ident" id="3206104">Value</span><span class="op" id="3206109">)</span>&nbsp;<span class="builtintype" id="3206111">bool</span>&nbsp;<span class="op" id="3206116">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3206119">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206160">if</span>&nbsp;<span class="op" id="3206163">!</span><span class="ident" id="3206164">v</span><span class="op" id="3206165">.</span><span class="ident" id="3206166">CanAddr</span><span class="op" id="3206173">(</span><span class="op" id="3206174">)</span>&nbsp;<span class="op" id="3206176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206180">return</span>&nbsp;<span class="ident" id="3206187">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206197">return</span>&nbsp;<span class="ident" id="3206204">encUintptrSlice</span><span class="op" id="3206219">(</span><span class="ident" id="3206220">state</span><span class="op" id="3206225">,</span>&nbsp;<span class="ident" id="3206227">v</span><span class="op" id="3206228">.</span><span class="ident" id="3206229">Slice</span><span class="op" id="3206234">(</span><span class="num" id="3206235">0</span><span class="op" id="3206236">,</span>&nbsp;<span class="ident" id="3206238">v</span><span class="op" id="3206239">.</span><span class="ident" id="3206240">Len</span><span class="op" id="3206243">(</span><span class="op" id="3206244">)</span><span class="op" id="3206245">)</span><span class="op" id="3206246">)</span><br>
<span class="lineno">400</span><span class="op" id="3206248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3206251">func</span>&nbsp;<span class="ident" id="3206256">encUintptrSlice</span><span class="op" id="3206271">(</span><span class="ident" id="3206272">state</span>&nbsp;<span class="op" id="3206278">*</span><span class="ident" id="3206279">encoderState</span><span class="op" id="3206291">,</span>&nbsp;<span class="ident" id="3206293">v</span>&nbsp;<span class="ident" id="3206295">reflect</span><span class="op" id="3206302">.</span><span class="ident" id="3206303">Value</span><span class="op" id="3206308">)</span>&nbsp;<span class="builtintype" id="3206310">bool</span>&nbsp;<span class="op" id="3206315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206318">slice</span><span class="op" id="3206323">,</span>&nbsp;<span class="ident" id="3206325">ok</span>&nbsp;<span class="op" id="3206328">:=</span>&nbsp;<span class="ident" id="3206331">v</span><span class="op" id="3206332">.</span><span class="ident" id="3206333">Interface</span><span class="op" id="3206342">(</span><span class="op" id="3206343">)</span><span class="op" id="3206344">.</span><span class="op" id="3206345">(</span><span class="op" id="3206346">[</span><span class="op" id="3206347">]</span><span class="builtintype" id="3206348">uintptr</span><span class="op" id="3206355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206358">if</span>&nbsp;<span class="op" id="3206361">!</span><span class="ident" id="3206362">ok</span>&nbsp;<span class="op" id="3206365">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3206369">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206450">return</span>&nbsp;<span class="ident" id="3206457">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206467">for</span>&nbsp;<span class="ident" id="3206471">_</span><span class="op" id="3206472">,</span>&nbsp;<span class="ident" id="3206474">x</span>&nbsp;<span class="op" id="3206476">:=</span>&nbsp;<span class="keyword" id="3206479">range</span>&nbsp;<span class="ident" id="3206485">slice</span>&nbsp;<span class="op" id="3206491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206495">if</span>&nbsp;<span class="ident" id="3206498">x</span>&nbsp;<span class="op" id="3206500">!=</span>&nbsp;<span class="num" id="3206503">0</span>&nbsp;<span class="op" id="3206505">||</span>&nbsp;<span class="ident" id="3206508">state</span><span class="op" id="3206513">.</span><span class="ident" id="3206514">sendZero</span>&nbsp;<span class="op" id="3206523">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206528">state</span><span class="op" id="3206533">.</span><span class="ident" id="3206534">encodeUint</span><span class="op" id="3206544">(</span><span class="ident" id="3206545">uint64</span><span class="op" id="3206551">(</span><span class="ident" id="3206552">x</span><span class="op" id="3206553">)</span><span class="op" id="3206554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206564">return</span>&nbsp;<span class="ident" id="3206571">true</span><br>
<span class="lineno"></span><span class="op" id="3206576">}</span>
</div>
</body>
</html>
