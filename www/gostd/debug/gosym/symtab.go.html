<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6191896">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6191952">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6192006">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6192057">//&nbsp;Package&nbsp;gosym&nbsp;implements&nbsp;access&nbsp;to&nbsp;the&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="6192109">//&nbsp;and&nbsp;line&nbsp;number&nbsp;tables&nbsp;embedded&nbsp;in&nbsp;Go&nbsp;binaries&nbsp;generated</span><br>
<span class="lineno"></span><span class="comment" id="6192169">//&nbsp;by&nbsp;the&nbsp;gc&nbsp;compilers.</span><br>
<span class="lineno"></span><span class="keyword" id="6192193">package</span>&nbsp;<span class="ident" id="6192201">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="comment" id="6192208">//&nbsp;The&nbsp;table&nbsp;format&nbsp;is&nbsp;a&nbsp;variant&nbsp;of&nbsp;the&nbsp;format&nbsp;used&nbsp;in&nbsp;Plan&nbsp;9&#39;s&nbsp;a.out</span><br>
<span class="lineno"></span><span class="comment" id="6192278">//&nbsp;format,&nbsp;documented&nbsp;at&nbsp;http://plan9.bell-labs.com/magic/man2html/6/a.out.</span><br>
<span class="lineno"></span><span class="comment" id="6192354">//&nbsp;The&nbsp;best&nbsp;reference&nbsp;for&nbsp;the&nbsp;differences&nbsp;between&nbsp;the&nbsp;Plan&nbsp;9&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="6192422">//&nbsp;and&nbsp;the&nbsp;Go&nbsp;format&nbsp;is&nbsp;the&nbsp;runtime&nbsp;source,&nbsp;specifically&nbsp;../../runtime/symtab.c.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6192504">import</span>&nbsp;<span class="op" id="6192511">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6192514">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6192523">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6192542">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6192549">&#34;strconv&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6192560">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="6192570">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6192573">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbols<br>
<span class="lineno">25</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6192592">//&nbsp;A&nbsp;Sym&nbsp;represents&nbsp;a&nbsp;single&nbsp;symbol&nbsp;table&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="6192641">type</span>&nbsp;<span class="ident" id="6192646">Sym</span>&nbsp;<span class="keyword" id="6192650">struct</span>&nbsp;<span class="op" id="6192657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6192660">Value</span>&nbsp;&nbsp;<span class="ident" id="6192667">uint64</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6192675">Type</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6192682">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6192688">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6192695">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6192703">GoType</span>&nbsp;<span class="ident" id="6192710">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6192718">//&nbsp;If&nbsp;this&nbsp;symbol&nbsp;if&nbsp;a&nbsp;function&nbsp;symbol,&nbsp;the&nbsp;corresponding&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6192782">Func</span>&nbsp;<span class="op" id="6192787">*</span><span class="ident" id="6192788">Func</span><br>
<span class="lineno">35</span><span class="op" id="6192793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6192796">//&nbsp;Static&nbsp;reports&nbsp;whether&nbsp;this&nbsp;symbol&nbsp;is&nbsp;static&nbsp;(not&nbsp;visible&nbsp;outside&nbsp;its&nbsp;file).</span><br>
<span class="lineno"></span><span class="keyword" id="6192876">func</span>&nbsp;<span class="op" id="6192881">(</span><span class="ident" id="6192882">s</span>&nbsp;<span class="op" id="6192884">*</span><span class="ident" id="6192885">Sym</span><span class="op" id="6192888">)</span>&nbsp;<span class="ident" id="6192890">Static</span><span class="op" id="6192896">(</span><span class="op" id="6192897">)</span>&nbsp;<span class="builtintype" id="6192899">bool</span>&nbsp;<span class="op" id="6192904">{</span>&nbsp;<span class="keyword" id="6192906">return</span>&nbsp;<span class="ident" id="6192913">s</span><span class="op" id="6192914">.</span><span class="ident" id="6192915">Type</span>&nbsp;<span class="op" id="6192920">&gt;=</span>&nbsp;<span class="string" id="6192923">&#39;a&#39;</span>&nbsp;<span class="op" id="6192927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="6192930">//&nbsp;PackageName&nbsp;returns&nbsp;the&nbsp;package&nbsp;part&nbsp;of&nbsp;the&nbsp;symbol&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6192990">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="6193031">func</span>&nbsp;<span class="op" id="6193036">(</span><span class="ident" id="6193037">s</span>&nbsp;<span class="op" id="6193039">*</span><span class="ident" id="6193040">Sym</span><span class="op" id="6193043">)</span>&nbsp;<span class="ident" id="6193045">PackageName</span><span class="op" id="6193056">(</span><span class="op" id="6193057">)</span>&nbsp;<span class="builtintype" id="6193059">string</span>&nbsp;<span class="op" id="6193066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6193069">if</span>&nbsp;<span class="ident" id="6193072">i</span>&nbsp;<span class="op" id="6193074">:=</span>&nbsp;<span class="ident" id="6193077">strings</span><span class="op" id="6193084">.</span><span class="ident" id="6193085">Index</span><span class="op" id="6193090">(</span><span class="ident" id="6193091">s</span><span class="op" id="6193092">.</span><span class="ident" id="6193093">Name</span><span class="op" id="6193097">,</span>&nbsp;<span class="string" id="6193099">&#34;.&#34;</span><span class="op" id="6193102">)</span><span class="op" id="6193103">;</span>&nbsp;<span class="ident" id="6193105">i</span>&nbsp;<span class="op" id="6193107">!=</span>&nbsp;<span class="op" id="6193110">-</span><span class="num" id="6193111">1</span>&nbsp;<span class="op" id="6193113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6193117">return</span>&nbsp;<span class="ident" id="6193124">s</span><span class="op" id="6193125">.</span><span class="ident" id="6193126">Name</span><span class="op" id="6193130">[</span><span class="num" id="6193131">0</span><span class="op" id="6193132">:</span><span class="ident" id="6193133">i</span><span class="op" id="6193134">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6193137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6193140">return</span>&nbsp;<span class="string" id="6193147">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6193150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6193153">//&nbsp;ReceiverName&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;name&nbsp;of&nbsp;this&nbsp;symbol,</span><br>
<span class="lineno">50</span><span class="comment" id="6193216">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="6193257">func</span>&nbsp;<span class="op" id="6193262">(</span><span class="ident" id="6193263">s</span>&nbsp;<span class="op" id="6193265">*</span><span class="ident" id="6193266">Sym</span><span class="op" id="6193269">)</span>&nbsp;<span class="ident" id="6193271">ReceiverName</span><span class="op" id="6193283">(</span><span class="op" id="6193284">)</span>&nbsp;<span class="builtintype" id="6193286">string</span>&nbsp;<span class="op" id="6193293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6193296">l</span>&nbsp;<span class="op" id="6193298">:=</span>&nbsp;<span class="ident" id="6193301">strings</span><span class="op" id="6193308">.</span><span class="ident" id="6193309">Index</span><span class="op" id="6193314">(</span><span class="ident" id="6193315">s</span><span class="op" id="6193316">.</span><span class="ident" id="6193317">Name</span><span class="op" id="6193321">,</span>&nbsp;<span class="string" id="6193323">&#34;.&#34;</span><span class="op" id="6193326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6193329">r</span>&nbsp;<span class="op" id="6193331">:=</span>&nbsp;<span class="ident" id="6193334">strings</span><span class="op" id="6193341">.</span><span class="ident" id="6193342">LastIndex</span><span class="op" id="6193351">(</span><span class="ident" id="6193352">s</span><span class="op" id="6193353">.</span><span class="ident" id="6193354">Name</span><span class="op" id="6193358">,</span>&nbsp;<span class="string" id="6193360">&#34;.&#34;</span><span class="op" id="6193363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6193366">if</span>&nbsp;<span class="ident" id="6193369">l</span>&nbsp;<span class="op" id="6193371">==</span>&nbsp;<span class="op" id="6193374">-</span><span class="num" id="6193375">1</span>&nbsp;<span class="op" id="6193377">||</span>&nbsp;<span class="ident" id="6193380">r</span>&nbsp;<span class="op" id="6193382">==</span>&nbsp;<span class="op" id="6193385">-</span><span class="num" id="6193386">1</span>&nbsp;<span class="op" id="6193388">||</span>&nbsp;<span class="ident" id="6193391">l</span>&nbsp;<span class="op" id="6193393">==</span>&nbsp;<span class="ident" id="6193396">r</span>&nbsp;<span class="op" id="6193398">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6193402">return</span>&nbsp;<span class="string" id="6193409">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6193413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6193416">return</span>&nbsp;<span class="ident" id="6193423">s</span><span class="op" id="6193424">.</span><span class="ident" id="6193425">Name</span><span class="op" id="6193429">[</span><span class="ident" id="6193430">l</span><span class="op" id="6193431">+</span><span class="num" id="6193432">1</span>&nbsp;<span class="op" id="6193434">:</span>&nbsp;<span class="ident" id="6193436">r</span><span class="op" id="6193437">]</span><br>
<span class="lineno"></span><span class="op" id="6193439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="6193442">//&nbsp;BaseName&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;name&nbsp;without&nbsp;the&nbsp;package&nbsp;or&nbsp;receiver&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="6193516">func</span>&nbsp;<span class="op" id="6193521">(</span><span class="ident" id="6193522">s</span>&nbsp;<span class="op" id="6193524">*</span><span class="ident" id="6193525">Sym</span><span class="op" id="6193528">)</span>&nbsp;<span class="ident" id="6193530">BaseName</span><span class="op" id="6193538">(</span><span class="op" id="6193539">)</span>&nbsp;<span class="builtintype" id="6193541">string</span>&nbsp;<span class="op" id="6193548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6193551">if</span>&nbsp;<span class="ident" id="6193554">i</span>&nbsp;<span class="op" id="6193556">:=</span>&nbsp;<span class="ident" id="6193559">strings</span><span class="op" id="6193566">.</span><span class="ident" id="6193567">LastIndex</span><span class="op" id="6193576">(</span><span class="ident" id="6193577">s</span><span class="op" id="6193578">.</span><span class="ident" id="6193579">Name</span><span class="op" id="6193583">,</span>&nbsp;<span class="string" id="6193585">&#34;.&#34;</span><span class="op" id="6193588">)</span><span class="op" id="6193589">;</span>&nbsp;<span class="ident" id="6193591">i</span>&nbsp;<span class="op" id="6193593">!=</span>&nbsp;<span class="op" id="6193596">-</span><span class="num" id="6193597">1</span>&nbsp;<span class="op" id="6193599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6193603">return</span>&nbsp;<span class="ident" id="6193610">s</span><span class="op" id="6193611">.</span><span class="ident" id="6193612">Name</span><span class="op" id="6193616">[</span><span class="ident" id="6193617">i</span><span class="op" id="6193618">+</span><span class="num" id="6193619">1</span><span class="op" id="6193620">:</span><span class="op" id="6193621">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6193624">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6193627">return</span>&nbsp;<span class="ident" id="6193634">s</span><span class="op" id="6193635">.</span><span class="ident" id="6193636">Name</span><br>
<span class="lineno"></span><span class="op" id="6193641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6193644">//&nbsp;A&nbsp;Func&nbsp;collects&nbsp;information&nbsp;about&nbsp;a&nbsp;single&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="6193700">type</span>&nbsp;<span class="ident" id="6193705">Func</span>&nbsp;<span class="keyword" id="6193710">struct</span>&nbsp;<span class="op" id="6193717">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6193720">Entry</span>&nbsp;<span class="ident" id="6193726">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6193734">*</span><span class="ident" id="6193735">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6193740">End</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6193750">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6193758">Params</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6193768">[</span><span class="op" id="6193769">]</span><span class="op" id="6193770">*</span><span class="ident" id="6193771">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6193776">Locals</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6193786">[</span><span class="op" id="6193787">]</span><span class="op" id="6193788">*</span><span class="ident" id="6193789">Sym</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6193794">FrameSize</span>&nbsp;<span class="builtintype" id="6193804">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6193809">LineTable</span>&nbsp;<span class="op" id="6193819">*</span><span class="ident" id="6193820">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6193831">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6193841">*</span><span class="ident" id="6193842">Obj</span><br>
<span class="lineno"></span><span class="op" id="6193846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="6193849">//&nbsp;An&nbsp;Obj&nbsp;represents&nbsp;a&nbsp;collection&nbsp;of&nbsp;functions&nbsp;in&nbsp;a&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="6193915">//</span><br>
<span class="lineno"></span><span class="comment" id="6193918">//&nbsp;The&nbsp;exact&nbsp;method&nbsp;of&nbsp;division&nbsp;of&nbsp;a&nbsp;binary&nbsp;into&nbsp;separate&nbsp;Objs&nbsp;is&nbsp;an&nbsp;internal&nbsp;detail</span><br>
<span class="lineno"></span><span class="comment" id="6194003">//&nbsp;of&nbsp;the&nbsp;symbol&nbsp;table&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="6194034">//</span><br>
<span class="lineno">85</span><span class="comment" id="6194037">//&nbsp;In&nbsp;early&nbsp;versions&nbsp;of&nbsp;Go&nbsp;each&nbsp;source&nbsp;file&nbsp;became&nbsp;a&nbsp;different&nbsp;Obj.</span><br>
<span class="lineno"></span><span class="comment" id="6194105">//</span><br>
<span class="lineno"></span><span class="comment" id="6194108">//&nbsp;In&nbsp;Go&nbsp;1&nbsp;and&nbsp;Go&nbsp;1.1,&nbsp;each&nbsp;package&nbsp;produced&nbsp;one&nbsp;Obj&nbsp;for&nbsp;all&nbsp;Go&nbsp;sources</span><br>
<span class="lineno"></span><span class="comment" id="6194180">//&nbsp;and&nbsp;one&nbsp;Obj&nbsp;per&nbsp;C&nbsp;source&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="6194214">//</span><br>
<span class="lineno">90</span><span class="comment" id="6194217">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;there&nbsp;is&nbsp;a&nbsp;single&nbsp;Obj&nbsp;for&nbsp;the&nbsp;entire&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="6194277">type</span>&nbsp;<span class="ident" id="6194282">Obj</span>&nbsp;<span class="keyword" id="6194286">struct</span>&nbsp;<span class="op" id="6194293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6194296">//&nbsp;Funcs&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;functions&nbsp;in&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6194341">Funcs</span>&nbsp;<span class="op" id="6194347">[</span><span class="op" id="6194348">]</span><span class="ident" id="6194349">Func</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6194356">//&nbsp;In&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;Paths&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;symbols&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6194424">//&nbsp;to&nbsp;the&nbsp;source&nbsp;file&nbsp;names&nbsp;that&nbsp;produced&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6194476">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;Paths&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6194505">//&nbsp;Use&nbsp;the&nbsp;keys&nbsp;of&nbsp;Table.Files&nbsp;to&nbsp;obtain&nbsp;a&nbsp;list&nbsp;of&nbsp;source&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6194571">Paths</span>&nbsp;<span class="op" id="6194577">[</span><span class="op" id="6194578">]</span><span class="ident" id="6194579">Sym</span>&nbsp;<span class="comment" id="6194583">//&nbsp;meta</span><br>
<span class="lineno">100</span><span class="op" id="6194591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6194594">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbol&nbsp;tables<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="6194619">//&nbsp;Table&nbsp;represents&nbsp;a&nbsp;Go&nbsp;symbol&nbsp;table.&nbsp;&nbsp;It&nbsp;stores&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6194680">//&nbsp;symbols&nbsp;decoded&nbsp;from&nbsp;the&nbsp;program&nbsp;and&nbsp;provides&nbsp;methods&nbsp;to&nbsp;translate</span><br>
<span class="lineno"></span><span class="comment" id="6194750">//&nbsp;between&nbsp;symbols,&nbsp;names,&nbsp;and&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="6194792">type</span>&nbsp;<span class="ident" id="6194797">Table</span>&nbsp;<span class="keyword" id="6194803">struct</span>&nbsp;<span class="op" id="6194810">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6194813">Syms</span>&nbsp;&nbsp;<span class="op" id="6194819">[</span><span class="op" id="6194820">]</span><span class="ident" id="6194821">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6194826">Funcs</span>&nbsp;<span class="op" id="6194832">[</span><span class="op" id="6194833">]</span><span class="ident" id="6194834">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6194840">Files</span>&nbsp;<span class="keyword" id="6194846">map</span><span class="op" id="6194849">[</span><span class="builtintype" id="6194850">string</span><span class="op" id="6194856">]</span><span class="op" id="6194857">*</span><span class="ident" id="6194858">Obj</span>&nbsp;<span class="comment" id="6194862">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6194900">Objs</span>&nbsp;&nbsp;<span class="op" id="6194906">[</span><span class="op" id="6194907">]</span><span class="ident" id="6194908">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6194922">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6194961">go12line</span>&nbsp;<span class="op" id="6194970">*</span><span class="ident" id="6194971">LineTable</span>&nbsp;<span class="comment" id="6194981">//&nbsp;Go&nbsp;1.2&nbsp;line&nbsp;number&nbsp;table</span><br>
<span class="lineno"></span><span class="op" id="6195009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6195012">type</span>&nbsp;<span class="ident" id="6195017">sym</span>&nbsp;<span class="keyword" id="6195021">struct</span>&nbsp;<span class="op" id="6195028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195031">value</span>&nbsp;&nbsp;<span class="ident" id="6195038">uint64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195046">gotype</span>&nbsp;<span class="ident" id="6195053">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195061">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6195068">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195074">name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6195081">[</span><span class="op" id="6195082">]</span><span class="builtintype" id="6195083">byte</span><br>
<span class="lineno"></span><span class="op" id="6195088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6195091">var</span>&nbsp;<span class="op" id="6195095">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195098">littleEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6195120">=</span>&nbsp;<span class="op" id="6195122">[</span><span class="op" id="6195123">]</span><span class="builtintype" id="6195124">byte</span><span class="op" id="6195128">{</span><span class="num" id="6195129">0xFD</span><span class="op" id="6195133">,</span>&nbsp;<span class="num" id="6195135">0xFF</span><span class="op" id="6195139">,</span>&nbsp;<span class="num" id="6195141">0xFF</span><span class="op" id="6195145">,</span>&nbsp;<span class="num" id="6195147">0xFF</span><span class="op" id="6195151">,</span>&nbsp;<span class="num" id="6195153">0x00</span><span class="op" id="6195157">,</span>&nbsp;<span class="num" id="6195159">0x00</span><span class="op" id="6195163">,</span>&nbsp;<span class="num" id="6195165">0x00</span><span class="op" id="6195169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195172">bigEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6195194">=</span>&nbsp;<span class="op" id="6195196">[</span><span class="op" id="6195197">]</span><span class="builtintype" id="6195198">byte</span><span class="op" id="6195202">{</span><span class="num" id="6195203">0xFF</span><span class="op" id="6195207">,</span>&nbsp;<span class="num" id="6195209">0xFF</span><span class="op" id="6195213">,</span>&nbsp;<span class="num" id="6195215">0xFF</span><span class="op" id="6195219">,</span>&nbsp;<span class="num" id="6195221">0xFD</span><span class="op" id="6195225">,</span>&nbsp;<span class="num" id="6195227">0x00</span><span class="op" id="6195231">,</span>&nbsp;<span class="num" id="6195233">0x00</span><span class="op" id="6195237">,</span>&nbsp;<span class="num" id="6195239">0x00</span><span class="op" id="6195243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195246">oldLittleEndianSymtab</span>&nbsp;<span class="op" id="6195268">=</span>&nbsp;<span class="op" id="6195270">[</span><span class="op" id="6195271">]</span><span class="builtintype" id="6195272">byte</span><span class="op" id="6195276">{</span><span class="num" id="6195277">0xFE</span><span class="op" id="6195281">,</span>&nbsp;<span class="num" id="6195283">0xFF</span><span class="op" id="6195287">,</span>&nbsp;<span class="num" id="6195289">0xFF</span><span class="op" id="6195293">,</span>&nbsp;<span class="num" id="6195295">0xFF</span><span class="op" id="6195299">,</span>&nbsp;<span class="num" id="6195301">0x00</span><span class="op" id="6195305">,</span>&nbsp;<span class="num" id="6195307">0x00</span><span class="op" id="6195311">}</span><br>
<span class="lineno"></span><span class="op" id="6195313">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="6195316">func</span>&nbsp;<span class="ident" id="6195321">walksymtab</span><span class="op" id="6195331">(</span><span class="ident" id="6195332">data</span>&nbsp;<span class="op" id="6195337">[</span><span class="op" id="6195338">]</span><span class="builtintype" id="6195339">byte</span><span class="op" id="6195343">,</span>&nbsp;<span class="ident" id="6195345">fn</span>&nbsp;<span class="keyword" id="6195348">func</span><span class="op" id="6195352">(</span><span class="ident" id="6195353">sym</span><span class="op" id="6195356">)</span>&nbsp;<span class="builtintype" id="6195358">error</span><span class="op" id="6195363">)</span>&nbsp;<span class="builtintype" id="6195365">error</span>&nbsp;<span class="op" id="6195371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195374">if</span>&nbsp;<span class="builtinfunc" id="6195377">len</span><span class="op" id="6195380">(</span><span class="ident" id="6195381">data</span><span class="op" id="6195385">)</span>&nbsp;<span class="op" id="6195387">==</span>&nbsp;<span class="num" id="6195390">0</span>&nbsp;<span class="op" id="6195392">{</span>&nbsp;<span class="comment" id="6195394">//&nbsp;missing&nbsp;symtab&nbsp;is&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195422">return</span>&nbsp;<span class="ident" id="6195429">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6195434">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195437">var</span>&nbsp;<span class="ident" id="6195441">order</span>&nbsp;<span class="ident" id="6195447">binary</span><span class="op" id="6195453">.</span><span class="ident" id="6195454">ByteOrder</span>&nbsp;<span class="op" id="6195464">=</span>&nbsp;<span class="ident" id="6195466">binary</span><span class="op" id="6195472">.</span><span class="ident" id="6195473">BigEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195484">newTable</span>&nbsp;<span class="op" id="6195493">:=</span>&nbsp;<span class="builtintype" id="6195496">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195503">switch</span>&nbsp;<span class="op" id="6195510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195513">case</span>&nbsp;<span class="ident" id="6195518">bytes</span><span class="op" id="6195523">.</span><span class="ident" id="6195524">HasPrefix</span><span class="op" id="6195533">(</span><span class="ident" id="6195534">data</span><span class="op" id="6195538">,</span>&nbsp;<span class="ident" id="6195540">oldLittleEndianSymtab</span><span class="op" id="6195561">)</span><span class="op" id="6195562">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6195566">//&nbsp;Same&nbsp;as&nbsp;Go&nbsp;1.0,&nbsp;but&nbsp;little&nbsp;endian.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6195606">//&nbsp;Format&nbsp;was&nbsp;used&nbsp;during&nbsp;interim&nbsp;development&nbsp;between&nbsp;Go&nbsp;1.0&nbsp;and&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6195681">//&nbsp;Should&nbsp;not&nbsp;be&nbsp;widespread,&nbsp;but&nbsp;easy&nbsp;to&nbsp;support.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195733">data</span>&nbsp;<span class="op" id="6195738">=</span>&nbsp;<span class="ident" id="6195740">data</span><span class="op" id="6195744">[</span><span class="num" id="6195745">6</span><span class="op" id="6195746">:</span><span class="op" id="6195747">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195751">order</span>&nbsp;<span class="op" id="6195757">=</span>&nbsp;<span class="ident" id="6195759">binary</span><span class="op" id="6195765">.</span><span class="ident" id="6195766">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195780">case</span>&nbsp;<span class="ident" id="6195785">bytes</span><span class="op" id="6195790">.</span><span class="ident" id="6195791">HasPrefix</span><span class="op" id="6195800">(</span><span class="ident" id="6195801">data</span><span class="op" id="6195805">,</span>&nbsp;<span class="ident" id="6195807">bigEndianSymtab</span><span class="op" id="6195822">)</span><span class="op" id="6195823">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195827">newTable</span>&nbsp;<span class="op" id="6195836">=</span>&nbsp;<span class="builtintype" id="6195838">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195844">case</span>&nbsp;<span class="ident" id="6195849">bytes</span><span class="op" id="6195854">.</span><span class="ident" id="6195855">HasPrefix</span><span class="op" id="6195864">(</span><span class="ident" id="6195865">data</span><span class="op" id="6195869">,</span>&nbsp;<span class="ident" id="6195871">littleEndianSymtab</span><span class="op" id="6195889">)</span><span class="op" id="6195890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195894">newTable</span>&nbsp;<span class="op" id="6195903">=</span>&nbsp;<span class="builtintype" id="6195905">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6195912">order</span>&nbsp;<span class="op" id="6195918">=</span>&nbsp;<span class="ident" id="6195920">binary</span><span class="op" id="6195926">.</span><span class="ident" id="6195927">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6195941">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195944">var</span>&nbsp;<span class="ident" id="6195948">ptrsz</span>&nbsp;<span class="builtintype" id="6195954">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195959">if</span>&nbsp;<span class="ident" id="6195962">newTable</span>&nbsp;<span class="op" id="6195971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195975">if</span>&nbsp;<span class="builtinfunc" id="6195978">len</span><span class="op" id="6195981">(</span><span class="ident" id="6195982">data</span><span class="op" id="6195986">)</span>&nbsp;<span class="op" id="6195988">&lt;</span>&nbsp;<span class="num" id="6195990">8</span>&nbsp;<span class="op" id="6195992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6195997">return</span>&nbsp;<span class="op" id="6196004">&amp;</span><span class="ident" id="6196005">DecodingError</span><span class="op" id="6196018">{</span><span class="builtinfunc" id="6196019">len</span><span class="op" id="6196022">(</span><span class="ident" id="6196023">data</span><span class="op" id="6196027">)</span><span class="op" id="6196028">,</span>&nbsp;<span class="string" id="6196030">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6196046">,</span>&nbsp;<span class="ident" id="6196048">nil</span><span class="op" id="6196051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6196055">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196059">ptrsz</span>&nbsp;<span class="op" id="6196065">=</span>&nbsp;<span class="builtintype" id="6196067">int</span><span class="op" id="6196070">(</span><span class="ident" id="6196071">data</span><span class="op" id="6196075">[</span><span class="num" id="6196076">7</span><span class="op" id="6196077">]</span><span class="op" id="6196078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196082">if</span>&nbsp;<span class="ident" id="6196085">ptrsz</span>&nbsp;<span class="op" id="6196091">!=</span>&nbsp;<span class="num" id="6196094">4</span>&nbsp;<span class="op" id="6196096">&amp;&amp;</span>&nbsp;<span class="ident" id="6196099">ptrsz</span>&nbsp;<span class="op" id="6196105">!=</span>&nbsp;<span class="num" id="6196108">8</span>&nbsp;<span class="op" id="6196110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196115">return</span>&nbsp;<span class="op" id="6196122">&amp;</span><span class="ident" id="6196123">DecodingError</span><span class="op" id="6196136">{</span><span class="num" id="6196137">7</span><span class="op" id="6196138">,</span>&nbsp;<span class="string" id="6196140">&#34;invalid&nbsp;pointer&nbsp;size&#34;</span><span class="op" id="6196162">,</span>&nbsp;<span class="ident" id="6196164">ptrsz</span><span class="op" id="6196169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6196173">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196177">data</span>&nbsp;<span class="op" id="6196182">=</span>&nbsp;<span class="ident" id="6196184">data</span><span class="op" id="6196188">[</span><span class="num" id="6196189">8</span><span class="op" id="6196190">:</span><span class="op" id="6196191">]</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6196194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196197">var</span>&nbsp;<span class="ident" id="6196201">s</span>&nbsp;<span class="ident" id="6196203">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196208">p</span>&nbsp;<span class="op" id="6196210">:=</span>&nbsp;<span class="ident" id="6196213">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196219">for</span>&nbsp;<span class="builtinfunc" id="6196223">len</span><span class="op" id="6196226">(</span><span class="ident" id="6196227">p</span><span class="op" id="6196228">)</span>&nbsp;<span class="op" id="6196230">&gt;=</span>&nbsp;<span class="num" id="6196233">4</span>&nbsp;<span class="op" id="6196235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196239">var</span>&nbsp;<span class="ident" id="6196243">typ</span>&nbsp;<span class="builtintype" id="6196247">byte</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196254">if</span>&nbsp;<span class="ident" id="6196257">newTable</span>&nbsp;<span class="op" id="6196266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6196271">//&nbsp;Symbol&nbsp;type,&nbsp;value,&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196306">typ</span>&nbsp;<span class="op" id="6196310">=</span>&nbsp;<span class="ident" id="6196312">p</span><span class="op" id="6196313">[</span><span class="num" id="6196314">0</span><span class="op" id="6196315">]</span>&nbsp;<span class="op" id="6196317">&amp;</span>&nbsp;<span class="num" id="6196319">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196327">wideValue</span>&nbsp;<span class="op" id="6196337">:=</span>&nbsp;<span class="ident" id="6196340">p</span><span class="op" id="6196341">[</span><span class="num" id="6196342">0</span><span class="op" id="6196343">]</span><span class="op" id="6196344">&amp;</span><span class="num" id="6196345">0x40</span>&nbsp;<span class="op" id="6196350">!=</span>&nbsp;<span class="num" id="6196353">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196358">goType</span>&nbsp;<span class="op" id="6196365">:=</span>&nbsp;<span class="ident" id="6196368">p</span><span class="op" id="6196369">[</span><span class="num" id="6196370">0</span><span class="op" id="6196371">]</span><span class="op" id="6196372">&amp;</span><span class="num" id="6196373">0x80</span>&nbsp;<span class="op" id="6196378">!=</span>&nbsp;<span class="num" id="6196381">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196386">if</span>&nbsp;<span class="ident" id="6196389">typ</span>&nbsp;<span class="op" id="6196393">&lt;</span>&nbsp;<span class="num" id="6196395">26</span>&nbsp;<span class="op" id="6196398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196404">typ</span>&nbsp;<span class="op" id="6196408">+=</span>&nbsp;<span class="string" id="6196411">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6196418">}</span>&nbsp;<span class="keyword" id="6196420">else</span>&nbsp;<span class="op" id="6196425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196431">typ</span>&nbsp;<span class="op" id="6196435">+=</span>&nbsp;<span class="string" id="6196438">&#39;a&#39;</span>&nbsp;<span class="op" id="6196442">-</span>&nbsp;<span class="num" id="6196444">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6196450">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196455">s</span><span class="op" id="6196456">.</span><span class="ident" id="6196457">typ</span>&nbsp;<span class="op" id="6196461">=</span>&nbsp;<span class="ident" id="6196463">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196470">p</span>&nbsp;<span class="op" id="6196472">=</span>&nbsp;<span class="ident" id="6196474">p</span><span class="op" id="6196475">[</span><span class="num" id="6196476">1</span><span class="op" id="6196477">:</span><span class="op" id="6196478">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196483">if</span>&nbsp;<span class="ident" id="6196486">wideValue</span>&nbsp;<span class="op" id="6196496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196502">if</span>&nbsp;<span class="builtinfunc" id="6196505">len</span><span class="op" id="6196508">(</span><span class="ident" id="6196509">p</span><span class="op" id="6196510">)</span>&nbsp;<span class="op" id="6196512">&lt;</span>&nbsp;<span class="ident" id="6196514">ptrsz</span>&nbsp;<span class="op" id="6196520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196527">return</span>&nbsp;<span class="op" id="6196534">&amp;</span><span class="ident" id="6196535">DecodingError</span><span class="op" id="6196548">{</span><span class="builtinfunc" id="6196549">len</span><span class="op" id="6196552">(</span><span class="ident" id="6196553">data</span><span class="op" id="6196557">)</span><span class="op" id="6196558">,</span>&nbsp;<span class="string" id="6196560">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6196576">,</span>&nbsp;<span class="ident" id="6196578">nil</span><span class="op" id="6196581">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6196587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6196593">//&nbsp;fixed-width&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196618">if</span>&nbsp;<span class="ident" id="6196621">ptrsz</span>&nbsp;<span class="op" id="6196627">==</span>&nbsp;<span class="num" id="6196630">8</span>&nbsp;<span class="op" id="6196632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196639">s</span><span class="op" id="6196640">.</span><span class="ident" id="6196641">value</span>&nbsp;<span class="op" id="6196647">=</span>&nbsp;<span class="ident" id="6196649">order</span><span class="op" id="6196654">.</span><span class="ident" id="6196655">Uint64</span><span class="op" id="6196661">(</span><span class="ident" id="6196662">p</span><span class="op" id="6196663">[</span><span class="num" id="6196664">0</span><span class="op" id="6196665">:</span><span class="num" id="6196666">8</span><span class="op" id="6196667">]</span><span class="op" id="6196668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196675">p</span>&nbsp;<span class="op" id="6196677">=</span>&nbsp;<span class="ident" id="6196679">p</span><span class="op" id="6196680">[</span><span class="num" id="6196681">8</span><span class="op" id="6196682">:</span><span class="op" id="6196683">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6196689">}</span>&nbsp;<span class="keyword" id="6196691">else</span>&nbsp;<span class="op" id="6196696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196703">s</span><span class="op" id="6196704">.</span><span class="ident" id="6196705">value</span>&nbsp;<span class="op" id="6196711">=</span>&nbsp;<span class="ident" id="6196713">uint64</span><span class="op" id="6196719">(</span><span class="ident" id="6196720">order</span><span class="op" id="6196725">.</span><span class="ident" id="6196726">Uint32</span><span class="op" id="6196732">(</span><span class="ident" id="6196733">p</span><span class="op" id="6196734">[</span><span class="num" id="6196735">0</span><span class="op" id="6196736">:</span><span class="num" id="6196737">4</span><span class="op" id="6196738">]</span><span class="op" id="6196739">)</span><span class="op" id="6196740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196747">p</span>&nbsp;<span class="op" id="6196749">=</span>&nbsp;<span class="ident" id="6196751">p</span><span class="op" id="6196752">[</span><span class="num" id="6196753">4</span><span class="op" id="6196754">:</span><span class="op" id="6196755">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6196761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6196766">}</span>&nbsp;<span class="keyword" id="6196768">else</span>&nbsp;<span class="op" id="6196773">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6196779">//&nbsp;varint&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196799">s</span><span class="op" id="6196800">.</span><span class="ident" id="6196801">value</span>&nbsp;<span class="op" id="6196807">=</span>&nbsp;<span class="num" id="6196809">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196815">shift</span>&nbsp;<span class="op" id="6196821">:=</span>&nbsp;<span class="builtintype" id="6196824">uint</span><span class="op" id="6196828">(</span><span class="num" id="6196829">0</span><span class="op" id="6196830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196836">for</span>&nbsp;<span class="builtinfunc" id="6196840">len</span><span class="op" id="6196843">(</span><span class="ident" id="6196844">p</span><span class="op" id="6196845">)</span>&nbsp;<span class="op" id="6196847">&gt;</span>&nbsp;<span class="num" id="6196849">0</span>&nbsp;<span class="op" id="6196851">&amp;&amp;</span>&nbsp;<span class="ident" id="6196854">p</span><span class="op" id="6196855">[</span><span class="num" id="6196856">0</span><span class="op" id="6196857">]</span><span class="op" id="6196858">&amp;</span><span class="num" id="6196859">0x80</span>&nbsp;<span class="op" id="6196864">!=</span>&nbsp;<span class="num" id="6196867">0</span>&nbsp;<span class="op" id="6196869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196876">s</span><span class="op" id="6196877">.</span><span class="ident" id="6196878">value</span>&nbsp;<span class="op" id="6196884">|=</span>&nbsp;<span class="ident" id="6196887">uint64</span><span class="op" id="6196893">(</span><span class="ident" id="6196894">p</span><span class="op" id="6196895">[</span><span class="num" id="6196896">0</span><span class="op" id="6196897">]</span><span class="op" id="6196898">&amp;</span><span class="num" id="6196899">0x7F</span><span class="op" id="6196903">)</span>&nbsp;<span class="op" id="6196905">&lt;&lt;</span>&nbsp;<span class="ident" id="6196908">shift</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196919">shift</span>&nbsp;<span class="op" id="6196925">+=</span>&nbsp;<span class="num" id="6196928">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6196935">p</span>&nbsp;<span class="op" id="6196937">=</span>&nbsp;<span class="ident" id="6196939">p</span><span class="op" id="6196940">[</span><span class="num" id="6196941">1</span><span class="op" id="6196942">:</span><span class="op" id="6196943">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6196949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196955">if</span>&nbsp;<span class="builtinfunc" id="6196958">len</span><span class="op" id="6196961">(</span><span class="ident" id="6196962">p</span><span class="op" id="6196963">)</span>&nbsp;<span class="op" id="6196965">==</span>&nbsp;<span class="num" id="6196968">0</span>&nbsp;<span class="op" id="6196970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6196977">return</span>&nbsp;<span class="op" id="6196984">&amp;</span><span class="ident" id="6196985">DecodingError</span><span class="op" id="6196998">{</span><span class="builtinfunc" id="6196999">len</span><span class="op" id="6197002">(</span><span class="ident" id="6197003">data</span><span class="op" id="6197007">)</span><span class="op" id="6197008">,</span>&nbsp;<span class="string" id="6197010">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6197026">,</span>&nbsp;<span class="ident" id="6197028">nil</span><span class="op" id="6197031">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197043">s</span><span class="op" id="6197044">.</span><span class="ident" id="6197045">value</span>&nbsp;<span class="op" id="6197051">|=</span>&nbsp;<span class="ident" id="6197054">uint64</span><span class="op" id="6197060">(</span><span class="ident" id="6197061">p</span><span class="op" id="6197062">[</span><span class="num" id="6197063">0</span><span class="op" id="6197064">]</span><span class="op" id="6197065">)</span>&nbsp;<span class="op" id="6197067">&lt;&lt;</span>&nbsp;<span class="ident" id="6197070">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197080">p</span>&nbsp;<span class="op" id="6197082">=</span>&nbsp;<span class="ident" id="6197084">p</span><span class="op" id="6197085">[</span><span class="num" id="6197086">1</span><span class="op" id="6197087">:</span><span class="op" id="6197088">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197098">if</span>&nbsp;<span class="ident" id="6197101">goType</span>&nbsp;<span class="op" id="6197108">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197114">if</span>&nbsp;<span class="builtinfunc" id="6197117">len</span><span class="op" id="6197120">(</span><span class="ident" id="6197121">p</span><span class="op" id="6197122">)</span>&nbsp;<span class="op" id="6197124">&lt;</span>&nbsp;<span class="ident" id="6197126">ptrsz</span>&nbsp;<span class="op" id="6197132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197139">return</span>&nbsp;<span class="op" id="6197146">&amp;</span><span class="ident" id="6197147">DecodingError</span><span class="op" id="6197160">{</span><span class="builtinfunc" id="6197161">len</span><span class="op" id="6197164">(</span><span class="ident" id="6197165">data</span><span class="op" id="6197169">)</span><span class="op" id="6197170">,</span>&nbsp;<span class="string" id="6197172">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6197188">,</span>&nbsp;<span class="ident" id="6197190">nil</span><span class="op" id="6197193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6197205">//&nbsp;fixed-width&nbsp;go&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197232">if</span>&nbsp;<span class="ident" id="6197235">ptrsz</span>&nbsp;<span class="op" id="6197241">==</span>&nbsp;<span class="num" id="6197244">8</span>&nbsp;<span class="op" id="6197246">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197253">s</span><span class="op" id="6197254">.</span><span class="ident" id="6197255">gotype</span>&nbsp;<span class="op" id="6197262">=</span>&nbsp;<span class="ident" id="6197264">order</span><span class="op" id="6197269">.</span><span class="ident" id="6197270">Uint64</span><span class="op" id="6197276">(</span><span class="ident" id="6197277">p</span><span class="op" id="6197278">[</span><span class="num" id="6197279">0</span><span class="op" id="6197280">:</span><span class="num" id="6197281">8</span><span class="op" id="6197282">]</span><span class="op" id="6197283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197290">p</span>&nbsp;<span class="op" id="6197292">=</span>&nbsp;<span class="ident" id="6197294">p</span><span class="op" id="6197295">[</span><span class="num" id="6197296">8</span><span class="op" id="6197297">:</span><span class="op" id="6197298">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197304">}</span>&nbsp;<span class="keyword" id="6197306">else</span>&nbsp;<span class="op" id="6197311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197318">s</span><span class="op" id="6197319">.</span><span class="ident" id="6197320">gotype</span>&nbsp;<span class="op" id="6197327">=</span>&nbsp;<span class="ident" id="6197329">uint64</span><span class="op" id="6197335">(</span><span class="ident" id="6197336">order</span><span class="op" id="6197341">.</span><span class="ident" id="6197342">Uint32</span><span class="op" id="6197348">(</span><span class="ident" id="6197349">p</span><span class="op" id="6197350">[</span><span class="num" id="6197351">0</span><span class="op" id="6197352">:</span><span class="num" id="6197353">4</span><span class="op" id="6197354">]</span><span class="op" id="6197355">)</span><span class="op" id="6197356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197363">p</span>&nbsp;<span class="op" id="6197365">=</span>&nbsp;<span class="ident" id="6197367">p</span><span class="op" id="6197368">[</span><span class="num" id="6197369">4</span><span class="op" id="6197370">:</span><span class="op" id="6197371">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197386">}</span>&nbsp;<span class="keyword" id="6197388">else</span>&nbsp;<span class="op" id="6197393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6197398">//&nbsp;Value,&nbsp;symbol&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197424">s</span><span class="op" id="6197425">.</span><span class="ident" id="6197426">value</span>&nbsp;<span class="op" id="6197432">=</span>&nbsp;<span class="ident" id="6197434">uint64</span><span class="op" id="6197440">(</span><span class="ident" id="6197441">order</span><span class="op" id="6197446">.</span><span class="ident" id="6197447">Uint32</span><span class="op" id="6197453">(</span><span class="ident" id="6197454">p</span><span class="op" id="6197455">[</span><span class="num" id="6197456">0</span><span class="op" id="6197457">:</span><span class="num" id="6197458">4</span><span class="op" id="6197459">]</span><span class="op" id="6197460">)</span><span class="op" id="6197461">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197466">if</span>&nbsp;<span class="builtinfunc" id="6197469">len</span><span class="op" id="6197472">(</span><span class="ident" id="6197473">p</span><span class="op" id="6197474">)</span>&nbsp;<span class="op" id="6197476">&lt;</span>&nbsp;<span class="num" id="6197478">5</span>&nbsp;<span class="op" id="6197480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197486">return</span>&nbsp;<span class="op" id="6197493">&amp;</span><span class="ident" id="6197494">DecodingError</span><span class="op" id="6197507">{</span><span class="builtinfunc" id="6197508">len</span><span class="op" id="6197511">(</span><span class="ident" id="6197512">data</span><span class="op" id="6197516">)</span><span class="op" id="6197517">,</span>&nbsp;<span class="string" id="6197519">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6197535">,</span>&nbsp;<span class="ident" id="6197537">nil</span><span class="op" id="6197540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197550">typ</span>&nbsp;<span class="op" id="6197554">=</span>&nbsp;<span class="ident" id="6197556">p</span><span class="op" id="6197557">[</span><span class="num" id="6197558">4</span><span class="op" id="6197559">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197564">if</span>&nbsp;<span class="ident" id="6197567">typ</span><span class="op" id="6197570">&amp;</span><span class="num" id="6197571">0x80</span>&nbsp;<span class="op" id="6197576">==</span>&nbsp;<span class="num" id="6197579">0</span>&nbsp;<span class="op" id="6197581">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197587">return</span>&nbsp;<span class="op" id="6197594">&amp;</span><span class="ident" id="6197595">DecodingError</span><span class="op" id="6197608">{</span><span class="builtinfunc" id="6197609">len</span><span class="op" id="6197612">(</span><span class="ident" id="6197613">data</span><span class="op" id="6197617">)</span>&nbsp;<span class="op" id="6197619">-</span>&nbsp;<span class="builtinfunc" id="6197621">len</span><span class="op" id="6197624">(</span><span class="ident" id="6197625">p</span><span class="op" id="6197626">)</span>&nbsp;<span class="op" id="6197628">+</span>&nbsp;<span class="num" id="6197630">4</span><span class="op" id="6197631">,</span>&nbsp;<span class="string" id="6197633">&#34;bad&nbsp;symbol&nbsp;type&#34;</span><span class="op" id="6197650">,</span>&nbsp;<span class="ident" id="6197652">typ</span><span class="op" id="6197655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197665">typ</span>&nbsp;<span class="op" id="6197669">&amp;^=</span>&nbsp;<span class="num" id="6197673">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197681">s</span><span class="op" id="6197682">.</span><span class="ident" id="6197683">typ</span>&nbsp;<span class="op" id="6197687">=</span>&nbsp;<span class="ident" id="6197689">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197696">p</span>&nbsp;<span class="op" id="6197698">=</span>&nbsp;<span class="ident" id="6197700">p</span><span class="op" id="6197701">[</span><span class="num" id="6197702">5</span><span class="op" id="6197703">:</span><span class="op" id="6197704">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6197713">//&nbsp;Name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197724">var</span>&nbsp;<span class="ident" id="6197728">i</span>&nbsp;<span class="builtintype" id="6197730">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197736">var</span>&nbsp;<span class="ident" id="6197740">nnul</span>&nbsp;<span class="builtintype" id="6197745">int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197751">for</span>&nbsp;<span class="ident" id="6197755">i</span>&nbsp;<span class="op" id="6197757">=</span>&nbsp;<span class="num" id="6197759">0</span><span class="op" id="6197760">;</span>&nbsp;<span class="ident" id="6197762">i</span>&nbsp;<span class="op" id="6197764">&lt;</span>&nbsp;<span class="builtinfunc" id="6197766">len</span><span class="op" id="6197769">(</span><span class="ident" id="6197770">p</span><span class="op" id="6197771">)</span><span class="op" id="6197772">;</span>&nbsp;<span class="ident" id="6197774">i</span><span class="op" id="6197775">++</span>&nbsp;<span class="op" id="6197778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197783">if</span>&nbsp;<span class="ident" id="6197786">p</span><span class="op" id="6197787">[</span><span class="ident" id="6197788">i</span><span class="op" id="6197789">]</span>&nbsp;<span class="op" id="6197791">==</span>&nbsp;<span class="num" id="6197794">0</span>&nbsp;<span class="op" id="6197796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197802">nnul</span>&nbsp;<span class="op" id="6197807">=</span>&nbsp;<span class="num" id="6197809">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197815">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197824">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197832">switch</span>&nbsp;<span class="ident" id="6197839">typ</span>&nbsp;<span class="op" id="6197843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197847">case</span>&nbsp;<span class="string" id="6197852">&#39;z&#39;</span><span class="op" id="6197855">,</span>&nbsp;<span class="string" id="6197857">&#39;Z&#39;</span><span class="op" id="6197860">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197865">p</span>&nbsp;<span class="op" id="6197867">=</span>&nbsp;<span class="ident" id="6197869">p</span><span class="op" id="6197870">[</span><span class="ident" id="6197871">i</span><span class="op" id="6197872">+</span><span class="ident" id="6197873">nnul</span><span class="op" id="6197877">:</span><span class="op" id="6197878">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197883">for</span>&nbsp;<span class="ident" id="6197887">i</span>&nbsp;<span class="op" id="6197889">=</span>&nbsp;<span class="num" id="6197891">0</span><span class="op" id="6197892">;</span>&nbsp;<span class="ident" id="6197894">i</span><span class="op" id="6197895">+</span><span class="num" id="6197896">2</span>&nbsp;<span class="op" id="6197898">&lt;=</span>&nbsp;<span class="builtinfunc" id="6197901">len</span><span class="op" id="6197904">(</span><span class="ident" id="6197905">p</span><span class="op" id="6197906">)</span><span class="op" id="6197907">;</span>&nbsp;<span class="ident" id="6197909">i</span>&nbsp;<span class="op" id="6197911">+=</span>&nbsp;<span class="num" id="6197914">2</span>&nbsp;<span class="op" id="6197916">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197922">if</span>&nbsp;<span class="ident" id="6197925">p</span><span class="op" id="6197926">[</span><span class="ident" id="6197927">i</span><span class="op" id="6197928">]</span>&nbsp;<span class="op" id="6197930">==</span>&nbsp;<span class="num" id="6197933">0</span>&nbsp;<span class="op" id="6197935">&amp;&amp;</span>&nbsp;<span class="ident" id="6197938">p</span><span class="op" id="6197939">[</span><span class="ident" id="6197940">i</span><span class="op" id="6197941">+</span><span class="num" id="6197942">1</span><span class="op" id="6197943">]</span>&nbsp;<span class="op" id="6197945">==</span>&nbsp;<span class="num" id="6197948">0</span>&nbsp;<span class="op" id="6197950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6197957">nnul</span>&nbsp;<span class="op" id="6197962">=</span>&nbsp;<span class="num" id="6197964">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197971">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197986">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6197990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6197994">if</span>&nbsp;<span class="builtinfunc" id="6197997">len</span><span class="op" id="6198000">(</span><span class="ident" id="6198001">p</span><span class="op" id="6198002">)</span>&nbsp;<span class="op" id="6198004">&lt;</span>&nbsp;<span class="ident" id="6198006">i</span><span class="op" id="6198007">+</span><span class="ident" id="6198008">nnul</span>&nbsp;<span class="op" id="6198013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198018">return</span>&nbsp;<span class="op" id="6198025">&amp;</span><span class="ident" id="6198026">DecodingError</span><span class="op" id="6198039">{</span><span class="builtinfunc" id="6198040">len</span><span class="op" id="6198043">(</span><span class="ident" id="6198044">data</span><span class="op" id="6198048">)</span><span class="op" id="6198049">,</span>&nbsp;<span class="string" id="6198051">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6198067">,</span>&nbsp;<span class="ident" id="6198069">nil</span><span class="op" id="6198072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6198076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198080">s</span><span class="op" id="6198081">.</span><span class="ident" id="6198082">name</span>&nbsp;<span class="op" id="6198087">=</span>&nbsp;<span class="ident" id="6198089">p</span><span class="op" id="6198090">[</span><span class="num" id="6198091">0</span><span class="op" id="6198092">:</span><span class="ident" id="6198093">i</span><span class="op" id="6198094">]</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198098">i</span>&nbsp;<span class="op" id="6198100">+=</span>&nbsp;<span class="ident" id="6198103">nnul</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198110">p</span>&nbsp;<span class="op" id="6198112">=</span>&nbsp;<span class="ident" id="6198114">p</span><span class="op" id="6198115">[</span><span class="ident" id="6198116">i</span><span class="op" id="6198117">:</span><span class="op" id="6198118">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198123">if</span>&nbsp;<span class="op" id="6198126">!</span><span class="ident" id="6198127">newTable</span>&nbsp;<span class="op" id="6198136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198141">if</span>&nbsp;<span class="builtinfunc" id="6198144">len</span><span class="op" id="6198147">(</span><span class="ident" id="6198148">p</span><span class="op" id="6198149">)</span>&nbsp;<span class="op" id="6198151">&lt;</span>&nbsp;<span class="num" id="6198153">4</span>&nbsp;<span class="op" id="6198155">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198161">return</span>&nbsp;<span class="op" id="6198168">&amp;</span><span class="ident" id="6198169">DecodingError</span><span class="op" id="6198182">{</span><span class="builtinfunc" id="6198183">len</span><span class="op" id="6198186">(</span><span class="ident" id="6198187">data</span><span class="op" id="6198191">)</span><span class="op" id="6198192">,</span>&nbsp;<span class="string" id="6198194">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6198210">,</span>&nbsp;<span class="ident" id="6198212">nil</span><span class="op" id="6198215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6198220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6198225">//&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198240">s</span><span class="op" id="6198241">.</span><span class="ident" id="6198242">gotype</span>&nbsp;<span class="op" id="6198249">=</span>&nbsp;<span class="ident" id="6198251">uint64</span><span class="op" id="6198257">(</span><span class="ident" id="6198258">order</span><span class="op" id="6198263">.</span><span class="ident" id="6198264">Uint32</span><span class="op" id="6198270">(</span><span class="ident" id="6198271">p</span><span class="op" id="6198272">[</span><span class="op" id="6198273">:</span><span class="num" id="6198274">4</span><span class="op" id="6198275">]</span><span class="op" id="6198276">)</span><span class="op" id="6198277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198282">p</span>&nbsp;<span class="op" id="6198284">=</span>&nbsp;<span class="ident" id="6198286">p</span><span class="op" id="6198287">[</span><span class="num" id="6198288">4</span><span class="op" id="6198289">:</span><span class="op" id="6198290">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6198294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198298">fn</span><span class="op" id="6198300">(</span><span class="ident" id="6198301">s</span><span class="op" id="6198302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6198305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198308">return</span>&nbsp;<span class="ident" id="6198315">nil</span><br>
<span class="lineno"></span><span class="op" id="6198319">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="6198322">//&nbsp;NewTable&nbsp;decodes&nbsp;the&nbsp;Go&nbsp;symbol&nbsp;table&nbsp;in&nbsp;data,</span><br>
<span class="lineno"></span><span class="comment" id="6198371">//&nbsp;returning&nbsp;an&nbsp;in-memory&nbsp;representation.</span><br>
<span class="lineno"></span><span class="keyword" id="6198413">func</span>&nbsp;<span class="ident" id="6198418">NewTable</span><span class="op" id="6198426">(</span><span class="ident" id="6198427">symtab</span>&nbsp;<span class="op" id="6198434">[</span><span class="op" id="6198435">]</span><span class="builtintype" id="6198436">byte</span><span class="op" id="6198440">,</span>&nbsp;<span class="ident" id="6198442">pcln</span>&nbsp;<span class="op" id="6198447">*</span><span class="ident" id="6198448">LineTable</span><span class="op" id="6198457">)</span>&nbsp;<span class="op" id="6198459">(</span><span class="op" id="6198460">*</span><span class="ident" id="6198461">Table</span><span class="op" id="6198466">,</span>&nbsp;<span class="builtintype" id="6198468">error</span><span class="op" id="6198473">)</span>&nbsp;<span class="op" id="6198475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198478">var</span>&nbsp;<span class="ident" id="6198482">n</span>&nbsp;<span class="builtintype" id="6198484">int</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198489">err</span>&nbsp;<span class="op" id="6198493">:=</span>&nbsp;<span class="ident" id="6198496">walksymtab</span><span class="op" id="6198506">(</span><span class="ident" id="6198507">symtab</span><span class="op" id="6198513">,</span>&nbsp;<span class="keyword" id="6198515">func</span><span class="op" id="6198519">(</span><span class="ident" id="6198520">s</span>&nbsp;<span class="ident" id="6198522">sym</span><span class="op" id="6198525">)</span>&nbsp;<span class="builtintype" id="6198527">error</span>&nbsp;<span class="op" id="6198533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198537">n</span><span class="op" id="6198538">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198543">return</span>&nbsp;<span class="ident" id="6198550">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6198555">}</span><span class="op" id="6198556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198559">if</span>&nbsp;<span class="ident" id="6198562">err</span>&nbsp;<span class="op" id="6198566">!=</span>&nbsp;<span class="ident" id="6198569">nil</span>&nbsp;<span class="op" id="6198573">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198577">return</span>&nbsp;<span class="ident" id="6198584">nil</span><span class="op" id="6198587">,</span>&nbsp;<span class="ident" id="6198589">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6198594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198598">var</span>&nbsp;<span class="ident" id="6198602">t</span>&nbsp;<span class="ident" id="6198604">Table</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198611">if</span>&nbsp;<span class="ident" id="6198614">pcln</span><span class="op" id="6198618">.</span><span class="ident" id="6198619">isGo12</span><span class="op" id="6198625">(</span><span class="op" id="6198626">)</span>&nbsp;<span class="op" id="6198628">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198632">t</span><span class="op" id="6198633">.</span><span class="ident" id="6198634">go12line</span>&nbsp;<span class="op" id="6198643">=</span>&nbsp;<span class="ident" id="6198645">pcln</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6198651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198654">fname</span>&nbsp;<span class="op" id="6198660">:=</span>&nbsp;<span class="builtinfunc" id="6198663">make</span><span class="op" id="6198667">(</span><span class="keyword" id="6198668">map</span><span class="op" id="6198671">[</span><span class="builtintype" id="6198672">uint16</span><span class="op" id="6198678">]</span><span class="builtintype" id="6198679">string</span><span class="op" id="6198685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198688">t</span><span class="op" id="6198689">.</span><span class="ident" id="6198690">Syms</span>&nbsp;<span class="op" id="6198695">=</span>&nbsp;<span class="builtinfunc" id="6198697">make</span><span class="op" id="6198701">(</span><span class="op" id="6198702">[</span><span class="op" id="6198703">]</span><span class="ident" id="6198704">Sym</span><span class="op" id="6198707">,</span>&nbsp;<span class="num" id="6198709">0</span><span class="op" id="6198710">,</span>&nbsp;<span class="ident" id="6198712">n</span><span class="op" id="6198713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198716">nf</span>&nbsp;<span class="op" id="6198719">:=</span>&nbsp;<span class="num" id="6198722">0</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198725">nz</span>&nbsp;<span class="op" id="6198728">:=</span>&nbsp;<span class="num" id="6198731">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198734">lasttyp</span>&nbsp;<span class="op" id="6198742">:=</span>&nbsp;<span class="builtintype" id="6198745">uint8</span><span class="op" id="6198750">(</span><span class="num" id="6198751">0</span><span class="op" id="6198752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198755">err</span>&nbsp;<span class="op" id="6198759">=</span>&nbsp;<span class="ident" id="6198761">walksymtab</span><span class="op" id="6198771">(</span><span class="ident" id="6198772">symtab</span><span class="op" id="6198778">,</span>&nbsp;<span class="keyword" id="6198780">func</span><span class="op" id="6198784">(</span><span class="ident" id="6198785">s</span>&nbsp;<span class="ident" id="6198787">sym</span><span class="op" id="6198790">)</span>&nbsp;<span class="builtintype" id="6198792">error</span>&nbsp;<span class="op" id="6198798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198802">n</span>&nbsp;<span class="op" id="6198804">:=</span>&nbsp;<span class="builtinfunc" id="6198807">len</span><span class="op" id="6198810">(</span><span class="ident" id="6198811">t</span><span class="op" id="6198812">.</span><span class="ident" id="6198813">Syms</span><span class="op" id="6198817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198821">t</span><span class="op" id="6198822">.</span><span class="ident" id="6198823">Syms</span>&nbsp;<span class="op" id="6198828">=</span>&nbsp;<span class="ident" id="6198830">t</span><span class="op" id="6198831">.</span><span class="ident" id="6198832">Syms</span><span class="op" id="6198836">[</span><span class="num" id="6198837">0</span>&nbsp;<span class="op" id="6198839">:</span>&nbsp;<span class="ident" id="6198841">n</span><span class="op" id="6198842">+</span><span class="num" id="6198843">1</span><span class="op" id="6198844">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198848">ts</span>&nbsp;<span class="op" id="6198851">:=</span>&nbsp;<span class="op" id="6198854">&amp;</span><span class="ident" id="6198855">t</span><span class="op" id="6198856">.</span><span class="ident" id="6198857">Syms</span><span class="op" id="6198861">[</span><span class="ident" id="6198862">n</span><span class="op" id="6198863">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198867">ts</span><span class="op" id="6198869">.</span><span class="ident" id="6198870">Type</span>&nbsp;<span class="op" id="6198875">=</span>&nbsp;<span class="ident" id="6198877">s</span><span class="op" id="6198878">.</span><span class="ident" id="6198879">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198885">ts</span><span class="op" id="6198887">.</span><span class="ident" id="6198888">Value</span>&nbsp;<span class="op" id="6198894">=</span>&nbsp;<span class="ident" id="6198896">uint64</span><span class="op" id="6198902">(</span><span class="ident" id="6198903">s</span><span class="op" id="6198904">.</span><span class="ident" id="6198905">value</span><span class="op" id="6198910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6198914">ts</span><span class="op" id="6198916">.</span><span class="ident" id="6198917">GoType</span>&nbsp;<span class="op" id="6198924">=</span>&nbsp;<span class="ident" id="6198926">uint64</span><span class="op" id="6198932">(</span><span class="ident" id="6198933">s</span><span class="op" id="6198934">.</span><span class="ident" id="6198935">gotype</span><span class="op" id="6198941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198945">switch</span>&nbsp;<span class="ident" id="6198952">s</span><span class="op" id="6198953">.</span><span class="ident" id="6198954">typ</span>&nbsp;<span class="op" id="6198958">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6198962">default</span><span class="op" id="6198969">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6198974">//&nbsp;rewrite&nbsp;name&nbsp;to&nbsp;use&nbsp;.&nbsp;instead&nbsp;of&nbsp;&nbsp;(c2&nbsp;b7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199024">w</span>&nbsp;<span class="op" id="6199026">:=</span>&nbsp;<span class="num" id="6199029">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199034">b</span>&nbsp;<span class="op" id="6199036">:=</span>&nbsp;<span class="ident" id="6199039">s</span><span class="op" id="6199040">.</span><span class="ident" id="6199041">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199049">for</span>&nbsp;<span class="ident" id="6199053">i</span>&nbsp;<span class="op" id="6199055">:=</span>&nbsp;<span class="num" id="6199058">0</span><span class="op" id="6199059">;</span>&nbsp;<span class="ident" id="6199061">i</span>&nbsp;<span class="op" id="6199063">&lt;</span>&nbsp;<span class="builtinfunc" id="6199065">len</span><span class="op" id="6199068">(</span><span class="ident" id="6199069">b</span><span class="op" id="6199070">)</span><span class="op" id="6199071">;</span>&nbsp;<span class="ident" id="6199073">i</span><span class="op" id="6199074">++</span>&nbsp;<span class="op" id="6199077">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199083">if</span>&nbsp;<span class="ident" id="6199086">b</span><span class="op" id="6199087">[</span><span class="ident" id="6199088">i</span><span class="op" id="6199089">]</span>&nbsp;<span class="op" id="6199091">==</span>&nbsp;<span class="num" id="6199094">0xc2</span>&nbsp;<span class="op" id="6199099">&amp;&amp;</span>&nbsp;<span class="ident" id="6199102">i</span><span class="op" id="6199103">+</span><span class="num" id="6199104">1</span>&nbsp;<span class="op" id="6199106">&lt;</span>&nbsp;<span class="builtinfunc" id="6199108">len</span><span class="op" id="6199111">(</span><span class="ident" id="6199112">b</span><span class="op" id="6199113">)</span>&nbsp;<span class="op" id="6199115">&amp;&amp;</span>&nbsp;<span class="ident" id="6199118">b</span><span class="op" id="6199119">[</span><span class="ident" id="6199120">i</span><span class="op" id="6199121">+</span><span class="num" id="6199122">1</span><span class="op" id="6199123">]</span>&nbsp;<span class="op" id="6199125">==</span>&nbsp;<span class="num" id="6199128">0xb7</span>&nbsp;<span class="op" id="6199133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199140">i</span><span class="op" id="6199141">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199149">b</span><span class="op" id="6199150">[</span><span class="ident" id="6199151">i</span><span class="op" id="6199152">]</span>&nbsp;<span class="op" id="6199154">=</span>&nbsp;<span class="string" id="6199156">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6199164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199170">b</span><span class="op" id="6199171">[</span><span class="ident" id="6199172">w</span><span class="op" id="6199173">]</span>&nbsp;<span class="op" id="6199175">=</span>&nbsp;<span class="ident" id="6199177">b</span><span class="op" id="6199178">[</span><span class="ident" id="6199179">i</span><span class="op" id="6199180">]</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199186">w</span><span class="op" id="6199187">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6199193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199198">ts</span><span class="op" id="6199200">.</span><span class="ident" id="6199201">Name</span>&nbsp;<span class="op" id="6199206">=</span>&nbsp;<span class="builtintype" id="6199208">string</span><span class="op" id="6199214">(</span><span class="ident" id="6199215">s</span><span class="op" id="6199216">.</span><span class="ident" id="6199217">name</span><span class="op" id="6199221">[</span><span class="num" id="6199222">0</span><span class="op" id="6199223">:</span><span class="ident" id="6199224">w</span><span class="op" id="6199225">]</span><span class="op" id="6199226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199230">case</span>&nbsp;<span class="string" id="6199235">&#39;z&#39;</span><span class="op" id="6199238">,</span>&nbsp;<span class="string" id="6199240">&#39;Z&#39;</span><span class="op" id="6199243">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199248">if</span>&nbsp;<span class="ident" id="6199251">lasttyp</span>&nbsp;<span class="op" id="6199259">!=</span>&nbsp;<span class="string" id="6199262">&#39;z&#39;</span>&nbsp;<span class="op" id="6199266">&amp;&amp;</span>&nbsp;<span class="ident" id="6199269">lasttyp</span>&nbsp;<span class="op" id="6199277">!=</span>&nbsp;<span class="string" id="6199280">&#39;Z&#39;</span>&nbsp;<span class="op" id="6199284">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199290">nz</span><span class="op" id="6199292">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6199298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199303">for</span>&nbsp;<span class="ident" id="6199307">i</span>&nbsp;<span class="op" id="6199309">:=</span>&nbsp;<span class="num" id="6199312">0</span><span class="op" id="6199313">;</span>&nbsp;<span class="ident" id="6199315">i</span>&nbsp;<span class="op" id="6199317">&lt;</span>&nbsp;<span class="builtinfunc" id="6199319">len</span><span class="op" id="6199322">(</span><span class="ident" id="6199323">s</span><span class="op" id="6199324">.</span><span class="ident" id="6199325">name</span><span class="op" id="6199329">)</span><span class="op" id="6199330">;</span>&nbsp;<span class="ident" id="6199332">i</span>&nbsp;<span class="op" id="6199334">+=</span>&nbsp;<span class="num" id="6199337">2</span>&nbsp;<span class="op" id="6199339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199345">eltIdx</span>&nbsp;<span class="op" id="6199352">:=</span>&nbsp;<span class="ident" id="6199355">binary</span><span class="op" id="6199361">.</span><span class="ident" id="6199362">BigEndian</span><span class="op" id="6199371">.</span><span class="ident" id="6199372">Uint16</span><span class="op" id="6199378">(</span><span class="ident" id="6199379">s</span><span class="op" id="6199380">.</span><span class="ident" id="6199381">name</span><span class="op" id="6199385">[</span><span class="ident" id="6199386">i</span>&nbsp;<span class="op" id="6199388">:</span>&nbsp;<span class="ident" id="6199390">i</span><span class="op" id="6199391">+</span><span class="num" id="6199392">2</span><span class="op" id="6199393">]</span><span class="op" id="6199394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199400">elt</span><span class="op" id="6199403">,</span>&nbsp;<span class="ident" id="6199405">ok</span>&nbsp;<span class="op" id="6199408">:=</span>&nbsp;<span class="ident" id="6199411">fname</span><span class="op" id="6199416">[</span><span class="ident" id="6199417">eltIdx</span><span class="op" id="6199423">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199429">if</span>&nbsp;<span class="op" id="6199432">!</span><span class="ident" id="6199433">ok</span>&nbsp;<span class="op" id="6199436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199443">return</span>&nbsp;<span class="op" id="6199450">&amp;</span><span class="ident" id="6199451">DecodingError</span><span class="op" id="6199464">{</span><span class="op" id="6199465">-</span><span class="num" id="6199466">1</span><span class="op" id="6199467">,</span>&nbsp;<span class="string" id="6199469">&#34;bad&nbsp;filename&nbsp;code&#34;</span><span class="op" id="6199488">,</span>&nbsp;<span class="ident" id="6199490">eltIdx</span><span class="op" id="6199496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6199502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199508">if</span>&nbsp;<span class="ident" id="6199511">n</span>&nbsp;<span class="op" id="6199513">:=</span>&nbsp;<span class="builtinfunc" id="6199516">len</span><span class="op" id="6199519">(</span><span class="ident" id="6199520">ts</span><span class="op" id="6199522">.</span><span class="ident" id="6199523">Name</span><span class="op" id="6199527">)</span><span class="op" id="6199528">;</span>&nbsp;<span class="ident" id="6199530">n</span>&nbsp;<span class="op" id="6199532">&gt;</span>&nbsp;<span class="num" id="6199534">0</span>&nbsp;<span class="op" id="6199536">&amp;&amp;</span>&nbsp;<span class="ident" id="6199539">ts</span><span class="op" id="6199541">.</span><span class="ident" id="6199542">Name</span><span class="op" id="6199546">[</span><span class="ident" id="6199547">n</span><span class="op" id="6199548">-</span><span class="num" id="6199549">1</span><span class="op" id="6199550">]</span>&nbsp;<span class="op" id="6199552">!=</span>&nbsp;<span class="string" id="6199555">&#39;/&#39;</span>&nbsp;<span class="op" id="6199559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199566">ts</span><span class="op" id="6199568">.</span><span class="ident" id="6199569">Name</span>&nbsp;<span class="op" id="6199574">+=</span>&nbsp;<span class="string" id="6199577">&#34;/&#34;</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6199585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199591">ts</span><span class="op" id="6199593">.</span><span class="ident" id="6199594">Name</span>&nbsp;<span class="op" id="6199599">+=</span>&nbsp;<span class="ident" id="6199602">elt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6199609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6199613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199617">switch</span>&nbsp;<span class="ident" id="6199624">s</span><span class="op" id="6199625">.</span><span class="ident" id="6199626">typ</span>&nbsp;<span class="op" id="6199630">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199634">case</span>&nbsp;<span class="string" id="6199639">&#39;T&#39;</span><span class="op" id="6199642">,</span>&nbsp;<span class="string" id="6199644">&#39;t&#39;</span><span class="op" id="6199647">,</span>&nbsp;<span class="string" id="6199649">&#39;L&#39;</span><span class="op" id="6199652">,</span>&nbsp;<span class="string" id="6199654">&#39;l&#39;</span><span class="op" id="6199657">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199662">nf</span><span class="op" id="6199664">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199669">case</span>&nbsp;<span class="string" id="6199674">&#39;f&#39;</span><span class="op" id="6199677">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199682">fname</span><span class="op" id="6199687">[</span><span class="builtintype" id="6199688">uint16</span><span class="op" id="6199694">(</span><span class="ident" id="6199695">s</span><span class="op" id="6199696">.</span><span class="ident" id="6199697">value</span><span class="op" id="6199702">)</span><span class="op" id="6199703">]</span>&nbsp;<span class="op" id="6199705">=</span>&nbsp;<span class="ident" id="6199707">ts</span><span class="op" id="6199709">.</span><span class="ident" id="6199710">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6199717">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199721">lasttyp</span>&nbsp;<span class="op" id="6199729">=</span>&nbsp;<span class="ident" id="6199731">s</span><span class="op" id="6199732">.</span><span class="ident" id="6199733">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199739">return</span>&nbsp;<span class="ident" id="6199746">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6199751">}</span><span class="op" id="6199752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199755">if</span>&nbsp;<span class="ident" id="6199758">err</span>&nbsp;<span class="op" id="6199762">!=</span>&nbsp;<span class="ident" id="6199765">nil</span>&nbsp;<span class="op" id="6199769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199773">return</span>&nbsp;<span class="ident" id="6199780">nil</span><span class="op" id="6199783">,</span>&nbsp;<span class="ident" id="6199785">err</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6199790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199794">t</span><span class="op" id="6199795">.</span><span class="ident" id="6199796">Funcs</span>&nbsp;<span class="op" id="6199802">=</span>&nbsp;<span class="builtinfunc" id="6199804">make</span><span class="op" id="6199808">(</span><span class="op" id="6199809">[</span><span class="op" id="6199810">]</span><span class="ident" id="6199811">Func</span><span class="op" id="6199815">,</span>&nbsp;<span class="num" id="6199817">0</span><span class="op" id="6199818">,</span>&nbsp;<span class="ident" id="6199820">nf</span><span class="op" id="6199822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199825">t</span><span class="op" id="6199826">.</span><span class="ident" id="6199827">Files</span>&nbsp;<span class="op" id="6199833">=</span>&nbsp;<span class="builtinfunc" id="6199835">make</span><span class="op" id="6199839">(</span><span class="keyword" id="6199840">map</span><span class="op" id="6199843">[</span><span class="builtintype" id="6199844">string</span><span class="op" id="6199850">]</span><span class="op" id="6199851">*</span><span class="ident" id="6199852">Obj</span><span class="op" id="6199855">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199859">var</span>&nbsp;<span class="ident" id="6199863">obj</span>&nbsp;<span class="op" id="6199867">*</span><span class="ident" id="6199868">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6199873">if</span>&nbsp;<span class="ident" id="6199876">t</span><span class="op" id="6199877">.</span><span class="ident" id="6199878">go12line</span>&nbsp;<span class="op" id="6199887">!=</span>&nbsp;<span class="ident" id="6199890">nil</span>&nbsp;<span class="op" id="6199894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6199898">//&nbsp;Put&nbsp;all&nbsp;functions&nbsp;into&nbsp;one&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199935">t</span><span class="op" id="6199936">.</span><span class="ident" id="6199937">Objs</span>&nbsp;<span class="op" id="6199942">=</span>&nbsp;<span class="builtinfunc" id="6199944">make</span><span class="op" id="6199948">(</span><span class="op" id="6199949">[</span><span class="op" id="6199950">]</span><span class="ident" id="6199951">Obj</span><span class="op" id="6199954">,</span>&nbsp;<span class="num" id="6199956">1</span><span class="op" id="6199957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199961">obj</span>&nbsp;<span class="op" id="6199965">=</span>&nbsp;<span class="op" id="6199967">&amp;</span><span class="ident" id="6199968">t</span><span class="op" id="6199969">.</span><span class="ident" id="6199970">Objs</span><span class="op" id="6199974">[</span><span class="num" id="6199975">0</span><span class="op" id="6199976">]</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6199980">t</span><span class="op" id="6199981">.</span><span class="ident" id="6199982">go12line</span><span class="op" id="6199990">.</span><span class="ident" id="6199991">go12MapFiles</span><span class="op" id="6200003">(</span><span class="ident" id="6200004">t</span><span class="op" id="6200005">.</span><span class="ident" id="6200006">Files</span><span class="op" id="6200011">,</span>&nbsp;<span class="ident" id="6200013">obj</span><span class="op" id="6200016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6200019">}</span>&nbsp;<span class="keyword" id="6200021">else</span>&nbsp;<span class="op" id="6200026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200030">t</span><span class="op" id="6200031">.</span><span class="ident" id="6200032">Objs</span>&nbsp;<span class="op" id="6200037">=</span>&nbsp;<span class="builtinfunc" id="6200039">make</span><span class="op" id="6200043">(</span><span class="op" id="6200044">[</span><span class="op" id="6200045">]</span><span class="ident" id="6200046">Obj</span><span class="op" id="6200049">,</span>&nbsp;<span class="num" id="6200051">0</span><span class="op" id="6200052">,</span>&nbsp;<span class="ident" id="6200054">nz</span><span class="op" id="6200056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6200059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6200063">//&nbsp;Count&nbsp;text&nbsp;symbols&nbsp;and&nbsp;attach&nbsp;frame&nbsp;sizes,&nbsp;parameters,&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6200126">//&nbsp;locals&nbsp;to&nbsp;them.&nbsp;&nbsp;Also,&nbsp;find&nbsp;object&nbsp;file&nbsp;boundaries.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200182">lastf</span>&nbsp;<span class="op" id="6200188">:=</span>&nbsp;<span class="num" id="6200191">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200194">for</span>&nbsp;<span class="ident" id="6200198">i</span>&nbsp;<span class="op" id="6200200">:=</span>&nbsp;<span class="num" id="6200203">0</span><span class="op" id="6200204">;</span>&nbsp;<span class="ident" id="6200206">i</span>&nbsp;<span class="op" id="6200208">&lt;</span>&nbsp;<span class="builtinfunc" id="6200210">len</span><span class="op" id="6200213">(</span><span class="ident" id="6200214">t</span><span class="op" id="6200215">.</span><span class="ident" id="6200216">Syms</span><span class="op" id="6200220">)</span><span class="op" id="6200221">;</span>&nbsp;<span class="ident" id="6200223">i</span><span class="op" id="6200224">++</span>&nbsp;<span class="op" id="6200227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200231">sym</span>&nbsp;<span class="op" id="6200235">:=</span>&nbsp;<span class="op" id="6200238">&amp;</span><span class="ident" id="6200239">t</span><span class="op" id="6200240">.</span><span class="ident" id="6200241">Syms</span><span class="op" id="6200245">[</span><span class="ident" id="6200246">i</span><span class="op" id="6200247">]</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200251">switch</span>&nbsp;<span class="ident" id="6200258">sym</span><span class="op" id="6200261">.</span><span class="ident" id="6200262">Type</span>&nbsp;<span class="op" id="6200267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200271">case</span>&nbsp;<span class="string" id="6200276">&#39;Z&#39;</span><span class="op" id="6200279">,</span>&nbsp;<span class="string" id="6200281">&#39;z&#39;</span><span class="op" id="6200284">:</span>&nbsp;<span class="comment" id="6200286">//&nbsp;path&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200304">if</span>&nbsp;<span class="ident" id="6200307">t</span><span class="op" id="6200308">.</span><span class="ident" id="6200309">go12line</span>&nbsp;<span class="op" id="6200318">!=</span>&nbsp;<span class="ident" id="6200321">nil</span>&nbsp;<span class="op" id="6200325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6200331">//&nbsp;Go&nbsp;1.2&nbsp;binaries&nbsp;have&nbsp;the&nbsp;file&nbsp;information&nbsp;elsewhere.&nbsp;Ignore.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200399">break</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6200408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6200413">//&nbsp;Finish&nbsp;the&nbsp;current&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200445">if</span>&nbsp;<span class="ident" id="6200448">obj</span>&nbsp;<span class="op" id="6200452">!=</span>&nbsp;<span class="ident" id="6200455">nil</span>&nbsp;<span class="op" id="6200459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200465">obj</span><span class="op" id="6200468">.</span><span class="ident" id="6200469">Funcs</span>&nbsp;<span class="op" id="6200475">=</span>&nbsp;<span class="ident" id="6200477">t</span><span class="op" id="6200478">.</span><span class="ident" id="6200479">Funcs</span><span class="op" id="6200484">[</span><span class="ident" id="6200485">lastf</span><span class="op" id="6200490">:</span><span class="op" id="6200491">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6200496">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200501">lastf</span>&nbsp;<span class="op" id="6200507">=</span>&nbsp;<span class="builtinfunc" id="6200509">len</span><span class="op" id="6200512">(</span><span class="ident" id="6200513">t</span><span class="op" id="6200514">.</span><span class="ident" id="6200515">Funcs</span><span class="op" id="6200520">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6200526">//&nbsp;Start&nbsp;new&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200549">n</span>&nbsp;<span class="op" id="6200551">:=</span>&nbsp;<span class="builtinfunc" id="6200554">len</span><span class="op" id="6200557">(</span><span class="ident" id="6200558">t</span><span class="op" id="6200559">.</span><span class="ident" id="6200560">Objs</span><span class="op" id="6200564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200569">t</span><span class="op" id="6200570">.</span><span class="ident" id="6200571">Objs</span>&nbsp;<span class="op" id="6200576">=</span>&nbsp;<span class="ident" id="6200578">t</span><span class="op" id="6200579">.</span><span class="ident" id="6200580">Objs</span><span class="op" id="6200584">[</span><span class="num" id="6200585">0</span>&nbsp;<span class="op" id="6200587">:</span>&nbsp;<span class="ident" id="6200589">n</span><span class="op" id="6200590">+</span><span class="num" id="6200591">1</span><span class="op" id="6200592">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200597">obj</span>&nbsp;<span class="op" id="6200601">=</span>&nbsp;<span class="op" id="6200603">&amp;</span><span class="ident" id="6200604">t</span><span class="op" id="6200605">.</span><span class="ident" id="6200606">Objs</span><span class="op" id="6200610">[</span><span class="ident" id="6200611">n</span><span class="op" id="6200612">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6200618">//&nbsp;Count&nbsp;&amp;&nbsp;copy&nbsp;path&nbsp;symbols</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200650">var</span>&nbsp;<span class="ident" id="6200654">end</span>&nbsp;<span class="builtintype" id="6200658">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200665">for</span>&nbsp;<span class="ident" id="6200669">end</span>&nbsp;<span class="op" id="6200673">=</span>&nbsp;<span class="ident" id="6200675">i</span>&nbsp;<span class="op" id="6200677">+</span>&nbsp;<span class="num" id="6200679">1</span><span class="op" id="6200680">;</span>&nbsp;<span class="ident" id="6200682">end</span>&nbsp;<span class="op" id="6200686">&lt;</span>&nbsp;<span class="builtinfunc" id="6200688">len</span><span class="op" id="6200691">(</span><span class="ident" id="6200692">t</span><span class="op" id="6200693">.</span><span class="ident" id="6200694">Syms</span><span class="op" id="6200698">)</span><span class="op" id="6200699">;</span>&nbsp;<span class="ident" id="6200701">end</span><span class="op" id="6200704">++</span>&nbsp;<span class="op" id="6200707">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200713">if</span>&nbsp;<span class="ident" id="6200716">c</span>&nbsp;<span class="op" id="6200718">:=</span>&nbsp;<span class="ident" id="6200721">t</span><span class="op" id="6200722">.</span><span class="ident" id="6200723">Syms</span><span class="op" id="6200727">[</span><span class="ident" id="6200728">end</span><span class="op" id="6200731">]</span><span class="op" id="6200732">.</span><span class="ident" id="6200733">Type</span><span class="op" id="6200737">;</span>&nbsp;<span class="ident" id="6200739">c</span>&nbsp;<span class="op" id="6200741">!=</span>&nbsp;<span class="string" id="6200744">&#39;Z&#39;</span>&nbsp;<span class="op" id="6200748">&amp;&amp;</span>&nbsp;<span class="ident" id="6200751">c</span>&nbsp;<span class="op" id="6200753">!=</span>&nbsp;<span class="string" id="6200756">&#39;z&#39;</span>&nbsp;<span class="op" id="6200760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200767">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6200777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6200782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200787">obj</span><span class="op" id="6200790">.</span><span class="ident" id="6200791">Paths</span>&nbsp;<span class="op" id="6200797">=</span>&nbsp;<span class="ident" id="6200799">t</span><span class="op" id="6200800">.</span><span class="ident" id="6200801">Syms</span><span class="op" id="6200805">[</span><span class="ident" id="6200806">i</span><span class="op" id="6200807">:</span><span class="ident" id="6200808">end</span><span class="op" id="6200811">]</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200816">i</span>&nbsp;<span class="op" id="6200818">=</span>&nbsp;<span class="ident" id="6200820">end</span>&nbsp;<span class="op" id="6200824">-</span>&nbsp;<span class="num" id="6200826">1</span>&nbsp;<span class="comment" id="6200828">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6200849">//&nbsp;Record&nbsp;file&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200873">depth</span>&nbsp;<span class="op" id="6200879">:=</span>&nbsp;<span class="num" id="6200882">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200887">for</span>&nbsp;<span class="ident" id="6200891">j</span>&nbsp;<span class="op" id="6200893">:=</span>&nbsp;<span class="keyword" id="6200896">range</span>&nbsp;<span class="ident" id="6200902">obj</span><span class="op" id="6200905">.</span><span class="ident" id="6200906">Paths</span>&nbsp;<span class="op" id="6200912">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200918">s</span>&nbsp;<span class="op" id="6200920">:=</span>&nbsp;<span class="op" id="6200923">&amp;</span><span class="ident" id="6200924">obj</span><span class="op" id="6200927">.</span><span class="ident" id="6200928">Paths</span><span class="op" id="6200933">[</span><span class="ident" id="6200934">j</span><span class="op" id="6200935">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200941">if</span>&nbsp;<span class="ident" id="6200944">s</span><span class="op" id="6200945">.</span><span class="ident" id="6200946">Name</span>&nbsp;<span class="op" id="6200951">==</span>&nbsp;<span class="string" id="6200954">&#34;&#34;</span>&nbsp;<span class="op" id="6200957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6200964">depth</span><span class="op" id="6200969">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6200976">}</span>&nbsp;<span class="keyword" id="6200978">else</span>&nbsp;<span class="op" id="6200983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6200990">if</span>&nbsp;<span class="ident" id="6200993">depth</span>&nbsp;<span class="op" id="6200999">==</span>&nbsp;<span class="num" id="6201002">0</span>&nbsp;<span class="op" id="6201004">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201012">t</span><span class="op" id="6201013">.</span><span class="ident" id="6201014">Files</span><span class="op" id="6201019">[</span><span class="ident" id="6201020">s</span><span class="op" id="6201021">.</span><span class="ident" id="6201022">Name</span><span class="op" id="6201026">]</span>&nbsp;<span class="op" id="6201028">=</span>&nbsp;<span class="ident" id="6201030">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6201039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201046">depth</span><span class="op" id="6201051">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6201058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6201063">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201068">case</span>&nbsp;<span class="string" id="6201073">&#39;T&#39;</span><span class="op" id="6201076">,</span>&nbsp;<span class="string" id="6201078">&#39;t&#39;</span><span class="op" id="6201081">,</span>&nbsp;<span class="string" id="6201083">&#39;L&#39;</span><span class="op" id="6201086">,</span>&nbsp;<span class="string" id="6201088">&#39;l&#39;</span><span class="op" id="6201091">:</span>&nbsp;<span class="comment" id="6201093">//&nbsp;text&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201111">if</span>&nbsp;<span class="ident" id="6201114">n</span>&nbsp;<span class="op" id="6201116">:=</span>&nbsp;<span class="builtinfunc" id="6201119">len</span><span class="op" id="6201122">(</span><span class="ident" id="6201123">t</span><span class="op" id="6201124">.</span><span class="ident" id="6201125">Funcs</span><span class="op" id="6201130">)</span><span class="op" id="6201131">;</span>&nbsp;<span class="ident" id="6201133">n</span>&nbsp;<span class="op" id="6201135">&gt;</span>&nbsp;<span class="num" id="6201137">0</span>&nbsp;<span class="op" id="6201139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201145">t</span><span class="op" id="6201146">.</span><span class="ident" id="6201147">Funcs</span><span class="op" id="6201152">[</span><span class="ident" id="6201153">n</span><span class="op" id="6201154">-</span><span class="num" id="6201155">1</span><span class="op" id="6201156">]</span><span class="op" id="6201157">.</span><span class="ident" id="6201158">End</span>&nbsp;<span class="op" id="6201162">=</span>&nbsp;<span class="ident" id="6201164">sym</span><span class="op" id="6201167">.</span><span class="ident" id="6201168">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6201177">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201182">if</span>&nbsp;<span class="ident" id="6201185">sym</span><span class="op" id="6201188">.</span><span class="ident" id="6201189">Name</span>&nbsp;<span class="op" id="6201194">==</span>&nbsp;<span class="string" id="6201197">&#34;runtime.etext&#34;</span>&nbsp;<span class="op" id="6201213">||</span>&nbsp;<span class="ident" id="6201216">sym</span><span class="op" id="6201219">.</span><span class="ident" id="6201220">Name</span>&nbsp;<span class="op" id="6201225">==</span>&nbsp;<span class="string" id="6201228">&#34;etext&#34;</span>&nbsp;<span class="op" id="6201236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201242">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6201254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6201260">//&nbsp;Count&nbsp;parameter&nbsp;and&nbsp;local&nbsp;(auto)&nbsp;syms</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201304">var</span>&nbsp;<span class="ident" id="6201308">np</span><span class="op" id="6201310">,</span>&nbsp;<span class="ident" id="6201312">na</span>&nbsp;<span class="builtintype" id="6201315">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201322">var</span>&nbsp;<span class="ident" id="6201326">end</span>&nbsp;<span class="builtintype" id="6201330">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201336">countloop</span><span class="op" id="6201345">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201350">for</span>&nbsp;<span class="ident" id="6201354">end</span>&nbsp;<span class="op" id="6201358">=</span>&nbsp;<span class="ident" id="6201360">i</span>&nbsp;<span class="op" id="6201362">+</span>&nbsp;<span class="num" id="6201364">1</span><span class="op" id="6201365">;</span>&nbsp;<span class="ident" id="6201367">end</span>&nbsp;<span class="op" id="6201371">&lt;</span>&nbsp;<span class="builtinfunc" id="6201373">len</span><span class="op" id="6201376">(</span><span class="ident" id="6201377">t</span><span class="op" id="6201378">.</span><span class="ident" id="6201379">Syms</span><span class="op" id="6201383">)</span><span class="op" id="6201384">;</span>&nbsp;<span class="ident" id="6201386">end</span><span class="op" id="6201389">++</span>&nbsp;<span class="op" id="6201392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201398">switch</span>&nbsp;<span class="ident" id="6201405">t</span><span class="op" id="6201406">.</span><span class="ident" id="6201407">Syms</span><span class="op" id="6201411">[</span><span class="ident" id="6201412">end</span><span class="op" id="6201415">]</span><span class="op" id="6201416">.</span><span class="ident" id="6201417">Type</span>&nbsp;<span class="op" id="6201422">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201428">case</span>&nbsp;<span class="string" id="6201433">&#39;T&#39;</span><span class="op" id="6201436">,</span>&nbsp;<span class="string" id="6201438">&#39;t&#39;</span><span class="op" id="6201441">,</span>&nbsp;<span class="string" id="6201443">&#39;L&#39;</span><span class="op" id="6201446">,</span>&nbsp;<span class="string" id="6201448">&#39;l&#39;</span><span class="op" id="6201451">,</span>&nbsp;<span class="string" id="6201453">&#39;Z&#39;</span><span class="op" id="6201456">,</span>&nbsp;<span class="string" id="6201458">&#39;z&#39;</span><span class="op" id="6201461">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201468">break</span>&nbsp;<span class="ident" id="6201474">countloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201488">case</span>&nbsp;<span class="string" id="6201493">&#39;p&#39;</span><span class="op" id="6201496">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201503">np</span><span class="op" id="6201505">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201512">case</span>&nbsp;<span class="string" id="6201517">&#39;a&#39;</span><span class="op" id="6201520">:</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201527">na</span><span class="op" id="6201529">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6201536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6201541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6201547">//&nbsp;Fill&nbsp;in&nbsp;the&nbsp;function&nbsp;symbol</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201581">n</span>&nbsp;<span class="op" id="6201583">:=</span>&nbsp;<span class="builtinfunc" id="6201586">len</span><span class="op" id="6201589">(</span><span class="ident" id="6201590">t</span><span class="op" id="6201591">.</span><span class="ident" id="6201592">Funcs</span><span class="op" id="6201597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201602">t</span><span class="op" id="6201603">.</span><span class="ident" id="6201604">Funcs</span>&nbsp;<span class="op" id="6201610">=</span>&nbsp;<span class="ident" id="6201612">t</span><span class="op" id="6201613">.</span><span class="ident" id="6201614">Funcs</span><span class="op" id="6201619">[</span><span class="num" id="6201620">0</span>&nbsp;<span class="op" id="6201622">:</span>&nbsp;<span class="ident" id="6201624">n</span><span class="op" id="6201625">+</span><span class="num" id="6201626">1</span><span class="op" id="6201627">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201632">fn</span>&nbsp;<span class="op" id="6201635">:=</span>&nbsp;<span class="op" id="6201638">&amp;</span><span class="ident" id="6201639">t</span><span class="op" id="6201640">.</span><span class="ident" id="6201641">Funcs</span><span class="op" id="6201646">[</span><span class="ident" id="6201647">n</span><span class="op" id="6201648">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201653">sym</span><span class="op" id="6201656">.</span><span class="ident" id="6201657">Func</span>&nbsp;<span class="op" id="6201662">=</span>&nbsp;<span class="ident" id="6201664">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201670">fn</span><span class="op" id="6201672">.</span><span class="ident" id="6201673">Params</span>&nbsp;<span class="op" id="6201680">=</span>&nbsp;<span class="builtinfunc" id="6201682">make</span><span class="op" id="6201686">(</span><span class="op" id="6201687">[</span><span class="op" id="6201688">]</span><span class="op" id="6201689">*</span><span class="ident" id="6201690">Sym</span><span class="op" id="6201693">,</span>&nbsp;<span class="num" id="6201695">0</span><span class="op" id="6201696">,</span>&nbsp;<span class="ident" id="6201698">np</span><span class="op" id="6201700">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201705">fn</span><span class="op" id="6201707">.</span><span class="ident" id="6201708">Locals</span>&nbsp;<span class="op" id="6201715">=</span>&nbsp;<span class="builtinfunc" id="6201717">make</span><span class="op" id="6201721">(</span><span class="op" id="6201722">[</span><span class="op" id="6201723">]</span><span class="op" id="6201724">*</span><span class="ident" id="6201725">Sym</span><span class="op" id="6201728">,</span>&nbsp;<span class="num" id="6201730">0</span><span class="op" id="6201731">,</span>&nbsp;<span class="ident" id="6201733">na</span><span class="op" id="6201735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201740">fn</span><span class="op" id="6201742">.</span><span class="ident" id="6201743">Sym</span>&nbsp;<span class="op" id="6201747">=</span>&nbsp;<span class="ident" id="6201749">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201756">fn</span><span class="op" id="6201758">.</span><span class="ident" id="6201759">Entry</span>&nbsp;<span class="op" id="6201765">=</span>&nbsp;<span class="ident" id="6201767">sym</span><span class="op" id="6201770">.</span><span class="ident" id="6201771">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201780">fn</span><span class="op" id="6201782">.</span><span class="ident" id="6201783">Obj</span>&nbsp;<span class="op" id="6201787">=</span>&nbsp;<span class="ident" id="6201789">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6201796">if</span>&nbsp;<span class="ident" id="6201799">t</span><span class="op" id="6201800">.</span><span class="ident" id="6201801">go12line</span>&nbsp;<span class="op" id="6201810">!=</span>&nbsp;<span class="ident" id="6201813">nil</span>&nbsp;<span class="op" id="6201817">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6201823">//&nbsp;All&nbsp;functions&nbsp;share&nbsp;the&nbsp;same&nbsp;line&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6201871">//&nbsp;It&nbsp;knows&nbsp;how&nbsp;to&nbsp;narrow&nbsp;down&nbsp;to&nbsp;a&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6201920">//&nbsp;function&nbsp;quickly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6201945">fn</span><span class="op" id="6201947">.</span><span class="ident" id="6201948">LineTable</span>&nbsp;<span class="op" id="6201958">=</span>&nbsp;<span class="ident" id="6201960">t</span><span class="op" id="6201961">.</span><span class="ident" id="6201962">go12line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6201974">}</span>&nbsp;<span class="keyword" id="6201976">else</span>&nbsp;<span class="keyword" id="6201981">if</span>&nbsp;<span class="ident" id="6201984">pcln</span>&nbsp;<span class="op" id="6201989">!=</span>&nbsp;<span class="ident" id="6201992">nil</span>&nbsp;<span class="op" id="6201996">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202002">fn</span><span class="op" id="6202004">.</span><span class="ident" id="6202005">LineTable</span>&nbsp;<span class="op" id="6202015">=</span>&nbsp;<span class="ident" id="6202017">pcln</span><span class="op" id="6202021">.</span><span class="ident" id="6202022">slice</span><span class="op" id="6202027">(</span><span class="ident" id="6202028">fn</span><span class="op" id="6202030">.</span><span class="ident" id="6202031">Entry</span><span class="op" id="6202036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202042">pcln</span>&nbsp;<span class="op" id="6202047">=</span>&nbsp;<span class="ident" id="6202049">fn</span><span class="op" id="6202051">.</span><span class="ident" id="6202052">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6202065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202070">for</span>&nbsp;<span class="ident" id="6202074">j</span>&nbsp;<span class="op" id="6202076">:=</span>&nbsp;<span class="ident" id="6202079">i</span><span class="op" id="6202080">;</span>&nbsp;<span class="ident" id="6202082">j</span>&nbsp;<span class="op" id="6202084">&lt;</span>&nbsp;<span class="ident" id="6202086">end</span><span class="op" id="6202089">;</span>&nbsp;<span class="ident" id="6202091">j</span><span class="op" id="6202092">++</span>&nbsp;<span class="op" id="6202095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202101">s</span>&nbsp;<span class="op" id="6202103">:=</span>&nbsp;<span class="op" id="6202106">&amp;</span><span class="ident" id="6202107">t</span><span class="op" id="6202108">.</span><span class="ident" id="6202109">Syms</span><span class="op" id="6202113">[</span><span class="ident" id="6202114">j</span><span class="op" id="6202115">]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202121">switch</span>&nbsp;<span class="ident" id="6202128">s</span><span class="op" id="6202129">.</span><span class="ident" id="6202130">Type</span>&nbsp;<span class="op" id="6202135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202141">case</span>&nbsp;<span class="string" id="6202146">&#39;m&#39;</span><span class="op" id="6202149">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202156">fn</span><span class="op" id="6202158">.</span><span class="ident" id="6202159">FrameSize</span>&nbsp;<span class="op" id="6202169">=</span>&nbsp;<span class="builtintype" id="6202171">int</span><span class="op" id="6202174">(</span><span class="ident" id="6202175">s</span><span class="op" id="6202176">.</span><span class="ident" id="6202177">Value</span><span class="op" id="6202182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202188">case</span>&nbsp;<span class="string" id="6202193">&#39;p&#39;</span><span class="op" id="6202196">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202203">n</span>&nbsp;<span class="op" id="6202205">:=</span>&nbsp;<span class="builtinfunc" id="6202208">len</span><span class="op" id="6202211">(</span><span class="ident" id="6202212">fn</span><span class="op" id="6202214">.</span><span class="ident" id="6202215">Params</span><span class="op" id="6202221">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202228">fn</span><span class="op" id="6202230">.</span><span class="ident" id="6202231">Params</span>&nbsp;<span class="op" id="6202238">=</span>&nbsp;<span class="ident" id="6202240">fn</span><span class="op" id="6202242">.</span><span class="ident" id="6202243">Params</span><span class="op" id="6202249">[</span><span class="num" id="6202250">0</span>&nbsp;<span class="op" id="6202252">:</span>&nbsp;<span class="ident" id="6202254">n</span><span class="op" id="6202255">+</span><span class="num" id="6202256">1</span><span class="op" id="6202257">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202264">fn</span><span class="op" id="6202266">.</span><span class="ident" id="6202267">Params</span><span class="op" id="6202273">[</span><span class="ident" id="6202274">n</span><span class="op" id="6202275">]</span>&nbsp;<span class="op" id="6202277">=</span>&nbsp;<span class="ident" id="6202279">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202285">case</span>&nbsp;<span class="string" id="6202290">&#39;a&#39;</span><span class="op" id="6202293">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202300">n</span>&nbsp;<span class="op" id="6202302">:=</span>&nbsp;<span class="builtinfunc" id="6202305">len</span><span class="op" id="6202308">(</span><span class="ident" id="6202309">fn</span><span class="op" id="6202311">.</span><span class="ident" id="6202312">Locals</span><span class="op" id="6202318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202325">fn</span><span class="op" id="6202327">.</span><span class="ident" id="6202328">Locals</span>&nbsp;<span class="op" id="6202335">=</span>&nbsp;<span class="ident" id="6202337">fn</span><span class="op" id="6202339">.</span><span class="ident" id="6202340">Locals</span><span class="op" id="6202346">[</span><span class="num" id="6202347">0</span>&nbsp;<span class="op" id="6202349">:</span>&nbsp;<span class="ident" id="6202351">n</span><span class="op" id="6202352">+</span><span class="num" id="6202353">1</span><span class="op" id="6202354">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202361">fn</span><span class="op" id="6202363">.</span><span class="ident" id="6202364">Locals</span><span class="op" id="6202370">[</span><span class="ident" id="6202371">n</span><span class="op" id="6202372">]</span>&nbsp;<span class="op" id="6202374">=</span>&nbsp;<span class="ident" id="6202376">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6202382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6202387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202392">i</span>&nbsp;<span class="op" id="6202394">=</span>&nbsp;<span class="ident" id="6202396">end</span>&nbsp;<span class="op" id="6202400">-</span>&nbsp;<span class="num" id="6202402">1</span>&nbsp;<span class="comment" id="6202404">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6202423">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6202426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202430">if</span>&nbsp;<span class="ident" id="6202433">t</span><span class="op" id="6202434">.</span><span class="ident" id="6202435">go12line</span>&nbsp;<span class="op" id="6202444">!=</span>&nbsp;<span class="ident" id="6202447">nil</span>&nbsp;<span class="op" id="6202451">&amp;&amp;</span>&nbsp;<span class="ident" id="6202454">nf</span>&nbsp;<span class="op" id="6202457">==</span>&nbsp;<span class="num" id="6202460">0</span>&nbsp;<span class="op" id="6202462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202466">t</span><span class="op" id="6202467">.</span><span class="ident" id="6202468">Funcs</span>&nbsp;<span class="op" id="6202474">=</span>&nbsp;<span class="ident" id="6202476">t</span><span class="op" id="6202477">.</span><span class="ident" id="6202478">go12line</span><span class="op" id="6202486">.</span><span class="ident" id="6202487">go12Funcs</span><span class="op" id="6202496">(</span><span class="op" id="6202497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6202500">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202503">if</span>&nbsp;<span class="ident" id="6202506">obj</span>&nbsp;<span class="op" id="6202510">!=</span>&nbsp;<span class="ident" id="6202513">nil</span>&nbsp;<span class="op" id="6202517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202521">obj</span><span class="op" id="6202524">.</span><span class="ident" id="6202525">Funcs</span>&nbsp;<span class="op" id="6202531">=</span>&nbsp;<span class="ident" id="6202533">t</span><span class="op" id="6202534">.</span><span class="ident" id="6202535">Funcs</span><span class="op" id="6202540">[</span><span class="ident" id="6202541">lastf</span><span class="op" id="6202546">:</span><span class="op" id="6202547">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6202550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202553">return</span>&nbsp;<span class="op" id="6202560">&amp;</span><span class="ident" id="6202561">t</span><span class="op" id="6202562">,</span>&nbsp;<span class="ident" id="6202564">nil</span><br>
<span class="lineno"></span><span class="op" id="6202568">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="6202571">//&nbsp;PCToFunc&nbsp;returns&nbsp;the&nbsp;function&nbsp;containing&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc,</span><br>
<span class="lineno"></span><span class="comment" id="6202639">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="6202679">func</span>&nbsp;<span class="op" id="6202684">(</span><span class="ident" id="6202685">t</span>&nbsp;<span class="op" id="6202687">*</span><span class="ident" id="6202688">Table</span><span class="op" id="6202693">)</span>&nbsp;<span class="ident" id="6202695">PCToFunc</span><span class="op" id="6202703">(</span><span class="ident" id="6202704">pc</span>&nbsp;<span class="ident" id="6202707">uint64</span><span class="op" id="6202713">)</span>&nbsp;<span class="op" id="6202715">*</span><span class="ident" id="6202716">Func</span>&nbsp;<span class="op" id="6202721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202724">funcs</span>&nbsp;<span class="op" id="6202730">:=</span>&nbsp;<span class="ident" id="6202733">t</span><span class="op" id="6202734">.</span><span class="ident" id="6202735">Funcs</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202742">for</span>&nbsp;<span class="builtinfunc" id="6202746">len</span><span class="op" id="6202749">(</span><span class="ident" id="6202750">funcs</span><span class="op" id="6202755">)</span>&nbsp;<span class="op" id="6202757">&gt;</span>&nbsp;<span class="num" id="6202759">0</span>&nbsp;<span class="op" id="6202761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202765">m</span>&nbsp;<span class="op" id="6202767">:=</span>&nbsp;<span class="builtinfunc" id="6202770">len</span><span class="op" id="6202773">(</span><span class="ident" id="6202774">funcs</span><span class="op" id="6202779">)</span>&nbsp;<span class="op" id="6202781">/</span>&nbsp;<span class="num" id="6202783">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202787">fn</span>&nbsp;<span class="op" id="6202790">:=</span>&nbsp;<span class="op" id="6202793">&amp;</span><span class="ident" id="6202794">funcs</span><span class="op" id="6202799">[</span><span class="ident" id="6202800">m</span><span class="op" id="6202801">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202805">switch</span>&nbsp;<span class="op" id="6202812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202816">case</span>&nbsp;<span class="ident" id="6202821">pc</span>&nbsp;<span class="op" id="6202824">&lt;</span>&nbsp;<span class="ident" id="6202826">fn</span><span class="op" id="6202828">.</span><span class="ident" id="6202829">Entry</span><span class="op" id="6202834">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202839">funcs</span>&nbsp;<span class="op" id="6202845">=</span>&nbsp;<span class="ident" id="6202847">funcs</span><span class="op" id="6202852">[</span><span class="num" id="6202853">0</span><span class="op" id="6202854">:</span><span class="ident" id="6202855">m</span><span class="op" id="6202856">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202860">case</span>&nbsp;<span class="ident" id="6202865">fn</span><span class="op" id="6202867">.</span><span class="ident" id="6202868">Entry</span>&nbsp;<span class="op" id="6202874">&lt;=</span>&nbsp;<span class="ident" id="6202877">pc</span>&nbsp;<span class="op" id="6202880">&amp;&amp;</span>&nbsp;<span class="ident" id="6202883">pc</span>&nbsp;<span class="op" id="6202886">&lt;</span>&nbsp;<span class="ident" id="6202888">fn</span><span class="op" id="6202890">.</span><span class="ident" id="6202891">End</span><span class="op" id="6202894">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202899">return</span>&nbsp;<span class="ident" id="6202906">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202911">default</span><span class="op" id="6202918">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6202923">funcs</span>&nbsp;<span class="op" id="6202929">=</span>&nbsp;<span class="ident" id="6202931">funcs</span><span class="op" id="6202936">[</span><span class="ident" id="6202937">m</span><span class="op" id="6202938">+</span><span class="num" id="6202939">1</span><span class="op" id="6202940">:</span><span class="op" id="6202941">]</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6202945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6202948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6202951">return</span>&nbsp;<span class="ident" id="6202958">nil</span><br>
<span class="lineno"></span><span class="op" id="6202962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="6202965">//&nbsp;PCToLine&nbsp;looks&nbsp;up&nbsp;line&nbsp;number&nbsp;information&nbsp;for&nbsp;a&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span><span class="comment" id="6203033">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;information,&nbsp;it&nbsp;returns&nbsp;fn&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="6203086">func</span>&nbsp;<span class="op" id="6203091">(</span><span class="ident" id="6203092">t</span>&nbsp;<span class="op" id="6203094">*</span><span class="ident" id="6203095">Table</span><span class="op" id="6203100">)</span>&nbsp;<span class="ident" id="6203102">PCToLine</span><span class="op" id="6203110">(</span><span class="ident" id="6203111">pc</span>&nbsp;<span class="ident" id="6203114">uint64</span><span class="op" id="6203120">)</span>&nbsp;<span class="op" id="6203122">(</span><span class="ident" id="6203123">file</span>&nbsp;<span class="builtintype" id="6203128">string</span><span class="op" id="6203134">,</span>&nbsp;<span class="ident" id="6203136">line</span>&nbsp;<span class="builtintype" id="6203141">int</span><span class="op" id="6203144">,</span>&nbsp;<span class="ident" id="6203146">fn</span>&nbsp;<span class="op" id="6203149">*</span><span class="ident" id="6203150">Func</span><span class="op" id="6203154">)</span>&nbsp;<span class="op" id="6203156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203159">if</span>&nbsp;<span class="ident" id="6203162">fn</span>&nbsp;<span class="op" id="6203165">=</span>&nbsp;<span class="ident" id="6203167">t</span><span class="op" id="6203168">.</span><span class="ident" id="6203169">PCToFunc</span><span class="op" id="6203177">(</span><span class="ident" id="6203178">pc</span><span class="op" id="6203180">)</span><span class="op" id="6203181">;</span>&nbsp;<span class="ident" id="6203183">fn</span>&nbsp;<span class="op" id="6203186">==</span>&nbsp;<span class="ident" id="6203189">nil</span>&nbsp;<span class="op" id="6203193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203197">return</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6203205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203208">if</span>&nbsp;<span class="ident" id="6203211">t</span><span class="op" id="6203212">.</span><span class="ident" id="6203213">go12line</span>&nbsp;<span class="op" id="6203222">!=</span>&nbsp;<span class="ident" id="6203225">nil</span>&nbsp;<span class="op" id="6203229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6203233">file</span>&nbsp;<span class="op" id="6203238">=</span>&nbsp;<span class="ident" id="6203240">t</span><span class="op" id="6203241">.</span><span class="ident" id="6203242">go12line</span><span class="op" id="6203250">.</span><span class="ident" id="6203251">go12PCToFile</span><span class="op" id="6203263">(</span><span class="ident" id="6203264">pc</span><span class="op" id="6203266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6203270">line</span>&nbsp;<span class="op" id="6203275">=</span>&nbsp;<span class="ident" id="6203277">t</span><span class="op" id="6203278">.</span><span class="ident" id="6203279">go12line</span><span class="op" id="6203287">.</span><span class="ident" id="6203288">go12PCToLine</span><span class="op" id="6203300">(</span><span class="ident" id="6203301">pc</span><span class="op" id="6203303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6203306">}</span>&nbsp;<span class="keyword" id="6203308">else</span>&nbsp;<span class="op" id="6203313">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6203317">file</span><span class="op" id="6203321">,</span>&nbsp;<span class="ident" id="6203323">line</span>&nbsp;<span class="op" id="6203328">=</span>&nbsp;<span class="ident" id="6203330">fn</span><span class="op" id="6203332">.</span><span class="ident" id="6203333">Obj</span><span class="op" id="6203336">.</span><span class="ident" id="6203337">lineFromAline</span><span class="op" id="6203350">(</span><span class="ident" id="6203351">fn</span><span class="op" id="6203353">.</span><span class="ident" id="6203354">LineTable</span><span class="op" id="6203363">.</span><span class="ident" id="6203364">PCToLine</span><span class="op" id="6203372">(</span><span class="ident" id="6203373">pc</span><span class="op" id="6203375">)</span><span class="op" id="6203376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6203379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203382">return</span><br>
<span class="lineno"></span><span class="op" id="6203389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="comment" id="6203392">//&nbsp;LineToPC&nbsp;looks&nbsp;up&nbsp;the&nbsp;first&nbsp;program&nbsp;counter&nbsp;on&nbsp;the&nbsp;given&nbsp;line&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6203460">//&nbsp;the&nbsp;named&nbsp;file.&nbsp;&nbsp;It&nbsp;returns&nbsp;UnknownPathError&nbsp;or&nbsp;UnknownLineError&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="6203531">//&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;looking&nbsp;up&nbsp;this&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="6203574">func</span>&nbsp;<span class="op" id="6203579">(</span><span class="ident" id="6203580">t</span>&nbsp;<span class="op" id="6203582">*</span><span class="ident" id="6203583">Table</span><span class="op" id="6203588">)</span>&nbsp;<span class="ident" id="6203590">LineToPC</span><span class="op" id="6203598">(</span><span class="ident" id="6203599">file</span>&nbsp;<span class="builtintype" id="6203604">string</span><span class="op" id="6203610">,</span>&nbsp;<span class="ident" id="6203612">line</span>&nbsp;<span class="builtintype" id="6203617">int</span><span class="op" id="6203620">)</span>&nbsp;<span class="op" id="6203622">(</span><span class="ident" id="6203623">pc</span>&nbsp;<span class="ident" id="6203626">uint64</span><span class="op" id="6203632">,</span>&nbsp;<span class="ident" id="6203634">fn</span>&nbsp;<span class="op" id="6203637">*</span><span class="ident" id="6203638">Func</span><span class="op" id="6203642">,</span>&nbsp;<span class="ident" id="6203644">err</span>&nbsp;<span class="builtintype" id="6203648">error</span><span class="op" id="6203653">)</span>&nbsp;<span class="op" id="6203655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6203658">obj</span><span class="op" id="6203661">,</span>&nbsp;<span class="ident" id="6203663">ok</span>&nbsp;<span class="op" id="6203666">:=</span>&nbsp;<span class="ident" id="6203669">t</span><span class="op" id="6203670">.</span><span class="ident" id="6203671">Files</span><span class="op" id="6203676">[</span><span class="ident" id="6203677">file</span><span class="op" id="6203681">]</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203684">if</span>&nbsp;<span class="op" id="6203687">!</span><span class="ident" id="6203688">ok</span>&nbsp;<span class="op" id="6203691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203695">return</span>&nbsp;<span class="num" id="6203702">0</span><span class="op" id="6203703">,</span>&nbsp;<span class="ident" id="6203705">nil</span><span class="op" id="6203708">,</span>&nbsp;<span class="ident" id="6203710">UnknownFileError</span><span class="op" id="6203726">(</span><span class="ident" id="6203727">file</span><span class="op" id="6203731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6203734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203738">if</span>&nbsp;<span class="ident" id="6203741">t</span><span class="op" id="6203742">.</span><span class="ident" id="6203743">go12line</span>&nbsp;<span class="op" id="6203752">!=</span>&nbsp;<span class="ident" id="6203755">nil</span>&nbsp;<span class="op" id="6203759">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6203763">pc</span>&nbsp;<span class="op" id="6203766">:=</span>&nbsp;<span class="ident" id="6203769">t</span><span class="op" id="6203770">.</span><span class="ident" id="6203771">go12line</span><span class="op" id="6203779">.</span><span class="ident" id="6203780">go12LineToPC</span><span class="op" id="6203792">(</span><span class="ident" id="6203793">file</span><span class="op" id="6203797">,</span>&nbsp;<span class="ident" id="6203799">line</span><span class="op" id="6203803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203807">if</span>&nbsp;<span class="ident" id="6203810">pc</span>&nbsp;<span class="op" id="6203813">==</span>&nbsp;<span class="num" id="6203816">0</span>&nbsp;<span class="op" id="6203818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203823">return</span>&nbsp;<span class="num" id="6203830">0</span><span class="op" id="6203831">,</span>&nbsp;<span class="ident" id="6203833">nil</span><span class="op" id="6203836">,</span>&nbsp;<span class="op" id="6203838">&amp;</span><span class="ident" id="6203839">UnknownLineError</span><span class="op" id="6203855">{</span><span class="ident" id="6203856">file</span><span class="op" id="6203860">,</span>&nbsp;<span class="ident" id="6203862">line</span><span class="op" id="6203866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6203870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203874">return</span>&nbsp;<span class="ident" id="6203881">pc</span><span class="op" id="6203883">,</span>&nbsp;<span class="ident" id="6203885">t</span><span class="op" id="6203886">.</span><span class="ident" id="6203887">PCToFunc</span><span class="op" id="6203895">(</span><span class="ident" id="6203896">pc</span><span class="op" id="6203898">)</span><span class="op" id="6203899">,</span>&nbsp;<span class="ident" id="6203901">nil</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6203906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6203910">abs</span><span class="op" id="6203913">,</span>&nbsp;<span class="ident" id="6203915">err</span>&nbsp;<span class="op" id="6203919">:=</span>&nbsp;<span class="ident" id="6203922">obj</span><span class="op" id="6203925">.</span><span class="ident" id="6203926">alineFromLine</span><span class="op" id="6203939">(</span><span class="ident" id="6203940">file</span><span class="op" id="6203944">,</span>&nbsp;<span class="ident" id="6203946">line</span><span class="op" id="6203950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203953">if</span>&nbsp;<span class="ident" id="6203956">err</span>&nbsp;<span class="op" id="6203960">!=</span>&nbsp;<span class="ident" id="6203963">nil</span>&nbsp;<span class="op" id="6203967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203971">return</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6203979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6203982">for</span>&nbsp;<span class="ident" id="6203986">i</span>&nbsp;<span class="op" id="6203988">:=</span>&nbsp;<span class="keyword" id="6203991">range</span>&nbsp;<span class="ident" id="6203997">obj</span><span class="op" id="6204000">.</span><span class="ident" id="6204001">Funcs</span>&nbsp;<span class="op" id="6204007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6204011">f</span>&nbsp;<span class="op" id="6204013">:=</span>&nbsp;<span class="op" id="6204016">&amp;</span><span class="ident" id="6204017">obj</span><span class="op" id="6204020">.</span><span class="ident" id="6204021">Funcs</span><span class="op" id="6204026">[</span><span class="ident" id="6204027">i</span><span class="op" id="6204028">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6204032">pc</span>&nbsp;<span class="op" id="6204035">:=</span>&nbsp;<span class="ident" id="6204038">f</span><span class="op" id="6204039">.</span><span class="ident" id="6204040">LineTable</span><span class="op" id="6204049">.</span><span class="ident" id="6204050">LineToPC</span><span class="op" id="6204058">(</span><span class="ident" id="6204059">abs</span><span class="op" id="6204062">,</span>&nbsp;<span class="ident" id="6204064">f</span><span class="op" id="6204065">.</span><span class="ident" id="6204066">End</span><span class="op" id="6204069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204073">if</span>&nbsp;<span class="ident" id="6204076">pc</span>&nbsp;<span class="op" id="6204079">!=</span>&nbsp;<span class="num" id="6204082">0</span>&nbsp;<span class="op" id="6204084">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204089">return</span>&nbsp;<span class="ident" id="6204096">pc</span><span class="op" id="6204098">,</span>&nbsp;<span class="ident" id="6204100">f</span><span class="op" id="6204101">,</span>&nbsp;<span class="ident" id="6204103">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6204109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6204112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204115">return</span>&nbsp;<span class="num" id="6204122">0</span><span class="op" id="6204123">,</span>&nbsp;<span class="ident" id="6204125">nil</span><span class="op" id="6204128">,</span>&nbsp;<span class="op" id="6204130">&amp;</span><span class="ident" id="6204131">UnknownLineError</span><span class="op" id="6204147">{</span><span class="ident" id="6204148">file</span><span class="op" id="6204152">,</span>&nbsp;<span class="ident" id="6204154">line</span><span class="op" id="6204158">}</span><br>
<span class="lineno"></span><span class="op" id="6204160">}</span><br>
<span class="lineno">535</span><br>
<span class="lineno"></span><span class="comment" id="6204163">//&nbsp;LookupSym&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6204235">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6204273">func</span>&nbsp;<span class="op" id="6204278">(</span><span class="ident" id="6204279">t</span>&nbsp;<span class="op" id="6204281">*</span><span class="ident" id="6204282">Table</span><span class="op" id="6204287">)</span>&nbsp;<span class="ident" id="6204289">LookupSym</span><span class="op" id="6204298">(</span><span class="ident" id="6204299">name</span>&nbsp;<span class="builtintype" id="6204304">string</span><span class="op" id="6204310">)</span>&nbsp;<span class="op" id="6204312">*</span><span class="ident" id="6204313">Sym</span>&nbsp;<span class="op" id="6204317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6204320">//&nbsp;TODO(austin)&nbsp;Maybe&nbsp;make&nbsp;a&nbsp;map</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204354">for</span>&nbsp;<span class="ident" id="6204358">i</span>&nbsp;<span class="op" id="6204360">:=</span>&nbsp;<span class="keyword" id="6204363">range</span>&nbsp;<span class="ident" id="6204369">t</span><span class="op" id="6204370">.</span><span class="ident" id="6204371">Syms</span>&nbsp;<span class="op" id="6204376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6204380">s</span>&nbsp;<span class="op" id="6204382">:=</span>&nbsp;<span class="op" id="6204385">&amp;</span><span class="ident" id="6204386">t</span><span class="op" id="6204387">.</span><span class="ident" id="6204388">Syms</span><span class="op" id="6204392">[</span><span class="ident" id="6204393">i</span><span class="op" id="6204394">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204398">switch</span>&nbsp;<span class="ident" id="6204405">s</span><span class="op" id="6204406">.</span><span class="ident" id="6204407">Type</span>&nbsp;<span class="op" id="6204412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204416">case</span>&nbsp;<span class="string" id="6204421">&#39;T&#39;</span><span class="op" id="6204424">,</span>&nbsp;<span class="string" id="6204426">&#39;t&#39;</span><span class="op" id="6204429">,</span>&nbsp;<span class="string" id="6204431">&#39;L&#39;</span><span class="op" id="6204434">,</span>&nbsp;<span class="string" id="6204436">&#39;l&#39;</span><span class="op" id="6204439">,</span>&nbsp;<span class="string" id="6204441">&#39;D&#39;</span><span class="op" id="6204444">,</span>&nbsp;<span class="string" id="6204446">&#39;d&#39;</span><span class="op" id="6204449">,</span>&nbsp;<span class="string" id="6204451">&#39;B&#39;</span><span class="op" id="6204454">,</span>&nbsp;<span class="string" id="6204456">&#39;b&#39;</span><span class="op" id="6204459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204464">if</span>&nbsp;<span class="ident" id="6204467">s</span><span class="op" id="6204468">.</span><span class="ident" id="6204469">Name</span>&nbsp;<span class="op" id="6204474">==</span>&nbsp;<span class="ident" id="6204477">name</span>&nbsp;<span class="op" id="6204482">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204488">return</span>&nbsp;<span class="ident" id="6204495">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6204500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6204504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6204507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204510">return</span>&nbsp;<span class="ident" id="6204517">nil</span><br>
<span class="lineno">550</span><span class="op" id="6204521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6204524">//&nbsp;LookupFunc&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6204597">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6204635">func</span>&nbsp;<span class="op" id="6204640">(</span><span class="ident" id="6204641">t</span>&nbsp;<span class="op" id="6204643">*</span><span class="ident" id="6204644">Table</span><span class="op" id="6204649">)</span>&nbsp;<span class="ident" id="6204651">LookupFunc</span><span class="op" id="6204661">(</span><span class="ident" id="6204662">name</span>&nbsp;<span class="builtintype" id="6204667">string</span><span class="op" id="6204673">)</span>&nbsp;<span class="op" id="6204675">*</span><span class="ident" id="6204676">Func</span>&nbsp;<span class="op" id="6204681">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204684">for</span>&nbsp;<span class="ident" id="6204688">i</span>&nbsp;<span class="op" id="6204690">:=</span>&nbsp;<span class="keyword" id="6204693">range</span>&nbsp;<span class="ident" id="6204699">t</span><span class="op" id="6204700">.</span><span class="ident" id="6204701">Funcs</span>&nbsp;<span class="op" id="6204707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6204711">f</span>&nbsp;<span class="op" id="6204713">:=</span>&nbsp;<span class="op" id="6204716">&amp;</span><span class="ident" id="6204717">t</span><span class="op" id="6204718">.</span><span class="ident" id="6204719">Funcs</span><span class="op" id="6204724">[</span><span class="ident" id="6204725">i</span><span class="op" id="6204726">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204730">if</span>&nbsp;<span class="ident" id="6204733">f</span><span class="op" id="6204734">.</span><span class="ident" id="6204735">Sym</span><span class="op" id="6204738">.</span><span class="ident" id="6204739">Name</span>&nbsp;<span class="op" id="6204744">==</span>&nbsp;<span class="ident" id="6204747">name</span>&nbsp;<span class="op" id="6204752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204757">return</span>&nbsp;<span class="ident" id="6204764">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6204768">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6204771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204774">return</span>&nbsp;<span class="ident" id="6204781">nil</span><br>
<span class="lineno"></span><span class="op" id="6204785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6204788">//&nbsp;SymByAddr&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;starting&nbsp;at&nbsp;the&nbsp;given&nbsp;address.</span><br>
<span class="lineno">565</span><span class="keyword" id="6204870">func</span>&nbsp;<span class="op" id="6204875">(</span><span class="ident" id="6204876">t</span>&nbsp;<span class="op" id="6204878">*</span><span class="ident" id="6204879">Table</span><span class="op" id="6204884">)</span>&nbsp;<span class="ident" id="6204886">SymByAddr</span><span class="op" id="6204895">(</span><span class="ident" id="6204896">addr</span>&nbsp;<span class="ident" id="6204901">uint64</span><span class="op" id="6204907">)</span>&nbsp;<span class="op" id="6204909">*</span><span class="ident" id="6204910">Sym</span>&nbsp;<span class="op" id="6204914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204917">for</span>&nbsp;<span class="ident" id="6204921">i</span>&nbsp;<span class="op" id="6204923">:=</span>&nbsp;<span class="keyword" id="6204926">range</span>&nbsp;<span class="ident" id="6204932">t</span><span class="op" id="6204933">.</span><span class="ident" id="6204934">Syms</span>&nbsp;<span class="op" id="6204939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6204943">s</span>&nbsp;<span class="op" id="6204945">:=</span>&nbsp;<span class="op" id="6204948">&amp;</span><span class="ident" id="6204949">t</span><span class="op" id="6204950">.</span><span class="ident" id="6204951">Syms</span><span class="op" id="6204955">[</span><span class="ident" id="6204956">i</span><span class="op" id="6204957">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204961">switch</span>&nbsp;<span class="ident" id="6204968">s</span><span class="op" id="6204969">.</span><span class="ident" id="6204970">Type</span>&nbsp;<span class="op" id="6204975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6204979">case</span>&nbsp;<span class="string" id="6204984">&#39;T&#39;</span><span class="op" id="6204987">,</span>&nbsp;<span class="string" id="6204989">&#39;t&#39;</span><span class="op" id="6204992">,</span>&nbsp;<span class="string" id="6204994">&#39;L&#39;</span><span class="op" id="6204997">,</span>&nbsp;<span class="string" id="6204999">&#39;l&#39;</span><span class="op" id="6205002">,</span>&nbsp;<span class="string" id="6205004">&#39;D&#39;</span><span class="op" id="6205007">,</span>&nbsp;<span class="string" id="6205009">&#39;d&#39;</span><span class="op" id="6205012">,</span>&nbsp;<span class="string" id="6205014">&#39;B&#39;</span><span class="op" id="6205017">,</span>&nbsp;<span class="string" id="6205019">&#39;b&#39;</span><span class="op" id="6205022">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205027">if</span>&nbsp;<span class="ident" id="6205030">s</span><span class="op" id="6205031">.</span><span class="ident" id="6205032">Value</span>&nbsp;<span class="op" id="6205038">==</span>&nbsp;<span class="ident" id="6205041">addr</span>&nbsp;<span class="op" id="6205046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205052">return</span>&nbsp;<span class="ident" id="6205059">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6205064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6205068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6205071">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205074">return</span>&nbsp;<span class="ident" id="6205081">nil</span><br>
<span class="lineno"></span><span class="op" id="6205085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6205088">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Object&nbsp;files<br>
<span class="lineno">580</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6205112">//&nbsp;This&nbsp;is&nbsp;legacy&nbsp;code&nbsp;for&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;which&nbsp;used&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6205174">//&nbsp;Plan&nbsp;9&nbsp;format&nbsp;for&nbsp;pc-line&nbsp;tables.&nbsp;This&nbsp;code&nbsp;was&nbsp;never&nbsp;quite</span><br>
<span class="lineno"></span><span class="comment" id="6205237">//&nbsp;correct.&nbsp;It&#39;s&nbsp;probably&nbsp;very&nbsp;close,&nbsp;and&nbsp;it&#39;s&nbsp;usually&nbsp;correct,&nbsp;but</span><br>
<span class="lineno">585</span><span class="comment" id="6205305">//&nbsp;we&nbsp;never&nbsp;quite&nbsp;found&nbsp;all&nbsp;the&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="6205351">//</span><br>
<span class="lineno"></span><span class="comment" id="6205354">//&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;use&nbsp;a&nbsp;simpler&nbsp;format,&nbsp;documented&nbsp;at&nbsp;golang.org/s/go12symtab.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6205436">func</span>&nbsp;<span class="op" id="6205441">(</span><span class="ident" id="6205442">o</span>&nbsp;<span class="op" id="6205444">*</span><span class="ident" id="6205445">Obj</span><span class="op" id="6205448">)</span>&nbsp;<span class="ident" id="6205450">lineFromAline</span><span class="op" id="6205463">(</span><span class="ident" id="6205464">aline</span>&nbsp;<span class="builtintype" id="6205470">int</span><span class="op" id="6205473">)</span>&nbsp;<span class="op" id="6205475">(</span><span class="builtintype" id="6205476">string</span><span class="op" id="6205482">,</span>&nbsp;<span class="builtintype" id="6205484">int</span><span class="op" id="6205487">)</span>&nbsp;<span class="op" id="6205489">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205492">type</span>&nbsp;<span class="ident" id="6205497">stackEnt</span>&nbsp;<span class="keyword" id="6205506">struct</span>&nbsp;<span class="op" id="6205513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6205517">path</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6205524">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6205533">start</span>&nbsp;&nbsp;<span class="builtintype" id="6205540">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6205546">offset</span>&nbsp;<span class="builtintype" id="6205553">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6205559">prev</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6205566">*</span><span class="ident" id="6205567">stackEnt</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6205577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6205581">noPath</span>&nbsp;<span class="op" id="6205588">:=</span>&nbsp;<span class="op" id="6205591">&amp;</span><span class="ident" id="6205592">stackEnt</span><span class="op" id="6205600">{</span><span class="string" id="6205601">&#34;&#34;</span><span class="op" id="6205603">,</span>&nbsp;<span class="num" id="6205605">0</span><span class="op" id="6205606">,</span>&nbsp;<span class="num" id="6205608">0</span><span class="op" id="6205609">,</span>&nbsp;<span class="ident" id="6205611">nil</span><span class="op" id="6205614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6205617">tos</span>&nbsp;<span class="op" id="6205621">:=</span>&nbsp;<span class="ident" id="6205624">noPath</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="ident" id="6205632">pathloop</span><span class="op" id="6205640">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205643">for</span>&nbsp;<span class="ident" id="6205647">_</span><span class="op" id="6205648">,</span>&nbsp;<span class="ident" id="6205650">s</span>&nbsp;<span class="op" id="6205652">:=</span>&nbsp;<span class="keyword" id="6205655">range</span>&nbsp;<span class="ident" id="6205661">o</span><span class="op" id="6205662">.</span><span class="ident" id="6205663">Paths</span>&nbsp;<span class="op" id="6205669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6205673">val</span>&nbsp;<span class="op" id="6205677">:=</span>&nbsp;<span class="builtintype" id="6205680">int</span><span class="op" id="6205683">(</span><span class="ident" id="6205684">s</span><span class="op" id="6205685">.</span><span class="ident" id="6205686">Value</span><span class="op" id="6205691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205695">switch</span>&nbsp;<span class="op" id="6205702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205706">case</span>&nbsp;<span class="ident" id="6205711">val</span>&nbsp;<span class="op" id="6205715">&gt;</span>&nbsp;<span class="ident" id="6205717">aline</span><span class="op" id="6205722">:</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205727">break</span>&nbsp;<span class="ident" id="6205733">pathloop</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205745">case</span>&nbsp;<span class="ident" id="6205750">val</span>&nbsp;<span class="op" id="6205754">==</span>&nbsp;<span class="num" id="6205757">1</span><span class="op" id="6205758">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6205763">//&nbsp;Start&nbsp;a&nbsp;new&nbsp;stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6205787">tos</span>&nbsp;<span class="op" id="6205791">=</span>&nbsp;<span class="op" id="6205793">&amp;</span><span class="ident" id="6205794">stackEnt</span><span class="op" id="6205802">{</span><span class="ident" id="6205803">s</span><span class="op" id="6205804">.</span><span class="ident" id="6205805">Name</span><span class="op" id="6205809">,</span>&nbsp;<span class="ident" id="6205811">val</span><span class="op" id="6205814">,</span>&nbsp;<span class="num" id="6205816">0</span><span class="op" id="6205817">,</span>&nbsp;<span class="ident" id="6205819">noPath</span><span class="op" id="6205825">}</span><br>
<span class="lineno">610</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205830">case</span>&nbsp;<span class="ident" id="6205835">s</span><span class="op" id="6205836">.</span><span class="ident" id="6205837">Name</span>&nbsp;<span class="op" id="6205842">==</span>&nbsp;<span class="string" id="6205845">&#34;&#34;</span><span class="op" id="6205847">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6205852">//&nbsp;Pop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205862">if</span>&nbsp;<span class="ident" id="6205865">tos</span>&nbsp;<span class="op" id="6205869">==</span>&nbsp;<span class="ident" id="6205872">noPath</span>&nbsp;<span class="op" id="6205879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205885">return</span>&nbsp;<span class="string" id="6205892">&#34;&lt;malformed&nbsp;symbol&nbsp;table&gt;&#34;</span><span class="op" id="6205918">,</span>&nbsp;<span class="num" id="6205920">0</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6205925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6205930">tos</span><span class="op" id="6205933">.</span><span class="ident" id="6205934">prev</span><span class="op" id="6205938">.</span><span class="ident" id="6205939">offset</span>&nbsp;<span class="op" id="6205946">+=</span>&nbsp;<span class="ident" id="6205949">val</span>&nbsp;<span class="op" id="6205953">-</span>&nbsp;<span class="ident" id="6205955">tos</span><span class="op" id="6205958">.</span><span class="ident" id="6205959">start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6205968">tos</span>&nbsp;<span class="op" id="6205972">=</span>&nbsp;<span class="ident" id="6205974">tos</span><span class="op" id="6205977">.</span><span class="ident" id="6205978">prev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6205986">default</span><span class="op" id="6205993">:</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6205998">//&nbsp;Push</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6206009">tos</span>&nbsp;<span class="op" id="6206013">=</span>&nbsp;<span class="op" id="6206015">&amp;</span><span class="ident" id="6206016">stackEnt</span><span class="op" id="6206024">{</span><span class="ident" id="6206025">s</span><span class="op" id="6206026">.</span><span class="ident" id="6206027">Name</span><span class="op" id="6206031">,</span>&nbsp;<span class="ident" id="6206033">val</span><span class="op" id="6206036">,</span>&nbsp;<span class="num" id="6206038">0</span><span class="op" id="6206039">,</span>&nbsp;<span class="ident" id="6206041">tos</span><span class="op" id="6206044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206051">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206055">if</span>&nbsp;<span class="ident" id="6206058">tos</span>&nbsp;<span class="op" id="6206062">==</span>&nbsp;<span class="ident" id="6206065">noPath</span>&nbsp;<span class="op" id="6206072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206076">return</span>&nbsp;<span class="string" id="6206083">&#34;&#34;</span><span class="op" id="6206085">,</span>&nbsp;<span class="num" id="6206087">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206093">return</span>&nbsp;<span class="ident" id="6206100">tos</span><span class="op" id="6206103">.</span><span class="ident" id="6206104">path</span><span class="op" id="6206108">,</span>&nbsp;<span class="ident" id="6206110">aline</span>&nbsp;<span class="op" id="6206116">-</span>&nbsp;<span class="ident" id="6206118">tos</span><span class="op" id="6206121">.</span><span class="ident" id="6206122">start</span>&nbsp;<span class="op" id="6206128">-</span>&nbsp;<span class="ident" id="6206130">tos</span><span class="op" id="6206133">.</span><span class="ident" id="6206134">offset</span>&nbsp;<span class="op" id="6206141">+</span>&nbsp;<span class="num" id="6206143">1</span><br>
<span class="lineno"></span><span class="op" id="6206145">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="6206148">func</span>&nbsp;<span class="op" id="6206153">(</span><span class="ident" id="6206154">o</span>&nbsp;<span class="op" id="6206156">*</span><span class="ident" id="6206157">Obj</span><span class="op" id="6206160">)</span>&nbsp;<span class="ident" id="6206162">alineFromLine</span><span class="op" id="6206175">(</span><span class="ident" id="6206176">path</span>&nbsp;<span class="builtintype" id="6206181">string</span><span class="op" id="6206187">,</span>&nbsp;<span class="ident" id="6206189">line</span>&nbsp;<span class="builtintype" id="6206194">int</span><span class="op" id="6206197">)</span>&nbsp;<span class="op" id="6206199">(</span><span class="builtintype" id="6206200">int</span><span class="op" id="6206203">,</span>&nbsp;<span class="builtintype" id="6206205">error</span><span class="op" id="6206210">)</span>&nbsp;<span class="op" id="6206212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206215">if</span>&nbsp;<span class="ident" id="6206218">line</span>&nbsp;<span class="op" id="6206223">&lt;</span>&nbsp;<span class="num" id="6206225">1</span>&nbsp;<span class="op" id="6206227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206231">return</span>&nbsp;<span class="num" id="6206238">0</span><span class="op" id="6206239">,</span>&nbsp;<span class="op" id="6206241">&amp;</span><span class="ident" id="6206242">UnknownLineError</span><span class="op" id="6206258">{</span><span class="ident" id="6206259">path</span><span class="op" id="6206263">,</span>&nbsp;<span class="ident" id="6206265">line</span><span class="op" id="6206269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206272">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206276">for</span>&nbsp;<span class="ident" id="6206280">i</span><span class="op" id="6206281">,</span>&nbsp;<span class="ident" id="6206283">s</span>&nbsp;<span class="op" id="6206285">:=</span>&nbsp;<span class="keyword" id="6206288">range</span>&nbsp;<span class="ident" id="6206294">o</span><span class="op" id="6206295">.</span><span class="ident" id="6206296">Paths</span>&nbsp;<span class="op" id="6206302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6206306">//&nbsp;Find&nbsp;this&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206326">if</span>&nbsp;<span class="ident" id="6206329">s</span><span class="op" id="6206330">.</span><span class="ident" id="6206331">Name</span>&nbsp;<span class="op" id="6206336">!=</span>&nbsp;<span class="ident" id="6206339">path</span>&nbsp;<span class="op" id="6206344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206349">continue</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6206365">//&nbsp;Find&nbsp;this&nbsp;line&nbsp;at&nbsp;this&nbsp;stack&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6206405">depth</span>&nbsp;<span class="op" id="6206411">:=</span>&nbsp;<span class="num" id="6206414">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206418">var</span>&nbsp;<span class="ident" id="6206422">incstart</span>&nbsp;<span class="builtintype" id="6206431">int</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6206437">line</span>&nbsp;<span class="op" id="6206442">+=</span>&nbsp;<span class="builtintype" id="6206445">int</span><span class="op" id="6206448">(</span><span class="ident" id="6206449">s</span><span class="op" id="6206450">.</span><span class="ident" id="6206451">Value</span><span class="op" id="6206456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6206459">pathloop</span><span class="op" id="6206467">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206471">for</span>&nbsp;<span class="ident" id="6206475">_</span><span class="op" id="6206476">,</span>&nbsp;<span class="ident" id="6206478">s</span>&nbsp;<span class="op" id="6206480">:=</span>&nbsp;<span class="keyword" id="6206483">range</span>&nbsp;<span class="ident" id="6206489">o</span><span class="op" id="6206490">.</span><span class="ident" id="6206491">Paths</span><span class="op" id="6206496">[</span><span class="ident" id="6206497">i</span><span class="op" id="6206498">:</span><span class="op" id="6206499">]</span>&nbsp;<span class="op" id="6206501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6206506">val</span>&nbsp;<span class="op" id="6206510">:=</span>&nbsp;<span class="builtintype" id="6206513">int</span><span class="op" id="6206516">(</span><span class="ident" id="6206517">s</span><span class="op" id="6206518">.</span><span class="ident" id="6206519">Value</span><span class="op" id="6206524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206529">switch</span>&nbsp;<span class="op" id="6206536">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206541">case</span>&nbsp;<span class="ident" id="6206546">depth</span>&nbsp;<span class="op" id="6206552">==</span>&nbsp;<span class="num" id="6206555">1</span>&nbsp;<span class="op" id="6206557">&amp;&amp;</span>&nbsp;<span class="ident" id="6206560">val</span>&nbsp;<span class="op" id="6206564">&gt;=</span>&nbsp;<span class="ident" id="6206567">line</span><span class="op" id="6206571">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206577">return</span>&nbsp;<span class="ident" id="6206584">line</span>&nbsp;<span class="op" id="6206589">-</span>&nbsp;<span class="num" id="6206591">1</span><span class="op" id="6206592">,</span>&nbsp;<span class="ident" id="6206594">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206602">case</span>&nbsp;<span class="ident" id="6206607">s</span><span class="op" id="6206608">.</span><span class="ident" id="6206609">Name</span>&nbsp;<span class="op" id="6206614">==</span>&nbsp;<span class="string" id="6206617">&#34;&#34;</span><span class="op" id="6206619">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6206625">depth</span><span class="op" id="6206630">--</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206637">if</span>&nbsp;<span class="ident" id="6206640">depth</span>&nbsp;<span class="op" id="6206646">==</span>&nbsp;<span class="num" id="6206649">0</span>&nbsp;<span class="op" id="6206651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206658">break</span>&nbsp;<span class="ident" id="6206664">pathloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206677">}</span>&nbsp;<span class="keyword" id="6206679">else</span>&nbsp;<span class="keyword" id="6206684">if</span>&nbsp;<span class="ident" id="6206687">depth</span>&nbsp;<span class="op" id="6206693">==</span>&nbsp;<span class="num" id="6206696">1</span>&nbsp;<span class="op" id="6206698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6206705">line</span>&nbsp;<span class="op" id="6206710">+=</span>&nbsp;<span class="ident" id="6206713">val</span>&nbsp;<span class="op" id="6206717">-</span>&nbsp;<span class="ident" id="6206719">incstart</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206732">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206738">default</span><span class="op" id="6206745">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206751">if</span>&nbsp;<span class="ident" id="6206754">depth</span>&nbsp;<span class="op" id="6206760">==</span>&nbsp;<span class="num" id="6206763">1</span>&nbsp;<span class="op" id="6206765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6206772">incstart</span>&nbsp;<span class="op" id="6206781">=</span>&nbsp;<span class="ident" id="6206783">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206791">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6206797">depth</span><span class="op" id="6206802">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206816">return</span>&nbsp;<span class="num" id="6206823">0</span><span class="op" id="6206824">,</span>&nbsp;<span class="op" id="6206826">&amp;</span><span class="ident" id="6206827">UnknownLineError</span><span class="op" id="6206843">{</span><span class="ident" id="6206844">path</span><span class="op" id="6206848">,</span>&nbsp;<span class="ident" id="6206850">line</span><span class="op" id="6206854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6206857">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6206860">return</span>&nbsp;<span class="num" id="6206867">0</span><span class="op" id="6206868">,</span>&nbsp;<span class="ident" id="6206870">UnknownFileError</span><span class="op" id="6206886">(</span><span class="ident" id="6206887">path</span><span class="op" id="6206891">)</span><br>
<span class="lineno"></span><span class="op" id="6206893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6206896">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Errors<br>
<span class="lineno">675</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6206914">//&nbsp;UnknownFileError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;find&nbsp;the&nbsp;specific&nbsp;file&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6206984">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="6207005">type</span>&nbsp;<span class="ident" id="6207010">UnknownFileError</span>&nbsp;<span class="builtintype" id="6207027">string</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="6207035">func</span>&nbsp;<span class="op" id="6207040">(</span><span class="ident" id="6207041">e</span>&nbsp;<span class="ident" id="6207043">UnknownFileError</span><span class="op" id="6207059">)</span>&nbsp;<span class="ident" id="6207061">Error</span><span class="op" id="6207066">(</span><span class="op" id="6207067">)</span>&nbsp;<span class="builtintype" id="6207069">string</span>&nbsp;<span class="op" id="6207076">{</span>&nbsp;<span class="keyword" id="6207078">return</span>&nbsp;<span class="string" id="6207085">&#34;unknown&nbsp;file:&nbsp;&#34;</span>&nbsp;<span class="op" id="6207102">+</span>&nbsp;<span class="builtintype" id="6207104">string</span><span class="op" id="6207110">(</span><span class="ident" id="6207111">e</span><span class="op" id="6207112">)</span>&nbsp;<span class="op" id="6207114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6207117">//&nbsp;UnknownLineError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;map&nbsp;a&nbsp;line&nbsp;to&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="6207185">//&nbsp;counter,&nbsp;either&nbsp;because&nbsp;the&nbsp;line&nbsp;is&nbsp;beyond&nbsp;the&nbsp;bounds&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno">685</span><span class="comment" id="6207254">//&nbsp;or&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;code&nbsp;on&nbsp;the&nbsp;given&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="6207304">type</span>&nbsp;<span class="ident" id="6207309">UnknownLineError</span>&nbsp;<span class="keyword" id="6207326">struct</span>&nbsp;<span class="op" id="6207333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6207336">File</span>&nbsp;<span class="builtintype" id="6207341">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6207349">Line</span>&nbsp;<span class="builtintype" id="6207354">int</span><br>
<span class="lineno"></span><span class="op" id="6207358">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span><span class="keyword" id="6207361">func</span>&nbsp;<span class="op" id="6207366">(</span><span class="ident" id="6207367">e</span>&nbsp;<span class="op" id="6207369">*</span><span class="ident" id="6207370">UnknownLineError</span><span class="op" id="6207386">)</span>&nbsp;<span class="ident" id="6207388">Error</span><span class="op" id="6207393">(</span><span class="op" id="6207394">)</span>&nbsp;<span class="builtintype" id="6207396">string</span>&nbsp;<span class="op" id="6207403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6207406">return</span>&nbsp;<span class="string" id="6207413">&#34;no&nbsp;code&nbsp;at&nbsp;&#34;</span>&nbsp;<span class="op" id="6207427">+</span>&nbsp;<span class="ident" id="6207429">e</span><span class="op" id="6207430">.</span><span class="ident" id="6207431">File</span>&nbsp;<span class="op" id="6207436">+</span>&nbsp;<span class="string" id="6207438">&#34;:&#34;</span>&nbsp;<span class="op" id="6207442">+</span>&nbsp;<span class="ident" id="6207444">strconv</span><span class="op" id="6207451">.</span><span class="ident" id="6207452">Itoa</span><span class="op" id="6207456">(</span><span class="ident" id="6207457">e</span><span class="op" id="6207458">.</span><span class="ident" id="6207459">Line</span><span class="op" id="6207463">)</span><br>
<span class="lineno"></span><span class="op" id="6207465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span><span class="comment" id="6207468">//&nbsp;DecodingError&nbsp;represents&nbsp;an&nbsp;error&nbsp;during&nbsp;the&nbsp;decoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="6207528">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="6207549">type</span>&nbsp;<span class="ident" id="6207554">DecodingError</span>&nbsp;<span class="keyword" id="6207568">struct</span>&nbsp;<span class="op" id="6207575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6207578">off</span>&nbsp;<span class="builtintype" id="6207582">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6207587">msg</span>&nbsp;<span class="builtintype" id="6207591">string</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6207599">val</span>&nbsp;<span class="keyword" id="6207603">interface</span><span class="op" id="6207612">{</span><span class="op" id="6207613">}</span><br>
<span class="lineno"></span><span class="op" id="6207615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6207618">func</span>&nbsp;<span class="op" id="6207623">(</span><span class="ident" id="6207624">e</span>&nbsp;<span class="op" id="6207626">*</span><span class="ident" id="6207627">DecodingError</span><span class="op" id="6207640">)</span>&nbsp;<span class="ident" id="6207642">Error</span><span class="op" id="6207647">(</span><span class="op" id="6207648">)</span>&nbsp;<span class="builtintype" id="6207650">string</span>&nbsp;<span class="op" id="6207657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6207660">msg</span>&nbsp;<span class="op" id="6207664">:=</span>&nbsp;<span class="ident" id="6207667">e</span><span class="op" id="6207668">.</span><span class="ident" id="6207669">msg</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6207674">if</span>&nbsp;<span class="ident" id="6207677">e</span><span class="op" id="6207678">.</span><span class="ident" id="6207679">val</span>&nbsp;<span class="op" id="6207683">!=</span>&nbsp;<span class="ident" id="6207686">nil</span>&nbsp;<span class="op" id="6207690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6207694">msg</span>&nbsp;<span class="op" id="6207698">+=</span>&nbsp;<span class="ident" id="6207701">fmt</span><span class="op" id="6207704">.</span><span class="ident" id="6207705">Sprintf</span><span class="op" id="6207712">(</span><span class="string" id="6207713">&#34;&nbsp;&#39;%v&#39;&#34;</span><span class="op" id="6207720">,</span>&nbsp;<span class="ident" id="6207722">e</span><span class="op" id="6207723">.</span><span class="ident" id="6207724">val</span><span class="op" id="6207727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6207730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6207733">msg</span>&nbsp;<span class="op" id="6207737">+=</span>&nbsp;<span class="ident" id="6207740">fmt</span><span class="op" id="6207743">.</span><span class="ident" id="6207744">Sprintf</span><span class="op" id="6207751">(</span><span class="string" id="6207752">&#34;&nbsp;at&nbsp;byte&nbsp;%#x&#34;</span><span class="op" id="6207766">,</span>&nbsp;<span class="ident" id="6207768">e</span><span class="op" id="6207769">.</span><span class="ident" id="6207770">off</span><span class="op" id="6207773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6207776">return</span>&nbsp;<span class="ident" id="6207783">msg</span><br>
<span class="lineno">710</span><span class="op" id="6207787">}</span>
</div>
</body>
</html>
