<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8349010">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8349065">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8349119">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8349170">package</span>&nbsp;<span class="ident" id="8349178">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8349184">import</span>&nbsp;<span class="op" id="8349191">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8349194">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8349204">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8349207">var</span>&nbsp;<span class="ident" id="8349211">ParseRangeTests</span>&nbsp;<span class="op" id="8349227">=</span>&nbsp;<span class="op" id="8349229">[</span><span class="op" id="8349230">]</span><span class="keyword" id="8349231">struct</span>&nbsp;<span class="op" id="8349238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8349241">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8349248">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8349256">length</span>&nbsp;<span class="ident" id="8349263">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8349270">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349277">[</span><span class="op" id="8349278">]</span><span class="ident" id="8349279">httpRange</span><br>
<span class="lineno">15</span><span class="op" id="8349289">}</span><span class="op" id="8349290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349293">{</span><span class="string" id="8349294">&#34;&#34;</span><span class="op" id="8349296">,</span>&nbsp;<span class="num" id="8349298">0</span><span class="op" id="8349299">,</span>&nbsp;<span class="ident" id="8349301">nil</span><span class="op" id="8349304">}</span><span class="op" id="8349305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349308">{</span><span class="string" id="8349309">&#34;&#34;</span><span class="op" id="8349311">,</span>&nbsp;<span class="num" id="8349313">1000</span><span class="op" id="8349317">,</span>&nbsp;<span class="ident" id="8349319">nil</span><span class="op" id="8349322">}</span><span class="op" id="8349323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349326">{</span><span class="string" id="8349327">&#34;foo&#34;</span><span class="op" id="8349332">,</span>&nbsp;<span class="num" id="8349334">0</span><span class="op" id="8349335">,</span>&nbsp;<span class="ident" id="8349337">nil</span><span class="op" id="8349340">}</span><span class="op" id="8349341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349344">{</span><span class="string" id="8349345">&#34;bytes=&#34;</span><span class="op" id="8349353">,</span>&nbsp;<span class="num" id="8349355">0</span><span class="op" id="8349356">,</span>&nbsp;<span class="ident" id="8349358">nil</span><span class="op" id="8349361">}</span><span class="op" id="8349362">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349365">{</span><span class="string" id="8349366">&#34;bytes=7&#34;</span><span class="op" id="8349375">,</span>&nbsp;<span class="num" id="8349377">10</span><span class="op" id="8349379">,</span>&nbsp;<span class="ident" id="8349381">nil</span><span class="op" id="8349384">}</span><span class="op" id="8349385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349388">{</span><span class="string" id="8349389">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="8349400">,</span>&nbsp;<span class="num" id="8349402">10</span><span class="op" id="8349404">,</span>&nbsp;<span class="ident" id="8349406">nil</span><span class="op" id="8349409">}</span><span class="op" id="8349410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349413">{</span><span class="string" id="8349414">&#34;bytes=1-&#34;</span><span class="op" id="8349424">,</span>&nbsp;<span class="num" id="8349426">0</span><span class="op" id="8349427">,</span>&nbsp;<span class="ident" id="8349429">nil</span><span class="op" id="8349432">}</span><span class="op" id="8349433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349436">{</span><span class="string" id="8349437">&#34;bytes=5-4&#34;</span><span class="op" id="8349448">,</span>&nbsp;<span class="num" id="8349450">10</span><span class="op" id="8349452">,</span>&nbsp;<span class="ident" id="8349454">nil</span><span class="op" id="8349457">}</span><span class="op" id="8349458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349461">{</span><span class="string" id="8349462">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="8349477">,</span>&nbsp;<span class="num" id="8349479">10</span><span class="op" id="8349481">,</span>&nbsp;<span class="ident" id="8349483">nil</span><span class="op" id="8349486">}</span><span class="op" id="8349487">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349490">{</span><span class="string" id="8349491">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="8349506">,</span>&nbsp;<span class="num" id="8349508">10</span><span class="op" id="8349510">,</span>&nbsp;<span class="ident" id="8349512">nil</span><span class="op" id="8349515">}</span><span class="op" id="8349516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349519">{</span><span class="string" id="8349520">&#34;bytes=--5,4--3&#34;</span><span class="op" id="8349536">,</span>&nbsp;<span class="num" id="8349538">10</span><span class="op" id="8349540">,</span>&nbsp;<span class="ident" id="8349542">nil</span><span class="op" id="8349545">}</span><span class="op" id="8349546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349549">{</span><span class="string" id="8349550">&#34;bytes=A-&#34;</span><span class="op" id="8349560">,</span>&nbsp;<span class="num" id="8349562">10</span><span class="op" id="8349564">,</span>&nbsp;<span class="ident" id="8349566">nil</span><span class="op" id="8349569">}</span><span class="op" id="8349570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349573">{</span><span class="string" id="8349574">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="8349585">,</span>&nbsp;<span class="num" id="8349587">10</span><span class="op" id="8349589">,</span>&nbsp;<span class="ident" id="8349591">nil</span><span class="op" id="8349594">}</span><span class="op" id="8349595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349598">{</span><span class="string" id="8349599">&#34;bytes=A-Z&#34;</span><span class="op" id="8349610">,</span>&nbsp;<span class="num" id="8349612">10</span><span class="op" id="8349614">,</span>&nbsp;<span class="ident" id="8349616">nil</span><span class="op" id="8349619">}</span><span class="op" id="8349620">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349623">{</span><span class="string" id="8349624">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="8349635">,</span>&nbsp;<span class="num" id="8349637">10</span><span class="op" id="8349639">,</span>&nbsp;<span class="ident" id="8349641">nil</span><span class="op" id="8349644">}</span><span class="op" id="8349645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349648">{</span><span class="string" id="8349649">&#34;bytes=5-Z&#34;</span><span class="op" id="8349660">,</span>&nbsp;<span class="num" id="8349662">10</span><span class="op" id="8349664">,</span>&nbsp;<span class="ident" id="8349666">nil</span><span class="op" id="8349669">}</span><span class="op" id="8349670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349673">{</span><span class="string" id="8349674">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="8349698">,</span>&nbsp;<span class="num" id="8349700">10</span><span class="op" id="8349702">,</span>&nbsp;<span class="ident" id="8349704">nil</span><span class="op" id="8349707">}</span><span class="op" id="8349708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349711">{</span><span class="string" id="8349712">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="8349729">,</span>&nbsp;<span class="num" id="8349731">10</span><span class="op" id="8349733">,</span>&nbsp;<span class="ident" id="8349735">nil</span><span class="op" id="8349738">}</span><span class="op" id="8349739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349742">{</span><span class="string" id="8349743">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8349760">,</span>&nbsp;<span class="num" id="8349762">10</span><span class="op" id="8349764">,</span>&nbsp;<span class="ident" id="8349766">nil</span><span class="op" id="8349769">}</span><span class="op" id="8349770">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349773">{</span><span class="string" id="8349774">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8349791">,</span>&nbsp;<span class="num" id="8349793">10</span><span class="op" id="8349795">,</span>&nbsp;<span class="ident" id="8349797">nil</span><span class="op" id="8349800">}</span><span class="op" id="8349801">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349805">{</span><span class="string" id="8349806">&#34;bytes=0-9&#34;</span><span class="op" id="8349817">,</span>&nbsp;<span class="num" id="8349819">10</span><span class="op" id="8349821">,</span>&nbsp;<span class="op" id="8349823">[</span><span class="op" id="8349824">]</span><span class="ident" id="8349825">httpRange</span><span class="op" id="8349834">{</span><span class="op" id="8349835">{</span><span class="num" id="8349836">0</span><span class="op" id="8349837">,</span>&nbsp;<span class="num" id="8349839">10</span><span class="op" id="8349841">}</span><span class="op" id="8349842">}</span><span class="op" id="8349843">}</span><span class="op" id="8349844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349847">{</span><span class="string" id="8349848">&#34;bytes=0-&#34;</span><span class="op" id="8349858">,</span>&nbsp;<span class="num" id="8349860">10</span><span class="op" id="8349862">,</span>&nbsp;<span class="op" id="8349864">[</span><span class="op" id="8349865">]</span><span class="ident" id="8349866">httpRange</span><span class="op" id="8349875">{</span><span class="op" id="8349876">{</span><span class="num" id="8349877">0</span><span class="op" id="8349878">,</span>&nbsp;<span class="num" id="8349880">10</span><span class="op" id="8349882">}</span><span class="op" id="8349883">}</span><span class="op" id="8349884">}</span><span class="op" id="8349885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349888">{</span><span class="string" id="8349889">&#34;bytes=5-&#34;</span><span class="op" id="8349899">,</span>&nbsp;<span class="num" id="8349901">10</span><span class="op" id="8349903">,</span>&nbsp;<span class="op" id="8349905">[</span><span class="op" id="8349906">]</span><span class="ident" id="8349907">httpRange</span><span class="op" id="8349916">{</span><span class="op" id="8349917">{</span><span class="num" id="8349918">5</span><span class="op" id="8349919">,</span>&nbsp;<span class="num" id="8349921">5</span><span class="op" id="8349922">}</span><span class="op" id="8349923">}</span><span class="op" id="8349924">}</span><span class="op" id="8349925">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349928">{</span><span class="string" id="8349929">&#34;bytes=0-20&#34;</span><span class="op" id="8349941">,</span>&nbsp;<span class="num" id="8349943">10</span><span class="op" id="8349945">,</span>&nbsp;<span class="op" id="8349947">[</span><span class="op" id="8349948">]</span><span class="ident" id="8349949">httpRange</span><span class="op" id="8349958">{</span><span class="op" id="8349959">{</span><span class="num" id="8349960">0</span><span class="op" id="8349961">,</span>&nbsp;<span class="num" id="8349963">10</span><span class="op" id="8349965">}</span><span class="op" id="8349966">}</span><span class="op" id="8349967">}</span><span class="op" id="8349968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8349971">{</span><span class="string" id="8349972">&#34;bytes=15-,0-5&#34;</span><span class="op" id="8349987">,</span>&nbsp;<span class="num" id="8349989">10</span><span class="op" id="8349991">,</span>&nbsp;<span class="ident" id="8349993">nil</span><span class="op" id="8349996">}</span><span class="op" id="8349997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350000">{</span><span class="string" id="8350001">&#34;bytes=1-2,5-&#34;</span><span class="op" id="8350015">,</span>&nbsp;<span class="num" id="8350017">10</span><span class="op" id="8350019">,</span>&nbsp;<span class="op" id="8350021">[</span><span class="op" id="8350022">]</span><span class="ident" id="8350023">httpRange</span><span class="op" id="8350032">{</span><span class="op" id="8350033">{</span><span class="num" id="8350034">1</span><span class="op" id="8350035">,</span>&nbsp;<span class="num" id="8350037">2</span><span class="op" id="8350038">}</span><span class="op" id="8350039">,</span>&nbsp;<span class="op" id="8350041">{</span><span class="num" id="8350042">5</span><span class="op" id="8350043">,</span>&nbsp;<span class="num" id="8350045">5</span><span class="op" id="8350046">}</span><span class="op" id="8350047">}</span><span class="op" id="8350048">}</span><span class="op" id="8350049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350052">{</span><span class="string" id="8350053">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="8350068">,</span>&nbsp;<span class="num" id="8350070">11</span><span class="op" id="8350072">,</span>&nbsp;<span class="op" id="8350074">[</span><span class="op" id="8350075">]</span><span class="ident" id="8350076">httpRange</span><span class="op" id="8350085">{</span><span class="op" id="8350086">{</span><span class="num" id="8350087">9</span><span class="op" id="8350088">,</span>&nbsp;<span class="num" id="8350090">2</span><span class="op" id="8350091">}</span><span class="op" id="8350092">,</span>&nbsp;<span class="op" id="8350094">{</span><span class="num" id="8350095">7</span><span class="op" id="8350096">,</span>&nbsp;<span class="num" id="8350098">4</span><span class="op" id="8350099">}</span><span class="op" id="8350100">}</span><span class="op" id="8350101">}</span><span class="op" id="8350102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350105">{</span><span class="string" id="8350106">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="8350126">,</span>&nbsp;<span class="num" id="8350128">11</span><span class="op" id="8350130">,</span>&nbsp;<span class="op" id="8350132">[</span><span class="op" id="8350133">]</span><span class="ident" id="8350134">httpRange</span><span class="op" id="8350143">{</span><span class="op" id="8350144">{</span><span class="num" id="8350145">0</span><span class="op" id="8350146">,</span>&nbsp;<span class="num" id="8350148">1</span><span class="op" id="8350149">}</span><span class="op" id="8350150">,</span>&nbsp;<span class="op" id="8350152">{</span><span class="num" id="8350153">2</span><span class="op" id="8350154">,</span>&nbsp;<span class="num" id="8350156">1</span><span class="op" id="8350157">}</span><span class="op" id="8350158">,</span>&nbsp;<span class="op" id="8350160">{</span><span class="num" id="8350161">7</span><span class="op" id="8350162">,</span>&nbsp;<span class="num" id="8350164">4</span><span class="op" id="8350165">}</span><span class="op" id="8350166">}</span><span class="op" id="8350167">}</span><span class="op" id="8350168">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350171">{</span><span class="string" id="8350172">&#34;bytes=-5&#34;</span><span class="op" id="8350182">,</span>&nbsp;<span class="num" id="8350184">10</span><span class="op" id="8350186">,</span>&nbsp;<span class="op" id="8350188">[</span><span class="op" id="8350189">]</span><span class="ident" id="8350190">httpRange</span><span class="op" id="8350199">{</span><span class="op" id="8350200">{</span><span class="num" id="8350201">5</span><span class="op" id="8350202">,</span>&nbsp;<span class="num" id="8350204">5</span><span class="op" id="8350205">}</span><span class="op" id="8350206">}</span><span class="op" id="8350207">}</span><span class="op" id="8350208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350211">{</span><span class="string" id="8350212">&#34;bytes=-15&#34;</span><span class="op" id="8350223">,</span>&nbsp;<span class="num" id="8350225">10</span><span class="op" id="8350227">,</span>&nbsp;<span class="op" id="8350229">[</span><span class="op" id="8350230">]</span><span class="ident" id="8350231">httpRange</span><span class="op" id="8350240">{</span><span class="op" id="8350241">{</span><span class="num" id="8350242">0</span><span class="op" id="8350243">,</span>&nbsp;<span class="num" id="8350245">10</span><span class="op" id="8350247">}</span><span class="op" id="8350248">}</span><span class="op" id="8350249">}</span><span class="op" id="8350250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350253">{</span><span class="string" id="8350254">&#34;bytes=0-499&#34;</span><span class="op" id="8350267">,</span>&nbsp;<span class="num" id="8350269">10000</span><span class="op" id="8350274">,</span>&nbsp;<span class="op" id="8350276">[</span><span class="op" id="8350277">]</span><span class="ident" id="8350278">httpRange</span><span class="op" id="8350287">{</span><span class="op" id="8350288">{</span><span class="num" id="8350289">0</span><span class="op" id="8350290">,</span>&nbsp;<span class="num" id="8350292">500</span><span class="op" id="8350295">}</span><span class="op" id="8350296">}</span><span class="op" id="8350297">}</span><span class="op" id="8350298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350301">{</span><span class="string" id="8350302">&#34;bytes=500-999&#34;</span><span class="op" id="8350317">,</span>&nbsp;<span class="num" id="8350319">10000</span><span class="op" id="8350324">,</span>&nbsp;<span class="op" id="8350326">[</span><span class="op" id="8350327">]</span><span class="ident" id="8350328">httpRange</span><span class="op" id="8350337">{</span><span class="op" id="8350338">{</span><span class="num" id="8350339">500</span><span class="op" id="8350342">,</span>&nbsp;<span class="num" id="8350344">500</span><span class="op" id="8350347">}</span><span class="op" id="8350348">}</span><span class="op" id="8350349">}</span><span class="op" id="8350350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350353">{</span><span class="string" id="8350354">&#34;bytes=-500&#34;</span><span class="op" id="8350366">,</span>&nbsp;<span class="num" id="8350368">10000</span><span class="op" id="8350373">,</span>&nbsp;<span class="op" id="8350375">[</span><span class="op" id="8350376">]</span><span class="ident" id="8350377">httpRange</span><span class="op" id="8350386">{</span><span class="op" id="8350387">{</span><span class="num" id="8350388">9500</span><span class="op" id="8350392">,</span>&nbsp;<span class="num" id="8350394">500</span><span class="op" id="8350397">}</span><span class="op" id="8350398">}</span><span class="op" id="8350399">}</span><span class="op" id="8350400">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350403">{</span><span class="string" id="8350404">&#34;bytes=9500-&#34;</span><span class="op" id="8350417">,</span>&nbsp;<span class="num" id="8350419">10000</span><span class="op" id="8350424">,</span>&nbsp;<span class="op" id="8350426">[</span><span class="op" id="8350427">]</span><span class="ident" id="8350428">httpRange</span><span class="op" id="8350437">{</span><span class="op" id="8350438">{</span><span class="num" id="8350439">9500</span><span class="op" id="8350443">,</span>&nbsp;<span class="num" id="8350445">500</span><span class="op" id="8350448">}</span><span class="op" id="8350449">}</span><span class="op" id="8350450">}</span><span class="op" id="8350451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350454">{</span><span class="string" id="8350455">&#34;bytes=0-0,-1&#34;</span><span class="op" id="8350469">,</span>&nbsp;<span class="num" id="8350471">10000</span><span class="op" id="8350476">,</span>&nbsp;<span class="op" id="8350478">[</span><span class="op" id="8350479">]</span><span class="ident" id="8350480">httpRange</span><span class="op" id="8350489">{</span><span class="op" id="8350490">{</span><span class="num" id="8350491">0</span><span class="op" id="8350492">,</span>&nbsp;<span class="num" id="8350494">1</span><span class="op" id="8350495">}</span><span class="op" id="8350496">,</span>&nbsp;<span class="op" id="8350498">{</span><span class="num" id="8350499">9999</span><span class="op" id="8350503">,</span>&nbsp;<span class="num" id="8350505">1</span><span class="op" id="8350506">}</span><span class="op" id="8350507">}</span><span class="op" id="8350508">}</span><span class="op" id="8350509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350512">{</span><span class="string" id="8350513">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="8350536">,</span>&nbsp;<span class="num" id="8350538">10000</span><span class="op" id="8350543">,</span>&nbsp;<span class="op" id="8350545">[</span><span class="op" id="8350546">]</span><span class="ident" id="8350547">httpRange</span><span class="op" id="8350556">{</span><span class="op" id="8350557">{</span><span class="num" id="8350558">500</span><span class="op" id="8350561">,</span>&nbsp;<span class="num" id="8350563">101</span><span class="op" id="8350566">}</span><span class="op" id="8350567">,</span>&nbsp;<span class="op" id="8350569">{</span><span class="num" id="8350570">601</span><span class="op" id="8350573">,</span>&nbsp;<span class="num" id="8350575">399</span><span class="op" id="8350578">}</span><span class="op" id="8350579">}</span><span class="op" id="8350580">}</span><span class="op" id="8350581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350584">{</span><span class="string" id="8350585">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="8350608">,</span>&nbsp;<span class="num" id="8350610">10000</span><span class="op" id="8350615">,</span>&nbsp;<span class="op" id="8350617">[</span><span class="op" id="8350618">]</span><span class="ident" id="8350619">httpRange</span><span class="op" id="8350628">{</span><span class="op" id="8350629">{</span><span class="num" id="8350630">500</span><span class="op" id="8350633">,</span>&nbsp;<span class="num" id="8350635">201</span><span class="op" id="8350638">}</span><span class="op" id="8350639">,</span>&nbsp;<span class="op" id="8350641">{</span><span class="num" id="8350642">601</span><span class="op" id="8350645">,</span>&nbsp;<span class="num" id="8350647">399</span><span class="op" id="8350650">}</span><span class="op" id="8350651">}</span><span class="op" id="8350652">}</span><span class="op" id="8350653">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8350657">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350682">{</span><span class="string" id="8350683">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="8350720">,</span>&nbsp;<span class="num" id="8350722">11</span><span class="op" id="8350724">,</span>&nbsp;<span class="op" id="8350726">[</span><span class="op" id="8350727">]</span><span class="ident" id="8350728">httpRange</span><span class="op" id="8350737">{</span><span class="op" id="8350738">{</span><span class="num" id="8350739">1</span><span class="op" id="8350740">,</span>&nbsp;<span class="num" id="8350742">2</span><span class="op" id="8350743">}</span><span class="op" id="8350744">,</span>&nbsp;<span class="op" id="8350746">{</span><span class="num" id="8350747">4</span><span class="op" id="8350748">,</span>&nbsp;<span class="num" id="8350750">2</span><span class="op" id="8350751">}</span><span class="op" id="8350752">,</span>&nbsp;<span class="op" id="8350754">{</span><span class="num" id="8350755">7</span><span class="op" id="8350756">,</span>&nbsp;<span class="num" id="8350758">2</span><span class="op" id="8350759">}</span><span class="op" id="8350760">}</span><span class="op" id="8350761">}</span><span class="op" id="8350762">,</span><br>
<span class="lineno"></span><span class="op" id="8350764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8350767">func</span>&nbsp;<span class="ident" id="8350772">TestParseRange</span><span class="op" id="8350786">(</span><span class="ident" id="8350787">t</span>&nbsp;<span class="op" id="8350789">*</span><span class="ident" id="8350790">testing</span><span class="op" id="8350797">.</span><span class="ident" id="8350798">T</span><span class="op" id="8350799">)</span>&nbsp;<span class="op" id="8350801">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8350804">for</span>&nbsp;<span class="ident" id="8350808">_</span><span class="op" id="8350809">,</span>&nbsp;<span class="ident" id="8350811">test</span>&nbsp;<span class="op" id="8350816">:=</span>&nbsp;<span class="keyword" id="8350819">range</span>&nbsp;<span class="ident" id="8350825">ParseRangeTests</span>&nbsp;<span class="op" id="8350841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8350845">r</span>&nbsp;<span class="op" id="8350847">:=</span>&nbsp;<span class="ident" id="8350850">test</span><span class="op" id="8350854">.</span><span class="ident" id="8350855">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8350859">ranges</span><span class="op" id="8350865">,</span>&nbsp;<span class="ident" id="8350867">err</span>&nbsp;<span class="op" id="8350871">:=</span>&nbsp;<span class="ident" id="8350874">parseRange</span><span class="op" id="8350884">(</span><span class="ident" id="8350885">test</span><span class="op" id="8350889">.</span><span class="ident" id="8350890">s</span><span class="op" id="8350891">,</span>&nbsp;<span class="ident" id="8350893">test</span><span class="op" id="8350897">.</span><span class="ident" id="8350898">length</span><span class="op" id="8350904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8350908">if</span>&nbsp;<span class="ident" id="8350911">err</span>&nbsp;<span class="op" id="8350915">!=</span>&nbsp;<span class="ident" id="8350918">nil</span>&nbsp;<span class="op" id="8350922">&amp;&amp;</span>&nbsp;<span class="ident" id="8350925">r</span>&nbsp;<span class="op" id="8350927">!=</span>&nbsp;<span class="ident" id="8350930">nil</span>&nbsp;<span class="op" id="8350934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8350939">t</span><span class="op" id="8350940">.</span><span class="ident" id="8350941">Errorf</span><span class="op" id="8350947">(</span><span class="string" id="8350948">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="8350982">,</span>&nbsp;<span class="ident" id="8350984">test</span><span class="op" id="8350988">.</span><span class="ident" id="8350989">s</span><span class="op" id="8350990">,</span>&nbsp;<span class="ident" id="8350992">err</span><span class="op" id="8350995">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8350999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8351003">if</span>&nbsp;<span class="builtinfunc" id="8351006">len</span><span class="op" id="8351009">(</span><span class="ident" id="8351010">ranges</span><span class="op" id="8351016">)</span>&nbsp;<span class="op" id="8351018">!=</span>&nbsp;<span class="builtinfunc" id="8351021">len</span><span class="op" id="8351024">(</span><span class="ident" id="8351025">r</span><span class="op" id="8351026">)</span>&nbsp;<span class="op" id="8351028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8351033">t</span><span class="op" id="8351034">.</span><span class="ident" id="8351035">Errorf</span><span class="op" id="8351041">(</span><span class="string" id="8351042">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8351077">,</span>&nbsp;<span class="ident" id="8351079">test</span><span class="op" id="8351083">.</span><span class="ident" id="8351084">s</span><span class="op" id="8351085">,</span>&nbsp;<span class="builtinfunc" id="8351087">len</span><span class="op" id="8351090">(</span><span class="ident" id="8351091">ranges</span><span class="op" id="8351097">)</span><span class="op" id="8351098">,</span>&nbsp;<span class="builtinfunc" id="8351100">len</span><span class="op" id="8351103">(</span><span class="ident" id="8351104">r</span><span class="op" id="8351105">)</span><span class="op" id="8351106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8351111">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8351122">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8351126">for</span>&nbsp;<span class="ident" id="8351130">i</span>&nbsp;<span class="op" id="8351132">:=</span>&nbsp;<span class="keyword" id="8351135">range</span>&nbsp;<span class="ident" id="8351141">r</span>&nbsp;<span class="op" id="8351143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8351148">if</span>&nbsp;<span class="ident" id="8351151">ranges</span><span class="op" id="8351157">[</span><span class="ident" id="8351158">i</span><span class="op" id="8351159">]</span><span class="op" id="8351160">.</span><span class="ident" id="8351161">start</span>&nbsp;<span class="op" id="8351167">!=</span>&nbsp;<span class="ident" id="8351170">r</span><span class="op" id="8351171">[</span><span class="ident" id="8351172">i</span><span class="op" id="8351173">]</span><span class="op" id="8351174">.</span><span class="ident" id="8351175">start</span>&nbsp;<span class="op" id="8351181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8351187">t</span><span class="op" id="8351188">.</span><span class="ident" id="8351189">Errorf</span><span class="op" id="8351195">(</span><span class="string" id="8351196">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8351236">,</span>&nbsp;<span class="ident" id="8351238">test</span><span class="op" id="8351242">.</span><span class="ident" id="8351243">s</span><span class="op" id="8351244">,</span>&nbsp;<span class="ident" id="8351246">i</span><span class="op" id="8351247">,</span>&nbsp;<span class="ident" id="8351249">ranges</span><span class="op" id="8351255">[</span><span class="ident" id="8351256">i</span><span class="op" id="8351257">]</span><span class="op" id="8351258">.</span><span class="ident" id="8351259">start</span><span class="op" id="8351264">,</span>&nbsp;<span class="ident" id="8351266">r</span><span class="op" id="8351267">[</span><span class="ident" id="8351268">i</span><span class="op" id="8351269">]</span><span class="op" id="8351270">.</span><span class="ident" id="8351271">start</span><span class="op" id="8351276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8351281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8351286">if</span>&nbsp;<span class="ident" id="8351289">ranges</span><span class="op" id="8351295">[</span><span class="ident" id="8351296">i</span><span class="op" id="8351297">]</span><span class="op" id="8351298">.</span><span class="ident" id="8351299">length</span>&nbsp;<span class="op" id="8351306">!=</span>&nbsp;<span class="ident" id="8351309">r</span><span class="op" id="8351310">[</span><span class="ident" id="8351311">i</span><span class="op" id="8351312">]</span><span class="op" id="8351313">.</span><span class="ident" id="8351314">length</span>&nbsp;<span class="op" id="8351321">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8351327">t</span><span class="op" id="8351328">.</span><span class="ident" id="8351329">Errorf</span><span class="op" id="8351335">(</span><span class="string" id="8351336">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8351377">,</span>&nbsp;<span class="ident" id="8351379">test</span><span class="op" id="8351383">.</span><span class="ident" id="8351384">s</span><span class="op" id="8351385">,</span>&nbsp;<span class="ident" id="8351387">i</span><span class="op" id="8351388">,</span>&nbsp;<span class="ident" id="8351390">ranges</span><span class="op" id="8351396">[</span><span class="ident" id="8351397">i</span><span class="op" id="8351398">]</span><span class="op" id="8351399">.</span><span class="ident" id="8351400">length</span><span class="op" id="8351406">,</span>&nbsp;<span class="ident" id="8351408">r</span><span class="op" id="8351409">[</span><span class="ident" id="8351410">i</span><span class="op" id="8351411">]</span><span class="op" id="8351412">.</span><span class="ident" id="8351413">length</span><span class="op" id="8351419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8351424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8351428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8351431">}</span><br>
<span class="lineno"></span><span class="op" id="8351433">}</span>
</div>
</body>
</html>
