<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1659737">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1659792">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1659846">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1659897">package</span>&nbsp;<span class="ident" id="1659905">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1659914">import</span>&nbsp;<span class="string" id="1659921">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1659931">//&nbsp;Declarations&nbsp;for&nbsp;runtime&nbsp;services&nbsp;implemented&nbsp;in&nbsp;C&nbsp;or&nbsp;assembly.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1659999">const</span>&nbsp;<span class="ident" id="1660005">ptrSize</span>&nbsp;<span class="op" id="1660013">=</span>&nbsp;<span class="num" id="1660015">4</span>&nbsp;<span class="op" id="1660017">&lt;&lt;</span>&nbsp;<span class="op" id="1660020">(</span><span class="op" id="1660021">^</span><span class="builtintype" id="1660022">uintptr</span><span class="op" id="1660029">(</span><span class="num" id="1660030">0</span><span class="op" id="1660031">)</span>&nbsp;<span class="op" id="1660033">&gt;&gt;</span>&nbsp;<span class="num" id="1660036">63</span><span class="op" id="1660038">)</span>&nbsp;<span class="comment" id="1660040">//&nbsp;unsafe.Sizeof(uintptr(0))&nbsp;but&nbsp;an&nbsp;ideal&nbsp;const</span><br>
<span class="lineno"></span><span class="keyword" id="1660088">const</span>&nbsp;<span class="ident" id="1660094">regSize</span>&nbsp;<span class="op" id="1660102">=</span>&nbsp;<span class="num" id="1660104">4</span>&nbsp;<span class="op" id="1660106">&lt;&lt;</span>&nbsp;<span class="op" id="1660109">(</span><span class="op" id="1660110">^</span><span class="ident" id="1660111">uintreg</span><span class="op" id="1660118">(</span><span class="num" id="1660119">0</span><span class="op" id="1660120">)</span>&nbsp;<span class="op" id="1660122">&gt;&gt;</span>&nbsp;<span class="num" id="1660125">63</span><span class="op" id="1660127">)</span>&nbsp;<span class="comment" id="1660129">//&nbsp;unsafe.Sizeof(uintreg(0))&nbsp;but&nbsp;an&nbsp;ideal&nbsp;const</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1660178">//&nbsp;Should&nbsp;be&nbsp;a&nbsp;built-in&nbsp;for&nbsp;unsafe.Pointer?</span><br>
<span class="lineno">15</span><span class="comment" id="1660222">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1660235">func</span>&nbsp;<span class="ident" id="1660240">add</span><span class="op" id="1660243">(</span><span class="ident" id="1660244">p</span>&nbsp;<span class="ident" id="1660246">unsafe</span><span class="op" id="1660252">.</span><span class="ident" id="1660253">Pointer</span><span class="op" id="1660260">,</span>&nbsp;<span class="ident" id="1660262">x</span>&nbsp;<span class="builtintype" id="1660264">uintptr</span><span class="op" id="1660271">)</span>&nbsp;<span class="ident" id="1660273">unsafe</span><span class="op" id="1660279">.</span><span class="ident" id="1660280">Pointer</span>&nbsp;<span class="op" id="1660288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1660291">return</span>&nbsp;<span class="ident" id="1660298">unsafe</span><span class="op" id="1660304">.</span><span class="ident" id="1660305">Pointer</span><span class="op" id="1660312">(</span><span class="builtintype" id="1660313">uintptr</span><span class="op" id="1660320">(</span><span class="ident" id="1660321">p</span><span class="op" id="1660322">)</span>&nbsp;<span class="op" id="1660324">+</span>&nbsp;<span class="ident" id="1660326">x</span><span class="op" id="1660327">)</span><br>
<span class="lineno"></span><span class="op" id="1660329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1660332">//&nbsp;n&nbsp;must&nbsp;be&nbsp;a&nbsp;power&nbsp;of&nbsp;2</span><br>
<span class="lineno"></span><span class="keyword" id="1660358">func</span>&nbsp;<span class="ident" id="1660363">roundup</span><span class="op" id="1660370">(</span><span class="ident" id="1660371">p</span>&nbsp;<span class="ident" id="1660373">unsafe</span><span class="op" id="1660379">.</span><span class="ident" id="1660380">Pointer</span><span class="op" id="1660387">,</span>&nbsp;<span class="ident" id="1660389">n</span>&nbsp;<span class="builtintype" id="1660391">uintptr</span><span class="op" id="1660398">)</span>&nbsp;<span class="ident" id="1660400">unsafe</span><span class="op" id="1660406">.</span><span class="ident" id="1660407">Pointer</span>&nbsp;<span class="op" id="1660415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1660418">delta</span>&nbsp;<span class="op" id="1660424">:=</span>&nbsp;<span class="op" id="1660427">-</span><span class="builtintype" id="1660428">uintptr</span><span class="op" id="1660435">(</span><span class="ident" id="1660436">p</span><span class="op" id="1660437">)</span>&nbsp;<span class="op" id="1660439">&amp;</span>&nbsp;<span class="op" id="1660441">(</span><span class="ident" id="1660442">n</span>&nbsp;<span class="op" id="1660444">-</span>&nbsp;<span class="num" id="1660446">1</span><span class="op" id="1660447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1660450">return</span>&nbsp;<span class="ident" id="1660457">unsafe</span><span class="op" id="1660463">.</span><span class="ident" id="1660464">Pointer</span><span class="op" id="1660471">(</span><span class="builtintype" id="1660472">uintptr</span><span class="op" id="1660479">(</span><span class="ident" id="1660480">p</span><span class="op" id="1660481">)</span>&nbsp;<span class="op" id="1660483">+</span>&nbsp;<span class="ident" id="1660485">delta</span><span class="op" id="1660490">)</span><br>
<span class="lineno"></span><span class="op" id="1660492">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="1660495">//&nbsp;in&nbsp;runtime.c</span><br>
<span class="lineno"></span><span class="keyword" id="1660511">func</span>&nbsp;<span class="ident" id="1660516">getg</span><span class="op" id="1660520">(</span><span class="op" id="1660521">)</span>&nbsp;<span class="op" id="1660523">*</span><span class="ident" id="1660524">g</span><br>
<span class="lineno"></span><span class="keyword" id="1660526">func</span>&nbsp;<span class="ident" id="1660531">acquirem</span><span class="op" id="1660539">(</span><span class="op" id="1660540">)</span>&nbsp;<span class="op" id="1660542">*</span><span class="ident" id="1660543">m</span><br>
<span class="lineno"></span><span class="keyword" id="1660545">func</span>&nbsp;<span class="ident" id="1660550">releasem</span><span class="op" id="1660558">(</span><span class="ident" id="1660559">mp</span>&nbsp;<span class="op" id="1660562">*</span><span class="ident" id="1660563">m</span><span class="op" id="1660564">)</span><br>
<span class="lineno">30</span><span class="keyword" id="1660566">func</span>&nbsp;<span class="ident" id="1660571">gomcache</span><span class="op" id="1660579">(</span><span class="op" id="1660580">)</span>&nbsp;<span class="op" id="1660582">*</span><span class="ident" id="1660583">mcache</span><br>
<span class="lineno"></span><span class="keyword" id="1660590">func</span>&nbsp;<span class="ident" id="1660595">readgstatus</span><span class="op" id="1660606">(</span><span class="op" id="1660607">*</span><span class="ident" id="1660608">g</span><span class="op" id="1660609">)</span>&nbsp;<span class="builtintype" id="1660611">uint32</span>&nbsp;<span class="comment" id="1660618">//&nbsp;proc.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1660629">//&nbsp;mcall&nbsp;switches&nbsp;from&nbsp;the&nbsp;g&nbsp;to&nbsp;the&nbsp;g0&nbsp;stack&nbsp;and&nbsp;invokes&nbsp;fn(g),</span><br>
<span class="lineno"></span><span class="comment" id="1660693">//&nbsp;where&nbsp;g&nbsp;is&nbsp;the&nbsp;goroutine&nbsp;that&nbsp;made&nbsp;the&nbsp;call.</span><br>
<span class="lineno">35</span><span class="comment" id="1660741">//&nbsp;mcall&nbsp;saves&nbsp;g&#39;s&nbsp;current&nbsp;PC/SP&nbsp;in&nbsp;g-&gt;sched&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;restored&nbsp;later.</span><br>
<span class="lineno"></span><span class="comment" id="1660820">//&nbsp;It&nbsp;is&nbsp;up&nbsp;to&nbsp;fn&nbsp;to&nbsp;arrange&nbsp;for&nbsp;that&nbsp;later&nbsp;execution,&nbsp;typically&nbsp;by&nbsp;recording</span><br>
<span class="lineno"></span><span class="comment" id="1660898">//&nbsp;g&nbsp;in&nbsp;a&nbsp;data&nbsp;structure,&nbsp;causing&nbsp;something&nbsp;to&nbsp;call&nbsp;ready(g)&nbsp;later.</span><br>
<span class="lineno"></span><span class="comment" id="1660966">//&nbsp;mcall&nbsp;returns&nbsp;to&nbsp;the&nbsp;original&nbsp;goroutine&nbsp;g&nbsp;later,&nbsp;when&nbsp;g&nbsp;has&nbsp;been&nbsp;rescheduled.</span><br>
<span class="lineno"></span><span class="comment" id="1661047">//&nbsp;fn&nbsp;must&nbsp;not&nbsp;return&nbsp;at&nbsp;all;&nbsp;typically&nbsp;it&nbsp;ends&nbsp;by&nbsp;calling&nbsp;schedule,&nbsp;to&nbsp;let&nbsp;the&nbsp;m</span><br>
<span class="lineno">40</span><span class="comment" id="1661129">//&nbsp;run&nbsp;other&nbsp;goroutines.</span><br>
<span class="lineno"></span><span class="comment" id="1661154">//</span><br>
<span class="lineno"></span><span class="comment" id="1661157">//&nbsp;mcall&nbsp;can&nbsp;only&nbsp;be&nbsp;called&nbsp;from&nbsp;g&nbsp;stacks&nbsp;(not&nbsp;g0,&nbsp;not&nbsp;gsignal).</span><br>
<span class="lineno"></span><span class="comment" id="1661222">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1661236">func</span>&nbsp;<span class="ident" id="1661241">mcall</span><span class="op" id="1661246">(</span><span class="ident" id="1661247">fn</span>&nbsp;<span class="keyword" id="1661250">func</span><span class="op" id="1661254">(</span><span class="op" id="1661255">*</span><span class="ident" id="1661256">g</span><span class="op" id="1661257">)</span><span class="op" id="1661258">)</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1661261">//&nbsp;onM&nbsp;switches&nbsp;from&nbsp;the&nbsp;g&nbsp;to&nbsp;the&nbsp;g0&nbsp;stack&nbsp;and&nbsp;invokes&nbsp;fn().</span><br>
<span class="lineno"></span><span class="comment" id="1661322">//&nbsp;When&nbsp;fn&nbsp;returns,&nbsp;onM&nbsp;switches&nbsp;back&nbsp;to&nbsp;the&nbsp;g&nbsp;and&nbsp;returns,</span><br>
<span class="lineno"></span><span class="comment" id="1661382">//&nbsp;continuing&nbsp;execution&nbsp;on&nbsp;the&nbsp;g&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="1661422">//&nbsp;If&nbsp;arguments&nbsp;must&nbsp;be&nbsp;passed&nbsp;to&nbsp;fn,&nbsp;they&nbsp;can&nbsp;be&nbsp;written&nbsp;to</span><br>
<span class="lineno">50</span><span class="comment" id="1661483">//&nbsp;g-&gt;m-&gt;ptrarg&nbsp;(pointers)&nbsp;and&nbsp;g-&gt;m-&gt;scalararg&nbsp;(non-pointers)</span><br>
<span class="lineno"></span><span class="comment" id="1661545">//&nbsp;before&nbsp;the&nbsp;call&nbsp;and&nbsp;then&nbsp;consulted&nbsp;during&nbsp;fn.</span><br>
<span class="lineno"></span><span class="comment" id="1661594">//&nbsp;Similarly,&nbsp;fn&nbsp;can&nbsp;pass&nbsp;return&nbsp;values&nbsp;back&nbsp;in&nbsp;those&nbsp;locations.</span><br>
<span class="lineno"></span><span class="comment" id="1661659">//&nbsp;If&nbsp;fn&nbsp;is&nbsp;written&nbsp;in&nbsp;Go,&nbsp;it&nbsp;can&nbsp;be&nbsp;a&nbsp;closure,&nbsp;which&nbsp;avoids&nbsp;the&nbsp;need&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1661733">//&nbsp;ptrarg&nbsp;and&nbsp;scalararg&nbsp;entirely.</span><br>
<span class="lineno">55</span><span class="comment" id="1661767">//&nbsp;After&nbsp;reading&nbsp;values&nbsp;out&nbsp;of&nbsp;ptrarg&nbsp;and&nbsp;scalararg&nbsp;it&nbsp;is&nbsp;conventional</span><br>
<span class="lineno"></span><span class="comment" id="1661838">//&nbsp;to&nbsp;zero&nbsp;them&nbsp;to&nbsp;avoid&nbsp;(memory&nbsp;or&nbsp;information)&nbsp;leaks.</span><br>
<span class="lineno"></span><span class="comment" id="1661894">//</span><br>
<span class="lineno"></span><span class="comment" id="1661897">//&nbsp;If&nbsp;onM&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;g0&nbsp;stack,&nbsp;it&nbsp;invokes&nbsp;fn&nbsp;and&nbsp;returns,</span><br>
<span class="lineno"></span><span class="comment" id="1661961">//&nbsp;without&nbsp;any&nbsp;stack&nbsp;switches.</span><br>
<span class="lineno">60</span><span class="comment" id="1661992">//</span><br>
<span class="lineno"></span><span class="comment" id="1661995">//&nbsp;If&nbsp;onM&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack,&nbsp;it&nbsp;crashes&nbsp;the&nbsp;program.</span><br>
<span class="lineno"></span><span class="comment" id="1662061">//&nbsp;The&nbsp;implication&nbsp;is&nbsp;that&nbsp;functions&nbsp;used&nbsp;in&nbsp;signal&nbsp;handlers&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="1662127">//&nbsp;not&nbsp;use&nbsp;onM.</span><br>
<span class="lineno"></span><span class="comment" id="1662143">//</span><br>
<span class="lineno">65</span><span class="comment" id="1662146">//&nbsp;NOTE(rsc):&nbsp;We&nbsp;could&nbsp;introduce&nbsp;a&nbsp;separate&nbsp;onMsignal&nbsp;that&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1662208">//&nbsp;like&nbsp;onM&nbsp;but&nbsp;if&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack&nbsp;would&nbsp;just&nbsp;run&nbsp;fn&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1662276">//&nbsp;that&nbsp;stack.&nbsp;The&nbsp;caller&nbsp;of&nbsp;onMsignal&nbsp;would&nbsp;be&nbsp;required&nbsp;to&nbsp;save&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1662345">//&nbsp;old&nbsp;values&nbsp;of&nbsp;ptrarg/scalararg&nbsp;and&nbsp;restore&nbsp;them&nbsp;when&nbsp;the&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="1662410">//&nbsp;was&nbsp;finished,&nbsp;in&nbsp;case&nbsp;the&nbsp;signal&nbsp;interrupted&nbsp;an&nbsp;onM&nbsp;sequence</span><br>
<span class="lineno">70</span><span class="comment" id="1662474">//&nbsp;in&nbsp;progress&nbsp;on&nbsp;the&nbsp;g&nbsp;or&nbsp;g0&nbsp;stacks.&nbsp;Until&nbsp;there&nbsp;is&nbsp;a&nbsp;clear&nbsp;need&nbsp;for&nbsp;this,</span><br>
<span class="lineno"></span><span class="comment" id="1662550">//&nbsp;we&nbsp;just&nbsp;reject&nbsp;onM&nbsp;in&nbsp;signal&nbsp;handling&nbsp;contexts&nbsp;entirely.</span><br>
<span class="lineno"></span><span class="comment" id="1662610">//</span><br>
<span class="lineno"></span><span class="comment" id="1662613">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1662627">func</span>&nbsp;<span class="ident" id="1662632">onM</span><span class="op" id="1662635">(</span><span class="ident" id="1662636">fn</span>&nbsp;<span class="keyword" id="1662639">func</span><span class="op" id="1662643">(</span><span class="op" id="1662644">)</span><span class="op" id="1662645">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="1662648">//&nbsp;onMsignal&nbsp;is&nbsp;like&nbsp;onM&nbsp;but&nbsp;is&nbsp;allowed&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;code&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1662712">//&nbsp;might&nbsp;run&nbsp;on&nbsp;the&nbsp;gsignal&nbsp;stack.&nbsp;Code&nbsp;running&nbsp;on&nbsp;a&nbsp;signal&nbsp;stack</span><br>
<span class="lineno"></span><span class="comment" id="1662778">//&nbsp;may&nbsp;be&nbsp;interrupting&nbsp;an&nbsp;onM&nbsp;sequence&nbsp;on&nbsp;the&nbsp;main&nbsp;stack,&nbsp;so</span><br>
<span class="lineno"></span><span class="comment" id="1662839">//&nbsp;if&nbsp;the&nbsp;onMsignal&nbsp;calling&nbsp;sequence&nbsp;writes&nbsp;to&nbsp;ptrarg/scalararg,</span><br>
<span class="lineno">80</span><span class="comment" id="1662904">//&nbsp;it&nbsp;must&nbsp;first&nbsp;save&nbsp;the&nbsp;old&nbsp;values&nbsp;and&nbsp;then&nbsp;restore&nbsp;them&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="1662968">//&nbsp;finished.&nbsp;As&nbsp;an&nbsp;exception&nbsp;to&nbsp;the&nbsp;rule,&nbsp;it&nbsp;is&nbsp;fine&nbsp;not&nbsp;to&nbsp;save&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="1663037">//&nbsp;restore&nbsp;the&nbsp;values&nbsp;if&nbsp;the&nbsp;program&nbsp;is&nbsp;trying&nbsp;to&nbsp;crash&nbsp;rather&nbsp;than</span><br>
<span class="lineno"></span><span class="comment" id="1663105">//&nbsp;return&nbsp;from&nbsp;the&nbsp;signal&nbsp;handler.</span><br>
<span class="lineno"></span><span class="comment" id="1663140">//&nbsp;Once&nbsp;all&nbsp;the&nbsp;runtime&nbsp;is&nbsp;written&nbsp;in&nbsp;Go,&nbsp;there&nbsp;will&nbsp;be&nbsp;no&nbsp;ptrarg/scalararg</span><br>
<span class="lineno">85</span><span class="comment" id="1663216">//&nbsp;and&nbsp;the&nbsp;distinction&nbsp;between&nbsp;onM&nbsp;and&nbsp;onMsignal&nbsp;(and&nbsp;perhaps&nbsp;mcall)</span><br>
<span class="lineno"></span><span class="comment" id="1663285">//&nbsp;can&nbsp;go&nbsp;away.</span><br>
<span class="lineno"></span><span class="comment" id="1663301">//</span><br>
<span class="lineno"></span><span class="comment" id="1663304">//&nbsp;If&nbsp;onMsignal&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack,&nbsp;it&nbsp;invokes&nbsp;fn&nbsp;directly,</span><br>
<span class="lineno"></span><span class="comment" id="1663376">//&nbsp;without&nbsp;a&nbsp;stack&nbsp;switch.&nbsp;Otherwise&nbsp;onMsignal&nbsp;behaves&nbsp;like&nbsp;onM.</span><br>
<span class="lineno">90</span><span class="comment" id="1663441">//</span><br>
<span class="lineno"></span><span class="comment" id="1663444">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1663458">func</span>&nbsp;<span class="ident" id="1663463">onM_signalok</span><span class="op" id="1663475">(</span><span class="ident" id="1663476">fn</span>&nbsp;<span class="keyword" id="1663479">func</span><span class="op" id="1663483">(</span><span class="op" id="1663484">)</span><span class="op" id="1663485">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1663488">func</span>&nbsp;<span class="ident" id="1663493">badonm</span><span class="op" id="1663499">(</span><span class="op" id="1663500">)</span>&nbsp;<span class="op" id="1663502">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663505">gothrow</span><span class="op" id="1663512">(</span><span class="string" id="1663513">&#34;onM&nbsp;called&nbsp;from&nbsp;signal&nbsp;goroutine&#34;</span><span class="op" id="1663547">)</span><br>
<span class="lineno"></span><span class="op" id="1663549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1663552">//&nbsp;C&nbsp;functions&nbsp;that&nbsp;run&nbsp;on&nbsp;the&nbsp;M&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="1663592">//&nbsp;Call&nbsp;using&nbsp;mcall.</span><br>
<span class="lineno">100</span><span class="keyword" id="1663613">func</span>&nbsp;<span class="ident" id="1663618">gosched_m</span><span class="op" id="1663627">(</span><span class="op" id="1663628">*</span><span class="ident" id="1663629">g</span><span class="op" id="1663630">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663632">func</span>&nbsp;<span class="ident" id="1663637">park_m</span><span class="op" id="1663643">(</span><span class="op" id="1663644">*</span><span class="ident" id="1663645">g</span><span class="op" id="1663646">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663648">func</span>&nbsp;<span class="ident" id="1663653">recovery_m</span><span class="op" id="1663663">(</span><span class="op" id="1663664">*</span><span class="ident" id="1663665">g</span><span class="op" id="1663666">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1663669">//&nbsp;More&nbsp;C&nbsp;functions&nbsp;that&nbsp;run&nbsp;on&nbsp;the&nbsp;M&nbsp;stack.</span><br>
<span class="lineno">105</span><span class="comment" id="1663714">//&nbsp;Call&nbsp;using&nbsp;onM.</span><br>
<span class="lineno"></span><span class="keyword" id="1663733">func</span>&nbsp;<span class="ident" id="1663738">mcacheRefill_m</span><span class="op" id="1663752">(</span><span class="op" id="1663753">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663755">func</span>&nbsp;<span class="ident" id="1663760">largeAlloc_m</span><span class="op" id="1663772">(</span><span class="op" id="1663773">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663775">func</span>&nbsp;<span class="ident" id="1663780">gc_m</span><span class="op" id="1663784">(</span><span class="op" id="1663785">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663787">func</span>&nbsp;<span class="ident" id="1663792">scavenge_m</span><span class="op" id="1663802">(</span><span class="op" id="1663803">)</span><br>
<span class="lineno">110</span><span class="keyword" id="1663805">func</span>&nbsp;<span class="ident" id="1663810">setFinalizer_m</span><span class="op" id="1663824">(</span><span class="op" id="1663825">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663827">func</span>&nbsp;<span class="ident" id="1663832">removeFinalizer_m</span><span class="op" id="1663849">(</span><span class="op" id="1663850">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663852">func</span>&nbsp;<span class="ident" id="1663857">markallocated_m</span><span class="op" id="1663872">(</span><span class="op" id="1663873">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663875">func</span>&nbsp;<span class="ident" id="1663880">unrollgcprog_m</span><span class="op" id="1663894">(</span><span class="op" id="1663895">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663897">func</span>&nbsp;<span class="ident" id="1663902">unrollgcproginplace_m</span><span class="op" id="1663923">(</span><span class="op" id="1663924">)</span><br>
<span class="lineno">115</span><span class="keyword" id="1663926">func</span>&nbsp;<span class="ident" id="1663931">setgcpercent_m</span><span class="op" id="1663945">(</span><span class="op" id="1663946">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663948">func</span>&nbsp;<span class="ident" id="1663953">setmaxthreads_m</span><span class="op" id="1663968">(</span><span class="op" id="1663969">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663971">func</span>&nbsp;<span class="ident" id="1663976">ready_m</span><span class="op" id="1663983">(</span><span class="op" id="1663984">)</span><br>
<span class="lineno"></span><span class="keyword" id="1663986">func</span>&nbsp;<span class="ident" id="1663991">deferproc_m</span><span class="op" id="1664002">(</span><span class="op" id="1664003">)</span><br>
<span class="lineno"></span><span class="keyword" id="1664005">func</span>&nbsp;<span class="ident" id="1664010">goexit_m</span><span class="op" id="1664018">(</span><span class="op" id="1664019">)</span><br>
<span class="lineno">120</span><span class="keyword" id="1664021">func</span>&nbsp;<span class="ident" id="1664026">startpanic_m</span><span class="op" id="1664038">(</span><span class="op" id="1664039">)</span><br>
<span class="lineno"></span><span class="keyword" id="1664041">func</span>&nbsp;<span class="ident" id="1664046">dopanic_m</span><span class="op" id="1664055">(</span><span class="op" id="1664056">)</span><br>
<span class="lineno"></span><span class="keyword" id="1664058">func</span>&nbsp;<span class="ident" id="1664063">readmemstats_m</span><span class="op" id="1664077">(</span><span class="op" id="1664078">)</span><br>
<span class="lineno"></span><span class="keyword" id="1664080">func</span>&nbsp;<span class="ident" id="1664085">writeheapdump_m</span><span class="op" id="1664100">(</span><span class="op" id="1664101">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="comment" id="1664104">//&nbsp;memclr&nbsp;clears&nbsp;n&nbsp;bytes&nbsp;starting&nbsp;at&nbsp;ptr.</span><br>
<span class="lineno"></span><span class="comment" id="1664146">//&nbsp;in&nbsp;memclr_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1664163">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1664177">func</span>&nbsp;<span class="ident" id="1664182">memclr</span><span class="op" id="1664188">(</span><span class="ident" id="1664189">ptr</span>&nbsp;<span class="ident" id="1664193">unsafe</span><span class="op" id="1664199">.</span><span class="ident" id="1664200">Pointer</span><span class="op" id="1664207">,</span>&nbsp;<span class="ident" id="1664209">n</span>&nbsp;<span class="builtintype" id="1664211">uintptr</span><span class="op" id="1664218">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="1664221">//&nbsp;memmove&nbsp;copies&nbsp;n&nbsp;bytes&nbsp;from&nbsp;&#34;from&#34;&nbsp;to&nbsp;&#34;to&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="1664268">//&nbsp;in&nbsp;memmove_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1664286">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1664300">func</span>&nbsp;<span class="ident" id="1664305">memmove</span><span class="op" id="1664312">(</span><span class="ident" id="1664313">to</span>&nbsp;<span class="ident" id="1664316">unsafe</span><span class="op" id="1664322">.</span><span class="ident" id="1664323">Pointer</span><span class="op" id="1664330">,</span>&nbsp;<span class="ident" id="1664332">from</span>&nbsp;<span class="ident" id="1664337">unsafe</span><span class="op" id="1664343">.</span><span class="ident" id="1664344">Pointer</span><span class="op" id="1664351">,</span>&nbsp;<span class="ident" id="1664353">n</span>&nbsp;<span class="builtintype" id="1664355">uintptr</span><span class="op" id="1664362">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="1664365">func</span>&nbsp;<span class="ident" id="1664370">starttheworld</span><span class="op" id="1664383">(</span><span class="op" id="1664384">)</span><br>
<span class="lineno"></span><span class="keyword" id="1664386">func</span>&nbsp;<span class="ident" id="1664391">stoptheworld</span><span class="op" id="1664403">(</span><span class="op" id="1664404">)</span><br>
<span class="lineno"></span><span class="keyword" id="1664406">func</span>&nbsp;<span class="ident" id="1664411">newextram</span><span class="op" id="1664420">(</span><span class="op" id="1664421">)</span><br>
<span class="lineno"></span><span class="keyword" id="1664423">func</span>&nbsp;<span class="ident" id="1664428">lockOSThread</span><span class="op" id="1664440">(</span><span class="op" id="1664441">)</span><br>
<span class="lineno"></span><span class="keyword" id="1664443">func</span>&nbsp;<span class="ident" id="1664448">unlockOSThread</span><span class="op" id="1664462">(</span><span class="op" id="1664463">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="1664466">//&nbsp;exported&nbsp;value&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="1664496">var</span>&nbsp;<span class="ident" id="1664500">hashLoad</span>&nbsp;<span class="op" id="1664509">=</span>&nbsp;<span class="ident" id="1664511">loadFactor</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1664523">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">145</span><span class="keyword" id="1664537">func</span>&nbsp;<span class="ident" id="1664542">fastrand1</span><span class="op" id="1664551">(</span><span class="op" id="1664552">)</span>&nbsp;<span class="builtintype" id="1664554">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1664562">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1664576">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1664590">func</span>&nbsp;<span class="ident" id="1664595">memeq</span><span class="op" id="1664600">(</span><span class="ident" id="1664601">a</span><span class="op" id="1664602">,</span>&nbsp;<span class="ident" id="1664604">b</span>&nbsp;<span class="ident" id="1664606">unsafe</span><span class="op" id="1664612">.</span><span class="ident" id="1664613">Pointer</span><span class="op" id="1664620">,</span>&nbsp;<span class="ident" id="1664622">size</span>&nbsp;<span class="builtintype" id="1664627">uintptr</span><span class="op" id="1664634">)</span>&nbsp;<span class="builtintype" id="1664636">bool</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="1664642">//&nbsp;noescape&nbsp;hides&nbsp;a&nbsp;pointer&nbsp;from&nbsp;escape&nbsp;analysis.&nbsp;&nbsp;noescape&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1664705">//&nbsp;the&nbsp;identity&nbsp;function&nbsp;but&nbsp;escape&nbsp;analysis&nbsp;doesn&#39;t&nbsp;think&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1664768">//&nbsp;output&nbsp;depends&nbsp;on&nbsp;the&nbsp;input.&nbsp;&nbsp;noescape&nbsp;is&nbsp;inlined&nbsp;and&nbsp;currently</span><br>
<span class="lineno"></span><span class="comment" id="1664835">//&nbsp;compiles&nbsp;down&nbsp;to&nbsp;a&nbsp;single&nbsp;xor&nbsp;instruction.</span><br>
<span class="lineno">155</span><span class="comment" id="1664881">//&nbsp;USE&nbsp;CAREFULLY!</span><br>
<span class="lineno"></span><span class="comment" id="1664899">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1664912">func</span>&nbsp;<span class="ident" id="1664917">noescape</span><span class="op" id="1664925">(</span><span class="ident" id="1664926">p</span>&nbsp;<span class="ident" id="1664928">unsafe</span><span class="op" id="1664934">.</span><span class="ident" id="1664935">Pointer</span><span class="op" id="1664942">)</span>&nbsp;<span class="ident" id="1664944">unsafe</span><span class="op" id="1664950">.</span><span class="ident" id="1664951">Pointer</span>&nbsp;<span class="op" id="1664959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664962">x</span>&nbsp;<span class="op" id="1664964">:=</span>&nbsp;<span class="builtintype" id="1664967">uintptr</span><span class="op" id="1664974">(</span><span class="ident" id="1664975">p</span><span class="op" id="1664976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664979">return</span>&nbsp;<span class="ident" id="1664986">unsafe</span><span class="op" id="1664992">.</span><span class="ident" id="1664993">Pointer</span><span class="op" id="1665000">(</span><span class="ident" id="1665001">x</span>&nbsp;<span class="op" id="1665003">^</span>&nbsp;<span class="num" id="1665005">0</span><span class="op" id="1665006">)</span><br>
<span class="lineno">160</span><span class="op" id="1665008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1665011">func</span>&nbsp;<span class="ident" id="1665016">entersyscall</span><span class="op" id="1665028">(</span><span class="op" id="1665029">)</span><br>
<span class="lineno"></span><span class="keyword" id="1665031">func</span>&nbsp;<span class="ident" id="1665036">reentersyscall</span><span class="op" id="1665050">(</span><span class="ident" id="1665051">pc</span>&nbsp;<span class="builtintype" id="1665054">uintptr</span><span class="op" id="1665061">,</span>&nbsp;<span class="ident" id="1665063">sp</span>&nbsp;<span class="ident" id="1665066">unsafe</span><span class="op" id="1665072">.</span><span class="ident" id="1665073">Pointer</span><span class="op" id="1665080">)</span><br>
<span class="lineno"></span><span class="keyword" id="1665082">func</span>&nbsp;<span class="ident" id="1665087">entersyscallblock</span><span class="op" id="1665104">(</span><span class="op" id="1665105">)</span><br>
<span class="lineno">165</span><span class="keyword" id="1665107">func</span>&nbsp;<span class="ident" id="1665112">exitsyscall</span><span class="op" id="1665123">(</span><span class="op" id="1665124">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1665127">func</span>&nbsp;<span class="ident" id="1665132">cgocallback</span><span class="op" id="1665143">(</span><span class="ident" id="1665144">fn</span><span class="op" id="1665146">,</span>&nbsp;<span class="ident" id="1665148">frame</span>&nbsp;<span class="ident" id="1665154">unsafe</span><span class="op" id="1665160">.</span><span class="ident" id="1665161">Pointer</span><span class="op" id="1665168">,</span>&nbsp;<span class="ident" id="1665170">framesize</span>&nbsp;<span class="builtintype" id="1665180">uintptr</span><span class="op" id="1665187">)</span><br>
<span class="lineno"></span><span class="keyword" id="1665189">func</span>&nbsp;<span class="ident" id="1665194">gogo</span><span class="op" id="1665198">(</span><span class="ident" id="1665199">buf</span>&nbsp;<span class="op" id="1665203">*</span><span class="ident" id="1665204">gobuf</span><span class="op" id="1665209">)</span><br>
<span class="lineno"></span><span class="keyword" id="1665211">func</span>&nbsp;<span class="ident" id="1665216">gosave</span><span class="op" id="1665222">(</span><span class="ident" id="1665223">buf</span>&nbsp;<span class="op" id="1665227">*</span><span class="ident" id="1665228">gobuf</span><span class="op" id="1665233">)</span><br>
<span class="lineno">170</span><span class="keyword" id="1665235">func</span>&nbsp;<span class="ident" id="1665240">read</span><span class="op" id="1665244">(</span><span class="ident" id="1665245">fd</span>&nbsp;<span class="builtintype" id="1665248">int32</span><span class="op" id="1665253">,</span>&nbsp;<span class="ident" id="1665255">p</span>&nbsp;<span class="ident" id="1665257">unsafe</span><span class="op" id="1665263">.</span><span class="ident" id="1665264">Pointer</span><span class="op" id="1665271">,</span>&nbsp;<span class="ident" id="1665273">n</span>&nbsp;<span class="builtintype" id="1665275">int32</span><span class="op" id="1665280">)</span>&nbsp;<span class="builtintype" id="1665282">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1665288">func</span>&nbsp;<span class="builtinfunc" id="1665293">close</span><span class="op" id="1665298">(</span><span class="ident" id="1665299">fd</span>&nbsp;<span class="builtintype" id="1665302">int32</span><span class="op" id="1665307">)</span>&nbsp;<span class="builtintype" id="1665309">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1665315">func</span>&nbsp;<span class="ident" id="1665320">mincore</span><span class="op" id="1665327">(</span><span class="ident" id="1665328">addr</span>&nbsp;<span class="ident" id="1665333">unsafe</span><span class="op" id="1665339">.</span><span class="ident" id="1665340">Pointer</span><span class="op" id="1665347">,</span>&nbsp;<span class="ident" id="1665349">n</span>&nbsp;<span class="builtintype" id="1665351">uintptr</span><span class="op" id="1665358">,</span>&nbsp;<span class="ident" id="1665360">dst</span>&nbsp;<span class="op" id="1665364">*</span><span class="builtintype" id="1665365">byte</span><span class="op" id="1665369">)</span>&nbsp;<span class="builtintype" id="1665371">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1665378">//go:noescape</span><br>
<span class="lineno">175</span><span class="keyword" id="1665392">func</span>&nbsp;<span class="ident" id="1665397">jmpdefer</span><span class="op" id="1665405">(</span><span class="ident" id="1665406">fv</span>&nbsp;<span class="op" id="1665409">*</span><span class="ident" id="1665410">funcval</span><span class="op" id="1665417">,</span>&nbsp;<span class="ident" id="1665419">argp</span>&nbsp;<span class="builtintype" id="1665424">uintptr</span><span class="op" id="1665431">)</span><br>
<span class="lineno"></span><span class="keyword" id="1665433">func</span>&nbsp;<span class="ident" id="1665438">exit1</span><span class="op" id="1665443">(</span><span class="ident" id="1665444">code</span>&nbsp;<span class="builtintype" id="1665449">int32</span><span class="op" id="1665454">)</span><br>
<span class="lineno"></span><span class="keyword" id="1665456">func</span>&nbsp;<span class="ident" id="1665461">asminit</span><span class="op" id="1665468">(</span><span class="op" id="1665469">)</span><br>
<span class="lineno"></span><span class="keyword" id="1665471">func</span>&nbsp;<span class="ident" id="1665476">setg</span><span class="op" id="1665480">(</span><span class="ident" id="1665481">gg</span>&nbsp;<span class="op" id="1665484">*</span><span class="ident" id="1665485">g</span><span class="op" id="1665486">)</span><br>
<span class="lineno"></span><span class="keyword" id="1665488">func</span>&nbsp;<span class="ident" id="1665493">exit</span><span class="op" id="1665497">(</span><span class="ident" id="1665498">code</span>&nbsp;<span class="builtintype" id="1665503">int32</span><span class="op" id="1665508">)</span><br>
<span class="lineno">180</span><span class="keyword" id="1665510">func</span>&nbsp;<span class="ident" id="1665515">breakpoint</span><span class="op" id="1665525">(</span><span class="op" id="1665526">)</span><br>
<span class="lineno"></span><span class="keyword" id="1665528">func</span>&nbsp;<span class="ident" id="1665533">nanotime</span><span class="op" id="1665541">(</span><span class="op" id="1665542">)</span>&nbsp;<span class="ident" id="1665544">int64</span><br>
<span class="lineno"></span><span class="keyword" id="1665550">func</span>&nbsp;<span class="ident" id="1665555">usleep</span><span class="op" id="1665561">(</span><span class="ident" id="1665562">usec</span>&nbsp;<span class="builtintype" id="1665567">uint32</span><span class="op" id="1665573">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1665576">//&nbsp;careful:&nbsp;cputicks&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;monotonic!&nbsp;&nbsp;In&nbsp;particular,&nbsp;we&nbsp;have</span><br>
<span class="lineno">185</span><span class="comment" id="1665656">//&nbsp;noticed&nbsp;drift&nbsp;between&nbsp;cpus&nbsp;on&nbsp;certain&nbsp;os/arch&nbsp;combinations.&nbsp;&nbsp;See&nbsp;issue&nbsp;8976.</span><br>
<span class="lineno"></span><span class="keyword" id="1665736">func</span>&nbsp;<span class="ident" id="1665741">cputicks</span><span class="op" id="1665749">(</span><span class="op" id="1665750">)</span>&nbsp;<span class="ident" id="1665752">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1665759">func</span>&nbsp;<span class="ident" id="1665764">mmap</span><span class="op" id="1665768">(</span><span class="ident" id="1665769">addr</span>&nbsp;<span class="ident" id="1665774">unsafe</span><span class="op" id="1665780">.</span><span class="ident" id="1665781">Pointer</span><span class="op" id="1665788">,</span>&nbsp;<span class="ident" id="1665790">n</span>&nbsp;<span class="builtintype" id="1665792">uintptr</span><span class="op" id="1665799">,</span>&nbsp;<span class="ident" id="1665801">prot</span><span class="op" id="1665805">,</span>&nbsp;<span class="ident" id="1665807">flags</span><span class="op" id="1665812">,</span>&nbsp;<span class="ident" id="1665814">fd</span>&nbsp;<span class="builtintype" id="1665817">int32</span><span class="op" id="1665822">,</span>&nbsp;<span class="ident" id="1665824">off</span>&nbsp;<span class="builtintype" id="1665828">uint32</span><span class="op" id="1665834">)</span>&nbsp;<span class="ident" id="1665836">unsafe</span><span class="op" id="1665842">.</span><span class="ident" id="1665843">Pointer</span><br>
<span class="lineno"></span><span class="keyword" id="1665851">func</span>&nbsp;<span class="ident" id="1665856">munmap</span><span class="op" id="1665862">(</span><span class="ident" id="1665863">addr</span>&nbsp;<span class="ident" id="1665868">unsafe</span><span class="op" id="1665874">.</span><span class="ident" id="1665875">Pointer</span><span class="op" id="1665882">,</span>&nbsp;<span class="ident" id="1665884">n</span>&nbsp;<span class="builtintype" id="1665886">uintptr</span><span class="op" id="1665893">)</span><br>
<span class="lineno">190</span><span class="keyword" id="1665895">func</span>&nbsp;<span class="ident" id="1665900">madvise</span><span class="op" id="1665907">(</span><span class="ident" id="1665908">addr</span>&nbsp;<span class="ident" id="1665913">unsafe</span><span class="op" id="1665919">.</span><span class="ident" id="1665920">Pointer</span><span class="op" id="1665927">,</span>&nbsp;<span class="ident" id="1665929">n</span>&nbsp;<span class="builtintype" id="1665931">uintptr</span><span class="op" id="1665938">,</span>&nbsp;<span class="ident" id="1665940">flags</span>&nbsp;<span class="builtintype" id="1665946">int32</span><span class="op" id="1665951">)</span><br>
<span class="lineno"></span><span class="keyword" id="1665953">func</span>&nbsp;<span class="ident" id="1665958">reflectcall</span><span class="op" id="1665969">(</span><span class="ident" id="1665970">fn</span><span class="op" id="1665972">,</span>&nbsp;<span class="ident" id="1665974">arg</span>&nbsp;<span class="ident" id="1665978">unsafe</span><span class="op" id="1665984">.</span><span class="ident" id="1665985">Pointer</span><span class="op" id="1665992">,</span>&nbsp;<span class="ident" id="1665994">n</span>&nbsp;<span class="builtintype" id="1665996">uint32</span><span class="op" id="1666002">,</span>&nbsp;<span class="ident" id="1666004">retoffset</span>&nbsp;<span class="builtintype" id="1666014">uint32</span><span class="op" id="1666020">)</span><br>
<span class="lineno"></span><span class="keyword" id="1666022">func</span>&nbsp;<span class="ident" id="1666027">osyield</span><span class="op" id="1666034">(</span><span class="op" id="1666035">)</span><br>
<span class="lineno"></span><span class="keyword" id="1666037">func</span>&nbsp;<span class="ident" id="1666042">procyield</span><span class="op" id="1666051">(</span><span class="ident" id="1666052">cycles</span>&nbsp;<span class="builtintype" id="1666059">uint32</span><span class="op" id="1666065">)</span><br>
<span class="lineno"></span><span class="keyword" id="1666067">func</span>&nbsp;<span class="ident" id="1666072">cgocallback_gofunc</span><span class="op" id="1666090">(</span><span class="ident" id="1666091">fv</span>&nbsp;<span class="op" id="1666094">*</span><span class="ident" id="1666095">funcval</span><span class="op" id="1666102">,</span>&nbsp;<span class="ident" id="1666104">frame</span>&nbsp;<span class="ident" id="1666110">unsafe</span><span class="op" id="1666116">.</span><span class="ident" id="1666117">Pointer</span><span class="op" id="1666124">,</span>&nbsp;<span class="ident" id="1666126">framesize</span>&nbsp;<span class="builtintype" id="1666136">uintptr</span><span class="op" id="1666143">)</span><br>
<span class="lineno">195</span><span class="keyword" id="1666145">func</span>&nbsp;<span class="ident" id="1666150">readgogc</span><span class="op" id="1666158">(</span><span class="op" id="1666159">)</span>&nbsp;<span class="builtintype" id="1666161">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1666167">func</span>&nbsp;<span class="ident" id="1666172">purgecachedstats</span><span class="op" id="1666188">(</span><span class="ident" id="1666189">c</span>&nbsp;<span class="op" id="1666191">*</span><span class="ident" id="1666192">mcache</span><span class="op" id="1666198">)</span><br>
<span class="lineno"></span><span class="keyword" id="1666200">func</span>&nbsp;<span class="ident" id="1666205">gostringnocopy</span><span class="op" id="1666219">(</span><span class="ident" id="1666220">b</span>&nbsp;<span class="op" id="1666222">*</span><span class="builtintype" id="1666223">byte</span><span class="op" id="1666227">)</span>&nbsp;<span class="builtintype" id="1666229">string</span><br>
<span class="lineno"></span><span class="keyword" id="1666236">func</span>&nbsp;<span class="ident" id="1666241">goexit</span><span class="op" id="1666247">(</span><span class="op" id="1666248">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="1666251">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1666265">func</span>&nbsp;<span class="ident" id="1666270">write</span><span class="op" id="1666275">(</span><span class="ident" id="1666276">fd</span>&nbsp;<span class="builtintype" id="1666279">uintptr</span><span class="op" id="1666286">,</span>&nbsp;<span class="ident" id="1666288">p</span>&nbsp;<span class="ident" id="1666290">unsafe</span><span class="op" id="1666296">.</span><span class="ident" id="1666297">Pointer</span><span class="op" id="1666304">,</span>&nbsp;<span class="ident" id="1666306">n</span>&nbsp;<span class="builtintype" id="1666308">int32</span><span class="op" id="1666313">)</span>&nbsp;<span class="builtintype" id="1666315">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1666322">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1666336">func</span>&nbsp;<span class="ident" id="1666341">cas</span><span class="op" id="1666344">(</span><span class="ident" id="1666345">ptr</span>&nbsp;<span class="op" id="1666349">*</span><span class="builtintype" id="1666350">uint32</span><span class="op" id="1666356">,</span>&nbsp;<span class="ident" id="1666358">old</span><span class="op" id="1666361">,</span>&nbsp;<span class="builtinfunc" id="1666363">new</span>&nbsp;<span class="builtintype" id="1666367">uint32</span><span class="op" id="1666373">)</span>&nbsp;<span class="builtintype" id="1666375">bool</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="comment" id="1666381">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1666395">func</span>&nbsp;<span class="ident" id="1666400">casp</span><span class="op" id="1666404">(</span><span class="ident" id="1666405">ptr</span>&nbsp;<span class="op" id="1666409">*</span><span class="ident" id="1666410">unsafe</span><span class="op" id="1666416">.</span><span class="ident" id="1666417">Pointer</span><span class="op" id="1666424">,</span>&nbsp;<span class="ident" id="1666426">old</span><span class="op" id="1666429">,</span>&nbsp;<span class="builtinfunc" id="1666431">new</span>&nbsp;<span class="ident" id="1666435">unsafe</span><span class="op" id="1666441">.</span><span class="ident" id="1666442">Pointer</span><span class="op" id="1666449">)</span>&nbsp;<span class="builtintype" id="1666451">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1666457">//go:noescape</span><br>
<span class="lineno">210</span><span class="keyword" id="1666471">func</span>&nbsp;<span class="ident" id="1666476">casuintptr</span><span class="op" id="1666486">(</span><span class="ident" id="1666487">ptr</span>&nbsp;<span class="op" id="1666491">*</span><span class="builtintype" id="1666492">uintptr</span><span class="op" id="1666499">,</span>&nbsp;<span class="ident" id="1666501">old</span><span class="op" id="1666504">,</span>&nbsp;<span class="builtinfunc" id="1666506">new</span>&nbsp;<span class="builtintype" id="1666510">uintptr</span><span class="op" id="1666517">)</span>&nbsp;<span class="builtintype" id="1666519">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1666525">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1666539">func</span>&nbsp;<span class="ident" id="1666544">atomicstoreuintptr</span><span class="op" id="1666562">(</span><span class="ident" id="1666563">ptr</span>&nbsp;<span class="op" id="1666567">*</span><span class="builtintype" id="1666568">uintptr</span><span class="op" id="1666575">,</span>&nbsp;<span class="builtinfunc" id="1666577">new</span>&nbsp;<span class="builtintype" id="1666581">uintptr</span><span class="op" id="1666588">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="1666591">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1666605">func</span>&nbsp;<span class="ident" id="1666610">atomicloaduintptr</span><span class="op" id="1666627">(</span><span class="ident" id="1666628">ptr</span>&nbsp;<span class="op" id="1666632">*</span><span class="builtintype" id="1666633">uintptr</span><span class="op" id="1666640">)</span>&nbsp;<span class="builtintype" id="1666642">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1666651">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1666665">func</span>&nbsp;<span class="ident" id="1666670">atomicloaduint</span><span class="op" id="1666684">(</span><span class="ident" id="1666685">ptr</span>&nbsp;<span class="op" id="1666689">*</span><span class="builtintype" id="1666690">uint</span><span class="op" id="1666694">)</span>&nbsp;<span class="builtintype" id="1666696">uint</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="comment" id="1666702">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1666716">func</span>&nbsp;<span class="ident" id="1666721">setcallerpc</span><span class="op" id="1666732">(</span><span class="ident" id="1666733">argp</span>&nbsp;<span class="ident" id="1666738">unsafe</span><span class="op" id="1666744">.</span><span class="ident" id="1666745">Pointer</span><span class="op" id="1666752">,</span>&nbsp;<span class="ident" id="1666754">pc</span>&nbsp;<span class="builtintype" id="1666757">uintptr</span><span class="op" id="1666764">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1666767">//&nbsp;getcallerpc&nbsp;returns&nbsp;the&nbsp;program&nbsp;counter&nbsp;(PC)&nbsp;of&nbsp;its&nbsp;caller&#39;s&nbsp;caller.</span><br>
<span class="lineno">225</span><span class="comment" id="1666839">//&nbsp;getcallersp&nbsp;returns&nbsp;the&nbsp;stack&nbsp;pointer&nbsp;(SP)&nbsp;of&nbsp;its&nbsp;caller&#39;s&nbsp;caller.</span><br>
<span class="lineno"></span><span class="comment" id="1666909">//&nbsp;For&nbsp;both,&nbsp;the&nbsp;argp&nbsp;must&nbsp;be&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;caller&#39;s&nbsp;first&nbsp;function&nbsp;argument.</span><br>
<span class="lineno"></span><span class="comment" id="1666990">//&nbsp;The&nbsp;implementation&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;use&nbsp;argp,&nbsp;depending&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1667050">//&nbsp;the&nbsp;architecture.</span><br>
<span class="lineno"></span><span class="comment" id="1667071">//</span><br>
<span class="lineno">230</span><span class="comment" id="1667074">//&nbsp;For&nbsp;example:</span><br>
<span class="lineno"></span><span class="comment" id="1667090">//</span><br>
<span class="lineno"></span><span class="comment" id="1667093">//&nbsp;&nbsp;&nbsp;&nbspfunc&nbsp;f(arg1,&nbsp;arg2,&nbsp;arg3&nbsp;int)&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="1667127">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsppc&nbsp;:=&nbsp;getcallerpc(unsafe.Pointer(&amp;arg1))</span><br>
<span class="lineno"></span><span class="comment" id="1667172">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspsp&nbsp;:=&nbsp;getcallerpc(unsafe.Pointer(&amp;arg2))</span><br>
<span class="lineno">235</span><span class="comment" id="1667217">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno"></span><span class="comment" id="1667222">//</span><br>
<span class="lineno"></span><span class="comment" id="1667225">//&nbsp;These&nbsp;two&nbsp;lines&nbsp;find&nbsp;the&nbsp;PC&nbsp;and&nbsp;SP&nbsp;immediately&nbsp;following</span><br>
<span class="lineno"></span><span class="comment" id="1667285">//&nbsp;the&nbsp;call&nbsp;to&nbsp;f&nbsp;(where&nbsp;f&nbsp;will&nbsp;return).</span><br>
<span class="lineno"></span><span class="comment" id="1667325">//</span><br>
<span class="lineno">240</span><span class="comment" id="1667328">//&nbsp;The&nbsp;call&nbsp;to&nbsp;getcallerpc&nbsp;and&nbsp;getcallersp&nbsp;must&nbsp;be&nbsp;done&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1667391">//&nbsp;frame&nbsp;being&nbsp;asked&nbsp;about.&nbsp;It&nbsp;would&nbsp;not&nbsp;be&nbsp;correct&nbsp;for&nbsp;f&nbsp;to&nbsp;pass&nbsp;&amp;arg1</span><br>
<span class="lineno"></span><span class="comment" id="1667463">//&nbsp;to&nbsp;another&nbsp;function&nbsp;g&nbsp;and&nbsp;let&nbsp;g&nbsp;call&nbsp;getcallerpc/getcallersp.</span><br>
<span class="lineno"></span><span class="comment" id="1667528">//&nbsp;The&nbsp;call&nbsp;inside&nbsp;g&nbsp;might&nbsp;return&nbsp;information&nbsp;about&nbsp;g&#39;s&nbsp;caller&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="1667594">//&nbsp;information&nbsp;about&nbsp;f&#39;s&nbsp;caller&nbsp;or&nbsp;complete&nbsp;garbage.</span><br>
<span class="lineno">245</span><span class="comment" id="1667647">//</span><br>
<span class="lineno"></span><span class="comment" id="1667650">//&nbsp;The&nbsp;result&nbsp;of&nbsp;getcallersp&nbsp;is&nbsp;correct&nbsp;at&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;return,</span><br>
<span class="lineno"></span><span class="comment" id="1667717">//&nbsp;but&nbsp;it&nbsp;may&nbsp;be&nbsp;invalidated&nbsp;by&nbsp;any&nbsp;subsequent&nbsp;call&nbsp;to&nbsp;a&nbsp;function</span><br>
<span class="lineno"></span><span class="comment" id="1667783">//&nbsp;that&nbsp;might&nbsp;relocate&nbsp;the&nbsp;stack&nbsp;in&nbsp;order&nbsp;to&nbsp;grow&nbsp;or&nbsp;shrink&nbsp;it.</span><br>
<span class="lineno"></span><span class="comment" id="1667847">//&nbsp;A&nbsp;general&nbsp;rule&nbsp;is&nbsp;that&nbsp;the&nbsp;result&nbsp;of&nbsp;getcallersp&nbsp;should&nbsp;be&nbsp;used</span><br>
<span class="lineno">250</span><span class="comment" id="1667914">//&nbsp;immediately&nbsp;and&nbsp;can&nbsp;only&nbsp;be&nbsp;passed&nbsp;to&nbsp;nosplit&nbsp;functions.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1667975">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1667989">func</span>&nbsp;<span class="ident" id="1667994">getcallerpc</span><span class="op" id="1668005">(</span><span class="ident" id="1668006">argp</span>&nbsp;<span class="ident" id="1668011">unsafe</span><span class="op" id="1668017">.</span><span class="ident" id="1668018">Pointer</span><span class="op" id="1668025">)</span>&nbsp;<span class="builtintype" id="1668027">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="comment" id="1668036">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1668050">func</span>&nbsp;<span class="ident" id="1668055">getcallersp</span><span class="op" id="1668066">(</span><span class="ident" id="1668067">argp</span>&nbsp;<span class="ident" id="1668072">unsafe</span><span class="op" id="1668078">.</span><span class="ident" id="1668079">Pointer</span><span class="op" id="1668086">)</span>&nbsp;<span class="builtintype" id="1668088">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1668097">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1668111">func</span>&nbsp;<span class="ident" id="1668116">asmcgocall</span><span class="op" id="1668126">(</span><span class="ident" id="1668127">fn</span><span class="op" id="1668129">,</span>&nbsp;<span class="ident" id="1668131">arg</span>&nbsp;<span class="ident" id="1668135">unsafe</span><span class="op" id="1668141">.</span><span class="ident" id="1668142">Pointer</span><span class="op" id="1668149">)</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="1668152">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1668166">func</span>&nbsp;<span class="ident" id="1668171">asmcgocall_errno</span><span class="op" id="1668187">(</span><span class="ident" id="1668188">fn</span><span class="op" id="1668190">,</span>&nbsp;<span class="ident" id="1668192">arg</span>&nbsp;<span class="ident" id="1668196">unsafe</span><span class="op" id="1668202">.</span><span class="ident" id="1668203">Pointer</span><span class="op" id="1668210">)</span>&nbsp;<span class="builtintype" id="1668212">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1668219">//go:noescape</span><br>
<span class="lineno">265</span><span class="keyword" id="1668233">func</span>&nbsp;<span class="ident" id="1668238">open</span><span class="op" id="1668242">(</span><span class="ident" id="1668243">name</span>&nbsp;<span class="op" id="1668248">*</span><span class="builtintype" id="1668249">byte</span><span class="op" id="1668253">,</span>&nbsp;<span class="ident" id="1668255">mode</span><span class="op" id="1668259">,</span>&nbsp;<span class="ident" id="1668261">perm</span>&nbsp;<span class="builtintype" id="1668266">int32</span><span class="op" id="1668271">)</span>&nbsp;<span class="builtintype" id="1668273">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1668280">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1668294">func</span>&nbsp;<span class="ident" id="1668299">gotraceback</span><span class="op" id="1668310">(</span><span class="op" id="1668311">*</span><span class="builtintype" id="1668312">bool</span><span class="op" id="1668316">)</span>&nbsp;<span class="builtintype" id="1668318">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="1668325">const</span>&nbsp;<span class="ident" id="1668331">_NoArgs</span>&nbsp;<span class="op" id="1668339">=</span>&nbsp;<span class="op" id="1668341">^</span><span class="builtintype" id="1668342">uintptr</span><span class="op" id="1668349">(</span><span class="num" id="1668350">0</span><span class="op" id="1668351">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1668354">func</span>&nbsp;<span class="ident" id="1668359">newstack</span><span class="op" id="1668367">(</span><span class="op" id="1668368">)</span><br>
<span class="lineno"></span><span class="keyword" id="1668370">func</span>&nbsp;<span class="ident" id="1668375">newproc</span><span class="op" id="1668382">(</span><span class="op" id="1668383">)</span><br>
<span class="lineno"></span><span class="keyword" id="1668385">func</span>&nbsp;<span class="ident" id="1668390">morestack</span><span class="op" id="1668399">(</span><span class="op" id="1668400">)</span><br>
<span class="lineno">275</span><span class="keyword" id="1668402">func</span>&nbsp;<span class="ident" id="1668407">mstart</span><span class="op" id="1668413">(</span><span class="op" id="1668414">)</span><br>
<span class="lineno"></span><span class="keyword" id="1668416">func</span>&nbsp;<span class="ident" id="1668421">rt0_go</span><span class="op" id="1668427">(</span><span class="op" id="1668428">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1668431">//&nbsp;return0&nbsp;is&nbsp;a&nbsp;stub&nbsp;used&nbsp;to&nbsp;return&nbsp;0&nbsp;from&nbsp;deferproc.</span><br>
<span class="lineno"></span><span class="comment" id="1668485">//&nbsp;It&nbsp;is&nbsp;called&nbsp;at&nbsp;the&nbsp;very&nbsp;end&nbsp;of&nbsp;deferproc&nbsp;to&nbsp;signal</span><br>
<span class="lineno">280</span><span class="comment" id="1668540">//&nbsp;the&nbsp;calling&nbsp;Go&nbsp;function&nbsp;that&nbsp;it&nbsp;should&nbsp;not&nbsp;jump</span><br>
<span class="lineno"></span><span class="comment" id="1668591">//&nbsp;to&nbsp;deferreturn.</span><br>
<span class="lineno"></span><span class="comment" id="1668610">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="1668624">func</span>&nbsp;<span class="ident" id="1668629">return0</span><span class="op" id="1668636">(</span><span class="op" id="1668637">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="comment" id="1668640">//&nbsp;thunk&nbsp;to&nbsp;call&nbsp;time.now.</span><br>
<span class="lineno"></span><span class="keyword" id="1668667">func</span>&nbsp;<span class="ident" id="1668672">timenow</span><span class="op" id="1668679">(</span><span class="op" id="1668680">)</span>&nbsp;<span class="op" id="1668682">(</span><span class="ident" id="1668683">sec</span>&nbsp;<span class="ident" id="1668687">int64</span><span class="op" id="1668692">,</span>&nbsp;<span class="ident" id="1668694">nsec</span>&nbsp;<span class="builtintype" id="1668699">int32</span><span class="op" id="1668704">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1668707">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1668721">//&nbsp;not&nbsp;called&nbsp;directly;&nbsp;definitions&nbsp;here&nbsp;supply&nbsp;type&nbsp;information&nbsp;for&nbsp;traceback.</span><br>
<span class="lineno">290</span><span class="keyword" id="1668801">func</span>&nbsp;<span class="ident" id="1668806">call16</span><span class="op" id="1668812">(</span><span class="ident" id="1668813">fn</span><span class="op" id="1668815">,</span>&nbsp;<span class="ident" id="1668817">arg</span>&nbsp;<span class="ident" id="1668821">unsafe</span><span class="op" id="1668827">.</span><span class="ident" id="1668828">Pointer</span><span class="op" id="1668835">,</span>&nbsp;<span class="ident" id="1668837">n</span><span class="op" id="1668838">,</span>&nbsp;<span class="ident" id="1668840">retoffset</span>&nbsp;<span class="builtintype" id="1668850">uint32</span><span class="op" id="1668856">)</span><br>
<span class="lineno"></span><span class="keyword" id="1668858">func</span>&nbsp;<span class="ident" id="1668863">call32</span><span class="op" id="1668869">(</span><span class="ident" id="1668870">fn</span><span class="op" id="1668872">,</span>&nbsp;<span class="ident" id="1668874">arg</span>&nbsp;<span class="ident" id="1668878">unsafe</span><span class="op" id="1668884">.</span><span class="ident" id="1668885">Pointer</span><span class="op" id="1668892">,</span>&nbsp;<span class="ident" id="1668894">n</span><span class="op" id="1668895">,</span>&nbsp;<span class="ident" id="1668897">retoffset</span>&nbsp;<span class="builtintype" id="1668907">uint32</span><span class="op" id="1668913">)</span><br>
<span class="lineno"></span><span class="keyword" id="1668915">func</span>&nbsp;<span class="ident" id="1668920">call64</span><span class="op" id="1668926">(</span><span class="ident" id="1668927">fn</span><span class="op" id="1668929">,</span>&nbsp;<span class="ident" id="1668931">arg</span>&nbsp;<span class="ident" id="1668935">unsafe</span><span class="op" id="1668941">.</span><span class="ident" id="1668942">Pointer</span><span class="op" id="1668949">,</span>&nbsp;<span class="ident" id="1668951">n</span><span class="op" id="1668952">,</span>&nbsp;<span class="ident" id="1668954">retoffset</span>&nbsp;<span class="builtintype" id="1668964">uint32</span><span class="op" id="1668970">)</span><br>
<span class="lineno"></span><span class="keyword" id="1668972">func</span>&nbsp;<span class="ident" id="1668977">call128</span><span class="op" id="1668984">(</span><span class="ident" id="1668985">fn</span><span class="op" id="1668987">,</span>&nbsp;<span class="ident" id="1668989">arg</span>&nbsp;<span class="ident" id="1668993">unsafe</span><span class="op" id="1668999">.</span><span class="ident" id="1669000">Pointer</span><span class="op" id="1669007">,</span>&nbsp;<span class="ident" id="1669009">n</span><span class="op" id="1669010">,</span>&nbsp;<span class="ident" id="1669012">retoffset</span>&nbsp;<span class="builtintype" id="1669022">uint32</span><span class="op" id="1669028">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669030">func</span>&nbsp;<span class="ident" id="1669035">call256</span><span class="op" id="1669042">(</span><span class="ident" id="1669043">fn</span><span class="op" id="1669045">,</span>&nbsp;<span class="ident" id="1669047">arg</span>&nbsp;<span class="ident" id="1669051">unsafe</span><span class="op" id="1669057">.</span><span class="ident" id="1669058">Pointer</span><span class="op" id="1669065">,</span>&nbsp;<span class="ident" id="1669067">n</span><span class="op" id="1669068">,</span>&nbsp;<span class="ident" id="1669070">retoffset</span>&nbsp;<span class="builtintype" id="1669080">uint32</span><span class="op" id="1669086">)</span><br>
<span class="lineno">295</span><span class="keyword" id="1669088">func</span>&nbsp;<span class="ident" id="1669093">call512</span><span class="op" id="1669100">(</span><span class="ident" id="1669101">fn</span><span class="op" id="1669103">,</span>&nbsp;<span class="ident" id="1669105">arg</span>&nbsp;<span class="ident" id="1669109">unsafe</span><span class="op" id="1669115">.</span><span class="ident" id="1669116">Pointer</span><span class="op" id="1669123">,</span>&nbsp;<span class="ident" id="1669125">n</span><span class="op" id="1669126">,</span>&nbsp;<span class="ident" id="1669128">retoffset</span>&nbsp;<span class="builtintype" id="1669138">uint32</span><span class="op" id="1669144">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669146">func</span>&nbsp;<span class="ident" id="1669151">call1024</span><span class="op" id="1669159">(</span><span class="ident" id="1669160">fn</span><span class="op" id="1669162">,</span>&nbsp;<span class="ident" id="1669164">arg</span>&nbsp;<span class="ident" id="1669168">unsafe</span><span class="op" id="1669174">.</span><span class="ident" id="1669175">Pointer</span><span class="op" id="1669182">,</span>&nbsp;<span class="ident" id="1669184">n</span><span class="op" id="1669185">,</span>&nbsp;<span class="ident" id="1669187">retoffset</span>&nbsp;<span class="builtintype" id="1669197">uint32</span><span class="op" id="1669203">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669205">func</span>&nbsp;<span class="ident" id="1669210">call2048</span><span class="op" id="1669218">(</span><span class="ident" id="1669219">fn</span><span class="op" id="1669221">,</span>&nbsp;<span class="ident" id="1669223">arg</span>&nbsp;<span class="ident" id="1669227">unsafe</span><span class="op" id="1669233">.</span><span class="ident" id="1669234">Pointer</span><span class="op" id="1669241">,</span>&nbsp;<span class="ident" id="1669243">n</span><span class="op" id="1669244">,</span>&nbsp;<span class="ident" id="1669246">retoffset</span>&nbsp;<span class="builtintype" id="1669256">uint32</span><span class="op" id="1669262">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669264">func</span>&nbsp;<span class="ident" id="1669269">call4096</span><span class="op" id="1669277">(</span><span class="ident" id="1669278">fn</span><span class="op" id="1669280">,</span>&nbsp;<span class="ident" id="1669282">arg</span>&nbsp;<span class="ident" id="1669286">unsafe</span><span class="op" id="1669292">.</span><span class="ident" id="1669293">Pointer</span><span class="op" id="1669300">,</span>&nbsp;<span class="ident" id="1669302">n</span><span class="op" id="1669303">,</span>&nbsp;<span class="ident" id="1669305">retoffset</span>&nbsp;<span class="builtintype" id="1669315">uint32</span><span class="op" id="1669321">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669323">func</span>&nbsp;<span class="ident" id="1669328">call8192</span><span class="op" id="1669336">(</span><span class="ident" id="1669337">fn</span><span class="op" id="1669339">,</span>&nbsp;<span class="ident" id="1669341">arg</span>&nbsp;<span class="ident" id="1669345">unsafe</span><span class="op" id="1669351">.</span><span class="ident" id="1669352">Pointer</span><span class="op" id="1669359">,</span>&nbsp;<span class="ident" id="1669361">n</span><span class="op" id="1669362">,</span>&nbsp;<span class="ident" id="1669364">retoffset</span>&nbsp;<span class="builtintype" id="1669374">uint32</span><span class="op" id="1669380">)</span><br>
<span class="lineno">300</span><span class="keyword" id="1669382">func</span>&nbsp;<span class="ident" id="1669387">call16384</span><span class="op" id="1669396">(</span><span class="ident" id="1669397">fn</span><span class="op" id="1669399">,</span>&nbsp;<span class="ident" id="1669401">arg</span>&nbsp;<span class="ident" id="1669405">unsafe</span><span class="op" id="1669411">.</span><span class="ident" id="1669412">Pointer</span><span class="op" id="1669419">,</span>&nbsp;<span class="ident" id="1669421">n</span><span class="op" id="1669422">,</span>&nbsp;<span class="ident" id="1669424">retoffset</span>&nbsp;<span class="builtintype" id="1669434">uint32</span><span class="op" id="1669440">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669442">func</span>&nbsp;<span class="ident" id="1669447">call32768</span><span class="op" id="1669456">(</span><span class="ident" id="1669457">fn</span><span class="op" id="1669459">,</span>&nbsp;<span class="ident" id="1669461">arg</span>&nbsp;<span class="ident" id="1669465">unsafe</span><span class="op" id="1669471">.</span><span class="ident" id="1669472">Pointer</span><span class="op" id="1669479">,</span>&nbsp;<span class="ident" id="1669481">n</span><span class="op" id="1669482">,</span>&nbsp;<span class="ident" id="1669484">retoffset</span>&nbsp;<span class="builtintype" id="1669494">uint32</span><span class="op" id="1669500">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669502">func</span>&nbsp;<span class="ident" id="1669507">call65536</span><span class="op" id="1669516">(</span><span class="ident" id="1669517">fn</span><span class="op" id="1669519">,</span>&nbsp;<span class="ident" id="1669521">arg</span>&nbsp;<span class="ident" id="1669525">unsafe</span><span class="op" id="1669531">.</span><span class="ident" id="1669532">Pointer</span><span class="op" id="1669539">,</span>&nbsp;<span class="ident" id="1669541">n</span><span class="op" id="1669542">,</span>&nbsp;<span class="ident" id="1669544">retoffset</span>&nbsp;<span class="builtintype" id="1669554">uint32</span><span class="op" id="1669560">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669562">func</span>&nbsp;<span class="ident" id="1669567">call131072</span><span class="op" id="1669577">(</span><span class="ident" id="1669578">fn</span><span class="op" id="1669580">,</span>&nbsp;<span class="ident" id="1669582">arg</span>&nbsp;<span class="ident" id="1669586">unsafe</span><span class="op" id="1669592">.</span><span class="ident" id="1669593">Pointer</span><span class="op" id="1669600">,</span>&nbsp;<span class="ident" id="1669602">n</span><span class="op" id="1669603">,</span>&nbsp;<span class="ident" id="1669605">retoffset</span>&nbsp;<span class="builtintype" id="1669615">uint32</span><span class="op" id="1669621">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669623">func</span>&nbsp;<span class="ident" id="1669628">call262144</span><span class="op" id="1669638">(</span><span class="ident" id="1669639">fn</span><span class="op" id="1669641">,</span>&nbsp;<span class="ident" id="1669643">arg</span>&nbsp;<span class="ident" id="1669647">unsafe</span><span class="op" id="1669653">.</span><span class="ident" id="1669654">Pointer</span><span class="op" id="1669661">,</span>&nbsp;<span class="ident" id="1669663">n</span><span class="op" id="1669664">,</span>&nbsp;<span class="ident" id="1669666">retoffset</span>&nbsp;<span class="builtintype" id="1669676">uint32</span><span class="op" id="1669682">)</span><br>
<span class="lineno">305</span><span class="keyword" id="1669684">func</span>&nbsp;<span class="ident" id="1669689">call524288</span><span class="op" id="1669699">(</span><span class="ident" id="1669700">fn</span><span class="op" id="1669702">,</span>&nbsp;<span class="ident" id="1669704">arg</span>&nbsp;<span class="ident" id="1669708">unsafe</span><span class="op" id="1669714">.</span><span class="ident" id="1669715">Pointer</span><span class="op" id="1669722">,</span>&nbsp;<span class="ident" id="1669724">n</span><span class="op" id="1669725">,</span>&nbsp;<span class="ident" id="1669727">retoffset</span>&nbsp;<span class="builtintype" id="1669737">uint32</span><span class="op" id="1669743">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669745">func</span>&nbsp;<span class="ident" id="1669750">call1048576</span><span class="op" id="1669761">(</span><span class="ident" id="1669762">fn</span><span class="op" id="1669764">,</span>&nbsp;<span class="ident" id="1669766">arg</span>&nbsp;<span class="ident" id="1669770">unsafe</span><span class="op" id="1669776">.</span><span class="ident" id="1669777">Pointer</span><span class="op" id="1669784">,</span>&nbsp;<span class="ident" id="1669786">n</span><span class="op" id="1669787">,</span>&nbsp;<span class="ident" id="1669789">retoffset</span>&nbsp;<span class="builtintype" id="1669799">uint32</span><span class="op" id="1669805">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669807">func</span>&nbsp;<span class="ident" id="1669812">call2097152</span><span class="op" id="1669823">(</span><span class="ident" id="1669824">fn</span><span class="op" id="1669826">,</span>&nbsp;<span class="ident" id="1669828">arg</span>&nbsp;<span class="ident" id="1669832">unsafe</span><span class="op" id="1669838">.</span><span class="ident" id="1669839">Pointer</span><span class="op" id="1669846">,</span>&nbsp;<span class="ident" id="1669848">n</span><span class="op" id="1669849">,</span>&nbsp;<span class="ident" id="1669851">retoffset</span>&nbsp;<span class="builtintype" id="1669861">uint32</span><span class="op" id="1669867">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669869">func</span>&nbsp;<span class="ident" id="1669874">call4194304</span><span class="op" id="1669885">(</span><span class="ident" id="1669886">fn</span><span class="op" id="1669888">,</span>&nbsp;<span class="ident" id="1669890">arg</span>&nbsp;<span class="ident" id="1669894">unsafe</span><span class="op" id="1669900">.</span><span class="ident" id="1669901">Pointer</span><span class="op" id="1669908">,</span>&nbsp;<span class="ident" id="1669910">n</span><span class="op" id="1669911">,</span>&nbsp;<span class="ident" id="1669913">retoffset</span>&nbsp;<span class="builtintype" id="1669923">uint32</span><span class="op" id="1669929">)</span><br>
<span class="lineno"></span><span class="keyword" id="1669931">func</span>&nbsp;<span class="ident" id="1669936">call8388608</span><span class="op" id="1669947">(</span><span class="ident" id="1669948">fn</span><span class="op" id="1669950">,</span>&nbsp;<span class="ident" id="1669952">arg</span>&nbsp;<span class="ident" id="1669956">unsafe</span><span class="op" id="1669962">.</span><span class="ident" id="1669963">Pointer</span><span class="op" id="1669970">,</span>&nbsp;<span class="ident" id="1669972">n</span><span class="op" id="1669973">,</span>&nbsp;<span class="ident" id="1669975">retoffset</span>&nbsp;<span class="builtintype" id="1669985">uint32</span><span class="op" id="1669991">)</span><br>
<span class="lineno">310</span><span class="keyword" id="1669993">func</span>&nbsp;<span class="ident" id="1669998">call16777216</span><span class="op" id="1670010">(</span><span class="ident" id="1670011">fn</span><span class="op" id="1670013">,</span>&nbsp;<span class="ident" id="1670015">arg</span>&nbsp;<span class="ident" id="1670019">unsafe</span><span class="op" id="1670025">.</span><span class="ident" id="1670026">Pointer</span><span class="op" id="1670033">,</span>&nbsp;<span class="ident" id="1670035">n</span><span class="op" id="1670036">,</span>&nbsp;<span class="ident" id="1670038">retoffset</span>&nbsp;<span class="builtintype" id="1670048">uint32</span><span class="op" id="1670054">)</span><br>
<span class="lineno"></span><span class="keyword" id="1670056">func</span>&nbsp;<span class="ident" id="1670061">call33554432</span><span class="op" id="1670073">(</span><span class="ident" id="1670074">fn</span><span class="op" id="1670076">,</span>&nbsp;<span class="ident" id="1670078">arg</span>&nbsp;<span class="ident" id="1670082">unsafe</span><span class="op" id="1670088">.</span><span class="ident" id="1670089">Pointer</span><span class="op" id="1670096">,</span>&nbsp;<span class="ident" id="1670098">n</span><span class="op" id="1670099">,</span>&nbsp;<span class="ident" id="1670101">retoffset</span>&nbsp;<span class="builtintype" id="1670111">uint32</span><span class="op" id="1670117">)</span><br>
<span class="lineno"></span><span class="keyword" id="1670119">func</span>&nbsp;<span class="ident" id="1670124">call67108864</span><span class="op" id="1670136">(</span><span class="ident" id="1670137">fn</span><span class="op" id="1670139">,</span>&nbsp;<span class="ident" id="1670141">arg</span>&nbsp;<span class="ident" id="1670145">unsafe</span><span class="op" id="1670151">.</span><span class="ident" id="1670152">Pointer</span><span class="op" id="1670159">,</span>&nbsp;<span class="ident" id="1670161">n</span><span class="op" id="1670162">,</span>&nbsp;<span class="ident" id="1670164">retoffset</span>&nbsp;<span class="builtintype" id="1670174">uint32</span><span class="op" id="1670180">)</span><br>
<span class="lineno"></span><span class="keyword" id="1670182">func</span>&nbsp;<span class="ident" id="1670187">call134217728</span><span class="op" id="1670200">(</span><span class="ident" id="1670201">fn</span><span class="op" id="1670203">,</span>&nbsp;<span class="ident" id="1670205">arg</span>&nbsp;<span class="ident" id="1670209">unsafe</span><span class="op" id="1670215">.</span><span class="ident" id="1670216">Pointer</span><span class="op" id="1670223">,</span>&nbsp;<span class="ident" id="1670225">n</span><span class="op" id="1670226">,</span>&nbsp;<span class="ident" id="1670228">retoffset</span>&nbsp;<span class="builtintype" id="1670238">uint32</span><span class="op" id="1670244">)</span><br>
<span class="lineno"></span><span class="keyword" id="1670246">func</span>&nbsp;<span class="ident" id="1670251">call268435456</span><span class="op" id="1670264">(</span><span class="ident" id="1670265">fn</span><span class="op" id="1670267">,</span>&nbsp;<span class="ident" id="1670269">arg</span>&nbsp;<span class="ident" id="1670273">unsafe</span><span class="op" id="1670279">.</span><span class="ident" id="1670280">Pointer</span><span class="op" id="1670287">,</span>&nbsp;<span class="ident" id="1670289">n</span><span class="op" id="1670290">,</span>&nbsp;<span class="ident" id="1670292">retoffset</span>&nbsp;<span class="builtintype" id="1670302">uint32</span><span class="op" id="1670308">)</span><br>
<span class="lineno">315</span><span class="keyword" id="1670310">func</span>&nbsp;<span class="ident" id="1670315">call536870912</span><span class="op" id="1670328">(</span><span class="ident" id="1670329">fn</span><span class="op" id="1670331">,</span>&nbsp;<span class="ident" id="1670333">arg</span>&nbsp;<span class="ident" id="1670337">unsafe</span><span class="op" id="1670343">.</span><span class="ident" id="1670344">Pointer</span><span class="op" id="1670351">,</span>&nbsp;<span class="ident" id="1670353">n</span><span class="op" id="1670354">,</span>&nbsp;<span class="ident" id="1670356">retoffset</span>&nbsp;<span class="builtintype" id="1670366">uint32</span><span class="op" id="1670372">)</span><br>
<span class="lineno"></span><span class="keyword" id="1670374">func</span>&nbsp;<span class="ident" id="1670379">call1073741824</span><span class="op" id="1670393">(</span><span class="ident" id="1670394">fn</span><span class="op" id="1670396">,</span>&nbsp;<span class="ident" id="1670398">arg</span>&nbsp;<span class="ident" id="1670402">unsafe</span><span class="op" id="1670408">.</span><span class="ident" id="1670409">Pointer</span><span class="op" id="1670416">,</span>&nbsp;<span class="ident" id="1670418">n</span><span class="op" id="1670419">,</span>&nbsp;<span class="ident" id="1670421">retoffset</span>&nbsp;<span class="builtintype" id="1670431">uint32</span><span class="op" id="1670437">)</span>
</div>
</body>
</html>
