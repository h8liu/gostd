<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/asm8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/asm8/bare_func.go.html">bare_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_file.go.html">build_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_func.go.html">build_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_lib.go.html">build_lib.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_var.go.html">build_var.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/builder.go.html">builder.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/check_type.go.html">check_type.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_hex.go.html">data_hex.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_nums.go.html">data_nums.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_str.go.html">data_str.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/file.go.html">file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/func_decl.go.html">func_decl.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/func_stmt.go.html">func_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst.go.html">inst.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_all.go.html">inst_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_br.go.html">inst_br.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_imm.go.html">inst_imm.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_jmp.go.html">inst_jmp.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_reg.go.html">inst_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_sys.go.html">inst_sys.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_all.go.html">lex_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_all_test.go.html">lex_all_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_comment.go.html">lex_comment.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_operand.go.html">lex_operand.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_string.go.html">lex_string.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lib.go.html">lib.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/package.go.html">package.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_arg.go.html">parse_arg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_file.go.html">parse_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func.go.html">parse_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func_stmt.go.html">parse_func_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func_test.go.html">parse_func_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_inst.go.html">parse_inst.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_label.go.html">parse_label.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_reg.go.html">parse_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_sym.go.html">parse_sym.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_var.go.html">parse_var.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_var_stmt.go.html">parse_var_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parser.go.html">parser.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/single_file.go.html">single_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/stmt_lexer.go.html">stmt_lexer.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/sym_scope.go.html">sym_scope.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/sym_table.go.html">sym_table.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/symbol.go.html">symbol.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/token.go.html">token.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/var_decl.go.html">var_decl.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/var_stmt.go.html">var_stmt.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="4880890">package</span>&nbsp;<span class="ident" id="4880898">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4880904">import</span>&nbsp;<span class="op" id="4880911">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4880914">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4880936">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4880939">func</span>&nbsp;<span class="ident" id="4880944">parseFuncStmts</span><span class="op" id="4880958">(</span><span class="ident" id="4880959">p</span>&nbsp;<span class="op" id="4880961">*</span><span class="ident" id="4880962">parser</span><span class="op" id="4880968">,</span>&nbsp;<span class="ident" id="4880970">f</span>&nbsp;<span class="op" id="4880972">*</span><span class="ident" id="4880973">funcDecl</span><span class="op" id="4880981">)</span>&nbsp;<span class="op" id="4880983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4880986">for</span>&nbsp;<span class="op" id="4880990">!</span><span class="op" id="4880991">(</span><span class="ident" id="4880992">p</span><span class="op" id="4880993">.</span><span class="ident" id="4880994">see</span><span class="op" id="4880997">(</span><span class="ident" id="4880998">Rbrace</span><span class="op" id="4881004">)</span>&nbsp;<span class="op" id="4881006">||</span>&nbsp;<span class="ident" id="4881009">p</span><span class="op" id="4881010">.</span><span class="ident" id="4881011">see</span><span class="op" id="4881014">(</span><span class="ident" id="4881015">lex8</span><span class="op" id="4881019">.</span><span class="ident" id="4881020">EOF</span><span class="op" id="4881023">)</span><span class="op" id="4881024">)</span>&nbsp;<span class="op" id="4881026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881030">stmt</span>&nbsp;<span class="op" id="4881035">:=</span>&nbsp;<span class="ident" id="4881038">parseFuncStmt</span><span class="op" id="4881051">(</span><span class="ident" id="4881052">p</span><span class="op" id="4881053">)</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4881057">if</span>&nbsp;<span class="ident" id="4881060">stmt</span>&nbsp;<span class="op" id="4881065">!=</span>&nbsp;<span class="ident" id="4881068">nil</span>&nbsp;<span class="op" id="4881072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881077">f</span><span class="op" id="4881078">.</span><span class="ident" id="4881079">stmts</span>&nbsp;<span class="op" id="4881085">=</span>&nbsp;<span class="builtinfunc" id="4881087">append</span><span class="op" id="4881093">(</span><span class="ident" id="4881094">f</span><span class="op" id="4881095">.</span><span class="ident" id="4881096">stmts</span><span class="op" id="4881101">,</span>&nbsp;<span class="ident" id="4881103">stmt</span><span class="op" id="4881107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4881111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881115">p</span><span class="op" id="4881116">.</span><span class="ident" id="4881117">clearErr</span><span class="op" id="4881125">(</span><span class="op" id="4881126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4881129">}</span><br>
<span class="lineno">15</span><span class="op" id="4881131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4881134">func</span>&nbsp;<span class="ident" id="4881139">parseBareFunc</span><span class="op" id="4881152">(</span><span class="ident" id="4881153">p</span>&nbsp;<span class="op" id="4881155">*</span><span class="ident" id="4881156">parser</span><span class="op" id="4881162">)</span>&nbsp;<span class="op" id="4881164">*</span><span class="ident" id="4881165">funcDecl</span>&nbsp;<span class="op" id="4881174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881177">ret</span>&nbsp;<span class="op" id="4881181">:=</span>&nbsp;<span class="builtinfunc" id="4881184">new</span><span class="op" id="4881187">(</span><span class="ident" id="4881188">funcDecl</span><span class="op" id="4881196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881199">ret</span><span class="op" id="4881202">.</span><span class="ident" id="4881203">name</span>&nbsp;<span class="op" id="4881208">=</span>&nbsp;<span class="op" id="4881210">&amp;</span><span class="ident" id="4881211">lex8</span><span class="op" id="4881215">.</span><span class="ident" id="4881216">Token</span><span class="op" id="4881221">{</span><span class="ident" id="4881222">Operand</span><span class="op" id="4881229">,</span>&nbsp;<span class="string" id="4881231">&#34;_&#34;</span><span class="op" id="4881234">,</span>&nbsp;<span class="ident" id="4881236">nil</span><span class="op" id="4881239">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881242">parseFuncStmts</span><span class="op" id="4881256">(</span><span class="ident" id="4881257">p</span><span class="op" id="4881258">,</span>&nbsp;<span class="ident" id="4881260">ret</span><span class="op" id="4881263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4881266">return</span>&nbsp;<span class="ident" id="4881273">ret</span><br>
<span class="lineno"></span><span class="op" id="4881277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4881280">func</span>&nbsp;<span class="ident" id="4881285">parseFunc</span><span class="op" id="4881294">(</span><span class="ident" id="4881295">p</span>&nbsp;<span class="op" id="4881297">*</span><span class="ident" id="4881298">parser</span><span class="op" id="4881304">)</span>&nbsp;<span class="op" id="4881306">*</span><span class="ident" id="4881307">funcDecl</span>&nbsp;<span class="op" id="4881316">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881319">ret</span>&nbsp;<span class="op" id="4881323">:=</span>&nbsp;<span class="builtinfunc" id="4881326">new</span><span class="op" id="4881329">(</span><span class="ident" id="4881330">funcDecl</span><span class="op" id="4881338">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881342">ret</span><span class="op" id="4881345">.</span><span class="ident" id="4881346">kw</span>&nbsp;<span class="op" id="4881349">=</span>&nbsp;<span class="ident" id="4881351">p</span><span class="op" id="4881352">.</span><span class="ident" id="4881353">expectKeyword</span><span class="op" id="4881366">(</span><span class="string" id="4881367">&#34;func&#34;</span><span class="op" id="4881373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881376">ret</span><span class="op" id="4881379">.</span><span class="ident" id="4881380">name</span>&nbsp;<span class="op" id="4881385">=</span>&nbsp;<span class="ident" id="4881387">p</span><span class="op" id="4881388">.</span><span class="ident" id="4881389">expect</span><span class="op" id="4881395">(</span><span class="ident" id="4881396">Operand</span><span class="op" id="4881403">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4881407">if</span>&nbsp;<span class="ident" id="4881410">ret</span><span class="op" id="4881413">.</span><span class="ident" id="4881414">name</span>&nbsp;<span class="op" id="4881419">!=</span>&nbsp;<span class="ident" id="4881422">nil</span>&nbsp;<span class="op" id="4881426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881430">name</span>&nbsp;<span class="op" id="4881435">:=</span>&nbsp;<span class="ident" id="4881438">ret</span><span class="op" id="4881441">.</span><span class="ident" id="4881442">name</span><span class="op" id="4881446">.</span><span class="ident" id="4881447">Lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4881453">if</span>&nbsp;<span class="op" id="4881456">!</span><span class="ident" id="4881457">isIdent</span><span class="op" id="4881464">(</span><span class="ident" id="4881465">name</span><span class="op" id="4881469">)</span>&nbsp;<span class="op" id="4881471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881476">p</span><span class="op" id="4881477">.</span><span class="ident" id="4881478">err</span><span class="op" id="4881481">(</span><span class="ident" id="4881482">ret</span><span class="op" id="4881485">.</span><span class="ident" id="4881486">name</span><span class="op" id="4881490">.</span><span class="ident" id="4881491">Pos</span><span class="op" id="4881494">,</span>&nbsp;<span class="string" id="4881496">&#34;invalid&nbsp;func&nbsp;name&nbsp;%q&#34;</span><span class="op" id="4881518">,</span>&nbsp;<span class="ident" id="4881520">name</span><span class="op" id="4881524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4881528">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4881531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881535">ret</span><span class="op" id="4881538">.</span><span class="ident" id="4881539">lbrace</span>&nbsp;<span class="op" id="4881546">=</span>&nbsp;<span class="ident" id="4881548">p</span><span class="op" id="4881549">.</span><span class="ident" id="4881550">expect</span><span class="op" id="4881556">(</span><span class="ident" id="4881557">Lbrace</span><span class="op" id="4881563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4881566">if</span>&nbsp;<span class="ident" id="4881569">p</span><span class="op" id="4881570">.</span><span class="ident" id="4881571">skipErrStmt</span><span class="op" id="4881582">(</span><span class="op" id="4881583">)</span>&nbsp;<span class="op" id="4881585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4881589">return</span>&nbsp;<span class="ident" id="4881596">ret</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4881601">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881605">parseFuncStmts</span><span class="op" id="4881619">(</span><span class="ident" id="4881620">p</span><span class="op" id="4881621">,</span>&nbsp;<span class="ident" id="4881623">ret</span><span class="op" id="4881626">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881630">ret</span><span class="op" id="4881633">.</span><span class="ident" id="4881634">rbrace</span>&nbsp;<span class="op" id="4881641">=</span>&nbsp;<span class="ident" id="4881643">p</span><span class="op" id="4881644">.</span><span class="ident" id="4881645">expect</span><span class="op" id="4881651">(</span><span class="ident" id="4881652">Rbrace</span><span class="op" id="4881658">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881661">ret</span><span class="op" id="4881664">.</span><span class="ident" id="4881665">semi</span>&nbsp;<span class="op" id="4881670">=</span>&nbsp;<span class="ident" id="4881672">p</span><span class="op" id="4881673">.</span><span class="ident" id="4881674">expect</span><span class="op" id="4881680">(</span><span class="ident" id="4881681">Semi</span><span class="op" id="4881685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4881688">p</span><span class="op" id="4881689">.</span><span class="ident" id="4881690">skipErrStmt</span><span class="op" id="4881701">(</span><span class="op" id="4881702">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4881706">return</span>&nbsp;<span class="ident" id="4881713">ret</span><br>
<span class="lineno"></span><span class="op" id="4881717">}</span>
</div>
</body>
</html>
