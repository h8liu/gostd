<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2187365">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2187420">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2187474">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2187525">//&nbsp;Linux-specific</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2187544">package</span>&nbsp;<span class="ident" id="2187552">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2187556">func</span>&nbsp;<span class="ident" id="2187561">hostname</span><span class="op" id="2187569">(</span><span class="op" id="2187570">)</span>&nbsp;<span class="op" id="2187572">(</span><span class="ident" id="2187573">name</span>&nbsp;<span class="builtintype" id="2187578">string</span><span class="op" id="2187584">,</span>&nbsp;<span class="ident" id="2187586">err</span>&nbsp;<span class="builtintype" id="2187590">error</span><span class="op" id="2187595">)</span>&nbsp;<span class="op" id="2187597">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2187600">f</span><span class="op" id="2187601">,</span>&nbsp;<span class="ident" id="2187603">err</span>&nbsp;<span class="op" id="2187607">:=</span>&nbsp;<span class="ident" id="2187610">Open</span><span class="op" id="2187614">(</span><span class="string" id="2187615">&#34;/proc/sys/kernel/hostname&#34;</span><span class="op" id="2187642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2187645">if</span>&nbsp;<span class="ident" id="2187648">err</span>&nbsp;<span class="op" id="2187652">!=</span>&nbsp;<span class="ident" id="2187655">nil</span>&nbsp;<span class="op" id="2187659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2187663">return</span>&nbsp;<span class="string" id="2187670">&#34;&#34;</span><span class="op" id="2187672">,</span>&nbsp;<span class="ident" id="2187674">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2187679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2187682">defer</span>&nbsp;<span class="ident" id="2187688">f</span><span class="op" id="2187689">.</span><span class="ident" id="2187690">Close</span><span class="op" id="2187695">(</span><span class="op" id="2187696">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2187700">var</span>&nbsp;<span class="ident" id="2187704">buf</span>&nbsp;<span class="op" id="2187708">[</span><span class="num" id="2187709">512</span><span class="op" id="2187712">]</span><span class="builtintype" id="2187713">byte</span>&nbsp;<span class="comment" id="2187718">//&nbsp;Enough&nbsp;for&nbsp;a&nbsp;DNS&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2187745">n</span><span class="op" id="2187746">,</span>&nbsp;<span class="ident" id="2187748">err</span>&nbsp;<span class="op" id="2187752">:=</span>&nbsp;<span class="ident" id="2187755">f</span><span class="op" id="2187756">.</span><span class="ident" id="2187757">Read</span><span class="op" id="2187761">(</span><span class="ident" id="2187762">buf</span><span class="op" id="2187765">[</span><span class="num" id="2187766">0</span><span class="op" id="2187767">:</span><span class="op" id="2187768">]</span><span class="op" id="2187769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2187772">if</span>&nbsp;<span class="ident" id="2187775">err</span>&nbsp;<span class="op" id="2187779">!=</span>&nbsp;<span class="ident" id="2187782">nil</span>&nbsp;<span class="op" id="2187786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2187790">return</span>&nbsp;<span class="string" id="2187797">&#34;&#34;</span><span class="op" id="2187799">,</span>&nbsp;<span class="ident" id="2187801">err</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2187806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2187810">if</span>&nbsp;<span class="ident" id="2187813">n</span>&nbsp;<span class="op" id="2187815">&gt;</span>&nbsp;<span class="num" id="2187817">0</span>&nbsp;<span class="op" id="2187819">&amp;&amp;</span>&nbsp;<span class="ident" id="2187822">buf</span><span class="op" id="2187825">[</span><span class="ident" id="2187826">n</span><span class="op" id="2187827">-</span><span class="num" id="2187828">1</span><span class="op" id="2187829">]</span>&nbsp;<span class="op" id="2187831">==</span>&nbsp;<span class="string" id="2187834">&#39;\n&#39;</span>&nbsp;<span class="op" id="2187839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2187843">n</span><span class="op" id="2187844">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2187848">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2187851">return</span>&nbsp;<span class="builtintype" id="2187858">string</span><span class="op" id="2187864">(</span><span class="ident" id="2187865">buf</span><span class="op" id="2187868">[</span><span class="num" id="2187869">0</span><span class="op" id="2187870">:</span><span class="ident" id="2187871">n</span><span class="op" id="2187872">]</span><span class="op" id="2187873">)</span><span class="op" id="2187874">,</span>&nbsp;<span class="ident" id="2187876">nil</span><br>
<span class="lineno"></span><span class="op" id="2187880">}</span>
</div>
</body>
</html>
