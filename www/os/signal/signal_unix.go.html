<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4910481">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4910536">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4910590">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4910641">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;nacl&nbsp;netbsd&nbsp;openbsd&nbsp;solaris&nbsp;windows</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4910719">package</span>&nbsp;<span class="ident" id="4910727">signal</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4910735">import</span>&nbsp;<span class="op" id="4910742">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4910745">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4910751">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="4910761">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4910764">//&nbsp;In&nbsp;assembly.</span><br>
<span class="lineno">15</span><span class="keyword" id="4910780">func</span>&nbsp;<span class="ident" id="4910785">signal_disable</span><span class="op" id="4910799">(</span><span class="builtintype" id="4910800">uint32</span><span class="op" id="4910806">)</span><br>
<span class="lineno"></span><span class="keyword" id="4910808">func</span>&nbsp;<span class="ident" id="4910813">signal_enable</span><span class="op" id="4910826">(</span><span class="builtintype" id="4910827">uint32</span><span class="op" id="4910833">)</span><br>
<span class="lineno"></span><span class="keyword" id="4910835">func</span>&nbsp;<span class="ident" id="4910840">signal_recv</span><span class="op" id="4910851">(</span><span class="op" id="4910852">)</span>&nbsp;<span class="builtintype" id="4910854">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4910862">func</span>&nbsp;<span class="ident" id="4910867">loop</span><span class="op" id="4910871">(</span><span class="op" id="4910872">)</span>&nbsp;<span class="op" id="4910874">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4910877">for</span>&nbsp;<span class="op" id="4910881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4910885"><a href="/os/signal/signal.go.html#4910229">process</a></span><span class="op" id="4910892">(</span><span class="ident" id="4910893"><a href="/os/signal/signal_unix.go.html#4910751">syscall</a></span><span class="op" id="4910900">.</span><span class="ident" id="4910901">Signal</span><span class="op" id="4910907">(</span><span class="ident" id="4910908"><a href="/os/signal/signal_unix.go.html#4910840">signal_recv</a></span><span class="op" id="4910919">(</span><span class="op" id="4910920">)</span><span class="op" id="4910921">)</span><span class="op" id="4910922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4910925">}</span><br>
<span class="lineno"></span><span class="op" id="4910927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="4910930">func</span>&nbsp;<span class="ident" id="4910935">init</span><span class="op" id="4910939">(</span><span class="op" id="4910940">)</span>&nbsp;<span class="op" id="4910942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4910945"><a href="/os/signal/signal_unix.go.html#4910813">signal_enable</a></span><span class="op" id="4910958">(</span><span class="num" id="4910959">0</span><span class="op" id="4910960">)</span>&nbsp;<span class="comment" id="4910962">//&nbsp;first&nbsp;call&nbsp;-&nbsp;initialize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4910990">go</span>&nbsp;<span class="ident" id="4910993"><a href="/os/signal/signal_unix.go.html#4910867">loop</a></span><span class="op" id="4910997">(</span><span class="op" id="4910998">)</span><br>
<span class="lineno"></span><span class="op" id="4911000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="4911003">const</span>&nbsp;<span class="op" id="4911009">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4911012">numSig</span>&nbsp;<span class="op" id="4911019">=</span>&nbsp;<span class="num" id="4911021">65</span>&nbsp;<span class="comment" id="4911024">//&nbsp;max&nbsp;across&nbsp;all&nbsp;systems</span><br>
<span class="lineno"></span><span class="op" id="4911050">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4911053">func</span>&nbsp;<span class="ident" id="4911058">signum</span><span class="op" id="4911064">(</span><span class="ident" id="4911065">sig</span>&nbsp;<span class="ident" id="4911069"><a href="/os/signal/signal_unix.go.html#4910745">os</a></span><span class="op" id="4911071">.</span><span class="ident" id="4911072">Signal</span><span class="op" id="4911078">)</span>&nbsp;<span class="builtintype" id="4911080">int</span>&nbsp;<span class="op" id="4911084">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4911087">switch</span>&nbsp;<span class="ident" id="4911094">sig</span>&nbsp;<span class="op" id="4911098">:=</span>&nbsp;<span class="ident" id="4911101"><a href="/os/signal/signal_unix.go.html#4911065">sig</a></span><span class="op" id="4911104">.</span><span class="op" id="4911105">(</span><span class="keyword" id="4911106">type</span><span class="op" id="4911110">)</span>&nbsp;<span class="op" id="4911112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4911115">case</span>&nbsp;<span class="ident" id="4911120"><a href="/os/signal/signal_unix.go.html#4910751">syscall</a></span><span class="op" id="4911127">.</span><span class="ident" id="4911128">Signal</span><span class="op" id="4911134">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4911138">i</span>&nbsp;<span class="op" id="4911140">:=</span>&nbsp;<span class="builtintype" id="4911143">int</span><span class="op" id="4911146">(</span><span class="ident" id="4911147"><a href="/os/signal/signal_unix.go.html#4911094">sig</a></span><span class="op" id="4911150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4911154">if</span>&nbsp;<span class="ident" id="4911157"><a href="/os/signal/signal_unix.go.html#4911138">i</a></span>&nbsp;<span class="op" id="4911159">&lt;</span>&nbsp;<span class="num" id="4911161">0</span>&nbsp;<span class="op" id="4911163">||</span>&nbsp;<span class="ident" id="4911166"><a href="/os/signal/signal_unix.go.html#4911138">i</a></span>&nbsp;<span class="op" id="4911168">&gt;=</span>&nbsp;<span class="ident" id="4911171"><a href="/os/signal/signal_unix.go.html#4911012">numSig</a></span>&nbsp;<span class="op" id="4911178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4911183">return</span>&nbsp;<span class="op" id="4911190">-</span><span class="num" id="4911191">1</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4911195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4911199">return</span>&nbsp;<span class="ident" id="4911206"><a href="/os/signal/signal_unix.go.html#4911138">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4911209">default</span><span class="op" id="4911216">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4911220">return</span>&nbsp;<span class="op" id="4911227">-</span><span class="num" id="4911228">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4911231">}</span><br>
<span class="lineno">45</span><span class="op" id="4911233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4911236">func</span>&nbsp;<span class="ident" id="4911241">enableSignal</span><span class="op" id="4911253">(</span><span class="ident" id="4911254">sig</span>&nbsp;<span class="builtintype" id="4911258">int</span><span class="op" id="4911261">)</span>&nbsp;<span class="op" id="4911263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4911266"><a href="/os/signal/signal_unix.go.html#4910813">signal_enable</a></span><span class="op" id="4911279">(</span><span class="builtintype" id="4911280">uint32</span><span class="op" id="4911286">(</span><span class="ident" id="4911287"><a href="/os/signal/signal_unix.go.html#4911254">sig</a></span><span class="op" id="4911290">)</span><span class="op" id="4911291">)</span><br>
<span class="lineno"></span><span class="op" id="4911293">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="4911296">func</span>&nbsp;<span class="ident" id="4911301">disableSignal</span><span class="op" id="4911314">(</span><span class="ident" id="4911315">sig</span>&nbsp;<span class="builtintype" id="4911319">int</span><span class="op" id="4911322">)</span>&nbsp;<span class="op" id="4911324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4911327"><a href="/os/signal/signal_unix.go.html#4910785">signal_disable</a></span><span class="op" id="4911341">(</span><span class="builtintype" id="4911342">uint32</span><span class="op" id="4911348">(</span><span class="ident" id="4911349"><a href="/os/signal/signal_unix.go.html#4911315">sig</a></span><span class="op" id="4911352">)</span><span class="op" id="4911353">)</span><br>
<span class="lineno"></span><span class="op" id="4911355">}</span>
</div>
</body>
</html>
