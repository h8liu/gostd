<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html" class="current">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7035473">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7035528">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7035582">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7035633">package</span>&nbsp;<span class="ident" id="7035641">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7035647">import</span>&nbsp;<span class="op" id="7035654">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7035657">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7035670">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7035676">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7035693">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7035703">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7035706">func</span>&nbsp;<span class="ident" id="7035711">checker</span><span class="op" id="7035718">(</span><span class="ident" id="7035719">t</span>&nbsp;<span class="op" id="7035721">*</span><span class="ident" id="7035722">testing</span><span class="op" id="7035729">.</span><span class="ident" id="7035730">T</span><span class="op" id="7035731">)</span>&nbsp;<span class="keyword" id="7035733">func</span><span class="op" id="7035737">(</span><span class="builtintype" id="7035738">string</span><span class="op" id="7035744">,</span>&nbsp;<span class="builtintype" id="7035746">error</span><span class="op" id="7035751">)</span>&nbsp;<span class="op" id="7035753">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7035756">return</span>&nbsp;<span class="keyword" id="7035763">func</span><span class="op" id="7035767">(</span><span class="ident" id="7035768">call</span>&nbsp;<span class="builtintype" id="7035773">string</span><span class="op" id="7035779">,</span>&nbsp;<span class="ident" id="7035781">err</span>&nbsp;<span class="builtintype" id="7035785">error</span><span class="op" id="7035790">)</span>&nbsp;<span class="op" id="7035792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7035796">if</span>&nbsp;<span class="ident" id="7035799">err</span>&nbsp;<span class="op" id="7035803">==</span>&nbsp;<span class="ident" id="7035806">nil</span>&nbsp;<span class="op" id="7035810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7035815">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035828">t</span><span class="op" id="7035829">.</span><span class="ident" id="7035830">Fatalf</span><span class="op" id="7035836">(</span><span class="string" id="7035837">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="7035845">,</span>&nbsp;<span class="ident" id="7035847">call</span><span class="op" id="7035851">,</span>&nbsp;<span class="ident" id="7035853">err</span><span class="op" id="7035856">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035859">}</span><br>
<span class="lineno"></span><span class="op" id="7035861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7035864">func</span>&nbsp;<span class="ident" id="7035869">TestFileTransport</span><span class="op" id="7035886">(</span><span class="ident" id="7035887">t</span>&nbsp;<span class="op" id="7035889">*</span><span class="ident" id="7035890">testing</span><span class="op" id="7035897">.</span><span class="ident" id="7035898">T</span><span class="op" id="7035899">)</span>&nbsp;<span class="op" id="7035901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035904">check</span>&nbsp;<span class="op" id="7035910">:=</span>&nbsp;<span class="ident" id="7035913">checker</span><span class="op" id="7035920">(</span><span class="ident" id="7035921">t</span><span class="op" id="7035922">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035926">dname</span><span class="op" id="7035931">,</span>&nbsp;<span class="ident" id="7035933">err</span>&nbsp;<span class="op" id="7035937">:=</span>&nbsp;<span class="ident" id="7035940">ioutil</span><span class="op" id="7035946">.</span><span class="ident" id="7035947">TempDir</span><span class="op" id="7035954">(</span><span class="string" id="7035955">&#34;&#34;</span><span class="op" id="7035957">,</span>&nbsp;<span class="string" id="7035959">&#34;&#34;</span><span class="op" id="7035961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035964">check</span><span class="op" id="7035969">(</span><span class="string" id="7035970">&#34;TempDir&#34;</span><span class="op" id="7035979">,</span>&nbsp;<span class="ident" id="7035981">err</span><span class="op" id="7035984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035987">fname</span>&nbsp;<span class="op" id="7035993">:=</span>&nbsp;<span class="ident" id="7035996">filepath</span><span class="op" id="7036004">.</span><span class="ident" id="7036005">Join</span><span class="op" id="7036009">(</span><span class="ident" id="7036010">dname</span><span class="op" id="7036015">,</span>&nbsp;<span class="string" id="7036017">&#34;foo.txt&#34;</span><span class="op" id="7036026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036029">err</span>&nbsp;<span class="op" id="7036033">=</span>&nbsp;<span class="ident" id="7036035">ioutil</span><span class="op" id="7036041">.</span><span class="ident" id="7036042">WriteFile</span><span class="op" id="7036051">(</span><span class="ident" id="7036052">fname</span><span class="op" id="7036057">,</span>&nbsp;<span class="op" id="7036059">[</span><span class="op" id="7036060">]</span><span class="builtintype" id="7036061">byte</span><span class="op" id="7036065">(</span><span class="string" id="7036066">&#34;Bar&#34;</span><span class="op" id="7036071">)</span><span class="op" id="7036072">,</span>&nbsp;<span class="num" id="7036074">0644</span><span class="op" id="7036078">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036081">check</span><span class="op" id="7036086">(</span><span class="string" id="7036087">&#34;WriteFile&#34;</span><span class="op" id="7036098">,</span>&nbsp;<span class="ident" id="7036100">err</span><span class="op" id="7036103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036106">defer</span>&nbsp;<span class="ident" id="7036112">os</span><span class="op" id="7036114">.</span><span class="ident" id="7036115">Remove</span><span class="op" id="7036121">(</span><span class="ident" id="7036122">dname</span><span class="op" id="7036127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036130">defer</span>&nbsp;<span class="ident" id="7036136">os</span><span class="op" id="7036138">.</span><span class="ident" id="7036139">Remove</span><span class="op" id="7036145">(</span><span class="ident" id="7036146">fname</span><span class="op" id="7036151">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036155">tr</span>&nbsp;<span class="op" id="7036158">:=</span>&nbsp;<span class="op" id="7036161">&amp;</span><span class="ident" id="7036162">Transport</span><span class="op" id="7036171">{</span><span class="op" id="7036172">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036175">tr</span><span class="op" id="7036177">.</span><span class="ident" id="7036178">RegisterProtocol</span><span class="op" id="7036194">(</span><span class="string" id="7036195">&#34;file&#34;</span><span class="op" id="7036201">,</span>&nbsp;<span class="ident" id="7036203">NewFileTransport</span><span class="op" id="7036219">(</span><span class="ident" id="7036220">Dir</span><span class="op" id="7036223">(</span><span class="ident" id="7036224">dname</span><span class="op" id="7036229">)</span><span class="op" id="7036230">)</span><span class="op" id="7036231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036234">c</span>&nbsp;<span class="op" id="7036236">:=</span>&nbsp;<span class="op" id="7036239">&amp;</span><span class="ident" id="7036240">Client</span><span class="op" id="7036246">{</span><span class="ident" id="7036247">Transport</span><span class="op" id="7036256">:</span>&nbsp;<span class="ident" id="7036258">tr</span><span class="op" id="7036260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036264">fooURLs</span>&nbsp;<span class="op" id="7036272">:=</span>&nbsp;<span class="op" id="7036275">[</span><span class="op" id="7036276">]</span><span class="builtintype" id="7036277">string</span><span class="op" id="7036283">{</span><span class="string" id="7036284">&#34;file:///foo.txt&#34;</span><span class="op" id="7036301">,</span>&nbsp;<span class="string" id="7036303">&#34;file://../foo.txt&#34;</span><span class="op" id="7036322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036325">for</span>&nbsp;<span class="ident" id="7036329">_</span><span class="op" id="7036330">,</span>&nbsp;<span class="ident" id="7036332">urlstr</span>&nbsp;<span class="op" id="7036339">:=</span>&nbsp;<span class="keyword" id="7036342">range</span>&nbsp;<span class="ident" id="7036348">fooURLs</span>&nbsp;<span class="op" id="7036356">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036360">res</span><span class="op" id="7036363">,</span>&nbsp;<span class="ident" id="7036365">err</span>&nbsp;<span class="op" id="7036369">:=</span>&nbsp;<span class="ident" id="7036372">c</span><span class="op" id="7036373">.</span><span class="ident" id="7036374">Get</span><span class="op" id="7036377">(</span><span class="ident" id="7036378">urlstr</span><span class="op" id="7036384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036388">check</span><span class="op" id="7036393">(</span><span class="string" id="7036394">&#34;Get&nbsp;&#34;</span><span class="op" id="7036400">+</span><span class="ident" id="7036401">urlstr</span><span class="op" id="7036407">,</span>&nbsp;<span class="ident" id="7036409">err</span><span class="op" id="7036412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036416">if</span>&nbsp;<span class="ident" id="7036419">res</span><span class="op" id="7036422">.</span><span class="ident" id="7036423">StatusCode</span>&nbsp;<span class="op" id="7036434">!=</span>&nbsp;<span class="num" id="7036437">200</span>&nbsp;<span class="op" id="7036441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036446">t</span><span class="op" id="7036447">.</span><span class="ident" id="7036448">Errorf</span><span class="op" id="7036454">(</span><span class="string" id="7036455">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;200&#34;</span><span class="op" id="7036490">,</span>&nbsp;<span class="ident" id="7036492">urlstr</span><span class="op" id="7036498">,</span>&nbsp;<span class="ident" id="7036500">res</span><span class="op" id="7036503">.</span><span class="ident" id="7036504">StatusCode</span><span class="op" id="7036514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036518">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036522">if</span>&nbsp;<span class="ident" id="7036525">res</span><span class="op" id="7036528">.</span><span class="ident" id="7036529">ContentLength</span>&nbsp;<span class="op" id="7036543">!=</span>&nbsp;<span class="op" id="7036546">-</span><span class="num" id="7036547">1</span>&nbsp;<span class="op" id="7036549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036554">t</span><span class="op" id="7036555">.</span><span class="ident" id="7036556">Errorf</span><span class="op" id="7036562">(</span><span class="string" id="7036563">&#34;for&nbsp;%s,&nbsp;ContentLength&nbsp;=&nbsp;%d,&nbsp;want&nbsp;-1&#34;</span><span class="op" id="7036600">,</span>&nbsp;<span class="ident" id="7036602">urlstr</span><span class="op" id="7036608">,</span>&nbsp;<span class="ident" id="7036610">res</span><span class="op" id="7036613">.</span><span class="ident" id="7036614">ContentLength</span><span class="op" id="7036627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036635">if</span>&nbsp;<span class="ident" id="7036638">res</span><span class="op" id="7036641">.</span><span class="ident" id="7036642">Body</span>&nbsp;<span class="op" id="7036647">==</span>&nbsp;<span class="ident" id="7036650">nil</span>&nbsp;<span class="op" id="7036654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036659">t</span><span class="op" id="7036660">.</span><span class="ident" id="7036661">Fatalf</span><span class="op" id="7036667">(</span><span class="string" id="7036668">&#34;for&nbsp;%s,&nbsp;nil&nbsp;Body&#34;</span><span class="op" id="7036686">,</span>&nbsp;<span class="ident" id="7036688">urlstr</span><span class="op" id="7036694">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036702">slurp</span><span class="op" id="7036707">,</span>&nbsp;<span class="ident" id="7036709">err</span>&nbsp;<span class="op" id="7036713">:=</span>&nbsp;<span class="ident" id="7036716">ioutil</span><span class="op" id="7036722">.</span><span class="ident" id="7036723">ReadAll</span><span class="op" id="7036730">(</span><span class="ident" id="7036731">res</span><span class="op" id="7036734">.</span><span class="ident" id="7036735">Body</span><span class="op" id="7036739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036743">check</span><span class="op" id="7036748">(</span><span class="string" id="7036749">&#34;ReadAll&nbsp;&#34;</span><span class="op" id="7036759">+</span><span class="ident" id="7036760">urlstr</span><span class="op" id="7036766">,</span>&nbsp;<span class="ident" id="7036768">err</span><span class="op" id="7036771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036775">if</span>&nbsp;<span class="builtintype" id="7036778">string</span><span class="op" id="7036784">(</span><span class="ident" id="7036785">slurp</span><span class="op" id="7036790">)</span>&nbsp;<span class="op" id="7036792">!=</span>&nbsp;<span class="string" id="7036795">&#34;Bar&#34;</span>&nbsp;<span class="op" id="7036801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036806">t</span><span class="op" id="7036807">.</span><span class="ident" id="7036808">Errorf</span><span class="op" id="7036814">(</span><span class="string" id="7036815">&#34;for&nbsp;%s,&nbsp;got&nbsp;content&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7036848">,</span>&nbsp;<span class="ident" id="7036850">urlstr</span><span class="op" id="7036856">,</span>&nbsp;<span class="builtintype" id="7036858">string</span><span class="op" id="7036864">(</span><span class="ident" id="7036865">slurp</span><span class="op" id="7036870">)</span><span class="op" id="7036871">,</span>&nbsp;<span class="string" id="7036873">&#34;Bar&#34;</span><span class="op" id="7036878">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036889">const</span>&nbsp;<span class="ident" id="7036895">badURL</span>&nbsp;<span class="op" id="7036902">=</span>&nbsp;<span class="string" id="7036904">&#34;file://../no-exist.txt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036930">res</span><span class="op" id="7036933">,</span>&nbsp;<span class="ident" id="7036935">err</span>&nbsp;<span class="op" id="7036939">:=</span>&nbsp;<span class="ident" id="7036942">c</span><span class="op" id="7036943">.</span><span class="ident" id="7036944">Get</span><span class="op" id="7036947">(</span><span class="ident" id="7036948">badURL</span><span class="op" id="7036954">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036957">check</span><span class="op" id="7036962">(</span><span class="string" id="7036963">&#34;Get&nbsp;&#34;</span><span class="op" id="7036969">+</span><span class="ident" id="7036970">badURL</span><span class="op" id="7036976">,</span>&nbsp;<span class="ident" id="7036978">err</span><span class="op" id="7036981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036984">if</span>&nbsp;<span class="ident" id="7036987">res</span><span class="op" id="7036990">.</span><span class="ident" id="7036991">StatusCode</span>&nbsp;<span class="op" id="7037002">!=</span>&nbsp;<span class="num" id="7037005">404</span>&nbsp;<span class="op" id="7037009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037013">t</span><span class="op" id="7037014">.</span><span class="ident" id="7037015">Errorf</span><span class="op" id="7037021">(</span><span class="string" id="7037022">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;404&#34;</span><span class="op" id="7037057">,</span>&nbsp;<span class="ident" id="7037059">badURL</span><span class="op" id="7037065">,</span>&nbsp;<span class="ident" id="7037067">res</span><span class="op" id="7037070">.</span><span class="ident" id="7037071">StatusCode</span><span class="op" id="7037081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037087">res</span><span class="op" id="7037090">.</span><span class="ident" id="7037091">Body</span><span class="op" id="7037095">.</span><span class="ident" id="7037096">Close</span><span class="op" id="7037101">(</span><span class="op" id="7037102">)</span><br>
<span class="lineno">65</span><span class="op" id="7037104">}</span>
</div>
</body>
</html>
