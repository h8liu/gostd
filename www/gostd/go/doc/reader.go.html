<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html" class="current">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3511253">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3511308">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3511362">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3511413">package</span>&nbsp;<span class="ident" id="3511421">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3511426">import</span>&nbsp;<span class="op" id="3511433">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3511436">&#34;go/ast&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3511446">&#34;go/token&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3511458">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3511468">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3511476">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="3511486">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3511489">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="3511569">//&nbsp;function/method&nbsp;sets</span><br>
<span class="lineno"></span><span class="comment" id="3511593">//</span><br>
<span class="lineno"></span><span class="comment" id="3511596">//&nbsp;Internally,&nbsp;we&nbsp;treat&nbsp;functions&nbsp;like&nbsp;methods&nbsp;and&nbsp;collect&nbsp;them&nbsp;in&nbsp;method&nbsp;sets.</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="3511677">//&nbsp;A&nbsp;methodSet&nbsp;describes&nbsp;a&nbsp;set&nbsp;of&nbsp;methods.&nbsp;Entries&nbsp;where&nbsp;Decl&nbsp;==&nbsp;nil&nbsp;are&nbsp;conflict</span><br>
<span class="lineno"></span><span class="comment" id="3511759">//&nbsp;entries&nbsp;(more&nbsp;then&nbsp;one&nbsp;method&nbsp;with&nbsp;the&nbsp;same&nbsp;name&nbsp;at&nbsp;the&nbsp;same&nbsp;embedding&nbsp;level).</span><br>
<span class="lineno"></span><span class="comment" id="3511841">//</span><br>
<span class="lineno"></span><span class="keyword" id="3511844">type</span>&nbsp;<span class="ident" id="3511849">methodSet</span>&nbsp;<span class="keyword" id="3511859">map</span><span class="op" id="3511862">[</span><span class="builtintype" id="3511863">string</span><span class="op" id="3511869">]</span><span class="op" id="3511870">*</span><span class="ident" id="3511871"><a href="/gostd/go/doc/doc.go.html#3491532">Func</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="3511877">//&nbsp;recvString&nbsp;returns&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;recv&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3511938">//&nbsp;form&nbsp;&#34;T&#34;,&nbsp;&#34;*T&#34;,&nbsp;or&nbsp;&#34;BADRECV&#34;&nbsp;(if&nbsp;not&nbsp;a&nbsp;proper&nbsp;receiver&nbsp;type).</span><br>
<span class="lineno"></span><span class="comment" id="3512003">//</span><br>
<span class="lineno"></span><span class="keyword" id="3512006">func</span>&nbsp;<span class="ident" id="3512011">recvString</span><span class="op" id="3512021">(</span><span class="ident" id="3512022">recv</span>&nbsp;<span class="ident" id="3512027"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3512030">.</span><span class="ident" id="3512031"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="3512035">)</span>&nbsp;<span class="builtintype" id="3512037">string</span>&nbsp;<span class="op" id="3512044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512047">switch</span>&nbsp;<span class="ident" id="3512054">t</span>&nbsp;<span class="op" id="3512056">:=</span>&nbsp;<span class="ident" id="3512059"><a href="/gostd/go/doc/reader.go.html#3512022">recv</a></span><span class="op" id="3512063">.</span><span class="op" id="3512064">(</span><span class="keyword" id="3512065">type</span><span class="op" id="3512069">)</span>&nbsp;<span class="op" id="3512071">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512074">case</span>&nbsp;<span class="op" id="3512079">*</span><span class="ident" id="3512080"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3512083">.</span><span class="ident" id="3512084"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="3512089">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512093">return</span>&nbsp;<span class="ident" id="3512100"><a href="/gostd/go/doc/reader.go.html#3512054">t</a></span><span class="op" id="3512101">.</span><span class="ident" id="3512102"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512108">case</span>&nbsp;<span class="op" id="3512113">*</span><span class="ident" id="3512114"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3512117">.</span><span class="ident" id="3512118"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="3512126">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512130">return</span>&nbsp;<span class="string" id="3512137">&#34;*&#34;</span>&nbsp;<span class="op" id="3512141">+</span>&nbsp;<span class="ident" id="3512143"><a href="/gostd/go/doc/reader.go.html#3512011">recvString</a></span><span class="op" id="3512153">(</span><span class="ident" id="3512154"><a href="/gostd/go/doc/reader.go.html#3512054">t</a></span><span class="op" id="3512155">.</span><span class="ident" id="3512156"><a href="/gostd/go/ast/ast.go.html#3803216">X</a></span><span class="op" id="3512157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3512160">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512163">return</span>&nbsp;<span class="string" id="3512170">&#34;BADRECV&#34;</span><br>
<span class="lineno"></span><span class="op" id="3512180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3512183">//&nbsp;set&nbsp;creates&nbsp;the&nbsp;corresponding&nbsp;Func&nbsp;for&nbsp;f&nbsp;and&nbsp;adds&nbsp;it&nbsp;to&nbsp;mset.</span><br>
<span class="lineno"></span><span class="comment" id="3512248">//&nbsp;If&nbsp;there&nbsp;are&nbsp;multiple&nbsp;f&#39;s&nbsp;with&nbsp;the&nbsp;same&nbsp;name,&nbsp;set&nbsp;keeps&nbsp;the&nbsp;first</span><br>
<span class="lineno">40</span><span class="comment" id="3512317">//&nbsp;one&nbsp;with&nbsp;documentation;&nbsp;conflicts&nbsp;are&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="3512367">//</span><br>
<span class="lineno"></span><span class="keyword" id="3512370">func</span>&nbsp;<span class="op" id="3512375">(</span><span class="ident" id="3512376">mset</span>&nbsp;<span class="ident" id="3512381"><a href="/gostd/go/doc/reader.go.html#3511849">methodSet</a></span><span class="op" id="3512390">)</span>&nbsp;<span class="ident" id="3512392">set</span><span class="op" id="3512395">(</span><span class="ident" id="3512396">f</span>&nbsp;<span class="op" id="3512398">*</span><span class="ident" id="3512399"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3512402">.</span><span class="ident" id="3512403"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="3512411">)</span>&nbsp;<span class="op" id="3512413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3512416">name</span>&nbsp;<span class="op" id="3512421">:=</span>&nbsp;<span class="ident" id="3512424"><a href="/gostd/go/doc/reader.go.html#3512396">f</a></span><span class="op" id="3512425">.</span><span class="ident" id="3512426"><a href="/gostd/go/ast/ast.go.html#3822643">Name</a></span><span class="op" id="3512430">.</span><span class="ident" id="3512431"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512437">if</span>&nbsp;<span class="ident" id="3512440">g</span>&nbsp;<span class="op" id="3512442">:=</span>&nbsp;<span class="ident" id="3512445"><a href="/gostd/go/doc/reader.go.html#3512376">mset</a></span><span class="op" id="3512449">[</span><span class="ident" id="3512450"><a href="/gostd/go/doc/reader.go.html#3512416">name</a></span><span class="op" id="3512454">]</span><span class="op" id="3512455">;</span>&nbsp;<span class="ident" id="3512457"><a href="/gostd/go/doc/reader.go.html#3512440">g</a></span>&nbsp;<span class="op" id="3512459">!=</span>&nbsp;<span class="builtintype" id="3512462">nil</span>&nbsp;<span class="op" id="3512466">&amp;&amp;</span>&nbsp;<span class="ident" id="3512469"><a href="/gostd/go/doc/reader.go.html#3512440">g</a></span><span class="op" id="3512470">.</span><span class="ident" id="3512471"><a href="/gostd/go/doc/doc.go.html#3491547">Doc</a></span>&nbsp;<span class="op" id="3512475">!=</span>&nbsp;<span class="string" id="3512478">&#34;&#34;</span>&nbsp;<span class="op" id="3512481">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3512485">//&nbsp;A&nbsp;function&nbsp;with&nbsp;the&nbsp;same&nbsp;name&nbsp;has&nbsp;already&nbsp;been&nbsp;registered;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3512549">//&nbsp;since&nbsp;it&nbsp;has&nbsp;documentation,&nbsp;assume&nbsp;f&nbsp;is&nbsp;simply&nbsp;another</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3512609">//&nbsp;implementation&nbsp;and&nbsp;ignore&nbsp;it.&nbsp;This&nbsp;does&nbsp;not&nbsp;happen&nbsp;if&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3512672">//&nbsp;caller&nbsp;is&nbsp;using&nbsp;go/build.ScanDir&nbsp;to&nbsp;determine&nbsp;the&nbsp;list&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3512735">//&nbsp;files&nbsp;implementing&nbsp;a&nbsp;package.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512770">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3512778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3512781">//&nbsp;function&nbsp;doesn&#39;t&nbsp;exist&nbsp;or&nbsp;has&nbsp;no&nbsp;documentation;&nbsp;use&nbsp;f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3512839">recv</span>&nbsp;<span class="op" id="3512844">:=</span>&nbsp;<span class="string" id="3512847">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512851">if</span>&nbsp;<span class="ident" id="3512854"><a href="/gostd/go/doc/reader.go.html#3512396">f</a></span><span class="op" id="3512855">.</span><span class="ident" id="3512856"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span>&nbsp;<span class="op" id="3512861">!=</span>&nbsp;<span class="builtintype" id="3512864">nil</span>&nbsp;<span class="op" id="3512868">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512872">var</span>&nbsp;<span class="ident" id="3512876">typ</span>&nbsp;<span class="ident" id="3512880"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3512883">.</span><span class="ident" id="3512884"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3512891">//&nbsp;be&nbsp;careful&nbsp;in&nbsp;case&nbsp;of&nbsp;incorrect&nbsp;ASTs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3512933">if</span>&nbsp;<span class="ident" id="3512936">list</span>&nbsp;<span class="op" id="3512941">:=</span>&nbsp;<span class="ident" id="3512944"><a href="/gostd/go/doc/reader.go.html#3512396">f</a></span><span class="op" id="3512945">.</span><span class="ident" id="3512946"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span><span class="op" id="3512950">.</span><span class="ident" id="3512951"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="3512955">;</span>&nbsp;<span class="builtinfunc" id="3512957">len</span><span class="op" id="3512960">(</span><span class="ident" id="3512961"><a href="/gostd/go/doc/reader.go.html#3512936">list</a></span><span class="op" id="3512965">)</span>&nbsp;<span class="op" id="3512967">==</span>&nbsp;<span class="num" id="3512970">1</span>&nbsp;<span class="op" id="3512972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3512977"><a href="/gostd/go/doc/reader.go.html#3512876">typ</a></span>&nbsp;<span class="op" id="3512981">=</span>&nbsp;<span class="ident" id="3512983"><a href="/gostd/go/doc/reader.go.html#3512936">list</a></span><span class="op" id="3512987">[</span><span class="num" id="3512988">0</span><span class="op" id="3512989">]</span><span class="op" id="3512990">.</span><span class="ident" id="3512991"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3512998">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513002"><a href="/gostd/go/doc/reader.go.html#3512839">recv</a></span>&nbsp;<span class="op" id="3513007">=</span>&nbsp;<span class="ident" id="3513009"><a href="/gostd/go/doc/reader.go.html#3512011">recvString</a></span><span class="op" id="3513019">(</span><span class="ident" id="3513020"><a href="/gostd/go/doc/reader.go.html#3512876">typ</a></span><span class="op" id="3513023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3513026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513029"><a href="/gostd/go/doc/reader.go.html#3512376">mset</a></span><span class="op" id="3513033">[</span><span class="ident" id="3513034"><a href="/gostd/go/doc/reader.go.html#3512416">name</a></span><span class="op" id="3513038">]</span>&nbsp;<span class="op" id="3513040">=</span>&nbsp;<span class="op" id="3513042">&amp;</span><span class="ident" id="3513043"><a href="/gostd/go/doc/doc.go.html#3491532">Func</a></span><span class="op" id="3513047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513051"><a href="/gostd/go/doc/doc.go.html#3491547">Doc</a></span><span class="op" id="3513054">:</span>&nbsp;&nbsp;<span class="ident" id="3513057"><a href="/gostd/go/doc/reader.go.html#3512396">f</a></span><span class="op" id="3513058">.</span><span class="ident" id="3513059"><a href="/gostd/go/ast/ast.go.html#3822523">Doc</a></span><span class="op" id="3513062">.</span><span class="ident" id="3513063"><a href="/gostd/go/ast/ast.go.html#3796792">Text</a></span><span class="op" id="3513067">(</span><span class="op" id="3513068">)</span><span class="op" id="3513069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513073"><a href="/gostd/go/doc/doc.go.html#3491560">Name</a></span><span class="op" id="3513077">:</span>&nbsp;<span class="ident" id="3513079"><a href="/gostd/go/doc/reader.go.html#3512416">name</a></span><span class="op" id="3513083">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513087"><a href="/gostd/go/doc/doc.go.html#3491573">Decl</a></span><span class="op" id="3513091">:</span>&nbsp;<span class="ident" id="3513093"><a href="/gostd/go/doc/reader.go.html#3512396">f</a></span><span class="op" id="3513094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513098"><a href="/gostd/go/doc/doc.go.html#3491671">Recv</a></span><span class="op" id="3513102">:</span>&nbsp;<span class="ident" id="3513104"><a href="/gostd/go/doc/reader.go.html#3512839">recv</a></span><span class="op" id="3513108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513112"><a href="/gostd/go/doc/doc.go.html#3491718">Orig</a></span><span class="op" id="3513116">:</span>&nbsp;<span class="ident" id="3513118"><a href="/gostd/go/doc/reader.go.html#3512839">recv</a></span><span class="op" id="3513122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3513125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513128"><a href="/gostd/go/doc/reader.go.html#3512396">f</a></span><span class="op" id="3513129">.</span><span class="ident" id="3513130"><a href="/gostd/go/ast/ast.go.html#3822523">Doc</a></span>&nbsp;<span class="op" id="3513134">=</span>&nbsp;<span class="builtintype" id="3513136">nil</span>&nbsp;<span class="comment" id="3513140">//&nbsp;doc&nbsp;consumed&nbsp;-&nbsp;remove&nbsp;from&nbsp;AST</span><br>
<span class="lineno">70</span><span class="op" id="3513174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3513177">//&nbsp;add&nbsp;adds&nbsp;method&nbsp;m&nbsp;to&nbsp;the&nbsp;method&nbsp;set;&nbsp;m&nbsp;is&nbsp;ignored&nbsp;if&nbsp;the&nbsp;method&nbsp;set</span><br>
<span class="lineno"></span><span class="comment" id="3513248">//&nbsp;already&nbsp;contains&nbsp;a&nbsp;method&nbsp;with&nbsp;the&nbsp;same&nbsp;name&nbsp;at&nbsp;the&nbsp;same&nbsp;or&nbsp;a&nbsp;higher</span><br>
<span class="lineno"></span><span class="comment" id="3513320">//&nbsp;level&nbsp;then&nbsp;m.</span><br>
<span class="lineno">75</span><span class="comment" id="3513337">//</span><br>
<span class="lineno"></span><span class="keyword" id="3513340">func</span>&nbsp;<span class="op" id="3513345">(</span><span class="ident" id="3513346">mset</span>&nbsp;<span class="ident" id="3513351"><a href="/gostd/go/doc/reader.go.html#3511849">methodSet</a></span><span class="op" id="3513360">)</span>&nbsp;<span class="ident" id="3513362">add</span><span class="op" id="3513365">(</span><span class="ident" id="3513366">m</span>&nbsp;<span class="op" id="3513368">*</span><span class="ident" id="3513369"><a href="/gostd/go/doc/doc.go.html#3491532">Func</a></span><span class="op" id="3513373">)</span>&nbsp;<span class="op" id="3513375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513378">old</span>&nbsp;<span class="op" id="3513382">:=</span>&nbsp;<span class="ident" id="3513385"><a href="/gostd/go/doc/reader.go.html#3513346">mset</a></span><span class="op" id="3513389">[</span><span class="ident" id="3513390"><a href="/gostd/go/doc/reader.go.html#3513366">m</a></span><span class="op" id="3513391">.</span><span class="ident" id="3513392"><a href="/gostd/go/doc/doc.go.html#3491560">Name</a></span><span class="op" id="3513396">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3513399">if</span>&nbsp;<span class="ident" id="3513402"><a href="/gostd/go/doc/reader.go.html#3513378">old</a></span>&nbsp;<span class="op" id="3513406">==</span>&nbsp;<span class="builtintype" id="3513409">nil</span>&nbsp;<span class="op" id="3513413">||</span>&nbsp;<span class="ident" id="3513416"><a href="/gostd/go/doc/reader.go.html#3513366">m</a></span><span class="op" id="3513417">.</span><span class="ident" id="3513418"><a href="/gostd/go/doc/doc.go.html#3491765">Level</a></span>&nbsp;<span class="op" id="3513424">&lt;</span>&nbsp;<span class="ident" id="3513426"><a href="/gostd/go/doc/reader.go.html#3513378">old</a></span><span class="op" id="3513429">.</span><span class="ident" id="3513430"><a href="/gostd/go/doc/doc.go.html#3491765">Level</a></span>&nbsp;<span class="op" id="3513436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513440"><a href="/gostd/go/doc/reader.go.html#3513346">mset</a></span><span class="op" id="3513444">[</span><span class="ident" id="3513445"><a href="/gostd/go/doc/reader.go.html#3513366">m</a></span><span class="op" id="3513446">.</span><span class="ident" id="3513447"><a href="/gostd/go/doc/doc.go.html#3491560">Name</a></span><span class="op" id="3513451">]</span>&nbsp;<span class="op" id="3513453">=</span>&nbsp;<span class="ident" id="3513455"><a href="/gostd/go/doc/reader.go.html#3513366">m</a></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3513459">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3513467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3513470">if</span>&nbsp;<span class="ident" id="3513473"><a href="/gostd/go/doc/reader.go.html#3513378">old</a></span>&nbsp;<span class="op" id="3513477">!=</span>&nbsp;<span class="builtintype" id="3513480">nil</span>&nbsp;<span class="op" id="3513484">&amp;&amp;</span>&nbsp;<span class="ident" id="3513487"><a href="/gostd/go/doc/reader.go.html#3513366">m</a></span><span class="op" id="3513488">.</span><span class="ident" id="3513489"><a href="/gostd/go/doc/doc.go.html#3491765">Level</a></span>&nbsp;<span class="op" id="3513495">==</span>&nbsp;<span class="ident" id="3513498"><a href="/gostd/go/doc/reader.go.html#3513378">old</a></span><span class="op" id="3513501">.</span><span class="ident" id="3513502"><a href="/gostd/go/doc/doc.go.html#3491765">Level</a></span>&nbsp;<span class="op" id="3513508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3513512">//&nbsp;conflict&nbsp;-&nbsp;mark&nbsp;it&nbsp;using&nbsp;a&nbsp;method&nbsp;with&nbsp;nil&nbsp;Decl</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513565"><a href="/gostd/go/doc/reader.go.html#3513346">mset</a></span><span class="op" id="3513569">[</span><span class="ident" id="3513570"><a href="/gostd/go/doc/reader.go.html#3513366">m</a></span><span class="op" id="3513571">.</span><span class="ident" id="3513572"><a href="/gostd/go/doc/doc.go.html#3491560">Name</a></span><span class="op" id="3513576">]</span>&nbsp;<span class="op" id="3513578">=</span>&nbsp;<span class="op" id="3513580">&amp;</span><span class="ident" id="3513581"><a href="/gostd/go/doc/doc.go.html#3491532">Func</a></span><span class="op" id="3513585">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513590"><a href="/gostd/go/doc/doc.go.html#3491560">Name</a></span><span class="op" id="3513594">:</span>&nbsp;&nbsp;<span class="ident" id="3513597"><a href="/gostd/go/doc/reader.go.html#3513366">m</a></span><span class="op" id="3513598">.</span><span class="ident" id="3513599"><a href="/gostd/go/doc/doc.go.html#3491560">Name</a></span><span class="op" id="3513603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3513608"><a href="/gostd/go/doc/doc.go.html#3491765">Level</a></span><span class="op" id="3513613">:</span>&nbsp;<span class="ident" id="3513615"><a href="/gostd/go/doc/reader.go.html#3513366">m</a></span><span class="op" id="3513616">.</span><span class="ident" id="3513617"><a href="/gostd/go/doc/doc.go.html#3491765">Level</a></span><span class="op" id="3513622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3513626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3513629">}</span><br>
<span class="lineno"></span><span class="op" id="3513631">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="3513634">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="3513714">//&nbsp;Named&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3513730">//&nbsp;baseTypeName&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;base&nbsp;type&nbsp;of&nbsp;x&nbsp;(or&nbsp;&#34;&#34;)</span><br>
<span class="lineno">95</span><span class="comment" id="3513793">//&nbsp;and&nbsp;whether&nbsp;the&nbsp;type&nbsp;is&nbsp;imported&nbsp;or&nbsp;not.</span><br>
<span class="lineno"></span><span class="comment" id="3513837">//</span><br>
<span class="lineno"></span><span class="keyword" id="3513840">func</span>&nbsp;<span class="ident" id="3513845">baseTypeName</span><span class="op" id="3513857">(</span><span class="ident" id="3513858">x</span>&nbsp;<span class="ident" id="3513860"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3513863">.</span><span class="ident" id="3513864"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="3513868">)</span>&nbsp;<span class="op" id="3513870">(</span><span class="ident" id="3513871">name</span>&nbsp;<span class="builtintype" id="3513876">string</span><span class="op" id="3513882">,</span>&nbsp;<span class="ident" id="3513884">imported</span>&nbsp;<span class="builtintype" id="3513893">bool</span><span class="op" id="3513897">)</span>&nbsp;<span class="op" id="3513899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3513902">switch</span>&nbsp;<span class="ident" id="3513909">t</span>&nbsp;<span class="op" id="3513911">:=</span>&nbsp;<span class="ident" id="3513914"><a href="/gostd/go/doc/reader.go.html#3513858">x</a></span><span class="op" id="3513915">.</span><span class="op" id="3513916">(</span><span class="keyword" id="3513917">type</span><span class="op" id="3513921">)</span>&nbsp;<span class="op" id="3513923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3513926">case</span>&nbsp;<span class="op" id="3513931">*</span><span class="ident" id="3513932"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3513935">.</span><span class="ident" id="3513936"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="3513941">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3513945">return</span>&nbsp;<span class="ident" id="3513952"><a href="/gostd/go/doc/reader.go.html#3513909">t</a></span><span class="op" id="3513953">.</span><span class="ident" id="3513954"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3513958">,</span>&nbsp;<span class="builtintype" id="3513960">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3513967">case</span>&nbsp;<span class="op" id="3513972">*</span><span class="ident" id="3513973"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3513976">.</span><span class="ident" id="3513977"><a href="/gostd/go/ast/ast.go.html#3801641">SelectorExpr</a></span><span class="op" id="3513989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3513993">if</span>&nbsp;<span class="ident" id="3513996">_</span><span class="op" id="3513997">,</span>&nbsp;<span class="ident" id="3513999">ok</span>&nbsp;<span class="op" id="3514002">:=</span>&nbsp;<span class="ident" id="3514005"><a href="/gostd/go/doc/reader.go.html#3513909">t</a></span><span class="op" id="3514006">.</span><span class="ident" id="3514007"><a href="/gostd/go/ast/ast.go.html#3801665">X</a></span><span class="op" id="3514008">.</span><span class="op" id="3514009">(</span><span class="op" id="3514010">*</span><span class="ident" id="3514011"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3514014">.</span><span class="ident" id="3514015"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="3514020">)</span><span class="op" id="3514021">;</span>&nbsp;<span class="ident" id="3514023"><a href="/gostd/go/doc/reader.go.html#3513999">ok</a></span>&nbsp;<span class="op" id="3514026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3514031">//&nbsp;only&nbsp;possible&nbsp;for&nbsp;qualified&nbsp;type&nbsp;names;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3514077">//&nbsp;assume&nbsp;type&nbsp;is&nbsp;imported</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3514107">return</span>&nbsp;<span class="ident" id="3514114"><a href="/gostd/go/doc/reader.go.html#3513909">t</a></span><span class="op" id="3514115">.</span><span class="ident" id="3514116"><a href="/gostd/go/ast/ast.go.html#3801692">Sel</a></span><span class="op" id="3514119">.</span><span class="ident" id="3514120"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3514124">,</span>&nbsp;<span class="builtintype" id="3514126">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3514133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3514136">case</span>&nbsp;<span class="op" id="3514141">*</span><span class="ident" id="3514142"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3514145">.</span><span class="ident" id="3514146"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="3514154">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3514158">return</span>&nbsp;<span class="ident" id="3514165"><a href="/gostd/go/doc/reader.go.html#3513845">baseTypeName</a></span><span class="op" id="3514177">(</span><span class="ident" id="3514178"><a href="/gostd/go/doc/reader.go.html#3513909">t</a></span><span class="op" id="3514179">.</span><span class="ident" id="3514180"><a href="/gostd/go/ast/ast.go.html#3803216">X</a></span><span class="op" id="3514181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3514184">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3514187">return</span><br>
<span class="lineno"></span><span class="op" id="3514194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3514197">//&nbsp;An&nbsp;embeddedSet&nbsp;describes&nbsp;a&nbsp;set&nbsp;of&nbsp;embedded&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="3514250">type</span>&nbsp;<span class="ident" id="3514255">embeddedSet</span>&nbsp;<span class="keyword" id="3514267">map</span><span class="op" id="3514270">[</span><span class="op" id="3514271">*</span><span class="ident" id="3514272"><a href="/gostd/go/doc/reader.go.html#3514464">namedType</a></span><span class="op" id="3514281">]</span><span class="builtintype" id="3514282">bool</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="3514288">//&nbsp;A&nbsp;namedType&nbsp;represents&nbsp;a&nbsp;named&nbsp;unqualified&nbsp;(package&nbsp;local,&nbsp;or&nbsp;possibly</span><br>
<span class="lineno"></span><span class="comment" id="3514362">//&nbsp;predeclared)&nbsp;type.&nbsp;The&nbsp;namedType&nbsp;for&nbsp;a&nbsp;type&nbsp;name&nbsp;is&nbsp;always&nbsp;found&nbsp;via</span><br>
<span class="lineno"></span><span class="comment" id="3514434">//&nbsp;reader.lookupType.</span><br>
<span class="lineno"></span><span class="comment" id="3514456">//</span><br>
<span class="lineno">120</span><span class="keyword" id="3514459">type</span>&nbsp;<span class="ident" id="3514464">namedType</span>&nbsp;<span class="keyword" id="3514474">struct</span>&nbsp;<span class="op" id="3514481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3514484">doc</span>&nbsp;&nbsp;<span class="builtintype" id="3514489">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3514502">//&nbsp;doc&nbsp;comment&nbsp;for&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3514527">name</span>&nbsp;<span class="builtintype" id="3514532">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3514545">//&nbsp;type&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3514559">decl</span>&nbsp;<span class="op" id="3514564">*</span><span class="ident" id="3514565"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3514568">.</span><span class="ident" id="3514569"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span>&nbsp;<span class="comment" id="3514577">//&nbsp;nil&nbsp;if&nbsp;declaration&nbsp;hasn&#39;t&nbsp;been&nbsp;seen&nbsp;yet</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3514622">isEmbedded</span>&nbsp;<span class="builtintype" id="3514633">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3514645">//&nbsp;true&nbsp;if&nbsp;this&nbsp;type&nbsp;is&nbsp;embedded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3514679">isStruct</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3514690">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3514702">//&nbsp;true&nbsp;if&nbsp;this&nbsp;type&nbsp;is&nbsp;a&nbsp;struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3514736">embedded</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3514747"><a href="/gostd/go/doc/reader.go.html#3514255">embeddedSet</a></span>&nbsp;<span class="comment" id="3514759">//&nbsp;true&nbsp;if&nbsp;the&nbsp;embedded&nbsp;type&nbsp;is&nbsp;a&nbsp;pointer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3514803">//&nbsp;associated&nbsp;declarations</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3514831">values</span>&nbsp;&nbsp;<span class="op" id="3514839">[</span><span class="op" id="3514840">]</span><span class="op" id="3514841">*</span><span class="ident" id="3514842"><a href="/gostd/go/doc/doc.go.html#3490917">Value</a></span>&nbsp;<span class="comment" id="3514848">//&nbsp;consts&nbsp;and&nbsp;vars</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3514868">funcs</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3514876"><a href="/gostd/go/doc/reader.go.html#3511849">methodSet</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3514887">methods</span>&nbsp;<span class="ident" id="3514895"><a href="/gostd/go/doc/reader.go.html#3511849">methodSet</a></span><br>
<span class="lineno"></span><span class="op" id="3514905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="3514908">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="3514988">//&nbsp;AST&nbsp;reader</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3515003">//&nbsp;reader&nbsp;accumulates&nbsp;documentation&nbsp;for&nbsp;a&nbsp;single&nbsp;package.</span><br>
<span class="lineno"></span><span class="comment" id="3515061">//&nbsp;It&nbsp;modifies&nbsp;the&nbsp;AST:&nbsp;Comments&nbsp;(declaration&nbsp;documentation)</span><br>
<span class="lineno">140</span><span class="comment" id="3515122">//&nbsp;that&nbsp;have&nbsp;been&nbsp;collected&nbsp;by&nbsp;the&nbsp;reader&nbsp;are&nbsp;set&nbsp;to&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="3515179">//&nbsp;in&nbsp;the&nbsp;respective&nbsp;AST&nbsp;nodes&nbsp;so&nbsp;that&nbsp;they&nbsp;are&nbsp;not&nbsp;printed</span><br>
<span class="lineno"></span><span class="comment" id="3515239">//&nbsp;twice&nbsp;(once&nbsp;when&nbsp;printing&nbsp;the&nbsp;documentation&nbsp;and&nbsp;once&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="3515300">//&nbsp;printing&nbsp;the&nbsp;corresponding&nbsp;AST&nbsp;node).</span><br>
<span class="lineno"></span><span class="comment" id="3515341">//</span><br>
<span class="lineno">145</span><span class="keyword" id="3515344">type</span>&nbsp;<span class="ident" id="3515349">reader</span>&nbsp;<span class="keyword" id="3515356">struct</span>&nbsp;<span class="op" id="3515363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3515366">mode</span>&nbsp;<span class="ident" id="3515371"><a href="/gostd/go/doc/doc.go.html#3492368">Mode</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3515378">//&nbsp;package&nbsp;properties</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3515401">doc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3515411">string</span>&nbsp;<span class="comment" id="3515418">//&nbsp;package&nbsp;documentation,&nbsp;if&nbsp;any</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3515452">filenames</span>&nbsp;<span class="op" id="3515462">[</span><span class="op" id="3515463">]</span><span class="builtintype" id="3515464">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3515472">notes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3515482">map</span><span class="op" id="3515485">[</span><span class="builtintype" id="3515486">string</span><span class="op" id="3515492">]</span><span class="op" id="3515493">[</span><span class="op" id="3515494">]</span><span class="op" id="3515495">*</span><span class="ident" id="3515496"><a href="/gostd/go/doc/doc.go.html#3492139">Note</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3515503">//&nbsp;declarations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3515520">imports</span>&nbsp;<span class="keyword" id="3515528">map</span><span class="op" id="3515531">[</span><span class="builtintype" id="3515532">string</span><span class="op" id="3515538">]</span><span class="builtintype" id="3515539">int</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3515544">values</span>&nbsp;&nbsp;<span class="op" id="3515552">[</span><span class="op" id="3515553">]</span><span class="op" id="3515554">*</span><span class="ident" id="3515555"><a href="/gostd/go/doc/doc.go.html#3490917">Value</a></span>&nbsp;<span class="comment" id="3515561">//&nbsp;consts&nbsp;and&nbsp;vars</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3515581">types</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="3515589">map</span><span class="op" id="3515592">[</span><span class="builtintype" id="3515593">string</span><span class="op" id="3515599">]</span><span class="op" id="3515600">*</span><span class="ident" id="3515601"><a href="/gostd/go/doc/reader.go.html#3514464">namedType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3515612">funcs</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3515620"><a href="/gostd/go/doc/reader.go.html#3511849">methodSet</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3515632">//&nbsp;support&nbsp;for&nbsp;package-local&nbsp;error&nbsp;type&nbsp;declarations</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3515686">errorDecl</span>&nbsp;<span class="builtintype" id="3515696">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3515717">//&nbsp;if&nbsp;set,&nbsp;type&nbsp;&#34;error&#34;&nbsp;was&nbsp;declared&nbsp;locally</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3515763">fixlist</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3515773">[</span><span class="op" id="3515774">]</span><span class="op" id="3515775">*</span><span class="ident" id="3515776"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3515779">.</span><span class="ident" id="3515780"><a href="/gostd/go/ast/ast.go.html#3805040">InterfaceType</a></span>&nbsp;<span class="comment" id="3515794">//&nbsp;list&nbsp;of&nbsp;interfaces&nbsp;containing&nbsp;anonymous&nbsp;field&nbsp;&#34;error&#34;</span><br>
<span class="lineno"></span><span class="op" id="3515851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3515854">func</span>&nbsp;<span class="op" id="3515859">(</span><span class="ident" id="3515860">r</span>&nbsp;<span class="op" id="3515862">*</span><span class="ident" id="3515863"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3515869">)</span>&nbsp;<span class="ident" id="3515871">isVisible</span><span class="op" id="3515880">(</span><span class="ident" id="3515881">name</span>&nbsp;<span class="builtintype" id="3515886">string</span><span class="op" id="3515892">)</span>&nbsp;<span class="builtintype" id="3515894">bool</span>&nbsp;<span class="op" id="3515899">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3515902">return</span>&nbsp;<span class="ident" id="3515909"><a href="/gostd/go/doc/reader.go.html#3515860">r</a></span><span class="op" id="3515910">.</span><span class="ident" id="3515911"><a href="/gostd/go/doc/reader.go.html#3515366">mode</a></span><span class="op" id="3515915">&amp;</span><span class="ident" id="3515916"><a href="/gostd/go/doc/doc.go.html#3492476">AllDecls</a></span>&nbsp;<span class="op" id="3515925">!=</span>&nbsp;<span class="num" id="3515928">0</span>&nbsp;<span class="op" id="3515930">||</span>&nbsp;<span class="ident" id="3515933"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3515936">.</span><span class="ident" id="3515937"><a href="/gostd/go/ast/ast.go.html#3810150">IsExported</a></span><span class="op" id="3515947">(</span><span class="ident" id="3515948"><a href="/gostd/go/doc/reader.go.html#3515881">name</a></span><span class="op" id="3515952">)</span><br>
<span class="lineno"></span><span class="op" id="3515954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3515957">//&nbsp;lookupType&nbsp;returns&nbsp;the&nbsp;base&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3516014">//&nbsp;If&nbsp;the&nbsp;base&nbsp;type&nbsp;has&nbsp;not&nbsp;been&nbsp;encountered&nbsp;yet,&nbsp;a&nbsp;new</span><br>
<span class="lineno">170</span><span class="comment" id="3516070">//&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;name&nbsp;but&nbsp;no&nbsp;associated&nbsp;declaration</span><br>
<span class="lineno"></span><span class="comment" id="3516128">//&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;type&nbsp;map.</span><br>
<span class="lineno"></span><span class="comment" id="3516157">//</span><br>
<span class="lineno"></span><span class="keyword" id="3516160">func</span>&nbsp;<span class="op" id="3516165">(</span><span class="ident" id="3516166">r</span>&nbsp;<span class="op" id="3516168">*</span><span class="ident" id="3516169"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3516175">)</span>&nbsp;<span class="ident" id="3516177">lookupType</span><span class="op" id="3516187">(</span><span class="ident" id="3516188">name</span>&nbsp;<span class="builtintype" id="3516193">string</span><span class="op" id="3516199">)</span>&nbsp;<span class="op" id="3516201">*</span><span class="ident" id="3516202"><a href="/gostd/go/doc/reader.go.html#3514464">namedType</a></span>&nbsp;<span class="op" id="3516212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3516215">if</span>&nbsp;<span class="ident" id="3516218"><a href="/gostd/go/doc/reader.go.html#3516188">name</a></span>&nbsp;<span class="op" id="3516223">==</span>&nbsp;<span class="string" id="3516226">&#34;&#34;</span>&nbsp;<span class="op" id="3516229">||</span>&nbsp;<span class="ident" id="3516232"><a href="/gostd/go/doc/reader.go.html#3516188">name</a></span>&nbsp;<span class="op" id="3516237">==</span>&nbsp;<span class="string" id="3516240">&#34;_&#34;</span>&nbsp;<span class="op" id="3516244">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3516248">return</span>&nbsp;<span class="builtintype" id="3516255">nil</span>&nbsp;<span class="comment" id="3516259">//&nbsp;no&nbsp;type&nbsp;docs&nbsp;for&nbsp;anonymous&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3516296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3516299">if</span>&nbsp;<span class="ident" id="3516302">typ</span><span class="op" id="3516305">,</span>&nbsp;<span class="ident" id="3516307">found</span>&nbsp;<span class="op" id="3516313">:=</span>&nbsp;<span class="ident" id="3516316"><a href="/gostd/go/doc/reader.go.html#3516166">r</a></span><span class="op" id="3516317">.</span><span class="ident" id="3516318"><a href="/gostd/go/doc/reader.go.html#3515581">types</a></span><span class="op" id="3516323">[</span><span class="ident" id="3516324"><a href="/gostd/go/doc/reader.go.html#3516188">name</a></span><span class="op" id="3516328">]</span><span class="op" id="3516329">;</span>&nbsp;<span class="ident" id="3516331"><a href="/gostd/go/doc/reader.go.html#3516307">found</a></span>&nbsp;<span class="op" id="3516337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3516341">return</span>&nbsp;<span class="ident" id="3516348"><a href="/gostd/go/doc/reader.go.html#3516302">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3516353">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3516356">//&nbsp;type&nbsp;not&nbsp;found&nbsp;-&nbsp;add&nbsp;one&nbsp;without&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3516405">typ</span>&nbsp;<span class="op" id="3516409">:=</span>&nbsp;<span class="op" id="3516412">&amp;</span><span class="ident" id="3516413"><a href="/gostd/go/doc/reader.go.html#3514464">namedType</a></span><span class="op" id="3516422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3516426"><a href="/gostd/go/doc/reader.go.html#3514527">name</a></span><span class="op" id="3516430">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3516436"><a href="/gostd/go/doc/reader.go.html#3516188">name</a></span><span class="op" id="3516440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3516444"><a href="/gostd/go/doc/reader.go.html#3514736">embedded</a></span><span class="op" id="3516452">:</span>&nbsp;<span class="builtinfunc" id="3516454">make</span><span class="op" id="3516458">(</span><span class="ident" id="3516459"><a href="/gostd/go/doc/reader.go.html#3514255">embeddedSet</a></span><span class="op" id="3516470">)</span><span class="op" id="3516471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3516475"><a href="/gostd/go/doc/reader.go.html#3514868">funcs</a></span><span class="op" id="3516480">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3516485">make</span><span class="op" id="3516489">(</span><span class="ident" id="3516490"><a href="/gostd/go/doc/reader.go.html#3511849">methodSet</a></span><span class="op" id="3516499">)</span><span class="op" id="3516500">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3516504"><a href="/gostd/go/doc/reader.go.html#3514887">methods</a></span><span class="op" id="3516511">:</span>&nbsp;&nbsp;<span class="builtinfunc" id="3516514">make</span><span class="op" id="3516518">(</span><span class="ident" id="3516519"><a href="/gostd/go/doc/reader.go.html#3511849">methodSet</a></span><span class="op" id="3516528">)</span><span class="op" id="3516529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3516532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3516535"><a href="/gostd/go/doc/reader.go.html#3516166">r</a></span><span class="op" id="3516536">.</span><span class="ident" id="3516537"><a href="/gostd/go/doc/reader.go.html#3515581">types</a></span><span class="op" id="3516542">[</span><span class="ident" id="3516543"><a href="/gostd/go/doc/reader.go.html#3516188">name</a></span><span class="op" id="3516547">]</span>&nbsp;<span class="op" id="3516549">=</span>&nbsp;<span class="ident" id="3516551"><a href="/gostd/go/doc/reader.go.html#3516405">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3516556">return</span>&nbsp;<span class="ident" id="3516563"><a href="/gostd/go/doc/reader.go.html#3516405">typ</a></span><br>
<span class="lineno"></span><span class="op" id="3516567">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="comment" id="3516570">//&nbsp;recordAnonymousField&nbsp;registers&nbsp;fieldType&nbsp;as&nbsp;the&nbsp;type&nbsp;of&nbsp;an</span><br>
<span class="lineno"></span><span class="comment" id="3516632">//&nbsp;anonymous&nbsp;field&nbsp;in&nbsp;the&nbsp;parent&nbsp;type.&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;imported</span><br>
<span class="lineno"></span><span class="comment" id="3516696">//&nbsp;(qualified&nbsp;name)&nbsp;or&nbsp;the&nbsp;parent&nbsp;is&nbsp;nil,&nbsp;the&nbsp;field&nbsp;is&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="3516760">//&nbsp;The&nbsp;function&nbsp;returns&nbsp;the&nbsp;field&nbsp;name.</span><br>
<span class="lineno">195</span><span class="comment" id="3516800">//</span><br>
<span class="lineno"></span><span class="keyword" id="3516803">func</span>&nbsp;<span class="op" id="3516808">(</span><span class="ident" id="3516809">r</span>&nbsp;<span class="op" id="3516811">*</span><span class="ident" id="3516812"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3516818">)</span>&nbsp;<span class="ident" id="3516820">recordAnonymousField</span><span class="op" id="3516840">(</span><span class="ident" id="3516841">parent</span>&nbsp;<span class="op" id="3516848">*</span><span class="ident" id="3516849"><a href="/gostd/go/doc/reader.go.html#3514464">namedType</a></span><span class="op" id="3516858">,</span>&nbsp;<span class="ident" id="3516860">fieldType</span>&nbsp;<span class="ident" id="3516870"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3516873">.</span><span class="ident" id="3516874"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="3516878">)</span>&nbsp;<span class="op" id="3516880">(</span><span class="ident" id="3516881">fname</span>&nbsp;<span class="builtintype" id="3516887">string</span><span class="op" id="3516893">)</span>&nbsp;<span class="op" id="3516895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3516898"><a href="/gostd/go/doc/reader.go.html#3516881">fname</a></span><span class="op" id="3516903">,</span>&nbsp;<span class="ident" id="3516905">imp</span>&nbsp;<span class="op" id="3516909">:=</span>&nbsp;<span class="ident" id="3516912"><a href="/gostd/go/doc/reader.go.html#3513845">baseTypeName</a></span><span class="op" id="3516924">(</span><span class="ident" id="3516925"><a href="/gostd/go/doc/reader.go.html#3516860">fieldType</a></span><span class="op" id="3516934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3516937">if</span>&nbsp;<span class="ident" id="3516940"><a href="/gostd/go/doc/reader.go.html#3516841">parent</a></span>&nbsp;<span class="op" id="3516947">==</span>&nbsp;<span class="builtintype" id="3516950">nil</span>&nbsp;<span class="op" id="3516954">||</span>&nbsp;<span class="ident" id="3516957"><a href="/gostd/go/doc/reader.go.html#3516905">imp</a></span>&nbsp;<span class="op" id="3516961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3516965">return</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3516973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3516976">if</span>&nbsp;<span class="ident" id="3516979">ftype</span>&nbsp;<span class="op" id="3516985">:=</span>&nbsp;<span class="ident" id="3516988"><a href="/gostd/go/doc/reader.go.html#3516809">r</a></span><span class="op" id="3516989">.</span><span class="ident" id="3516990"><a href="/gostd/go/doc/reader.go.html#3516177">lookupType</a></span><span class="op" id="3517000">(</span><span class="ident" id="3517001"><a href="/gostd/go/doc/reader.go.html#3516881">fname</a></span><span class="op" id="3517006">)</span><span class="op" id="3517007">;</span>&nbsp;<span class="ident" id="3517009"><a href="/gostd/go/doc/reader.go.html#3516979">ftype</a></span>&nbsp;<span class="op" id="3517015">!=</span>&nbsp;<span class="builtintype" id="3517018">nil</span>&nbsp;<span class="op" id="3517022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3517026"><a href="/gostd/go/doc/reader.go.html#3516979">ftype</a></span><span class="op" id="3517031">.</span><span class="ident" id="3517032"><a href="/gostd/go/doc/reader.go.html#3514622">isEmbedded</a></span>&nbsp;<span class="op" id="3517043">=</span>&nbsp;<span class="builtintype" id="3517045">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3517052">_</span><span class="op" id="3517053">,</span>&nbsp;<span class="ident" id="3517055">ptr</span>&nbsp;<span class="op" id="3517059">:=</span>&nbsp;<span class="ident" id="3517062"><a href="/gostd/go/doc/reader.go.html#3516860">fieldType</a></span><span class="op" id="3517071">.</span><span class="op" id="3517072">(</span><span class="op" id="3517073">*</span><span class="ident" id="3517074"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3517077">.</span><span class="ident" id="3517078"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="3517086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3517090"><a href="/gostd/go/doc/reader.go.html#3516841">parent</a></span><span class="op" id="3517096">.</span><span class="ident" id="3517097"><a href="/gostd/go/doc/reader.go.html#3514736">embedded</a></span><span class="op" id="3517105">[</span><span class="ident" id="3517106"><a href="/gostd/go/doc/reader.go.html#3516979">ftype</a></span><span class="op" id="3517111">]</span>&nbsp;<span class="op" id="3517113">=</span>&nbsp;<span class="ident" id="3517115"><a href="/gostd/go/doc/reader.go.html#3517055">ptr</a></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3517120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3517123">return</span><br>
<span class="lineno"></span><span class="op" id="3517130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3517133">func</span>&nbsp;<span class="op" id="3517138">(</span><span class="ident" id="3517139">r</span>&nbsp;<span class="op" id="3517141">*</span><span class="ident" id="3517142"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3517148">)</span>&nbsp;<span class="ident" id="3517150">readDoc</span><span class="op" id="3517157">(</span><span class="ident" id="3517158">comment</span>&nbsp;<span class="op" id="3517166">*</span><span class="ident" id="3517167"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3517170">.</span><span class="ident" id="3517171"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="3517183">)</span>&nbsp;<span class="op" id="3517185">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3517188">//&nbsp;By&nbsp;convention&nbsp;there&nbsp;should&nbsp;be&nbsp;only&nbsp;one&nbsp;package&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3517247">//&nbsp;but&nbsp;collect&nbsp;all&nbsp;of&nbsp;them&nbsp;if&nbsp;there&nbsp;are&nbsp;more&nbsp;then&nbsp;one.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3517303">text</span>&nbsp;<span class="op" id="3517308">:=</span>&nbsp;<span class="ident" id="3517311"><a href="/gostd/go/doc/reader.go.html#3517158">comment</a></span><span class="op" id="3517318">.</span><span class="ident" id="3517319"><a href="/gostd/go/ast/ast.go.html#3796792">Text</a></span><span class="op" id="3517323">(</span><span class="op" id="3517324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3517327">if</span>&nbsp;<span class="ident" id="3517330"><a href="/gostd/go/doc/reader.go.html#3517139">r</a></span><span class="op" id="3517331">.</span><span class="ident" id="3517332"><a href="/gostd/go/doc/reader.go.html#3515401">doc</a></span>&nbsp;<span class="op" id="3517336">==</span>&nbsp;<span class="string" id="3517339">&#34;&#34;</span>&nbsp;<span class="op" id="3517342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3517346"><a href="/gostd/go/doc/reader.go.html#3517139">r</a></span><span class="op" id="3517347">.</span><span class="ident" id="3517348"><a href="/gostd/go/doc/reader.go.html#3515401">doc</a></span>&nbsp;<span class="op" id="3517352">=</span>&nbsp;<span class="ident" id="3517354"><a href="/gostd/go/doc/reader.go.html#3517303">text</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3517361">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3517369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3517372"><a href="/gostd/go/doc/reader.go.html#3517139">r</a></span><span class="op" id="3517373">.</span><span class="ident" id="3517374"><a href="/gostd/go/doc/reader.go.html#3515401">doc</a></span>&nbsp;<span class="op" id="3517378">+=</span>&nbsp;<span class="string" id="3517381">&#34;\n&#34;</span>&nbsp;<span class="op" id="3517386">+</span>&nbsp;<span class="ident" id="3517388"><a href="/gostd/go/doc/reader.go.html#3517303">text</a></span><br>
<span class="lineno"></span><span class="op" id="3517393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="3517396">func</span>&nbsp;<span class="op" id="3517401">(</span><span class="ident" id="3517402">r</span>&nbsp;<span class="op" id="3517404">*</span><span class="ident" id="3517405"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3517411">)</span>&nbsp;<span class="ident" id="3517413">remember</span><span class="op" id="3517421">(</span><span class="ident" id="3517422">typ</span>&nbsp;<span class="op" id="3517426">*</span><span class="ident" id="3517427"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3517430">.</span><span class="ident" id="3517431"><a href="/gostd/go/ast/ast.go.html#3805040">InterfaceType</a></span><span class="op" id="3517444">)</span>&nbsp;<span class="op" id="3517446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3517449"><a href="/gostd/go/doc/reader.go.html#3517402">r</a></span><span class="op" id="3517450">.</span><span class="ident" id="3517451"><a href="/gostd/go/doc/reader.go.html#3515763">fixlist</a></span>&nbsp;<span class="op" id="3517459">=</span>&nbsp;<span class="builtinfunc" id="3517461">append</span><span class="op" id="3517467">(</span><span class="ident" id="3517468"><a href="/gostd/go/doc/reader.go.html#3517402">r</a></span><span class="op" id="3517469">.</span><span class="ident" id="3517470"><a href="/gostd/go/doc/reader.go.html#3515763">fixlist</a></span><span class="op" id="3517477">,</span>&nbsp;<span class="ident" id="3517479"><a href="/gostd/go/doc/reader.go.html#3517422">typ</a></span><span class="op" id="3517482">)</span><br>
<span class="lineno"></span><span class="op" id="3517484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3517487">func</span>&nbsp;<span class="ident" id="3517492">specNames</span><span class="op" id="3517501">(</span><span class="ident" id="3517502">specs</span>&nbsp;<span class="op" id="3517508">[</span><span class="op" id="3517509">]</span><span class="ident" id="3517510"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3517513">.</span><span class="ident" id="3517514"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span><span class="op" id="3517518">)</span>&nbsp;<span class="op" id="3517520">[</span><span class="op" id="3517521">]</span><span class="builtintype" id="3517522">string</span>&nbsp;<span class="op" id="3517529">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3517532">names</span>&nbsp;<span class="op" id="3517538">:=</span>&nbsp;<span class="builtinfunc" id="3517541">make</span><span class="op" id="3517545">(</span><span class="op" id="3517546">[</span><span class="op" id="3517547">]</span><span class="builtintype" id="3517548">string</span><span class="op" id="3517554">,</span>&nbsp;<span class="num" id="3517556">0</span><span class="op" id="3517557">,</span>&nbsp;<span class="builtinfunc" id="3517559">len</span><span class="op" id="3517562">(</span><span class="ident" id="3517563"><a href="/gostd/go/doc/reader.go.html#3517502">specs</a></span><span class="op" id="3517568">)</span><span class="op" id="3517569">)</span>&nbsp;<span class="comment" id="3517571">//&nbsp;reasonable&nbsp;estimate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3517595">for</span>&nbsp;<span class="ident" id="3517599">_</span><span class="op" id="3517600">,</span>&nbsp;<span class="ident" id="3517602">s</span>&nbsp;<span class="op" id="3517604">:=</span>&nbsp;<span class="keyword" id="3517607">range</span>&nbsp;<span class="ident" id="3517613"><a href="/gostd/go/doc/reader.go.html#3517502">specs</a></span>&nbsp;<span class="op" id="3517619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3517623">//&nbsp;s&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;an&nbsp;*ast.ValueSpec&nbsp;by&nbsp;readValue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3517678">for</span>&nbsp;<span class="ident" id="3517682">_</span><span class="op" id="3517683">,</span>&nbsp;<span class="ident" id="3517685">ident</span>&nbsp;<span class="op" id="3517691">:=</span>&nbsp;<span class="keyword" id="3517694">range</span>&nbsp;<span class="ident" id="3517700"><a href="/gostd/go/doc/reader.go.html#3517602">s</a></span><span class="op" id="3517701">.</span><span class="op" id="3517702">(</span><span class="op" id="3517703">*</span><span class="ident" id="3517704"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3517707">.</span><span class="ident" id="3517708"><a href="/gostd/go/ast/ast.go.html#3820033">ValueSpec</a></span><span class="op" id="3517717">)</span><span class="op" id="3517718">.</span><span class="ident" id="3517719"><a href="/gostd/go/ast/ast.go.html#3820114">Names</a></span>&nbsp;<span class="op" id="3517725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3517730"><a href="/gostd/go/doc/reader.go.html#3517532">names</a></span>&nbsp;<span class="op" id="3517736">=</span>&nbsp;<span class="builtinfunc" id="3517738">append</span><span class="op" id="3517744">(</span><span class="ident" id="3517745"><a href="/gostd/go/doc/reader.go.html#3517532">names</a></span><span class="op" id="3517750">,</span>&nbsp;<span class="ident" id="3517752"><a href="/gostd/go/doc/reader.go.html#3517685">ident</a></span><span class="op" id="3517757">.</span><span class="ident" id="3517758"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3517762">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3517766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3517769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3517772">return</span>&nbsp;<span class="ident" id="3517779"><a href="/gostd/go/doc/reader.go.html#3517532">names</a></span><br>
<span class="lineno"></span><span class="op" id="3517785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="3517788">//&nbsp;readValue&nbsp;processes&nbsp;a&nbsp;const&nbsp;or&nbsp;var&nbsp;declaration.</span><br>
<span class="lineno"></span><span class="comment" id="3517839">//</span><br>
<span class="lineno"></span><span class="keyword" id="3517842">func</span>&nbsp;<span class="op" id="3517847">(</span><span class="ident" id="3517848">r</span>&nbsp;<span class="op" id="3517850">*</span><span class="ident" id="3517851"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3517857">)</span>&nbsp;<span class="ident" id="3517859">readValue</span><span class="op" id="3517868">(</span><span class="ident" id="3517869">decl</span>&nbsp;<span class="op" id="3517874">*</span><span class="ident" id="3517875"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3517878">.</span><span class="ident" id="3517879"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span><span class="op" id="3517886">)</span>&nbsp;<span class="op" id="3517888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3517891">//&nbsp;determine&nbsp;if&nbsp;decl&nbsp;should&nbsp;be&nbsp;associated&nbsp;with&nbsp;a&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3517946">//&nbsp;Heuristic:&nbsp;For&nbsp;each&nbsp;typed&nbsp;entry,&nbsp;determine&nbsp;the&nbsp;type&nbsp;name,&nbsp;if&nbsp;any.</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3518016">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;exactly&nbsp;one&nbsp;type&nbsp;name&nbsp;that&nbsp;is&nbsp;sufficiently</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3518086">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;frequent,&nbsp;associate&nbsp;the&nbsp;decl&nbsp;with&nbsp;the&nbsp;respective&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518156">domName</span>&nbsp;<span class="op" id="3518164">:=</span>&nbsp;<span class="string" id="3518167">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518171">domFreq</span>&nbsp;<span class="op" id="3518179">:=</span>&nbsp;<span class="num" id="3518182">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518185">prev</span>&nbsp;<span class="op" id="3518190">:=</span>&nbsp;<span class="string" id="3518193">&#34;&#34;</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518197">n</span>&nbsp;<span class="op" id="3518199">:=</span>&nbsp;<span class="num" id="3518202">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3518205">for</span>&nbsp;<span class="ident" id="3518209">_</span><span class="op" id="3518210">,</span>&nbsp;<span class="ident" id="3518212">spec</span>&nbsp;<span class="op" id="3518217">:=</span>&nbsp;<span class="keyword" id="3518220">range</span>&nbsp;<span class="ident" id="3518226"><a href="/gostd/go/doc/reader.go.html#3517869">decl</a></span><span class="op" id="3518230">.</span><span class="ident" id="3518231"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span>&nbsp;<span class="op" id="3518237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518241">s</span><span class="op" id="3518242">,</span>&nbsp;<span class="ident" id="3518244">ok</span>&nbsp;<span class="op" id="3518247">:=</span>&nbsp;<span class="ident" id="3518250"><a href="/gostd/go/doc/reader.go.html#3518212">spec</a></span><span class="op" id="3518254">.</span><span class="op" id="3518255">(</span><span class="op" id="3518256">*</span><span class="ident" id="3518257"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3518260">.</span><span class="ident" id="3518261"><a href="/gostd/go/ast/ast.go.html#3820033">ValueSpec</a></span><span class="op" id="3518270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3518274">if</span>&nbsp;<span class="op" id="3518277">!</span><span class="ident" id="3518278"><a href="/gostd/go/doc/reader.go.html#3518244">ok</a></span>&nbsp;<span class="op" id="3518281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3518286">continue</span>&nbsp;<span class="comment" id="3518295">//&nbsp;should&nbsp;not&nbsp;happen,&nbsp;but&nbsp;be&nbsp;conservative</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3518339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518343">name</span>&nbsp;<span class="op" id="3518348">:=</span>&nbsp;<span class="string" id="3518351">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3518356">switch</span>&nbsp;<span class="op" id="3518363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3518367">case</span>&nbsp;<span class="ident" id="3518372"><a href="/gostd/go/doc/reader.go.html#3518241">s</a></span><span class="op" id="3518373">.</span><span class="ident" id="3518374"><a href="/gostd/go/ast/ast.go.html#3820170">Type</a></span>&nbsp;<span class="op" id="3518379">!=</span>&nbsp;<span class="builtintype" id="3518382">nil</span><span class="op" id="3518385">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3518390">//&nbsp;a&nbsp;type&nbsp;is&nbsp;present;&nbsp;determine&nbsp;its&nbsp;name</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3518434">if</span>&nbsp;<span class="ident" id="3518437">n</span><span class="op" id="3518438">,</span>&nbsp;<span class="ident" id="3518440">imp</span>&nbsp;<span class="op" id="3518444">:=</span>&nbsp;<span class="ident" id="3518447"><a href="/gostd/go/doc/reader.go.html#3513845">baseTypeName</a></span><span class="op" id="3518459">(</span><span class="ident" id="3518460"><a href="/gostd/go/doc/reader.go.html#3518241">s</a></span><span class="op" id="3518461">.</span><span class="ident" id="3518462"><a href="/gostd/go/ast/ast.go.html#3820170">Type</a></span><span class="op" id="3518466">)</span><span class="op" id="3518467">;</span>&nbsp;<span class="op" id="3518469">!</span><span class="ident" id="3518470"><a href="/gostd/go/doc/reader.go.html#3518440">imp</a></span>&nbsp;<span class="op" id="3518474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518480"><a href="/gostd/go/doc/reader.go.html#3518343">name</a></span>&nbsp;<span class="op" id="3518485">=</span>&nbsp;<span class="ident" id="3518487"><a href="/gostd/go/doc/reader.go.html#3518437">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3518492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3518496">case</span>&nbsp;<span class="ident" id="3518501"><a href="/gostd/go/doc/reader.go.html#3517869">decl</a></span><span class="op" id="3518505">.</span><span class="ident" id="3518506"><a href="/gostd/go/ast/ast.go.html#3822282">Tok</a></span>&nbsp;<span class="op" id="3518510">==</span>&nbsp;<span class="ident" id="3518513"><a href="/gostd/go/doc/reader.go.html#3511446">token</a></span><span class="op" id="3518518">.</span><span class="ident" id="3518519"><a href="/gostd/go/token/token.go.html#3890769">CONST</a></span><span class="op" id="3518524">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3518529">//&nbsp;no&nbsp;type&nbsp;is&nbsp;present&nbsp;but&nbsp;we&nbsp;have&nbsp;a&nbsp;constant&nbsp;declaration;</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3518590">//&nbsp;use&nbsp;the&nbsp;previous&nbsp;type&nbsp;name&nbsp;(w/o&nbsp;more&nbsp;type&nbsp;information</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3518650">//&nbsp;we&nbsp;cannot&nbsp;handle&nbsp;the&nbsp;case&nbsp;of&nbsp;unnamed&nbsp;variables&nbsp;with</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3518708">//&nbsp;initializer&nbsp;expressions&nbsp;except&nbsp;for&nbsp;some&nbsp;trivial&nbsp;cases)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518769"><a href="/gostd/go/doc/reader.go.html#3518343">name</a></span>&nbsp;<span class="op" id="3518774">=</span>&nbsp;<span class="ident" id="3518776"><a href="/gostd/go/doc/reader.go.html#3518185">prev</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3518783">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3518787">if</span>&nbsp;<span class="ident" id="3518790"><a href="/gostd/go/doc/reader.go.html#3518343">name</a></span>&nbsp;<span class="op" id="3518795">!=</span>&nbsp;<span class="string" id="3518798">&#34;&#34;</span>&nbsp;<span class="op" id="3518801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3518806">//&nbsp;entry&nbsp;has&nbsp;a&nbsp;named&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3518835">if</span>&nbsp;<span class="ident" id="3518838"><a href="/gostd/go/doc/reader.go.html#3518156">domName</a></span>&nbsp;<span class="op" id="3518846">!=</span>&nbsp;<span class="string" id="3518849">&#34;&#34;</span>&nbsp;<span class="op" id="3518852">&amp;&amp;</span>&nbsp;<span class="ident" id="3518855"><a href="/gostd/go/doc/reader.go.html#3518156">domName</a></span>&nbsp;<span class="op" id="3518863">!=</span>&nbsp;<span class="ident" id="3518866"><a href="/gostd/go/doc/reader.go.html#3518343">name</a></span>&nbsp;<span class="op" id="3518871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3518877">//&nbsp;more&nbsp;than&nbsp;one&nbsp;type&nbsp;name&nbsp;-&nbsp;do&nbsp;not&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3518927">//&nbsp;with&nbsp;any&nbsp;type</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518948"><a href="/gostd/go/doc/reader.go.html#3518156">domName</a></span>&nbsp;<span class="op" id="3518956">=</span>&nbsp;<span class="string" id="3518958">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3518965">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3518974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518979"><a href="/gostd/go/doc/reader.go.html#3518156">domName</a></span>&nbsp;<span class="op" id="3518987">=</span>&nbsp;<span class="ident" id="3518989"><a href="/gostd/go/doc/reader.go.html#3518343">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3518997"><a href="/gostd/go/doc/reader.go.html#3518171">domFreq</a></span><span class="op" id="3519004">++</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3519009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519013"><a href="/gostd/go/doc/reader.go.html#3518185">prev</a></span>&nbsp;<span class="op" id="3519018">=</span>&nbsp;<span class="ident" id="3519020"><a href="/gostd/go/doc/reader.go.html#3518343">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519027"><a href="/gostd/go/doc/reader.go.html#3518197">n</a></span><span class="op" id="3519028">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3519032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3519036">//&nbsp;nothing&nbsp;to&nbsp;do&nbsp;w/o&nbsp;a&nbsp;legal&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519078">if</span>&nbsp;<span class="ident" id="3519081"><a href="/gostd/go/doc/reader.go.html#3518197">n</a></span>&nbsp;<span class="op" id="3519083">==</span>&nbsp;<span class="num" id="3519086">0</span>&nbsp;<span class="op" id="3519088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519092">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3519100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3519104">//&nbsp;determine&nbsp;values&nbsp;list&nbsp;with&nbsp;which&nbsp;to&nbsp;associate&nbsp;the&nbsp;Value&nbsp;for&nbsp;this&nbsp;decl</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519178">values</span>&nbsp;<span class="op" id="3519185">:=</span>&nbsp;<span class="op" id="3519188">&amp;</span><span class="ident" id="3519189"><a href="/gostd/go/doc/reader.go.html#3517848">r</a></span><span class="op" id="3519190">.</span><span class="ident" id="3519191"><a href="/gostd/go/doc/reader.go.html#3515544">values</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519199">const</span>&nbsp;<span class="ident" id="3519205">threshold</span>&nbsp;<span class="op" id="3519215">=</span>&nbsp;<span class="num" id="3519217">0.75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519223">if</span>&nbsp;<span class="ident" id="3519226"><a href="/gostd/go/doc/reader.go.html#3518156">domName</a></span>&nbsp;<span class="op" id="3519234">!=</span>&nbsp;<span class="string" id="3519237">&#34;&#34;</span>&nbsp;<span class="op" id="3519240">&amp;&amp;</span>&nbsp;<span class="ident" id="3519243"><a href="/gostd/go/doc/reader.go.html#3517848">r</a></span><span class="op" id="3519244">.</span><span class="ident" id="3519245"><a href="/gostd/go/doc/reader.go.html#3515871">isVisible</a></span><span class="op" id="3519254">(</span><span class="ident" id="3519255"><a href="/gostd/go/doc/reader.go.html#3518156">domName</a></span><span class="op" id="3519262">)</span>&nbsp;<span class="op" id="3519264">&amp;&amp;</span>&nbsp;<span class="ident" id="3519267"><a href="/gostd/go/doc/reader.go.html#3518171">domFreq</a></span>&nbsp;<span class="op" id="3519275">&gt;=</span>&nbsp;<span class="builtintype" id="3519278">int</span><span class="op" id="3519281">(</span><span class="builtintype" id="3519282">float64</span><span class="op" id="3519289">(</span><span class="builtinfunc" id="3519290">len</span><span class="op" id="3519293">(</span><span class="ident" id="3519294"><a href="/gostd/go/doc/reader.go.html#3517869">decl</a></span><span class="op" id="3519298">.</span><span class="ident" id="3519299"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="3519304">)</span><span class="op" id="3519305">)</span><span class="op" id="3519306">*</span><span class="ident" id="3519307"><a href="/gostd/go/doc/reader.go.html#3519205">threshold</a></span><span class="op" id="3519316">)</span>&nbsp;<span class="op" id="3519318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3519322">//&nbsp;typed&nbsp;entries&nbsp;are&nbsp;sufficiently&nbsp;frequent</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519367">if</span>&nbsp;<span class="ident" id="3519370">typ</span>&nbsp;<span class="op" id="3519374">:=</span>&nbsp;<span class="ident" id="3519377"><a href="/gostd/go/doc/reader.go.html#3517848">r</a></span><span class="op" id="3519378">.</span><span class="ident" id="3519379"><a href="/gostd/go/doc/reader.go.html#3516177">lookupType</a></span><span class="op" id="3519389">(</span><span class="ident" id="3519390"><a href="/gostd/go/doc/reader.go.html#3518156">domName</a></span><span class="op" id="3519397">)</span><span class="op" id="3519398">;</span>&nbsp;<span class="ident" id="3519400"><a href="/gostd/go/doc/reader.go.html#3519370">typ</a></span>&nbsp;<span class="op" id="3519404">!=</span>&nbsp;<span class="builtintype" id="3519407">nil</span>&nbsp;<span class="op" id="3519411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519416"><a href="/gostd/go/doc/reader.go.html#3519178">values</a></span>&nbsp;<span class="op" id="3519423">=</span>&nbsp;<span class="op" id="3519425">&amp;</span><span class="ident" id="3519426"><a href="/gostd/go/doc/reader.go.html#3519370">typ</a></span><span class="op" id="3519429">.</span><span class="ident" id="3519430"><a href="/gostd/go/doc/reader.go.html#3514831">values</a></span>&nbsp;<span class="comment" id="3519437">//&nbsp;associate&nbsp;with&nbsp;that&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3519467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3519470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3519474">*</span><span class="ident" id="3519475"><a href="/gostd/go/doc/reader.go.html#3519178">values</a></span>&nbsp;<span class="op" id="3519482">=</span>&nbsp;<span class="builtinfunc" id="3519484">append</span><span class="op" id="3519490">(</span><span class="op" id="3519491">*</span><span class="ident" id="3519492"><a href="/gostd/go/doc/reader.go.html#3519178">values</a></span><span class="op" id="3519498">,</span>&nbsp;<span class="op" id="3519500">&amp;</span><span class="ident" id="3519501"><a href="/gostd/go/doc/doc.go.html#3490917">Value</a></span><span class="op" id="3519506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519510"><a href="/gostd/go/doc/doc.go.html#3490933">Doc</a></span><span class="op" id="3519513">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3519517"><a href="/gostd/go/doc/reader.go.html#3517869">decl</a></span><span class="op" id="3519521">.</span><span class="ident" id="3519522"><a href="/gostd/go/ast/ast.go.html#3822181">Doc</a></span><span class="op" id="3519525">.</span><span class="ident" id="3519526"><a href="/gostd/go/ast/ast.go.html#3796792">Text</a></span><span class="op" id="3519530">(</span><span class="op" id="3519531">)</span><span class="op" id="3519532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519536"><a href="/gostd/go/doc/doc.go.html#3490947">Names</a></span><span class="op" id="3519541">:</span>&nbsp;<span class="ident" id="3519543"><a href="/gostd/go/doc/reader.go.html#3517492">specNames</a></span><span class="op" id="3519552">(</span><span class="ident" id="3519553"><a href="/gostd/go/doc/reader.go.html#3517869">decl</a></span><span class="op" id="3519557">.</span><span class="ident" id="3519558"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="3519563">)</span><span class="op" id="3519564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519568"><a href="/gostd/go/doc/doc.go.html#3491006">Decl</a></span><span class="op" id="3519572">:</span>&nbsp;&nbsp;<span class="ident" id="3519575"><a href="/gostd/go/doc/reader.go.html#3517869">decl</a></span><span class="op" id="3519579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519583"><a href="/gostd/go/doc/doc.go.html#3491027">order</a></span><span class="op" id="3519588">:</span>&nbsp;<span class="builtinfunc" id="3519590">len</span><span class="op" id="3519593">(</span><span class="op" id="3519594">*</span><span class="ident" id="3519595"><a href="/gostd/go/doc/reader.go.html#3519178">values</a></span><span class="op" id="3519601">)</span><span class="op" id="3519602">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3519605">}</span><span class="op" id="3519606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519609"><a href="/gostd/go/doc/reader.go.html#3517869">decl</a></span><span class="op" id="3519613">.</span><span class="ident" id="3519614"><a href="/gostd/go/ast/ast.go.html#3822181">Doc</a></span>&nbsp;<span class="op" id="3519618">=</span>&nbsp;<span class="builtintype" id="3519620">nil</span>&nbsp;<span class="comment" id="3519624">//&nbsp;doc&nbsp;consumed&nbsp;-&nbsp;remove&nbsp;from&nbsp;AST</span><br>
<span class="lineno"></span><span class="op" id="3519658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3519661">//&nbsp;fields&nbsp;returns&nbsp;a&nbsp;struct&#39;s&nbsp;fields&nbsp;or&nbsp;an&nbsp;interface&#39;s&nbsp;methods.</span><br>
<span class="lineno">305</span><span class="comment" id="3519724">//</span><br>
<span class="lineno"></span><span class="keyword" id="3519727">func</span>&nbsp;<span class="ident" id="3519732">fields</span><span class="op" id="3519738">(</span><span class="ident" id="3519739">typ</span>&nbsp;<span class="ident" id="3519743"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3519746">.</span><span class="ident" id="3519747"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="3519751">)</span>&nbsp;<span class="op" id="3519753">(</span><span class="ident" id="3519754">list</span>&nbsp;<span class="op" id="3519759">[</span><span class="op" id="3519760">]</span><span class="op" id="3519761">*</span><span class="ident" id="3519762"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3519765">.</span><span class="ident" id="3519766"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="3519771">,</span>&nbsp;<span class="ident" id="3519773">isStruct</span>&nbsp;<span class="builtintype" id="3519782">bool</span><span class="op" id="3519786">)</span>&nbsp;<span class="op" id="3519788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519791">var</span>&nbsp;<span class="ident" id="3519795">fields</span>&nbsp;<span class="op" id="3519802">*</span><span class="ident" id="3519803"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3519806">.</span><span class="ident" id="3519807"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519818">switch</span>&nbsp;<span class="ident" id="3519825">t</span>&nbsp;<span class="op" id="3519827">:=</span>&nbsp;<span class="ident" id="3519830"><a href="/gostd/go/doc/reader.go.html#3519739">typ</a></span><span class="op" id="3519833">.</span><span class="op" id="3519834">(</span><span class="keyword" id="3519835">type</span><span class="op" id="3519839">)</span>&nbsp;<span class="op" id="3519841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519844">case</span>&nbsp;<span class="op" id="3519849">*</span><span class="ident" id="3519850"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3519853">.</span><span class="ident" id="3519854"><a href="/gostd/go/ast/ast.go.html#3804448">StructType</a></span><span class="op" id="3519864">:</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519868"><a href="/gostd/go/doc/reader.go.html#3519795">fields</a></span>&nbsp;<span class="op" id="3519875">=</span>&nbsp;<span class="ident" id="3519877"><a href="/gostd/go/doc/reader.go.html#3519825">t</a></span><span class="op" id="3519878">.</span><span class="ident" id="3519879"><a href="/gostd/go/ast/ast.go.html#3804526">Fields</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519888"><a href="/gostd/go/doc/reader.go.html#3519773">isStruct</a></span>&nbsp;<span class="op" id="3519897">=</span>&nbsp;<span class="builtintype" id="3519899">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519905">case</span>&nbsp;<span class="op" id="3519910">*</span><span class="ident" id="3519911"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3519914">.</span><span class="ident" id="3519915"><a href="/gostd/go/ast/ast.go.html#3805040">InterfaceType</a></span><span class="op" id="3519928">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519932"><a href="/gostd/go/doc/reader.go.html#3519795">fields</a></span>&nbsp;<span class="op" id="3519939">=</span>&nbsp;<span class="ident" id="3519941"><a href="/gostd/go/doc/reader.go.html#3519825">t</a></span><span class="op" id="3519942">.</span><span class="ident" id="3519943"><a href="/gostd/go/ast/ast.go.html#3805124">Methods</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3519952">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519955">if</span>&nbsp;<span class="ident" id="3519958"><a href="/gostd/go/doc/reader.go.html#3519795">fields</a></span>&nbsp;<span class="op" id="3519965">!=</span>&nbsp;<span class="builtintype" id="3519968">nil</span>&nbsp;<span class="op" id="3519972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3519976"><a href="/gostd/go/doc/reader.go.html#3519754">list</a></span>&nbsp;<span class="op" id="3519981">=</span>&nbsp;<span class="ident" id="3519983"><a href="/gostd/go/doc/reader.go.html#3519795">fields</a></span><span class="op" id="3519989">.</span><span class="ident" id="3519990"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3519996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3519999">return</span><br>
<span class="lineno"></span><span class="op" id="3520006">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="comment" id="3520009">//&nbsp;readType&nbsp;processes&nbsp;a&nbsp;type&nbsp;declaration.</span><br>
<span class="lineno"></span><span class="comment" id="3520051">//</span><br>
<span class="lineno"></span><span class="keyword" id="3520054">func</span>&nbsp;<span class="op" id="3520059">(</span><span class="ident" id="3520060">r</span>&nbsp;<span class="op" id="3520062">*</span><span class="ident" id="3520063"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3520069">)</span>&nbsp;<span class="ident" id="3520071">readType</span><span class="op" id="3520079">(</span><span class="ident" id="3520080">decl</span>&nbsp;<span class="op" id="3520085">*</span><span class="ident" id="3520086"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3520089">.</span><span class="ident" id="3520090"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span><span class="op" id="3520097">,</span>&nbsp;<span class="ident" id="3520099">spec</span>&nbsp;<span class="op" id="3520104">*</span><span class="ident" id="3520105"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3520108">.</span><span class="ident" id="3520109"><a href="/gostd/go/ast/ast.go.html#3820391">TypeSpec</a></span><span class="op" id="3520117">)</span>&nbsp;<span class="op" id="3520119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3520122">typ</span>&nbsp;<span class="op" id="3520126">:=</span>&nbsp;<span class="ident" id="3520129"><a href="/gostd/go/doc/reader.go.html#3520060">r</a></span><span class="op" id="3520130">.</span><span class="ident" id="3520131"><a href="/gostd/go/doc/reader.go.html#3516177">lookupType</a></span><span class="op" id="3520141">(</span><span class="ident" id="3520142"><a href="/gostd/go/doc/reader.go.html#3520099">spec</a></span><span class="op" id="3520146">.</span><span class="ident" id="3520147"><a href="/gostd/go/ast/ast.go.html#3820471">Name</a></span><span class="op" id="3520151">.</span><span class="ident" id="3520152"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3520156">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3520159">if</span>&nbsp;<span class="ident" id="3520162"><a href="/gostd/go/doc/reader.go.html#3520122">typ</a></span>&nbsp;<span class="op" id="3520166">==</span>&nbsp;<span class="builtintype" id="3520169">nil</span>&nbsp;<span class="op" id="3520173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3520177">return</span>&nbsp;<span class="comment" id="3520184">//&nbsp;no&nbsp;name&nbsp;or&nbsp;blank&nbsp;name&nbsp;-&nbsp;ignore&nbsp;the&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3520228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3520232">//&nbsp;A&nbsp;type&nbsp;should&nbsp;be&nbsp;added&nbsp;at&nbsp;most&nbsp;once,&nbsp;so&nbsp;typ.decl</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3520285">//&nbsp;should&nbsp;be&nbsp;nil&nbsp;-&nbsp;if&nbsp;it&nbsp;is&nbsp;not,&nbsp;simply&nbsp;overwrite&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3520340"><a href="/gostd/go/doc/reader.go.html#3520122">typ</a></span><span class="op" id="3520343">.</span><span class="ident" id="3520344"><a href="/gostd/go/doc/reader.go.html#3514559">decl</a></span>&nbsp;<span class="op" id="3520349">=</span>&nbsp;<span class="ident" id="3520351"><a href="/gostd/go/doc/reader.go.html#3520080">decl</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3520358">//&nbsp;compute&nbsp;documentation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3520384">doc</span>&nbsp;<span class="op" id="3520388">:=</span>&nbsp;<span class="ident" id="3520391"><a href="/gostd/go/doc/reader.go.html#3520099">spec</a></span><span class="op" id="3520395">.</span><span class="ident" id="3520396"><a href="/gostd/go/ast/ast.go.html#3820411">Doc</a></span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3520401"><a href="/gostd/go/doc/reader.go.html#3520099">spec</a></span><span class="op" id="3520405">.</span><span class="ident" id="3520406"><a href="/gostd/go/ast/ast.go.html#3820411">Doc</a></span>&nbsp;<span class="op" id="3520410">=</span>&nbsp;<span class="builtintype" id="3520412">nil</span>&nbsp;<span class="comment" id="3520416">//&nbsp;doc&nbsp;consumed&nbsp;-&nbsp;remove&nbsp;from&nbsp;AST</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3520451">if</span>&nbsp;<span class="ident" id="3520454"><a href="/gostd/go/doc/reader.go.html#3520384">doc</a></span>&nbsp;<span class="op" id="3520458">==</span>&nbsp;<span class="builtintype" id="3520461">nil</span>&nbsp;<span class="op" id="3520465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3520469">//&nbsp;no&nbsp;doc&nbsp;associated&nbsp;with&nbsp;the&nbsp;spec,&nbsp;use&nbsp;the&nbsp;declaration&nbsp;doc,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3520539"><a href="/gostd/go/doc/reader.go.html#3520384">doc</a></span>&nbsp;<span class="op" id="3520543">=</span>&nbsp;<span class="ident" id="3520545"><a href="/gostd/go/doc/reader.go.html#3520080">decl</a></span><span class="op" id="3520549">.</span><span class="ident" id="3520550"><a href="/gostd/go/ast/ast.go.html#3822181">Doc</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3520555">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3520558"><a href="/gostd/go/doc/reader.go.html#3520080">decl</a></span><span class="op" id="3520562">.</span><span class="ident" id="3520563"><a href="/gostd/go/ast/ast.go.html#3822181">Doc</a></span>&nbsp;<span class="op" id="3520567">=</span>&nbsp;<span class="builtintype" id="3520569">nil</span>&nbsp;<span class="comment" id="3520573">//&nbsp;doc&nbsp;consumed&nbsp;-&nbsp;remove&nbsp;from&nbsp;AST</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3520608"><a href="/gostd/go/doc/reader.go.html#3520122">typ</a></span><span class="op" id="3520611">.</span><span class="ident" id="3520612"><a href="/gostd/go/doc/reader.go.html#3514484">doc</a></span>&nbsp;<span class="op" id="3520616">=</span>&nbsp;<span class="ident" id="3520618"><a href="/gostd/go/doc/reader.go.html#3520384">doc</a></span><span class="op" id="3520621">.</span><span class="ident" id="3520622"><a href="/gostd/go/ast/ast.go.html#3796792">Text</a></span><span class="op" id="3520626">(</span><span class="op" id="3520627">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3520631">//&nbsp;record&nbsp;anonymous&nbsp;fields&nbsp;(they&nbsp;may&nbsp;contribute&nbsp;methods)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3520689">//&nbsp;(some&nbsp;fields&nbsp;may&nbsp;have&nbsp;been&nbsp;recorded&nbsp;already&nbsp;when&nbsp;filtering</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3520752">//&nbsp;exports,&nbsp;but&nbsp;that&#39;s&nbsp;ok)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3520780">var</span>&nbsp;<span class="ident" id="3520784">list</span>&nbsp;<span class="op" id="3520789">[</span><span class="op" id="3520790">]</span><span class="op" id="3520791">*</span><span class="ident" id="3520792"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3520795">.</span><span class="ident" id="3520796"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3520803"><a href="/gostd/go/doc/reader.go.html#3520784">list</a></span><span class="op" id="3520807">,</span>&nbsp;<span class="ident" id="3520809"><a href="/gostd/go/doc/reader.go.html#3520122">typ</a></span><span class="op" id="3520812">.</span><span class="ident" id="3520813"><a href="/gostd/go/doc/reader.go.html#3514679">isStruct</a></span>&nbsp;<span class="op" id="3520822">=</span>&nbsp;<span class="ident" id="3520824"><a href="/gostd/go/doc/reader.go.html#3519732">fields</a></span><span class="op" id="3520830">(</span><span class="ident" id="3520831"><a href="/gostd/go/doc/reader.go.html#3520099">spec</a></span><span class="op" id="3520835">.</span><span class="ident" id="3520836"><a href="/gostd/go/ast/ast.go.html#3820508">Type</a></span><span class="op" id="3520840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3520843">for</span>&nbsp;<span class="ident" id="3520847">_</span><span class="op" id="3520848">,</span>&nbsp;<span class="ident" id="3520850">field</span>&nbsp;<span class="op" id="3520856">:=</span>&nbsp;<span class="keyword" id="3520859">range</span>&nbsp;<span class="ident" id="3520865"><a href="/gostd/go/doc/reader.go.html#3520784">list</a></span>&nbsp;<span class="op" id="3520870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3520874">if</span>&nbsp;<span class="builtinfunc" id="3520877">len</span><span class="op" id="3520880">(</span><span class="ident" id="3520881"><a href="/gostd/go/doc/reader.go.html#3520850">field</a></span><span class="op" id="3520886">.</span><span class="ident" id="3520887"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="3520892">)</span>&nbsp;<span class="op" id="3520894">==</span>&nbsp;<span class="num" id="3520897">0</span>&nbsp;<span class="op" id="3520899">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3520904"><a href="/gostd/go/doc/reader.go.html#3520060">r</a></span><span class="op" id="3520905">.</span><span class="ident" id="3520906"><a href="/gostd/go/doc/reader.go.html#3516820">recordAnonymousField</a></span><span class="op" id="3520926">(</span><span class="ident" id="3520927"><a href="/gostd/go/doc/reader.go.html#3520122">typ</a></span><span class="op" id="3520930">,</span>&nbsp;<span class="ident" id="3520932"><a href="/gostd/go/doc/reader.go.html#3520850">field</a></span><span class="op" id="3520937">.</span><span class="ident" id="3520938"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="3520942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3520946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3520949">}</span><br>
<span class="lineno"></span><span class="op" id="3520951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span><span class="comment" id="3520954">//&nbsp;readFunc&nbsp;processes&nbsp;a&nbsp;func&nbsp;or&nbsp;method&nbsp;declaration.</span><br>
<span class="lineno"></span><span class="comment" id="3521006">//</span><br>
<span class="lineno"></span><span class="keyword" id="3521009">func</span>&nbsp;<span class="op" id="3521014">(</span><span class="ident" id="3521015">r</span>&nbsp;<span class="op" id="3521017">*</span><span class="ident" id="3521018"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3521024">)</span>&nbsp;<span class="ident" id="3521026">readFunc</span><span class="op" id="3521034">(</span><span class="ident" id="3521035">fun</span>&nbsp;<span class="op" id="3521039">*</span><span class="ident" id="3521040"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3521043">.</span><span class="ident" id="3521044"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="3521052">)</span>&nbsp;<span class="op" id="3521054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521057">//&nbsp;strip&nbsp;function&nbsp;body</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521081"><a href="/gostd/go/doc/reader.go.html#3521035">fun</a></span><span class="op" id="3521084">.</span><span class="ident" id="3521085"><a href="/gostd/go/ast/ast.go.html#3822784">Body</a></span>&nbsp;<span class="op" id="3521090">=</span>&nbsp;<span class="builtintype" id="3521092">nil</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521098">//&nbsp;associate&nbsp;methods&nbsp;with&nbsp;the&nbsp;receiver&nbsp;type,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3521151">if</span>&nbsp;<span class="ident" id="3521154"><a href="/gostd/go/doc/reader.go.html#3521035">fun</a></span><span class="op" id="3521157">.</span><span class="ident" id="3521158"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span>&nbsp;<span class="op" id="3521163">!=</span>&nbsp;<span class="builtintype" id="3521166">nil</span>&nbsp;<span class="op" id="3521170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521174">//&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521186">recvTypeName</span><span class="op" id="3521198">,</span>&nbsp;<span class="ident" id="3521200">imp</span>&nbsp;<span class="op" id="3521204">:=</span>&nbsp;<span class="ident" id="3521207"><a href="/gostd/go/doc/reader.go.html#3513845">baseTypeName</a></span><span class="op" id="3521219">(</span><span class="ident" id="3521220"><a href="/gostd/go/doc/reader.go.html#3521035">fun</a></span><span class="op" id="3521223">.</span><span class="ident" id="3521224"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span><span class="op" id="3521228">.</span><span class="ident" id="3521229"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="3521233">[</span><span class="num" id="3521234">0</span><span class="op" id="3521235">]</span><span class="op" id="3521236">.</span><span class="ident" id="3521237"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="3521241">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3521245">if</span>&nbsp;<span class="ident" id="3521248"><a href="/gostd/go/doc/reader.go.html#3521200">imp</a></span>&nbsp;<span class="op" id="3521252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521257">//&nbsp;should&nbsp;not&nbsp;happen&nbsp;(incorrect&nbsp;AST);</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521298">//&nbsp;don&#39;t&nbsp;show&nbsp;this&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3521327">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3521336">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3521340">if</span>&nbsp;<span class="ident" id="3521343">typ</span>&nbsp;<span class="op" id="3521347">:=</span>&nbsp;<span class="ident" id="3521350"><a href="/gostd/go/doc/reader.go.html#3521015">r</a></span><span class="op" id="3521351">.</span><span class="ident" id="3521352"><a href="/gostd/go/doc/reader.go.html#3516177">lookupType</a></span><span class="op" id="3521362">(</span><span class="ident" id="3521363"><a href="/gostd/go/doc/reader.go.html#3521186">recvTypeName</a></span><span class="op" id="3521375">)</span><span class="op" id="3521376">;</span>&nbsp;<span class="ident" id="3521378"><a href="/gostd/go/doc/reader.go.html#3521343">typ</a></span>&nbsp;<span class="op" id="3521382">!=</span>&nbsp;<span class="builtintype" id="3521385">nil</span>&nbsp;<span class="op" id="3521389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521394"><a href="/gostd/go/doc/reader.go.html#3521343">typ</a></span><span class="op" id="3521397">.</span><span class="ident" id="3521398"><a href="/gostd/go/doc/reader.go.html#3514887">methods</a></span><span class="op" id="3521405">.</span><span class="ident" id="3521406"><a href="/gostd/go/doc/reader.go.html#3512392">set</a></span><span class="op" id="3521409">(</span><span class="ident" id="3521410"><a href="/gostd/go/doc/reader.go.html#3521035">fun</a></span><span class="op" id="3521413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3521417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521421">//&nbsp;otherwise&nbsp;ignore&nbsp;the&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521454">//&nbsp;TODO(gri):&nbsp;There&nbsp;may&nbsp;be&nbsp;exported&nbsp;methods&nbsp;of&nbsp;non-exported&nbsp;types</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521522">//&nbsp;that&nbsp;can&nbsp;be&nbsp;called&nbsp;because&nbsp;of&nbsp;exported&nbsp;values&nbsp;(consts,&nbsp;vars,&nbsp;or</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521591">//&nbsp;function&nbsp;results)&nbsp;of&nbsp;that&nbsp;type.&nbsp;Could&nbsp;determine&nbsp;if&nbsp;that&nbsp;is&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521659">//&nbsp;case&nbsp;and&nbsp;then&nbsp;show&nbsp;those&nbsp;methods&nbsp;in&nbsp;an&nbsp;appropriate&nbsp;section.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3521724">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3521732">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521736">//&nbsp;associate&nbsp;factory&nbsp;functions&nbsp;with&nbsp;the&nbsp;first&nbsp;visible&nbsp;result&nbsp;type,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3521811">if</span>&nbsp;<span class="ident" id="3521814"><a href="/gostd/go/doc/reader.go.html#3521035">fun</a></span><span class="op" id="3521817">.</span><span class="ident" id="3521818"><a href="/gostd/go/ast/ast.go.html#3822688">Type</a></span><span class="op" id="3521822">.</span><span class="ident" id="3521823"><a href="/gostd/go/ast/ast.go.html#3804930">Results</a></span><span class="op" id="3521830">.</span><span class="ident" id="3521831"><a href="/gostd/go/ast/ast.go.html#3799677">NumFields</a></span><span class="op" id="3521840">(</span><span class="op" id="3521841">)</span>&nbsp;<span class="op" id="3521843">&gt;=</span>&nbsp;<span class="num" id="3521846">1</span>&nbsp;<span class="op" id="3521848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3521852">res</span>&nbsp;<span class="op" id="3521856">:=</span>&nbsp;<span class="ident" id="3521859"><a href="/gostd/go/doc/reader.go.html#3521035">fun</a></span><span class="op" id="3521862">.</span><span class="ident" id="3521863"><a href="/gostd/go/ast/ast.go.html#3822688">Type</a></span><span class="op" id="3521867">.</span><span class="ident" id="3521868"><a href="/gostd/go/ast/ast.go.html#3804930">Results</a></span><span class="op" id="3521875">.</span><span class="ident" id="3521876"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="3521880">[</span><span class="num" id="3521881">0</span><span class="op" id="3521882">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3521886">if</span>&nbsp;<span class="builtinfunc" id="3521889">len</span><span class="op" id="3521892">(</span><span class="ident" id="3521893"><a href="/gostd/go/doc/reader.go.html#3521852">res</a></span><span class="op" id="3521896">.</span><span class="ident" id="3521897"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="3521902">)</span>&nbsp;<span class="op" id="3521904">&lt;=</span>&nbsp;<span class="num" id="3521907">1</span>&nbsp;<span class="op" id="3521909">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521914">//&nbsp;exactly&nbsp;one&nbsp;(named&nbsp;or&nbsp;anonymous)&nbsp;result&nbsp;associated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3521971">//&nbsp;with&nbsp;the&nbsp;first&nbsp;type&nbsp;in&nbsp;result&nbsp;signature&nbsp;(there&nbsp;may</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522028">//&nbsp;be&nbsp;more&nbsp;than&nbsp;one&nbsp;result)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3522059">if</span>&nbsp;<span class="ident" id="3522062">n</span><span class="op" id="3522063">,</span>&nbsp;<span class="ident" id="3522065">imp</span>&nbsp;<span class="op" id="3522069">:=</span>&nbsp;<span class="ident" id="3522072"><a href="/gostd/go/doc/reader.go.html#3513845">baseTypeName</a></span><span class="op" id="3522084">(</span><span class="ident" id="3522085"><a href="/gostd/go/doc/reader.go.html#3521852">res</a></span><span class="op" id="3522088">.</span><span class="ident" id="3522089"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="3522093">)</span><span class="op" id="3522094">;</span>&nbsp;<span class="op" id="3522096">!</span><span class="ident" id="3522097"><a href="/gostd/go/doc/reader.go.html#3522065">imp</a></span>&nbsp;<span class="op" id="3522101">&amp;&amp;</span>&nbsp;<span class="ident" id="3522104"><a href="/gostd/go/doc/reader.go.html#3521015">r</a></span><span class="op" id="3522105">.</span><span class="ident" id="3522106"><a href="/gostd/go/doc/reader.go.html#3515871">isVisible</a></span><span class="op" id="3522115">(</span><span class="ident" id="3522116"><a href="/gostd/go/doc/reader.go.html#3522062">n</a></span><span class="op" id="3522117">)</span>&nbsp;<span class="op" id="3522119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3522125">if</span>&nbsp;<span class="ident" id="3522128">typ</span>&nbsp;<span class="op" id="3522132">:=</span>&nbsp;<span class="ident" id="3522135"><a href="/gostd/go/doc/reader.go.html#3521015">r</a></span><span class="op" id="3522136">.</span><span class="ident" id="3522137"><a href="/gostd/go/doc/reader.go.html#3516177">lookupType</a></span><span class="op" id="3522147">(</span><span class="ident" id="3522148"><a href="/gostd/go/doc/reader.go.html#3522062">n</a></span><span class="op" id="3522149">)</span><span class="op" id="3522150">;</span>&nbsp;<span class="ident" id="3522152"><a href="/gostd/go/doc/reader.go.html#3522128">typ</a></span>&nbsp;<span class="op" id="3522156">!=</span>&nbsp;<span class="builtintype" id="3522159">nil</span>&nbsp;<span class="op" id="3522163">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522170">//&nbsp;associate&nbsp;function&nbsp;with&nbsp;typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522206"><a href="/gostd/go/doc/reader.go.html#3522128">typ</a></span><span class="op" id="3522209">.</span><span class="ident" id="3522210"><a href="/gostd/go/doc/reader.go.html#3514868">funcs</a></span><span class="op" id="3522215">.</span><span class="ident" id="3522216"><a href="/gostd/go/doc/reader.go.html#3512392">set</a></span><span class="op" id="3522219">(</span><span class="ident" id="3522220"><a href="/gostd/go/doc/reader.go.html#3521035">fun</a></span><span class="op" id="3522223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3522230">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3522241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3522246">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3522250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3522253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522257">//&nbsp;just&nbsp;an&nbsp;ordinary&nbsp;function</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522287"><a href="/gostd/go/doc/reader.go.html#3521015">r</a></span><span class="op" id="3522288">.</span><span class="ident" id="3522289"><a href="/gostd/go/doc/reader.go.html#3515612">funcs</a></span><span class="op" id="3522294">.</span><span class="ident" id="3522295"><a href="/gostd/go/doc/reader.go.html#3512392">set</a></span><span class="op" id="3522298">(</span><span class="ident" id="3522299"><a href="/gostd/go/doc/reader.go.html#3521035">fun</a></span><span class="op" id="3522302">)</span><br>
<span class="lineno">400</span><span class="op" id="3522304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3522307">var</span>&nbsp;<span class="op" id="3522311">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522314">noteMarker</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3522328">=</span>&nbsp;<span class="string" id="3522330">`([A-Z][A-Z]+)\(([^)]+)\):?`</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522378">//&nbsp;MARKER(uid),&nbsp;MARKER&nbsp;at&nbsp;least&nbsp;2&nbsp;chars,&nbsp;uid&nbsp;at&nbsp;least&nbsp;1&nbsp;char</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522440">noteMarkerRx</span>&nbsp;&nbsp;<span class="op" id="3522454">=</span>&nbsp;<span class="ident" id="3522456"><a href="/gostd/go/doc/reader.go.html#3511458">regexp</a></span><span class="op" id="3522462">.</span><span class="ident" id="3522463"><a href="/gostd/regexp/regexp.go.html#3571892">MustCompile</a></span><span class="op" id="3522474">(</span><span class="string" id="3522475">`^[&nbsp;\t]*`</span>&nbsp;<span class="op" id="3522485">+</span>&nbsp;<span class="ident" id="3522487"><a href="/gostd/go/doc/reader.go.html#3522314">noteMarker</a></span><span class="op" id="3522497">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522504">//&nbsp;MARKER(uid)&nbsp;at&nbsp;text&nbsp;start</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522534">noteCommentRx</span>&nbsp;<span class="op" id="3522548">=</span>&nbsp;<span class="ident" id="3522550"><a href="/gostd/go/doc/reader.go.html#3511458">regexp</a></span><span class="op" id="3522556">.</span><span class="ident" id="3522557"><a href="/gostd/regexp/regexp.go.html#3571892">MustCompile</a></span><span class="op" id="3522568">(</span><span class="string" id="3522569">`^/[/*][&nbsp;\t]*`</span>&nbsp;<span class="op" id="3522584">+</span>&nbsp;<span class="ident" id="3522586"><a href="/gostd/go/doc/reader.go.html#3522314">noteMarker</a></span><span class="op" id="3522596">)</span>&nbsp;<span class="comment" id="3522598">//&nbsp;MARKER(uid)&nbsp;at&nbsp;comment&nbsp;start</span><br>
<span class="lineno"></span><span class="op" id="3522630">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3522633">//&nbsp;readNote&nbsp;collects&nbsp;a&nbsp;single&nbsp;note&nbsp;from&nbsp;a&nbsp;sequence&nbsp;of&nbsp;comments.</span><br>
<span class="lineno"></span><span class="comment" id="3522697">//</span><br>
<span class="lineno">410</span><span class="keyword" id="3522700">func</span>&nbsp;<span class="op" id="3522705">(</span><span class="ident" id="3522706">r</span>&nbsp;<span class="op" id="3522708">*</span><span class="ident" id="3522709"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3522715">)</span>&nbsp;<span class="ident" id="3522717">readNote</span><span class="op" id="3522725">(</span><span class="ident" id="3522726">list</span>&nbsp;<span class="op" id="3522731">[</span><span class="op" id="3522732">]</span><span class="op" id="3522733">*</span><span class="ident" id="3522734"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3522737">.</span><span class="ident" id="3522738"><a href="/gostd/go/ast/ast.go.html#3795636">Comment</a></span><span class="op" id="3522745">)</span>&nbsp;<span class="op" id="3522747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3522750">text</span>&nbsp;<span class="op" id="3522755">:=</span>&nbsp;<span class="op" id="3522758">(</span><span class="op" id="3522759">&amp;</span><span class="ident" id="3522760"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3522763">.</span><span class="ident" id="3522764"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="3522776">{</span><span class="ident" id="3522777"><a href="/gostd/go/ast/ast.go.html#3796057">List</a></span><span class="op" id="3522781">:</span>&nbsp;<span class="ident" id="3522783"><a href="/gostd/go/doc/reader.go.html#3522726">list</a></span><span class="op" id="3522787">}</span><span class="op" id="3522788">)</span><span class="op" id="3522789">.</span><span class="ident" id="3522790"><a href="/gostd/go/ast/ast.go.html#3796792">Text</a></span><span class="op" id="3522794">(</span><span class="op" id="3522795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3522798">if</span>&nbsp;<span class="ident" id="3522801">m</span>&nbsp;<span class="op" id="3522803">:=</span>&nbsp;<span class="ident" id="3522806"><a href="/gostd/go/doc/reader.go.html#3522440">noteMarkerRx</a></span><span class="op" id="3522818">.</span><span class="ident" id="3522819"><a href="/gostd/regexp/regexp.go.html#3591482">FindStringSubmatchIndex</a></span><span class="op" id="3522842">(</span><span class="ident" id="3522843"><a href="/gostd/go/doc/reader.go.html#3522750">text</a></span><span class="op" id="3522847">)</span><span class="op" id="3522848">;</span>&nbsp;<span class="ident" id="3522850"><a href="/gostd/go/doc/reader.go.html#3522801">m</a></span>&nbsp;<span class="op" id="3522852">!=</span>&nbsp;<span class="builtintype" id="3522855">nil</span>&nbsp;<span class="op" id="3522859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522863">//&nbsp;The&nbsp;note&nbsp;body&nbsp;starts&nbsp;after&nbsp;the&nbsp;marker.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522907">//&nbsp;We&nbsp;remove&nbsp;any&nbsp;formatting&nbsp;so&nbsp;that&nbsp;we&nbsp;don&#39;t</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3522954">//&nbsp;get&nbsp;spurious&nbsp;line&nbsp;breaks/indentation&nbsp;when</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3523001">//&nbsp;showing&nbsp;the&nbsp;TODO&nbsp;body.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523029">body</span>&nbsp;<span class="op" id="3523034">:=</span>&nbsp;<span class="ident" id="3523037"><a href="/gostd/go/doc/synopsis.go.html#3535617">clean</a></span><span class="op" id="3523042">(</span><span class="ident" id="3523043"><a href="/gostd/go/doc/reader.go.html#3522750">text</a></span><span class="op" id="3523047">[</span><span class="ident" id="3523048"><a href="/gostd/go/doc/reader.go.html#3522801">m</a></span><span class="op" id="3523049">[</span><span class="num" id="3523050">1</span><span class="op" id="3523051">]</span><span class="op" id="3523052">:</span><span class="op" id="3523053">]</span><span class="op" id="3523054">,</span>&nbsp;<span class="ident" id="3523056"><a href="/gostd/go/doc/synopsis.go.html#3535349">keepNL</a></span><span class="op" id="3523062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523066">if</span>&nbsp;<span class="ident" id="3523069"><a href="/gostd/go/doc/reader.go.html#3523029">body</a></span>&nbsp;<span class="op" id="3523074">!=</span>&nbsp;<span class="string" id="3523077">&#34;&#34;</span>&nbsp;<span class="op" id="3523080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523085">marker</span>&nbsp;<span class="op" id="3523092">:=</span>&nbsp;<span class="ident" id="3523095"><a href="/gostd/go/doc/reader.go.html#3522750">text</a></span><span class="op" id="3523099">[</span><span class="ident" id="3523100"><a href="/gostd/go/doc/reader.go.html#3522801">m</a></span><span class="op" id="3523101">[</span><span class="num" id="3523102">2</span><span class="op" id="3523103">]</span><span class="op" id="3523104">:</span><span class="ident" id="3523105"><a href="/gostd/go/doc/reader.go.html#3522801">m</a></span><span class="op" id="3523106">[</span><span class="num" id="3523107">3</span><span class="op" id="3523108">]</span><span class="op" id="3523109">]</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523114"><a href="/gostd/go/doc/reader.go.html#3522706">r</a></span><span class="op" id="3523115">.</span><span class="ident" id="3523116"><a href="/gostd/go/doc/reader.go.html#3515472">notes</a></span><span class="op" id="3523121">[</span><span class="ident" id="3523122"><a href="/gostd/go/doc/reader.go.html#3523085">marker</a></span><span class="op" id="3523128">]</span>&nbsp;<span class="op" id="3523130">=</span>&nbsp;<span class="builtinfunc" id="3523132">append</span><span class="op" id="3523138">(</span><span class="ident" id="3523139"><a href="/gostd/go/doc/reader.go.html#3522706">r</a></span><span class="op" id="3523140">.</span><span class="ident" id="3523141"><a href="/gostd/go/doc/reader.go.html#3515472">notes</a></span><span class="op" id="3523146">[</span><span class="ident" id="3523147"><a href="/gostd/go/doc/reader.go.html#3523085">marker</a></span><span class="op" id="3523153">]</span><span class="op" id="3523154">,</span>&nbsp;<span class="op" id="3523156">&amp;</span><span class="ident" id="3523157"><a href="/gostd/go/doc/doc.go.html#3492139">Note</a></span><span class="op" id="3523161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523167"><a href="/gostd/go/doc/doc.go.html#3492154">Pos</a></span><span class="op" id="3523170">:</span>&nbsp;&nbsp;<span class="ident" id="3523173"><a href="/gostd/go/doc/reader.go.html#3522726">list</a></span><span class="op" id="3523177">[</span><span class="num" id="3523178">0</span><span class="op" id="3523179">]</span><span class="op" id="3523180">.</span><span class="ident" id="3523181"><a href="/gostd/go/ast/ast.go.html#3795803">Pos</a></span><span class="op" id="3523184">(</span><span class="op" id="3523185">)</span><span class="op" id="3523186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523192"><a href="/gostd/go/doc/doc.go.html#3492159">End</a></span><span class="op" id="3523195">:</span>&nbsp;&nbsp;<span class="ident" id="3523198"><a href="/gostd/go/doc/reader.go.html#3522726">list</a></span><span class="op" id="3523202">[</span><span class="builtinfunc" id="3523203">len</span><span class="op" id="3523206">(</span><span class="ident" id="3523207"><a href="/gostd/go/doc/reader.go.html#3522726">list</a></span><span class="op" id="3523211">)</span><span class="op" id="3523212">-</span><span class="num" id="3523213">1</span><span class="op" id="3523214">]</span><span class="op" id="3523215">.</span><span class="ident" id="3523216"><a href="/gostd/go/ast/ast.go.html#3795856">End</a></span><span class="op" id="3523219">(</span><span class="op" id="3523220">)</span><span class="op" id="3523221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523227"><a href="/gostd/go/doc/doc.go.html#3492229">UID</a></span><span class="op" id="3523230">:</span>&nbsp;&nbsp;<span class="ident" id="3523233"><a href="/gostd/go/doc/reader.go.html#3522750">text</a></span><span class="op" id="3523237">[</span><span class="ident" id="3523238"><a href="/gostd/go/doc/reader.go.html#3522801">m</a></span><span class="op" id="3523239">[</span><span class="num" id="3523240">4</span><span class="op" id="3523241">]</span><span class="op" id="3523242">:</span><span class="ident" id="3523243"><a href="/gostd/go/doc/reader.go.html#3522801">m</a></span><span class="op" id="3523244">[</span><span class="num" id="3523245">5</span><span class="op" id="3523246">]</span><span class="op" id="3523247">]</span><span class="op" id="3523248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523254"><a href="/gostd/go/doc/doc.go.html#3492278">Body</a></span><span class="op" id="3523258">:</span>&nbsp;<span class="ident" id="3523260"><a href="/gostd/go/doc/reader.go.html#3523029">body</a></span><span class="op" id="3523264">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3523269">}</span><span class="op" id="3523270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3523274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3523277">}</span><br>
<span class="lineno"></span><span class="op" id="3523279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">430</span><span class="comment" id="3523282">//&nbsp;readNotes&nbsp;extracts&nbsp;notes&nbsp;from&nbsp;comments.</span><br>
<span class="lineno"></span><span class="comment" id="3523325">//&nbsp;A&nbsp;note&nbsp;must&nbsp;start&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;comment&nbsp;with&nbsp;&#34;MARKER(uid):&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3523396">//&nbsp;and&nbsp;is&nbsp;followed&nbsp;by&nbsp;the&nbsp;note&nbsp;body&nbsp;(e.g.,&nbsp;&#34;//&nbsp;BUG(gri):&nbsp;fix&nbsp;this&#34;).</span><br>
<span class="lineno"></span><span class="comment" id="3523465">//&nbsp;The&nbsp;note&nbsp;ends&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;comment&nbsp;group&nbsp;or&nbsp;at&nbsp;the&nbsp;start&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3523533">//&nbsp;another&nbsp;note&nbsp;in&nbsp;the&nbsp;same&nbsp;comment&nbsp;group,&nbsp;whichever&nbsp;comes&nbsp;first.</span><br>
<span class="lineno">435</span><span class="comment" id="3523599">//</span><br>
<span class="lineno"></span><span class="keyword" id="3523602">func</span>&nbsp;<span class="op" id="3523607">(</span><span class="ident" id="3523608">r</span>&nbsp;<span class="op" id="3523610">*</span><span class="ident" id="3523611"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3523617">)</span>&nbsp;<span class="ident" id="3523619">readNotes</span><span class="op" id="3523628">(</span><span class="ident" id="3523629">comments</span>&nbsp;<span class="op" id="3523638">[</span><span class="op" id="3523639">]</span><span class="op" id="3523640">*</span><span class="ident" id="3523641"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3523644">.</span><span class="ident" id="3523645"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="3523657">)</span>&nbsp;<span class="op" id="3523659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523662">for</span>&nbsp;<span class="ident" id="3523666">_</span><span class="op" id="3523667">,</span>&nbsp;<span class="ident" id="3523669">group</span>&nbsp;<span class="op" id="3523675">:=</span>&nbsp;<span class="keyword" id="3523678">range</span>&nbsp;<span class="ident" id="3523684"><a href="/gostd/go/doc/reader.go.html#3523629">comments</a></span>&nbsp;<span class="op" id="3523693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523697">i</span>&nbsp;<span class="op" id="3523699">:=</span>&nbsp;<span class="op" id="3523702">-</span><span class="num" id="3523703">1</span>&nbsp;<span class="comment" id="3523705">//&nbsp;comment&nbsp;index&nbsp;of&nbsp;most&nbsp;recent&nbsp;note&nbsp;start,&nbsp;valid&nbsp;if&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523765">list</span>&nbsp;<span class="op" id="3523770">:=</span>&nbsp;<span class="ident" id="3523773"><a href="/gostd/go/doc/reader.go.html#3523669">group</a></span><span class="op" id="3523778">.</span><span class="ident" id="3523779"><a href="/gostd/go/ast/ast.go.html#3796057">List</a></span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523786">for</span>&nbsp;<span class="ident" id="3523790">j</span><span class="op" id="3523791">,</span>&nbsp;<span class="ident" id="3523793">c</span>&nbsp;<span class="op" id="3523795">:=</span>&nbsp;<span class="keyword" id="3523798">range</span>&nbsp;<span class="ident" id="3523804"><a href="/gostd/go/doc/reader.go.html#3523765">list</a></span>&nbsp;<span class="op" id="3523809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523814">if</span>&nbsp;<span class="ident" id="3523817"><a href="/gostd/go/doc/reader.go.html#3522534">noteCommentRx</a></span><span class="op" id="3523830">.</span><span class="ident" id="3523831"><a href="/gostd/regexp/regexp.go.html#3576314">MatchString</a></span><span class="op" id="3523842">(</span><span class="ident" id="3523843"><a href="/gostd/go/doc/reader.go.html#3523793">c</a></span><span class="op" id="3523844">.</span><span class="ident" id="3523845"><a href="/gostd/go/ast/ast.go.html#3795711">Text</a></span><span class="op" id="3523849">)</span>&nbsp;<span class="op" id="3523851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523857">if</span>&nbsp;<span class="ident" id="3523860"><a href="/gostd/go/doc/reader.go.html#3523697">i</a></span>&nbsp;<span class="op" id="3523862">&gt;=</span>&nbsp;<span class="num" id="3523865">0</span>&nbsp;<span class="op" id="3523867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523874"><a href="/gostd/go/doc/reader.go.html#3523608">r</a></span><span class="op" id="3523875">.</span><span class="ident" id="3523876"><a href="/gostd/go/doc/reader.go.html#3522717">readNote</a></span><span class="op" id="3523884">(</span><span class="ident" id="3523885"><a href="/gostd/go/doc/reader.go.html#3523765">list</a></span><span class="op" id="3523889">[</span><span class="ident" id="3523890"><a href="/gostd/go/doc/reader.go.html#3523697">i</a></span><span class="op" id="3523891">:</span><span class="ident" id="3523892"><a href="/gostd/go/doc/reader.go.html#3523790">j</a></span><span class="op" id="3523893">]</span><span class="op" id="3523894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3523900">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523906"><a href="/gostd/go/doc/reader.go.html#3523697">i</a></span>&nbsp;<span class="op" id="3523908">=</span>&nbsp;<span class="ident" id="3523910"><a href="/gostd/go/doc/reader.go.html#3523790">j</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3523915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3523919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3523923">if</span>&nbsp;<span class="ident" id="3523926"><a href="/gostd/go/doc/reader.go.html#3523697">i</a></span>&nbsp;<span class="op" id="3523928">&gt;=</span>&nbsp;<span class="num" id="3523931">0</span>&nbsp;<span class="op" id="3523933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3523938"><a href="/gostd/go/doc/reader.go.html#3523608">r</a></span><span class="op" id="3523939">.</span><span class="ident" id="3523940"><a href="/gostd/go/doc/reader.go.html#3522717">readNote</a></span><span class="op" id="3523948">(</span><span class="ident" id="3523949"><a href="/gostd/go/doc/reader.go.html#3523765">list</a></span><span class="op" id="3523953">[</span><span class="ident" id="3523954"><a href="/gostd/go/doc/reader.go.html#3523697">i</a></span><span class="op" id="3523955">:</span><span class="op" id="3523956">]</span><span class="op" id="3523957">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3523961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3523964">}</span><br>
<span class="lineno"></span><span class="op" id="3523966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3523969">//&nbsp;readFile&nbsp;adds&nbsp;the&nbsp;AST&nbsp;for&nbsp;a&nbsp;source&nbsp;file&nbsp;to&nbsp;the&nbsp;reader.</span><br>
<span class="lineno">455</span><span class="comment" id="3524027">//</span><br>
<span class="lineno"></span><span class="keyword" id="3524030">func</span>&nbsp;<span class="op" id="3524035">(</span><span class="ident" id="3524036">r</span>&nbsp;<span class="op" id="3524038">*</span><span class="ident" id="3524039"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3524045">)</span>&nbsp;<span class="ident" id="3524047">readFile</span><span class="op" id="3524055">(</span><span class="ident" id="3524056">src</span>&nbsp;<span class="op" id="3524060">*</span><span class="ident" id="3524061"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3524064">.</span><span class="ident" id="3524065"><a href="/gostd/go/ast/ast.go.html#3823869">File</a></span><span class="op" id="3524069">)</span>&nbsp;<span class="op" id="3524071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3524074">//&nbsp;add&nbsp;package&nbsp;documentation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524104">if</span>&nbsp;<span class="ident" id="3524107"><a href="/gostd/go/doc/reader.go.html#3524056">src</a></span><span class="op" id="3524110">.</span><span class="ident" id="3524111"><a href="/gostd/go/ast/ast.go.html#3823884">Doc</a></span>&nbsp;<span class="op" id="3524115">!=</span>&nbsp;<span class="builtintype" id="3524118">nil</span>&nbsp;<span class="op" id="3524122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3524126"><a href="/gostd/go/doc/reader.go.html#3524036">r</a></span><span class="op" id="3524127">.</span><span class="ident" id="3524128"><a href="/gostd/go/doc/reader.go.html#3517150">readDoc</a></span><span class="op" id="3524135">(</span><span class="ident" id="3524136"><a href="/gostd/go/doc/reader.go.html#3524056">src</a></span><span class="op" id="3524139">.</span><span class="ident" id="3524140"><a href="/gostd/go/ast/ast.go.html#3823884">Doc</a></span><span class="op" id="3524143">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3524147"><a href="/gostd/go/doc/reader.go.html#3524056">src</a></span><span class="op" id="3524150">.</span><span class="ident" id="3524151"><a href="/gostd/go/ast/ast.go.html#3823884">Doc</a></span>&nbsp;<span class="op" id="3524155">=</span>&nbsp;<span class="builtintype" id="3524157">nil</span>&nbsp;<span class="comment" id="3524161">//&nbsp;doc&nbsp;consumed&nbsp;-&nbsp;remove&nbsp;from&nbsp;AST</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3524200">//&nbsp;add&nbsp;all&nbsp;declarations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524225">for</span>&nbsp;<span class="ident" id="3524229">_</span><span class="op" id="3524230">,</span>&nbsp;<span class="ident" id="3524232">decl</span>&nbsp;<span class="op" id="3524237">:=</span>&nbsp;<span class="keyword" id="3524240">range</span>&nbsp;<span class="ident" id="3524246"><a href="/gostd/go/doc/reader.go.html#3524056">src</a></span><span class="op" id="3524249">.</span><span class="ident" id="3524250"><a href="/gostd/go/ast/ast.go.html#3824053">Decls</a></span>&nbsp;<span class="op" id="3524256">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524260">switch</span>&nbsp;<span class="ident" id="3524267">d</span>&nbsp;<span class="op" id="3524269">:=</span>&nbsp;<span class="ident" id="3524272"><a href="/gostd/go/doc/reader.go.html#3524232">decl</a></span><span class="op" id="3524276">.</span><span class="op" id="3524277">(</span><span class="keyword" id="3524278">type</span><span class="op" id="3524282">)</span>&nbsp;<span class="op" id="3524284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524288">case</span>&nbsp;<span class="op" id="3524293">*</span><span class="ident" id="3524294"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3524297">.</span><span class="ident" id="3524298"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span><span class="op" id="3524305">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524310">switch</span>&nbsp;<span class="ident" id="3524317"><a href="/gostd/go/doc/reader.go.html#3524267">d</a></span><span class="op" id="3524318">.</span><span class="ident" id="3524319"><a href="/gostd/go/ast/ast.go.html#3822282">Tok</a></span>&nbsp;<span class="op" id="3524323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524328">case</span>&nbsp;<span class="ident" id="3524333"><a href="/gostd/go/doc/reader.go.html#3511446">token</a></span><span class="op" id="3524338">.</span><span class="ident" id="3524339"><a href="/gostd/go/token/token.go.html#3890848">IMPORT</a></span><span class="op" id="3524345">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3524351">//&nbsp;imports&nbsp;are&nbsp;handled&nbsp;individually</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524391">for</span>&nbsp;<span class="ident" id="3524395">_</span><span class="op" id="3524396">,</span>&nbsp;<span class="ident" id="3524398">spec</span>&nbsp;<span class="op" id="3524403">:=</span>&nbsp;<span class="keyword" id="3524406">range</span>&nbsp;<span class="ident" id="3524412"><a href="/gostd/go/doc/reader.go.html#3524267">d</a></span><span class="op" id="3524413">.</span><span class="ident" id="3524414"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span>&nbsp;<span class="op" id="3524420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524427">if</span>&nbsp;<span class="ident" id="3524430">s</span><span class="op" id="3524431">,</span>&nbsp;<span class="ident" id="3524433">ok</span>&nbsp;<span class="op" id="3524436">:=</span>&nbsp;<span class="ident" id="3524439"><a href="/gostd/go/doc/reader.go.html#3524398">spec</a></span><span class="op" id="3524443">.</span><span class="op" id="3524444">(</span><span class="op" id="3524445">*</span><span class="ident" id="3524446"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3524449">.</span><span class="ident" id="3524450"><a href="/gostd/go/ast/ast.go.html#3819609">ImportSpec</a></span><span class="op" id="3524460">)</span><span class="op" id="3524461">;</span>&nbsp;<span class="ident" id="3524463"><a href="/gostd/go/doc/reader.go.html#3524433">ok</a></span>&nbsp;<span class="op" id="3524466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524474">if</span>&nbsp;<span class="ident" id="3524477">import_</span><span class="op" id="3524484">,</span>&nbsp;<span class="ident" id="3524486">err</span>&nbsp;<span class="op" id="3524490">:=</span>&nbsp;<span class="ident" id="3524493"><a href="/gostd/go/doc/reader.go.html#3511476">strconv</a></span><span class="op" id="3524500">.</span><span class="ident" id="3524501"><a href="/gostd/strconv/quote.go.html#2417743">Unquote</a></span><span class="op" id="3524508">(</span><span class="ident" id="3524509"><a href="/gostd/go/doc/reader.go.html#3524430">s</a></span><span class="op" id="3524510">.</span><span class="ident" id="3524511"><a href="/gostd/go/ast/ast.go.html#3819761">Path</a></span><span class="op" id="3524515">.</span><span class="ident" id="3524516"><a href="/gostd/go/ast/ast.go.html#3800851">Value</a></span><span class="op" id="3524521">)</span><span class="op" id="3524522">;</span>&nbsp;<span class="ident" id="3524524"><a href="/gostd/go/doc/reader.go.html#3524486">err</a></span>&nbsp;<span class="op" id="3524528">==</span>&nbsp;<span class="builtintype" id="3524531">nil</span>&nbsp;<span class="op" id="3524535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3524544"><a href="/gostd/go/doc/reader.go.html#3524036">r</a></span><span class="op" id="3524545">.</span><span class="ident" id="3524546"><a href="/gostd/go/doc/reader.go.html#3515520">imports</a></span><span class="op" id="3524553">[</span><span class="ident" id="3524554"><a href="/gostd/go/doc/reader.go.html#3524477">import_</a></span><span class="op" id="3524561">]</span>&nbsp;<span class="op" id="3524563">=</span>&nbsp;<span class="num" id="3524565">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524573">}</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3524586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524591">case</span>&nbsp;<span class="ident" id="3524596"><a href="/gostd/go/doc/reader.go.html#3511446">token</a></span><span class="op" id="3524601">.</span><span class="ident" id="3524602"><a href="/gostd/go/token/token.go.html#3890769">CONST</a></span><span class="op" id="3524607">,</span>&nbsp;<span class="ident" id="3524609"><a href="/gostd/go/doc/reader.go.html#3511446">token</a></span><span class="op" id="3524614">.</span><span class="ident" id="3524615"><a href="/gostd/go/token/token.go.html#3890928">VAR</a></span><span class="op" id="3524618">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3524624">//&nbsp;constants&nbsp;and&nbsp;variables&nbsp;are&nbsp;always&nbsp;handled&nbsp;as&nbsp;a&nbsp;group</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3524685"><a href="/gostd/go/doc/reader.go.html#3524036">r</a></span><span class="op" id="3524686">.</span><span class="ident" id="3524687"><a href="/gostd/go/doc/reader.go.html#3517859">readValue</a></span><span class="op" id="3524696">(</span><span class="ident" id="3524697"><a href="/gostd/go/doc/reader.go.html#3524267">d</a></span><span class="op" id="3524698">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524703">case</span>&nbsp;<span class="ident" id="3524708"><a href="/gostd/go/doc/reader.go.html#3511446">token</a></span><span class="op" id="3524713">.</span><span class="ident" id="3524714"><a href="/gostd/go/token/token.go.html#3890922">TYPE</a></span><span class="op" id="3524718">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3524724">//&nbsp;types&nbsp;are&nbsp;handled&nbsp;individually</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3524762">if</span>&nbsp;<span class="builtinfunc" id="3524765">len</span><span class="op" id="3524768">(</span><span class="ident" id="3524769"><a href="/gostd/go/doc/reader.go.html#3524267">d</a></span><span class="op" id="3524770">.</span><span class="ident" id="3524771"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="3524776">)</span>&nbsp;<span class="op" id="3524778">==</span>&nbsp;<span class="num" id="3524781">1</span>&nbsp;<span class="op" id="3524783">&amp;&amp;</span>&nbsp;<span class="op" id="3524786">!</span><span class="ident" id="3524787"><a href="/gostd/go/doc/reader.go.html#3524267">d</a></span><span class="op" id="3524788">.</span><span class="ident" id="3524789"><a href="/gostd/go/ast/ast.go.html#3822333">Lparen</a></span><span class="op" id="3524795">.</span><span class="ident" id="3524796"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="3524803">(</span><span class="op" id="3524804">)</span>&nbsp;<span class="op" id="3524806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3524813">//&nbsp;common&nbsp;case:&nbsp;single&nbsp;declaration&nbsp;w/o&nbsp;parentheses</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3524869">//&nbsp;(if&nbsp;a&nbsp;single&nbsp;declaration&nbsp;is&nbsp;parenthesized,</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3524920">//&nbsp;create&nbsp;a&nbsp;new&nbsp;fake&nbsp;declaration&nbsp;below,&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3524973">//&nbsp;go/doc&nbsp;type&nbsp;declarations&nbsp;always&nbsp;appear&nbsp;w/o</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525024">//&nbsp;parentheses)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525045">if</span>&nbsp;<span class="ident" id="3525048">s</span><span class="op" id="3525049">,</span>&nbsp;<span class="ident" id="3525051">ok</span>&nbsp;<span class="op" id="3525054">:=</span>&nbsp;<span class="ident" id="3525057"><a href="/gostd/go/doc/reader.go.html#3524267">d</a></span><span class="op" id="3525058">.</span><span class="ident" id="3525059"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="3525064">[</span><span class="num" id="3525065">0</span><span class="op" id="3525066">]</span><span class="op" id="3525067">.</span><span class="op" id="3525068">(</span><span class="op" id="3525069">*</span><span class="ident" id="3525070"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3525073">.</span><span class="ident" id="3525074"><a href="/gostd/go/ast/ast.go.html#3820391">TypeSpec</a></span><span class="op" id="3525082">)</span><span class="op" id="3525083">;</span>&nbsp;<span class="ident" id="3525085"><a href="/gostd/go/doc/reader.go.html#3525051">ok</a></span>&nbsp;<span class="op" id="3525088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525096"><a href="/gostd/go/doc/reader.go.html#3524036">r</a></span><span class="op" id="3525097">.</span><span class="ident" id="3525098"><a href="/gostd/go/doc/reader.go.html#3520071">readType</a></span><span class="op" id="3525106">(</span><span class="ident" id="3525107"><a href="/gostd/go/doc/reader.go.html#3524267">d</a></span><span class="op" id="3525108">,</span>&nbsp;<span class="ident" id="3525110"><a href="/gostd/go/doc/reader.go.html#3525048">s</a></span><span class="op" id="3525111">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525125">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525141">for</span>&nbsp;<span class="ident" id="3525145">_</span><span class="op" id="3525146">,</span>&nbsp;<span class="ident" id="3525148">spec</span>&nbsp;<span class="op" id="3525153">:=</span>&nbsp;<span class="keyword" id="3525156">range</span>&nbsp;<span class="ident" id="3525162"><a href="/gostd/go/doc/reader.go.html#3524267">d</a></span><span class="op" id="3525163">.</span><span class="ident" id="3525164"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span>&nbsp;<span class="op" id="3525170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525177">if</span>&nbsp;<span class="ident" id="3525180">s</span><span class="op" id="3525181">,</span>&nbsp;<span class="ident" id="3525183">ok</span>&nbsp;<span class="op" id="3525186">:=</span>&nbsp;<span class="ident" id="3525189"><a href="/gostd/go/doc/reader.go.html#3525148">spec</a></span><span class="op" id="3525193">.</span><span class="op" id="3525194">(</span><span class="op" id="3525195">*</span><span class="ident" id="3525196"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3525199">.</span><span class="ident" id="3525200"><a href="/gostd/go/ast/ast.go.html#3820391">TypeSpec</a></span><span class="op" id="3525208">)</span><span class="op" id="3525209">;</span>&nbsp;<span class="ident" id="3525211"><a href="/gostd/go/doc/reader.go.html#3525183">ok</a></span>&nbsp;<span class="op" id="3525214">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525222">//&nbsp;use&nbsp;an&nbsp;individual&nbsp;(possibly&nbsp;fake)&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525277">//&nbsp;for&nbsp;each&nbsp;type;&nbsp;this&nbsp;also&nbsp;ensures&nbsp;that&nbsp;each&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525334">//&nbsp;gets&nbsp;to&nbsp;(re-)use&nbsp;the&nbsp;declaration&nbsp;documentation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525390">//&nbsp;if&nbsp;there&#39;s&nbsp;none&nbsp;associated&nbsp;with&nbsp;the&nbsp;spec&nbsp;itself</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525447">fake</span>&nbsp;<span class="op" id="3525452">:=</span>&nbsp;<span class="op" id="3525455">&amp;</span><span class="ident" id="3525456"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3525459">.</span><span class="ident" id="3525460"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span><span class="op" id="3525467">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525476"><a href="/gostd/go/ast/ast.go.html#3822181">Doc</a></span><span class="op" id="3525479">:</span>&nbsp;<span class="ident" id="3525481"><a href="/gostd/go/doc/reader.go.html#3524267">d</a></span><span class="op" id="3525482">.</span><span class="ident" id="3525483"><a href="/gostd/go/ast/ast.go.html#3822181">Doc</a></span><span class="op" id="3525486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525495">//&nbsp;don&#39;t&nbsp;use&nbsp;the&nbsp;existing&nbsp;TokPos&nbsp;because&nbsp;it</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525546">//&nbsp;will&nbsp;lead&nbsp;to&nbsp;the&nbsp;wrong&nbsp;selection&nbsp;range&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525599">//&nbsp;the&nbsp;fake&nbsp;declaration&nbsp;if&nbsp;there&nbsp;are&nbsp;more</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525648">//&nbsp;than&nbsp;one&nbsp;type&nbsp;in&nbsp;the&nbsp;group&nbsp;(this&nbsp;affects</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525699">//&nbsp;src/cmd/godoc/godoc.go&#39;s&nbsp;posLink_urlFunc)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525751"><a href="/gostd/go/ast/ast.go.html#3822240">TokPos</a></span><span class="op" id="3525757">:</span>&nbsp;<span class="ident" id="3525759"><a href="/gostd/go/doc/reader.go.html#3525180">s</a></span><span class="op" id="3525760">.</span><span class="ident" id="3525761"><a href="/gostd/go/ast/ast.go.html#3820898">Pos</a></span><span class="op" id="3525764">(</span><span class="op" id="3525765">)</span><span class="op" id="3525766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525775"><a href="/gostd/go/ast/ast.go.html#3822282">Tok</a></span><span class="op" id="3525778">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525783"><a href="/gostd/go/doc/reader.go.html#3511446">token</a></span><span class="op" id="3525788">.</span><span class="ident" id="3525789"><a href="/gostd/go/token/token.go.html#3890922">TYPE</a></span><span class="op" id="3525793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525802"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="3525807">:</span>&nbsp;&nbsp;<span class="op" id="3525810">[</span><span class="op" id="3525811">]</span><span class="ident" id="3525812"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3525815">.</span><span class="ident" id="3525816"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span><span class="op" id="3525820">{</span><span class="ident" id="3525821"><a href="/gostd/go/doc/reader.go.html#3525180">s</a></span><span class="op" id="3525822">}</span><span class="op" id="3525823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525831">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525839"><a href="/gostd/go/doc/reader.go.html#3524036">r</a></span><span class="op" id="3525840">.</span><span class="ident" id="3525841"><a href="/gostd/go/doc/reader.go.html#3520071">readType</a></span><span class="op" id="3525849">(</span><span class="ident" id="3525850"><a href="/gostd/go/doc/reader.go.html#3525447">fake</a></span><span class="op" id="3525854">,</span>&nbsp;<span class="ident" id="3525856"><a href="/gostd/go/doc/reader.go.html#3525180">s</a></span><span class="op" id="3525857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3525879">case</span>&nbsp;<span class="op" id="3525884">*</span><span class="ident" id="3525885"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3525888">.</span><span class="ident" id="3525889"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="3525897">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525902"><a href="/gostd/go/doc/reader.go.html#3524036">r</a></span><span class="op" id="3525903">.</span><span class="ident" id="3525904"><a href="/gostd/go/doc/reader.go.html#3521026">readFunc</a></span><span class="op" id="3525912">(</span><span class="ident" id="3525913"><a href="/gostd/go/doc/reader.go.html#3524267">d</a></span><span class="op" id="3525914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3525921">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3525925">//&nbsp;collect&nbsp;MARKER(...):&nbsp;annotations</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525962"><a href="/gostd/go/doc/reader.go.html#3524036">r</a></span><span class="op" id="3525963">.</span><span class="ident" id="3525964"><a href="/gostd/go/doc/reader.go.html#3523619">readNotes</a></span><span class="op" id="3525973">(</span><span class="ident" id="3525974"><a href="/gostd/go/doc/reader.go.html#3524056">src</a></span><span class="op" id="3525977">.</span><span class="ident" id="3525978"><a href="/gostd/go/ast/ast.go.html#3824296">Comments</a></span><span class="op" id="3525986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3525989"><a href="/gostd/go/doc/reader.go.html#3524056">src</a></span><span class="op" id="3525992">.</span><span class="ident" id="3525993"><a href="/gostd/go/ast/ast.go.html#3824296">Comments</a></span>&nbsp;<span class="op" id="3526002">=</span>&nbsp;<span class="builtintype" id="3526004">nil</span>&nbsp;<span class="comment" id="3526008">//&nbsp;consumed&nbsp;unassociated&nbsp;comments&nbsp;-&nbsp;remove&nbsp;from&nbsp;AST</span><br>
<span class="lineno"></span><span class="op" id="3526060">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3526063">func</span>&nbsp;<span class="op" id="3526068">(</span><span class="ident" id="3526069">r</span>&nbsp;<span class="op" id="3526071">*</span><span class="ident" id="3526072"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3526078">)</span>&nbsp;<span class="ident" id="3526080">readPackage</span><span class="op" id="3526091">(</span><span class="ident" id="3526092">pkg</span>&nbsp;<span class="op" id="3526096">*</span><span class="ident" id="3526097"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3526100">.</span><span class="ident" id="3526101"><a href="/gostd/go/ast/ast.go.html#3824638">Package</a></span><span class="op" id="3526108">,</span>&nbsp;<span class="ident" id="3526110">mode</span>&nbsp;<span class="ident" id="3526115"><a href="/gostd/go/doc/doc.go.html#3492368">Mode</a></span><span class="op" id="3526119">)</span>&nbsp;<span class="op" id="3526121">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3526124">//&nbsp;initialize&nbsp;reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526146"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526147">.</span><span class="ident" id="3526148"><a href="/gostd/go/doc/reader.go.html#3515452">filenames</a></span>&nbsp;<span class="op" id="3526158">=</span>&nbsp;<span class="builtinfunc" id="3526160">make</span><span class="op" id="3526164">(</span><span class="op" id="3526165">[</span><span class="op" id="3526166">]</span><span class="builtintype" id="3526167">string</span><span class="op" id="3526173">,</span>&nbsp;<span class="builtinfunc" id="3526175">len</span><span class="op" id="3526178">(</span><span class="ident" id="3526179"><a href="/gostd/go/doc/reader.go.html#3526092">pkg</a></span><span class="op" id="3526182">.</span><span class="ident" id="3526183"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span><span class="op" id="3526188">)</span><span class="op" id="3526189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526192"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526193">.</span><span class="ident" id="3526194"><a href="/gostd/go/doc/reader.go.html#3515520">imports</a></span>&nbsp;<span class="op" id="3526202">=</span>&nbsp;<span class="builtinfunc" id="3526204">make</span><span class="op" id="3526208">(</span><span class="keyword" id="3526209">map</span><span class="op" id="3526212">[</span><span class="builtintype" id="3526213">string</span><span class="op" id="3526219">]</span><span class="builtintype" id="3526220">int</span><span class="op" id="3526223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526226"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526227">.</span><span class="ident" id="3526228"><a href="/gostd/go/doc/reader.go.html#3515366">mode</a></span>&nbsp;<span class="op" id="3526233">=</span>&nbsp;<span class="ident" id="3526235"><a href="/gostd/go/doc/reader.go.html#3526110">mode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526241"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526242">.</span><span class="ident" id="3526243"><a href="/gostd/go/doc/reader.go.html#3515581">types</a></span>&nbsp;<span class="op" id="3526249">=</span>&nbsp;<span class="builtinfunc" id="3526251">make</span><span class="op" id="3526255">(</span><span class="keyword" id="3526256">map</span><span class="op" id="3526259">[</span><span class="builtintype" id="3526260">string</span><span class="op" id="3526266">]</span><span class="op" id="3526267">*</span><span class="ident" id="3526268"><a href="/gostd/go/doc/reader.go.html#3514464">namedType</a></span><span class="op" id="3526277">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526280"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526281">.</span><span class="ident" id="3526282"><a href="/gostd/go/doc/reader.go.html#3515612">funcs</a></span>&nbsp;<span class="op" id="3526288">=</span>&nbsp;<span class="builtinfunc" id="3526290">make</span><span class="op" id="3526294">(</span><span class="ident" id="3526295"><a href="/gostd/go/doc/reader.go.html#3511849">methodSet</a></span><span class="op" id="3526304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526307"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526308">.</span><span class="ident" id="3526309"><a href="/gostd/go/doc/reader.go.html#3515472">notes</a></span>&nbsp;<span class="op" id="3526315">=</span>&nbsp;<span class="builtinfunc" id="3526317">make</span><span class="op" id="3526321">(</span><span class="keyword" id="3526322">map</span><span class="op" id="3526325">[</span><span class="builtintype" id="3526326">string</span><span class="op" id="3526332">]</span><span class="op" id="3526333">[</span><span class="op" id="3526334">]</span><span class="op" id="3526335">*</span><span class="ident" id="3526336"><a href="/gostd/go/doc/doc.go.html#3492139">Note</a></span><span class="op" id="3526340">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3526344">//&nbsp;sort&nbsp;package&nbsp;files&nbsp;before&nbsp;reading&nbsp;them&nbsp;so&nbsp;that&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3526399">//&nbsp;result&nbsp;does&nbsp;not&nbsp;depend&nbsp;on&nbsp;map&nbsp;iteration&nbsp;order</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526449">i</span>&nbsp;<span class="op" id="3526451">:=</span>&nbsp;<span class="num" id="3526454">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526457">for</span>&nbsp;<span class="ident" id="3526461">filename</span>&nbsp;<span class="op" id="3526470">:=</span>&nbsp;<span class="keyword" id="3526473">range</span>&nbsp;<span class="ident" id="3526479"><a href="/gostd/go/doc/reader.go.html#3526092">pkg</a></span><span class="op" id="3526482">.</span><span class="ident" id="3526483"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span>&nbsp;<span class="op" id="3526489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526493"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526494">.</span><span class="ident" id="3526495"><a href="/gostd/go/doc/reader.go.html#3515452">filenames</a></span><span class="op" id="3526504">[</span><span class="ident" id="3526505"><a href="/gostd/go/doc/reader.go.html#3526449">i</a></span><span class="op" id="3526506">]</span>&nbsp;<span class="op" id="3526508">=</span>&nbsp;<span class="ident" id="3526510"><a href="/gostd/go/doc/reader.go.html#3526461">filename</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526521"><a href="/gostd/go/doc/reader.go.html#3526449">i</a></span><span class="op" id="3526522">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526526">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526529"><a href="/gostd/go/doc/reader.go.html#3511468">sort</a></span><span class="op" id="3526533">.</span><span class="ident" id="3526534"><a href="/gostd/sort/sort.go.html#2017831">Strings</a></span><span class="op" id="3526541">(</span><span class="ident" id="3526542"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526543">.</span><span class="ident" id="3526544"><a href="/gostd/go/doc/reader.go.html#3515452">filenames</a></span><span class="op" id="3526553">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3526557">//&nbsp;process&nbsp;files&nbsp;in&nbsp;sorted&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526591">for</span>&nbsp;<span class="ident" id="3526595">_</span><span class="op" id="3526596">,</span>&nbsp;<span class="ident" id="3526598">filename</span>&nbsp;<span class="op" id="3526607">:=</span>&nbsp;<span class="keyword" id="3526610">range</span>&nbsp;<span class="ident" id="3526616"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526617">.</span><span class="ident" id="3526618"><a href="/gostd/go/doc/reader.go.html#3515452">filenames</a></span>&nbsp;<span class="op" id="3526628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526632">f</span>&nbsp;<span class="op" id="3526634">:=</span>&nbsp;<span class="ident" id="3526637"><a href="/gostd/go/doc/reader.go.html#3526092">pkg</a></span><span class="op" id="3526640">.</span><span class="ident" id="3526641"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span><span class="op" id="3526646">[</span><span class="ident" id="3526647"><a href="/gostd/go/doc/reader.go.html#3526598">filename</a></span><span class="op" id="3526655">]</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526659">if</span>&nbsp;<span class="ident" id="3526662"><a href="/gostd/go/doc/reader.go.html#3526110">mode</a></span><span class="op" id="3526666">&amp;</span><span class="ident" id="3526667"><a href="/gostd/go/doc/doc.go.html#3492476">AllDecls</a></span>&nbsp;<span class="op" id="3526676">==</span>&nbsp;<span class="num" id="3526679">0</span>&nbsp;<span class="op" id="3526681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526686"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526687">.</span><span class="ident" id="3526688"><a href="/gostd/go/doc/exports.go.html#3508935">fileExports</a></span><span class="op" id="3526699">(</span><span class="ident" id="3526700"><a href="/gostd/go/doc/reader.go.html#3526632">f</a></span><span class="op" id="3526701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3526709"><a href="/gostd/go/doc/reader.go.html#3526069">r</a></span><span class="op" id="3526710">.</span><span class="ident" id="3526711"><a href="/gostd/go/doc/reader.go.html#3524047">readFile</a></span><span class="op" id="3526719">(</span><span class="ident" id="3526720"><a href="/gostd/go/doc/reader.go.html#3526632">f</a></span><span class="op" id="3526721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3526724">}</span><br>
<span class="lineno">550</span><span class="op" id="3526726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3526729">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="3526809">//&nbsp;Types</span><br>
<span class="lineno"></span><br>
<span class="lineno">555</span><span class="keyword" id="3526819">func</span>&nbsp;<span class="ident" id="3526824">customizeRecv</span><span class="op" id="3526837">(</span><span class="ident" id="3526838">f</span>&nbsp;<span class="op" id="3526840">*</span><span class="ident" id="3526841"><a href="/gostd/go/doc/doc.go.html#3491532">Func</a></span><span class="op" id="3526845">,</span>&nbsp;<span class="ident" id="3526847">recvTypeName</span>&nbsp;<span class="builtintype" id="3526860">string</span><span class="op" id="3526866">,</span>&nbsp;<span class="ident" id="3526868">embeddedIsPtr</span>&nbsp;<span class="builtintype" id="3526882">bool</span><span class="op" id="3526886">,</span>&nbsp;<span class="ident" id="3526888">level</span>&nbsp;<span class="builtintype" id="3526894">int</span><span class="op" id="3526897">)</span>&nbsp;<span class="op" id="3526899">*</span><span class="ident" id="3526900"><a href="/gostd/go/doc/doc.go.html#3491532">Func</a></span>&nbsp;<span class="op" id="3526905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526908">if</span>&nbsp;<span class="ident" id="3526911"><a href="/gostd/go/doc/reader.go.html#3526838">f</a></span>&nbsp;<span class="op" id="3526913">==</span>&nbsp;<span class="builtintype" id="3526916">nil</span>&nbsp;<span class="op" id="3526920">||</span>&nbsp;<span class="ident" id="3526923"><a href="/gostd/go/doc/reader.go.html#3526838">f</a></span><span class="op" id="3526924">.</span><span class="ident" id="3526925"><a href="/gostd/go/doc/doc.go.html#3491573">Decl</a></span>&nbsp;<span class="op" id="3526930">==</span>&nbsp;<span class="builtintype" id="3526933">nil</span>&nbsp;<span class="op" id="3526937">||</span>&nbsp;<span class="ident" id="3526940"><a href="/gostd/go/doc/reader.go.html#3526838">f</a></span><span class="op" id="3526941">.</span><span class="ident" id="3526942"><a href="/gostd/go/doc/doc.go.html#3491573">Decl</a></span><span class="op" id="3526946">.</span><span class="ident" id="3526947"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span>&nbsp;<span class="op" id="3526952">==</span>&nbsp;<span class="builtintype" id="3526955">nil</span>&nbsp;<span class="op" id="3526959">||</span>&nbsp;<span class="builtinfunc" id="3526962">len</span><span class="op" id="3526965">(</span><span class="ident" id="3526966"><a href="/gostd/go/doc/reader.go.html#3526838">f</a></span><span class="op" id="3526967">.</span><span class="ident" id="3526968"><a href="/gostd/go/doc/doc.go.html#3491573">Decl</a></span><span class="op" id="3526972">.</span><span class="ident" id="3526973"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span><span class="op" id="3526977">.</span><span class="ident" id="3526978"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="3526982">)</span>&nbsp;<span class="op" id="3526984">!=</span>&nbsp;<span class="num" id="3526987">1</span>&nbsp;<span class="op" id="3526989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3526993">return</span>&nbsp;<span class="ident" id="3527000"><a href="/gostd/go/doc/reader.go.html#3526838">f</a></span>&nbsp;<span class="comment" id="3527002">//&nbsp;shouldn&#39;t&nbsp;happen,&nbsp;but&nbsp;be&nbsp;safe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3527040">//&nbsp;copy&nbsp;existing&nbsp;receiver&nbsp;field&nbsp;and&nbsp;set&nbsp;new&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527090">newField</span>&nbsp;<span class="op" id="3527099">:=</span>&nbsp;<span class="op" id="3527102">*</span><span class="ident" id="3527103"><a href="/gostd/go/doc/reader.go.html#3526838">f</a></span><span class="op" id="3527104">.</span><span class="ident" id="3527105"><a href="/gostd/go/doc/doc.go.html#3491573">Decl</a></span><span class="op" id="3527109">.</span><span class="ident" id="3527110"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span><span class="op" id="3527114">.</span><span class="ident" id="3527115"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="3527119">[</span><span class="num" id="3527120">0</span><span class="op" id="3527121">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527124">origPos</span>&nbsp;<span class="op" id="3527132">:=</span>&nbsp;<span class="ident" id="3527135"><a href="/gostd/go/doc/reader.go.html#3527090">newField</a></span><span class="op" id="3527143">.</span><span class="ident" id="3527144"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="3527148">.</span><span class="ident" id="3527149"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="3527152">(</span><span class="op" id="3527153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527156">_</span><span class="op" id="3527157">,</span>&nbsp;<span class="ident" id="3527159">origRecvIsPtr</span>&nbsp;<span class="op" id="3527173">:=</span>&nbsp;<span class="ident" id="3527176"><a href="/gostd/go/doc/reader.go.html#3527090">newField</a></span><span class="op" id="3527184">.</span><span class="ident" id="3527185"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="3527189">.</span><span class="op" id="3527190">(</span><span class="op" id="3527191">*</span><span class="ident" id="3527192"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3527195">.</span><span class="ident" id="3527196"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="3527204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527207">newIdent</span>&nbsp;<span class="op" id="3527216">:=</span>&nbsp;<span class="op" id="3527219">&amp;</span><span class="ident" id="3527220"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3527223">.</span><span class="ident" id="3527224"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="3527229">{</span><span class="ident" id="3527230"><a href="/gostd/go/ast/ast.go.html#3800256">NamePos</a></span><span class="op" id="3527237">:</span>&nbsp;<span class="ident" id="3527239"><a href="/gostd/go/doc/reader.go.html#3527124">origPos</a></span><span class="op" id="3527246">,</span>&nbsp;<span class="ident" id="3527248"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3527252">:</span>&nbsp;<span class="ident" id="3527254"><a href="/gostd/go/doc/reader.go.html#3526847">recvTypeName</a></span><span class="op" id="3527266">}</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527269">var</span>&nbsp;<span class="ident" id="3527273">typ</span>&nbsp;<span class="ident" id="3527277"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3527280">.</span><span class="ident" id="3527281"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="3527286">=</span>&nbsp;<span class="ident" id="3527288"><a href="/gostd/go/doc/reader.go.html#3527207">newIdent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527298">if</span>&nbsp;<span class="op" id="3527301">!</span><span class="ident" id="3527302"><a href="/gostd/go/doc/reader.go.html#3526868">embeddedIsPtr</a></span>&nbsp;<span class="op" id="3527316">&amp;&amp;</span>&nbsp;<span class="ident" id="3527319"><a href="/gostd/go/doc/reader.go.html#3527159">origRecvIsPtr</a></span>&nbsp;<span class="op" id="3527333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527337"><a href="/gostd/go/doc/reader.go.html#3527207">newIdent</a></span><span class="op" id="3527345">.</span><span class="ident" id="3527346"><a href="/gostd/go/ast/ast.go.html#3800256">NamePos</a></span><span class="op" id="3527353">++</span>&nbsp;<span class="comment" id="3527356">//&nbsp;&#39;*&#39;&nbsp;is&nbsp;one&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527382"><a href="/gostd/go/doc/reader.go.html#3527273">typ</a></span>&nbsp;<span class="op" id="3527386">=</span>&nbsp;<span class="op" id="3527388">&amp;</span><span class="ident" id="3527389"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3527392">.</span><span class="ident" id="3527393"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="3527401">{</span><span class="ident" id="3527402"><a href="/gostd/go/ast/ast.go.html#3803180">Star</a></span><span class="op" id="3527406">:</span>&nbsp;<span class="ident" id="3527408"><a href="/gostd/go/doc/reader.go.html#3527124">origPos</a></span><span class="op" id="3527415">,</span>&nbsp;<span class="ident" id="3527417"><a href="/gostd/go/ast/ast.go.html#3803216">X</a></span><span class="op" id="3527418">:</span>&nbsp;<span class="ident" id="3527420"><a href="/gostd/go/doc/reader.go.html#3527207">newIdent</a></span><span class="op" id="3527428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3527431">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527434"><a href="/gostd/go/doc/reader.go.html#3527090">newField</a></span><span class="op" id="3527442">.</span><span class="ident" id="3527443"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span>&nbsp;<span class="op" id="3527448">=</span>&nbsp;<span class="ident" id="3527450"><a href="/gostd/go/doc/reader.go.html#3527273">typ</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3527456">//&nbsp;copy&nbsp;existing&nbsp;receiver&nbsp;field&nbsp;list&nbsp;and&nbsp;set&nbsp;new&nbsp;receiver&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527521">newFieldList</span>&nbsp;<span class="op" id="3527534">:=</span>&nbsp;<span class="op" id="3527537">*</span><span class="ident" id="3527538"><a href="/gostd/go/doc/reader.go.html#3526838">f</a></span><span class="op" id="3527539">.</span><span class="ident" id="3527540"><a href="/gostd/go/doc/doc.go.html#3491573">Decl</a></span><span class="op" id="3527544">.</span><span class="ident" id="3527545"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527551"><a href="/gostd/go/doc/reader.go.html#3527521">newFieldList</a></span><span class="op" id="3527563">.</span><span class="ident" id="3527564"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span>&nbsp;<span class="op" id="3527569">=</span>&nbsp;<span class="op" id="3527571">[</span><span class="op" id="3527572">]</span><span class="op" id="3527573">*</span><span class="ident" id="3527574"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3527577">.</span><span class="ident" id="3527578"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="3527583">{</span><span class="op" id="3527584">&amp;</span><span class="ident" id="3527585"><a href="/gostd/go/doc/reader.go.html#3527090">newField</a></span><span class="op" id="3527593">}</span><br>
<span class="lineno">575</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3527597">//&nbsp;copy&nbsp;existing&nbsp;function&nbsp;declaration&nbsp;and&nbsp;set&nbsp;new&nbsp;receiver&nbsp;field&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527668">newFuncDecl</span>&nbsp;<span class="op" id="3527680">:=</span>&nbsp;<span class="op" id="3527683">*</span><span class="ident" id="3527684"><a href="/gostd/go/doc/reader.go.html#3526838">f</a></span><span class="op" id="3527685">.</span><span class="ident" id="3527686"><a href="/gostd/go/doc/doc.go.html#3491573">Decl</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527692"><a href="/gostd/go/doc/reader.go.html#3527668">newFuncDecl</a></span><span class="op" id="3527703">.</span><span class="ident" id="3527704"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span>&nbsp;<span class="op" id="3527709">=</span>&nbsp;<span class="op" id="3527711">&amp;</span><span class="ident" id="3527712"><a href="/gostd/go/doc/reader.go.html#3527521">newFieldList</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3527727">//&nbsp;copy&nbsp;existing&nbsp;function&nbsp;documentation&nbsp;and&nbsp;set&nbsp;new&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527792">newF</span>&nbsp;<span class="op" id="3527797">:=</span>&nbsp;<span class="op" id="3527800">*</span><span class="ident" id="3527801"><a href="/gostd/go/doc/reader.go.html#3526838">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527804"><a href="/gostd/go/doc/reader.go.html#3527792">newF</a></span><span class="op" id="3527808">.</span><span class="ident" id="3527809"><a href="/gostd/go/doc/doc.go.html#3491573">Decl</a></span>&nbsp;<span class="op" id="3527814">=</span>&nbsp;<span class="op" id="3527816">&amp;</span><span class="ident" id="3527817"><a href="/gostd/go/doc/reader.go.html#3527668">newFuncDecl</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527830"><a href="/gostd/go/doc/reader.go.html#3527792">newF</a></span><span class="op" id="3527834">.</span><span class="ident" id="3527835"><a href="/gostd/go/doc/doc.go.html#3491671">Recv</a></span>&nbsp;<span class="op" id="3527840">=</span>&nbsp;<span class="ident" id="3527842"><a href="/gostd/go/doc/reader.go.html#3512011">recvString</a></span><span class="op" id="3527852">(</span><span class="ident" id="3527853"><a href="/gostd/go/doc/reader.go.html#3527273">typ</a></span><span class="op" id="3527856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3527859">//&nbsp;the&nbsp;Orig&nbsp;field&nbsp;never&nbsp;changes</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527892"><a href="/gostd/go/doc/reader.go.html#3527792">newF</a></span><span class="op" id="3527896">.</span><span class="ident" id="3527897"><a href="/gostd/go/doc/doc.go.html#3491765">Level</a></span>&nbsp;<span class="op" id="3527903">=</span>&nbsp;<span class="ident" id="3527905"><a href="/gostd/go/doc/reader.go.html#3526888">level</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3527913">return</span>&nbsp;<span class="op" id="3527920">&amp;</span><span class="ident" id="3527921"><a href="/gostd/go/doc/reader.go.html#3527792">newF</a></span><br>
<span class="lineno"></span><span class="op" id="3527926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">590</span><span class="comment" id="3527929">//&nbsp;collectEmbeddedMethods&nbsp;collects&nbsp;the&nbsp;embedded&nbsp;methods&nbsp;of&nbsp;typ&nbsp;in&nbsp;mset.</span><br>
<span class="lineno"></span><span class="comment" id="3528001">//</span><br>
<span class="lineno"></span><span class="keyword" id="3528004">func</span>&nbsp;<span class="op" id="3528009">(</span><span class="ident" id="3528010">r</span>&nbsp;<span class="op" id="3528012">*</span><span class="ident" id="3528013"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3528019">)</span>&nbsp;<span class="ident" id="3528021">collectEmbeddedMethods</span><span class="op" id="3528043">(</span><span class="ident" id="3528044">mset</span>&nbsp;<span class="ident" id="3528049"><a href="/gostd/go/doc/reader.go.html#3511849">methodSet</a></span><span class="op" id="3528058">,</span>&nbsp;<span class="ident" id="3528060">typ</span>&nbsp;<span class="op" id="3528064">*</span><span class="ident" id="3528065"><a href="/gostd/go/doc/reader.go.html#3514464">namedType</a></span><span class="op" id="3528074">,</span>&nbsp;<span class="ident" id="3528076">recvTypeName</span>&nbsp;<span class="builtintype" id="3528089">string</span><span class="op" id="3528095">,</span>&nbsp;<span class="ident" id="3528097">embeddedIsPtr</span>&nbsp;<span class="builtintype" id="3528111">bool</span><span class="op" id="3528115">,</span>&nbsp;<span class="ident" id="3528117">level</span>&nbsp;<span class="builtintype" id="3528123">int</span><span class="op" id="3528126">,</span>&nbsp;<span class="ident" id="3528128">visited</span>&nbsp;<span class="ident" id="3528136"><a href="/gostd/go/doc/reader.go.html#3514255">embeddedSet</a></span><span class="op" id="3528147">)</span>&nbsp;<span class="op" id="3528149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528152"><a href="/gostd/go/doc/reader.go.html#3528128">visited</a></span><span class="op" id="3528159">[</span><span class="ident" id="3528160"><a href="/gostd/go/doc/reader.go.html#3528060">typ</a></span><span class="op" id="3528163">]</span>&nbsp;<span class="op" id="3528165">=</span>&nbsp;<span class="builtintype" id="3528167">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528173">for</span>&nbsp;<span class="ident" id="3528177">embedded</span><span class="op" id="3528185">,</span>&nbsp;<span class="ident" id="3528187">isPtr</span>&nbsp;<span class="op" id="3528193">:=</span>&nbsp;<span class="keyword" id="3528196">range</span>&nbsp;<span class="ident" id="3528202"><a href="/gostd/go/doc/reader.go.html#3528060">typ</a></span><span class="op" id="3528205">.</span><span class="ident" id="3528206"><a href="/gostd/go/doc/reader.go.html#3514736">embedded</a></span>&nbsp;<span class="op" id="3528215">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3528219">//&nbsp;Once&nbsp;an&nbsp;embedded&nbsp;type&nbsp;is&nbsp;embedded&nbsp;as&nbsp;a&nbsp;pointer&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3528276">//&nbsp;all&nbsp;embedded&nbsp;types&nbsp;in&nbsp;those&nbsp;types&nbsp;are&nbsp;treated&nbsp;like</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3528332">//&nbsp;pointer&nbsp;types&nbsp;for&nbsp;the&nbsp;purpose&nbsp;of&nbsp;the&nbsp;receiver&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3528388">//&nbsp;computation;&nbsp;i.e.,&nbsp;embeddedIsPtr&nbsp;is&nbsp;sticky&nbsp;for&nbsp;this</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3528445">//&nbsp;embedding&nbsp;hierarchy.</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528471">thisEmbeddedIsPtr</span>&nbsp;<span class="op" id="3528489">:=</span>&nbsp;<span class="ident" id="3528492"><a href="/gostd/go/doc/reader.go.html#3528097">embeddedIsPtr</a></span>&nbsp;<span class="op" id="3528506">||</span>&nbsp;<span class="ident" id="3528509"><a href="/gostd/go/doc/reader.go.html#3528187">isPtr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528517">for</span>&nbsp;<span class="ident" id="3528521">_</span><span class="op" id="3528522">,</span>&nbsp;<span class="ident" id="3528524">m</span>&nbsp;<span class="op" id="3528526">:=</span>&nbsp;<span class="keyword" id="3528529">range</span>&nbsp;<span class="ident" id="3528535"><a href="/gostd/go/doc/reader.go.html#3528177">embedded</a></span><span class="op" id="3528543">.</span><span class="ident" id="3528544"><a href="/gostd/go/doc/reader.go.html#3514887">methods</a></span>&nbsp;<span class="op" id="3528552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3528557">//&nbsp;only&nbsp;top-level&nbsp;methods&nbsp;are&nbsp;embedded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528599">if</span>&nbsp;<span class="ident" id="3528602"><a href="/gostd/go/doc/reader.go.html#3528524">m</a></span><span class="op" id="3528603">.</span><span class="ident" id="3528604"><a href="/gostd/go/doc/doc.go.html#3491765">Level</a></span>&nbsp;<span class="op" id="3528610">==</span>&nbsp;<span class="num" id="3528613">0</span>&nbsp;<span class="op" id="3528615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528621"><a href="/gostd/go/doc/reader.go.html#3528044">mset</a></span><span class="op" id="3528625">.</span><span class="ident" id="3528626"><a href="/gostd/go/doc/reader.go.html#3513362">add</a></span><span class="op" id="3528629">(</span><span class="ident" id="3528630"><a href="/gostd/go/doc/reader.go.html#3526824">customizeRecv</a></span><span class="op" id="3528643">(</span><span class="ident" id="3528644"><a href="/gostd/go/doc/reader.go.html#3528524">m</a></span><span class="op" id="3528645">,</span>&nbsp;<span class="ident" id="3528647"><a href="/gostd/go/doc/reader.go.html#3528076">recvTypeName</a></span><span class="op" id="3528659">,</span>&nbsp;<span class="ident" id="3528661"><a href="/gostd/go/doc/reader.go.html#3528471">thisEmbeddedIsPtr</a></span><span class="op" id="3528678">,</span>&nbsp;<span class="ident" id="3528680"><a href="/gostd/go/doc/reader.go.html#3528117">level</a></span><span class="op" id="3528685">)</span><span class="op" id="3528686">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528699">if</span>&nbsp;<span class="op" id="3528702">!</span><span class="ident" id="3528703"><a href="/gostd/go/doc/reader.go.html#3528128">visited</a></span><span class="op" id="3528710">[</span><span class="ident" id="3528711"><a href="/gostd/go/doc/reader.go.html#3528177">embedded</a></span><span class="op" id="3528719">]</span>&nbsp;<span class="op" id="3528721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3528726"><a href="/gostd/go/doc/reader.go.html#3528010">r</a></span><span class="op" id="3528727">.</span><span class="ident" id="3528728"><a href="/gostd/go/doc/reader.go.html#3528021">collectEmbeddedMethods</a></span><span class="op" id="3528750">(</span><span class="ident" id="3528751"><a href="/gostd/go/doc/reader.go.html#3528044">mset</a></span><span class="op" id="3528755">,</span>&nbsp;<span class="ident" id="3528757"><a href="/gostd/go/doc/reader.go.html#3528177">embedded</a></span><span class="op" id="3528765">,</span>&nbsp;<span class="ident" id="3528767"><a href="/gostd/go/doc/reader.go.html#3528076">recvTypeName</a></span><span class="op" id="3528779">,</span>&nbsp;<span class="ident" id="3528781"><a href="/gostd/go/doc/reader.go.html#3528471">thisEmbeddedIsPtr</a></span><span class="op" id="3528798">,</span>&nbsp;<span class="ident" id="3528800"><a href="/gostd/go/doc/reader.go.html#3528117">level</a></span><span class="op" id="3528805">+</span><span class="num" id="3528806">1</span><span class="op" id="3528807">,</span>&nbsp;<span class="ident" id="3528809"><a href="/gostd/go/doc/reader.go.html#3528128">visited</a></span><span class="op" id="3528816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528820">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3528823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3528826">delete</span><span class="op" id="3528832">(</span><span class="ident" id="3528833"><a href="/gostd/go/doc/reader.go.html#3528128">visited</a></span><span class="op" id="3528840">,</span>&nbsp;<span class="ident" id="3528842"><a href="/gostd/go/doc/reader.go.html#3528060">typ</a></span><span class="op" id="3528845">)</span><br>
<span class="lineno"></span><span class="op" id="3528847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3528850">//&nbsp;computeMethodSets&nbsp;determines&nbsp;the&nbsp;actual&nbsp;method&nbsp;sets&nbsp;for&nbsp;each&nbsp;type&nbsp;encountered.</span><br>
<span class="lineno">615</span><span class="comment" id="3528932">//</span><br>
<span class="lineno"></span><span class="keyword" id="3528935">func</span>&nbsp;<span class="op" id="3528940">(</span><span class="ident" id="3528941">r</span>&nbsp;<span class="op" id="3528943">*</span><span class="ident" id="3528944"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3528950">)</span>&nbsp;<span class="ident" id="3528952">computeMethodSets</span><span class="op" id="3528969">(</span><span class="op" id="3528970">)</span>&nbsp;<span class="op" id="3528972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3528975">for</span>&nbsp;<span class="ident" id="3528979">_</span><span class="op" id="3528980">,</span>&nbsp;<span class="ident" id="3528982">t</span>&nbsp;<span class="op" id="3528984">:=</span>&nbsp;<span class="keyword" id="3528987">range</span>&nbsp;<span class="ident" id="3528993"><a href="/gostd/go/doc/reader.go.html#3528941">r</a></span><span class="op" id="3528994">.</span><span class="ident" id="3528995"><a href="/gostd/go/doc/reader.go.html#3515581">types</a></span>&nbsp;<span class="op" id="3529001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3529005">//&nbsp;collect&nbsp;embedded&nbsp;methods&nbsp;for&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3529041">if</span>&nbsp;<span class="ident" id="3529044"><a href="/gostd/go/doc/reader.go.html#3528982">t</a></span><span class="op" id="3529045">.</span><span class="ident" id="3529046"><a href="/gostd/go/doc/reader.go.html#3514679">isStruct</a></span>&nbsp;<span class="op" id="3529055">{</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3529060">//&nbsp;struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3529073"><a href="/gostd/go/doc/reader.go.html#3528941">r</a></span><span class="op" id="3529074">.</span><span class="ident" id="3529075"><a href="/gostd/go/doc/reader.go.html#3528021">collectEmbeddedMethods</a></span><span class="op" id="3529097">(</span><span class="ident" id="3529098"><a href="/gostd/go/doc/reader.go.html#3528982">t</a></span><span class="op" id="3529099">.</span><span class="ident" id="3529100"><a href="/gostd/go/doc/reader.go.html#3514887">methods</a></span><span class="op" id="3529107">,</span>&nbsp;<span class="ident" id="3529109"><a href="/gostd/go/doc/reader.go.html#3528982">t</a></span><span class="op" id="3529110">,</span>&nbsp;<span class="ident" id="3529112"><a href="/gostd/go/doc/reader.go.html#3528982">t</a></span><span class="op" id="3529113">.</span><span class="ident" id="3529114"><a href="/gostd/go/doc/reader.go.html#3514527">name</a></span><span class="op" id="3529118">,</span>&nbsp;<span class="builtintype" id="3529120">false</span><span class="op" id="3529125">,</span>&nbsp;<span class="num" id="3529127">1</span><span class="op" id="3529128">,</span>&nbsp;<span class="builtinfunc" id="3529130">make</span><span class="op" id="3529134">(</span><span class="ident" id="3529135"><a href="/gostd/go/doc/reader.go.html#3514255">embeddedSet</a></span><span class="op" id="3529146">)</span><span class="op" id="3529147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3529151">}</span>&nbsp;<span class="keyword" id="3529153">else</span>&nbsp;<span class="op" id="3529158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3529163">//&nbsp;interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3529179">//&nbsp;TODO(gri)&nbsp;fix&nbsp;this</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3529203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3529206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3529210">//&nbsp;if&nbsp;error&nbsp;was&nbsp;declared&nbsp;locally,&nbsp;don&#39;t&nbsp;treat&nbsp;it&nbsp;as&nbsp;exported&nbsp;field&nbsp;anymore</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3529286">if</span>&nbsp;<span class="ident" id="3529289"><a href="/gostd/go/doc/reader.go.html#3528941">r</a></span><span class="op" id="3529290">.</span><span class="ident" id="3529291"><a href="/gostd/go/doc/reader.go.html#3515686">errorDecl</a></span>&nbsp;<span class="op" id="3529301">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3529305">for</span>&nbsp;<span class="ident" id="3529309">_</span><span class="op" id="3529310">,</span>&nbsp;<span class="ident" id="3529312">ityp</span>&nbsp;<span class="op" id="3529317">:=</span>&nbsp;<span class="keyword" id="3529320">range</span>&nbsp;<span class="ident" id="3529326"><a href="/gostd/go/doc/reader.go.html#3528941">r</a></span><span class="op" id="3529327">.</span><span class="ident" id="3529328"><a href="/gostd/go/doc/reader.go.html#3515763">fixlist</a></span>&nbsp;<span class="op" id="3529336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3529341"><a href="/gostd/go/doc/exports.go.html#3504729">removeErrorField</a></span><span class="op" id="3529357">(</span><span class="ident" id="3529358"><a href="/gostd/go/doc/reader.go.html#3529312">ityp</a></span><span class="op" id="3529362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3529366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3529369">}</span><br>
<span class="lineno"></span><span class="op" id="3529371">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span><span class="comment" id="3529374">//&nbsp;cleanupTypes&nbsp;removes&nbsp;the&nbsp;association&nbsp;of&nbsp;functions&nbsp;and&nbsp;methods&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3529444">//&nbsp;types&nbsp;that&nbsp;have&nbsp;no&nbsp;declaration.&nbsp;Instead,&nbsp;these&nbsp;functions&nbsp;and&nbsp;methods</span><br>
<span class="lineno"></span><span class="comment" id="3529516">//&nbsp;are&nbsp;shown&nbsp;at&nbsp;the&nbsp;package&nbsp;level.&nbsp;It&nbsp;also&nbsp;removes&nbsp;types&nbsp;with&nbsp;missing</span><br>
<span class="lineno"></span><span class="comment" id="3529586">//&nbsp;declarations&nbsp;or&nbsp;which&nbsp;are&nbsp;not&nbsp;visible.</span><br>
<span class="lineno">640</span><span class="comment" id="3529628">//</span><br>
<span class="lineno"></span><span class="keyword" id="3529631">func</span>&nbsp;<span class="op" id="3529636">(</span><span class="ident" id="3529637">r</span>&nbsp;<span class="op" id="3529639">*</span><span class="ident" id="3529640"><a href="/gostd/go/doc/reader.go.html#3515349">reader</a></span><span class="op" id="3529646">)</span>&nbsp;<span class="ident" id="3529648">cleanupTypes</span><span class="op" id="3529660">(</span><span class="op" id="3529661">)</span>&nbsp;<span class="op" id="3529663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3529666">for</span>&nbsp;<span class="ident" id="3529670">_</span><span class="op" id="3529671">,</span>&nbsp;<span class="ident" id="3529673">t</span>&nbsp;<span class="op" id="3529675">:=</span>&nbsp;<span class="keyword" id="3529678">range</span>&nbsp;<span class="ident" id="3529684"><a href="/gostd/go/doc/reader.go.html#3529637">r</a></span><span class="op" id="3529685">.</span><span class="ident" id="3529686"><a href="/gostd/go/doc/reader.go.html#3515581">types</a></span>&nbsp;<span class="op" id="3529692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3529696">visible</span>&nbsp;<span class="op" id="3529704">:=</span>&nbsp;<span class="ident" id="3529707"><a href="/gostd/go/doc/reader.go.html#3529637">r</a></span><span class="op" id="3529708">.</span><span class="ident" id="3529709"><a href="/gostd/go/doc/reader.go.html#3515871">isVisible</a></span><span class="op" id="3529718">(</span><span class="ident" id="3529719"><a href="/gostd/go/doc/reader.go.html#3529673">t</a></span><span class="op" id="3529720">.</span><span class="ident" id="3529721"><a href="/gostd/go/doc/reader.go.html#3514527">name</a></span><span class="op" id="3529725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3529729">if</span>&nbsp;<span class="ident" id="3529732"><a href="/gostd/go/doc/reader.go.html#3529673">t</a></span><span class="op" id="3529733">.</span><span class="ident" id="3529734"><a href="/gostd/go/doc/reader.go.html#3514559">decl</a></span>&nbsp;<span class="op" id="3529739">==</span>&nbsp;<span class="builtintype" id="3529742">nil</span>&nbsp;<span class="op" id="3529746">&amp;&amp;</span>&nbsp;<span class="op" id="3529749">(</span><span class="ident" id="3529750"><a href="/gostd/go/doc/reader.go.html#3533738">predeclaredTypes</a></span><span class="op" id="3529766">[</span><span class="ident" id="3529767"><a href="/gostd/go/doc/reader.go.html#3529673">t</a></span><span class="op" id="3529768">.</span><span class="ident" id="3529769"><a href="/gostd/go/doc/reader.go.html#3514527">name</a></span><span class="op" id="3529773">]</span>&nbsp;<span class="op" id="3529775">||</span>&nbsp;<span class="ident" id="3529778"><a href="/gostd/go/doc/reader.go.html#3529673">t</a></span><span class="op" id="3529779">.</span><span class="ident" id="3529780"><a href="/gostd/go/doc/reader.go.html#3514622">isEmbedded</a></span>&nbsp;<span class="op" id="3529791">&amp;&amp;</span>&nbsp;<span class="ident" id="3529794"><a href="/gostd/go/doc/reader.go.html#3529696">visible</a></span><span class="op" id="3529801">)</span>&nbsp;<span class="op" id="3529803">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3529808">//&nbsp;t.name&nbsp;is&nbsp;a&nbsp;predeclared&nbsp;type&nbsp;(and&nbsp;was&nbsp;not&nbsp;redeclared&nbsp;in&nbsp;this&nbsp;package),</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3529885">//&nbsp;or&nbsp;it&nbsp;was&nbsp;embedded&nbsp;somewhere&nbsp;but&nbsp;its&nbsp;declaration&nbsp;is&nbsp;missing&nbsp;(because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3529960">//&nbsp;the&nbsp;AST&nbsp;is&nbsp;incomplete):&nbsp;move&nbsp;any&nbsp;associated&nbsp;values,&nbsp;funcs,&nbsp;and&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3530037">//&nbsp;back&nbsp;to&nbsp;the&nbsp;top-level&nbsp;so&nbsp;that&nbsp;they&nbsp;are&nbsp;not&nbsp;lost.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3530092">//&nbsp;1)&nbsp;move&nbsp;values</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3530113"><a href="/gostd/go/doc/reader.go.html#3529637">r</a></span><span class="op" id="3530114">.</span><span class="ident" id="3530115"><a href="/gostd/go/doc/reader.go.html#3515544">values</a></span>&nbsp;<span class="op" id="3530122">=</span>&nbsp;<span class="builtinfunc" id="3530124">append</span><span class="op" id="3530130">(</span><span class="ident" id="3530131"><a href="/gostd/go/doc/reader.go.html#3529637">r</a></span><span class="op" id="3530132">.</span><span class="ident" id="3530133"><a href="/gostd/go/doc/reader.go.html#3515544">values</a></span><span class="op" id="3530139">,</span>&nbsp;<span class="ident" id="3530141"><a href="/gostd/go/doc/reader.go.html#3529673">t</a></span><span class="op" id="3530142">.</span><span class="ident" id="3530143"><a href="/gostd/go/doc/reader.go.html#3514831">values</a></span><span class="op" id="3530149">...</span><span class="op" id="3530152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3530157">//&nbsp;2)&nbsp;move&nbsp;factory&nbsp;functions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3530189">for</span>&nbsp;<span class="ident" id="3530193">name</span><span class="op" id="3530197">,</span>&nbsp;<span class="ident" id="3530199">f</span>&nbsp;<span class="op" id="3530201">:=</span>&nbsp;<span class="keyword" id="3530204">range</span>&nbsp;<span class="ident" id="3530210"><a href="/gostd/go/doc/reader.go.html#3529673">t</a></span><span class="op" id="3530211">.</span><span class="ident" id="3530212"><a href="/gostd/go/doc/reader.go.html#3514868">funcs</a></span>&nbsp;<span class="op" id="3530218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3530224">//&nbsp;in&nbsp;a&nbsp;correct&nbsp;AST,&nbsp;package-level&nbsp;function&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3530278">//&nbsp;are&nbsp;all&nbsp;different&nbsp;-&nbsp;no&nbsp;need&nbsp;to&nbsp;check&nbsp;for&nbsp;conflicts</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3530336"><a href="/gostd/go/doc/reader.go.html#3529637">r</a></span><span class="op" id="3530337">.</span><span class="ident" id="3530338"><a href="/gostd/go/doc/reader.go.html#3515612">funcs</a></span><span class="op" id="3530343">[</span><span class="ident" id="3530344"><a href="/gostd/go/doc/reader.go.html#3530193">name</a></span><span class="op" id="3530348">]</span>&nbsp;<span class="op" id="3530350">=</span>&nbsp;<span class="ident" id="3530352"><a href="/gostd/go/doc/reader.go.html#3530199">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3530357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3530362">//&nbsp;3)&nbsp;move&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3530384">for</span>&nbsp;<span class="ident" id="3530388">name</span><span class="op" id="3530392">,</span>&nbsp;<span class="ident" id="3530394">m</span>&nbsp;<span class="op" id="3530396">:=</span>&nbsp;<span class="keyword" id="3530399">range</span>&nbsp;<span class="ident" id="3530405"><a href="/gostd/go/doc/reader.go.html#3529673">t</a></span><span class="op" id="3530406">.</span><span class="ident" id="3530407"><a href="/gostd/go/doc/reader.go.html#3514887">methods</a></span>&nbsp;<span class="op" id="3530415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3530421">//&nbsp;don&#39;t&nbsp;overwrite&nbsp;functions&nbsp;with&nbsp;the&nbsp;same&nbsp;name&nbsp;-&nbsp;drop&nbsp;them</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3530485">if</span>&nbsp;<span class="ident" id="3530488">_</span><span class="op" id="3530489">,</span>&nbsp;<span class="ident" id="3530491">found</span>&nbsp;<span class="op" id="3530497">:=</span>&nbsp;<span class="ident" id="3530500"><a href="/gostd/go/doc/reader.go.html#3529637">r</a></span><span class="op" id="3530501">.</span><span class="ident" id="3530502"><a href="/gostd/go/doc/reader.go.html#3515612">funcs</a></span><span class="op" id="3530507">[</span><span class="ident" id="3530508"><a href="/gostd/go/doc/reader.go.html#3530388">name</a></span><span class="op" id="3530512">]</span><span class="op" id="3530513">;</span>&nbsp;<span class="op" id="3530515">!</span><span class="ident" id="3530516"><a href="/gostd/go/doc/reader.go.html#3530491">found</a></span>&nbsp;<span class="op" id="3530522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3530529"><a href="/gostd/go/doc/reader.go.html#3529637">r</a></span><span class="op" id="3530530">.</span><span class="ident" id="3530531"><a href="/gostd/go/doc/reader.go.html#3515612">funcs</a></span><span class="op" id="3530536">[</span><span class="ident" id="3530537"><a href="/gostd/go/doc/reader.go.html#3530388">name</a></span><span class="op" id="3530541">]</span>&nbsp;<span class="op" id="3530543">=</span>&nbsp;<span class="ident" id="3530545"><a href="/gostd/go/doc/reader.go.html#3530394">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3530551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3530556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3530560">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3530564">//&nbsp;remove&nbsp;types&nbsp;w/o&nbsp;declaration&nbsp;or&nbsp;which&nbsp;are&nbsp;not&nbsp;visible</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3530623">if</span>&nbsp;<span class="ident" id="3530626"><a href="/gostd/go/doc/reader.go.html#3529673">t</a></span><span class="op" id="3530627">.</span><span class="ident" id="3530628"><a href="/gostd/go/doc/reader.go.html#3514559">decl</a></span>&nbsp;<span class="op" id="3530633">==</span>&nbsp;<span class="builtintype" id="3530636">nil</span>&nbsp;<span class="op" id="3530640">||</span>&nbsp;<span class="op" id="3530643">!</span><span class="ident" id="3530644"><a href="/gostd/go/doc/reader.go.html#3529696">visible</a></span>&nbsp;<span class="op" id="3530652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3530657">delete</span><span class="op" id="3530663">(</span><span class="ident" id="3530664"><a href="/gostd/go/doc/reader.go.html#3529637">r</a></span><span class="op" id="3530665">.</span><span class="ident" id="3530666"><a href="/gostd/go/doc/reader.go.html#3515581">types</a></span><span class="op" id="3530671">,</span>&nbsp;<span class="ident" id="3530673"><a href="/gostd/go/doc/reader.go.html#3529673">t</a></span><span class="op" id="3530674">.</span><span class="ident" id="3530675"><a href="/gostd/go/doc/reader.go.html#3514527">name</a></span><span class="op" id="3530679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3530683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3530686">}</span><br>
<span class="lineno">670</span><span class="op" id="3530688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3530691">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="3530771">//&nbsp;Sorting</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span><span class="keyword" id="3530783">type</span>&nbsp;<span class="ident" id="3530788">data</span>&nbsp;<span class="keyword" id="3530793">struct</span>&nbsp;<span class="op" id="3530800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3530803">n</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3530808">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3530813">swap</span>&nbsp;<span class="keyword" id="3530818">func</span><span class="op" id="3530822">(</span><span class="ident" id="3530823">i</span><span class="op" id="3530824">,</span>&nbsp;<span class="ident" id="3530826">j</span>&nbsp;<span class="builtintype" id="3530828">int</span><span class="op" id="3530831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3530834">less</span>&nbsp;<span class="keyword" id="3530839">func</span><span class="op" id="3530843">(</span><span class="ident" id="3530844">i</span><span class="op" id="3530845">,</span>&nbsp;<span class="ident" id="3530847">j</span>&nbsp;<span class="builtintype" id="3530849">int</span><span class="op" id="3530852">)</span>&nbsp;<span class="builtintype" id="3530854">bool</span><br>
<span class="lineno"></span><span class="op" id="3530859">}</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="3530862">func</span>&nbsp;<span class="op" id="3530867">(</span><span class="ident" id="3530868">d</span>&nbsp;<span class="op" id="3530870">*</span><span class="ident" id="3530871"><a href="/gostd/go/doc/reader.go.html#3530788">data</a></span><span class="op" id="3530875">)</span>&nbsp;<span class="ident" id="3530877">Len</span><span class="op" id="3530880">(</span><span class="op" id="3530881">)</span>&nbsp;<span class="builtintype" id="3530883">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3530897">{</span>&nbsp;<span class="keyword" id="3530899">return</span>&nbsp;<span class="ident" id="3530906"><a href="/gostd/go/doc/reader.go.html#3530868">d</a></span><span class="op" id="3530907">.</span><span class="ident" id="3530908"><a href="/gostd/go/doc/reader.go.html#3530803">n</a></span>&nbsp;<span class="op" id="3530910">}</span><br>
<span class="lineno"></span><span class="keyword" id="3530912">func</span>&nbsp;<span class="op" id="3530917">(</span><span class="ident" id="3530918">d</span>&nbsp;<span class="op" id="3530920">*</span><span class="ident" id="3530921"><a href="/gostd/go/doc/reader.go.html#3530788">data</a></span><span class="op" id="3530925">)</span>&nbsp;<span class="ident" id="3530927">Swap</span><span class="op" id="3530931">(</span><span class="ident" id="3530932">i</span><span class="op" id="3530933">,</span>&nbsp;<span class="ident" id="3530935">j</span>&nbsp;<span class="builtintype" id="3530937">int</span><span class="op" id="3530940">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3530947">{</span>&nbsp;<span class="ident" id="3530949"><a href="/gostd/go/doc/reader.go.html#3530918">d</a></span><span class="op" id="3530950">.</span><span class="ident" id="3530951"><a href="/gostd/go/doc/reader.go.html#3530813">swap</a></span><span class="op" id="3530955">(</span><span class="ident" id="3530956"><a href="/gostd/go/doc/reader.go.html#3530932">i</a></span><span class="op" id="3530957">,</span>&nbsp;<span class="ident" id="3530959"><a href="/gostd/go/doc/reader.go.html#3530935">j</a></span><span class="op" id="3530960">)</span>&nbsp;<span class="op" id="3530962">}</span><br>
<span class="lineno"></span><span class="keyword" id="3530964">func</span>&nbsp;<span class="op" id="3530969">(</span><span class="ident" id="3530970">d</span>&nbsp;<span class="op" id="3530972">*</span><span class="ident" id="3530973"><a href="/gostd/go/doc/reader.go.html#3530788">data</a></span><span class="op" id="3530977">)</span>&nbsp;<span class="ident" id="3530979">Less</span><span class="op" id="3530983">(</span><span class="ident" id="3530984">i</span><span class="op" id="3530985">,</span>&nbsp;<span class="ident" id="3530987">j</span>&nbsp;<span class="builtintype" id="3530989">int</span><span class="op" id="3530992">)</span>&nbsp;<span class="builtintype" id="3530994">bool</span>&nbsp;<span class="op" id="3530999">{</span>&nbsp;<span class="keyword" id="3531001">return</span>&nbsp;<span class="ident" id="3531008"><a href="/gostd/go/doc/reader.go.html#3530970">d</a></span><span class="op" id="3531009">.</span><span class="ident" id="3531010"><a href="/gostd/go/doc/reader.go.html#3530834">less</a></span><span class="op" id="3531014">(</span><span class="ident" id="3531015"><a href="/gostd/go/doc/reader.go.html#3530984">i</a></span><span class="op" id="3531016">,</span>&nbsp;<span class="ident" id="3531018"><a href="/gostd/go/doc/reader.go.html#3530987">j</a></span><span class="op" id="3531019">)</span>&nbsp;<span class="op" id="3531021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">685</span><span class="comment" id="3531024">//&nbsp;sortBy&nbsp;is&nbsp;a&nbsp;helper&nbsp;function&nbsp;for&nbsp;sorting</span><br>
<span class="lineno"></span><span class="keyword" id="3531067">func</span>&nbsp;<span class="ident" id="3531072">sortBy</span><span class="op" id="3531078">(</span><span class="ident" id="3531079">less</span>&nbsp;<span class="keyword" id="3531084">func</span><span class="op" id="3531088">(</span><span class="ident" id="3531089">i</span><span class="op" id="3531090">,</span>&nbsp;<span class="ident" id="3531092">j</span>&nbsp;<span class="builtintype" id="3531094">int</span><span class="op" id="3531097">)</span>&nbsp;<span class="builtintype" id="3531099">bool</span><span class="op" id="3531103">,</span>&nbsp;<span class="ident" id="3531105">swap</span>&nbsp;<span class="keyword" id="3531110">func</span><span class="op" id="3531114">(</span><span class="ident" id="3531115">i</span><span class="op" id="3531116">,</span>&nbsp;<span class="ident" id="3531118">j</span>&nbsp;<span class="builtintype" id="3531120">int</span><span class="op" id="3531123">)</span><span class="op" id="3531124">,</span>&nbsp;<span class="ident" id="3531126">n</span>&nbsp;<span class="builtintype" id="3531128">int</span><span class="op" id="3531131">)</span>&nbsp;<span class="op" id="3531133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531136"><a href="/gostd/go/doc/reader.go.html#3511468">sort</a></span><span class="op" id="3531140">.</span><span class="ident" id="3531141"><a href="/gostd/sort/sort.go.html#2015380">Sort</a></span><span class="op" id="3531145">(</span><span class="op" id="3531146">&amp;</span><span class="ident" id="3531147"><a href="/gostd/go/doc/reader.go.html#3530788">data</a></span><span class="op" id="3531151">{</span><span class="ident" id="3531152"><a href="/gostd/go/doc/reader.go.html#3531126">n</a></span><span class="op" id="3531153">,</span>&nbsp;<span class="ident" id="3531155"><a href="/gostd/go/doc/reader.go.html#3531105">swap</a></span><span class="op" id="3531159">,</span>&nbsp;<span class="ident" id="3531161"><a href="/gostd/go/doc/reader.go.html#3531079">less</a></span><span class="op" id="3531165">}</span><span class="op" id="3531166">)</span><br>
<span class="lineno"></span><span class="op" id="3531168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">690</span><span class="keyword" id="3531171">func</span>&nbsp;<span class="ident" id="3531176">sortedKeys</span><span class="op" id="3531186">(</span><span class="ident" id="3531187">m</span>&nbsp;<span class="keyword" id="3531189">map</span><span class="op" id="3531192">[</span><span class="builtintype" id="3531193">string</span><span class="op" id="3531199">]</span><span class="builtintype" id="3531200">int</span><span class="op" id="3531203">)</span>&nbsp;<span class="op" id="3531205">[</span><span class="op" id="3531206">]</span><span class="builtintype" id="3531207">string</span>&nbsp;<span class="op" id="3531214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531217">list</span>&nbsp;<span class="op" id="3531222">:=</span>&nbsp;<span class="builtinfunc" id="3531225">make</span><span class="op" id="3531229">(</span><span class="op" id="3531230">[</span><span class="op" id="3531231">]</span><span class="builtintype" id="3531232">string</span><span class="op" id="3531238">,</span>&nbsp;<span class="builtinfunc" id="3531240">len</span><span class="op" id="3531243">(</span><span class="ident" id="3531244"><a href="/gostd/go/doc/reader.go.html#3531187">m</a></span><span class="op" id="3531245">)</span><span class="op" id="3531246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531249">i</span>&nbsp;<span class="op" id="3531251">:=</span>&nbsp;<span class="num" id="3531254">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531257">for</span>&nbsp;<span class="ident" id="3531261">key</span>&nbsp;<span class="op" id="3531265">:=</span>&nbsp;<span class="keyword" id="3531268">range</span>&nbsp;<span class="ident" id="3531274"><a href="/gostd/go/doc/reader.go.html#3531187">m</a></span>&nbsp;<span class="op" id="3531276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531280"><a href="/gostd/go/doc/reader.go.html#3531217">list</a></span><span class="op" id="3531284">[</span><span class="ident" id="3531285"><a href="/gostd/go/doc/reader.go.html#3531249">i</a></span><span class="op" id="3531286">]</span>&nbsp;<span class="op" id="3531288">=</span>&nbsp;<span class="ident" id="3531290"><a href="/gostd/go/doc/reader.go.html#3531261">key</a></span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531296"><a href="/gostd/go/doc/reader.go.html#3531249">i</a></span><span class="op" id="3531297">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3531301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531304"><a href="/gostd/go/doc/reader.go.html#3511468">sort</a></span><span class="op" id="3531308">.</span><span class="ident" id="3531309"><a href="/gostd/sort/sort.go.html#2017831">Strings</a></span><span class="op" id="3531316">(</span><span class="ident" id="3531317"><a href="/gostd/go/doc/reader.go.html#3531217">list</a></span><span class="op" id="3531321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531324">return</span>&nbsp;<span class="ident" id="3531331"><a href="/gostd/go/doc/reader.go.html#3531217">list</a></span><br>
<span class="lineno"></span><span class="op" id="3531336">}</span><br>
<span class="lineno">700</span><br>
<span class="lineno"></span><span class="comment" id="3531339">//&nbsp;sortingName&nbsp;returns&nbsp;the&nbsp;name&nbsp;to&nbsp;use&nbsp;when&nbsp;sorting&nbsp;d&nbsp;into&nbsp;place.</span><br>
<span class="lineno"></span><span class="comment" id="3531405">//</span><br>
<span class="lineno"></span><span class="keyword" id="3531408">func</span>&nbsp;<span class="ident" id="3531413">sortingName</span><span class="op" id="3531424">(</span><span class="ident" id="3531425">d</span>&nbsp;<span class="op" id="3531427">*</span><span class="ident" id="3531428"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3531431">.</span><span class="ident" id="3531432"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span><span class="op" id="3531439">)</span>&nbsp;<span class="builtintype" id="3531441">string</span>&nbsp;<span class="op" id="3531448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531451">if</span>&nbsp;<span class="builtinfunc" id="3531454">len</span><span class="op" id="3531457">(</span><span class="ident" id="3531458"><a href="/gostd/go/doc/reader.go.html#3531425">d</a></span><span class="op" id="3531459">.</span><span class="ident" id="3531460"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="3531465">)</span>&nbsp;<span class="op" id="3531467">==</span>&nbsp;<span class="num" id="3531470">1</span>&nbsp;<span class="op" id="3531472">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531476">if</span>&nbsp;<span class="ident" id="3531479">s</span><span class="op" id="3531480">,</span>&nbsp;<span class="ident" id="3531482">ok</span>&nbsp;<span class="op" id="3531485">:=</span>&nbsp;<span class="ident" id="3531488"><a href="/gostd/go/doc/reader.go.html#3531425">d</a></span><span class="op" id="3531489">.</span><span class="ident" id="3531490"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="3531495">[</span><span class="num" id="3531496">0</span><span class="op" id="3531497">]</span><span class="op" id="3531498">.</span><span class="op" id="3531499">(</span><span class="op" id="3531500">*</span><span class="ident" id="3531501"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3531504">.</span><span class="ident" id="3531505"><a href="/gostd/go/ast/ast.go.html#3820033">ValueSpec</a></span><span class="op" id="3531514">)</span><span class="op" id="3531515">;</span>&nbsp;<span class="ident" id="3531517"><a href="/gostd/go/doc/reader.go.html#3531482">ok</a></span>&nbsp;<span class="op" id="3531520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531525">return</span>&nbsp;<span class="ident" id="3531532"><a href="/gostd/go/doc/reader.go.html#3531479">s</a></span><span class="op" id="3531533">.</span><span class="ident" id="3531534"><a href="/gostd/go/ast/ast.go.html#3820114">Names</a></span><span class="op" id="3531539">[</span><span class="num" id="3531540">0</span><span class="op" id="3531541">]</span><span class="op" id="3531542">.</span><span class="ident" id="3531543"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3531550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3531553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531556">return</span>&nbsp;<span class="string" id="3531563">&#34;&#34;</span><br>
<span class="lineno">710</span><span class="op" id="3531566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3531569">func</span>&nbsp;<span class="ident" id="3531574">sortedValues</span><span class="op" id="3531586">(</span><span class="ident" id="3531587">m</span>&nbsp;<span class="op" id="3531589">[</span><span class="op" id="3531590">]</span><span class="op" id="3531591">*</span><span class="ident" id="3531592"><a href="/gostd/go/doc/doc.go.html#3490917">Value</a></span><span class="op" id="3531597">,</span>&nbsp;<span class="ident" id="3531599">tok</span>&nbsp;<span class="ident" id="3531603"><a href="/gostd/go/doc/reader.go.html#3511446">token</a></span><span class="op" id="3531608">.</span><span class="ident" id="3531609"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="3531614">)</span>&nbsp;<span class="op" id="3531616">[</span><span class="op" id="3531617">]</span><span class="op" id="3531618">*</span><span class="ident" id="3531619"><a href="/gostd/go/doc/doc.go.html#3490917">Value</a></span>&nbsp;<span class="op" id="3531625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531628">list</span>&nbsp;<span class="op" id="3531633">:=</span>&nbsp;<span class="builtinfunc" id="3531636">make</span><span class="op" id="3531640">(</span><span class="op" id="3531641">[</span><span class="op" id="3531642">]</span><span class="op" id="3531643">*</span><span class="ident" id="3531644"><a href="/gostd/go/doc/doc.go.html#3490917">Value</a></span><span class="op" id="3531649">,</span>&nbsp;<span class="builtinfunc" id="3531651">len</span><span class="op" id="3531654">(</span><span class="ident" id="3531655"><a href="/gostd/go/doc/reader.go.html#3531587">m</a></span><span class="op" id="3531656">)</span><span class="op" id="3531657">)</span>&nbsp;<span class="comment" id="3531659">//&nbsp;big&nbsp;enough&nbsp;in&nbsp;any&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531686">i</span>&nbsp;<span class="op" id="3531688">:=</span>&nbsp;<span class="num" id="3531691">0</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531694">for</span>&nbsp;<span class="ident" id="3531698">_</span><span class="op" id="3531699">,</span>&nbsp;<span class="ident" id="3531701">val</span>&nbsp;<span class="op" id="3531705">:=</span>&nbsp;<span class="keyword" id="3531708">range</span>&nbsp;<span class="ident" id="3531714"><a href="/gostd/go/doc/reader.go.html#3531587">m</a></span>&nbsp;<span class="op" id="3531716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531720">if</span>&nbsp;<span class="ident" id="3531723"><a href="/gostd/go/doc/reader.go.html#3531701">val</a></span><span class="op" id="3531726">.</span><span class="ident" id="3531727"><a href="/gostd/go/doc/doc.go.html#3491006">Decl</a></span><span class="op" id="3531731">.</span><span class="ident" id="3531732"><a href="/gostd/go/ast/ast.go.html#3822282">Tok</a></span>&nbsp;<span class="op" id="3531736">==</span>&nbsp;<span class="ident" id="3531739"><a href="/gostd/go/doc/reader.go.html#3531599">tok</a></span>&nbsp;<span class="op" id="3531743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531748"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3531752">[</span><span class="ident" id="3531753"><a href="/gostd/go/doc/reader.go.html#3531686">i</a></span><span class="op" id="3531754">]</span>&nbsp;<span class="op" id="3531756">=</span>&nbsp;<span class="ident" id="3531758"><a href="/gostd/go/doc/reader.go.html#3531701">val</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531765"><a href="/gostd/go/doc/reader.go.html#3531686">i</a></span><span class="op" id="3531766">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3531771">}</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3531774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531777"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span>&nbsp;<span class="op" id="3531782">=</span>&nbsp;<span class="ident" id="3531784"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3531788">[</span><span class="num" id="3531789">0</span><span class="op" id="3531790">:</span><span class="ident" id="3531791"><a href="/gostd/go/doc/reader.go.html#3531686">i</a></span><span class="op" id="3531792">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531796"><a href="/gostd/go/doc/reader.go.html#3531072">sortBy</a></span><span class="op" id="3531802">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531806">func</span><span class="op" id="3531810">(</span><span class="ident" id="3531811">i</span><span class="op" id="3531812">,</span>&nbsp;<span class="ident" id="3531814">j</span>&nbsp;<span class="builtintype" id="3531816">int</span><span class="op" id="3531819">)</span>&nbsp;<span class="builtintype" id="3531821">bool</span>&nbsp;<span class="op" id="3531826">{</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531831">if</span>&nbsp;<span class="ident" id="3531834">ni</span><span class="op" id="3531836">,</span>&nbsp;<span class="ident" id="3531838">nj</span>&nbsp;<span class="op" id="3531841">:=</span>&nbsp;<span class="ident" id="3531844"><a href="/gostd/go/doc/reader.go.html#3531413">sortingName</a></span><span class="op" id="3531855">(</span><span class="ident" id="3531856"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3531860">[</span><span class="ident" id="3531861"><a href="/gostd/go/doc/reader.go.html#3531811">i</a></span><span class="op" id="3531862">]</span><span class="op" id="3531863">.</span><span class="ident" id="3531864"><a href="/gostd/go/doc/doc.go.html#3491006">Decl</a></span><span class="op" id="3531868">)</span><span class="op" id="3531869">,</span>&nbsp;<span class="ident" id="3531871"><a href="/gostd/go/doc/reader.go.html#3531413">sortingName</a></span><span class="op" id="3531882">(</span><span class="ident" id="3531883"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3531887">[</span><span class="ident" id="3531888"><a href="/gostd/go/doc/reader.go.html#3531814">j</a></span><span class="op" id="3531889">]</span><span class="op" id="3531890">.</span><span class="ident" id="3531891"><a href="/gostd/go/doc/doc.go.html#3491006">Decl</a></span><span class="op" id="3531895">)</span><span class="op" id="3531896">;</span>&nbsp;<span class="ident" id="3531898"><a href="/gostd/go/doc/reader.go.html#3531834">ni</a></span>&nbsp;<span class="op" id="3531901">!=</span>&nbsp;<span class="ident" id="3531904"><a href="/gostd/go/doc/reader.go.html#3531838">nj</a></span>&nbsp;<span class="op" id="3531907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531913">return</span>&nbsp;<span class="ident" id="3531920"><a href="/gostd/go/doc/reader.go.html#3531834">ni</a></span>&nbsp;<span class="op" id="3531923">&lt;</span>&nbsp;<span class="ident" id="3531925"><a href="/gostd/go/doc/reader.go.html#3531838">nj</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3531931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531936">return</span>&nbsp;<span class="ident" id="3531943"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3531947">[</span><span class="ident" id="3531948"><a href="/gostd/go/doc/reader.go.html#3531811">i</a></span><span class="op" id="3531949">]</span><span class="op" id="3531950">.</span><span class="ident" id="3531951"><a href="/gostd/go/doc/doc.go.html#3491027">order</a></span>&nbsp;<span class="op" id="3531957">&lt;</span>&nbsp;<span class="ident" id="3531959"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3531963">[</span><span class="ident" id="3531964"><a href="/gostd/go/doc/reader.go.html#3531814">j</a></span><span class="op" id="3531965">]</span><span class="op" id="3531966">.</span><span class="ident" id="3531967"><a href="/gostd/go/doc/doc.go.html#3491027">order</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3531975">}</span><span class="op" id="3531976">,</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3531980">func</span><span class="op" id="3531984">(</span><span class="ident" id="3531985">i</span><span class="op" id="3531986">,</span>&nbsp;<span class="ident" id="3531988">j</span>&nbsp;<span class="builtintype" id="3531990">int</span><span class="op" id="3531993">)</span>&nbsp;<span class="op" id="3531995">{</span>&nbsp;<span class="ident" id="3531997"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3532001">[</span><span class="ident" id="3532002"><a href="/gostd/go/doc/reader.go.html#3531985">i</a></span><span class="op" id="3532003">]</span><span class="op" id="3532004">,</span>&nbsp;<span class="ident" id="3532006"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3532010">[</span><span class="ident" id="3532011"><a href="/gostd/go/doc/reader.go.html#3531988">j</a></span><span class="op" id="3532012">]</span>&nbsp;<span class="op" id="3532014">=</span>&nbsp;<span class="ident" id="3532016"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3532020">[</span><span class="ident" id="3532021"><a href="/gostd/go/doc/reader.go.html#3531988">j</a></span><span class="op" id="3532022">]</span><span class="op" id="3532023">,</span>&nbsp;<span class="ident" id="3532025"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3532029">[</span><span class="ident" id="3532030"><a href="/gostd/go/doc/reader.go.html#3531985">i</a></span><span class="op" id="3532031">]</span>&nbsp;<span class="op" id="3532033">}</span><span class="op" id="3532034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3532038">len</span><span class="op" id="3532041">(</span><span class="ident" id="3532042"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><span class="op" id="3532046">)</span><span class="op" id="3532047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3532050">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532054">return</span>&nbsp;<span class="ident" id="3532061"><a href="/gostd/go/doc/reader.go.html#3531628">list</a></span><br>
<span class="lineno">735</span><span class="op" id="3532066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3532069">func</span>&nbsp;<span class="ident" id="3532074">sortedTypes</span><span class="op" id="3532085">(</span><span class="ident" id="3532086">m</span>&nbsp;<span class="keyword" id="3532088">map</span><span class="op" id="3532091">[</span><span class="builtintype" id="3532092">string</span><span class="op" id="3532098">]</span><span class="op" id="3532099">*</span><span class="ident" id="3532100"><a href="/gostd/go/doc/reader.go.html#3514464">namedType</a></span><span class="op" id="3532109">,</span>&nbsp;<span class="ident" id="3532111">allMethods</span>&nbsp;<span class="builtintype" id="3532122">bool</span><span class="op" id="3532126">)</span>&nbsp;<span class="op" id="3532128">[</span><span class="op" id="3532129">]</span><span class="op" id="3532130">*</span><span class="ident" id="3532131"><a href="/gostd/go/doc/doc.go.html#3491098">Type</a></span>&nbsp;<span class="op" id="3532136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532139">list</span>&nbsp;<span class="op" id="3532144">:=</span>&nbsp;<span class="builtinfunc" id="3532147">make</span><span class="op" id="3532151">(</span><span class="op" id="3532152">[</span><span class="op" id="3532153">]</span><span class="op" id="3532154">*</span><span class="ident" id="3532155"><a href="/gostd/go/doc/doc.go.html#3491098">Type</a></span><span class="op" id="3532159">,</span>&nbsp;<span class="builtinfunc" id="3532161">len</span><span class="op" id="3532164">(</span><span class="ident" id="3532165"><a href="/gostd/go/doc/reader.go.html#3532086">m</a></span><span class="op" id="3532166">)</span><span class="op" id="3532167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532170">i</span>&nbsp;<span class="op" id="3532172">:=</span>&nbsp;<span class="num" id="3532175">0</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532178">for</span>&nbsp;<span class="ident" id="3532182">_</span><span class="op" id="3532183">,</span>&nbsp;<span class="ident" id="3532185">t</span>&nbsp;<span class="op" id="3532187">:=</span>&nbsp;<span class="keyword" id="3532190">range</span>&nbsp;<span class="ident" id="3532196"><a href="/gostd/go/doc/reader.go.html#3532086">m</a></span>&nbsp;<span class="op" id="3532198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532202"><a href="/gostd/go/doc/reader.go.html#3532139">list</a></span><span class="op" id="3532206">[</span><span class="ident" id="3532207"><a href="/gostd/go/doc/reader.go.html#3532170">i</a></span><span class="op" id="3532208">]</span>&nbsp;<span class="op" id="3532210">=</span>&nbsp;<span class="op" id="3532212">&amp;</span><span class="ident" id="3532213"><a href="/gostd/go/doc/doc.go.html#3491098">Type</a></span><span class="op" id="3532217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532222"><a href="/gostd/go/doc/doc.go.html#3491113">Doc</a></span><span class="op" id="3532225">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532231"><a href="/gostd/go/doc/reader.go.html#3532185">t</a></span><span class="op" id="3532232">.</span><span class="ident" id="3532233"><a href="/gostd/go/doc/reader.go.html#3514484">doc</a></span><span class="op" id="3532236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532241"><a href="/gostd/go/doc/doc.go.html#3491126">Name</a></span><span class="op" id="3532245">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532250"><a href="/gostd/go/doc/reader.go.html#3532185">t</a></span><span class="op" id="3532251">.</span><span class="ident" id="3532252"><a href="/gostd/go/doc/reader.go.html#3514527">name</a></span><span class="op" id="3532256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532261"><a href="/gostd/go/doc/doc.go.html#3491139">Decl</a></span><span class="op" id="3532265">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532270"><a href="/gostd/go/doc/reader.go.html#3532185">t</a></span><span class="op" id="3532271">.</span><span class="ident" id="3532272"><a href="/gostd/go/doc/reader.go.html#3514559">decl</a></span><span class="op" id="3532276">,</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532281"><a href="/gostd/go/doc/doc.go.html#3491187">Consts</a></span><span class="op" id="3532287">:</span>&nbsp;&nbsp;<span class="ident" id="3532290"><a href="/gostd/go/doc/reader.go.html#3531574">sortedValues</a></span><span class="op" id="3532302">(</span><span class="ident" id="3532303"><a href="/gostd/go/doc/reader.go.html#3532185">t</a></span><span class="op" id="3532304">.</span><span class="ident" id="3532305"><a href="/gostd/go/doc/reader.go.html#3514831">values</a></span><span class="op" id="3532311">,</span>&nbsp;<span class="ident" id="3532313"><a href="/gostd/go/doc/reader.go.html#3511446">token</a></span><span class="op" id="3532318">.</span><span class="ident" id="3532319"><a href="/gostd/go/token/token.go.html#3890769">CONST</a></span><span class="op" id="3532324">)</span><span class="op" id="3532325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532330"><a href="/gostd/go/doc/doc.go.html#3491255">Vars</a></span><span class="op" id="3532334">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532339"><a href="/gostd/go/doc/reader.go.html#3531574">sortedValues</a></span><span class="op" id="3532351">(</span><span class="ident" id="3532352"><a href="/gostd/go/doc/reader.go.html#3532185">t</a></span><span class="op" id="3532353">.</span><span class="ident" id="3532354"><a href="/gostd/go/doc/reader.go.html#3514831">values</a></span><span class="op" id="3532360">,</span>&nbsp;<span class="ident" id="3532362"><a href="/gostd/go/doc/reader.go.html#3511446">token</a></span><span class="op" id="3532367">.</span><span class="ident" id="3532368"><a href="/gostd/go/token/token.go.html#3890928">VAR</a></span><span class="op" id="3532371">)</span><span class="op" id="3532372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532377"><a href="/gostd/go/doc/doc.go.html#3491323">Funcs</a></span><span class="op" id="3532382">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3532386"><a href="/gostd/go/doc/reader.go.html#3532741">sortedFuncs</a></span><span class="op" id="3532397">(</span><span class="ident" id="3532398"><a href="/gostd/go/doc/reader.go.html#3532185">t</a></span><span class="op" id="3532399">.</span><span class="ident" id="3532400"><a href="/gostd/go/doc/reader.go.html#3514868">funcs</a></span><span class="op" id="3532405">,</span>&nbsp;<span class="builtintype" id="3532407">true</span><span class="op" id="3532411">)</span><span class="op" id="3532412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532417"><a href="/gostd/go/doc/doc.go.html#3491389">Methods</a></span><span class="op" id="3532424">:</span>&nbsp;<span class="ident" id="3532426"><a href="/gostd/go/doc/reader.go.html#3532741">sortedFuncs</a></span><span class="op" id="3532437">(</span><span class="ident" id="3532438"><a href="/gostd/go/doc/reader.go.html#3532185">t</a></span><span class="op" id="3532439">.</span><span class="ident" id="3532440"><a href="/gostd/go/doc/reader.go.html#3514887">methods</a></span><span class="op" id="3532447">,</span>&nbsp;<span class="ident" id="3532449"><a href="/gostd/go/doc/reader.go.html#3532111">allMethods</a></span><span class="op" id="3532459">)</span><span class="op" id="3532460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3532464">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532468"><a href="/gostd/go/doc/reader.go.html#3532170">i</a></span><span class="op" id="3532469">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3532473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532477"><a href="/gostd/go/doc/reader.go.html#3531072">sortBy</a></span><span class="op" id="3532483">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532487">func</span><span class="op" id="3532491">(</span><span class="ident" id="3532492">i</span><span class="op" id="3532493">,</span>&nbsp;<span class="ident" id="3532495">j</span>&nbsp;<span class="builtintype" id="3532497">int</span><span class="op" id="3532500">)</span>&nbsp;<span class="builtintype" id="3532502">bool</span>&nbsp;<span class="op" id="3532507">{</span>&nbsp;<span class="keyword" id="3532509">return</span>&nbsp;<span class="ident" id="3532516"><a href="/gostd/go/doc/reader.go.html#3532139">list</a></span><span class="op" id="3532520">[</span><span class="ident" id="3532521"><a href="/gostd/go/doc/reader.go.html#3532492">i</a></span><span class="op" id="3532522">]</span><span class="op" id="3532523">.</span><span class="ident" id="3532524"><a href="/gostd/go/doc/doc.go.html#3491126">Name</a></span>&nbsp;<span class="op" id="3532529">&lt;</span>&nbsp;<span class="ident" id="3532531"><a href="/gostd/go/doc/reader.go.html#3532139">list</a></span><span class="op" id="3532535">[</span><span class="ident" id="3532536"><a href="/gostd/go/doc/reader.go.html#3532495">j</a></span><span class="op" id="3532537">]</span><span class="op" id="3532538">.</span><span class="ident" id="3532539"><a href="/gostd/go/doc/doc.go.html#3491126">Name</a></span>&nbsp;<span class="op" id="3532544">}</span><span class="op" id="3532545">,</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532549">func</span><span class="op" id="3532553">(</span><span class="ident" id="3532554">i</span><span class="op" id="3532555">,</span>&nbsp;<span class="ident" id="3532557">j</span>&nbsp;<span class="builtintype" id="3532559">int</span><span class="op" id="3532562">)</span>&nbsp;<span class="op" id="3532564">{</span>&nbsp;<span class="ident" id="3532566"><a href="/gostd/go/doc/reader.go.html#3532139">list</a></span><span class="op" id="3532570">[</span><span class="ident" id="3532571"><a href="/gostd/go/doc/reader.go.html#3532554">i</a></span><span class="op" id="3532572">]</span><span class="op" id="3532573">,</span>&nbsp;<span class="ident" id="3532575"><a href="/gostd/go/doc/reader.go.html#3532139">list</a></span><span class="op" id="3532579">[</span><span class="ident" id="3532580"><a href="/gostd/go/doc/reader.go.html#3532557">j</a></span><span class="op" id="3532581">]</span>&nbsp;<span class="op" id="3532583">=</span>&nbsp;<span class="ident" id="3532585"><a href="/gostd/go/doc/reader.go.html#3532139">list</a></span><span class="op" id="3532589">[</span><span class="ident" id="3532590"><a href="/gostd/go/doc/reader.go.html#3532557">j</a></span><span class="op" id="3532591">]</span><span class="op" id="3532592">,</span>&nbsp;<span class="ident" id="3532594"><a href="/gostd/go/doc/reader.go.html#3532139">list</a></span><span class="op" id="3532598">[</span><span class="ident" id="3532599"><a href="/gostd/go/doc/reader.go.html#3532554">i</a></span><span class="op" id="3532600">]</span>&nbsp;<span class="op" id="3532602">}</span><span class="op" id="3532603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3532607">len</span><span class="op" id="3532610">(</span><span class="ident" id="3532611"><a href="/gostd/go/doc/reader.go.html#3532139">list</a></span><span class="op" id="3532615">)</span><span class="op" id="3532616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3532619">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532623">return</span>&nbsp;<span class="ident" id="3532630"><a href="/gostd/go/doc/reader.go.html#3532139">list</a></span><br>
<span class="lineno">760</span><span class="op" id="3532635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3532638">func</span>&nbsp;<span class="ident" id="3532643">removeStar</span><span class="op" id="3532653">(</span><span class="ident" id="3532654">s</span>&nbsp;<span class="builtintype" id="3532656">string</span><span class="op" id="3532662">)</span>&nbsp;<span class="builtintype" id="3532664">string</span>&nbsp;<span class="op" id="3532671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532674">if</span>&nbsp;<span class="builtinfunc" id="3532677">len</span><span class="op" id="3532680">(</span><span class="ident" id="3532681"><a href="/gostd/go/doc/reader.go.html#3532654">s</a></span><span class="op" id="3532682">)</span>&nbsp;<span class="op" id="3532684">&gt;</span>&nbsp;<span class="num" id="3532686">0</span>&nbsp;<span class="op" id="3532688">&amp;&amp;</span>&nbsp;<span class="ident" id="3532691"><a href="/gostd/go/doc/reader.go.html#3532654">s</a></span><span class="op" id="3532692">[</span><span class="num" id="3532693">0</span><span class="op" id="3532694">]</span>&nbsp;<span class="op" id="3532696">==</span>&nbsp;<span class="string" id="3532699">&#39;*&#39;</span>&nbsp;<span class="op" id="3532703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532707">return</span>&nbsp;<span class="ident" id="3532714"><a href="/gostd/go/doc/reader.go.html#3532654">s</a></span><span class="op" id="3532715">[</span><span class="num" id="3532716">1</span><span class="op" id="3532717">:</span><span class="op" id="3532718">]</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3532721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532724">return</span>&nbsp;<span class="ident" id="3532731"><a href="/gostd/go/doc/reader.go.html#3532654">s</a></span><br>
<span class="lineno"></span><span class="op" id="3532733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3532736">func</span>&nbsp;<span class="ident" id="3532741">sortedFuncs</span><span class="op" id="3532752">(</span><span class="ident" id="3532753">m</span>&nbsp;<span class="ident" id="3532755"><a href="/gostd/go/doc/reader.go.html#3511849">methodSet</a></span><span class="op" id="3532764">,</span>&nbsp;<span class="ident" id="3532766">allMethods</span>&nbsp;<span class="builtintype" id="3532777">bool</span><span class="op" id="3532781">)</span>&nbsp;<span class="op" id="3532783">[</span><span class="op" id="3532784">]</span><span class="op" id="3532785">*</span><span class="ident" id="3532786"><a href="/gostd/go/doc/doc.go.html#3491532">Func</a></span>&nbsp;<span class="op" id="3532791">{</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532794">list</span>&nbsp;<span class="op" id="3532799">:=</span>&nbsp;<span class="builtinfunc" id="3532802">make</span><span class="op" id="3532806">(</span><span class="op" id="3532807">[</span><span class="op" id="3532808">]</span><span class="op" id="3532809">*</span><span class="ident" id="3532810"><a href="/gostd/go/doc/doc.go.html#3491532">Func</a></span><span class="op" id="3532814">,</span>&nbsp;<span class="builtinfunc" id="3532816">len</span><span class="op" id="3532819">(</span><span class="ident" id="3532820"><a href="/gostd/go/doc/reader.go.html#3532753">m</a></span><span class="op" id="3532821">)</span><span class="op" id="3532822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3532825">i</span>&nbsp;<span class="op" id="3532827">:=</span>&nbsp;<span class="num" id="3532830">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532833">for</span>&nbsp;<span class="ident" id="3532837">_</span><span class="op" id="3532838">,</span>&nbsp;<span class="ident" id="3532840">m</span>&nbsp;<span class="op" id="3532842">:=</span>&nbsp;<span class="keyword" id="3532845">range</span>&nbsp;<span class="ident" id="3532851"><a href="/gostd/go/doc/reader.go.html#3532753">m</a></span>&nbsp;<span class="op" id="3532853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3532857">//&nbsp;determine&nbsp;which&nbsp;methods&nbsp;to&nbsp;include</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532897">switch</span>&nbsp;<span class="op" id="3532904">{</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532908">case</span>&nbsp;<span class="ident" id="3532913"><a href="/gostd/go/doc/reader.go.html#3532840">m</a></span><span class="op" id="3532914">.</span><span class="ident" id="3532915"><a href="/gostd/go/doc/doc.go.html#3491573">Decl</a></span>&nbsp;<span class="op" id="3532920">==</span>&nbsp;<span class="builtintype" id="3532923">nil</span><span class="op" id="3532926">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3532931">//&nbsp;exclude&nbsp;conflict&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3532959">case</span>&nbsp;<span class="ident" id="3532964"><a href="/gostd/go/doc/reader.go.html#3532766">allMethods</a></span><span class="op" id="3532974">,</span>&nbsp;<span class="ident" id="3532976"><a href="/gostd/go/doc/reader.go.html#3532840">m</a></span><span class="op" id="3532977">.</span><span class="ident" id="3532978"><a href="/gostd/go/doc/doc.go.html#3491765">Level</a></span>&nbsp;<span class="op" id="3532984">==</span>&nbsp;<span class="num" id="3532987">0</span><span class="op" id="3532988">,</span>&nbsp;<span class="op" id="3532990">!</span><span class="ident" id="3532991"><a href="/gostd/go/doc/reader.go.html#3511436">ast</a></span><span class="op" id="3532994">.</span><span class="ident" id="3532995"><a href="/gostd/go/ast/ast.go.html#3810150">IsExported</a></span><span class="op" id="3533005">(</span><span class="ident" id="3533006"><a href="/gostd/go/doc/reader.go.html#3532643">removeStar</a></span><span class="op" id="3533016">(</span><span class="ident" id="3533017"><a href="/gostd/go/doc/reader.go.html#3532840">m</a></span><span class="op" id="3533018">.</span><span class="ident" id="3533019"><a href="/gostd/go/doc/doc.go.html#3491718">Orig</a></span><span class="op" id="3533023">)</span><span class="op" id="3533024">)</span><span class="op" id="3533025">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3533030">//&nbsp;forced&nbsp;inclusion,&nbsp;method&nbsp;not&nbsp;embedded,&nbsp;or&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3533085">//&nbsp;embedded&nbsp;but&nbsp;original&nbsp;receiver&nbsp;type&nbsp;not&nbsp;exported</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3533140"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span><span class="op" id="3533144">[</span><span class="ident" id="3533145"><a href="/gostd/go/doc/reader.go.html#3532825">i</a></span><span class="op" id="3533146">]</span>&nbsp;<span class="op" id="3533148">=</span>&nbsp;<span class="ident" id="3533150"><a href="/gostd/go/doc/reader.go.html#3532840">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3533155"><a href="/gostd/go/doc/reader.go.html#3532825">i</a></span><span class="op" id="3533156">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3533161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3533164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3533167"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span>&nbsp;<span class="op" id="3533172">=</span>&nbsp;<span class="ident" id="3533174"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span><span class="op" id="3533178">[</span><span class="num" id="3533179">0</span><span class="op" id="3533180">:</span><span class="ident" id="3533181"><a href="/gostd/go/doc/reader.go.html#3532825">i</a></span><span class="op" id="3533182">]</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3533185"><a href="/gostd/go/doc/reader.go.html#3531072">sortBy</a></span><span class="op" id="3533191">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3533195">func</span><span class="op" id="3533199">(</span><span class="ident" id="3533200">i</span><span class="op" id="3533201">,</span>&nbsp;<span class="ident" id="3533203">j</span>&nbsp;<span class="builtintype" id="3533205">int</span><span class="op" id="3533208">)</span>&nbsp;<span class="builtintype" id="3533210">bool</span>&nbsp;<span class="op" id="3533215">{</span>&nbsp;<span class="keyword" id="3533217">return</span>&nbsp;<span class="ident" id="3533224"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span><span class="op" id="3533228">[</span><span class="ident" id="3533229"><a href="/gostd/go/doc/reader.go.html#3533200">i</a></span><span class="op" id="3533230">]</span><span class="op" id="3533231">.</span><span class="ident" id="3533232"><a href="/gostd/go/doc/doc.go.html#3491560">Name</a></span>&nbsp;<span class="op" id="3533237">&lt;</span>&nbsp;<span class="ident" id="3533239"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span><span class="op" id="3533243">[</span><span class="ident" id="3533244"><a href="/gostd/go/doc/reader.go.html#3533203">j</a></span><span class="op" id="3533245">]</span><span class="op" id="3533246">.</span><span class="ident" id="3533247"><a href="/gostd/go/doc/doc.go.html#3491560">Name</a></span>&nbsp;<span class="op" id="3533252">}</span><span class="op" id="3533253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3533257">func</span><span class="op" id="3533261">(</span><span class="ident" id="3533262">i</span><span class="op" id="3533263">,</span>&nbsp;<span class="ident" id="3533265">j</span>&nbsp;<span class="builtintype" id="3533267">int</span><span class="op" id="3533270">)</span>&nbsp;<span class="op" id="3533272">{</span>&nbsp;<span class="ident" id="3533274"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span><span class="op" id="3533278">[</span><span class="ident" id="3533279"><a href="/gostd/go/doc/reader.go.html#3533262">i</a></span><span class="op" id="3533280">]</span><span class="op" id="3533281">,</span>&nbsp;<span class="ident" id="3533283"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span><span class="op" id="3533287">[</span><span class="ident" id="3533288"><a href="/gostd/go/doc/reader.go.html#3533265">j</a></span><span class="op" id="3533289">]</span>&nbsp;<span class="op" id="3533291">=</span>&nbsp;<span class="ident" id="3533293"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span><span class="op" id="3533297">[</span><span class="ident" id="3533298"><a href="/gostd/go/doc/reader.go.html#3533265">j</a></span><span class="op" id="3533299">]</span><span class="op" id="3533300">,</span>&nbsp;<span class="ident" id="3533302"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span><span class="op" id="3533306">[</span><span class="ident" id="3533307"><a href="/gostd/go/doc/reader.go.html#3533262">i</a></span><span class="op" id="3533308">]</span>&nbsp;<span class="op" id="3533310">}</span><span class="op" id="3533311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3533315">len</span><span class="op" id="3533318">(</span><span class="ident" id="3533319"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span><span class="op" id="3533323">)</span><span class="op" id="3533324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3533327">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3533330">return</span>&nbsp;<span class="ident" id="3533337"><a href="/gostd/go/doc/reader.go.html#3532794">list</a></span><br>
<span class="lineno"></span><span class="op" id="3533342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3533345">//&nbsp;noteBodies&nbsp;returns&nbsp;a&nbsp;list&nbsp;of&nbsp;note&nbsp;body&nbsp;strings&nbsp;given&nbsp;a&nbsp;list&nbsp;of&nbsp;notes.</span><br>
<span class="lineno"></span><span class="comment" id="3533418">//&nbsp;This&nbsp;is&nbsp;only&nbsp;used&nbsp;to&nbsp;populate&nbsp;the&nbsp;deprecated&nbsp;Package.Bugs&nbsp;field.</span><br>
<span class="lineno">795</span><span class="comment" id="3533486">//</span><br>
<span class="lineno"></span><span class="keyword" id="3533489">func</span>&nbsp;<span class="ident" id="3533494">noteBodies</span><span class="op" id="3533504">(</span><span class="ident" id="3533505">notes</span>&nbsp;<span class="op" id="3533511">[</span><span class="op" id="3533512">]</span><span class="op" id="3533513">*</span><span class="ident" id="3533514"><a href="/gostd/go/doc/doc.go.html#3492139">Note</a></span><span class="op" id="3533518">)</span>&nbsp;<span class="op" id="3533520">[</span><span class="op" id="3533521">]</span><span class="builtintype" id="3533522">string</span>&nbsp;<span class="op" id="3533529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3533532">var</span>&nbsp;<span class="ident" id="3533536">list</span>&nbsp;<span class="op" id="3533541">[</span><span class="op" id="3533542">]</span><span class="builtintype" id="3533543">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3533551">for</span>&nbsp;<span class="ident" id="3533555">_</span><span class="op" id="3533556">,</span>&nbsp;<span class="ident" id="3533558">n</span>&nbsp;<span class="op" id="3533560">:=</span>&nbsp;<span class="keyword" id="3533563">range</span>&nbsp;<span class="ident" id="3533569"><a href="/gostd/go/doc/reader.go.html#3533505">notes</a></span>&nbsp;<span class="op" id="3533575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3533579"><a href="/gostd/go/doc/reader.go.html#3533536">list</a></span>&nbsp;<span class="op" id="3533584">=</span>&nbsp;<span class="builtinfunc" id="3533586">append</span><span class="op" id="3533592">(</span><span class="ident" id="3533593"><a href="/gostd/go/doc/reader.go.html#3533536">list</a></span><span class="op" id="3533597">,</span>&nbsp;<span class="ident" id="3533599"><a href="/gostd/go/doc/reader.go.html#3533558">n</a></span><span class="op" id="3533600">.</span><span class="ident" id="3533601"><a href="/gostd/go/doc/doc.go.html#3492278">Body</a></span><span class="op" id="3533605">)</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3533608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3533611">return</span>&nbsp;<span class="ident" id="3533618"><a href="/gostd/go/doc/reader.go.html#3533536">list</a></span><br>
<span class="lineno"></span><span class="op" id="3533623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3533626">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno">805</span><span class="comment" id="3533706">//&nbsp;Predeclared&nbsp;identifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3533734">var</span>&nbsp;<span class="ident" id="3533738">predeclaredTypes</span>&nbsp;<span class="op" id="3533755">=</span>&nbsp;<span class="keyword" id="3533757">map</span><span class="op" id="3533760">[</span><span class="builtintype" id="3533761">string</span><span class="op" id="3533767">]</span><span class="builtintype" id="3533768">bool</span><span class="op" id="3533772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533775">&#34;bool&#34;</span><span class="op" id="3533781">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3533789">true</span><span class="op" id="3533793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533796">&#34;byte&#34;</span><span class="op" id="3533802">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3533810">true</span><span class="op" id="3533814">,</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533817">&#34;complex64&#34;</span><span class="op" id="3533828">:</span>&nbsp;&nbsp;<span class="builtintype" id="3533831">true</span><span class="op" id="3533835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533838">&#34;complex128&#34;</span><span class="op" id="3533850">:</span>&nbsp;<span class="builtintype" id="3533852">true</span><span class="op" id="3533856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533859">&#34;error&#34;</span><span class="op" id="3533866">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3533873">true</span><span class="op" id="3533877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533880">&#34;float32&#34;</span><span class="op" id="3533889">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3533894">true</span><span class="op" id="3533898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533901">&#34;float64&#34;</span><span class="op" id="3533910">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3533915">true</span><span class="op" id="3533919">,</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533922">&#34;int&#34;</span><span class="op" id="3533927">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3533936">true</span><span class="op" id="3533940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533943">&#34;int8&#34;</span><span class="op" id="3533949">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3533957">true</span><span class="op" id="3533961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533964">&#34;int16&#34;</span><span class="op" id="3533971">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3533978">true</span><span class="op" id="3533982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3533985">&#34;int32&#34;</span><span class="op" id="3533992">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3533999">true</span><span class="op" id="3534003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534006">&#34;int64&#34;</span><span class="op" id="3534013">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534020">true</span><span class="op" id="3534024">,</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534027">&#34;rune&#34;</span><span class="op" id="3534033">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534041">true</span><span class="op" id="3534045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534048">&#34;string&#34;</span><span class="op" id="3534056">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534062">true</span><span class="op" id="3534066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534069">&#34;uint&#34;</span><span class="op" id="3534075">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534083">true</span><span class="op" id="3534087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534090">&#34;uint8&#34;</span><span class="op" id="3534097">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534104">true</span><span class="op" id="3534108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534111">&#34;uint16&#34;</span><span class="op" id="3534119">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534125">true</span><span class="op" id="3534129">,</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534132">&#34;uint32&#34;</span><span class="op" id="3534140">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534146">true</span><span class="op" id="3534150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534153">&#34;uint64&#34;</span><span class="op" id="3534161">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534167">true</span><span class="op" id="3534171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534174">&#34;uintptr&#34;</span><span class="op" id="3534183">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534188">true</span><span class="op" id="3534192">,</span><br>
<span class="lineno"></span><span class="op" id="3534194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">830</span><span class="keyword" id="3534197">var</span>&nbsp;<span class="ident" id="3534201">predeclaredFuncs</span>&nbsp;<span class="op" id="3534218">=</span>&nbsp;<span class="keyword" id="3534220">map</span><span class="op" id="3534223">[</span><span class="builtintype" id="3534224">string</span><span class="op" id="3534230">]</span><span class="builtintype" id="3534231">bool</span><span class="op" id="3534235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534238">&#34;append&#34;</span><span class="op" id="3534246">:</span>&nbsp;&nbsp;<span class="builtintype" id="3534249">true</span><span class="op" id="3534253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534256">&#34;cap&#34;</span><span class="op" id="3534261">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534267">true</span><span class="op" id="3534271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534274">&#34;close&#34;</span><span class="op" id="3534281">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534285">true</span><span class="op" id="3534289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534292">&#34;complex&#34;</span><span class="op" id="3534301">:</span>&nbsp;<span class="builtintype" id="3534303">true</span><span class="op" id="3534307">,</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534310">&#34;copy&#34;</span><span class="op" id="3534316">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534321">true</span><span class="op" id="3534325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534328">&#34;delete&#34;</span><span class="op" id="3534336">:</span>&nbsp;&nbsp;<span class="builtintype" id="3534339">true</span><span class="op" id="3534343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534346">&#34;imag&#34;</span><span class="op" id="3534352">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534357">true</span><span class="op" id="3534361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534364">&#34;len&#34;</span><span class="op" id="3534369">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534375">true</span><span class="op" id="3534379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534382">&#34;make&#34;</span><span class="op" id="3534388">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534393">true</span><span class="op" id="3534397">,</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534400">&#34;new&#34;</span><span class="op" id="3534405">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534411">true</span><span class="op" id="3534415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534418">&#34;panic&#34;</span><span class="op" id="3534425">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534429">true</span><span class="op" id="3534433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534436">&#34;print&#34;</span><span class="op" id="3534443">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534447">true</span><span class="op" id="3534451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534454">&#34;println&#34;</span><span class="op" id="3534463">:</span>&nbsp;<span class="builtintype" id="3534465">true</span><span class="op" id="3534469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534472">&#34;real&#34;</span><span class="op" id="3534478">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534483">true</span><span class="op" id="3534487">,</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534490">&#34;recover&#34;</span><span class="op" id="3534499">:</span>&nbsp;<span class="builtintype" id="3534501">true</span><span class="op" id="3534505">,</span><br>
<span class="lineno"></span><span class="op" id="3534507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3534510">var</span>&nbsp;<span class="ident" id="3534514">predeclaredConstants</span>&nbsp;<span class="op" id="3534535">=</span>&nbsp;<span class="keyword" id="3534537">map</span><span class="op" id="3534540">[</span><span class="builtintype" id="3534541">string</span><span class="op" id="3534547">]</span><span class="builtintype" id="3534548">bool</span><span class="op" id="3534552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534555">&#34;false&#34;</span><span class="op" id="3534562">:</span>&nbsp;<span class="builtintype" id="3534564">true</span><span class="op" id="3534568">,</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534571">&#34;iota&#34;</span><span class="op" id="3534577">:</span>&nbsp;&nbsp;<span class="builtintype" id="3534580">true</span><span class="op" id="3534584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534587">&#34;nil&#34;</span><span class="op" id="3534592">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3534596">true</span><span class="op" id="3534600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3534603">&#34;true&#34;</span><span class="op" id="3534609">:</span>&nbsp;&nbsp;<span class="builtintype" id="3534612">true</span><span class="op" id="3534616">,</span><br>
<span class="lineno"></span><span class="op" id="3534618">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
