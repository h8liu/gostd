<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5825729">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5825785">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5825839">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5825890">//&nbsp;Package&nbsp;gosym&nbsp;implements&nbsp;access&nbsp;to&nbsp;the&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="5825942">//&nbsp;and&nbsp;line&nbsp;number&nbsp;tables&nbsp;embedded&nbsp;in&nbsp;Go&nbsp;binaries&nbsp;generated</span><br>
<span class="lineno"></span><span class="comment" id="5826002">//&nbsp;by&nbsp;the&nbsp;gc&nbsp;compilers.</span><br>
<span class="lineno"></span><span class="keyword" id="5826026">package</span>&nbsp;<span class="ident" id="5826034">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="comment" id="5826041">//&nbsp;The&nbsp;table&nbsp;format&nbsp;is&nbsp;a&nbsp;variant&nbsp;of&nbsp;the&nbsp;format&nbsp;used&nbsp;in&nbsp;Plan&nbsp;9&#39;s&nbsp;a.out</span><br>
<span class="lineno"></span><span class="comment" id="5826111">//&nbsp;format,&nbsp;documented&nbsp;at&nbsp;http://plan9.bell-labs.com/magic/man2html/6/a.out.</span><br>
<span class="lineno"></span><span class="comment" id="5826187">//&nbsp;The&nbsp;best&nbsp;reference&nbsp;for&nbsp;the&nbsp;differences&nbsp;between&nbsp;the&nbsp;Plan&nbsp;9&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="5826255">//&nbsp;and&nbsp;the&nbsp;Go&nbsp;format&nbsp;is&nbsp;the&nbsp;runtime&nbsp;source,&nbsp;specifically&nbsp;../../runtime/symtab.c.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="5826337">import</span>&nbsp;<span class="op" id="5826344">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5826347">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5826356">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5826375">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5826382">&#34;strconv&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5826393">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="5826403">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5826406">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbols<br>
<span class="lineno">25</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5826425">//&nbsp;A&nbsp;Sym&nbsp;represents&nbsp;a&nbsp;single&nbsp;symbol&nbsp;table&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5826474">type</span>&nbsp;<span class="ident" id="5826479">Sym</span>&nbsp;<span class="keyword" id="5826483">struct</span>&nbsp;<span class="op" id="5826490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826493">Value</span>&nbsp;&nbsp;<span class="ident" id="5826500">uint64</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826508">Type</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5826515">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826521">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5826528">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826536">GoType</span>&nbsp;<span class="ident" id="5826543">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5826551">//&nbsp;If&nbsp;this&nbsp;symbol&nbsp;if&nbsp;a&nbsp;function&nbsp;symbol,&nbsp;the&nbsp;corresponding&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826615">Func</span>&nbsp;<span class="op" id="5826620">*</span><span class="ident" id="5826621">Func</span><br>
<span class="lineno">35</span><span class="op" id="5826626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5826629">//&nbsp;Static&nbsp;reports&nbsp;whether&nbsp;this&nbsp;symbol&nbsp;is&nbsp;static&nbsp;(not&nbsp;visible&nbsp;outside&nbsp;its&nbsp;file).</span><br>
<span class="lineno"></span><span class="keyword" id="5826709">func</span>&nbsp;<span class="op" id="5826714">(</span><span class="ident" id="5826715">s</span>&nbsp;<span class="op" id="5826717">*</span><span class="ident" id="5826718">Sym</span><span class="op" id="5826721">)</span>&nbsp;<span class="ident" id="5826723">Static</span><span class="op" id="5826729">(</span><span class="op" id="5826730">)</span>&nbsp;<span class="builtintype" id="5826732">bool</span>&nbsp;<span class="op" id="5826737">{</span>&nbsp;<span class="keyword" id="5826739">return</span>&nbsp;<span class="ident" id="5826746">s</span><span class="op" id="5826747">.</span><span class="ident" id="5826748">Type</span>&nbsp;<span class="op" id="5826753">&gt;=</span>&nbsp;<span class="string" id="5826756">&#39;a&#39;</span>&nbsp;<span class="op" id="5826760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="5826763">//&nbsp;PackageName&nbsp;returns&nbsp;the&nbsp;package&nbsp;part&nbsp;of&nbsp;the&nbsp;symbol&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5826823">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="5826864">func</span>&nbsp;<span class="op" id="5826869">(</span><span class="ident" id="5826870">s</span>&nbsp;<span class="op" id="5826872">*</span><span class="ident" id="5826873">Sym</span><span class="op" id="5826876">)</span>&nbsp;<span class="ident" id="5826878">PackageName</span><span class="op" id="5826889">(</span><span class="op" id="5826890">)</span>&nbsp;<span class="builtintype" id="5826892">string</span>&nbsp;<span class="op" id="5826899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826902">if</span>&nbsp;<span class="ident" id="5826905">i</span>&nbsp;<span class="op" id="5826907">:=</span>&nbsp;<span class="ident" id="5826910">strings</span><span class="op" id="5826917">.</span><span class="ident" id="5826918">Index</span><span class="op" id="5826923">(</span><span class="ident" id="5826924">s</span><span class="op" id="5826925">.</span><span class="ident" id="5826926">Name</span><span class="op" id="5826930">,</span>&nbsp;<span class="string" id="5826932">&#34;.&#34;</span><span class="op" id="5826935">)</span><span class="op" id="5826936">;</span>&nbsp;<span class="ident" id="5826938">i</span>&nbsp;<span class="op" id="5826940">!=</span>&nbsp;<span class="op" id="5826943">-</span><span class="num" id="5826944">1</span>&nbsp;<span class="op" id="5826946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826950">return</span>&nbsp;<span class="ident" id="5826957">s</span><span class="op" id="5826958">.</span><span class="ident" id="5826959">Name</span><span class="op" id="5826963">[</span><span class="num" id="5826964">0</span><span class="op" id="5826965">:</span><span class="ident" id="5826966">i</span><span class="op" id="5826967">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5826970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826973">return</span>&nbsp;<span class="string" id="5826980">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="5826983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5826986">//&nbsp;ReceiverName&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;name&nbsp;of&nbsp;this&nbsp;symbol,</span><br>
<span class="lineno">50</span><span class="comment" id="5827049">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="5827090">func</span>&nbsp;<span class="op" id="5827095">(</span><span class="ident" id="5827096">s</span>&nbsp;<span class="op" id="5827098">*</span><span class="ident" id="5827099">Sym</span><span class="op" id="5827102">)</span>&nbsp;<span class="ident" id="5827104">ReceiverName</span><span class="op" id="5827116">(</span><span class="op" id="5827117">)</span>&nbsp;<span class="builtintype" id="5827119">string</span>&nbsp;<span class="op" id="5827126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827129">l</span>&nbsp;<span class="op" id="5827131">:=</span>&nbsp;<span class="ident" id="5827134">strings</span><span class="op" id="5827141">.</span><span class="ident" id="5827142">Index</span><span class="op" id="5827147">(</span><span class="ident" id="5827148">s</span><span class="op" id="5827149">.</span><span class="ident" id="5827150">Name</span><span class="op" id="5827154">,</span>&nbsp;<span class="string" id="5827156">&#34;.&#34;</span><span class="op" id="5827159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827162">r</span>&nbsp;<span class="op" id="5827164">:=</span>&nbsp;<span class="ident" id="5827167">strings</span><span class="op" id="5827174">.</span><span class="ident" id="5827175">LastIndex</span><span class="op" id="5827184">(</span><span class="ident" id="5827185">s</span><span class="op" id="5827186">.</span><span class="ident" id="5827187">Name</span><span class="op" id="5827191">,</span>&nbsp;<span class="string" id="5827193">&#34;.&#34;</span><span class="op" id="5827196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827199">if</span>&nbsp;<span class="ident" id="5827202">l</span>&nbsp;<span class="op" id="5827204">==</span>&nbsp;<span class="op" id="5827207">-</span><span class="num" id="5827208">1</span>&nbsp;<span class="op" id="5827210">||</span>&nbsp;<span class="ident" id="5827213">r</span>&nbsp;<span class="op" id="5827215">==</span>&nbsp;<span class="op" id="5827218">-</span><span class="num" id="5827219">1</span>&nbsp;<span class="op" id="5827221">||</span>&nbsp;<span class="ident" id="5827224">l</span>&nbsp;<span class="op" id="5827226">==</span>&nbsp;<span class="ident" id="5827229">r</span>&nbsp;<span class="op" id="5827231">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827235">return</span>&nbsp;<span class="string" id="5827242">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827249">return</span>&nbsp;<span class="ident" id="5827256">s</span><span class="op" id="5827257">.</span><span class="ident" id="5827258">Name</span><span class="op" id="5827262">[</span><span class="ident" id="5827263">l</span><span class="op" id="5827264">+</span><span class="num" id="5827265">1</span>&nbsp;<span class="op" id="5827267">:</span>&nbsp;<span class="ident" id="5827269">r</span><span class="op" id="5827270">]</span><br>
<span class="lineno"></span><span class="op" id="5827272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="5827275">//&nbsp;BaseName&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;name&nbsp;without&nbsp;the&nbsp;package&nbsp;or&nbsp;receiver&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="5827349">func</span>&nbsp;<span class="op" id="5827354">(</span><span class="ident" id="5827355">s</span>&nbsp;<span class="op" id="5827357">*</span><span class="ident" id="5827358">Sym</span><span class="op" id="5827361">)</span>&nbsp;<span class="ident" id="5827363">BaseName</span><span class="op" id="5827371">(</span><span class="op" id="5827372">)</span>&nbsp;<span class="builtintype" id="5827374">string</span>&nbsp;<span class="op" id="5827381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827384">if</span>&nbsp;<span class="ident" id="5827387">i</span>&nbsp;<span class="op" id="5827389">:=</span>&nbsp;<span class="ident" id="5827392">strings</span><span class="op" id="5827399">.</span><span class="ident" id="5827400">LastIndex</span><span class="op" id="5827409">(</span><span class="ident" id="5827410">s</span><span class="op" id="5827411">.</span><span class="ident" id="5827412">Name</span><span class="op" id="5827416">,</span>&nbsp;<span class="string" id="5827418">&#34;.&#34;</span><span class="op" id="5827421">)</span><span class="op" id="5827422">;</span>&nbsp;<span class="ident" id="5827424">i</span>&nbsp;<span class="op" id="5827426">!=</span>&nbsp;<span class="op" id="5827429">-</span><span class="num" id="5827430">1</span>&nbsp;<span class="op" id="5827432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827436">return</span>&nbsp;<span class="ident" id="5827443">s</span><span class="op" id="5827444">.</span><span class="ident" id="5827445">Name</span><span class="op" id="5827449">[</span><span class="ident" id="5827450">i</span><span class="op" id="5827451">+</span><span class="num" id="5827452">1</span><span class="op" id="5827453">:</span><span class="op" id="5827454">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827457">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827460">return</span>&nbsp;<span class="ident" id="5827467">s</span><span class="op" id="5827468">.</span><span class="ident" id="5827469">Name</span><br>
<span class="lineno"></span><span class="op" id="5827474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5827477">//&nbsp;A&nbsp;Func&nbsp;collects&nbsp;information&nbsp;about&nbsp;a&nbsp;single&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="5827533">type</span>&nbsp;<span class="ident" id="5827538">Func</span>&nbsp;<span class="keyword" id="5827543">struct</span>&nbsp;<span class="op" id="5827550">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827553">Entry</span>&nbsp;<span class="ident" id="5827559">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827567">*</span><span class="ident" id="5827568">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827573">End</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827583">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827591">Params</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827601">[</span><span class="op" id="5827602">]</span><span class="op" id="5827603">*</span><span class="ident" id="5827604">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827609">Locals</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827619">[</span><span class="op" id="5827620">]</span><span class="op" id="5827621">*</span><span class="ident" id="5827622">Sym</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827627">FrameSize</span>&nbsp;<span class="builtintype" id="5827637">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827642">LineTable</span>&nbsp;<span class="op" id="5827652">*</span><span class="ident" id="5827653">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827664">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827674">*</span><span class="ident" id="5827675">Obj</span><br>
<span class="lineno"></span><span class="op" id="5827679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="5827682">//&nbsp;An&nbsp;Obj&nbsp;represents&nbsp;a&nbsp;collection&nbsp;of&nbsp;functions&nbsp;in&nbsp;a&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="5827748">//</span><br>
<span class="lineno"></span><span class="comment" id="5827751">//&nbsp;The&nbsp;exact&nbsp;method&nbsp;of&nbsp;division&nbsp;of&nbsp;a&nbsp;binary&nbsp;into&nbsp;separate&nbsp;Objs&nbsp;is&nbsp;an&nbsp;internal&nbsp;detail</span><br>
<span class="lineno"></span><span class="comment" id="5827836">//&nbsp;of&nbsp;the&nbsp;symbol&nbsp;table&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5827867">//</span><br>
<span class="lineno">85</span><span class="comment" id="5827870">//&nbsp;In&nbsp;early&nbsp;versions&nbsp;of&nbsp;Go&nbsp;each&nbsp;source&nbsp;file&nbsp;became&nbsp;a&nbsp;different&nbsp;Obj.</span><br>
<span class="lineno"></span><span class="comment" id="5827938">//</span><br>
<span class="lineno"></span><span class="comment" id="5827941">//&nbsp;In&nbsp;Go&nbsp;1&nbsp;and&nbsp;Go&nbsp;1.1,&nbsp;each&nbsp;package&nbsp;produced&nbsp;one&nbsp;Obj&nbsp;for&nbsp;all&nbsp;Go&nbsp;sources</span><br>
<span class="lineno"></span><span class="comment" id="5828013">//&nbsp;and&nbsp;one&nbsp;Obj&nbsp;per&nbsp;C&nbsp;source&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="5828047">//</span><br>
<span class="lineno">90</span><span class="comment" id="5828050">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;there&nbsp;is&nbsp;a&nbsp;single&nbsp;Obj&nbsp;for&nbsp;the&nbsp;entire&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="5828110">type</span>&nbsp;<span class="ident" id="5828115">Obj</span>&nbsp;<span class="keyword" id="5828119">struct</span>&nbsp;<span class="op" id="5828126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5828129">//&nbsp;Funcs&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;functions&nbsp;in&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828174">Funcs</span>&nbsp;<span class="op" id="5828180">[</span><span class="op" id="5828181">]</span><span class="ident" id="5828182">Func</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5828189">//&nbsp;In&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;Paths&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;symbols&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5828257">//&nbsp;to&nbsp;the&nbsp;source&nbsp;file&nbsp;names&nbsp;that&nbsp;produced&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5828309">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;Paths&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5828338">//&nbsp;Use&nbsp;the&nbsp;keys&nbsp;of&nbsp;Table.Files&nbsp;to&nbsp;obtain&nbsp;a&nbsp;list&nbsp;of&nbsp;source&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828404">Paths</span>&nbsp;<span class="op" id="5828410">[</span><span class="op" id="5828411">]</span><span class="ident" id="5828412">Sym</span>&nbsp;<span class="comment" id="5828416">//&nbsp;meta</span><br>
<span class="lineno">100</span><span class="op" id="5828424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5828427">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbol&nbsp;tables<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="5828452">//&nbsp;Table&nbsp;represents&nbsp;a&nbsp;Go&nbsp;symbol&nbsp;table.&nbsp;&nbsp;It&nbsp;stores&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5828513">//&nbsp;symbols&nbsp;decoded&nbsp;from&nbsp;the&nbsp;program&nbsp;and&nbsp;provides&nbsp;methods&nbsp;to&nbsp;translate</span><br>
<span class="lineno"></span><span class="comment" id="5828583">//&nbsp;between&nbsp;symbols,&nbsp;names,&nbsp;and&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="5828625">type</span>&nbsp;<span class="ident" id="5828630">Table</span>&nbsp;<span class="keyword" id="5828636">struct</span>&nbsp;<span class="op" id="5828643">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828646">Syms</span>&nbsp;&nbsp;<span class="op" id="5828652">[</span><span class="op" id="5828653">]</span><span class="ident" id="5828654">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828659">Funcs</span>&nbsp;<span class="op" id="5828665">[</span><span class="op" id="5828666">]</span><span class="ident" id="5828667">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828673">Files</span>&nbsp;<span class="keyword" id="5828679">map</span><span class="op" id="5828682">[</span><span class="builtintype" id="5828683">string</span><span class="op" id="5828689">]</span><span class="op" id="5828690">*</span><span class="ident" id="5828691">Obj</span>&nbsp;<span class="comment" id="5828695">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828733">Objs</span>&nbsp;&nbsp;<span class="op" id="5828739">[</span><span class="op" id="5828740">]</span><span class="ident" id="5828741">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828755">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828794">go12line</span>&nbsp;<span class="op" id="5828803">*</span><span class="ident" id="5828804">LineTable</span>&nbsp;<span class="comment" id="5828814">//&nbsp;Go&nbsp;1.2&nbsp;line&nbsp;number&nbsp;table</span><br>
<span class="lineno"></span><span class="op" id="5828842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5828845">type</span>&nbsp;<span class="ident" id="5828850">sym</span>&nbsp;<span class="keyword" id="5828854">struct</span>&nbsp;<span class="op" id="5828861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828864">value</span>&nbsp;&nbsp;<span class="ident" id="5828871">uint64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828879">gotype</span>&nbsp;<span class="ident" id="5828886">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828894">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5828901">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828907">name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5828914">[</span><span class="op" id="5828915">]</span><span class="builtintype" id="5828916">byte</span><br>
<span class="lineno"></span><span class="op" id="5828921">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="5828924">var</span>&nbsp;<span class="op" id="5828928">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828931">littleEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828953">=</span>&nbsp;<span class="op" id="5828955">[</span><span class="op" id="5828956">]</span><span class="builtintype" id="5828957">byte</span><span class="op" id="5828961">{</span><span class="num" id="5828962">0xFD</span><span class="op" id="5828966">,</span>&nbsp;<span class="num" id="5828968">0xFF</span><span class="op" id="5828972">,</span>&nbsp;<span class="num" id="5828974">0xFF</span><span class="op" id="5828978">,</span>&nbsp;<span class="num" id="5828980">0xFF</span><span class="op" id="5828984">,</span>&nbsp;<span class="num" id="5828986">0x00</span><span class="op" id="5828990">,</span>&nbsp;<span class="num" id="5828992">0x00</span><span class="op" id="5828996">,</span>&nbsp;<span class="num" id="5828998">0x00</span><span class="op" id="5829002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829005">bigEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829027">=</span>&nbsp;<span class="op" id="5829029">[</span><span class="op" id="5829030">]</span><span class="builtintype" id="5829031">byte</span><span class="op" id="5829035">{</span><span class="num" id="5829036">0xFF</span><span class="op" id="5829040">,</span>&nbsp;<span class="num" id="5829042">0xFF</span><span class="op" id="5829046">,</span>&nbsp;<span class="num" id="5829048">0xFF</span><span class="op" id="5829052">,</span>&nbsp;<span class="num" id="5829054">0xFD</span><span class="op" id="5829058">,</span>&nbsp;<span class="num" id="5829060">0x00</span><span class="op" id="5829064">,</span>&nbsp;<span class="num" id="5829066">0x00</span><span class="op" id="5829070">,</span>&nbsp;<span class="num" id="5829072">0x00</span><span class="op" id="5829076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829079">oldLittleEndianSymtab</span>&nbsp;<span class="op" id="5829101">=</span>&nbsp;<span class="op" id="5829103">[</span><span class="op" id="5829104">]</span><span class="builtintype" id="5829105">byte</span><span class="op" id="5829109">{</span><span class="num" id="5829110">0xFE</span><span class="op" id="5829114">,</span>&nbsp;<span class="num" id="5829116">0xFF</span><span class="op" id="5829120">,</span>&nbsp;<span class="num" id="5829122">0xFF</span><span class="op" id="5829126">,</span>&nbsp;<span class="num" id="5829128">0xFF</span><span class="op" id="5829132">,</span>&nbsp;<span class="num" id="5829134">0x00</span><span class="op" id="5829138">,</span>&nbsp;<span class="num" id="5829140">0x00</span><span class="op" id="5829144">}</span><br>
<span class="lineno"></span><span class="op" id="5829146">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="5829149">func</span>&nbsp;<span class="ident" id="5829154">walksymtab</span><span class="op" id="5829164">(</span><span class="ident" id="5829165">data</span>&nbsp;<span class="op" id="5829170">[</span><span class="op" id="5829171">]</span><span class="builtintype" id="5829172">byte</span><span class="op" id="5829176">,</span>&nbsp;<span class="ident" id="5829178">fn</span>&nbsp;<span class="keyword" id="5829181">func</span><span class="op" id="5829185">(</span><span class="ident" id="5829186">sym</span><span class="op" id="5829189">)</span>&nbsp;<span class="builtintype" id="5829191">error</span><span class="op" id="5829196">)</span>&nbsp;<span class="builtintype" id="5829198">error</span>&nbsp;<span class="op" id="5829204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829207">if</span>&nbsp;<span class="builtinfunc" id="5829210">len</span><span class="op" id="5829213">(</span><span class="ident" id="5829214">data</span><span class="op" id="5829218">)</span>&nbsp;<span class="op" id="5829220">==</span>&nbsp;<span class="num" id="5829223">0</span>&nbsp;<span class="op" id="5829225">{</span>&nbsp;<span class="comment" id="5829227">//&nbsp;missing&nbsp;symtab&nbsp;is&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829255">return</span>&nbsp;<span class="ident" id="5829262">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5829267">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829270">var</span>&nbsp;<span class="ident" id="5829274">order</span>&nbsp;<span class="ident" id="5829280">binary</span><span class="op" id="5829286">.</span><span class="ident" id="5829287">ByteOrder</span>&nbsp;<span class="op" id="5829297">=</span>&nbsp;<span class="ident" id="5829299">binary</span><span class="op" id="5829305">.</span><span class="ident" id="5829306">BigEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829317">newTable</span>&nbsp;<span class="op" id="5829326">:=</span>&nbsp;<span class="builtintype" id="5829329">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829336">switch</span>&nbsp;<span class="op" id="5829343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829346">case</span>&nbsp;<span class="ident" id="5829351">bytes</span><span class="op" id="5829356">.</span><span class="ident" id="5829357">HasPrefix</span><span class="op" id="5829366">(</span><span class="ident" id="5829367">data</span><span class="op" id="5829371">,</span>&nbsp;<span class="ident" id="5829373">oldLittleEndianSymtab</span><span class="op" id="5829394">)</span><span class="op" id="5829395">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5829399">//&nbsp;Same&nbsp;as&nbsp;Go&nbsp;1.0,&nbsp;but&nbsp;little&nbsp;endian.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5829439">//&nbsp;Format&nbsp;was&nbsp;used&nbsp;during&nbsp;interim&nbsp;development&nbsp;between&nbsp;Go&nbsp;1.0&nbsp;and&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5829514">//&nbsp;Should&nbsp;not&nbsp;be&nbsp;widespread,&nbsp;but&nbsp;easy&nbsp;to&nbsp;support.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829566">data</span>&nbsp;<span class="op" id="5829571">=</span>&nbsp;<span class="ident" id="5829573">data</span><span class="op" id="5829577">[</span><span class="num" id="5829578">6</span><span class="op" id="5829579">:</span><span class="op" id="5829580">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829584">order</span>&nbsp;<span class="op" id="5829590">=</span>&nbsp;<span class="ident" id="5829592">binary</span><span class="op" id="5829598">.</span><span class="ident" id="5829599">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829613">case</span>&nbsp;<span class="ident" id="5829618">bytes</span><span class="op" id="5829623">.</span><span class="ident" id="5829624">HasPrefix</span><span class="op" id="5829633">(</span><span class="ident" id="5829634">data</span><span class="op" id="5829638">,</span>&nbsp;<span class="ident" id="5829640">bigEndianSymtab</span><span class="op" id="5829655">)</span><span class="op" id="5829656">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829660">newTable</span>&nbsp;<span class="op" id="5829669">=</span>&nbsp;<span class="builtintype" id="5829671">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829677">case</span>&nbsp;<span class="ident" id="5829682">bytes</span><span class="op" id="5829687">.</span><span class="ident" id="5829688">HasPrefix</span><span class="op" id="5829697">(</span><span class="ident" id="5829698">data</span><span class="op" id="5829702">,</span>&nbsp;<span class="ident" id="5829704">littleEndianSymtab</span><span class="op" id="5829722">)</span><span class="op" id="5829723">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829727">newTable</span>&nbsp;<span class="op" id="5829736">=</span>&nbsp;<span class="builtintype" id="5829738">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829745">order</span>&nbsp;<span class="op" id="5829751">=</span>&nbsp;<span class="ident" id="5829753">binary</span><span class="op" id="5829759">.</span><span class="ident" id="5829760">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5829774">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829777">var</span>&nbsp;<span class="ident" id="5829781">ptrsz</span>&nbsp;<span class="builtintype" id="5829787">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829792">if</span>&nbsp;<span class="ident" id="5829795">newTable</span>&nbsp;<span class="op" id="5829804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829808">if</span>&nbsp;<span class="builtinfunc" id="5829811">len</span><span class="op" id="5829814">(</span><span class="ident" id="5829815">data</span><span class="op" id="5829819">)</span>&nbsp;<span class="op" id="5829821">&lt;</span>&nbsp;<span class="num" id="5829823">8</span>&nbsp;<span class="op" id="5829825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829830">return</span>&nbsp;<span class="op" id="5829837">&amp;</span><span class="ident" id="5829838">DecodingError</span><span class="op" id="5829851">{</span><span class="builtinfunc" id="5829852">len</span><span class="op" id="5829855">(</span><span class="ident" id="5829856">data</span><span class="op" id="5829860">)</span><span class="op" id="5829861">,</span>&nbsp;<span class="string" id="5829863">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5829879">,</span>&nbsp;<span class="ident" id="5829881">nil</span><span class="op" id="5829884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5829888">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829892">ptrsz</span>&nbsp;<span class="op" id="5829898">=</span>&nbsp;<span class="builtintype" id="5829900">int</span><span class="op" id="5829903">(</span><span class="ident" id="5829904">data</span><span class="op" id="5829908">[</span><span class="num" id="5829909">7</span><span class="op" id="5829910">]</span><span class="op" id="5829911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829915">if</span>&nbsp;<span class="ident" id="5829918">ptrsz</span>&nbsp;<span class="op" id="5829924">!=</span>&nbsp;<span class="num" id="5829927">4</span>&nbsp;<span class="op" id="5829929">&amp;&amp;</span>&nbsp;<span class="ident" id="5829932">ptrsz</span>&nbsp;<span class="op" id="5829938">!=</span>&nbsp;<span class="num" id="5829941">8</span>&nbsp;<span class="op" id="5829943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829948">return</span>&nbsp;<span class="op" id="5829955">&amp;</span><span class="ident" id="5829956">DecodingError</span><span class="op" id="5829969">{</span><span class="num" id="5829970">7</span><span class="op" id="5829971">,</span>&nbsp;<span class="string" id="5829973">&#34;invalid&nbsp;pointer&nbsp;size&#34;</span><span class="op" id="5829995">,</span>&nbsp;<span class="ident" id="5829997">ptrsz</span><span class="op" id="5830002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830010">data</span>&nbsp;<span class="op" id="5830015">=</span>&nbsp;<span class="ident" id="5830017">data</span><span class="op" id="5830021">[</span><span class="num" id="5830022">8</span><span class="op" id="5830023">:</span><span class="op" id="5830024">]</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830030">var</span>&nbsp;<span class="ident" id="5830034">s</span>&nbsp;<span class="ident" id="5830036">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830041">p</span>&nbsp;<span class="op" id="5830043">:=</span>&nbsp;<span class="ident" id="5830046">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830052">for</span>&nbsp;<span class="builtinfunc" id="5830056">len</span><span class="op" id="5830059">(</span><span class="ident" id="5830060">p</span><span class="op" id="5830061">)</span>&nbsp;<span class="op" id="5830063">&gt;=</span>&nbsp;<span class="num" id="5830066">4</span>&nbsp;<span class="op" id="5830068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830072">var</span>&nbsp;<span class="ident" id="5830076">typ</span>&nbsp;<span class="builtintype" id="5830080">byte</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830087">if</span>&nbsp;<span class="ident" id="5830090">newTable</span>&nbsp;<span class="op" id="5830099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5830104">//&nbsp;Symbol&nbsp;type,&nbsp;value,&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830139">typ</span>&nbsp;<span class="op" id="5830143">=</span>&nbsp;<span class="ident" id="5830145">p</span><span class="op" id="5830146">[</span><span class="num" id="5830147">0</span><span class="op" id="5830148">]</span>&nbsp;<span class="op" id="5830150">&amp;</span>&nbsp;<span class="num" id="5830152">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830160">wideValue</span>&nbsp;<span class="op" id="5830170">:=</span>&nbsp;<span class="ident" id="5830173">p</span><span class="op" id="5830174">[</span><span class="num" id="5830175">0</span><span class="op" id="5830176">]</span><span class="op" id="5830177">&amp;</span><span class="num" id="5830178">0x40</span>&nbsp;<span class="op" id="5830183">!=</span>&nbsp;<span class="num" id="5830186">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830191">goType</span>&nbsp;<span class="op" id="5830198">:=</span>&nbsp;<span class="ident" id="5830201">p</span><span class="op" id="5830202">[</span><span class="num" id="5830203">0</span><span class="op" id="5830204">]</span><span class="op" id="5830205">&amp;</span><span class="num" id="5830206">0x80</span>&nbsp;<span class="op" id="5830211">!=</span>&nbsp;<span class="num" id="5830214">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830219">if</span>&nbsp;<span class="ident" id="5830222">typ</span>&nbsp;<span class="op" id="5830226">&lt;</span>&nbsp;<span class="num" id="5830228">26</span>&nbsp;<span class="op" id="5830231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830237">typ</span>&nbsp;<span class="op" id="5830241">+=</span>&nbsp;<span class="string" id="5830244">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830251">}</span>&nbsp;<span class="keyword" id="5830253">else</span>&nbsp;<span class="op" id="5830258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830264">typ</span>&nbsp;<span class="op" id="5830268">+=</span>&nbsp;<span class="string" id="5830271">&#39;a&#39;</span>&nbsp;<span class="op" id="5830275">-</span>&nbsp;<span class="num" id="5830277">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830283">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830288">s</span><span class="op" id="5830289">.</span><span class="ident" id="5830290">typ</span>&nbsp;<span class="op" id="5830294">=</span>&nbsp;<span class="ident" id="5830296">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830303">p</span>&nbsp;<span class="op" id="5830305">=</span>&nbsp;<span class="ident" id="5830307">p</span><span class="op" id="5830308">[</span><span class="num" id="5830309">1</span><span class="op" id="5830310">:</span><span class="op" id="5830311">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830316">if</span>&nbsp;<span class="ident" id="5830319">wideValue</span>&nbsp;<span class="op" id="5830329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830335">if</span>&nbsp;<span class="builtinfunc" id="5830338">len</span><span class="op" id="5830341">(</span><span class="ident" id="5830342">p</span><span class="op" id="5830343">)</span>&nbsp;<span class="op" id="5830345">&lt;</span>&nbsp;<span class="ident" id="5830347">ptrsz</span>&nbsp;<span class="op" id="5830353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830360">return</span>&nbsp;<span class="op" id="5830367">&amp;</span><span class="ident" id="5830368">DecodingError</span><span class="op" id="5830381">{</span><span class="builtinfunc" id="5830382">len</span><span class="op" id="5830385">(</span><span class="ident" id="5830386">data</span><span class="op" id="5830390">)</span><span class="op" id="5830391">,</span>&nbsp;<span class="string" id="5830393">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5830409">,</span>&nbsp;<span class="ident" id="5830411">nil</span><span class="op" id="5830414">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5830426">//&nbsp;fixed-width&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830451">if</span>&nbsp;<span class="ident" id="5830454">ptrsz</span>&nbsp;<span class="op" id="5830460">==</span>&nbsp;<span class="num" id="5830463">8</span>&nbsp;<span class="op" id="5830465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830472">s</span><span class="op" id="5830473">.</span><span class="ident" id="5830474">value</span>&nbsp;<span class="op" id="5830480">=</span>&nbsp;<span class="ident" id="5830482">order</span><span class="op" id="5830487">.</span><span class="ident" id="5830488">Uint64</span><span class="op" id="5830494">(</span><span class="ident" id="5830495">p</span><span class="op" id="5830496">[</span><span class="num" id="5830497">0</span><span class="op" id="5830498">:</span><span class="num" id="5830499">8</span><span class="op" id="5830500">]</span><span class="op" id="5830501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830508">p</span>&nbsp;<span class="op" id="5830510">=</span>&nbsp;<span class="ident" id="5830512">p</span><span class="op" id="5830513">[</span><span class="num" id="5830514">8</span><span class="op" id="5830515">:</span><span class="op" id="5830516">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830522">}</span>&nbsp;<span class="keyword" id="5830524">else</span>&nbsp;<span class="op" id="5830529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830536">s</span><span class="op" id="5830537">.</span><span class="ident" id="5830538">value</span>&nbsp;<span class="op" id="5830544">=</span>&nbsp;<span class="ident" id="5830546">uint64</span><span class="op" id="5830552">(</span><span class="ident" id="5830553">order</span><span class="op" id="5830558">.</span><span class="ident" id="5830559">Uint32</span><span class="op" id="5830565">(</span><span class="ident" id="5830566">p</span><span class="op" id="5830567">[</span><span class="num" id="5830568">0</span><span class="op" id="5830569">:</span><span class="num" id="5830570">4</span><span class="op" id="5830571">]</span><span class="op" id="5830572">)</span><span class="op" id="5830573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830580">p</span>&nbsp;<span class="op" id="5830582">=</span>&nbsp;<span class="ident" id="5830584">p</span><span class="op" id="5830585">[</span><span class="num" id="5830586">4</span><span class="op" id="5830587">:</span><span class="op" id="5830588">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830599">}</span>&nbsp;<span class="keyword" id="5830601">else</span>&nbsp;<span class="op" id="5830606">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5830612">//&nbsp;varint&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830632">s</span><span class="op" id="5830633">.</span><span class="ident" id="5830634">value</span>&nbsp;<span class="op" id="5830640">=</span>&nbsp;<span class="num" id="5830642">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830648">shift</span>&nbsp;<span class="op" id="5830654">:=</span>&nbsp;<span class="builtintype" id="5830657">uint</span><span class="op" id="5830661">(</span><span class="num" id="5830662">0</span><span class="op" id="5830663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830669">for</span>&nbsp;<span class="builtinfunc" id="5830673">len</span><span class="op" id="5830676">(</span><span class="ident" id="5830677">p</span><span class="op" id="5830678">)</span>&nbsp;<span class="op" id="5830680">&gt;</span>&nbsp;<span class="num" id="5830682">0</span>&nbsp;<span class="op" id="5830684">&amp;&amp;</span>&nbsp;<span class="ident" id="5830687">p</span><span class="op" id="5830688">[</span><span class="num" id="5830689">0</span><span class="op" id="5830690">]</span><span class="op" id="5830691">&amp;</span><span class="num" id="5830692">0x80</span>&nbsp;<span class="op" id="5830697">!=</span>&nbsp;<span class="num" id="5830700">0</span>&nbsp;<span class="op" id="5830702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830709">s</span><span class="op" id="5830710">.</span><span class="ident" id="5830711">value</span>&nbsp;<span class="op" id="5830717">|=</span>&nbsp;<span class="ident" id="5830720">uint64</span><span class="op" id="5830726">(</span><span class="ident" id="5830727">p</span><span class="op" id="5830728">[</span><span class="num" id="5830729">0</span><span class="op" id="5830730">]</span><span class="op" id="5830731">&amp;</span><span class="num" id="5830732">0x7F</span><span class="op" id="5830736">)</span>&nbsp;<span class="op" id="5830738">&lt;&lt;</span>&nbsp;<span class="ident" id="5830741">shift</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830752">shift</span>&nbsp;<span class="op" id="5830758">+=</span>&nbsp;<span class="num" id="5830761">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830768">p</span>&nbsp;<span class="op" id="5830770">=</span>&nbsp;<span class="ident" id="5830772">p</span><span class="op" id="5830773">[</span><span class="num" id="5830774">1</span><span class="op" id="5830775">:</span><span class="op" id="5830776">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830788">if</span>&nbsp;<span class="builtinfunc" id="5830791">len</span><span class="op" id="5830794">(</span><span class="ident" id="5830795">p</span><span class="op" id="5830796">)</span>&nbsp;<span class="op" id="5830798">==</span>&nbsp;<span class="num" id="5830801">0</span>&nbsp;<span class="op" id="5830803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830810">return</span>&nbsp;<span class="op" id="5830817">&amp;</span><span class="ident" id="5830818">DecodingError</span><span class="op" id="5830831">{</span><span class="builtinfunc" id="5830832">len</span><span class="op" id="5830835">(</span><span class="ident" id="5830836">data</span><span class="op" id="5830840">)</span><span class="op" id="5830841">,</span>&nbsp;<span class="string" id="5830843">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5830859">,</span>&nbsp;<span class="ident" id="5830861">nil</span><span class="op" id="5830864">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830876">s</span><span class="op" id="5830877">.</span><span class="ident" id="5830878">value</span>&nbsp;<span class="op" id="5830884">|=</span>&nbsp;<span class="ident" id="5830887">uint64</span><span class="op" id="5830893">(</span><span class="ident" id="5830894">p</span><span class="op" id="5830895">[</span><span class="num" id="5830896">0</span><span class="op" id="5830897">]</span><span class="op" id="5830898">)</span>&nbsp;<span class="op" id="5830900">&lt;&lt;</span>&nbsp;<span class="ident" id="5830903">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830913">p</span>&nbsp;<span class="op" id="5830915">=</span>&nbsp;<span class="ident" id="5830917">p</span><span class="op" id="5830918">[</span><span class="num" id="5830919">1</span><span class="op" id="5830920">:</span><span class="op" id="5830921">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830931">if</span>&nbsp;<span class="ident" id="5830934">goType</span>&nbsp;<span class="op" id="5830941">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830947">if</span>&nbsp;<span class="builtinfunc" id="5830950">len</span><span class="op" id="5830953">(</span><span class="ident" id="5830954">p</span><span class="op" id="5830955">)</span>&nbsp;<span class="op" id="5830957">&lt;</span>&nbsp;<span class="ident" id="5830959">ptrsz</span>&nbsp;<span class="op" id="5830965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830972">return</span>&nbsp;<span class="op" id="5830979">&amp;</span><span class="ident" id="5830980">DecodingError</span><span class="op" id="5830993">{</span><span class="builtinfunc" id="5830994">len</span><span class="op" id="5830997">(</span><span class="ident" id="5830998">data</span><span class="op" id="5831002">)</span><span class="op" id="5831003">,</span>&nbsp;<span class="string" id="5831005">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5831021">,</span>&nbsp;<span class="ident" id="5831023">nil</span><span class="op" id="5831026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5831038">//&nbsp;fixed-width&nbsp;go&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831065">if</span>&nbsp;<span class="ident" id="5831068">ptrsz</span>&nbsp;<span class="op" id="5831074">==</span>&nbsp;<span class="num" id="5831077">8</span>&nbsp;<span class="op" id="5831079">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831086">s</span><span class="op" id="5831087">.</span><span class="ident" id="5831088">gotype</span>&nbsp;<span class="op" id="5831095">=</span>&nbsp;<span class="ident" id="5831097">order</span><span class="op" id="5831102">.</span><span class="ident" id="5831103">Uint64</span><span class="op" id="5831109">(</span><span class="ident" id="5831110">p</span><span class="op" id="5831111">[</span><span class="num" id="5831112">0</span><span class="op" id="5831113">:</span><span class="num" id="5831114">8</span><span class="op" id="5831115">]</span><span class="op" id="5831116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831123">p</span>&nbsp;<span class="op" id="5831125">=</span>&nbsp;<span class="ident" id="5831127">p</span><span class="op" id="5831128">[</span><span class="num" id="5831129">8</span><span class="op" id="5831130">:</span><span class="op" id="5831131">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831137">}</span>&nbsp;<span class="keyword" id="5831139">else</span>&nbsp;<span class="op" id="5831144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831151">s</span><span class="op" id="5831152">.</span><span class="ident" id="5831153">gotype</span>&nbsp;<span class="op" id="5831160">=</span>&nbsp;<span class="ident" id="5831162">uint64</span><span class="op" id="5831168">(</span><span class="ident" id="5831169">order</span><span class="op" id="5831174">.</span><span class="ident" id="5831175">Uint32</span><span class="op" id="5831181">(</span><span class="ident" id="5831182">p</span><span class="op" id="5831183">[</span><span class="num" id="5831184">0</span><span class="op" id="5831185">:</span><span class="num" id="5831186">4</span><span class="op" id="5831187">]</span><span class="op" id="5831188">)</span><span class="op" id="5831189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831196">p</span>&nbsp;<span class="op" id="5831198">=</span>&nbsp;<span class="ident" id="5831200">p</span><span class="op" id="5831201">[</span><span class="num" id="5831202">4</span><span class="op" id="5831203">:</span><span class="op" id="5831204">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831219">}</span>&nbsp;<span class="keyword" id="5831221">else</span>&nbsp;<span class="op" id="5831226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5831231">//&nbsp;Value,&nbsp;symbol&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831257">s</span><span class="op" id="5831258">.</span><span class="ident" id="5831259">value</span>&nbsp;<span class="op" id="5831265">=</span>&nbsp;<span class="ident" id="5831267">uint64</span><span class="op" id="5831273">(</span><span class="ident" id="5831274">order</span><span class="op" id="5831279">.</span><span class="ident" id="5831280">Uint32</span><span class="op" id="5831286">(</span><span class="ident" id="5831287">p</span><span class="op" id="5831288">[</span><span class="num" id="5831289">0</span><span class="op" id="5831290">:</span><span class="num" id="5831291">4</span><span class="op" id="5831292">]</span><span class="op" id="5831293">)</span><span class="op" id="5831294">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831299">if</span>&nbsp;<span class="builtinfunc" id="5831302">len</span><span class="op" id="5831305">(</span><span class="ident" id="5831306">p</span><span class="op" id="5831307">)</span>&nbsp;<span class="op" id="5831309">&lt;</span>&nbsp;<span class="num" id="5831311">5</span>&nbsp;<span class="op" id="5831313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831319">return</span>&nbsp;<span class="op" id="5831326">&amp;</span><span class="ident" id="5831327">DecodingError</span><span class="op" id="5831340">{</span><span class="builtinfunc" id="5831341">len</span><span class="op" id="5831344">(</span><span class="ident" id="5831345">data</span><span class="op" id="5831349">)</span><span class="op" id="5831350">,</span>&nbsp;<span class="string" id="5831352">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5831368">,</span>&nbsp;<span class="ident" id="5831370">nil</span><span class="op" id="5831373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831383">typ</span>&nbsp;<span class="op" id="5831387">=</span>&nbsp;<span class="ident" id="5831389">p</span><span class="op" id="5831390">[</span><span class="num" id="5831391">4</span><span class="op" id="5831392">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831397">if</span>&nbsp;<span class="ident" id="5831400">typ</span><span class="op" id="5831403">&amp;</span><span class="num" id="5831404">0x80</span>&nbsp;<span class="op" id="5831409">==</span>&nbsp;<span class="num" id="5831412">0</span>&nbsp;<span class="op" id="5831414">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831420">return</span>&nbsp;<span class="op" id="5831427">&amp;</span><span class="ident" id="5831428">DecodingError</span><span class="op" id="5831441">{</span><span class="builtinfunc" id="5831442">len</span><span class="op" id="5831445">(</span><span class="ident" id="5831446">data</span><span class="op" id="5831450">)</span>&nbsp;<span class="op" id="5831452">-</span>&nbsp;<span class="builtinfunc" id="5831454">len</span><span class="op" id="5831457">(</span><span class="ident" id="5831458">p</span><span class="op" id="5831459">)</span>&nbsp;<span class="op" id="5831461">+</span>&nbsp;<span class="num" id="5831463">4</span><span class="op" id="5831464">,</span>&nbsp;<span class="string" id="5831466">&#34;bad&nbsp;symbol&nbsp;type&#34;</span><span class="op" id="5831483">,</span>&nbsp;<span class="ident" id="5831485">typ</span><span class="op" id="5831488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831498">typ</span>&nbsp;<span class="op" id="5831502">&amp;^=</span>&nbsp;<span class="num" id="5831506">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831514">s</span><span class="op" id="5831515">.</span><span class="ident" id="5831516">typ</span>&nbsp;<span class="op" id="5831520">=</span>&nbsp;<span class="ident" id="5831522">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831529">p</span>&nbsp;<span class="op" id="5831531">=</span>&nbsp;<span class="ident" id="5831533">p</span><span class="op" id="5831534">[</span><span class="num" id="5831535">5</span><span class="op" id="5831536">:</span><span class="op" id="5831537">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5831546">//&nbsp;Name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831557">var</span>&nbsp;<span class="ident" id="5831561">i</span>&nbsp;<span class="builtintype" id="5831563">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831569">var</span>&nbsp;<span class="ident" id="5831573">nnul</span>&nbsp;<span class="builtintype" id="5831578">int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831584">for</span>&nbsp;<span class="ident" id="5831588">i</span>&nbsp;<span class="op" id="5831590">=</span>&nbsp;<span class="num" id="5831592">0</span><span class="op" id="5831593">;</span>&nbsp;<span class="ident" id="5831595">i</span>&nbsp;<span class="op" id="5831597">&lt;</span>&nbsp;<span class="builtinfunc" id="5831599">len</span><span class="op" id="5831602">(</span><span class="ident" id="5831603">p</span><span class="op" id="5831604">)</span><span class="op" id="5831605">;</span>&nbsp;<span class="ident" id="5831607">i</span><span class="op" id="5831608">++</span>&nbsp;<span class="op" id="5831611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831616">if</span>&nbsp;<span class="ident" id="5831619">p</span><span class="op" id="5831620">[</span><span class="ident" id="5831621">i</span><span class="op" id="5831622">]</span>&nbsp;<span class="op" id="5831624">==</span>&nbsp;<span class="num" id="5831627">0</span>&nbsp;<span class="op" id="5831629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831635">nnul</span>&nbsp;<span class="op" id="5831640">=</span>&nbsp;<span class="num" id="5831642">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831648">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831657">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831665">switch</span>&nbsp;<span class="ident" id="5831672">typ</span>&nbsp;<span class="op" id="5831676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831680">case</span>&nbsp;<span class="string" id="5831685">&#39;z&#39;</span><span class="op" id="5831688">,</span>&nbsp;<span class="string" id="5831690">&#39;Z&#39;</span><span class="op" id="5831693">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831698">p</span>&nbsp;<span class="op" id="5831700">=</span>&nbsp;<span class="ident" id="5831702">p</span><span class="op" id="5831703">[</span><span class="ident" id="5831704">i</span><span class="op" id="5831705">+</span><span class="ident" id="5831706">nnul</span><span class="op" id="5831710">:</span><span class="op" id="5831711">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831716">for</span>&nbsp;<span class="ident" id="5831720">i</span>&nbsp;<span class="op" id="5831722">=</span>&nbsp;<span class="num" id="5831724">0</span><span class="op" id="5831725">;</span>&nbsp;<span class="ident" id="5831727">i</span><span class="op" id="5831728">+</span><span class="num" id="5831729">2</span>&nbsp;<span class="op" id="5831731">&lt;=</span>&nbsp;<span class="builtinfunc" id="5831734">len</span><span class="op" id="5831737">(</span><span class="ident" id="5831738">p</span><span class="op" id="5831739">)</span><span class="op" id="5831740">;</span>&nbsp;<span class="ident" id="5831742">i</span>&nbsp;<span class="op" id="5831744">+=</span>&nbsp;<span class="num" id="5831747">2</span>&nbsp;<span class="op" id="5831749">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831755">if</span>&nbsp;<span class="ident" id="5831758">p</span><span class="op" id="5831759">[</span><span class="ident" id="5831760">i</span><span class="op" id="5831761">]</span>&nbsp;<span class="op" id="5831763">==</span>&nbsp;<span class="num" id="5831766">0</span>&nbsp;<span class="op" id="5831768">&amp;&amp;</span>&nbsp;<span class="ident" id="5831771">p</span><span class="op" id="5831772">[</span><span class="ident" id="5831773">i</span><span class="op" id="5831774">+</span><span class="num" id="5831775">1</span><span class="op" id="5831776">]</span>&nbsp;<span class="op" id="5831778">==</span>&nbsp;<span class="num" id="5831781">0</span>&nbsp;<span class="op" id="5831783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831790">nnul</span>&nbsp;<span class="op" id="5831795">=</span>&nbsp;<span class="num" id="5831797">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831804">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831819">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831827">if</span>&nbsp;<span class="builtinfunc" id="5831830">len</span><span class="op" id="5831833">(</span><span class="ident" id="5831834">p</span><span class="op" id="5831835">)</span>&nbsp;<span class="op" id="5831837">&lt;</span>&nbsp;<span class="ident" id="5831839">i</span><span class="op" id="5831840">+</span><span class="ident" id="5831841">nnul</span>&nbsp;<span class="op" id="5831846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831851">return</span>&nbsp;<span class="op" id="5831858">&amp;</span><span class="ident" id="5831859">DecodingError</span><span class="op" id="5831872">{</span><span class="builtinfunc" id="5831873">len</span><span class="op" id="5831876">(</span><span class="ident" id="5831877">data</span><span class="op" id="5831881">)</span><span class="op" id="5831882">,</span>&nbsp;<span class="string" id="5831884">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5831900">,</span>&nbsp;<span class="ident" id="5831902">nil</span><span class="op" id="5831905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831913">s</span><span class="op" id="5831914">.</span><span class="ident" id="5831915">name</span>&nbsp;<span class="op" id="5831920">=</span>&nbsp;<span class="ident" id="5831922">p</span><span class="op" id="5831923">[</span><span class="num" id="5831924">0</span><span class="op" id="5831925">:</span><span class="ident" id="5831926">i</span><span class="op" id="5831927">]</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831931">i</span>&nbsp;<span class="op" id="5831933">+=</span>&nbsp;<span class="ident" id="5831936">nnul</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831943">p</span>&nbsp;<span class="op" id="5831945">=</span>&nbsp;<span class="ident" id="5831947">p</span><span class="op" id="5831948">[</span><span class="ident" id="5831949">i</span><span class="op" id="5831950">:</span><span class="op" id="5831951">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831956">if</span>&nbsp;<span class="op" id="5831959">!</span><span class="ident" id="5831960">newTable</span>&nbsp;<span class="op" id="5831969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831974">if</span>&nbsp;<span class="builtinfunc" id="5831977">len</span><span class="op" id="5831980">(</span><span class="ident" id="5831981">p</span><span class="op" id="5831982">)</span>&nbsp;<span class="op" id="5831984">&lt;</span>&nbsp;<span class="num" id="5831986">4</span>&nbsp;<span class="op" id="5831988">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831994">return</span>&nbsp;<span class="op" id="5832001">&amp;</span><span class="ident" id="5832002">DecodingError</span><span class="op" id="5832015">{</span><span class="builtinfunc" id="5832016">len</span><span class="op" id="5832019">(</span><span class="ident" id="5832020">data</span><span class="op" id="5832024">)</span><span class="op" id="5832025">,</span>&nbsp;<span class="string" id="5832027">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5832043">,</span>&nbsp;<span class="ident" id="5832045">nil</span><span class="op" id="5832048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5832058">//&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832073">s</span><span class="op" id="5832074">.</span><span class="ident" id="5832075">gotype</span>&nbsp;<span class="op" id="5832082">=</span>&nbsp;<span class="ident" id="5832084">uint64</span><span class="op" id="5832090">(</span><span class="ident" id="5832091">order</span><span class="op" id="5832096">.</span><span class="ident" id="5832097">Uint32</span><span class="op" id="5832103">(</span><span class="ident" id="5832104">p</span><span class="op" id="5832105">[</span><span class="op" id="5832106">:</span><span class="num" id="5832107">4</span><span class="op" id="5832108">]</span><span class="op" id="5832109">)</span><span class="op" id="5832110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832115">p</span>&nbsp;<span class="op" id="5832117">=</span>&nbsp;<span class="ident" id="5832119">p</span><span class="op" id="5832120">[</span><span class="num" id="5832121">4</span><span class="op" id="5832122">:</span><span class="op" id="5832123">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832131">fn</span><span class="op" id="5832133">(</span><span class="ident" id="5832134">s</span><span class="op" id="5832135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832141">return</span>&nbsp;<span class="ident" id="5832148">nil</span><br>
<span class="lineno"></span><span class="op" id="5832152">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="5832155">//&nbsp;NewTable&nbsp;decodes&nbsp;the&nbsp;Go&nbsp;symbol&nbsp;table&nbsp;in&nbsp;data,</span><br>
<span class="lineno"></span><span class="comment" id="5832204">//&nbsp;returning&nbsp;an&nbsp;in-memory&nbsp;representation.</span><br>
<span class="lineno"></span><span class="keyword" id="5832246">func</span>&nbsp;<span class="ident" id="5832251">NewTable</span><span class="op" id="5832259">(</span><span class="ident" id="5832260">symtab</span>&nbsp;<span class="op" id="5832267">[</span><span class="op" id="5832268">]</span><span class="builtintype" id="5832269">byte</span><span class="op" id="5832273">,</span>&nbsp;<span class="ident" id="5832275">pcln</span>&nbsp;<span class="op" id="5832280">*</span><span class="ident" id="5832281">LineTable</span><span class="op" id="5832290">)</span>&nbsp;<span class="op" id="5832292">(</span><span class="op" id="5832293">*</span><span class="ident" id="5832294">Table</span><span class="op" id="5832299">,</span>&nbsp;<span class="builtintype" id="5832301">error</span><span class="op" id="5832306">)</span>&nbsp;<span class="op" id="5832308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832311">var</span>&nbsp;<span class="ident" id="5832315">n</span>&nbsp;<span class="builtintype" id="5832317">int</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832322">err</span>&nbsp;<span class="op" id="5832326">:=</span>&nbsp;<span class="ident" id="5832329">walksymtab</span><span class="op" id="5832339">(</span><span class="ident" id="5832340">symtab</span><span class="op" id="5832346">,</span>&nbsp;<span class="keyword" id="5832348">func</span><span class="op" id="5832352">(</span><span class="ident" id="5832353">s</span>&nbsp;<span class="ident" id="5832355">sym</span><span class="op" id="5832358">)</span>&nbsp;<span class="builtintype" id="5832360">error</span>&nbsp;<span class="op" id="5832366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832370">n</span><span class="op" id="5832371">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832376">return</span>&nbsp;<span class="ident" id="5832383">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832388">}</span><span class="op" id="5832389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832392">if</span>&nbsp;<span class="ident" id="5832395">err</span>&nbsp;<span class="op" id="5832399">!=</span>&nbsp;<span class="ident" id="5832402">nil</span>&nbsp;<span class="op" id="5832406">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832410">return</span>&nbsp;<span class="ident" id="5832417">nil</span><span class="op" id="5832420">,</span>&nbsp;<span class="ident" id="5832422">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832431">var</span>&nbsp;<span class="ident" id="5832435">t</span>&nbsp;<span class="ident" id="5832437">Table</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832444">if</span>&nbsp;<span class="ident" id="5832447">pcln</span><span class="op" id="5832451">.</span><span class="ident" id="5832452">isGo12</span><span class="op" id="5832458">(</span><span class="op" id="5832459">)</span>&nbsp;<span class="op" id="5832461">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832465">t</span><span class="op" id="5832466">.</span><span class="ident" id="5832467">go12line</span>&nbsp;<span class="op" id="5832476">=</span>&nbsp;<span class="ident" id="5832478">pcln</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832487">fname</span>&nbsp;<span class="op" id="5832493">:=</span>&nbsp;<span class="builtinfunc" id="5832496">make</span><span class="op" id="5832500">(</span><span class="keyword" id="5832501">map</span><span class="op" id="5832504">[</span><span class="builtintype" id="5832505">uint16</span><span class="op" id="5832511">]</span><span class="builtintype" id="5832512">string</span><span class="op" id="5832518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832521">t</span><span class="op" id="5832522">.</span><span class="ident" id="5832523">Syms</span>&nbsp;<span class="op" id="5832528">=</span>&nbsp;<span class="builtinfunc" id="5832530">make</span><span class="op" id="5832534">(</span><span class="op" id="5832535">[</span><span class="op" id="5832536">]</span><span class="ident" id="5832537">Sym</span><span class="op" id="5832540">,</span>&nbsp;<span class="num" id="5832542">0</span><span class="op" id="5832543">,</span>&nbsp;<span class="ident" id="5832545">n</span><span class="op" id="5832546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832549">nf</span>&nbsp;<span class="op" id="5832552">:=</span>&nbsp;<span class="num" id="5832555">0</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832558">nz</span>&nbsp;<span class="op" id="5832561">:=</span>&nbsp;<span class="num" id="5832564">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832567">lasttyp</span>&nbsp;<span class="op" id="5832575">:=</span>&nbsp;<span class="builtintype" id="5832578">uint8</span><span class="op" id="5832583">(</span><span class="num" id="5832584">0</span><span class="op" id="5832585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832588">err</span>&nbsp;<span class="op" id="5832592">=</span>&nbsp;<span class="ident" id="5832594">walksymtab</span><span class="op" id="5832604">(</span><span class="ident" id="5832605">symtab</span><span class="op" id="5832611">,</span>&nbsp;<span class="keyword" id="5832613">func</span><span class="op" id="5832617">(</span><span class="ident" id="5832618">s</span>&nbsp;<span class="ident" id="5832620">sym</span><span class="op" id="5832623">)</span>&nbsp;<span class="builtintype" id="5832625">error</span>&nbsp;<span class="op" id="5832631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832635">n</span>&nbsp;<span class="op" id="5832637">:=</span>&nbsp;<span class="builtinfunc" id="5832640">len</span><span class="op" id="5832643">(</span><span class="ident" id="5832644">t</span><span class="op" id="5832645">.</span><span class="ident" id="5832646">Syms</span><span class="op" id="5832650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832654">t</span><span class="op" id="5832655">.</span><span class="ident" id="5832656">Syms</span>&nbsp;<span class="op" id="5832661">=</span>&nbsp;<span class="ident" id="5832663">t</span><span class="op" id="5832664">.</span><span class="ident" id="5832665">Syms</span><span class="op" id="5832669">[</span><span class="num" id="5832670">0</span>&nbsp;<span class="op" id="5832672">:</span>&nbsp;<span class="ident" id="5832674">n</span><span class="op" id="5832675">+</span><span class="num" id="5832676">1</span><span class="op" id="5832677">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832681">ts</span>&nbsp;<span class="op" id="5832684">:=</span>&nbsp;<span class="op" id="5832687">&amp;</span><span class="ident" id="5832688">t</span><span class="op" id="5832689">.</span><span class="ident" id="5832690">Syms</span><span class="op" id="5832694">[</span><span class="ident" id="5832695">n</span><span class="op" id="5832696">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832700">ts</span><span class="op" id="5832702">.</span><span class="ident" id="5832703">Type</span>&nbsp;<span class="op" id="5832708">=</span>&nbsp;<span class="ident" id="5832710">s</span><span class="op" id="5832711">.</span><span class="ident" id="5832712">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832718">ts</span><span class="op" id="5832720">.</span><span class="ident" id="5832721">Value</span>&nbsp;<span class="op" id="5832727">=</span>&nbsp;<span class="ident" id="5832729">uint64</span><span class="op" id="5832735">(</span><span class="ident" id="5832736">s</span><span class="op" id="5832737">.</span><span class="ident" id="5832738">value</span><span class="op" id="5832743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832747">ts</span><span class="op" id="5832749">.</span><span class="ident" id="5832750">GoType</span>&nbsp;<span class="op" id="5832757">=</span>&nbsp;<span class="ident" id="5832759">uint64</span><span class="op" id="5832765">(</span><span class="ident" id="5832766">s</span><span class="op" id="5832767">.</span><span class="ident" id="5832768">gotype</span><span class="op" id="5832774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832778">switch</span>&nbsp;<span class="ident" id="5832785">s</span><span class="op" id="5832786">.</span><span class="ident" id="5832787">typ</span>&nbsp;<span class="op" id="5832791">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832795">default</span><span class="op" id="5832802">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5832807">//&nbsp;rewrite&nbsp;name&nbsp;to&nbsp;use&nbsp;.&nbsp;instead&nbsp;of&nbsp;·&nbsp;(c2&nbsp;b7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832857">w</span>&nbsp;<span class="op" id="5832859">:=</span>&nbsp;<span class="num" id="5832862">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832867">b</span>&nbsp;<span class="op" id="5832869">:=</span>&nbsp;<span class="ident" id="5832872">s</span><span class="op" id="5832873">.</span><span class="ident" id="5832874">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832882">for</span>&nbsp;<span class="ident" id="5832886">i</span>&nbsp;<span class="op" id="5832888">:=</span>&nbsp;<span class="num" id="5832891">0</span><span class="op" id="5832892">;</span>&nbsp;<span class="ident" id="5832894">i</span>&nbsp;<span class="op" id="5832896">&lt;</span>&nbsp;<span class="builtinfunc" id="5832898">len</span><span class="op" id="5832901">(</span><span class="ident" id="5832902">b</span><span class="op" id="5832903">)</span><span class="op" id="5832904">;</span>&nbsp;<span class="ident" id="5832906">i</span><span class="op" id="5832907">++</span>&nbsp;<span class="op" id="5832910">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832916">if</span>&nbsp;<span class="ident" id="5832919">b</span><span class="op" id="5832920">[</span><span class="ident" id="5832921">i</span><span class="op" id="5832922">]</span>&nbsp;<span class="op" id="5832924">==</span>&nbsp;<span class="num" id="5832927">0xc2</span>&nbsp;<span class="op" id="5832932">&amp;&amp;</span>&nbsp;<span class="ident" id="5832935">i</span><span class="op" id="5832936">+</span><span class="num" id="5832937">1</span>&nbsp;<span class="op" id="5832939">&lt;</span>&nbsp;<span class="builtinfunc" id="5832941">len</span><span class="op" id="5832944">(</span><span class="ident" id="5832945">b</span><span class="op" id="5832946">)</span>&nbsp;<span class="op" id="5832948">&amp;&amp;</span>&nbsp;<span class="ident" id="5832951">b</span><span class="op" id="5832952">[</span><span class="ident" id="5832953">i</span><span class="op" id="5832954">+</span><span class="num" id="5832955">1</span><span class="op" id="5832956">]</span>&nbsp;<span class="op" id="5832958">==</span>&nbsp;<span class="num" id="5832961">0xb7</span>&nbsp;<span class="op" id="5832966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832973">i</span><span class="op" id="5832974">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832982">b</span><span class="op" id="5832983">[</span><span class="ident" id="5832984">i</span><span class="op" id="5832985">]</span>&nbsp;<span class="op" id="5832987">=</span>&nbsp;<span class="string" id="5832989">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833003">b</span><span class="op" id="5833004">[</span><span class="ident" id="5833005">w</span><span class="op" id="5833006">]</span>&nbsp;<span class="op" id="5833008">=</span>&nbsp;<span class="ident" id="5833010">b</span><span class="op" id="5833011">[</span><span class="ident" id="5833012">i</span><span class="op" id="5833013">]</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833019">w</span><span class="op" id="5833020">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833031">ts</span><span class="op" id="5833033">.</span><span class="ident" id="5833034">Name</span>&nbsp;<span class="op" id="5833039">=</span>&nbsp;<span class="builtintype" id="5833041">string</span><span class="op" id="5833047">(</span><span class="ident" id="5833048">s</span><span class="op" id="5833049">.</span><span class="ident" id="5833050">name</span><span class="op" id="5833054">[</span><span class="num" id="5833055">0</span><span class="op" id="5833056">:</span><span class="ident" id="5833057">w</span><span class="op" id="5833058">]</span><span class="op" id="5833059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833063">case</span>&nbsp;<span class="string" id="5833068">&#39;z&#39;</span><span class="op" id="5833071">,</span>&nbsp;<span class="string" id="5833073">&#39;Z&#39;</span><span class="op" id="5833076">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833081">if</span>&nbsp;<span class="ident" id="5833084">lasttyp</span>&nbsp;<span class="op" id="5833092">!=</span>&nbsp;<span class="string" id="5833095">&#39;z&#39;</span>&nbsp;<span class="op" id="5833099">&amp;&amp;</span>&nbsp;<span class="ident" id="5833102">lasttyp</span>&nbsp;<span class="op" id="5833110">!=</span>&nbsp;<span class="string" id="5833113">&#39;Z&#39;</span>&nbsp;<span class="op" id="5833117">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833123">nz</span><span class="op" id="5833125">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833136">for</span>&nbsp;<span class="ident" id="5833140">i</span>&nbsp;<span class="op" id="5833142">:=</span>&nbsp;<span class="num" id="5833145">0</span><span class="op" id="5833146">;</span>&nbsp;<span class="ident" id="5833148">i</span>&nbsp;<span class="op" id="5833150">&lt;</span>&nbsp;<span class="builtinfunc" id="5833152">len</span><span class="op" id="5833155">(</span><span class="ident" id="5833156">s</span><span class="op" id="5833157">.</span><span class="ident" id="5833158">name</span><span class="op" id="5833162">)</span><span class="op" id="5833163">;</span>&nbsp;<span class="ident" id="5833165">i</span>&nbsp;<span class="op" id="5833167">+=</span>&nbsp;<span class="num" id="5833170">2</span>&nbsp;<span class="op" id="5833172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833178">eltIdx</span>&nbsp;<span class="op" id="5833185">:=</span>&nbsp;<span class="ident" id="5833188">binary</span><span class="op" id="5833194">.</span><span class="ident" id="5833195">BigEndian</span><span class="op" id="5833204">.</span><span class="ident" id="5833205">Uint16</span><span class="op" id="5833211">(</span><span class="ident" id="5833212">s</span><span class="op" id="5833213">.</span><span class="ident" id="5833214">name</span><span class="op" id="5833218">[</span><span class="ident" id="5833219">i</span>&nbsp;<span class="op" id="5833221">:</span>&nbsp;<span class="ident" id="5833223">i</span><span class="op" id="5833224">+</span><span class="num" id="5833225">2</span><span class="op" id="5833226">]</span><span class="op" id="5833227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833233">elt</span><span class="op" id="5833236">,</span>&nbsp;<span class="ident" id="5833238">ok</span>&nbsp;<span class="op" id="5833241">:=</span>&nbsp;<span class="ident" id="5833244">fname</span><span class="op" id="5833249">[</span><span class="ident" id="5833250">eltIdx</span><span class="op" id="5833256">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833262">if</span>&nbsp;<span class="op" id="5833265">!</span><span class="ident" id="5833266">ok</span>&nbsp;<span class="op" id="5833269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833276">return</span>&nbsp;<span class="op" id="5833283">&amp;</span><span class="ident" id="5833284">DecodingError</span><span class="op" id="5833297">{</span><span class="op" id="5833298">-</span><span class="num" id="5833299">1</span><span class="op" id="5833300">,</span>&nbsp;<span class="string" id="5833302">&#34;bad&nbsp;filename&nbsp;code&#34;</span><span class="op" id="5833321">,</span>&nbsp;<span class="ident" id="5833323">eltIdx</span><span class="op" id="5833329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833341">if</span>&nbsp;<span class="ident" id="5833344">n</span>&nbsp;<span class="op" id="5833346">:=</span>&nbsp;<span class="builtinfunc" id="5833349">len</span><span class="op" id="5833352">(</span><span class="ident" id="5833353">ts</span><span class="op" id="5833355">.</span><span class="ident" id="5833356">Name</span><span class="op" id="5833360">)</span><span class="op" id="5833361">;</span>&nbsp;<span class="ident" id="5833363">n</span>&nbsp;<span class="op" id="5833365">&gt;</span>&nbsp;<span class="num" id="5833367">0</span>&nbsp;<span class="op" id="5833369">&amp;&amp;</span>&nbsp;<span class="ident" id="5833372">ts</span><span class="op" id="5833374">.</span><span class="ident" id="5833375">Name</span><span class="op" id="5833379">[</span><span class="ident" id="5833380">n</span><span class="op" id="5833381">-</span><span class="num" id="5833382">1</span><span class="op" id="5833383">]</span>&nbsp;<span class="op" id="5833385">!=</span>&nbsp;<span class="string" id="5833388">&#39;/&#39;</span>&nbsp;<span class="op" id="5833392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833399">ts</span><span class="op" id="5833401">.</span><span class="ident" id="5833402">Name</span>&nbsp;<span class="op" id="5833407">+=</span>&nbsp;<span class="string" id="5833410">&#34;/&#34;</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833424">ts</span><span class="op" id="5833426">.</span><span class="ident" id="5833427">Name</span>&nbsp;<span class="op" id="5833432">+=</span>&nbsp;<span class="ident" id="5833435">elt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833450">switch</span>&nbsp;<span class="ident" id="5833457">s</span><span class="op" id="5833458">.</span><span class="ident" id="5833459">typ</span>&nbsp;<span class="op" id="5833463">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833467">case</span>&nbsp;<span class="string" id="5833472">&#39;T&#39;</span><span class="op" id="5833475">,</span>&nbsp;<span class="string" id="5833477">&#39;t&#39;</span><span class="op" id="5833480">,</span>&nbsp;<span class="string" id="5833482">&#39;L&#39;</span><span class="op" id="5833485">,</span>&nbsp;<span class="string" id="5833487">&#39;l&#39;</span><span class="op" id="5833490">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833495">nf</span><span class="op" id="5833497">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833502">case</span>&nbsp;<span class="string" id="5833507">&#39;f&#39;</span><span class="op" id="5833510">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833515">fname</span><span class="op" id="5833520">[</span><span class="builtintype" id="5833521">uint16</span><span class="op" id="5833527">(</span><span class="ident" id="5833528">s</span><span class="op" id="5833529">.</span><span class="ident" id="5833530">value</span><span class="op" id="5833535">)</span><span class="op" id="5833536">]</span>&nbsp;<span class="op" id="5833538">=</span>&nbsp;<span class="ident" id="5833540">ts</span><span class="op" id="5833542">.</span><span class="ident" id="5833543">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833550">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833554">lasttyp</span>&nbsp;<span class="op" id="5833562">=</span>&nbsp;<span class="ident" id="5833564">s</span><span class="op" id="5833565">.</span><span class="ident" id="5833566">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833572">return</span>&nbsp;<span class="ident" id="5833579">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833584">}</span><span class="op" id="5833585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833588">if</span>&nbsp;<span class="ident" id="5833591">err</span>&nbsp;<span class="op" id="5833595">!=</span>&nbsp;<span class="ident" id="5833598">nil</span>&nbsp;<span class="op" id="5833602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833606">return</span>&nbsp;<span class="ident" id="5833613">nil</span><span class="op" id="5833616">,</span>&nbsp;<span class="ident" id="5833618">err</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833627">t</span><span class="op" id="5833628">.</span><span class="ident" id="5833629">Funcs</span>&nbsp;<span class="op" id="5833635">=</span>&nbsp;<span class="builtinfunc" id="5833637">make</span><span class="op" id="5833641">(</span><span class="op" id="5833642">[</span><span class="op" id="5833643">]</span><span class="ident" id="5833644">Func</span><span class="op" id="5833648">,</span>&nbsp;<span class="num" id="5833650">0</span><span class="op" id="5833651">,</span>&nbsp;<span class="ident" id="5833653">nf</span><span class="op" id="5833655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833658">t</span><span class="op" id="5833659">.</span><span class="ident" id="5833660">Files</span>&nbsp;<span class="op" id="5833666">=</span>&nbsp;<span class="builtinfunc" id="5833668">make</span><span class="op" id="5833672">(</span><span class="keyword" id="5833673">map</span><span class="op" id="5833676">[</span><span class="builtintype" id="5833677">string</span><span class="op" id="5833683">]</span><span class="op" id="5833684">*</span><span class="ident" id="5833685">Obj</span><span class="op" id="5833688">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833692">var</span>&nbsp;<span class="ident" id="5833696">obj</span>&nbsp;<span class="op" id="5833700">*</span><span class="ident" id="5833701">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833706">if</span>&nbsp;<span class="ident" id="5833709">t</span><span class="op" id="5833710">.</span><span class="ident" id="5833711">go12line</span>&nbsp;<span class="op" id="5833720">!=</span>&nbsp;<span class="ident" id="5833723">nil</span>&nbsp;<span class="op" id="5833727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5833731">//&nbsp;Put&nbsp;all&nbsp;functions&nbsp;into&nbsp;one&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833768">t</span><span class="op" id="5833769">.</span><span class="ident" id="5833770">Objs</span>&nbsp;<span class="op" id="5833775">=</span>&nbsp;<span class="builtinfunc" id="5833777">make</span><span class="op" id="5833781">(</span><span class="op" id="5833782">[</span><span class="op" id="5833783">]</span><span class="ident" id="5833784">Obj</span><span class="op" id="5833787">,</span>&nbsp;<span class="num" id="5833789">1</span><span class="op" id="5833790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833794">obj</span>&nbsp;<span class="op" id="5833798">=</span>&nbsp;<span class="op" id="5833800">&amp;</span><span class="ident" id="5833801">t</span><span class="op" id="5833802">.</span><span class="ident" id="5833803">Objs</span><span class="op" id="5833807">[</span><span class="num" id="5833808">0</span><span class="op" id="5833809">]</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833813">t</span><span class="op" id="5833814">.</span><span class="ident" id="5833815">go12line</span><span class="op" id="5833823">.</span><span class="ident" id="5833824">go12MapFiles</span><span class="op" id="5833836">(</span><span class="ident" id="5833837">t</span><span class="op" id="5833838">.</span><span class="ident" id="5833839">Files</span><span class="op" id="5833844">,</span>&nbsp;<span class="ident" id="5833846">obj</span><span class="op" id="5833849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833852">}</span>&nbsp;<span class="keyword" id="5833854">else</span>&nbsp;<span class="op" id="5833859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833863">t</span><span class="op" id="5833864">.</span><span class="ident" id="5833865">Objs</span>&nbsp;<span class="op" id="5833870">=</span>&nbsp;<span class="builtinfunc" id="5833872">make</span><span class="op" id="5833876">(</span><span class="op" id="5833877">[</span><span class="op" id="5833878">]</span><span class="ident" id="5833879">Obj</span><span class="op" id="5833882">,</span>&nbsp;<span class="num" id="5833884">0</span><span class="op" id="5833885">,</span>&nbsp;<span class="ident" id="5833887">nz</span><span class="op" id="5833889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5833896">//&nbsp;Count&nbsp;text&nbsp;symbols&nbsp;and&nbsp;attach&nbsp;frame&nbsp;sizes,&nbsp;parameters,&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5833959">//&nbsp;locals&nbsp;to&nbsp;them.&nbsp;&nbsp;Also,&nbsp;find&nbsp;object&nbsp;file&nbsp;boundaries.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834015">lastf</span>&nbsp;<span class="op" id="5834021">:=</span>&nbsp;<span class="num" id="5834024">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834027">for</span>&nbsp;<span class="ident" id="5834031">i</span>&nbsp;<span class="op" id="5834033">:=</span>&nbsp;<span class="num" id="5834036">0</span><span class="op" id="5834037">;</span>&nbsp;<span class="ident" id="5834039">i</span>&nbsp;<span class="op" id="5834041">&lt;</span>&nbsp;<span class="builtinfunc" id="5834043">len</span><span class="op" id="5834046">(</span><span class="ident" id="5834047">t</span><span class="op" id="5834048">.</span><span class="ident" id="5834049">Syms</span><span class="op" id="5834053">)</span><span class="op" id="5834054">;</span>&nbsp;<span class="ident" id="5834056">i</span><span class="op" id="5834057">++</span>&nbsp;<span class="op" id="5834060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834064">sym</span>&nbsp;<span class="op" id="5834068">:=</span>&nbsp;<span class="op" id="5834071">&amp;</span><span class="ident" id="5834072">t</span><span class="op" id="5834073">.</span><span class="ident" id="5834074">Syms</span><span class="op" id="5834078">[</span><span class="ident" id="5834079">i</span><span class="op" id="5834080">]</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834084">switch</span>&nbsp;<span class="ident" id="5834091">sym</span><span class="op" id="5834094">.</span><span class="ident" id="5834095">Type</span>&nbsp;<span class="op" id="5834100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834104">case</span>&nbsp;<span class="string" id="5834109">&#39;Z&#39;</span><span class="op" id="5834112">,</span>&nbsp;<span class="string" id="5834114">&#39;z&#39;</span><span class="op" id="5834117">:</span>&nbsp;<span class="comment" id="5834119">//&nbsp;path&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834137">if</span>&nbsp;<span class="ident" id="5834140">t</span><span class="op" id="5834141">.</span><span class="ident" id="5834142">go12line</span>&nbsp;<span class="op" id="5834151">!=</span>&nbsp;<span class="ident" id="5834154">nil</span>&nbsp;<span class="op" id="5834158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5834164">//&nbsp;Go&nbsp;1.2&nbsp;binaries&nbsp;have&nbsp;the&nbsp;file&nbsp;information&nbsp;elsewhere.&nbsp;Ignore.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834232">break</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5834246">//&nbsp;Finish&nbsp;the&nbsp;current&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834278">if</span>&nbsp;<span class="ident" id="5834281">obj</span>&nbsp;<span class="op" id="5834285">!=</span>&nbsp;<span class="ident" id="5834288">nil</span>&nbsp;<span class="op" id="5834292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834298">obj</span><span class="op" id="5834301">.</span><span class="ident" id="5834302">Funcs</span>&nbsp;<span class="op" id="5834308">=</span>&nbsp;<span class="ident" id="5834310">t</span><span class="op" id="5834311">.</span><span class="ident" id="5834312">Funcs</span><span class="op" id="5834317">[</span><span class="ident" id="5834318">lastf</span><span class="op" id="5834323">:</span><span class="op" id="5834324">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834329">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834334">lastf</span>&nbsp;<span class="op" id="5834340">=</span>&nbsp;<span class="builtinfunc" id="5834342">len</span><span class="op" id="5834345">(</span><span class="ident" id="5834346">t</span><span class="op" id="5834347">.</span><span class="ident" id="5834348">Funcs</span><span class="op" id="5834353">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5834359">//&nbsp;Start&nbsp;new&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834382">n</span>&nbsp;<span class="op" id="5834384">:=</span>&nbsp;<span class="builtinfunc" id="5834387">len</span><span class="op" id="5834390">(</span><span class="ident" id="5834391">t</span><span class="op" id="5834392">.</span><span class="ident" id="5834393">Objs</span><span class="op" id="5834397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834402">t</span><span class="op" id="5834403">.</span><span class="ident" id="5834404">Objs</span>&nbsp;<span class="op" id="5834409">=</span>&nbsp;<span class="ident" id="5834411">t</span><span class="op" id="5834412">.</span><span class="ident" id="5834413">Objs</span><span class="op" id="5834417">[</span><span class="num" id="5834418">0</span>&nbsp;<span class="op" id="5834420">:</span>&nbsp;<span class="ident" id="5834422">n</span><span class="op" id="5834423">+</span><span class="num" id="5834424">1</span><span class="op" id="5834425">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834430">obj</span>&nbsp;<span class="op" id="5834434">=</span>&nbsp;<span class="op" id="5834436">&amp;</span><span class="ident" id="5834437">t</span><span class="op" id="5834438">.</span><span class="ident" id="5834439">Objs</span><span class="op" id="5834443">[</span><span class="ident" id="5834444">n</span><span class="op" id="5834445">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5834451">//&nbsp;Count&nbsp;&amp;&nbsp;copy&nbsp;path&nbsp;symbols</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834483">var</span>&nbsp;<span class="ident" id="5834487">end</span>&nbsp;<span class="builtintype" id="5834491">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834498">for</span>&nbsp;<span class="ident" id="5834502">end</span>&nbsp;<span class="op" id="5834506">=</span>&nbsp;<span class="ident" id="5834508">i</span>&nbsp;<span class="op" id="5834510">+</span>&nbsp;<span class="num" id="5834512">1</span><span class="op" id="5834513">;</span>&nbsp;<span class="ident" id="5834515">end</span>&nbsp;<span class="op" id="5834519">&lt;</span>&nbsp;<span class="builtinfunc" id="5834521">len</span><span class="op" id="5834524">(</span><span class="ident" id="5834525">t</span><span class="op" id="5834526">.</span><span class="ident" id="5834527">Syms</span><span class="op" id="5834531">)</span><span class="op" id="5834532">;</span>&nbsp;<span class="ident" id="5834534">end</span><span class="op" id="5834537">++</span>&nbsp;<span class="op" id="5834540">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834546">if</span>&nbsp;<span class="ident" id="5834549">c</span>&nbsp;<span class="op" id="5834551">:=</span>&nbsp;<span class="ident" id="5834554">t</span><span class="op" id="5834555">.</span><span class="ident" id="5834556">Syms</span><span class="op" id="5834560">[</span><span class="ident" id="5834561">end</span><span class="op" id="5834564">]</span><span class="op" id="5834565">.</span><span class="ident" id="5834566">Type</span><span class="op" id="5834570">;</span>&nbsp;<span class="ident" id="5834572">c</span>&nbsp;<span class="op" id="5834574">!=</span>&nbsp;<span class="string" id="5834577">&#39;Z&#39;</span>&nbsp;<span class="op" id="5834581">&amp;&amp;</span>&nbsp;<span class="ident" id="5834584">c</span>&nbsp;<span class="op" id="5834586">!=</span>&nbsp;<span class="string" id="5834589">&#39;z&#39;</span>&nbsp;<span class="op" id="5834593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834600">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834620">obj</span><span class="op" id="5834623">.</span><span class="ident" id="5834624">Paths</span>&nbsp;<span class="op" id="5834630">=</span>&nbsp;<span class="ident" id="5834632">t</span><span class="op" id="5834633">.</span><span class="ident" id="5834634">Syms</span><span class="op" id="5834638">[</span><span class="ident" id="5834639">i</span><span class="op" id="5834640">:</span><span class="ident" id="5834641">end</span><span class="op" id="5834644">]</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834649">i</span>&nbsp;<span class="op" id="5834651">=</span>&nbsp;<span class="ident" id="5834653">end</span>&nbsp;<span class="op" id="5834657">-</span>&nbsp;<span class="num" id="5834659">1</span>&nbsp;<span class="comment" id="5834661">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5834682">//&nbsp;Record&nbsp;file&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834706">depth</span>&nbsp;<span class="op" id="5834712">:=</span>&nbsp;<span class="num" id="5834715">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834720">for</span>&nbsp;<span class="ident" id="5834724">j</span>&nbsp;<span class="op" id="5834726">:=</span>&nbsp;<span class="keyword" id="5834729">range</span>&nbsp;<span class="ident" id="5834735">obj</span><span class="op" id="5834738">.</span><span class="ident" id="5834739">Paths</span>&nbsp;<span class="op" id="5834745">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834751">s</span>&nbsp;<span class="op" id="5834753">:=</span>&nbsp;<span class="op" id="5834756">&amp;</span><span class="ident" id="5834757">obj</span><span class="op" id="5834760">.</span><span class="ident" id="5834761">Paths</span><span class="op" id="5834766">[</span><span class="ident" id="5834767">j</span><span class="op" id="5834768">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834774">if</span>&nbsp;<span class="ident" id="5834777">s</span><span class="op" id="5834778">.</span><span class="ident" id="5834779">Name</span>&nbsp;<span class="op" id="5834784">==</span>&nbsp;<span class="string" id="5834787">&#34;&#34;</span>&nbsp;<span class="op" id="5834790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834797">depth</span><span class="op" id="5834802">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834809">}</span>&nbsp;<span class="keyword" id="5834811">else</span>&nbsp;<span class="op" id="5834816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834823">if</span>&nbsp;<span class="ident" id="5834826">depth</span>&nbsp;<span class="op" id="5834832">==</span>&nbsp;<span class="num" id="5834835">0</span>&nbsp;<span class="op" id="5834837">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834845">t</span><span class="op" id="5834846">.</span><span class="ident" id="5834847">Files</span><span class="op" id="5834852">[</span><span class="ident" id="5834853">s</span><span class="op" id="5834854">.</span><span class="ident" id="5834855">Name</span><span class="op" id="5834859">]</span>&nbsp;<span class="op" id="5834861">=</span>&nbsp;<span class="ident" id="5834863">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834879">depth</span><span class="op" id="5834884">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834896">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834901">case</span>&nbsp;<span class="string" id="5834906">&#39;T&#39;</span><span class="op" id="5834909">,</span>&nbsp;<span class="string" id="5834911">&#39;t&#39;</span><span class="op" id="5834914">,</span>&nbsp;<span class="string" id="5834916">&#39;L&#39;</span><span class="op" id="5834919">,</span>&nbsp;<span class="string" id="5834921">&#39;l&#39;</span><span class="op" id="5834924">:</span>&nbsp;<span class="comment" id="5834926">//&nbsp;text&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834944">if</span>&nbsp;<span class="ident" id="5834947">n</span>&nbsp;<span class="op" id="5834949">:=</span>&nbsp;<span class="builtinfunc" id="5834952">len</span><span class="op" id="5834955">(</span><span class="ident" id="5834956">t</span><span class="op" id="5834957">.</span><span class="ident" id="5834958">Funcs</span><span class="op" id="5834963">)</span><span class="op" id="5834964">;</span>&nbsp;<span class="ident" id="5834966">n</span>&nbsp;<span class="op" id="5834968">&gt;</span>&nbsp;<span class="num" id="5834970">0</span>&nbsp;<span class="op" id="5834972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834978">t</span><span class="op" id="5834979">.</span><span class="ident" id="5834980">Funcs</span><span class="op" id="5834985">[</span><span class="ident" id="5834986">n</span><span class="op" id="5834987">-</span><span class="num" id="5834988">1</span><span class="op" id="5834989">]</span><span class="op" id="5834990">.</span><span class="ident" id="5834991">End</span>&nbsp;<span class="op" id="5834995">=</span>&nbsp;<span class="ident" id="5834997">sym</span><span class="op" id="5835000">.</span><span class="ident" id="5835001">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835010">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835015">if</span>&nbsp;<span class="ident" id="5835018">sym</span><span class="op" id="5835021">.</span><span class="ident" id="5835022">Name</span>&nbsp;<span class="op" id="5835027">==</span>&nbsp;<span class="string" id="5835030">&#34;runtime.etext&#34;</span>&nbsp;<span class="op" id="5835046">||</span>&nbsp;<span class="ident" id="5835049">sym</span><span class="op" id="5835052">.</span><span class="ident" id="5835053">Name</span>&nbsp;<span class="op" id="5835058">==</span>&nbsp;<span class="string" id="5835061">&#34;etext&#34;</span>&nbsp;<span class="op" id="5835069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835075">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5835093">//&nbsp;Count&nbsp;parameter&nbsp;and&nbsp;local&nbsp;(auto)&nbsp;syms</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835137">var</span>&nbsp;<span class="ident" id="5835141">np</span><span class="op" id="5835143">,</span>&nbsp;<span class="ident" id="5835145">na</span>&nbsp;<span class="builtintype" id="5835148">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835155">var</span>&nbsp;<span class="ident" id="5835159">end</span>&nbsp;<span class="builtintype" id="5835163">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835169">countloop</span><span class="op" id="5835178">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835183">for</span>&nbsp;<span class="ident" id="5835187">end</span>&nbsp;<span class="op" id="5835191">=</span>&nbsp;<span class="ident" id="5835193">i</span>&nbsp;<span class="op" id="5835195">+</span>&nbsp;<span class="num" id="5835197">1</span><span class="op" id="5835198">;</span>&nbsp;<span class="ident" id="5835200">end</span>&nbsp;<span class="op" id="5835204">&lt;</span>&nbsp;<span class="builtinfunc" id="5835206">len</span><span class="op" id="5835209">(</span><span class="ident" id="5835210">t</span><span class="op" id="5835211">.</span><span class="ident" id="5835212">Syms</span><span class="op" id="5835216">)</span><span class="op" id="5835217">;</span>&nbsp;<span class="ident" id="5835219">end</span><span class="op" id="5835222">++</span>&nbsp;<span class="op" id="5835225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835231">switch</span>&nbsp;<span class="ident" id="5835238">t</span><span class="op" id="5835239">.</span><span class="ident" id="5835240">Syms</span><span class="op" id="5835244">[</span><span class="ident" id="5835245">end</span><span class="op" id="5835248">]</span><span class="op" id="5835249">.</span><span class="ident" id="5835250">Type</span>&nbsp;<span class="op" id="5835255">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835261">case</span>&nbsp;<span class="string" id="5835266">&#39;T&#39;</span><span class="op" id="5835269">,</span>&nbsp;<span class="string" id="5835271">&#39;t&#39;</span><span class="op" id="5835274">,</span>&nbsp;<span class="string" id="5835276">&#39;L&#39;</span><span class="op" id="5835279">,</span>&nbsp;<span class="string" id="5835281">&#39;l&#39;</span><span class="op" id="5835284">,</span>&nbsp;<span class="string" id="5835286">&#39;Z&#39;</span><span class="op" id="5835289">,</span>&nbsp;<span class="string" id="5835291">&#39;z&#39;</span><span class="op" id="5835294">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835301">break</span>&nbsp;<span class="ident" id="5835307">countloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835321">case</span>&nbsp;<span class="string" id="5835326">&#39;p&#39;</span><span class="op" id="5835329">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835336">np</span><span class="op" id="5835338">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835345">case</span>&nbsp;<span class="string" id="5835350">&#39;a&#39;</span><span class="op" id="5835353">:</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835360">na</span><span class="op" id="5835362">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5835380">//&nbsp;Fill&nbsp;in&nbsp;the&nbsp;function&nbsp;symbol</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835414">n</span>&nbsp;<span class="op" id="5835416">:=</span>&nbsp;<span class="builtinfunc" id="5835419">len</span><span class="op" id="5835422">(</span><span class="ident" id="5835423">t</span><span class="op" id="5835424">.</span><span class="ident" id="5835425">Funcs</span><span class="op" id="5835430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835435">t</span><span class="op" id="5835436">.</span><span class="ident" id="5835437">Funcs</span>&nbsp;<span class="op" id="5835443">=</span>&nbsp;<span class="ident" id="5835445">t</span><span class="op" id="5835446">.</span><span class="ident" id="5835447">Funcs</span><span class="op" id="5835452">[</span><span class="num" id="5835453">0</span>&nbsp;<span class="op" id="5835455">:</span>&nbsp;<span class="ident" id="5835457">n</span><span class="op" id="5835458">+</span><span class="num" id="5835459">1</span><span class="op" id="5835460">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835465">fn</span>&nbsp;<span class="op" id="5835468">:=</span>&nbsp;<span class="op" id="5835471">&amp;</span><span class="ident" id="5835472">t</span><span class="op" id="5835473">.</span><span class="ident" id="5835474">Funcs</span><span class="op" id="5835479">[</span><span class="ident" id="5835480">n</span><span class="op" id="5835481">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835486">sym</span><span class="op" id="5835489">.</span><span class="ident" id="5835490">Func</span>&nbsp;<span class="op" id="5835495">=</span>&nbsp;<span class="ident" id="5835497">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835503">fn</span><span class="op" id="5835505">.</span><span class="ident" id="5835506">Params</span>&nbsp;<span class="op" id="5835513">=</span>&nbsp;<span class="builtinfunc" id="5835515">make</span><span class="op" id="5835519">(</span><span class="op" id="5835520">[</span><span class="op" id="5835521">]</span><span class="op" id="5835522">*</span><span class="ident" id="5835523">Sym</span><span class="op" id="5835526">,</span>&nbsp;<span class="num" id="5835528">0</span><span class="op" id="5835529">,</span>&nbsp;<span class="ident" id="5835531">np</span><span class="op" id="5835533">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835538">fn</span><span class="op" id="5835540">.</span><span class="ident" id="5835541">Locals</span>&nbsp;<span class="op" id="5835548">=</span>&nbsp;<span class="builtinfunc" id="5835550">make</span><span class="op" id="5835554">(</span><span class="op" id="5835555">[</span><span class="op" id="5835556">]</span><span class="op" id="5835557">*</span><span class="ident" id="5835558">Sym</span><span class="op" id="5835561">,</span>&nbsp;<span class="num" id="5835563">0</span><span class="op" id="5835564">,</span>&nbsp;<span class="ident" id="5835566">na</span><span class="op" id="5835568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835573">fn</span><span class="op" id="5835575">.</span><span class="ident" id="5835576">Sym</span>&nbsp;<span class="op" id="5835580">=</span>&nbsp;<span class="ident" id="5835582">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835589">fn</span><span class="op" id="5835591">.</span><span class="ident" id="5835592">Entry</span>&nbsp;<span class="op" id="5835598">=</span>&nbsp;<span class="ident" id="5835600">sym</span><span class="op" id="5835603">.</span><span class="ident" id="5835604">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835613">fn</span><span class="op" id="5835615">.</span><span class="ident" id="5835616">Obj</span>&nbsp;<span class="op" id="5835620">=</span>&nbsp;<span class="ident" id="5835622">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835629">if</span>&nbsp;<span class="ident" id="5835632">t</span><span class="op" id="5835633">.</span><span class="ident" id="5835634">go12line</span>&nbsp;<span class="op" id="5835643">!=</span>&nbsp;<span class="ident" id="5835646">nil</span>&nbsp;<span class="op" id="5835650">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5835656">//&nbsp;All&nbsp;functions&nbsp;share&nbsp;the&nbsp;same&nbsp;line&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5835704">//&nbsp;It&nbsp;knows&nbsp;how&nbsp;to&nbsp;narrow&nbsp;down&nbsp;to&nbsp;a&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5835753">//&nbsp;function&nbsp;quickly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835778">fn</span><span class="op" id="5835780">.</span><span class="ident" id="5835781">LineTable</span>&nbsp;<span class="op" id="5835791">=</span>&nbsp;<span class="ident" id="5835793">t</span><span class="op" id="5835794">.</span><span class="ident" id="5835795">go12line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835807">}</span>&nbsp;<span class="keyword" id="5835809">else</span>&nbsp;<span class="keyword" id="5835814">if</span>&nbsp;<span class="ident" id="5835817">pcln</span>&nbsp;<span class="op" id="5835822">!=</span>&nbsp;<span class="ident" id="5835825">nil</span>&nbsp;<span class="op" id="5835829">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835835">fn</span><span class="op" id="5835837">.</span><span class="ident" id="5835838">LineTable</span>&nbsp;<span class="op" id="5835848">=</span>&nbsp;<span class="ident" id="5835850">pcln</span><span class="op" id="5835854">.</span><span class="ident" id="5835855">slice</span><span class="op" id="5835860">(</span><span class="ident" id="5835861">fn</span><span class="op" id="5835863">.</span><span class="ident" id="5835864">Entry</span><span class="op" id="5835869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835875">pcln</span>&nbsp;<span class="op" id="5835880">=</span>&nbsp;<span class="ident" id="5835882">fn</span><span class="op" id="5835884">.</span><span class="ident" id="5835885">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835903">for</span>&nbsp;<span class="ident" id="5835907">j</span>&nbsp;<span class="op" id="5835909">:=</span>&nbsp;<span class="ident" id="5835912">i</span><span class="op" id="5835913">;</span>&nbsp;<span class="ident" id="5835915">j</span>&nbsp;<span class="op" id="5835917">&lt;</span>&nbsp;<span class="ident" id="5835919">end</span><span class="op" id="5835922">;</span>&nbsp;<span class="ident" id="5835924">j</span><span class="op" id="5835925">++</span>&nbsp;<span class="op" id="5835928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835934">s</span>&nbsp;<span class="op" id="5835936">:=</span>&nbsp;<span class="op" id="5835939">&amp;</span><span class="ident" id="5835940">t</span><span class="op" id="5835941">.</span><span class="ident" id="5835942">Syms</span><span class="op" id="5835946">[</span><span class="ident" id="5835947">j</span><span class="op" id="5835948">]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835954">switch</span>&nbsp;<span class="ident" id="5835961">s</span><span class="op" id="5835962">.</span><span class="ident" id="5835963">Type</span>&nbsp;<span class="op" id="5835968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835974">case</span>&nbsp;<span class="string" id="5835979">&#39;m&#39;</span><span class="op" id="5835982">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835989">fn</span><span class="op" id="5835991">.</span><span class="ident" id="5835992">FrameSize</span>&nbsp;<span class="op" id="5836002">=</span>&nbsp;<span class="builtintype" id="5836004">int</span><span class="op" id="5836007">(</span><span class="ident" id="5836008">s</span><span class="op" id="5836009">.</span><span class="ident" id="5836010">Value</span><span class="op" id="5836015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836021">case</span>&nbsp;<span class="string" id="5836026">&#39;p&#39;</span><span class="op" id="5836029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836036">n</span>&nbsp;<span class="op" id="5836038">:=</span>&nbsp;<span class="builtinfunc" id="5836041">len</span><span class="op" id="5836044">(</span><span class="ident" id="5836045">fn</span><span class="op" id="5836047">.</span><span class="ident" id="5836048">Params</span><span class="op" id="5836054">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836061">fn</span><span class="op" id="5836063">.</span><span class="ident" id="5836064">Params</span>&nbsp;<span class="op" id="5836071">=</span>&nbsp;<span class="ident" id="5836073">fn</span><span class="op" id="5836075">.</span><span class="ident" id="5836076">Params</span><span class="op" id="5836082">[</span><span class="num" id="5836083">0</span>&nbsp;<span class="op" id="5836085">:</span>&nbsp;<span class="ident" id="5836087">n</span><span class="op" id="5836088">+</span><span class="num" id="5836089">1</span><span class="op" id="5836090">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836097">fn</span><span class="op" id="5836099">.</span><span class="ident" id="5836100">Params</span><span class="op" id="5836106">[</span><span class="ident" id="5836107">n</span><span class="op" id="5836108">]</span>&nbsp;<span class="op" id="5836110">=</span>&nbsp;<span class="ident" id="5836112">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836118">case</span>&nbsp;<span class="string" id="5836123">&#39;a&#39;</span><span class="op" id="5836126">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836133">n</span>&nbsp;<span class="op" id="5836135">:=</span>&nbsp;<span class="builtinfunc" id="5836138">len</span><span class="op" id="5836141">(</span><span class="ident" id="5836142">fn</span><span class="op" id="5836144">.</span><span class="ident" id="5836145">Locals</span><span class="op" id="5836151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836158">fn</span><span class="op" id="5836160">.</span><span class="ident" id="5836161">Locals</span>&nbsp;<span class="op" id="5836168">=</span>&nbsp;<span class="ident" id="5836170">fn</span><span class="op" id="5836172">.</span><span class="ident" id="5836173">Locals</span><span class="op" id="5836179">[</span><span class="num" id="5836180">0</span>&nbsp;<span class="op" id="5836182">:</span>&nbsp;<span class="ident" id="5836184">n</span><span class="op" id="5836185">+</span><span class="num" id="5836186">1</span><span class="op" id="5836187">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836194">fn</span><span class="op" id="5836196">.</span><span class="ident" id="5836197">Locals</span><span class="op" id="5836203">[</span><span class="ident" id="5836204">n</span><span class="op" id="5836205">]</span>&nbsp;<span class="op" id="5836207">=</span>&nbsp;<span class="ident" id="5836209">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5836215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5836220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836225">i</span>&nbsp;<span class="op" id="5836227">=</span>&nbsp;<span class="ident" id="5836229">end</span>&nbsp;<span class="op" id="5836233">-</span>&nbsp;<span class="num" id="5836235">1</span>&nbsp;<span class="comment" id="5836237">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5836256">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5836259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836263">if</span>&nbsp;<span class="ident" id="5836266">t</span><span class="op" id="5836267">.</span><span class="ident" id="5836268">go12line</span>&nbsp;<span class="op" id="5836277">!=</span>&nbsp;<span class="ident" id="5836280">nil</span>&nbsp;<span class="op" id="5836284">&amp;&amp;</span>&nbsp;<span class="ident" id="5836287">nf</span>&nbsp;<span class="op" id="5836290">==</span>&nbsp;<span class="num" id="5836293">0</span>&nbsp;<span class="op" id="5836295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836299">t</span><span class="op" id="5836300">.</span><span class="ident" id="5836301">Funcs</span>&nbsp;<span class="op" id="5836307">=</span>&nbsp;<span class="ident" id="5836309">t</span><span class="op" id="5836310">.</span><span class="ident" id="5836311">go12line</span><span class="op" id="5836319">.</span><span class="ident" id="5836320">go12Funcs</span><span class="op" id="5836329">(</span><span class="op" id="5836330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5836333">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836336">if</span>&nbsp;<span class="ident" id="5836339">obj</span>&nbsp;<span class="op" id="5836343">!=</span>&nbsp;<span class="ident" id="5836346">nil</span>&nbsp;<span class="op" id="5836350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836354">obj</span><span class="op" id="5836357">.</span><span class="ident" id="5836358">Funcs</span>&nbsp;<span class="op" id="5836364">=</span>&nbsp;<span class="ident" id="5836366">t</span><span class="op" id="5836367">.</span><span class="ident" id="5836368">Funcs</span><span class="op" id="5836373">[</span><span class="ident" id="5836374">lastf</span><span class="op" id="5836379">:</span><span class="op" id="5836380">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5836383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836386">return</span>&nbsp;<span class="op" id="5836393">&amp;</span><span class="ident" id="5836394">t</span><span class="op" id="5836395">,</span>&nbsp;<span class="ident" id="5836397">nil</span><br>
<span class="lineno"></span><span class="op" id="5836401">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="5836404">//&nbsp;PCToFunc&nbsp;returns&nbsp;the&nbsp;function&nbsp;containing&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc,</span><br>
<span class="lineno"></span><span class="comment" id="5836472">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="5836512">func</span>&nbsp;<span class="op" id="5836517">(</span><span class="ident" id="5836518">t</span>&nbsp;<span class="op" id="5836520">*</span><span class="ident" id="5836521">Table</span><span class="op" id="5836526">)</span>&nbsp;<span class="ident" id="5836528">PCToFunc</span><span class="op" id="5836536">(</span><span class="ident" id="5836537">pc</span>&nbsp;<span class="ident" id="5836540">uint64</span><span class="op" id="5836546">)</span>&nbsp;<span class="op" id="5836548">*</span><span class="ident" id="5836549">Func</span>&nbsp;<span class="op" id="5836554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836557">funcs</span>&nbsp;<span class="op" id="5836563">:=</span>&nbsp;<span class="ident" id="5836566">t</span><span class="op" id="5836567">.</span><span class="ident" id="5836568">Funcs</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836575">for</span>&nbsp;<span class="builtinfunc" id="5836579">len</span><span class="op" id="5836582">(</span><span class="ident" id="5836583">funcs</span><span class="op" id="5836588">)</span>&nbsp;<span class="op" id="5836590">&gt;</span>&nbsp;<span class="num" id="5836592">0</span>&nbsp;<span class="op" id="5836594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836598">m</span>&nbsp;<span class="op" id="5836600">:=</span>&nbsp;<span class="builtinfunc" id="5836603">len</span><span class="op" id="5836606">(</span><span class="ident" id="5836607">funcs</span><span class="op" id="5836612">)</span>&nbsp;<span class="op" id="5836614">/</span>&nbsp;<span class="num" id="5836616">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836620">fn</span>&nbsp;<span class="op" id="5836623">:=</span>&nbsp;<span class="op" id="5836626">&amp;</span><span class="ident" id="5836627">funcs</span><span class="op" id="5836632">[</span><span class="ident" id="5836633">m</span><span class="op" id="5836634">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836638">switch</span>&nbsp;<span class="op" id="5836645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836649">case</span>&nbsp;<span class="ident" id="5836654">pc</span>&nbsp;<span class="op" id="5836657">&lt;</span>&nbsp;<span class="ident" id="5836659">fn</span><span class="op" id="5836661">.</span><span class="ident" id="5836662">Entry</span><span class="op" id="5836667">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836672">funcs</span>&nbsp;<span class="op" id="5836678">=</span>&nbsp;<span class="ident" id="5836680">funcs</span><span class="op" id="5836685">[</span><span class="num" id="5836686">0</span><span class="op" id="5836687">:</span><span class="ident" id="5836688">m</span><span class="op" id="5836689">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836693">case</span>&nbsp;<span class="ident" id="5836698">fn</span><span class="op" id="5836700">.</span><span class="ident" id="5836701">Entry</span>&nbsp;<span class="op" id="5836707">&lt;=</span>&nbsp;<span class="ident" id="5836710">pc</span>&nbsp;<span class="op" id="5836713">&amp;&amp;</span>&nbsp;<span class="ident" id="5836716">pc</span>&nbsp;<span class="op" id="5836719">&lt;</span>&nbsp;<span class="ident" id="5836721">fn</span><span class="op" id="5836723">.</span><span class="ident" id="5836724">End</span><span class="op" id="5836727">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836732">return</span>&nbsp;<span class="ident" id="5836739">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836744">default</span><span class="op" id="5836751">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836756">funcs</span>&nbsp;<span class="op" id="5836762">=</span>&nbsp;<span class="ident" id="5836764">funcs</span><span class="op" id="5836769">[</span><span class="ident" id="5836770">m</span><span class="op" id="5836771">+</span><span class="num" id="5836772">1</span><span class="op" id="5836773">:</span><span class="op" id="5836774">]</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5836778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5836781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836784">return</span>&nbsp;<span class="ident" id="5836791">nil</span><br>
<span class="lineno"></span><span class="op" id="5836795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="5836798">//&nbsp;PCToLine&nbsp;looks&nbsp;up&nbsp;line&nbsp;number&nbsp;information&nbsp;for&nbsp;a&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span><span class="comment" id="5836866">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;information,&nbsp;it&nbsp;returns&nbsp;fn&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="5836919">func</span>&nbsp;<span class="op" id="5836924">(</span><span class="ident" id="5836925">t</span>&nbsp;<span class="op" id="5836927">*</span><span class="ident" id="5836928">Table</span><span class="op" id="5836933">)</span>&nbsp;<span class="ident" id="5836935">PCToLine</span><span class="op" id="5836943">(</span><span class="ident" id="5836944">pc</span>&nbsp;<span class="ident" id="5836947">uint64</span><span class="op" id="5836953">)</span>&nbsp;<span class="op" id="5836955">(</span><span class="ident" id="5836956">file</span>&nbsp;<span class="builtintype" id="5836961">string</span><span class="op" id="5836967">,</span>&nbsp;<span class="ident" id="5836969">line</span>&nbsp;<span class="builtintype" id="5836974">int</span><span class="op" id="5836977">,</span>&nbsp;<span class="ident" id="5836979">fn</span>&nbsp;<span class="op" id="5836982">*</span><span class="ident" id="5836983">Func</span><span class="op" id="5836987">)</span>&nbsp;<span class="op" id="5836989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836992">if</span>&nbsp;<span class="ident" id="5836995">fn</span>&nbsp;<span class="op" id="5836998">=</span>&nbsp;<span class="ident" id="5837000">t</span><span class="op" id="5837001">.</span><span class="ident" id="5837002">PCToFunc</span><span class="op" id="5837010">(</span><span class="ident" id="5837011">pc</span><span class="op" id="5837013">)</span><span class="op" id="5837014">;</span>&nbsp;<span class="ident" id="5837016">fn</span>&nbsp;<span class="op" id="5837019">==</span>&nbsp;<span class="ident" id="5837022">nil</span>&nbsp;<span class="op" id="5837026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837030">return</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837041">if</span>&nbsp;<span class="ident" id="5837044">t</span><span class="op" id="5837045">.</span><span class="ident" id="5837046">go12line</span>&nbsp;<span class="op" id="5837055">!=</span>&nbsp;<span class="ident" id="5837058">nil</span>&nbsp;<span class="op" id="5837062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837066">file</span>&nbsp;<span class="op" id="5837071">=</span>&nbsp;<span class="ident" id="5837073">t</span><span class="op" id="5837074">.</span><span class="ident" id="5837075">go12line</span><span class="op" id="5837083">.</span><span class="ident" id="5837084">go12PCToFile</span><span class="op" id="5837096">(</span><span class="ident" id="5837097">pc</span><span class="op" id="5837099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837103">line</span>&nbsp;<span class="op" id="5837108">=</span>&nbsp;<span class="ident" id="5837110">t</span><span class="op" id="5837111">.</span><span class="ident" id="5837112">go12line</span><span class="op" id="5837120">.</span><span class="ident" id="5837121">go12PCToLine</span><span class="op" id="5837133">(</span><span class="ident" id="5837134">pc</span><span class="op" id="5837136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837139">}</span>&nbsp;<span class="keyword" id="5837141">else</span>&nbsp;<span class="op" id="5837146">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837150">file</span><span class="op" id="5837154">,</span>&nbsp;<span class="ident" id="5837156">line</span>&nbsp;<span class="op" id="5837161">=</span>&nbsp;<span class="ident" id="5837163">fn</span><span class="op" id="5837165">.</span><span class="ident" id="5837166">Obj</span><span class="op" id="5837169">.</span><span class="ident" id="5837170">lineFromAline</span><span class="op" id="5837183">(</span><span class="ident" id="5837184">fn</span><span class="op" id="5837186">.</span><span class="ident" id="5837187">LineTable</span><span class="op" id="5837196">.</span><span class="ident" id="5837197">PCToLine</span><span class="op" id="5837205">(</span><span class="ident" id="5837206">pc</span><span class="op" id="5837208">)</span><span class="op" id="5837209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837215">return</span><br>
<span class="lineno"></span><span class="op" id="5837222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="comment" id="5837225">//&nbsp;LineToPC&nbsp;looks&nbsp;up&nbsp;the&nbsp;first&nbsp;program&nbsp;counter&nbsp;on&nbsp;the&nbsp;given&nbsp;line&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5837293">//&nbsp;the&nbsp;named&nbsp;file.&nbsp;&nbsp;It&nbsp;returns&nbsp;UnknownPathError&nbsp;or&nbsp;UnknownLineError&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="5837364">//&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;looking&nbsp;up&nbsp;this&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="5837407">func</span>&nbsp;<span class="op" id="5837412">(</span><span class="ident" id="5837413">t</span>&nbsp;<span class="op" id="5837415">*</span><span class="ident" id="5837416">Table</span><span class="op" id="5837421">)</span>&nbsp;<span class="ident" id="5837423">LineToPC</span><span class="op" id="5837431">(</span><span class="ident" id="5837432">file</span>&nbsp;<span class="builtintype" id="5837437">string</span><span class="op" id="5837443">,</span>&nbsp;<span class="ident" id="5837445">line</span>&nbsp;<span class="builtintype" id="5837450">int</span><span class="op" id="5837453">)</span>&nbsp;<span class="op" id="5837455">(</span><span class="ident" id="5837456">pc</span>&nbsp;<span class="ident" id="5837459">uint64</span><span class="op" id="5837465">,</span>&nbsp;<span class="ident" id="5837467">fn</span>&nbsp;<span class="op" id="5837470">*</span><span class="ident" id="5837471">Func</span><span class="op" id="5837475">,</span>&nbsp;<span class="ident" id="5837477">err</span>&nbsp;<span class="builtintype" id="5837481">error</span><span class="op" id="5837486">)</span>&nbsp;<span class="op" id="5837488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837491">obj</span><span class="op" id="5837494">,</span>&nbsp;<span class="ident" id="5837496">ok</span>&nbsp;<span class="op" id="5837499">:=</span>&nbsp;<span class="ident" id="5837502">t</span><span class="op" id="5837503">.</span><span class="ident" id="5837504">Files</span><span class="op" id="5837509">[</span><span class="ident" id="5837510">file</span><span class="op" id="5837514">]</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837517">if</span>&nbsp;<span class="op" id="5837520">!</span><span class="ident" id="5837521">ok</span>&nbsp;<span class="op" id="5837524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837528">return</span>&nbsp;<span class="num" id="5837535">0</span><span class="op" id="5837536">,</span>&nbsp;<span class="ident" id="5837538">nil</span><span class="op" id="5837541">,</span>&nbsp;<span class="ident" id="5837543">UnknownFileError</span><span class="op" id="5837559">(</span><span class="ident" id="5837560">file</span><span class="op" id="5837564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837571">if</span>&nbsp;<span class="ident" id="5837574">t</span><span class="op" id="5837575">.</span><span class="ident" id="5837576">go12line</span>&nbsp;<span class="op" id="5837585">!=</span>&nbsp;<span class="ident" id="5837588">nil</span>&nbsp;<span class="op" id="5837592">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837596">pc</span>&nbsp;<span class="op" id="5837599">:=</span>&nbsp;<span class="ident" id="5837602">t</span><span class="op" id="5837603">.</span><span class="ident" id="5837604">go12line</span><span class="op" id="5837612">.</span><span class="ident" id="5837613">go12LineToPC</span><span class="op" id="5837625">(</span><span class="ident" id="5837626">file</span><span class="op" id="5837630">,</span>&nbsp;<span class="ident" id="5837632">line</span><span class="op" id="5837636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837640">if</span>&nbsp;<span class="ident" id="5837643">pc</span>&nbsp;<span class="op" id="5837646">==</span>&nbsp;<span class="num" id="5837649">0</span>&nbsp;<span class="op" id="5837651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837656">return</span>&nbsp;<span class="num" id="5837663">0</span><span class="op" id="5837664">,</span>&nbsp;<span class="ident" id="5837666">nil</span><span class="op" id="5837669">,</span>&nbsp;<span class="op" id="5837671">&amp;</span><span class="ident" id="5837672">UnknownLineError</span><span class="op" id="5837688">{</span><span class="ident" id="5837689">file</span><span class="op" id="5837693">,</span>&nbsp;<span class="ident" id="5837695">line</span><span class="op" id="5837699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837707">return</span>&nbsp;<span class="ident" id="5837714">pc</span><span class="op" id="5837716">,</span>&nbsp;<span class="ident" id="5837718">t</span><span class="op" id="5837719">.</span><span class="ident" id="5837720">PCToFunc</span><span class="op" id="5837728">(</span><span class="ident" id="5837729">pc</span><span class="op" id="5837731">)</span><span class="op" id="5837732">,</span>&nbsp;<span class="ident" id="5837734">nil</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837743">abs</span><span class="op" id="5837746">,</span>&nbsp;<span class="ident" id="5837748">err</span>&nbsp;<span class="op" id="5837752">:=</span>&nbsp;<span class="ident" id="5837755">obj</span><span class="op" id="5837758">.</span><span class="ident" id="5837759">alineFromLine</span><span class="op" id="5837772">(</span><span class="ident" id="5837773">file</span><span class="op" id="5837777">,</span>&nbsp;<span class="ident" id="5837779">line</span><span class="op" id="5837783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837786">if</span>&nbsp;<span class="ident" id="5837789">err</span>&nbsp;<span class="op" id="5837793">!=</span>&nbsp;<span class="ident" id="5837796">nil</span>&nbsp;<span class="op" id="5837800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837804">return</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837815">for</span>&nbsp;<span class="ident" id="5837819">i</span>&nbsp;<span class="op" id="5837821">:=</span>&nbsp;<span class="keyword" id="5837824">range</span>&nbsp;<span class="ident" id="5837830">obj</span><span class="op" id="5837833">.</span><span class="ident" id="5837834">Funcs</span>&nbsp;<span class="op" id="5837840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837844">f</span>&nbsp;<span class="op" id="5837846">:=</span>&nbsp;<span class="op" id="5837849">&amp;</span><span class="ident" id="5837850">obj</span><span class="op" id="5837853">.</span><span class="ident" id="5837854">Funcs</span><span class="op" id="5837859">[</span><span class="ident" id="5837860">i</span><span class="op" id="5837861">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837865">pc</span>&nbsp;<span class="op" id="5837868">:=</span>&nbsp;<span class="ident" id="5837871">f</span><span class="op" id="5837872">.</span><span class="ident" id="5837873">LineTable</span><span class="op" id="5837882">.</span><span class="ident" id="5837883">LineToPC</span><span class="op" id="5837891">(</span><span class="ident" id="5837892">abs</span><span class="op" id="5837895">,</span>&nbsp;<span class="ident" id="5837897">f</span><span class="op" id="5837898">.</span><span class="ident" id="5837899">End</span><span class="op" id="5837902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837906">if</span>&nbsp;<span class="ident" id="5837909">pc</span>&nbsp;<span class="op" id="5837912">!=</span>&nbsp;<span class="num" id="5837915">0</span>&nbsp;<span class="op" id="5837917">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837922">return</span>&nbsp;<span class="ident" id="5837929">pc</span><span class="op" id="5837931">,</span>&nbsp;<span class="ident" id="5837933">f</span><span class="op" id="5837934">,</span>&nbsp;<span class="ident" id="5837936">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837948">return</span>&nbsp;<span class="num" id="5837955">0</span><span class="op" id="5837956">,</span>&nbsp;<span class="ident" id="5837958">nil</span><span class="op" id="5837961">,</span>&nbsp;<span class="op" id="5837963">&amp;</span><span class="ident" id="5837964">UnknownLineError</span><span class="op" id="5837980">{</span><span class="ident" id="5837981">file</span><span class="op" id="5837985">,</span>&nbsp;<span class="ident" id="5837987">line</span><span class="op" id="5837991">}</span><br>
<span class="lineno"></span><span class="op" id="5837993">}</span><br>
<span class="lineno">535</span><br>
<span class="lineno"></span><span class="comment" id="5837996">//&nbsp;LookupSym&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5838068">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5838106">func</span>&nbsp;<span class="op" id="5838111">(</span><span class="ident" id="5838112">t</span>&nbsp;<span class="op" id="5838114">*</span><span class="ident" id="5838115">Table</span><span class="op" id="5838120">)</span>&nbsp;<span class="ident" id="5838122">LookupSym</span><span class="op" id="5838131">(</span><span class="ident" id="5838132">name</span>&nbsp;<span class="builtintype" id="5838137">string</span><span class="op" id="5838143">)</span>&nbsp;<span class="op" id="5838145">*</span><span class="ident" id="5838146">Sym</span>&nbsp;<span class="op" id="5838150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5838153">//&nbsp;TODO(austin)&nbsp;Maybe&nbsp;make&nbsp;a&nbsp;map</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838187">for</span>&nbsp;<span class="ident" id="5838191">i</span>&nbsp;<span class="op" id="5838193">:=</span>&nbsp;<span class="keyword" id="5838196">range</span>&nbsp;<span class="ident" id="5838202">t</span><span class="op" id="5838203">.</span><span class="ident" id="5838204">Syms</span>&nbsp;<span class="op" id="5838209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838213">s</span>&nbsp;<span class="op" id="5838215">:=</span>&nbsp;<span class="op" id="5838218">&amp;</span><span class="ident" id="5838219">t</span><span class="op" id="5838220">.</span><span class="ident" id="5838221">Syms</span><span class="op" id="5838225">[</span><span class="ident" id="5838226">i</span><span class="op" id="5838227">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838231">switch</span>&nbsp;<span class="ident" id="5838238">s</span><span class="op" id="5838239">.</span><span class="ident" id="5838240">Type</span>&nbsp;<span class="op" id="5838245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838249">case</span>&nbsp;<span class="string" id="5838254">&#39;T&#39;</span><span class="op" id="5838257">,</span>&nbsp;<span class="string" id="5838259">&#39;t&#39;</span><span class="op" id="5838262">,</span>&nbsp;<span class="string" id="5838264">&#39;L&#39;</span><span class="op" id="5838267">,</span>&nbsp;<span class="string" id="5838269">&#39;l&#39;</span><span class="op" id="5838272">,</span>&nbsp;<span class="string" id="5838274">&#39;D&#39;</span><span class="op" id="5838277">,</span>&nbsp;<span class="string" id="5838279">&#39;d&#39;</span><span class="op" id="5838282">,</span>&nbsp;<span class="string" id="5838284">&#39;B&#39;</span><span class="op" id="5838287">,</span>&nbsp;<span class="string" id="5838289">&#39;b&#39;</span><span class="op" id="5838292">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838297">if</span>&nbsp;<span class="ident" id="5838300">s</span><span class="op" id="5838301">.</span><span class="ident" id="5838302">Name</span>&nbsp;<span class="op" id="5838307">==</span>&nbsp;<span class="ident" id="5838310">name</span>&nbsp;<span class="op" id="5838315">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838321">return</span>&nbsp;<span class="ident" id="5838328">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838343">return</span>&nbsp;<span class="ident" id="5838350">nil</span><br>
<span class="lineno">550</span><span class="op" id="5838354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5838357">//&nbsp;LookupFunc&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5838430">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5838468">func</span>&nbsp;<span class="op" id="5838473">(</span><span class="ident" id="5838474">t</span>&nbsp;<span class="op" id="5838476">*</span><span class="ident" id="5838477">Table</span><span class="op" id="5838482">)</span>&nbsp;<span class="ident" id="5838484">LookupFunc</span><span class="op" id="5838494">(</span><span class="ident" id="5838495">name</span>&nbsp;<span class="builtintype" id="5838500">string</span><span class="op" id="5838506">)</span>&nbsp;<span class="op" id="5838508">*</span><span class="ident" id="5838509">Func</span>&nbsp;<span class="op" id="5838514">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838517">for</span>&nbsp;<span class="ident" id="5838521">i</span>&nbsp;<span class="op" id="5838523">:=</span>&nbsp;<span class="keyword" id="5838526">range</span>&nbsp;<span class="ident" id="5838532">t</span><span class="op" id="5838533">.</span><span class="ident" id="5838534">Funcs</span>&nbsp;<span class="op" id="5838540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838544">f</span>&nbsp;<span class="op" id="5838546">:=</span>&nbsp;<span class="op" id="5838549">&amp;</span><span class="ident" id="5838550">t</span><span class="op" id="5838551">.</span><span class="ident" id="5838552">Funcs</span><span class="op" id="5838557">[</span><span class="ident" id="5838558">i</span><span class="op" id="5838559">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838563">if</span>&nbsp;<span class="ident" id="5838566">f</span><span class="op" id="5838567">.</span><span class="ident" id="5838568">Sym</span><span class="op" id="5838571">.</span><span class="ident" id="5838572">Name</span>&nbsp;<span class="op" id="5838577">==</span>&nbsp;<span class="ident" id="5838580">name</span>&nbsp;<span class="op" id="5838585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838590">return</span>&nbsp;<span class="ident" id="5838597">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838601">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838607">return</span>&nbsp;<span class="ident" id="5838614">nil</span><br>
<span class="lineno"></span><span class="op" id="5838618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5838621">//&nbsp;SymByAddr&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;starting&nbsp;at&nbsp;the&nbsp;given&nbsp;address.</span><br>
<span class="lineno">565</span><span class="keyword" id="5838703">func</span>&nbsp;<span class="op" id="5838708">(</span><span class="ident" id="5838709">t</span>&nbsp;<span class="op" id="5838711">*</span><span class="ident" id="5838712">Table</span><span class="op" id="5838717">)</span>&nbsp;<span class="ident" id="5838719">SymByAddr</span><span class="op" id="5838728">(</span><span class="ident" id="5838729">addr</span>&nbsp;<span class="ident" id="5838734">uint64</span><span class="op" id="5838740">)</span>&nbsp;<span class="op" id="5838742">*</span><span class="ident" id="5838743">Sym</span>&nbsp;<span class="op" id="5838747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838750">for</span>&nbsp;<span class="ident" id="5838754">i</span>&nbsp;<span class="op" id="5838756">:=</span>&nbsp;<span class="keyword" id="5838759">range</span>&nbsp;<span class="ident" id="5838765">t</span><span class="op" id="5838766">.</span><span class="ident" id="5838767">Syms</span>&nbsp;<span class="op" id="5838772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838776">s</span>&nbsp;<span class="op" id="5838778">:=</span>&nbsp;<span class="op" id="5838781">&amp;</span><span class="ident" id="5838782">t</span><span class="op" id="5838783">.</span><span class="ident" id="5838784">Syms</span><span class="op" id="5838788">[</span><span class="ident" id="5838789">i</span><span class="op" id="5838790">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838794">switch</span>&nbsp;<span class="ident" id="5838801">s</span><span class="op" id="5838802">.</span><span class="ident" id="5838803">Type</span>&nbsp;<span class="op" id="5838808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838812">case</span>&nbsp;<span class="string" id="5838817">&#39;T&#39;</span><span class="op" id="5838820">,</span>&nbsp;<span class="string" id="5838822">&#39;t&#39;</span><span class="op" id="5838825">,</span>&nbsp;<span class="string" id="5838827">&#39;L&#39;</span><span class="op" id="5838830">,</span>&nbsp;<span class="string" id="5838832">&#39;l&#39;</span><span class="op" id="5838835">,</span>&nbsp;<span class="string" id="5838837">&#39;D&#39;</span><span class="op" id="5838840">,</span>&nbsp;<span class="string" id="5838842">&#39;d&#39;</span><span class="op" id="5838845">,</span>&nbsp;<span class="string" id="5838847">&#39;B&#39;</span><span class="op" id="5838850">,</span>&nbsp;<span class="string" id="5838852">&#39;b&#39;</span><span class="op" id="5838855">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838860">if</span>&nbsp;<span class="ident" id="5838863">s</span><span class="op" id="5838864">.</span><span class="ident" id="5838865">Value</span>&nbsp;<span class="op" id="5838871">==</span>&nbsp;<span class="ident" id="5838874">addr</span>&nbsp;<span class="op" id="5838879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838885">return</span>&nbsp;<span class="ident" id="5838892">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838904">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838907">return</span>&nbsp;<span class="ident" id="5838914">nil</span><br>
<span class="lineno"></span><span class="op" id="5838918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5838921">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Object&nbsp;files<br>
<span class="lineno">580</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5838945">//&nbsp;This&nbsp;is&nbsp;legacy&nbsp;code&nbsp;for&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;which&nbsp;used&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5839007">//&nbsp;Plan&nbsp;9&nbsp;format&nbsp;for&nbsp;pc-line&nbsp;tables.&nbsp;This&nbsp;code&nbsp;was&nbsp;never&nbsp;quite</span><br>
<span class="lineno"></span><span class="comment" id="5839070">//&nbsp;correct.&nbsp;It&#39;s&nbsp;probably&nbsp;very&nbsp;close,&nbsp;and&nbsp;it&#39;s&nbsp;usually&nbsp;correct,&nbsp;but</span><br>
<span class="lineno">585</span><span class="comment" id="5839138">//&nbsp;we&nbsp;never&nbsp;quite&nbsp;found&nbsp;all&nbsp;the&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="5839184">//</span><br>
<span class="lineno"></span><span class="comment" id="5839187">//&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;use&nbsp;a&nbsp;simpler&nbsp;format,&nbsp;documented&nbsp;at&nbsp;golang.org/s/go12symtab.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5839269">func</span>&nbsp;<span class="op" id="5839274">(</span><span class="ident" id="5839275">o</span>&nbsp;<span class="op" id="5839277">*</span><span class="ident" id="5839278">Obj</span><span class="op" id="5839281">)</span>&nbsp;<span class="ident" id="5839283">lineFromAline</span><span class="op" id="5839296">(</span><span class="ident" id="5839297">aline</span>&nbsp;<span class="builtintype" id="5839303">int</span><span class="op" id="5839306">)</span>&nbsp;<span class="op" id="5839308">(</span><span class="builtintype" id="5839309">string</span><span class="op" id="5839315">,</span>&nbsp;<span class="builtintype" id="5839317">int</span><span class="op" id="5839320">)</span>&nbsp;<span class="op" id="5839322">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839325">type</span>&nbsp;<span class="ident" id="5839330">stackEnt</span>&nbsp;<span class="keyword" id="5839339">struct</span>&nbsp;<span class="op" id="5839346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839350">path</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5839357">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839366">start</span>&nbsp;&nbsp;<span class="builtintype" id="5839373">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839379">offset</span>&nbsp;<span class="builtintype" id="5839386">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839392">prev</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5839399">*</span><span class="ident" id="5839400">stackEnt</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839414">noPath</span>&nbsp;<span class="op" id="5839421">:=</span>&nbsp;<span class="op" id="5839424">&amp;</span><span class="ident" id="5839425">stackEnt</span><span class="op" id="5839433">{</span><span class="string" id="5839434">&#34;&#34;</span><span class="op" id="5839436">,</span>&nbsp;<span class="num" id="5839438">0</span><span class="op" id="5839439">,</span>&nbsp;<span class="num" id="5839441">0</span><span class="op" id="5839442">,</span>&nbsp;<span class="ident" id="5839444">nil</span><span class="op" id="5839447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839450">tos</span>&nbsp;<span class="op" id="5839454">:=</span>&nbsp;<span class="ident" id="5839457">noPath</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="ident" id="5839465">pathloop</span><span class="op" id="5839473">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839476">for</span>&nbsp;<span class="ident" id="5839480">_</span><span class="op" id="5839481">,</span>&nbsp;<span class="ident" id="5839483">s</span>&nbsp;<span class="op" id="5839485">:=</span>&nbsp;<span class="keyword" id="5839488">range</span>&nbsp;<span class="ident" id="5839494">o</span><span class="op" id="5839495">.</span><span class="ident" id="5839496">Paths</span>&nbsp;<span class="op" id="5839502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839506">val</span>&nbsp;<span class="op" id="5839510">:=</span>&nbsp;<span class="builtintype" id="5839513">int</span><span class="op" id="5839516">(</span><span class="ident" id="5839517">s</span><span class="op" id="5839518">.</span><span class="ident" id="5839519">Value</span><span class="op" id="5839524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839528">switch</span>&nbsp;<span class="op" id="5839535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839539">case</span>&nbsp;<span class="ident" id="5839544">val</span>&nbsp;<span class="op" id="5839548">&gt;</span>&nbsp;<span class="ident" id="5839550">aline</span><span class="op" id="5839555">:</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839560">break</span>&nbsp;<span class="ident" id="5839566">pathloop</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839578">case</span>&nbsp;<span class="ident" id="5839583">val</span>&nbsp;<span class="op" id="5839587">==</span>&nbsp;<span class="num" id="5839590">1</span><span class="op" id="5839591">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5839596">//&nbsp;Start&nbsp;a&nbsp;new&nbsp;stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839620">tos</span>&nbsp;<span class="op" id="5839624">=</span>&nbsp;<span class="op" id="5839626">&amp;</span><span class="ident" id="5839627">stackEnt</span><span class="op" id="5839635">{</span><span class="ident" id="5839636">s</span><span class="op" id="5839637">.</span><span class="ident" id="5839638">Name</span><span class="op" id="5839642">,</span>&nbsp;<span class="ident" id="5839644">val</span><span class="op" id="5839647">,</span>&nbsp;<span class="num" id="5839649">0</span><span class="op" id="5839650">,</span>&nbsp;<span class="ident" id="5839652">noPath</span><span class="op" id="5839658">}</span><br>
<span class="lineno">610</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839663">case</span>&nbsp;<span class="ident" id="5839668">s</span><span class="op" id="5839669">.</span><span class="ident" id="5839670">Name</span>&nbsp;<span class="op" id="5839675">==</span>&nbsp;<span class="string" id="5839678">&#34;&#34;</span><span class="op" id="5839680">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5839685">//&nbsp;Pop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839695">if</span>&nbsp;<span class="ident" id="5839698">tos</span>&nbsp;<span class="op" id="5839702">==</span>&nbsp;<span class="ident" id="5839705">noPath</span>&nbsp;<span class="op" id="5839712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839718">return</span>&nbsp;<span class="string" id="5839725">&#34;&lt;malformed&nbsp;symbol&nbsp;table&gt;&#34;</span><span class="op" id="5839751">,</span>&nbsp;<span class="num" id="5839753">0</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839763">tos</span><span class="op" id="5839766">.</span><span class="ident" id="5839767">prev</span><span class="op" id="5839771">.</span><span class="ident" id="5839772">offset</span>&nbsp;<span class="op" id="5839779">+=</span>&nbsp;<span class="ident" id="5839782">val</span>&nbsp;<span class="op" id="5839786">-</span>&nbsp;<span class="ident" id="5839788">tos</span><span class="op" id="5839791">.</span><span class="ident" id="5839792">start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839801">tos</span>&nbsp;<span class="op" id="5839805">=</span>&nbsp;<span class="ident" id="5839807">tos</span><span class="op" id="5839810">.</span><span class="ident" id="5839811">prev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839819">default</span><span class="op" id="5839826">:</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5839831">//&nbsp;Push</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839842">tos</span>&nbsp;<span class="op" id="5839846">=</span>&nbsp;<span class="op" id="5839848">&amp;</span><span class="ident" id="5839849">stackEnt</span><span class="op" id="5839857">{</span><span class="ident" id="5839858">s</span><span class="op" id="5839859">.</span><span class="ident" id="5839860">Name</span><span class="op" id="5839864">,</span>&nbsp;<span class="ident" id="5839866">val</span><span class="op" id="5839869">,</span>&nbsp;<span class="num" id="5839871">0</span><span class="op" id="5839872">,</span>&nbsp;<span class="ident" id="5839874">tos</span><span class="op" id="5839877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839888">if</span>&nbsp;<span class="ident" id="5839891">tos</span>&nbsp;<span class="op" id="5839895">==</span>&nbsp;<span class="ident" id="5839898">noPath</span>&nbsp;<span class="op" id="5839905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839909">return</span>&nbsp;<span class="string" id="5839916">&#34;&#34;</span><span class="op" id="5839918">,</span>&nbsp;<span class="num" id="5839920">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839926">return</span>&nbsp;<span class="ident" id="5839933">tos</span><span class="op" id="5839936">.</span><span class="ident" id="5839937">path</span><span class="op" id="5839941">,</span>&nbsp;<span class="ident" id="5839943">aline</span>&nbsp;<span class="op" id="5839949">-</span>&nbsp;<span class="ident" id="5839951">tos</span><span class="op" id="5839954">.</span><span class="ident" id="5839955">start</span>&nbsp;<span class="op" id="5839961">-</span>&nbsp;<span class="ident" id="5839963">tos</span><span class="op" id="5839966">.</span><span class="ident" id="5839967">offset</span>&nbsp;<span class="op" id="5839974">+</span>&nbsp;<span class="num" id="5839976">1</span><br>
<span class="lineno"></span><span class="op" id="5839978">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="5839981">func</span>&nbsp;<span class="op" id="5839986">(</span><span class="ident" id="5839987">o</span>&nbsp;<span class="op" id="5839989">*</span><span class="ident" id="5839990">Obj</span><span class="op" id="5839993">)</span>&nbsp;<span class="ident" id="5839995">alineFromLine</span><span class="op" id="5840008">(</span><span class="ident" id="5840009">path</span>&nbsp;<span class="builtintype" id="5840014">string</span><span class="op" id="5840020">,</span>&nbsp;<span class="ident" id="5840022">line</span>&nbsp;<span class="builtintype" id="5840027">int</span><span class="op" id="5840030">)</span>&nbsp;<span class="op" id="5840032">(</span><span class="builtintype" id="5840033">int</span><span class="op" id="5840036">,</span>&nbsp;<span class="builtintype" id="5840038">error</span><span class="op" id="5840043">)</span>&nbsp;<span class="op" id="5840045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840048">if</span>&nbsp;<span class="ident" id="5840051">line</span>&nbsp;<span class="op" id="5840056">&lt;</span>&nbsp;<span class="num" id="5840058">1</span>&nbsp;<span class="op" id="5840060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840064">return</span>&nbsp;<span class="num" id="5840071">0</span><span class="op" id="5840072">,</span>&nbsp;<span class="op" id="5840074">&amp;</span><span class="ident" id="5840075">UnknownLineError</span><span class="op" id="5840091">{</span><span class="ident" id="5840092">path</span><span class="op" id="5840096">,</span>&nbsp;<span class="ident" id="5840098">line</span><span class="op" id="5840102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5840105">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840109">for</span>&nbsp;<span class="ident" id="5840113">i</span><span class="op" id="5840114">,</span>&nbsp;<span class="ident" id="5840116">s</span>&nbsp;<span class="op" id="5840118">:=</span>&nbsp;<span class="keyword" id="5840121">range</span>&nbsp;<span class="ident" id="5840127">o</span><span class="op" id="5840128">.</span><span class="ident" id="5840129">Paths</span>&nbsp;<span class="op" id="5840135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5840139">//&nbsp;Find&nbsp;this&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840159">if</span>&nbsp;<span class="ident" id="5840162">s</span><span class="op" id="5840163">.</span><span class="ident" id="5840164">Name</span>&nbsp;<span class="op" id="5840169">!=</span>&nbsp;<span class="ident" id="5840172">path</span>&nbsp;<span class="op" id="5840177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840182">continue</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5840193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5840198">//&nbsp;Find&nbsp;this&nbsp;line&nbsp;at&nbsp;this&nbsp;stack&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840238">depth</span>&nbsp;<span class="op" id="5840244">:=</span>&nbsp;<span class="num" id="5840247">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840251">var</span>&nbsp;<span class="ident" id="5840255">incstart</span>&nbsp;<span class="builtintype" id="5840264">int</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840270">line</span>&nbsp;<span class="op" id="5840275">+=</span>&nbsp;<span class="builtintype" id="5840278">int</span><span class="op" id="5840281">(</span><span class="ident" id="5840282">s</span><span class="op" id="5840283">.</span><span class="ident" id="5840284">Value</span><span class="op" id="5840289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840292">pathloop</span><span class="op" id="5840300">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840304">for</span>&nbsp;<span class="ident" id="5840308">_</span><span class="op" id="5840309">,</span>&nbsp;<span class="ident" id="5840311">s</span>&nbsp;<span class="op" id="5840313">:=</span>&nbsp;<span class="keyword" id="5840316">range</span>&nbsp;<span class="ident" id="5840322">o</span><span class="op" id="5840323">.</span><span class="ident" id="5840324">Paths</span><span class="op" id="5840329">[</span><span class="ident" id="5840330">i</span><span class="op" id="5840331">:</span><span class="op" id="5840332">]</span>&nbsp;<span class="op" id="5840334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840339">val</span>&nbsp;<span class="op" id="5840343">:=</span>&nbsp;<span class="builtintype" id="5840346">int</span><span class="op" id="5840349">(</span><span class="ident" id="5840350">s</span><span class="op" id="5840351">.</span><span class="ident" id="5840352">Value</span><span class="op" id="5840357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840362">switch</span>&nbsp;<span class="op" id="5840369">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840374">case</span>&nbsp;<span class="ident" id="5840379">depth</span>&nbsp;<span class="op" id="5840385">==</span>&nbsp;<span class="num" id="5840388">1</span>&nbsp;<span class="op" id="5840390">&amp;&amp;</span>&nbsp;<span class="ident" id="5840393">val</span>&nbsp;<span class="op" id="5840397">&gt;=</span>&nbsp;<span class="ident" id="5840400">line</span><span class="op" id="5840404">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840410">return</span>&nbsp;<span class="ident" id="5840417">line</span>&nbsp;<span class="op" id="5840422">-</span>&nbsp;<span class="num" id="5840424">1</span><span class="op" id="5840425">,</span>&nbsp;<span class="ident" id="5840427">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840435">case</span>&nbsp;<span class="ident" id="5840440">s</span><span class="op" id="5840441">.</span><span class="ident" id="5840442">Name</span>&nbsp;<span class="op" id="5840447">==</span>&nbsp;<span class="string" id="5840450">&#34;&#34;</span><span class="op" id="5840452">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840458">depth</span><span class="op" id="5840463">--</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840470">if</span>&nbsp;<span class="ident" id="5840473">depth</span>&nbsp;<span class="op" id="5840479">==</span>&nbsp;<span class="num" id="5840482">0</span>&nbsp;<span class="op" id="5840484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840491">break</span>&nbsp;<span class="ident" id="5840497">pathloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5840510">}</span>&nbsp;<span class="keyword" id="5840512">else</span>&nbsp;<span class="keyword" id="5840517">if</span>&nbsp;<span class="ident" id="5840520">depth</span>&nbsp;<span class="op" id="5840526">==</span>&nbsp;<span class="num" id="5840529">1</span>&nbsp;<span class="op" id="5840531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840538">line</span>&nbsp;<span class="op" id="5840543">+=</span>&nbsp;<span class="ident" id="5840546">val</span>&nbsp;<span class="op" id="5840550">-</span>&nbsp;<span class="ident" id="5840552">incstart</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5840565">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840571">default</span><span class="op" id="5840578">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840584">if</span>&nbsp;<span class="ident" id="5840587">depth</span>&nbsp;<span class="op" id="5840593">==</span>&nbsp;<span class="num" id="5840596">1</span>&nbsp;<span class="op" id="5840598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840605">incstart</span>&nbsp;<span class="op" id="5840614">=</span>&nbsp;<span class="ident" id="5840616">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5840624">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840630">depth</span><span class="op" id="5840635">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5840641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5840645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840649">return</span>&nbsp;<span class="num" id="5840656">0</span><span class="op" id="5840657">,</span>&nbsp;<span class="op" id="5840659">&amp;</span><span class="ident" id="5840660">UnknownLineError</span><span class="op" id="5840676">{</span><span class="ident" id="5840677">path</span><span class="op" id="5840681">,</span>&nbsp;<span class="ident" id="5840683">line</span><span class="op" id="5840687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5840690">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840693">return</span>&nbsp;<span class="num" id="5840700">0</span><span class="op" id="5840701">,</span>&nbsp;<span class="ident" id="5840703">UnknownFileError</span><span class="op" id="5840719">(</span><span class="ident" id="5840720">path</span><span class="op" id="5840724">)</span><br>
<span class="lineno"></span><span class="op" id="5840726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5840729">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Errors<br>
<span class="lineno">675</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5840747">//&nbsp;UnknownFileError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;find&nbsp;the&nbsp;specific&nbsp;file&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5840817">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5840838">type</span>&nbsp;<span class="ident" id="5840843">UnknownFileError</span>&nbsp;<span class="builtintype" id="5840860">string</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="5840868">func</span>&nbsp;<span class="op" id="5840873">(</span><span class="ident" id="5840874">e</span>&nbsp;<span class="ident" id="5840876">UnknownFileError</span><span class="op" id="5840892">)</span>&nbsp;<span class="ident" id="5840894">Error</span><span class="op" id="5840899">(</span><span class="op" id="5840900">)</span>&nbsp;<span class="builtintype" id="5840902">string</span>&nbsp;<span class="op" id="5840909">{</span>&nbsp;<span class="keyword" id="5840911">return</span>&nbsp;<span class="string" id="5840918">&#34;unknown&nbsp;file:&nbsp;&#34;</span>&nbsp;<span class="op" id="5840935">+</span>&nbsp;<span class="builtintype" id="5840937">string</span><span class="op" id="5840943">(</span><span class="ident" id="5840944">e</span><span class="op" id="5840945">)</span>&nbsp;<span class="op" id="5840947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5840950">//&nbsp;UnknownLineError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;map&nbsp;a&nbsp;line&nbsp;to&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="5841018">//&nbsp;counter,&nbsp;either&nbsp;because&nbsp;the&nbsp;line&nbsp;is&nbsp;beyond&nbsp;the&nbsp;bounds&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno">685</span><span class="comment" id="5841087">//&nbsp;or&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;code&nbsp;on&nbsp;the&nbsp;given&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="5841137">type</span>&nbsp;<span class="ident" id="5841142">UnknownLineError</span>&nbsp;<span class="keyword" id="5841159">struct</span>&nbsp;<span class="op" id="5841166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841169">File</span>&nbsp;<span class="builtintype" id="5841174">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841182">Line</span>&nbsp;<span class="builtintype" id="5841187">int</span><br>
<span class="lineno"></span><span class="op" id="5841191">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span><span class="keyword" id="5841194">func</span>&nbsp;<span class="op" id="5841199">(</span><span class="ident" id="5841200">e</span>&nbsp;<span class="op" id="5841202">*</span><span class="ident" id="5841203">UnknownLineError</span><span class="op" id="5841219">)</span>&nbsp;<span class="ident" id="5841221">Error</span><span class="op" id="5841226">(</span><span class="op" id="5841227">)</span>&nbsp;<span class="builtintype" id="5841229">string</span>&nbsp;<span class="op" id="5841236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5841239">return</span>&nbsp;<span class="string" id="5841246">&#34;no&nbsp;code&nbsp;at&nbsp;&#34;</span>&nbsp;<span class="op" id="5841260">+</span>&nbsp;<span class="ident" id="5841262">e</span><span class="op" id="5841263">.</span><span class="ident" id="5841264">File</span>&nbsp;<span class="op" id="5841269">+</span>&nbsp;<span class="string" id="5841271">&#34;:&#34;</span>&nbsp;<span class="op" id="5841275">+</span>&nbsp;<span class="ident" id="5841277">strconv</span><span class="op" id="5841284">.</span><span class="ident" id="5841285">Itoa</span><span class="op" id="5841289">(</span><span class="ident" id="5841290">e</span><span class="op" id="5841291">.</span><span class="ident" id="5841292">Line</span><span class="op" id="5841296">)</span><br>
<span class="lineno"></span><span class="op" id="5841298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span><span class="comment" id="5841301">//&nbsp;DecodingError&nbsp;represents&nbsp;an&nbsp;error&nbsp;during&nbsp;the&nbsp;decoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5841361">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5841382">type</span>&nbsp;<span class="ident" id="5841387">DecodingError</span>&nbsp;<span class="keyword" id="5841401">struct</span>&nbsp;<span class="op" id="5841408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841411">off</span>&nbsp;<span class="builtintype" id="5841415">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841420">msg</span>&nbsp;<span class="builtintype" id="5841424">string</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841432">val</span>&nbsp;<span class="keyword" id="5841436">interface</span><span class="op" id="5841445">{</span><span class="op" id="5841446">}</span><br>
<span class="lineno"></span><span class="op" id="5841448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5841451">func</span>&nbsp;<span class="op" id="5841456">(</span><span class="ident" id="5841457">e</span>&nbsp;<span class="op" id="5841459">*</span><span class="ident" id="5841460">DecodingError</span><span class="op" id="5841473">)</span>&nbsp;<span class="ident" id="5841475">Error</span><span class="op" id="5841480">(</span><span class="op" id="5841481">)</span>&nbsp;<span class="builtintype" id="5841483">string</span>&nbsp;<span class="op" id="5841490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841493">msg</span>&nbsp;<span class="op" id="5841497">:=</span>&nbsp;<span class="ident" id="5841500">e</span><span class="op" id="5841501">.</span><span class="ident" id="5841502">msg</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5841507">if</span>&nbsp;<span class="ident" id="5841510">e</span><span class="op" id="5841511">.</span><span class="ident" id="5841512">val</span>&nbsp;<span class="op" id="5841516">!=</span>&nbsp;<span class="ident" id="5841519">nil</span>&nbsp;<span class="op" id="5841523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841527">msg</span>&nbsp;<span class="op" id="5841531">+=</span>&nbsp;<span class="ident" id="5841534">fmt</span><span class="op" id="5841537">.</span><span class="ident" id="5841538">Sprintf</span><span class="op" id="5841545">(</span><span class="string" id="5841546">&#34;&nbsp;&#39;%v&#39;&#34;</span><span class="op" id="5841553">,</span>&nbsp;<span class="ident" id="5841555">e</span><span class="op" id="5841556">.</span><span class="ident" id="5841557">val</span><span class="op" id="5841560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5841563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841566">msg</span>&nbsp;<span class="op" id="5841570">+=</span>&nbsp;<span class="ident" id="5841573">fmt</span><span class="op" id="5841576">.</span><span class="ident" id="5841577">Sprintf</span><span class="op" id="5841584">(</span><span class="string" id="5841585">&#34;&nbsp;at&nbsp;byte&nbsp;%#x&#34;</span><span class="op" id="5841599">,</span>&nbsp;<span class="ident" id="5841601">e</span><span class="op" id="5841602">.</span><span class="ident" id="5841603">off</span><span class="op" id="5841606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5841609">return</span>&nbsp;<span class="ident" id="5841616">msg</span><br>
<span class="lineno">710</span><span class="op" id="5841620">}</span>
</div>
</body>
</html>
